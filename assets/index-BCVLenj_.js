var vxe=Object.defineProperty;var eF=n=>{throw TypeError(n)};var wxe=(n,e,r)=>e in n?vxe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var ze=(n,e,r)=>wxe(n,typeof e!="symbol"?e+"":e,r),u6=(n,e,r)=>e.has(n)||eF("Cannot "+r);var ee=(n,e,r)=>(u6(n,e,"read from private field"),r?r.call(n):e.get(n)),ct=(n,e,r)=>e.has(n)?eF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r),Be=(n,e,r,i)=>(u6(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Dt=(n,e,r)=>(u6(n,e,"access private method"),r);var f1=(n,e,r,i)=>({set _(s){Be(n,e,s,r)},get _(){return ee(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var xxe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dse={exports:{}},L2={},hse={exports:{}},an={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=Symbol.for("react.element"),_xe=Symbol.for("react.portal"),Sxe=Symbol.for("react.fragment"),kxe=Symbol.for("react.strict_mode"),Cxe=Symbol.for("react.profiler"),Exe=Symbol.for("react.provider"),Axe=Symbol.for("react.context"),Txe=Symbol.for("react.forward_ref"),Pxe=Symbol.for("react.suspense"),Ixe=Symbol.for("react.memo"),Mxe=Symbol.for("react.lazy"),tF=Symbol.iterator;function Oxe(n){return n===null||typeof n!="object"?null:(n=tF&&n[tF]||n["@@iterator"],typeof n=="function"?n:null)}var fse={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pse=Object.assign,mse={};function B0(n,e,r){this.props=n,this.context=e,this.refs=mse,this.updater=r||fse}B0.prototype.isReactComponent={};B0.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};B0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function gse(){}gse.prototype=B0.prototype;function EN(n,e,r){this.props=n,this.context=e,this.refs=mse,this.updater=r||fse}var AN=EN.prototype=new gse;AN.constructor=EN;pse(AN,B0.prototype);AN.isPureReactComponent=!0;var nF=Array.isArray,bse=Object.prototype.hasOwnProperty,TN={current:null},yse={key:!0,ref:!0,__self:!0,__source:!0};function vse(n,e,r){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)bse.call(e,i)&&!yse.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Ww,type:n,key:o,ref:a,props:s,_owner:TN.current}}function Dxe(n,e){return{$$typeof:Ww,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function PN(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ww}function Rxe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var rF=/\/+/g;function d6(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Rxe(""+n.key):e.toString(36)}function G_(n,e,r,i,s){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Ww:case _xe:a=!0}}if(a)return a=n,s=s(a),n=i===""?"."+d6(a,0):i,nF(s)?(r="",n!=null&&(r=n.replace(rF,"$&/")+"/"),G_(s,e,r,"",function(u){return u})):s!=null&&(PN(s)&&(s=Dxe(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(rF,"$&/")+"/")+n)),e.push(s)),1;if(a=0,i=i===""?".":i+":",nF(n))for(var l=0;l<n.length;l++){o=n[l];var c=i+d6(o,l);a+=G_(o,e,r,c,s)}else if(c=Oxe(n),typeof c=="function")for(n=c.call(n),l=0;!(o=n.next()).done;)o=o.value,c=i+d6(o,l++),a+=G_(o,e,r,c,s);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function p1(n,e,r){if(n==null)return n;var i=[],s=0;return G_(n,i,"","",function(o){return e.call(r,o,s++)}),i}function Nxe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var cs={current:null},Y_={transition:null},jxe={ReactCurrentDispatcher:cs,ReactCurrentBatchConfig:Y_,ReactCurrentOwner:TN};function wse(){throw Error("act(...) is not supported in production builds of React.")}an.Children={map:p1,forEach:function(n,e,r){p1(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return p1(n,function(){e++}),e},toArray:function(n){return p1(n,function(e){return e})||[]},only:function(n){if(!PN(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};an.Component=B0;an.Fragment=Sxe;an.Profiler=Cxe;an.PureComponent=EN;an.StrictMode=kxe;an.Suspense=Pxe;an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jxe;an.act=wse;an.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=pse({},n.props),s=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=TN.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)bse.call(e,c)&&!yse.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Ww,type:n.type,key:s,ref:o,props:i,_owner:a}};an.createContext=function(n){return n={$$typeof:Axe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Exe,_context:n},n.Consumer=n};an.createElement=vse;an.createFactory=function(n){var e=vse.bind(null,n);return e.type=n,e};an.createRef=function(){return{current:null}};an.forwardRef=function(n){return{$$typeof:Txe,render:n}};an.isValidElement=PN;an.lazy=function(n){return{$$typeof:Mxe,_payload:{_status:-1,_result:n},_init:Nxe}};an.memo=function(n,e){return{$$typeof:Ixe,type:n,compare:e===void 0?null:e}};an.startTransition=function(n){var e=Y_.transition;Y_.transition={};try{n()}finally{Y_.transition=e}};an.unstable_act=wse;an.useCallback=function(n,e){return cs.current.useCallback(n,e)};an.useContext=function(n){return cs.current.useContext(n)};an.useDebugValue=function(){};an.useDeferredValue=function(n){return cs.current.useDeferredValue(n)};an.useEffect=function(n,e){return cs.current.useEffect(n,e)};an.useId=function(){return cs.current.useId()};an.useImperativeHandle=function(n,e,r){return cs.current.useImperativeHandle(n,e,r)};an.useInsertionEffect=function(n,e){return cs.current.useInsertionEffect(n,e)};an.useLayoutEffect=function(n,e){return cs.current.useLayoutEffect(n,e)};an.useMemo=function(n,e){return cs.current.useMemo(n,e)};an.useReducer=function(n,e,r){return cs.current.useReducer(n,e,r)};an.useRef=function(n){return cs.current.useRef(n)};an.useState=function(n){return cs.current.useState(n)};an.useSyncExternalStore=function(n,e,r){return cs.current.useSyncExternalStore(n,e,r)};an.useTransition=function(){return cs.current.useTransition()};an.version="18.3.1";hse.exports=an;var A=hse.exports;const B=B2(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bxe=A,Lxe=Symbol.for("react.element"),Fxe=Symbol.for("react.fragment"),$xe=Object.prototype.hasOwnProperty,zxe=Bxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uxe={key:!0,ref:!0,__self:!0,__source:!0};function xse(n,e,r){var i,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)$xe.call(e,i)&&!Uxe.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:Lxe,type:n,key:o,ref:a,props:s,_owner:zxe.current}}L2.Fragment=Fxe;L2.jsx=xse;L2.jsxs=xse;dse.exports=L2;var g=dse.exports,PD={},_se={exports:{}},go={},Sse={exports:{}},kse={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(R,H){var U=R.length;R.push(H);e:for(;0<U;){var K=U-1>>>1,Y=R[K];if(0<s(Y,H))R[K]=H,R[U]=Y,U=K;else break e}}function r(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var H=R[0],U=R.pop();if(U!==H){R[0]=U;e:for(var K=0,Y=R.length,J=Y>>>1;K<J;){var G=2*(K+1)-1,X=R[G],ae=G+1,ge=R[ae];if(0>s(X,U))ae<Y&&0>s(ge,X)?(R[K]=ge,R[ae]=U,K=ae):(R[K]=X,R[G]=U,K=G);else if(ae<Y&&0>s(ge,U))R[K]=ge,R[ae]=U,K=ae;else break e}}return H}function s(R,H){var U=R.sortIndex-H.sortIndex;return U!==0?U:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var H=r(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=R)i(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(u)}}function x(R){if(b=!1,_(R),!m)if(r(c)!==null)m=!0,j(S);else{var H=r(u);H!==null&&N(x,H.startTime-R)}}function S(R,H){m=!1,b&&(b=!1,v(T),T=-1),p=!0;var U=f;try{for(_(H),h=r(c);h!==null&&(!(h.expirationTime>H)||R&&!O());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var Y=K(h.expirationTime<=H);H=n.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(c)&&i(c),_(H)}else i(c);h=r(c)}if(h!==null)var J=!0;else{var G=r(u);G!==null&&N(x,G.startTime-H),J=!1}return J}finally{h=null,f=U,p=!1}}var C=!1,E=null,T=-1,M=5,I=-1;function O(){return!(n.unstable_now()-I<M)}function F(){if(E!==null){var R=n.unstable_now();I=R;var H=!0;try{H=E(!0,R)}finally{H?$():(C=!1,E=null)}}else C=!1}var $;if(typeof w=="function")$=function(){w(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=F,$=function(){D.postMessage(null)}}else $=function(){y(F,0)};function j(R){E=R,C||(C=!0,$())}function N(R,H){T=y(function(){R(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,j(S))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(R){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return R()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=f;f=R;try{return H()}finally{f=U}},n.unstable_scheduleCallback=function(R,H,U){var K=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,R){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,R={id:d++,callback:H,priorityLevel:R,startTime:U,expirationTime:Y,sortIndex:-1},U>K?(R.sortIndex=U,e(u,R),r(c)===null&&R===r(u)&&(b?(v(T),T=-1):b=!0,N(x,U-K))):(R.sortIndex=Y,e(c,R),m||p||(m=!0,j(S))),R},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(R){var H=f;return function(){var U=f;f=H;try{return R.apply(this,arguments)}finally{f=U}}}})(kse);Sse.exports=kse;var Wxe=Sse.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qxe=A,uo=Wxe;function st(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cse=new Set,fv={};function cp(n,e){Wg(n,e),Wg(n+"Capture",e)}function Wg(n,e){for(fv[n]=e,n=0;n<e.length;n++)Cse.add(e[n])}var eu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ID=Object.prototype.hasOwnProperty,Hxe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iF={},sF={};function Vxe(n){return ID.call(sF,n)?!0:ID.call(iF,n)?!1:Hxe.test(n)?sF[n]=!0:(iF[n]=!0,!1)}function Gxe(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Yxe(n,e,r,i){if(e===null||typeof e>"u"||Gxe(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function us(n,e,r,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Si[n]=new us(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Si[e]=new us(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Si[n]=new us(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Si[n]=new us(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Si[n]=new us(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Si[n]=new us(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Si[n]=new us(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Si[n]=new us(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Si[n]=new us(n,5,!1,n.toLowerCase(),null,!1,!1)});var IN=/[\-:]([a-z])/g;function MN(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(IN,MN);Si[e]=new us(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(IN,MN);Si[e]=new us(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(IN,MN);Si[e]=new us(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Si[n]=new us(n,1,!1,n.toLowerCase(),null,!1,!1)});Si.xlinkHref=new us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Si[n]=new us(n,1,!1,n.toLowerCase(),null,!0,!0)});function ON(n,e,r,i){var s=Si.hasOwnProperty(e)?Si[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yxe(e,r,s,i)&&(r=null),i||s===null?Vxe(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):s.mustUseProperty?n[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,i=s.attributeNamespace,r===null?n.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var du=qxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m1=Symbol.for("react.element"),bm=Symbol.for("react.portal"),ym=Symbol.for("react.fragment"),DN=Symbol.for("react.strict_mode"),MD=Symbol.for("react.profiler"),Ese=Symbol.for("react.provider"),Ase=Symbol.for("react.context"),RN=Symbol.for("react.forward_ref"),OD=Symbol.for("react.suspense"),DD=Symbol.for("react.suspense_list"),NN=Symbol.for("react.memo"),Qu=Symbol.for("react.lazy"),Tse=Symbol.for("react.offscreen"),oF=Symbol.iterator;function _b(n){return n===null||typeof n!="object"?null:(n=oF&&n[oF]||n["@@iterator"],typeof n=="function"?n:null)}var dr=Object.assign,h6;function py(n){if(h6===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);h6=e&&e[1]||""}return`
`+h6+n}var f6=!1;function p6(n,e){if(!n||f6)return"";f6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=l);break}}}finally{f6=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?py(n):""}function Kxe(n){switch(n.tag){case 5:return py(n.type);case 16:return py("Lazy");case 13:return py("Suspense");case 19:return py("SuspenseList");case 0:case 2:case 15:return n=p6(n.type,!1),n;case 11:return n=p6(n.type.render,!1),n;case 1:return n=p6(n.type,!0),n;default:return""}}function RD(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ym:return"Fragment";case bm:return"Portal";case MD:return"Profiler";case DN:return"StrictMode";case OD:return"Suspense";case DD:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ase:return(n.displayName||"Context")+".Consumer";case Ese:return(n._context.displayName||"Context")+".Provider";case RN:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case NN:return e=n.displayName||null,e!==null?e:RD(n.type)||"Memo";case Qu:e=n._payload,n=n._init;try{return RD(n(e))}catch{}}return null}function Xxe(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RD(e);case 8:return e===DN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $d(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pse(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qxe(n){var e=Pse(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function g1(n){n._valueTracker||(n._valueTracker=Qxe(n))}function Ise(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=Pse(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function BS(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ND(n,e){var r=e.checked;return dr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function aF(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=$d(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mse(n,e){e=e.checked,e!=null&&ON(n,"checked",e,!1)}function jD(n,e){Mse(n,e);var r=$d(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?BD(n,e.type,r):e.hasOwnProperty("defaultValue")&&BD(n,e.type,$d(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function lF(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function BD(n,e,r){(e!=="number"||BS(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var my=Array.isArray;function Um(n,e,r,i){if(n=n.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<n.length;r++)s=e.hasOwnProperty("$"+n[r].value),n[r].selected!==s&&(n[r].selected=s),s&&i&&(n[r].defaultSelected=!0)}else{for(r=""+$d(r),e=null,s=0;s<n.length;s++){if(n[s].value===r){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function LD(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(st(91));return dr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function cF(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(st(92));if(my(r)){if(1<r.length)throw Error(st(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:$d(r)}}function Ose(n,e){var r=$d(e.value),i=$d(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function uF(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Dse(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FD(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Dse(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var b1,Rse=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(b1=b1||document.createElement("div"),b1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=b1.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function pv(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var jy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jxe=["Webkit","ms","Moz","O"];Object.keys(jy).forEach(function(n){Jxe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),jy[e]=jy[n]})});function Nse(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||jy.hasOwnProperty(n)&&jy[n]?(""+e).trim():e+"px"}function jse(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Nse(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var Zxe=dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $D(n,e){if(e){if(Zxe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(st(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(st(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(st(61))}if(e.style!=null&&typeof e.style!="object")throw Error(st(62))}}function zD(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UD=null;function jN(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var WD=null,Wm=null,qm=null;function dF(n){if(n=Vw(n)){if(typeof WD!="function")throw Error(st(280));var e=n.stateNode;e&&(e=W2(e),WD(n.stateNode,n.type,e))}}function Bse(n){Wm?qm?qm.push(n):qm=[n]:Wm=n}function Lse(){if(Wm){var n=Wm,e=qm;if(qm=Wm=null,dF(n),e)for(n=0;n<e.length;n++)dF(e[n])}}function Fse(n,e){return n(e)}function $se(){}var m6=!1;function zse(n,e,r){if(m6)return n(e,r);m6=!0;try{return Fse(n,e,r)}finally{m6=!1,(Wm!==null||qm!==null)&&($se(),Lse())}}function mv(n,e){var r=n.stateNode;if(r===null)return null;var i=W2(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(st(231,e,typeof r));return r}var qD=!1;if(eu)try{var Sb={};Object.defineProperty(Sb,"passive",{get:function(){qD=!0}}),window.addEventListener("test",Sb,Sb),window.removeEventListener("test",Sb,Sb)}catch{qD=!1}function e1e(n,e,r,i,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var By=!1,LS=null,FS=!1,HD=null,t1e={onError:function(n){By=!0,LS=n}};function n1e(n,e,r,i,s,o,a,l,c){By=!1,LS=null,e1e.apply(t1e,arguments)}function r1e(n,e,r,i,s,o,a,l,c){if(n1e.apply(this,arguments),By){if(By){var u=LS;By=!1,LS=null}else throw Error(st(198));FS||(FS=!0,HD=u)}}function up(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function Use(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function hF(n){if(up(n)!==n)throw Error(st(188))}function i1e(n){var e=n.alternate;if(!e){if(e=up(n),e===null)throw Error(st(188));return e!==n?null:n}for(var r=n,i=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return hF(s),n;if(o===i)return hF(s),e;o=o.sibling}throw Error(st(188))}if(r.return!==i.return)r=s,i=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,i=o;break}if(l===i){a=!0,i=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,i=s;break}if(l===i){a=!0,i=o,r=s;break}l=l.sibling}if(!a)throw Error(st(189))}}if(r.alternate!==i)throw Error(st(190))}if(r.tag!==3)throw Error(st(188));return r.stateNode.current===r?n:e}function Wse(n){return n=i1e(n),n!==null?qse(n):null}function qse(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=qse(n);if(e!==null)return e;n=n.sibling}return null}var Hse=uo.unstable_scheduleCallback,fF=uo.unstable_cancelCallback,s1e=uo.unstable_shouldYield,o1e=uo.unstable_requestPaint,Ar=uo.unstable_now,a1e=uo.unstable_getCurrentPriorityLevel,BN=uo.unstable_ImmediatePriority,Vse=uo.unstable_UserBlockingPriority,$S=uo.unstable_NormalPriority,l1e=uo.unstable_LowPriority,Gse=uo.unstable_IdlePriority,F2=null,Al=null;function c1e(n){if(Al&&typeof Al.onCommitFiberRoot=="function")try{Al.onCommitFiberRoot(F2,n,void 0,(n.current.flags&128)===128)}catch{}}var Ia=Math.clz32?Math.clz32:h1e,u1e=Math.log,d1e=Math.LN2;function h1e(n){return n>>>=0,n===0?32:31-(u1e(n)/d1e|0)|0}var y1=64,v1=4194304;function gy(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zS(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,s=n.suspendedLanes,o=n.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?i=gy(l):(o&=a,o!==0&&(i=gy(o)))}else a=r&~s,a!==0?i=gy(a):o!==0&&(i=gy(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-Ia(e),s=1<<r,i|=n[r],e&=~s;return i}function f1e(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p1e(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-Ia(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&i)&&(s[a]=f1e(l,e)):c<=e&&(n.expiredLanes|=l),o&=~l}}function VD(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yse(){var n=y1;return y1<<=1,!(y1&4194240)&&(y1=64),n}function g6(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function qw(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ia(e),n[e]=r}function m1e(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var s=31-Ia(r),o=1<<s;e[s]=0,i[s]=-1,n[s]=-1,r&=~o}}function LN(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-Ia(r),s=1<<i;s&e|n[i]&e&&(n[i]|=e),r&=~s}}var Mn=0;function Kse(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Xse,FN,Qse,Jse,Zse,GD=!1,w1=[],_d=null,Sd=null,kd=null,gv=new Map,bv=new Map,Zu=[],g1e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pF(n,e){switch(n){case"focusin":case"focusout":_d=null;break;case"dragenter":case"dragleave":Sd=null;break;case"mouseover":case"mouseout":kd=null;break;case"pointerover":case"pointerout":gv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bv.delete(e.pointerId)}}function kb(n,e,r,i,s,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Vw(e),e!==null&&FN(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function b1e(n,e,r,i,s){switch(e){case"focusin":return _d=kb(_d,n,e,r,i,s),!0;case"dragenter":return Sd=kb(Sd,n,e,r,i,s),!0;case"mouseover":return kd=kb(kd,n,e,r,i,s),!0;case"pointerover":var o=s.pointerId;return gv.set(o,kb(gv.get(o)||null,n,e,r,i,s)),!0;case"gotpointercapture":return o=s.pointerId,bv.set(o,kb(bv.get(o)||null,n,e,r,i,s)),!0}return!1}function eoe(n){var e=qh(n.target);if(e!==null){var r=up(e);if(r!==null){if(e=r.tag,e===13){if(e=Use(r),e!==null){n.blockedOn=e,Zse(n.priority,function(){Qse(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function K_(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=YD(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);UD=i,r.target.dispatchEvent(i),UD=null}else return e=Vw(r),e!==null&&FN(e),n.blockedOn=r,!1;e.shift()}return!0}function mF(n,e,r){K_(n)&&r.delete(e)}function y1e(){GD=!1,_d!==null&&K_(_d)&&(_d=null),Sd!==null&&K_(Sd)&&(Sd=null),kd!==null&&K_(kd)&&(kd=null),gv.forEach(mF),bv.forEach(mF)}function Cb(n,e){n.blockedOn===e&&(n.blockedOn=null,GD||(GD=!0,uo.unstable_scheduleCallback(uo.unstable_NormalPriority,y1e)))}function yv(n){function e(s){return Cb(s,n)}if(0<w1.length){Cb(w1[0],n);for(var r=1;r<w1.length;r++){var i=w1[r];i.blockedOn===n&&(i.blockedOn=null)}}for(_d!==null&&Cb(_d,n),Sd!==null&&Cb(Sd,n),kd!==null&&Cb(kd,n),gv.forEach(e),bv.forEach(e),r=0;r<Zu.length;r++)i=Zu[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<Zu.length&&(r=Zu[0],r.blockedOn===null);)eoe(r),r.blockedOn===null&&Zu.shift()}var Hm=du.ReactCurrentBatchConfig,US=!0;function v1e(n,e,r,i){var s=Mn,o=Hm.transition;Hm.transition=null;try{Mn=1,$N(n,e,r,i)}finally{Mn=s,Hm.transition=o}}function w1e(n,e,r,i){var s=Mn,o=Hm.transition;Hm.transition=null;try{Mn=4,$N(n,e,r,i)}finally{Mn=s,Hm.transition=o}}function $N(n,e,r,i){if(US){var s=YD(n,e,r,i);if(s===null)E6(n,e,i,WS,r),pF(n,i);else if(b1e(s,n,e,r,i))i.stopPropagation();else if(pF(n,i),e&4&&-1<g1e.indexOf(n)){for(;s!==null;){var o=Vw(s);if(o!==null&&Xse(o),o=YD(n,e,r,i),o===null&&E6(n,e,i,WS,r),o===s)break;s=o}s!==null&&i.stopPropagation()}else E6(n,e,i,null,r)}}var WS=null;function YD(n,e,r,i){if(WS=null,n=jN(i),n=qh(n),n!==null)if(e=up(n),e===null)n=null;else if(r=e.tag,r===13){if(n=Use(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return WS=n,null}function toe(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a1e()){case BN:return 1;case Vse:return 4;case $S:case l1e:return 16;case Gse:return 536870912;default:return 16}default:return 16}}var gd=null,zN=null,X_=null;function noe(){if(X_)return X_;var n,e=zN,r=e.length,i,s="value"in gd?gd.value:gd.textContent,o=s.length;for(n=0;n<r&&e[n]===s[n];n++);var a=r-n;for(i=1;i<=a&&e[r-i]===s[o-i];i++);return X_=s.slice(n,1<i?1-i:void 0)}function Q_(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function x1(){return!0}function gF(){return!1}function bo(n){function e(r,i,s,o,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(r=n[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?x1:gF,this.isPropagationStopped=gF,this}return dr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=x1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=x1)},persist:function(){},isPersistent:x1}),e}var L0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UN=bo(L0),Hw=dr({},L0,{view:0,detail:0}),x1e=bo(Hw),b6,y6,Eb,$2=dr({},Hw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WN,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Eb&&(Eb&&n.type==="mousemove"?(b6=n.screenX-Eb.screenX,y6=n.screenY-Eb.screenY):y6=b6=0,Eb=n),b6)},movementY:function(n){return"movementY"in n?n.movementY:y6}}),bF=bo($2),_1e=dr({},$2,{dataTransfer:0}),S1e=bo(_1e),k1e=dr({},Hw,{relatedTarget:0}),v6=bo(k1e),C1e=dr({},L0,{animationName:0,elapsedTime:0,pseudoElement:0}),E1e=bo(C1e),A1e=dr({},L0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),T1e=bo(A1e),P1e=dr({},L0,{data:0}),yF=bo(P1e),I1e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M1e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O1e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1e(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=O1e[n])?!!e[n]:!1}function WN(){return D1e}var R1e=dr({},Hw,{key:function(n){if(n.key){var e=I1e[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Q_(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M1e[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WN,charCode:function(n){return n.type==="keypress"?Q_(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Q_(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),N1e=bo(R1e),j1e=dr({},$2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vF=bo(j1e),B1e=dr({},Hw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WN}),L1e=bo(B1e),F1e=dr({},L0,{propertyName:0,elapsedTime:0,pseudoElement:0}),$1e=bo(F1e),z1e=dr({},$2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),U1e=bo(z1e),W1e=[9,13,27,32],qN=eu&&"CompositionEvent"in window,Ly=null;eu&&"documentMode"in document&&(Ly=document.documentMode);var q1e=eu&&"TextEvent"in window&&!Ly,roe=eu&&(!qN||Ly&&8<Ly&&11>=Ly),wF=" ",xF=!1;function ioe(n,e){switch(n){case"keyup":return W1e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function soe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vm=!1;function H1e(n,e){switch(n){case"compositionend":return soe(e);case"keypress":return e.which!==32?null:(xF=!0,wF);case"textInput":return n=e.data,n===wF&&xF?null:n;default:return null}}function V1e(n,e){if(vm)return n==="compositionend"||!qN&&ioe(n,e)?(n=noe(),X_=zN=gd=null,vm=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return roe&&e.locale!=="ko"?null:e.data;default:return null}}var G1e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _F(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!G1e[n.type]:e==="textarea"}function ooe(n,e,r,i){Bse(i),e=qS(e,"onChange"),0<e.length&&(r=new UN("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var Fy=null,vv=null;function Y1e(n){boe(n,0)}function z2(n){var e=_m(n);if(Ise(e))return n}function K1e(n,e){if(n==="change")return e}var aoe=!1;if(eu){var w6;if(eu){var x6="oninput"in document;if(!x6){var SF=document.createElement("div");SF.setAttribute("oninput","return;"),x6=typeof SF.oninput=="function"}w6=x6}else w6=!1;aoe=w6&&(!document.documentMode||9<document.documentMode)}function kF(){Fy&&(Fy.detachEvent("onpropertychange",loe),vv=Fy=null)}function loe(n){if(n.propertyName==="value"&&z2(vv)){var e=[];ooe(e,vv,n,jN(n)),zse(Y1e,e)}}function X1e(n,e,r){n==="focusin"?(kF(),Fy=e,vv=r,Fy.attachEvent("onpropertychange",loe)):n==="focusout"&&kF()}function Q1e(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return z2(vv)}function J1e(n,e){if(n==="click")return z2(e)}function Z1e(n,e){if(n==="input"||n==="change")return z2(e)}function e_e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Da=typeof Object.is=="function"?Object.is:e_e;function wv(n,e){if(Da(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!ID.call(e,s)||!Da(n[s],e[s]))return!1}return!0}function CF(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function EF(n,e){var r=CF(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=CF(r)}}function coe(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?coe(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function uoe(){for(var n=window,e=BS();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=BS(n.document)}return e}function HN(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function t_e(n){var e=uoe(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&coe(r.ownerDocument.documentElement,r)){if(i!==null&&HN(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=r.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!n.extend&&o>i&&(s=i,i=o,o=s),s=EF(r,o);var a=EF(r,i);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var n_e=eu&&"documentMode"in document&&11>=document.documentMode,wm=null,KD=null,$y=null,XD=!1;function AF(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;XD||wm==null||wm!==BS(i)||(i=wm,"selectionStart"in i&&HN(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$y&&wv($y,i)||($y=i,i=qS(KD,"onSelect"),0<i.length&&(e=new UN("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=wm)))}function _1(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var xm={animationend:_1("Animation","AnimationEnd"),animationiteration:_1("Animation","AnimationIteration"),animationstart:_1("Animation","AnimationStart"),transitionend:_1("Transition","TransitionEnd")},_6={},doe={};eu&&(doe=document.createElement("div").style,"AnimationEvent"in window||(delete xm.animationend.animation,delete xm.animationiteration.animation,delete xm.animationstart.animation),"TransitionEvent"in window||delete xm.transitionend.transition);function U2(n){if(_6[n])return _6[n];if(!xm[n])return n;var e=xm[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in doe)return _6[n]=e[r];return n}var hoe=U2("animationend"),foe=U2("animationiteration"),poe=U2("animationstart"),moe=U2("transitionend"),goe=new Map,TF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xd(n,e){goe.set(n,e),cp(e,[n])}for(var S6=0;S6<TF.length;S6++){var k6=TF[S6],r_e=k6.toLowerCase(),i_e=k6[0].toUpperCase()+k6.slice(1);Xd(r_e,"on"+i_e)}Xd(hoe,"onAnimationEnd");Xd(foe,"onAnimationIteration");Xd(poe,"onAnimationStart");Xd("dblclick","onDoubleClick");Xd("focusin","onFocus");Xd("focusout","onBlur");Xd(moe,"onTransitionEnd");Wg("onMouseEnter",["mouseout","mouseover"]);Wg("onMouseLeave",["mouseout","mouseover"]);Wg("onPointerEnter",["pointerout","pointerover"]);Wg("onPointerLeave",["pointerout","pointerover"]);cp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cp("onBeforeInput",["compositionend","keypress","textInput","paste"]);cp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var by="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s_e=new Set("cancel close invalid load scroll toggle".split(" ").concat(by));function PF(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,r1e(i,e,void 0,n),n.currentTarget=null}function boe(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;PF(s,l,u),o=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;PF(s,l,u),o=c}}}if(FS)throw n=HD,FS=!1,HD=null,n}function Yn(n,e){var r=e[t8];r===void 0&&(r=e[t8]=new Set);var i=n+"__bubble";r.has(i)||(yoe(e,n,2,!1),r.add(i))}function C6(n,e,r){var i=0;e&&(i|=4),yoe(r,n,i,e)}var S1="_reactListening"+Math.random().toString(36).slice(2);function xv(n){if(!n[S1]){n[S1]=!0,Cse.forEach(function(r){r!=="selectionchange"&&(s_e.has(r)||C6(r,!1,n),C6(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[S1]||(e[S1]=!0,C6("selectionchange",!1,e))}}function yoe(n,e,r,i){switch(toe(e)){case 1:var s=v1e;break;case 4:s=w1e;break;default:s=$N}r=s.bind(null,e,r,n),s=void 0,!qD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,r,{capture:!0,passive:s}):n.addEventListener(e,r,!0):s!==void 0?n.addEventListener(e,r,{passive:s}):n.addEventListener(e,r,!1)}function E6(n,e,r,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=qh(l),a===null)return;if(c=a.tag,c===5||c===6){i=o=a;continue e}l=l.parentNode}}i=i.return}zse(function(){var u=o,d=jN(r),h=[];e:{var f=goe.get(n);if(f!==void 0){var p=UN,m=n;switch(n){case"keypress":if(Q_(r)===0)break e;case"keydown":case"keyup":p=N1e;break;case"focusin":m="focus",p=v6;break;case"focusout":m="blur",p=v6;break;case"beforeblur":case"afterblur":p=v6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=S1e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L1e;break;case hoe:case foe:case poe:p=E1e;break;case moe:p=$1e;break;case"scroll":p=x1e;break;case"wheel":p=U1e;break;case"copy":case"cut":case"paste":p=T1e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vF}var b=(e&4)!==0,y=!b&&n==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var w=u,_;w!==null;){_=w;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=mv(w,v),x!=null&&b.push(_v(w,x,_)))),y)break;w=w.return}0<b.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&r!==UD&&(m=r.relatedTarget||r.fromElement)&&(qh(m)||m[tu]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?qh(m):null,m!==null&&(y=up(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(b=bF,x="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(b=vF,x="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?f:_m(p),_=m==null?f:_m(m),f=new b(x,w+"leave",p,r,d),f.target=y,f.relatedTarget=_,x=null,qh(d)===u&&(b=new b(v,w+"enter",m,r,d),b.target=_,b.relatedTarget=y,x=b),y=x,p&&m)t:{for(b=p,v=m,w=0,_=b;_;_=Wp(_))w++;for(_=0,x=v;x;x=Wp(x))_++;for(;0<w-_;)b=Wp(b),w--;for(;0<_-w;)v=Wp(v),_--;for(;w--;){if(b===v||v!==null&&b===v.alternate)break t;b=Wp(b),v=Wp(v)}b=null}else b=null;p!==null&&IF(h,f,p,b,!1),m!==null&&y!==null&&IF(h,y,m,b,!0)}}e:{if(f=u?_m(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=K1e;else if(_F(f))if(aoe)S=Z1e;else{S=Q1e;var C=X1e}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=J1e);if(S&&(S=S(n,u))){ooe(h,S,r,d);break e}C&&C(n,f,u),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&BD(f,"number",f.value)}switch(C=u?_m(u):window,n){case"focusin":(_F(C)||C.contentEditable==="true")&&(wm=C,KD=u,$y=null);break;case"focusout":$y=KD=wm=null;break;case"mousedown":XD=!0;break;case"contextmenu":case"mouseup":case"dragend":XD=!1,AF(h,r,d);break;case"selectionchange":if(n_e)break;case"keydown":case"keyup":AF(h,r,d)}var E;if(qN)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else vm?ioe(n,r)&&(T="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(roe&&r.locale!=="ko"&&(vm||T!=="onCompositionStart"?T==="onCompositionEnd"&&vm&&(E=noe()):(gd=d,zN="value"in gd?gd.value:gd.textContent,vm=!0)),C=qS(u,T),0<C.length&&(T=new yF(T,n,null,r,d),h.push({event:T,listeners:C}),E?T.data=E:(E=soe(r),E!==null&&(T.data=E)))),(E=q1e?H1e(n,r):V1e(n,r))&&(u=qS(u,"onBeforeInput"),0<u.length&&(d=new yF("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}boe(h,e)})}function _v(n,e,r){return{instance:n,listener:e,currentTarget:r}}function qS(n,e){for(var r=e+"Capture",i=[];n!==null;){var s=n,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=mv(n,r),o!=null&&i.unshift(_v(n,o,s)),o=mv(n,e),o!=null&&i.push(_v(n,o,s))),n=n.return}return i}function Wp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function IF(n,e,r,i,s){for(var o=e._reactName,a=[];r!==null&&r!==i;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,s?(c=mv(r,o),c!=null&&a.unshift(_v(r,c,l))):s||(c=mv(r,o),c!=null&&a.push(_v(r,c,l)))),r=r.return}a.length!==0&&n.push({event:e,listeners:a})}var o_e=/\r\n?/g,a_e=/\u0000|\uFFFD/g;function MF(n){return(typeof n=="string"?n:""+n).replace(o_e,`
`).replace(a_e,"")}function k1(n,e,r){if(e=MF(e),MF(n)!==e&&r)throw Error(st(425))}function HS(){}var QD=null,JD=null;function ZD(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e8=typeof setTimeout=="function"?setTimeout:void 0,l_e=typeof clearTimeout=="function"?clearTimeout:void 0,OF=typeof Promise=="function"?Promise:void 0,c_e=typeof queueMicrotask=="function"?queueMicrotask:typeof OF<"u"?function(n){return OF.resolve(null).then(n).catch(u_e)}:e8;function u_e(n){setTimeout(function(){throw n})}function A6(n,e){var r=e,i=0;do{var s=r.nextSibling;if(n.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){n.removeChild(s),yv(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);yv(e)}function Cd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function DF(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var F0=Math.random().toString(36).slice(2),vl="__reactFiber$"+F0,Sv="__reactProps$"+F0,tu="__reactContainer$"+F0,t8="__reactEvents$"+F0,d_e="__reactListeners$"+F0,h_e="__reactHandles$"+F0;function qh(n){var e=n[vl];if(e)return e;for(var r=n.parentNode;r;){if(e=r[tu]||r[vl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=DF(n);n!==null;){if(r=n[vl])return r;n=DF(n)}return e}n=r,r=n.parentNode}return null}function Vw(n){return n=n[vl]||n[tu],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function _m(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(st(33))}function W2(n){return n[Sv]||null}var n8=[],Sm=-1;function Qd(n){return{current:n}}function Xn(n){0>Sm||(n.current=n8[Sm],n8[Sm]=null,Sm--)}function Wn(n,e){Sm++,n8[Sm]=n.current,n.current=e}var zd={},Li=Qd(zd),Ps=Qd(!1),Df=zd;function qg(n,e){var r=n.type.contextTypes;if(!r)return zd;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Is(n){return n=n.childContextTypes,n!=null}function VS(){Xn(Ps),Xn(Li)}function RF(n,e,r){if(Li.current!==zd)throw Error(st(168));Wn(Li,e),Wn(Ps,r)}function voe(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(st(108,Xxe(n)||"Unknown",s));return dr({},r,i)}function GS(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||zd,Df=Li.current,Wn(Li,n),Wn(Ps,Ps.current),!0}function NF(n,e,r){var i=n.stateNode;if(!i)throw Error(st(169));r?(n=voe(n,e,Df),i.__reactInternalMemoizedMergedChildContext=n,Xn(Ps),Xn(Li),Wn(Li,n)):Xn(Ps),Wn(Ps,r)}var yc=null,q2=!1,T6=!1;function woe(n){yc===null?yc=[n]:yc.push(n)}function f_e(n){q2=!0,woe(n)}function Jd(){if(!T6&&yc!==null){T6=!0;var n=0,e=Mn;try{var r=yc;for(Mn=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}yc=null,q2=!1}catch(s){throw yc!==null&&(yc=yc.slice(n+1)),Hse(BN,Jd),s}finally{Mn=e,T6=!1}}return null}var km=[],Cm=0,YS=null,KS=0,qo=[],Ho=0,Rf=null,Dc=1,Rc="";function Ph(n,e){km[Cm++]=KS,km[Cm++]=YS,YS=n,KS=e}function xoe(n,e,r){qo[Ho++]=Dc,qo[Ho++]=Rc,qo[Ho++]=Rf,Rf=n;var i=Dc;n=Rc;var s=32-Ia(i)-1;i&=~(1<<s),r+=1;var o=32-Ia(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Dc=1<<32-Ia(e)+s|r<<s|i,Rc=o+n}else Dc=1<<o|r<<s|i,Rc=n}function VN(n){n.return!==null&&(Ph(n,1),xoe(n,1,0))}function GN(n){for(;n===YS;)YS=km[--Cm],km[Cm]=null,KS=km[--Cm],km[Cm]=null;for(;n===Rf;)Rf=qo[--Ho],qo[Ho]=null,Rc=qo[--Ho],qo[Ho]=null,Dc=qo[--Ho],qo[Ho]=null}var io=null,ro=null,sr=!1,ka=null;function _oe(n,e){var r=Yo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function jF(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,io=n,ro=Cd(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,io=n,ro=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rf!==null?{id:Dc,overflow:Rc}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Yo(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,io=n,ro=null,!0):!1;default:return!1}}function r8(n){return(n.mode&1)!==0&&(n.flags&128)===0}function i8(n){if(sr){var e=ro;if(e){var r=e;if(!jF(n,e)){if(r8(n))throw Error(st(418));e=Cd(r.nextSibling);var i=io;e&&jF(n,e)?_oe(i,r):(n.flags=n.flags&-4097|2,sr=!1,io=n)}}else{if(r8(n))throw Error(st(418));n.flags=n.flags&-4097|2,sr=!1,io=n}}}function BF(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;io=n}function C1(n){if(n!==io)return!1;if(!sr)return BF(n),sr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ZD(n.type,n.memoizedProps)),e&&(e=ro)){if(r8(n))throw Soe(),Error(st(418));for(;e;)_oe(n,e),e=Cd(e.nextSibling)}if(BF(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(st(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){ro=Cd(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}ro=null}}else ro=io?Cd(n.stateNode.nextSibling):null;return!0}function Soe(){for(var n=ro;n;)n=Cd(n.nextSibling)}function Hg(){ro=io=null,sr=!1}function YN(n){ka===null?ka=[n]:ka.push(n)}var p_e=du.ReactCurrentBatchConfig;function Ab(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(st(309));var i=r.stateNode}if(!i)throw Error(st(147,n));var s=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(st(284));if(!r._owner)throw Error(st(290,n))}return n}function E1(n,e){throw n=Object.prototype.toString.call(e),Error(st(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function LF(n){var e=n._init;return e(n._payload)}function koe(n){function e(v,w){if(n){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function r(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function i(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Pd(v,w),v.index=0,v.sibling=null,v}function o(v,w,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function l(v,w,_,x){return w===null||w.tag!==6?(w=N6(_,v.mode,x),w.return=v,w):(w=s(w,_),w.return=v,w)}function c(v,w,_,x){var S=_.type;return S===ym?d(v,w,_.props.children,x,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qu&&LF(S)===w.type)?(x=s(w,_.props),x.ref=Ab(v,w,_),x.return=v,x):(x=iS(_.type,_.key,_.props,null,v.mode,x),x.ref=Ab(v,w,_),x.return=v,x)}function u(v,w,_,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=j6(_,v.mode,x),w.return=v,w):(w=s(w,_.children||[]),w.return=v,w)}function d(v,w,_,x,S){return w===null||w.tag!==7?(w=vf(_,v.mode,x,S),w.return=v,w):(w=s(w,_),w.return=v,w)}function h(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=N6(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case m1:return _=iS(w.type,w.key,w.props,null,v.mode,_),_.ref=Ab(v,null,w),_.return=v,_;case bm:return w=j6(w,v.mode,_),w.return=v,w;case Qu:var x=w._init;return h(v,x(w._payload),_)}if(my(w)||_b(w))return w=vf(w,v.mode,_,null),w.return=v,w;E1(v,w)}return null}function f(v,w,_,x){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:l(v,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case m1:return _.key===S?c(v,w,_,x):null;case bm:return _.key===S?u(v,w,_,x):null;case Qu:return S=_._init,f(v,w,S(_._payload),x)}if(my(_)||_b(_))return S!==null?null:d(v,w,_,x,null);E1(v,_)}return null}function p(v,w,_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(_)||null,l(w,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case m1:return v=v.get(x.key===null?_:x.key)||null,c(w,v,x,S);case bm:return v=v.get(x.key===null?_:x.key)||null,u(w,v,x,S);case Qu:var C=x._init;return p(v,w,_,C(x._payload),S)}if(my(x)||_b(x))return v=v.get(_)||null,d(w,v,x,S,null);E1(w,x)}return null}function m(v,w,_,x){for(var S=null,C=null,E=w,T=w=0,M=null;E!==null&&T<_.length;T++){E.index>T?(M=E,E=null):M=E.sibling;var I=f(v,E,_[T],x);if(I===null){E===null&&(E=M);break}n&&E&&I.alternate===null&&e(v,E),w=o(I,w,T),C===null?S=I:C.sibling=I,C=I,E=M}if(T===_.length)return r(v,E),sr&&Ph(v,T),S;if(E===null){for(;T<_.length;T++)E=h(v,_[T],x),E!==null&&(w=o(E,w,T),C===null?S=E:C.sibling=E,C=E);return sr&&Ph(v,T),S}for(E=i(v,E);T<_.length;T++)M=p(E,v,T,_[T],x),M!==null&&(n&&M.alternate!==null&&E.delete(M.key===null?T:M.key),w=o(M,w,T),C===null?S=M:C.sibling=M,C=M);return n&&E.forEach(function(O){return e(v,O)}),sr&&Ph(v,T),S}function b(v,w,_,x){var S=_b(_);if(typeof S!="function")throw Error(st(150));if(_=S.call(_),_==null)throw Error(st(151));for(var C=S=null,E=w,T=w=0,M=null,I=_.next();E!==null&&!I.done;T++,I=_.next()){E.index>T?(M=E,E=null):M=E.sibling;var O=f(v,E,I.value,x);if(O===null){E===null&&(E=M);break}n&&E&&O.alternate===null&&e(v,E),w=o(O,w,T),C===null?S=O:C.sibling=O,C=O,E=M}if(I.done)return r(v,E),sr&&Ph(v,T),S;if(E===null){for(;!I.done;T++,I=_.next())I=h(v,I.value,x),I!==null&&(w=o(I,w,T),C===null?S=I:C.sibling=I,C=I);return sr&&Ph(v,T),S}for(E=i(v,E);!I.done;T++,I=_.next())I=p(E,v,T,I.value,x),I!==null&&(n&&I.alternate!==null&&E.delete(I.key===null?T:I.key),w=o(I,w,T),C===null?S=I:C.sibling=I,C=I);return n&&E.forEach(function(F){return e(v,F)}),sr&&Ph(v,T),S}function y(v,w,_,x){if(typeof _=="object"&&_!==null&&_.type===ym&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case m1:e:{for(var S=_.key,C=w;C!==null;){if(C.key===S){if(S=_.type,S===ym){if(C.tag===7){r(v,C.sibling),w=s(C,_.props.children),w.return=v,v=w;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qu&&LF(S)===C.type){r(v,C.sibling),w=s(C,_.props),w.ref=Ab(v,C,_),w.return=v,v=w;break e}r(v,C);break}else e(v,C);C=C.sibling}_.type===ym?(w=vf(_.props.children,v.mode,x,_.key),w.return=v,v=w):(x=iS(_.type,_.key,_.props,null,v.mode,x),x.ref=Ab(v,w,_),x.return=v,v=x)}return a(v);case bm:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(v,w.sibling),w=s(w,_.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else e(v,w);w=w.sibling}w=j6(_,v.mode,x),w.return=v,v=w}return a(v);case Qu:return C=_._init,y(v,w,C(_._payload),x)}if(my(_))return m(v,w,_,x);if(_b(_))return b(v,w,_,x);E1(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(v,w.sibling),w=s(w,_),w.return=v,v=w):(r(v,w),w=N6(_,v.mode,x),w.return=v,v=w),a(v)):r(v,w)}return y}var Vg=koe(!0),Coe=koe(!1),XS=Qd(null),QS=null,Em=null,KN=null;function XN(){KN=Em=QS=null}function QN(n){var e=XS.current;Xn(XS),n._currentValue=e}function s8(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function Vm(n,e){QS=n,KN=Em=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Es=!0),n.firstContext=null)}function ea(n){var e=n._currentValue;if(KN!==n)if(n={context:n,memoizedValue:e,next:null},Em===null){if(QS===null)throw Error(st(308));Em=n,QS.dependencies={lanes:0,firstContext:n}}else Em=Em.next=n;return e}var Hh=null;function JN(n){Hh===null?Hh=[n]:Hh.push(n)}function Eoe(n,e,r,i){var s=e.interleaved;return s===null?(r.next=r,JN(e)):(r.next=s.next,s.next=r),e.interleaved=r,nu(n,i)}function nu(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var Ju=!1;function ZN(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aoe(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function $c(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ed(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,yn&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,nu(n,r)}return s=i.interleaved,s===null?(e.next=e,JN(i)):(e.next=s.next,s.next=e),i.interleaved=e,nu(n,r)}function J_(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,LN(n,r)}}function FF(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function JS(n,e,r,i){var s=n.updateQueue;Ju=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;a=0,d=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=n,b=l;switch(f=e,p=r,b.tag){case 1:if(m=b.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=dr({},h,f);break e;case 2:Ju=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);jf|=a,n.lanes=a,n.memoizedState=h}}function $F(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(st(191,s));s.call(i)}}}var Gw={},Tl=Qd(Gw),kv=Qd(Gw),Cv=Qd(Gw);function Vh(n){if(n===Gw)throw Error(st(174));return n}function ej(n,e){switch(Wn(Cv,e),Wn(kv,n),Wn(Tl,Gw),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FD(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=FD(e,n)}Xn(Tl),Wn(Tl,e)}function Gg(){Xn(Tl),Xn(kv),Xn(Cv)}function Toe(n){Vh(Cv.current);var e=Vh(Tl.current),r=FD(e,n.type);e!==r&&(Wn(kv,n),Wn(Tl,r))}function tj(n){kv.current===n&&(Xn(Tl),Xn(kv))}var cr=Qd(0);function ZS(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var P6=[];function nj(){for(var n=0;n<P6.length;n++)P6[n]._workInProgressVersionPrimary=null;P6.length=0}var Z_=du.ReactCurrentDispatcher,I6=du.ReactCurrentBatchConfig,Nf=0,ur=null,$r=null,Jr=null,ek=!1,zy=!1,Ev=0,m_e=0;function Ti(){throw Error(st(321))}function rj(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!Da(n[r],e[r]))return!1;return!0}function ij(n,e,r,i,s,o){if(Nf=o,ur=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Z_.current=n===null||n.memoizedState===null?v_e:w_e,n=r(i,s),zy){o=0;do{if(zy=!1,Ev=0,25<=o)throw Error(st(301));o+=1,Jr=$r=null,e.updateQueue=null,Z_.current=x_e,n=r(i,s)}while(zy)}if(Z_.current=tk,e=$r!==null&&$r.next!==null,Nf=0,Jr=$r=ur=null,ek=!1,e)throw Error(st(300));return n}function sj(){var n=Ev!==0;return Ev=0,n}function ll(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?ur.memoizedState=Jr=n:Jr=Jr.next=n,Jr}function ta(){if($r===null){var n=ur.alternate;n=n!==null?n.memoizedState:null}else n=$r.next;var e=Jr===null?ur.memoizedState:Jr.next;if(e!==null)Jr=e,$r=n;else{if(n===null)throw Error(st(310));$r=n,n={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Jr===null?ur.memoizedState=Jr=n:Jr=Jr.next=n}return Jr}function Av(n,e){return typeof e=="function"?e(n):e}function M6(n){var e=ta(),r=e.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=n;var i=$r,s=i.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,i=i.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Nf&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=i):c=c.next=h,ur.lanes|=d,jf|=d}u=u.next}while(u!==null&&u!==o);c===null?a=i:c.next=l,Da(i,e.memoizedState)||(Es=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}if(n=r.interleaved,n!==null){s=n;do o=s.lane,ur.lanes|=o,jf|=o,s=s.next;while(s!==n)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function O6(n){var e=ta(),r=e.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=n;var i=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=n(o,a.action),a=a.next;while(a!==s);Da(o,e.memoizedState)||(Es=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function Poe(){}function Ioe(n,e){var r=ur,i=ta(),s=e(),o=!Da(i.memoizedState,s);if(o&&(i.memoizedState=s,Es=!0),i=i.queue,oj(Doe.bind(null,r,i,n),[n]),i.getSnapshot!==e||o||Jr!==null&&Jr.memoizedState.tag&1){if(r.flags|=2048,Tv(9,Ooe.bind(null,r,i,s,e),void 0,null),si===null)throw Error(st(349));Nf&30||Moe(r,e,s)}return s}function Moe(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=ur.updateQueue,e===null?(e={lastEffect:null,stores:null},ur.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function Ooe(n,e,r,i){e.value=r,e.getSnapshot=i,Roe(e)&&Noe(n)}function Doe(n,e,r){return r(function(){Roe(e)&&Noe(n)})}function Roe(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!Da(n,r)}catch{return!0}}function Noe(n){var e=nu(n,1);e!==null&&Ma(e,n,1,-1)}function zF(n){var e=ll();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Av,lastRenderedState:n},e.queue=n,n=n.dispatch=y_e.bind(null,ur,n),[e.memoizedState,n]}function Tv(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=ur.updateQueue,e===null?(e={lastEffect:null,stores:null},ur.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function joe(){return ta().memoizedState}function eS(n,e,r,i){var s=ll();ur.flags|=n,s.memoizedState=Tv(1|e,r,void 0,i===void 0?null:i)}function H2(n,e,r,i){var s=ta();i=i===void 0?null:i;var o=void 0;if($r!==null){var a=$r.memoizedState;if(o=a.destroy,i!==null&&rj(i,a.deps)){s.memoizedState=Tv(e,r,o,i);return}}ur.flags|=n,s.memoizedState=Tv(1|e,r,o,i)}function UF(n,e){return eS(8390656,8,n,e)}function oj(n,e){return H2(2048,8,n,e)}function Boe(n,e){return H2(4,2,n,e)}function Loe(n,e){return H2(4,4,n,e)}function Foe(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function $oe(n,e,r){return r=r!=null?r.concat([n]):null,H2(4,4,Foe.bind(null,e,n),r)}function aj(){}function zoe(n,e){var r=ta();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&rj(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function Uoe(n,e){var r=ta();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&rj(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function Woe(n,e,r){return Nf&21?(Da(r,e)||(r=Yse(),ur.lanes|=r,jf|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Es=!0),n.memoizedState=r)}function g_e(n,e){var r=Mn;Mn=r!==0&&4>r?r:4,n(!0);var i=I6.transition;I6.transition={};try{n(!1),e()}finally{Mn=r,I6.transition=i}}function qoe(){return ta().memoizedState}function b_e(n,e,r){var i=Td(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Hoe(n))Voe(e,r);else if(r=Eoe(n,e,r,i),r!==null){var s=rs();Ma(r,n,i,s),Goe(r,e,i)}}function y_e(n,e,r){var i=Td(n),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hoe(n))Voe(e,s);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,Da(l,a)){var c=e.interleaved;c===null?(s.next=s,JN(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Eoe(n,e,s,i),r!==null&&(s=rs(),Ma(r,n,i,s),Goe(r,e,i))}}function Hoe(n){var e=n.alternate;return n===ur||e!==null&&e===ur}function Voe(n,e){zy=ek=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function Goe(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,LN(n,r)}}var tk={readContext:ea,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},v_e={readContext:ea,useCallback:function(n,e){return ll().memoizedState=[n,e===void 0?null:e],n},useContext:ea,useEffect:UF,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,eS(4194308,4,Foe.bind(null,e,n),r)},useLayoutEffect:function(n,e){return eS(4194308,4,n,e)},useInsertionEffect:function(n,e){return eS(4,2,n,e)},useMemo:function(n,e){var r=ll();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=ll();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=b_e.bind(null,ur,n),[i.memoizedState,n]},useRef:function(n){var e=ll();return n={current:n},e.memoizedState=n},useState:zF,useDebugValue:aj,useDeferredValue:function(n){return ll().memoizedState=n},useTransition:function(){var n=zF(!1),e=n[0];return n=g_e.bind(null,n[1]),ll().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=ur,s=ll();if(sr){if(r===void 0)throw Error(st(407));r=r()}else{if(r=e(),si===null)throw Error(st(349));Nf&30||Moe(i,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,UF(Doe.bind(null,i,o,n),[n]),i.flags|=2048,Tv(9,Ooe.bind(null,i,o,r,e),void 0,null),r},useId:function(){var n=ll(),e=si.identifierPrefix;if(sr){var r=Rc,i=Dc;r=(i&~(1<<32-Ia(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ev++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=m_e++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},w_e={readContext:ea,useCallback:zoe,useContext:ea,useEffect:oj,useImperativeHandle:$oe,useInsertionEffect:Boe,useLayoutEffect:Loe,useMemo:Uoe,useReducer:M6,useRef:joe,useState:function(){return M6(Av)},useDebugValue:aj,useDeferredValue:function(n){var e=ta();return Woe(e,$r.memoizedState,n)},useTransition:function(){var n=M6(Av)[0],e=ta().memoizedState;return[n,e]},useMutableSource:Poe,useSyncExternalStore:Ioe,useId:qoe,unstable_isNewReconciler:!1},x_e={readContext:ea,useCallback:zoe,useContext:ea,useEffect:oj,useImperativeHandle:$oe,useInsertionEffect:Boe,useLayoutEffect:Loe,useMemo:Uoe,useReducer:O6,useRef:joe,useState:function(){return O6(Av)},useDebugValue:aj,useDeferredValue:function(n){var e=ta();return $r===null?e.memoizedState=n:Woe(e,$r.memoizedState,n)},useTransition:function(){var n=O6(Av)[0],e=ta().memoizedState;return[n,e]},useMutableSource:Poe,useSyncExternalStore:Ioe,useId:qoe,unstable_isNewReconciler:!1};function ba(n,e){if(n&&n.defaultProps){e=dr({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function o8(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:dr({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var V2={isMounted:function(n){return(n=n._reactInternals)?up(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=rs(),s=Td(n),o=$c(i,s);o.payload=e,r!=null&&(o.callback=r),e=Ed(n,o,s),e!==null&&(Ma(e,n,s,i),J_(e,n,s))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=rs(),s=Td(n),o=$c(i,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Ed(n,o,s),e!==null&&(Ma(e,n,s,i),J_(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=rs(),i=Td(n),s=$c(r,i);s.tag=2,e!=null&&(s.callback=e),e=Ed(n,s,i),e!==null&&(Ma(e,n,i,r),J_(e,n,i))}};function WF(n,e,r,i,s,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!wv(r,i)||!wv(s,o):!0}function Yoe(n,e,r){var i=!1,s=zd,o=e.contextType;return typeof o=="object"&&o!==null?o=ea(o):(s=Is(e)?Df:Li.current,i=e.contextTypes,o=(i=i!=null)?qg(n,s):zd),e=new e(r,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=V2,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=o),e}function qF(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&V2.enqueueReplaceState(e,e.state,null)}function a8(n,e,r,i){var s=n.stateNode;s.props=r,s.state=n.memoizedState,s.refs={},ZN(n);var o=e.contextType;typeof o=="object"&&o!==null?s.context=ea(o):(o=Is(e)?Df:Li.current,s.context=qg(n,o)),s.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(o8(n,e,o,r),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&V2.enqueueReplaceState(s,s.state,null),JS(n,r,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Yg(n,e){try{var r="",i=e;do r+=Kxe(i),i=i.return;while(i);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:s,digest:null}}function D6(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function l8(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var __e=typeof WeakMap=="function"?WeakMap:Map;function Koe(n,e,r){r=$c(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){rk||(rk=!0,y8=i),l8(n,e)},r}function Xoe(n,e,r){r=$c(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;r.payload=function(){return i(s)},r.callback=function(){l8(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){l8(n,e),typeof i!="function"&&(Ad===null?Ad=new Set([this]):Ad.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function HF(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new __e;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(r)||(s.add(r),n=j_e.bind(null,n,e,r),e.then(n,n))}function VF(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function GF(n,e,r,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=$c(-1,1),e.tag=2,Ed(r,e,1))),r.lanes|=1),n)}var S_e=du.ReactCurrentOwner,Es=!1;function Ki(n,e,r,i){e.child=n===null?Coe(e,null,r,i):Vg(e,n.child,r,i)}function YF(n,e,r,i,s){r=r.render;var o=e.ref;return Vm(e,s),i=ij(n,e,r,i,o,s),r=sj(),n!==null&&!Es?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,ru(n,e,s)):(sr&&r&&VN(e),e.flags|=1,Ki(n,e,i,s),e.child)}function KF(n,e,r,i,s){if(n===null){var o=r.type;return typeof o=="function"&&!mj(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Qoe(n,e,o,i,s)):(n=iS(r.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:wv,r(a,i)&&n.ref===e.ref)return ru(n,e,s)}return e.flags|=1,n=Pd(o,i),n.ref=e.ref,n.return=e,e.child=n}function Qoe(n,e,r,i,s){if(n!==null){var o=n.memoizedProps;if(wv(o,i)&&n.ref===e.ref)if(Es=!1,e.pendingProps=i=o,(n.lanes&s)!==0)n.flags&131072&&(Es=!0);else return e.lanes=n.lanes,ru(n,e,s)}return c8(n,e,r,i,s)}function Joe(n,e,r){var i=e.pendingProps,s=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Tm,Xs),Xs|=r;else{if(!(r&1073741824))return n=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Wn(Tm,Xs),Xs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,Wn(Tm,Xs),Xs|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,Wn(Tm,Xs),Xs|=i;return Ki(n,e,s,r),e.child}function Zoe(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function c8(n,e,r,i,s){var o=Is(r)?Df:Li.current;return o=qg(e,o),Vm(e,s),r=ij(n,e,r,i,o,s),i=sj(),n!==null&&!Es?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,ru(n,e,s)):(sr&&i&&VN(e),e.flags|=1,Ki(n,e,r,s),e.child)}function XF(n,e,r,i,s){if(Is(r)){var o=!0;GS(e)}else o=!1;if(Vm(e,s),e.stateNode===null)tS(n,e),Yoe(e,r,i),a8(e,r,i,s),i=!0;else if(n===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ea(u):(u=Is(r)?Df:Li.current,u=qg(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||c!==u)&&qF(e,a,i,u),Ju=!1;var f=e.memoizedState;a.state=f,JS(e,i,a,s),c=e.memoizedState,l!==i||f!==c||Ps.current||Ju?(typeof d=="function"&&(o8(e,r,d,i),c=e.memoizedState),(l=Ju||WF(e,r,l,i,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=u,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Aoe(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:ba(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=ea(c):(c=Is(r)?Df:Li.current,c=qg(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&qF(e,a,i,c),Ju=!1,f=e.memoizedState,a.state=f,JS(e,i,a,s);var m=e.memoizedState;l!==h||f!==m||Ps.current||Ju?(typeof p=="function"&&(o8(e,r,p,i),m=e.memoizedState),(u=Ju||WF(e,r,u,i,f,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=c,i=u):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return u8(n,e,r,i,o,s)}function u8(n,e,r,i,s,o){Zoe(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&NF(e,r,!1),ru(n,e,o);i=e.stateNode,S_e.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=Vg(e,n.child,null,o),e.child=Vg(e,null,l,o)):Ki(n,e,l,o),e.memoizedState=i.state,s&&NF(e,r,!0),e.child}function eae(n){var e=n.stateNode;e.pendingContext?RF(n,e.pendingContext,e.pendingContext!==e.context):e.context&&RF(n,e.context,!1),ej(n,e.containerInfo)}function QF(n,e,r,i,s){return Hg(),YN(s),e.flags|=256,Ki(n,e,r,i),e.child}var d8={dehydrated:null,treeContext:null,retryLane:0};function h8(n){return{baseLanes:n,cachePool:null,transitions:null}}function tae(n,e,r){var i=e.pendingProps,s=cr.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Wn(cr,s&1),n===null)return i8(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=K2(a,i,0,null),n=vf(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=h8(r),e.memoizedState=d8,n):lj(e,a));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return k_e(n,e,a,i,l,s,r);if(o){o=i.fallback,a=e.mode,s=n.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Pd(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Pd(l,o):(o=vf(o,a,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=n.child.memoizedState,a=a===null?h8(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~r,e.memoizedState=d8,i}return o=n.child,n=o.sibling,i=Pd(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function lj(n,e){return e=K2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function A1(n,e,r,i){return i!==null&&YN(i),Vg(e,n.child,null,r),n=lj(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function k_e(n,e,r,i,s,o,a){if(r)return e.flags&256?(e.flags&=-257,i=D6(Error(st(422))),A1(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=K2({mode:"visible",children:i.children},s,0,null),o=vf(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Vg(e,n.child,null,a),e.child.memoizedState=h8(a),e.memoizedState=d8,o);if(!(e.mode&1))return A1(n,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(st(419)),i=D6(o,i,void 0),A1(n,e,a,i)}if(l=(a&n.childLanes)!==0,Es||l){if(i=si,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,nu(n,s),Ma(i,n,s,-1))}return pj(),i=D6(Error(st(421))),A1(n,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=B_e.bind(null,n),s._reactRetry=e,null):(n=o.treeContext,ro=Cd(s.nextSibling),io=e,sr=!0,ka=null,n!==null&&(qo[Ho++]=Dc,qo[Ho++]=Rc,qo[Ho++]=Rf,Dc=n.id,Rc=n.overflow,Rf=e),e=lj(e,i.children),e.flags|=4096,e)}function JF(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),s8(n.return,e,r)}function R6(n,e,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=s)}function nae(n,e,r){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(Ki(n,e,i.children,r),i=cr.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&JF(n,r,e);else if(n.tag===19)JF(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Wn(cr,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)n=r.alternate,n!==null&&ZS(n)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),R6(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&ZS(n)===null){e.child=s;break}n=s.sibling,s.sibling=r,r=s,s=n}R6(e,!0,r,null,o);break;case"together":R6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tS(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ru(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),jf|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(st(153));if(e.child!==null){for(n=e.child,r=Pd(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=Pd(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function C_e(n,e,r){switch(e.tag){case 3:eae(e),Hg();break;case 5:Toe(e);break;case 1:Is(e.type)&&GS(e);break;case 4:ej(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Wn(XS,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Wn(cr,cr.current&1),e.flags|=128,null):r&e.child.childLanes?tae(n,e,r):(Wn(cr,cr.current&1),n=ru(n,e,r),n!==null?n.sibling:null);Wn(cr,cr.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return nae(n,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Wn(cr,cr.current),i)break;return null;case 22:case 23:return e.lanes=0,Joe(n,e,r)}return ru(n,e,r)}var rae,f8,iae,sae;rae=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};f8=function(){};iae=function(n,e,r,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,Vh(Tl.current);var o=null;switch(r){case"input":s=ND(n,s),i=ND(n,i),o=[];break;case"select":s=dr({},s,{value:void 0}),i=dr({},i,{value:void 0}),o=[];break;case"textarea":s=LD(n,s),i=LD(n,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=HS)}$D(r,i);var a;r=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fv.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Yn("scroll",n),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};sae=function(n,e,r,i){r!==i&&(e.flags|=4)};function Tb(n,e){if(!sr)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Pi(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function E_e(n,e,r){var i=e.pendingProps;switch(GN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(e),null;case 1:return Is(e.type)&&VS(),Pi(e),null;case 3:return i=e.stateNode,Gg(),Xn(Ps),Xn(Li),nj(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(C1(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ka!==null&&(x8(ka),ka=null))),f8(n,e),Pi(e),null;case 5:tj(e);var s=Vh(Cv.current);if(r=e.type,n!==null&&e.stateNode!=null)iae(n,e,r,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(st(166));return Pi(e),null}if(n=Vh(Tl.current),C1(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[vl]=e,i[Sv]=o,n=(e.mode&1)!==0,r){case"dialog":Yn("cancel",i),Yn("close",i);break;case"iframe":case"object":case"embed":Yn("load",i);break;case"video":case"audio":for(s=0;s<by.length;s++)Yn(by[s],i);break;case"source":Yn("error",i);break;case"img":case"image":case"link":Yn("error",i),Yn("load",i);break;case"details":Yn("toggle",i);break;case"input":aF(i,o),Yn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Yn("invalid",i);break;case"textarea":cF(i,o),Yn("invalid",i)}$D(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&k1(i.textContent,l,n),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&k1(i.textContent,l,n),s=["children",""+l]):fv.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Yn("scroll",i)}switch(r){case"input":g1(i),lF(i,o,!0);break;case"textarea":g1(i),uF(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=HS)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Dse(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(r,{is:i.is}):(n=a.createElement(r),r==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,r),n[vl]=e,n[Sv]=i,rae(n,e,!1,!1),e.stateNode=n;e:{switch(a=zD(r,i),r){case"dialog":Yn("cancel",n),Yn("close",n),s=i;break;case"iframe":case"object":case"embed":Yn("load",n),s=i;break;case"video":case"audio":for(s=0;s<by.length;s++)Yn(by[s],n);s=i;break;case"source":Yn("error",n),s=i;break;case"img":case"image":case"link":Yn("error",n),Yn("load",n),s=i;break;case"details":Yn("toggle",n),s=i;break;case"input":aF(n,i),s=ND(n,i),Yn("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=dr({},i,{value:void 0}),Yn("invalid",n);break;case"textarea":cF(n,i),s=LD(n,i),Yn("invalid",n);break;default:s=i}$D(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?jse(n,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rse(n,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&pv(n,c):typeof c=="number"&&pv(n,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fv.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Yn("scroll",n):c!=null&&ON(n,o,c,a))}switch(r){case"input":g1(n),lF(n,i,!1);break;case"textarea":g1(n),uF(n);break;case"option":i.value!=null&&n.setAttribute("value",""+$d(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?Um(n,!!i.multiple,o,!1):i.defaultValue!=null&&Um(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=HS)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pi(e),null;case 6:if(n&&e.stateNode!=null)sae(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(st(166));if(r=Vh(Cv.current),Vh(Tl.current),C1(e)){if(i=e.stateNode,r=e.memoizedProps,i[vl]=e,(o=i.nodeValue!==r)&&(n=io,n!==null))switch(n.tag){case 3:k1(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&k1(i.nodeValue,r,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[vl]=e,e.stateNode=i}return Pi(e),null;case 13:if(Xn(cr),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(sr&&ro!==null&&e.mode&1&&!(e.flags&128))Soe(),Hg(),e.flags|=98560,o=!1;else if(o=C1(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(st(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(st(317));o[vl]=e}else Hg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pi(e),o=!1}else ka!==null&&(x8(ka),ka=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||cr.current&1?Ur===0&&(Ur=3):pj())),e.updateQueue!==null&&(e.flags|=4),Pi(e),null);case 4:return Gg(),f8(n,e),n===null&&xv(e.stateNode.containerInfo),Pi(e),null;case 10:return QN(e.type._context),Pi(e),null;case 17:return Is(e.type)&&VS(),Pi(e),null;case 19:if(Xn(cr),o=e.memoizedState,o===null)return Pi(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Tb(o,!1);else{if(Ur!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=ZS(n),a!==null){for(e.flags|=128,Tb(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,n=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Wn(cr,cr.current&1|2),e.child}n=n.sibling}o.tail!==null&&Ar()>Kg&&(e.flags|=128,i=!0,Tb(o,!1),e.lanes=4194304)}else{if(!i)if(n=ZS(a),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Tb(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!sr)return Pi(e),null}else 2*Ar()-o.renderingStartTime>Kg&&r!==1073741824&&(e.flags|=128,i=!0,Tb(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ar(),e.sibling=null,r=cr.current,Wn(cr,i?r&1|2:r&1),e):(Pi(e),null);case 22:case 23:return fj(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Xs&1073741824&&(Pi(e),e.subtreeFlags&6&&(e.flags|=8192)):Pi(e),null;case 24:return null;case 25:return null}throw Error(st(156,e.tag))}function A_e(n,e){switch(GN(e),e.tag){case 1:return Is(e.type)&&VS(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Gg(),Xn(Ps),Xn(Li),nj(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return tj(e),null;case 13:if(Xn(cr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(st(340));Hg()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Xn(cr),null;case 4:return Gg(),null;case 10:return QN(e.type._context),null;case 22:case 23:return fj(),null;case 24:return null;default:return null}}var T1=!1,Ri=!1,T_e=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Am(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){gr(n,e,i)}else r.current=null}function p8(n,e,r){try{r()}catch(i){gr(n,e,i)}}var ZF=!1;function P_e(n,e){if(QD=US,n=uoe(),HN(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==o||i!==0&&h.nodeType!==3||(c=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===r&&++u===s&&(l=a),f===o&&++d===i&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(JD={focusedElem:n,selectionRange:r},US=!1,xt=e;xt!==null;)if(e=xt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,xt=n;else for(;xt!==null;){e=xt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,y=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:ba(e.type,b),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(x){gr(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}return m=ZF,ZF=!1,m}function Uy(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var o=s.destroy;s.destroy=void 0,o!==void 0&&p8(e,r,o)}s=s.next}while(s!==i)}}function G2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function m8(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function oae(n){var e=n.alternate;e!==null&&(n.alternate=null,oae(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[vl],delete e[Sv],delete e[t8],delete e[d_e],delete e[h_e])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function aae(n){return n.tag===5||n.tag===3||n.tag===4}function e$(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||aae(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function g8(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=HS));else if(i!==4&&(n=n.child,n!==null))for(g8(n,e,r),n=n.sibling;n!==null;)g8(n,e,r),n=n.sibling}function b8(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(b8(n,e,r),n=n.sibling;n!==null;)b8(n,e,r),n=n.sibling}var pi=null,_a=!1;function Pu(n,e,r){for(r=r.child;r!==null;)lae(n,e,r),r=r.sibling}function lae(n,e,r){if(Al&&typeof Al.onCommitFiberUnmount=="function")try{Al.onCommitFiberUnmount(F2,r)}catch{}switch(r.tag){case 5:Ri||Am(r,e);case 6:var i=pi,s=_a;pi=null,Pu(n,e,r),pi=i,_a=s,pi!==null&&(_a?(n=pi,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):pi.removeChild(r.stateNode));break;case 18:pi!==null&&(_a?(n=pi,r=r.stateNode,n.nodeType===8?A6(n.parentNode,r):n.nodeType===1&&A6(n,r),yv(n)):A6(pi,r.stateNode));break;case 4:i=pi,s=_a,pi=r.stateNode.containerInfo,_a=!0,Pu(n,e,r),pi=i,_a=s;break;case 0:case 11:case 14:case 15:if(!Ri&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&p8(r,e,a),s=s.next}while(s!==i)}Pu(n,e,r);break;case 1:if(!Ri&&(Am(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){gr(r,e,l)}Pu(n,e,r);break;case 21:Pu(n,e,r);break;case 22:r.mode&1?(Ri=(i=Ri)||r.memoizedState!==null,Pu(n,e,r),Ri=i):Pu(n,e,r);break;default:Pu(n,e,r)}}function t$(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new T_e),e.forEach(function(i){var s=L_e.bind(null,n,i);r.has(i)||(r.add(i),i.then(s,s))})}}function ua(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var o=n,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:pi=l.stateNode,_a=!1;break e;case 3:pi=l.stateNode.containerInfo,_a=!0;break e;case 4:pi=l.stateNode.containerInfo,_a=!0;break e}l=l.return}if(pi===null)throw Error(st(160));lae(o,a,s),pi=null,_a=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){gr(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cae(e,n),e=e.sibling}function cae(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ua(e,n),Qa(n),i&4){try{Uy(3,n,n.return),G2(3,n)}catch(b){gr(n,n.return,b)}try{Uy(5,n,n.return)}catch(b){gr(n,n.return,b)}}break;case 1:ua(e,n),Qa(n),i&512&&r!==null&&Am(r,r.return);break;case 5:if(ua(e,n),Qa(n),i&512&&r!==null&&Am(r,r.return),n.flags&32){var s=n.stateNode;try{pv(s,"")}catch(b){gr(n,n.return,b)}}if(i&4&&(s=n.stateNode,s!=null)){var o=n.memoizedProps,a=r!==null?r.memoizedProps:o,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Mse(s,o),zD(l,a);var u=zD(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?jse(s,h):d==="dangerouslySetInnerHTML"?Rse(s,h):d==="children"?pv(s,h):ON(s,d,h,u)}switch(l){case"input":jD(s,o);break;case"textarea":Ose(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Um(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Um(s,!!o.multiple,o.defaultValue,!0):Um(s,!!o.multiple,o.multiple?[]:"",!1))}s[Sv]=o}catch(b){gr(n,n.return,b)}}break;case 6:if(ua(e,n),Qa(n),i&4){if(n.stateNode===null)throw Error(st(162));s=n.stateNode,o=n.memoizedProps;try{s.nodeValue=o}catch(b){gr(n,n.return,b)}}break;case 3:if(ua(e,n),Qa(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{yv(e.containerInfo)}catch(b){gr(n,n.return,b)}break;case 4:ua(e,n),Qa(n);break;case 13:ua(e,n),Qa(n),s=n.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(dj=Ar())),i&4&&t$(n);break;case 22:if(d=r!==null&&r.memoizedState!==null,n.mode&1?(Ri=(u=Ri)||d,ua(e,n),Ri=u):ua(e,n),Qa(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(xt=n,d=n.child;d!==null;){for(h=xt=d;xt!==null;){switch(f=xt,p=f.child,f.tag){case 0:case 11:case 14:case 15:Uy(4,f,f.return);break;case 1:Am(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,r=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(b){gr(i,r,b)}}break;case 5:Am(f,f.return);break;case 22:if(f.memoizedState!==null){r$(h);continue}}p!==null?(p.return=f,xt=p):r$(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Nse("display",a))}catch(b){gr(n,n.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){gr(n,n.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ua(e,n),Qa(n),i&4&&t$(n);break;case 21:break;default:ua(e,n),Qa(n)}}function Qa(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(aae(r)){var i=r;break e}r=r.return}throw Error(st(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(pv(s,""),i.flags&=-33);var o=e$(n);b8(n,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,l=e$(n);g8(n,l,a);break;default:throw Error(st(161))}}catch(c){gr(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function I_e(n,e,r){xt=n,uae(n)}function uae(n,e,r){for(var i=(n.mode&1)!==0;xt!==null;){var s=xt,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||T1;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ri;l=T1;var u=Ri;if(T1=a,(Ri=c)&&!u)for(xt=s;xt!==null;)a=xt,c=a.child,a.tag===22&&a.memoizedState!==null?i$(s):c!==null?(c.return=a,xt=c):i$(s);for(;o!==null;)xt=o,uae(o),o=o.sibling;xt=s,T1=l,Ri=u}n$(n)}else s.subtreeFlags&8772&&o!==null?(o.return=s,xt=o):n$(n)}}function n$(n){for(;xt!==null;){var e=xt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ri||G2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ri)if(r===null)i.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ba(e.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$F(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$F(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&yv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}Ri||e.flags&512&&m8(e)}catch(f){gr(e,e.return,f)}}if(e===n){xt=null;break}if(r=e.sibling,r!==null){r.return=e.return,xt=r;break}xt=e.return}}function r$(n){for(;xt!==null;){var e=xt;if(e===n){xt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xt=r;break}xt=e.return}}function i$(n){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{G2(4,e)}catch(c){gr(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){gr(e,s,c)}}var o=e.return;try{m8(e)}catch(c){gr(e,o,c)}break;case 5:var a=e.return;try{m8(e)}catch(c){gr(e,a,c)}}}catch(c){gr(e,e.return,c)}if(e===n){xt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xt=l;break}xt=e.return}}var M_e=Math.ceil,nk=du.ReactCurrentDispatcher,cj=du.ReactCurrentOwner,Jo=du.ReactCurrentBatchConfig,yn=0,si=null,jr=null,xi=0,Xs=0,Tm=Qd(0),Ur=0,Pv=null,jf=0,Y2=0,uj=0,Wy=null,Ss=null,dj=0,Kg=1/0,bc=null,rk=!1,y8=null,Ad=null,P1=!1,bd=null,ik=0,qy=0,v8=null,nS=-1,rS=0;function rs(){return yn&6?Ar():nS!==-1?nS:nS=Ar()}function Td(n){return n.mode&1?yn&2&&xi!==0?xi&-xi:p_e.transition!==null?(rS===0&&(rS=Yse()),rS):(n=Mn,n!==0||(n=window.event,n=n===void 0?16:toe(n.type)),n):1}function Ma(n,e,r,i){if(50<qy)throw qy=0,v8=null,Error(st(185));qw(n,r,i),(!(yn&2)||n!==si)&&(n===si&&(!(yn&2)&&(Y2|=r),Ur===4&&ed(n,xi)),Ms(n,i),r===1&&yn===0&&!(e.mode&1)&&(Kg=Ar()+500,q2&&Jd()))}function Ms(n,e){var r=n.callbackNode;p1e(n,e);var i=zS(n,n===si?xi:0);if(i===0)r!==null&&fF(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&fF(r),e===1)n.tag===0?f_e(s$.bind(null,n)):woe(s$.bind(null,n)),c_e(function(){!(yn&6)&&Jd()}),r=null;else{switch(Kse(i)){case 1:r=BN;break;case 4:r=Vse;break;case 16:r=$S;break;case 536870912:r=Gse;break;default:r=$S}r=yae(r,dae.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function dae(n,e){if(nS=-1,rS=0,yn&6)throw Error(st(327));var r=n.callbackNode;if(Gm()&&n.callbackNode!==r)return null;var i=zS(n,n===si?xi:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=sk(n,i);else{e=i;var s=yn;yn|=2;var o=fae();(si!==n||xi!==e)&&(bc=null,Kg=Ar()+500,yf(n,e));do try{R_e();break}catch(l){hae(n,l)}while(!0);XN(),nk.current=o,yn=s,jr!==null?e=0:(si=null,xi=0,e=Ur)}if(e!==0){if(e===2&&(s=VD(n),s!==0&&(i=s,e=w8(n,s))),e===1)throw r=Pv,yf(n,0),ed(n,i),Ms(n,Ar()),r;if(e===6)ed(n,i);else{if(s=n.current.alternate,!(i&30)&&!O_e(s)&&(e=sk(n,i),e===2&&(o=VD(n),o!==0&&(i=o,e=w8(n,o))),e===1))throw r=Pv,yf(n,0),ed(n,i),Ms(n,Ar()),r;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(st(345));case 2:Ih(n,Ss,bc);break;case 3:if(ed(n,i),(i&130023424)===i&&(e=dj+500-Ar(),10<e)){if(zS(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){rs(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=e8(Ih.bind(null,n,Ss,bc),e);break}Ih(n,Ss,bc);break;case 4:if(ed(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var a=31-Ia(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=Ar()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*M_e(i/1960))-i,10<i){n.timeoutHandle=e8(Ih.bind(null,n,Ss,bc),i);break}Ih(n,Ss,bc);break;case 5:Ih(n,Ss,bc);break;default:throw Error(st(329))}}}return Ms(n,Ar()),n.callbackNode===r?dae.bind(null,n):null}function w8(n,e){var r=Wy;return n.current.memoizedState.isDehydrated&&(yf(n,e).flags|=256),n=sk(n,e),n!==2&&(e=Ss,Ss=r,e!==null&&x8(e)),n}function x8(n){Ss===null?Ss=n:Ss.push.apply(Ss,n)}function O_e(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],o=s.getSnapshot;s=s.value;try{if(!Da(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ed(n,e){for(e&=~uj,e&=~Y2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-Ia(e),i=1<<r;n[r]=-1,e&=~i}}function s$(n){if(yn&6)throw Error(st(327));Gm();var e=zS(n,0);if(!(e&1))return Ms(n,Ar()),null;var r=sk(n,e);if(n.tag!==0&&r===2){var i=VD(n);i!==0&&(e=i,r=w8(n,i))}if(r===1)throw r=Pv,yf(n,0),ed(n,e),Ms(n,Ar()),r;if(r===6)throw Error(st(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ih(n,Ss,bc),Ms(n,Ar()),null}function hj(n,e){var r=yn;yn|=1;try{return n(e)}finally{yn=r,yn===0&&(Kg=Ar()+500,q2&&Jd())}}function Bf(n){bd!==null&&bd.tag===0&&!(yn&6)&&Gm();var e=yn;yn|=1;var r=Jo.transition,i=Mn;try{if(Jo.transition=null,Mn=1,n)return n()}finally{Mn=i,Jo.transition=r,yn=e,!(yn&6)&&Jd()}}function fj(){Xs=Tm.current,Xn(Tm)}function yf(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,l_e(r)),jr!==null)for(r=jr.return;r!==null;){var i=r;switch(GN(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&VS();break;case 3:Gg(),Xn(Ps),Xn(Li),nj();break;case 5:tj(i);break;case 4:Gg();break;case 13:Xn(cr);break;case 19:Xn(cr);break;case 10:QN(i.type._context);break;case 22:case 23:fj()}r=r.return}if(si=n,jr=n=Pd(n.current,null),xi=Xs=e,Ur=0,Pv=null,uj=Y2=jf=0,Ss=Wy=null,Hh!==null){for(e=0;e<Hh.length;e++)if(r=Hh[e],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}r.pending=i}Hh=null}return n}function hae(n,e){do{var r=jr;try{if(XN(),Z_.current=tk,ek){for(var i=ur.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ek=!1}if(Nf=0,Jr=$r=ur=null,zy=!1,Ev=0,cj.current=null,r===null||r.return===null){Ur=1,Pv=e,jr=null;break}e:{var o=n,a=r.return,l=r,c=e;if(e=xi,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=VF(a);if(p!==null){p.flags&=-257,GF(p,a,l,o,e),p.mode&1&&HF(o,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var b=new Set;b.add(c),e.updateQueue=b}else m.add(c);break e}else{if(!(e&1)){HF(o,u,e),pj();break e}c=Error(st(426))}}else if(sr&&l.mode&1){var y=VF(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),GF(y,a,l,o,e),YN(Yg(c,l));break e}}o=c=Yg(c,l),Ur!==4&&(Ur=2),Wy===null?Wy=[o]:Wy.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=Koe(o,c,e);FF(o,v);break e;case 1:l=c;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ad===null||!Ad.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=Xoe(o,l,e);FF(o,x);break e}}o=o.return}while(o!==null)}mae(r)}catch(S){e=S,jr===r&&r!==null&&(jr=r=r.return);continue}break}while(!0)}function fae(){var n=nk.current;return nk.current=tk,n===null?tk:n}function pj(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),si===null||!(jf&268435455)&&!(Y2&268435455)||ed(si,xi)}function sk(n,e){var r=yn;yn|=2;var i=fae();(si!==n||xi!==e)&&(bc=null,yf(n,e));do try{D_e();break}catch(s){hae(n,s)}while(!0);if(XN(),yn=r,nk.current=i,jr!==null)throw Error(st(261));return si=null,xi=0,Ur}function D_e(){for(;jr!==null;)pae(jr)}function R_e(){for(;jr!==null&&!s1e();)pae(jr)}function pae(n){var e=bae(n.alternate,n,Xs);n.memoizedProps=n.pendingProps,e===null?mae(n):jr=e,cj.current=null}function mae(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=A_e(r,e),r!==null){r.flags&=32767,jr=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ur=6,jr=null;return}}else if(r=E_e(r,e,Xs),r!==null){jr=r;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=n}while(e!==null);Ur===0&&(Ur=5)}function Ih(n,e,r){var i=Mn,s=Jo.transition;try{Jo.transition=null,Mn=1,N_e(n,e,r,i)}finally{Jo.transition=s,Mn=i}return null}function N_e(n,e,r,i){do Gm();while(bd!==null);if(yn&6)throw Error(st(327));r=n.finishedWork;var s=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(st(177));n.callbackNode=null,n.callbackPriority=0;var o=r.lanes|r.childLanes;if(m1e(n,o),n===si&&(jr=si=null,xi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||P1||(P1=!0,yae($S,function(){return Gm(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Jo.transition,Jo.transition=null;var a=Mn;Mn=1;var l=yn;yn|=4,cj.current=null,P_e(n,r),cae(r,n),t_e(JD),US=!!QD,JD=QD=null,n.current=r,I_e(r),o1e(),yn=l,Mn=a,Jo.transition=o}else n.current=r;if(P1&&(P1=!1,bd=n,ik=s),o=n.pendingLanes,o===0&&(Ad=null),c1e(r.stateNode),Ms(n,Ar()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)s=e[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(rk)throw rk=!1,n=y8,y8=null,n;return ik&1&&n.tag!==0&&Gm(),o=n.pendingLanes,o&1?n===v8?qy++:(qy=0,v8=n):qy=0,Jd(),null}function Gm(){if(bd!==null){var n=Kse(ik),e=Jo.transition,r=Mn;try{if(Jo.transition=null,Mn=16>n?16:n,bd===null)var i=!1;else{if(n=bd,bd=null,ik=0,yn&6)throw Error(st(331));var s=yn;for(yn|=4,xt=n.current;xt!==null;){var o=xt,a=o.child;if(xt.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xt=u;xt!==null;){var d=xt;switch(d.tag){case 0:case 11:case 15:Uy(8,d,o)}var h=d.child;if(h!==null)h.return=d,xt=h;else for(;xt!==null;){d=xt;var f=d.sibling,p=d.return;if(oae(d),d===u){xt=null;break}if(f!==null){f.return=p,xt=f;break}xt=p}}}var m=o.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}xt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,xt=a;else e:for(;xt!==null;){if(o=xt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Uy(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,xt=v;break e}xt=o.return}}var w=n.current;for(xt=w;xt!==null;){a=xt;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,xt=_;else e:for(a=w;xt!==null;){if(l=xt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:G2(9,l)}}catch(S){gr(l,l.return,S)}if(l===a){xt=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,xt=x;break e}xt=l.return}}if(yn=s,Jd(),Al&&typeof Al.onPostCommitFiberRoot=="function")try{Al.onPostCommitFiberRoot(F2,n)}catch{}i=!0}return i}finally{Mn=r,Jo.transition=e}}return!1}function o$(n,e,r){e=Yg(r,e),e=Koe(n,e,1),n=Ed(n,e,1),e=rs(),n!==null&&(qw(n,1,e),Ms(n,e))}function gr(n,e,r){if(n.tag===3)o$(n,n,r);else for(;e!==null;){if(e.tag===3){o$(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ad===null||!Ad.has(i))){n=Yg(r,n),n=Xoe(e,n,1),e=Ed(e,n,1),n=rs(),e!==null&&(qw(e,1,n),Ms(e,n));break}}e=e.return}}function j_e(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=rs(),n.pingedLanes|=n.suspendedLanes&r,si===n&&(xi&r)===r&&(Ur===4||Ur===3&&(xi&130023424)===xi&&500>Ar()-dj?yf(n,0):uj|=r),Ms(n,e)}function gae(n,e){e===0&&(n.mode&1?(e=v1,v1<<=1,!(v1&130023424)&&(v1=4194304)):e=1);var r=rs();n=nu(n,e),n!==null&&(qw(n,e,r),Ms(n,r))}function B_e(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),gae(n,r)}function L_e(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(st(314))}i!==null&&i.delete(e),gae(n,r)}var bae;bae=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ps.current)Es=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return Es=!1,C_e(n,e,r);Es=!!(n.flags&131072)}else Es=!1,sr&&e.flags&1048576&&xoe(e,KS,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;tS(n,e),n=e.pendingProps;var s=qg(e,Li.current);Vm(e,r),s=ij(null,e,i,n,s,r);var o=sj();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Is(i)?(o=!0,GS(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ZN(e),s.updater=V2,e.stateNode=s,s._reactInternals=e,a8(e,i,n,r),e=u8(null,e,i,!0,o,r)):(e.tag=0,sr&&o&&VN(e),Ki(null,e,s,r),e=e.child),e;case 16:i=e.elementType;e:{switch(tS(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=$_e(i),n=ba(i,n),s){case 0:e=c8(null,e,i,n,r);break e;case 1:e=XF(null,e,i,n,r);break e;case 11:e=YF(null,e,i,n,r);break e;case 14:e=KF(null,e,i,ba(i.type,n),r);break e}throw Error(st(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ba(i,s),c8(n,e,i,s,r);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ba(i,s),XF(n,e,i,s,r);case 3:e:{if(eae(e),n===null)throw Error(st(387));i=e.pendingProps,o=e.memoizedState,s=o.element,Aoe(n,e),JS(e,i,null,r);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Yg(Error(st(423)),e),e=QF(n,e,i,r,s);break e}else if(i!==s){s=Yg(Error(st(424)),e),e=QF(n,e,i,r,s);break e}else for(ro=Cd(e.stateNode.containerInfo.firstChild),io=e,sr=!0,ka=null,r=Coe(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hg(),i===s){e=ru(n,e,r);break e}Ki(n,e,i,r)}e=e.child}return e;case 5:return Toe(e),n===null&&i8(e),i=e.type,s=e.pendingProps,o=n!==null?n.memoizedProps:null,a=s.children,ZD(i,s)?a=null:o!==null&&ZD(i,o)&&(e.flags|=32),Zoe(n,e),Ki(n,e,a,r),e.child;case 6:return n===null&&i8(e),null;case 13:return tae(n,e,r);case 4:return ej(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Vg(e,null,i,r):Ki(n,e,i,r),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ba(i,s),YF(n,e,i,s,r);case 7:return Ki(n,e,e.pendingProps,r),e.child;case 8:return Ki(n,e,e.pendingProps.children,r),e.child;case 12:return Ki(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Wn(XS,i._currentValue),i._currentValue=a,o!==null)if(Da(o.value,a)){if(o.children===s.children&&!Ps.current){e=ru(n,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=$c(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),s8(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(st(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),s8(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ki(n,e,s.children,r),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Vm(e,r),s=ea(s),i=i(s),e.flags|=1,Ki(n,e,i,r),e.child;case 14:return i=e.type,s=ba(i,e.pendingProps),s=ba(i.type,s),KF(n,e,i,s,r);case 15:return Qoe(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ba(i,s),tS(n,e),e.tag=1,Is(i)?(n=!0,GS(e)):n=!1,Vm(e,r),Yoe(e,i,s),a8(e,i,s,r),u8(null,e,i,!0,n,r);case 19:return nae(n,e,r);case 22:return Joe(n,e,r)}throw Error(st(156,e.tag))};function yae(n,e){return Hse(n,e)}function F_e(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yo(n,e,r,i){return new F_e(n,e,r,i)}function mj(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $_e(n){if(typeof n=="function")return mj(n)?1:0;if(n!=null){if(n=n.$$typeof,n===RN)return 11;if(n===NN)return 14}return 2}function Pd(n,e){var r=n.alternate;return r===null?(r=Yo(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function iS(n,e,r,i,s,o){var a=2;if(i=n,typeof n=="function")mj(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case ym:return vf(r.children,s,o,e);case DN:a=8,s|=8;break;case MD:return n=Yo(12,r,e,s|2),n.elementType=MD,n.lanes=o,n;case OD:return n=Yo(13,r,e,s),n.elementType=OD,n.lanes=o,n;case DD:return n=Yo(19,r,e,s),n.elementType=DD,n.lanes=o,n;case Tse:return K2(r,s,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ese:a=10;break e;case Ase:a=9;break e;case RN:a=11;break e;case NN:a=14;break e;case Qu:a=16,i=null;break e}throw Error(st(130,n==null?n:typeof n,""))}return e=Yo(a,r,e,s),e.elementType=n,e.type=i,e.lanes=o,e}function vf(n,e,r,i){return n=Yo(7,n,i,e),n.lanes=r,n}function K2(n,e,r,i){return n=Yo(22,n,i,e),n.elementType=Tse,n.lanes=r,n.stateNode={isHidden:!1},n}function N6(n,e,r){return n=Yo(6,n,null,e),n.lanes=r,n}function j6(n,e,r){return e=Yo(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function z_e(n,e,r,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g6(0),this.expirationTimes=g6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g6(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gj(n,e,r,i,s,o,a,l,c){return n=new z_e(n,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Yo(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZN(o),n}function U_e(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bm,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function vae(n){if(!n)return zd;n=n._reactInternals;e:{if(up(n)!==n||n.tag!==1)throw Error(st(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(st(171))}if(n.tag===1){var r=n.type;if(Is(r))return voe(n,r,e)}return e}function wae(n,e,r,i,s,o,a,l,c){return n=gj(r,i,!0,n,s,o,a,l,c),n.context=vae(null),r=n.current,i=rs(),s=Td(r),o=$c(i,s),o.callback=e??null,Ed(r,o,s),n.current.lanes=s,qw(n,s,i),Ms(n,i),n}function X2(n,e,r,i){var s=e.current,o=rs(),a=Td(s);return r=vae(r),e.context===null?e.context=r:e.pendingContext=r,e=$c(o,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Ed(s,e,a),n!==null&&(Ma(n,s,a,o),J_(n,s,a)),a}function ok(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function a$(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function bj(n,e){a$(n,e),(n=n.alternate)&&a$(n,e)}function W_e(){return null}var xae=typeof reportError=="function"?reportError:function(n){console.error(n)};function yj(n){this._internalRoot=n}Q2.prototype.render=yj.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(st(409));X2(n,e,null,null)};Q2.prototype.unmount=yj.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Bf(function(){X2(null,n,null,null)}),e[tu]=null}};function Q2(n){this._internalRoot=n}Q2.prototype.unstable_scheduleHydration=function(n){if(n){var e=Jse();n={blockedOn:null,target:n,priority:e};for(var r=0;r<Zu.length&&e!==0&&e<Zu[r].priority;r++);Zu.splice(r,0,n),r===0&&eoe(n)}};function vj(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function J2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function l$(){}function q_e(n,e,r,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var u=ok(a);o.call(u)}}var a=wae(e,i,n,0,null,!1,!1,"",l$);return n._reactRootContainer=a,n[tu]=a.current,xv(n.nodeType===8?n.parentNode:n),Bf(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=ok(c);l.call(u)}}var c=gj(n,0,!1,null,null,!1,!1,"",l$);return n._reactRootContainer=c,n[tu]=c.current,xv(n.nodeType===8?n.parentNode:n),Bf(function(){X2(e,c,r,i)}),c}function Z2(n,e,r,i,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=ok(a);l.call(c)}}X2(e,a,n,s)}else a=q_e(r,e,n,s,i);return ok(a)}Xse=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=gy(e.pendingLanes);r!==0&&(LN(e,r|1),Ms(e,Ar()),!(yn&6)&&(Kg=Ar()+500,Jd()))}break;case 13:Bf(function(){var i=nu(n,1);if(i!==null){var s=rs();Ma(i,n,1,s)}}),bj(n,1)}};FN=function(n){if(n.tag===13){var e=nu(n,134217728);if(e!==null){var r=rs();Ma(e,n,134217728,r)}bj(n,134217728)}};Qse=function(n){if(n.tag===13){var e=Td(n),r=nu(n,e);if(r!==null){var i=rs();Ma(r,n,e,i)}bj(n,e)}};Jse=function(){return Mn};Zse=function(n,e){var r=Mn;try{return Mn=n,e()}finally{Mn=r}};WD=function(n,e,r){switch(e){case"input":if(jD(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var s=W2(i);if(!s)throw Error(st(90));Ise(i),jD(i,s)}}}break;case"textarea":Ose(n,r);break;case"select":e=r.value,e!=null&&Um(n,!!r.multiple,e,!1)}};Fse=hj;$se=Bf;var H_e={usingClientEntryPoint:!1,Events:[Vw,_m,W2,Bse,Lse,hj]},Pb={findFiberByHostInstance:qh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V_e={bundleType:Pb.bundleType,version:Pb.version,rendererPackageName:Pb.rendererPackageName,rendererConfig:Pb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:du.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Wse(n),n===null?null:n.stateNode},findFiberByHostInstance:Pb.findFiberByHostInstance||W_e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I1.isDisabled&&I1.supportsFiber)try{F2=I1.inject(V_e),Al=I1}catch{}}go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_e;go.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vj(e))throw Error(st(200));return U_e(n,e,null,r)};go.createRoot=function(n,e){if(!vj(n))throw Error(st(299));var r=!1,i="",s=xae;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gj(n,1,!1,null,null,r,!1,i,s),n[tu]=e.current,xv(n.nodeType===8?n.parentNode:n),new yj(e)};go.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(st(188)):(n=Object.keys(n).join(","),Error(st(268,n)));return n=Wse(e),n=n===null?null:n.stateNode,n};go.flushSync=function(n){return Bf(n)};go.hydrate=function(n,e,r){if(!J2(e))throw Error(st(200));return Z2(null,n,e,!0,r)};go.hydrateRoot=function(n,e,r){if(!vj(n))throw Error(st(405));var i=r!=null&&r.hydratedSources||null,s=!1,o="",a=xae;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=wae(e,null,n,1,r??null,s,!1,o,a),n[tu]=e.current,xv(n),i)for(n=0;n<i.length;n++)r=i[n],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Q2(e)};go.render=function(n,e,r){if(!J2(e))throw Error(st(200));return Z2(null,n,e,!1,r)};go.unmountComponentAtNode=function(n){if(!J2(n))throw Error(st(40));return n._reactRootContainer?(Bf(function(){Z2(null,null,n,!1,function(){n._reactRootContainer=null,n[tu]=null})}),!0):!1};go.unstable_batchedUpdates=hj;go.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!J2(r))throw Error(st(200));if(n==null||n._reactInternals===void 0)throw Error(st(38));return Z2(n,e,r,!1,i)};go.version="18.3.1-next-f1338f8080-20240426";function _ae(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_ae)}catch(n){console.error(n)}}_ae(),_se.exports=go;var za=_se.exports;const G_e=B2(za);var c$=za;PD.createRoot=c$.createRoot,PD.hydrateRoot=c$.hydrateRoot;var $0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Y_e={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},id,CN,Zie,K_e=(Zie=class{constructor(){ct(this,id,Y_e);ct(this,CN,!1)}setTimeoutProvider(n){Be(this,id,n)}setTimeout(n,e){return ee(this,id).setTimeout(n,e)}clearTimeout(n){ee(this,id).clearTimeout(n)}setInterval(n,e){return ee(this,id).setInterval(n,e)}clearInterval(n){ee(this,id).clearInterval(n)}},id=new WeakMap,CN=new WeakMap,Zie),Gh=new K_e;function X_e(n){setTimeout(n,0)}var Lf=typeof window>"u"||"Deno"in globalThis;function Xi(){}function Q_e(n,e){return typeof n=="function"?n(e):n}function _8(n){return typeof n=="number"&&n>=0&&n!==1/0}function Sae(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Id(n,e){return typeof n=="function"?n(e):n}function Uo(n,e){return typeof n=="function"?n(e):n}function u$(n,e){const{type:r="all",exact:i,fetchStatus:s,predicate:o,queryKey:a,stale:l}=n;if(a){if(i){if(e.queryHash!==wj(a,e.options))return!1}else if(!Iv(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||o&&!o(e))}function d$(n,e){const{exact:r,status:i,predicate:s,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(r){if(Ff(e.options.mutationKey)!==Ff(o))return!1}else if(!Iv(e.options.mutationKey,o))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function wj(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ff)(n)}function Ff(n){return JSON.stringify(n,(e,r)=>S8(r)?Object.keys(r).sort().reduce((i,s)=>(i[s]=r[s],i),{}):r)}function Iv(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(r=>Iv(n[r],e[r])):!1}var J_e=Object.prototype.hasOwnProperty;function kae(n,e){if(n===e)return n;const r=h$(n)&&h$(e);if(!r&&!(S8(n)&&S8(e)))return e;const s=(r?n:Object.keys(n)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=r?u:o[u],h=n[d],f=e[d];if(h===f){l[d]=h,(r?u<s:J_e.call(n,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const p=kae(h,f);l[d]=p,p===h&&c++}return s===a&&c===s?n:l}function ak(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(n[r]!==e[r])return!1;return!0}function h$(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function S8(n){if(!f$(n))return!1;const e=n.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!f$(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function f$(n){return Object.prototype.toString.call(n)==="[object Object]"}function Z_e(n){return new Promise(e=>{Gh.setTimeout(e,n)})}function k8(n,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(n,e):r.structuralSharing!==!1?kae(n,e):e}function eSe(n,e,r=0){const i=[...n,e];return r&&i.length>r?i.slice(1):i}function tSe(n,e,r=0){const i=[e,...n];return r&&i.length>r?i.slice(0,-1):i}var xj=Symbol();function Cae(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===xj?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Eae(n,e){return typeof n=="function"?n(...e):!!n}var of,sd,dg,ese,nSe=(ese=class extends $0{constructor(){super();ct(this,of);ct(this,sd);ct(this,dg);Be(this,dg,e=>{if(!Lf&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ee(this,sd)||this.setEventListener(ee(this,dg))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,sd))==null||e.call(this),Be(this,sd,void 0))}setEventListener(e){var r;Be(this,dg,e),(r=ee(this,sd))==null||r.call(this),Be(this,sd,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){ee(this,of)!==e&&(Be(this,of,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ee(this,of)=="boolean"?ee(this,of):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},of=new WeakMap,sd=new WeakMap,dg=new WeakMap,ese),_j=new nSe;function C8(){let n,e;const r=new Promise((s,o)=>{n=s,e=o});r.status="pending",r.catch(()=>{});function i(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},r.reject=s=>{i({status:"rejected",reason:s}),e(s)},r}var rSe=X_e;function iSe(){let n=[],e=0,r=l=>{l()},i=l=>{l()},s=rSe;const o=l=>{e?n.push(l):s(()=>{r(l)})},a=()=>{const l=n;n=[],l.length&&s(()=>{i(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var zr=iSe(),hg,od,fg,tse,sSe=(tse=class extends $0{constructor(){super();ct(this,hg,!0);ct(this,od);ct(this,fg);Be(this,fg,e=>{if(!Lf&&window.addEventListener){const r=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}})}onSubscribe(){ee(this,od)||this.setEventListener(ee(this,fg))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,od))==null||e.call(this),Be(this,od,void 0))}setEventListener(e){var r;Be(this,fg,e),(r=ee(this,od))==null||r.call(this),Be(this,od,e(this.setOnline.bind(this)))}setOnline(e){ee(this,hg)!==e&&(Be(this,hg,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return ee(this,hg)}},hg=new WeakMap,od=new WeakMap,fg=new WeakMap,tse),lk=new sSe;function oSe(n){return Math.min(1e3*2**n,3e4)}function Aae(n){return(n??"online")==="online"?lk.isOnline():!0}var E8=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Tae(n){let e=!1,r=0,i;const s=C8(),o=()=>s.status!=="pending",a=b=>{var y;if(!o()){const v=new E8(b);f(v),(y=n.onCancel)==null||y.call(n,v)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>_j.isFocused()&&(n.networkMode==="always"||lk.isOnline())&&n.canRun(),d=()=>Aae(n.networkMode)&&n.canRun(),h=b=>{o()||(i==null||i(),s.resolve(b))},f=b=>{o()||(i==null||i(),s.reject(b))},p=()=>new Promise(b=>{var y;i=v=>{(o()||u())&&b(v)},(y=n.onPause)==null||y.call(n)}).then(()=>{var b;i=void 0,o()||(b=n.onContinue)==null||b.call(n)}),m=()=>{if(o())return;let b;const y=r===0?n.initialPromise:void 0;try{b=y??n.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(h).catch(v=>{var C;if(o())return;const w=n.retry??(Lf?0:3),_=n.retryDelay??oSe,x=typeof _=="function"?_(r,v):_,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,v);if(e||!S){f(v);return}r++,(C=n.onFail)==null||C.call(n,r,v),Z_e(x).then(()=>u()?void 0:p()).then(()=>{e?f(v):m()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),s)}}var af,nse,Pae=(nse=class{constructor(){ct(this,af)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_8(this.gcTime)&&Be(this,af,Gh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Lf?1/0:5*60*1e3))}clearGcTimeout(){ee(this,af)&&(Gh.clearTimeout(ee(this,af)),Be(this,af,void 0))}},af=new WeakMap,nse),lf,pg,$o,cf,Xr,Rw,uf,va,hc,rse,aSe=(rse=class extends Pae{constructor(e){super();ct(this,va);ct(this,lf);ct(this,pg);ct(this,$o);ct(this,cf);ct(this,Xr);ct(this,Rw);ct(this,uf);Be(this,uf,!1),Be(this,Rw,e.defaultOptions),this.setOptions(e.options),this.observers=[],Be(this,cf,e.client),Be(this,$o,ee(this,cf).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Be(this,lf,m$(this.options)),this.state=e.state??ee(this,lf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ee(this,Xr))==null?void 0:e.promise}setOptions(e){if(this.options={...ee(this,Rw),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=m$(this.options);r.data!==void 0&&(this.setState(p$(r.data,r.dataUpdatedAt)),Be(this,lf,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,$o).remove(this)}setData(e,r){const i=k8(this.state.data,e,this.options);return Dt(this,va,hc).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(e,r){Dt(this,va,hc).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var i,s;const r=(i=ee(this,Xr))==null?void 0:i.promise;return(s=ee(this,Xr))==null||s.cancel(e),r?r.then(Xi).catch(Xi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,lf))}isActive(){return this.observers.some(e=>Uo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Id(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Sae(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ee(this,Xr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ee(this,Xr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ee(this,$o).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ee(this,Xr)&&(ee(this,uf)?ee(this,Xr).cancel({revert:!0}):ee(this,Xr).cancelRetry()),this.scheduleGc()),ee(this,$o).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dt(this,va,hc).call(this,{type:"invalidate"})}async fetch(e,r){var c,u,d,h,f,p,m,b,y,v,w,_;if(this.state.fetchStatus!=="idle"&&((c=ee(this,Xr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ee(this,Xr))return ee(this,Xr).continueRetry(),ee(this,Xr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(S=>S.options.queryFn);x&&this.setOptions(x.options)}const i=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Be(this,uf,!0),i.signal)})},o=()=>{const x=Cae(this.options,r),C=(()=>{const E={client:ee(this,cf),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return Be(this,uf,!1),this.options.persister?this.options.persister(x,C,this):x(C)},l=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ee(this,cf),state:this.state,fetchFn:o};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(l,this),Be(this,pg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Dt(this,va,hc).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Be(this,Xr,Tae({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof E8&&x.revert&&this.setState({...ee(this,pg),fetchStatus:"idle"}),i.abort()},onFail:(x,S)=>{Dt(this,va,hc).call(this,{type:"failed",failureCount:x,error:S})},onPause:()=>{Dt(this,va,hc).call(this,{type:"pause"})},onContinue:()=>{Dt(this,va,hc).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await ee(this,Xr).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(p=(f=ee(this,$o).config).onSuccess)==null||p.call(f,x,this),(b=(m=ee(this,$o).config).onSettled)==null||b.call(m,x,this.state.error,this),x}catch(x){if(x instanceof E8){if(x.silent)return ee(this,Xr).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw Dt(this,va,hc).call(this,{type:"error",error:x}),(v=(y=ee(this,$o).config).onError)==null||v.call(y,x,this),(_=(w=ee(this,$o).config).onSettled)==null||_.call(w,this.state.data,x,this),x}finally{this.scheduleGc()}}},lf=new WeakMap,pg=new WeakMap,$o=new WeakMap,cf=new WeakMap,Xr=new WeakMap,Rw=new WeakMap,uf=new WeakMap,va=new WeakSet,hc=function(e){const r=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Iae(i.data,this.options),fetchMeta:e.meta??null};case"success":const s={...i,...p$(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Be(this,pg,e.manual?s:void 0),s;case"error":const o=e.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=r(this.state),zr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ee(this,$o).notify({query:this,type:"updated",action:e})})},rse);function Iae(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Aae(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function p$(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function m$(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,r=e!==void 0,i=r?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ys,dn,Nw,Vi,df,mg,kc,ad,jw,gg,bg,hf,ff,ld,yg,Pn,yy,A8,T8,P8,I8,M8,O8,D8,Mae,ise,lSe=(ise=class extends $0{constructor(e,r){super();ct(this,Pn);ct(this,ys);ct(this,dn);ct(this,Nw);ct(this,Vi);ct(this,df);ct(this,mg);ct(this,kc);ct(this,ad);ct(this,jw);ct(this,gg);ct(this,bg);ct(this,hf);ct(this,ff);ct(this,ld);ct(this,yg,new Set);this.options=r,Be(this,ys,e),Be(this,ad,null),Be(this,kc,C8()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ee(this,dn).addObserver(this),g$(ee(this,dn),this.options)?Dt(this,Pn,yy).call(this):this.updateResult(),Dt(this,Pn,I8).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return R8(ee(this,dn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return R8(ee(this,dn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Dt(this,Pn,M8).call(this),Dt(this,Pn,O8).call(this),ee(this,dn).removeObserver(this)}setOptions(e){const r=this.options,i=ee(this,dn);if(this.options=ee(this,ys).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Uo(this.options.enabled,ee(this,dn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Dt(this,Pn,D8).call(this),ee(this,dn).setOptions(this.options),r._defaulted&&!ak(this.options,r)&&ee(this,ys).getQueryCache().notify({type:"observerOptionsUpdated",query:ee(this,dn),observer:this});const s=this.hasListeners();s&&b$(ee(this,dn),i,this.options,r)&&Dt(this,Pn,yy).call(this),this.updateResult(),s&&(ee(this,dn)!==i||Uo(this.options.enabled,ee(this,dn))!==Uo(r.enabled,ee(this,dn))||Id(this.options.staleTime,ee(this,dn))!==Id(r.staleTime,ee(this,dn)))&&Dt(this,Pn,A8).call(this);const o=Dt(this,Pn,T8).call(this);s&&(ee(this,dn)!==i||Uo(this.options.enabled,ee(this,dn))!==Uo(r.enabled,ee(this,dn))||o!==ee(this,ld))&&Dt(this,Pn,P8).call(this,o)}getOptimisticResult(e){const r=ee(this,ys).getQueryCache().build(ee(this,ys),e),i=this.createResult(r,e);return uSe(this,i)&&(Be(this,Vi,i),Be(this,mg,this.options),Be(this,df,ee(this,dn).state)),i}getCurrentResult(){return ee(this,Vi)}trackResult(e,r){return new Proxy(e,{get:(i,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ee(this,kc).status==="pending"&&ee(this,kc).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,s))})}trackProp(e){ee(this,yg).add(e)}getCurrentQuery(){return ee(this,dn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ee(this,ys).defaultQueryOptions(e),i=ee(this,ys).getQueryCache().build(ee(this,ys),r);return i.fetch().then(()=>this.createResult(i,r))}fetch(e){return Dt(this,Pn,yy).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ee(this,Vi)))}createResult(e,r){var M;const i=ee(this,dn),s=this.options,o=ee(this,Vi),a=ee(this,df),l=ee(this,mg),u=e!==i?e.state:ee(this,Nw),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const I=this.hasListeners(),O=!I&&g$(e,r),F=I&&b$(e,i,r,s);(O||F)&&(h={...h,...Iae(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:b,status:y}=h;p=h.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let I;o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(I=o.data,v=!0):I=typeof r.placeholderData=="function"?r.placeholderData((M=ee(this,bg))==null?void 0:M.state.data,ee(this,bg)):r.placeholderData,I!==void 0&&(y="success",p=k8(o==null?void 0:o.data,I,r),f=!0)}if(r.select&&p!==void 0&&!v)if(o&&p===(a==null?void 0:a.data)&&r.select===ee(this,jw))p=ee(this,gg);else try{Be(this,jw,r.select),p=r.select(p),p=k8(o==null?void 0:o.data,p,r),Be(this,gg,p),Be(this,ad,null)}catch(I){Be(this,ad,I)}ee(this,ad)&&(m=ee(this,ad),p=ee(this,gg),b=Date.now(),y="error");const w=h.fetchStatus==="fetching",_=y==="pending",x=y==="error",S=_&&w,C=p!==void 0,T={status:y,fetchStatus:h.fetchStatus,isPending:_,isSuccess:y==="success",isError:x,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!_,isLoadingError:x&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&C,isStale:Sj(e,r),refetch:this.refetch,promise:ee(this,kc),isEnabled:Uo(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=$=>{T.status==="error"?$.reject(T.error):T.data!==void 0&&$.resolve(T.data)},O=()=>{const $=Be(this,kc,T.promise=C8());I($)},F=ee(this,kc);switch(F.status){case"pending":e.queryHash===i.queryHash&&I(F);break;case"fulfilled":(T.status==="error"||T.data!==F.value)&&O();break;case"rejected":(T.status!=="error"||T.error!==F.reason)&&O();break}}return T}updateResult(){const e=ee(this,Vi),r=this.createResult(ee(this,dn),this.options);if(Be(this,df,ee(this,dn).state),Be(this,mg,this.options),ee(this,df).data!==void 0&&Be(this,bg,ee(this,dn)),ak(r,e))return;Be(this,Vi,r);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!ee(this,yg).size)return!0;const a=new Set(o??ee(this,yg));return this.options.throwOnError&&a.add("error"),Object.keys(ee(this,Vi)).some(l=>{const c=l;return ee(this,Vi)[c]!==e[c]&&a.has(c)})};Dt(this,Pn,Mae).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Dt(this,Pn,I8).call(this)}},ys=new WeakMap,dn=new WeakMap,Nw=new WeakMap,Vi=new WeakMap,df=new WeakMap,mg=new WeakMap,kc=new WeakMap,ad=new WeakMap,jw=new WeakMap,gg=new WeakMap,bg=new WeakMap,hf=new WeakMap,ff=new WeakMap,ld=new WeakMap,yg=new WeakMap,Pn=new WeakSet,yy=function(e){Dt(this,Pn,D8).call(this);let r=ee(this,dn).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Xi)),r},A8=function(){Dt(this,Pn,M8).call(this);const e=Id(this.options.staleTime,ee(this,dn));if(Lf||ee(this,Vi).isStale||!_8(e))return;const i=Sae(ee(this,Vi).dataUpdatedAt,e)+1;Be(this,hf,Gh.setTimeout(()=>{ee(this,Vi).isStale||this.updateResult()},i))},T8=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ee(this,dn)):this.options.refetchInterval)??!1},P8=function(e){Dt(this,Pn,O8).call(this),Be(this,ld,e),!(Lf||Uo(this.options.enabled,ee(this,dn))===!1||!_8(ee(this,ld))||ee(this,ld)===0)&&Be(this,ff,Gh.setInterval(()=>{(this.options.refetchIntervalInBackground||_j.isFocused())&&Dt(this,Pn,yy).call(this)},ee(this,ld)))},I8=function(){Dt(this,Pn,A8).call(this),Dt(this,Pn,P8).call(this,Dt(this,Pn,T8).call(this))},M8=function(){ee(this,hf)&&(Gh.clearTimeout(ee(this,hf)),Be(this,hf,void 0))},O8=function(){ee(this,ff)&&(Gh.clearInterval(ee(this,ff)),Be(this,ff,void 0))},D8=function(){const e=ee(this,ys).getQueryCache().build(ee(this,ys),this.options);if(e===ee(this,dn))return;const r=ee(this,dn);Be(this,dn,e),Be(this,Nw,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Mae=function(e){zr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ee(this,Vi))}),ee(this,ys).getQueryCache().notify({query:ee(this,dn),type:"observerResultsUpdated"})})},ise);function cSe(n,e){return Uo(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function g$(n,e){return cSe(n,e)||n.state.data!==void 0&&R8(n,e,e.refetchOnMount)}function R8(n,e,r){if(Uo(e.enabled,n)!==!1&&Id(e.staleTime,n)!=="static"){const i=typeof r=="function"?r(n):r;return i==="always"||i!==!1&&Sj(n,e)}return!1}function b$(n,e,r,i){return(n!==e||Uo(i.enabled,n)===!1)&&(!r.suspense||n.state.status!=="error")&&Sj(n,r)}function Sj(n,e){return Uo(e.enabled,n)!==!1&&n.isStaleByTime(Id(e.staleTime,n))}function uSe(n,e){return!ak(n.getCurrentResult(),e)}function y$(n){return{onFetch:(e,r)=>{var d,h,f,p,m;const i=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},v=Cae(e.options,e.fetchOptions),w=async(_,x,S)=>{if(b)return Promise.reject();if(x==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return y(O),O})(),T=await v(E),{maxPages:M}=e.options,I=S?tSe:eSe;return{pages:I(_.pages,T,M),pageParams:I(_.pageParams,x,M)}};if(s&&o.length){const _=s==="backward",x=_?dSe:v$,S={pages:o,pageParams:a},C=x(i,S);l=await w(S,C,_)}else{const _=n??o.length;do{const x=c===0?a[0]??i.initialPageParam:v$(i,l);if(c>0&&x==null)break;l=await w(l,x),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function v$(n,{pages:e,pageParams:r}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,r[i],r):void 0}function dSe(n,{pages:e,pageParams:r}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,r[0],r):void 0}var Bw,pl,Gi,pf,ml,Gu,sse,hSe=(sse=class extends Pae{constructor(e){super();ct(this,ml);ct(this,Bw);ct(this,pl);ct(this,Gi);ct(this,pf);Be(this,Bw,e.client),this.mutationId=e.mutationId,Be(this,Gi,e.mutationCache),Be(this,pl,[]),this.state=e.state||Oae(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ee(this,pl).includes(e)||(ee(this,pl).push(e),this.clearGcTimeout(),ee(this,Gi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Be(this,pl,ee(this,pl).filter(r=>r!==e)),this.scheduleGc(),ee(this,Gi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ee(this,pl).length||(this.state.status==="pending"?this.scheduleGc():ee(this,Gi).remove(this))}continue(){var e;return((e=ee(this,pf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,d,h,f,p,m,b,y,v,w,_,x,S,C,E,T,M;const r=()=>{Dt(this,ml,Gu).call(this,{type:"continue"})},i={client:ee(this,Bw),meta:this.options.meta,mutationKey:this.options.mutationKey};Be(this,pf,Tae({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{Dt(this,ml,Gu).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{Dt(this,ml,Gu).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,Gi).canRun(this)}));const s=this.state.status==="pending",o=!ee(this,pf).canStart();try{if(s)r();else{Dt(this,ml,Gu).call(this,{type:"pending",variables:e,isPaused:o}),await((l=(a=ee(this,Gi).config).onMutate)==null?void 0:l.call(a,e,this,i));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,i));O!==this.state.context&&Dt(this,ml,Gu).call(this,{type:"pending",context:O,variables:e,isPaused:o})}const I=await ee(this,pf).start();return await((h=(d=ee(this,Gi).config).onSuccess)==null?void 0:h.call(d,I,e,this.state.context,this,i)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,e,this.state.context,i)),await((b=(m=ee(this,Gi).config).onSettled)==null?void 0:b.call(m,I,null,this.state.variables,this.state.context,this,i)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,I,null,e,this.state.context,i)),Dt(this,ml,Gu).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(w=ee(this,Gi).config).onError)==null?void 0:_.call(w,I,e,this.state.context,this,i)),await((S=(x=this.options).onError)==null?void 0:S.call(x,I,e,this.state.context,i)),await((E=(C=ee(this,Gi).config).onSettled)==null?void 0:E.call(C,void 0,I,this.state.variables,this.state.context,this,i)),await((M=(T=this.options).onSettled)==null?void 0:M.call(T,void 0,I,e,this.state.context,i)),I}finally{Dt(this,ml,Gu).call(this,{type:"error",error:I})}}finally{ee(this,Gi).runNext(this)}}},Bw=new WeakMap,pl=new WeakMap,Gi=new WeakMap,pf=new WeakMap,ml=new WeakSet,Gu=function(e){const r=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zr.batch(()=>{ee(this,pl).forEach(i=>{i.onMutationUpdate(e)}),ee(this,Gi).notify({mutation:this,type:"updated",action:e})})},sse);function Oae(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cc,wa,Lw,ose,fSe=(ose=class extends $0{constructor(e={}){super();ct(this,Cc);ct(this,wa);ct(this,Lw);this.config=e,Be(this,Cc,new Set),Be(this,wa,new Map),Be(this,Lw,0)}build(e,r,i){const s=new hSe({client:e,mutationCache:this,mutationId:++f1(this,Lw)._,options:e.defaultMutationOptions(r),state:i});return this.add(s),s}add(e){ee(this,Cc).add(e);const r=M1(e);if(typeof r=="string"){const i=ee(this,wa).get(r);i?i.push(e):ee(this,wa).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ee(this,Cc).delete(e)){const r=M1(e);if(typeof r=="string"){const i=ee(this,wa).get(r);if(i)if(i.length>1){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}else i[0]===e&&ee(this,wa).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=M1(e);if(typeof r=="string"){const i=ee(this,wa).get(r),s=i==null?void 0:i.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var i;const r=M1(e);if(typeof r=="string"){const s=(i=ee(this,wa).get(r))==null?void 0:i.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zr.batch(()=>{ee(this,Cc).forEach(e=>{this.notify({type:"removed",mutation:e})}),ee(this,Cc).clear(),ee(this,wa).clear()})}getAll(){return Array.from(ee(this,Cc))}find(e){const r={exact:!0,...e};return this.getAll().find(i=>d$(r,i))}findAll(e={}){return this.getAll().filter(r=>d$(e,r))}notify(e){zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return zr.batch(()=>Promise.all(e.map(r=>r.continue().catch(Xi))))}},Cc=new WeakMap,wa=new WeakMap,Lw=new WeakMap,ose);function M1(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Ec,cd,vs,Ac,Zc,sS,N8,ase,pSe=(ase=class extends $0{constructor(r,i){super();ct(this,Zc);ct(this,Ec);ct(this,cd);ct(this,vs);ct(this,Ac);Be(this,Ec,r),this.setOptions(i),this.bindMethods(),Dt(this,Zc,sS).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const i=this.options;this.options=ee(this,Ec).defaultMutationOptions(r),ak(this.options,i)||ee(this,Ec).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ee(this,vs),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Ff(i.mutationKey)!==Ff(this.options.mutationKey)?this.reset():((s=ee(this,vs))==null?void 0:s.state.status)==="pending"&&ee(this,vs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ee(this,vs))==null||r.removeObserver(this)}onMutationUpdate(r){Dt(this,Zc,sS).call(this),Dt(this,Zc,N8).call(this,r)}getCurrentResult(){return ee(this,cd)}reset(){var r;(r=ee(this,vs))==null||r.removeObserver(this),Be(this,vs,void 0),Dt(this,Zc,sS).call(this),Dt(this,Zc,N8).call(this)}mutate(r,i){var s;return Be(this,Ac,i),(s=ee(this,vs))==null||s.removeObserver(this),Be(this,vs,ee(this,Ec).getMutationCache().build(ee(this,Ec),this.options)),ee(this,vs).addObserver(this),ee(this,vs).execute(r)}},Ec=new WeakMap,cd=new WeakMap,vs=new WeakMap,Ac=new WeakMap,Zc=new WeakSet,sS=function(){var i;const r=((i=ee(this,vs))==null?void 0:i.state)??Oae();Be(this,cd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},N8=function(r){zr.batch(()=>{var i,s,o,a,l,c,u,d;if(ee(this,Ac)&&this.hasListeners()){const h=ee(this,cd).variables,f=ee(this,cd).context,p={client:ee(this,Ec),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(i=ee(this,Ac)).onSuccess)==null||s.call(i,r.data,h,f,p),(a=(o=ee(this,Ac)).onSettled)==null||a.call(o,r.data,null,h,f,p)):(r==null?void 0:r.type)==="error"&&((c=(l=ee(this,Ac)).onError)==null||c.call(l,r.error,h,f,p),(d=(u=ee(this,Ac)).onSettled)==null||d.call(u,void 0,r.error,h,f,p))}this.listeners.forEach(h=>{h(ee(this,cd))})})},ase),gl,lse,mSe=(lse=class extends $0{constructor(e={}){super();ct(this,gl);this.config=e,Be(this,gl,new Map)}build(e,r,i){const s=r.queryKey,o=r.queryHash??wj(s,r);let a=this.get(o);return a||(a=new aSe({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){ee(this,gl).has(e.queryHash)||(ee(this,gl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ee(this,gl).get(e.queryHash);r&&(e.destroy(),r===e&&ee(this,gl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ee(this,gl).get(e)}getAll(){return[...ee(this,gl).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(i=>u$(r,i))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(i=>u$(e,i)):r}notify(e){zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gl=new WeakMap,lse),mr,ud,dd,vg,wg,hd,xg,_g,cse,gSe=(cse=class{constructor(n={}){ct(this,mr);ct(this,ud);ct(this,dd);ct(this,vg);ct(this,wg);ct(this,hd);ct(this,xg);ct(this,_g);Be(this,mr,n.queryCache||new mSe),Be(this,ud,n.mutationCache||new fSe),Be(this,dd,n.defaultOptions||{}),Be(this,vg,new Map),Be(this,wg,new Map),Be(this,hd,0)}mount(){f1(this,hd)._++,ee(this,hd)===1&&(Be(this,xg,_j.subscribe(async n=>{n&&(await this.resumePausedMutations(),ee(this,mr).onFocus())})),Be(this,_g,lk.subscribe(async n=>{n&&(await this.resumePausedMutations(),ee(this,mr).onOnline())})))}unmount(){var n,e;f1(this,hd)._--,ee(this,hd)===0&&((n=ee(this,xg))==null||n.call(this),Be(this,xg,void 0),(e=ee(this,_g))==null||e.call(this),Be(this,_g,void 0))}isFetching(n){return ee(this,mr).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return ee(this,ud).findAll({...n,status:"pending"}).length}getQueryData(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=ee(this,mr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),r=ee(this,mr).build(this,e),i=r.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&r.isStaleByTime(Id(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return ee(this,mr).findAll(n).map(({queryKey:e,state:r})=>{const i=r.data;return[e,i]})}setQueryData(n,e,r){const i=this.defaultQueryOptions({queryKey:n}),s=ee(this,mr).get(i.queryHash),o=s==null?void 0:s.state.data,a=Q_e(e,o);if(a!==void 0)return ee(this,mr).build(this,i).setData(a,{...r,manual:!0})}setQueriesData(n,e,r){return zr.batch(()=>ee(this,mr).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,r)]))}getQueryState(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=ee(this,mr).get(e.queryHash))==null?void 0:r.state}removeQueries(n){const e=ee(this,mr);zr.batch(()=>{e.findAll(n).forEach(r=>{e.remove(r)})})}resetQueries(n,e){const r=ee(this,mr);return zr.batch(()=>(r.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const r={revert:!0,...e},i=zr.batch(()=>ee(this,mr).findAll(n).map(s=>s.cancel(r)));return Promise.all(i).then(Xi).catch(Xi)}invalidateQueries(n,e={}){return zr.batch(()=>(ee(this,mr).findAll(n).forEach(r=>{r.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},i=zr.batch(()=>ee(this,mr).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Xi)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Xi)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const r=ee(this,mr).build(this,e);return r.isStaleByTime(Id(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Xi).catch(Xi)}fetchInfiniteQuery(n){return n.behavior=y$(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Xi).catch(Xi)}ensureInfiniteQueryData(n){return n.behavior=y$(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return lk.isOnline()?ee(this,ud).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,mr)}getMutationCache(){return ee(this,ud)}getDefaultOptions(){return ee(this,dd)}setDefaultOptions(n){Be(this,dd,n)}setQueryDefaults(n,e){ee(this,vg).set(Ff(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...ee(this,vg).values()],r={};return e.forEach(i=>{Iv(n,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(n,e){ee(this,wg).set(Ff(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...ee(this,wg).values()],r={};return e.forEach(i=>{Iv(n,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(n){if(n._defaulted)return n;const e={...ee(this,dd).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=wj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===xj&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...ee(this,dd).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){ee(this,mr).clear(),ee(this,ud).clear()}},mr=new WeakMap,ud=new WeakMap,dd=new WeakMap,vg=new WeakMap,wg=new WeakMap,hd=new WeakMap,xg=new WeakMap,_g=new WeakMap,cse),Dae=A.createContext(void 0),Rae=n=>{const e=A.useContext(Dae);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},w$=({client:n,children:e})=>(A.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),g.jsx(Dae.Provider,{value:n,children:e})),Nae=A.createContext(!1),bSe=()=>A.useContext(Nae);Nae.Provider;function ySe(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var vSe=A.createContext(ySe()),wSe=()=>A.useContext(vSe),xSe=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},_Se=n=>{A.useEffect(()=>{n.clearReset()},[n])},SSe=({result:n,errorResetBoundary:e,throwOnError:r,query:i,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&i&&(s&&n.data===void 0||Eae(r,[n.error,i])),kSe=n=>{if(n.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),i=n.staleTime;n.staleTime=typeof i=="function"?(...s)=>r(i(...s)):r(i),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},CSe=(n,e)=>n.isLoading&&n.isFetching&&!e,ESe=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,x$=(n,e,r)=>e.fetchOptimistic(n).catch(()=>{r.clearReset()});function ASe(n,e,r){var h,f,p,m,b;const i=bSe(),s=wSe(),o=Rae(),a=o.defaultQueryOptions(n);(f=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=i?"isRestoring":"optimistic",kSe(a),xSe(a,s),_Se(s);const l=!o.getQueryCache().get(a.queryHash),[c]=A.useState(()=>new e(o,a)),u=c.getOptimisticResult(a),d=!i&&n.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(y=>{const v=d?c.subscribe(zr.batchCalls(y)):Xi;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),A.useEffect(()=>{c.setOptions(a)},[a,c]),ESe(a,u))throw x$(a,c,s);if(SSe({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((m=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,a,u),a.experimental_prefetchInRender&&!Lf&&CSe(u,i)){const y=l?x$(a,c,s):(b=o.getQueryCache().get(a.queryHash))==null?void 0:b.promise;y==null||y.catch(Xi).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function jae(n,e){return ASe(n,lSe)}function Yw(n,e){const r=Rae(),[i]=A.useState(()=>new pSe(r,n));A.useEffect(()=>{i.setOptions(n)},[i,n]);const s=A.useSyncExternalStore(A.useCallback(a=>i.subscribe(zr.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=A.useCallback((a,l)=>{i.mutate(a,l).catch(Xi)},[i]);if(s.error&&Eae(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const ck=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],j8=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Bae=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Lae=[...Bae,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],TSe=[...Bae,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],_$=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],S$=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Fae=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],k$=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Ra(n,{includeName:e=!1}={}){if(n.type!=="function"&&n.type!=="event"&&n.type!=="error")throw new USe(n.type);return`${n.name}(${eC(n.inputs,{includeName:e})})`}function eC(n,{includeName:e=!1}={}){return n?n.map(r=>PSe(r,{includeName:e})).join(e?", ":","):""}function PSe(n,{includeName:e}){return n.type.startsWith("tuple")?`(${eC(n.components,{includeName:e})})${n.type.slice(5)}`:n.type+(e&&n.name?` ${n.name}`:"")}function Rl(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function br(n){return Rl(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const $ae="2.43.2";let Ib={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:r})=>e?`${n??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${$ae}`},tt=class B8 extends Error{constructor(e,r={}){var l;const i=(()=>{var c;return r.cause instanceof B8?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof B8&&r.cause.docsPath||r.docsPath,o=(l=Ib.getDocsUrl)==null?void 0:l.call(Ib,{...r,docsPath:s}),a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...i?[`Details: ${i}`]:[],...Ib.version?[`Version: ${Ib.version}`]:[]].join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=$ae}walk(e){return zae(this,e)}};function zae(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?zae(n.cause,e):e?null:n}class ISe extends tt{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class C$ extends tt{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Uae extends tt{constructor({data:e,params:r,size:i}){super([`Data size of ${i} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${eC(r,{includeName:!0})})`,`Data:   ${e} (${i} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=i}}class Kw extends tt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class MSe extends tt{constructor({expectedLength:e,givenLength:r,type:i}){super([`ABI encoding array length mismatch for type ${i}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class OSe extends tt{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${br(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class DSe extends tt{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class RSe extends tt{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class E$ extends tt{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class Wae extends tt{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class NSe extends tt{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class jSe extends tt{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class A$ extends tt{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class Xg extends tt{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class qae extends tt{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class BSe extends tt{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class LSe extends tt{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ra(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Ra(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let FSe=class extends tt{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class uk extends tt{constructor({abiItem:e,data:r,params:i,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${eC(i,{includeName:!0})})`,`Data:   ${r} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=i,this.size=s}}class kj extends tt{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Ra(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class $Se extends tt{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class zSe extends tt{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let Hae=class extends tt{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class USe extends tt{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let Ud=class extends tt{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Vae=class extends tt{constructor({offset:e,position:r,size:i}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`,{name:"SliceOffsetOutOfBoundsError"})}},Gae=class extends tt{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class T$ extends tt{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} is expected to be ${r} ${i} long, but is ${e} ${i} long.`,{name:"InvalidBytesLengthError"})}}function z0(n,{dir:e,size:r=32}={}){return typeof n=="string"?Md(n,{dir:e,size:r}):WSe(n,{dir:e,size:r})}function Md(n,{dir:e,size:r=32}={}){if(r===null)return n;const i=n.replace("0x","");if(i.length>r*2)throw new Gae({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function WSe(n,{dir:e,size:r=32}={}){if(r===null)return n;if(n.length>r)throw new Gae({size:n.length,targetSize:r,type:"bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=e==="right";i[o?s:r-s-1]=n[o?s:n.length-s-1]}return i}let Yae=class extends tt{constructor({max:e,min:r,signed:i,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},qSe=class extends tt{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class HSe extends tt{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let VSe=class extends tt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function wf(n,{dir:e="left"}={}){let r=typeof n=="string"?n.replace("0x",""):n,i=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=e==="left"?r.slice(i):r.slice(0,r.length-i),typeof n=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Ua(n,{size:e}){if(br(n)>e)throw new VSe({givenSize:br(n),maxSize:e})}function Nl(n,e={}){const{signed:r}=e;e.size&&Ua(n,{size:e.size});const i=BigInt(n);if(!r)return i;const s=(n.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return i<=o?i:i-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function GSe(n,e={}){let r=n;if(e.size&&(Ua(r,{size:e.size}),r=wf(r)),wf(r)==="0x00")return!1;if(wf(r)==="0x01")return!0;throw new HSe(r)}function jl(n,e={}){return Number(Nl(n,e))}const YSe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function iu(n,e={}){return typeof n=="number"||typeof n=="bigint"?kt(n,e):typeof n=="string"?Qg(n,e):typeof n=="boolean"?Kae(n,e):qr(n,e)}function Kae(n,e={}){const r=`0x${Number(n)}`;return typeof e.size=="number"?(Ua(r,{size:e.size}),z0(r,{size:e.size})):r}function qr(n,e={}){let r="";for(let s=0;s<n.length;s++)r+=YSe[n[s]];const i=`0x${r}`;return typeof e.size=="number"?(Ua(i,{size:e.size}),z0(i,{dir:"right",size:e.size})):i}function kt(n,e={}){const{signed:r,size:i}=e,s=BigInt(n);let o;i?r?o=(1n<<BigInt(i)*8n-1n)-1n:o=2n**(BigInt(i)*8n)-1n:typeof n=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<a){const c=typeof n=="bigint"?"n":"";throw new Yae({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:r,size:i,value:`${n}${c}`})}const l=`0x${(r&&s<0?(1n<<BigInt(i*8))+BigInt(s):s).toString(16)}`;return i?z0(l,{size:i}):l}const KSe=new TextEncoder;function Qg(n,e={}){const r=KSe.encode(n);return qr(r,e)}const XSe=new TextEncoder;function U0(n,e={}){return typeof n=="number"||typeof n=="bigint"?JSe(n,e):typeof n=="boolean"?QSe(n,e):Rl(n)?Bl(n,e):xf(n,e)}function QSe(n,e={}){const r=new Uint8Array(1);return r[0]=Number(n),typeof e.size=="number"?(Ua(r,{size:e.size}),z0(r,{size:e.size})):r}const nc={zero:48,nine:57,A:65,F:70,a:97,f:102};function P$(n){if(n>=nc.zero&&n<=nc.nine)return n-nc.zero;if(n>=nc.A&&n<=nc.F)return n-(nc.A-10);if(n>=nc.a&&n<=nc.f)return n-(nc.a-10)}function Bl(n,e={}){let r=n;e.size&&(Ua(r,{size:e.size}),r=z0(r,{dir:"right",size:e.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=P$(i.charCodeAt(l++)),u=P$(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new tt(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function JSe(n,e){const r=kt(n,e);return Bl(r)}function xf(n,e={}){const r=XSe.encode(n);return typeof e.size=="number"?(Ua(r,{size:e.size}),z0(r,{dir:"right",size:e.size})):r}const O1=BigInt(2**32-1),I$=BigInt(32);function ZSe(n,e=!1){return e?{h:Number(n&O1),l:Number(n>>I$&O1)}:{h:Number(n>>I$&O1)|0,l:Number(n&O1)|0}}function eke(n,e=!1){const r=n.length;let i=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=ZSe(n[o],e);[i[o],s[o]]=[a,l]}return[i,s]}const tke=(n,e,r)=>n<<r|e>>>32-r,nke=(n,e,r)=>e<<r|n>>>32-r,rke=(n,e,r)=>e<<r-32|n>>>64-r,ike=(n,e,r)=>n<<r-32|e>>>64-r,qp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ske(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Mv(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function $f(n,...e){if(!ske(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function oke(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Mv(n.outputLen),Mv(n.blockLen)}function Jg(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Xae(n,e){$f(n);const r=e.outputLen;if(n.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ake(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Zg(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function B6(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Ja(n,e){return n<<32-e|n>>>e}const lke=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function cke(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function uke(n){for(let e=0;e<n.length;e++)n[e]=cke(n[e]);return n}const M$=lke?n=>n:uke;function dke(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function tC(n){return typeof n=="string"&&(n=dke(n)),$f(n),n}function hke(...n){let e=0;for(let i=0;i<n.length;i++){const s=n[i];$f(s),e+=s.length}const r=new Uint8Array(e);for(let i=0,s=0;i<n.length;i++){const o=n[i];r.set(o,s),s+=o.length}return r}let Cj=class{};function Qae(n){const e=i=>n().update(tC(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}function fke(n=32){if(qp&&typeof qp.getRandomValues=="function")return qp.getRandomValues(new Uint8Array(n));if(qp&&typeof qp.randomBytes=="function")return Uint8Array.from(qp.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}const pke=BigInt(0),Mb=BigInt(1),mke=BigInt(2),gke=BigInt(7),bke=BigInt(256),yke=BigInt(113),Jae=[],Zae=[],ele=[];for(let n=0,e=Mb,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],Jae.push(2*(5*i+r)),Zae.push((n+1)*(n+2)/2%64);let s=pke;for(let o=0;o<7;o++)e=(e<<Mb^(e>>gke)*yke)%bke,e&mke&&(s^=Mb<<(Mb<<BigInt(o))-Mb);ele.push(s)}const tle=eke(ele,!0),vke=tle[0],wke=tle[1],O$=(n,e,r)=>r>32?rke(n,e,r):tke(n,e,r),D$=(n,e,r)=>r>32?ike(n,e,r):nke(n,e,r);function xke(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=O$(u,d,1)^r[l],f=D$(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=Zae[a],c=O$(s,o,l),u=D$(s,o,l),d=Jae[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=vke[i],n[1]^=wke[i]}Zg(r)}let _ke=class nle extends Cj{constructor(e,r,i,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,Mv(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ake(this.state)}clone(){return this._cloneInto()}keccak(){M$(this.state32),xke(this.state32,this.rounds),M$(this.state32),this.posOut=0,this.pos=0}update(e){Jg(this),e=tC(e),$f(e);const{blockLen:r,state:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Jg(this,!1),$f(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Mv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Xae(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Zg(this.state)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new nle(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const Ske=(n,e,r)=>Qae(()=>new _ke(e,n,r)),kke=Ske(1,136,256/8);function yi(n,e){const r=e||"hex",i=kke(Rl(n,{strict:!1})?U0(n):n);return r==="bytes"?i:iu(i)}let nC=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const Cke=/^0x[a-fA-F0-9]{40}$/,L6=new nC(8192);function ho(n,e){const{strict:r=!0}=e??{},i=`${n}.${r}`;if(L6.has(i))return L6.get(i);const s=Cke.test(n)?n.toLowerCase()===n?!0:r?rC(n)===n:!0:!1;return L6.set(i,s),s}const F6=new nC(8192);function rC(n,e){if(F6.has(`${n}.${e}`))return F6.get(`${n}.${e}`);const r=e?`${e}${n.toLowerCase()}`:n.substring(2).toLowerCase(),i=yi(xf(r),"bytes"),s=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)i[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(i[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const o=`0x${s.join("")}`;return F6.set(`${n}.${e}`,o),o}function ni(n,e){if(!ho(n,{strict:!1}))throw new Ud({address:n});return rC(n,e)}let R$=class extends tt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},rle=class extends tt{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Eke=class extends tt{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Ake={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Eke({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new rle({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new R$({offset:n});const e=this.position-n;this.assertPosition(e),this.position=e},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new R$({offset:n});const e=this.position+n;this.assertPosition(e),this.position=e},inspectByte(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(n,e){const r=e??this.position;return this.assertPosition(r+n-1),this.bytes.subarray(r,r+n)},inspectUint8(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(n){const e=n??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(n){const e=n??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(n){const e=n??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(n);return this.position+=e??n,r},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const e=this.position;return this.assertPosition(n),this.position=n,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function Ej(n,{recursiveReadLimit:e=8192}={}){const r=Object.create(Ake);return r.bytes=n,r.dataView=new DataView(n.buffer??n,n.byteOffset,n.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function e0(n,e,r,{strict:i}={}){return Rl(n,{strict:!1})?Tke(n,e,r,{strict:i}):ole(n,e,r,{strict:i})}function ile(n,e){if(typeof e=="number"&&e>0&&e>br(n)-1)throw new Vae({offset:e,position:"start",size:br(n)})}function sle(n,e,r){if(typeof e=="number"&&typeof r=="number"&&br(n)!==r-e)throw new Vae({offset:r,position:"end",size:br(n)})}function ole(n,e,r,{strict:i}={}){ile(n,e);const s=n.slice(e,r);return i&&sle(s,e,r),s}function Tke(n,e,r,{strict:i}={}){ile(n,e);const s=`0x${n.replace("0x","").slice((e??0)*2,(r??n.length)*2)}`;return i&&sle(s,e,r),s}function Pke(n,e={}){typeof e.size<"u"&&Ua(n,{size:e.size});const r=qr(n,e);return Nl(r,e)}function Ike(n,e={}){let r=n;if(typeof e.size<"u"&&(Ua(r,{size:e.size}),r=wf(r)),r.length>1||r[0]>1)throw new qSe(r);return!!r[0]}function zc(n,e={}){typeof e.size<"u"&&Ua(n,{size:e.size});const r=qr(n,e);return jl(r,e)}function Mke(n,e={}){let r=n;return typeof e.size<"u"&&(Ua(r,{size:e.size}),r=wf(r,{dir:"right"})),new TextDecoder().decode(r)}function Ll(n){return typeof n[0]=="string"?W0(n):Oke(n)}function Oke(n){let e=0;for(const s of n)e+=s.length;const r=new Uint8Array(e);let i=0;for(const s of n)r.set(s,i),i+=s.length;return r}function W0(n){return`0x${n.reduce((e,r)=>e+r.replace("0x",""),"")}`}const Dke=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ale=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function dp(n,e){if(n.length!==e.length)throw new DSe({expectedLength:n.length,givenLength:e.length});const r=Rke({params:n,values:e}),i=Tj(r);return i.length===0?"0x":i}function Rke({params:n,values:e}){const r=[];for(let i=0;i<n.length;i++)r.push(Aj({param:n[i],value:e[i]}));return r}function Aj({param:n,value:e}){const r=Pj(n.type);if(r){const[i,s]=r;return jke(e,{length:i,param:{...n,type:s}})}if(n.type==="tuple")return zke(e,{param:n});if(n.type==="address")return Nke(e);if(n.type==="bool")return Lke(e);if(n.type.startsWith("uint")||n.type.startsWith("int")){const i=n.type.startsWith("int"),[,,s="256"]=ale.exec(n.type)??[];return Fke(e,{signed:i,size:Number(s)})}if(n.type.startsWith("bytes"))return Bke(e,{param:n});if(n.type==="string")return $ke(e);throw new $Se(n.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Tj(n){let e=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?e+=32:e+=br(l)}const r=[],i=[];let s=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?(r.push(kt(e+s,{size:32})),i.push(l),s+=br(l)):r.push(l)}return Ll([...r,...i])}function Nke(n){if(!ho(n))throw new Ud({address:n});return{dynamic:!1,encoded:Md(n.toLowerCase())}}function jke(n,{length:e,param:r}){const i=e===null;if(!Array.isArray(n))throw new Hae(n);if(!i&&n.length!==e)throw new MSe({expectedLength:e,givenLength:n.length,type:`${r.type}[${e}]`});let s=!1;const o=[];for(let a=0;a<n.length;a++){const l=Aj({param:r,value:n[a]});l.dynamic&&(s=!0),o.push(l)}if(i||s){const a=Tj(o);if(i){const l=kt(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Ll([l,a]):l}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Ll(o.map(({encoded:a})=>a))}}function Bke(n,{param:e}){const[,r]=e.type.split("bytes"),i=br(n);if(!r){let s=n;return i%32!==0&&(s=Md(s,{dir:"right",size:Math.ceil((n.length-2)/2/32)*32})),{dynamic:!0,encoded:Ll([Md(kt(i,{size:32})),s])}}if(i!==Number.parseInt(r,10))throw new OSe({expectedSize:Number.parseInt(r,10),value:n});return{dynamic:!1,encoded:Md(n,{dir:"right"})}}function Lke(n){if(typeof n!="boolean")throw new tt(`Invalid boolean value: "${n}" (type: ${typeof n}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Md(Kae(n))}}function Fke(n,{signed:e,size:r=256}){if(typeof r=="number"){const i=2n**(BigInt(r)-(e?1n:0n))-1n,s=e?-i-1n:0n;if(n>i||n<s)throw new Yae({max:i.toString(),min:s.toString(),signed:e,size:r/8,value:n.toString()})}return{dynamic:!1,encoded:kt(n,{size:32,signed:e})}}function $ke(n){const e=Qg(n),r=Math.ceil(br(e)/32),i=[];for(let s=0;s<r;s++)i.push(Md(e0(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ll([Md(kt(br(e),{size:32})),...i])}}function zke(n,{param:e}){let r=!1;const i=[];for(let s=0;s<e.components.length;s++){const o=e.components[s],a=Array.isArray(n)?s:o.name,l=Aj({param:o,value:n[a]});i.push(l),l.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Tj(i):Ll(i.map(({encoded:s})=>s))}}function Pj(n){const e=n.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Xw(n,e){const r=typeof e=="string"?Bl(e):e,i=Ej(r);if(br(r)===0&&n.length>0)throw new Kw;if(br(e)&&br(e)<32)throw new Uae({data:typeof e=="string"?e:qr(e),params:n,size:br(e)});let s=0;const o=[];for(let a=0;a<n.length;++a){const l=n[a];i.setPosition(s);const[c,u]=Ym(i,l,{staticPosition:0});s+=u,o.push(c)}return o}function Ym(n,e,{staticPosition:r}){const i=Pj(e.type);if(i){const[s,o]=i;return Wke(n,{...e,type:o},{length:s,staticPosition:r})}if(e.type==="tuple")return Gke(n,e,{staticPosition:r});if(e.type==="address")return Uke(n);if(e.type==="bool")return qke(n);if(e.type.startsWith("bytes"))return Hke(n,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Vke(n,e);if(e.type==="string")return Yke(n,{staticPosition:r});throw new zSe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const N$=32,L8=32;function Uke(n){const e=n.readBytes(32);return[rC(qr(ole(e,-20))),32]}function Wke(n,e,{length:r,staticPosition:i}){if(!r){const a=zc(n.readBytes(L8)),l=i+a,c=l+N$;n.setPosition(l);const u=zc(n.readBytes(N$)),d=Ov(e);let h=0;const f=[];for(let p=0;p<u;++p){n.setPosition(c+(d?p*32:h));const[m,b]=Ym(n,e,{staticPosition:c});h+=b,f.push(m)}return n.setPosition(i+32),[f,32]}if(Ov(e)){const a=zc(n.readBytes(L8)),l=i+a,c=[];for(let u=0;u<r;++u){n.setPosition(l+u*32);const[d]=Ym(n,e,{staticPosition:l});c.push(d)}return n.setPosition(i+32),[c,32]}let s=0;const o=[];for(let a=0;a<r;++a){const[l,c]=Ym(n,e,{staticPosition:i+s});s+=c,o.push(l)}return[o,s]}function qke(n){return[Ike(n.readBytes(32),{size:32}),32]}function Hke(n,e,{staticPosition:r}){const[i,s]=e.type.split("bytes");if(!s){const a=zc(n.readBytes(32));n.setPosition(r+a);const l=zc(n.readBytes(32));if(l===0)return n.setPosition(r+32),["0x",32];const c=n.readBytes(l);return n.setPosition(r+32),[qr(c),32]}return[qr(n.readBytes(Number.parseInt(s,10),32)),32]}function Vke(n,e){const r=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),s=n.readBytes(32);return[i>48?Pke(s,{signed:r}):zc(s,{signed:r}),32]}function Gke(n,e,{staticPosition:r}){const i=e.components.length===0||e.components.some(({name:a})=>!a),s=i?[]:{};let o=0;if(Ov(e)){const a=zc(n.readBytes(L8)),l=r+a;for(let c=0;c<e.components.length;++c){const u=e.components[c];n.setPosition(l+o);const[d,h]=Ym(n,u,{staticPosition:l});o+=h,s[i?c:u==null?void 0:u.name]=d}return n.setPosition(r+32),[s,32]}for(let a=0;a<e.components.length;++a){const l=e.components[a],[c,u]=Ym(n,l,{staticPosition:r});s[i?a:l==null?void 0:l.name]=c,o+=u}return[s,o]}function Yke(n,{staticPosition:e}){const r=zc(n.readBytes(32)),i=e+r;n.setPosition(i);const s=zc(n.readBytes(32));if(s===0)return n.setPosition(e+32),["",32];const o=n.readBytes(s,32),a=Mke(wf(o));return n.setPosition(e+32),[a,32]}function Ov(n){var i;const{type:e}=n;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(i=n.components)==null?void 0:i.some(Ov);const r=Pj(n.type);return!!(r&&Ov({...n,type:r[1]}))}const Kke=n=>yi(U0(n));function Xke(n){return Kke(n)}const Qke="1.2.3";let Bs=class F8 extends Error{constructor(e,r={}){var a;const i=r.cause instanceof F8?r.cause.details:(a=r.cause)!=null&&a.message?r.cause.message:r.details,s=r.cause instanceof F8&&r.cause.docsPath||r.docsPath,o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${Qke}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}};function hu(n,e){const r=n.exec(e);return r==null?void 0:r.groups}const lle=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cle=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ule=/^\(.+?\).*?$/,j$=/^tuple(?<array>(\[(\d*)\])*)$/;function $8(n){let e=n.type;if(j$.test(n.type)&&"components"in n){e="(";const r=n.components.length;for(let s=0;s<r;s++){const o=n.components[s];e+=$8(o),s<r-1&&(e+=", ")}const i=hu(j$,n.type);return e+=`)${(i==null?void 0:i.array)||""}`,$8({...n,type:e})}return"indexed"in n&&n.indexed&&(e=`${e} indexed`),n.name?`${e} ${n.name}`:e}function hm(n){let e="";const r=n.length;for(let i=0;i<r;i++){const s=n[i];e+=$8(s),i!==r-1&&(e+=", ")}return e}function dk(n){var e;return n.type==="function"?`function ${n.name}(${hm(n.inputs)})${n.stateMutability&&n.stateMutability!=="nonpayable"?` ${n.stateMutability}`:""}${(e=n.outputs)!=null&&e.length?` returns (${hm(n.outputs)})`:""}`:n.type==="event"?`event ${n.name}(${hm(n.inputs)})`:n.type==="error"?`error ${n.name}(${hm(n.inputs)})`:n.type==="constructor"?`constructor(${hm(n.inputs)})${n.stateMutability==="payable"?" payable":""}`:n.type==="fallback"?`fallback() external${n.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const dle=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Jke(n){return dle.test(n)}function Zke(n){return hu(dle,n)}const hle=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function e2e(n){return hle.test(n)}function t2e(n){return hu(hle,n)}const fle=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function n2e(n){return fle.test(n)}function r2e(n){return hu(fle,n)}const ple=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function iC(n){return ple.test(n)}function i2e(n){return hu(ple,n)}const mle=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function s2e(n){return mle.test(n)}function o2e(n){return hu(mle,n)}const gle=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function a2e(n){return gle.test(n)}function l2e(n){return hu(gle,n)}const c2e=/^receive\(\) external payable$/;function u2e(n){return c2e.test(n)}const B$=new Set(["memory","indexed","storage","calldata"]),d2e=new Set(["indexed"]),z8=new Set(["calldata","memory","storage"]);class h2e extends Bs{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class f2e extends Bs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class p2e extends Bs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class m2e extends Bs{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class g2e extends Bs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class b2e extends Bs{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class y2e extends Bs{constructor({param:e,type:r,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class v2e extends Bs{constructor({param:e,type:r,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class w2e extends Bs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class q0 extends Bs{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class x2e extends Bs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class _2e extends Bs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class S2e extends Bs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class k2e extends Bs{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function C2e(n,e,r){let i="";if(r)for(const s of Object.entries(r)){if(!s)continue;let o="";for(const a of s[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;i+=`(${s[0]}{${o}})`}return e?`${e}:${n}${i}`:`${n}${i}`}const $6=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function U8(n,e={}){if(n2e(n))return E2e(n,e);if(e2e(n))return A2e(n,e);if(Jke(n))return T2e(n,e);if(s2e(n))return P2e(n,e);if(a2e(n))return I2e(n);if(u2e(n))return{type:"receive",stateMutability:"payable"};throw new x2e({signature:n})}function E2e(n,e={}){const r=r2e(n);if(!r)throw new q0({signature:n,type:"function"});const i=to(r.parameters),s=[],o=i.length;for(let l=0;l<o;l++)s.push(su(i[l],{modifiers:z8,structs:e,type:"function"}));const a=[];if(r.returns){const l=to(r.returns),c=l.length;for(let u=0;u<c;u++)a.push(su(l[u],{modifiers:z8,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:s,outputs:a}}function A2e(n,e={}){const r=t2e(n);if(!r)throw new q0({signature:n,type:"event"});const i=to(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(su(i[a],{modifiers:d2e,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:s}}function T2e(n,e={}){const r=Zke(n);if(!r)throw new q0({signature:n,type:"error"});const i=to(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(su(i[a],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:s}}function P2e(n,e={}){const r=o2e(n);if(!r)throw new q0({signature:n,type:"constructor"});const i=to(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(su(i[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:s}}function I2e(n){const e=l2e(n);if(!e)throw new q0({signature:n,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const M2e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,O2e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,D2e=/^u?int$/;function su(n,e){var h,f;const r=C2e(n,e==null?void 0:e.type,e==null?void 0:e.structs);if($6.has(r))return $6.get(r);const i=ule.test(n),s=hu(i?O2e:M2e,n);if(!s)throw new g2e({param:n});if(s.name&&N2e(s.name))throw new b2e({param:n,name:s.name});const o=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},l=(e==null?void 0:e.structs)??{};let c,u={};if(i){c="tuple";const p=to(s.type),m=[],b=p.length;for(let y=0;y<b;y++)m.push(su(p[y],{structs:l}));u={components:m}}else if(s.type in l)c="tuple",u={components:l[s.type]};else if(D2e.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!ble(c))throw new p2e({type:c});if(s.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,s.modifier)))throw new y2e({param:n,type:e==null?void 0:e.type,modifier:s.modifier});if(z8.has(s.modifier)&&!j2e(c,!!s.array))throw new v2e({param:n,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...a,...u};return $6.set(r,d),d}function to(n,e=[],r="",i=0){const s=n.trim().length;for(let o=0;o<s;o++){const a=n[o],l=n.slice(o+1);switch(a){case",":return i===0?to(l,[...e,r.trim()]):to(l,e,`${r}${a}`,i);case"(":return to(l,e,`${r}${a}`,i+1);case")":return to(l,e,`${r}${a}`,i-1);default:return to(l,e,`${r}${a}`,i)}}if(r==="")return e;if(i!==0)throw new k2e({current:r,depth:i});return e.push(r.trim()),e}function ble(n){return n==="address"||n==="bool"||n==="function"||n==="string"||lle.test(n)||cle.test(n)}const R2e=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function N2e(n){return n==="address"||n==="bool"||n==="function"||n==="string"||n==="tuple"||lle.test(n)||cle.test(n)||R2e.test(n)}function j2e(n,e){return e||n==="bytes"||n==="string"||n==="tuple"}function Ij(n){const e={},r=n.length;for(let a=0;a<r;a++){const l=n[a];if(!iC(l))continue;const c=i2e(l);if(!c)throw new q0({signature:l,type:"struct"});const u=c.properties.split(";"),d=[],h=u.length;for(let f=0;f<h;f++){const m=u[f].trim();if(!m)continue;const b=su(m,{type:"struct"});d.push(b)}if(!d.length)throw new _2e({signature:l});e[c.name]=d}const i={},s=Object.entries(e),o=s.length;for(let a=0;a<o;a++){const[l,c]=s[a];i[l]=yle(c,e)}return i}const B2e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function yle(n=[],e={},r=new Set){const i=[],s=n.length;for(let o=0;o<s;o++){const a=n[o];if(ule.test(a.type))i.push(a);else{const c=hu(B2e,a.type);if(!(c!=null&&c.type))throw new w2e({abiParameter:a});const{array:u,type:d}=c;if(d in e){if(r.has(d))throw new S2e({type:d});i.push({...a,type:`tuple${u??""}`,components:yle(e[d],e,new Set([...r,d]))})}else if(ble(d))i.push(a);else throw new f2e({type:d})}}return i}function vle(n){const e=Ij(n),r=[],i=n.length;for(let s=0;s<i;s++){const o=n[s];iC(o)||r.push(U8(o,e))}return r}function L$(n){let e;if(typeof n=="string")e=U8(n);else{const r=Ij(n),i=n.length;for(let s=0;s<i;s++){const o=n[s];if(!iC(o)){e=U8(o,r);break}}}if(!e)throw new h2e({signature:n});return e}function F$(n){const e=[];if(typeof n=="string"){const r=to(n),i=r.length;for(let s=0;s<i;s++)e.push(su(r[s],{modifiers:B$}))}else{const r=Ij(n),i=n.length;for(let s=0;s<i;s++){const o=n[s];if(iC(o))continue;const a=to(o),l=a.length;for(let c=0;c<l;c++)e.push(su(a[c],{modifiers:B$,structs:r}))}}if(e.length===0)throw new m2e({params:n});return e}function L2e(n){let e=!0,r="",i=0,s="",o=!1;for(let a=0;a<n.length;a++){const l=n[a];if(["(",")",","].includes(l)&&(e=!0),l==="("&&i++,l===")"&&i--,!!e){if(i===0){if(l===" "&&["event","function",""].includes(s))s="";else if(s+=l,l===")"){o=!0;break}continue}if(l===" "){n[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=l,r+=l}}if(!o)throw new tt("Unable to normalize signature.");return s}const F2e=n=>{const e=typeof n=="string"?n:dk(n);return L2e(e)};function wle(n){return Xke(F2e(n))}const sC=wle,Qw=n=>e0(wle(n),0,4);function hp(n){const{abi:e,args:r=[],name:i}=n,s=Rl(i,{strict:!1}),o=e.filter(l=>s?l.type==="function"?Qw(l)===i:l.type==="event"?sC(l)===i:!1:"name"in l&&l.name===i);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return l;continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((u,d)=>{const h="inputs"in l&&l.inputs[d];return h?W8(u,h):!1})){if(a&&"inputs"in a&&a.inputs){const u=xle(l.inputs,a.inputs,r);if(u)throw new LSe({abiItem:l,type:u[0]},{abiItem:a,type:u[1]})}a=l}}return a||o[0]}function W8(n,e){const r=typeof n,i=e.type;switch(i){case"address":return ho(n,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>W8(Object.values(n)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?r==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(n)&&n.every(s=>W8(s,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function xle(n,e,r){for(const i in n){const s=n[i],o=e[i];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return xle(s.components,o.components,r[i]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?ho(r[i],{strict:!1}):a.includes("address")&&a.includes("bytes")?ho(r[i],{strict:!1}):!1)return a}}const z6="/docs/contract/decodeFunctionResult";function fp(n){const{abi:e,args:r,functionName:i,data:s}=n;let o=e[0];if(i){const l=hp({abi:e,args:r,name:i});if(!l)throw new Xg(i,{docsPath:z6});o=l}if(o.type!=="function")throw new Xg(void 0,{docsPath:z6});if(!o.outputs)throw new qae(o.name,{docsPath:z6});const a=Xw(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const $$="/docs/contract/encodeFunctionData";function $2e(n){const{abi:e,args:r,functionName:i}=n;let s=e[0];if(i){const o=hp({abi:e,args:r,name:i});if(!o)throw new Xg(i,{docsPath:$$});s=o}if(s.type!=="function")throw new Xg(void 0,{docsPath:$$});return{abi:[s],functionName:Qw(Ra(s))}}function Wa(n){const{args:e}=n,{abi:r,functionName:i}=(()=>{var l;return n.abi.length===1&&((l=n.functionName)!=null&&l.startsWith("0x"))?n:$2e(n)})(),s=r[0],o=i,a="inputs"in s&&s.inputs?dp(s.inputs,e??[]):void 0;return W0([o,a??"0x"])}class q8 extends tt{constructor({blockNumber:e,chain:r,contract:i}){super(`Chain "${r.name}" does not support contract "${i.name}".`,{metaMessages:["This could be due to any of the following:",...e&&i.blockCreated&&i.blockCreated>e?[`- The contract "${i.name}" was not deployed until block ${i.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${i.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class _le extends tt{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function H0({blockNumber:n,chain:e,contract:r}){var s;const i=(s=e==null?void 0:e.contracts)==null?void 0:s[r];if(!i)throw new q8({chain:e,contract:{name:r}});if(n&&i.blockCreated&&i.blockCreated>n)throw new q8({blockNumber:n,chain:e,contract:{name:r,blockCreated:i.blockCreated}});return i.address}function Fi(n){return typeof n=="string"?{address:n,type:"json-rpc"}:n}const z2e={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Sle={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},U2e={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function W2e(n){const{abi:e,data:r}=n,i=e0(r,0,4);if(i==="0x")throw new Kw;const o=[...e||[],Sle,U2e].find(a=>a.type==="error"&&i===Qw(Ra(a)));if(!o)throw new Wae(i,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Xw(o.inputs,e0(r,4)):void 0,errorName:o.name}}const oi=(n,e,r)=>JSON.stringify(n,(i,s)=>typeof s=="bigint"?s.toString():s,r);function kle({abiItem:n,args:e,includeFunctionName:r=!0,includeName:i=!1}){if("name"in n&&"inputs"in n&&n.inputs)return`${r?n.name:""}(${n.inputs.map((s,o)=>`${i&&s.name?`${s.name}: `:""}${typeof e[o]=="object"?oi(e[o]):e[o]}`).join(", ")})`}const q2e={gwei:9,wei:18},H2e={ether:-9,wei:9};function Cle(n,e){let r=n.toString();const i=r.startsWith("-");i&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,o]=[r.slice(0,r.length-e),r.slice(r.length-e)];return o=o.replace(/(0+)$/,""),`${i?"-":""}${s||"0"}${o?`.${o}`:""}`}function Mj(n,e="wei"){return Cle(n,q2e[e])}function Os(n,e="wei"){return Cle(n,H2e[e])}class V2e extends tt{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class G2e extends tt{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function z$(n){return n.reduce((e,{slot:r,value:i})=>`${e}        ${r}: ${i}
`,"")}function Y2e(n){return n.reduce((e,{address:r,...i})=>{let s=`${e}    ${r}:
`;return i.nonce&&(s+=`      nonce: ${i.nonce}
`),i.balance&&(s+=`      balance: ${i.balance}
`),i.code&&(s+=`      code: ${i.code}
`),i.state&&(s+=`      state:
`,s+=z$(i.state)),i.stateDiff&&(s+=`      stateDiff:
`,s+=z$(i.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Jw(n){const e=Object.entries(n).map(([i,s])=>s===void 0||s===!1?null:[i,s]).filter(Boolean),r=e.reduce((i,[s])=>Math.max(i,s.length),0);return e.map(([i,s])=>`  ${`${i}:`.padEnd(r+1)}  ${s}`).join(`
`)}class K2e extends tt{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Jw(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class X2e extends tt{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f}){var m;const p=Jw({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${Mj(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${Os(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Os(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Os(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Ele extends tt{constructor({blockHash:e,blockNumber:r,blockTag:i,hash:s,index:o}){let a="Transaction";i&&o!==void 0&&(a=`Transaction at block time "${i}" at index "${o}"`),e&&o!==void 0&&(a=`Transaction at block hash "${e}" at index "${o}"`),r&&o!==void 0&&(a=`Transaction at block number "${r}" at index "${o}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class Ale extends tt{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Q2e extends tt{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class J2e extends tt{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Z2e=n=>n,Oj=n=>n;class Tle extends tt{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f,stateOverride:p}){var y;const m=r?Fi(r):void 0;let b=Jw({from:m==null?void 0:m.address,to:h,value:typeof f<"u"&&`${Mj(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${Os(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Os(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Os(u)} gwei`,nonce:d});p&&(b+=`
${Y2e(p)}`),super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Ple extends tt{constructor(e,{abi:r,args:i,contractAddress:s,docsPath:o,functionName:a,sender:l}){const c=hp({abi:r,args:i,name:a}),u=c?kle({abiItem:c,args:i,includeFunctionName:!1,includeName:!1}):void 0,d=c?Ra(c,{includeName:!0}):void 0,h=Jw({address:s&&Z2e(s),function:d,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:l});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=i,this.cause=e,this.contractAddress=s,this.functionName=a,this.sender=l}}class H8 extends tt{constructor({abi:e,data:r,functionName:i,message:s}){let o,a,l,c;if(r&&r!=="0x")try{a=W2e({abi:e,data:r});const{abiItem:d,errorName:h,args:f}=a;if(h==="Error")c=f[0];else if(h==="Panic"){const[p]=f;c=z2e[p]}else{const p=d?Ra(d,{includeName:!0}):void 0,m=d&&f?kle({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;l=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof Wae&&(u=o.signature,l=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${i}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${i}" reverted.`,{cause:o,metaMessages:l,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=r,this.reason=c,this.signature=u}}class eCe extends tt{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class tCe extends tt{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class oC extends tt{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Dj(n){var r,i,s,o,a,l;if(!(n instanceof tt))return!1;const e=n.walk(c=>c instanceof H8);return e instanceof H8?((r=e.data)==null?void 0:r.errorName)==="HttpError"||((i=e.data)==null?void 0:i.errorName)==="ResolverError"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=e.data)==null?void 0:o.errorName)==="ResolverNotFound"||((a=e.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((l=e.data)==null?void 0:l.errorName)==="UnsupportedResolverProfile":!1}function nCe(n){const{abi:e,data:r}=n,i=e0(r,0,4),s=e.find(o=>o.type==="function"&&i===Qw(Ra(o)));if(!s)throw new BSe(i,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Xw(s.inputs,e0(r,4)):void 0}}const U6="/docs/contract/encodeErrorResult";function U$(n){const{abi:e,errorName:r,args:i}=n;let s=e[0];if(r){const c=hp({abi:e,args:i,name:r});if(!c)throw new E$(r,{docsPath:U6});s=c}if(s.type!=="error")throw new E$(void 0,{docsPath:U6});const o=Ra(s),a=Qw(o);let l="0x";if(i&&i.length>0){if(!s.inputs)throw new RSe(s.name,{docsPath:U6});l=dp(s.inputs,i)}return W0([a,l])}const W6="/docs/contract/encodeFunctionResult";function rCe(n){const{abi:e,functionName:r,result:i}=n;let s=e[0];if(r){const a=hp({abi:e,name:r});if(!a)throw new Xg(r,{docsPath:W6});s=a}if(s.type!=="function")throw new Xg(void 0,{docsPath:W6});if(!s.outputs)throw new qae(s.name,{docsPath:W6});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[i];if(Array.isArray(i))return i;throw new Hae(i)})();return dp(s.outputs,o)}const aC="x-batch-gateway:true";async function iCe(n){const{data:e,ccipRequest:r}=n,{args:[i]}=nCe({abi:j8,data:e}),s=[],o=[];return await Promise.all(i.map(async(a,l)=>{try{o[l]=a.urls.includes(aC)?await iCe({data:a.data,ccipRequest:r}):await r(a),s[l]=!1}catch(c){s[l]=!0,o[l]=sCe(c)}})),rCe({abi:j8,functionName:"query",result:[s,o]})}function sCe(n){return n.name==="HttpRequestError"&&n.status?U$({abi:j8,errorName:"HttpError",args:[n.status,n.shortMessage]}):U$({abi:[Sle],errorName:"Error",args:["shortMessage"in n?n.shortMessage:n.message]})}function Ile(n){if(n.length!==66||n.indexOf("[")!==0||n.indexOf("]")!==65)return null;const e=`0x${n.slice(1,65)}`;return Rl(e)?e:null}function V8(n){let e=new Uint8Array(32).fill(0);if(!n)return qr(e);const r=n.split(".");for(let i=r.length-1;i>=0;i-=1){const s=Ile(r[i]),o=s?U0(s):yi(xf(r[i]),"bytes");e=yi(Ll([e,o]),"bytes")}return qr(e)}function oCe(n){return`[${n.slice(2)}]`}function aCe(n){const e=new Uint8Array(32).fill(0);return n?Ile(n)||yi(xf(n)):qr(e)}function Rj(n){const e=n.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(xf(e).byteLength+2);let i=0;const s=e.split(".");for(let o=0;o<s.length;o++){let a=xf(s[o]);a.byteLength>255&&(a=xf(oCe(aCe(s[o])))),r[i]=a.length,r.set(a,i+1),i+=a.length+1}return r.byteLength!==i+1?r.slice(0,i+1):r}function Rt(n,e,r){const i=n[e.name];if(typeof i=="function")return i;const s=n[r];return typeof s=="function"?s:o=>e(n,o)}class Hy extends tt{constructor({body:e,cause:r,details:i,headers:s,status:o,url:a}){super("HTTP request failed.",{cause:r,details:i,metaMessages:[o&&`Status: ${o}`,`URL: ${Oj(a)}`,e&&`Request body: ${oi(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=o,this.url=a}}class Nj extends tt{constructor({body:e,error:r,url:i}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Oj(i)}`,`Request body: ${oi(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=i}}class W$ extends tt{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Oj(r)}`,`Request body: ${oi(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const lCe=-1;class Ls extends tt{constructor(e,{code:r,docsPath:i,metaMessages:s,name:o,shortMessage:a}){super(a,{cause:e,docsPath:i,metaMessages:s||(e==null?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof Nj?e.code:r??lCe}}class yo extends Ls{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Dv extends Ls{constructor(e){super(e,{code:Dv.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Dv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Rv extends Ls{constructor(e){super(e,{code:Rv.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Rv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Nv extends Ls{constructor(e,{method:r}={}){super(e,{code:Nv.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Nv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class jv extends Ls{constructor(e){super(e,{code:jv.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class zf extends Ls{constructor(e){super(e,{code:zf.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(zf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Wd extends Ls{constructor(e){super(e,{code:Wd.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Bv extends Ls{constructor(e){super(e,{code:Bv.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Bv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Pl extends Ls{constructor(e){super(e,{code:Pl.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Pl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Lv extends Ls{constructor(e){super(e,{code:Lv.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Lv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Yh extends Ls{constructor(e,{method:r}={}){super(e,{code:Yh.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class t0 extends Ls{constructor(e){super(e,{code:t0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(t0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Fv extends Ls{constructor(e){super(e,{code:Fv.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Fv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class An extends yo{constructor(e){super(e,{code:An.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class $v extends yo{constructor(e){super(e,{code:$v.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty($v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class zv extends yo{constructor(e,{method:r}={}){super(e,{code:zv.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Uv extends yo{constructor(e){super(e,{code:Uv.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Uv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Wv extends yo{constructor(e){super(e,{code:Wv.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class so extends yo{constructor(e){super(e,{code:so.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(so,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class qv extends yo{constructor(e){super(e,{code:qv.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Hv extends yo{constructor(e){super(e,{code:Hv.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Hv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Vv extends yo{constructor(e){super(e,{code:Vv.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Gv extends yo{constructor(e){super(e,{code:Gv.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Yv extends yo{constructor(e){super(e,{code:Yv.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Kv extends yo{constructor(e){super(e,{code:Kv.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Kv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Xv extends yo{constructor(e){super(e,{code:Xv.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class cCe extends Ls{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const uCe=3;function n0(n,{abi:e,address:r,args:i,docsPath:s,functionName:o,sender:a}){const l=n instanceof oC?n:n instanceof tt?n.walk(m=>"data"in m)||n.walk():{},{code:c,data:u,details:d,message:h,shortMessage:f}=l,p=n instanceof Kw?new eCe({functionName:o}):[uCe,zf.code].includes(c)&&(u||d||h||f)||c===Wd.code&&d==="execution reverted"&&u?new H8({abi:e,data:typeof u=="object"?u.data:u,functionName:o,message:l instanceof Nj?d:f??h}):n;return new Ple(p,{abi:e,args:i,contractAddress:r,docsPath:s,functionName:o,sender:a})}const dCe="modulepreload",hCe=function(n){return"/"+n},q$={},ft=function(e,r,i){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=hCe(c),c in q$)return;q$[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":dCe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},fCe="0.1.1";function pCe(){return fCe}let sn=class fc extends Error{static setStaticOptions(e){fc.prototype.docsOrigin=e.docsOrigin,fc.prototype.showVersion=e.showVersion,fc.prototype.version=e.version}constructor(e,r={}){const i=(()=>{var d;if(r.cause instanceof fc){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(d=r.cause)!=null&&d.message?r.cause.message:r.details})(),s=r.cause instanceof fc&&r.cause.docsPath||r.docsPath,o=r.docsOrigin??fc.prototype.docsOrigin,a=`${o}${s??""}`,l=!!(r.version??fc.prototype.showVersion),c=r.version??fc.prototype.version,u=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...i||s||l?["",i?`Details: ${i}`:void 0,s?`See: ${a}`:void 0,l?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=r.cause,this.details=i,this.docs=a,this.docsOrigin=o,this.docsPath=s,this.shortMessage=e,this.showVersion=l,this.version=c}walk(e){return Mle(this,e)}};Object.defineProperty(sn,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${pCe()}`}});sn.setStaticOptions(sn.defaultStaticOptions);function Mle(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause?Mle(n.cause,e):e?null:n}function Zw(n,e){if(Pm(n)>e)throw new MCe({givenSize:Pm(n),maxSize:e})}const rc={zero:48,nine:57,A:65,F:70,a:97,f:102};function H$(n){if(n>=rc.zero&&n<=rc.nine)return n-rc.zero;if(n>=rc.A&&n<=rc.F)return n-(rc.A-10);if(n>=rc.a&&n<=rc.f)return n-(rc.a-10)}function mCe(n,e={}){const{dir:r,size:i=32}=e;if(i===0)return n;if(n.length>i)throw new OCe({size:n.length,targetSize:i,type:"Bytes"});const s=new Uint8Array(i);for(let o=0;o<i;o++){const a=r==="right";s[a?o:i-o-1]=n[a?o:n.length-o-1]}return s}function Ole(n,e={}){const{dir:r="left"}=e;let i=n,s=0;for(let o=0;o<i.length-1&&i[r==="left"?o:i.length-o-1].toString()==="0";o++)s++;return i=r==="left"?i.slice(s):i.slice(0,i.length-s),i}function lC(n,e){if(fo(n)>e)throw new LCe({givenSize:fo(n),maxSize:e})}function gCe(n,e){if(typeof e=="number"&&e>0&&e>fo(n)-1)throw new zle({offset:e,position:"start",size:fo(n)})}function bCe(n,e,r){if(typeof e=="number"&&typeof r=="number"&&fo(n)!==r-e)throw new zle({offset:r,position:"end",size:fo(n)})}function Dle(n,e={}){const{dir:r,size:i=32}=e;if(i===0)return n;const s=n.replace("0x","");if(s.length>i*2)throw new FCe({size:Math.ceil(s.length/2),targetSize:i,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](i*2,"0")}`}const yCe="#__bigint";function Rle(n,e,r){return JSON.stringify(n,(i,s)=>typeof s=="bigint"?s.toString()+yCe:s,r)}const vCe=new TextDecoder,wCe=new TextEncoder;function xCe(n){return n instanceof Uint8Array?n:typeof n=="string"?Nle(n):_Ce(n)}function _Ce(n){return n instanceof Uint8Array?n:new Uint8Array(n)}function Nle(n,e={}){const{size:r}=e;let i=n;r&&(lC(n,r),i=Wf(n,r));let s=i.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,a=new Uint8Array(o);for(let l=0,c=0;l<o;l++){const u=H$(s.charCodeAt(c++)),d=H$(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new sn(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);a[l]=u<<4|d}return a}function SCe(n,e={}){const{size:r}=e,i=wCe.encode(n);return typeof r=="number"?(Zw(i,r),kCe(i,r)):i}function kCe(n,e){return mCe(n,{dir:"right",size:e})}function Pm(n){return n.length}function CCe(n,e,r,i={}){const{strict:s}=i;return n.slice(e,r)}function ECe(n,e={}){const{size:r}=e;typeof r<"u"&&Zw(n,r);const i=ja(n,e);return Lle(i,e)}function ACe(n,e={}){const{size:r}=e;let i=n;if(typeof r<"u"&&(Zw(i,r),i=jle(i)),i.length>1||i[0]>1)throw new ICe(i);return!!i[0]}function Uc(n,e={}){const{size:r}=e;typeof r<"u"&&Zw(n,r);const i=ja(n,e);return Fle(i,e)}function TCe(n,e={}){const{size:r}=e;let i=n;return typeof r<"u"&&(Zw(i,r),i=PCe(i)),vCe.decode(i)}function jle(n){return Ole(n,{dir:"left"})}function PCe(n){return Ole(n,{dir:"right"})}class ICe extends sn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let MCe=class extends sn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},OCe=class extends sn{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const DCe=new TextEncoder,RCe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function NCe(n,e={}){const{strict:r=!1}=e;if(!n)throw new V$(n);if(typeof n!="string")throw new V$(n);if(r&&!/^0x[0-9a-fA-F]*$/.test(n))throw new G$(n);if(!n.startsWith("0x"))throw new G$(n)}function Na(...n){return`0x${n.reduce((e,r)=>e+r.replace("0x",""),"")}`}function jCe(n){return n instanceof Uint8Array?ja(n):Array.isArray(n)?ja(new Uint8Array(n)):n}function Ble(n,e={}){const r=`0x${Number(n)}`;return typeof e.size=="number"?(lC(r,e.size),Uf(r,e.size)):r}function ja(n,e={}){let r="";for(let s=0;s<n.length;s++)r+=RCe[n[s]];const i=`0x${r}`;return typeof e.size=="number"?(lC(i,e.size),Wf(i,e.size)):i}function Qi(n,e={}){const{signed:r,size:i}=e,s=BigInt(n);let o;i?r?o=(1n<<BigInt(i)*8n-1n)-1n:o=2n**(BigInt(i)*8n)-1n:typeof n=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<a){const u=typeof n=="bigint"?"n":"";throw new $le({max:o?`${o}${u}`:void 0,min:`${a}${u}`,signed:r,size:i,value:`${n}${u}`})}const c=`0x${(r&&s<0?BigInt.asUintN(i*8,BigInt(s)):s).toString(16)}`;return i?Uf(c,i):c}function jj(n,e={}){return ja(DCe.encode(n),e)}function Uf(n,e){return Dle(n,{dir:"left",size:e})}function Wf(n,e){return Dle(n,{dir:"right",size:e})}function Il(n,e,r,i={}){const{strict:s}=i;gCe(n,e);const o=`0x${n.replace("0x","").slice((e??0)*2,(r??n.length)*2)}`;return s&&bCe(o,e,r),o}function fo(n){return Math.ceil((n.length-2)/2)}function Lle(n,e={}){const{signed:r}=e;e.size&&lC(n,e.size);const i=BigInt(n);if(!r)return i;const s=(n.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,a=o>>1n;return i<=a?i:i-o-1n}function Fle(n,e={}){const{signed:r,size:i}=e;return Number(!r&&!i?n:Lle(n,e))}function BCe(n,e={}){const{strict:r=!1}=e;try{return NCe(n,{strict:r}),!0}catch{return!1}}class $le extends sn{constructor({max:e,min:r,signed:i,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${i?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class V$ extends sn{constructor(e){super(`Value \`${typeof e=="object"?Rle(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class G$ extends sn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class LCe extends sn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class zle extends sn{constructor({offset:e,position:r,size:i}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${i}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class FCe extends sn{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function $Ce(n){return{address:n.address,amount:Qi(n.amount),index:Qi(n.index),validatorIndex:Qi(n.validatorIndex)}}function Ule(n){return{...typeof n.baseFeePerGas=="bigint"&&{baseFeePerGas:Qi(n.baseFeePerGas)},...typeof n.blobBaseFee=="bigint"&&{blobBaseFee:Qi(n.blobBaseFee)},...typeof n.feeRecipient=="string"&&{feeRecipient:n.feeRecipient},...typeof n.gasLimit=="bigint"&&{gasLimit:Qi(n.gasLimit)},...typeof n.number=="bigint"&&{number:Qi(n.number)},...typeof n.prevRandao=="bigint"&&{prevRandao:Qi(n.prevRandao)},...typeof n.time=="bigint"&&{time:Qi(n.time)},...n.withdrawals&&{withdrawals:n.withdrawals.map($Ce)}}}const zCe="0x82ad56cb",Wle="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",UCe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",WCe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Bj="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",q6="/docs/contract/encodeDeployData";function Lj(n){const{abi:e,args:r,bytecode:i}=n;if(!r||r.length===0)return i;const s=e.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new ISe({docsPath:q6});if(!("inputs"in s))throw new C$({docsPath:q6});if(!s.inputs||s.inputs.length===0)throw new C$({docsPath:q6});const o=dp(s.inputs,r);return W0([i,o])}class Im extends tt{constructor({cause:e,message:r}={}){var s;const i=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Im,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Im,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class hk extends tt{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Os(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(hk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class G8 extends tt{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Os(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(G8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Y8 extends tt{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Y8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class K8 extends tt{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(K8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class X8 extends tt{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(X8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Q8 extends tt{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Q8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class J8 extends tt{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(J8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Z8 extends tt{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Z8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class eR extends tt{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(eR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class fk extends tt{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Os(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${Os(i)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(fk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ex extends tt{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function cC(n,e){const r=(n.details||"").toLowerCase(),i=n instanceof tt?n.walk(s=>(s==null?void 0:s.code)===Im.code):n;return i instanceof tt?new Im({cause:n,message:i.details}):Im.nodeMessage.test(r)?new Im({cause:n,message:n.details}):hk.nodeMessage.test(r)?new hk({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):G8.nodeMessage.test(r)?new G8({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Y8.nodeMessage.test(r)?new Y8({cause:n,nonce:e==null?void 0:e.nonce}):K8.nodeMessage.test(r)?new K8({cause:n,nonce:e==null?void 0:e.nonce}):X8.nodeMessage.test(r)?new X8({cause:n,nonce:e==null?void 0:e.nonce}):Q8.nodeMessage.test(r)?new Q8({cause:n}):J8.nodeMessage.test(r)?new J8({cause:n,gas:e==null?void 0:e.gas}):Z8.nodeMessage.test(r)?new Z8({cause:n,gas:e==null?void 0:e.gas}):eR.nodeMessage.test(r)?new eR({cause:n}):fk.nodeMessage.test(r)?new fk({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new ex({cause:n})}function qle(n,{docsPath:e,...r}){const i=(()=>{const s=cC(n,r);return s instanceof ex?n:s})();return new Tle(i,{docsPath:e,...r})}function uC(n,{format:e}){if(!e)return{};const r={};function i(o){const a=Object.keys(o);for(const l of a)l in n&&(r[l]=n[l]),o[l]&&typeof o[l]=="object"&&!Array.isArray(o[l])&&i(o[l])}const s=e(n||{});return i(s),r}const qCe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function tx(n,e){const r={};return typeof n.authorizationList<"u"&&(r.authorizationList=HCe(n.authorizationList)),typeof n.accessList<"u"&&(r.accessList=n.accessList),typeof n.blobVersionedHashes<"u"&&(r.blobVersionedHashes=n.blobVersionedHashes),typeof n.blobs<"u"&&(typeof n.blobs[0]!="string"?r.blobs=n.blobs.map(i=>qr(i)):r.blobs=n.blobs),typeof n.data<"u"&&(r.data=n.data),n.account&&(r.from=n.account.address),typeof n.from<"u"&&(r.from=n.from),typeof n.gas<"u"&&(r.gas=kt(n.gas)),typeof n.gasPrice<"u"&&(r.gasPrice=kt(n.gasPrice)),typeof n.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=kt(n.maxFeePerBlobGas)),typeof n.maxFeePerGas<"u"&&(r.maxFeePerGas=kt(n.maxFeePerGas)),typeof n.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=kt(n.maxPriorityFeePerGas)),typeof n.nonce<"u"&&(r.nonce=kt(n.nonce)),typeof n.to<"u"&&(r.to=n.to),typeof n.type<"u"&&(r.type=qCe[n.type]),typeof n.value<"u"&&(r.value=kt(n.value)),r}function HCe(n){return n.map(e=>({address:e.address,r:e.r?kt(BigInt(e.r)):e.r,s:e.s?kt(BigInt(e.s)):e.s,chainId:kt(e.chainId),nonce:kt(e.nonce),...typeof e.yParity<"u"?{yParity:kt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:kt(e.v)}:{}}))}function Hle(){let n=()=>{},e=()=>{};return{promise:new Promise((i,s)=>{n=i,e=s}),resolve:n,reject:e}}const H6=new Map;function Vle({fn:n,id:e,shouldSplitBatch:r,wait:i=0,sort:s}){const o=async()=>{const d=c();a();const h=d.map(({args:f})=>f);h.length!==0&&n(h).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let p=0;p<d.length;p++){const{resolve:m}=d[p];m==null||m([f[p],f])}}).catch(f=>{for(let p=0;p<d.length;p++){const{reject:m}=d[p];m==null||m(f)}})},a=()=>H6.delete(e),l=()=>c().map(({args:d})=>d),c=()=>H6.get(e)||[],u=d=>H6.set(e,[...c(),d]);return{flush:a,async schedule(d){const{promise:h,resolve:f,reject:p}=Hle();return(r==null?void 0:r([...l(),d]))&&o(),c().length>0?(u({args:d,resolve:f,reject:p}),h):(u({args:d,resolve:f,reject:p}),setTimeout(o,i),h)}}}function Y$(n){if(!(!n||n.length===0))return n.reduce((e,{slot:r,value:i})=>{if(r.length!==66)throw new T$({size:r.length,targetSize:66,type:"hex"});if(i.length!==66)throw new T$({size:i.length,targetSize:66,type:"hex"});return e[r]=i,e},{})}function VCe(n){const{balance:e,nonce:r,state:i,stateDiff:s,code:o}=n,a={};if(o!==void 0&&(a.code=o),e!==void 0&&(a.balance=kt(e)),r!==void 0&&(a.nonce=kt(r)),i!==void 0&&(a.state=Y$(i)),s!==void 0){if(a.state)throw new G2e;a.stateDiff=Y$(s)}return a}function Fj(n){if(!n)return;const e={};for(const{address:r,...i}of n){if(!ho(r,{strict:!1}))throw new Ud({address:r});if(e[r])throw new V2e({address:r});e[r]=VCe(i)}return e}const GCe=2n**256n-1n;function V0(n){const{account:e,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=n,o=e?Fi(e):void 0;if(o&&!ho(o.address))throw new Ud({address:o.address});if(s&&!ho(s))throw new Ud({address:s});if(r&&r>GCe)throw new hk({maxFeePerGas:r});if(i&&r&&i>r)throw new fk({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function dC(n,e){var $,z,D,j;const{account:r=n.account,authorizationList:i,batch:s=!!(($=n.batch)!=null&&$.multicall),blockNumber:o,blockTag:a=n.experimental_blockTag??"latest",accessList:l,blobs:c,blockOverrides:u,code:d,data:h,factory:f,factoryData:p,gas:m,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:_,to:x,value:S,stateOverride:C,...E}=e,T=r?Fi(r):void 0;if(d&&(f||p))throw new tt("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&x)throw new tt("Cannot provide both `code` & `to` as parameters.");const M=d&&h,I=f&&p&&x&&h,O=M||I,F=M?Gle({code:d,data:h}):I?XCe({data:h,factory:f,factoryData:p,to:x}):h;try{V0(e);const R=(typeof o=="bigint"?kt(o):void 0)||a,H=u?Ule(u):void 0,U=Fj(C),K=(j=(D=(z=n.chain)==null?void 0:z.formatters)==null?void 0:D.transactionRequest)==null?void 0:j.format,J=(K||tx)({...uC(E,{format:K}),accessList:l,account:T,authorizationList:i,blobs:c,data:F,gas:m,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:_,to:O?void 0:x,value:S},"call");if(s&&YCe({request:J})&&!U&&!H)try{return await KCe(n,{...J,blockNumber:o,blockTag:a})}catch(ae){if(!(ae instanceof _le)&&!(ae instanceof q8))throw ae}const G=(()=>{const ae=[J,R];return U&&H?[...ae,U,H]:U?[...ae,U]:H?[...ae,{},H]:ae})(),X=await n.request({method:"eth_call",params:G});return X==="0x"?{data:void 0}:{data:X}}catch(N){const R=QCe(N),{offchainLookup:H,offchainLookupSignature:U}=await ft(async()=>{const{offchainLookup:K,offchainLookupSignature:Y}=await import("./ccip-AEyPZMhp.js");return{offchainLookup:K,offchainLookupSignature:Y}},[]);if(n.ccipRead!==!1&&(R==null?void 0:R.slice(0,10))===U&&x)return{data:await H(n,{data:R,to:x})};throw O&&(R==null?void 0:R.slice(0,10))==="0x101bb98d"?new tCe({factory:f}):qle(N,{...e,account:T,chain:n.chain})}}function YCe({request:n}){const{data:e,to:r,...i}=n;return!(!e||e.startsWith(zCe)||!r||Object.values(i).filter(s=>typeof s<"u").length>0)}async function KCe(n,e){var b;const{batchSize:r=1024,deployless:i=!1,wait:s=0}=typeof((b=n.batch)==null?void 0:b.multicall)=="object"?n.batch.multicall:{},{blockNumber:o,blockTag:a=n.experimental_blockTag??"latest",data:l,to:c}=e,u=(()=>{if(i)return null;if(e.multicallAddress)return e.multicallAddress;if(n.chain)return H0({blockNumber:o,chain:n.chain,contract:"multicall3"});throw new _le})(),h=(typeof o=="bigint"?kt(o):void 0)||a,{schedule:f}=Vle({id:`${n.uid}.${h}`,wait:s,shouldSplitBatch(y){return y.reduce((w,{data:_})=>w+(_.length-2),0)>r*2},fn:async y=>{const v=y.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),w=Wa({abi:ck,args:[v],functionName:"aggregate3"}),_=await n.request({method:"eth_call",params:[{...u===null?{data:Gle({code:Bj,data:w})}:{to:u,data:w}},h]});return fp({abi:ck,args:[v],functionName:"aggregate3",data:_||"0x"})}}),[{returnData:p,success:m}]=await f({data:l,to:c});if(!m)throw new oC({data:p});return p==="0x"?{data:void 0}:{data:p}}function Gle(n){const{code:e,data:r}=n;return Lj({abi:vle(["constructor(bytes, bytes)"]),bytecode:Wle,args:[e,r]})}function XCe(n){const{data:e,factory:r,factoryData:i,to:s}=n;return Lj({abi:vle(["constructor(address, bytes, address, bytes)"]),bytecode:UCe,args:[s,e,r,i]})}function QCe(n){var r;if(!(n instanceof tt))return;const e=n.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}async function Ba(n,e){const{abi:r,address:i,args:s,functionName:o,...a}=e,l=Wa({abi:r,args:s,functionName:o});try{const{data:c}=await Rt(n,dC,"call")({...a,data:l,to:i});return fp({abi:r,args:s,functionName:o,data:c||"0x"})}catch(c){throw n0(c,{abi:r,address:i,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function JCe(n,e){const{blockNumber:r,blockTag:i,coinType:s,name:o,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return H0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;const h=s!=null?[V8(o),BigInt(s)]:[V8(o)];try{const f=Wa({abi:S$,functionName:"addr",args:h}),p={address:u,abi:Lae,functionName:"resolveWithGateways",args:[iu(Rj(o)),f,a??[aC]],blockNumber:r,blockTag:i},b=await Rt(n,Ba,"readContract")(p);if(b[0]==="0x")return null;const y=fp({abi:S$,args:h,functionName:"addr",data:b[0]});return y==="0x"||wf(y)==="0x00"?null:y}catch(f){if(l)throw f;if(Dj(f))return null;throw f}}class ZCe extends tt{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ob extends tt{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class $j extends tt{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class eEe extends tt{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const tEe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,nEe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,rEe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,iEe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function sEe(n){try{const e=await fetch(n,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const i=new Image;i.onload=()=>{r(!0)},i.onerror=()=>{r(!1)},i.src=n})}}function K$(n,e){return n?n.endsWith("/")?n.slice(0,-1):n:e}function Yle({uri:n,gatewayUrls:e}){const r=rEe.test(n);if(r)return{uri:n,isOnChain:!0,isEncoded:r};const i=K$(e==null?void 0:e.ipfs,"https://ipfs.io"),s=K$(e==null?void 0:e.arweave,"https://arweave.net"),o=n.match(tEe),{protocol:a,subpath:l,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=a==="ipns:/"||l==="ipns/",h=a==="ipfs:/"||l==="ipfs/"||nEe.test(n);if(n.startsWith("http")&&!d&&!h){let p=n;return e!=null&&e.arweave&&(p=n.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||h)&&c)return{uri:`${i}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=n.replace(iEe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new $j({uri:n})}function Kle(n){if(typeof n!="object"||!("image"in n)&&!("image_url"in n)&&!("image_data"in n))throw new ZCe({data:n});return n.image||n.image_url||n.image_data}async function oEe({gatewayUrls:n,uri:e}){try{const r=await fetch(e).then(s=>s.json());return await zj({gatewayUrls:n,uri:Kle(r)})}catch{throw new $j({uri:e})}}async function zj({gatewayUrls:n,uri:e}){const{uri:r,isOnChain:i}=Yle({uri:e,gatewayUrls:n});if(i||await sEe(r))return r;throw new $j({uri:e})}function aEe(n){let e=n;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,i,s]=e.split("/"),[o,a]=r.split(":"),[l,c]=i.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ob({reason:"Only EIP-155 supported"});if(!a)throw new Ob({reason:"Chain ID not found"});if(!c)throw new Ob({reason:"Contract address not found"});if(!s)throw new Ob({reason:"Token ID not found"});if(!l)throw new Ob({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:l.toLowerCase(),contractAddress:c,tokenID:s}}async function lEe(n,{nft:e}){if(e.namespace==="erc721")return Ba(n,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ba(n,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new eEe({namespace:e.namespace})}async function cEe(n,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?uEe(n,{gatewayUrls:e,record:r}):zj({uri:r,gatewayUrls:e})}async function uEe(n,{gatewayUrls:e,record:r}){const i=aEe(r),s=await lEe(n,{nft:i}),{uri:o,isOnChain:a,isEncoded:l}=Yle({uri:s,gatewayUrls:e});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=l?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return zj({uri:Kle(d),gatewayUrls:e})}let c=i.tokenID;return i.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),oEe({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,c)})}async function Xle(n,e){const{blockNumber:r,blockTag:i,key:s,name:o,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return H0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(h=>o.endsWith(h)))return null;try{const h={address:u,abi:Lae,args:[iu(Rj(o)),Wa({abi:_$,functionName:"text",args:[V8(o),s]}),a??[aC]],functionName:"resolveWithGateways",blockNumber:r,blockTag:i},p=await Rt(n,Ba,"readContract")(h);if(p[0]==="0x")return null;const m=fp({abi:_$,functionName:"text",data:p[0]});return m===""?null:m}catch(h){if(l)throw h;if(Dj(h))return null;throw h}}async function Qle(n,{blockNumber:e,blockTag:r,assetGatewayUrls:i,name:s,gatewayUrls:o,strict:a,universalResolverAddress:l}){const c=await Rt(n,Xle,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:s,universalResolverAddress:l,gatewayUrls:o,strict:a});if(!c)return null;try{return await cEe(n,{record:c,gatewayUrls:i})}catch{return null}}async function Jle(n,e){const{address:r,blockNumber:i,blockTag:s,coinType:o=60n,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return H0({blockNumber:i,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:TSe,args:[r,o,a??[aC]],functionName:"reverseWithGateways",blockNumber:i,blockTag:s},h=Rt(n,Ba,"readContract"),[f]=await h(d);return f||null}catch(d){if(l)throw d;if(Dj(d))return null;throw d}}async function dEe(n,e){const{blockNumber:r,blockTag:i,name:s}=e,{chain:o}=n,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return H0({blockNumber:r,chain:o,contract:"ensUniversalResolver"})})(),l=o==null?void 0:o.ensTlds;if(l&&!l.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${l==null?void 0:l.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await Rt(n,Ba,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[iu(Rj(s))],blockNumber:r,blockTag:i});return c}async function Zle(n,e){var y,v,w;const{account:r=n.account,blockNumber:i,blockTag:s="latest",blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p,...m}=e,b=r?Fi(r):void 0;try{V0(e);const x=(typeof i=="bigint"?kt(i):void 0)||s,S=(w=(v=(y=n.chain)==null?void 0:y.formatters)==null?void 0:v.transactionRequest)==null?void 0:w.format,E=(S||tx)({...uC(m,{format:S}),account:b,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),T=await n.request({method:"eth_createAccessList",params:[E,x]});return{accessList:T.accessList,gasUsed:BigInt(T.gasUsed)}}catch(_){throw qle(_,{...e,account:b,chain:n.chain})}}function hC(n,{method:e}){var i,s;const r={};return n.transport.type==="fallback"&&((s=(i=n.transport).onResponse)==null||s.call(i,({method:o,response:a,status:l,transport:c})=>{l==="success"&&e===o&&(r[a]=c.request)})),o=>r[o]||n.request}async function hEe(n){const e=hC(n,{method:"eth_newBlockFilter"}),r=await n.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}class fEe extends tt{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const X$="/docs/contract/encodeEventTopics";function nx(n){var c;const{abi:e,eventName:r,args:i}=n;let s=e[0];if(r){const u=hp({abi:e,name:r});if(!u)throw new A$(r,{docsPath:X$});s=u}if(s.type!=="event")throw new A$(void 0,{docsPath:X$});const o=Ra(s),a=sC(o);let l=[];if(i&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(h=>"indexed"in h&&h.indexed),d=Array.isArray(i)?i:Object.values(i).length>0?(u==null?void 0:u.map(h=>i[h.name]))??[]:[];d.length>0&&(l=(u==null?void 0:u.map((h,f)=>Array.isArray(d[f])?d[f].map((p,m)=>Q$({param:h,value:d[f][m]})):typeof d[f]<"u"&&d[f]!==null?Q$({param:h,value:d[f]}):null))??[])}return[a,...l]}function Q$({param:n,value:e}){if(n.type==="string"||n.type==="bytes")return yi(U0(e));if(n.type==="tuple"||n.type.match(/^(.*)\[(\d+)?\]$/))throw new fEe(n.type);return dp([n],[e])}async function ece(n,e){const{address:r,abi:i,args:s,eventName:o,fromBlock:a,strict:l,toBlock:c}=e,u=hC(n,{method:"eth_newFilter"}),d=o?nx({abi:i,args:s,eventName:o}):void 0,h=await n.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof a=="bigint"?kt(a):a,toBlock:typeof c=="bigint"?kt(c):c,topics:d}]});return{abi:i,args:s,eventName:o,id:h,request:u(h),strict:!!l,type:"event"}}async function tce(n,{address:e,args:r,event:i,events:s,fromBlock:o,strict:a,toBlock:l}={}){const c=s??(i?[i]:void 0),u=hC(n,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(p=>nx({abi:[p],eventName:p.name,args:r}))],i&&(d=d[0]));const h=await n.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?kt(o):o,toBlock:typeof l=="bigint"?kt(l):l,...d.length?{topics:d}:{}}]});return{abi:c,args:r,eventName:i?i.name:void 0,fromBlock:o,id:h,request:u(h),strict:!!a,toBlock:l,type:"event"}}async function nce(n){const e=hC(n,{method:"eth_newPendingTransactionFilter"}),r=await n.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}function pEe(n){const e=yi(`0x${n.substring(4)}`).substring(26);return rC(`0x${e}`)}async function mEe({hash:n,signature:e}){const r=Rl(n)?n:iu(n),{secp256k1:i}=await ft(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>j3e);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:h,yParity:f}=e,p=Number(f??h),m=J$(p);return new i.Signature(Nl(u),Nl(d)).addRecoveryBit(m)}const a=Rl(e)?e:iu(e);if(br(a)!==65)throw new Error("invalid signature length");const l=jl(`0x${a.slice(130)}`),c=J$(l);return i.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function J$(n){if(n===0||n===1)return n;if(n===27)return 0;if(n===28)return 1;throw new Error("Invalid yParityOrV value")}async function rce({hash:n,signature:e}){return pEe(await mEe({hash:n,signature:e}))}function gEe(n,e="hex"){const r=ice(n),i=Ej(new Uint8Array(r.length));return r.encode(i),e==="hex"?qr(i.bytes):i.bytes}function ice(n){return Array.isArray(n)?bEe(n.map(e=>ice(e))):yEe(n)}function bEe(n){const e=n.reduce((s,o)=>s+o.length,0),r=sce(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:o}of n)o(s)}}}function yEe(n){const e=typeof n=="string"?Bl(n):n,r=sce(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function sce(n){if(n<2**8)return 1;if(n<2**16)return 2;if(n<2**24)return 3;if(n<2**32)return 4;throw new tt("Length is too large.")}function vEe(n){const{chainId:e,nonce:r,to:i}=n,s=n.contractAddress??n.address,o=yi(W0(["0x05",gEe([e?kt(e):"0x",s,r?kt(r):"0x"])]));return i==="bytes"?Bl(o):o}async function oce(n){const{authorization:e,signature:r}=n;return rce({hash:vEe(e),signature:r??e})}class wEe extends tt{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f}){var m;const p=Jw({from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${Mj(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${Os(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Os(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Os(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function xEe(n,{docsPath:e,...r}){const i=(()=>{const s=cC(n,r);return s instanceof ex?n:s})();return new wEe(i,{docsPath:e,...r})}class ace extends tt{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Uj extends tt{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class _Ee extends tt{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Os(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class lce extends tt{constructor({blockHash:e,blockNumber:r}){let i="Block";e&&(i=`Block at hash "${e}"`),r&&(i=`Block at number "${r}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}const cce={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Wj(n,e){const r={...n,blockHash:n.blockHash?n.blockHash:null,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,chainId:n.chainId?jl(n.chainId):void 0,gas:n.gas?BigInt(n.gas):void 0,gasPrice:n.gasPrice?BigInt(n.gasPrice):void 0,maxFeePerBlobGas:n.maxFeePerBlobGas?BigInt(n.maxFeePerBlobGas):void 0,maxFeePerGas:n.maxFeePerGas?BigInt(n.maxFeePerGas):void 0,maxPriorityFeePerGas:n.maxPriorityFeePerGas?BigInt(n.maxPriorityFeePerGas):void 0,nonce:n.nonce?jl(n.nonce):void 0,to:n.to?n.to:null,transactionIndex:n.transactionIndex?Number(n.transactionIndex):null,type:n.type?cce[n.type]:void 0,typeHex:n.type?n.type:void 0,value:n.value?BigInt(n.value):void 0,v:n.v?BigInt(n.v):void 0};return n.authorizationList&&(r.authorizationList=SEe(n.authorizationList)),r.yParity=(()=>{if(n.yParity)return Number(n.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function SEe(n){return n.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function uce(n,e){const r=(n.transactions??[]).map(i=>typeof i=="string"?i:Wj(i));return{...n,baseFeePerGas:n.baseFeePerGas?BigInt(n.baseFeePerGas):null,blobGasUsed:n.blobGasUsed?BigInt(n.blobGasUsed):void 0,difficulty:n.difficulty?BigInt(n.difficulty):void 0,excessBlobGas:n.excessBlobGas?BigInt(n.excessBlobGas):void 0,gasLimit:n.gasLimit?BigInt(n.gasLimit):void 0,gasUsed:n.gasUsed?BigInt(n.gasUsed):void 0,hash:n.hash?n.hash:null,logsBloom:n.logsBloom?n.logsBloom:null,nonce:n.nonce?n.nonce:null,number:n.number?BigInt(n.number):null,size:n.size?BigInt(n.size):void 0,timestamp:n.timestamp?BigInt(n.timestamp):void 0,transactions:r,totalDifficulty:n.totalDifficulty?BigInt(n.totalDifficulty):null}}async function Aa(n,{blockHash:e,blockNumber:r,blockTag:i=n.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,h;const o=s??!1,a=r!==void 0?kt(r):void 0;let l=null;if(e?l=await n.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):l=await n.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!l)throw new lce({blockHash:e,blockNumber:r});return(((h=(d=(u=n.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||uce)(l,"getBlock")}async function qj(n){const e=await n.request({method:"eth_gasPrice"});return BigInt(e)}async function kEe(n,e){return dce(n,e)}async function dce(n,e){var o,a;const{block:r,chain:i=n.chain,request:s}=e||{};try{const l=((o=i==null?void 0:i.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=i==null?void 0:i.fees)==null?void 0:a.defaultPriorityFee);if(typeof l=="function"){const u=r||await Rt(n,Aa,"getBlock")({}),d=await l({block:u,client:n,request:s});if(d===null)throw new Error;return d}if(typeof l<"u")return l;const c=await n.request({method:"eth_maxPriorityFeePerGas"});return Nl(c)}catch{const[l,c]=await Promise.all([r?Promise.resolve(r):Rt(n,Aa,"getBlock")({}),Rt(n,qj,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new Uj;const u=c-l.baseFeePerGas;return u<0n?0n:u}}async function CEe(n,e){return tR(n,e)}async function tR(n,e){var f,p;const{block:r,chain:i=n.chain,request:s,type:o="eip1559"}=e||{},a=await(async()=>{var m,b;return typeof((m=i==null?void 0:i.fees)==null?void 0:m.baseFeeMultiplier)=="function"?i.fees.baseFeeMultiplier({block:r,client:n,request:s}):((b=i==null?void 0:i.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new ace;const c=10**(((f=a.toString().split(".")[1])==null?void 0:f.length)??0),u=m=>m*BigInt(Math.ceil(a*c))/BigInt(c),d=r||await Rt(n,Aa,"getBlock")({});if(typeof((p=i==null?void 0:i.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const m=await i.fees.estimateFeesPerGas({block:r,client:n,multiply:u,request:s,type:o});if(m!==null)return m}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Uj;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await dce(n,{block:d,chain:i,request:s}),b=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await Rt(n,qj,"getGasPrice")({}))}}async function hce(n,{address:e,blockTag:r="latest",blockNumber:i}){const s=await n.request({method:"eth_getTransactionCount",params:[e,typeof i=="bigint"?kt(i):r]},{dedupe:!!i});return jl(s)}function fce(n){const{kzg:e}=n,r=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),i=typeof n.blobs[0]=="string"?n.blobs.map(o=>Bl(o)):n.blobs,s=[];for(const o of i)s.push(Uint8Array.from(e.blobToKzgCommitment(o)));return r==="bytes"?s:s.map(o=>qr(o))}function pce(n){const{kzg:e}=n,r=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),i=typeof n.blobs[0]=="string"?n.blobs.map(a=>Bl(a)):n.blobs,s=typeof n.commitments[0]=="string"?n.commitments.map(a=>Bl(a)):n.commitments,o=[];for(let a=0;a<i.length;a++){const l=i[a],c=s[a];o.push(Uint8Array.from(e.computeBlobKzgProof(l,c)))}return r==="bytes"?o:o.map(a=>qr(a))}function EEe(n,e,r,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),c=i?4:0,u=i?0:4;n.setUint32(e+c,a,i),n.setUint32(e+u,l,i)}function AEe(n,e,r){return n&e^~n&r}function TEe(n,e,r){return n&e^n&r^e&r}class PEe extends Cj{constructor(e,r,i,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.buffer=new Uint8Array(e),this.view=B6(this.buffer)}update(e){Jg(this),e=tC(e),$f(e);const{view:r,buffer:i,blockLen:s}=this,o=e.length;for(let a=0;a<o;){const l=Math.min(s-this.pos,o-a);if(l===s){const c=B6(e);for(;s<=o-a;a+=s)this.process(c,a);continue}i.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jg(this),Xae(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,Zg(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(i,0),a=0);for(let h=a;h<s;h++)r[h]=0;EEe(i,s-8,BigInt(this.length*8),o),this.process(i,0);const l=B6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)l.setUint32(4*h,d[h],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:l}=this;return e.destroyed=a,e.finished=o,e.length=s,e.pos=l,s%r&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const Iu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),IEe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mu=new Uint32Array(64);let MEe=class extends PEe{constructor(e=32){super(64,e,8,!1),this.A=Iu[0]|0,this.B=Iu[1]|0,this.C=Iu[2]|0,this.D=Iu[3]|0,this.E=Iu[4]|0,this.F=Iu[5]|0,this.G=Iu[6]|0,this.H=Iu[7]|0}get(){const{A:e,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;return[e,r,i,s,o,a,l,c]}set(e,r,i,s,o,a,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)Mu[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=Mu[h-15],p=Mu[h-2],m=Ja(f,7)^Ja(f,18)^f>>>3,b=Ja(p,17)^Ja(p,19)^p>>>10;Mu[h]=b+Mu[h-7]+m+Mu[h-16]|0}let{A:i,B:s,C:o,D:a,E:l,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const f=Ja(l,6)^Ja(l,11)^Ja(l,25),p=d+f+AEe(l,c,u)+IEe[h]+Mu[h]|0,b=(Ja(i,2)^Ja(i,13)^Ja(i,22))+TEe(i,s,o)|0;d=u,u=c,c=l,l=a+p|0,a=o,o=s,s=i,i=p+b|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,l,c,u,d)}roundClean(){Zg(Mu)}destroy(){this.set(0,0,0,0,0,0,0,0),Zg(this.buffer)}};const mce=Qae(()=>new MEe),OEe=mce;function DEe(n,e){return OEe(Rl(n,{strict:!1})?U0(n):n)}function REe(n){const{commitment:e,version:r=1}=n,i=n.to??(typeof e=="string"?"hex":"bytes"),s=DEe(e);return s.set([r],0),i==="bytes"?s:qr(s)}function NEe(n){const{commitments:e,version:r}=n,i=n.to,s=[];for(const o of e)s.push(REe({commitment:o,to:i,version:r}));return s}const Z$=6,gce=32,Hj=4096,bce=gce*Hj,ez=bce*Z$-1-1*Hj*Z$;class jEe extends tt{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class BEe extends tt{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function LEe(n){const e=typeof n.data=="string"?Bl(n.data):n.data,r=br(e);if(!r)throw new BEe;if(r>ez)throw new jEe({maxSize:ez,size:r});const i=[];let s=!0,o=0;for(;s;){const a=Ej(new Uint8Array(bce));let l=0;for(;l<Hj;){const c=e.slice(o,o+(gce-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}l++,o+=31}i.push(a)}return i.map(a=>qr(a.bytes))}function FEe(n){const{data:e,kzg:r,to:i}=n,s=n.blobs??LEe({data:e}),o=n.commitments??fce({blobs:s,kzg:r,to:i}),a=n.proofs??pce({blobs:s,commitments:o,kzg:r,to:i}),l=[];for(let c=0;c<s.length;c++)l.push({blob:s[c],commitment:o[c],proof:a[c]});return l}function $Ee(n){if(n.type)return n.type;if(typeof n.authorizationList<"u")return"eip7702";if(typeof n.blobs<"u"||typeof n.blobVersionedHashes<"u"||typeof n.maxFeePerBlobGas<"u"||typeof n.sidecars<"u")return"eip4844";if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")return"eip1559";if(typeof n.gasPrice<"u")return typeof n.accessList<"u"?"eip2930":"legacy";throw new K2e({transaction:n})}function zEe(n,{docsPath:e,...r}){const i=(()=>{const s=cC(n,r);return s instanceof ex?n:s})();return new X2e(i,{docsPath:e,...r})}async function Vj(n){const e=await n.request({method:"eth_chainId"},{dedupe:!0});return jl(e)}async function yce(n,e){var T,M,I,O,F;const{account:r=n.account,accessList:i,authorizationList:s,chain:o=n.chain,blobVersionedHashes:a,blobs:l,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:b,to:y,type:v,value:w,..._}=e,x=await(async()=>{if(!r||!b||typeof m<"u")return m;const $=Fi(r),z=o?o.id:await Rt(n,Vj,"getChainId")({});return await b.consume({address:$.address,chainId:z,client:n})})();V0(e);const S=(M=(T=o==null?void 0:o.formatters)==null?void 0:T.transactionRequest)==null?void 0:M.format,E=(S||tx)({...uC(_,{format:S}),account:r?Fi(r):void 0,accessList:i,authorizationList:s,blobs:l,blobVersionedHashes:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:x,to:y,type:v,value:w},"fillTransaction");try{const $=await n.request({method:"eth_fillTransaction",params:[E]}),D=(((O=(I=o==null?void 0:o.formatters)==null?void 0:I.transaction)==null?void 0:O.format)||Wj)($.tx);delete D.blockHash,delete D.blockNumber,delete D.r,delete D.s,delete D.transactionIndex,delete D.v,delete D.yParity,D.data=D.input,D.gas&&(D.gas=e.gas??D.gas),D.gasPrice&&(D.gasPrice=e.gasPrice??D.gasPrice),D.maxFeePerBlobGas&&(D.maxFeePerBlobGas=e.maxFeePerBlobGas??D.maxFeePerBlobGas),D.maxFeePerGas&&(D.maxFeePerGas=e.maxFeePerGas??D.maxFeePerGas),D.maxPriorityFeePerGas&&(D.maxPriorityFeePerGas=e.maxPriorityFeePerGas??D.maxPriorityFeePerGas),D.nonce&&(D.nonce=e.nonce??D.nonce);const j=await(async()=>{var U,K;if(typeof((U=o==null?void 0:o.fees)==null?void 0:U.baseFeeMultiplier)=="function"){const Y=await Rt(n,Aa,"getBlock")({});return o.fees.baseFeeMultiplier({block:Y,client:n,request:e})}return((K=o==null?void 0:o.fees)==null?void 0:K.baseFeeMultiplier)??1.2})();if(j<1)throw new ace;const R=10**(((F=j.toString().split(".")[1])==null?void 0:F.length)??0),H=U=>U*BigInt(Math.ceil(j*R))/BigInt(R);return D.maxFeePerGas&&!e.maxFeePerGas&&(D.maxFeePerGas=H(D.maxFeePerGas)),D.gasPrice&&!e.gasPrice&&(D.gasPrice=H(D.gasPrice)),{raw:$.raw,transaction:{from:E.from,...D}}}catch($){throw zEe($,{...e,chain:n.chain})}}const UEe=["blobVersionedHashes","chainId","fees","gas","nonce","type"],tz=new Map,V6=new nC(128);async function vce(n,e){var x,S,C;let r=e;r.account??(r.account=n.account),r.chain??(r.chain=n.chain),r.parameters??(r.parameters=UEe);const{account:i,chain:s,nonceManager:o,parameters:a}=r,l=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof r.chainId<"u"?r.chainId:s?s.id:(c=await Rt(n,Vj,"getChainId")({}),c))}const d=i&&Fi(i);let h=r.nonce;if(a.includes("nonce")&&typeof h>"u"&&d&&o){const E=await u();h=await o.consume({address:d.address,chainId:E,client:n})}l!=null&&l.fn&&((x=l.runAt)!=null&&x.includes("beforeFillTransaction"))&&(r=await l.fn(r,{phase:"beforeFillTransaction"}),h??(h=r.nonce));const p=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&r.kzg&&r.blobs||V6.get(n.uid)===!1||!["fees","gas"].some(T=>a.includes(T))?!1:!!(a.includes("chainId")&&typeof r.chainId!="number"||a.includes("nonce")&&typeof h!="number"||a.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof r.gas!="bigint"))?await Rt(n,yce,"fillTransaction")({...r,nonce:h}).then(E=>{const{chainId:T,from:M,gas:I,gasPrice:O,nonce:F,maxFeePerBlobGas:$,maxFeePerGas:z,maxPriorityFeePerGas:D,type:j,...N}=E.transaction;return V6.set(n.uid,!0),{...r,...M?{from:M}:{},...j?{type:j}:{},...typeof T<"u"?{chainId:T}:{},...typeof I<"u"?{gas:I}:{},...typeof O<"u"?{gasPrice:O}:{},...typeof F<"u"?{nonce:F}:{},...typeof $<"u"?{maxFeePerBlobGas:$}:{},...typeof z<"u"?{maxFeePerGas:z}:{},...typeof D<"u"?{maxPriorityFeePerGas:D}:{},..."nonceKey"in N&&typeof N.nonceKey<"u"?{nonceKey:N.nonceKey}:{}}}).catch(E=>{var I;const T=E;return T.name!=="TransactionExecutionError"||((I=T.walk)==null?void 0:I.call(T,O=>{const F=O;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"}))&&V6.set(n.uid,!1),r}):r;h??(h=p.nonce),r={...p,...d?{from:d==null?void 0:d.address}:{},...h?{nonce:h}:{}};const{blobs:m,gas:b,kzg:y,type:v}=r;l!=null&&l.fn&&((S=l.runAt)!=null&&S.includes("beforeFillParameters"))&&(r=await l.fn(r,{phase:"beforeFillParameters"}));let w;async function _(){return w||(w=await Rt(n,Aa,"getBlock")({blockTag:"latest"}),w)}if(a.includes("nonce")&&typeof h>"u"&&d&&!o&&(r.nonce=await Rt(n,hce,"getTransactionCount")({address:d.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&m&&y){const E=fce({blobs:m,kzg:y});if(a.includes("blobVersionedHashes")){const T=NEe({commitments:E,to:"hex"});r.blobVersionedHashes=T}if(a.includes("sidecars")){const T=pce({blobs:m,commitments:E,kzg:y}),M=FEe({blobs:m,commitments:E,proofs:T,to:"hex"});r.sidecars=M}}if(a.includes("chainId")&&(r.chainId=await u()),(a.includes("fees")||a.includes("type"))&&typeof v>"u")try{r.type=$Ee(r)}catch{let E=tz.get(n.uid);if(typeof E>"u"){const T=await _();E=typeof(T==null?void 0:T.baseFeePerGas)=="bigint",tz.set(n.uid,E)}r.type=E?"eip1559":"legacy"}if(a.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas>"u"||typeof r.maxPriorityFeePerGas>"u"){const E=await _(),{maxFeePerGas:T,maxPriorityFeePerGas:M}=await tR(n,{block:E,chain:s,request:r});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<M)throw new _Ee({maxPriorityFeePerGas:M});r.maxPriorityFeePerGas=M,r.maxFeePerGas=T}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new Uj;if(typeof r.gasPrice>"u"){const E=await _(),{gasPrice:T}=await tR(n,{block:E,chain:s,request:r,type:"legacy"});r.gasPrice=T}}return a.includes("gas")&&typeof b>"u"&&(r.gas=await Rt(n,Gj,"estimateGas")({...r,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),l!=null&&l.fn&&((C=l.runAt)!=null&&C.includes("afterFillParameters"))&&(r=await l.fn(r,{phase:"afterFillParameters"})),V0(r),delete r.parameters,r}async function Gj(n,e){var a,l,c;const{account:r=n.account,prepare:i=!0}=e,s=r?Fi(r):void 0,o=(()=>{if(Array.isArray(i))return i;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await oce({authorization:e.authorizationList[0]}).catch(()=>{throw new tt("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:h,blobs:f,blobVersionedHashes:p,blockNumber:m,blockTag:b,data:y,gas:v,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:S,nonce:C,value:E,stateOverride:T,...M}=i?await vce(n,{...e,parameters:o,to:u}):e;if(v&&e.gas!==v)return v;const O=(typeof m=="bigint"?kt(m):void 0)||b,F=Fj(T);V0(e);const $=(c=(l=(a=n.chain)==null?void 0:a.formatters)==null?void 0:l.transactionRequest)==null?void 0:c.format,D=($||tx)({...uC(M,{format:$}),account:s,accessList:d,authorizationList:h,blobs:f,blobVersionedHashes:p,data:y,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:S,nonce:C,to:u,value:E},"estimateGas");return BigInt(await n.request({method:"eth_estimateGas",params:F?[D,O??n.experimental_blockTag??"latest",F]:O?[D,O]:[D]}))}catch(u){throw xEe(u,{...e,account:s,chain:n.chain})}}async function WEe(n,e){const{abi:r,address:i,args:s,functionName:o,dataSuffix:a,...l}=e,c=Wa({abi:r,args:s,functionName:o});try{return await Rt(n,Gj,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:i,...l})}catch(u){const d=l.account?Fi(l.account):void 0;throw n0(u,{abi:r,address:i,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d==null?void 0:d.address})}}async function wce(n,{address:e,blockNumber:r,blockTag:i=n.experimental_blockTag??"latest"}){const s=typeof r=="bigint"?kt(r):void 0,o=await n.request({method:"eth_getBalance",params:[e,s||i]});return BigInt(o)}async function qEe(n){const e=await n.request({method:"eth_blobBaseFee"});return BigInt(e)}const HEe=new Map,VEe=new Map;function GEe(n){const e=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),r=e(n,HEe),i=e(n,VEe);return{clear:()=>{r.clear(),i.clear()},promise:r,response:i}}async function YEe(n,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const i=GEe(e),s=i.response.get();if(s&&r>0&&Date.now()-s.created.getTime()<r)return s.data;let o=i.promise.get();o||(o=n(),i.promise.set(o));try{const a=await o;return i.response.set({created:new Date,data:a}),a}finally{i.promise.clear()}}const KEe=n=>`blockNumber.${n}`;async function rx(n,{cacheTime:e=n.cacheTime}={}){const r=await YEe(()=>n.request({method:"eth_blockNumber"}),{cacheKey:KEe(n.uid),cacheTime:e});return BigInt(r)}async function XEe(n,{blockHash:e,blockNumber:r,blockTag:i="latest"}={}){const s=r!==void 0?kt(r):void 0;let o;return e?o=await n.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await n.request({method:"eth_getBlockTransactionCountByNumber",params:[s||i]},{dedupe:!!s}),jl(o)}async function nR(n,{address:e,blockNumber:r,blockTag:i="latest"}){const s=r!==void 0?kt(r):void 0,o=await n.request({method:"eth_getCode",params:[e,s||i]},{dedupe:!!s});if(o!=="0x")return o}function fC(n,e){if(!ho(n,{strict:!1}))throw new Ud({address:n});if(!ho(e,{strict:!1}))throw new Ud({address:e});return n.toLowerCase()===e.toLowerCase()}const nz="/docs/contract/decodeEventLog";function pk(n){const{abi:e,data:r,strict:i,topics:s}=n,o=i??!0,[a,...l]=s;if(!a)throw new NSe({docsPath:nz});const c=e.find(b=>b.type==="event"&&a===sC(Ra(b)));if(!(c&&"name"in c)||c.type!=="event")throw new jSe(a,{docsPath:nz});const{name:u,inputs:d}=c,h=d==null?void 0:d.some(b=>!("name"in b&&b.name)),f=h?[]:{},p=d.map((b,y)=>[b,y]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<p.length;b++){const[y,v]=p[b],w=l[b];if(!w)throw new kj({abiItem:c,param:y});f[h?v:y.name||v]=QEe({param:y,value:w})}const m=d.filter(b=>!("indexed"in b&&b.indexed));if(m.length>0){if(r&&r!=="0x")try{const b=Xw(m,r);if(b)if(h)for(let y=0;y<d.length;y++)f[y]=f[y]??b.shift();else for(let y=0;y<m.length;y++)f[m[y].name]=b[y]}catch(b){if(o)throw b instanceof Uae||b instanceof rle?new uk({abiItem:c,data:r,params:m,size:br(r)}):b}else if(o)throw new uk({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function QEe({param:n,value:e}){return n.type==="string"||n.type==="bytes"||n.type==="tuple"||n.type.match(/^(.*)\[(\d+)?\]$/)?e:(Xw([n],e)||[])[0]}function Yj(n){const{abi:e,args:r,logs:i,strict:s=!0}=n,o=(()=>{if(n.eventName)return Array.isArray(n.eventName)?n.eventName:[n.eventName]})();return i.map(a=>{var d;const l=e.filter(h=>h.type==="event"&&a.topics[0]===sC(h));if(l.length===0)return null;let c,u;for(const h of l)try{c=pk({...a,abi:[h],strict:!0}),u=h;break}catch{}if(!c&&!s){u=l[0];try{c=pk({...a,abi:[u],strict:!1})}catch{const h=(d=u.inputs)==null?void 0:d.some(f=>!("name"in f&&f.name));return{...a,args:h?[]:{},eventName:u.name}}}return!c||!u||o&&!o.includes(c.eventName)||!JEe({args:c.args,inputs:u.inputs,matchArgs:r})?null:{...c,...a}}).filter(Boolean)}function JEe(n){const{args:e,inputs:r,matchArgs:i}=n;if(!i)return!0;if(!e)return!1;function s(o,a,l){try{return o.type==="address"?fC(a,l):o.type==="string"||o.type==="bytes"?yi(U0(a))===l:a===l}catch{return!1}}return Array.isArray(e)&&Array.isArray(i)?i.every((o,a)=>{if(o==null)return!0;const l=r[a];return l?(Array.isArray(o)?o:[o]).some(u=>s(l,u,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).every(([o,a])=>{if(a==null)return!0;const l=r.find(u=>u.name===o);return l?(Array.isArray(a)?a:[a]).some(u=>s(l,u,e[o])):!1}):!1}function ou(n,{args:e,eventName:r}={}){return{...n,blockHash:n.blockHash?n.blockHash:null,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,blockTimestamp:n.blockTimestamp?BigInt(n.blockTimestamp):n.blockTimestamp===null?null:void 0,logIndex:n.logIndex?Number(n.logIndex):null,transactionHash:n.transactionHash?n.transactionHash:null,transactionIndex:n.transactionIndex?Number(n.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function Kj(n,{address:e,blockHash:r,fromBlock:i,toBlock:s,event:o,events:a,args:l,strict:c}={}){const u=c??!1,d=a??(o?[o]:void 0);let h=[];d&&(h=[d.flatMap(b=>nx({abi:[b],eventName:b.name,args:a?void 0:l}))],o&&(h=h[0]));let f;r?f=await n.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:r}]}):f=await n.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof i=="bigint"?kt(i):i,toBlock:typeof s=="bigint"?kt(s):s}]});const p=f.map(m=>ou(m));return d?Yj({abi:d,args:l,logs:p,strict:u}):p}async function xce(n,e){const{abi:r,address:i,args:s,blockHash:o,eventName:a,fromBlock:l,toBlock:c,strict:u}=e,d=a?hp({abi:r,name:a}):void 0,h=d?void 0:r.filter(f=>f.type==="event");return Rt(n,Kj,"getLogs")({address:i,args:s,blockHash:o,event:d,events:h,fromBlock:l,toBlock:c,strict:u})}class ZEe extends tt{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function e6e(n,e){const{address:r,factory:i,factoryData:s}=e;try{const[o,a,l,c,u,d,h]=await Rt(n,Ba,"readContract")({abi:t6e,address:r,functionName:"eip712Domain",factory:i,factoryData:s});return{domain:{name:a,version:l,chainId:Number(c),verifyingContract:u,salt:d},extensions:h,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new ZEe({address:r}):a}}const t6e=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function n6e(n){var e;return{baseFeePerGas:n.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:n.gasUsedRatio,oldestBlock:BigInt(n.oldestBlock),reward:(e=n.reward)==null?void 0:e.map(r=>r.map(i=>BigInt(i)))}}async function r6e(n,{blockCount:e,blockNumber:r,blockTag:i="latest",rewardPercentiles:s}){const o=typeof r=="bigint"?kt(r):void 0,a=await n.request({method:"eth_feeHistory",params:[kt(e),o||i,s]},{dedupe:!!o});return n6e(a)}async function pC(n,{filter:e}){const r="strict"in e&&e.strict,i=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof i[0]=="string")return i;const s=i.map(o=>ou(o));return!("abi"in e)||!e.abi?s:Yj({abi:e.abi,logs:s,strict:r})}async function i6e(n,{filter:e}){const r=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>ou(o));return e.abi?Yj({abi:e.abi,logs:s,strict:r}):s}async function s6e({address:n,authorization:e,signature:r}){return fC(ni(n),await oce({authorization:e,signature:r}))}const D1=new nC(8192);function o6e(n,{enabled:e=!0,id:r}){if(!e||!r)return n();if(D1.get(r))return D1.get(r);const i=n().finally(()=>D1.delete(r));return D1.set(r,i),i}async function rR(n){return new Promise(e=>setTimeout(e,n))}function r0(n,{delay:e=100,retryCount:r=2,shouldRetry:i=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:l=0}={})=>{const c=async({error:u})=>{const d=typeof e=="function"?e({count:l,error:u}):e;d&&await rR(d),a({count:l+1})};try{const u=await n();s(u)}catch(u){if(l<r&&await i({count:l,error:u}))return c({error:u});o(u)}};a()})}function a6e(n,e={}){return async(r,i={})=>{var h;const{dedupe:s=!1,methods:o,retryDelay:a=150,retryCount:l=3,uid:c}={...e,...i},{method:u}=r;if((h=o==null?void 0:o.exclude)!=null&&h.includes(u))throw new Yh(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new Yh(new Error("method not supported"),{method:u});const d=s?Qg(`${c}.${oi(r)}`):void 0;return o6e(()=>r0(async()=>{try{return await n(r)}catch(f){const p=f;switch(p.code){case Dv.code:throw new Dv(p);case Rv.code:throw new Rv(p);case Nv.code:throw new Nv(p,{method:r.method});case jv.code:throw new jv(p);case zf.code:throw new zf(p);case Wd.code:throw new Wd(p);case Bv.code:throw new Bv(p);case Pl.code:throw new Pl(p);case Lv.code:throw new Lv(p);case Yh.code:throw new Yh(p,{method:r.method});case t0.code:throw new t0(p);case Fv.code:throw new Fv(p);case An.code:throw new An(p);case $v.code:throw new $v(p);case zv.code:throw new zv(p);case Uv.code:throw new Uv(p);case Wv.code:throw new Wv(p);case so.code:throw new so(p);case qv.code:throw new qv(p);case Hv.code:throw new Hv(p);case Vv.code:throw new Vv(p);case Gv.code:throw new Gv(p);case Yv.code:throw new Yv(p);case Kv.code:throw new Kv(p);case Xv.code:throw new Xv(p);case 5e3:throw new An(p);default:throw f instanceof tt?f:new cCe(p)}}},{delay:({count:f,error:p})=>{var m;if(p&&p instanceof Hy){const b=(m=p==null?void 0:p.headers)==null?void 0:m.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<f)*a},retryCount:l,shouldRetry:({error:f})=>l6e(f)}),{enabled:s,id:d})}}function l6e(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===t0.code||n.code===zf.code:n instanceof Hy&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}function _ce(n){const e={formatters:void 0,fees:void 0,serializers:void 0,...n};function r(i){return s=>{const o=typeof s=="function"?s(i):s,a={...i,...o};return Object.assign(a,{extend:r(a)})}}return Object.assign(e,{extend:r(e)})}const c6e={"0x0":"reverted","0x1":"success"};function Sce(n,e){const r={...n,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,contractAddress:n.contractAddress?n.contractAddress:null,cumulativeGasUsed:n.cumulativeGasUsed?BigInt(n.cumulativeGasUsed):null,effectiveGasPrice:n.effectiveGasPrice?BigInt(n.effectiveGasPrice):null,gasUsed:n.gasUsed?BigInt(n.gasUsed):null,logs:n.logs?n.logs.map(i=>ou(i)):null,to:n.to?n.to:null,transactionIndex:n.transactionIndex?jl(n.transactionIndex):null,status:n.status?c6e[n.status]:null,type:n.type?cce[n.type]||n.type:null};return n.blobGasPrice&&(r.blobGasPrice=BigInt(n.blobGasPrice)),n.blobGasUsed&&(r.blobGasUsed=BigInt(n.blobGasUsed)),r}function mC(n,{errorInstance:e=new Error("timed out"),timeout:r,signal:i}){return new Promise((s,o)=>{(async()=>{let a;try{const l=new AbortController;r>0&&(a=setTimeout(()=>{i?l.abort():o(e)},r)),s(await n({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&o(e),o(l)}finally{clearTimeout(a)}})()})}function u6e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const rz=u6e();function d6e(n,e={}){return{async request(r){var f;const{body:i,fetchFn:s=e.fetchFn??fetch,onRequest:o=e.onRequest,onResponse:a=e.onResponse,timeout:l=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:d,signal:h}=c;try{const p=await mC(async({signal:b})=>{const y={...c,body:Array.isArray(i)?oi(i.map(x=>({jsonrpc:"2.0",id:x.id??rz.take(),...x}))):oi({jsonrpc:"2.0",id:i.id??rz.take(),...i}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:h||(l>0?b:null)},v=new Request(n,y),w=await(o==null?void 0:o(v,y))??{...y,url:n};return await s(w.url??n,w)},{errorInstance:new W$({body:i,url:n}),timeout:l,signal:!0});a&&await a(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(b){if(p.ok)throw b;m={error:m}}}if(!p.ok)throw new Hy({body:i,details:oi(m.error)||p.statusText,headers:p.headers,status:p.status,url:n});return m}catch(p){throw p instanceof Hy||p instanceof W$?p:new Hy({body:i,cause:p,url:n})}}}}const h6e=`Ethereum Signed Message:
`;function f6e(n){const e=typeof n=="string"?Qg(n):typeof n.raw=="string"?n.raw:qr(n.raw),r=Qg(`${h6e}${br(e)}`);return Ll([r,e])}function kce(n,e){return yi(f6e(n),e)}class p6e extends tt{constructor({domain:e}){super(`Invalid domain "${oi(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class m6e extends tt{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class g6e extends tt{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function b6e(n){const{domain:e,message:r,primaryType:i,types:s}=n,o=(c,u)=>{const d={...u};for(const h of c){const{name:f,type:p}=h;p==="address"&&(d[f]=d[f].toLowerCase())}return d},a=s.EIP712Domain?e?o(s.EIP712Domain,e):{}:{},l=(()=>{if(i!=="EIP712Domain")return o(s[i],r)})();return oi({domain:a,message:l,primaryType:i,types:s})}function Cce(n){const{domain:e,message:r,primaryType:i,types:s}=n,o=(a,l)=>{for(const c of a){const{name:u,type:d}=c,h=l[u],f=d.match(ale);if(f&&(typeof h=="number"||typeof h=="bigint")){const[b,y,v]=f;kt(h,{signed:y==="int",size:Number.parseInt(v,10)/8})}if(d==="address"&&typeof h=="string"&&!ho(h))throw new Ud({address:h});const p=d.match(Dke);if(p){const[b,y]=p;if(y&&br(h)!==Number.parseInt(y,10))throw new FSe({expectedSize:Number.parseInt(y,10),givenSize:br(h)})}const m=s[d];m&&(y6e(d),o(m,h))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new p6e({domain:e});o(s.EIP712Domain,e)}if(i!=="EIP712Domain")if(s[i])o(s[i],r);else throw new m6e({primaryType:i,types:s})}function Ece({domain:n}){return[typeof(n==null?void 0:n.name)=="string"&&{name:"name",type:"string"},(n==null?void 0:n.version)&&{name:"version",type:"string"},(typeof(n==null?void 0:n.chainId)=="number"||typeof(n==null?void 0:n.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(n==null?void 0:n.verifyingContract)&&{name:"verifyingContract",type:"address"},(n==null?void 0:n.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function y6e(n){if(n==="address"||n==="bool"||n==="string"||n.startsWith("bytes")||n.startsWith("uint")||n.startsWith("int"))throw new g6e({type:n})}function v6e(n){const{domain:e={},message:r,primaryType:i}=n,s={EIP712Domain:Ece({domain:e}),...n.types};Cce({domain:e,message:r,primaryType:i,types:s});const o=["0x1901"];return e&&o.push(w6e({domain:e,types:s})),i!=="EIP712Domain"&&o.push(Ace({data:r,primaryType:i,types:s})),yi(Ll(o))}function w6e({domain:n,types:e}){return Ace({data:n,primaryType:"EIP712Domain",types:e})}function Ace({data:n,primaryType:e,types:r}){const i=Tce({data:n,primaryType:e,types:r});return yi(i)}function Tce({data:n,primaryType:e,types:r}){const i=[{type:"bytes32"}],s=[x6e({primaryType:e,types:r})];for(const o of r[e]){const[a,l]=Ice({types:r,name:o.name,type:o.type,value:n[o.name]});i.push(a),s.push(l)}return dp(i,s)}function x6e({primaryType:n,types:e}){const r=iu(_6e({primaryType:n,types:e}));return yi(r)}function _6e({primaryType:n,types:e}){let r="";const i=Pce({primaryType:n,types:e});i.delete(n);const s=[n,...Array.from(i).sort()];for(const o of s)r+=`${o}(${e[o].map(({name:a,type:l})=>`${l} ${a}`).join(",")})`;return r}function Pce({primaryType:n,types:e},r=new Set){const i=n.match(/^\w*/u),s=i==null?void 0:i[0];if(r.has(s)||e[s]===void 0)return r;r.add(s);for(const o of e[s])Pce({primaryType:o.type,types:e},r);return r}function Ice({types:n,name:e,type:r,value:i}){if(n[r]!==void 0)return[{type:"bytes32"},yi(Tce({data:i,primaryType:r,types:n}))];if(r==="bytes")return[{type:"bytes32"},yi(i)];if(r==="string")return[{type:"bytes32"},yi(iu(i))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),o=i.map(a=>Ice({name:e,type:s,types:n,value:a}));return[{type:"bytes32"},yi(dp(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:r},i]}class S6e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const k6e={checksum:new S6e(8192)},G6=k6e.checksum;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function C6e(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function iz(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function mk(n,...e){if(!C6e(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function sz(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function E6e(n,e){mk(n);const r=e.outputLen;if(n.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function A6e(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Mce(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}const T6e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function P6e(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function I6e(n){for(let e=0;e<n.length;e++)n[e]=P6e(n[e]);return n}const oz=T6e?n=>n:I6e;function M6e(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Oce(n){return typeof n=="string"&&(n=M6e(n)),mk(n),n}let O6e=class{};function D6e(n){const e=i=>n().update(Oce(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}const R1=BigInt(2**32-1),az=BigInt(32);function R6e(n,e=!1){return e?{h:Number(n&R1),l:Number(n>>az&R1)}:{h:Number(n>>az&R1)|0,l:Number(n&R1)|0}}function N6e(n,e=!1){const r=n.length;let i=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=R6e(n[o],e);[i[o],s[o]]=[a,l]}return[i,s]}const j6e=(n,e,r)=>n<<r|e>>>32-r,B6e=(n,e,r)=>e<<r|n>>>32-r,L6e=(n,e,r)=>e<<r-32|n>>>64-r,F6e=(n,e,r)=>n<<r-32|e>>>64-r,$6e=BigInt(0),Db=BigInt(1),z6e=BigInt(2),U6e=BigInt(7),W6e=BigInt(256),q6e=BigInt(113),Dce=[],Rce=[],Nce=[];for(let n=0,e=Db,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],Dce.push(2*(5*i+r)),Rce.push((n+1)*(n+2)/2%64);let s=$6e;for(let o=0;o<7;o++)e=(e<<Db^(e>>U6e)*q6e)%W6e,e&z6e&&(s^=Db<<(Db<<BigInt(o))-Db);Nce.push(s)}const jce=N6e(Nce,!0),H6e=jce[0],V6e=jce[1],lz=(n,e,r)=>r>32?L6e(n,e,r):j6e(n,e,r),cz=(n,e,r)=>r>32?F6e(n,e,r):B6e(n,e,r);function G6e(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=lz(u,d,1)^r[l],f=cz(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=Rce[a],c=lz(s,o,l),u=cz(s,o,l),d=Dce[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=H6e[i],n[1]^=V6e[i]}Mce(r)}let Y6e=class Bce extends O6e{constructor(e,r,i,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,iz(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=A6e(this.state)}clone(){return this._cloneInto()}keccak(){oz(this.state32),G6e(this.state32,this.rounds),oz(this.state32),this.posOut=0,this.pos=0}update(e){sz(this),e=Oce(e),mk(e);const{blockLen:r,state:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){sz(this,!1),mk(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return iz(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(E6e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mce(this.state)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new Bce(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const K6e=(n,e,r)=>D6e(()=>new Y6e(e,n,r)),X6e=K6e(1,136,256/8);function Lce(n,e={}){const{as:r=typeof n=="string"?"Hex":"Bytes"}=e,i=X6e(xCe(n));return r==="Bytes"?i:ja(i)}const Q6e=/^0x[a-fA-F0-9]{40}$/;function gC(n,e={}){const{strict:r=!0}=e;if(!Q6e.test(n))throw new uz({address:n,cause:new J6e});if(r){if(n.toLowerCase()===n)return;if(Fce(n)!==n)throw new uz({address:n,cause:new Z6e})}}function Fce(n){if(G6.has(n))return G6.get(n);gC(n,{strict:!1});const e=n.substring(2).toLowerCase(),r=Lce(SCe(e),{as:"Bytes"}),i=e.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return G6.set(n,s),s}function iR(n,e={}){const{strict:r=!0}=e??{};try{return gC(n,{strict:r}),!0}catch{return!1}}class uz extends sn{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class J6e extends sn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Z6e extends sn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const e5e=/^(.*)\[([0-9]*)\]$/,t5e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$ce=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,dz=2n**256n-1n;function Km(n,e,r){const{checksumAddress:i,staticPosition:s}=r,o=Jj(e.type);if(o){const[a,l]=o;return r5e(n,{...e,type:l},{checksumAddress:i,length:a,staticPosition:s})}if(e.type==="tuple")return a5e(n,e,{checksumAddress:i,staticPosition:s});if(e.type==="address")return n5e(n,{checksum:i});if(e.type==="bool")return i5e(n);if(e.type.startsWith("bytes"))return s5e(n,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return o5e(n,e);if(e.type==="string")return l5e(n,{staticPosition:s});throw new e7(e.type)}const hz=32,sR=32;function n5e(n,e={}){const{checksum:r=!1}=e,i=n.readBytes(32);return[(o=>r?Fce(o):o)(ja(CCe(i,-20))),32]}function r5e(n,e,r){const{checksumAddress:i,length:s,staticPosition:o}=r;if(!s){const c=Uc(n.readBytes(sR)),u=o+c,d=u+hz;n.setPosition(u);const h=Uc(n.readBytes(hz)),f=Qv(e);let p=0;const m=[];for(let b=0;b<h;++b){n.setPosition(d+(f?b*32:p));const[y,v]=Km(n,e,{checksumAddress:i,staticPosition:d});p+=v,m.push(y)}return n.setPosition(o+32),[m,32]}if(Qv(e)){const c=Uc(n.readBytes(sR)),u=o+c,d=[];for(let h=0;h<s;++h){n.setPosition(u+h*32);const[f]=Km(n,e,{checksumAddress:i,staticPosition:u});d.push(f)}return n.setPosition(o+32),[d,32]}let a=0;const l=[];for(let c=0;c<s;++c){const[u,d]=Km(n,e,{checksumAddress:i,staticPosition:o+a});a+=d,l.push(u)}return[l,a]}function i5e(n){return[ACe(n.readBytes(32),{size:32}),32]}function s5e(n,e,{staticPosition:r}){const[i,s]=e.type.split("bytes");if(!s){const a=Uc(n.readBytes(32));n.setPosition(r+a);const l=Uc(n.readBytes(32));if(l===0)return n.setPosition(r+32),["0x",32];const c=n.readBytes(l);return n.setPosition(r+32),[ja(c),32]}return[ja(n.readBytes(Number.parseInt(s,10),32)),32]}function o5e(n,e){const r=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),s=n.readBytes(32);return[i>48?ECe(s,{signed:r}):Uc(s,{signed:r}),32]}function a5e(n,e,r){const{checksumAddress:i,staticPosition:s}=r,o=e.components.length===0||e.components.some(({name:c})=>!c),a=o?[]:{};let l=0;if(Qv(e)){const c=Uc(n.readBytes(sR)),u=s+c;for(let d=0;d<e.components.length;++d){const h=e.components[d];n.setPosition(u+l);const[f,p]=Km(n,h,{checksumAddress:i,staticPosition:u});l+=p,a[o?d:h==null?void 0:h.name]=f}return n.setPosition(s+32),[a,32]}for(let c=0;c<e.components.length;++c){const u=e.components[c],[d,h]=Km(n,u,{checksumAddress:i,staticPosition:s});a[o?c:u==null?void 0:u.name]=d,l+=h}return[a,l]}function l5e(n,{staticPosition:e}){const r=Uc(n.readBytes(32)),i=e+r;n.setPosition(i);const s=Uc(n.readBytes(32));if(s===0)return n.setPosition(e+32),["",32];const o=n.readBytes(s,32),a=TCe(jle(o));return n.setPosition(e+32),[a,32]}function c5e({checksumAddress:n,parameters:e,values:r}){const i=[];for(let s=0;s<e.length;s++)i.push(Xj({checksumAddress:n,parameter:e[s],value:r[s]}));return i}function Xj({checksumAddress:n=!1,parameter:e,value:r}){const i=e,s=Jj(i.type);if(s){const[o,a]=s;return d5e(r,{checksumAddress:n,length:o,parameter:{...i,type:a}})}if(i.type==="tuple")return g5e(r,{checksumAddress:n,parameter:i});if(i.type==="address")return u5e(r,{checksum:n});if(i.type==="bool")return f5e(r);if(i.type.startsWith("uint")||i.type.startsWith("int")){const o=i.type.startsWith("int"),[,,a="256"]=$ce.exec(i.type)??[];return p5e(r,{signed:o,size:Number(a)})}if(i.type.startsWith("bytes"))return h5e(r,{type:i.type});if(i.type==="string")return m5e(r);throw new e7(i.type)}function Qj(n){let e=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?e+=32:e+=fo(l)}const r=[],i=[];let s=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?(r.push(Qi(e+s,{size:32})),i.push(l),s+=fo(l)):r.push(l)}return Na(...r,...i)}function u5e(n,e){const{checksum:r=!1}=e;return gC(n,{strict:r}),{dynamic:!1,encoded:Uf(n.toLowerCase())}}function d5e(n,e){const{checksumAddress:r,length:i,parameter:s}=e,o=i===null;if(!Array.isArray(n))throw new C5e(n);if(!o&&n.length!==i)throw new k5e({expectedLength:i,givenLength:n.length,type:`${s.type}[${i}]`});let a=!1;const l=[];for(let c=0;c<n.length;c++){const u=Xj({checksumAddress:r,parameter:s,value:n[c]});u.dynamic&&(a=!0),l.push(u)}if(o||a){const c=Qj(l);if(o){const u=Qi(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?Na(u,c):u}}if(a)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Na(...l.map(({encoded:c})=>c))}}function h5e(n,{type:e}){const[,r]=e.split("bytes"),i=fo(n);if(!r){let s=n;return i%32!==0&&(s=Wf(s,Math.ceil((n.length-2)/2/32)*32)),{dynamic:!0,encoded:Na(Uf(Qi(i,{size:32})),s)}}if(i!==Number.parseInt(r,10))throw new Uce({expectedSize:Number.parseInt(r,10),value:n});return{dynamic:!1,encoded:Wf(n)}}function f5e(n){if(typeof n!="boolean")throw new sn(`Invalid boolean value: "${n}" (type: ${typeof n}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Uf(Ble(n))}}function p5e(n,{signed:e,size:r}){if(typeof r=="number"){const i=2n**(BigInt(r)-(e?1n:0n))-1n,s=e?-i-1n:0n;if(n>i||n<s)throw new $le({max:i.toString(),min:s.toString(),signed:e,size:r/8,value:n.toString()})}return{dynamic:!1,encoded:Qi(n,{size:32,signed:e})}}function m5e(n){const e=jj(n),r=Math.ceil(fo(e)/32),i=[];for(let s=0;s<r;s++)i.push(Wf(Il(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:Na(Wf(Qi(fo(e),{size:32})),...i)}}function g5e(n,e){const{checksumAddress:r,parameter:i}=e;let s=!1;const o=[];for(let a=0;a<i.components.length;a++){const l=i.components[a],c=Array.isArray(n)?a:l.name,u=Xj({checksumAddress:r,parameter:l,value:n[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Qj(o):Na(...o.map(({encoded:a})=>a))}}function Jj(n){const e=n.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Qv(n){var i;const{type:e}=n;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(i=n.components)==null?void 0:i.some(Qv);const r=Jj(n.type);return!!(r&&Qv({...n,type:r[1]}))}const b5e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new w5e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new v5e({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new fz({offset:n});const e=this.position-n;this.assertPosition(e),this.position=e},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new fz({offset:n});const e=this.position+n;this.assertPosition(e),this.position=e},inspectByte(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(n,e){const r=e??this.position;return this.assertPosition(r+n-1),this.bytes.subarray(r,r+n)},inspectUint8(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(n){const e=n??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(n){const e=n??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(n){const e=n??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(n);return this.position+=e??n,r},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const e=this.position;return this.assertPosition(n),this.position=n,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function y5e(n,{recursiveReadLimit:e=8192}={}){const r=Object.create(b5e);return r.bytes=n,r.dataView=new DataView(n.buffer,n.byteOffset,n.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class fz extends sn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class v5e extends sn{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class w5e extends sn{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function x5e(n,e,r={}){const{as:i="Array",checksumAddress:s=!1}=r,o=typeof e=="string"?Nle(e):e,a=y5e(o);if(Pm(o)===0&&n.length>0)throw new S5e;if(Pm(o)&&Pm(o)<32)throw new _5e({data:typeof e=="string"?e:ja(e),parameters:n,size:Pm(o)});let l=0;const c=i==="Array"?[]:{};for(let u=0;u<n.length;++u){const d=n[u];a.setPosition(l);const[h,f]=Km(a,d,{checksumAddress:s,staticPosition:0});l+=f,i==="Array"?c.push(h):c[d.name??u]=h}return c}function Zj(n,e,r){const{checksumAddress:i=!1}={};if(n.length!==e.length)throw new Wce({expectedLength:n.length,givenLength:e.length});const s=c5e({checksumAddress:i,parameters:n,values:e}),o=Qj(s);return o.length===0?"0x":o}function oR(n,e){if(n.length!==e.length)throw new Wce({expectedLength:n.length,givenLength:e.length});const r=[];for(let i=0;i<n.length;i++){const s=n[i],o=e[i];r.push(oR.encode(s,o))}return Na(...r)}(function(n){function e(r,i,s=!1){if(r==="address"){const c=i;return gC(c),Uf(c.toLowerCase(),s?32:0)}if(r==="string")return jj(i);if(r==="bytes")return i;if(r==="bool")return Uf(Ble(i),s?32:1);const o=r.match($ce);if(o){const[c,u,d="256"]=o,h=Number.parseInt(d,10)/8;return Qi(i,{size:s?32:h,signed:u==="int"})}const a=r.match(t5e);if(a){const[c,u]=a;if(Number.parseInt(u,10)!==(i.length-2)/2)throw new Uce({expectedSize:Number.parseInt(u,10),value:i});return Wf(i,s?32:0)}const l=r.match(e5e);if(l&&Array.isArray(i)){const[c,u]=l,d=[];for(let h=0;h<i.length;h++)d.push(e(u,i[h],!0));return d.length===0?"0x":Na(...d)}throw new e7(r)}n.encode=e})(oR||(oR={}));function zce(n){return Array.isArray(n)&&typeof n[0]=="string"||typeof n=="string"?F$(n):n}class _5e extends sn{constructor({data:e,parameters:r,size:i}){super(`Data size of ${i} bytes is too small for given parameters.`,{metaMessages:[`Params: (${hm(r)})`,`Data:   ${e} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class S5e extends sn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class k5e extends sn{constructor({expectedLength:e,givenLength:r,type:i}){super(`Array length mismatch for type \`${i}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Uce extends sn{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${fo(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Wce extends sn{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class C5e extends sn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class e7 extends sn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function qce(n,e={}){const{recovered:r}=e;if(typeof n.r>"u")throw new Y6({signature:n});if(typeof n.s>"u")throw new Y6({signature:n});if(r&&typeof n.yParity>"u")throw new Y6({signature:n});if(n.r<0n||n.r>dz)throw new O5e({value:n.r});if(n.s<0n||n.s>dz)throw new D5e({value:n.s});if(typeof n.yParity=="number"&&n.yParity!==0&&n.yParity!==1)throw new n7({value:n.yParity})}function E5e(n){return Hce(ja(n))}function Hce(n){if(n.length!==130&&n.length!==132)throw new M5e({signature:n});const e=BigInt(Il(n,0,32)),r=BigInt(Il(n,32,64)),i=(()=>{const s=+`0x${n.slice(130)}`;if(!Number.isNaN(s))try{return t7(s)}catch{throw new n7({value:s})}})();return typeof i>"u"?{r:e,s:r}:{r:e,s:r,yParity:i}}function A5e(n){if(!(typeof n.r>"u")&&!(typeof n.s>"u"))return T5e(n)}function T5e(n){const e=typeof n=="string"?Hce(n):n instanceof Uint8Array?E5e(n):typeof n.r=="string"?I5e(n):n.v?P5e(n):{r:n.r,s:n.s,...typeof n.yParity<"u"?{yParity:n.yParity}:{}};return qce(e),e}function P5e(n){return{r:n.r,s:n.s,yParity:t7(n.v)}}function I5e(n){const e=(()=>{const r=n.v?Number(n.v):void 0;let i=n.yParity?Number(n.yParity):void 0;if(typeof r=="number"&&typeof i!="number"&&(i=t7(r)),typeof i!="number")throw new n7({value:n.yParity});return i})();return{r:BigInt(n.r),s:BigInt(n.s),yParity:e}}function t7(n){if(n===0||n===27)return 0;if(n===1||n===28)return 1;if(n>=35)return n%2===0?1:0;throw new R5e({value:n})}class M5e extends sn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${fo(jCe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Y6 extends sn{constructor({signature:e}){super(`Signature \`${Rle(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class O5e extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class D5e extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class n7 extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class R5e extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function N5e(n,e={}){return typeof n.chainId=="string"?j5e(n):{...n,...e.signature}}function j5e(n){const{address:e,chainId:r,nonce:i}=n,s=A5e(n);return{address:e,chainId:Number(r),nonce:BigInt(i),...s}}const B5e="0x8010801080108010801080108010801080108010801080108010801080108010",L5e=zce("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Vce(n){if(typeof n=="string"){if(Il(n,-32)!==B5e)throw new z5e(n)}else qce(n.authorization)}function F5e(n){Vce(n);const e=Fle(Il(n,-64,-32)),r=Il(n,-e-64,-64),i=Il(n,0,-e-64),[s,o,a]=x5e(L5e,r);return{authorization:N5e({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:i,...a&&a!=="0x"?{data:a,to:o}:{}}}function $5e(n){try{return Vce(n),!0}catch{return!1}}let z5e=class extends sn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function U5e(n){return n.map(e=>({...e,value:BigInt(e.value)}))}function W5e(n){return{...n,balance:n.balance?BigInt(n.balance):void 0,nonce:n.nonce?jl(n.nonce):void 0,storageProof:n.storageProof?U5e(n.storageProof):void 0}}async function q5e(n,{address:e,blockNumber:r,blockTag:i,storageKeys:s}){const o=i??"latest",a=r!==void 0?kt(r):void 0,l=await n.request({method:"eth_getProof",params:[e,s,a||o]});return W5e(l)}async function H5e(n,{address:e,blockNumber:r,blockTag:i="latest",slot:s}){const o=r!==void 0?kt(r):void 0;return await n.request({method:"eth_getStorageAt",params:[e,s,o||i]})}async function r7(n,{blockHash:e,blockNumber:r,blockTag:i,hash:s,index:o,sender:a,nonce:l}){var f,p,m;const c=i||"latest",u=r!==void 0?kt(r):void 0;let d=null;if(s?d=await n.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await n.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,kt(o)]},{dedupe:!0}):typeof o=="number"?d=await n.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,kt(o)]},{dedupe:!!u}):a&&typeof l=="number"&&(d=await n.request({method:"eth_getTransactionBySenderAndNonce",params:[a,kt(l)]},{dedupe:!0})),!d)throw new Ele({blockHash:e,blockNumber:r,blockTag:c,hash:s,index:o});return(((m=(p=(f=n.chain)==null?void 0:f.formatters)==null?void 0:p.transaction)==null?void 0:m.format)||Wj)(d,"getTransaction")}async function V5e(n,{hash:e,transactionReceipt:r}){const[i,s]=await Promise.all([Rt(n,rx,"getBlockNumber")({}),e?Rt(n,r7,"getTransaction")({hash:e}):void 0]),o=(r==null?void 0:r.blockNumber)||(s==null?void 0:s.blockNumber);return o?i-o+1n:0n}async function oS(n,{hash:e}){var s,o,a;const r=await n.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new Ale({hash:e});return(((a=(o=(s=n.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||Sce)(r,"getTransactionReceipt")}async function G5e(n,e){var w;const{account:r,authorizationList:i,allowFailure:s=!0,blockNumber:o,blockOverrides:a,blockTag:l,stateOverride:c}=e,u=e.contracts,{batchSize:d=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((w=n.batch)==null?void 0:w.multicall)=="object"?n.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(n.chain)return H0({blockNumber:o,chain:n.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let m=0,b=0;for(let _=0;_<u.length;_++){const{abi:x,address:S,args:C,functionName:E}=u[_];try{const T=Wa({abi:x,args:C,functionName:E});b+=(T.length-2)/2,d>0&&b>d&&p[m].length>0&&(m++,b=(T.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:T,target:S}]}catch(T){const M=n0(T,{abi:x,address:S,args:C,docsPath:"/docs/contract/multicall",functionName:E,sender:r});if(!s)throw M;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:S}]}}const y=await Promise.allSettled(p.map(_=>Rt(n,Ba,"readContract")({...f===null?{code:Bj}:{address:f},abi:ck,account:r,args:[_],authorizationList:i,blockNumber:o,blockOverrides:a,blockTag:l,functionName:"aggregate3",stateOverride:c}))),v=[];for(let _=0;_<y.length;_++){const x=y[_];if(x.status==="rejected"){if(!s)throw x.reason;for(let C=0;C<p[_].length;C++)v.push({status:"failure",error:x.reason,result:void 0});continue}const S=x.value;for(let C=0;C<S.length;C++){const{returnData:E,success:T}=S[C],{callData:M}=p[_][C],{abi:I,address:O,functionName:F,args:$}=u[v.length];try{if(M==="0x")throw new Kw;if(!T)throw new oC({data:E});const z=fp({abi:I,args:$,data:E,functionName:F});v.push(s?{result:z,status:"success"}:z)}catch(z){const D=n0(z,{abi:I,address:O,args:$,docsPath:"/docs/contract/multicall",functionName:F});if(!s)throw D;v.push({error:D,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new tt("multicall results mismatch");return v}async function aR(n,e){const{blockNumber:r,blockTag:i=n.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:a,validation:l}=e;try{const c=[];for(const f of s){const p=f.blockOverrides?Ule(f.blockOverrides):void 0,m=f.calls.map(y=>{const v=y,w=v.account?Fi(v.account):void 0,_=v.abi?Wa(v):v.data,x={...v,account:w,data:v.dataSuffix?Ll([_||"0x",v.dataSuffix]):_,from:v.from??(w==null?void 0:w.address)};return V0(x),tx(x)}),b=f.stateOverrides?Fj(f.stateOverrides):void 0;c.push({blockOverrides:p,calls:m,stateOverrides:b})}const d=(typeof r=="bigint"?kt(r):void 0)||i;return(await n.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:a,validation:l},d]})).map((f,p)=>({...uce(f),calls:f.calls.map((m,b)=>{var I,O;const{abi:y,args:v,functionName:w,to:_}=s[p].calls[b],x=((I=m.error)==null?void 0:I.data)??m.returnData,S=BigInt(m.gasUsed),C=(O=m.logs)==null?void 0:O.map(F=>ou(F)),E=m.status==="0x1"?"success":"failure",T=y&&E==="success"&&x!=="0x"?fp({abi:y,data:x,functionName:w}):null,M=(()=>{var $;if(E==="success")return;let F;if((($=m.error)==null?void 0:$.data)==="0x"?F=new Kw:m.error&&(F=new oC(m.error)),!!F)return n0(F,{abi:y??[],address:_??"0x",args:v,functionName:w??"<unknown>"})})();return{data:x,gasUsed:S,logs:C,status:E,...E==="success"?{result:T}:{error:M}}})}))}catch(c){const u=c,d=cC(u,{});throw d instanceof ex?u:d}}function lR(n){let e=!0,r="",i=0,s="",o=!1;for(let a=0;a<n.length;a++){const l=n[a];if(["(",")",","].includes(l)&&(e=!0),l==="("&&i++,l===")"&&i--,!!e){if(i===0){if(l===" "&&["event","function","error",""].includes(s))s="";else if(s+=l,l===")"){o=!0;break}continue}if(l===" "){n[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=l,r+=l}}if(!o)throw new sn("Unable to normalize signature.");return s}function cR(n,e){const r=typeof n,i=e.type;switch(i){case"address":return iR(n,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>cR(Object.values(n)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?r==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(n)&&n.every(s=>cR(s,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Gce(n,e,r){for(const i in n){const s=n[i],o=e[i];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Gce(s.components,o.components,r[i]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?iR(r[i],{strict:!1}):a.includes("address")&&a.includes("bytes")?iR(r[i],{strict:!1}):!1)return a}}function Yce(n,e={}){const{prepare:r=!0}=e,i=Array.isArray(n)||typeof n=="string"?L$(n):n;return{...i,...r?{hash:Mm(i)}:{}}}function bC(n,e,r){const{args:i=[],prepare:s=!0}=r??{},o=BCe(e,{strict:!1}),a=n.filter(u=>o?u.type==="function"||u.type==="error"?Kce(u)===Il(e,0,4):u.type==="event"?Mm(u)===e:!1:"name"in u&&u.name===e);if(a.length===0)throw new gk({name:e});if(a.length===1)return{...a[0],...s?{hash:Mm(a[0])}:{}};let l;for(const u of a){if(!("inputs"in u))continue;if(!i||i.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Mm(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==i.length)continue;if(i.every((h,f)=>{const p="inputs"in u&&u.inputs[f];return p?cR(h,p):!1})){if(l&&"inputs"in l&&l.inputs){const h=Gce(u.inputs,l.inputs,i);if(h)throw new K5e({abiItem:u,type:h[0]},{abiItem:l,type:h[1]})}l=u}}const c=(()=>{if(l)return l;const[u,...d]=a;return{...u,overloads:d}})();if(!c)throw new gk({name:e});return{...c,...s?{hash:Mm(c)}:{}}}function Kce(...n){const e=(()=>{if(Array.isArray(n[0])){const[r,i]=n;return bC(r,i)}return n[0]})();return Il(Mm(e),0,4)}function Y5e(...n){const e=(()=>{if(Array.isArray(n[0])){const[i,s]=n;return bC(i,s)}return n[0]})(),r=typeof e=="string"?e:dk(e);return lR(r)}function Mm(...n){const e=(()=>{if(Array.isArray(n[0])){const[r,i]=n;return bC(r,i)}return n[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Lce(jj(Y5e(e)))}class K5e extends sn{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${lR(dk(e.abiItem))}\`, and`,`\`${r.type}\` in \`${lR(dk(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class gk extends sn{constructor({name:e,data:r,type:i="item"}){const s=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${i}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function X5e(...n){var o;const[e,r]=(()=>{if(Array.isArray(n[0])){const[a,l]=n;return[J5e(a),l]}return n})(),{bytecode:i,args:s}=r;return Na(i,(o=e.inputs)!=null&&o.length&&(s!=null&&s.length)?Zj(e.inputs,s):"0x")}function Q5e(n){return Yce(n)}function J5e(n){const e=n.find(r=>r.type==="constructor");if(!e)throw new gk({name:"constructor"});return e}function Z5e(...n){const[e,r=[]]=(()=>{if(Array.isArray(n[0])){const[u,d,h]=n;return[pz(u,d,{args:h}),h]}const[l,c]=n;return[l,c]})(),{overloads:i}=e,s=i?pz([e,...i],e.name,{args:r}):e,o=e3e(s),a=r.length>0?Zj(s.inputs,r):void 0;return a?Na(o,a):o}function Hp(n,e={}){return Yce(n,e)}function pz(n,e,r){const i=bC(n,e,r);if(i.type!=="function")throw new gk({name:e,type:"function"});return i}function e3e(n){return Kce(n)}const t3e="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Za="0x0000000000000000000000000000000000000000",n3e="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function r3e(n,e){const{blockNumber:r,blockTag:i,calls:s,stateOverrides:o,traceAssetChanges:a,traceTransfers:l,validation:c}=e,u=e.account?Fi(e.account):void 0;if(a&&!u)throw new tt("`account` is required when `traceAssetChanges` is true");const d=u?X5e(Q5e("constructor(bytes, bytes)"),{bytecode:Wle,args:[n3e,Z5e(Hp("function getBalance(address)"),[u.address])]}):void 0,h=a?await Promise.all(e.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:H}=await Zle(n,{account:u.address,...R,data:R.abi?Wa(R):R.data});return H.map(({address:U,storageKeys:K})=>K.length>0?U:null)})).then(R=>R.flat().filter(Boolean)):[],f=await aR(n,{blockNumber:r,blockTag:i,blocks:[...a?[{calls:[{data:d}],stateOverrides:o},{calls:h.map((R,H)=>({abi:[Hp("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:Za,nonce:H})),stateOverrides:[{address:Za,nonce:0}]}]:[],{calls:[...s,{}].map(R=>({...R,from:u==null?void 0:u.address})),stateOverrides:o},...a?[{calls:[{data:d}]},{calls:h.map((R,H)=>({abi:[Hp("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:Za,nonce:H})),stateOverrides:[{address:Za,nonce:0}]},{calls:h.map((R,H)=>({to:R,abi:[Hp("function decimals() returns (uint256)")],functionName:"decimals",from:Za,nonce:H})),stateOverrides:[{address:Za,nonce:0}]},{calls:h.map((R,H)=>({to:R,abi:[Hp("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Za,nonce:H})),stateOverrides:[{address:Za,nonce:0}]},{calls:h.map((R,H)=>({to:R,abi:[Hp("function symbol() returns (string)")],functionName:"symbol",from:Za,nonce:H})),stateOverrides:[{address:Za,nonce:0}]}]:[]],traceTransfers:l,validation:c}),p=a?f[2]:f[0],[m,b,,y,v,w,_,x]=a?f:[],{calls:S,...C}=p,E=S.slice(0,-1)??[],T=(m==null?void 0:m.calls)??[],M=(b==null?void 0:b.calls)??[],I=[...T,...M].map(R=>R.status==="success"?Nl(R.data):null),O=(y==null?void 0:y.calls)??[],F=(v==null?void 0:v.calls)??[],$=[...O,...F].map(R=>R.status==="success"?Nl(R.data):null),z=((w==null?void 0:w.calls)??[]).map(R=>R.status==="success"?R.result:null),D=((x==null?void 0:x.calls)??[]).map(R=>R.status==="success"?R.result:null),j=((_==null?void 0:_.calls)??[]).map(R=>R.status==="success"?R.result:null),N=[];for(const[R,H]of $.entries()){const U=I[R];if(typeof H!="bigint"||typeof U!="bigint")continue;const K=z[R-1],Y=D[R-1],J=j[R-1],G=R===0?{address:t3e,decimals:18,symbol:"ETH"}:{address:h[R-1],decimals:J||K?Number(K??1):void 0,symbol:Y??void 0};N.some(X=>X.token.address===G.address)||N.push({token:G,value:{pre:U,post:H,diff:H-U}})}return{assetChanges:N,block:C,results:E}}async function i3e(n,e){const{abi:r,address:i,args:s,dataSuffix:o,functionName:a,...l}=e,c=l.account?Fi(l.account):n.account,u=Wa({abi:r,args:s,functionName:a});try{const{data:d}=await Rt(n,dC,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:i,...l,account:c}),h=fp({abi:r,args:s,functionName:a,data:d||"0x"}),f=r.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:i,args:s,dataSuffix:o,functionName:a,...l,account:c}}}catch(d){throw n0(d,{abi:r,address:i,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c==null?void 0:c.address})}}async function yC(n,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const Xce="0x6492649264926492649264926492649264926492649264926492649264926492";function s3e(n){if(Il(n,-32)!==Xce)throw new l3e(n)}function o3e(n){const{data:e,signature:r,to:i}=n;return Na(Zj(zce("address, bytes, bytes"),[i,e,r]),Xce)}function a3e(n){try{return s3e(n),!0}catch{return!1}}class l3e extends sn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}let Qce=class extends Cj{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,oke(e);const i=tC(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),Zg(o)}update(e){return Jg(this),this.iHash.update(e),this}digestInto(e){Jg(this),$f(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Jce=(n,e,r)=>new Qce(n,e).update(r).digest();Jce.create=(n,e)=>new Qce(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i7=BigInt(0),uR=BigInt(1);function ix(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function s7(n){if(!ix(n))throw new Error("Uint8Array expected")}function Jv(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}function N1(n){const e=n.toString(16);return e.length&1?"0"+e:e}function Zce(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?i7:BigInt("0x"+n)}const eue=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c3e=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Zv(n){if(s7(n),eue)return n.toHex();let e="";for(let r=0;r<n.length;r++)e+=c3e[n[r]];return e}const ic={_0:48,_9:57,A:65,F:70,a:97,f:102};function mz(n){if(n>=ic._0&&n<=ic._9)return n-ic._0;if(n>=ic.A&&n<=ic.F)return n-(ic.A-10);if(n>=ic.a&&n<=ic.f)return n-(ic.a-10)}function bk(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(eue)return Uint8Array.fromHex(n);const e=n.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){const a=mz(n.charCodeAt(o)),l=mz(n.charCodeAt(o+1));if(a===void 0||l===void 0){const c=n[o]+n[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}i[s]=a*16+l}return i}function _f(n){return Zce(Zv(n))}function tue(n){return s7(n),Zce(Zv(Uint8Array.from(n).reverse()))}function sx(n,e){return bk(n.toString(16).padStart(e*2,"0"))}function nue(n,e){return sx(n,e).reverse()}function Bo(n,e,r){let i;if(typeof e=="string")try{i=bk(e)}catch(o){throw new Error(n+" must be hex string or Uint8Array, cause: "+o)}else if(ix(e))i=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(n+" of length "+r+" expected, got "+s);return i}function yk(...n){let e=0;for(let i=0;i<n.length;i++){const s=n[i];s7(s),e+=s.length}const r=new Uint8Array(e);for(let i=0,s=0;i<n.length;i++){const o=n[i];r.set(o,s),s+=o.length}return r}const K6=n=>typeof n=="bigint"&&i7<=n;function o7(n,e,r){return K6(n)&&K6(e)&&K6(r)&&e<=n&&n<r}function Xm(n,e,r,i){if(!o7(e,r,i))throw new Error("expected valid "+n+": "+r+" <= n < "+i+", got "+e)}function u3e(n){let e;for(e=0;n>i7;n>>=uR,e+=1);return e}const vC=n=>(uR<<BigInt(n))-uR,X6=n=>new Uint8Array(n),gz=n=>Uint8Array.from(n);function d3e(n,e,r){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=X6(n),s=X6(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},l=(...h)=>r(s,i,...h),c=(h=X6(0))=>{s=l(gz([0]),h),i=l(),h.length!==0&&(s=l(gz([1]),h),i=l())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return yk(...f)};return(h,f)=>{a(),c(h);let p;for(;!(p=f(u()));)c();return a(),p}}const h3e={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||ix(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function wC(n,e,r={}){const i=(s,o,a)=>{const l=h3e[o];if(typeof l!="function")throw new Error("invalid validator function");const c=n[s];if(!(a&&c===void 0)&&!l(c,n))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(e))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return n}function bz(n){const e=new WeakMap;return(r,...i)=>{const s=e.get(r);if(s!==void 0)return s;const o=n(r,...i);return e.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const As=BigInt(0),is=BigInt(1),Kh=BigInt(2),f3e=BigInt(3),rue=BigInt(4),iue=BigInt(5),sue=BigInt(8);function xs(n,e){const r=n%e;return r>=As?r:e+r}function Co(n,e,r){let i=n;for(;e-- >As;)i*=i,i%=r;return i}function dR(n,e){if(n===As)throw new Error("invert: expected non-zero number");if(e<=As)throw new Error("invert: expected positive modulus, got "+e);let r=xs(n,e),i=e,s=As,o=is;for(;r!==As;){const l=i/r,c=i%r,u=s-o*l;i=r,r=c,s=o,o=u}if(i!==is)throw new Error("invert: does not exist");return xs(s,e)}function oue(n,e){const r=(n.ORDER+is)/rue,i=n.pow(e,r);if(!n.eql(n.sqr(i),e))throw new Error("Cannot find square root");return i}function p3e(n,e){const r=(n.ORDER-iue)/sue,i=n.mul(e,Kh),s=n.pow(i,r),o=n.mul(e,s),a=n.mul(n.mul(o,Kh),s),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),e))throw new Error("Cannot find square root");return l}function m3e(n){if(n<BigInt(3))throw new Error("sqrt is not defined for small field");let e=n-is,r=0;for(;e%Kh===As;)e/=Kh,r++;let i=Kh;const s=a7(n);for(;yz(s,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return oue;let o=s.pow(i,e);const a=(e+is)/Kh;return function(c,u){if(c.is0(u))return u;if(yz(c,u)!==1)throw new Error("Cannot find square root");let d=r,h=c.mul(c.ONE,o),f=c.pow(u,e),p=c.pow(u,a);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let m=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(m++,b=c.sqr(b),m===d)throw new Error("Cannot find square root");const y=is<<BigInt(d-m-1),v=c.pow(h,y);d=m,h=c.sqr(v),f=c.mul(f,h),p=c.mul(p,v)}return p}}function g3e(n){return n%rue===f3e?oue:n%sue===iue?p3e:m3e(n)}const b3e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function y3e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=b3e.reduce((i,s)=>(i[s]="function",i),e);return wC(n,r)}function v3e(n,e,r){if(r<As)throw new Error("invalid exponent, negatives unsupported");if(r===As)return n.ONE;if(r===is)return e;let i=n.ONE,s=e;for(;r>As;)r&is&&(i=n.mul(i,s)),s=n.sqr(s),r>>=is;return i}function aue(n,e,r=!1){const i=new Array(e.length).fill(r?n.ZERO:void 0),s=e.reduce((a,l,c)=>n.is0(l)?a:(i[c]=a,n.mul(a,l)),n.ONE),o=n.inv(s);return e.reduceRight((a,l,c)=>n.is0(l)?a:(i[c]=n.mul(a,i[c]),n.mul(a,l)),o),i}function yz(n,e){const r=(n.ORDER-is)/Kh,i=n.pow(e,r),s=n.eql(i,n.ONE),o=n.eql(i,n.ZERO),a=n.eql(i,n.neg(n.ONE));if(!s&&!o&&!a)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function lue(n,e){e!==void 0&&Mv(e);const r=e!==void 0?e:n.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function a7(n,e,r=!1,i={}){if(n<=As)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:o}=lue(n,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const l=Object.freeze({ORDER:n,isLE:r,BITS:s,BYTES:o,MASK:vC(s),ZERO:As,ONE:is,create:c=>xs(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return As<=c&&c<n},is0:c=>c===As,isOdd:c=>(c&is)===is,neg:c=>xs(-c,n),eql:(c,u)=>c===u,sqr:c=>xs(c*c,n),add:(c,u)=>xs(c+u,n),sub:(c,u)=>xs(c-u,n),mul:(c,u)=>xs(c*u,n),pow:(c,u)=>v3e(l,c,u),div:(c,u)=>xs(c*dR(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>dR(c,n),sqrt:i.sqrt||(c=>(a||(a=g3e(n)),a(l,c))),toBytes:c=>r?nue(c,o):sx(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?tue(c):_f(c)},invertBatch:c=>aue(l,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(l)}function cue(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function uue(n){const e=cue(n);return e+Math.ceil(e/2)}function w3e(n,e,r=!1){const i=n.length,s=cue(e),o=uue(e);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const a=r?tue(n):_f(n),l=xs(a,e-is)+is;return r?nue(l,s):sx(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vz=BigInt(0),hR=BigInt(1);function Q6(n,e){const r=e.negate();return n?r:e}function due(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function J6(n,e){due(n,e);const r=Math.ceil(e/n)+1,i=2**(n-1),s=2**n,o=vC(n),a=BigInt(n);return{windows:r,windowSize:i,mask:o,maxNumber:s,shiftBy:a}}function wz(n,e,r){const{windowSize:i,mask:s,maxNumber:o,shiftBy:a}=r;let l=Number(n&s),c=n>>a;l>i&&(l-=o,c+=hR);const u=e*i,d=u+Math.abs(l)-1,h=l===0,f=l<0,p=e%2!==0;return{nextN:c,offset:d,isZero:h,isNeg:f,isNegF:p,offsetF:u}}function x3e(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((r,i)=>{if(!(r instanceof e))throw new Error("invalid point at index "+i)})}function _3e(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((r,i)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+i)})}const Z6=new WeakMap,hue=new WeakMap;function e5(n){return hue.get(n)||1}function S3e(n,e){return{constTimeNegate:Q6,hasPrecomputes(r){return e5(r)!==1},unsafeLadder(r,i,s=n.ZERO){let o=r;for(;i>vz;)i&hR&&(s=s.add(o)),o=o.double(),i>>=hR;return s},precomputeWindow(r,i){const{windows:s,windowSize:o}=J6(i,e),a=[];let l=r,c=l;for(let u=0;u<s;u++){c=l,a.push(c);for(let d=1;d<o;d++)c=c.add(l),a.push(c);l=c.double()}return a},wNAF(r,i,s){let o=n.ZERO,a=n.BASE;const l=J6(r,e);for(let c=0;c<l.windows;c++){const{nextN:u,offset:d,isZero:h,isNeg:f,isNegF:p,offsetF:m}=wz(s,c,l);s=u,h?a=a.add(Q6(p,i[m])):o=o.add(Q6(f,i[d]))}return{p:o,f:a}},wNAFUnsafe(r,i,s,o=n.ZERO){const a=J6(r,e);for(let l=0;l<a.windows&&s!==vz;l++){const{nextN:c,offset:u,isZero:d,isNeg:h}=wz(s,l,a);if(s=c,!d){const f=i[u];o=o.add(h?f.negate():f)}}return o},getPrecomputes(r,i,s){let o=Z6.get(i);return o||(o=this.precomputeWindow(i,r),r!==1&&Z6.set(i,s(o))),o},wNAFCached(r,i,s){const o=e5(r);return this.wNAF(o,this.getPrecomputes(o,r,s),i)},wNAFCachedUnsafe(r,i,s,o){const a=e5(r);return a===1?this.unsafeLadder(r,i,o):this.wNAFUnsafe(a,this.getPrecomputes(a,r,s),i,o)},setWindowSize(r,i){due(i,e),hue.set(r,i),Z6.delete(r)}}}function k3e(n,e,r,i){x3e(r,n),_3e(i,e);const s=r.length,o=i.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const a=n.ZERO,l=u3e(BigInt(s));let c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);const u=vC(c),d=new Array(Number(u)+1).fill(a),h=Math.floor((e.BITS-1)/c)*c;let f=a;for(let p=h;p>=0;p-=c){d.fill(a);for(let b=0;b<o;b++){const y=i[b],v=Number(y>>BigInt(p)&u);d[v]=d[v].add(r[b])}let m=a;for(let b=d.length-1,y=a;b>0;b--)y=y.add(d[b]),m=m.add(y);if(f=f.add(m),p!==0)for(let b=0;b<c;b++)f=f.double()}return f}function fue(n){return y3e(n.Fp),wC(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lue(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xz(n){n.lowS!==void 0&&Jv("lowS",n.lowS),n.prehash!==void 0&&Jv("prehash",n.prehash)}function C3e(n){const e=fue(n);wC(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:i,a:s}=e;if(r){if(!i.eql(s,i.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class E3e extends Error{constructor(e=""){super(e)}}const vc={Err:E3e,_tlv:{encode:(n,e)=>{const{Err:r}=vc;if(n<0||n>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const i=e.length/2,s=N1(i);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const o=i>127?N1(s.length/2|128):"";return N1(n)+o+s+e},decode(n,e){const{Err:r}=vc;let i=0;if(n<0||n>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[i++]!==n)throw new r("tlv.decode: wrong tlv");const s=e[i++],o=!!(s&128);let a=0;if(!o)a=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(i,i+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const d of u)a=a<<8|d;if(i+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}const l=e.subarray(i,i+a);if(l.length!==a)throw new r("tlv.decode: wrong value length");return{v:l,l:e.subarray(i+a)}}},_int:{encode(n){const{Err:e}=vc;if(n<Ic)throw new e("integer: negative integers are not allowed");let r=N1(n);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(n){const{Err:e}=vc;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return _f(n)}},toSig(n){const{Err:e,_int:r,_tlv:i}=vc,s=Bo("signature",n),{v:o,l:a}=i.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:c}=i.decode(2,o),{v:u,l:d}=i.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(u)}},hexFromSig(n){const{_tlv:e,_int:r}=vc,i=e.encode(2,r.encode(n.r)),s=e.encode(2,r.encode(n.s)),o=i+s;return e.encode(48,o)}};function t5(n,e){return Zv(sx(n,e))}const Ic=BigInt(0),Qr=BigInt(1);BigInt(2);const n5=BigInt(3),A3e=BigInt(4);function T3e(n){const e=C3e(n),{Fp:r}=e,i=a7(e.n,e.nBitLength),s=e.toBytes||((_,x,S)=>{const C=x.toAffine();return yk(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),o=e.fromBytes||(_=>{const x=_.subarray(1),S=r.fromBytes(x.subarray(0,r.BYTES)),C=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:S,y:C}});function a(_){const{a:x,b:S}=e,C=r.sqr(_),E=r.mul(C,_);return r.add(r.add(E,r.mul(_,x)),S)}function l(_,x){const S=r.sqr(x),C=a(_);return r.eql(S,C)}if(!l(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(e.a,n5),A3e),u=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,u)))throw new Error("bad curve params: a or b");function d(_){return o7(_,Qr,e.n)}function h(_){const{allowedPrivateKeyLengths:x,nByteLength:S,wrapPrivateKey:C,n:E}=e;if(x&&typeof _!="bigint"){if(ix(_)&&(_=Zv(_)),typeof _!="string"||!x.includes(_.length))throw new Error("invalid private key");_=_.padStart(S*2,"0")}let T;try{T=typeof _=="bigint"?_:_f(Bo("private key",_,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof _)}return C&&(T=xs(T,E)),Xm("private key",T,Qr,E),T}function f(_){if(!(_ instanceof b))throw new Error("ProjectivePoint expected")}const p=bz((_,x)=>{const{px:S,py:C,pz:E}=_;if(r.eql(E,r.ONE))return{x:S,y:C};const T=_.is0();x==null&&(x=T?r.ONE:r.inv(E));const M=r.mul(S,x),I=r.mul(C,x),O=r.mul(E,x);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:M,y:I}}),m=bz(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.py))return;throw new Error("bad point: ZERO")}const{x,y:S}=_.toAffine();if(!r.isValid(x)||!r.isValid(S))throw new Error("bad point: x or y not FE");if(!l(x,S))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(x,S,C){if(x==null||!r.isValid(x))throw new Error("x required");if(S==null||!r.isValid(S)||r.is0(S))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");this.px=x,this.py=S,this.pz=C,Object.freeze(this)}static fromAffine(x){const{x:S,y:C}=x||{};if(!x||!r.isValid(S)||!r.isValid(C))throw new Error("invalid affine point");if(x instanceof b)throw new Error("projective point not allowed");const E=T=>r.eql(T,r.ZERO);return E(S)&&E(C)?b.ZERO:new b(S,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const S=aue(r,x.map(C=>C.pz));return x.map((C,E)=>C.toAffine(S[E])).map(b.fromAffine)}static fromHex(x){const S=b.fromAffine(o(Bo("pointHex",x)));return S.assertValidity(),S}static fromPrivateKey(x){return b.BASE.multiply(h(x))}static msm(x,S){return k3e(b,i,x,S)}_setWindowSize(x){w.setWindowSize(this,x)}assertValidity(){m(this)}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){f(x);const{px:S,py:C,pz:E}=this,{px:T,py:M,pz:I}=x,O=r.eql(r.mul(S,I),r.mul(T,E)),F=r.eql(r.mul(C,I),r.mul(M,E));return O&&F}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:S}=e,C=r.mul(S,n5),{px:E,py:T,pz:M}=this;let I=r.ZERO,O=r.ZERO,F=r.ZERO,$=r.mul(E,E),z=r.mul(T,T),D=r.mul(M,M),j=r.mul(E,T);return j=r.add(j,j),F=r.mul(E,M),F=r.add(F,F),I=r.mul(x,F),O=r.mul(C,D),O=r.add(I,O),I=r.sub(z,O),O=r.add(z,O),O=r.mul(I,O),I=r.mul(j,I),F=r.mul(C,F),D=r.mul(x,D),j=r.sub($,D),j=r.mul(x,j),j=r.add(j,F),F=r.add($,$),$=r.add(F,$),$=r.add($,D),$=r.mul($,j),O=r.add(O,$),D=r.mul(T,M),D=r.add(D,D),$=r.mul(D,j),I=r.sub(I,$),F=r.mul(D,z),F=r.add(F,F),F=r.add(F,F),new b(I,O,F)}add(x){f(x);const{px:S,py:C,pz:E}=this,{px:T,py:M,pz:I}=x;let O=r.ZERO,F=r.ZERO,$=r.ZERO;const z=e.a,D=r.mul(e.b,n5);let j=r.mul(S,T),N=r.mul(C,M),R=r.mul(E,I),H=r.add(S,C),U=r.add(T,M);H=r.mul(H,U),U=r.add(j,N),H=r.sub(H,U),U=r.add(S,E);let K=r.add(T,I);return U=r.mul(U,K),K=r.add(j,R),U=r.sub(U,K),K=r.add(C,E),O=r.add(M,I),K=r.mul(K,O),O=r.add(N,R),K=r.sub(K,O),$=r.mul(z,U),O=r.mul(D,R),$=r.add(O,$),O=r.sub(N,$),$=r.add(N,$),F=r.mul(O,$),N=r.add(j,j),N=r.add(N,j),R=r.mul(z,R),U=r.mul(D,U),N=r.add(N,R),R=r.sub(j,R),R=r.mul(z,R),U=r.add(U,R),j=r.mul(N,U),F=r.add(F,j),j=r.mul(K,U),O=r.mul(H,O),O=r.sub(O,j),j=r.mul(H,N),$=r.mul(K,$),$=r.add($,j),new b(O,F,$)}subtract(x){return this.add(x.negate())}is0(){return this.equals(b.ZERO)}wNAF(x){return w.wNAFCached(this,x,b.normalizeZ)}multiplyUnsafe(x){const{endo:S,n:C}=e;Xm("scalar",x,Ic,C);const E=b.ZERO;if(x===Ic)return E;if(this.is0()||x===Qr)return this;if(!S||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,x,b.normalizeZ);let{k1neg:T,k1:M,k2neg:I,k2:O}=S.splitScalar(x),F=E,$=E,z=this;for(;M>Ic||O>Ic;)M&Qr&&(F=F.add(z)),O&Qr&&($=$.add(z)),z=z.double(),M>>=Qr,O>>=Qr;return T&&(F=F.negate()),I&&($=$.negate()),$=new b(r.mul($.px,S.beta),$.py,$.pz),F.add($)}multiply(x){const{endo:S,n:C}=e;Xm("scalar",x,Qr,C);let E,T;if(S){const{k1neg:M,k1:I,k2neg:O,k2:F}=S.splitScalar(x);let{p:$,f:z}=this.wNAF(I),{p:D,f:j}=this.wNAF(F);$=w.constTimeNegate(M,$),D=w.constTimeNegate(O,D),D=new b(r.mul(D.px,S.beta),D.py,D.pz),E=$.add(D),T=z.add(j)}else{const{p:M,f:I}=this.wNAF(x);E=M,T=I}return b.normalizeZ([E,T])[0]}multiplyAndAddUnsafe(x,S,C){const E=b.BASE,T=(I,O)=>O===Ic||O===Qr||!I.equals(E)?I.multiplyUnsafe(O):I.multiply(O),M=T(this,S).add(T(x,C));return M.is0()?void 0:M}toAffine(x){return p(this,x)}isTorsionFree(){const{h:x,isTorsionFree:S}=e;if(x===Qr)return!0;if(S)return S(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:S}=e;return x===Qr?this:S?S(b,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return Jv("isCompressed",x),this.assertValidity(),s(b,this,x)}toHex(x=!0){return Jv("isCompressed",x),Zv(this.toRawBytes(x))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const{endo:y,nBitLength:v}=e,w=S3e(b,y?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:d}}function P3e(n){const e=fue(n);return wC(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function I3e(n){const e=P3e(n),{Fp:r,n:i,nByteLength:s,nBitLength:o}=e,a=r.BYTES+1,l=2*r.BYTES+1;function c(D){return xs(D,i)}function u(D){return dR(D,i)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=T3e({...e,toBytes(D,j,N){const R=j.toAffine(),H=r.toBytes(R.x),U=yk;return Jv("isCompressed",N),N?U(Uint8Array.from([j.hasEvenY()?2:3]),H):U(Uint8Array.from([4]),H,r.toBytes(R.y))},fromBytes(D){const j=D.length,N=D[0],R=D.subarray(1);if(j===a&&(N===2||N===3)){const H=_f(R);if(!o7(H,Qr,r.ORDER))throw new Error("Point is not on curve");const U=f(H);let K;try{K=r.sqrt(U)}catch(G){const X=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+X)}const Y=(K&Qr)===Qr;return(N&1)===1!==Y&&(K=r.neg(K)),{x:H,y:K}}else if(j===l&&N===4){const H=r.fromBytes(R.subarray(0,r.BYTES)),U=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:H,y:U}}else{const H=a,U=l;throw new Error("invalid Point, expected length of "+H+", or uncompressed "+U+", got "+j)}}});function m(D){const j=i>>Qr;return D>j}function b(D){return m(D)?c(-D):D}const y=(D,j,N)=>_f(D.slice(j,N));class v{constructor(j,N,R){Xm("r",j,Qr,i),Xm("s",N,Qr,i),this.r=j,this.s=N,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(j){const N=s;return j=Bo("compactSignature",j,N*2),new v(y(j,0,N),y(j,N,2*N))}static fromDER(j){const{r:N,s:R}=vc.toSig(Bo("DER",j));return new v(N,R)}assertValidity(){}addRecoveryBit(j){return new v(this.r,this.s,j)}recoverPublicKey(j){const{r:N,s:R,recovery:H}=this,U=E(Bo("msgHash",j));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const K=H===2||H===3?N+e.n:N;if(K>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=H&1?"03":"02",J=d.fromHex(Y+t5(K,r.BYTES)),G=u(K),X=c(-U*G),ae=c(R*G),ge=d.BASE.multiplyAndAddUnsafe(J,X,ae);if(!ge)throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return bk(this.toDERHex())}toDERHex(){return vc.hexFromSig(this)}toCompactRawBytes(){return bk(this.toCompactHex())}toCompactHex(){const j=s;return t5(this.r,j)+t5(this.s,j)}}const w={isValidPrivateKey(D){try{return h(D),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const D=uue(e.n);return w3e(e.randomBytes(D),e.n)},precompute(D=8,j=d.BASE){return j._setWindowSize(D),j.multiply(BigInt(3)),j}};function _(D,j=!0){return d.fromPrivateKey(D).toRawBytes(j)}function x(D){if(typeof D=="bigint")return!1;if(D instanceof d)return!0;const N=Bo("key",D).length,R=r.BYTES,H=R+1,U=2*R+1;if(!(e.allowedPrivateKeyLengths||s===H))return N===H||N===U}function S(D,j,N=!0){if(x(D)===!0)throw new Error("first arg must be private key");if(x(j)===!1)throw new Error("second arg must be public key");return d.fromHex(j).multiply(h(D)).toRawBytes(N)}const C=e.bits2int||function(D){if(D.length>8192)throw new Error("input is too large");const j=_f(D),N=D.length*8-o;return N>0?j>>BigInt(N):j},E=e.bits2int_modN||function(D){return c(C(D))},T=vC(o);function M(D){return Xm("num < 2^"+o,D,Ic,T),sx(D,s)}function I(D,j,N=O){if(["recovered","canonical"].some(ie=>ie in N))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:H}=e;let{lowS:U,prehash:K,extraEntropy:Y}=N;U==null&&(U=!0),D=Bo("msgHash",D),xz(N),K&&(D=Bo("prehashed msgHash",R(D)));const J=E(D),G=h(j),X=[M(G),M(J)];if(Y!=null&&Y!==!1){const ie=Y===!0?H(r.BYTES):Y;X.push(Bo("extraEntropy",ie))}const ae=yk(...X),ge=J;function le(ie){const Te=C(ie);if(!p(Te))return;const Ee=u(Te),V=d.BASE.multiply(Te).toAffine(),Ie=c(V.x);if(Ie===Ic)return;const Ye=c(Ee*c(ge+Ie*G));if(Ye===Ic)return;let nt=(V.x===Ie?0:2)|Number(V.y&Qr),Ue=Ye;return U&&m(Ye)&&(Ue=b(Ye),nt^=1),new v(Ie,Ue,nt)}return{seed:ae,k2sig:le}}const O={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function $(D,j,N=O){const{seed:R,k2sig:H}=I(D,j,N),U=e;return d3e(U.hash.outputLen,U.nByteLength,U.hmac)(R,H)}d.BASE._setWindowSize(8);function z(D,j,N,R=F){var nt;const H=D;j=Bo("msgHash",j),N=Bo("publicKey",N);const{lowS:U,prehash:K,format:Y}=R;if(xz(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(Y!==void 0&&Y!=="compact"&&Y!=="der")throw new Error("format must be compact or der");const J=typeof H=="string"||ix(H),G=!J&&!Y&&typeof H=="object"&&H!==null&&typeof H.r=="bigint"&&typeof H.s=="bigint";if(!J&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let X,ae;try{if(G&&(X=new v(H.r,H.s)),J){try{Y!=="compact"&&(X=v.fromDER(H))}catch(Ue){if(!(Ue instanceof vc.Err))throw Ue}!X&&Y!=="der"&&(X=v.fromCompact(H))}ae=d.fromHex(N)}catch{return!1}if(!X||U&&X.hasHighS())return!1;K&&(j=e.hash(j));const{r:ge,s:le}=X,ie=E(j),Te=u(le),Ee=c(ie*Te),V=c(ge*Te),Ie=(nt=d.BASE.multiplyAndAddUnsafe(ae,Ee,V))==null?void 0:nt.toAffine();return Ie?c(Ie.x)===ge:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:S,sign:$,verify:z,ProjectivePoint:d,Signature:v,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M3e(n){return{hash:n,hmac:(e,...r)=>Jce(n,e,hke(...r)),randomBytes:fke}}function O3e(n,e){const r=i=>I3e({...n,...M3e(i)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pue=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_z=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),D3e=BigInt(0),R3e=BigInt(1),fR=BigInt(2),Sz=(n,e)=>(n+e/fR)/e;function N3e(n){const e=pue,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=n*n*n%e,d=u*u*n%e,h=Co(d,r,e)*d%e,f=Co(h,r,e)*d%e,p=Co(f,fR,e)*u%e,m=Co(p,s,e)*p%e,b=Co(m,o,e)*m%e,y=Co(b,l,e)*b%e,v=Co(y,c,e)*y%e,w=Co(v,l,e)*b%e,_=Co(w,r,e)*d%e,x=Co(_,a,e)*m%e,S=Co(x,i,e)*u%e,C=Co(S,fR,e);if(!pR.eql(pR.sqr(C),n))throw new Error("Cannot find square root");return C}const pR=a7(pue,void 0,void 0,{sqrt:N3e}),mue=O3e({a:D3e,b:BigInt(7),Fp:pR,n:_z,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=_z,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-R3e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),l=Sz(o*n,e),c=Sz(-i*n,e);let u=xs(n-l*r-c*s,e),d=xs(-l*i-c*o,e);const h=u>a,f=d>a;if(h&&(u=e-u),f&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:u,k2neg:f,k2:d}}}},mce),j3e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:mue},Symbol.toStringTag,{value:"Module"}));function B3e({r:n,s:e,to:r="hex",v:i,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(i&&(i===27n||i===28n||i>=35n))return i%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new mue.Signature(Nl(n),Nl(e)).toCompactHex()}${o===0?"1b":"1c"}`;return r==="hex"?a:Bl(a)}async function xC(n,e){var c,u,d,h;const{address:r,chain:i=n.chain,hash:s,erc6492VerifierAddress:o=e.universalSignatureVerifierAddress??((u=(c=i==null?void 0:i.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:a=e.multicallAddress??((h=(d=i==null?void 0:i.contracts)==null?void 0:d.multicall3)==null?void 0:h.address)}=e;if(i!=null&&i.verifyHash)return await i.verifyHash(n,e);const l=(()=>{const f=e.signature;return Rl(f)?f:typeof f=="object"&&"r"in f&&"s"in f?B3e(f):qr(f)})();try{return $5e(l)?await L3e(n,{...e,multicallAddress:a,signature:l}):await F3e(n,{...e,verifierAddress:o,signature:l})}catch(f){try{if(fC(ni(r),await rce({hash:s,signature:l})))return!0}catch{}if(f instanceof qf)return!1;throw f}}async function L3e(n,e){var y;const{address:r,blockNumber:i,blockTag:s,hash:o,multicallAddress:a}=e,{authorization:l,data:c,signature:u,to:d}=F5e(e.signature);if(await nR(n,{address:r,blockNumber:i,blockTag:s})===W0(["0xef0100",l.address]))return await $3e(n,{address:r,blockNumber:i,blockTag:s,hash:o,signature:u});const f={address:l.address,chainId:Number(l.chainId),nonce:Number(l.nonce),r:kt(l.r,{size:32}),s:kt(l.s,{size:32}),yParity:l.yParity};if(!await s6e({address:r,authorization:f}))throw new qf;const m=await Rt(n,Ba,"readContract")({...a?{address:a}:{code:Bj},authorizationList:[f],abi:ck,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??r,callData:c}]:[],{allowFailure:!0,target:r,callData:Wa({abi:Fae,functionName:"isValidSignature",args:[o,u]})}]]}),b=(y=m[m.length-1])==null?void 0:y.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new qf}async function F3e(n,e){const{address:r,factory:i,factoryData:s,hash:o,signature:a,verifierAddress:l,...c}=e,u=await(async()=>!i&&!s||a3e(a)?a:o3e({data:s,signature:a,to:i}))(),d=l?{to:l,data:Wa({abi:k$,functionName:"isValidSig",args:[r,o,u]}),...c}:{data:Lj({abi:k$,args:[r,o,u],bytecode:WCe}),...c},{data:h}=await Rt(n,dC,"call")(d).catch(f=>{throw f instanceof Tle?new qf:f});if(GSe(h??"0x0"))return!0;throw new qf}async function $3e(n,e){const{address:r,blockNumber:i,blockTag:s,hash:o,signature:a}=e;if((await Rt(n,Ba,"readContract")({address:r,abi:Fae,args:[o,a],blockNumber:i,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Ple?new qf:c})).startsWith("0x1626ba7e"))return!0;throw new qf}class qf extends Error{}async function z3e(n,{address:e,message:r,factory:i,factoryData:s,signature:o,...a}){const l=kce(r);return Rt(n,xC,"verifyHash")({address:e,factory:i,factoryData:s,hash:l,signature:o,...a})}async function U3e(n,e){const{address:r,factory:i,factoryData:s,signature:o,message:a,primaryType:l,types:c,domain:u,...d}=e,h=v6e({message:a,primaryType:l,types:c,domain:u});return Rt(n,xC,"verifyHash")({address:r,factory:i,factoryData:s,hash:h,signature:o,...d})}const r5=new Map,kz=new Map;let W3e=0;function qd(n,e,r){const i=++W3e,s=()=>r5.get(n)||[],o=()=>{const d=s();r5.set(n,d.filter(h=>h.id!==i))},a=()=>{const d=s();if(!d.some(f=>f.id===i))return;const h=kz.get(n);if(d.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}o()},l=s();if(r5.set(n,[...l,{id:i,fns:e}]),l&&l.length>0)return a;const c={};for(const d in e)c[d]=(...h)=>{var p,m;const f=s();if(f.length!==0)for(const b of f)(m=(p=b.fns)[d])==null||m.call(p,...h)};const u=r(c);return typeof u=="function"&&kz.set(n,u),a}function ox(n,{emitOnBegin:e,initialWaitTime:r,interval:i}){let s=!0;const o=()=>s=!1;return(async()=>{let l;e&&(l=await n({unpoll:o}));const c=await(r==null?void 0:r(l))??i;await rR(c);const u=async()=>{s&&(await n({unpoll:o}),await rR(i),u())};u()})(),o}function gue(n,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:i,onError:s,poll:o,pollingInterval:a=n.pollingInterval}){const l=typeof o<"u"?o:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc"));let c;return l?(()=>{const h=oi(["watchBlockNumber",n.uid,e,r,a]);return qd(h,{onBlockNumber:i,onError:s},f=>ox(async()=>{var p;try{const m=await Rt(n,rx,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(m===c)return;if(m-c>1&&r)for(let b=c+1n;b<m;b++)f.onBlockNumber(b,c),c=b}(c===void 0||m>c)&&(f.onBlockNumber(m,c),c=m)}catch(m){(p=f.onError)==null||p.call(f,m)}},{emitOnBegin:e,interval:a}))})():(()=>{const h=oi(["watchBlockNumber",n.uid,e,r]);return qd(h,{onBlockNumber:i,onError:s},f=>{let p=!0,m=()=>p=!1;return(async()=>{try{const b=(()=>{if(n.transport.type==="fallback"){const v=n.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return v?v.value:n.transport}return n.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(v){var _;if(!p)return;const w=Nl((_=v.result)==null?void 0:_.number);f.onBlockNumber(w,c),c=w},onError(v){var w;(w=f.onError)==null||w.call(f,v)}});m=y,p||m()}catch(b){s==null||s(b)}})(),()=>m()})})()}async function q3e(n,e){const{checkReplacement:r=!0,confirmations:i=1,hash:s,onReplaced:o,retryCount:a=6,retryDelay:l=({count:S})=>~~(1<<S)*200,timeout:c=18e4}=e,u=oi(["waitForTransactionReceipt",n.uid,s]),d=(()=>{var S;return e.pollingInterval?e.pollingInterval:(S=n.chain)!=null&&S.experimental_preconfirmationTime?n.chain.experimental_preconfirmationTime:n.pollingInterval})();let h,f,p,m=!1,b,y;const{promise:v,resolve:w,reject:_}=Hle(),x=c?setTimeout(()=>{y==null||y(),b==null||b(),_(new J2e({hash:s}))},c):void 0;return b=qd(u,{onReplaced:o,resolve:w,reject:_},async S=>{if(p=await Rt(n,oS,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&i<=1){clearTimeout(x),S.resolve(p),b==null||b();return}y=Rt(n,gue,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(C){const E=M=>{clearTimeout(x),y==null||y(),M(),b==null||b()};let T=C;if(!m)try{if(p){if(i>1&&(!p.blockNumber||T-p.blockNumber+1n<i))return;E(()=>S.resolve(p));return}if(r&&!h&&(m=!0,await r0(async()=>{h=await Rt(n,r7,"getTransaction")({hash:s}),h.blockNumber&&(T=h.blockNumber)},{delay:l,retryCount:a}),m=!1),p=await Rt(n,oS,"getTransactionReceipt")({hash:s}),i>1&&(!p.blockNumber||T-p.blockNumber+1n<i))return;E(()=>S.resolve(p))}catch(M){if(M instanceof Ele||M instanceof Ale){if(!h){m=!1;return}try{f=h,m=!0;const I=await r0(()=>Rt(n,Aa,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:l,retryCount:a,shouldRetry:({error:$})=>$ instanceof lce});m=!1;const O=I.transactions.find(({from:$,nonce:z})=>$===f.from&&z===f.nonce);if(!O||(p=await Rt(n,oS,"getTransactionReceipt")({hash:O.hash}),i>1&&(!p.blockNumber||T-p.blockNumber+1n<i)))return;let F="replaced";O.to===f.to&&O.value===f.value&&O.input===f.input?F="repriced":O.from===O.to&&O.value===0n&&(F="cancelled"),E(()=>{var $;($=S.onReplaced)==null||$.call(S,{reason:F,replacedTransaction:f,transaction:O,transactionReceipt:p}),S.resolve(p)})}catch(I){E(()=>S.reject(I))}}else E(()=>S.reject(M))}}})}),v}function H3e(n,{blockTag:e=n.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:i=!1,onBlock:s,onError:o,includeTransactions:a,poll:l,pollingInterval:c=n.pollingInterval}){const u=typeof l<"u"?l:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")),d=a??!1;let h;return u?(()=>{const m=oi(["watchBlocks",n.uid,e,r,i,d,c]);return qd(m,{onBlock:s,onError:o},b=>ox(async()=>{var y;try{const v=await Rt(n,Aa,"getBlock")({blockTag:e,includeTransactions:d});if(v.number!==null&&(h==null?void 0:h.number)!=null){if(v.number===h.number)return;if(v.number-h.number>1&&r)for(let w=(h==null?void 0:h.number)+1n;w<v.number;w++){const _=await Rt(n,Aa,"getBlock")({blockNumber:w,includeTransactions:d});b.onBlock(_,h),h=_}}((h==null?void 0:h.number)==null||e==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>h.number)&&(b.onBlock(v,h),h=v)}catch(v){(y=b.onError)==null||y.call(b,v)}},{emitOnBegin:i,interval:c}))})():(()=>{let m=!0,b=!0,y=()=>m=!1;return(async()=>{try{i&&Rt(n,Aa,"getBlock")({blockTag:e,includeTransactions:d}).then(_=>{m&&b&&(s(_,void 0),b=!1)}).catch(o);const v=(()=>{if(n.transport.type==="fallback"){const _=n.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return _?_.value:n.transport}return n.transport})(),{unsubscribe:w}=await v.subscribe({params:["newHeads"],async onData(_){var S;if(!m)return;const x=await Rt(n,Aa,"getBlock")({blockNumber:(S=_.result)==null?void 0:S.number,includeTransactions:d}).catch(()=>{});m&&(s(x,h),b=!1,h=x)},onError(_){o==null||o(_)}});y=w,m||y()}catch(v){o==null||o(v)}})(),()=>y()})()}function V3e(n,e){const{abi:r,address:i,args:s,batch:o=!0,eventName:a,fromBlock:l,onError:c,onLogs:u,poll:d,pollingInterval:h=n.pollingInterval,strict:f}=e;return(typeof d<"u"?d:typeof l=="bigint"?!0:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")))?(()=>{const y=f??!1,v=oi(["watchContractEvent",i,s,o,n.uid,a,h,y,l]);return qd(v,{onLogs:u,onError:c},w=>{let _;l!==void 0&&(_=l-1n);let x,S=!1;const C=ox(async()=>{var E;if(!S){try{x=await Rt(n,ece,"createContractEventFilter")({abi:r,address:i,args:s,eventName:a,strict:y,fromBlock:l})}catch{}S=!0;return}try{let T;if(x)T=await Rt(n,pC,"getFilterChanges")({filter:x});else{const M=await Rt(n,rx,"getBlockNumber")({});_&&_<M?T=await Rt(n,xce,"getContractEvents")({abi:r,address:i,args:s,eventName:a,fromBlock:_+1n,toBlock:M,strict:y}):T=[],_=M}if(T.length===0)return;if(o)w.onLogs(T);else for(const M of T)w.onLogs([M])}catch(T){x&&T instanceof Wd&&(S=!1),(E=w.onError)==null||E.call(w,T)}},{emitOnBegin:!0,interval:h});return async()=>{x&&await Rt(n,yC,"uninstallFilter")({filter:x}),C()}})})():(()=>{const y=f??!1,v=oi(["watchContractEvent",i,s,o,n.uid,a,h,y]);let w=!0,_=()=>w=!1;return qd(v,{onLogs:u,onError:c},x=>((async()=>{try{const S=(()=>{if(n.transport.type==="fallback"){const T=n.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return T?T.value:n.transport}return n.transport})(),C=a?nx({abi:r,eventName:a,args:s}):[],{unsubscribe:E}=await S.subscribe({params:["logs",{address:i,topics:C}],onData(T){var I;if(!w)return;const M=T.result;try{const{eventName:O,args:F}=pk({abi:r,data:M.data,topics:M.topics,strict:f}),$=ou(M,{args:F,eventName:O});x.onLogs([$])}catch(O){let F,$;if(O instanceof uk||O instanceof kj){if(f)return;F=O.abiItem.name,$=(I=O.abiItem.inputs)==null?void 0:I.some(D=>!("name"in D&&D.name))}const z=ou(M,{args:$?[]:{},eventName:F});x.onLogs([z])}},onError(T){var M;(M=x.onError)==null||M.call(x,T)}});_=E,w||_()}catch(S){c==null||c(S)}})(),()=>_()))})()}function G3e(n,{address:e,args:r,batch:i=!0,event:s,events:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:d=n.pollingInterval,strict:h}){const f=typeof u<"u"?u:typeof a=="bigint"?!0:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const y=oi(["watchEvent",e,r,i,n.uid,s,d,a]);return qd(y,{onLogs:c,onError:l},v=>{let w;a!==void 0&&(w=a-1n);let _,x=!1;const S=ox(async()=>{var C;if(!x){try{_=await Rt(n,tce,"createEventFilter")({address:e,args:r,event:s,events:o,strict:p,fromBlock:a})}catch{}x=!0;return}try{let E;if(_)E=await Rt(n,pC,"getFilterChanges")({filter:_});else{const T=await Rt(n,rx,"getBlockNumber")({});w&&w!==T?E=await Rt(n,Kj,"getLogs")({address:e,args:r,event:s,events:o,fromBlock:w+1n,toBlock:T}):E=[],w=T}if(E.length===0)return;if(i)v.onLogs(E);else for(const T of E)v.onLogs([T])}catch(E){_&&E instanceof Wd&&(x=!1),(C=v.onError)==null||C.call(v,E)}},{emitOnBegin:!0,interval:d});return async()=>{_&&await Rt(n,yC,"uninstallFilter")({filter:_}),S()}})})():(()=>{let y=!0,v=()=>y=!1;return(async()=>{try{const w=(()=>{if(n.transport.type==="fallback"){const C=n.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return C?C.value:n.transport}return n.transport})(),_=o??(s?[s]:void 0);let x=[];_&&(x=[_.flatMap(E=>nx({abi:[E],eventName:E.name,args:r}))],s&&(x=x[0]));const{unsubscribe:S}=await w.subscribe({params:["logs",{address:e,topics:x}],onData(C){var T;if(!y)return;const E=C.result;try{const{eventName:M,args:I}=pk({abi:_??[],data:E.data,topics:E.topics,strict:p}),O=ou(E,{args:I,eventName:M});c([O])}catch(M){let I,O;if(M instanceof uk||M instanceof kj){if(h)return;I=M.abiItem.name,O=(T=M.abiItem.inputs)==null?void 0:T.some($=>!("name"in $&&$.name))}const F=ou(E,{args:O?[]:{},eventName:I});c([F])}},onError(C){l==null||l(C)}});v=S,y||v()}catch(w){l==null||l(w)}})(),()=>v()})()}function Y3e(n,{batch:e=!0,onError:r,onTransactions:i,poll:s,pollingInterval:o=n.pollingInterval}){return(typeof s<"u"?s:n.transport.type!=="webSocket"&&n.transport.type!=="ipc")?(()=>{const u=oi(["watchPendingTransactions",n.uid,e,o]);return qd(u,{onTransactions:i,onError:r},d=>{let h;const f=ox(async()=>{var p;try{if(!h)try{h=await Rt(n,nce,"createPendingTransactionFilter")({});return}catch(b){throw f(),b}const m=await Rt(n,pC,"getFilterChanges")({filter:h});if(m.length===0)return;if(e)d.onTransactions(m);else for(const b of m)d.onTransactions([b])}catch(m){(p=d.onError)==null||p.call(d,m)}},{emitOnBegin:!0,interval:o});return async()=>{h&&await Rt(n,yC,"uninstallFilter")({filter:h}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:h}=await n.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const p=f.result;i([p])},onError(f){r==null||r(f)}});d=h,u||d()}catch(h){r==null||r(h)}})(),()=>d()})()}class bue extends tt{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}async function K3e(n,{serializedTransaction:e}){return n.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}async function X3e(n,{serializedTransaction:e,throwOnReceiptRevert:r,timeout:i}){var l,c,u;const s=await n.request({method:"eth_sendRawTransactionSync",params:i?[e,kt(i)]:[e]},{retryCount:0}),a=(((u=(c=(l=n.chain)==null?void 0:l.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||Sce)(s);if(a.status==="reverted"&&r)throw new Q2e({receipt:a});return a}async function Q3e(n,{account:e=n.account,message:r}){if(!e)throw new bue({docsPath:"/docs/actions/wallet/signMessage"});const i=Fi(e);if(i.signMessage)return i.signMessage({message:r});const s=typeof r=="string"?Qg(r):r.raw instanceof Uint8Array?iu(r.raw):r.raw;return n.request({method:"personal_sign",params:[s,i.address]},{retryCount:0})}async function J3e(n,e){const{account:r=n.account,domain:i,message:s,primaryType:o}=e;if(!r)throw new bue({docsPath:"/docs/actions/wallet/signTypedData"});const a=Fi(r),l={EIP712Domain:Ece({domain:i}),...e.types};if(Cce({domain:i,message:s,primaryType:o,types:l}),a.signTypedData)return a.signTypedData({domain:i,message:s,primaryType:o,types:l});const c=b6e({domain:i,message:s,primaryType:o,types:l});return n.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}function ax(n,e,r){const i=n[e.name];if(typeof i=="function")return i;const s=n[r];return typeof s=="function"?s:o=>e(n,o)}const aS="3.0.0",Z3e=()=>`@wagmi/core@${aS}`;var yue=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},vk,vue;let fu=class mR extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Z3e()}constructor(e,r={}){var o;super(),vk.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const i=r.cause instanceof mR?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,s=r.cause instanceof mR&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...i?[`Details: ${i}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return yue(this,vk,"m",vue).call(this,this,e)}};vk=new WeakSet,vue=function n(e,r){return r!=null&&r(e)?e:e.cause?yue(this,vk,"m",n).call(this,e.cause,r):e};class Hd extends fu{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class eAe extends fu{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class tAe extends fu{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class nAe extends fu{constructor({address:e,connector:r}){super(`Account "${e}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class rAe extends fu{constructor({connectionChainId:e,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class iAe extends fu{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function sAe(n,e){var i;let r;if(typeof e.connector=="function"?r=n._internal.connectors.setup(e.connector):r=e.connector,r.uid===n.state.current)throw new eAe;try{n.setState(l=>({...l,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=e,a=await r.connect(o);return r.emitter.off("connect",n._internal.events.connect),r.emitter.on("change",n._internal.events.change),r.emitter.on("disconnect",n._internal.events.disconnect),await((i=n.storage)==null?void 0:i.setItem("recentConnectorId",r.id)),n.setState(l=>({...l,connections:new Map(l.connections).set(r.uid,{accounts:o.withCapabilities?a.accounts.map(c=>typeof c=="object"?c.address:c):a.accounts,chainId:a.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:o.withCapabilities?a.accounts.map(l=>typeof l=="object"?l:{address:l,capabilities:{}}):a.accounts,chainId:a.chainId}}catch(s){throw n.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const gR=256;let j1=gR,B1;function wue(n=11){if(!B1||j1+n>gR*2){B1="",j1=0;for(let e=0;e<gR;e++)B1+=(256+Math.random()*256|0).toString(16).substring(1)}return B1.substring(j1,j1+++n)}function xue(n){const{batch:e,chain:r,ccipRead:i,key:s="base",name:o="Base Client",type:a="base"}=n,l=n.experimental_blockTag??(typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(r==null?void 0:r.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),d=n.pollingInterval??u,h=n.cacheTime??d,f=n.account?Fi(n.account):void 0,{config:p,request:m,value:b}=n.transport({account:f,chain:r,pollingInterval:d}),y={...p,...b},v={account:f,batch:e,cacheTime:h,ccipRead:i,chain:r,key:s,name:o,pollingInterval:d,request:m,transport:y,type:a,uid:wue(),...l?{experimental_blockTag:l}:{}};function w(_){return x=>{const S=x(_);for(const E in v)delete S[E];const C={..._,...S};return Object.assign(C,{extend:w(C)})}}return Object.assign(v,{extend:w(v)})}function oAe(n){var h,f,p;const{scheme:e,statement:r,...i}=((h=n.match(aAe))==null?void 0:h.groups)??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:l,requestId:c,...u}=((f=n.match(lAe))==null?void 0:f.groups)??{},d=(p=n.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...i,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...l?{notBefore:new Date(l)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const aAe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,lAe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function cAe(n){const{address:e,domain:r,message:i,nonce:s,scheme:o,time:a=new Date}=n;if(r&&i.domain!==r||s&&i.nonce!==s||o&&i.scheme!==o||i.expirationTime&&a>=i.expirationTime||i.notBefore&&a<i.notBefore)return!1;try{if(!i.address||!ho(i.address,{strict:!1})||e&&!fC(i.address,e))return!1}catch{return!1}return!0}async function uAe(n,e){const{address:r,domain:i,message:s,nonce:o,scheme:a,signature:l,time:c=new Date,...u}=e,d=oAe(s);if(!d.address||!cAe({address:r,domain:i,message:d,nonce:o,scheme:a,time:c}))return!1;const f=kce(s);return xC(n,{address:d.address,hash:f,signature:l,...u})}function dAe(n){return{call:e=>dC(n,e),createAccessList:e=>Zle(n,e),createBlockFilter:()=>hEe(n),createContractEventFilter:e=>ece(n,e),createEventFilter:e=>tce(n,e),createPendingTransactionFilter:()=>nce(n),estimateContractGas:e=>WEe(n,e),estimateGas:e=>Gj(n,e),getBalance:e=>wce(n,e),getBlobBaseFee:()=>qEe(n),getBlock:e=>Aa(n,e),getBlockNumber:e=>rx(n,e),getBlockTransactionCount:e=>XEe(n,e),getBytecode:e=>nR(n,e),getChainId:()=>Vj(n),getCode:e=>nR(n,e),getContractEvents:e=>xce(n,e),getEip712Domain:e=>e6e(n,e),getEnsAddress:e=>JCe(n,e),getEnsAvatar:e=>Qle(n,e),getEnsName:e=>Jle(n,e),getEnsResolver:e=>dEe(n,e),getEnsText:e=>Xle(n,e),getFeeHistory:e=>r6e(n,e),estimateFeesPerGas:e=>CEe(n,e),getFilterChanges:e=>pC(n,e),getFilterLogs:e=>i6e(n,e),getGasPrice:()=>qj(n),getLogs:e=>Kj(n,e),getProof:e=>q5e(n,e),estimateMaxPriorityFeePerGas:e=>kEe(n,e),fillTransaction:e=>yce(n,e),getStorageAt:e=>H5e(n,e),getTransaction:e=>r7(n,e),getTransactionConfirmations:e=>V5e(n,e),getTransactionCount:e=>hce(n,e),getTransactionReceipt:e=>oS(n,e),multicall:e=>G5e(n,e),prepareTransactionRequest:e=>vce(n,e),readContract:e=>Ba(n,e),sendRawTransaction:e=>K3e(n,e),sendRawTransactionSync:e=>X3e(n,e),simulate:e=>aR(n,e),simulateBlocks:e=>aR(n,e),simulateCalls:e=>r3e(n,e),simulateContract:e=>i3e(n,e),verifyHash:e=>xC(n,e),verifyMessage:e=>z3e(n,e),verifySiweMessage:e=>uAe(n,e),verifyTypedData:e=>U3e(n,e),uninstallFilter:e=>yC(n,e),waitForTransactionReceipt:e=>q3e(n,e),watchBlocks:e=>H3e(n,e),watchBlockNumber:e=>gue(n,e),watchContractEvent:e=>V3e(n,e),watchEvent:e=>G3e(n,e),watchPendingTransactions:e=>Y3e(n,e)}}function _ue({key:n,methods:e,name:r,request:i,retryCount:s=3,retryDelay:o=150,timeout:a,type:l},c){const u=wue();return{config:{key:n,methods:e,name:r,request:i,retryCount:s,retryDelay:o,timeout:a,type:l},request:a6e(i,{methods:e,retryCount:s,retryDelay:o,uid:u}),value:c}}function hAe(n,e={}){const{key:r="custom",methods:i,name:s="Custom Provider",retryDelay:o}=e;return({retryCount:a})=>_ue({key:r,methods:i,name:s,request:n.request.bind(n),retryCount:e.retryCount??a,retryDelay:o,type:"custom"})}class fAe extends tt{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function bR(n,e={}){const{batch:r,fetchFn:i,fetchOptions:s,key:o="http",methods:a,name:l="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:h}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:b=1e3,wait:y=0}=typeof r=="object"?r:{},v=e.retryCount??p,w=m??e.timeout??1e4,_=f==null?void 0:f.rpcUrls.default.http[0];if(!_)throw new fAe;const x=d6e(_,{fetchFn:i,fetchOptions:s,onRequest:c,onResponse:u,timeout:w});return _ue({key:o,methods:a,name:l,async request({method:S,params:C}){const E={method:S,params:C},{schedule:T}=Vle({id:_,wait:y,shouldSplitBatch(F){return F.length>b},fn:F=>x.request({body:F}),sort:(F,$)=>F.id-$.id}),M=async F=>r?T(F):[await x.request({body:F})],[{error:I,result:O}]=await M(E);if(h)return{error:I,result:O};if(I)throw new Nj({body:E,error:I,url:_});return O},retryCount:v,retryDelay:d,timeout:w,type:"http"},{fetchOptions:s,url:_})}}async function Sue(n,e={}){const{assertChainId:r=!0}=e;let i;if(e.connector){const{connector:d}=e;if(n.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new iAe({connector:d});const[h,f]=await Promise.all([d.getAccounts().catch(p=>{if(e.account===null)return[];throw p}),d.getChainId()]);i={accounts:h,chainId:f,connector:d}}else i=n.state.connections.get(n.state.current);if(!i)throw new tAe;const s=e.chainId??i.chainId,o=await i.connector.getChainId();if(r&&o!==s)throw new rAe({connectionChainId:s,connectorChainId:o});const a=i.connector;if(a.getClient)return a.getClient({chainId:s});const l=Fi(e.account??i.accounts[0]);if(l&&(l.address=ni(l.address)),e.account&&!i.accounts.some(d=>d.toLowerCase()===l.address.toLowerCase()))throw new nAe({address:l.address,connector:a});const c=n.chains.find(d=>d.id===s),u=await i.connector.getProvider({chainId:s});return xue({account:l,chain:c,name:"Connector Client",transport:d=>hAe(u)({...d,retryCount:0})})}async function pAe(n,e={}){var s,o;let r;if(e.connector)r=e.connector;else{const{connections:a,current:l}=n.state,c=a.get(l);r=c==null?void 0:c.connector}const i=n.state.connections;r&&(await r.disconnect(),r.emitter.off("change",n._internal.events.change),r.emitter.off("disconnect",n._internal.events.disconnect),r.emitter.on("connect",n._internal.events.connect),i.delete(r.uid)),n.setState(a=>{if(i.size===0)return{...a,connections:new Map,current:null,status:"disconnected"};const l=i.values().next().value;return{...a,connections:new Map(i),current:l.connector.uid}});{const a=n.state.current;if(!a)return;const l=(s=n.state.connections.get(a))==null?void 0:s.connector;if(!l)return;await((o=n.storage)==null?void 0:o.setItem("recentConnectorId",l.id))}}async function mAe(n,e){const{address:r,blockNumber:i,blockTag:s,chainId:o}=e,a=n.getClient({chainId:o}),c=await ax(a,wce,"getBalance")(i?{address:r,blockNumber:i}:{address:r,blockTag:s}),u=n.chains.find(d=>d.id===o)??a.chain;return{decimals:u.nativeCurrency.decimals,symbol:u.nativeCurrency.symbol,value:c}}function Cz(n){return n.state.chainId}function Hf(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;let r,i;if(Array.isArray(n)&&Array.isArray(e)){if(r=n.length,r!==e.length)return!1;for(i=r;i--!==0;)if(!Hf(n[i],e[i]))return!1;return!0}if(typeof n.valueOf=="function"&&n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(typeof n.toString=="function"&&n.toString!==Object.prototype.toString)return n.toString()===e.toString();const s=Object.keys(n);if(r=s.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.hasOwn(e,s[i]))return!1;for(i=r;i--!==0;){const o=s[i];if(o&&!Hf(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}let i5=[];function Ez(n){const e=n.chains;return Hf(i5,e)?i5:(i5=e,e)}function gAe(n,e={}){try{return n.getClient(e)}catch{return}}function kue(n){const e=n.state.current,r=n.state.connections.get(e),i=r==null?void 0:r.accounts,s=i==null?void 0:i[0],o=n.chains.find(l=>l.id===(r==null?void 0:r.chainId)),a=n.state.status;switch(a){case"connected":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}let L1=[];function yR(n){const e=[...n.state.connections.values()];return n.state.status==="reconnecting"||Hf(L1,e)?L1:(L1=e,e)}let F1=[];function Az(n){const e=n.connectors;return F1.length===e.length&&F1.every((r,i)=>r===e[i])?F1:(F1=e,e)}function bAe(n,e){const{chainId:r,...i}=e,s=n.getClient({chainId:r});return ax(s,Qle,"getEnsAvatar")(i)}function yAe(n,e){const{chainId:r,...i}=e,s=n.getClient({chainId:r});return ax(s,Jle,"getEnsName")(i)}function vR(n,e={}){const r=gAe(n,e);return r==null?void 0:r.extend(dAe)}let s5=!1;async function vAe(n,e={}){var u,d;if(s5)return[];s5=!0,n.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const r=[];if((u=e.connectors)!=null&&u.length)for(const h of e.connectors){let f;typeof h=="function"?f=n._internal.connectors.setup(h):f=h,r.push(f)}else r.push(...n.connectors);let i;try{i=await((d=n.storage)==null?void 0:d.getItem("recentConnectorId"))}catch{}const s={};for(const[,h]of n.state.connections)s[h.connector.id]=1;i&&(s[i]=0);const o=Object.keys(s).length>0?[...r].sort((h,f)=>(s[h.id]??10)-(s[f.id]??10)):r;let a=!1;const l=[],c=[];for(const h of o){const f=await h.getProvider().catch(()=>{});if(!f||c.some(b=>b===f)||!await h.isAuthorized())continue;const m=await h.connect({isReconnecting:!0}).catch(()=>null);m&&(h.emitter.off("connect",n._internal.events.connect),h.emitter.on("change",n._internal.events.change),h.emitter.on("disconnect",n._internal.events.disconnect),n.setState(b=>{const y=new Map(a?b.connections:new Map).set(h.uid,{accounts:m.accounts,chainId:m.chainId,connector:h});return{...b,current:a?b.current:h.uid,connections:y}}),l.push({accounts:m.accounts,chainId:m.chainId,connector:h}),c.push(f),a=!0)}return(n.state.status==="reconnecting"||n.state.status==="connecting")&&(a?n.setState(h=>({...h,status:"connected"})):n.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),s5=!1,l}async function wAe(n,e){const{account:r,connector:i,...s}=e;let o;return typeof r=="object"&&r.type==="local"?o=n.getClient():o=await Sue(n,{account:r,connector:i}),ax(o,Q3e,"signMessage")({...s,...r?{account:r}:{}})}async function xAe(n,e){const{account:r,connector:i,...s}=e;let o;return typeof r=="object"&&r.type==="local"?o=n.getClient():o=await Sue(n,{account:r,connector:i}),ax(o,J3e,"signTypedData")({...s,...r?{account:r}:{}})}class Qs extends fu{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class _Ae extends fu{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function SAe(n,e){var a;const{addEthereumChainParameter:r,chainId:i}=e,s=n.state.connections.get(((a=e.connector)==null?void 0:a.uid)??n.state.current);if(s){const l=s.connector;if(!l.switchChain)throw new _Ae({connector:l});return await l.switchChain({addEthereumChainParameter:r,chainId:i})}const o=n.chains.find(l=>l.id===i);if(!o)throw new Hd;return n.setState(l=>({...l,chainId:i})),o}function kAe(n,e){const{onChange:r}=e;return n.subscribe(i=>i.chainId,r)}function Cue(n,e){const{onChange:r}=e;return n.subscribe(()=>kue(n),r,{equalityFn(i,s){const{connector:o,...a}=i,{connector:l,...c}=s;return Hf(a,c)&&(o==null?void 0:o.id)===(l==null?void 0:l.id)&&(o==null?void 0:o.uid)===(l==null?void 0:l.uid)}})}function CAe(n,e){const{onChange:r}=e;return n.subscribe(()=>yR(n),r,{equalityFn:Hf})}function EAe(n,e){const{onChange:r}=e;return n._internal.connectors.subscribe((i,s)=>{r(Object.values(i),s)})}function AAe(n,e){const{onChange:r}=e;return n.subscribe(()=>vR(n),r,{equalityFn(i,s){return(i==null?void 0:i.uid)===(s==null?void 0:s.uid)}})}lx.type="injected";function lx(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=n;function i(){const c=n.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...TAe[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,a,l;return c=>({get icon(){return i().icon},get id(){return i().id},get name(){return i().name},type:lx.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&n.target&&(a||(a=this.onConnect.bind(this),u.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:h}={}){var m,b,y,v,w,_;const f=await this.getProvider();if(!f)throw new Qs;let p=[];if(d)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(v=(y=(b=(m=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:b[0])==null?void 0:y.value)==null?void 0:v.map(S=>ni(S)),p.length>0&&(p=await this.getAccounts())}catch(x){const S=x;if(S.code===An.code)throw new An(S);if(S.code===Pl.code)throw S}try{!(p!=null&&p.length)&&!d&&(p=(await f.request({method:"eth_requestAccounts"})).map(C=>ni(C))),a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l));let x=await this.getChainId();if(u&&x!==u){const S=await this.switchChain({chainId:u}).catch(C=>{if(C.code===An.code)throw C;return{id:x}});x=(S==null?void 0:S.id)??x}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),n.target||await((_=c.storage)==null?void 0:_.setItem("injected.connected",!0)),{accounts:h?p.map(S=>({address:S,capabilities:{}})):p,chainId:x}}catch(x){const S=x;throw S.code===An.code?new An(S):S.code===Pl.code?new Pl(S):S}},async disconnect(){var d,h;const u=await this.getProvider();if(!u)throw new Qs;o&&(u.removeListener("chainChanged",o),o=void 0),l&&(u.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a));try{await mC(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=c.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),n.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Qs;return(await u.request({method:"eth_accounts"})).map(h=>ni(h))},async getChainId(){const u=await this.getProvider();if(!u)throw new Qs;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=i();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=lS(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!n.target&&!await((d=c.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const m=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",m),!!await this.getProvider()),b=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(m()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(m()),b))]))return!0}throw new Qs}return!!(await r0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var m,b,y,v;const h=await this.getProvider();if(!h)throw new Qs;const f=c.chains.find(w=>w.id===d);if(!f)throw new so(new Hd);const p=new Promise(w=>{const _=x=>{"chainId"in x&&x.chainId===d&&(c.emitter.off("change",_),w())};c.emitter.on("change",_)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:kt(d)}]}).then(async()=>{await this.getChainId()===d&&c.emitter.emit("change",{chainId:d})}),p]),f}catch(w){const _=w;if(_.code===4902||((b=(m=_==null?void 0:_.data)==null?void 0:m.originalError)==null?void 0:b.code)===4902)try{const{default:x,...S}=f.blockExplorers??{};let C;u!=null&&u.blockExplorerUrls?C=u.blockExplorerUrls:x&&(C=[x.url,...Object.values(S).map(M=>M.url)]);let E;(y=u==null?void 0:u.rpcUrls)!=null&&y.length?E=u.rpcUrls:E=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const T={blockExplorerUrls:C,chainId:kt(d),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:E};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[T]}).then(async()=>{if(await this.getChainId()===d)c.emitter.emit("change",{chainId:d});else throw new An(new Error("User rejected switch after adding network."))}),p]),f}catch(x){throw new An(x)}throw _.code===An.code?new An(_):new so(_)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((d=c.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(h=>ni(h))})},onChainChanged(u){const d=Number(u);c.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const h=Number(u.chainId);c.emitter.emit("connect",{accounts:d,chainId:h});const f=await this.getProvider();f&&(a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),l&&(d.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a))))}})}const TAe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n!=null&&n.coinbaseWalletExtension?n.coinbaseWalletExtension:lS(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return lS(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const i of r)if(e[i])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){var e,r;return(e=n==null?void 0:n.phantom)!=null&&e.ethereum?(r=n.phantom)==null?void 0:r.ethereum:lS(n,"isPhantom")}}};function lS(n,e){function r(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const i=n.ethereum;if(i!=null&&i.providers)return i.providers.find(s=>r(s));if(i&&r(i))return i}function PAe(n){if(typeof window>"u")return;const e=r=>n(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function IAe(){const n=new Set;let e=[];const r=()=>PAe(s=>{e.some(({info:o})=>o.uuid===s.info.uuid)||(e=[...e,s],n.forEach(o=>o(e,{added:[s]})))});let i=r();return{_listeners(){return n},clear(){n.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),i==null||i()},findProvider({rdns:s}){return e.find(o=>o.info.rdns===s)},getProviders(){return e},reset(){this.clear(),i==null||i(),i=r()},subscribe(s,{emitImmediately:o}={}){return n.add(s),o&&s(e,{added:e}),()=>n.delete(s)}}}const MAe=n=>(e,r,i)=>{const s=i.subscribe;return i.subscribe=(a,l,c)=>{let u=a;if(l){const d=(c==null?void 0:c.equalityFn)||Object.is;let h=a(i.getState());u=f=>{const p=a(f);if(!d(h,p)){const m=h;l(h=p,m)}},c!=null&&c.fireImmediately&&l(h,h)}return s(u)},n(e,r,i)},OAe=MAe;function DAe(n,e){let r;try{r=n()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>r.removeItem(s)}}const wR=n=>e=>{try{const r=n(e);return r instanceof Promise?r:{then(i){return wR(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return wR(i)(r)}}}},RAe=(n,e)=>(r,i,s)=>{let o={storage:DAe(()=>localStorage),partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...e},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return n((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...b)},i,s);const d=()=>{const b=o.partialize({...i()});return u.setItem(o.name,{state:b,version:o.version})},h=s.setState;s.setState=(b,y)=>{h(b,y),d()};const f=n((...b)=>{r(...b),d()},i,s);s.getInitialState=()=>f;let p;const m=()=>{var b,y;if(!u)return;a=!1,l.forEach(w=>{var _;return w((_=i())!=null?_:f)});const v=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(b=i())!=null?b:f))||void 0;return wR(u.getItem.bind(u))(o.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return[!0,o.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var _;const[x,S]=w;if(p=o.merge(S,(_=i())!=null?_:f),r(p,!0),x)return d()}).then(()=>{v==null||v(p,void 0),p=i(),a=!0,c.forEach(w=>w(p))}).catch(w=>{v==null||v(void 0,w)})};return s.persist={setOptions:b=>{o={...o,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},o.skipHydration||m(),p||f},NAe=RAe,Tz=n=>{let e;const r=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=n(i,s,l);return l},o5=n=>n?Tz(n):Tz;var Eue={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,h||c,f),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,m){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],v=arguments.length,w,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,f),!0;case 5:return y.fn.call(y.context,d,h,f,p),!0;case 6:return y.fn.call(y.context,d,h,f,p,m),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];y.fn.apply(y.context,w)}else{var x=y.length,S;for(_=0;_<x;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,h);break;case 4:y[_].fn.call(y[_].context,d,h,f);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];y[_].fn.apply(y[_].context,w)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!h||m.context===h)&&a(this,p);else{for(var b=0,y=[],v=m.length;b<v;b++)(m[b].fn!==d||f&&!m[b].once||h&&m[b].context!==h)&&y.push(m[b]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l})(Eue);var jAe=Eue.exports;const BAe=B2(jAe);let LAe=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new BAe})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const i=r[0];this._emitter.emit(e,{uid:this.uid,...i})}listenerCount(e){return this._emitter.listenerCount(e)}};function FAe(n){return new LAe(n)}function $Ae(n,e){return JSON.parse(n,(r,i)=>{let s=i;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(r,s))??s})}function Pz(n,e){return n.slice(0,e).join(".")||"."}function Iz(n,e){const{length:r}=n;for(let i=0;i<r;++i)if(n[i]===e)return i+1;return 0}function zAe(n,e){const r=typeof n=="function",i=typeof e=="function",s=[],o=[];return function(l,c){if(typeof c=="object")if(s.length){const u=Iz(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=l;const d=Iz(s,c);if(d!==0)return i?e.call(this,l,c,Pz(o,d)):`[ref=${Pz(o,d)}]`}else s[0]=c,o[0]=l;return r?n.call(this,l,c):c}}function UAe(n,e,r,i){return JSON.stringify(n,zAe((s,o)=>{let a=o;return typeof a=="bigint"&&(a={__type:"bigint",value:o.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(o.entries())}),(e==null?void 0:e(s,a))??a},i),r??void 0)}function WAe(n){const{deserialize:e=$Ae,key:r="wagmi",serialize:i=UAe,storage:s=Aue}=n;function o(a){return a instanceof Promise?a.then(l=>l).catch(()=>null):a}return{...s,key:r,async getItem(a,l){const c=s.getItem(`${r}.${a}`),u=await o(c);return u?e(u)??null:l??null},async setItem(a,l){const c=`${r}.${a}`;l===null?await o(s.removeItem(c)):await o(s.setItem(c,i(l)))},async removeItem(a){await o(s.removeItem(`${r}.${a}`))}}}const Aue={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function qAe(){const n=typeof window<"u"&&window.localStorage?window.localStorage:Aue;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,r){try{n.setItem(e,r)}catch{}}}}const xR=256;let $1=xR,z1;function HAe(n=11){if(!z1||$1+n>xR*2){z1="",$1=0;for(let e=0;e<xR;e++)z1+=(256+Math.random()*256|0).toString(16).substring(1)}return z1.substring($1,$1+++n)}function Tue(n){const{multiInjectedProviderDiscovery:e=!0,storage:r=WAe({storage:qAe()}),syncConnectedChain:i=!0,ssr:s=!1,...o}=n,a=typeof window<"u"&&e?IAe():void 0,l=o5(()=>o.chains),c=o5(()=>{const S=[],C=new Set;for(const E of o.connectors??[]){const T=u(E);if(S.push(T),!s&&T.rdns){const M=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const I of M)C.add(I)}}if(!s&&a){const E=a.getProviders();for(const T of E)C.has(T.info.rdns)||S.push(u(d(T)))}return S});function u(S){var T;const C=FAe(HAe()),E={...S({emitter:C,chains:l.getState(),storage:r,transports:o.transports}),emitter:C,uid:C.uid};return C.on("connect",_),(T=E.setup)==null||T.call(E),E}function d(S){const{info:C}=S,E=S.provider;return lx({target:{...C,id:C.rdns,provider:E}})}const h=new Map;function f(S={}){const C=S.chainId??y.getState().chainId,E=l.getState().find(M=>M.id===C);if(S.chainId&&!E)throw new Hd;{const M=h.get(y.getState().chainId);if(M&&!E)return M;if(!E)throw new Hd}{const M=h.get(C);if(M)return M}let T;if(o.client)T=o.client({chain:E});else{const M=E.id,I=l.getState().map($=>$.id),O={},F=Object.entries(o);for(const[$,z]of F)if(!($==="chains"||$==="client"||$==="connectors"||$==="transports"))if(typeof z=="object")if(M in z)O[$]=z[M];else{if(I.some(j=>j in z))continue;O[$]=z}else O[$]=z;T=xue({...O,chain:E,batch:O.batch??{multicall:!0},transport:$=>o.transports[M]({...$,connectors:c})})}return h.set(C,T),T}function p(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const b="0.0.0-canary-";aS.startsWith(b)?m=Number.parseInt(aS.replace(b,""),10):m=Number.parseInt(aS.split(".")[0]??"0",10);const y=o5(OAe(r?NAe(p,{migrate(S,C){if(C===m)return S;const E=p(),T=v(S,E.chainId);return{...E,chainId:T}},name:"store",partialize(S){return{connections:{__type:"Map",value:Array.from(S.connections.entries()).map(([C,E])=>{const{id:T,name:M,type:I,uid:O}=E.connector;return[C,{...E,connector:{id:T,name:M,type:I,uid:O}}]})},chainId:S.chainId,current:S.current}},merge(S,C){typeof S=="object"&&S&&"status"in S&&delete S.status;const E=v(S,C.chainId);return{...C,...S,chainId:E}},skipHydration:s,storage:r,version:m}):p));y.setState(p());function v(S,C){return S&&typeof S=="object"&&"chainId"in S&&typeof S.chainId=="number"&&l.getState().some(E=>E.id===S.chainId)?S.chainId:C}i&&y.subscribe(({connections:S,current:C})=>{var E;return C?(E=S.get(C))==null?void 0:E.chainId:void 0},S=>{if(l.getState().some(E=>E.id===S))return y.setState(E=>({...E,chainId:S??E.chainId}))}),a==null||a.subscribe(S=>{const C=new Set,E=new Set;for(const M of c.getState())if(C.add(M.id),M.rdns){const I=typeof M.rdns=="string"?[M.rdns]:M.rdns;for(const O of I)E.add(O)}const T=[];for(const M of S){if(E.has(M.info.rdns))continue;const I=u(d(M));C.has(I.id)||T.push(I)}r&&!y.persist.hasHydrated()||c.setState(M=>[...M,...T],!0)});function w(S){y.setState(C=>{const E=C.connections.get(S.uid);return E?{...C,connections:new Map(C.connections).set(S.uid,{accounts:S.accounts??E.accounts,chainId:S.chainId??E.chainId,connector:E.connector})}:C})}function _(S){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(C=>{const E=c.getState().find(T=>T.uid===S.uid);return E?(E.emitter.listenerCount("connect")&&E.emitter.off("connect",w),E.emitter.listenerCount("change")||E.emitter.on("change",w),E.emitter.listenerCount("disconnect")||E.emitter.on("disconnect",x),{...C,connections:new Map(C.connections).set(S.uid,{accounts:S.accounts,chainId:S.chainId,connector:E}),current:S.uid,status:"connected"}):C})}function x(S){y.setState(C=>{const E=C.connections.get(S.uid);if(E){const M=E.connector;M.emitter.listenerCount("change")&&E.connector.emitter.off("change",w),M.emitter.listenerCount("disconnect")&&E.connector.emitter.off("disconnect",x),M.emitter.listenerCount("connect")||E.connector.emitter.on("connect",_)}if(C.connections.delete(S.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const T=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:T.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:r,getClient:f,get state(){return y.getState()},setState(S){let C;typeof S=="function"?C=S(y.getState()):C=S;const E=p();typeof C!="object"&&(C=E),Object.keys(E).some(M=>!(M in C))&&(C=E),y.setState(C,!0)},subscribe(S,C,E){return y.subscribe(S,C,E?{...E,fireImmediately:E.emitImmediately}:void 0)},_internal:{mipd:a,async revalidate(){const S=y.getState(),C=S.connections;let E=S.current;for(const[,T]of C){const M=T.connector;M.isAuthorized&&await M.isAuthorized()||(C.delete(M.uid),E===M.uid&&(E=null))}y.setState(T=>({...T,connections:C,current:E}))},store:y,ssr:!!s,syncConnectedChain:i,transports:o.transports,chains:{setState(S){const C=typeof S=="function"?S(l.getState()):S;if(C.length!==0)return l.setState(C,!0)},subscribe(S){return l.subscribe(S)}},connectors:{providerDetailToConnector:d,setup:u,setState(S){return c.setState(typeof S=="function"?S(c.getState()):S,!0)},subscribe(S){return c.subscribe(S)}},events:{change:w,connect:_,disconnect:x}}}}function VAe(n,e){const{initialState:r,reconnectOnMount:i}=e;return r&&!n._internal.store.persist.hasHydrated()&&n.setState({...r,chainId:n.chains.some(s=>s.id===r.chainId)?r.chainId:n.chains[0].id,connections:i?r.connections:new Map,status:i?"reconnecting":"disconnected"}),{async onMount(){n._internal.ssr&&(await n._internal.store.persist.rehydrate(),n._internal.mipd&&n._internal.connectors.setState(s=>{var c;const o=new Set;for(const u of s??[])if(u.rdns){const d=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const h of d)o.add(h)}const a=[],l=((c=n._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of l){if(o.has(u.info.rdns))continue;const d=n._internal.connectors.providerDetailToConnector(u),h=n._internal.connectors.setup(d);a.push(h)}return[...s,...a]})),i?vAe(n):n.storage&&n.setState(s=>({...s,connections:new Map}))}}}function Pue(n){var o,a,l;const{chain:e}=n,r=e.rpcUrls.default.http[0];if(!n.transports)return[r];const i=(a=(o=n.transports)==null?void 0:o[e.id])==null?void 0:a.call(o,{chain:e});return(((l=i==null?void 0:i.value)==null?void 0:l.transports)||[i]).map(({value:c})=>(c==null?void 0:c.url)||r)}function GAe(n){const{children:e,config:r,initialState:i,reconnectOnMount:s=!0}=n,{onMount:o}=VAe(r,{initialState:i,reconnectOnMount:s});r._internal.ssr||o();const a=A.useRef(!0);return A.useEffect(()=>{if(a.current&&r._internal.ssr)return o(),()=>{a.current=!1}},[]),e}const Iue=A.createContext(void 0);function Mz(n){const{children:e,config:r}=n,i={value:r};return A.createElement(GAe,n,A.createElement(Iue.Provider,i,e))}const YAe="3.1.0",KAe=()=>`wagmi@${YAe}`;class XAe extends fu{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return KAe()}}class QAe extends XAe{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function JAe(n){return JSON.stringify(n,(e,r)=>ZAe(r)?Object.keys(r).sort().reduce((i,s)=>(i[s]=r[s],i),{}):typeof r=="bigint"?r.toString():r)}function ZAe(n){if(!Oz(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Oz(r)||!r.hasOwnProperty("isPrototypeOf"))}function Oz(n){return Object.prototype.toString.call(n)==="[object Object]"}function l7(n){const{_defaulted:e,behavior:r,gcTime:i,initialData:s,initialDataUpdatedAt:o,maxPages:a,meta:l,networkMode:c,queryFn:u,queryHash:d,queryKey:h,queryKeyHashFn:f,retry:p,retryDelay:m,structuralSharing:b,getPreviousPageParam:y,getNextPageParam:v,initialPageParam:w,_optimisticResults:_,enabled:x,notifyOnChangeProps:S,placeholderData:C,refetchInterval:E,refetchIntervalInBackground:T,refetchOnMount:M,refetchOnReconnect:I,refetchOnWindowFocus:O,retryOnMount:F,select:$,staleTime:z,suspense:D,throwOnError:j,config:N,connector:R,query:H,...U}=n;return U}function eTe(n){return{mutationFn(e){return sAe(n,e)},mutationKey:["connect"]}}function tTe(n){return{mutationFn(e){return pAe(n,e)},mutationKey:["disconnect"]}}function nTe(n,e={}){return{async queryFn({queryKey:r}){const{address:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("address is required");return await mAe(n,{...o,address:i})??null},queryKey:rTe(e)}}function rTe(n={}){return["balance",l7(n)]}function iTe(n,e={}){return{async queryFn({queryKey:r}){const{name:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("name is required");return bAe(n,{...o,name:i})},queryKey:sTe(e)}}function sTe(n={}){return["ensAvatar",l7(n)]}function oTe(n,e={}){return{async queryFn({queryKey:r}){const{address:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("address is required");return yAe(n,{...o,address:i})},queryKey:aTe(e)}}function aTe(n={}){return["ensName",l7(n)]}function lTe(n){return{mutationFn(e){return wAe(n,e)},mutationKey:["signMessage"]}}function cTe(n){return{mutationFn(e){return xAe(n,e)},mutationKey:["signTypedData"]}}function uTe(n){return{mutationFn(e){return SAe(n,e)},mutationKey:["switchChain"]}}function c7(n){const e=jae({...n,queryKeyHashFn:JAe});return e.queryKey=n.queryKey,e}function Gr(n={}){const e=n.config??A.useContext(Iue);if(!e)throw new QAe;return e}function cx(n={}){const e=Gr(n);return A.useSyncExternalStore(r=>kAe(e,{onChange:r}),()=>Cz(e),()=>Cz(e))}function Mue(n={}){const{address:e,query:r={}}=n,i=Gr(n),s=cx({config:i}),o=nTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return c7({...r,...o,enabled:a})}function dTe(n,e){const{onChange:r}=e;return n._internal.chains.subscribe((i,s)=>{r(i,s)})}var Oue={exports:{}},Due={},Rue={exports:{}},Nue={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=A;function hTe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var fTe=typeof Object.is=="function"?Object.is:hTe,pTe=i0.useState,mTe=i0.useEffect,gTe=i0.useLayoutEffect,bTe=i0.useDebugValue;function yTe(n,e){var r=e(),i=pTe({inst:{value:r,getSnapshot:e}}),s=i[0].inst,o=i[1];return gTe(function(){s.value=r,s.getSnapshot=e,a5(s)&&o({inst:s})},[n,r,e]),mTe(function(){return a5(s)&&o({inst:s}),n(function(){a5(s)&&o({inst:s})})},[n]),bTe(r),r}function a5(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!fTe(n,r)}catch{return!0}}function vTe(n,e){return e()}var wTe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vTe:yTe;Nue.useSyncExternalStore=i0.useSyncExternalStore!==void 0?i0.useSyncExternalStore:wTe;Rue.exports=Nue;var xTe=Rue.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C=A,_Te=xTe;function STe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var kTe=typeof Object.is=="function"?Object.is:STe,CTe=_Te.useSyncExternalStore,ETe=_C.useRef,ATe=_C.useEffect,TTe=_C.useMemo,PTe=_C.useDebugValue;Due.useSyncExternalStoreWithSelector=function(n,e,r,i,s){var o=ETe(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=TTe(function(){function c(p){if(!u){if(u=!0,d=p,p=i(p),s!==void 0&&a.hasValue){var m=a.value;if(s(m,p))return h=m}return h=p}if(m=h,kTe(d,p))return m;var b=i(p);return s!==void 0&&s(m,b)?(d=p,m):(d=p,h=b)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,i,s]);var l=CTe(n,o[0],o[1]);return ATe(function(){a.hasValue=!0,a.value=l},[l]),PTe(l),l};Oue.exports=Due;var jue=Oue.exports;const l5=n=>typeof n=="object"&&!Array.isArray(n);function ITe(n,e,r=e,i=Hf){const s=A.useRef([]),o=jue.useSyncExternalStoreWithSelector(n,e,r,a=>a,(a,l)=>{if(l5(a)&&l5(l)&&s.current.length){for(const c of s.current)if(!i(a[c],l[c]))return!1;return!0}return i(a,l)});return A.useMemo(()=>{if(l5(o)){const a={...o};let l={};for(const[c,u]of Object.entries(a))l={...l,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(a,l),a}return o},[o])}function ki(n={}){const e=Gr(n);return ITe(r=>Cue(e,{onChange:r}),()=>kue(e))}function MTe(n={}){const e=Gr(n);return A.useSyncExternalStore(r=>dTe(e,{onChange:r}),()=>Ez(e),()=>Ez(e))}function OTe(n={}){const e=Gr(n);return A.useSyncExternalStore(r=>EAe(e,{onChange:r}),()=>Az(e),()=>Az(e))}function u7(n={}){const e=Gr(n),r=eTe(e),i=Yw({...n.mutation,...r});return A.useEffect(()=>e.subscribe(({status:s})=>s,(s,o)=>{o==="connected"&&s==="disconnected"&&i.reset()}),[e,i.reset]),{...i,connect:i.mutate,connectAsync:i.mutateAsync,connectors:OTe({config:e})}}function Bue(n={}){const{onConnect:e,onDisconnect:r}=n,i=Gr(n);A.useEffect(()=>Cue(i,{onChange(s,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&s.status==="connected"){const{address:a,addresses:l,chain:c,chainId:u,connector:d}=s,h=o.status==="reconnecting"||o.status===void 0;e==null||e({address:a,addresses:l,chain:c,chainId:u,connector:d,isReconnected:h})}else o.status==="connected"&&s.status==="disconnected"&&(r==null||r())}}),[i,e,r])}function DTe(n={}){const e=Gr(n);return A.useSyncExternalStore(r=>CAe(e,{onChange:r}),()=>yR(e),()=>yR(e))}function ux(n={}){const e=Gr(n),r=tTe(e),i=Yw({...n.mutation,...r});return{...i,connectors:DTe({config:e}).map(s=>s.connector),disconnect:i.mutate,disconnectAsync:i.mutateAsync}}function RTe(n={}){const{name:e,query:r={}}=n,i=Gr(n),s=cx({config:i}),o=iTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return c7({...r,...o,enabled:a})}function NTe(n={}){const{address:e,query:r={}}=n,i=Gr(n),s=cx({config:i}),o=oTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return c7({...r,...o,enabled:a})}function jTe(n={}){const e=Gr(n);return jue.useSyncExternalStoreWithSelector(r=>AAe(e,{onChange:r}),()=>vR(e,n),()=>vR(e,n),r=>r,(r,i)=>(r==null?void 0:r.uid)===(i==null?void 0:i.uid))}function BTe(n={}){const e=Gr(n),r=lTe(e),i=Yw({...n.mutation,...r});return{...i,signMessage:i.mutate,signMessageAsync:i.mutateAsync}}function d7(n={}){const e=Gr(n),r=cTe(e),i=Yw({...n.mutation,...r});return{...i,mutate:i.mutate,mutateAsync:i.mutateAsync,signTypedData:i.mutate,signTypedDataAsync:i.mutateAsync}}function LTe(n={}){const e=Gr(n),r=uTe(e),i=Yw({...n.mutation,...r});return{...i,mutate:i.mutate,mutateAsync:i.mutateAsync,chains:MTe({config:e}),switchChain:i.mutate,switchChainAsync:i.mutateAsync}}var Dz='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',FTe={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${Dz}`,system:Dz},Rb={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},$Te={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},zTe=({borderRadius:n="large",fontStack:e="rounded",overlayBlur:r="none"})=>({blurs:{modalOverlay:$Te[r].modalOverlay},fonts:{body:FTe[e]},radii:{actionButton:Rb[n].actionButton,connectButton:Rb[n].connectButton,menuButton:Rb[n].connectButton,modal:Rb[n].modal,modalMobile:Rb[n].modalMobile}}),Lue={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},Rz=Lue.blue,Fue=({accentColor:n=Rz.accentColor,accentColorForeground:e=Rz.accentColorForeground,...r}={})=>({...zTe(r),colors:{accentColor:n,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});Fue.accentColors=Lue;var _R=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "ready": {
      "qr_code": {
        "step1": {
          "description": "Add Ready to your home screen for faster access to your wallet.",
          "title": "Open the Ready app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Binance Wallet extension",
          "description": "We recommend pinning Binance Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ctrl": {
      "extension": {
        "step1": {
          "title": "Install the CTRL Wallet extension",
          "description": "We recommend pinning CTRL Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "gemini": {
      "qr_code": {
        "step1": {
          "title": "Open keys.gemini.com",
          "description": "Visit keys.gemini.com on your mobile browser - no app download required."
        },
        "step2": {
          "title": "Create Your Wallet Instantly",
          "description": "Set up your smart wallet in seconds using your device's built-in authentication."
        },
        "step3": {
          "title": "Scan to Connect",
          "description": "Scan the QR code to instantly connect your wallet - it just works."
        }
      },
      "extension": {
        "step1": {
          "title": "Go to keys.gemini.com",
          "description": "No extensions or downloads needed - your wallet lives securely in the browser."
        },
        "step2": {
          "title": "One-Click Setup",
          "description": "Create your smart wallet instantly with passkey authentication - easier than any wallet out there."
        },
        "step3": {
          "title": "Connect and Go",
          "description": "Approve the connection and you're ready - the unopinionated wallet that just works."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "zilpay": {
      "qr_code": {
        "step1": {
          "title": "Open the ZilPay app",
          "description": "Add ZilPay to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "nova": {
      "qr_code": {
        "step1": {
          "title": "Open the Nova Wallet app",
          "description": "Add Nova Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    }
  }
}
`;function UTe(n,e){return Object.defineProperty(n,"__recipe__",{value:e,writable:!1}),n}var $ue=UTe;function zue(n){var{conditions:e}=n;if(!e)throw new Error("Styles have no conditions");function r(i){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:i}}if(Array.isArray(i)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var s={};for(var o in e.responsiveArray)i[o]!=null&&(s[e.responsiveArray[o]]=i[o]);return s}return i}return $ue(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:n.conditions}]})}function WTe(n){var{conditions:e}=n;if(!e)throw new Error("Styles have no conditions");var r=zue(n);function i(s,o){if(typeof s=="string"||typeof s=="number"||typeof s=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return o(s,e.defaultCondition)}var a=Array.isArray(s)?r(s):s,l={};for(var c in a)a[c]!=null&&(l[c]=o(a[c],c));return l}return $ue(i,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:n.conditions}]})}function qTe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function HTe(n){var e=qTe(n,"string");return typeof e=="symbol"?e:String(e)}function VTe(n,e,r){return e=HTe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Nz(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function c5(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(r),!0).forEach(function(i){VTe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Nz(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var GTe=n=>function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=Object.assign({},...r.map(c=>c.styles)),o=Object.keys(s),a=o.filter(c=>"mappings"in s[c]),l=c=>{var u=[],d={},h=c5({},c),f=!1;for(var p of a){var m=c[p];if(m!=null){var b=s[p];f=!0;for(var y of b.mappings)d[y]=m,h[y]==null&&delete h[y]}}var v=f?c5(c5({},d),h):c,w=function(){var S=v[_],C=s[_];try{if(C.mappings)return 1;if(typeof S=="string"||typeof S=="number")u.push(C.values[S].defaultClass);else if(Array.isArray(S))for(var E=0;E<S.length;E++){var T=S[E];if(T!=null){var M=C.responsiveArray[E];u.push(C.values[T].conditions[M])}}else for(var I in S){var O=S[I];O!=null&&u.push(C.values[O].conditions[I])}}catch(F){throw F}};for(var _ in v)w();return n(u.join(" "))};return Object.assign(l,{properties:new Set(o)})},YTe=n=>n,KTe=function(){return GTe(YTe)(...arguments)};function Uue(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=Uue(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function Wue(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=Uue(n))&&(i&&(i+=" "),i+=e);return i}var XTe="AEkVMQnvDV0B0wKWAQYBQgDpATQAoQDcAIUApwBsAOMAcACTAEUAigBRAHkAPgA/ACwANwAoAGIAHgAvACsAJQAXAC8AHAAhACIALwAVACsAEQAiAAsAGwARABgAFwA7ACoAKwAsADQAFgAtABIAHAAhAA4AHQAdABUAFgAZAA0ADgAXABAAGQAUABIEtAYQASIUOjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqft7uycM2yDPCLspA7EUOwD3LWujAKF9GAAXBCXXFgEdALkZzQT6CSBMNwmXCYgeG1ZZTOODQgATAAwAFQAOa1QAIQAOAEfuFdg98zlYypXmLgoQHV9NWD3sABMADAAVAA5rIFxAlwDD6wAbADkMxQAbFVup+3EB224cHQVbBeIC0J8CxLAKTBykZRRzGm1M9QC7DWcC4QALLTSJF8mRAoF7ARMbAL0NZwLhAAstAUhQJZFMCgMt+wUyCddpF60B10MASSsSdwIxFiEC6ye5N2sAOeEB9SUAxw7LtQEbY4EAsQUABQCK00kFG8MfBxcAqCfRAaErLQObAGcBChk+7Td0BBgXAKoBxwIhANMrEnM681CwBZA6dyc1SAX6JwVZBVivuAVpO11CEjpYQZd7k2ZfofgLEwPFByXxdyMEo0sCU1MCdRurJwGPo6U1WwNFFwSDYQkA0QarPy8jBykCOV0AawFhH3EAgx0ZAJUBSbcAJ2kXAa/FAzctIUNTAW9ZBmUCZQDxSRcDKQEFAElBAKsAXQBzACu1Bgfz7xmNfwAJIQApALMbRwHRAdsHCzGXeIHoAAoAEQA0AD0AODN3edPAEF8QXAFNCUxsOhULAqwPpgvlERUM0SrL09gANKkH6wNTB+sDUwNTB+sH6wNTB+sDUwNTA1MDUxwK8BrTwBBfD0gEbQWOBYsE1giDJkkRgQcoCNJUDXQeHEcDRQD8IyVJHDuTMwslQkwMTQMH/DZCbKd9OANHMatU9ZCiA8syTzlsAR5xEqAAKg9zHDW1Tn56R3GgCktPrrV/SWJOZwK+Oqg/+AohCZNvu3dOBj0QFyehEPMMLwGxATcN6UvUBO0GNwTFH3kZFQ/JlZgIoS3ZDOkm3y6dgFYj8Sp/BelL8DzZC0lRZA9VC2EJ3zpfgUoDHQEJIocK2Q01CGkQ7wrFZw3hEUEHNQPRSZYAoQb9Cw0dMRWxJgxiqAsFOXMG9xryC4smqxMlevgFzxodBkkBJRr7AMsu44WsWi1cGE9bBf8LISPDFKRQHA0hQLN4RBoXBxElpQKNQ2xKg1EyHo8h8jw5DWIuD1F4B/E8ARlLC308mkanRQoRzj6JPUQiRUwoBDF7LCsnhwnLD4EMtXxuAVUJHQmtDG0TLRETN8EINQcVKZcgJxEIHUaRYJYE85sD7xPNAwcFOwk9Bw8DsRwpEyoVJQUJgSDTAu820S6vAotWfAETBccPIR/bEExH3A7lCJcCYQN/JecAKRUdABMilwg/XwBbj9RTAS7HCMNqaCNwA2MU410RbweNDlMHoxwvFbsc3XDEXgeGBCifqwlXAXEJlQFbBN8IBTVXjJwgPWdPi1QYlyBdQTtd+AItDGEVm0S5h3QChw9nEhcBMQFvBzUM/QJzEekRZxCRCOeGADWxM/Q6IQRLIX8gDQojA0tsygsjJvUM9GUBnxJeAwg0OXfqZ6dgsiAX+QcVMsFBXCHtC45PyQyYGr0YPlQqGeAHuwPvGu8n5kFTBfsDnw86STPqBLkLZQiHCTsARQ6fEwfTGGYKbYzMAS2HAbOVA1ONfwJriwYzBwcAYweDBXXhABkCowifAAEAywNTADUCqQeZABUAgT0BOQMjKwEd4QKLA48ILccBkSsB7yUEF78MEQDzM25GAsOtAoBmZp4F2VQCigJFMQFJIQQBSkNNA6tt3QDXAEcGD9tDARGnRscW3z8B22snAMMA9wABMQcBPQHJAe9pALMBWwstCZ6vsQFJ5SUAfwARZwHTAoUA2QAxAHvtAU8ASQVV9QXPAktFAQ0tFCdTXQG3AxsBLwEJAHUGx4mhxQMbBGkHzwIQFxXdAu8qB7EDItsTyULBAr3aUQAyEgo0CrUKtB9f81wvAi1uPUwACh+kPsM/SgVNO087VDtPO1Q7TztUO087VDtPO1QDk7veu94KaF9BYecMog3QRMQ6RRPXYE1gLhPELbMUvRXKJVIZORq4JwEl4FUFDwAtz2YsCCg0cRe4ADspZIM9Y4IeLApHHONTjVT0LRcArUueM6sNqBsRRDwFQ3XpYiYWCgoeAmR9AmI+V0mrVzccAqHzAmiUAmYFAp+AOBcHAmY3AmYiBGoEewN/DwN+jjkCOXMTOX46Hx8CbBkCMjI4BgJtwwJtquuGL2NBJwFjANoA3QBGAQeUDIkA+ge+AAmxAncrAnaeOwJ5Rz8CeLYZWNdFqkbTAnw7AnrEAn0FAnzsBVUFHEf8SHlfIAAnEUlUSlcRE0rIAtD9AtDISyMDiEsDh+JEwZEuAvKdXP8DA6pLykwpIctNSE2rAos7AorUvRcDGT9jAbMCjjMCjlg8k30CjtUCjlh0UbBTMQZS0FSBApP3ApMIAOUAGFUaVatVzAIsFymRgjLdeGJFNzUCl5sC765YHaQAVSEClosClniYAKVZqFoFfUkANwKWsQKWSlxAXM0CmccCmWBcxl0DFQKclzm+OpkCnBICn5cCnrSGABkLLSYLAp3tAp6OALE5YTBh6wKezwKgagGlAp6bGwKeSqFjxGQjIScCJ6sCJnoCoPcCoEgCotkCocACpisCpcoCp/sAeQKn7mh4aK3/RWoYas0CrN8CrKoCrWMCrP4CVxkCVdgCsd3TAx9KbJMCsrkJArLkE2zcbV9tRFsDJckCtlg3O26MAylBArhaArlDEQK5JnNwMnDdAr0VArvWcJIDMg0CvoRx/gMzbQK+FnMec0sCw8cCwwBzfnRHMUF03AM8owM8lgM9uwLFeALGQwLGDIUCyGVNAshAAslLAskqAmSZAt3OeHVdeKp5IUvMAxifZv4CYfAZ75Ugewdejl63DQLPZwLPaCtHT87vD5sAwqkCz28BJeYDTg5+RwEC3CMC24YC0ksDUlgDU1sA/QNViICFO8cS6VxBghiCz4LKg4kC2sMC2dqEDIRFpzgDhqEAKwNkCoZtVfUAUQLfYQLetG9zAuIr7RAB8ywjAfSXAfLOgwLr7wLpbHUC6vUC6uAA9UMBtQLuhQLrmJamlv8C7jsDhdyYdXDccZ0C8v8AZQOOEpmPAvcPA5FqA5KDAveUAvnVAvhimhiap7czmxoDnX8C/vYBFwA1nxifrwMFiQOmZgOm1QDNwQMGZqGEogEFAwxFAQsBGwdpBl21YwEAtwRnuw2HHq8JABNxNQAfAy8SSQOFewFfIx0AjOsAHQDmnwObjQizBhufwQCnBRG76R09PhZ4BWg3PkArQiFCtF9xEV+8AJbFBTIAkEwZm7k7JmAyEbrPDi8YxhiJyfYFVwVYBVcFWAVjBVgFVwVYBVcFWAVXBVgFVwVYRhUI14VnAgICCmRe6SsEyQOxBi+7uwC7BKe7AOdAKRayBUY+aT5wQj9Ctl91N1/oAFgRM6sAjP7Ma8v8pudGej0mIwQrFic2NX5t32rB8RnCLGkBa9duMBcFXwVqycHJuAjPSVsAAAAKfF59i74AMz+BAAMW0QblrSMFAIzDCwMBDQDlZR09JB9KQrFCvEE4I18nYDYnOCMJwT0KRD9DPng+gT5wPnECiUK8SUI7X8tOT2pNCixrVC9qC24fX+AzOhsJZ5sKYiMrPB0mQqtCvCvMAcv8X8kOHy4JCAkifp3fajotShfJq8msCWXBy8wKYEFfD+UQoxEAk40dRUIlG6ltOc44CjM/Qz5wQj8cBwodTEdsWywtWuG8Egp97R0rQj8cXQhKCQ4zVENCNwQ7Q5wsCoEbLUI/G/UIUyIjGDAxAAWPYfBeCnFkyWALYC0jbkNgGTkCGx5gswYCaxBlTmBNEQFk52AVYJVgfWCzYEtgkWgWFwa1DtxVqbxaC0MWqwG7K83BAh8VABwDHgF5AmwvMJVSgAGKCrhHGgDkI3SOCsoNpk3qAZsCh5xPBUBfAPf3BwA0FlcMC6UMJB+6r0eAgQw0ABUTnyuCCHoC0gtLZREbANhOBnUECh5aADEAtritAJQnCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cHAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4rQCUJy07Ds4CkBh7ULtYyHRyjsOlmw/ZFUkb7AEpEFwSBh/lAccJOhCTBQ8rDDYLABEAs+AiAQIApADhAJiCCrJrOS8AFABbG8YubHYqDcEQAjskHNPhHB4LG30CewTBCqrxbAAnLQ6mLs6hHAe7CQAQOg+7GkcczaF3HgE9Kl8cLs4RGQB9q9ocAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvAk8DrsFmAEbawouzqEqD4sa4QHDAREWOwCgCzsLuxC7BBiqe9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOxjbL7ZtvgNIqLsAB7sALrsC6w5WAAq7BAAeuwJVICp/FTwVuwG+J+QAsloBvSjgo7vIAAFbAAG7AAJbAALjAAg7AA67AgAbu6VbDr/EAPQAaPuoOwMBu5UnSwDn3Rm7CBp7CKEFCv9wAN+7p7sau6OLeXIG+6mbgwASuwYbCwG8AACGAG27BgALu6c7ARo7ugihnMoBuwvtB8CpOwDhewG/AADlABW7AAb7AAm7AGmLABq7GLuOaRX7AA5rAC5LHgAGuwAXuwghAA1KAcIAt68mAcAAALQADpsAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAIPAAUOwARawAPiwAN6wANuwAZCwYWGwAVOwBumxm7ALobLgATOwMAaSsKAOFLAAI7AARSABd7BRsABtAAGLsAC/sAX7sAa/sA5IsBuwAXdgG8AAFyC6EABUoAbXYAB/sA5XsAHGseAXsoUgA5RQD+Bw0McgAoKnABpAUIXgG8XiMMCQdvS2xfKokfPBRiLTYDoQq0AdgAFgLRA24BdnJHUhQhA08CFT4BLAYDc0a8e1J6QAApADEB+wBTCtsAe5AsASsAduUNETJGAUoAVwUAAVABB4rMAHg7BCClAFoA1hUAlWg3H4sAzWuxAM/UFgjCdXMbGFYdCdEBiJCrIlNTTUgSPMKJ+QB/HDdAKSvgEZdPAHIBKSwwKUIZDwMwVQT3xe4AS2XcAGoCcQI/EXo6x3guNdUGBQAQGx0KCAwqBB8dKU5TTgi5ugAKEs0AJgABGgCGAIkAjjUA7gC0AOAAnTwAuwCrAKYAoQDyAJ8A0wCcAOsBDAEHAMAAeQBaAMsAzQEHANcA6wCIAKIBNQDjANgA1QMBByoz1NTU1LbA3M3QzkMyFwFNAVcvRwFVAWQBYwFWAUdLQ0VoDQFOFQcIAzI2DAcAIg0kJiksODo6PT09Pj8OQB5RUVFRU1NSUylUVVdWVhxdYWFgYmEjZmhwb3JycnJycnR0dHR0dHR0dHR0dnZ3dnVbAEDsAEUAlgB0AC4AYvIAigBTAFMAMwJz6QCH//LyAGAAj+wAmwBLAF4AYPn5qgCBAIEAZQBSAK0AHgCyAH8CPAI/APgA4wD6APoA5AD7AOUA5QDkAOIAKQJ3AU0BPAE6AVABOgE6AToBNQE0ATQBNAEYAVQPACsIAABNFwoWAxUWDgCKAJIAogBLAGQYAi0AcABpAJEDEgMkKgMeQT5HKQCLAksAwwJTAqAAugKSApICkgKSApICkgKHApICkgKSApICkgKSApECkQKUApwCkwKSApICkAKQApACkAKOApECcQHQApMCmwKSApICkRZ5CwD6BQOnAl0CNhcBUBA1At4RCisTAUo3E02RAXekPAFlWQD/Az1HAQAAkykeGI9qAClgAGkALgCJA5TMi/CuhFoFuisOwhEBndV0KgsEIzFsATNabAGyAN5+gH9+gH6BgoJ+g4aEfoWIhoCHgoiCiX6Kfot+jIqNfo5+j4KQfpF+kn6TfpSDlYiWgpd+2gLabOEC2GwAgmwkbKAAg2xsBEkERgRIBEsESQRPBEwERwRNBE8ETgRKBEwETwCWZmwAowOIbAC0ZgEFbADJUWxsAM9sAgxsAPZabAD2ARkA9gD0APQA9QD0A31ebNSEI2XAAPYA9AD0APUA9BxsbACJWmwA9gCJARkA9gCJAL4A6AAIAPYAiQN9XmzUhCNlwBxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN9XmzUhCNlwBxsbACJWmwBGQD2AIkA9gCJAu0A9gCJAL4CNwD3AIkDfV5s1IQjZcAcbAJDATZsAkoBOWwCS8FsbAJXbGwDnwLtA58DnwOgA6ADoAOg1IQjZcAGA31ebBxsbACJWmwBGQOfAIkDnwCJAu0DnwCJAL4CNwOfAInUhCNlwAYDfV5sHGwEPmwAiQQ/AIkGjTFtIDFs1m4DKGwDrAJsbABVWv4VMgJsbACJAmwAVAEAul5sAmxebGwAiV5sAmxebD3YAEls1gJsbEbCxxP/x5BApA0KYFA89AsjTx97EHmJQPyocItC2JnNFRCEnFU6SFTDoI0PxeRNRoNRWkpzVnWW8pTagkNmgf+jGupqZ3eu50LAFnc+OzfJwdub1AdpOy76VnijWNR/CMEevikQkFyQuLuPajxWi9chqOoMJ7qpCN4sx3LJG4Myu8kD68wC6+iAwt+pU1JEeY13rpCVkXSZfinVKn4xZpxsI3Lp8bJLrJ9ujkrIalMRBAcv/GSKEtowzcEn5XmJw2BagB8V2UWJoJHZ14SXhM7p0XeGFOuw6mlvyq99WYp5XxrO6ru9nn4RHcOkJ7hx5UqWtman7yVMLzYXQefQRUdIY70RYQE8+aAzCNSGQkXiHfnHYRMi+xczKDdZLk3AV1gzxkkSHLjBwuq8shIJ+/RAbqjqQbugFhe0rqklu432EERkM5k9y1DXzds46oLqKAx6OhPT2WiqEfhaITn7OF9Y694AmKmUvbpWp0xJqDaf3jeNJXnK6NpnGcFOmbclbARC+5+5U52ufw5b0Hh+2LrrNimvZe4eYmApRsZnJE310SqB+1xB6rSJfnV1f2D0awB18Oc0sXAFqIlgHgWiaZGdvP5CJUSsCTCQUC335+iSkwPlLJJ5lwjTSn9Lw22NbK1Tu8w+bUpHtDRDPho7Gun8aw2Jzu9i+N0Ot/kPMbLAb/rUQ82kfpk85qLDkfxLl39QPDngo72GYh/Xigbpcm1pA23D2ywt3D8GgMOao040wDqkHxOEx0OhC+ZmHiIdjK7yRbfJD2ouZbAedhD3p7s8WDmCJfNforgDYPGAXSI08fTjPZ5B37lc5VXGzc1vJmibDwBNVzXuaUzg7N5H4BxqjhJ+kz9HLUJys7bpBDYAPvbut13AwJCWd059tS8YTYgC8HwrkewBfa1LSSpmMr9uR2EekTiAMH+Mx4AGzgbquccwBDlLmRhgXL/YiLPCEb6d2k5qJ6o800qddABkpqt7NG+sc2uvHZwZs57W1AHTFM1KkMShasADAh2FvzbzJOzVDMS3ZlT2BSFKdnkZFB6JyqJbhm6XANis9TrtzJdlPVp+rl8v3nIke6Jou7m2TKu53Vounupgkz2LzrQPhhatLIG7rfF/gUKWp15X3LKt+ZvuCDSqPUigF9yJntimC1HJR7Yj/dUrLAXWrT+1tnwPJJLGKAlQ5VeNDWRKCTt2vz3rJuo4+gIt75/Mkfl/gSZblZ9r/SEeeosZXneli/xNh1WVCvkRt2RnyyjtMkMqhzXh1PVOCbILqv0r7rGYm0CHIyKdhHL90cl9E1I6eEtQTCt6RXj8M0HHrHCHLVRpNM6WIbT5BCMGVnL0o5895qSRbCJz+5I8PGMhAN/Xrj4BgIdlKqlHtBHqTJwmK169toZ2IWxNzrAbIG7zh85Q/LG2A4yBcaBel52zdunokB0lv3A7kXnTI7M6ZnfZ7nwuj5lkGhqSpW+w5CI/FmRlplBEbnZy1ZxS3DL8rf1YWhO5XivWZBSRh1gFsjjyj3qRG1cm/6ors7WsEif6WRxns1MKDZa6KrbfMQ/swIb+2nb0tqxHeii6FcgVeAjE/Xwac1owx04dJKG8R5YQgHNnEfHf0qb8WOnU0eQSjazq+IK7cSuCqYzPEUB/x+QgGZqM3dBoYvNvZVOHDkbgdilWdagqO5bkybXfLpyMPuGq8mvAAEZGbR6RwXGlW9ErOWTfnjfx6dXFJqBj0OBSGFz4lWQasNOmVJeN4SFWSLfOGB/7ehV5YuoNNROHZEG9ElVuMnqbDMMuDleOt/cN/gsWxGw128mwU8/HxkOKqdTZnI7dHka67WCTf/FmBrxpNCaKJ1GxBTCSS7MNfhNj8S4Gtotg6Z3AM9cAeVROnppUMaiV5jjudLnNqoVrKO1/FijLlAc74kxydxKX1RQuMqHR63eecYr5o6MJ+B78VsLlCrpelWh6GOrCOBIoQmIcdpJL1pwE2zzZqBkecGTdK8KMOB6r1eNRURyrz6M899TZaoS/vNOxHf+5gORU+OyYIcIW6diP25GHF6u8TNjuL/GJzCnLLXd01KrsjRa51v4+O/VIAWXESJxfxWjv628J+cWUQpoD+Yytzs3jSMRJ23/XT+vUdtUMLDQq1vnIoeg/GjWh88MT6k9dRqDaQ+vodilFgvjuNw5pJpId9mfwyYeLCGb3BmHXdfQfhfPRQaupe/f8TG4Bk3eDKlYBaEK3kZYNN2Sdxz47m/vYBxvIOKtnqplB1pebzuXmAr/MuzQCknKe653dzaWQQ7MUhWYWvzIZwLe1v0rXxImLaz+AkAu+sYikhouNF3EW6w4crZ6MuUiDbIAx8XhAfegcvW6x9BPb3/sCxGWu9YyatqExB+TSm69qIkI9IwhjrcnzME+jWBx4mNQm5WwLzUjSyY4FZ0aMF5YFlXUD4hL4XfOeYv5rDe2s2D/Cn+28fZ9UCnOQvXFMnQqfc0G+ZqOWWD9l/liqUPaNQzZjxCHpUAD8Rcc90MniQ02ugHWsUupFUvhC9usY7zNPt5F2jO7qgzhafsQSd50jgLrC6Qx6bpHbXR3WNAu1BzGmwbz+ebGmwTjdy006Y6zipP7n/OJlvSmbq+SY+nefAVKK6EBMPbce5n3IdRI8+vbxCpN53rw3TvgNds1SuMiuLGxt89L71mxPDeanGhyHvOjmO56tnVpoHalQnL6TqNuqKsHjHCIKB4pCgj4WyYPvRvYvqi5EMr7lN3MotPR/KH7JUD1lZbU0QzfbrEBJnuQiVAyAC9vwXWp2TRU1/0aapyAH2cbglEHVAdl+1rb1u147uV0td1eNoQZsqHrIMIYVPXtLk2TIU3cJE08PjoYNDpfF/IcJnYQHl6nsplczX3Rgah4NbJJHl//5scUufqsSd//kbIS406ZWoMP//+jhGUswX/5nVNz/jAj9KmXPtAmMiK+khhbn1w/mELzZMT/WxcW//y/jsHaOM/61oAW/CjYhJtY622/TtMYuP7bilBvbiT3vB9n8IcFPnwM78H0KfhYDRdY5PhWJ4jWRQzB+HT5NVZV56LG82hcQms+jOTT/c9Y9sx5rPi1/wB7f/+c5UfUCKk3iwwCuywUc2MGnAwsXf1E5hoI55x1Q/Qby+sWH8NRjavZ8VaDsdi1NUVhH86BJHX1yaFt1w1OYeL5LVmdN+5Q+KuTvXEPDzUCg6xp0HhsUhTWSe7MZMM/6rsTUb0/nbUE3YQlGGt48kT1/6cnf6yHnvHtQx9EosOXN077yyEq/jE3YTiG/5SEJmXFeocJJ1EAd6vKeK6VEdJLOZ1km/EwOnZWCQpzCLKPHxrfh4yJhGq//2dos2E/3+MOcdW5EsgIdmTQUQetzRy5fQHhDBl37XbWzsqO/cASEDjyst1/8NEROqVAxWnddQV+umJ8IrKVgKvGaTc0GsQ4s8h0Osql5QKwlddPDjJhKInyWqYUKmmlIts+FIcXZ6yM6cljbsjUG2ksSOkuIw4sYHffRNgBOLApvD6XrR6Rt0rV2Uf8IpnIUVnb9Twt91QjAaD/dStSWDxg7aYY+VXIgnuowYdOkjywa2hlgrnI6PjaU3e3UjQ5Yk5mdIJGyHnv3/P+1EkMav1yFyF+FeJE/RXnWBw+Nh0aOo6TGlKX7d+dkP9+brvr79SdtXJtcD/aXBGiMNfG6/NQniQHYQlK78FEHDqOh+bDI0o+2Ub0h53EL/vlzjrBczVEZz2bOtvIL+DIzDkk9nCWt7tlqsq3l9JMtJk3r5HG2iJ9b/X11TG6wwMAjHLQ2oasaMEsydh88QPvI+hmqIHhvalpKoKOueJR0eZ9J8G2alNOIOy98jwvbc87Ewk9d+5G/tUijTmlbjFlDKXV05HalKxaRTrucc73On7yzAPS6f2v4ogiaWyWeV73dv/MsQT5HjRrsYV9dLAcI3T+zC2qEVINyNpEhoKV+xVSuWtT4AhBfpnZ7unIM+HX3msI0HiI+P+z2PFgkjGi5PqEbG/wNIWeRUjPtDEgbbubN+I4JaDLrW9borRBDob7ZFx+JdKeFVUKVeWqb/c88Ol7DhM0suLtuEd8tkDSMTD3DFx8UphPINHMHi51hAPttXL4Ektt/lKEUG/R4qZKohHjVpAcPIMiHyWr6xR8/EWnNJvBFET76yCdk5er7ADB/1bgoImhpSiZ/omZjPKPCEeZsOwvPmXL+1vlJNeGO3TzySmGA1X6e58gLrazDM71jywM1XL8zKHN6G3kB31Y8vLtP982N975SZXk2JwDvmv7AY/aDsFFk1v+nE7/hbvuOWhBH4kuemeYozPk2K22Vx/YGiDTLU7YilpOt29u3RZMBh4UJjlTP5ItxTzWv6ebL9b+GSU1Vsm2S8LMfVfJczaBSqE8J1A4YUjpsALL7++bwCPXFhaufdpDFtBlHb9makeYbqdg9ltvK/HwF/rNE6KrtWUkEcxmTB7Iyu5TiVaIgW/YxzQhpArliIMkOoK5L7ShVtF+DYqV01mk7fwop04hQRwg4KFmr5z9nYf05VVqkSe7gfnx5bxxlQ0qEV0jiwzf064qG11iEqjHcUgDWWsDs/LEGlzX31T5KVL+7D4EoKim7HBagiqRo5JI3WfDBgpKIruWz9j/J6Hp5Q/EJbMWB8NeSMuFarNw3AEYPBJtYQO/4oD/ZgPTSQ06di0EeumX5EbrdThO+fvYEVSxLtZ3AJkee0Xn0sDwNtiiZhJjJRDuG1YRKB1vOulfd9JjHeyu+UHTmrtra/pm+8Rixh4WKiLaLOCxIbZNoWRZSyyUGLPjAaAo+SQBpfO2uruWrzFxLlpvrXJNMCWtlJDKGAnlWK5xpU2tcxXbeD+sbdfwYXt/qTwDk6UqXR/aUt099DhSNl4Nk8mXwpw+b0nvjKOG6Mg1PRXjrMUMANvNgEArv8nMJs3vj1aHi8MHz/UfJWWzkcrSpZTNBhduXlGR7i+ip/THDp5R9KRNcDKECgtwgXg4EFN5HHfikP/XvsoCkHTg+NbsD8Gl6eknk4Arwn/BWGJ0hgW0/gUKrzuGZhub7igRP3abetpIm+24xEOlWl3YKpm2qTBFvX8ddDRvm1LcwnCJuEfZx12qPY9TrntMIQsv316zvpyWnyStX8VU4j6tQk+CWlLBUCJR6MdH9Cp7g2qdn2WM9qFbREmejH09dlWEPm8hPF0L7RxwRRdiCs0DP8ewk6ApoELkKU9hckSdbnXm8UHJmaNXjxv/q0fTTpu8rnl9lN0vQCpDRbCtcz12rGRFEA7Cfg7FhZn5QFkNmv1ZURKEsiZce1nS9K7HrwpC7yJV4Xt3eAVbLJfoXHrtwG60Z8gwaSnmxoL3s2ZlRqggZN/MHo1oUS4L+GwObFI596Ld4Mvi8l+cQmF1gJpkpnDio7TuO35npaMHiWzFqPSX3qNgkIPGuX0qGYnPIVsM901Yu8oZnOZOY1TbtIdFUNKNq2dP8SJ4F/VCEzIjF0/Rh+7UrZj80tC6rognVH3mqa8eCs/lcQU1Pjj98kBmAKDbZUTwosv02UunRR3n0X6c+f73mtwB7/WbQ16gO431EtwZbNG1SM4TZPBnsQSESlsfG2JLQXx5xWf4bmQ/xcVCPISAX5897JxHKLD/Xkgu57+ABR2+MMtEbX64+MNlBHpKC7sjlWVEShf5qA+dGc59LFVlZrX/Enq9z/v+wnZ1HErmxmjJjxOA+hAjVUWgtq6ygAi/8ewJDjUMFw3zhQFtbyTLDPFd21Ji5S5QPZo9nMSxdg1+DGFSN0wlWt7XeYPbHqLfliV0J1kOhQNp0VbUPy0MS2Ms66OxtSWvaULaWHnfAA+sieVVgtjDwN3nKonWapkSKRN8BKKJQpCfqo8RQI5udhfu5s5+7vwsppmAJDgz2GNA7d43VdbV2l/SrvEu4RYslmNJmfSOVbssxAhSYy6WxpIQdDB0FVBpZ6IM8yr81QN+XLZ3n/wed/R+s6LslkxKbzzst/GkRbe6rFmtvJCwr1T44ETM+IMgOnjUO0eG6a1n2w7lwM1oFBvzMUWRkNFOvKcx3oSb5XdenZ5dXsute6nkRypBiSdAtA2fxAd8UdLOZW/MB7fZoEuFheQXijdaF8kuaRZoSeWdKOkKsGYEGaXfaDKTu0WMTcLniQs7KRCz9iK3SP+Y2xIjkfVGqFLSQ6vh+A1u6FdfwXsv1VPMfi2cxmdM+/xTgMXEyo2ZGcQ2YmPsghnYdv2+z48JpGZA4tUK1p1q2VdVxyfypXEXcrxKKtmt8UdW7sHWmKMqDuBBM3J/JUQx8eUYN4pJ5oRqvdiPHU1o/WPjiKvnlCqOdyxlxF54L9PrtLD1NejZ9aZDivVr6ZfMFK1/psVygoPIAnphcJWWb9+5IKMKmgRQULsTPZi6Bw4wP32zVEoKcHpP73CkFAqS98nSaGoWDjDJiaACJn4p5o1jq9R4Q4VcibhXF//LHP0bdf63kRVZdRbbhGe7sDQcyWS5tpkfeYHnff25WK+4FpzLlAcbaKmHdIBqOw3fImx1uqQIADH0TyHzFlqTG6nMoY81svP0T6BIyELMS8tMe+E1p6TFP6sVpZa6VNaTumufD5aj9goRa9SAmdJT4HhI2r0egj8UrgFb8L59wGLnYlzkLAiUd3m/WWIIEU61kPoEjd3gIVy/fiBcgqQqHnoXpL0SqLGdGGgn7DQeVMSYWHfjno1FngIKP9cjYaTlcRP6bZunjHP13/lbVm4awti894pTf/ZNNqr4OR+tDVie/m+rC8QpVnRbsCMPukOH87B2jM4AG6pHuXl1x9SiKdhYJVOhfo/+SCaGjUW2CoogL1FFhFGN9o+acoVLl0SXs/3vrSccmZeAF3NewFuOg/P12QYKQF+SH+KYcNnsAhIAELPBUgre/KRUJEA+KPD0MHRjv+3J/j2Z23MuJmkfy7leWcMsti8wXLSHgXFJTaksx1Woi6oljwxFVIJG12SBSZLNJDbXMYPekmiXT4FclKI35BFgqnYpKfcsr+f8HUXQoHJ9UYZ4J5YMiHHyAxg6eidhodgqJ2Htf/xYEx+G0zXchuzlt8hcAl+AT8NCQ4orFc4DerabF1enA7NTLnvtZh3FUwqIOvY7Q4DYmoDHwXTSw5UNNh6r7j0B/ezMYJMDcw4+6gCTZX4YQ+7Xs8de72vsR3cmfpxIX64/6KR1p3VX4F6vfHEzxzarh8aDH4G1DFoBBM6npXFpK+Rh+WrcFclAeAxi0PoaR9CpOxxGLSdvxKVSw8oOOanG/soKImRopN38AdcUhhM2GT/PgQeSQrG12njuJJD5Z7vWfAZmFybYLdSA91kB4aoBhoj1Z//KNIVVujqaLLRwCkbyn4vh0739C9V9iSjybeOIeSOvNs7LW1a7EUtNoKAnOGML4U8KBXpfrw73WjAszJG4Qscq+Xr3kZWR4Omm0xT6qE9y6FNSpstV4onMZSqCEJ+3VX9qjvdx5QVrM0WXxmPZxejdfnihcFAjzv5PjlTl6ickDbHe6+Lch52pjOPqk+m3RZ+bh2JSMGtFBuODbMchrpRVlt16NTQ05Ps0IDtWlUmWfP2vX8M4YDynIuOZ4Ck91+591B98Gw9fw+yQogTR8CSg0zaJu+rlBo/mr3A+1NziF+kdubz+whc857AZt6DwIBIF5+5yiaaf3ByQp1Fm3sOkZDAzwsYSQTM/Kv6idkugF63FDobDdUY3huruU+sCaBuRR+HmOowvmZoBjZHNh77SXFtmY/oOUE7ifN7nBHAo83S/xvcS6H4Ci2u/9Id62Wv6Ui+zMNLAzhfkTkVcW2BwrnYvpur0ZDlzs+ZLsmGTWvd1892t78gx1YjEJusGcxphjLkV0UfAKlekfSBVWHE2ahk4AbbRmHyL7GYdtKfdlINwrcdJuf3Cee1nfUojDQn/YmItESOFhtLzrkEv4k2XpMU9oaJQ3VUC+1INh6BE68pkHameGJm4Gvdb24Q0fXWxd9Tp3A9mzFSe4qXDGGDIV4AAGV1jIDfveknH1TwWpUT6HiQxKP3AAHJNkJeRlj/mXBmS4S1j8FK6YmpK7jyyAiRbsMCCLoJcx01fvgpMvKQRxu9IOwymconQjD56g7ksOrcOeoTbius4JnGesAS1DtgdaophYsw1wGIsMS3P7K6doE3K5czznqPQLSRRF/Ylzb5NtSKsL33SgskFNCF4khn5LWaDxI23ZRi2hzqN8uW8UzZEBYy68+VtGLSymQrXGUlr2nO2BbBIT5Vh1RmGAyDXaW0FPrpx3wv2UYdFk9tSl+906bMxCuXQaKDQP/U19UEcVGK4gmksL8lAorxQSAOwpeYX9xrZsh6yoGaL/X5O3tgQC8OM+/GvxnW9XvAtu/JxAigydfSmZfqZfg1XOcHNOpLlN8j64OZ36l5qawDBJ62YaTvxeNmm5gowCdBosgcpHOgNgwA+sknN8XmsR2IYChcafl9bGNMZ/nB5guWuvEziv6QI2bP2DtyKWG/qUjZMaxy+wASkkVGtuwGtywkTYG6MYrZBo18vYcww48G/+f+eITA/qMwbLlJC0S3+/ai2pPvkOhRRVmGTuSupaxhIk0xoXLtixCxSAn4Z3OnUS3wBqVscLI4P3GP7i/6gxYsswsVmkvDXFLhO/OKcur8flegCSKiqmVpIRvCzgbjEA0mXPn+RExXY/2OE1f/BYuWpRQY8gCDpMOYBx9Gn4tL3hihSIR1ixh2PIIT7cr2gUJbfs76EKYG52Jk0UZF/PQkBxGuFCEWXnG6ue/hTIqjTRq1sotVrKrwIGHDrITyuanUzbIYdgdEeV88K1VD82TYB2B61Ft+tB1KqHPmT9+hWoaV+iF3SuvtJqvnoLaA8wxrD56AUMULEgzO9SvBcBAfqz/dzMYzwMt/YLszDbmGe1bcHHfFMcvGql9bf/tp+Hrj4q18aNnftGjmXTfws39emn7/5IBxog9MrmftAA5Oq4awenm8HimWO72dwVlHcHmutVMdrMHw+p2vzpzT+B0iIZ+IEpplwWhClcXlxhxAsF3CHRnnaUEqq3ByQ+cqhe5SvR4SFxh/LZoQwtj8QZQGT1BzY2EMpYnUcZWQEPlwFZw+7UryK9qV8KgruYsvyMoK16KI2sN4SOblrVwhyiL8+IBZ8cpUhsJQSU7TFHAi+L2F0sn0y+FtDODlnuif2Mba8QddPZYYxjTsIgkMe3M6+7kXxUfZvbCUlyq71J1eNczGk6Vqw6rSx2K3vM+DjLxDRGzWepTO2qTT/W8S7u0QXcyFUahcB4vq8xCYTpy8iswtnyz7Kx6lgTEQJ9RqkgEIN6DOUqB0uRdeYuDa7AP7Zy9z+ZlTsmVR5vtV71m3dmdtNeWghbr5PnPJtjXAzcvZjxyV96VEx/B1TA0IEQSI50ywGuIbmAYdQg/l/rxhQLX+6uOLyFsaUt6mtjpAJkLfehnB6MlOHnNOrWLvCBqVBS07jcM+4RzLEed3f3/0Xwp92U+nataNHyEgnnuYR6PXEjRLETz0xrt3UglfK7Bn4aNlXG7cZco4lMziLv5+Mh2JCww3mz69Z9ZMRR/xv5EKJ38IFxKd9dw5CgPIXja/gzAshMbF14/qBIgNkdUQeP8YE7SrICGtiTnAKTyA9cXa3OauDHxZOdTP7yuYBzD1UcHstIO16FxF1bRUAlSkszI83YufTchU8OPnnozDl9bS0y6CnnjGwgj9M61cXcZsljjhLeT/Vq+30ScN2PcT/dOoxUDqDS38+OpCCzLDdnwHQc3ECQVIkaxmdPaZTSdfp2jjGzSdNLM5yPQsgJDl+ZnhclDQi8ltUnkqWJ323IvTZPN8rn0+EshL1cx9PiaLTzUsryn9Zp2Nt/detUAh4N/2I3dlMQqjHFxSihv0uykzflq5clMy2ZBaxoEb0/QMp03IQQus3vnZd/NOmSsmgqXqKFP3ozyDgY7RQS+npabe/hNG+5sa5FtvL8v0uYuag2NewYkcol3TOTadpuncCnDgOGpmLnTQ1PEPUN2cNsrW8LYfIv+hzfb7vod+ipXHzmbgj5Fzc6RcT/5PD7VQ8nTJBNj1urkVUx9uJvTWmqY08OC80rGDLaWXv243VB16gjt4Xtwp5H2UDR0LiKW24Ed/sOO8jl1yEU/XAb3h7ScKnCFy/V3sICrkY1D0K9fSokHIL0s5/7DLShLAPXRbV7fbv4qj6OwHC9d5PlEOX3LRpQ3P7hcSAKlIKPDM83ypz56U5+rJeo0cyUtC7wltL8wqEiNSgZsDWzACc7RFoZqhlD0+sihIBQlkQTXmvUyIOZhkQX2zqME5VRC7ms1sa3CY+odMn3mMBiTvCMKnnCxg5ZPLq4GUDB4jF8Br2K4x4sxfWjGXQatJ25I1JyrIv2Z4bP1jKw5C+B2/s0v4dGUOsaS6IPIQV3ETQ+F2fSl2BPBXHzyYN8VmwWIrKeMX9pyGWuAOVXwkxJsRBaBVzLhZDP8ONGncknL5DpTxHN32GgFWMwsc0GmL0oRDmRT8u2lvjAKUIi0MmXhIHSlFeh3Qh5pP6ap4YUd6b569ZIaHgya2AyD12cPxY0In/PBjzDctTaKJCU+xc6m9RkNLDEE8guvxtJP8sl8N9bLqw0F/qejaBlcHYqw31zYpsutQp07hsP1vhGdl4hJ1wA7OCsAHnKj9879uSHILEmuZ6vI1lT4tvnWCVKZhhYrWHW9oPKPKpbOC6FTjf/OtUvwmiXr2ykvyLzHGQeyS7BenZpL3N/CaF5T7Gkml7JXN5cj0PKaDpZVImD61FuMgFHPqSHvt4Ej4KBdAfdcoO3AjQPLwwtKsgGM+ty4lNZMBEItJSRLunG5ckrM/BeoXWoPZVvEoIzLgFQYPupMwZCXis4W2SCJ2zsefZqCj+aTfSq1FYdUj2UeJALvVTf7vuuikOE1Hit3UIAGUi/sqgMum9vw218y1FlY/9XnOji9nqhGAcMYICc7BiqLZj5N+cKEuSAuiyWbMg81ZD1lHovy/we2eaCcCv4MzEW3O0mVA/t2xdA0cxTVbXmFhn+tARDpvDz5ftLr15OAAmvo2QiAky+feVO4bGibv2nlBmBzqx0lEDfEm4UnEs11pbnwZlJ/0Y73/wBPYfTNZiJKR73TzdCW1BffiJq9bLjQmaKnU0+gN8sfe25IKSUCooQwxePDrFn3a/zUgWxvPoTYVXfobY/GV2qqTkeVDV9D8657fhY0/wiaJ5NfLxhXbE/naxs34N0hd6vxNfdm1TCnozm/NKSCThchoYgMF7Z2tzXFovRfsNVkf86JjrM60r7UIuV3bsmfrMOqzjXjN6HPBG25zCJ3QLueySbj9oFvX/HxWBqh31PBPxduCVAxMqC9HK+YL3oBZqBruoh6LKvdMqoz0PYXUBrwbiioyE8Tj5ImjJmiOOWLbAZvIZ/l9rIPljx3T5glJ2ewlfuIT5GlodQsAf/IEtmYkML5SRQGxxwW+rlZkD8belJNu09Itwx9xDULTnemVDeojdbgcd2gKGM9aO00Jivtbs7ZyOSE8IPh98GfvatD8Ud5uHcZfAfMiPSlIxd4UqeSDzuNfbKDuFepkyC/s3j9fawmhY1b9NqDi0ZS5eP35l7rL2eK5QlWLlyCmxx8AFaFiTuD2pMUxZV5mBSJuJduOaq2ZrWpu28DE8jl/hisBz7bGWH6qLF0ayWNq1Sejtcs8KQrQqJk5P9QHDYHOIolgNsMDmEaWcTelghbfFCDqWrq6YLwDWy+m68ec5nShgq2fduUBpQUuKKKgnttaUX9PRfMmxqJyU7e0RLr1bev+ge1KK0bZyhHKKDE8gQX9Vf7rNHWOxBtZcxwwGusyMpH77qWZxXsQmbgIGhtiO+gSSRCyu/ek+OFsz1HMiQH0IHV7PjJi3dszYfFp8ue9h4+AfKte4MTiehPvxNcm/T1t9vsFZx8rHN5ie77r2jzZOq/Em4Q+H9sNcZakf9HnzCc1fJixppxP8FQABmVnqa6GbJhwaka7WH7Wdoz1WxOjSNV8N9sgW5S3Ppgkut+TTCkjA+AodUOk1KIR+8G8S3WrSZG4nyqfJ6FEjXl6a/LEoRMHZUqfPRWvwqrtXYy9IUsmUGzkqi76ib4NANCe5DnyOxnFRZ9d8FdBVBjra3iNuZhJuWW5Omi/hBigqDsg0mu2AhfJDXdwyMIJ33HHHPfS2JtjegRejX11m41TbNL+Qp7mR0g9CPKTj9PIjuSycGN/YPozXI4zarXuAeLv5CHKtKcJKRbd6R2oLNiEt0T8+QIVJH7zt9ncKMgd49vV2P1AyScZ9Qzbu3m3LBnuu6dw7aE0b6r4kzVkI/GUS88mA53L/rLtntkFlZXGtIoqNP2mD3eVv08AVVPT3wJn81zpbJV9SuqZ6Pd1ge0Zz2RFHeCdV5CLPftH9V5o9+VzFu4R0QeumqDwUhXn3IyYotdJnxr1l3BqWnQVAeDBEOtPyJQx1q5+mODiClXtYeBLTWtsJ42AMBcf/IFIhpfhYO08hsg0Ik+DpQFNOKReK3o3cudkxWX0soPtI5eSFOA6yNylS+IQjrQtYQ/5s4UcixJfokumBUjpH9ofSjUTwPCapGFndfqqG5IHeMMvfg+88SXm7bNyjk6pGKzL+WxDAdqKtQ72WWVbOk3I+ueGuammmB2pvFZvqIcU/lvW3n9+r2lycnQLE4OX9R1jIgW4cDjJ3v8dAa66mVcfC7ptCr5io6mCaA9qI9T9FFWqo1ZAaMxgxAu8aXqmaOYryMND2sTUfoHvxcYK7hEiJhCLYFDx3PBhE97c2a0ub1/ePJcyJOqr7UaTAPTJ+xvZtjb/40sloY1ltRnTkWILmIP2b7S3AdXCR+YiArMUHwdncpjpyDGfzqGOUoAuaamWzAMacQtb34/M32FEgR5lUEf8fRzFrZUhzQj0fR7/6gdzdnVVvcSneLmtqJ930VCCDORY8CVdQWdo/S3PNkX3pQsPVKWIYGAMrFZoq8bQ/OJBDSXP7KSBdL3QN0Zqd393p6VFc7DnlnFiN00SY5Nux7yadeIM0Upl2rVsu8/VAI";const jz=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Bz=4;function QTe(n){let e=0;function r(){return n[e++]<<8|n[e++]}let i=r(),s=1,o=[0,1];for(let S=1;S<i;S++)o.push(s+=r());let a=r(),l=e;e+=a;let c=0,u=0;function d(){return c==0&&(u=u<<8|n[e++],c=8),u>>--c&1}const h=31,f=2**h,p=f>>>1,m=p>>1,b=f-1;let y=0;for(let S=0;S<h;S++)y=y<<1|d();let v=[],w=0,_=f;for(;;){let S=Math.floor(((y-w+1)*s-1)/_),C=0,E=i;for(;E-C>1;){let I=C+E>>>1;S<o[I]?E=I:C=I}if(C==0)break;v.push(C);let T=w+Math.floor(_*o[C]/s),M=w+Math.floor(_*o[C+1]/s)-1;for(;!((T^M)&p);)y=y<<1&b|d(),T=T<<1&b,M=M<<1&b|1;for(;T&~M&m;)y=y&p|y<<1&b>>>1|d(),T=T<<1^p,M=(M^p)<<1|p|1;w=T,_=1+M-T}let x=i-4;return v.map(S=>{switch(S-x){case 3:return x+65792+(n[l++]<<16|n[l++]<<8|n[l++]);case 2:return x+256+(n[l++]<<8|n[l++]);case 1:return x+n[l++];default:return S-1}})}function JTe(n){let e=0;return()=>n[e++]}function que(n){return JTe(QTe(ZTe(n)))}function ZTe(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,o)=>e[s.charCodeAt(0)]=o);let r=n.length,i=new Uint8Array(6*r>>3);for(let s=0,o=0,a=0,l=0;s<r;s++)l=l<<6|e[n.charCodeAt(s)],a+=6,a>=8&&(i[o++]=l>>(a-=8));return i}function ePe(n){return n&1?~n>>1:n>>1}function tPe(n,e){let r=Array(n);for(let i=0,s=0;i<n;i++)r[i]=s+=ePe(e());return r}function ew(n,e=0){let r=[];for(;;){let i=n(),s=n();if(!s)break;e+=i;for(let o=0;o<s;o++)r.push(e+o);e+=s+1}return r}function Hue(n){return tw(()=>{let e=ew(n);if(e.length)return e})}function Vue(n){let e=[];for(;;){let r=n();if(r==0)break;e.push(nPe(r,n))}for(;;){let r=n()-1;if(r<0)break;e.push(rPe(r,n))}return e.flat()}function tw(n){let e=[];for(;;){let r=n(e.length);if(!r)break;e.push(r)}return e}function Gue(n,e,r){let i=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)tPe(n,r).forEach((o,a)=>i[a].push(o));return i}function nPe(n,e){let r=1+e(),i=e(),s=tw(e);return Gue(s.length,1+n,e).flatMap((a,l)=>{let[c,...u]=a;return Array(s[l]).fill().map((d,h)=>{let f=h*i;return[c+h*r,u.map(p=>p+f)]})})}function rPe(n,e){let r=1+e();return Gue(r,1+n,e).map(s=>[s[0],s.slice(1)])}function iPe(n){let e=[],r=ew(n);return s(i([]),[]),e;function i(o){let a=n(),l=tw(()=>{let c=ew(n).map(u=>r[u]);if(c.length)return i(c)});return{S:a,B:l,Q:o}}function s({S:o,B:a},l,c){if(!(o&4&&c===l[l.length-1])){o&2&&(c=l[l.length-1]),o&1&&e.push(l);for(let u of a)for(let d of u.Q)s(u,[...l,d],c)}}}function sPe(n){return n.toString(16).toUpperCase().padStart(2,"0")}function Yue(n){return`{${sPe(n)}}`}function oPe(n){let e=[];for(let r=0,i=n.length;r<i;){let s=n.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function s0(n){let r=n.length;if(r<4096)return String.fromCodePoint(...n);let i=[];for(let s=0;s<r;)i.push(String.fromCodePoint(...n.slice(s,s+=4096)));return i.join("")}function aPe(n,e){let r=n.length,i=r-e.length;for(let s=0;i==0&&s<r;s++)i=n[s]-e[s];return i}var lPe="AEUDWAHSCGYATwDVADIAdgAiADQAFAAtABQAIQAPACcADQASAAsAGQAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAecDNACxCmIB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJEMAJpIBpob5AERSMAKNoAXqaQLRBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobPgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vLIBDAHUGVsQ8wCzfQIbGVcCHBZHAZ8CBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rpF27H7fsd/twPt4l+UW1yQYKBt2Cgy7qJpGiLcdE2P1cQSImUbqJ6ICH27H4knQMIRMrFkHu3sx6tC35Y+eLIh4e4CMKJ4DfyV+8mfta499RCAJ0xfeZR8PsoYOApva9pjGn4PhvyZS7/h5JLuhaucfjuU+Z584wwqNO4hWYmaBCcjgQPale1bjoHzMUbut/zTgxHxBnAyrdKpF4IRMASLBtD/jviyLeCgj8twWjAd3HchN/uqaeRYeHJgl7JEY9/cTrvtfybx/r3Y/NtxJ9dp+MTVmiS9bwBH73s8Di56/Ma+mTPMHq4T1yEG1fWcqr0u+hrGnJEvU1JJAm/maQSrKrazIyvSkDFkj8UUlfBq8baniTGPng6YZRL661rDNw4w/1g2figG0IhXnL7wosd/sVNo5dYSmMBTP5c7rYLjRdCwg8quwljOMPf63D8ICAL0r71XRiyFHdgwHbwfgnPOf4Lzjf2v+j+IiDHG2isp5yUnzSDyDRb4i/Vs0qHSHq8PiEQ/JnBP7PxnjN0j6gT4AVAeRx/1o9VnEUlUwvFrzJqHk9jxAw4sYxCnrxaeBdCFFKbnE7z+x54F5W7ZZsU6kx8Qocul6FoAHHy01FGL/nne61mn4+uYXfQ1Uccn+HMLKE+cZzT8BB1E3FRskOgJrRsq25rauLm8+uamXpkS/bTy6y1wDbCrW4eD532kTWrtNUmVVZOIn/C+/JR9KVR5iG9TY8iaT67ubm/whL1xbKZoqtY+a6fNxMJrg211bGYJDUkYMNWA0BMB++9zOm6Eik4roqs9CCEFW0lyAK0PbvlzvoxrZuY/OEhNW/l/63U15Od/RSvmDvXpGLiVmeGi5PDSH2bYz5o2g6wFDQ2FbZgYgTF8rPlvA1ifjZD3NLtFdXdpSIJvgKR7GpjJWG7GZGawPomIH8B5tUmtHH9LpM+/KQKunEPa1GiQkCXv4Cnm9DLORo2joicHdPDZ64obQrPZ5bgqckkj0G6/NEiPYBY4bCkL7W8G5YzsUb6GakFjykSPkT7JGeLeB6uJOGMm+x7N381BCDfbJFx0dtLgV9Q477BfL1fvitX5anV/oYfxeYl+eF5x5bB8+Ep/L2nsmd56aKF4aAD4GbJWsdKyBW22xEmAD3XdbtsMyAFoR5mOla0gEd9U/YVB7zvHGpHbQonay9Sv0bQ8iZ8piaXVrKc5AG1AmqqgaEvzHSP2Wux7aZTWh6quVDVU01JtMIVRdCFwlSbbqqhoFlyzsotQzRexFvZ/MqUSFu3OhRIuNBbufvBpdVgb8XdGJ48/lJPCZ7dsOujTTbKPSEvGXkOnG2Xdi8/nM3EMRqITd5QeU7iOjKqC7URJY6TnLsHij22xAHKnVRD5MDtBYnoGFqZGMDmXCW6Oj+BAWw14hESY/xLF6bLku06AHkiXTHPCFZ0f9YSqqo27eAhhS67OrA2Het4M9JM3jm/yRX6bYxnfmzYl5qQdHxN08FsNuWDrWd4vMUY2QD3hr8vS73SCTkFoXZR3xNzOQt8d/6HfjBmXqvrE6EGkLzK6YK2U2/ksU/iUH+LvVIsJI+ri2AL/klo+ShdDyfs5A83i2prkMs51IKR7ZcqjZJi5X3+bd8GlyWvtddxKEoEqSgEO7A8jIgf2nH0h8FjM7oB6yte3X5mpL0i/E4Rx0CotKnILJj/vJqo4VkPQ93jRtRVfaitQPqldl5xRYPq8387Z0DcnZvOeION0Ht1+P27kFLGQIcLBX4FG3sffccNHh5cPfzp9INoRtqVtdViJfg8RjnXiIz/MNqEN6zvzX3hMzyWC7oSoXIT14ubc0abPX8Rp9GVa5NI/8iv+6ela1oTncbdimRKnrbRffDR/X4nH+bgqAuHWl7hOaeXPWVzIeRl7ga+JzD4Sx3mlj/q6Ra/E2HhDf21eEzTLNGfCZsY+/yxZzQzIAuijG65ii4O/waAJCrEJaWd/DRAKMQ5678Dw5AT7RCKzdadIwd8LsD+DgPBASmWsUlf8R0k1w/2k4lO2Wpb4zMI6EJVJs0xk/wn8/fRUPqrDKhbjHR41SqgFMx5RGMPuduFwlu5lK89tW11sTqiX/5EfGs5nO+y9FKvgXKPOEmgE05EKNL6Sjb3xS40H3BVPhm0ESOZgAjZoymc8be0inDVo4JdJVf+NKd3tN/CaB7GShhH27qf95NoFZVX/6ZkR2lX+CgWrQ2INgkh+bbMz68+uJ3Clsh8HSMPEQtAt+BBE6fXDab7KIlsKxU1lIXW/KWVstpdPanJ0pdXpQinDyUQjtY7ZVcfiecRxRDMAUhHFU2cEaciQ+htiPMPx1kdvtWG9T44w3r037ljHBFJdYR0r55qvMRixtAEFJAqA4T1ES87FAx7UozXasytg8MftZYt0rjYgLe6EJ5aWvy2qscBSBQ7yehoJIA3wIIZ9ukfkyBb6qnue5ko8W50rpV4kXqWjI5nbGRXrNW0tBZHXlY48nSgcUXBHWT4GcgLZJoLlKJnV96kCYpq9eWHh7xJzkCAyrQuQ5AJ0qq/uZ3toJglNterev+Qm0KXxPg/+YbFRJdfhbp1wOnVOEYdVHTya6CtO0afhEaBhx3oHwCb5Kq6RwHDzFMl2vfjL8GwzcCoTj7wZe+UFnYDV2yKpPU9dba29gYBdNqJg/KXozO+CJTlKmlKhnqTf5doeS35DZFV+cYJQVjd+oVY/Gtc/6XPzUxb1gMqf6cEjNNoRC8AObrp+fx0cVtGu4ffC2TgXRC8zPl8moUHCB5HZ25d87mlsiiK0aNwBtcEQjRNBT/QrXbw/8aVXdKMHn9EqYEKEyxSGTpYQOaes1G1Qq8pDgqkZtlO2HRyCXpmeM7TSrRPkAh004BfisVpF6zP44n2Jvxz/gOVocNCyy9V6lkod28QM4pbaMvVJigD/w3BrsjSJrXlqc4ulBYOCceiBN4b/gHajYyupbhEt63a619Ay4wsL6a6w6B+A7TnoyE7BliWHJfzVxxIKM/W3M/J8Bx99Op863Q8eNuIMGRx++VbYfjm+VGYBA3Ap/KEu/wxBNBpJJncwHPG45V8Gh98ZIrGCc20MwijGowZbcS7d1nEgcOW5cddZpHL2XPAIRbColiheZzXTvBxZOY3iMSDSKDrICyJ/iQs1vdplVdH/JrLJsQ2jtTnfCrITIghq3KFX3qAgLWAIp8IffNSdTYptnbGfc8s+qcr3zyzyHp1aJg+jxTF4kD1ry5Wauv5V3xnOGwTFecNzXSLHBW20/pCQjk4uorD0plIhMSTc79+/r4RKPClRYTBYex1Ob5crtfvRQBBv6re/6FhtCqtduag67glqRA77/3ulblh9YRtMdDxkCyJDeNnAuCLPQFmdRRWJtH20Z8DstfJf+5oj5SSB64d0iF5/Ya4KfTWxfivj9Ap2/zbYaTo/1gO3tM6RYsCZharMBFr7Fm61mLSrQnEI4OF1gbVS4k/JE9UotOrnLJZuswoWodCSV8zbybkJSVIP7n8UaE9xCR39rJZmf27HOAPVOGc9pdkQUcRrI0qyVF9Z3j1RHDbxIfwbWzmPVjwIdPJvtmBYwEQIUsIW1S939hcVikK00ozPRI02cqhzVUNzpOxVdrwRPvlh1aIOf0xFEqD3YkGnCnFah/cFN3J2gB7N+bZSGawwkKFu1tpQMrp1W+27YNkyT0TpcFpTqgOqqLabrgcCUPxh97mREOGy4xItzQ9xSl6rq+8BZsHcrQFReS+QeMxJ3P6CnL9EP/eOLDjumLhvrcQrpPiknsofbzBv9gTP0lU+TIVwE6E7CcKfT36q+ZiEOHJ9ayf0dyUJLezAb2M8aNHwd0+OJmsVgTzRWA";const nw=44032,wk=4352,xk=4449,_k=4519,Kue=19,Xue=21,o0=28,Sk=Xue*o0,cPe=Kue*Sk,uPe=nw+cPe,dPe=wk+Kue,hPe=xk+Xue,fPe=_k+o0;function vy(n){return n>>24&255}function Que(n){return n&16777215}let SR,Lz,kR,cS;function pPe(){let n=que(lPe);SR=new Map(Hue(n).flatMap((e,r)=>e.map(i=>[i,r+1<<24]))),Lz=new Set(ew(n)),kR=new Map,cS=new Map;for(let[e,r]of Vue(n)){if(!Lz.has(e)&&r.length==2){let[i,s]=r,o=cS.get(i);o||(o=new Map,cS.set(i,o)),o.set(s,e)}kR.set(e,r.reverse())}}function Jue(n){return n>=nw&&n<uPe}function mPe(n,e){if(n>=wk&&n<dPe&&e>=xk&&e<hPe)return nw+(n-wk)*Sk+(e-xk)*o0;if(Jue(n)&&e>_k&&e<fPe&&(n-nw)%o0==0)return n+(e-_k);{let r=cS.get(n);return r&&(r=r.get(e),r)?r:-1}}function Zue(n){SR||pPe();let e=[],r=[],i=!1;function s(o){let a=SR.get(o);a&&(i=!0,o|=a),e.push(o)}for(let o of n)for(;;){if(o<128)e.push(o);else if(Jue(o)){let a=o-nw,l=a/Sk|0,c=a%Sk/o0|0,u=a%o0;s(wk+l),s(xk+c),u>0&&s(_k+u)}else{let a=kR.get(o);a?r.push(...a):s(o)}if(!r.length)break;o=r.pop()}if(i&&e.length>1){let o=vy(e[0]);for(let a=1;a<e.length;a++){let l=vy(e[a]);if(l==0||o<=l){o=l;continue}let c=a-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(o=vy(e[--c]),o<=l))break}o=vy(e[a])}}return e}function gPe(n){let e=[],r=[],i=-1,s=0;for(let o of n){let a=vy(o),l=Que(o);if(i==-1)a==0?i=l:e.push(l);else if(s>0&&s>=a)a==0?(e.push(i,...r),r.length=0,i=l):r.push(l),s=a;else{let c=mPe(i,l);c>=0?i=c:s==0&&a==0?(e.push(i),i=l):(r.push(l),s=a)}}return i>=0&&e.push(i,...r),e}function ede(n){return Zue(n).map(Que)}function bPe(n){return gPe(Zue(n))}const Fz=45,tde=".",nde=65039,rde=1,kk=n=>Array.from(n);function rw(n,e){return n.P.has(e)||n.Q.has(e)}class yPe extends Array{get is_emoji(){return!0}}let CR,ide,Xh,ER,sde,Qm,u5,fm,Mh,$z,AR;function h7(){if(CR)return;let n=que(XTe);const e=()=>ew(n),r=()=>new Set(e()),i=(d,h)=>h.forEach(f=>d.add(f));CR=new Map(Vue(n)),ide=r(),Xh=e(),ER=new Set(e().map(d=>Xh[d])),Xh=new Set(Xh),sde=r(),r();let s=Hue(n),o=n();const a=()=>{let d=new Set;return e().forEach(h=>i(d,s[h])),i(d,e()),d};Qm=tw(d=>{let h=tw(n).map(f=>f+96);if(h.length){let f=d>=o;h[0]-=32,h=s0(h),f&&(h=`Restricted[${h}]`);let p=a(),m=a(),b=!n();return{N:h,P:p,Q:m,M:b,R:f}}}),u5=r(),fm=new Map;let l=e().concat(kk(u5)).sort((d,h)=>d-h);l.forEach((d,h)=>{let f=n(),p=l[h]=f?l[h-f]:{V:[],M:new Map};p.V.push(d),u5.has(d)||fm.set(d,p)});for(let{V:d,M:h}of new Set(fm.values())){let f=[];for(let m of d){let b=Qm.filter(v=>rw(v,m)),y=f.find(({G:v})=>b.some(w=>v.has(w)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(m),i(y.G,b)}let p=f.flatMap(m=>kk(m.G));for(let{G:m,V:b}of f){let y=new Set(p.filter(v=>!m.has(v)));for(let v of b)h.set(v,y)}}Mh=new Set;let c=new Set;const u=d=>Mh.has(d)?c.add(d):Mh.add(d);for(let d of Qm){for(let h of d.P)u(h);for(let h of d.Q)u(h)}for(let d of Mh)!fm.has(d)&&!c.has(d)&&fm.set(d,rde);i(Mh,ede(Mh)),$z=iPe(n).map(d=>yPe.from(d)).sort(aPe),AR=new Map;for(let d of $z){let h=[AR];for(let f of d){let p=h.map(m=>{let b=m.get(f);return b||(b=new Map,m.set(f,b)),b});f===nde?h.push(...p):h=p}for(let f of h)f.V=d}}function f7(n){return(ode(n)?"":`${p7(SC([n]))} `)+Yue(n)}function p7(n){return`"${n}"`}function vPe(n){if(n.length>=4&&n[2]==Fz&&n[3]==Fz)throw new Error(`invalid label extension: "${s0(n.slice(0,4))}"`)}function wPe(n){for(let r=n.lastIndexOf(95);r>0;)if(n[--r]!==95)throw new Error("underscore allowed only at start")}function xPe(n){let e=n[0],r=jz.get(e);if(r)throw Vy(`leading ${r}`);let i=n.length,s=-1;for(let o=1;o<i;o++){e=n[o];let a=jz.get(e);if(a){if(s==o)throw Vy(`${r} + ${a}`);s=o+1,r=a}}if(s==i)throw Vy(`trailing ${r}`)}function SC(n,e=1/0,r=Yue){let i=[];_Pe(n[0])&&i.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,o=n.length;for(let a=0;a<o;a++){let l=n[a];ode(l)&&(i.push(s0(n.slice(s,a))),i.push(r(l)),s=a+1)}return i.push(s0(n.slice(s,o))),i.join("")}function _Pe(n,e){return h7(),Xh.has(n)}function ode(n){return h7(),sde.has(n)}function SPe(n){return APe(kPe(n,bPe,IPe))}function kPe(n,e,r){if(!n)return[];h7();let i=0;return n.split(tde).map(s=>{let o=oPe(s),a={input:o,offset:i};i+=o.length+1;try{let l=a.tokens=PPe(o,e,r),c=l.length,u;if(!c)throw new Error("empty label");let d=a.output=l.flat();if(wPe(d),!(a.emoji=c>1||l[0].is_emoji)&&d.every(f=>f<128))vPe(d),u="ASCII";else{let f=l.flatMap(p=>p.is_emoji?[]:p);if(!f.length)u="Emoji";else{if(Xh.has(d[0]))throw Vy("leading combining mark");for(let b=1;b<c;b++){let y=l[b];if(!y.is_emoji&&Xh.has(y[0]))throw Vy(`emoji + combining mark: "${s0(l[b-1])} + ${SC([y[0]])}"`)}xPe(d);let p=kk(new Set(f)),[m]=EPe(p);TPe(m,f),CPe(m,p),u=m.N}}a.type=u}catch(l){a.error=l}return a})}function CPe(n,e){let r,i=[];for(let s of e){let o=fm.get(s);if(o===rde)return;if(o){let a=o.M.get(s);if(r=r?r.filter(l=>a.has(l)):kk(a),!r.length)return}else i.push(s)}if(r){for(let s of r)if(i.every(o=>rw(s,o)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function EPe(n){let e=Qm;for(let r of n){let i=e.filter(s=>rw(s,r));if(!i.length)throw Qm.some(s=>rw(s,r))?lde(e[0],r):ade(r);if(e=i,i.length==1)break}return e}function APe(n){return n.map(({input:e,error:r,output:i})=>{if(r){let s=r.message;throw new Error(n.length==1?s:`Invalid label ${p7(SC(e,63))}: ${s}`)}return s0(i)}).join(tde)}function ade(n){return new Error(`disallowed character: ${f7(n)}`)}function lde(n,e){let r=f7(e),i=Qm.find(s=>s.P.has(e));return i&&(r=`${i.N} ${r}`),new Error(`illegal mixture: ${n.N} + ${r}`)}function Vy(n){return new Error(`illegal placement: ${n}`)}function TPe(n,e){for(let r of e)if(!rw(n,r))throw lde(n,r);if(n.M){let r=ede(e);for(let i=1,s=r.length;i<s;i++)if(ER.has(r[i])){let o=i+1;for(let a;o<s&&ER.has(a=r[o]);o++)for(let l=i;l<o;l++)if(r[l]==a)throw new Error(`duplicate non-spacing marks: ${f7(a)}`);if(o-i>Bz)throw new Error(`excessive non-spacing marks: ${p7(SC(r.slice(i-1,o)))} (${o-i}/${Bz})`);i=o}}}function PPe(n,e,r){let i=[],s=[];for(n=n.slice().reverse();n.length;){let o=MPe(n);if(o)s.length&&(i.push(e(s)),s=[]),i.push(r(o));else{let a=n.pop();if(Mh.has(a))s.push(a);else{let l=CR.get(a);if(l)s.push(...l);else if(!ide.has(a))throw ade(a)}}}return s.length&&i.push(e(s)),i}function IPe(n){return n.filter(e=>e!=nde)}function MPe(n,e){let r=AR,i,s=n.length;for(;s&&(r=r.get(n[--s]),!!r);){let{V:o}=r;o&&(i=o,n.length=s)}return i}function OPe(n){return SPe(n)}function DPe(n){return OPe(n)}const Jm=_ce({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),d5=_ce({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});var wl=function(){return wl=Object.assign||function(e){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},wl.apply(this,arguments)};function cde(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(r[i[s]]=n[i[s]]);return r}function RPe(n,e,r){if(r||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}var uS="right-scroll-bar-position",dS="width-before-scroll-bar",NPe="with-scroll-bars-hidden",jPe="--removed-body-scroll-bar-size";function h5(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function BPe(n,e){var r=A.useState(function(){return{value:n,callback:e,facade:{get current(){return r.value},set current(i){var s=r.value;s!==i&&(r.value=i,r.callback(i,s))}}}})[0];return r.callback=e,r.facade}var LPe=typeof window<"u"?A.useLayoutEffect:A.useEffect,zz=new WeakMap;function FPe(n,e){var r=BPe(null,function(i){return n.forEach(function(s){return h5(s,i)})});return LPe(function(){var i=zz.get(r);if(i){var s=new Set(i),o=new Set(n),a=r.current;s.forEach(function(l){o.has(l)||h5(l,null)}),o.forEach(function(l){s.has(l)||h5(l,a)})}zz.set(r,n)},[n]),r}function $Pe(n){return n}function zPe(n,e){e===void 0&&(e=$Pe);var r=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:n},useMedium:function(o){var a=e(o,i);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(i=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){i=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function UPe(n){n===void 0&&(n={});var e=zPe(null);return e.options=wl({async:!0,ssr:!1},n),e}var ude=function(n){var e=n.sideCar,r=cde(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return A.createElement(i,wl({},r))};ude.isSideCarExport=!0;function WPe(n,e){return n.useMedium(e),ude}var dde=UPe(),f5=function(){},kC=A.forwardRef(function(n,e){var r=A.useRef(null),i=A.useState({onScrollCapture:f5,onWheelCapture:f5,onTouchMoveCapture:f5}),s=i[0],o=i[1],a=n.forwardProps,l=n.children,c=n.className,u=n.removeScrollBar,d=n.enabled,h=n.shards,f=n.sideCar,p=n.noIsolation,m=n.inert,b=n.allowPinchZoom,y=n.as,v=y===void 0?"div":y,w=n.gapMode,_=cde(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,S=FPe([r,e]),C=wl(wl({},_),s);return A.createElement(A.Fragment,null,d&&A.createElement(x,{sideCar:dde,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:w}),a?A.cloneElement(A.Children.only(l),wl(wl({},C),{ref:S})):A.createElement(v,wl({},C,{className:c,ref:S}),l))});kC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kC.classNames={fullWidth:dS,zeroRight:uS};var qPe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HPe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=qPe();return e&&n.setAttribute("nonce",e),n}function VPe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function GPe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var YPe=function(){var n=0,e=null;return{add:function(r){n==0&&(e=HPe())&&(VPe(e,r),GPe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KPe=function(){var n=YPe();return function(e,r){A.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&r])}},hde=function(){var n=KPe(),e=function(r){var i=r.styles,s=r.dynamic;return n(i,s),null};return e},XPe={left:0,top:0,right:0,gap:0},p5=function(n){return parseInt(n||"",10)||0},QPe=function(n){var e=window.getComputedStyle(document.body),r=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[p5(r),p5(i),p5(s)]},JPe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return XPe;var e=QPe(n),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-r+e[2]-e[0])}},ZPe=hde(),Zm="data-scroll-locked",eIe=function(n,e,r,i){var s=n.left,o=n.top,a=n.right,l=n.gap;return r===void 0&&(r="margin"),`
  .`.concat(NPe,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Zm,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uS,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(dS,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(uS," .").concat(uS,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(dS," .").concat(dS,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Zm,`] {
    `).concat(jPe,": ").concat(l,`px;
  }
`)},Uz=function(){var n=parseInt(document.body.getAttribute(Zm)||"0",10);return isFinite(n)?n:0},tIe=function(){A.useEffect(function(){return document.body.setAttribute(Zm,(Uz()+1).toString()),function(){var n=Uz()-1;n<=0?document.body.removeAttribute(Zm):document.body.setAttribute(Zm,n.toString())}},[])},nIe=function(n){var e=n.noRelative,r=n.noImportant,i=n.gapMode,s=i===void 0?"margin":i;tIe();var o=A.useMemo(function(){return JPe(s)},[s]);return A.createElement(ZPe,{styles:eIe(o,!e,s,r?"":"!important")})},TR=!1;if(typeof window<"u")try{var U1=Object.defineProperty({},"passive",{get:function(){return TR=!0,!0}});window.addEventListener("test",U1,U1),window.removeEventListener("test",U1,U1)}catch{TR=!1}var Vp=TR?{passive:!1}:!1,rIe=function(n){return n.tagName==="TEXTAREA"},fde=function(n,e){if(!(n instanceof Element))return!1;var r=window.getComputedStyle(n);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!rIe(n)&&r[e]==="visible")},iIe=function(n){return fde(n,"overflowY")},sIe=function(n){return fde(n,"overflowX")},Wz=function(n,e){var r=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=pde(n,i);if(s){var o=mde(n,i),a=o[1],l=o[2];if(a>l)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},oIe=function(n){var e=n.scrollTop,r=n.scrollHeight,i=n.clientHeight;return[e,r,i]},aIe=function(n){var e=n.scrollLeft,r=n.scrollWidth,i=n.clientWidth;return[e,r,i]},pde=function(n,e){return n==="v"?iIe(e):sIe(e)},mde=function(n,e){return n==="v"?oIe(e):aIe(e)},lIe=function(n,e){return n==="h"&&e==="rtl"?-1:1},cIe=function(n,e,r,i,s){var o=lIe(n,window.getComputedStyle(e).direction),a=o*i,l=r.target,c=e.contains(l),u=!1,d=a>0,h=0,f=0;do{var p=mde(n,l),m=p[0],b=p[1],y=p[2],v=b-y-o*m;(m||v)&&pde(n,l)&&(h+=v,f+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},W1=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},qz=function(n){return[n.deltaX,n.deltaY]},Hz=function(n){return n&&"current"in n?n.current:n},uIe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},dIe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},hIe=0,Gp=[];function fIe(n){var e=A.useRef([]),r=A.useRef([0,0]),i=A.useRef(),s=A.useState(hIe++)[0],o=A.useState(hde)[0],a=A.useRef(n);A.useEffect(function(){a.current=n},[n]),A.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var b=RPe([n.lockRef.current],(n.shards||[]).map(Hz),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var l=A.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var v=W1(b),w=r.current,_="deltaX"in b?b.deltaX:w[0]-v[0],x="deltaY"in b?b.deltaY:w[1]-v[1],S,C=b.target,E=Math.abs(_)>Math.abs(x)?"h":"v";if("touches"in b&&E==="h"&&C.type==="range")return!1;var T=Wz(E,C);if(!T)return!0;if(T?S=E:(S=E==="v"?"h":"v",T=Wz(E,C)),!T)return!1;if(!i.current&&"changedTouches"in b&&(_||x)&&(i.current=S),!S)return!0;var M=i.current||S;return cIe(M,y,b,M==="h"?_:x)},[]),c=A.useCallback(function(b){var y=b;if(!(!Gp.length||Gp[Gp.length-1]!==o)){var v="deltaY"in y?qz(y):W1(y),w=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&uIe(S.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var _=(a.current.shards||[]).map(Hz).filter(Boolean).filter(function(S){return S.contains(y.target)}),x=_.length>0?l(y,_[0]):!a.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),u=A.useCallback(function(b,y,v,w){var _={name:b,delta:y,target:v,should:w,shadowParent:pIe(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(x){return x!==_})},1)},[]),d=A.useCallback(function(b){r.current=W1(b),i.current=void 0},[]),h=A.useCallback(function(b){u(b.type,qz(b),b.target,l(b,n.lockRef.current))},[]),f=A.useCallback(function(b){u(b.type,W1(b),b.target,l(b,n.lockRef.current))},[]);A.useEffect(function(){return Gp.push(o),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Vp),document.addEventListener("touchmove",c,Vp),document.addEventListener("touchstart",d,Vp),function(){Gp=Gp.filter(function(b){return b!==o}),document.removeEventListener("wheel",c,Vp),document.removeEventListener("touchmove",c,Vp),document.removeEventListener("touchstart",d,Vp)}},[]);var p=n.removeScrollBar,m=n.inert;return A.createElement(A.Fragment,null,m?A.createElement(o,{styles:dIe(s)}):null,p?A.createElement(nIe,{gapMode:n.gapMode}):null)}function pIe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const mIe=WPe(dde,fIe);var gde=A.forwardRef(function(n,e){return A.createElement(kC,wl({},n,{ref:e,sideCar:mIe}))});gde.classNames=kC.classNames;function Vz(n){var e=n.match(/^var\((.*)\)$/);return e?e[1]:n}function gIe(n,e){var r=n;for(var i of e){if(!(i in r))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));r=r[i]}return r}function bde(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i={};for(var s in n){var o=n[s],a=[...r,s];typeof o=="string"||typeof o=="number"||o==null?i[s]=e(o,a):typeof o=="object"&&!Array.isArray(o)?i[s]=bde(o,e,a):console.warn('Skipping invalid key "'.concat(a.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"'))}return i}function Gz(n,e){var r={};if(typeof e=="object"){var i=n;bde(e,(l,c)=>{if(l!=null){var u=gIe(i,c);r[Vz(u)]=String(l)}})}else{var s=n;for(var o in s){var a=s[o];a!=null&&(r[Vz(o)]=a)}}return Object.defineProperty(r,"toString",{value:function(){return Object.keys(this).map(c=>"".concat(c,":").concat(this[c])).join(";")},writable:!1}),r}var PR={exports:{}};(function(n,e){(function(r,i){var s="1.0.41",o="",a="?",l="function",c="undefined",u="object",d="string",h="major",f="model",p="name",m="type",b="vendor",y="version",v="architecture",w="console",_="mobile",x="tablet",S="smarttv",C="wearable",E="embedded",T=500,M="Amazon",I="Apple",O="ASUS",F="BlackBerry",$="Browser",z="Chrome",D="Edge",j="Firefox",N="Google",R="Honor",H="Huawei",U="Lenovo",K="LG",Y="Microsoft",J="Motorola",G="Nvidia",X="OnePlus",ae="Opera",ge="OPPO",le="Samsung",ie="Sharp",Te="Sony",Ee="Xiaomi",V="Zebra",Ie="Facebook",Ye="Chromium OS",nt="Mac OS",Ue=" Browser",mt=function(Z,ue){var ce={};for(var Ce in Z)ue[Ce]&&ue[Ce].length%2===0?ce[Ce]=ue[Ce].concat(Z[Ce]):ce[Ce]=Z[Ce];return ce},He=function(Z){for(var ue={},ce=0;ce<Z.length;ce++)ue[Z[ce].toUpperCase()]=Z[ce];return ue},xe=function(Z,ue){return typeof Z===d?Ve(ue).indexOf(Ve(Z))!==-1:!1},Ve=function(Z){return Z.toLowerCase()},Oe=function(Z){return typeof Z===d?Z.replace(/[^\d\.]/g,o).split(".")[0]:i},Ne=function(Z,ue){if(typeof Z===d)return Z=Z.replace(/^\s\s*/,o),typeof ue===c?Z:Z.substring(0,T)},Ae=function(Z,ue){for(var ce=0,Ce,Re,he,Pe,_e,re;ce<ue.length&&!_e;){var ne=ue[ce],se=ue[ce+1];for(Ce=Re=0;Ce<ne.length&&!_e&&ne[Ce];)if(_e=ne[Ce++].exec(Z),_e)for(he=0;he<se.length;he++)re=_e[++Re],Pe=se[he],typeof Pe===u&&Pe.length>0?Pe.length===2?typeof Pe[1]==l?this[Pe[0]]=Pe[1].call(this,re):this[Pe[0]]=Pe[1]:Pe.length===3?typeof Pe[1]===l&&!(Pe[1].exec&&Pe[1].test)?this[Pe[0]]=re?Pe[1].call(this,re,Pe[2]):i:this[Pe[0]]=re?re.replace(Pe[1],Pe[2]):i:Pe.length===4&&(this[Pe[0]]=re?Pe[3].call(this,re.replace(Pe[1],Pe[2])):i):this[Pe]=re||i;ce+=2}},Se=function(Z,ue){for(var ce in ue)if(typeof ue[ce]===u&&ue[ce].length>0){for(var Ce=0;Ce<ue[ce].length;Ce++)if(xe(ue[ce][Ce],Z))return ce===a?i:ce}else if(xe(ue[ce],Z))return ce===a?i:ce;return ue.hasOwnProperty("*")?ue["*"]:Z},W={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},de={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},me={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,ae+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[p,ae+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[p,ae]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+$]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[p,"Smart Lenovo "+$]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+$],y],[/\bfocus\/([\w\.]+)/i],[y,[p,j+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI"+Ue]],[/fxios\/([\w\.-]+)/i],[y,[p,j]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Ue],y],[/samsungbrowser\/([\w\.]+)/i],[y,[p,le+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Ie],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,z+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,z+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+$]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,Se,W]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,j+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[v,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[v,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[v,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[v,/ower/,o,Ve]],[/ sun4\w[;\)]/i],[[v,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[v,Ve]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[b,le],[m,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[b,le],[m,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[b,I],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[b,I],[m,x]],[/(macintosh);/i],[f,[b,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[b,ie],[m,_]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[b,R],[m,x]],[/honor([-\w ]+)[;\)]/i],[f,[b,R],[m,_]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[b,H],[m,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[b,H],[m,_]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[b,Ee],[m,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[b,Ee],[m,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[b,ge],[m,_]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[b,Se,{OnePlus:["304","403","203"],"*":ge}],[m,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[b,"Vivo"],[m,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[b,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[b,J],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[b,J],[m,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[b,K],[m,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[b,K],[m,_]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[b,U],[m,x]],[/(nokia) (t[12][01])/i],[b,f,[m,x]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[m,_],[b,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[b,N],[m,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[b,N],[m,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[b,Te],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[b,Te],[m,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[b,X],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[b,M],[m,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[b,M],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,b,[m,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[b,F],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[b,O],[m,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[b,O],[m,_]],[/(nexus 9)/i],[f,[b,"HTC"],[m,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[f,/_/g," "],[m,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[b,"TCL"],[m,x]],[/(itel) ((\w+))/i],[[b,Ve],f,[m,Se,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[b,"Acer"],[m,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[b,"Meizu"],[m,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[b,"Ulefone"],[m,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[b,"Energizer"],[m,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[b,"Cat"],[m,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[b,"Smartfren"],[m,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[b,"Nothing"],[m,_]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[b,"Archos"],[m,x]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[b,"Archos"],[m,_]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[b,f,[m,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[b,f,[m,_]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,f,[m,x]],[/(surface duo)/i],[f,[b,Y],[m,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[b,"Fairphone"],[m,_]],[/(u304aa)/i],[f,[b,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[f,[b,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[f,[b,"RCA"],[m,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[b,"Dell"],[m,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[b,"Verizon"],[m,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[b,"Barnes & Noble"],[m,x]],[/\b(tm\d{3}\w+) b/i],[f,[b,"NuVision"],[m,x]],[/\b(k88) b/i],[f,[b,"ZTE"],[m,x]],[/\b(nx\d{3}j) b/i],[f,[b,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[f,[b,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[f,[b,"Swiss"],[m,x]],[/\b((zeki)?tb.*\b) b/i],[f,[b,"Zeki"],[m,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],f,[m,x]],[/\b(ns-?\w{0,9}) b/i],[f,[b,"Insignia"],[m,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[b,"NextBook"],[m,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],f,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],f,[m,_]],[/\b(ph-1) /i],[f,[b,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[b,"Envizen"],[m,x]],[/\b(trio[-\w\. ]+) b/i],[f,[b,"MachSpeed"],[m,x]],[/\btu_(1491) b/i],[f,[b,"Rotor"],[m,x]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[b,G],[m,x]],[/(sprint) (\w+)/i],[b,f,[m,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[b,Y],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[b,V],[m,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[b,V],[m,_]],[/smart-tv.+(samsung)/i],[b,[m,S]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[b,le],[m,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,K],[m,S]],[/(apple) ?tv/i],[b,[f,I+" TV"],[m,S]],[/crkey/i],[[f,z+"cast"],[b,N],[m,S]],[/droid.+aft(\w+)( bui|\))/i],[f,[b,M],[m,S]],[/(shield \w+ tv)/i],[f,[b,G],[m,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[b,ie],[m,S]],[/(bravia[\w ]+)( bui|\))/i],[f,[b,Te],[m,S]],[/(mi(tv|box)-?\w+) bui/i],[f,[b,Ee],[m,S]],[/Hbbtv.*(technisat) (.*);/i],[b,f,[m,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,Ne],[f,Ne],[m,S]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[m,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,f,[m,w]],[/droid.+; (shield)( bui|\))/i],[f,[b,G],[m,w]],[/(playstation \w+)/i],[f,[b,Te],[m,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[b,Y],[m,w]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[b,le],[m,C]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[b,f,[m,C]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[b,ge],[m,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[b,I],[m,C]],[/(opwwe\d{3})/i],[f,[b,X],[m,C]],[/(moto 360)/i],[f,[b,J],[m,C]],[/(smartwatch 3)/i],[f,[b,Te],[m,C]],[/(g watch r)/i],[f,[b,K],[m,C]],[/droid.+; (wt63?0{2,3})\)/i],[f,[b,V],[m,C]],[/droid.+; (glass) \d/i],[f,[b,N],[m,C]],[/(pico) (4|neo3(?: link|pro)?)/i],[b,f,[m,C]],[/; (quest( \d| pro)?)/i],[f,[b,Ie],[m,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[m,E]],[/(aeobc)\b/i],[f,[b,M],[m,E]],[/(homepod).+mac os/i],[f,[b,I],[m,E]],[/windows iot/i],[[m,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,_]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,D+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[y,Se,de]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,Se,de],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,nt],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,y],[/\(bb(10);/i],[y,[p,F]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,j+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,z+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Ye],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},oe=function(Z,ue){if(typeof Z===u&&(ue=Z,Z=i),!(this instanceof oe))return new oe(Z,ue).getResult();var ce=typeof r!==c&&r.navigator?r.navigator:i,Ce=Z||(ce&&ce.userAgent?ce.userAgent:o),Re=ce&&ce.userAgentData?ce.userAgentData:i,he=ue?mt(me,ue):me,Pe=ce&&ce.userAgent==Ce;return this.getBrowser=function(){var _e={};return _e[p]=i,_e[y]=i,Ae.call(_e,Ce,he.browser),_e[h]=Oe(_e[y]),Pe&&ce&&ce.brave&&typeof ce.brave.isBrave==l&&(_e[p]="Brave"),_e},this.getCPU=function(){var _e={};return _e[v]=i,Ae.call(_e,Ce,he.cpu),_e},this.getDevice=function(){var _e={};return _e[b]=i,_e[f]=i,_e[m]=i,Ae.call(_e,Ce,he.device),Pe&&!_e[m]&&Re&&Re.mobile&&(_e[m]=_),Pe&&_e[f]=="Macintosh"&&ce&&typeof ce.standalone!==c&&ce.maxTouchPoints&&ce.maxTouchPoints>2&&(_e[f]="iPad",_e[m]=x),_e},this.getEngine=function(){var _e={};return _e[p]=i,_e[y]=i,Ae.call(_e,Ce,he.engine),_e},this.getOS=function(){var _e={};return _e[p]=i,_e[y]=i,Ae.call(_e,Ce,he.os),Pe&&!_e[p]&&Re&&Re.platform&&Re.platform!="Unknown"&&(_e[p]=Re.platform.replace(/chrome os/i,Ye).replace(/macos/i,nt)),_e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ce},this.setUA=function(_e){return Ce=typeof _e===d&&_e.length>T?Ne(_e,T):_e,this},this.setUA(Ce),this};oe.VERSION=s,oe.BROWSER=He([p,y,h]),oe.CPU=He([v]),oe.DEVICE=He([f,b,m,w,_,S,x,C,E]),oe.ENGINE=oe.OS=He([p,y]),n.exports&&(e=n.exports=oe),e.UAParser=oe;var pe=typeof r!==c&&(r.jQuery||r.Zepto);if(pe&&!pe.ua){var ye=new oe;pe.ua=ye.getResult(),pe.ua.get=function(){return ye.getUA()},pe.ua.set=function(Z){ye.setUA(Z);var ue=ye.getResult();for(var ce in ue)pe.ua[ce]=ue[ce]}}})(typeof window=="object"?window:xxe)})(PR,PR.exports);var bIe=PR.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Nb={newline:10,reset:27};function yIe(n){if(!Number.isSafeInteger(n))throw new Error(`integer expected: ${n}`)}function vIe(n){if(!Number.isSafeInteger(n)||n<1||n>40)throw new Error(`Invalid version=${n}. Expected number [1..40]`)}function ph(n,e){return n.toString(2).padStart(e,"0")}function Yz(n,e){const r=n%e;return r>=0?r:e+r}function hl(n,e){return new Array(n).fill(e)}function m5(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24}function Kz(n){let e=0,r=0;for(const o of n)e=Math.max(e,o.length),r+=o.length;const i=new Uint8Array(r);let s=0;for(let o=0;o<e;o++)for(const a of n)o<a.length&&(i[s++]=a[o]);return i}function wIe(){let n,e=1/0;return{add(r,i){r>=e||(n=i,e=r)},get:()=>n,score:()=>e}}function Xz(n){return{has:e=>n.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const i=n.indexOf(r);if(i===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${n}`);return i})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(yIe(r),r<0||r>=n.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${n.length})`);return n[r]})}}}function Qz(n){if(n.length!==32)throw new Error("expects 32 element matrix");const e=[1431655765,858993459,252645135,16711935,65535];for(let r=0;r<5;r++){const i=e[r]>>>0,s=1<<r,o=s<<1;for(let a=0;a<32;a+=o)for(let l=0;l<s;l++){const c=a+l,u=c+s,d=n[c]>>>0,h=n[u]>>>0,f=(d>>>s^h)&i;n[c]=(d^f<<s)>>>0,n[u]=(h^f)>>>0}}}const jb=n=>1<<(n&31)>>>0,mh=(n,e)=>e===0?0:e===32?4294967295:(1<<e)-1<<n>>>0;class Yi{constructor(e,r){ze(this,"defined");ze(this,"value");ze(this,"tailMask");ze(this,"words");ze(this,"fullWords");ze(this,"height");ze(this,"width");const{height:i,width:s}=Yi.size(e);if(this.height=i,this.width=s,this.tailMask=mh(0,s&31||32),this.words=Math.ceil(s/32)|0,this.fullWords=Math.floor(s/32)|0,this.value=new Uint32Array(this.words*i),this.defined=new Uint32Array(this.value.length),r){if(r.length!==i)throw new Error(`Bitmap: data height mismatch: exp=${i} got=${r.length}`);for(let o=0;o<i;o++){const a=r[o];if(!a||a.length!==s)throw new Error(`Bitmap: data width mismatch at y=${o}: exp=${s} got=${a==null?void 0:a.length}`);for(let l=0;l<s;l++)this.set(l,o,a[l])}}}static size(e,r){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: invalid height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: invalid width=${e.width} (${typeof e.width})`);return r!==void 0&&(e={width:Math.min(e.width,r.width),height:Math.min(e.height,r.height)}),e}static fromString(e){e=e.replace(/^\n+/g,"").replace(/\n+$/g,"");const r=e.split(String.fromCharCode(Nb.newline)),i=r.length;let s;const o=[];for(const a of r){const l=a.split("").map(c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)});if(s!==void 0&&l.length!==s)throw new Error(`Bitmap.fromString different row sizes: width=${s} cur=${l.length}`);s=l.length,o.push(l)}return s===void 0&&(s=0),new Yi({height:i,width:s},o)}point(e){return this.get(e.x,e.y)}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:r,y:i}=this.xy(e);return{height:this.height-i,width:this.width-r}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: invalid x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: invalid y=${e.y}`);return e.x=Yz(e.x,this.width),e.y=Yz(e.y,this.height),e}wordIndex(e,r){return r*this.words+(e>>>5)}bitIndex(e,r){return{word:this.wordIndex(e,r),bit:e&31}}isDefined(e,r){const i=this.wordIndex(e,r),s=jb(e);return(this.defined[i]&s)!==0}get(e,r){const i=this.wordIndex(e,r),s=jb(e);return(this.value[i]&s)!==0}maskWord(e,r,i){const{defined:s,value:o}=this;s[e]|=r,o[e]=o[e]&~r|-i&r}set(e,r,i){i!==void 0&&this.maskWord(this.wordIndex(e,r),jb(e),i)}fillRectConst(e,r,i,s,o){if(i<=0||s<=0||o===void 0)return;const{value:a,defined:l,words:c}=this,u=e>>>5,d=e+i-1>>>5,h=e&31,f=e+i-1&31;for(let p=0;p<s;p++){const m=(r+p)*c;if(u===d){const b=mh(h,f-h+1);this.maskWord(m+u,b,o);continue}this.maskWord(m+u,mh(h,32-h),o);for(let b=u+1;b<d;b++)l[m+b]=4294967295,a[m+b]=o?4294967295:0;this.maskWord(m+d,mh(0,f+1),o)}}rectWords(e,r,i,s,o){for(let a=0;a<s;a++){const l=r+a;for(let c=0;c<i;){const u=e+c,{bit:d,word:h}=this.bitIndex(u,l),f=Math.min(32-d,i-c);o(h,u,c,a,f),c+=f}}}rect(e,r,i){const{x:s,y:o}=this.xy(e),{height:a,width:l}=Yi.size(r,this.size({x:s,y:o}));if(typeof i!="function")return this.fillRectConst(s,o,l,a,i),this;const{defined:c,value:u}=this;return this.rectWords(s,o,l,a,(d,h,f,p,m)=>{let b=0,y=u[d];for(let v=0;v<m;v++){const w=jb(h+v),_=i({x:f+v,y:p},(y&w)!==0);_!==void 0&&(b|=w,y=y&~w|-_&w)}c[d]|=b,u[d]=y}),this}rectRead(e,r,i){const{x:s,y:o}=this.xy(e),{height:a,width:l}=Yi.size(r,this.size({x:s,y:o})),{value:c}=this;return this.rectWords(s,o,l,a,(u,d,h,f,p)=>{const m=c[u];for(let b=0;b<p;b++){const y=jb(d+b);i({x:h+b,y:f},(m&y)!==0)}}),this}hLine(e,r,i){return this.rect(e,{width:r,height:1},i)}vLine(e,r,i){return this.rect(e,{width:1,height:r},i)}border(e=2,r){const i=this.height+2*e,s=this.width+2*e,o=new Yi({height:i,width:s});return o.rect(0,1/0,r),o.embed({x:e,y:e},this),o}embed(e,r){const{x:i,y:s}=this.xy(e),{height:o,width:a}=Yi.size(r.size(),this.size({x:i,y:s}));if(a<=0||o<=0)return this;const{value:l,defined:c}=this,{words:u,value:d}=r;for(let h=0;h<o;h++){const f=h*u;for(let p=0;p<a;){const m=i+p,{word:b,bit:y}=this.bitIndex(m,s+h),{word:v,bit:w}=r.bitIndex(p,h),_=Math.min(32-y,a-p),x=d[v],S=w&&v+1<f+u?d[v+1]:0,C=w?(x>>>w|S<<32-w)>>>0:x,E=mh(y,_),T=(C&mh(0,_))<<y>>>0;c[b]|=E,l[b]=l[b]&~E|T,p+=_}}return this}rectSlice(e,r=this.size()){const{x:i,y:s}=this.xy(e),{height:o,width:a}=Yi.size(r,this.size({x:i,y:s})),l=new Yi({height:o,width:a});return this.rectRead({x:i,y:s},{height:o,width:a},(c,u)=>{this.isDefined(i+c.x,s+c.y)&&l.set(c.x,c.y,u)}),l}transpose(){const{height:e,width:r,value:i,defined:s,words:o}=this,a=new Yi({height:r,width:e}),{words:l,value:c,defined:u,tailMask:d}=a,h=new Uint32Array(32),f=new Uint32Array(32);for(let p=0;p<e;p+=32)for(let m=0;m<o;m++){const b=Math.min(32,e-p);for(let y=0;y<b;y++){const v=this.wordIndex(32*m,p+y);h[y]=i[v],f[y]=s[v]}h.fill(0,b),f.fill(0,b),Qz(h),Qz(f);for(let y=0;y<32;y++){const v=m*32+y;if(v>=r)break;const w=a.wordIndex(p,v),_=p>>>5===l-1?d:4294967295;c[w]=h[y]&_,u[w]=f[y]&_}}return a}negate(){const e=this.defined.length;for(let r=0;r<e;r++)this.value[r]=~this.value[r],this.defined[r]=4294967295;return this}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`invalid scale factor: ${e}`);const{height:r,width:i}=this;return new Yi({height:e*r,width:e*i}).rect({x:0,y:0},1/0,({x:o,y:a})=>this.get(o/e|0,a/e|0))}clone(){const e=new Yi(this.size());return e.defined.set(this.defined),e.value.set(this.value),e}assertDrawn(){const{height:e,width:r,defined:i,tailMask:s,fullWords:o,words:a}=this;if(!(!e||!r))for(let l=0;l<e;l++){const c=l*a;for(let u=0;u<o;u++)if(i[c+u]!==4294967295)throw new Error("Invalid color type=undefined");if(a!==o&&(i[c+o]&s)!==s)throw new Error("Invalid color type=undefined")}}countPatternInRow(e,r,...i){if(r<=0||r>=32)throw new Error("wrong patternLen");const s=(1<<r)-1,{width:o,value:a,words:l}=this;let c=0;const u=this.wordIndex(0,e);for(let d=0,h=0;d<l;d++){const f=a[u+d],p=d===l-1&&o&31||32;for(let m=0;m<p;m++)if(h=(h<<1|f>>>m&1)&s,!(d*32+m+1<r)){for(const b of i)if(h===b){c++;break}}}return c}getRuns(e,r){const{width:i,value:s,words:o}=this;if(i===0)return;let a=0,l;const c=this.wordIndex(0,e);for(let u=0;u<o;u++){const d=s[c+u],h=u===o-1&&i&31||32;for(let f=0;f<h;f++){const p=(d&1<<f)!==0;if(p===l){a++;continue}l!==void 0&&r(a,l),l=p,a=1}}l!==void 0&&r(a,l)}popcnt(){const{height:e,width:r,words:i,fullWords:s,tailMask:o}=this;if(!e||!r)return 0;let a=0;for(let l=0;l<e;l++){const c=l*i;for(let u=0;u<s;u++)a+=m5(this.value[c+u]);i!==s&&(a+=m5(this.value[c+s]&o))}return a}countBoxes2x2(e){const{width:r,words:i}=this;if(r<2||(e|0)<0||e+1>=this.height)return 0;const s=this.wordIndex(0,e)|0,o=this.wordIndex(0,e+1)|0,l=(r&31)===0?2147483647:mh(0,r-1&31);let c=0;for(let u=0;u<i;u++){const d=this.value[s+u],h=this.value[o+u],f=~(d^h)>>>0,p=u+1<i?this.value[s+u+1]>>>0:0,m=~(d^(d>>>1|(p&1)<<31)>>>0)>>>0,b=u+1<i?this.value[o+u+1]>>>0:0,y=~(h^(h>>>1|(b&1)<<31)>>>0)>>>0;let v=(f&m&y)>>>0;u===i-1&&(v&=l),c+=m5(v)}return c}toString(){const e=String.fromCharCode(Nb.newline);let r="";for(let i=0;i<this.height;i++){let s="";for(let o=0;o<this.width;o++){const a=this.get(o,i);s+=this.isDefined(o,i)?a?"X":" ":"?"}r+=s+(i+1===this.height?"":e)}return r}toRaw(){const e=Array.from({length:this.height},()=>new Array(this.width));for(let r=0;r<this.height;r++){const i=e[r];for(let s=0;s<this.width;s++)i[s]=this.get(s,r)}return e}toASCII(){const{height:e,width:r}=this;let i="";for(let s=0;s<e;s+=2){for(let o=0;o<r;o++){const a=this.get(o,s),l=s+1>=e?!0:this.get(o,s+1);!a&&!l?i+="":!a&&l?i+="":a&&!l?i+="":a&&l&&(i+=" ")}i+=String.fromCharCode(Nb.newline)}return i}toTerm(){const e=String.fromCharCode(Nb.reset),r=e+"[0m",i=e+"[1;47m  "+r,s=e+"[40m  "+r,o=String.fromCharCode(Nb.newline);let a="";for(let l=0;l<this.height;l++){for(let c=0;c<this.width;c++){const u=this.get(c,l);a+=u?s:i}a+=o}return a}toSVG(e=!0){let r=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,i="",s;return this.rectRead(0,1/0,(o,a)=>{if(!a)return;const{x:l,y:c}=o;if(!e){r+=`<rect x="${l}" y="${c}" width="1" height="1" />`;return}let u=`M${l} ${c}`;if(s){const h=`m${l-s.x} ${c-s.y}`;h.length<=u.length&&(u=h)}const d=l<10?`H${l}`:"h-1";i+=`${u}h1v1${d}Z`,s=o}),e&&(r+=`<path d="${i}"/>`),r+="</svg>",r}toGIF(){const e=l=>[l&255,l>>>8&255],r=[...e(this.width),...e(this.height)],i=[];this.rectRead(0,1/0,(l,c)=>i.push(+(c===!0)));const s=126,o=[71,73,70,56,55,97,...r,246,0,0,255,255,255,...hl(3*127,0),44,0,0,0,0,...r,0,7],a=Math.floor(i.length/s);for(let l=0;l<a;l++)o.push(s+1,128,...i.slice(s*l,s*(l+1)).map(c=>+c));return o.push(i.length%s+1,128,...i.slice(a*s).map(l=>+l)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:r,width:i}=this.size(),s=new Uint8Array(r*i*(e?3:4));let o=0;for(let a=0;a<r;a++)for(let l=0;l<i;l++){const c=this.get(l,a)?0:255;s[o++]=c,s[o++]=c,s[o++]=c,e||(s[o++]=255)}return{height:r,width:i,data:s}}}const Jz=["low","medium","quartile","high"],Zz=["numeric","alphanumeric","byte","kanji","eci"],xIe=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],_Ie={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},SIe={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Ni={size:{encode:n=>21+4*(n-1),decode:n=>(n-17)/4},sizeType:n=>Math.floor((n+7)/17),alignmentPatterns(n){if(n===1)return[];const e=6,r=Ni.size.encode(n)-e-1,i=r-e,s=Math.ceil(i/28);let o=Math.floor(i/s);o%2?o+=1:i%s*2>=s&&(o+=2);const a=[e];for(let l=1;l<s;l++)a.push(r-(s-l)*o);return a.push(r),a},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(n,e){const r=Ni.ECCode[n]<<3|e;let i=r;for(let s=0;s<10;s++)i=i<<1^(i>>9)*1335;return(r<<10|i)^Ni.formatMask},versionBits(n){let e=n;for(let r=0;r<12;r++)e=e<<1^(e>>11)*7973;return n<<12|e},alphabet:{numeric:Xz("0123456789"),alphanumerc:Xz("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(n,e){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[e][Ni.sizeType(n)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(n,e){const r=xIe[n-1],i=_Ie[e][n-1],s=SIe[e][n-1],o=Math.floor(r/s)-i,a=s-r%s;return{words:i,numBlocks:s,shortBlocks:a,blockLen:o,capacity:(r-i*s)*8,total:(i+o)*s+s-a}}},m7=[(n,e)=>(n+e)%2==0,(n,e)=>e%2==0,(n,e)=>n%3==0,(n,e)=>(n+e)%3==0,(n,e)=>(Math.floor(e/2)+Math.floor(n/3))%2==0,(n,e)=>n*e%2+n*e%3==0,(n,e)=>(n*e%2+n*e%3)%2==0,(n,e)=>((n+e)%2+n*e%3)%2==0],wt={tables:(n=>{const e=hl(256,0),r=hl(256,0);for(let i=0,s=1;i<256;i++)e[i]=s,r[s]=i,s<<=1,s&256&&(s^=n);return{exp:e,log:r}})(285),exp:n=>wt.tables.exp[n],log(n){if(n===0)throw new Error(`GF.log: invalid arg=${n}`);return wt.tables.log[n]%255},mul(n,e){return n===0||e===0?0:wt.tables.exp[(wt.tables.log[n]+wt.tables.log[e])%255]},add:(n,e)=>n^e,pow:(n,e)=>wt.tables.exp[wt.tables.log[n]*e%255],inv(n){if(n===0)throw new Error(`GF.inverse: invalid arg=${n}`);return wt.tables.exp[255-wt.tables.log[n]]},polynomial(n){if(n.length==0)throw new Error("GF.polymomial: invalid length");if(n[0]!==0)return n;let e=0;for(;e<n.length-1&&n[e]==0;e++);return n.slice(e)},monomial(n,e){if(n<0)throw new Error(`GF.monomial: invalid degree=${n}`);if(e==0)return[0];let r=hl(n+1,0);return r[0]=e,wt.polynomial(r)},degree:n=>n.length-1,coefficient:(n,e)=>n[wt.degree(n)-e],mulPoly(n,e){if(n[0]===0||e[0]===0)return[0];const r=hl(n.length+e.length-1,0);for(let i=0;i<n.length;i++)for(let s=0;s<e.length;s++)r[i+s]=wt.add(r[i+s],wt.mul(n[i],e[s]));return wt.polynomial(r)},mulPolyScalar(n,e){if(e==0)return[0];if(e==1)return n;const r=hl(n.length,0);for(let i=0;i<n.length;i++)r[i]=wt.mul(n[i],e);return wt.polynomial(r)},mulPolyMonomial(n,e,r){if(e<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(r==0)return[0];const i=hl(n.length+e,0);for(let s=0;s<n.length;s++)i[s]=wt.mul(n[s],r);return wt.polynomial(i)},addPoly(n,e){if(n[0]===0)return e;if(e[0]===0)return n;let r=n,i=e;r.length>i.length&&([r,i]=[i,r]);let s=hl(i.length,0),o=i.length-r.length,a=i.slice(0,o);for(let l=0;l<a.length;l++)s[l]=a[l];for(let l=o;l<i.length;l++)s[l]=wt.add(r[l-o],i[l]);return wt.polynomial(s)},remainderPoly(n,e){const r=Array.from(n);for(let i=0;i<n.length-e.length+1;i++){const s=r[i];if(s!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(r[i+o]=wt.add(r[i+o],wt.mul(e[o],s)))}return r.slice(n.length-e.length+1,r.length)},divisorPoly(n){let e=[1];for(let r=0;r<n;r++)e=wt.mulPoly(e,[1,wt.pow(2,r)]);return e},evalPoly(n,e){if(e==0)return wt.coefficient(n,0);let r=n[0];for(let i=1;i<n.length;i++)r=wt.add(wt.mul(e,r),n[i]);return r},euclidian(n,e,r){wt.degree(n)<wt.degree(e)&&([n,e]=[e,n]);let i=n,s=e,o=[0],a=[1];for(;2*wt.degree(s)>=r;){let u=i,d=o;if(i=s,o=a,i[0]===0)throw new Error("rLast[0] === 0");s=u;let h=[0];const f=wt.inv(i[0]);for(;wt.degree(s)>=wt.degree(i)&&s[0]!==0;){const p=wt.degree(s)-wt.degree(i),m=wt.mul(s[0],f);h=wt.addPoly(h,wt.monomial(p,m)),s=wt.addPoly(s,wt.mulPolyMonomial(i,p,m))}if(h=wt.mulPoly(h,o),a=wt.addPoly(h,d),wt.degree(s)>=wt.degree(i))throw new Error(`Division failed r: ${s}, rLast: ${i}`)}const l=wt.coefficient(a,0);if(l==0)throw new Error("sigmaTilde(0) was zero");const c=wt.inv(l);return[wt.mulPolyScalar(a,c),wt.mulPolyScalar(s,c)]}};function kIe(n){return{encode(e){const r=wt.divisorPoly(n),i=Array.from(e);return i.push(...r.slice(0,-1).fill(0)),Uint8Array.from(wt.remainderPoly(i,r))},decode(e){const r=e.slice(),i=wt.polynomial(Array.from(e));let s=hl(n,0),o=!1;for(let h=0;h<n;h++){const f=wt.evalPoly(i,wt.exp(h));s[s.length-1-h]=f,f!==0&&(o=!0)}if(!o)return r;s=wt.polynomial(s);const a=wt.monomial(n,1),[l,c]=wt.euclidian(a,s,n),u=hl(wt.degree(l),0);let d=0;for(let h=1;h<256&&d<u.length;h++)wt.evalPoly(l,h)===0&&(u[d++]=wt.inv(h));if(d!==u.length)throw new Error("RS.decode: invalid errors number");for(let h=0;h<u.length;h++){const f=r.length-1-wt.log(u[h]);if(f<0)throw new Error("RS.decode: invalid error location");const p=wt.inv(u[h]);let m=1;for(let b=0;b<u.length;b++)h!==b&&(m=wt.mul(m,wt.add(1,wt.mul(u[b],p))));r[f]=wt.add(r[f],wt.mul(wt.evalPoly(c,p),wt.inv(m)))}return r}}}function CIe(n,e){const{words:r,shortBlocks:i,numBlocks:s,blockLen:o,total:a}=Ni.capacity(n,e),l=kIe(r);return{encode(c){const u=[],d=[];for(let m=0;m<s;m++){const b=m<i,y=o+(b?0:1);u.push(c.subarray(0,y)),d.push(l.encode(c.subarray(0,y))),c=c.subarray(y)}const h=Kz(u),f=Kz(d),p=new Uint8Array(h.length+f.length);return p.set(h),p.set(f,h.length),p},decode(c){if(c.length!==a)throw new Error(`interleave.decode: len(data)=${c.length}, total=${a}`);const u=[];for(let f=0;f<s;f++){const p=f<i;u.push(new Uint8Array(r+o+(p?0:1)))}let d=0;for(let f=0;f<o;f++)for(let p=0;p<s;p++)u[p][f]=c[d++];for(let f=i;f<s;f++)u[f][o]=c[d++];for(let f=o;f<o+r;f++)for(let p=0;p<s;p++){const m=p<i;u[p][f+(m?0:1)]=c[d++]}const h=[];for(const f of u)h.push(...Array.from(l.decode(f)).slice(0,-r));return Uint8Array.from(h)}}}function EIe(n,e,r,i=!1){const s=Ni.size.encode(n);let o=new Yi(s+2);const a=new Yi(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,a).embed({x:-a.width,y:0},a).embed({x:0,y:-a.height},a),o=o.rectSlice(1,s);const l=new Yi(1).rect(0,1,!0).border(1,!1).border(1,!0),c=Ni.alignmentPatterns(n);for(const u of c)for(const d of c)o.isDefined(d,u)||o.embed({x:d-2,y:u-2},l);o=o.hLine({x:0,y:6},1/0,({x:u})=>o.isDefined(u,6)?void 0:u%2==0).vLine({x:6,y:0},1/0,({y:u})=>o.isDefined(6,u)?void 0:u%2==0);{const u=Ni.formatBits(e,r),d=h=>!i&&(u>>h&1)==1;for(let h=0;h<6;h++)o.set(8,h,d(h));for(let h=6;h<8;h++)o.set(8,h+1,d(h));for(let h=8;h<15;h++)o.set(8,s-15+h,d(h));for(let h=0;h<8;h++)o.set(s-h-1,8,d(h));for(let h=8;h<9;h++)o.set(15-h-1+1,8,d(h));for(let h=9;h<15;h++)o.set(15-h-1,8,d(h));o.set(8,s-8,!i)}if(n>=7){const u=Ni.versionBits(n);for(let d=0;d<18;d+=1){const h=!i&&(u>>d&1)==1,f=Math.floor(d/3),p=d%3+s-8-3;o.set(p,f,h),o.set(f,p,h)}}return o}function AIe(n,e,r){const i=n.height,s=m7[e];let o=-1,a=i-1;for(let l=i-1;l>0;l-=2){for(l==6&&(l=5);;a+=o){for(let c=0;c<2;c+=1){const u=l-c;n.isDefined(u,a)||r(u,a,s(u,a))}if(a+o<0||a+o>=i)break}o=-o}}function TIe(n){let e="numeric";for(let r of n)if(!Ni.alphabet.numeric.has(r)&&(e="alphanumeric",!Ni.alphabet.alphanumerc.has(r)))return"byte";return e}function PIe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function eU(n,e,r,i,s=PIe){let o="",a=r.length;if(i==="numeric"){const f=Ni.alphabet.numeric.decode(r.split("")),p=f.length;for(let m=0;m<p-2;m+=3)o+=ph(f[m]*100+f[m+1]*10+f[m+2],10);p%3===1?o+=ph(f[p-1],4):p%3===2&&(o+=ph(f[p-2]*10+f[p-1],7))}else if(i==="alphanumeric"){const f=Ni.alphabet.alphanumerc.decode(r.split("")),p=f.length;for(let m=0;m<p-1;m+=2)o+=ph(f[m]*45+f[m+1],11);p%2==1&&(o+=ph(f[p-1],6))}else if(i==="byte"){const f=s(r);a=f.length,o=Array.from(f).map(p=>ph(p,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:l}=Ni.capacity(n,e),c=ph(a,Ni.lengthBits(n,i));let u=Ni.modeBits[i]+c+o;if(u.length>l)throw new Error("Capacity overflow");u+="0".repeat(Math.min(4,Math.max(0,l-u.length))),u.length%8&&(u+="0".repeat(8-u.length%8));const d="1110110000010001";for(let f=0;u.length!==l;f++)u+=d[f%d.length];const h=Uint8Array.from(u.match(/(.{8})/g).map(f=>+`0b${f}`));return CIe(n,e).encode(h)}function tU(n,e,r,i,s=!1){const o=EIe(n,e,i,s);let a=0;const l=8*r.length;if(AIe(o,i,(c,u,d)=>{let h=!1;a<l&&(h=(r[a>>>3]>>(7-a&7)&1)!==0,a++),o.set(c,u,h!==d)}),a!==l)throw new Error("QR: bytes left after draw");return o}const yde=n=>{const e=n.map(r=>r?"1":"0").join("");return{len:e.length,n:+`0b${e}`}},vde=[!0,!1,!0,!0,!0,!1,!0],wde=[!1,!1,!1,!1],q1=yde([...vde,...wde]),nU=yde([...wde,...vde]);function IIe(n){const{width:e,height:r}=n,i=n.transpose();let s=0;for(let d=0;d<r;d++)n.getRuns(d,h=>{h>=5&&(s+=3+(h-5))});for(let d=0;d<e;d++)i.getRuns(d,h=>{h>=5&&(s+=3+(h-5))});let o=0;for(let d=0;d<r-1;d++)o+=3*n.countBoxes2x2(d);let a=0;for(let d=0;d<r;d++)a+=40*n.countPatternInRow(d,q1.len,q1.n,nU.n);for(let d=0;d<e;d++)a+=40*i.countPatternInRow(d,q1.len,q1.n,nU.n);let l=0;l=n.popcnt();const c=l/(r*e)*100,u=10*Math.floor(Math.abs(c-50)/5);return s+o+a+u}function MIe(n,e,r,i){if(i===void 0){const s=wIe();for(let o=0;o<m7.length;o++)s.add(IIe(tU(n,e,r,o,!0)),o);i=s.get()}if(i===void 0)throw new Error("Cannot find mask");return tU(n,e,r,i)}function OIe(n){if(!Jz.includes(n))throw new Error(`Invalid error correction mode=${n}. Expected: ${Jz}`)}function DIe(n){if(!Zz.includes(n))throw new Error(`Encoding: invalid mode=${n}. Expected: ${Zz}`);if(n==="kanji"||n==="eci")throw new Error(`Encoding: ${n} is not supported (yet?).`)}function RIe(n){if(![0,1,2,3,4,5,6,7].includes(n)||!m7[n])throw new Error(`Invalid mask=${n}. Expected number [0..7]`)}function NIe(n,e="raw",r={}){const i=r.ecc!==void 0?r.ecc:"medium";OIe(i);const s=r.encoding!==void 0?r.encoding:TIe(n);DIe(s),r.mask!==void 0&&RIe(r.mask);let o=r.version,a,l=new Error("Unknown error");if(o!==void 0)vIe(o),a=eU(o,i,n,s,r.textEncoder);else for(let d=1;d<=40;d++)try{a=eU(d,i,n,s,r.textEncoder),o=d;break}catch(h){l=h}if(!o||!a)throw l;let c=MIe(o,i,a,r.mask);c.assertDrawn();const u=r.border===void 0?2:r.border;if(!Number.isSafeInteger(u))throw new Error(`invalid border type=${typeof u}`);if(c=c.border(u,!1),r.scale!==void 0&&(c=c.scale(r.scale)),e==="raw")return c.toRaw();if(e==="ascii")return c.toASCII();if(e==="svg")return c.toSVG(r.optimize);if(e==="gif")return c.toGIF();if(e==="term")return c.toTerm();throw new Error(`Unknown output: ${e}`)}function jIe(n,e={}){const{errorCorrection:r,version:i}=e,s=NIe(n,"raw",{border:0,ecc:r,scale:1,version:i});return{edgeLength:s.length,finderLength:7,grid:s,value:n}}function xl(n){const{arena:e,...r}=n;return g.jsxs(xl.Root,{...r,children:[g.jsx(xl.Finder,{}),g.jsx(xl.Cells,{}),e&&g.jsx(xl.Arena,{children:typeof e=="string"?g.jsx("img",{alt:"Arena",src:e,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):e})]})}(function(n){n.Context=A.createContext(null);function e(o){const{children:a,size:l="100%",value:c,version:u,errorCorrection:d,...h}=o,f=A.useMemo(()=>(A.Children.map(a,_=>!A.isValidElement(_)||typeof _.type=="string"?null:"displayName"in _.type&&_.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[a]),p=A.useMemo(()=>{let _=d;return f&&d==="low"&&(_="medium"),jIe(c,{errorCorrection:_,version:u})},[c,f,d,u]),m=1,b=p.edgeLength*m,y=p.finderLength*m/2,v=f?Math.floor(b/4):0,w=A.useMemo(()=>({arenaSize:v,cellSize:m,edgeSize:b,qrcode:p,finderSize:y}),[v,b,p,y]);return g.jsx(n.Context.Provider,{value:w,children:g.jsxs("svg",{...h,width:l,height:l,viewBox:`0 0 ${b} ${b}`,xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("title",{children:"QR Code"}),a]})})}n.Root=e,function(o){o.displayName="Root"}(e=n.Root||(n.Root={}));function r(o){const{className:a,fill:l,innerClassName:c,radius:u=.25}=o,{cellSize:d,edgeSize:h,finderSize:f}=A.useContext(n.Context);function p({position:m}){let b=f-(f-d)-d/2;m==="top-right"&&(b=h-f-(f-d)-d/2);let y=f-(f-d)-d/2;m==="bottom-left"&&(y=h-f-(f-d)-d/2);let v=f-d*1.5;m==="top-right"&&(v=h-f-d*1.5);let w=f-d*1.5;return m==="bottom-left"&&(w=h-f-d*1.5),g.jsxs(g.Fragment,{children:[g.jsx("rect",{className:a,stroke:l??"currentColor",fill:"transparent",x:b,y,width:d+(f-d)*2,height:d+(f-d)*2,rx:2*u*(f-d),ry:2*u*(f-d),strokeWidth:d}),g.jsx("rect",{className:c,fill:l??"currentColor",x:v,y:w,width:d*3,height:d*3,rx:2*u*d,ry:2*u*d})]})}return g.jsxs(g.Fragment,{children:[g.jsx(p,{position:"top-left"}),g.jsx(p,{position:"top-right"}),g.jsx(p,{position:"bottom-left"})]})}n.Finder=r,function(o){o.displayName="Finder"}(r=n.Finder||(n.Finder={}));function i(o){const{className:a,fill:l="currentColor",inset:c=!0,radius:u=1}=o,{arenaSize:d,cellSize:h,qrcode:f}=A.useContext(n.Context),{edgeLength:p,finderLength:m}=f,b=A.useMemo(()=>{let y="";for(let v=0;v<f.grid.length;v++){const w=f.grid[v];if(w)for(let _=0;_<w.length;_++){if(!w[_])continue;const S=p/2-d/2,C=S+d;if(v>=S&&v<=C&&_>=S&&_<=C)continue;const E=v<m&&_<m,T=v<m&&_>=p-m,M=v>=p-m&&_<m;if(E||T||M)continue;const I=c?h*.1:0,O=(h-I*2)/2,F=_*h+h/2,$=v*h+h/2,z=F-O,D=F+O,j=$-O,N=$+O,R=u*O;y+=[`M ${z+R},${j}`,`L ${D-R},${j}`,`A ${R},${R} 0 0,1 ${D},${j+R}`,`L ${D},${N-R}`,`A ${R},${R} 0 0,1 ${D-R},${N}`,`L ${z+R},${N}`,`A ${R},${R} 0 0,1 ${z},${N-R}`,`L ${z},${j+R}`,`A ${R},${R} 0 0,1 ${z+R},${j}`,"z"].join(" ")}}return y},[d,h,p,m,f.grid,c,u]);return g.jsx("path",{className:a,d:b,fill:l})}n.Cells=i,function(o){o.displayName="Cells"}(i=n.Cells||(n.Cells={}));function s(o){const{children:a}=o,{arenaSize:l,cellSize:c,edgeSize:u}=A.useContext(n.Context),d=Math.ceil(u/2-l/2),h=l+l%2,f=c/2;return g.jsx("foreignObject",{x:d,y:d,width:h,height:h,children:g.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:f,boxSizing:"border-box"},children:a})})}n.Arena=s,function(o){o.displayName="Arena"}(s=n.Arena||(n.Arena={}))})(xl||(xl={}));function BIe(n={}){let e,r,i,s;return o=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:a,withCapabilities:l,...c}={}){var u;try{const d=await this.getProvider(),h=a??((u=o.chains[0])==null?void 0:u.id);if(!h)throw new Hd;let{accounts:f,currentChainId:p}=await(async()=>{if(c.isReconnecting)return{accounts:(await d.request({method:"eth_accounts",params:[]})).map(v=>({address:ni(v)})),currentChainId:await this.getChainId()};const m=await d.request({method:"wallet_connect",params:[{capabilities:"capabilities"in c&&c.capabilities?c.capabilities:{},chainIds:[kt(h),...o.chains.filter(v=>v.id!==h).map(v=>kt(v.id))]}]});return{accounts:(await d.request({method:"eth_accounts"})).map(v=>m.accounts.find(w=>w.address===v)??{address:v}).map(v=>({address:ni(v.address),capabilities:v.capabilities??{}})),currentChainId:Number(m.chainIds[0])}})();if(r||(r=this.onAccountsChanged.bind(this),d.on("accountsChanged",r)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),s||(s=this.onDisconnect.bind(this),d.on("disconnect",s)),a&&p!==a){const m=await this.switchChain({chainId:a}).catch(b=>{if(b.code===An.code)throw b;return{id:p}});p=(m==null?void 0:m.id)??p}return{accounts:l?f:f.map(m=>m.address),chainId:p}}catch(d){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(d.message)?new An(d):d}},async disconnect(){const a=await this.getProvider();r&&(a.removeListener("accountsChanged",r),r=void 0),i&&(a.removeListener("chainChanged",i),i=void 0),s&&(a.removeListener("disconnect",s),s=void 0),a.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(l=>ni(l))},async getChainId(){const l=await(await this.getProvider()).request({method:"eth_chainId"});return Number(l)},async getProvider(){if(!e){const a=(()=>{var u;return typeof n.preference=="string"?{options:n.preference}:{...n.preference,options:((u=n.preference)==null?void 0:u.options)??"all"}})(),{createBaseAccountSDK:l}=await ft(async()=>{const{createBaseAccountSDK:u}=await Promise.resolve().then(()=>wft);return{createBaseAccountSDK:u}},void 0);e=l({...n,appChainIds:o.chains.map(u=>u.id),preference:a}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:l}){var d,h,f,p;const c=o.chains.find(m=>m.id===l);if(!c)throw new so(new Hd);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:kt(c.id)}]}),c}catch(m){if(m.code===4902)try{let b;a!=null&&a.blockExplorerUrls?b=a.blockExplorerUrls:b=(d=c.blockExplorers)!=null&&d.default.url?[(h=c.blockExplorers)==null?void 0:h.default.url]:[];let y;(f=a==null?void 0:a.rpcUrls)!=null&&f.length?y=a.rpcUrls:y=[((p=c.rpcUrls.default)==null?void 0:p.http[0])??""];const v={blockExplorerUrls:b,chainId:kt(l),chainName:(a==null?void 0:a.chainName)??c.name,iconUrls:a==null?void 0:a.iconUrls,nativeCurrency:(a==null?void 0:a.nativeCurrency)??c.nativeCurrency,rpcUrls:y};return await u.request({method:"wallet_addEthereumChain",params:[v]}),c}catch(b){throw new An(b)}throw new so(m)}},onAccountsChanged(a){a.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:a.map(l=>ni(l))})},onChainChanged(a){const l=Number(a);o.emitter.emit("change",{chainId:l})},async onDisconnect(a){o.emitter.emit("disconnect");const l=await this.getProvider();r&&(l.removeListener("accountsChanged",r),r=void 0),i&&(l.removeListener("chainChanged",i),i=void 0),s&&(l.removeListener("disconnect",s),s=void 0)}})}g7.type="metaMask";function g7(n={}){let e,r,i,s,o,a,l,c;return u=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:g7.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&(a||(a=this.onConnect.bind(this),d.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)))},async connect({chainId:d,isReconnecting:h,withCapabilities:f}={}){const p=await this.getProvider();l||(l=this.onDisplayUri,p.on("display_uri",l));let m=[];h&&(m=await this.getAccounts().catch(()=>[]));try{let b,y;m!=null&&m.length||(n.connectAndSign||n.connectWith?(n.connectAndSign?b=await e.connectAndSign({msg:n.connectAndSign}):n.connectWith&&(y=await e.connectWith({method:n.connectWith.method,params:n.connectWith.params})),m=await this.getAccounts()):m=(await e.connect()).map(_=>ni(_)));let v=await this.getChainId();if(d&&v!==d){const w=await this.switchChain({chainId:d}).catch(_=>{if(_.code===An.code)throw _;return{id:v}});v=(w==null?void 0:w.id)??v}return l&&(p.removeListener("display_uri",l),l=void 0),b?p.emit("connectAndSign",{accounts:m,chainId:v,signResponse:b}):y&&p.emit("connectWith",{accounts:m,chainId:v,connectWithResponse:y}),a&&(p.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c)),{accounts:f?m.map(w=>({address:w,capabilities:{}})):m,chainId:v}}catch(b){const y=b;throw y.code===An.code?new An(y):y.code===Pl.code?new Pl(y):y}},async disconnect(){const d=await this.getProvider();o&&(d.removeListener("chainChanged",o),o=void 0),c&&(d.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a)),await e.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(f=>ni(f))},async getChainId(){const d=await this.getProvider(),h=d.getChainId()||await(d==null?void 0:d.request({method:"eth_chainId"}));return Number(h)},async getProvider(){async function d(){var b,y,v,w,_;const h=await(async()=>{const{default:x}=await ft(async()=>{const{default:S}=await import("./connectors-BkiAkXrA.js");return{default:S}},[]);return typeof x!="function"&&typeof x.default=="function"?x.default:x})(),f={};for(const x of u.chains)f[kt(x.id)]=(b=Pue({chain:x,transports:u.transports}))==null?void 0:b[0];e=new h({...n,_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,readonlyRPCMap:f,dappMetadata:{...n.dappMetadata,name:(y=n.dappMetadata)!=null&&y.name?(v=n.dappMetadata)==null?void 0:v.name:"wagmi",url:(w=n.dappMetadata)!=null&&w.url?(_=n.dappMetadata)==null?void 0:_.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:!0});const p=await e.init(),m=p!=null&&p.activeProvider?p.activeProvider:e.getProvider();if(!m)throw new Qs;return m}return r||(i||(i=d()),r=await i),r},async isAuthorized(){try{return!!(await r0(()=>mC(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var y,v;const f=await this.getProvider(),p=u.chains.find(w=>w.id===h);if(!p)throw new so(new Hd);try{return await f.request({method:"wallet_switchEthereumChain",params:[{chainId:kt(h)}]}),await m(),await b(h),p}catch(w){const _=w;if(_.code===An.code)throw new An(_);if(_.code===4902||((v=(y=_==null?void 0:_.data)==null?void 0:y.originalError)==null?void 0:v.code)===4902)try{return await f.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:x,...S}=p.blockExplorers??{};if(d!=null&&d.blockExplorerUrls)return d.blockExplorerUrls;if(x)return[x.url,...Object.values(S).map(C=>C.url)]})(),chainId:kt(h),chainName:(d==null?void 0:d.chainName)??p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??p.nativeCurrency,rpcUrls:(()=>{var x,S;return(x=d==null?void 0:d.rpcUrls)!=null&&x.length?d.rpcUrls:[((S=p.rpcUrls.default)==null?void 0:S.http[0])??""]})()}]}),await m(),await b(h),p}catch(x){const S=x;throw S.code===An.code?new An(S):new so(S)}throw new so(_)}async function m(){await r0(async()=>{const w=jl(await f.request({method:"eth_chainId"}));if(w!==h)throw new Error("User rejected switch after adding network.");return w},{delay:50,retryCount:20})}async function b(w){await new Promise(_=>{const x=S=>{"chainId"in S&&S.chainId===w&&(u.emitter.off("change",x),_())};u.emitter.on("change",x),u.emitter.emit("change",{chainId:w})})}},async onAccountsChanged(d){if(d.length===0)if(e.isExtensionActive())this.onDisconnect();else return;else if(u.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h})}else u.emitter.emit("change",{accounts:d.map(h=>ni(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},async onConnect(d){const h=await this.getAccounts();if(h.length===0)return;const f=Number(d.chainId);u.emitter.emit("connect",{accounts:h,chainId:f});const p=await this.getProvider();a&&(p.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c))},async onDisconnect(d){const h=await this.getProvider();d&&d.code===1013&&h&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),o&&(h.removeListener("chainChanged",o),o=void 0),c&&(h.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a)))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})}})}b7.type="safe";function b7(n={}){const{shimDisconnect:e=!1}=n;let r,i;return s=>({id:"safe",name:"Safe",type:b7.type,async connect({withCapabilities:o}={}){var u;const a=await this.getProvider();if(!a)throw new Qs;const l=await this.getAccounts(),c=await this.getChainId();return i||(i=this.onDisconnect.bind(this),a.on("disconnect",i)),e&&await((u=s.storage)==null?void 0:u.removeItem("safe.disconnected")),{accounts:o?l.map(d=>({address:d,capabilities:{}})):l,chainId:c}},async disconnect(){var a;const o=await this.getProvider();if(!o)throw new Qs;i&&(o.removeListener("disconnect",i),i=void 0),e&&await((a=s.storage)==null?void 0:a.setItem("safe.disconnected",!0))},async getAccounts(){const o=await this.getProvider();if(!o)throw new Qs;return(await o.request({method:"eth_accounts"})).map(ni)},async getProvider(){if(typeof window<"u"&&(window==null?void 0:window.parent)!==window){if(!r){const{default:a}=await ft(async()=>{const{default:d}=await import("./connectors-mXb62Iam.js");return{default:d}},[]),l=new a(n),c=await mC(()=>l.safe.getInfo(),{timeout:n.unstable_getInfoTimeout??10});if(!c)throw new Error("Could not load Safe information");const u=await(async()=>{const d=await ft(()=>import("./connectors-DAWtxdNk.js"),[]);return typeof d.SafeAppProvider!="function"&&typeof d.default.SafeAppProvider=="function"?d.default.SafeAppProvider:d.SafeAppProvider})();r=new u(c,l)}return r}},async getChainId(){const o=await this.getProvider();if(!o)throw new Qs;return Number(o.chainId)},async isAuthorized(){var o;try{return e&&await((o=s.storage)==null?void 0:o.getItem("safe.disconnected"))?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){s.emitter.emit("disconnect")}})}y7.type="walletConnect";function y7(n){const e=n.isNewChainsStale??!0;let r,i;const s="eip155";let o,a,l,c,u,d;return h=>({id:"walletConnect",name:"WalletConnect",type:y7.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(l||(l=this.onConnect.bind(this),f.on("connect",l)),u||(u=this.onSessionDelete.bind(this),f.on("session_delete",u)))},async connect({chainId:f,withCapabilities:p,...m}={}){var b,y;try{const v=await this.getProvider();if(!v)throw new Qs;c||(c=this.onDisplayUri,v.on("display_uri",c));let w=f;if(!w){const C=await((b=h.storage)==null?void 0:b.getItem("state"))??{};h.chains.some(T=>T.id===C.chainId)?w=C.chainId:w=(y=h.chains[0])==null?void 0:y.id}if(!w)throw new Error("No chains found on connector.");const _=await this.isChainsStale();if(v.session&&_&&await v.disconnect(),!v.session||_){const C=h.chains.filter(E=>E.id!==w).map(E=>E.id);await v.connect({optionalChains:[w,...C],..."pairingTopic"in m?{pairingTopic:m.pairingTopic}:{}}),this.setRequestedChainsIds(h.chains.map(E=>E.id))}const x=(await v.enable()).map(C=>ni(C));let S=await this.getChainId();if(f&&S!==f){const C=await this.switchChain({chainId:f}).catch(E=>{var T;if(E.code===An.code&&((T=E.cause)==null?void 0:T.message)!=="Missing or invalid. request() method: wallet_addEthereumChain")throw E;return{id:S}});S=(C==null?void 0:C.id)??S}return c&&(v.removeListener("display_uri",c),c=void 0),l&&(v.removeListener("connect",l),l=void 0),o||(o=this.onAccountsChanged.bind(this),v.on("accountsChanged",o)),a||(a=this.onChainChanged.bind(this),v.on("chainChanged",a)),d||(d=this.onDisconnect.bind(this),v.on("disconnect",d)),u||(u=this.onSessionDelete.bind(this),v.on("session_delete",u)),{accounts:p?x.map(C=>({address:C,capabilities:{}})):x,chainId:S}}catch(v){throw/(user rejected|connection request reset)/i.test(v==null?void 0:v.message)?new An(v):v}},async disconnect(){const f=await this.getProvider();try{await(f==null?void 0:f.disconnect())}catch(p){if(!/No matching key/i.test(p.message))throw p}finally{a&&(f==null||f.removeListener("chainChanged",a),a=void 0),d&&(f==null||f.removeListener("disconnect",d),d=void 0),l||(l=this.onConnect.bind(this),f==null||f.on("connect",l)),o&&(f==null||f.removeListener("accountsChanged",o),o=void 0),u&&(f==null||f.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(p=>ni(p))},async getProvider({chainId:f}={}){var m;async function p(){const b=h.chains.map(v=>v.id);if(!b.length)return;const{EthereumProvider:y}=await ft(async()=>{const{EthereumProvider:v}=await Promise.resolve().then(()=>xft);return{EthereumProvider:v}},void 0);return await y.init({...n,disableProviderPing:!0,optionalChains:b,projectId:n.projectId,rpcMap:Object.fromEntries(h.chains.map(v=>{const[w]=Pue({chain:v,transports:h.transports});return[v.id,w]})),showQrModal:n.showQrModal??!0})}return r||(i||(i=p()),r=await i,r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY)),f&&await((m=this.switchChain)==null?void 0:m.call(this,{chainId:f})),r},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[f,p]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&p.session?(await p.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:p}){var y,v,w;const m=await this.getProvider();if(!m)throw new Qs;const b=h.chains.find(_=>_.id===p);if(!b)throw new so(new Hd);try{await Promise.all([new Promise(x=>{const S=({chainId:C})=>{C===p&&(h.emitter.off("change",S),x())};h.emitter.on("change",S)}),m.request({method:"wallet_switchEthereumChain",params:[{chainId:kt(p)}]})]);const _=await this.getRequestedChainsIds();return this.setRequestedChainsIds([..._,p]),b}catch(_){const x=_;if(/(user rejected)/i.test(x.message))throw new An(x);try{let S;f!=null&&f.blockExplorerUrls?S=f.blockExplorerUrls:S=(y=b.blockExplorers)!=null&&y.default.url?[(v=b.blockExplorers)==null?void 0:v.default.url]:[];let C;(w=f==null?void 0:f.rpcUrls)!=null&&w.length?C=f.rpcUrls:C=[...b.rpcUrls.default.http];const E={blockExplorerUrls:S,chainId:kt(p),chainName:(f==null?void 0:f.chainName)??b.name,iconUrls:f==null?void 0:f.iconUrls,nativeCurrency:(f==null?void 0:f.nativeCurrency)??b.nativeCurrency,rpcUrls:C};await m.request({method:"wallet_addEthereumChain",params:[E]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,p]),b}catch(S){throw new An(S)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():h.emitter.emit("change",{accounts:f.map(p=>ni(p))})},onChainChanged(f){const p=Number(f);h.emitter.emit("change",{chainId:p})},async onConnect(f){const p=Number(f.chainId),m=await this.getAccounts();h.emitter.emit("connect",{accounts:m,chainId:p})},async onDisconnect(f){this.setRequestedChainsIds([]),h.emitter.emit("disconnect");const p=await this.getProvider();o&&(p.removeListener("accountsChanged",o),o=void 0),a&&(p.removeListener("chainChanged",a),a=void 0),d&&(p.removeListener("disconnect",d),d=void 0),u&&(p.removeListener("session_delete",u),u=void 0),l||(l=this.onConnect.bind(this),p.on("connect",l))},onDisplayUri(f){h.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var p,m,b;return r?((b=(m=(p=r.session)==null?void 0:p.namespaces[s])==null?void 0:m.accounts)==null?void 0:b.map(y=>Number.parseInt(y.split(":")[1]||"",10)))??[]:[]},async getRequestedChainsIds(){var f;return await((f=h.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!e)return!1;const f=h.chains.map(b=>b.id),p=this.getNamespaceChainsIds();if(p.length&&!p.some(b=>f.includes(b)))return!1;const m=await this.getRequestedChainsIds();return!f.every(b=>m.includes(b))},async setRequestedChainsIds(f){var p;await((p=h.storage)==null?void 0:p.setItem(this.requestedChainsStorageKey,f))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var Ck={},LIe=768;WTe({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}});var FIe=zue({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),IR=KTe({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),rU={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},$Ie={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},zIe="_12cbo8i3 ju367v8r",UIe={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function Ci({active:n,hover:e}){return[zIe,e&&UIe[e],$Ie[n]]}var xde=A.createContext(null);function WIe(){const{adapter:n}=A.useContext(xde)??{};if(!n)throw new Error("No authentication adapter found");return n}function CC(){const n=A.useContext(xde);return(n==null?void 0:n.status)??null}function _de(){const n=CC(),{isConnected:e}=ki();return e?n&&(n==="loading"||n==="unauthenticated")?n:"connected":"disconnected"}function Sde(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function qIe(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function HIe(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function dx(){return qIe()||HIe()}function Hr(){return Sde()||dx()}var VIe="iekbcc0",GIe={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},YIe=({reset:n,...e})=>{if(!n)return IR(e);const r=GIe[n],i=IR(e);return Wue(VIe,r,i)},fe=B.forwardRef(({as:n="div",className:e,testId:r,...i},s)=>{const o={},a={};for(const c in i)IR.properties.has(c)?o[c]=i[c]:a[c]=i[c];const l=YIe({reset:typeof n=="string"?n:"div",...o});return B.createElement(n,{className:Wue(l,e),...a,"data-testid":r?`rk-${r.replace(/^rk-/,"")}`:void 0,ref:s})});fe.displayName="Box";var kde=new Map,g5=new Map;async function Cde(n){const e=g5.get(n);if(e)return e;const r=async()=>n().then(async s=>(kde.set(n,s),s)),i=r().catch(s=>r().catch(o=>{g5.delete(n)}));return g5.set(n,i),i}async function Fl(...n){return await Promise.all(n.map(e=>typeof e=="function"?Cde(e):e))}function KIe(){const[,n]=A.useReducer(e=>e+1,0);return n}function EC(n){const e=typeof n=="function"?kde.get(n):void 0,r=KIe();return A.useEffect(()=>{typeof n=="function"&&!e&&Cde(n).then(r)},[n,e,r]),typeof n=="function"?e:n}function _i({alt:n,background:e,borderColor:r,borderRadius:i,useAsImage:s,boxShadow:o,height:a,src:l,width:c,testId:u}){const d=dx(),h=EC(l),f=h&&/^http/.test(h),[p,m]=A.useReducer(()=>!0,!1);return B.createElement(fe,{"aria-label":n,borderRadius:i,boxShadow:o,height:typeof a=="string"?a:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:e,height:typeof a=="number"?a:void 0,width:typeof c=="number"?c:void 0},width:typeof c=="string"?c:void 0,testId:u},B.createElement(fe,{...f?{"aria-hidden":!0,as:"img",onLoad:m,src:h}:{"aria-hidden":!0,as:"img",src:h},height:"full",position:"absolute",...d?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!s&&f?{opacity:p?1:0}:{}},width:"full"}),r?B.createElement(fe,{...typeof r=="object"&&"custom"in r?{style:{borderColor:r.custom}}:{borderColor:r},borderRadius:i,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var XIe="_1luule42",QIe="_1luule43",JIe=n=>A.useMemo(()=>`${n}_${Math.round(Math.random()*1e9)}`,[n]),iw=({height:n=21,width:e=21})=>{const r=JIe("spinner");return B.createElement("svg",{className:XIe,fill:"none",height:n,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Loading"),B.createElement("clipPath",{id:r},B.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),B.createElement("foreignObject",{clipPath:`url(#${r})`,height:"21",width:"21",x:"0",y:"0"},B.createElement("div",{className:QIe})))},un=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],iU=[{color:un[0],emoji:""},{color:un[1],emoji:""},{color:un[2],emoji:""},{color:un[3],emoji:""},{color:un[4],emoji:""},{color:un[0],emoji:""},{color:un[5],emoji:""},{color:un[6],emoji:""},{color:un[7],emoji:""},{color:un[8],emoji:""},{color:un[9],emoji:""},{color:un[10],emoji:""},{color:un[11],emoji:""},{color:un[12],emoji:""},{color:un[13],emoji:""},{color:un[8],emoji:""},{color:un[14],emoji:""},{color:un[0],emoji:""},{color:un[8],emoji:""},{color:un[1],emoji:""},{color:un[15],emoji:""},{color:un[16],emoji:""},{color:un[17],emoji:""},{color:un[18],emoji:""},{color:un[19],emoji:""},{color:un[1],emoji:""},{color:un[20],emoji:""},{color:un[15],emoji:""},{color:un[0],emoji:""},{color:un[17],emoji:""},{color:un[4],emoji:""},{color:un[21],emoji:""},{color:un[17],emoji:""},{color:un[8],emoji:""},{color:un[22],emoji:""}];function ZIe(n){let e=0;if(n.length===0)return e;for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);e=(e<<5)-e+i,e|=0}return e}function eMe(n){const r=Math.abs(ZIe((typeof n=="string"?n:"").toLowerCase())%iU.length);return iU[r??0]}var tMe=({address:n,ensImage:e,size:r})=>{const[i,s]=A.useState(!1);A.useEffect(()=>{if(e){const l=new Image;l.src=e,l.onload=()=>s(!0)}},[e]);const{color:o,emoji:a}=A.useMemo(()=>eMe(n),[n]);return e?i?B.createElement(fe,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:r,width:r}}):B.createElement(fe,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:r,width:r}},B.createElement(iw,null)):B.createElement(fe,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:o},height:r,width:r}},a)},Ede=tMe,Ade=A.createContext(Ede);function nMe({address:n,imageUrl:e,loading:r,size:i}){const s=A.useContext(Ade);return B.createElement(fe,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${i}px`,width:`${i}px`},userSelect:"none"},B.createElement(fe,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(i*.55)}px`,height:`${i}px`,transform:r?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:r?void 0:".1s",width:`${i}px`,willChange:"transform"},userSelect:"none"},B.createElement(s,{address:n,ensImage:e,size:i})),r&&B.createElement(fe,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},B.createElement(iw,{height:"100%",width:"100%"})))}var sU={defaultLocale:"en",locale:"en"},rMe=class{constructor(n){this.listeners=new Set,this.defaultLocale=sU.defaultLocale,this.enableFallback=!1,this.locale=sU.locale,this.cachedLocales=[],this.translations={};for(const[e,r]of Object.entries(n))this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(r,e)}}missingMessage(n){return`[missing: "${this.locale}.${n}" translation]`}flattenTranslation(n,e){const r={},i=(s,o)=>{for(const a of Object.keys(s)){const l=`${o}.${a}`,c=s[a];typeof c=="object"&&c!==null?i(c,l):r[l]=c}};return i(n,e),r}translateWithReplacements(n,e={}){let r=n;for(const i in e){const s=e[i];r=r.replace(`%{${i}}`,s)}return r}t(n,e,r){const i=`${this.locale}.${n}`,s=this.translations[i];if(!s){if(this.enableFallback){const o=`${this.defaultLocale}.${n}`,a=this.translations[o];if(a)return this.translateWithReplacements(a,e)}return r!=null&&r.rawKeyIfTranslationMissing?n:this.missingMessage(n)}return this.translateWithReplacements(s,e)}isLocaleCached(n){return this.cachedLocales.includes(n)}updateLocale(n){this.locale=n,this.notifyListeners()}setTranslations(n,e){this.isLocaleCached(n)||(this.cachedLocales=[...this.cachedLocales,n],this.translations={...this.translations,...this.flattenTranslation(e,n)}),this.locale=n,this.notifyListeners()}notifyListeners(){for(const n of this.listeners)n()}onChange(n){return this.listeners.add(n),()=>{this.listeners.delete(n)}}},Vo=new rMe({en:JSON.parse(_R),"en-US":JSON.parse(_R)});Vo.defaultLocale="en-US";Vo.locale="en-US";Vo.enableFallback=!0;var iMe=async n=>{switch(n){case"ar":case"ar-AR":return(await ft(async()=>{const{default:e}=await import("./ar_AR-44JUQ6EW-BMX-am0v.js");return{default:e}},[])).default;case"de":case"de-DE":return(await ft(async()=>{const{default:e}=await import("./de_DE-PYAO5YD6-BWlqPWgO.js");return{default:e}},[])).default;case"en":case"en-US":return(await ft(async()=>{const{default:e}=await Promise.resolve().then(()=>Jie);return{default:e}},void 0)).default;case"es":case"es-419":return(await ft(async()=>{const{default:e}=await import("./es_419-HRGOJ6VT-D-qzxUM-.js");return{default:e}},[])).default;case"fr":case"fr-FR":return(await ft(async()=>{const{default:e}=await import("./fr_FR-IGGVC6RM-D8LpUM75.js");return{default:e}},[])).default;case"hi":case"hi-IN":return(await ft(async()=>{const{default:e}=await import("./hi_IN-XSKAA3MF-C3QUpWyP.js");return{default:e}},[])).default;case"id":case"id-ID":return(await ft(async()=>{const{default:e}=await import("./id_ID-KUOB4UAL-K9y-nRWm.js");return{default:e}},[])).default;case"ja":case"ja-JP":return(await ft(async()=>{const{default:e}=await import("./ja_JP-4WRQ63RX-Ct5pF4ug.js");return{default:e}},[])).default;case"ko":case"ko-KR":return(await ft(async()=>{const{default:e}=await import("./ko_KR-I2K7AIEP-B5gw8Mwb.js");return{default:e}},[])).default;case"ms":case"ms-MY":return(await ft(async()=>{const{default:e}=await import("./ms_MY-6VZW6Q3Z-BtFD07hR.js");return{default:e}},[])).default;case"pt":case"pt-BR":return(await ft(async()=>{const{default:e}=await import("./pt_BR-N3XOZ4SV-CvVpfsHb.js");return{default:e}},[])).default;case"ru":case"ru-RU":return(await ft(async()=>{const{default:e}=await import("./ru_RU-IITAPRET-DOj6Jzj7.js");return{default:e}},[])).default;case"th":case"th-TH":return(await ft(async()=>{const{default:e}=await import("./th_TH-3ZQCKCQE-BcHUN2Q4.js");return{default:e}},[])).default;case"tr":case"tr-TR":return(await ft(async()=>{const{default:e}=await import("./tr_TR-QUPUGMUF-CwpF6ZFn.js");return{default:e}},[])).default;case"ua":case"uk-UA":return(await ft(async()=>{const{default:e}=await import("./uk_UA-SSN6SV5E-IlYYyRC6.js");return{default:e}},[])).default;case"vi":case"vi-VN":return(await ft(async()=>{const{default:e}=await import("./vi_VN-7BUVRNYY-CZ9S75qZ.js");return{default:e}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await ft(async()=>{const{default:e}=await import("./zh_CN-HJBN674C-Baf0GEeT.js");return{default:e}},[])).default;case"zh-HK":return(await ft(async()=>{const{default:e}=await import("./zh_HK-JW3WLRKE-VztJKXL5.js");return{default:e}},[])).default;case"zh-Hant":case"zh-TW":return(await ft(async()=>{const{default:e}=await import("./zh_TW-VNNRNXY7-aWfg7Qp4.js");return{default:e}},[])).default;default:return(await ft(async()=>{const{default:e}=await Promise.resolve().then(()=>Jie);return{default:e}},void 0)).default}};async function oU(n){if(Vo.isLocaleCached(n)){Vo.updateLocale(n);return}const r=await iMe(n);Vo.setTranslations(n,JSON.parse(r))}var sMe=()=>{var n;if(typeof window<"u"&&typeof navigator<"u"){if((n=navigator.languages)!=null&&n.length)return navigator.languages[0];if(navigator.language)return navigator.language}},Yr=A.createContext({i18n:Vo}),oMe=({children:n,locale:e})=>{const[r,i]=A.useState(0),s=A.useMemo(()=>sMe(),[]);A.useEffect(()=>Vo.onChange(()=>{i(l=>l+1)}),[]),A.useEffect(()=>{e&&e!==Vo.locale?oU(e):!e&&s&&s!==Vo.locale&&oU(s)},[e,s]);const o=A.useMemo(()=>({t:(l,c)=>Vo.t(l,c),i18n:Vo}),[r]);return B.createElement(Yr.Provider,{value:o},n)};function Tde(n){return n!=null}var aU={iconBackground:"#7290CC",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:n}},[])).default},b5={iconBackground:"#96bedc",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:n}},[])).default},lU={iconBackground:"#e84141",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:n}},[])).default},y5={iconBackground:"#0052ff",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:n}},[])).default},v5={iconBackground:"#814625",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:n}},[])).default},cU={iconBackground:"#000000",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:n}},[])).default},uU={iconBackground:"#ebac0e",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:n}},[])).default},dU={iconBackground:"#FCFF52",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:n}},[])).default},hU={iconBackground:"#002D74",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:n}},[])).default},aMe={iconBackground:"#A36EFD",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:n}},[])).default},Ou={iconBackground:"#484c50",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:n}},[])).default},fU={iconBackground:"transparent",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:n}},[])).default},lMe={iconBackground:"#04795c",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:n}},[])).default},pU={iconBackground:"#000000",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:n}},[])).default},cMe={iconBackground:"#f9f7ec",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:n}},[])).default},uMe={iconBackground:"#000000",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:n}},[])).default},mU={iconBackground:"#7132F5",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:n}},[])).default},gU={iconBackground:"transparent",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:n}},[])).default},w5={iconBackground:"#ffffff",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:n}},[])).default},x5={iconBackground:"#ffffff",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:n}},[])).default},bU={iconBackground:"#000000",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:n}},[])).default},dMe={iconBackground:"transparent",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./monad-4KWC6TSS-DVXSkpiz.js");return{default:n}},[])).default},H1={iconBackground:"#ff5a57",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:n}},[])).default},_5={iconBackground:"#9f71ec",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:n}},[])).default},hMe={iconBackground:"#1273EA",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:n}},[])).default},fMe={iconBackground:"#000000",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:n}},[])).default},pMe={iconBackground:"#000000",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:n}},[])).default},yU={iconBackground:"#FFEEDA",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:n}},[])).default},vU={iconBackground:"#F50DB4",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:n}},[])).default},wU={iconBackground:"#f9f7ec",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:n}},[])).default},xU={iconBackground:"#000000",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:n}},[])).default},_U={iconBackground:"#f9f7ec",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:n}},[])).default},S5={iconBackground:"#000000",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:n}},[])).default},mMe={apechain:{chainId:33139,name:"ApeChain",...aU},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...aU},arbitrum:{chainId:42161,name:"Arbitrum",...b5},arbitrumGoerli:{chainId:421613,...b5},arbitrumSepolia:{chainId:421614,...b5},avalanche:{chainId:43114,...lU},avalancheFuji:{chainId:43113,...lU},base:{chainId:8453,name:"Base",...y5},baseGoerli:{chainId:84531,...y5},baseSepolia:{chainId:84532,...y5},berachain:{chainId:80094,name:"Berachain",...v5},berachainArtio:{chainId:80085,name:"Berachain Artio",...v5},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...v5},blast:{chainId:81457,name:"Blast",...cU},blastSepolia:{chainId:168587773,...cU},bsc:{chainId:56,name:"BSC",...uU},bscTestnet:{chainId:97,...uU},celo:{chainId:42220,name:"Celo",...dU},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...dU},cronos:{chainId:25,...hU},cronosTestnet:{chainId:338,...hU},degen:{chainId:666666666,name:"Degen",...aMe},flow:{chainId:747,...fU},flowTestnet:{chainId:545,...fU},gnosis:{chainId:100,name:"Gnosis",...lMe},goerli:{chainId:5,...Ou},gravity:{chainId:1625,name:"Gravity",...pU},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...pU},hardhat:{chainId:31337,...cMe},holesky:{chainId:17e3,...Ou},hyperevm:{chainId:999,...uMe},ink:{chainId:57073,...mU},inkSepolia:{chainId:763373,...mU},kaia:{chainId:8217,name:"Kaia",...gU},kairos:{chainId:1001,name:"Kairos",...gU},kovan:{chainId:42,...Ou},linea:{chainId:59144,name:"Linea",...w5},lineaGoerli:{chainId:59140,name:"Linea Goerli",...w5},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...w5},localhost:{chainId:1337,...Ou},mainnet:{chainId:1,name:"Ethereum",...Ou},manta:{chainId:169,name:"Manta",...x5},mantaSepolia:{chainId:3441006,...x5},mantaTestnet:{chainId:3441005,...x5},mantle:{chainId:5e3,...bU},mantleTestnet:{chainId:5001,...bU},monadTestnet:{chainId:10143,name:"Monad Testnet",...dMe},optimism:{chainId:10,name:"Optimism",...H1},optimismGoerli:{chainId:420,...H1},optimismKovan:{chainId:69,...H1},optimismSepolia:{chainId:11155420,...H1},polygon:{chainId:137,name:"Polygon",..._5},polygonAmoy:{chainId:80002,..._5},polygonMumbai:{chainId:80001,..._5},rinkeby:{chainId:4,...Ou},ronin:{chainId:2020,...hMe},ropsten:{chainId:3,...Ou},sanko:{chainId:1996,name:"Sanko",...fMe},scroll:{chainId:534352,...yU},scrollSepolia:{chainId:534351,...yU},sepolia:{chainId:11155111,...Ou},superposition:{chainId:55244,name:"Superposition",...pMe},unichain:{chainId:130,...vU},unichainSepolia:{chainId:1301,...vU},xdc:{chainId:50,name:"XDC",...wU},xdcTestnet:{chainId:51,...wU},zetachain:{chainId:7e3,name:"ZetaChain",...xU},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...xU},zkSync:{chainId:324,name:"zkSync",..._U},zkSyncTestnet:{chainId:280,..._U},zora:{chainId:7777777,name:"Zora",...S5},zoraSepolia:{chainId:999999999,...S5},zoraTestnet:{chainId:999,...S5}},gMe=Object.fromEntries(Object.values(mMe).filter(Tde).map(({chainId:n,...e})=>[n,e])),bMe=n=>n.map(e=>{const r=gMe[e.id]??{};return{...e,name:r.name??e.name,iconUrl:e.iconUrl??r.iconUrl,iconBackground:e.iconBackground??r.iconBackground}}),v7=A.createContext({chains:[]});function yMe({children:n,initialChain:e}){const{chains:r}=Gr();return B.createElement(v7.Provider,{value:A.useMemo(()=>({chains:bMe(r),initialChainId:typeof e=="number"?e:e==null?void 0:e.id}),[r,e])},n)}var G0=()=>A.useContext(v7).chains,vMe=()=>A.useContext(v7).initialChainId,wMe=()=>{const n=G0();return A.useMemo(()=>{const e={};for(const r of n)e[r.id]=r;return e},[n])},Pde=A.createContext({showBalance:void 0,setShowBalance:()=>{}});function xMe({children:n}){const[e,r]=A.useState();return B.createElement(Pde.Provider,{value:{showBalance:e,setShowBalance:r}},n)}var _Me=()=>A.useContext(Pde);function SMe(){const[n,e]=A.useState(!1);return A.useEffect(()=>(e(!0),()=>{e(!1)}),[]),A.useCallback(()=>n,[n])}function Ide(){const n=G0(),e=Jm.id;return n.some(i=>i.id===e)}function kMe(n){const e=Ide(),r=s=>{try{return DPe(s)}catch{}},{data:i}=RTe({chainId:Jm.id,name:n?r(n):void 0,query:{enabled:e}});return i}async function gh(n,e){if(e={headers:{},method:"get",...e,timeout:e.timeout??1e4},!n)throw new Error("rainbowFetch: Missing url argument");const r=new AbortController,i=setTimeout(()=>r.abort(),e.timeout),{body:s,params:o,headers:a,...l}=e,c=s&&typeof s=="object"?JSON.stringify(e.body):e.body,u=await fetch(`${n}${EMe(o)}`,{...l,body:c,headers:{Accept:"application/json","Content-Type":"application/json",...a},signal:r.signal});clearTimeout(i);const d=await CMe(u);if(u.ok){const{headers:p,status:m}=u;return{data:d,headers:p,status:m}}throw AMe({requestBody:s,response:u,responseBody:typeof d=="string"?{error:d}:d})}function CMe(n){const e=n.headers.get("Content-Type");return e!=null&&e.startsWith("application/json")?n.json():n.text()}function EMe(n){return n&&Object.keys(n).length?`?${new URLSearchParams(n)}`:""}function AMe({requestBody:n,response:e,responseBody:r}){const i=(r==null?void 0:r.error)||(e==null?void 0:e.statusText)||"There was an error with the request.",s=new Error(i);return s.response=e,s.responseBody=r,s.requestBody=n,s}var TMe=class{constructor(n={}){const{baseUrl:e="",...r}=n;this.baseUrl=e,this.opts=r}get(n,e){return gh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"get"})}delete(n,e){return gh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"delete"})}head(n,e){return gh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"head"})}options(n,e){return gh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"options"})}post(n,e,r){return gh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"post"})}put(n,e,r){return gh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"put"})}patch(n,e,r){return gh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"patch"})}};function PMe({baseUrl:n,headers:e,params:r,timeout:i}){return new TMe({baseUrl:n,headers:e,params:r,timeout:i})}var IMe=!!(typeof process<"u"&&typeof Ck<"u"&&Ck.RAINBOW_PROVIDER_API_KEY),MMe=PMe({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof process<"u"&&typeof Ck<"u"&&Ck.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function OMe(n,e,r={}){return[n,e,r]}function hS(n){return`rk-ens-name-${n}`}function DMe(n){try{const e=n?JSON.parse(n):null;return typeof e=="object"?e:null}catch{return null}}function RMe(n,e){if(!ho(n))return;const r=new Date,i=new Date(r.getTime()+180*6e4);localStorage.setItem(hS(n),JSON.stringify({ensName:e,expires:i.getTime()}))}function NMe(n){const e=DMe(localStorage.getItem(hS(n)));if(!e)return null;const{ensName:r,expires:i}=e;return typeof r!="string"||Number.isNaN(Number(i))||new Date().getTime()>Number(i)?(localStorage.removeItem(hS(n)),null):r}async function jMe({address:n}){const e=NMe(n);if(e)return e;const i=(await MMe.get("/v1/resolve-ens",{params:{address:n}})).data.data;return i&&RMe(n,i),i}function BMe(n){const e=Ide(),{data:r}=NTe({chainId:Jm.id,address:n,query:{enabled:e}}),{data:i}=jae({queryKey:OMe("address",n),queryFn:()=>jMe({address:n}),enabled:!e&&!!n&&IMe,staleTime:10*(60*1e3),retry:1});return r||i}function Mde({address:n,includeBalance:e}){const r=BMe(n),i=kMe(r),{data:s}=Mue({address:e?n:void 0});return{ensName:r,ensAvatar:i,balance:s}}function w7(){const{chain:n}=ki();return(n==null?void 0:n.id)??null}var Ode="rk-transactions";function LMe(n){try{const e=n?JSON.parse(n):{};return typeof e=="object"?e:{}}catch{return{}}}function SU(){return LMe(typeof localStorage<"u"?localStorage.getItem(Ode):null)}var FMe=/^0x([A-Fa-f0-9]{64})$/;function $Me(n){const e=[];return FMe.test(n.hash)||e.push("Invalid transaction hash"),typeof n.description!="string"&&e.push("Transaction must have a description"),typeof n.confirmations<"u"&&(!Number.isInteger(n.confirmations)||n.confirmations<1)&&e.push("Transaction confirmations must be a positiver integer"),e}function zMe({provider:n}){let e=SU(),r=n;const i=new Set,s=new Set,o=new Map;function a(w){r=w}function l(w,_){var x;return((x=e[w])==null?void 0:x[_])??[]}function c(w,_,x){const S=$Me(x);if(S.length>0)throw new Error(["Unable to add transaction",...S].join(`
`));f(w,_,C=>[{...x,status:"pending"},...C.filter(({hash:E})=>E!==x.hash)])}function u(w,_){f(w,_,()=>[])}function d(w,_,x,S){f(w,_,C=>C.map(E=>E.hash===x?{...E,status:S}:E))}async function h(w,_){await Promise.all(l(w,_).filter(x=>x.status==="pending").map(async x=>{const{confirmations:S,hash:C}=x,E=o.get(C);if(E)return await E;const T=r.waitForTransactionReceipt({confirmations:S,hash:C,timeout:3e5}).then(({status:M})=>{o.delete(C),M!==void 0&&(d(w,_,C,M===0||M==="reverted"?"failed":"confirmed"),b(M))}).catch(()=>{d(w,_,C,"failed")});return o.set(C,T),await T}))}function f(w,_,x){e=SU(),e[w]=e[w]??{};let S=0;const C=10,E=x(e[w][_]??[]).filter(({status:T})=>T==="pending"?!0:S++<=C);e[w][_]=E.length>0?E:void 0,p(),m(),h(w,_)}function p(){localStorage.setItem(Ode,JSON.stringify(e))}function m(){for(const w of i)w()}function b(w){for(const _ of s)_(w)}function y(w){return i.add(w),()=>{i.delete(w)}}function v(w){return s.add(w),()=>{s.delete(w)}}return{addTransaction:c,clearTransactions:u,getTransactions:l,onTransactionStatus:v,onChange:y,setProvider:a,waitForPendingTransactions:h}}var kU,Dde=B.createContext(null);function UMe({children:n}){const e=jTe(),{address:r}=ki(),i=w7(),{refetch:s}=Mue({address:r,query:{enabled:!1}}),[o]=B.useState(()=>kU??(kU=zMe({provider:e}))),a=B.useCallback(l=>{l==="success"&&s()},[s]);return B.useEffect(()=>{o.setProvider(e)},[o,e]),B.useEffect(()=>{r&&i&&o.waitForPendingTransactions(r,i)},[o,r,i]),B.useEffect(()=>{if(o&&r&&i)return o.onTransactionStatus(a)},[o,r,i,a]),B.createElement(Dde.Provider,{value:o},n)}function Rde(){const n=B.useContext(Dde);if(!n)throw new Error("Transaction hooks must be used within RainbowKitProvider");return n}function Nde(){const n=Rde(),{address:e}=ki(),r=w7(),[i,s]=A.useState(()=>n&&e&&r?n.getTransactions(e,r):[]);return A.useEffect(()=>{if(n&&e&&r)return s(n.getTransactions(e,r)),n.onChange(()=>{s(n.getTransactions(e,r))})},[n,e,r]),i}var CU=n=>typeof n=="function"?n():n;function WMe(n,{extends:e}={}){const r={...Gz(rU,CU(n))};if(!e)return r;const i=Gz(rU,CU(e));return Object.fromEntries(Object.entries(r).filter(([o,a])=>a!==i[o]))}function EU(n,e={}){return Object.entries(WMe(n,e)).map(([r,i])=>`${r}:${i.replace(/[:;{}</>]/g,"")};`).join("")}var jde={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},hx=A.createContext(jde),Bde=A.createContext(!1);function qMe(n,e){let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{r=null,n()},e)}}var Lde=()=>{const[n,e]=A.useState({height:void 0,width:void 0});return A.useEffect(()=>{const r=qMe(()=>{e({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),n},fx=A.createContext({connector:null,setConnector:()=>{}});function HMe({children:n}){const[e,r]=A.useState(null);return B.createElement(fx.Provider,{value:A.useMemo(()=>({connector:e,setConnector:r}),[e])},n)}var px={COMPACT:"compact",WIDE:"wide"},AC=A.createContext(px.WIDE);function VMe({children:n,modalSize:e}){const{width:r}=Lde(),i=r&&r<LIe,{connector:s}=A.useContext(fx);return B.createElement(AC.Provider,{value:i||s?px.COMPACT:e},n)}var x7=A.createContext(!1),GMe="rk-version";function YMe({version:n}){localStorage.setItem(GMe,n)}function KMe(){const n=A.useCallback(()=>{YMe({version:"2.2.10"})},[]);A.useEffect(()=>{n()},[n])}function XMe(n,e){const r={};for(const i of n){const s=e(i);s&&(r[s]=i)}return r}function _7(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function QMe(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function S7(){var e,r;if(typeof navigator>"u")return"Browser";const n=(e=navigator.userAgent)==null?void 0:e.toLowerCase();return(r=navigator.brave)!=null&&r.isBrave?"Brave":(n==null?void 0:n.indexOf("edg/"))>-1?"Edge":(n==null?void 0:n.indexOf("op"))>-1?"Opera":QMe()?"Arc":(n==null?void 0:n.indexOf("chrome"))>-1?"Chrome":(n==null?void 0:n.indexOf("firefox"))>-1?"Firefox":_7()?"Safari":"Browser"}var JMe=bIe.UAParser(),{os:k7}=JMe;function ZMe(){return k7.name==="Windows"}function eOe(){return k7.name==="Mac OS"}function tOe(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(k7.name)}function C7(){return ZMe()?"Windows":eOe()?"macOS":tOe()?"Linux":"Desktop"}var nOe=n=>{var r,i,s,o,a,l,c,u,d,h,f;const e=S7();return{Arc:(r=n==null?void 0:n.downloadUrls)==null?void 0:r.chrome,Brave:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.chrome,Chrome:(s=n==null?void 0:n.downloadUrls)==null?void 0:s.chrome,Edge:((o=n==null?void 0:n.downloadUrls)==null?void 0:o.edge)||((a=n==null?void 0:n.downloadUrls)==null?void 0:a.chrome),Firefox:(l=n==null?void 0:n.downloadUrls)==null?void 0:l.firefox,Opera:((c=n==null?void 0:n.downloadUrls)==null?void 0:c.opera)||((u=n==null?void 0:n.downloadUrls)==null?void 0:u.chrome),Safari:(d=n==null?void 0:n.downloadUrls)==null?void 0:d.safari,Browser:(h=n==null?void 0:n.downloadUrls)==null?void 0:h.browserExtension}[e]??((f=n==null?void 0:n.downloadUrls)==null?void 0:f.browserExtension)},rOe=n=>{var r,i,s;return(dx()?(r=n==null?void 0:n.downloadUrls)==null?void 0:r.ios:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.android)??((s=n==null?void 0:n.downloadUrls)==null?void 0:s.mobile)},iOe=n=>{var r,i,s,o,a;const e=C7();return{Windows:(r=n==null?void 0:n.downloadUrls)==null?void 0:r.windows,macOS:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.macos,Linux:(s=n==null?void 0:n.downloadUrls)==null?void 0:s.linux,Desktop:(o=n==null?void 0:n.downloadUrls)==null?void 0:o.desktop}[e]??((a=n==null?void 0:n.downloadUrls)==null?void 0:a.desktop)},Fde=(n,e)=>n.some(r=>r.id===e),sOe=n=>!!n.isRainbowKitConnector,AU=n=>{var e;return!!(!n.isRainbowKitConnector&&((e=n.icon)!=null&&e.replace(/\n/g,"").startsWith("data:image"))&&n.uid&&n.name)},oOe=(n,e)=>n.id==="walletConnect"&&e?{...n,walletConnectModalConnector:e}:n,aOe=({wallets:n,recentWallets:e})=>[...e,...n.filter(r=>!Fde(e,r.id))],$de="rk-recent";function lOe(n){try{const e=n?JSON.parse(n):[];return Array.isArray(e)?e:[]}catch{return[]}}function zde(){return typeof localStorage<"u"?lOe(localStorage.getItem($de)):[]}function cOe(n){return[...new Set(n)]}function uOe(n){const e=cOe([n,...zde()]);localStorage.setItem($de,JSON.stringify(e))}function sw(n=!1){var x,S,C;const e=G0(),r=vMe(),{connectAsync:i,connectors:s}=u7(),o=s,{setIsWalletConnectModalOpen:a}=hhe(),l=o.map(E=>({...E,...E.rkDetails||{}}));async function c(E,T){var O,F;const M=await E.getChainId(),I=await i({...T,chainId:(T==null?void 0:T.chainId)??r??((O=e.find(({id:$})=>$===M))==null?void 0:O.id)??((F=e[0])==null?void 0:F.id),connector:E});return I&&uOe(E.id),I}async function u(E){try{a(!0),await c(E),a(!1)}catch(T){const M=T.name==="UserRejectedRequestError"||T.message==="Connection request reset. Please try again.";if(a(!1),!M)throw T}}const d=async(E,T)=>{const M=await E.getProvider();return E.id==="coinbase"?M.qrUrl:new Promise(I=>M.once("display_uri",O=>{I(T(O))}))},h=l.find(E=>E.id==="walletConnect"&&E.isWalletConnectModalConnector),f=l.filter(AU).map(E=>({...E,groupIndex:0})),p=l.filter(sOe).filter(E=>!E.isWalletConnectModalConnector).filter(E=>n?!f.some(M=>M.id===E.rdns):!0).map(E=>oOe(E,h)),m=[...f,...p],b=XMe(m,E=>E.id),v=zde().map(E=>b[E]).filter(Boolean).slice(0,3),w=[],_=aOe({wallets:m,recentWallets:v});for(const E of _){if(!E)continue;const T=AU(E),M=Fde(v,E.id);if(T){w.push({...E,iconUrl:E.icon,ready:!0,connect:c.bind(null,E),groupName:"Installed",recent:M});continue}w.push({...E,ready:E.installed??!0,connect:c.bind(null,E),desktopDownloadUrl:iOe(E),extensionDownloadUrl:nOe(E),groupName:E.groupName,mobileDownloadUrl:rOe(E),getQrCodeUri:(x=E.qrCode)!=null&&x.getUri?()=>d(E,E.qrCode.getUri):void 0,getDesktopUri:(S=E.desktop)!=null&&S.getUri?()=>d(E,E.desktop.getUri):void 0,getMobileUri:(C=E.mobile)!=null&&C.getUri?()=>{var I;return d(E,(I=E.mobile)==null?void 0:I.getUri)}:void 0,recent:M,showWalletConnectModal:E.walletConnectModalConnector?()=>u(E.walletConnectModalConnector):void 0})}return w}var Ude=async()=>(await ft(async()=>{const{default:n}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:n}},[])).default,dOe=()=>Fl(Ude),hOe=()=>B.createElement(_i,{background:"#d0d5de",borderRadius:"10",height:"48",src:Ude,width:"48"}),Wde=async()=>(await ft(async()=>{const{default:n}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:n}},[])).default,fOe=()=>Fl(Wde),pOe=()=>B.createElement(_i,{background:"#d0d5de",borderRadius:"10",height:"48",src:Wde,width:"48"}),Tt=B.forwardRef(({as:n="div",children:e,className:r,color:i,display:s,font:o="body",id:a,size:l="16",style:c,tabIndex:u,textAlign:d="inherit",weight:h="regular",testId:f},p)=>B.createElement(fe,{as:n,className:r,color:i,display:s,fontFamily:o,fontSize:l,fontWeight:h,id:a,ref:p,style:c,tabIndex:u,textAlign:d,testId:f},e));Tt.displayName="Text";var mOe={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function ss({disabled:n=!1,href:e,label:r,onClick:i,rel:s="noreferrer noopener",size:o="medium",target:a="_blank",testId:l,type:c="primary"}){const u=c==="primary",d=o!=="large",h=Hr(),f=n?"actionButtonSecondaryBackground":u?"accentColor":d?"actionButtonSecondaryBackground":null,{fontSize:p,height:m,paddingX:b,paddingY:y}=mOe[o],v=!h||!d;return B.createElement(fe,{...e?n?{}:{as:"a",href:e,rel:s,target:a}:{as:"button",type:"button"},onClick:n?void 0:i,...v?{borderColor:h&&!d&&!u?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!n&&Ci({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:b,paddingY:y,style:{willChange:"transform"},testId:l,textAlign:"center",transition:"transform",...f?{background:f}:{},...m?{height:m}:{}},B.createElement(Tt,{color:n?"modalTextSecondary":u?"accentColorForeground":"accentColor",size:p,weight:"bold"},r))}var gOe=()=>Hr()?B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),Vf=({"aria-label":n="Close",onClose:e})=>{const r=Hr();return B.createElement(fe,{alignItems:"center","aria-label":n,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:Ci({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},B.createElement(gOe,null))},qde=async()=>(await ft(async()=>{const{default:n}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:n}},[])).default;function bOe({onClose:n,onCloseModal:e}){const{i18n:r}=A.useContext(Yr),[{status:i,...s},o]=B.useState({status:"idle"}),a=WIe(),l=A.useCallback(async()=>{try{const m=await a.getNonce();o(b=>({...b,nonce:m}))}catch{o(m=>({...m,errorMessage:r.t("sign_in.message.preparing_error"),status:"idle"}))}},[a,r.t]),c=A.useRef(!1);B.useEffect(()=>{c.current||(c.current=!0,l())},[l]);const u=Hr(),{address:d,chain:h}=ki(),{signMessageAsync:f}=BTe(),p=async()=>{try{const m=h==null?void 0:h.id,{nonce:b}=s;if(!d||!m||!b)return;o(w=>({...w,errorMessage:void 0,status:"signing"}));const y=a.createMessage({address:d,chainId:m,nonce:b});let v;try{v=await f({message:y})}catch(w){return w instanceof An?o(_=>({..._,status:"idle"})):o(_=>({..._,errorMessage:r.t("sign_in.signature.signing_error"),status:"idle"}))}o(w=>({...w,status:"verifying"}));try{if(await a.verify({message:y,signature:v})){e();return}throw new Error}catch{return o(w=>({...w,errorMessage:r.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:r.t("sign_in.signature.oops_error"),status:"idle"})}};return B.createElement(fe,{position:"relative"},B.createElement(fe,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},B.createElement(Vf,{onClose:n})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:u?"60px":"36px"}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"6":"4",style:{maxWidth:u?320:280}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"16"},B.createElement(_i,{height:40,src:qde,width:40}),B.createElement(Tt,{color:"modalText",size:u?"20":"18",textAlign:"center",weight:"heavy"},r.t("sign_in.label"))),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"16":"12"},B.createElement(Tt,{color:"modalTextSecondary",size:u?"16":"14",textAlign:"center"},r.t("sign_in.description")),i==="idle"&&s.errorMessage?B.createElement(Tt,{color:"error",size:u?"16":"14",textAlign:"center",weight:"bold"},s.errorMessage):null)),B.createElement(fe,{alignItems:u?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},B.createElement(ss,{disabled:!s.nonce||i==="signing"||i==="verifying",label:s.nonce?i==="signing"?r.t("sign_in.signature.waiting"):i==="verifying"?r.t("sign_in.signature.verifying"):r.t("sign_in.message.send"):r.t("sign_in.message.preparing"),onClick:p,size:u?"large":"medium",testId:"auth-message-button"}),u?B.createElement(ss,{label:"Cancel",onClick:n,size:"large",type:"secondary"}):B.createElement(fe,{as:"button",borderRadius:"full",className:Ci({active:"shrink",hover:"grow"}),display:"block",onClick:n,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"closeButton",size:u?"16":"14",weight:"bold"},r.t("sign_in.message.cancel"))))))}function yOe(){const n=G0(),e=sw(),r=CC()==="unauthenticated",i=A.useCallback(()=>{Fl(...e.map(s=>s.iconUrl),...n.map(s=>s.iconUrl).filter(Tde)),Hr()||(dOe(),fOe()),r&&Fl(qde)},[e,n,r]);A.useEffect(()=>{i()},[i])}var Hde="WALLETCONNECT_DEEPLINK_CHOICE";function vOe({mobileUri:n,name:e}){localStorage.setItem(Hde,JSON.stringify({href:n.split("?")[0],name:e}))}function wOe(){localStorage.removeItem(Hde)}var Vde=A.createContext(void 0),MR="data-rk",Gde=n=>({[MR]:n||""}),xOe=n=>{if(n&&!/^[a-zA-Z0-9_]+$/.test(n))throw new Error(`Invalid ID: ${n}`);return n?`[${MR}="${n}"]`:`[${MR}]`},_Oe=()=>{const n=A.useContext(Vde);return Gde(n)},SOe=Fue();function kOe({appInfo:n,avatar:e,children:r,coolMode:i=!1,id:s,initialChain:o,locale:a,modalSize:l=px.WIDE,showRecentTransactions:c=!1,theme:u=SOe}){if(yOe(),KMe(),Bue({onDisconnect:wOe}),typeof u=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const d=xOe(s),h={...jde,...n},f=e??Ede;return B.createElement(yMe,{initialChain:o},B.createElement(HMe,null,B.createElement(oMe,{locale:a},B.createElement(Bde.Provider,{value:i},B.createElement(VMe,{modalSize:l},B.createElement(x7.Provider,{value:c},B.createElement(UMe,null,B.createElement(Ade.Provider,{value:f},B.createElement(hx.Provider,{value:h},B.createElement(Vde.Provider,{value:s},B.createElement(xMe,null,B.createElement(LDe,null,u?B.createElement("div",{...Gde(s)},B.createElement("style",{dangerouslySetInnerHTML:{__html:[`${d}{${EU("lightMode"in u?u.lightMode:u)}}`,"darkMode"in u?`@media(prefers-color-scheme:dark){${d}{${EU(u.darkMode,{extends:u.lightMode})}}}`:null].join("")}}),r):r))))))))))))}var COe="_9pm4ki5 ju367va ju367v15 ju367v8r",EOe="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",TU=(n,e)=>{const r=n.querySelectorAll("button:not(:disabled), a[href]");r.length!==0&&r[e==="end"?r.length-1:0].focus()};function AOe(n){const e=A.useRef(null);return A.useEffect(()=>{const r=document.activeElement;return()=>{var i;(i=r.focus)==null||i.call(r)}},[]),A.useEffect(()=>{if(e.current){const r=e.current.querySelector("[data-auto-focus]");r?r.focus():e.current.focus()}},[]),B.createElement(B.Fragment,null,B.createElement("div",{onFocus:A.useCallback(()=>e.current&&TU(e.current,"end"),[]),tabIndex:0}),B.createElement("div",{ref:e,style:{outline:"none"},tabIndex:-1,...n}),B.createElement("div",{onFocus:A.useCallback(()=>e.current&&TU(e.current,"start"),[]),tabIndex:0}))}var TOe=n=>n.stopPropagation();function Ek({children:n,onClose:e,open:r,titleId:i}){A.useEffect(()=>{const u=d=>r&&d.key==="Escape"&&e();return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[r,e]);const[s,o]=A.useState(!0);A.useEffect(()=>{o(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const a=A.useCallback(()=>e(),[e]),l=_Oe(),c=Hr();return B.createElement(B.Fragment,null,r?za.createPortal(B.createElement(gde,{enabled:s},B.createElement(fe,{...l},B.createElement(fe,{...l,alignItems:c?"flex-end":"center","aria-labelledby":i,"aria-modal":!0,className:EOe,onClick:a,position:"fixed",role:"dialog"},B.createElement(AOe,{className:COe,onClick:TOe,role:"document"},n)))),document.body):null)}var POe="_1ckjpok7",IOe="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",MOe="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",OOe="_1ckjpok6 ju367vq",DOe="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",ROe="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function Ak({bottomSheetOnMobile:n=!1,children:e,marginTop:r,padding:i="16",paddingBottom:s,wide:o=!1}){const a=Hr(),c=A.useContext(AC)===px.COMPACT;return B.createElement(fe,{marginTop:r},B.createElement(fe,{className:[o?a?ROe:c?MOe:DOe:IOe,a?OOe:null,a&&n?POe:null].join(" ")},B.createElement(fe,{padding:i,paddingBottom:s??i},e)))}var PU=["k","m","b","t"];function V1(n,e=1){return n.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function Yde(n){if(n<1)return V1(n,3);if(n<10**2)return V1(n,2);if(n<10**4)return new Intl.NumberFormat().format(Number.parseFloat(V1(n,1)));const e=10**1;let r=String(n);for(let i=PU.length-1;i>=0;i--){const s=10**((i+1)*3);if(s<=n){n=n*e/s/e,r=V1(n,1)+PU[i];break}}return r}function Kde(n){return n.length<8?n:`${n.substring(0,4)}${n.substring(n.length-4)}`}function Xde(n){if(!n)return"";const e=n.split("."),r=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${r}`}var NOe=()=>B.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copied"),B.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),jOe=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copy"),B.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),BOe=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function LOe(){const n=Rde(),{address:e}=ki(),r=w7();return A.useCallback(()=>{if(!e||!r)throw new Error("No address or chain ID found");n.clearTransactions(e,r)},[n,e,r])}var Qde=n=>{var e,r;return(r=(e=n==null?void 0:n.blockExplorers)==null?void 0:e.default)==null?void 0:r.url},Jde=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Link"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),FOe=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Cancel"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),$Oe=()=>B.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Success"),B.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),zOe=n=>{switch(n){case"pending":return iw;case"confirmed":return $Oe;case"failed":return FOe;default:return iw}};function UOe({tx:n}){const e=Hr(),r=zOe(n.status),i=n.status==="failed"?"error":"accentColor",{chain:s}=ki(),o=n.status==="confirmed"?"Confirmed":n.status==="failed"?"Failed":"Pending",a=Qde(s);return B.createElement(B.Fragment,null,B.createElement(fe,{...a?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Ci({active:"shrink"}),href:`${a}/tx/${n.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:e?"16":"14"},B.createElement(fe,{color:i},B.createElement(r,null)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:e?"3":"1"},B.createElement(fe,null,B.createElement(Tt,{color:"modalText",font:"body",size:e?"16":"14",weight:"bold"},n==null?void 0:n.description)),B.createElement(fe,null,B.createElement(Tt,{color:n.status==="pending"?"modalTextSecondary":i,font:"body",size:"14",weight:e?"medium":"regular"},o)))),a&&B.createElement(fe,{alignItems:"center",color:"modalTextDim",display:"flex"},B.createElement(Jde,null))))}var WOe=3;function qOe({address:n}){const e=Nde(),r=LOe(),{chain:i}=ki(),s=Qde(i),o=e.slice(0,WOe),a=o.length>0,l=Hr(),{appName:c}=A.useContext(hx),{i18n:u}=A.useContext(Yr);return B.createElement(B.Fragment,null,B.createElement(fe,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:l?"8":"18"},a&&B.createElement(fe,{paddingBottom:l?"4":"0",paddingTop:"8",paddingX:l?"12":"6"},B.createElement(fe,{display:"flex",justifyContent:"space-between"},B.createElement(Tt,{color:"modalTextSecondary",size:l?"16":"14",weight:"semibold"},u.t("profile.transactions.recent.title")),B.createElement(fe,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},B.createElement(fe,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:Ci({active:"shrink"}),onClick:r,paddingX:l?"8":"12",paddingY:l?"4":"5",transition:"default",type:"button"},B.createElement(Tt,{color:"modalTextSecondary",size:l?"16":"14",weight:"semibold"},u.t("profile.transactions.clear.label")))))),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},a?o.map(d=>B.createElement(UOe,{key:d.hash,tx:d})):B.createElement(B.Fragment,null,B.createElement(fe,{padding:l?"12":"8"},B.createElement(Tt,{color:"modalTextDim",size:l?"16":"14",weight:l?"medium":"bold"},c?u.t("profile.transactions.description",{appName:c}):u.t("profile.transactions.description_fallback"))),l&&B.createElement(fe,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),s&&B.createElement(fe,{paddingBottom:"18",paddingX:l?"8":"18"},B.createElement(fe,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Ci({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${s}/address/${n}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...l?{paddingLeft:"12"}:{}},B.createElement(Tt,{color:"modalText",font:"body",size:l?"16":"14",weight:l?"semibold":"bold"},u.t("profile.explorer.label")),B.createElement(Jde,null))))}function IU({action:n,icon:e,label:r,testId:i,url:s}){const o=Hr();return B.createElement(fe,{...s?{as:"a",href:s,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:Ci({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:n,padding:o?"6":"8",style:{willChange:"transform"},testId:i,transition:"default",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},B.createElement(fe,{color:"modalText",height:"max"},e),B.createElement(fe,null,B.createElement(Tt,{color:"modalText",size:o?"12":"13",weight:"semibold"},r))))}function HOe({address:n,ensAvatar:e,ensName:r,balance:i,onClose:s,onDisconnect:o}){const a=A.useContext(x7),[l,c]=A.useState(!1),u=A.useCallback(()=>{n&&(navigator.clipboard.writeText(n),c(!0))},[n]);if(A.useEffect(()=>{if(l){const y=setTimeout(()=>{c(!1)},1500);return()=>clearTimeout(y)}},[l]),!n)return null;const d=r?Xde(r):Kde(n),h=i==null?void 0:i.formatted,f=h?Yde(Number.parseFloat(h)):void 0,p="rk_profile_title",m=Hr(),{i18n:b}=A.useContext(Yr);return B.createElement(B.Fragment,null,B.createElement(fe,{display:"flex",flexDirection:"column"},B.createElement(fe,{background:"profileForeground",padding:"16"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:m?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},B.createElement(fe,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},B.createElement(Vf,{onClose:s}))," ",B.createElement(fe,{marginTop:m?"24":"0"},B.createElement(nMe,{address:n,imageUrl:e,size:m?82:74})),B.createElement(fe,{display:"flex",flexDirection:"column",gap:m?"4":"0",textAlign:"center"},B.createElement(fe,{textAlign:"center"},B.createElement(Tt,{as:"h1",color:"modalText",id:p,size:m?"20":"18",weight:"heavy"},d)),!!i&&B.createElement(fe,{textAlign:"center"},B.createElement(Tt,{as:"h1",color:"modalTextSecondary",id:p,size:m?"16":"14",weight:"semibold"},f," ",i.symbol)))),B.createElement(fe,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},B.createElement(IU,{action:u,icon:l?B.createElement(NOe,null):B.createElement(jOe,null),label:l?b.t("profile.copy_address.copied"):b.t("profile.copy_address.label")}),B.createElement(IU,{action:o,icon:B.createElement(BOe,null),label:b.t("profile.disconnect.label"),testId:"disconnect-button"}))),a&&B.createElement(B.Fragment,null,B.createElement(fe,{background:"generalBorder",height:"1",marginTop:"-1"}),B.createElement(fe,null,B.createElement(qOe,{address:n})))))}function VOe({onClose:n,open:e}){const{address:r}=ki(),{balance:i,ensAvatar:s,ensName:o}=Mde({address:r,includeBalance:e}),{disconnect:a}=ux();return r?B.createElement(B.Fragment,null,r&&B.createElement(Ek,{onClose:n,open:e,titleId:"rk_account_modal_title"},B.createElement(Ak,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(HOe,{address:r,ensAvatar:s,ensName:o,balance:i,onClose:n,onDisconnect:a})))):null}var GOe=({size:n})=>B.createElement("svg",{fill:"none",height:n,viewBox:"0 0 28 28",width:n,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),YOe="v9horb0",E7=B.forwardRef(({children:n,currentlySelected:e=!1,onClick:r,testId:i,...s},o)=>{const a=Hr();return B.createElement(fe,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:r,ref:o,testId:i,type:"button"},B.createElement(fe,{borderRadius:"menuButton",className:[a?YOe:void 0,!e&&Ci({active:"shrink"})],padding:a?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...s},n))});E7.displayName="MenuButton";var KOe=({chainId:n,currentChainId:e,switchChain:r,chainIconSize:i,isLoading:s,src:o,name:a,iconBackground:l,idx:c})=>{const u=Hr(),{i18n:d}=A.useContext(Yr),h=G0(),f=e===n;return B.createElement(A.Fragment,null,B.createElement(E7,{currentlySelected:f,onClick:f?void 0:()=>r({chainId:n}),testId:`chain-option-${n}`},B.createElement(fe,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:i},o&&B.createElement(fe,{height:"full",marginRight:"8"},B.createElement(_i,{alt:a,background:l,borderRadius:"full",height:i,src:o,width:i,testId:`chain-option-${n}-icon`})),B.createElement("div",null,a??a)),f&&B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(Tt,{color:"accentColorForeground",size:"14",weight:"medium"},d.t("chains.connected")),B.createElement(fe,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),s&&B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(Tt,{color:"modalText",size:"14",weight:"medium"},d.t("chains.confirm")),B.createElement(fe,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),u&&c<h.length-1&&B.createElement(fe,{background:"generalBorderDim",height:"1",marginX:"8"}))},XOe=KOe,QOe="_18dqw9x0",JOe="_18dqw9x1";function ZOe({onClose:n,open:e}){const{chainId:r}=ki(),{chains:i}=Gr(),[s,o]=A.useState(null),{switchChain:a}=LTe({mutation:{onMutate:({chainId:m})=>{o(m)},onSuccess:()=>{s&&o(null)},onError:()=>{s&&o(null)},onSettled:()=>{n()}}}),{i18n:l}=A.useContext(Yr),{disconnect:c}=ux(),u="rk_chain_modal_title",d=Hr(),h=i.some(m=>m.id===r),f=d?"36":"28",p=G0();return r?B.createElement(Ek,{onClose:n,open:e,titleId:u},B.createElement(Ak,{bottomSheetOnMobile:!0,paddingBottom:"0"},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"14"},B.createElement(fe,{display:"flex",flexDirection:"row",justifyContent:"space-between"},d&&B.createElement(fe,{width:"30"}),B.createElement(fe,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},B.createElement(Tt,{as:"h1",color:"modalText",id:u,size:d?"20":"18",weight:"heavy"},l.t("chains.title"))),B.createElement(Vf,{onClose:n})),!h&&B.createElement(fe,{marginX:"8",textAlign:d?"center":"left"},B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},l.t("chains.wrong_network"))),B.createElement(fe,{className:d?JOe:QOe,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},p.map(({iconBackground:m,iconUrl:b,id:y,name:v},w)=>B.createElement(XOe,{key:y,chainId:y,currentChainId:r,switchChain:a,chainIconSize:f,isLoading:s===y,src:b,name:v,iconBackground:m,idx:w})),!h&&B.createElement(B.Fragment,null,B.createElement(fe,{background:"generalBorderDim",height:"1",marginX:"8"}),B.createElement(E7,{onClick:()=>c(),testId:"chain-option-disconnect"},B.createElement(fe,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:f},B.createElement(fe,{alignItems:"center",color:"error",height:f,justifyContent:"center",marginRight:"8"},B.createElement(GOe,{size:Number(f)})),B.createElement("div",null,l.t("chains.disconnect"))))))))))):null}function eDe(n,e){const r={};for(const i of n){const s=e(i);s&&(r[s]||(r[s]=[]),r[s].push(i))}return r}var A7=({children:n,href:e})=>B.createElement(fe,{as:"a",color:"accentColor",href:e,rel:"noreferrer",target:"_blank"},n),T7=({children:n})=>B.createElement(Tt,{color:"modalTextSecondary",size:"12",weight:"medium"},n);function MU({compactModeEnabled:n=!1,getWallet:e}){const{disclaimer:r,learnMoreUrl:i}=A.useContext(hx),{i18n:s}=A.useContext(Yr);return B.createElement(B.Fragment,null,B.createElement(fe,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},B.createElement(fe,{marginBottom:"10"},!n&&B.createElement(Tt,{color:"modalText",size:"18",weight:"heavy"},s.t("intro.title"))),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(fe,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(hOe,null)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},s.t("intro.digital_asset.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t("intro.digital_asset.description")))),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(fe,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(pOe,null)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},s.t("intro.login.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t("intro.login.description"))))),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},B.createElement(ss,{label:s.t("intro.get.label"),onClick:e}),B.createElement(fe,{as:"a",className:Ci({active:"shrink",hover:"grow"}),display:"block",href:i,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},s.t("intro.learn_more.label")))),r&&!n&&B.createElement(fe,{marginBottom:"8",marginTop:"12",textAlign:"center"},B.createElement(r,{Link:A7,Text:T7}))))}var Zde=()=>B.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Back"),B.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),tDe=()=>B.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Info"),B.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),nDe=({"aria-label":n="Info",onClick:e})=>{const r=Hr();return B.createElement(fe,{alignItems:"center","aria-label":n,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:Ci({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},B.createElement(tDe,null))},ehe=n=>{const e=A.useRef(null),r=A.useContext(Bde),i=EC(n);return A.useEffect(()=>{if(r&&e.current&&i)return iDe(e.current,i)},[r,i]),e},rDe=()=>{const n="_rk_coolMode",e=document.getElementById(n);if(e)return e;const r=document.createElement("div");return r.setAttribute("id",n),r.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(r),r},OU=0;function iDe(n,e){OU++;const r=[15,20,25,35,45],i=35;let s=[],o=!1,a=0,l=0;const c=rDe();function u(){const x=r[Math.floor(Math.random()*r.length)],S=Math.random()*10,C=Math.random()*25,E=Math.random()*360,T=Math.random()*35*(Math.random()<=.5?-1:1),M=l-x/2,I=a-x/2,O=Math.random()<=.5?-1:1,F=document.createElement("div");F.innerHTML=`<img src="${e}" width="${x}" height="${x}" style="border-radius: 25%">`,F.setAttribute("style",["position:absolute","will-change:transform",`top:${M}px`,`left:${I}px`,`transform:rotate(${E}deg)`].join(";")),c.appendChild(F),s.push({direction:O,element:F,left:I,size:x,speedHorz:S,speedUp:C,spinSpeed:T,spinVal:E,top:M})}function d(){for(const x of s)x.left=x.left-x.speedHorz*x.direction,x.top=x.top-x.speedUp,x.speedUp=Math.min(x.size,x.speedUp-1),x.spinVal=x.spinVal+x.spinSpeed,x.top>=Math.max(window.innerHeight,document.body.clientHeight)+x.size&&(s=s.filter(S=>S!==x),x.element.remove()),x.element.setAttribute("style",["position:absolute","will-change:transform",`top:${x.top}px`,`left:${x.left}px`,`transform:rotate(${x.spinVal}deg)`].join(";"))}let h;function f(){o&&s.length<i&&u(),d(),h=requestAnimationFrame(f)}f();const p="ontouchstart"in window||navigator.msMaxTouchPoints,m=p?"touchstart":"mousedown",b=p?"touchend":"mouseup",y=p?"touchmove":"mousemove",v=x=>{var S,C;"touches"in x?(a=(S=x.touches)==null?void 0:S[0].clientX,l=(C=x.touches)==null?void 0:C[0].clientY):(a=x.clientX,l=x.clientY)},w=x=>{v(x),o=!0},_=()=>{o=!1};return n.addEventListener(y,v,{passive:!1}),n.addEventListener(m,w),n.addEventListener(b,_),n.addEventListener("mouseleave",_),()=>{n.removeEventListener(y,v),n.removeEventListener(m,w),n.removeEventListener(b,_),n.removeEventListener("mouseleave",_);const x=setInterval(()=>{h&&s.length===0&&(cancelAnimationFrame(h),clearInterval(x),--OU===0&&c.remove())},500)}}var sDe="g5kl0l0",the=({as:n="button",currentlySelected:e=!1,iconBackground:r,iconUrl:i,name:s,onClick:o,ready:a,recent:l,testId:c,isRainbowKitConnector:u,...d})=>{const h=ehe(i),[f,p]=B.useState(!1),{i18n:m}=B.useContext(Yr);return B.createElement(fe,{display:"flex",flexDirection:"column",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),ref:h},B.createElement(fe,{as:n,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:e?void 0:[sDe,Ci({active:"shrink"})],disabled:e,onClick:o,padding:"5",style:{willChange:"transform"},testId:c,transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...d},B.createElement(fe,{color:e?"accentColorForeground":"modalText",disabled:!a,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},B.createElement(_i,{background:r,...!f&&u?{borderColor:"actionButtonBorder"}:{},useAsImage:!u,borderRadius:"6",height:"28",src:i,width:"28"}),B.createElement(fe,null,B.createElement(fe,{style:{marginTop:l?-2:void 0},maxWidth:"200"},s),l&&B.createElement(Tt,{color:e?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},m.t("connect.recent")))))))};the.displayName="ModalSelection";var oDe="rk-latest-id";function aDe(n){localStorage.setItem(oDe,n)}var k5=(n,e=1)=>{let r=n.replace("#","");r.length===3&&(r=`${r[0]}${r[0]}${r[1]}${r[1]}${r[2]}${r[2]}`);const i=Number.parseInt(r.substring(0,2),16),s=Number.parseInt(r.substring(2,4),16),o=Number.parseInt(r.substring(4,6),16);return e>1&&e<=100&&(e=e/100),`rgba(${i},${s},${o},${e})`},lDe=n=>n?[k5(n,.2),k5(n,.14),k5(n,.1)]:null,cDe=n=>/^#([0-9a-f]{3}){1,2}$/i.test(n),nhe=async()=>(await ft(async()=>{const{default:n}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:n}},[])).default,uDe=()=>Fl(nhe),dDe=()=>B.createElement(_i,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:nhe,width:"48"}),rhe=async()=>(await ft(async()=>{const{default:n}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:n}},[])).default,ihe=()=>Fl(rhe),hDe=()=>B.createElement(_i,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:rhe,width:"48"}),she=async()=>(await ft(async()=>{const{default:n}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:n}},[])).default,fDe=()=>Fl(she),pDe=()=>B.createElement(_i,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:she,width:"48"}),ohe=async()=>(await ft(async()=>{const{default:n}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:n}},[])).default,ahe=()=>Fl(ohe),mDe=()=>B.createElement(_i,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:ohe,width:"48"}),gDe="_1vwt0cg0",bDe="_1vwt0cg2 ju367v7a ju367v7v",yDe="_1vwt0cg3",vDe="_1vwt0cg4";function lhe({ecc:n="medium",logoBackground:e,logoSize:r=50,logoUrl:i,size:s=200,uri:o}){const a="20",l=s-Number.parseInt(a,10)*2,c=EC(i);return B.createElement(fe,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:gDe,padding:a,width:"max"},B.createElement(fe,{style:{height:l,userSelect:"none",width:l},userSelect:"none"},B.createElement(xl.Root,{errorCorrection:n,size:l,value:o},B.createElement(xl.Cells,{radius:1}),B.createElement(xl.Finder,{radius:.25}),c&&B.createElement(xl.Arena,null,B.createElement("img",{alt:"Wallet Logo",src:c,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:e}})))))}var che=async()=>{switch(S7()){case"Arc":return(await ft(async()=>{const{default:e}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:e}},[])).default;case"Brave":return(await ft(async()=>{const{default:e}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:e}},[])).default;case"Chrome":return(await ft(async()=>{const{default:e}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:e}},[])).default;case"Edge":return(await ft(async()=>{const{default:e}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:e}},[])).default;case"Firefox":return(await ft(async()=>{const{default:e}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:e}},[])).default;case"Opera":return(await ft(async()=>{const{default:e}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:e}},[])).default;case"Safari":return(await ft(async()=>{const{default:e}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:e}},[])).default;default:return(await ft(async()=>{const{default:e}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:e}},[])).default}},wDe=()=>Fl(che),uhe=async()=>{switch(C7()){case"Windows":return(await ft(async()=>{const{default:e}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:e}},[])).default;case"macOS":return(await ft(async()=>{const{default:e}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:e}},[])).default;case"Linux":return(await ft(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default;default:return(await ft(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default}},xDe=()=>Fl(uhe);function _De({getWalletDownload:n,compactModeEnabled:e}){const i=sw().filter(o=>o.isRainbowKitConnector).splice(0,5),{i18n:s}=A.useContext(Yr);return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},i==null?void 0:i.filter(o=>{var a;return o.extensionDownloadUrl||o.desktopDownloadUrl||o.qrCode&&((a=o.downloadUrls)==null?void 0:a.qrCode)}).map(o=>{const{downloadUrls:a,iconBackground:l,iconUrl:c,id:u,name:d,qrCode:h}=o,f=(a==null?void 0:a.qrCode)&&h,p=!!o.extensionDownloadUrl,m=(a==null?void 0:a.qrCode)&&p,b=(a==null?void 0:a.qrCode)&&!!o.desktopDownloadUrl;return B.createElement(fe,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:o.id,width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(_i,{background:l,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:c,width:"48"}),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"2"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},d),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},m?s.t("get.mobile_and_extension.description"):b?s.t("get.mobile_and_desktop.description"):f?s.t("get.mobile.description"):p?s.t("get.extension.description"):null))),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(ss,{label:s.t("get.action.label"),onClick:()=>n(u),type:"secondary"})))})),B.createElement(fe,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},s.t("get.looking_for.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},e?s.t("get.looking_for.desktop.compact_description"):s.t("get.looking_for.desktop.wide_description"))))}var C5="44";function SDe({changeWalletStep:n,compactModeEnabled:e,connectionError:r,onClose:i,qrCodeUri:s,reconnect:o,wallet:a}){const{downloadUrls:l,iconBackground:c,iconUrl:u,name:d,qrCode:h,ready:f,showWalletConnectModal:p,getDesktopUri:m}=a,b=!!m,y=_7(),{i18n:v}=A.useContext(Yr),w=!!a.extensionDownloadUrl,_=(l==null?void 0:l.qrCode)&&w,x=(l==null?void 0:l.qrCode)&&!!a.desktopDownloadUrl,S=h&&s,C=async()=>{const I=await(m==null?void 0:m());window.open(I,y?"_blank":"_self")},E=p?{description:e?v.t("connect.walletconnect.description.compact"):v.t("connect.walletconnect.description.full"),label:v.t("connect.walletconnect.open.label"),onClick:()=>{i(),p()}}:S?{description:v.t("connect.secondary_action.get.description",{wallet:d}),label:v.t("connect.secondary_action.get.label"),onClick:()=>n(_||x?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:T}=Lde(),M=T&&T<768;return A.useEffect(()=>{wDe(),xDe()},[]),B.createElement(fe,{display:"flex",flexDirection:"column",height:"full",width:"full"},S?B.createElement(fe,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},B.createElement(lhe,{logoBackground:c,logoSize:e?60:72,logoUrl:u,size:e?318:M?Math.max(280,Math.min(T-308,382)):382,uri:s})):B.createElement(fe,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},B.createElement(fe,{borderRadius:"10",height:C5,overflow:"hidden"},B.createElement(_i,{useAsImage:!a.isRainbowKitConnector,height:C5,src:u,width:C5})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},B.createElement(Tt,{color:"modalText",size:"18",weight:"bold"},f?v.t("connect.status.opening",{wallet:d}):w?v.t("connect.status.not_installed",{wallet:d}):v.t("connect.status.not_available",{wallet:d})),!f&&w?B.createElement(fe,{paddingTop:"20"},B.createElement(ss,{href:a.extensionDownloadUrl,label:v.t("connect.secondary_action.install.label"),type:"secondary"})):null,f&&!S&&B.createElement(B.Fragment,null,B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(Tt,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},v.t("connect.status.confirm"))),B.createElement(fe,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},r?B.createElement(ss,{label:v.t("connect.secondary_action.retry.label"),onClick:async()=>{b&&C(),o(a)}}):B.createElement(fe,{color:"modalTextSecondary"},B.createElement(iw,null))))))),B.createElement(fe,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},f&&E&&B.createElement(B.Fragment,null,B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},E.description),B.createElement(ss,{label:E.label,onClick:E.onClick,type:"secondary"}))))}var E5=({actionLabel:n,description:e,iconAccent:r,iconBackground:i,iconUrl:s,isCompact:o,onAction:a,title:l,url:c,variant:u})=>{const d=u==="browser",h=!d&&r&&lDe(r);return B.createElement(fe,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},B.createElement(fe,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),d&&B.createElement(fe,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},B.createElement(fe,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},B.createElement(fe,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},B.createElement(_i,{borderRadius:"full",height:"200",src:s,width:"200"})),B.createElement(fe,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},B.createElement(_i,{borderRadius:"full",height:"200",src:s,width:"200"})))),!d&&h&&B.createElement(fe,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},B.createElement(fe,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${h[0]} 0%, ${h[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),B.createElement(fe,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${h[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),B.createElement(fe,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},B.createElement(fe,null,B.createElement(_i,{height:"60",src:s,width:"60",...i?{background:i,borderColor:"generalBorder",borderRadius:"10"}:null})),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},l),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},e),B.createElement(fe,{marginTop:"14",width:"max"},B.createElement(ss,{href:c,label:n,onClick:a,size:"medium"})))))};function kDe({changeWalletStep:n,wallet:e}){const r=S7(),i=C7(),o=A.useContext(AC)==="compact",{desktop:a,desktopDownloadUrl:l,extension:c,extensionDownloadUrl:u,mobileDownloadUrl:d}=e,{i18n:h}=A.useContext(Yr);return A.useEffect(()=>{ihe(),ahe(),fDe(),uDe()},[]),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},u&&B.createElement(E5,{actionLabel:h.t("get_options.extension.download.label",{browser:r}),description:h.t("get_options.extension.description"),iconUrl:che,isCompact:o,onAction:()=>n(c!=null&&c.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:h.t("get_options.extension.title",{wallet:e.name,browser:r}),url:u,variant:"browser"}),l&&B.createElement(E5,{actionLabel:h.t("get_options.desktop.download.label",{platform:i}),description:h.t("get_options.desktop.description"),iconUrl:uhe,isCompact:o,onAction:()=>n(a!=null&&a.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:h.t("get_options.desktop.title",{wallet:e.name,platform:i}),url:l,variant:"desktop"}),d&&B.createElement(E5,{actionLabel:h.t("get_options.mobile.download.label",{wallet:e.name}),description:h.t("get_options.mobile.description"),iconAccent:e.iconAccent,iconBackground:e.iconBackground,iconUrl:e.iconUrl,isCompact:o,onAction:()=>{n("DOWNLOAD")},title:h.t("get_options.mobile.title",{wallet:e.name}),variant:"app"})))}function CDe({changeWalletStep:n,wallet:e}){const{downloadUrls:r,qrCode:i}=e,{i18n:s}=A.useContext(Yr);return A.useEffect(()=>{ihe(),ahe()},[]),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},B.createElement(fe,{style:{maxWidth:220,textAlign:"center"}},B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"semibold"},s.t("get_mobile.description"))),B.createElement(fe,{height:"full"},r!=null&&r.qrCode?B.createElement(lhe,{logoSize:0,size:268,uri:r.qrCode}):null),B.createElement(fe,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},B.createElement(ss,{label:s.t("get_mobile.continue.label"),onClick:()=>n(i!=null&&i.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var Wc={connect:()=>B.createElement(dDe,null),create:()=>B.createElement(hDe,null),install:n=>B.createElement(_i,{background:n.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:n.iconUrl,width:"48"}),refresh:()=>B.createElement(pDe,null),scan:()=>B.createElement(mDe,null)};function EDe({connectWallet:n,wallet:e}){var i,s,o,a;const{i18n:r}=A.useContext(Yr);return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(s=(i=e==null?void 0:e.qrCode)==null?void 0:i.instructions)==null?void 0:s.steps.map((l,c)=>{var u;return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:c},B.createElement(fe,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(u=Wc[l.step])==null?void 0:u.call(Wc,e)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},r.t(l.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},r.t(l.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(ss,{label:r.t("get_instructions.mobile.connect.label"),onClick:()=>n(e)}),B.createElement(fe,{as:"a",className:Ci({active:"shrink",hover:"grow"}),display:"block",href:(a=(o=e==null?void 0:e.qrCode)==null?void 0:o.instructions)==null?void 0:a.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},r.t("get_instructions.mobile.learn_more.label")))))}function ADe({wallet:n}){var r,i,s,o;const{i18n:e}=A.useContext(Yr);return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(i=(r=n==null?void 0:n.extension)==null?void 0:r.instructions)==null?void 0:i.steps.map((a,l)=>{var c;return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:l},B.createElement(fe,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(c=Wc[a.step])==null?void 0:c.call(Wc,n)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},e.t(a.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},e.t(a.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(ss,{label:e.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),B.createElement(fe,{as:"a",className:Ci({active:"shrink",hover:"grow"}),display:"block",href:(o=(s=n==null?void 0:n.extension)==null?void 0:s.instructions)==null?void 0:o.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},e.t("get_instructions.extension.learn_more.label")))))}function TDe({connectWallet:n,wallet:e}){var i,s,o,a;const{i18n:r}=A.useContext(Yr);return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(s=(i=e==null?void 0:e.desktop)==null?void 0:i.instructions)==null?void 0:s.steps.map((l,c)=>{var u;return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:c},B.createElement(fe,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(u=Wc[l.step])==null?void 0:u.call(Wc,e)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},r.t(l.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},r.t(l.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(ss,{label:r.t("get_instructions.desktop.connect.label"),onClick:()=>n(e)}),B.createElement(fe,{as:"a",className:Ci({active:"shrink",hover:"grow"}),display:"block",href:(a=(o=e==null?void 0:e.desktop)==null?void 0:o.instructions)==null?void 0:a.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},r.t("get_instructions.desktop.learn_more.label")))))}function PDe({onClose:n}){const e="rk_connect_title",[r,i]=A.useState(),[s,o]=A.useState(),[a,l]=A.useState(),c=!!(s!=null&&s.qrCode)&&a,[u,d]=A.useState(!1),f=A.useContext(AC)===px.COMPACT,{disclaimer:p}=A.useContext(hx),{i18n:m}=A.useContext(Yr),b=_7(),y=A.useRef(!1),{connector:v}=A.useContext(fx),_=sw(!v).filter(G=>G.ready||!!G.extensionDownloadUrl).sort((G,X)=>G.groupIndex-X.groupIndex),x=sw(),S=eDe(_,G=>G.groupName),C=["Recommended","Other","Popular","More","Others","Installed"];A.useEffect(()=>{v&&!y.current&&($("CONNECT"),I(v),y.current=!0)},[v]);const E=G=>{var X,ae;d(!1),G.ready&&((ae=(X=G==null?void 0:G.connect)==null?void 0:X.call(G))==null||ae.catch(()=>{d(!0)}))},T=async G=>{const X=_.find(ae=>G.id===ae.id);X!=null&&X.getDesktopUri&&setTimeout(async()=>{var ge;const ae=await((ge=X==null?void 0:X.getDesktopUri)==null?void 0:ge.call(X));ae&&window.open(ae,b?"_blank":"_self")},0)},M=async G=>{var ge;const X=_.find(le=>G.id===le.id),ae=await((ge=X==null?void 0:X.getQrCodeUri)==null?void 0:ge.call(X));l(ae),setTimeout(()=>{o(X),$("CONNECT")},ae?0:50)},I=async G=>{aDe(G.id),G.ready&&(M(G),T(G)),E(G),i(G.id),G.ready||(o(G),$(G!=null&&G.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},O=G=>{var ie;const X=x.find(Te=>G===Te.id),ae=(ie=X==null?void 0:X.downloadUrls)==null?void 0:ie.qrCode,ge=!!(X!=null&&X.desktopDownloadUrl),le=!!(X!=null&&X.extensionDownloadUrl);o(X),$(ae&&(le||ge)?"DOWNLOAD_OPTIONS":ae?"DOWNLOAD":ge?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},F=()=>{i(void 0),o(void 0),l(void 0)},$=(G,X=!1)=>{X&&G==="GET"&&z==="GET"?F():!X&&G==="GET"?D("GET"):!X&&G==="CONNECT"&&D("CONNECT"),N(G)},[z,D]=A.useState("NONE"),[j,N]=A.useState("NONE");let R=null,H=null,U=null,K;A.useEffect(()=>{d(!1)},[j,s]);const J=!!(!!(s!=null&&s.extensionDownloadUrl)&&(s!=null&&s.mobileDownloadUrl));switch(j){case"NONE":R=B.createElement(MU,{getWallet:()=>$("GET")});break;case"LEARN_COMPACT":R=B.createElement(MU,{compactModeEnabled:f,getWallet:()=>$("GET")}),H=m.t("intro.title"),U="NONE";break;case"GET":R=B.createElement(_De,{getWalletDownload:O,compactModeEnabled:f}),H=m.t("get.title"),U=f?"LEARN_COMPACT":"NONE";break;case"CONNECT":R=s&&B.createElement(SDe,{changeWalletStep:$,compactModeEnabled:f,connectionError:u,onClose:n,qrCodeUri:a,reconnect:E,wallet:s}),H=c&&(s.name==="WalletConnect"?m.t("connect_scan.fallback_title"):m.t("connect_scan.title",{wallet:s.name})),U=f?v?null:"NONE":null,K=f?v?()=>{}:F:()=>{};break;case"DOWNLOAD_OPTIONS":R=s&&B.createElement(kDe,{changeWalletStep:$,wallet:s}),H=s&&m.t("get_options.short_title",{wallet:s.name}),U=v?"CONNECT":f?"NONE":z;break;case"DOWNLOAD":R=s&&B.createElement(CDe,{changeWalletStep:$,wallet:s}),H=s&&m.t("get_mobile.title",{wallet:s.name}),U=J?"DOWNLOAD_OPTIONS":z;break;case"INSTRUCTIONS_MOBILE":R=s&&B.createElement(EDe,{connectWallet:I,wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":R=s&&B.createElement(ADe,{wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":R=s&&B.createElement(TDe,{connectWallet:I,wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD_OPTIONS";break}return B.createElement(fe,{display:"flex",flexDirection:"row",style:{maxHeight:f?468:504}},(f?j==="NONE":!0)&&B.createElement(fe,{className:f?vDe:yDe,display:"flex",flexDirection:"column",marginTop:"16"},B.createElement(fe,{display:"flex",justifyContent:"space-between"},f&&p&&B.createElement(fe,{marginLeft:"16",width:"28"},B.createElement(nDe,{onClick:()=>$("LEARN_COMPACT")})),f&&!p&&B.createElement(fe,{marginLeft:"16",width:"28"}),B.createElement(fe,{marginLeft:f?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},B.createElement(Tt,{as:"h1",color:"modalText",id:e,size:"18",weight:"heavy",testId:"connect-header-label"},m.t("connect.title"))),f&&B.createElement(fe,{marginRight:"16"},B.createElement(Vf,{onClose:n}))),B.createElement(fe,{className:bDe,paddingBottom:"18"},Object.entries(S).map(([G,X],ae)=>X.length>0&&B.createElement(A.Fragment,{key:ae},G?B.createElement(fe,{marginBottom:"8",marginTop:"16",marginX:"6"},B.createElement(Tt,{color:G==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},C.includes(G)?m.t(`connector_group.${G.toLowerCase()}`):G)):null,B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},X.map(ge=>B.createElement(the,{currentlySelected:ge.id===r,iconBackground:ge.iconBackground,iconUrl:ge.iconUrl,key:ge.id,name:ge.name,onClick:()=>I(ge),ready:ge.ready,recent:ge.recent,testId:`wallet-option-${ge.id}`,isRainbowKitConnector:ge.isRainbowKitConnector})))))),f&&B.createElement(B.Fragment,null,B.createElement(fe,{background:"generalBorder",height:"1",marginTop:"-1"}),p?B.createElement(fe,{paddingX:"24",paddingY:"16",textAlign:"center"},B.createElement(p,{Link:A7,Text:T7})):B.createElement(fe,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},B.createElement(fe,{paddingY:"4"},B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},m.t("connect.new_to_ethereum.description"))),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},B.createElement(fe,{className:Ci({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>$("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},m.t("connect.new_to_ethereum.learn_more.label"))))))),(f?j!=="NONE":!0)&&B.createElement(B.Fragment,null,!f&&B.createElement(fe,{background:"generalBorder",minWidth:"1",width:"1"}),B.createElement(fe,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},B.createElement(fe,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},B.createElement(fe,{width:"28"},U&&B.createElement(fe,{as:"button",className:Ci({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{U&&$(U,!0),K==null||K()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(Zde,null))),B.createElement(fe,{display:"flex",justifyContent:"center",style:{flexGrow:1}},H&&B.createElement(Tt,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},H)),B.createElement(Vf,{onClose:n})),B.createElement(fe,{display:"flex",flexDirection:"column",style:{minHeight:f?396:432}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},R)))))}var IDe="_1am14412",MDe="_1am14410",ODe="_1am14413",DDe=({wallet:n})=>B.createElement("svg",{className:ODe,viewBox:"0 0 86 86",width:"86",height:"86"},B.createElement("title",null,"Loading"),B.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:IDe,style:{stroke:(n==null?void 0:n.iconAccent)||"#0D3887"}}));function dhe({onClose:n,wallet:e,connecting:r}){const{connect:i,iconBackground:s,iconUrl:o,id:a,name:l,getMobileUri:c,ready:u,shortName:d,showWalletConnectModal:h}=e,f=ehe(o),p=A.useRef(!1),{i18n:m}=A.useContext(Yr),b=A.useCallback(async()=>{if(a!=="walletConnect"&&(async()=>{const v=await(c==null?void 0:c());if(v)if(v&&vOe({mobileUri:v,name:l}),v.startsWith("http")){const w=document.createElement("a");w.href=v,w.target="_blank",w.rel="noreferrer noopener",w.click()}else window.location.href=v})(),h){h(),n==null||n();return}try{await(i==null?void 0:i())}catch{}},[i,c,h,n,l,a]);return A.useEffect(()=>{r&&!p.current&&(b(),p.current=!0)},[r,b]),B.createElement(fe,{as:"button",color:u?"modalText":"modalTextSecondary",disabled:!u,fontFamily:"body",key:a,onClick:b,ref:f,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${a}`,type:"button",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(fe,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},r?B.createElement(DDe,{wallet:e}):null,B.createElement(_i,{background:s,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),r?null:B.createElement(fe,{display:"flex",flexDirection:"column",textAlign:"center"},B.createElement(Tt,{as:"h2",color:e.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},B.createElement(fe,{as:"span",position:"relative"},d??l,!e.ready&&" (unsupported)")),e.recent&&B.createElement(Tt,{color:"accentColor",size:"12",weight:"medium"},m.t("connect.recent")))))}function RDe({onClose:n}){var p;const e="rk_connect_title",r=sw().filter(m=>m.isRainbowKitConnector),{disclaimer:i,learnMoreUrl:s}=A.useContext(hx);let o=null,a=null,l=!1,c=null;const[u,d]=A.useState("CONNECT"),{i18n:h}=A.useContext(Yr),f=dx();switch(u){case"CONNECT":{o=h.t("connect.title"),l=!0,a=B.createElement(fe,null,B.createElement(fe,{background:"profileForeground",className:MDe,display:"flex",paddingBottom:"20",paddingTop:"6",paddingX:"20",style:{gap:"calc((100% - 40px - 240px + 47px) / 4)"}},r.filter(m=>m.ready).map(m=>B.createElement(fe,{key:m.id,width:"60"},B.createElement(dhe,{onClose:n,wallet:m})))),B.createElement(fe,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},B.createElement(Tt,{color:"modalText",size:"16",weight:"bold"},h.t("intro.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"16"},h.t("intro.description")))),B.createElement(fe,{paddingTop:"32",paddingX:"20"},B.createElement(fe,{display:"flex",gap:"14",justifyContent:"center"},B.createElement(ss,{label:h.t("intro.get.label"),onClick:()=>d("GET"),size:"large",type:"secondary"}),B.createElement(ss,{href:s,label:h.t("intro.learn_more.label"),size:"large",type:"secondary"}))),i&&B.createElement(fe,{marginTop:"28",marginX:"32",textAlign:"center"},B.createElement(i,{Link:A7,Text:T7})));break}case"GET":{o=h.t("get.title"),c="CONNECT";const m=(p=r==null?void 0:r.filter(b=>{var y,v,w;return((y=b.downloadUrls)==null?void 0:y.ios)||((v=b.downloadUrls)==null?void 0:v.android)||((w=b.downloadUrls)==null?void 0:w.mobile)}))==null?void 0:p.splice(0,3);a=B.createElement(fe,null,B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},m.map((b,y)=>{const{downloadUrls:v,iconBackground:w,iconUrl:_,name:x}=b;return!(v!=null&&v.ios)&&!(v!=null&&v.android)&&!(v!=null&&v.mobile)?null:B.createElement(fe,{display:"flex",gap:"16",key:b.id,paddingX:"20",width:"full"},B.createElement(fe,{style:{minHeight:48,minWidth:48}},B.createElement(_i,{background:w,borderColor:"generalBorder",borderRadius:"10",height:"48",src:_,width:"48"})),B.createElement(fe,{display:"flex",flexDirection:"column",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",height:"48"},B.createElement(fe,{width:"full"},B.createElement(Tt,{color:"modalText",size:"18",weight:"bold"},x)),B.createElement(ss,{href:(f?v==null?void 0:v.ios:v==null?void 0:v.android)||(v==null?void 0:v.mobile),label:h.t("get.action.label"),size:"small",type:"secondary"})),y<m.length-1&&B.createElement(fe,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),B.createElement(fe,{style:{marginBottom:"42px"}}),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},B.createElement(Tt,{color:"modalText",size:"16",weight:"bold"},h.t("get.looking_for.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"16"},h.t("get.looking_for.mobile.description")))));break}}return B.createElement(fe,{display:"flex",flexDirection:"column",paddingBottom:"36"},B.createElement(fe,{background:l?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},B.createElement(fe,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},c&&B.createElement(fe,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},B.createElement(fe,{alignItems:"center",as:"button",className:Ci({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>d(c),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(Zde,null))),B.createElement(fe,{marginTop:"4",textAlign:"center",width:"full"},B.createElement(Tt,{as:"h1",color:"modalText",id:e,size:"20",weight:"bold"},o)),B.createElement(fe,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},B.createElement(fe,{style:{marginBottom:-20,marginTop:-20}},B.createElement(Vf,{onClose:n}))))),B.createElement(fe,{display:"flex",flexDirection:"column"},a))}var NDe=({onClose:n})=>{const{connector:e}=A.useContext(fx),{i18n:r}=A.useContext(Yr),i=(e==null?void 0:e.name)||"";return B.createElement(fe,null,B.createElement(fe,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},B.createElement(fe,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},B.createElement(Vf,{onClose:n})),B.createElement(fe,{width:"60"},B.createElement(dhe,{onClose:n,wallet:e,connecting:!0})),B.createElement(fe,{marginTop:"20"},B.createElement(Tt,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},r.t("connect.status.connect_mobile",{wallet:i}))),B.createElement(fe,{maxWidth:"full",marginTop:"8"},B.createElement(Tt,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},r.t("connect.status.confirm_mobile",{wallet:i})))))};function jDe({onClose:n}){const{connector:e}=A.useContext(fx);return Hr()?e?B.createElement(NDe,{onClose:n}):B.createElement(RDe,{onClose:n}):B.createElement(PDe,{onClose:n})}function BDe({onClose:n,open:e}){const r="rk_connect_title",i=_de(),{disconnect:s}=ux(),{isConnecting:o}=ki(),a=B.useCallback(()=>{n(),s()},[n,s]),l=B.useCallback(()=>{o&&s(),n()},[n,s,o]);return i==="disconnected"?B.createElement(Ek,{onClose:l,open:e,titleId:r},B.createElement(Ak,{bottomSheetOnMobile:!0,padding:"0",wide:!0},B.createElement(jDe,{onClose:l}))):i==="unauthenticated"?B.createElement(Ek,{onClose:a,open:e,titleId:r},B.createElement(Ak,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(bOe,{onClose:a,onCloseModal:n}))):null}function A5(){const[n,e]=A.useState(!1);return{closeModal:A.useCallback(()=>e(!1),[]),isModalOpen:n,openModal:A.useCallback(()=>e(!0),[])}}var Y0=A.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function LDe({children:n}){const{closeModal:e,isModalOpen:r,openModal:i}=A5(),{closeModal:s,isModalOpen:o,openModal:a}=A5(),{closeModal:l,isModalOpen:c,openModal:u}=A5(),[d,h]=A.useState(!1),f=_de(),{chainId:p}=ki(),{chains:m}=Gr(),b=m.some(w=>w.id===p),y=A.useCallback(({keepConnectModalOpen:w=!1}={})=>{w||e(),s(),l()},[e,s,l]),v=CC()==="unauthenticated";return Bue({onConnect:()=>y({keepConnectModalOpen:v}),onDisconnect:()=>y()}),A.useEffect(()=>{v&&y()},[v,y]),B.createElement(Y0.Provider,{value:A.useMemo(()=>({accountModalOpen:o,chainModalOpen:c,connectModalOpen:r,isWalletConnectModalOpen:d,openAccountModal:b&&f==="connected"?a:void 0,openChainModal:f==="connected"?u:void 0,openConnectModal:f==="disconnected"||f==="unauthenticated"?i:void 0,setIsWalletConnectModalOpen:h}),[f,o,c,r,a,u,i,b,d])},n,B.createElement(BDe,{onClose:e,open:r}),B.createElement(VOe,{onClose:s,open:o}),B.createElement(ZOe,{onClose:l,open:c}))}function FDe(){const{accountModalOpen:n,chainModalOpen:e,connectModalOpen:r}=A.useContext(Y0);return{accountModalOpen:n,chainModalOpen:e,connectModalOpen:r}}function $De(){const{accountModalOpen:n,openAccountModal:e}=A.useContext(Y0);return{accountModalOpen:n,openAccountModal:e}}function zDe(){const{chainModalOpen:n,openChainModal:e}=A.useContext(Y0);return{chainModalOpen:n,openChainModal:e}}function hhe(){const{isWalletConnectModalOpen:n,setIsWalletConnectModalOpen:e}=A.useContext(Y0);return{isWalletConnectModalOpen:n,setIsWalletConnectModalOpen:e}}function UDe(){const{connectModalOpen:n,openConnectModal:e}=A.useContext(Y0),{isWalletConnectModalOpen:r}=hhe();return{connectModalOpen:n||r,openConnectModal:e}}var T5=()=>{};function WDe({children:n}){const e=SMe(),{address:r}=ki(),{chainId:i}=ki(),{chains:s}=Gr(),o=s.some(F=>F.id===i),a=wMe(),l=CC()??void 0,c=i?a[i]:void 0,u=(c==null?void 0:c.name)??void 0,d=(c==null?void 0:c.iconUrl)??void 0,h=(c==null?void 0:c.iconBackground)??void 0,f=EC(d),p=A.useContext(x7),m=Nde().some(({status:F})=>F==="pending")&&p,{showBalance:b}=_Me(),v=typeof b=="boolean"?b:b?FIe(b)[Hr()?"smallScreen":"largeScreen"]:!0,{balance:w,ensAvatar:_,ensName:x}=Mde({address:r,includeBalance:v}),S=w?`${Yde(Number.parseFloat(w.formatted))} ${w.symbol}`:void 0,{openConnectModal:C}=UDe(),{openChainModal:E}=zDe(),{openAccountModal:T}=$De(),{accountModalOpen:M,chainModalOpen:I,connectModalOpen:O}=FDe();return B.createElement(B.Fragment,null,n({account:r?{address:r,balanceDecimals:w==null?void 0:w.decimals,balanceFormatted:w==null?void 0:w.formatted,balanceSymbol:w==null?void 0:w.symbol,displayBalance:S,displayName:x?Xde(x):Kde(r),ensAvatar:_??void 0,ensName:x??void 0,hasPendingTransactions:m}:void 0,accountModalOpen:M,authenticationStatus:l,chain:i?{hasIcon:!!d,iconBackground:h,iconUrl:f,id:i,name:u,unsupported:!o}:void 0,chainModalOpen:I,connectModalOpen:O,mounted:e(),openAccountModal:T??T5,openChainModal:E??T5,openConnectModal:C??T5}))}WDe.displayName="ConnectButton.Custom";var fhe=({appName:n,appDescription:e,appUrl:r,appIcon:i})=>({name:n,description:e??n,url:r??(typeof window<"u"?window.location.origin:""),icons:[...i?[i]:[]]});function qDe(n){return Object.fromEntries(Object.entries(n).filter(([e,r])=>r!==void 0))}function HDe(n,e){const r=[];for(const i of n)r.some(s=>s[e]===i[e])||r.push(i);return r}var VDe=(n,{projectId:e,walletConnectParameters:r,appName:i,appDescription:s,appUrl:o,appIcon:a})=>{if(!n.length)throw new Error("No wallet list was provided");for(const{wallets:p,groupName:m}of n)if(!p.length)throw new Error(`No wallets provided for group: ${m}`);let l=-1;const c=[],u=[],d=[],h=fhe({appName:i,appDescription:s,appUrl:o,appIcon:a});for(const[p,{groupName:m,wallets:b}]of n.entries())for(const y of b){l++;const v=y({projectId:e,appName:i,appIcon:a,options:{metadata:h,...r},walletConnectParameters:{metadata:h,...r}});if(v!=null&&v.iconAccent&&!cDe(v==null?void 0:v.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${v.name}`);const w={...v,groupIndex:p+1,groupName:m,index:l};typeof v.hidden=="function"?d.push(w):u.push(w)}const f=HDe([...u,...d],"id");for(const{createConnector:p,groupIndex:m,groupName:b,hidden:y,...v}of f){if(typeof y=="function"&&y())continue;const w=S=>({rkDetails:qDe({...v,groupIndex:m,groupName:b,isRainbowKitConnector:!0,...S||{}})});v.id==="walletConnect"&&c.push(p(w({isWalletConnectModalConnector:!0,showQrModal:!0})));const x=p(w());c.push(x)}return c},DU=new Map,GDe=({projectId:n,walletConnectParameters:e,rkDetailsShowQrModal:r,rkDetailsIsWalletConnectModalConnector:i})=>{let s={telemetryEnabled:!1,...e||{},projectId:n,showQrModal:!1};r&&(s={...s,showQrModal:!0}),"customStoragePrefix"in s||(s={...s,customStoragePrefix:i?"clientOne":"clientTwo"});const o=JSON.stringify(s),a=DU.get(o);if(a)return a;const l=y7(s);return DU.set(o,l),l};function YDe({projectId:n,walletDetails:e,walletConnectParameters:r}){return i=>({...GDe({projectId:n,walletConnectParameters:r,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(i),...e})}function P7({projectId:n,walletConnectParameters:e}){const r="21fef48091f12692cad574a6f7753643";if(!n||n==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return n==="YOUR_PROJECT_ID"&&(n=r),i=>YDe({projectId:n,walletDetails:i,walletConnectParameters:e})}function phe(n){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const r=e.ethereum.providers;return r?r.find(i=>i[n]):e.ethereum[n]?e.ethereum:void 0}function mhe(n){const e=(r,i)=>{const[s,...o]=i.split("."),a=r[s];if(a)return o.length===0?a:e(a,o.join("."))};if(typeof window<"u")return e(window,n)}function KDe({flag:n,namespace:e}){return!!(e&&typeof mhe(e)<"u"||typeof phe(n)<"u")}function XDe({flag:n,namespace:e}){var s;const r=typeof window<"u"?window:void 0;if(typeof r>"u")return;if(e){const o=mhe(e);if(o)return o}const i=(s=r.ethereum)==null?void 0:s.providers;{const o=phe(n);if(o)return o}return typeof i<"u"&&i.length>0?i[0]:r.ethereum}function QDe(n){return e=>{const r=n?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:n})}:{};return i=>({...lx(r)(i),...e})}}function JDe({flag:n,namespace:e,target:r}){const i=r||XDe({flag:n,namespace:e});return QDe(i)}var ghe=({appName:n,appIcon:e})=>{const{preference:r,...i}=ghe;return{id:"baseAccount",name:"Base Account",shortName:"Base Account",rdns:"app.base.account",iconUrl:async()=>(await ft(async()=>{const{default:s}=await import("./baseAccount-44UITRK7-CsjdbWCf.js");return{default:s}},[])).default,iconAccent:"#0000FF",iconBackground:"#0000FF",installed:!0,createConnector:s=>{const o=BIe({appName:n,appLogoUrl:e,...i,preference:{telemetry:!1,...r||{}}});return a=>({...o(a),...s})}}};function ZDe(n){return!(!(n!=null&&n.isMetaMask)||n.isBraveWallet&&!n._events&&!n._state||n.isApexWallet||n.isAvalanche||n.isBackpack||n.isBifrost||n.isBitKeep||n.isBitski||n.isBinance||n.isBlockWallet||n.isCoinbaseWallet||n.isDawn||n.isEnkrypt||n.isExodus||n.isFrame||n.isFrontier||n.isGamestop||n.isHyperPay||n.isImToken||n.isKuCoinWallet||n.isMathWallet||n.isNestWallet||n.isOkxWallet||n.isOKExWallet||n.isOneInchIOSWallet||n.isOneInchAndroidWallet||n.isOpera||n.isPhantom||n.isZilPay||n.isPortal||n.isxPortal||n.isRabby||n.isRainbow||n.isStatus||n.isTalisman||n.isTally||n.isTokenPocket||n.isTokenary||n.isTrust||n.isTrustWallet||n.isCTRL||n.isZeal||n.isCoin98||n.isMEWwallet||n.isSafeheron||n.isSafePal||n.isWigwam||n.isZerion||n.__seif)}var bhe=({projectId:n,walletConnectParameters:e})=>{const{...r}=bhe,i=typeof window<"u"?ZDe(window.ethereum):!1,s=!i&&!Hr(),o=i||Hr();return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await ft(async()=>{const{default:a}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:a}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:i||void 0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:o?a=>a:void 0},qrCode:s?{getUri:a=>`https://metamask.app.link/wc?uri=${encodeURIComponent(a)}`,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:s?P7({projectId:n,walletConnectParameters:e}):a=>l=>{var u,d,h;const c=g7({dappMetadata:{connector:"rainbowkit",name:(u=e==null?void 0:e.metadata)==null?void 0:u.name,iconUrl:(d=e==null?void 0:e.metadata)==null?void 0:d.icons[0],url:(h=e==null?void 0:e.metadata)==null?void 0:h.url},headless:!0,checkInstallationImmediately:!1,enableAnalytics:!1,...r})(l);return{...c,...a,getChainId:async()=>{var f;try{return await c.getChainId()}catch{return((f=l.chains[0])==null?void 0:f.id)??1}}}}}},e8e=({projectId:n,walletConnectParameters:e})=>{const r=KDe({flag:"isRainbow"}),i=!r,s=o=>Sde()?o:dx()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await ft(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:i?void 0:r,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:i?s:void 0},qrCode:i?{getUri:s,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:i?P7({projectId:n,walletConnectParameters:e}):JDe({flag:"isRainbow"})}},t8e=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await ft(async()=>{const{default:n}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:n}},[])).default,installed:!(typeof window>"u")&&(window==null?void 0:window.parent)!==window,downloadUrls:{},createConnector:n=>e=>({...b7()(e),...n})}),n8e=({projectId:n,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await ft(async()=>{const{default:i}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:i}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:i=>i},createConnector:P7({projectId:n,walletConnectParameters:e})}),r8e=n=>n.reduce((r,i)=>{const s=i.id;return r[s]=bR(),r},{}),i8e=({appName:n,appDescription:e,appUrl:r,appIcon:i,wallets:s,projectId:o,walletConnectParameters:a,...l})=>{const{transports:c,chains:u,...d}=l,h=fhe({appName:n,appDescription:e,appUrl:r,appIcon:i}),f=VDe(s||[{groupName:"Popular",wallets:[t8e,e8e,ghe,bhe,n8e]}],{projectId:o,appName:n,appDescription:e,appUrl:r,appIcon:i,walletConnectParameters:{metadata:h,...a}});return Tue({connectors:f,chains:u,transports:c||r8e(u),...d})};class TC{constructor(e,r=3,i=3e4){ze(this,"baseURL");ze(this,"timeout");ze(this,"maxRetries");this.baseURL=e.replace(/\/$/,""),this.maxRetries=r,this.timeout=i}async do(e){const r=Date.now();let i=null;for(let s=1;s<=this.maxRetries;s++)try{return{...await this.doRequest(e),duration:Date.now()-r}}catch(o){if(i=o,this.isNonceError(o))throw o;if(s<this.maxRetries){const a=s*1e3;await this.delay(a)}}throw new Error(`Request failed after ${this.maxRetries} attempts: ${i==null?void 0:i.message}`)}async doRequest(e){const r=`${this.baseURL}${e.path}`,i={"Content-Type":"application/json",Accept:"application/json, */*",...e.headers},s={method:e.method,headers:i,signal:AbortSignal.timeout(this.timeout)};e.body&&e.method!=="GET"?s.body=JSON.stringify(e.body):e.method==="GET"&&(s.body=void 0);const o=await fetch(r,s);let a;const l=o.headers.get("content-type");if(l!=null&&l.includes("application/json"))try{a=await o.json()}catch{a=await o.text()}else a=await o.text();if(o.status>=400)throw new Error(`HTTP ${o.status}: ${JSON.stringify(a)}`);return{statusCode:o.status,body:a,headers:o.headers}}isNonceError(e){const r=(e==null?void 0:e.message)||"";return r.toLowerCase().includes("nonce")||r.includes("InvalidNonce")||r.includes("NonceError")}delay(e){return new Promise(r=>setTimeout(r,e))}async get(e,r){return this.do({method:"GET",path:e,headers:r})}async post(e,r,i){return this.do({method:"POST",path:e,body:r,headers:i})}async put(e,r,i){return this.do({method:"PUT",path:e,body:r,headers:i})}async delete(e,r){return this.do({method:"DELETE",path:e,headers:r})}getBaseURL(){return this.baseURL}setTimeout(e){this.timeout=e}getTimeout(){return this.timeout}}const Od=1e8;function _n(n){const e=typeof n=="string"?parseFloat(n):n;if(isNaN(e))throw new Error(`Invalid value for satoshi conversion: ${n}`);if(e<0)throw new Error(`Negative values not allowed for satoshi conversion: ${n}`);return BigInt(Math.floor(e*Od)).toString()}function It(n){const e=BigInt(n),r=BigInt(Od),i=e/r,s=e%r;return Number(i)+Number(s)/Od}function I7(n){if(n<0)throw new Error(`Negative values not allowed: ${n}`);return Math.floor(n*Od)}function OR(n){try{return BigInt(n)>=0n}catch{return!1}}function yhe(n){return n.map(_n)}function vhe(n){return n.map(e=>It(typeof e=="string"?e:String(e)))}function DR(n){return`0x${(typeof n=="string"?parseInt(n,10):n).toString(16)}`}function $t(n){if(n==null||n==="")return 0;if(typeof n=="string"||typeof n=="number")try{return It(typeof n=="string"?n:String(n))}catch{return 0}return 0}function s8e(n){if(n==null||n==="")return 0;try{if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?0:e}return typeof n=="number"?isNaN(n)?0:n:0}catch{return 0}}function Tk(n){if(n==null||n==="")return BigInt(0);try{const e=typeof n=="string"?n:String(n);return e.trim()===""||isNaN(Number(e))?BigInt(0):BigInt(e)}catch{return BigInt(0)}}function o8e(n){return n===0?"":n.toFixed(6).replace(/\.?0+$/,"")}let Bb={instance:null,module:null},a8e=null;async function whe(){try{if(window.Go)console.log("wasm_exec.js already loaded");else{console.log("Loading wasm_exec.js...");const l=["/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.21.0/misc/wasm/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.20.0/misc/wasm/wasm_exec.js","https://unpkg.com/@go-wasm/wasm_exec@latest/wasm_exec.js"];let c=!1,u=null;for(const d of l)try{console.log(`Trying to load wasm_exec.js from: ${d}`),await new Promise((h,f)=>{const p=document.createElement("script");p.src=d,p.async=!0,p.onload=()=>{console.log(`Successfully loaded wasm_exec.js from: ${d}`),h()},p.onerror=()=>{f(new Error(`Failed to load from ${d}`))},document.head.appendChild(p)}),c=!0;break}catch(h){console.warn(`Failed to load from ${d}:`,h==null?void 0:h.message),u=h,document.head.querySelectorAll(`script[src="${d}"]`).forEach(p=>p.remove())}if(!c)throw new Error(`Failed to load wasm_exec.js from all sources. Last error: ${(u==null?void 0:u.message)||"Unknown error"}. Please ensure wasm_exec.js is available. You can download it from: https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js`);console.log("wasm_exec.js loaded successfully")}const n=window.Go;if(!n)throw new Error("Go runtime not available. Make sure wasm_exec.js is loaded.");console.log("Go runtime available");const e=new n;a8e=e,console.log("Go instance created");const r="/morm_signer.wasm";console.log("Loading WASM from:",r);let i;try{const l=await fetch(r);if(console.log("WASM fetch response:",{status:l.status,statusText:l.statusText,ok:l.ok,url:l.url}),!l.ok){const c=await l.text().catch(()=>"Unable to read error response");throw new Error(`Failed to load WASM from ${r}: ${l.status} ${l.statusText}. Make sure the morm_signer.wasm file is available in the public directory.`)}i=await l.arrayBuffer(),console.log("WASM file loaded successfully, size:",i.byteLength,"bytes")}catch(l){throw console.error("WASM fetch failed:",l),new Error(`Failed to fetch WASM file: ${(l==null?void 0:l.message)||l}. The file should be accessible at ${window.location.origin}${r}`)}console.log("Instantiating WASM module...");let s;try{s=await WebAssembly.instantiate(i,e.importObject),console.log("WASM module instantiated successfully")}catch(l){throw console.error("Failed to instantiate WASM:",l),new Error(`Failed to instantiate WASM module: ${(l==null?void 0:l.message)||l}. The WASM file may be corrupted or incompatible.`)}Bb.instance=s.instance,Bb.module=s.module,console.log("Running Go program...");try{e.run(Bb.instance),console.log("Go program started (run() completed)")}catch(l){throw console.error("Failed to run Go program:",l),new Error(`Failed to run Go program: ${(l==null?void 0:l.message)||l}. The WASM module may not be compatible with the current Go runtime.`)}console.log("Waiting for Go initialization and function exports...");const o=10;let a=[];for(let l=1;l<=o;l++){const c=Math.min(l*200,2e3);await new Promise(d=>setTimeout(d,c));const u=Object.keys(window).filter(d=>typeof window[d]=="function");if(a=u.filter(d=>d.startsWith("morm")||d.startsWith("derive")||d.startsWith("generate")||d.startsWith("Generate")||d.startsWith("verify")||d.startsWith("map")||d.startsWith("validate")||d==="GetSupportedSignatureTypes"||d==="IsSignatureTypeSupported"),console.log(`Attempt ${l}/${o}:`,{waitTime:`${c}ms`,allWindowFunctions:u.length,exportedFunctions:a,sampleWindowKeys:u.slice(0,20)}),a.length>0){console.log(" Go functions found!",a);break}l===o&&(console.warn(" No expected functions found. All window functions:",u.sort()),console.warn(" Check if functions are exported with different names or if there are Go runtime errors"))}if(a.length===0){const l=[],c=Object.keys(window);if(console.error("Debugging info:",{totalWindowKeys:c.length,allFunctions:c.filter(u=>typeof window[u]=="function"),hasGo:typeof window.Go=="function",wasmInstance:Bb.instance!==null,wasmModule:Bb.module!==null}),typeof window.InitWASMSigner=="function"){console.log("Found InitWASMSigner function, calling it...");try{window.InitWASMSigner(),await new Promise(d=>setTimeout(d,500));const u=Object.keys(window).filter(d=>typeof window[d]=="function"&&(d.startsWith("morm")||d.startsWith("derive")||d.startsWith("generate")||d.startsWith("Generate")||d==="GetSupportedSignatureTypes"||d==="IsSignatureTypeSupported"));u.length>0&&(console.log(" Functions found after InitWASMSigner!",u),a=u)}catch(u){console.error("Failed to call InitWASMSigner:",u)}}if(a.length===0)throw new Error(`Go functions not exported after initialization.

ROOT CAUSE: The Go main() function in main_wasm.go does not call InitWASMSigner(), which is required to export functions via js.Global().Set().

SOLUTION: The Go code needs to be fixed. In main_wasm.go, the main() function should call:
  InitWASMSigner(CreateTestnetDomain()) // or appropriate domain

Current status:
- WASM file loaded: 
- Go runtime loaded: ${typeof window.Go=="function"?"":""}
- Go program run: 
- Functions exported: 

Check the browser console for detailed debugging information.`)}return console.log("WASM module loaded and initialized successfully"),!0}catch(n){throw console.error("Failed to load WASM module:",n),new Error((n==null?void 0:n.message)||`Failed to load WASM module: ${String(n)}`)}}class l8e{constructor(){ze(this,"isInitialized",!1);ze(this,"wasmLoaded",!1)}async initialize(){try{return this.wasmLoaded=await whe(),this.isInitialized=this.wasmLoaded,this.wasmLoaded}catch(e){throw console.error("Failed to initialize MormSigner:",e),new Error((e==null?void 0:e.message)||"Failed to initialize WASM module")}}isReady(){return this.isInitialized&&this.wasmLoaded&&typeof window.mormGenerateEthereumKeypair=="function"&&typeof window.GenerateSingleSignature=="function"&&typeof window.GenerateMultisignSignatures=="function"&&typeof window.GetSupportedSignatureTypes=="function"&&typeof window.IsSignatureTypeSupported=="function"&&typeof window.deriveAddressChain=="function"}async generateAddress(e,r=0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.deriveAddress(e,r);return typeof i=="string"?{success:!0,address:i,index:r,mnemonic:e.substring(0,20)+"..."}:i&&i.error?{success:!1,error:i.error}:{success:!1,error:"Failed to derive address"}}catch(i){return console.error("Failed to generate address:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async generateAddressChain(e,r,i=0,s=!0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};if(typeof window.deriveAddressChain!="function")return{success:!1,error:"deriveAddressChain function not available. Please update WASM module."};try{const o=window.deriveAddressChain(e,r,i,s);return typeof o=="string"?o.startsWith("error: ")?{success:!1,error:o.substring(7)}:{success:!0,address:o,chainType:r,index:i,isMainnet:s}:o&&o.error?{success:!1,error:o.error}:{success:!1,error:"Failed to derive address"}}catch(o){return console.error("Failed to generate multichain address:",o),{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}async generateMnemonic(e=12){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.generateMnemonic(e);return typeof r=="string"?{success:!0,mnemonic:r}:r&&r.error?{success:!1,error:r.error}:{success:!1,error:"Failed to generate mnemonic"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async generateKeypair(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const e=window.mormGenerateEthereumKeypair();return e.error?{success:!1,error:e.error}:{success:!0,privateKey:e.privateKey,address:e.address}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async signMessage(e,r,i={}){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=(i.useEIP712,"ECDSA_LEGACY"),o=window.generateSignature(s,e,r);return typeof o=="string"?{success:!0,signature:o,message:r,options:i}:o&&o.error?{success:!1,error:o.error}:{success:!1,error:"Failed to generate signature"}}catch(s){return console.error("Failed to sign message:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async signDeposit(e,r,i,s={}){const o={...s,depositMode:!0,walletAddress:r,amount:i},a=JSON.stringify({action:"deposit",owner:r,amount:i,nonce:s.nonce||Date.now(),deadline:s.deadline||Date.now()+36e5}),l=await this.signMessage(e,a,o);return{success:l.success,signature:l.signature,message:l.message,address:r,options:l.options,error:l.error}}async signEIP712(e,r,i={}){const s={...i,useEIP712:!0};return this.signMessage(e,r,s)}async prepareAgentSign(e){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.mormPrepareAgentSign(e.owner,e.agent,e.expiresInDays,e.permissions,e.nonce);return r&&r.error?{success:!1,error:r.error}:{success:!0,typedData:r}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async signAgentApproval(e,r){const i=await this.prepareAgentSign(r);if(!i.success||!i.typedData)return i;const s=JSON.stringify({action:"agent::approve",wallet:r.owner,agent:r.agent,agentName:r.agentName||"",expiresInDays:r.expiresInDays,permissions:r.permissions,nonce:r.nonce,deadline:Date.now()+r.expiresInDays*24*60*60*1e3}),o=await this.signMessage(e,s,{useEIP712:!0});return o.success?{success:!0,typedData:i.typedData,signature:o.signature}:{success:!1,error:o.error}}async verifySignature(e,r,i){if(!this.isReady())throw new Error("MormSigner not initialized");try{const s=window.verifySignature(e,r,i);return typeof s=="boolean"?s:!1}catch(s){return console.error("Failed to verify signature:",s),!1}}mapAlgorithm(e){if(!this.isReady())return"ECDSA_LEGACY";try{return window.mapAlgorithm(e)}catch(r){return console.error("Failed to map algorithm:",r),"ECDSA_LEGACY"}}validateNonce(e,r,i){if(!this.isReady())return!1;try{const s=window.validateNonce(e,r,i);return typeof s=="boolean"?s:!1}catch(s){return console.error("Failed to validate nonce:",s),!1}}getStatus(){return{initialized:this.isInitialized,wasmLoaded:this.wasmLoaded,ready:this.isReady()}}async generateSingleSignature(e,r,i){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=window.GenerateSingleSignature(e,r,i);return s.error?{success:!1,error:s.error}:{success:!0,signature:s.signature}}catch(s){return console.error("Failed to generate single signature:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async generateMultisignSignatures(e,r,i=!1){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=window.GenerateMultisignSignatures(e,r,i);if(s.error)return{success:!1,error:s.error};let o=null;if(s.tx)try{o=JSON.parse(s.tx)}catch(a){console.warn("Failed to parse updated transaction JSON:",a)}return{success:!0,tx:o,txJSON:s.tx}}catch(s){return console.error("Failed to generate multisign signatures:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}getSupportedSignatureTypes(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{return{success:!0,types:window.GetSupportedSignatureTypes()}}catch(e){return console.error("Failed to get supported signature types:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}isSignatureTypeSupported(e){if(!this.isReady())return!1;try{return window.IsSignatureTypeSupported(e)}catch(r){return console.error("Failed to check signature type support:",r),!1}}}const Bt=new l8e,c8e=6e4,RU=100,P5=24*60*60*1e3,I5=1;function G1(n,e){const r=n.toLowerCase();return e?`${r}:${e}`:r}class M7{constructor(e){ze(this,"infoClient");ze(this,"onChainState",new Map);ze(this,"offChainNonces",new Map);ze(this,"syncTimers",new Map);this.infoClient=e}getOrCreateState(e,r){const i=G1(e,r);let s=this.onChainState.get(i);return s||(s={confirmed:0,pending:[],lastSync:0,mu:!1},this.onChainState.set(i,s)),s}async acquireLock(e){for(;e.mu;)await new Promise(r=>setTimeout(r,10));e.mu=!0}releaseLock(e){e.mu=!1}async syncWithCore(e,r){const i=this.getOrCreateState(e,r),s=Date.now();if(!(s-i.lastSync<c8e))try{const o=await this.infoClient.getNonceStatus(e,!1),a=(o==null?void 0:o.next_nonce)!==void 0?typeof o.next_nonce=="string"?parseInt(o.next_nonce,10):o.next_nonce:0;i.confirmed=a,i.lastSync=s}catch(o){const a=G1(e,r);console.warn(`[NonceManager] Failed to sync with core for ${a}:`,o)}}async getNonce(e,r="latest",i){const s=this.getOrCreateState(e,i);if(await this.syncWithCore(e,i),r==="latest")return s.confirmed;{const o=s.pending.length>0?Math.max(...s.pending):s.confirmed;return Math.max(s.confirmed,o)}}async validateNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{if(i||await this.syncWithCore(e,s),o.confirmed===0&&r<I5)throw new Error(`nonce too low for new account: got ${r}, minimum ${I5}`);if(o.confirmed>0&&r<=o.confirmed)throw new Error(`nonce too low: got ${r}, confirmed ${o.confirmed}`);if(o.pending.includes(r))throw new Error(`nonce already pending: ${r}`);if(o.pending.length>=RU)throw new Error(`pending nonce limit reached: max ${RU} pending nonces`);if(i){const a=e.toLowerCase(),l=this.offChainNonces.get(a);if(l){const c=l.get(r);if(c){const u=Date.now();if(u-c<P5)throw new Error(`nonce already used (off-chain): ${r}, expires in ${Math.floor((P5-(u-c))/1e3)}s`);l.delete(r)}}}o.pending.push(r),o.pending.sort((a,l)=>a-l)}finally{this.releaseLock(o)}}async commitNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{const a=o.pending.indexOf(r);if(a!==-1&&o.pending.splice(a,1),i){const l=e.toLowerCase();let c=this.offChainNonces.get(l);c||(c=new Map,this.offChainNonces.set(l,c)),c.set(r,Date.now())}else if(r===o.confirmed+1)for(o.confirmed=r;o.pending.length>0&&o.pending[0]===o.confirmed+1;){const l=o.pending.shift();o.confirmed=l}}finally{this.releaseLock(o)}}async rejectNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{const a=o.pending.indexOf(r);if(a!==-1&&o.pending.splice(a,1),i){const l=e.toLowerCase(),c=this.offChainNonces.get(l);c&&c.delete(r)}}finally{this.releaseLock(o)}}async getExpectedNextNonce(e,r=!1,i){await this.syncWithCore(e,i);const s=this.getOrCreateState(e,i),o=s.pending.length>0?Math.max(...s.pending):s.confirmed,a=Math.max(s.confirmed+1,o+1),l=a===0?I5:a;if(r)try{await this.validateNonce(e,l,!1,i)}catch(c){console.warn(`[NonceManager] Failed to reserve nonce ${l}:`,c.message)}return{next_nonce:l,reserved:r,timestamp:Date.now()}}cleanupExpiredOffChainNonces(){const e=Date.now();for(const[r,i]of this.offChainNonces.entries()){for(const[s,o]of i.entries())e-o>=P5&&i.delete(s);i.size===0&&this.offChainNonces.delete(r)}}resetNonce(e,r){const i=e.toLowerCase();if(r){const o=G1(e,r);this.onChainState.delete(o)}else{const o=[];for(const a of this.onChainState.keys())(a===i||a.startsWith(`${i}:`))&&o.push(a);o.forEach(a=>this.onChainState.delete(a))}this.offChainNonces.delete(i);const s=this.syncTimers.get(i);s&&(clearInterval(s),this.syncTimers.delete(i))}getState(e,r){const i=G1(e,r);return this.onChainState.get(i)}}class Cr{constructor(e){ze(this,"httpClient");ze(this,"sessionToken");this.httpClient=new TC(e.baseURL),this.sessionToken=e.sessionToken}setSessionToken(e){this.sessionToken=e}getHeaders(){const e={Accept:"application/json, */*"};return this.sessionToken&&(e.Authorization=`Bearer ${this.sessionToken}`),e}async getMarkets(){const r=(await this.httpClient.get("/market/v1/all",this.getHeaders())).body;return Array.isArray(r)?r:r&&typeof r=="object"&&"markets"in r?r.markets:[]}async getMarketsWithFilters(e,r){let i="/market/v1/all";const s=[];e&&s.push(`filter=${e}`),r&&s.push("active_only=true"),s.length>0&&(i+="?"+s.join("&"));const a=(await this.httpClient.get(i,this.getHeaders())).body;return Array.isArray(a)?a:a&&typeof a=="object"&&"markets"in a?a.markets:[]}async getMarketByID(e){return(await this.httpClient.get(`/market/v1/market/${e}`,this.getHeaders())).body}async getMarketByMoniker(e){return(await this.httpClient.get(`/market/v1/market/by-moniker/${e}`,this.getHeaders())).body}async getMarketStats(e){return(await this.httpClient.get(`/market/v1/market/${e}/stats`,this.getHeaders())).body}async getTicker(e){return this.getMarketStats(e)}async getExchangeInfo(){return(await this.httpClient.get("/market/v1/exchangeInfo",this.getHeaders())).body}async getOrderbook(e,r=!0,i=20){let s=`/clob/v1/orderbook/${e}`,o=20;i>0&&i<100&&(o=i),s+=`?depth=${o}`;const l=(await this.httpClient.get(s,this.getHeaders())).body;return r&&l&&(l.bids&&Array.isArray(l.bids)&&(l.bids=l.bids.map(([c,u])=>[It(c),It(u)])),l.asks&&Array.isArray(l.asks)&&(l.asks=l.asks.map(([c,u])=>[It(c),It(u)]))),l}async getMarketTrades(e,r){let i=`/clob/v1/trades?market_id=${e}`;r&&r>0&&(i+=`&limit=${r}`);const s=await this.httpClient.get(i,this.getHeaders());console.debug("[InfoClient] getMarketTrades response for marketId:",e,"response:",s.body);const o=s.body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:(console.warn("[InfoClient] getMarketTrades: Unexpected response structure:",s.body),[])}async getRecentTrades(e,r=100){return this.getMarketTrades(e,r)}async getTrades(e,r){let i=`/clob/v1/trades?symbol=${e}`;r&&r>0&&(i+=`&limit=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:[]}async getAggTrades(e,r,i,s){let o=`/market/v1/aggTrades?symbol=${e}`;return r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`),(await this.httpClient.get(o,this.getHeaders())).body}async getKlines(e,r,i,s,o){let a=`/clob/v1/klines?symbol=${e}&interval=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c)?c:[]}async getContinuousKlines(e,r,i,s,o,a){let l=`/market/v1/continuousKlines?pair=${e}&contractType=${r}&interval=${i}`;return s&&s>0&&(l+=`&limit=${s}`),o&&o>0&&(l+=`&startTime=${o}`),a&&a>0&&(l+=`&endTime=${a}`),(await this.httpClient.get(l,this.getHeaders())).body}async getPremiumIndex(e){let r="/market/v1/premiumIndex";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getFundingRate(e,r,i,s){let o="/market/v1/fundingRate";const a=[];e&&a.push(`symbol=${e}`),r&&r>0&&a.push(`limit=${r}`),i&&i>0&&a.push(`startTime=${i}`),s&&s>0&&a.push(`endTime=${s}`),a.length>0&&(o+="?"+a.join("&"));const c=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(c)?c:c&&typeof c=="object"&&"data"in c&&Array.isArray(c.data)?c.data:c?[c]:[]}async getFundingInfo(){const r=(await this.httpClient.get("/market/v1/fundingInfo",this.getHeaders())).body;return Array.isArray(r)?r:[]}async getDeliveryPrice(e){return(await this.httpClient.get(`/market/v1/deliveryPrice?pair=${e}`,this.getHeaders())).body}async getOpenInterest(e){return(await this.httpClient.get(`/market/v1/openInterest?symbol=${e}`,this.getHeaders())).body}async getTopLongShortPositionRatio(e,r,i,s,o){let a=`/market/v1/topLongShortPositionRatio?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getGlobalLongShortAccountRatio(e,r,i,s,o){let a=`/market/v1/globalLongShortAccountRatio?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getTicker24hr(e){let r="/market/v1/moniker/24hr";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getTickerPrice(e){let r="/market/v1/moniker/price";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getOrderbookMoniker(e){let r="/market/v1/moniker/bookTicker";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getBasis(e,r,i,s,o){let a=`/market/v1/basis?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getIndexInfo(e){let r="/market/v1/indexInfo";return e&&(r+=`?symbol=${e}`),(await this.httpClient.get(r,this.getHeaders())).body}async getAssetIndex(e){let r="/market/v1/assetIndex";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getConstituents(e){return(await this.httpClient.get(`/market/v1/constituents?symbol=${e}`,this.getHeaders())).body}async getTWAP(e,r){return(await this.httpClient.get(`/market/v1/twap?symbol=${e}&duration=${r}`,this.getHeaders())).body}async getPositions(e,r){if(!e)throw new Error("walletAddress is required for getPositions");let i=`/bucket/v1/address/${e}/positions`;r!==void 0&&(i+=`?active_only=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return Array.isArray(o)?o:o&&typeof o=="object"&&"positions"in o&&Array.isArray(o.positions)?o.positions:[]}async getBalance(e,r){let i=`/bank/v1/balance/${e}?asset=${r}`;return(await this.httpClient.get(i,this.getHeaders())).body}async getBalances(e){const i=(await this.httpClient.get(`/bank/v1/balances/${e}`,this.getHeaders())).body;return i&&typeof i=="object"&&"balances"in i&&Array.isArray(i.balances)?i.balances:[]}async getBalanceDecimal(e,r){const i=await this.getBalance(e,r);if(i&&typeof i=="object"){const s={...i};return s.balance&&(s.balance=It(s.balance)),s.available_balance&&(s.available=It(s.available_balance),s.available_balance=It(s.available_balance)),s.available&&typeof s.available=="string"&&(s.available=It(s.available)),s.locked_balance&&(s.locked=It(s.locked_balance),s.locked_balance=It(s.locked_balance)),s.locked&&typeof s.locked=="string"&&(s.locked=It(s.locked)),s}return i}async getOrders(e,r){let i=`/clob/v1/address/orders?address=${encodeURIComponent(e)}`;return r&&(i+=`&asset_pair=${encodeURIComponent(r)}`),(await this.httpClient.get(i,this.getHeaders())).body}async getOrder(e){return(await this.httpClient.get(`/clob/v1/order/${e}`,this.getHeaders())).body}async getOrderHistory(e){return(await this.httpClient.get(`/clob/v1/address/orders/history?address=${e}`,this.getHeaders())).body}async getUserTrades(e,r){let i=`/clob/v1/address/trades?address=${e}`;r&&(i+=`&asset_pair=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:[]}async getTradeHistory(e,r){return this.getUserTrades(e,r)}async getPosition(e,r){let i=`/clob/v1/address/position?address=${e}`;r&&(i+=`&asset_pair=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return o&&typeof o=="object"&&"positions"in o&&Array.isArray(o.positions)?o.positions:[]}async getBuckets(e){var i;const r=await this.httpClient.get(`/bucket/v1/address/${e}/buckets`,this.getHeaders());return(i=r.body)!=null&&i.buckets&&Array.isArray(r.body.buckets)?r.body.buckets:[]}async getBucket(e){return(await this.httpClient.get(`/bucket/v1/bucket/${e}`,this.getHeaders())).body}async getMarketData(e){return(await this.httpClient.get(`/clob/v1/market/data?asset_pair=${e}`,this.getHeaders())).body}async getMarketCandles(e,r,i){const o=(await this.httpClient.get(`/clob/v1/market/candles?asset_pair=${e}&interval=${r}&limit=${i}`,this.getHeaders())).body;return Array.isArray(o)?o:[]}async getNonceStatus(e,r=!1){let i=`/router/v1/nonce/status/${e}`;return r&&(i+="?reserve=true"),(await this.httpClient.get(i,this.getHeaders())).body}async getSupportedActions(){return(await this.httpClient.get("/router/v1/tx/supported-actions",this.getHeaders())).body}async validateAction(e){return(await this.httpClient.get(`/router/v1/tx/validate-action?action=${encodeURIComponent(e)}`,this.getHeaders())).body}async getHealthSummary(){return(await this.httpClient.get("/router/v1/health/summary",this.getHeaders())).body}async getHealthDaemons(){return(await this.httpClient.get("/router/v1/health/daemons",this.getHeaders())).body}async getHealthBucket(){return(await this.httpClient.get("/router/v1/health/bucket",this.getHeaders())).body}async getServerTime(){return(await this.httpClient.get("/router/v1/time",this.getHeaders())).body}async getMetricsTPS(){return(await this.httpClient.get("/router/v1/metrics/tps",this.getHeaders())).body}async getMetricsLatency(){return(await this.httpClient.get("/router/v1/metrics/latency",this.getHeaders())).body}}function u8e(n){var l,c,u;if(!n)return!1;const e=String(n).toLowerCase(),r=((l=n==null?void 0:n.message)==null?void 0:l.toLowerCase())||e,i=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),s=((c=i==null?void 0:i.error)==null?void 0:c.toLowerCase())||((u=i==null?void 0:i.message)==null?void 0:u.toLowerCase())||"",o=["nonce too low","nonce too high","nonce already used","nonce already pending","nonce invalid","nonce expired","nonce mismatch","invalid nonce","nonce out of order"],a=`${r} ${e} ${s}`.toLowerCase();return o.some(d=>a.includes(d))}function d8e(n){var l,c,u;if(!n)return!1;const e=String(n).toLowerCase(),r=((l=n==null?void 0:n.message)==null?void 0:l.toLowerCase())||e,i=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),s=((c=i==null?void 0:i.error)==null?void 0:c.toLowerCase())||((u=i==null?void 0:i.message)==null?void 0:u.toLowerCase())||"",o=["signature verification failed","invalid signature","unauthenticated","signature mismatch","signature invalid"],a=`${r} ${e} ${s}`.toLowerCase();return o.some(d=>a.includes(d))}function h8e(n){if(!n)return[!1,!1];const e=u8e(n),r=d8e(n);return[e,r]}function O7(n){const[e,r]=h8e(n);return e||r}const xhe="6.16.0";async function D7(n){const e=Object.keys(n);return(await Promise.all(e.map(i=>Promise.resolve(n[i])))).reduce((i,s,o)=>(i[e[o]]=s,i),{})}function oo(n,e,r){for(let i in e){let s=e[i];Object.defineProperty(n,i,{enumerable:!0,value:s,writable:!1})}}function Om(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(r=>Om(r,e)).join(", ")+" ]";if(n instanceof Uint8Array){const r="0123456789abcdef";let i="0x";for(let s=0;s<n.length;s++)i+=r[n[s]>>4],i+=r[n[s]&15];return i}if(typeof n=="object"&&typeof n.toJSON=="function")return Om(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const r=Object.keys(n);return r.sort(),"{ "+r.map(i=>`${Om(i,e)}: ${Om(n[i],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function f8e(n,e,r){let i=n;{const o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Om(r)}`);for(const a in r){if(a==="shortMessage")continue;const l=r[a];o.push(a+"="+Om(l))}}o.push(`code=${e}`),o.push(`version=${xhe}`),o.length&&(n+=" ("+o.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return oo(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&oo(s,{shortMessage:i}),s}function bn(n,e,r,i){if(!n)throw f8e(e,r,i)}function $e(n,e,r,i){bn(n,e,"INVALID_ARGUMENT",{argument:r,value:i})}const p8e=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function _he(n){bn(p8e.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function PC(n,e,r){if(r==null&&(r=""),n!==e){let i=r,s="new";r&&(i+=".",s+=" "+r),bn(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function She(n,e,r){if(n instanceof Uint8Array)return r?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const i=new Uint8Array((n.length-2)/2);let s=2;for(let o=0;o<i.length;o++)i[o]=parseInt(n.substring(s,s+2),16),s+=2;return i}$e(!1,"invalid BytesLike value",e||"value",n)}function At(n,e){return She(n,e,!1)}function pm(n,e){return She(n,e,!0)}function $l(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function IC(n){return $l(n,!0)||n instanceof Uint8Array}const NU="0123456789abcdef";function yt(n){const e=At(n);let r="0x";for(let i=0;i<e.length;i++){const s=e[i];r+=NU[(s&240)>>4]+NU[s&15]}return r}function Mr(n){return"0x"+n.map(e=>yt(e).substring(2)).join("")}function Gy(n){return $l(n,!0)?(n.length-2)/2:At(n).length}function R7(n,e,r){const i=At(n);return r>i.length&&bn(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),yt(i.slice(e,r))}function m8e(n,e,r){const i=At(n);bn(e>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),s.set(i,e-i.length),yt(s)}function Vd(n,e){return m8e(n,e)}const MC=BigInt(0),$h=BigInt(1),Dm=9007199254740991;function g8e(n,e){let r=Un(n,"value");const i=BigInt(ao(e,"width")),s=$h<<i-$h;if(r<MC){r=-r,bn(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const o=($h<<i)-$h;return(~r&o)+$h}else bn(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return r}function b8e(n,e){const r=N7(n,"value"),i=BigInt(ao(e,"bits"));return r&($h<<i)-$h}function Un(n,e){switch(typeof n){case"bigint":return n;case"number":return $e(Number.isInteger(n),"underflow",e||"value",n),$e(n>=-Dm&&n<=Dm,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(r){$e(!1,`invalid BigNumberish string: ${r.message}`,e||"value",n)}}$e(!1,"invalid BigNumberish value",e||"value",n)}function N7(n,e){const r=Un(n,e);return bn(r>=MC,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),r}const jU="0123456789abcdef";function khe(n){if(n instanceof Uint8Array){let e="0x0";for(const r of n)e+=jU[r>>4],e+=jU[r&15];return BigInt(e)}return Un(n)}function ao(n,e){switch(typeof n){case"bigint":return $e(n>=-Dm&&n<=Dm,"overflow",e||"value",n),Number(n);case"number":return $e(Number.isInteger(n),"underflow",e||"value",n),$e(n>=-Dm&&n<=Dm,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return ao(BigInt(n),e)}catch(r){$e(!1,`invalid numeric string: ${r.message}`,e||"value",n)}}$e(!1,"invalid numeric value",e||"value",n)}function a0(n,e){const r=N7(n,"value");let i=r.toString(16);{const s=ao(e,"width");if(s===0&&r===MC)return"0x";for(bn(s*2>=i.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});i.length<s*2;)i="0"+i}return"0x"+i}function Pr(n,e){const r=N7(n,"value");if(r===MC)return new Uint8Array(0);let i=r.toString(16);i.length%2&&(i="0"+i);const s=new Uint8Array(i.length/2);for(let o=0;o<s.length;o++){const a=o*2;s[o]=parseInt(i.substring(a,a+2),16)}return s}function y8e(n){let e=yt(IC(n)?n:Pr(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Pk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Y1=null;function v8e(n){if(Y1==null){Y1={};for(let r=0;r<Pk.length;r++)Y1[Pk[r]]=BigInt(r)}const e=Y1[n];return $e(e!=null,"invalid base58 value","letter",n),e}const w8e=BigInt(0),RR=BigInt(58);function x8e(n){const e=At(n);let r=khe(e),i="";for(;r;)i=Pk[Number(r%RR)]+i,r/=RR;for(let s=0;s<e.length&&!e[s];s++)i=Pk[0]+i;return i}function _8e(n){let e=w8e;for(let r=0;r<n.length;r++)e*=RR,e+=v8e(n[r]);return e}function Sf(n,e){$e(typeof n=="string","invalid string value","str",n),e!=null&&(_he(e),n=n.normalize(e));let r=[];for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){i++;const o=n.charCodeAt(i);$e(i<n.length&&(o&64512)===56320,"invalid surrogate pair","str",n);const a=65536+((s&1023)<<10)+(o&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function S8e(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function BU(n,e,r){let i=0;for(let s=0;s<r;s++)i=i*256+n[e+s];return i}function LU(n,e,r,i){const s=[];for(;r<e+1+i;){const o=Che(n,r);s.push(o.result),r+=o.consumed,bn(r<=e+1+i,"child data too short","BUFFER_OVERRUN",{buffer:n,length:i,offset:e})}return{consumed:1+i,result:s}}function Che(n,e){bn(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const r=i=>{bn(i<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:i})};if(n[e]>=248){const i=n[e]-247;r(e+1+i);const s=BU(n,e+1,i);return r(e+1+i+s),LU(n,e,e+1+i,i+s)}else if(n[e]>=192){const i=n[e]-192;return r(e+1+i),LU(n,e,e+1,i)}else if(n[e]>=184){const i=n[e]-183;r(e+1+i);const s=BU(n,e+1,i);r(e+1+i+s);const o=yt(n.slice(e+1+i,e+1+i+s));return{consumed:1+i+s,result:o}}else if(n[e]>=128){const i=n[e]-128;r(e+1+i);const s=yt(n.slice(e+1,e+1+i));return{consumed:1+i,result:s}}return{consumed:1,result:S8e(n[e])}}function mx(n){const e=At(n,"data"),r=Che(e,0);return $e(r.consumed===e.length,"unexpected junk after rlp payload","data",n),r.result}function FU(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function Ehe(n){if(Array.isArray(n)){let i=[];if(n.forEach(function(o){i=i.concat(Ehe(o))}),i.length<=55)return i.unshift(192+i.length),i;const s=FU(i.length);return s.unshift(247+s.length),s.concat(i)}const e=Array.prototype.slice.call(At(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=FU(e.length);return r.unshift(183+r.length),r.concat(e)}const $U="0123456789abcdef";function qc(n){let e="0x";for(const r of Ehe(n))e+=$U[r>>4],e+=$U[r&15];return e}function k8e(n){const e=At(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=yt(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}function Js(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function j7(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function Ahe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Js(n.outputLen),Js(n.blockLen)}function l0(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function The(n,e){j7(n);const r=e.outputLen;if(n.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const M5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Phe=n=>n instanceof Uint8Array,fS=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),pS=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),el=(n,e)=>n<<32-e|n>>>e,C8e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!C8e)throw new Error("Non little-endian hardware is not supported");const E8e=async()=>{};async function zU(n,e,r){let i=Date.now();for(let s=0;s<n;s++){r(s);const o=Date.now()-i;o>=0&&o<e||(await E8e(),i+=o)}}function A8e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function c0(n){if(typeof n=="string"&&(n=A8e(n)),!Phe(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function T8e(...n){const e=new Uint8Array(n.reduce((i,s)=>i+s.length,0));let r=0;return n.forEach(i=>{if(!Phe(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}class B7{clone(){return this._cloneInto()}}const P8e={}.toString;function Ihe(n,e){if(e!==void 0&&P8e.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function OC(n){const e=i=>n().update(c0(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}function I8e(n=32){if(M5&&typeof M5.getRandomValues=="function")return M5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class Mhe extends B7{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Ahe(e);const i=c0(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return l0(this),this.iHash.update(e),this}digestInto(e){l0(this),j7(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const DC=(n,e,r)=>new Mhe(n,e).update(r).digest();DC.create=(n,e)=>new Mhe(n,e);function M8e(n,e,r,i){Ahe(n);const s=Ihe({dkLen:32,asyncTick:10},i),{c:o,dkLen:a,asyncTick:l}=s;if(Js(o),Js(a),Js(l),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=c0(e),u=c0(r),d=new Uint8Array(a),h=DC.create(n,c),f=h._cloneInto().update(u);return{c:o,dkLen:a,asyncTick:l,DK:d,PRF:h,PRFSalt:f}}function O8e(n,e,r,i,s){return n.destroy(),e.destroy(),i&&i.destroy(),s.fill(0),r}function L7(n,e,r,i){const{c:s,dkLen:o,DK:a,PRF:l,PRFSalt:c}=M8e(n,e,r,i);let u;const d=new Uint8Array(4),h=pS(d),f=new Uint8Array(l.outputLen);for(let p=1,m=0;m<o;p++,m+=l.outputLen){const b=a.subarray(m,m+l.outputLen);h.setInt32(0,p,!1),(u=c._cloneInto(u)).update(d).digestInto(f),b.set(f.subarray(0,b.length));for(let y=1;y<s;y++){l._cloneInto(u).update(f).digestInto(f);for(let v=0;v<b.length;v++)b[v]^=f[v]}}return O8e(l,c,a,u,f)}function D8e(n,e,r,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),c=i?4:0,u=i?0:4;n.setUint32(e+c,a,i),n.setUint32(e+u,l,i)}class F7 extends B7{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pS(this.buffer)}update(e){l0(this);const{view:r,buffer:i,blockLen:s}=this;e=c0(e);const o=e.length;for(let a=0;a<o;){const l=Math.min(s-this.pos,o-a);if(l===s){const c=pS(e);for(;s<=o-a;a+=s)this.process(c,a);continue}i.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){l0(this),The(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let h=a;h<s;h++)r[h]=0;D8e(i,s-8,BigInt(this.length*8),o),this.process(i,0);const l=pS(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)l.setUint32(4*h,d[h],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:l}=this;return e.length=s,e.pos=l,e.finished=o,e.destroyed=a,s%r&&e.buffer.set(i),e}}const R8e=(n,e,r)=>n&e^~n&r,N8e=(n,e,r)=>n&e^n&r^e&r,j8e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Du=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ru=new Uint32Array(64);class B8e extends F7{constructor(){super(64,32,8,!1),this.A=Du[0]|0,this.B=Du[1]|0,this.C=Du[2]|0,this.D=Du[3]|0,this.E=Du[4]|0,this.F=Du[5]|0,this.G=Du[6]|0,this.H=Du[7]|0}get(){const{A:e,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;return[e,r,i,s,o,a,l,c]}set(e,r,i,s,o,a,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)Ru[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=Ru[h-15],p=Ru[h-2],m=el(f,7)^el(f,18)^f>>>3,b=el(p,17)^el(p,19)^p>>>10;Ru[h]=b+Ru[h-7]+m+Ru[h-16]|0}let{A:i,B:s,C:o,D:a,E:l,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const f=el(l,6)^el(l,11)^el(l,25),p=d+f+R8e(l,c,u)+j8e[h]+Ru[h]|0,b=(el(i,2)^el(i,13)^el(i,22))+N8e(i,s,o)|0;d=u,u=c,c=l,l=a+p|0,a=o,o=s,s=i,i=p+b|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,l,c,u,d)}roundClean(){Ru.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const K0=OC(()=>new B8e),K1=BigInt(2**32-1),NR=BigInt(32);function Ohe(n,e=!1){return e?{h:Number(n&K1),l:Number(n>>NR&K1)}:{h:Number(n>>NR&K1)|0,l:Number(n&K1)|0}}function Dhe(n,e=!1){let r=new Uint32Array(n.length),i=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:o,l:a}=Ohe(n[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const L8e=(n,e)=>BigInt(n>>>0)<<NR|BigInt(e>>>0),F8e=(n,e,r)=>n>>>r,$8e=(n,e,r)=>n<<32-r|e>>>r,z8e=(n,e,r)=>n>>>r|e<<32-r,U8e=(n,e,r)=>n<<32-r|e>>>r,W8e=(n,e,r)=>n<<64-r|e>>>r-32,q8e=(n,e,r)=>n>>>r-32|e<<64-r,H8e=(n,e)=>e,V8e=(n,e)=>n,Rhe=(n,e,r)=>n<<r|e>>>32-r,Nhe=(n,e,r)=>e<<r|n>>>32-r,jhe=(n,e,r)=>e<<r-32|n>>>64-r,Bhe=(n,e,r)=>n<<r-32|e>>>64-r;function G8e(n,e,r,i){const s=(e>>>0)+(i>>>0);return{h:n+r+(s/2**32|0)|0,l:s|0}}const Y8e=(n,e,r)=>(n>>>0)+(e>>>0)+(r>>>0),K8e=(n,e,r,i)=>e+r+i+(n/2**32|0)|0,X8e=(n,e,r,i)=>(n>>>0)+(e>>>0)+(r>>>0)+(i>>>0),Q8e=(n,e,r,i,s)=>e+r+i+s+(n/2**32|0)|0,J8e=(n,e,r,i,s)=>(n>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(s>>>0),Z8e=(n,e,r,i,s,o)=>e+r+i+s+o+(n/2**32|0)|0,Zt={fromBig:Ohe,split:Dhe,toBig:L8e,shrSH:F8e,shrSL:$8e,rotrSH:z8e,rotrSL:U8e,rotrBH:W8e,rotrBL:q8e,rotr32H:H8e,rotr32L:V8e,rotlSH:Rhe,rotlSL:Nhe,rotlBH:jhe,rotlBL:Bhe,add:G8e,add3L:Y8e,add3H:K8e,add4L:X8e,add4H:Q8e,add5H:Z8e,add5L:J8e},[eRe,tRe]=Zt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Nu=new Uint32Array(80),ju=new Uint32Array(80);class nRe extends F7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:b,Hl:y}=this;return[e,r,i,s,o,a,l,c,u,d,h,f,p,m,b,y]}set(e,r,i,s,o,a,l,c,u,d,h,f,p,m,b,y){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=s|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=b|0,this.Hl=y|0}process(e,r){for(let _=0;_<16;_++,r+=4)Nu[_]=e.getUint32(r),ju[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const x=Nu[_-15]|0,S=ju[_-15]|0,C=Zt.rotrSH(x,S,1)^Zt.rotrSH(x,S,8)^Zt.shrSH(x,S,7),E=Zt.rotrSL(x,S,1)^Zt.rotrSL(x,S,8)^Zt.shrSL(x,S,7),T=Nu[_-2]|0,M=ju[_-2]|0,I=Zt.rotrSH(T,M,19)^Zt.rotrBH(T,M,61)^Zt.shrSH(T,M,6),O=Zt.rotrSL(T,M,19)^Zt.rotrBL(T,M,61)^Zt.shrSL(T,M,6),F=Zt.add4L(E,O,ju[_-7],ju[_-16]),$=Zt.add4H(F,C,I,Nu[_-7],Nu[_-16]);Nu[_]=$|0,ju[_]=F|0}let{Ah:i,Al:s,Bh:o,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:h,El:f,Fh:p,Fl:m,Gh:b,Gl:y,Hh:v,Hl:w}=this;for(let _=0;_<80;_++){const x=Zt.rotrSH(h,f,14)^Zt.rotrSH(h,f,18)^Zt.rotrBH(h,f,41),S=Zt.rotrSL(h,f,14)^Zt.rotrSL(h,f,18)^Zt.rotrBL(h,f,41),C=h&p^~h&b,E=f&m^~f&y,T=Zt.add5L(w,S,E,tRe[_],ju[_]),M=Zt.add5H(T,v,x,C,eRe[_],Nu[_]),I=T|0,O=Zt.rotrSH(i,s,28)^Zt.rotrBH(i,s,34)^Zt.rotrBH(i,s,39),F=Zt.rotrSL(i,s,28)^Zt.rotrBL(i,s,34)^Zt.rotrBL(i,s,39),$=i&o^i&l^o&l,z=s&a^s&c^a&c;v=b|0,w=y|0,b=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=Zt.add(u|0,d|0,M|0,I|0),u=l|0,d=c|0,l=o|0,c=a|0,o=i|0,a=s|0;const D=Zt.add3L(I,F,z);i=Zt.add3H(D,M,O,$),s=D|0}({h:i,l:s}=Zt.add(this.Ah|0,this.Al|0,i|0,s|0)),{h:o,l:a}=Zt.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:c}=Zt.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=Zt.add(this.Dh|0,this.Dl|0,u|0,d|0),{h,l:f}=Zt.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=Zt.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:b,l:y}=Zt.add(this.Gh|0,this.Gl|0,b|0,y|0),{h:v,l:w}=Zt.add(this.Hh|0,this.Hl|0,v|0,w|0),this.set(i,s,o,a,l,c,u,d,h,f,p,m,b,y,v,w)}roundClean(){Nu.fill(0),ju.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const $7=OC(()=>new nRe);function rRe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const UU=rRe(),WU=UU.crypto||UU.msCrypto;function iRe(n){switch(n){case"sha256":return K0.create();case"sha512":return $7.create()}$e(!1,"invalid hashing algorithm name","algorithm",n)}function sRe(n,e){const r={sha256:K0,sha512:$7}[n];return $e(r!=null,"invalid hmac algorithm","algorithm",n),DC.create(r,e)}function oRe(n,e,r,i,s){const o={sha256:K0,sha512:$7}[s];return $e(o!=null,"invalid pbkdf2 algorithm","algorithm",s),L7(o,n,e,{c:r,dkLen:i})}function aRe(n){bn(WU!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),$e(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return WU.getRandomValues(e),e}let Lhe=!1;const Fhe=function(n,e,r){return sRe(n,e).update(r).digest()};let $he=Fhe;function X0(n,e,r){const i=At(e,"key"),s=At(r,"data");return yt($he(n,i,s))}X0._=Fhe;X0.lock=function(){Lhe=!0};X0.register=function(n){if(Lhe)throw new Error("computeHmac is locked");$he=n};Object.freeze(X0);const[zhe,Uhe,Whe]=[[],[],[]],lRe=BigInt(0),Lb=BigInt(1),cRe=BigInt(2),uRe=BigInt(7),dRe=BigInt(256),hRe=BigInt(113);for(let n=0,e=Lb,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],zhe.push(2*(5*i+r)),Uhe.push((n+1)*(n+2)/2%64);let s=lRe;for(let o=0;o<7;o++)e=(e<<Lb^(e>>uRe)*hRe)%dRe,e&cRe&&(s^=Lb<<(Lb<<BigInt(o))-Lb);Whe.push(s)}const[fRe,pRe]=Dhe(Whe,!0),qU=(n,e,r)=>r>32?jhe(n,e,r):Rhe(n,e,r),HU=(n,e,r)=>r>32?Bhe(n,e,r):Nhe(n,e,r);function mRe(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=qU(u,d,1)^r[l],f=HU(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=Uhe[a],c=qU(s,o,l),u=HU(s,o,l),d=zhe[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=fRe[i],n[1]^=pRe[i]}r.fill(0)}class z7 extends B7{constructor(e,r,i,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Js(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fS(this.state)}keccak(){mRe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){l0(this);const{blockLen:r,state:i}=this;e=c0(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){l0(this,!1),j7(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Js(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(The(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new z7(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gRe=(n,e,r)=>OC(()=>new z7(e,n,r)),bRe=gRe(1,136,256/8);let qhe=!1;const Hhe=function(n){return bRe(n)};let Vhe=Hhe;function ti(n){const e=At(n,"data");return yt(Vhe(e))}ti._=Hhe;ti.lock=function(){qhe=!0};ti.register=function(n){if(qhe)throw new TypeError("keccak256 is locked");Vhe=n};Object.freeze(ti);const yRe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Ghe=Uint8Array.from({length:16},(n,e)=>e),vRe=Ghe.map(n=>(9*n+5)%16);let U7=[Ghe],W7=[vRe];for(let n=0;n<4;n++)for(let e of[U7,W7])e.push(e[n].map(r=>yRe[r]));const Yhe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),wRe=U7.map((n,e)=>n.map(r=>Yhe[e][r])),xRe=W7.map((n,e)=>n.map(r=>Yhe[e][r])),_Re=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),SRe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),X1=(n,e)=>n<<e|n>>>32-e;function VU(n,e,r,i){return n===0?e^r^i:n===1?e&r|~e&i:n===2?(e|~r)^i:n===3?e&i|r&~i:e^(r|~i)}const Q1=new Uint32Array(16);class kRe extends F7{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:i,h3:s,h4:o}=this;return[e,r,i,s,o]}set(e,r,i,s,o){this.h0=e|0,this.h1=r|0,this.h2=i|0,this.h3=s|0,this.h4=o|0}process(e,r){for(let p=0;p<16;p++,r+=4)Q1[p]=e.getUint32(r,!0);let i=this.h0|0,s=i,o=this.h1|0,a=o,l=this.h2|0,c=l,u=this.h3|0,d=u,h=this.h4|0,f=h;for(let p=0;p<5;p++){const m=4-p,b=_Re[p],y=SRe[p],v=U7[p],w=W7[p],_=wRe[p],x=xRe[p];for(let S=0;S<16;S++){const C=X1(i+VU(p,o,l,u)+Q1[v[S]]+b,_[S])+h|0;i=h,h=u,u=X1(l,10)|0,l=o,o=C}for(let S=0;S<16;S++){const C=X1(s+VU(m,a,c,d)+Q1[w[S]]+y,x[S])+f|0;s=f,f=d,d=X1(c,10)|0,c=a,a=C}}this.set(this.h1+l+d|0,this.h2+u+f|0,this.h3+h+s|0,this.h4+i+a|0,this.h0+o+c|0)}roundClean(){Q1.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const CRe=OC(()=>new kRe);let Khe=!1;const Xhe=function(n){return CRe(n)};let Qhe=Xhe;function Q0(n){const e=At(n,"data");return yt(Qhe(e))}Q0._=Xhe;Q0.lock=function(){Khe=!0};Q0.register=function(n){if(Khe)throw new TypeError("ripemd160 is locked");Qhe=n};Object.freeze(Q0);let Jhe=!1;const Zhe=function(n,e,r,i,s){return oRe(n,e,r,i,s)};let efe=Zhe;function gx(n,e,r,i,s){const o=At(n,"password"),a=At(e,"salt");return yt(efe(o,a,r,i,s))}gx._=Zhe;gx.lock=function(){Jhe=!0};gx.register=function(n){if(Jhe)throw new Error("pbkdf2 is locked");efe=n};Object.freeze(gx);let tfe=!1;const nfe=function(n){return new Uint8Array(aRe(n))};let rfe=nfe;function Hc(n){return rfe(n)}Hc._=nfe;Hc.lock=function(){tfe=!0};Hc.register=function(n){if(tfe)throw new Error("randomBytes is locked");rfe=n};Object.freeze(Hc);const xn=(n,e)=>n<<e|n>>>32-e;function GU(n,e,r,i,s,o){let a=n[e++]^r[i++],l=n[e++]^r[i++],c=n[e++]^r[i++],u=n[e++]^r[i++],d=n[e++]^r[i++],h=n[e++]^r[i++],f=n[e++]^r[i++],p=n[e++]^r[i++],m=n[e++]^r[i++],b=n[e++]^r[i++],y=n[e++]^r[i++],v=n[e++]^r[i++],w=n[e++]^r[i++],_=n[e++]^r[i++],x=n[e++]^r[i++],S=n[e++]^r[i++],C=a,E=l,T=c,M=u,I=d,O=h,F=f,$=p,z=m,D=b,j=y,N=v,R=w,H=_,U=x,K=S;for(let Y=0;Y<8;Y+=2)I^=xn(C+R|0,7),z^=xn(I+C|0,9),R^=xn(z+I|0,13),C^=xn(R+z|0,18),D^=xn(O+E|0,7),H^=xn(D+O|0,9),E^=xn(H+D|0,13),O^=xn(E+H|0,18),U^=xn(j+F|0,7),T^=xn(U+j|0,9),F^=xn(T+U|0,13),j^=xn(F+T|0,18),M^=xn(K+N|0,7),$^=xn(M+K|0,9),N^=xn($+M|0,13),K^=xn(N+$|0,18),E^=xn(C+M|0,7),T^=xn(E+C|0,9),M^=xn(T+E|0,13),C^=xn(M+T|0,18),F^=xn(O+I|0,7),$^=xn(F+O|0,9),I^=xn($+F|0,13),O^=xn(I+$|0,18),N^=xn(j+D|0,7),z^=xn(N+j|0,9),D^=xn(z+N|0,13),j^=xn(D+z|0,18),R^=xn(K+U|0,7),H^=xn(R+K|0,9),U^=xn(H+R|0,13),K^=xn(U+H|0,18);s[o++]=a+C|0,s[o++]=l+E|0,s[o++]=c+T|0,s[o++]=u+M|0,s[o++]=d+I|0,s[o++]=h+O|0,s[o++]=f+F|0,s[o++]=p+$|0,s[o++]=m+z|0,s[o++]=b+D|0,s[o++]=y+j|0,s[o++]=v+N|0,s[o++]=w+R|0,s[o++]=_+H|0,s[o++]=x+U|0,s[o++]=S+K|0}function eg(n,e,r,i,s){let o=i+0,a=i+16*s;for(let l=0;l<16;l++)r[a+l]=n[e+(2*s-1)*16+l];for(let l=0;l<s;l++,o+=16,e+=16)GU(r,a,n,e,r,o),l>0&&(a+=16),GU(r,o,n,e+=16,r,a)}function ife(n,e,r){const i=Ihe({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:s,r:o,p:a,dkLen:l,asyncTick:c,maxmem:u,onProgress:d}=i;if(Js(s),Js(o),Js(a),Js(l),Js(c),Js(u),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const h=128*o,f=h/4;if(s<=1||s&s-1||s>=2**(h/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=h*(s+a);if(p>u)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${u} (maxmem)`);const m=L7(K0,n,e,{c:1,dkLen:h*a}),b=fS(m),y=fS(new Uint8Array(h*s)),v=fS(new Uint8Array(h));let w=()=>{};if(d){const _=2*s*a,x=Math.max(Math.floor(_/1e4),1);let S=0;w=()=>{S++,d&&(!(S%x)||S===_)&&d(S/_)}}return{N:s,r:o,p:a,dkLen:l,blockSize32:f,V:y,B32:b,B:m,tmp:v,blockMixCb:w,asyncTick:c}}function sfe(n,e,r,i,s){const o=L7(K0,n,r,{c:1,dkLen:e});return r.fill(0),i.fill(0),s.fill(0),o}function ERe(n,e,r){const{N:i,r:s,p:o,dkLen:a,blockSize32:l,V:c,B32:u,B:d,tmp:h,blockMixCb:f}=ife(n,e,r);for(let p=0;p<o;p++){const m=l*p;for(let b=0;b<l;b++)c[b]=u[m+b];for(let b=0,y=0;b<i-1;b++)eg(c,y,c,y+=l,s),f();eg(c,(i-1)*l,u,m,s),f();for(let b=0;b<i;b++){const y=u[m+l-16]%i;for(let v=0;v<l;v++)h[v]=u[m+v]^c[y*l+v];eg(h,0,u,m,s),f()}}return sfe(n,a,d,c,h)}async function ARe(n,e,r){const{N:i,r:s,p:o,dkLen:a,blockSize32:l,V:c,B32:u,B:d,tmp:h,blockMixCb:f,asyncTick:p}=ife(n,e,r);for(let m=0;m<o;m++){const b=l*m;for(let v=0;v<l;v++)c[v]=u[b+v];let y=0;await zU(i-1,p,()=>{eg(c,y,c,y+=l,s),f()}),eg(c,(i-1)*l,u,b,s),f(),await zU(i,p,()=>{const v=u[b+l-16]%i;for(let w=0;w<l;w++)h[w]=u[b+w]^c[v*l+w];eg(h,0,u,b,s),f()})}return sfe(n,a,d,c,h)}let ofe=!1,afe=!1;const lfe=async function(n,e,r,i,s,o,a){return await ARe(n,e,{N:r,r:i,p:s,dkLen:o,onProgress:a})},cfe=function(n,e,r,i,s,o){return ERe(n,e,{N:r,r:i,p:s,dkLen:o})};let ufe=lfe,dfe=cfe;async function bx(n,e,r,i,s,o,a){const l=At(n,"passwd"),c=At(e,"salt");return yt(await ufe(l,c,r,i,s,o,a))}bx._=lfe;bx.lock=function(){afe=!0};bx.register=function(n){if(afe)throw new Error("scrypt is locked");ufe=n};Object.freeze(bx);function yx(n,e,r,i,s,o){const a=At(n,"passwd"),l=At(e,"salt");return yt(dfe(a,l,r,i,s,o))}yx._=cfe;yx.lock=function(){ofe=!0};yx.register=function(n){if(ofe)throw new Error("scryptSync is locked");dfe=n};Object.freeze(yx);const hfe=function(n){return iRe("sha256").update(n).digest()};let ffe=hfe,pfe=!1;function na(n){const e=At(n,"data");return yt(ffe(e))}na._=hfe;na.lock=function(){pfe=!0};na.register=function(n){if(pfe)throw new Error("sha256 is locked");ffe=n};Object.freeze(na);Object.freeze(na);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mfe=BigInt(0),RC=BigInt(1),TRe=BigInt(2),NC=n=>n instanceof Uint8Array,PRe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function u0(n){if(!NC(n))throw new Error("Uint8Array expected");let e="";for(let r=0;r<n.length;r++)e+=PRe[n[r]];return e}function gfe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function q7(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function d0(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){const s=i*2,o=n.slice(s,s+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[i]=a}return r}function kf(n){return q7(u0(n))}function H7(n){if(!NC(n))throw new Error("Uint8Array expected");return q7(u0(Uint8Array.from(n).reverse()))}function h0(n,e){return d0(n.toString(16).padStart(e*2,"0"))}function V7(n,e){return h0(n,e).reverse()}function IRe(n){return d0(gfe(n))}function ya(n,e,r){let i;if(typeof e=="string")try{i=d0(e)}catch(o){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${o}`)}else if(NC(e))i=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(`${n} expected ${r} bytes, got ${s}`);return i}function ow(...n){const e=new Uint8Array(n.reduce((i,s)=>i+s.length,0));let r=0;return n.forEach(i=>{if(!NC(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}function MRe(n,e){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}function ORe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function DRe(n){let e;for(e=0;n>mfe;n>>=RC,e+=1);return e}function RRe(n,e){return n>>BigInt(e)&RC}const NRe=(n,e,r)=>n|(r?RC:mfe)<<BigInt(e),G7=n=>(TRe<<BigInt(n-1))-RC,O5=n=>new Uint8Array(n),YU=n=>Uint8Array.from(n);function bfe(n,e,r){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=O5(n),s=O5(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},l=(...h)=>r(s,i,...h),c=(h=O5())=>{s=l(YU([0]),h),i=l(),h.length!==0&&(s=l(YU([1]),h),i=l())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return ow(...f)};return(h,f)=>{a(),c(h);let p;for(;!(p=f(u()));)c();return a(),p}}const jRe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function vx(n,e,r={}){const i=(s,o,a)=>{const l=jRe[o];if(typeof l!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=n[s];if(!(a&&c===void 0)&&!l(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(e))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return n}const BRe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:RRe,bitLen:DRe,bitMask:G7,bitSet:NRe,bytesToHex:u0,bytesToNumberBE:kf,bytesToNumberLE:H7,concatBytes:ow,createHmacDrbg:bfe,ensureBytes:ya,equalBytes:MRe,hexToBytes:d0,hexToNumber:q7,numberToBytesBE:h0,numberToBytesLE:V7,numberToHexUnpadded:gfe,numberToVarBytesBE:IRe,utf8ToBytes:ORe,validateObject:vx},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ri=BigInt(0),Tr=BigInt(1),zh=BigInt(2),LRe=BigInt(3),jR=BigInt(4),KU=BigInt(5),XU=BigInt(8);BigInt(9);BigInt(16);function _s(n,e){const r=n%e;return r>=ri?r:e+r}function FRe(n,e,r){if(r<=ri||e<ri)throw new Error("Expected power/modulo > 0");if(r===Tr)return ri;let i=Tr;for(;e>ri;)e&Tr&&(i=i*n%r),n=n*n%r,e>>=Tr;return i}function Eo(n,e,r){let i=n;for(;e-- >ri;)i*=i,i%=r;return i}function BR(n,e){if(n===ri||e<=ri)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let r=_s(n,e),i=e,s=ri,o=Tr;for(;r!==ri;){const l=i/r,c=i%r,u=s-o*l;i=r,r=c,s=o,o=u}if(i!==Tr)throw new Error("invert: does not exist");return _s(s,e)}function $Re(n){const e=(n-Tr)/zh;let r,i,s;for(r=n-Tr,i=0;r%zh===ri;r/=zh,i++);for(s=zh;s<n&&FRe(s,e,n)!==n-Tr;s++);if(i===1){const a=(n+Tr)/jR;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const o=(r+Tr)/zh;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=i,d=l.pow(l.mul(l.ONE,s),r),h=l.pow(c,o),f=l.pow(c,r);for(;!l.eql(f,l.ONE);){if(l.eql(f,l.ZERO))return l.ZERO;let p=1;for(let b=l.sqr(f);p<u&&!l.eql(b,l.ONE);p++)b=l.sqr(b);const m=l.pow(d,Tr<<BigInt(u-p-1));d=l.sqr(m),h=l.mul(h,m),f=l.mul(f,d),u=p}return h}}function zRe(n){if(n%jR===LRe){const e=(n+Tr)/jR;return function(i,s){const o=i.pow(s,e);if(!i.eql(i.sqr(o),s))throw new Error("Cannot find square root");return o}}if(n%XU===KU){const e=(n-KU)/XU;return function(i,s){const o=i.mul(s,zh),a=i.pow(o,e),l=i.mul(s,a),c=i.mul(i.mul(l,zh),a),u=i.mul(l,i.sub(c,i.ONE));if(!i.eql(i.sqr(u),s))throw new Error("Cannot find square root");return u}}return $Re(n)}const URe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function WRe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=URe.reduce((i,s)=>(i[s]="function",i),e);return vx(n,r)}function qRe(n,e,r){if(r<ri)throw new Error("Expected power > 0");if(r===ri)return n.ONE;if(r===Tr)return e;let i=n.ONE,s=e;for(;r>ri;)r&Tr&&(i=n.mul(i,s)),s=n.sqr(s),r>>=Tr;return i}function HRe(n,e){const r=new Array(e.length),i=e.reduce((o,a,l)=>n.is0(a)?o:(r[l]=o,n.mul(o,a)),n.ONE),s=n.inv(i);return e.reduceRight((o,a,l)=>n.is0(a)?o:(r[l]=n.mul(o,r[l]),n.mul(o,a)),s),r}function yfe(n,e){const r=e!==void 0?e:n.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function VRe(n,e,r=!1,i={}){if(n<=ri)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:o}=yfe(n,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=zRe(n),l=Object.freeze({ORDER:n,BITS:s,BYTES:o,MASK:G7(s),ZERO:ri,ONE:Tr,create:c=>_s(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ri<=c&&c<n},is0:c=>c===ri,isOdd:c=>(c&Tr)===Tr,neg:c=>_s(-c,n),eql:(c,u)=>c===u,sqr:c=>_s(c*c,n),add:(c,u)=>_s(c+u,n),sub:(c,u)=>_s(c-u,n),mul:(c,u)=>_s(c*u,n),pow:(c,u)=>qRe(l,c,u),div:(c,u)=>_s(c*BR(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>BR(c,n),sqrt:i.sqrt||(c=>a(l,c)),invertBatch:c=>HRe(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>r?V7(c,o):h0(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?H7(c):kf(c)}});return Object.freeze(l)}function vfe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function wfe(n){const e=vfe(n);return e+Math.ceil(e/2)}function GRe(n,e,r=!1){const i=n.length,s=vfe(e),o=wfe(e);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const a=r?kf(n):H7(n),l=_s(a,e-Tr)+Tr;return r?V7(l,s):h0(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YRe=BigInt(0),D5=BigInt(1);function KRe(n,e){const r=(s,o)=>{const a=o.negate();return s?a:o},i=s=>{const o=Math.ceil(e/s)+1,a=2**(s-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,o){let a=n.ZERO,l=s;for(;o>YRe;)o&D5&&(a=a.add(l)),l=l.double(),o>>=D5;return a},precomputeWindow(s,o){const{windows:a,windowSize:l}=i(o),c=[];let u=s,d=u;for(let h=0;h<a;h++){d=u,c.push(d);for(let f=1;f<l;f++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(s,o,a){const{windows:l,windowSize:c}=i(s);let u=n.ZERO,d=n.BASE;const h=BigInt(2**s-1),f=2**s,p=BigInt(s);for(let m=0;m<l;m++){const b=m*c;let y=Number(a&h);a>>=p,y>c&&(y-=f,a+=D5);const v=b,w=b+Math.abs(y)-1,_=m%2!==0,x=y<0;y===0?d=d.add(r(_,o[v])):u=u.add(r(x,o[w]))}return{p:u,f:d}},wNAFCached(s,o,a,l){const c=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&o.set(s,l(u))),this.wNAF(c,u,a)}}}function xfe(n){return WRe(n.Fp),vx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yfe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XRe(n){const e=xfe(n);vx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:s}=e;if(r){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:QRe,hexToBytes:JRe}=BRe,Qh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Qh;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const r=n[1],i=n.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:QRe(i),l:n.subarray(r+2)}},toSig(n){const{Err:e}=Qh,r=typeof n=="string"?JRe(n):n;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");const{d:s,l:o}=Qh._parseInt(r.subarray(2)),{d:a,l}=Qh._parseInt(o);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},i=e(r(n.s)),s=e(r(n.r)),o=i.length/2,a=s.length/2,l=r(o),c=r(a);return`30${r(a+o+4)}02${c}${s}02${l}${i}`}},Mc=BigInt(0),zo=BigInt(1);BigInt(2);const QU=BigInt(3);BigInt(4);function ZRe(n){const e=XRe(n),{Fp:r}=e,i=e.toBytes||((m,b,y)=>{const v=b.toAffine();return ow(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),s=e.fromBytes||(m=>{const b=m.subarray(1),y=r.fromBytes(b.subarray(0,r.BYTES)),v=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:y,y:v}});function o(m){const{a:b,b:y}=e,v=r.sqr(m),w=r.mul(v,m);return r.add(r.add(w,r.mul(m,b)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return typeof m=="bigint"&&Mc<m&&m<e.n}function l(m){if(!a(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:b,nByteLength:y,wrapPrivateKey:v,n:w}=e;if(b&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=u0(m)),typeof m!="string"||!b.includes(m.length))throw new Error("Invalid key");m=m.padStart(y*2,"0")}let _;try{_=typeof m=="bigint"?m:kf(ya("private key",m,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof m}`)}return v&&(_=_s(_,w)),l(_),_}const u=new Map;function d(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(b,y,v){if(this.px=b,this.py=y,this.pz=v,b==null||!r.isValid(b))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(v==null||!r.isValid(v))throw new Error("z required")}static fromAffine(b){const{x:y,y:v}=b||{};if(!b||!r.isValid(y)||!r.isValid(v))throw new Error("invalid affine point");if(b instanceof h)throw new Error("projective point not allowed");const w=_=>r.eql(_,r.ZERO);return w(y)&&w(v)?h.ZERO:new h(y,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const y=r.invertBatch(b.map(v=>v.pz));return b.map((v,w)=>v.toAffine(y[w])).map(h.fromAffine)}static fromHex(b){const y=h.fromAffine(s(ya("pointHex",b)));return y.assertValidity(),y}static fromPrivateKey(b){return h.BASE.multiply(c(b))}_setWindowSize(b){this._WINDOW_SIZE=b,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:b,y}=this.toAffine();if(!r.isValid(b)||!r.isValid(y))throw new Error("bad point: x or y not FE");const v=r.sqr(y),w=o(b);if(!r.eql(v,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){d(b);const{px:y,py:v,pz:w}=this,{px:_,py:x,pz:S}=b,C=r.eql(r.mul(y,S),r.mul(_,w)),E=r.eql(r.mul(v,S),r.mul(x,w));return C&&E}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:y}=e,v=r.mul(y,QU),{px:w,py:_,pz:x}=this;let S=r.ZERO,C=r.ZERO,E=r.ZERO,T=r.mul(w,w),M=r.mul(_,_),I=r.mul(x,x),O=r.mul(w,_);return O=r.add(O,O),E=r.mul(w,x),E=r.add(E,E),S=r.mul(b,E),C=r.mul(v,I),C=r.add(S,C),S=r.sub(M,C),C=r.add(M,C),C=r.mul(S,C),S=r.mul(O,S),E=r.mul(v,E),I=r.mul(b,I),O=r.sub(T,I),O=r.mul(b,O),O=r.add(O,E),E=r.add(T,T),T=r.add(E,T),T=r.add(T,I),T=r.mul(T,O),C=r.add(C,T),I=r.mul(_,x),I=r.add(I,I),T=r.mul(I,O),S=r.sub(S,T),E=r.mul(I,M),E=r.add(E,E),E=r.add(E,E),new h(S,C,E)}add(b){d(b);const{px:y,py:v,pz:w}=this,{px:_,py:x,pz:S}=b;let C=r.ZERO,E=r.ZERO,T=r.ZERO;const M=e.a,I=r.mul(e.b,QU);let O=r.mul(y,_),F=r.mul(v,x),$=r.mul(w,S),z=r.add(y,v),D=r.add(_,x);z=r.mul(z,D),D=r.add(O,F),z=r.sub(z,D),D=r.add(y,w);let j=r.add(_,S);return D=r.mul(D,j),j=r.add(O,$),D=r.sub(D,j),j=r.add(v,w),C=r.add(x,S),j=r.mul(j,C),C=r.add(F,$),j=r.sub(j,C),T=r.mul(M,D),C=r.mul(I,$),T=r.add(C,T),C=r.sub(F,T),T=r.add(F,T),E=r.mul(C,T),F=r.add(O,O),F=r.add(F,O),$=r.mul(M,$),D=r.mul(I,D),F=r.add(F,$),$=r.sub(O,$),$=r.mul(M,$),D=r.add(D,$),O=r.mul(F,D),E=r.add(E,O),O=r.mul(j,D),C=r.mul(z,C),C=r.sub(C,O),O=r.mul(z,F),T=r.mul(j,T),T=r.add(T,O),new h(C,E,T)}subtract(b){return this.add(b.negate())}is0(){return this.equals(h.ZERO)}wNAF(b){return p.wNAFCached(this,u,b,y=>{const v=r.invertBatch(y.map(w=>w.pz));return y.map((w,_)=>w.toAffine(v[_])).map(h.fromAffine)})}multiplyUnsafe(b){const y=h.ZERO;if(b===Mc)return y;if(l(b),b===zo)return this;const{endo:v}=e;if(!v)return p.unsafeLadder(this,b);let{k1neg:w,k1:_,k2neg:x,k2:S}=v.splitScalar(b),C=y,E=y,T=this;for(;_>Mc||S>Mc;)_&zo&&(C=C.add(T)),S&zo&&(E=E.add(T)),T=T.double(),_>>=zo,S>>=zo;return w&&(C=C.negate()),x&&(E=E.negate()),E=new h(r.mul(E.px,v.beta),E.py,E.pz),C.add(E)}multiply(b){l(b);let y=b,v,w;const{endo:_}=e;if(_){const{k1neg:x,k1:S,k2neg:C,k2:E}=_.splitScalar(y);let{p:T,f:M}=this.wNAF(S),{p:I,f:O}=this.wNAF(E);T=p.constTimeNegate(x,T),I=p.constTimeNegate(C,I),I=new h(r.mul(I.px,_.beta),I.py,I.pz),v=T.add(I),w=M.add(O)}else{const{p:x,f:S}=this.wNAF(y);v=x,w=S}return h.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(b,y,v){const w=h.BASE,_=(S,C)=>C===Mc||C===zo||!S.equals(w)?S.multiplyUnsafe(C):S.multiply(C),x=_(this,y).add(_(b,v));return x.is0()?void 0:x}toAffine(b){const{px:y,py:v,pz:w}=this,_=this.is0();b==null&&(b=_?r.ONE:r.inv(w));const x=r.mul(y,b),S=r.mul(v,b),C=r.mul(w,b);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x,y:S}}isTorsionFree(){const{h:b,isTorsionFree:y}=e;if(b===zo)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:y}=e;return b===zo?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),i(h,this,b)}toHex(b=!0){return u0(this.toRawBytes(b))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,p=KRe(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function e4e(n){const e=xfe(n);return vx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function t4e(n){const e=e4e(n),{Fp:r,n:i}=e,s=r.BYTES+1,o=2*r.BYTES+1;function a(D){return Mc<D&&D<r.ORDER}function l(D){return _s(D,i)}function c(D){return BR(D,i)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=ZRe({...e,toBytes(D,j,N){const R=j.toAffine(),H=r.toBytes(R.x),U=ow;return N?U(Uint8Array.from([j.hasEvenY()?2:3]),H):U(Uint8Array.from([4]),H,r.toBytes(R.y))},fromBytes(D){const j=D.length,N=D[0],R=D.subarray(1);if(j===s&&(N===2||N===3)){const H=kf(R);if(!a(H))throw new Error("Point is not on curve");const U=h(H);let K=r.sqrt(U);const Y=(K&zo)===zo;return(N&1)===1!==Y&&(K=r.neg(K)),{x:H,y:K}}else if(j===o&&N===4){const H=r.fromBytes(R.subarray(0,r.BYTES)),U=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:H,y:U}}else throw new Error(`Point of length ${j} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),p=D=>u0(h0(D,e.nByteLength));function m(D){const j=i>>zo;return D>j}function b(D){return m(D)?l(-D):D}const y=(D,j,N)=>kf(D.slice(j,N));class v{constructor(j,N,R){this.r=j,this.s=N,this.recovery=R,this.assertValidity()}static fromCompact(j){const N=e.nByteLength;return j=ya("compactSignature",j,N*2),new v(y(j,0,N),y(j,N,2*N))}static fromDER(j){const{r:N,s:R}=Qh.toSig(ya("DER",j));return new v(N,R)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(j){return new v(this.r,this.s,j)}recoverPublicKey(j){const{r:N,s:R,recovery:H}=this,U=E(ya("msgHash",j));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const K=H===2||H===3?N+e.n:N;if(K>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=H&1?"03":"02",J=u.fromHex(Y+p(K)),G=c(K),X=l(-U*G),ae=l(R*G),ge=u.BASE.multiplyAndAddUnsafe(J,X,ae);if(!ge)throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return d0(this.toDERHex())}toDERHex(){return Qh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return d0(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(D){try{return d(D),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const D=wfe(e.n);return GRe(e.randomBytes(D),e.n)},precompute(D=8,j=u.BASE){return j._setWindowSize(D),j.multiply(BigInt(3)),j}};function _(D,j=!0){return u.fromPrivateKey(D).toRawBytes(j)}function x(D){const j=D instanceof Uint8Array,N=typeof D=="string",R=(j||N)&&D.length;return j?R===s||R===o:N?R===2*s||R===2*o:D instanceof u}function S(D,j,N=!0){if(x(D))throw new Error("first arg must be private key");if(!x(j))throw new Error("second arg must be public key");return u.fromHex(j).multiply(d(D)).toRawBytes(N)}const C=e.bits2int||function(D){const j=kf(D),N=D.length*8-e.nBitLength;return N>0?j>>BigInt(N):j},E=e.bits2int_modN||function(D){return l(C(D))},T=G7(e.nBitLength);function M(D){if(typeof D!="bigint")throw new Error("bigint expected");if(!(Mc<=D&&D<T))throw new Error(`bigint expected < 2^${e.nBitLength}`);return h0(D,e.nByteLength)}function I(D,j,N=O){if(["recovered","canonical"].some(ie=>ie in N))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:H}=e;let{lowS:U,prehash:K,extraEntropy:Y}=N;U==null&&(U=!0),D=ya("msgHash",D),K&&(D=ya("prehashed msgHash",R(D)));const J=E(D),G=d(j),X=[M(G),M(J)];if(Y!=null){const ie=Y===!0?H(r.BYTES):Y;X.push(ya("extraEntropy",ie))}const ae=ow(...X),ge=J;function le(ie){const Te=C(ie);if(!f(Te))return;const Ee=c(Te),V=u.BASE.multiply(Te).toAffine(),Ie=l(V.x);if(Ie===Mc)return;const Ye=l(Ee*l(ge+Ie*G));if(Ye===Mc)return;let nt=(V.x===Ie?0:2)|Number(V.y&zo),Ue=Ye;return U&&m(Ye)&&(Ue=b(Ye),nt^=1),new v(Ie,Ue,nt)}return{seed:ae,k2sig:le}}const O={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function $(D,j,N=O){const{seed:R,k2sig:H}=I(D,j,N),U=e;return bfe(U.hash.outputLen,U.nByteLength,U.hmac)(R,H)}u.BASE._setWindowSize(8);function z(D,j,N,R=F){var V;const H=D;if(j=ya("msgHash",j),N=ya("publicKey",N),"strict"in R)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:K}=R;let Y,J;try{if(typeof H=="string"||H instanceof Uint8Array)try{Y=v.fromDER(H)}catch(Ie){if(!(Ie instanceof Qh.Err))throw Ie;Y=v.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:Ie,s:Ye}=H;Y=new v(Ie,Ye)}else throw new Error("PARSE");J=u.fromHex(N)}catch(Ie){if(Ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&Y.hasHighS())return!1;K&&(j=e.hash(j));const{r:G,s:X}=Y,ae=E(j),ge=c(X),le=l(ae*ge),ie=l(G*ge),Te=(V=u.BASE.multiplyAndAddUnsafe(J,le,ie))==null?void 0:V.toAffine();return Te?l(Te.x)===G:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:S,sign:$,verify:z,ProjectivePoint:u,Signature:v,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function n4e(n){return{hash:n,hmac:(e,...r)=>DC(n,e,T8e(...r)),randomBytes:I8e}}function r4e(n,e){const r=i=>t4e({...n,...n4e(i)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _fe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),JU=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),i4e=BigInt(1),LR=BigInt(2),ZU=(n,e)=>(n+e/LR)/e;function s4e(n){const e=_fe,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=n*n*n%e,d=u*u*n%e,h=Eo(d,r,e)*d%e,f=Eo(h,r,e)*d%e,p=Eo(f,LR,e)*u%e,m=Eo(p,s,e)*p%e,b=Eo(m,o,e)*m%e,y=Eo(b,l,e)*b%e,v=Eo(y,c,e)*y%e,w=Eo(v,l,e)*b%e,_=Eo(w,r,e)*d%e,x=Eo(_,a,e)*m%e,S=Eo(x,i,e)*u%e,C=Eo(S,LR,e);if(!FR.eql(FR.sqr(C),n))throw new Error("Cannot find square root");return C}const FR=VRe(_fe,void 0,void 0,{sqrt:s4e}),Yu=r4e({a:BigInt(0),b:BigInt(7),Fp:FR,n:JU,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=JU,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-i4e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),l=ZU(o*n,e),c=ZU(-i*n,e);let u=_s(n-l*r-c*s,e),d=_s(-l*i-c*o,e);const h=u>a,f=d>a;if(h&&(u=e-u),f&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:u,k2neg:f,k2:d}}}},K0);BigInt(0);Yu.ProjectivePoint;const Sfe="0x0000000000000000000000000000000000000000",eW="0x0000000000000000000000000000000000000000000000000000000000000000",o4e=`Ethereum Signed Message:
`,tW=BigInt(0),nW=BigInt(1),$R=BigInt(2),rW=BigInt(27),iW=BigInt(28),J1=BigInt(35),kfe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),a4e=kfe/$R,l4e=Symbol.for("nodejs.util.inspect.custom"),bh={};function R5(n){return Vd(Pr(n),32)}var Sg,bl,kg,fd;const No=class No{constructor(e,r,i,s){ct(this,Sg);ct(this,bl);ct(this,kg);ct(this,fd);PC(e,bh,"Signature"),Be(this,Sg,r),Be(this,bl,i),Be(this,kg,s),Be(this,fd,null)}get r(){return ee(this,Sg)}set r(e){$e(Gy(e)===32,"invalid r","value",e),Be(this,Sg,yt(e))}get s(){return $e(parseInt(ee(this,bl).substring(0,3))<8,"non-canonical s; use ._s","s",ee(this,bl)),ee(this,bl)}set s(e){$e(Gy(e)===32,"invalid s","value",e),Be(this,bl,yt(e))}get _s(){return ee(this,bl)}isValid(){return BigInt(ee(this,bl))<=a4e}get v(){return ee(this,kg)}set v(e){const r=ao(e,"value");$e(r===27||r===28,"invalid v","v",e),Be(this,kg,r)}get networkV(){return ee(this,fd)}get legacyChainId(){const e=this.networkV;return e==null?null:No.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=At(this.s);return this.yParity&&(e[0]|=128),yt(e)}get compactSerialized(){return Mr([this.r,this.yParityAndS])}get serialized(){return Mr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=kfe-BigInt(this._s),r=55-this.v,i=new No(bh,this.r,R5(e),r);return this.networkV&&Be(i,fd,this.networkV),i}clone(){const e=new No(bh,this.r,this._s,this.v);return this.networkV&&Be(e,fd,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[l4e](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const r=Un(e,"v");return r==rW||r==iW?tW:($e(r>=J1,"invalid EIP-155 v","v",e),(r-J1)/$R)}static getChainIdV(e,r){return Un(e)*$R+BigInt(35+r-27)}static getNormalizedV(e){const r=Un(e);return r===tW||r===rW?27:r===nW||r===iW?28:($e(r>=J1,"invalid v","v",e),r&nW?27:28)}static from(e){function r(u,d){$e(u,d,"signature",e)}if(e==null)return new No(bh,eW,eW,27);if(typeof e=="string"){const u=At(e,"signature");if(u.length===64){const d=yt(u.slice(0,32)),h=u.slice(32,64),f=h[0]&128?28:27;return h[0]&=127,new No(bh,d,yt(h),f)}if(u.length===65){const d=yt(u.slice(0,32)),h=yt(u.slice(32,64)),f=No.getNormalizedV(u[64]);return new No(bh,d,h,f)}r(!1,"invalid raw signature length")}if(e instanceof No)return e.clone();const i=e.r;r(i!=null,"missing r");const s=R5(i),o=function(u,d){if(u!=null)return R5(u);if(d!=null){r($l(d,32),"invalid yParityAndS");const h=At(d);return h[0]&=127,yt(h)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:l}=function(u,d,h){if(u!=null){const f=Un(u);return{networkV:f>=J1?f:void 0,v:No.getNormalizedV(f)}}if(d!=null)return r($l(d,32),"invalid yParityAndS"),{v:At(d)[0]&128?28:27};if(h!=null){switch(ao(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new No(bh,s,o,l);return a&&Be(c,fd,a),r(e.yParity==null||ao(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Sg=new WeakMap,bl=new WeakMap,kg=new WeakMap,fd=new WeakMap;let La=No;var Tc;const Wh=class Wh{constructor(e){ct(this,Tc);$e(Gy(e)===32,"invalid private key","privateKey","[REDACTED]"),Be(this,Tc,yt(e))}get privateKey(){return ee(this,Tc)}get publicKey(){return Wh.computePublicKey(ee(this,Tc))}get compressedPublicKey(){return Wh.computePublicKey(ee(this,Tc),!0)}sign(e){$e(Gy(e)===32,"invalid digest length","digest",e);const r=Yu.sign(pm(e),pm(ee(this,Tc)),{lowS:!0});return La.from({r:a0(r.r,32),s:a0(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Wh.computePublicKey(e);return yt(Yu.getSharedSecret(pm(ee(this,Tc)),At(r),!1))}static computePublicKey(e,r){let i=At(e,"key");if(i.length===32){const o=Yu.getPublicKey(i,!!r);return yt(o)}if(i.length===64){const o=new Uint8Array(65);o[0]=4,o.set(i,1),i=o}const s=Yu.ProjectivePoint.fromHex(i);return yt(s.toRawBytes(r))}static recoverPublicKey(e,r){$e(Gy(e)===32,"invalid digest length","digest",e);const i=La.from(r);let s=Yu.Signature.fromCompact(pm(Mr([i.r,i.s])));s=s.addRecoveryBit(i.yParity);const o=s.recoverPublicKey(pm(e));return $e(o!=null,"invalid signature for digest","signature",r),"0x"+o.toHex(!1)}static addPoints(e,r,i){const s=Yu.ProjectivePoint.fromHex(Wh.computePublicKey(e).substring(2)),o=Yu.ProjectivePoint.fromHex(Wh.computePublicKey(r).substring(2));return"0x"+s.add(o).toHex(!!i)}};Tc=new WeakMap;let Ml=Wh;const c4e=BigInt(0),u4e=BigInt(36);function sW(n){n=n.toLowerCase();const e=n.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const i=At(ti(r));for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(i[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Y7={};for(let n=0;n<10;n++)Y7[String(n)]=String(n);for(let n=0;n<26;n++)Y7[String.fromCharCode(65+n)]=String(10+n);const oW=15;function d4e(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(i=>Y7[i]).join("");for(;e.length>=oW;){let i=e.substring(0,oW);e=parseInt(i,10)%97+e.substring(i.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const h4e=function(){const n={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[r]=BigInt(e)}return n}();function f4e(n){n=n.toLowerCase();let e=c4e;for(let r=0;r<n.length;r++)e=e*u4e+h4e[n[r]];return e}function ra(n){if($e(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=sW(n);return $e(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){$e(n.substring(2,4)===d4e(n),"bad icap checksum","address",n);let e=f4e(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return sW("0x"+e)}$e(!1,"invalid address","address",n)}function p4e(n){return n&&typeof n.getAddress=="function"}async function N5(n,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(bn(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),$e(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),ra(r)}function Yy(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?ra(n):(bn(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),N5(n,e.resolveName(n)));if(p4e(n))return N5(n,n.getAddress());if(n&&typeof n.then=="function")return N5(n,n);$e(!1,"unsupported addressable value","target",n)}function j5(n,e){return{address:ra(n),storageKeys:e.map((r,i)=>($e($l(r,32),"invalid slot",`storageKeys[${i}]`,r),r.toLowerCase()))}}function jC(n){if(Array.isArray(n))return n.map((r,i)=>Array.isArray(r)?($e(r.length===2,"invalid slot set",`value[${i}]`,r),j5(r[0],r[1])):($e(r!=null&&typeof r=="object","invalid address-slot set","value",n),j5(r.address,r.storageKeys)));$e(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(r=>{const i=n[r].reduce((s,o)=>(s[o]=!0,s),{});return j5(r,Object.keys(i).sort())});return e.sort((r,i)=>r.address.localeCompare(i.address)),e}function m4e(n){return{address:ra(n.address),nonce:Un(n.nonce!=null?n.nonce:0),chainId:Un(n.chainId!=null?n.chainId:0),signature:La.from(n.signature)}}function wx(n){let e;return typeof n=="string"?e=Ml.computePublicKey(n,!1):e=n.publicKey,ra(ti("0x"+e.substring(4)).substring(26))}function g4e(n,e){return wx(Ml.recoverPublicKey(n,e))}const Zr=BigInt(0),b4e=BigInt(2),y4e=BigInt(27),v4e=BigInt(28),w4e=BigInt(35),x4e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),_4e=Symbol.for("nodejs.util.inspect.custom"),B5=4096*32,mS=128;function S4e(n){return{blobToKzgCommitment:i=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return At(n.blobToKzgCommitment(yt(i)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return At(n.blobToKzgCommitment(i));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return At(n.blobToKZGCommitment(yt(i)));$e(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(i,s)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return At(n.computeBlobProof(yt(i),yt(s)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(i,s);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return At(n.computeBlobKZGProof(yt(i),yt(s)));$e(!1,"unsupported KZG library","kzg",n)}}}function aW(n,e){let r=n.toString(16);for(;r.length<2;)r="0"+r;return r+=na(e).substring(4),"0x"+r}function J0(n){return n==="0x"?null:ra(n)}function BC(n,e){try{return jC(n)}catch(r){$e(!1,r.message,e,n)}}function k4e(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const r=[];for(let i=0;i<n.length;i++){const s=n[i];if(!Array.isArray(s))throw new Error(`authorization[${i}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${i}]: wrong length`);if(!s[1])throw new Error(`authorization[${i}]: null address`);r.push({address:J0(s[1]),nonce:Nn(s[2],"nonce"),chainId:Nn(s[0],"chainId"),signature:La.from({yParity:pp(s[3],"yParity"),r:Vd(s[4],32),s:Vd(s[5],32)})})}return r}catch(r){$e(!1,r.message,e,n)}}function pp(n,e){return n==="0x"?0:ao(n,e)}function Nn(n,e){if(n==="0x")return Zr;const r=Un(n,e);return $e(r<=x4e,"value exceeds uint size",e,r),r}function hn(n,e){const r=Un(n,"value"),i=Pr(r);return $e(i.length<=32,"value too large",`tx.${e}`,r),i}function LC(n){return jC(n).map(e=>[e.address,e.storageKeys])}function C4e(n){return n.map(e=>[hn(e.chainId,"chainId"),e.address,hn(e.nonce,"nonce"),hn(e.signature.yParity,"yParity"),Pr(e.signature.r),Pr(e.signature._s)])}function E4e(n,e){$e(Array.isArray(n),`invalid ${e}`,"value",n);for(let r=0;r<n.length;r++)$e($l(n[r],32),"invalid ${ param } hash",`value[${r}]`,n[r]);return n}function A4e(n){const e=mx(n);$e(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const r={type:0,nonce:pp(e[0],"nonce"),gasPrice:Nn(e[1],"gasPrice"),gasLimit:Nn(e[2],"gasLimit"),to:J0(e[3]),value:Nn(e[4],"value"),data:yt(e[5]),chainId:Zr};if(e.length===6)return r;const i=Nn(e[6],"v"),s=Nn(e[7],"r"),o=Nn(e[8],"s");if(s===Zr&&o===Zr)r.chainId=i;else{let a=(i-w4e)/b4e;a<Zr&&(a=Zr),r.chainId=a,$e(a!==Zr||i===y4e||i===v4e,"non-canonical legacy v","v",e[6]),r.signature=La.from({r:Vd(e[7],32),s:Vd(e[8],32),v:i})}return r}function T4e(n,e){const r=[hn(n.nonce,"nonce"),hn(n.gasPrice||0,"gasPrice"),hn(n.gasLimit,"gasLimit"),n.to||"0x",hn(n.value,"value"),n.data];let i=Zr;if(n.chainId!=Zr)i=Un(n.chainId,"tx.chainId"),$e(!e||e.networkV==null||e.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const o=n.signature.legacyChainId;o!=null&&(i=o)}if(!e)return i!==Zr&&(r.push(Pr(i)),r.push("0x"),r.push("0x")),qc(r);let s=BigInt(27+e.yParity);return i!==Zr?s=La.getChainIdV(i,e.v):BigInt(e.v)!==s&&$e(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Pr(s)),r.push(Pr(e.r)),r.push(Pr(e._s)),qc(r)}function FC(n,e){let r;try{if(r=pp(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{$e(!1,"invalid yParity","yParity",e[0])}const i=Vd(e[1],32),s=Vd(e[2],32),o=La.from({r:i,s,yParity:r});n.signature=o}function P4e(n){const e=mx(At(n).slice(1));$e(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",yt(n));const r={type:2,chainId:Nn(e[0],"chainId"),nonce:pp(e[1],"nonce"),maxPriorityFeePerGas:Nn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Nn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Nn(e[4],"gasLimit"),to:J0(e[5]),value:Nn(e[6],"value"),data:yt(e[7]),accessList:BC(e[8],"accessList")};return e.length===9||FC(r,e.slice(9)),r}function I4e(n,e){const r=[hn(n.chainId,"chainId"),hn(n.nonce,"nonce"),hn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(n.maxFeePerGas||0,"maxFeePerGas"),hn(n.gasLimit,"gasLimit"),n.to||"0x",hn(n.value,"value"),n.data,LC(n.accessList||[])];return e&&(r.push(hn(e.yParity,"yParity")),r.push(Pr(e.r)),r.push(Pr(e.s))),Mr(["0x02",qc(r)])}function M4e(n){const e=mx(At(n).slice(1));$e(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",yt(n));const r={type:1,chainId:Nn(e[0],"chainId"),nonce:pp(e[1],"nonce"),gasPrice:Nn(e[2],"gasPrice"),gasLimit:Nn(e[3],"gasLimit"),to:J0(e[4]),value:Nn(e[5],"value"),data:yt(e[6]),accessList:BC(e[7],"accessList")};return e.length===8||FC(r,e.slice(8)),r}function O4e(n,e){const r=[hn(n.chainId,"chainId"),hn(n.nonce,"nonce"),hn(n.gasPrice||0,"gasPrice"),hn(n.gasLimit,"gasLimit"),n.to||"0x",hn(n.value,"value"),n.data,LC(n.accessList||[])];return e&&(r.push(hn(e.yParity,"recoveryParam")),r.push(Pr(e.r)),r.push(Pr(e.s))),Mr(["0x01",qc(r)])}function D4e(n){let e=mx(At(n).slice(1)),r="3",i=null,s=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const a=e[1],l=e[2],c=e[3];$e(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),$e(Array.isArray(l),"invalid network format: commitments not an array","fields[2]",l),$e(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),$e(a.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),$e(a.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<e[1].length;u++)s.push({data:a[u],commitment:l[u],proof:c[u]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",i=ao(e[1]);const a=e[2],l=e[3],c=e[4];$e(i===1,`unsupported EIP-7594 network format version: ${i}`,"fields[1]",i),$e(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),$e(Array.isArray(l),"invalid EIP-7594 network format: commitments not an array","fields[3]",l),$e(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),$e(a.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),$e(a.length*mS===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<a.length;u++){const d=[];for(let h=0;h<mS;h++)d.push(c[u*mS+h]);s.push({data:a[u],commitment:l[u],proof:Mr(d)})}e=e[0]}$e(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",yt(n));const o={type:3,chainId:Nn(e[0],"chainId"),nonce:pp(e[1],"nonce"),maxPriorityFeePerGas:Nn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Nn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Nn(e[4],"gasLimit"),to:J0(e[5]),value:Nn(e[6],"value"),data:yt(e[7]),accessList:BC(e[8],"accessList"),maxFeePerBlobGas:Nn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:i};s&&(o.blobs=s),$e(o.to!=null,`invalid address for transaction type: ${r}`,"data",n),$e(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let a=0;a<o.blobVersionedHashes.length;a++)$e($l(o.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",n);return e.length===11||FC(o,e.slice(11)),o}function R4e(n,e,r){const i=[hn(n.chainId,"chainId"),hn(n.nonce,"nonce"),hn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(n.maxFeePerGas||0,"maxFeePerGas"),hn(n.gasLimit,"gasLimit"),n.to||Sfe,hn(n.value,"value"),n.data,LC(n.accessList||[]),hn(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),E4e(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(i.push(hn(e.yParity,"yParity")),i.push(Pr(e.r)),i.push(Pr(e.s)),r)){if(n.blobWrapperVersion!=null){const s=Pr(n.blobWrapperVersion),o=[];for(const{proof:a}of r){const l=At(a),c=l.length/mS;for(let u=0;u<l.length;u+=c)o.push(l.subarray(u,u+c))}return Mr(["0x03",qc([i,s,r.map(a=>a.data),r.map(a=>a.commitment),o])])}return Mr(["0x03",qc([i,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])])}return Mr(["0x03",qc(i)])}function N4e(n){const e=mx(At(n).slice(1));$e(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",yt(n));const r={type:4,chainId:Nn(e[0],"chainId"),nonce:pp(e[1],"nonce"),maxPriorityFeePerGas:Nn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Nn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Nn(e[4],"gasLimit"),to:J0(e[5]),value:Nn(e[6],"value"),data:yt(e[7]),accessList:BC(e[8],"accessList"),authorizationList:k4e(e[9],"authorizationList")};return e.length===10||FC(r,e.slice(10)),r}function j4e(n,e){const r=[hn(n.chainId,"chainId"),hn(n.nonce,"nonce"),hn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(n.maxFeePerGas||0,"maxFeePerGas"),hn(n.gasLimit,"gasLimit"),n.to||"0x",hn(n.value,"value"),n.data,LC(n.accessList||[]),C4e(n.authorizationList||[])];return e&&(r.push(hn(e.yParity,"yParity")),r.push(Pr(e.r)),r.push(Pr(e.s))),Mr(["0x04",qc(r)])}var xa,Cg,Eg,Ag,Tg,Pg,Ig,Mg,Og,Dg,Rg,Ng,mf,pd,yl,md,jg,Bg,Lg,gS;const dl=class dl{constructor(){ct(this,Lg);ct(this,xa);ct(this,Cg);ct(this,Eg);ct(this,Ag);ct(this,Tg);ct(this,Pg);ct(this,Ig);ct(this,Mg);ct(this,Og);ct(this,Dg);ct(this,Rg);ct(this,Ng);ct(this,mf);ct(this,pd);ct(this,yl);ct(this,md);ct(this,jg);ct(this,Bg);Be(this,xa,null),Be(this,Cg,null),Be(this,Ag,0),Be(this,Tg,Zr),Be(this,Pg,null),Be(this,Ig,null),Be(this,Mg,null),Be(this,Eg,"0x"),Be(this,Og,Zr),Be(this,Dg,Zr),Be(this,Rg,null),Be(this,Ng,null),Be(this,mf,null),Be(this,pd,null),Be(this,yl,null),Be(this,md,null),Be(this,jg,null),Be(this,Bg,null)}get type(){return ee(this,xa)}set type(e){switch(e){case null:Be(this,xa,null);break;case 0:case"legacy":Be(this,xa,0);break;case 1:case"berlin":case"eip-2930":Be(this,xa,1);break;case 2:case"london":case"eip-1559":Be(this,xa,2);break;case 3:case"cancun":case"eip-4844":Be(this,xa,3);break;case 4:case"pectra":case"eip-7702":Be(this,xa,4);break;default:$e(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=ee(this,Cg);return e==null&&this.type===3?Sfe:e}set to(e){Be(this,Cg,e==null?null:ra(e))}get nonce(){return ee(this,Ag)}set nonce(e){Be(this,Ag,ao(e,"value"))}get gasLimit(){return ee(this,Tg)}set gasLimit(e){Be(this,Tg,Un(e))}get gasPrice(){const e=ee(this,Pg);return e==null&&(this.type===0||this.type===1)?Zr:e}set gasPrice(e){Be(this,Pg,e==null?null:Un(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=ee(this,Ig);return e??(this.type===2||this.type===3?Zr:null)}set maxPriorityFeePerGas(e){Be(this,Ig,e==null?null:Un(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=ee(this,Mg);return e??(this.type===2||this.type===3?Zr:null)}set maxFeePerGas(e){Be(this,Mg,e==null?null:Un(e,"maxFeePerGas"))}get data(){return ee(this,Eg)}set data(e){Be(this,Eg,yt(e))}get value(){return ee(this,Og)}set value(e){Be(this,Og,Un(e,"value"))}get chainId(){return ee(this,Dg)}set chainId(e){Be(this,Dg,Un(e))}get signature(){return ee(this,Rg)||null}set signature(e){Be(this,Rg,e==null?null:La.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const r=this.authorizationList;if(r){for(const i of r)if(!i.signature.isValid())return!1}return!0}get accessList(){const e=ee(this,Ng)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){Be(this,Ng,e==null?null:jC(e))}get authorizationList(){const e=ee(this,jg)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){Be(this,jg,e==null?null:e.map(r=>m4e(r)))}get maxFeePerBlobGas(){const e=ee(this,mf);return e==null&&this.type===3?Zr:e}set maxFeePerBlobGas(e){Be(this,mf,e==null?null:Un(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=ee(this,pd);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){$e(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)$e($l(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}Be(this,pd,e)}get blobs(){return ee(this,md)==null?null:ee(this,md).map(e=>Object.assign({},e))}set blobs(e){if(e==null){Be(this,md,null);return}const r=[],i=[];for(let s=0;s<e.length;s++){const o=e[s];if(IC(o)){bn(ee(this,yl),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=At(o);if($e(a.length<=B5,"blob is too large",`blobs[${s}]`,o),a.length!==B5){const u=new Uint8Array(B5);u.set(a),a=u}const l=ee(this,yl).blobToKzgCommitment(a),c=yt(ee(this,yl).computeBlobKzgProof(a,l));r.push({data:yt(a),commitment:yt(l),proof:c}),i.push(aW(1,l))}else{const a=yt(o.data),l=yt(o.commitment),c=yt(o.proof);r.push({data:a,commitment:l,proof:c}),i.push(aW(1,l))}}Be(this,md,r),Be(this,pd,i)}get kzg(){return ee(this,yl)}set kzg(e){e==null?Be(this,yl,null):Be(this,yl,S4e(e))}get blobWrapperVersion(){return ee(this,Bg)}set blobWrapperVersion(e){Be(this,Bg,e)}get hash(){return this.signature==null?null:ti(Dt(this,Lg,gS).call(this,!0,!1))}get unsignedHash(){return ti(this.unsignedSerialized)}get from(){return this.signature==null?null:g4e(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Ml.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return Dt(this,Lg,gS).call(this,!0,!0)}get unsignedSerialized(){return Dt(this,Lg,gS).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,s=ee(this,mf)!=null||ee(this,pd);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&bn(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),bn(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),bn(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):r?o.push(2):e?(o.push(1),i||o.push(0)):i?(o.push(1),o.push(2)):(s&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return dl.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[_4e](){return this.toString()}toString(){const e=[],r=s=>{let o=this[s];typeof o=="string"&&(o=JSON.stringify(o)),e.push(`${s}: ${o}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));const i=this.authorizationList;if(i){const s=[];for(const o of i){const a=[];a.push(`address: ${JSON.stringify(o.address)}`),o.nonce!=null&&a.push(`nonce: ${o.nonce}`),o.chainId!=null&&a.push(`chainId: ${o.chainId}`),o.signature&&a.push(`signature: ${o.signature.toString()}`),s.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new dl;if(typeof e=="string"){const i=At(e);if(i[0]>=127)return dl.from(A4e(i));switch(i[0]){case 1:return dl.from(M4e(i));case 2:return dl.from(P4e(i));case 3:return dl.from(D4e(i));case 4:return dl.from(N4e(i))}bn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new dl;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=La.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&($e(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),$e(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&($e(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),$e(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};xa=new WeakMap,Cg=new WeakMap,Eg=new WeakMap,Ag=new WeakMap,Tg=new WeakMap,Pg=new WeakMap,Ig=new WeakMap,Mg=new WeakMap,Og=new WeakMap,Dg=new WeakMap,Rg=new WeakMap,Ng=new WeakMap,mf=new WeakMap,pd=new WeakMap,yl=new WeakMap,md=new WeakMap,jg=new WeakMap,Bg=new WeakMap,Lg=new WeakSet,gS=function(e,r){bn(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const i=e?this.signature:null;switch(this.inferType()){case 0:return T4e(this,i);case 1:return O4e(this,i);case 2:return I4e(this,i);case 3:return R4e(this,i,r?this.blobs:null);case 4:return j4e(this,i)}bn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Ik=dl;function B4e(n){return $e(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),ti(Mr(["0x05",qc([n.chainId!=null?Pr(n.chainId):"0x",ra(n.address),n.nonce!=null?Pr(n.nonce):"0x"])]))}function K7(n){return ti(Sf(n))}function L4e(n){return typeof n=="string"&&(n=Sf(n)),ti(Mr([Sf(o4e),Sf(String(n.length)),n]))}const Cfe=new Uint8Array(32);Cfe.fill(0);const F4e=BigInt(-1),Efe=BigInt(0),Afe=BigInt(1),$4e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function z4e(n){const e=At(n),r=e.length%32;return r?Mr([e,Cfe.slice(r)]):yt(e)}const U4e=a0(Afe,32),W4e=a0(Efe,32),lW={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},L5=["name","version","chainId","verifyingContract","salt"];function cW(n){return function(e){return $e(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const q4e={name:cW("name"),version:cW("version"),chainId:function(n){const e=Un(n,"domain.chainId");return $e(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):y8e(e)},verifyingContract:function(n){try{return ra(n).toLowerCase()}catch{}$e(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=At(n,"domain.salt");return $e(e.length===32,'invalid domain value "salt"',"domain.salt",n),yt(e)}};function F5(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",i=parseInt(e[2]);$e(i%8===0&&i!==0&&i<=256&&e[2]===String(i),"invalid numeric width","type",n);const s=b8e($4e,r?i-1:i),o=r?(s+Afe)*F4e:Efe;return function(a){const l=Un(a,"value");return $e(l>=o&&l<=s,`value out-of-bounds for ${n}`,"value",l),a0(r?g8e(l,256):l,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return $e(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",n),function(i){const s=At(i);return $e(s.length===r,`invalid length for ${n}`,"value",i),z4e(i)}}}switch(n){case"address":return function(e){return Vd(ra(e),32)};case"bool":return function(e){return e?U4e:W4e};case"bytes":return function(e){return ti(e)};case"string":return function(e){return K7(e)}}return null}function uW(n,e){return`${n}(${e.map(({name:r,type:i})=>i+" "+r).join(",")})`}function Z1(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Fw,Pc,Fg,N2,Tfe;const jo=class jo{constructor(e){ct(this,N2);ze(this,"primaryType");ct(this,Fw);ct(this,Pc);ct(this,Fg);Be(this,Pc,new Map),Be(this,Fg,new Map);const r=new Map,i=new Map,s=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:u,type:d})=>{let{base:h,index:f}=Z1(d);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:u,type:h+(f||"")}}),r.set(c,new Set),i.set(c,[]),s.set(c,new Set)}),Be(this,Fw,JSON.stringify(o));for(const c in o){const u=new Set;for(const d of o[c]){$e(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),u.add(d.name);const h=Z1(d.type).base;$e(h!==c,`circular type reference to ${JSON.stringify(h)}`,"types",e),!F5(h)&&($e(i.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),i.get(h).push(c),r.get(c).add(h))}}const a=Array.from(i.keys()).filter(c=>i.get(c).length===0);$e(a.length!==0,"missing primary type","types",e),$e(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),oo(this,{primaryType:a[0]});function l(c,u){$e(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const d of r.get(c))if(i.has(d)){l(d,u);for(const h of u)s.get(h).add(d)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of s){const d=Array.from(u);d.sort(),ee(this,Pc).set(c,uW(c,o[c])+d.map(h=>uW(h,o[h])).join(""))}}get types(){return JSON.parse(ee(this,Fw))}getEncoder(e){let r=ee(this,Fg).get(e);return r||(r=Dt(this,N2,Tfe).call(this,e),ee(this,Fg).set(e,r)),r}encodeType(e){const r=ee(this,Pc).get(e);return $e(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return ti(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,i){if(F5(e))return i(e,r);const s=Z1(e).array;if(s)return $e(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(a=>this._visit(s.prefix,a,i));const o=this.types[e];if(o)return o.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,r[l],i),a),{});$e(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new jo(e)}static getPrimaryType(e){return jo.from(e).primaryType}static hashStruct(e,r,i){return jo.from(r).hashStruct(e,i)}static hashDomain(e){const r=[];for(const i in e){if(e[i]==null)continue;const s=lW[i];$e(s,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),r.push({name:i,type:s})}return r.sort((i,s)=>L5.indexOf(i.name)-L5.indexOf(s.name)),jo.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,i){return Mr(["0x1901",jo.hashDomain(e),jo.from(r).hash(i)])}static hash(e,r,i){return ti(jo.encode(e,r,i))}static async resolveNames(e,r,i,s){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const o={};e.verifyingContract&&!$l(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const a=jo.from(r);a.visit(i,(l,c)=>(l==="address"&&!$l(c,20)&&(o[c]="0x"),c));for(const l in o)o[l]=await s(l);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),i=a.visit(i,(l,c)=>l==="address"&&o[c]?o[c]:c),{domain:e,value:i}}static getPayload(e,r,i){jo.hashDomain(e);const s={},o=[];L5.forEach(c=>{const u=e[c];u!=null&&(s[c]=q4e[c](u),o.push({name:c,type:lW[c]}))});const a=jo.from(r);r=a.types;const l=Object.assign({},r);return $e(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),l.EIP712Domain=o,a.encode(i),{types:l,domain:s,primaryType:a.primaryType,message:a.visit(i,(c,u)=>{if(c.match(/^bytes(\d*)/))return yt(At(u));if(c.match(/^u?int/))return Un(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return $e(typeof u=="string","invalid string","value",u),u}$e(!1,"unsupported type","type",c)})}}};Fw=new WeakMap,Pc=new WeakMap,Fg=new WeakMap,N2=new WeakSet,Tfe=function(e){{const s=F5(e);if(s)return s}const r=Z1(e).array;if(r){const s=r.prefix,o=this.getEncoder(s);return a=>{$e(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let l=a.map(o);return ee(this,Pc).has(s)&&(l=l.map(ti)),ti(Mr(l))}}const i=this.types[e];if(i){const s=K7(ee(this,Pc).get(e));return o=>{const a=i.map(({name:l,type:c})=>{const u=this.getEncoder(c)(o[l]);return ee(this,Pc).has(c)?ti(u):u});return a.unshift(s),Mr(a)}}$e(!1,`unknown type: ${e}`,"type",e)};let Mk=jo;BigInt(0);function Pfe(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=yt(n.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=Un(n[s],`request.${s}`));const i="type,nonce".split(/,/);for(const s of i)!(s in n)||n[s]==null||(e[s]=ao(n[s],`request.${s}`));return n.accessList&&(e.accessList=jC(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(s=>IC(s)?yt(s):Object.assign({},s))),e}function yh(n,e){if(n.provider)return n.provider;bn(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function dW(n,e){let r=Pfe(e);if(r.to!=null&&(r.to=Yy(r.to,n)),r.from!=null){const i=r.from;r.from=Promise.all([n.getAddress(),Yy(i,n)]).then(([s,o])=>($e(s.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),s))}else r.from=n.getAddress();return await D7(r)}class Ife{constructor(e){ze(this,"provider");oo(this,{provider:e||null})}async getNonce(e){return yh(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await dW(this,e)}async populateTransaction(e){const r=yh(this,"populateTransaction"),i=await dW(this,e);i.nonce==null&&(i.nonce=await this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=await this.estimateGas(i));const s=await this.provider.getNetwork();if(i.chainId!=null){const a=Un(i.chainId);$e(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else i.chainId=s.chainId;const o=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||o)?$e(!1,"eip-1559 transaction do not support gasPrice","tx",e):(i.type===0||i.type===1)&&o&&$e(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){const a=await r.getFeeData();bn(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(i.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(i.authorizationList&&i.authorizationList.length?i.type=4:i.type=2,i.gasPrice!=null){const l=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=l,i.maxPriorityFeePerGas=l}else i.maxFeePerGas==null&&(i.maxFeePerGas=a.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(bn(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=a.gasPrice),i.type=0):bn(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(i.type===2||i.type===3||i.type===4)&&(i.maxFeePerGas==null&&(i.maxFeePerGas=a.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await D7(i)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await yh(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return yh(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return yh(this,"call").call(await this.populateCall(e))}async resolveName(e){return await yh(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=yh(this,"sendTransaction"),i=await this.populateTransaction(e);delete i.from;const s=Ik.from(i);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){bn(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var $g,bS;const CL=class CL extends Ife{constructor(r,i){super(i);ct(this,$g);ze(this,"address");oo(this,{address:r})}async getAddress(){return this.address}connect(r){return new CL(this.address,r)}async signTransaction(r){Dt(this,$g,bS).call(this,"transactions","signTransaction")}async signMessage(r){Dt(this,$g,bS).call(this,"messages","signMessage")}async signTypedData(r,i,s){Dt(this,$g,bS).call(this,"typed-data","signTypedData")}};$g=new WeakSet,bS=function(r,i){bn(!1,`VoidSigner cannot sign ${r}`,"UNSUPPORTED_OPERATION",{operation:i})};let zR=CL;var zg;const EL=class EL extends Ife{constructor(r,i){super(i);ze(this,"address");ct(this,zg);$e(r&&typeof r.sign=="function","invalid private key","privateKey","[ REDACTED ]"),Be(this,zg,r);const s=wx(this.signingKey.publicKey);oo(this,{address:s})}get signingKey(){return ee(this,zg)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(r){return new EL(ee(this,zg),r)}async signTransaction(r){r=Pfe(r);const{to:i,from:s}=await D7({to:r.to?Yy(r.to,this):void 0,from:r.from?Yy(r.from,this):void 0});i!=null&&(r.to=i),s!=null&&(r.from=s),r.from!=null&&($e(ra(r.from)===this.address,"transaction from address mismatch","tx.from",r.from),delete r.from);const o=Ik.from(r);return o.signature=this.signingKey.sign(o.unsignedHash),o.serialized}async signMessage(r){return this.signMessageSync(r)}signMessageSync(r){return this.signingKey.sign(L4e(r)).serialized}authorizeSync(r){$e(typeof r.address=="string","invalid address for authorizeSync","auth.address",r);const i=this.signingKey.sign(B4e(r));return Object.assign({},{address:ra(r.address),nonce:Un(r.nonce||0),chainId:Un(r.chainId||0)},{signature:i})}async authorize(r){return r=Object.assign({},r,{address:await Yy(r.address,this)}),this.authorizeSync(await this.populateAuthorization(r))}async signTypedData(r,i,s){const o=await Mk.resolveNames(r,i,s,async a=>{bn(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const l=await this.provider.resolveName(a);return bn(l!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),l});return this.signingKey.sign(Mk.hash(o.domain,i,o.value)).serialized}};zg=new WeakMap;let UR=EL;const Ok=" !#$%&'()*+,-./<=>?@[]^_`{|}~",H4e=/^[a-z]*$/i;function hW(n,e){let r=97;return n.reduce((i,s)=>(s===e?r++:s.match(H4e)?i.push(String.fromCharCode(r)+s):(r=97,i.push(s)),i),[])}function V4e(n,e){for(let s=Ok.length-1;s>=0;s--)n=n.split(Ok[s]).join(e.substring(2*s,2*s+2));const r=[],i=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,o,a,l)=>{if(a)for(let c=parseInt(a);c>=0;c--)r.push(";");else r.push(o.toLowerCase());return""});if(i)throw new Error(`leftovers: ${JSON.stringify(i)}`);return hW(hW(r,";"),":")}function G4e(n){return $e(n[0]==="0","unsupported auwl data","data",n),V4e(n.substring(1+2*Ok.length),n.substring(1,1+2*Ok.length))}class Y4e{constructor(e){ze(this,"locale");oo(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Ug,$w,gf,zw,WR;class K4e extends Y4e{constructor(r,i,s){super(r);ct(this,zw);ct(this,Ug);ct(this,$w);ct(this,gf);Be(this,Ug,i),Be(this,$w,s),Be(this,gf,null)}get _data(){return ee(this,Ug)}_decodeWords(){return G4e(ee(this,Ug))}getWord(r){const i=Dt(this,zw,WR).call(this);return $e(r>=0&&r<i.length,`invalid word index: ${r}`,"index",r),i[r]}getWordIndex(r){return Dt(this,zw,WR).call(this).indexOf(r)}}Ug=new WeakMap,$w=new WeakMap,gf=new WeakMap,zw=new WeakSet,WR=function(){if(ee(this,gf)==null){const r=this._decodeWords();if(K7(r.join(`
`)+`
`)!==ee(this,$w))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);Be(this,gf,r)}return ee(this,gf)};const X4e="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Q4e="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let $5=null;class Gf extends K4e{constructor(){super("en",X4e,Q4e)}static wordlist(){return $5==null&&($5=new Gf),$5}}function Mfe(n){return(1<<n)-1<<8-n&255}function J4e(n){return(1<<n)-1&255}function z5(n,e){_he("NFKD"),e==null&&(e=Gf.wordlist());const r=e.split(n);$e(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const i=new Uint8Array(Math.ceil(11*r.length/8));let s=0;for(let u=0;u<r.length;u++){let d=e.getWordIndex(r[u].normalize("NFKD"));$e(d>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)d&1<<10-h&&(i[s>>3]|=1<<7-s%8),s++}const o=32*r.length/3,a=r.length/3,l=Mfe(a),c=At(na(i.slice(0,o/8)))[0]&l;return $e(c===(i[i.length-1]&l),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),yt(i.slice(0,o/8))}function U5(n,e){$e(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Gf.wordlist());const r=[0];let i=11;for(let a=0;a<n.length;a++)i>8?(r[r.length-1]<<=8,r[r.length-1]|=n[a],i-=8):(r[r.length-1]<<=i,r[r.length-1]|=n[a]>>8-i,r.push(n[a]&J4e(8-i)),i+=3);const s=n.length/4,o=parseInt(na(n).substring(2,4),16)&Mfe(s);return r[r.length-1]<<=s,r[r.length-1]|=o>>8-s,e.join(r.map(a=>e.getWord(a)))}const W5={};class aw{constructor(e,r,i,s,o){ze(this,"phrase");ze(this,"password");ze(this,"wordlist");ze(this,"entropy");s==null&&(s=""),o==null&&(o=Gf.wordlist()),PC(e,W5,"Mnemonic"),oo(this,{phrase:i,password:s,wordlist:o,entropy:r})}computeSeed(){const e=Sf("mnemonic"+this.password,"NFKD");return gx(Sf(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,i){const s=z5(e,i);return e=U5(At(s),i),new aw(W5,s,e,r,i)}static fromEntropy(e,r,i){const s=At(e,"entropy"),o=U5(s,i);return new aw(W5,yt(s),o,r,i)}static entropyToPhrase(e,r){const i=At(e,"entropy");return U5(i,r)}static phraseToEntropy(e,r){return z5(e,r)}static isValidMnemonic(e,r){try{return z5(e,r),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var hi=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},q5=function(n,e,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,r):s?s.value=r:e.set(n,r),r},yS,Mo,il;const Z4e={16:10,24:12,32:14},eNe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Ao=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],e_=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],tNe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],nNe=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],rNe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],iNe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],sNe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],oNe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],aNe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],lNe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],cNe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],uNe=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],dNe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],hNe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function H5(n){const e=[];for(let r=0;r<n.length;r+=4)e.push(n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]);return e}class X7{get key(){return hi(this,yS,"f").slice()}constructor(e){if(yS.set(this,void 0),Mo.set(this,void 0),il.set(this,void 0),!(this instanceof X7))throw Error("AES must be instanitated with `new`");q5(this,yS,new Uint8Array(e),"f");const r=Z4e[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");q5(this,il,[],"f"),q5(this,Mo,[],"f");for(let d=0;d<=r;d++)hi(this,il,"f").push([0,0,0,0]),hi(this,Mo,"f").push([0,0,0,0]);const i=(r+1)*4,s=this.key.length/4,o=H5(this.key);let a;for(let d=0;d<s;d++)a=d>>2,hi(this,il,"f")[a][d%4]=o[d],hi(this,Mo,"f")[r-a][d%4]=o[d];let l=0,c=s,u;for(;c<i;){if(u=o[s-1],o[0]^=Ao[u>>16&255]<<24^Ao[u>>8&255]<<16^Ao[u&255]<<8^Ao[u>>24&255]^eNe[l]<<24,l+=1,s!=8)for(let p=1;p<s;p++)o[p]^=o[p-1];else{for(let p=1;p<s/2;p++)o[p]^=o[p-1];u=o[s/2-1],o[s/2]^=Ao[u&255]^Ao[u>>8&255]<<8^Ao[u>>16&255]<<16^Ao[u>>24&255]<<24;for(let p=s/2+1;p<s;p++)o[p]^=o[p-1]}let d=0,h,f;for(;d<s&&c<i;)h=c>>2,f=c%4,hi(this,il,"f")[h][f]=o[d],hi(this,Mo,"f")[r-h][f]=o[d++],c++}for(let d=1;d<r;d++)for(let h=0;h<4;h++)u=hi(this,Mo,"f")[d][h],hi(this,Mo,"f")[d][h]=cNe[u>>24&255]^uNe[u>>16&255]^dNe[u>>8&255]^hNe[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const r=hi(this,il,"f").length-1,i=[0,0,0,0];let s=H5(e);for(let l=0;l<4;l++)s[l]^=hi(this,il,"f")[0][l];for(let l=1;l<r;l++){for(let c=0;c<4;c++)i[c]=tNe[s[c]>>24&255]^nNe[s[(c+1)%4]>>16&255]^rNe[s[(c+2)%4]>>8&255]^iNe[s[(c+3)%4]&255]^hi(this,il,"f")[l][c];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=hi(this,il,"f")[r][l],o[4*l]=(Ao[s[l]>>24&255]^a>>24)&255,o[4*l+1]=(Ao[s[(l+1)%4]>>16&255]^a>>16)&255,o[4*l+2]=(Ao[s[(l+2)%4]>>8&255]^a>>8)&255,o[4*l+3]=(Ao[s[(l+3)%4]&255]^a)&255;return o}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const r=hi(this,Mo,"f").length-1,i=[0,0,0,0];let s=H5(e);for(let l=0;l<4;l++)s[l]^=hi(this,Mo,"f")[0][l];for(let l=1;l<r;l++){for(let c=0;c<4;c++)i[c]=sNe[s[c]>>24&255]^oNe[s[(c+3)%4]>>16&255]^aNe[s[(c+2)%4]>>8&255]^lNe[s[(c+1)%4]&255]^hi(this,Mo,"f")[l][c];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=hi(this,Mo,"f")[r][l],o[4*l]=(e_[s[l]>>24&255]^a>>24)&255,o[4*l+1]=(e_[s[(l+3)%4]>>16&255]^a>>16)&255,o[4*l+2]=(e_[s[(l+2)%4]>>8&255]^a>>8)&255,o[4*l+3]=(e_[s[(l+1)%4]&255]^a)&255;return o}}yS=new WeakMap,Mo=new WeakMap,il=new WeakMap;class fNe{constructor(e,r,i){if(i&&!(this instanceof i))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new X7(r)},name:{enumerable:!0,value:e}})}}var Yp=function(n,e,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,r):s?s.value=r:e.set(n,r),r},To=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},wy,Oh,Oo;class Dk extends fNe{constructor(e,r){super("CTR",e,Dk),wy.set(this,void 0),Oh.set(this,void 0),Oo.set(this,void 0),Yp(this,Oo,new Uint8Array(16),"f"),To(this,Oo,"f").fill(0),Yp(this,wy,To(this,Oo,"f"),"f"),Yp(this,Oh,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(To(this,Oo,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)To(this,Oo,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");To(this,Oo,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(To(this,Oo,"f")[e]===255)To(this,Oo,"f")[e]=0;else{To(this,Oo,"f")[e]++;break}}encrypt(e){var r,i;const s=new Uint8Array(e);for(let o=0;o<s.length;o++)To(this,Oh,"f")===16&&(Yp(this,wy,this.aes.encrypt(To(this,Oo,"f")),"f"),Yp(this,Oh,0,"f"),this.increment()),s[o]^=To(this,wy,"f")[Yp(this,Oh,(i=To(this,Oh,"f"),r=i++,i),"f"),r];return s}decrypt(e){return this.encrypt(e)}}wy=new WeakMap,Oh=new WeakMap,Oo=new WeakMap;function Fb(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function Ofe(n){return typeof n=="string"?Sf(n,"NFKC"):pm(n)}const pNe="m/44'/60'/0'/0/0";function Dfe(n){const e=n.salt!=null?At(n.salt,"options.salt"):Hc(32);let r=1<<17,i=8,s=1;return n.scrypt&&(n.scrypt.N&&(r=n.scrypt.N),n.scrypt.r&&(i=n.scrypt.r),n.scrypt.p&&(s=n.scrypt.p)),$e(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),$e(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt r parameter","options.r",i),$e(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:r,r:i,p:s}}function Rfe(n,e,r,i){const s=At(r.privateKey,"privateKey"),o=i.iv!=null?At(i.iv,"options.iv"):Hc(16);$e(o.length===16,"invalid options.iv length","options.iv",i.iv);const a=i.uuid!=null?At(i.uuid,"options.uuid"):Hc(16);$e(a.length===16,"invalid options.uuid length","options.uuid",i.iv);const l=n.slice(0,16),c=n.slice(16,32),u=new Dk(l,o),d=At(u.encrypt(s)),h=ti(Mr([c,d])),f={address:r.address.substring(2).toLowerCase(),id:k8e(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:yt(o).substring(2)},ciphertext:yt(d).substring(2),kdf:"scrypt",kdfparams:{salt:yt(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(r.mnemonic){const p=i.client!=null?i.client:`ethers/${xhe}`,m=r.mnemonic.path||pNe,b=r.mnemonic.locale||"en",y=n.slice(32,64),v=At(r.mnemonic.entropy,"account.mnemonic.entropy"),w=Hc(16),_=new Dk(y,w),x=At(_.encrypt(v)),S=new Date,E="UTC--"+(S.getUTCFullYear()+"-"+Fb(S.getUTCMonth()+1,2)+"-"+Fb(S.getUTCDate(),2)+"T"+Fb(S.getUTCHours(),2)+"-"+Fb(S.getUTCMinutes(),2)+"-"+Fb(S.getUTCSeconds(),2)+".0Z")+"--"+f.address;f["x-ethers"]={client:p,gethFilename:E,path:m,locale:b,mnemonicCounter:yt(w).substring(2),mnemonicCiphertext:yt(x).substring(2),version:"0.1"}}return JSON.stringify(f)}function mNe(n,e,r){r==null&&(r={});const i=Ofe(e),s=Dfe(r),o=yx(i,s.salt,s.N,s.r,s.p,64);return Rfe(At(o),s,n,r)}async function gNe(n,e,r){r==null&&(r={});const i=Ofe(e),s=Dfe(r),o=await bx(i,s.salt,s.N,s.r,s.p,64,r.progressCallback);return Rfe(At(o),s,n,r)}const V5="m/44'/60'/0'/0/0",bNe=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Dd=2147483648,yNe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vNe="0123456789abcdef";function Rk(n,e){let r="";for(;n;)r=vNe[n%16]+r,n=Math.trunc(n/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function qR(n){const e=At(n),r=R7(na(na(e)),0,4),i=Mr([e,r]);return x8e(i)}const fl={};function Nfe(n,e,r,i){const s=new Uint8Array(37);n&Dd?(bn(i!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(At(i),1)):s.set(At(r));for(let a=24;a>=0;a-=8)s[33+(a>>3)]=n>>24-a&255;const o=At(X0("sha512",e,s));return{IL:o.slice(0,32),IR:o.slice(32)}}function jfe(n,e){const r=e.split("/");$e(r.length>0,"invalid path","path",e),r[0]==="m"&&($e(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),r.shift());let i=n;for(let s=0;s<r.length;s++){const o=r[s];if(o.match(/^[0-9]+'$/)){const a=parseInt(o.substring(0,o.length-1));$e(a<Dd,"invalid path index",`path[${s}]`,o),i=i.deriveChild(Dd+a)}else if(o.match(/^[0-9]+$/)){const a=parseInt(o);$e(a<Dd,"invalid path index",`path[${s}]`,o),i=i.deriveChild(a)}else $e(!1,"invalid path component",`path[${s}]`,o)}return i}var Uw,HR,bf,xy;const ga=class ga extends UR{constructor(r,i,s,o,a,l,c,u,d){super(i,d);ct(this,Uw);ze(this,"publicKey");ze(this,"fingerprint");ze(this,"parentFingerprint");ze(this,"mnemonic");ze(this,"chainCode");ze(this,"path");ze(this,"index");ze(this,"depth");PC(r,fl,"HDNodeWallet"),oo(this,{publicKey:i.compressedPublicKey});const h=R7(Q0(na(this.publicKey)),0,4);oo(this,{parentFingerprint:s,fingerprint:h,chainCode:o,path:a,index:l,depth:c}),oo(this,{mnemonic:u})}connect(r){return new ga(fl,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,r)}async encrypt(r,i){return await gNe(Dt(this,Uw,HR).call(this),r,{progressCallback:i})}encryptSync(r){return mNe(Dt(this,Uw,HR).call(this),r)}get extendedKey(){return bn(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),qR(Mr(["0x0488ADE4",Rk(this.depth,1),this.parentFingerprint,Rk(this.index,4),this.chainCode,Mr(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new lw(fl,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(r){const i=ao(r,"index");$e(i<=4294967295,"invalid index","index",i);let s=this.path;s&&(s+="/"+(i&~Dd),i&Dd&&(s+="'"));const{IR:o,IL:a}=Nfe(i,this.chainCode,this.publicKey,this.privateKey),l=new Ml(a0((khe(a)+BigInt(this.privateKey))%yNe,32));return new ga(fl,l,this.fingerprint,yt(o),s,i,this.depth+1,this.mnemonic,this.provider)}derivePath(r){return jfe(this,r)}static fromExtendedKey(r){const i=Pr(_8e(r));$e(i.length===82||qR(i.slice(0,78))===r,"invalid extended key","extendedKey","[ REDACTED ]");const s=i[4],o=yt(i.slice(5,9)),a=parseInt(yt(i.slice(9,13)).substring(2),16),l=yt(i.slice(13,45)),c=i.slice(45,78);switch(yt(i.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const u=yt(c);return new lw(fl,wx(u),u,o,l,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new ga(fl,new Ml(c.slice(1)),o,l,null,a,s,null,null)}$e(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(r,i,s){var a;r==null&&(r=""),i==null&&(i=V5),s==null&&(s=Gf.wordlist());const o=aw.fromEntropy(Hc(16),r,s);return Dt(a=ga,bf,xy).call(a,o.computeSeed(),o).derivePath(i)}static fromMnemonic(r,i){var s;return i||(i=V5),Dt(s=ga,bf,xy).call(s,r.computeSeed(),r).derivePath(i)}static fromPhrase(r,i,s,o){var l;i==null&&(i=""),s==null&&(s=V5),o==null&&(o=Gf.wordlist());const a=aw.fromPhrase(r,i,o);return Dt(l=ga,bf,xy).call(l,a.computeSeed(),a).derivePath(s)}static fromSeed(r){var i;return Dt(i=ga,bf,xy).call(i,r,null)}};Uw=new WeakSet,HR=function(){const r={address:this.address,privateKey:this.privateKey},i=this.mnemonic;return this.path&&i&&i.wordlist.locale==="en"&&i.password===""&&(r.mnemonic={path:this.path,locale:"en",entropy:i.entropy}),r},bf=new WeakSet,xy=function(r,i){$e(IC(r),"invalid seed","seed","[REDACTED]");const s=At(r,"seed");$e(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const o=At(X0("sha512",bNe,s)),a=new Ml(yt(o.slice(0,32)));return new ga(fl,a,"0x00000000",yt(o.slice(32)),"m",0,0,i,null)},ct(ga,bf);let f0=ga;class lw extends zR{constructor(r,i,s,o,a,l,c,u,d){super(i,d);ze(this,"publicKey");ze(this,"fingerprint");ze(this,"parentFingerprint");ze(this,"chainCode");ze(this,"path");ze(this,"index");ze(this,"depth");PC(r,fl,"HDNodeVoidWallet"),oo(this,{publicKey:s});const h=R7(Q0(na(s)),0,4);oo(this,{publicKey:s,fingerprint:h,parentFingerprint:o,chainCode:a,path:l,index:c,depth:u})}connect(r){return new lw(fl,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,r)}get extendedKey(){return bn(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),qR(Mr(["0x0488B21E",Rk(this.depth,1),this.parentFingerprint,Rk(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(r){const i=ao(r,"index");$e(i<=4294967295,"invalid index","index",i);let s=this.path;s&&(s+="/"+(i&~Dd),i&Dd&&(s+="'"));const{IR:o,IL:a}=Nfe(i,this.chainCode,this.publicKey,null),l=Ml.addPoints(a,this.publicKey,!0),c=wx(l);return new lw(fl,c,l,this.fingerprint,yt(o),s,i,this.depth+1,this.provider)}derivePath(r){return jfe(this,r)}}class fW{constructor(e){ze(this,"mnemonic");ze(this,"walletAddress");ze(this,"chainID");this.mnemonic=e.mnemonic,this.walletAddress=e.walletAddress,this.chainID=e.chainID||10900}generateTxID(){const e=Date.now(),r=Math.floor(Math.random()*1e6);return`tx-${e}-${r}`}async getPrivateKeyHex(){const e=f0.fromPhrase(this.mnemonic.trim(),"","m/44'/60'/0'/0/0");if(e.address.toLowerCase()!==this.walletAddress.toLowerCase())throw new Error(`Address mismatch: derived ${e.address} does not match ${this.walletAddress}`);const r=BigInt(e.privateKey),i=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(r===0n||r>=i)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const o=r.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(o))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return o}async signPayload(e){const r=await this.getPrivateKeyHex(),i=Math.floor(Date.now()/1e3);let s;e.deadline&&(s=parseInt(e.deadline,10));const o={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:i,payload:e};s!==void 0&&(o.deadline=s);const a=await Bt.generateSingleSignature(JSON.stringify(o),r,this.walletAddress.toLowerCase());if(!a.success||!a.signature)throw new Error(a.error||"Failed to generate signature");return a.signature}async buildCompleteMessage(e,r,i=3600){const o=Math.floor(Date.now()/1e3)+i,a=await r.getNextNonce();return{...e,owner:this.walletAddress,nonce:a,deadline:o.toString()}}buildEIP712Tx(e,r,i){const s=Math.floor(Date.now()/1e3);let o;e.deadline&&(o=parseInt(e.deadline,10));const l={txhash:i||this.generateTxID(),sigType:1,threshold:1,timestamp:s,payload:e,signatures:[{signer:this.walletAddress,signature:r}]};return o!==void 0&&(l.deadline=o),l}getWalletAddress(){return this.walletAddress}getChainID(){return this.chainID}}function _l(n,e=Date.now()){if(!n)return e;if(typeof n=="object"&&n!==null&&typeof n.seconds=="number"){const i=n.seconds,s=n.nanos||0;return i*1e3+Math.floor(s/1e6)}const r=typeof n=="string"?Number(n):n;return typeof r=="number"&&!isNaN(r)&&r>0?r<9466848e5?r*1e3:r:e}function wc(n){if(!n)return Date.now();const e=typeof n=="string"?Number(n):n;return isNaN(e)||e<=0?Date.now():e<9466848e5?e*1e3:e}function pW(n){if(!n)return"";if(typeof n=="string")return n;if(typeof n=="object"&&"seconds"in n&&"nanos"in n){const e=n.seconds,r=n.nanos||0,i=e*1e3+Math.floor(r/1e6),o=new Date(i).toISOString();if(r>0){const a=r.toString().padStart(9,"0");return o.replace(/\.\d{3}Z$/,`.${a}Z`)}return o}return""}function G5(n){const r=new Date().toISOString(),i=r.match(/\.(\d{3})Z$/);if(i){const o=(parseInt(i[1])*1e6).toString().padStart(9,"0");return r.replace(/\.\d{3}Z$/,`.${o}Z`)}return r.replace(/Z$/,".000000000Z")}const $C="sys::onboard",Q7="clob::change_margin_ratio",J7="clob::submit_order",Nk="clob::cancel_order",jk="bucket::close_position",Bfe="bucket::update_position_leverage",Z7="clob::modify_order",Lfe="clob::change_leverage",e9="clob::inter_transfer",Ffe="bucket::create_margin_bucket",t9="clob::swap",n9="bank::mint",r9="bank::extract_to_bucket",i9="bank::withdraw_from_bucket",s9="bank::bucket_transfer",o9="bank::transfer";var Pt=(n=>(n.Disconnected="disconnected",n.Connecting="connecting",n.Connected="connected",n.Reconnecting="reconnecting",n))(Pt||{});function $fe(n){return n.sub_channel==="orderbook"}function zfe(n){return n.sub_channel==="trades"}function Ufe(n){return n.sub_channel==="positions"}function Wfe(n){return n.sub_channel==="orders"}function qfe(n){return n.sub_channel==="buckets"}function Hfe(n){return n.sub_channel==="balances"}function VR(n){return n.sub_channel==="last_price"}function Vfe(n){return n.sub_channel==="price_feed"}const Z0="http://localhost:8080",wNe="300px",xNe="300px",_Ne="270px",Gfe="630px",a9=5e3,SNe="1",kNe=100,Yfe=20,zC="legal winner thank year wave sausage worth useful legal winner thank yellow",Y5=1,mW=100,CNe=1,t_=0,K5=100,X5=1,ENe=.01,gW=0,ANe="BINANCE:BTCUSDT",TNe="5",PNe="https://s3.tradingview.com/tv.js",pc=2,Kfe=2,yd="asc",tg="desc",GR="market",Q5="limit",cw="CROSS",INe="ISOLATED",MNe="ONE_WAY",uw="LONG",YR="SHORT",bW="symbol",yW="leverage",vW="size",wW="liquidationPrice",xW="unrealizedPnL",_W="entryPrice",SW="margin",J5="all",n_="byBucket",kW="1.5fr 1.2fr 1fr 1fr 1fr 1.2fr 1.2fr 1fr",ONe="#51cf66",DNe="#ff6b6b",RNe="Loading positions...",NNe="No open positions",jNe="POSITIONS",BNe="All",LNe="By Bucket",Z5="--",CW="symbol",EW="side",AW="quantity",TW="price",PW="filledQuantity",IW="status",Bu="pending",MW="history",FNe="ORDER_STATUS_PENDING",$Ne="ORDER_STATUS_OPEN",zNe="ORDER_STATUS_PARTIAL",UNe="PARTIALLY_FILLED",OW=[FNe,$Ne,zNe,"PENDING","OPEN","NEW","PARTIAL",UNe],DW="#ffc107",WNe="#17a2b8",qNe="#28a745",HNe="#dc3545",VNe="#6c757d",GNe="#51cf66",YNe="#ff6b6b",RW="1.5fr 1fr 1fr 1.2fr 1.2fr 1.2fr 1fr 1fr",KNe="Loading pending orders...",XNe="No pending orders",QNe="No historical orders",JNe="OPEN ORDERS",ZNe="ORDER HISTORY",eje="Wallet address required to view pending orders",tje="Pending",nje="History",rje="--",ije="Unknown";function KR(n){return!n||!Array.isArray(n)||n.length===0?[]:[...n].sort((r,i)=>{const s=wc(r.timestamp);return wc(i.timestamp)-s}).map(r=>{const i=wc(r.timestamp),s=$t(r.quantity),o=$t(r.price);return{time:i,size:s,price:o,is_buyer_maker:!1}})}function XR(n){let e;"position_id"in n&&n.position_id||"position_id"in n&&n.position_id?e=n.position_id:e=`${n.market_id}-${n.bucket_id||"default"}-${n.address}`;const r="average_entry_price"in n?n.average_entry_price:n.entry_price;let i;"position_side"in n&&n.position_side?i=n.position_side:"side"in n&&n.side?i=n.side==="SIDE_BUY"||n.side.toUpperCase().includes("BUY")?uw:YR:i=$t(n.size)>=0?uw:YR;const s=$t(n.size),o=$t(r),a=$t(n.mark_price),l=n.leverage?$t(n.leverage):0;let c=0;if(n.unrealized_profit!==void 0||n.unrealized_loss!==void 0){const f=Tk(n.unrealized_profit),p=Tk(n.unrealized_loss),m=f-p;c=$t(m.toString())}else"unrealized_pnl"in n&&n.unrealized_pnl!==void 0&&(c=$t(n.unrealized_pnl));const d=$t(n.margin_balance)||(l&&o&&s!==0?Math.abs(Math.abs(s)*o/l):0),h="margin_mode"in n&&n.margin_mode||"margin_type"in n&&n.margin_type||cw;return{positionId:e,marketId:n.market_id.toString(),symbol:n.symbol||`m-${n.market_id}`,size:Math.abs(s),entryPrice:o,markPrice:a,liquidationPrice:n.liquidation_price?$t(n.liquidation_price):0,unrealizedPnL:c,leverage:l,margin:d,side:i,marginMode:h,bucketId:n.bucket_id?String(n.bucket_id):"",raw:n}}function QR(n){const e=n.side==="SIDE_BUY"?"BUY":"SELL";let r=n.status||"ORDER_STATUS_PENDING";r.includes("ORDER_STATUS_")&&(r=r.replace("ORDER_STATUS_",""));const i=n.time_in_force;let s=i;i&&i.includes("TIME_IN_FORCE_")&&(s=i.replace("TIME_IN_FORCE_",""));const o=h=>$t(h),a=o(n.quantity),l=o(n.price),c=o(n.filled_quantity),u=a-c,d=_l(n.timestamp,Date.now());return{id:n.order_id,orderId:n.order_id,marketId:n.market_id||n.bucket_id,side:e,type:n.type,quantity:a,price:l,filledQuantity:c,remainingQuantity:u,status:r,timeInForce:s,createdAt:d,updatedAt:d,raw:n}}function l9(n){const e=new Date().toISOString();return{bucket_id:n.bucket_id,address:n.address,margin_type:n.margin_type.toLowerCase(),collateral_asset:"USDC",deposited_margin:"0",total_equity:n.total_equity,available_margin:n.available_margin,used_margin:n.used_margin,unrealized_profit:n.unrealized_profit,unrealized_loss:n.unrealized_loss,realized_profit:"0",realized_loss:"0",margin_ratio:"0",imr:"0",total_notional_value:"0",risk_level:"low",max_leverage:"0",correlation_offset:0,status:"active",created_at:e,updated_at:e}}function Bk(n){const e=n.bucket_id||"---",r=Tk(n.unrealized_profit),i=Tk(n.unrealized_loss),s=r-i,o=It(s.toString()),a=$t(n.unrealized_profit),l=$t(n.unrealized_loss),c=s8e(n.max_leverage);return{bucketId:e,address:n.address||"",marginType:n.margin_type||"cross",collateralAsset:n.collateral_asset||"",depositedMargin:$t(n.deposited_margin),totalEquity:$t(n.total_equity),availableMargin:$t(n.available_margin),usedMargin:$t(n.used_margin),unrealizedProfit:a,unrealizedLoss:l,realizedProfit:$t(n.realized_profit),realizedLoss:$t(n.realized_loss),unrealizedPnL:o,marginRatio:$t(n.margin_ratio),imr:$t(n.imr),totalNotionalValue:$t(n.total_notional_value),riskLevel:n.risk_level||"",maxLeverage:c,correlationOffset:n.correlation_offset||0,status:n.status||"",createdAt:pW(n.created_at),updatedAt:pW(n.updated_at),leverage:c,marginMode:n.margin_type||"cross",raw:n}}function vS(n){return n.totalEquity>0?Math.min(Math.max(n.usedMargin/n.totalEquity,0),1):0}function Rm(n){const e=n.marginMode||n.marginType||"cross";return e==="ISOLATED"||e==="isolated"?"ISOLATED":"CROSS"}function c9(n){return"collateral_asset"in n}function mm(n){return n!==null&&typeof n=="object"&&typeof n.price=="number"&&typeof n.market_id=="string"&&typeof n.quantity=="number"&&typeof n.timestamp=="number"&&typeof n.is_buyer_maker=="boolean"&&typeof n.trade_id=="string"}function wS(n){return n!==null&&typeof n=="object"&&typeof n.symbol=="string"&&typeof n.mark_price=="number"&&typeof n.timestamp=="number"}class Zd{constructor(e){ze(this,"httpClient");ze(this,"infoClient");ze(this,"nonceManager");ze(this,"mnemonic");ze(this,"chainID");ze(this,"walletAddress");ze(this,"nonceCounter",null);ze(this,"signatureBuilder");this.httpClient=new TC(e.baseURL,e.maxRetries||3),this.infoClient=new Cr({baseURL:e.baseURL}),this.nonceManager=new M7(this.infoClient),this.mnemonic=e.mnemonic,this.chainID=e.chainID||10900}getSignatureBuilder(){if(!this.signatureBuilder){if(!this.walletAddress)throw new Error("ExchangeClient not initialized. Call initialize() first.");this.signatureBuilder=new fW({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}return this.signatureBuilder}getNonceProvider(){return{getNextNonce:()=>this.getNextNonce()}}async initialize(){await Bt.initialize();const e=await Bt.generateAddress(this.mnemonic,0);if(!e.success||!e.address)throw new Error(`Failed to generate wallet address: ${e.error}`);this.walletAddress=e.address,this.signatureBuilder=new fW({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}getWalletAddress(){if(!this.walletAddress)throw new Error("ExchangeClient not initialized. Call initialize() first.");return this.walletAddress}async refreshNonceFromServer(){const e=this.getWalletAddress(),r=await this.nonceManager.getExpectedNextNonce(e,!1);this.nonceCounter=r.next_nonce,console.log("[ExchangeClient] Refreshed nonce from server",{walletAddress:e,newNonce:this.nonceCounter})}async getNextNonce(){return this.nonceCounter===null&&await this.refreshNonceFromServer(),this.nonceCounter++,this.nonceCounter.toString()}buildOrderPayload(e){const r=_n(e.price),i=_n(e.quantity),s={action:J7,marketId:e.marketId,bucketId:e.bucketId,side:e.side.toUpperCase(),orderType:e.orderType.toUpperCase(),price:r,quantity:i};return e.leverage&&(s.leverage=e.leverage),e.takeProfit&&(s.takeProfit=e.takeProfit),e.stopLoss&&(s.stopLoss=e.stopLoss),s}async placeOrder(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.side||e.side.toUpperCase()!=="BUY"&&e.side.toUpperCase()!=="SELL")throw new Error("side must be BUY or SELL");if(!e.orderType||e.orderType.toUpperCase()!=="LIMIT"&&e.orderType.toUpperCase()!=="MARKET")throw new Error("orderType must be LIMIT or MARKET");if(!e.price||e.price<=0)throw new Error("price must be positive");if(!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");this.walletAddress||await this.initialize();const r=this.buildOrderPayload(e),i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=Math.floor(Date.now()/1e3)-5,l=`order-${Date.now()}-${Math.floor(Math.random()*1e6)}`,c=e.side.toUpperCase()==="BUY",u={address:this.getWalletAddress(),asset_pair:e.marketId,market_id:e.marketId,bucket_id:e.bucketId,price:s.price,size:s.quantity,is_buy:c,order_type:e.orderType.toUpperCase(),timestamp:a,client_order_id:l,nonce:s.nonce,deadline:s.deadline,signature:o,time_in_force:e.timeInForce||"GTC"};return e.leverage&&(u.leverage=e.leverage),e.takeProfit&&(u.take_profit=e.takeProfit),e.stopLoss&&(u.stop_loss=e.stopLoss),e.postOnly&&(u.post_only=!0),e.hidden&&(u.hidden=!0),e.displayQuantity&&(u.display_quantity=e.displayQuantity),e.reduceOnly&&(u.reduce_only=!0),(await this.httpClient.post("/clob/v1/order",u)).body}async cancelOrder(e){var u,d,h,f,p,m;if(!e.orderId||e.orderId==="")throw console.error("[ExchangeClient.cancelOrder] Validation failed: orderId is empty",e),new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw console.error("[ExchangeClient.cancelOrder] Validation failed: marketId is empty",e),new Error("marketId cannot be empty");console.log("[ExchangeClient.cancelOrder] Input validation passed",{orderId:e.orderId,marketId:e.marketId}),this.walletAddress?console.log("[ExchangeClient.cancelOrder] Using existing wallet",{walletAddress:this.walletAddress}):(console.log("[ExchangeClient.cancelOrder] Wallet not initialized, initializing now..."),await this.initialize(),console.log("[ExchangeClient.cancelOrder] Wallet initialized",{walletAddress:this.walletAddress}));const r=this.getWalletAddress(),i={action:Nk,orderId:e.orderId,marketId:e.marketId,address:r};console.log("[ExchangeClient.cancelOrder] Payload built",{payload:i,action:Nk});const s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider());console.log("[ExchangeClient.cancelOrder] Complete message built",{action:o.action,orderId:o.orderId,marketId:o.marketId,address:o.address,owner:o.owner,nonce:o.nonce,deadline:o.deadline,hasAllFields:!!(o.action&&o.orderId&&o.marketId&&o.owner&&o.nonce&&o.deadline)}),console.log("[ExchangeClient.cancelOrder] Generating signature...");const a=await s.signPayload(o);console.log("[ExchangeClient.cancelOrder] Signature generated",{signatureLength:a==null?void 0:a.length,signaturePrefix:(a==null?void 0:a.substring(0,10))+"..."});const l=s.buildEIP712Tx(o,a);console.log("[ExchangeClient.cancelOrder] EIP712Tx built",{eip712Tx:{txId:l.txId,sigType:l.sigType,threshold:l.threshold,timestamp:l.timestamp,deadline:l.deadline,payloadAction:(u=l.payload)==null?void 0:u.action,payloadOrderId:(d=l.payload)==null?void 0:d.orderId,payloadMarketId:(h=l.payload)==null?void 0:h.marketId,signaturesCount:(f=l.signatures)==null?void 0:f.length,signer:(m=(p=l.signatures)==null?void 0:p[0])==null?void 0:m.signer}});const c=this.httpClient.getBaseURL?this.httpClient.getBaseURL():"unknown";console.log("[ExchangeClient.cancelOrder] Submitting to /router/v1/tx endpoint...",{endpoint:"/router/v1/tx",baseURL:c,fullURL:`${c}/router/v1/tx`});try{const b=await this.httpClient.post("/router/v1/tx",l);return console.log("[ExchangeClient.cancelOrder] API response received",{status:b.statusCode,hasBody:!!b.body,responseBody:b.body,orderId:e.orderId}),b.body}catch(b){if(O7(b)){console.log("[ExchangeClient.cancelOrder] Nonce error detected, refreshing nonce from server",{error:b instanceof Error?b.message:String(b),orderId:e.orderId}),await this.refreshNonceFromServer();const y=this.getSignatureBuilder(),v=await y.buildCompleteMessage(i,this.getNonceProvider()),w=await y.signPayload(v),_=y.buildEIP712Tx(v,w);console.log("[ExchangeClient.cancelOrder] Retrying with refreshed nonce",v.nonce);const x=await this.httpClient.post("/router/v1/tx",_);return console.log("[ExchangeClient.cancelOrder] Retry successful",{status:x.statusCode,responseBody:x.body}),x.body}throw console.error("[ExchangeClient.cancelOrder] API call failed",{error:b,errorMessage:b instanceof Error?b.message:String(b),errorStack:b instanceof Error?b.stack:void 0,orderId:e.orderId,marketId:e.marketId,walletAddress:this.walletAddress}),b}}async modifyOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.newPrice||e.newPrice<=0)throw new Error("newPrice must be positive");if(!e.newQuantity||e.newQuantity<=0)throw new Error("newQuantity must be positive");this.walletAddress||await this.initialize();const r={action:Z7,orderId:e.orderId,marketId:e.marketId,newPrice:_n(e.newPrice),newQuantity:_n(e.newQuantity)},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async changeLeverage(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(e.newLeverage===void 0)throw new Error("newLeverage must be provided");if(this.walletAddress||await this.initialize(),e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const r={action:Bfe,marketId:e.marketId,newLeverage:_n(e.newLeverage),bucketId:e.bucketId,positionId:e.positionId||""};console.log("[changeLeverage] Payload fields:",Object.keys(r).length,Object.keys(r));const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=["action","owner","marketId","newLeverage","bucketId","positionId","nonce","deadline"],a=Object.keys(s);console.log("[changeLeverage] Complete message fields:",a.length,a),console.log("[changeLeverage] Expected fields (8):",o),console.log("[changeLeverage] Complete message:",JSON.stringify(s,null,2));const l=await i.signPayload(s),c=i.buildEIP712Tx(s,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async closePosition(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Math.floor(Date.now()/1e3),s=i+300,o=await this.getNextNonce();let a;if(e.marketPrice&&e.marketPrice>0)a=e.marketPrice;else try{const m=await this.infoClient.getMarketStats(e.marketId);if(!m||!m.last_price)throw new Error("marketPrice is required and could not be fetched from ticker");a=It(m.last_price)}catch(m){throw new Error(`Failed to fetch market price: ${m instanceof Error?m.message:String(m)}`)}const l=_n(a).toString(),c=e.quantity&&e.quantity>0?_n(e.quantity).toString():"0",u={action:jk,address:r,marketId:e.marketId,closeSize:c,marketPrice:l,nonce:o,deadline:s},h=await this.getSignatureBuilder().signPayload(u),f={address:r,position_id:e.positionId,market_id:e.marketId,close_size:c,market_price:l,timestamp:i,sign_type:1,nonce:o.toString(),chain_id:this.chainID.toString(),deadline:s.toString(),signature:h};return(await this.httpClient.post("/bucket/v1/position/close",f)).body}async closePositionEIP712Tx(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(this.walletAddress||await this.initialize(),!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");if(!e.marketPrice||e.marketPrice<=0)throw new Error("marketPrice must be positive");const r=_n(e.quantity),i=_n(e.marketPrice),s={action:jk,address:this.getWalletAddress(),positionId:e.positionId,marketId:e.marketId,closeSize:r,marketPrice:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=o.buildEIP712Tx(a,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async swap(e){if(!e.fromToken||e.fromToken==="")throw new Error("fromToken cannot be empty");if(!e.toToken||e.toToken==="")throw new Error("toToken cannot be empty");if(!e.amountIn||e.amountIn<=0)throw new Error("amountIn must be positive");if(!e.minAmountOut||e.minAmountOut<=0)throw new Error("minAmountOut must be positive");this.walletAddress||await this.initialize();const r={action:t9,fromToken:e.fromToken,toToken:e.toToken,amountIn:_n(e.amountIn),minAmountOut:_n(e.minAmountOut)};e.path&&e.path.length>0&&(r.path=e.path);const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async changeMarginRatioEIP712Tx(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");this.walletAddress||await this.initialize();const r={action:Q7,marketId:e.marketId,bucketId:e.bucketId,positionId:e.positionId||""},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=["action","owner","marketId","bucketId","positionId","nonce","deadline"],a=Object.keys(s);console.log("[changeMarginRatio] Complete message fields:",a.length,a),console.log("[changeMarginRatio] Expected fields (8):",o),console.log("[changeMarginRatio] Complete message:",JSON.stringify(s,null,2));const l=await i.signPayload(s),c=i.buildEIP712Tx(s,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async internTransferEIP712Tx(e){if(!e.fromAccount||e.fromAccount==="")throw new Error("fromAccount cannot be empty");if(!e.toAccount||e.toAccount==="")throw new Error("toAccount cannot be empty");if(!e.tokenAddress||e.tokenAddress==="")throw new Error("tokenAddress cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r={action:e9,fromAccount:e.fromAccount,toAccount:e.toAccount,amount:_n(e.amount),tokenAddress:e.tokenAddress,address:this.getWalletAddress()},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async bucketTransfer(e){if(!e.fromBucketId||e.fromBucketId.trim()==="")throw new Error("fromBucketId cannot be empty");if(!e.toBucketId||e.toBucketId.trim()==="")throw new Error("toBucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=_n(e.amount),s={action:s9,fromBucketId:e.fromBucketId,toBucketId:e.toBucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=["action","owner","fromBucketId","toBucketId","asset","amount","nonce","deadline"],c=Object.keys(a);if(console.log("[bucketTransfer] Initial payload:",s),console.log("[bucketTransfer] Complete message fields:",c),console.log("[bucketTransfer] Complete message:",JSON.stringify(a,null,2)),console.log("[bucketTransfer] Expected fields (8):",l),console.log("[bucketTransfer] Actual field count:",c.length,"expected:",l.length),c.length!==l.length){const p=c.filter(b=>!l.includes(b)),m=l.filter(b=>!c.includes(b));console.error("[bucketTransfer] Field count mismatch!"),p.length>0&&console.error("[bucketTransfer] Extra fields (should be removed):",p),m.length>0&&console.error("[bucketTransfer] Missing fields:",m)}const u=await o.signPayload(a),d=Math.floor(Date.now()/1e3),h={address:r,source_bucket_id:e.fromBucketId,target_bucket_id:e.toBucketId,amount:i,reason:"sdk_transfer",timestamp:d,nonce:a.nonce,deadline:a.deadline,signature:u,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bucket/v1/bucket/transfer",h)).body}async extractToBucket(e){if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=_n(e.amount),s={action:r9,bucketId:e.bucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=["action","owner","bucketId","asset","amount","nonce","deadline"],c=Object.keys(a);if(console.log("[extractToBucket] Initial payload:",s),console.log("[extractToBucket] Complete message fields:",c),console.log("[extractToBucket] Complete message:",JSON.stringify(a,null,2)),console.log("[extractToBucket] Expected fields (7):",l),console.log("[extractToBucket] Actual field count:",c.length,"expected:",l.length),c.length!==l.length){const p=c.filter(b=>!l.includes(b)),m=l.filter(b=>!c.includes(b));console.error("[extractToBucket] Field count mismatch!"),p.length>0&&console.error("[extractToBucket] Extra fields (should be removed):",p),m.length>0&&console.error("[extractToBucket] Missing fields:",m)}const u=await o.signPayload(a),d=G5(),h={address:r,bucket_id:e.bucketId,asset:e.assetId,amount:i,timestamp:d,nonce:a.nonce,deadline:a.deadline,signature:u,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bank/v1/extract-to-bucket",h)).body}async createBucket(e){if(!e.bucketType||e.bucketType.trim()==="")throw new Error("bucketType cannot be empty");if(!e.marginType||e.marginType.trim()==="")throw new Error("marginType cannot be empty");const r=e.marginType.toUpperCase();if(r!=="CROSS"&&r!=="ISOLATED")throw new Error("marginType must be 'cross' or 'isolated'");this.walletAddress||await this.initialize();const i=this.getWalletAddress(),s=G5(),o=e.asset&&e.asset.trim()!==""?e.asset:"USDC",a={action:Ffe,bucketType:e.bucketType,marginType:r.toLowerCase(),asset:o};(!a.asset||typeof a.asset!="string"||a.asset.trim()==="")&&(a.asset="USDC");const l=this.getSignatureBuilder(),c=await l.buildCompleteMessage(a,this.getNonceProvider(),3600),u=["action","owner","bucketType","marginType","asset","nonce","deadline"],d=Object.keys(c),h=u.filter(b=>!d.includes(b));if(console.log("[createBucket] Initial payload:",a),console.log("[createBucket] Complete message fields:",d),console.log("[createBucket] Complete message:",JSON.stringify(c,null,2)),console.log("[createBucket] Expected fields:",u),console.log("[createBucket] Field count:",d.length,"expected:",u.length),h.length>0&&(console.error("[createBucket] Missing fields in payload:",h),console.error("[createBucket] Actual payload fields:",d)),d.length!==u.length)throw new Error(`Payload field count mismatch: expected ${u.length} fields (action, owner, bucketType, marginType, asset, nonce, deadline), but got ${d.length} fields: ${d.join(", ")}`);const f=await l.signPayload(c),p={address:i,bucket_type:e.bucketType,margin_type:r.toLowerCase(),initial_margin:e.initialMargin||"0",timestamp:s,nonce:c.nonce,deadline:c.deadline,signature:f,chain_id:this.chainID.toString()};return e.bucketId&&(p.bucket_id=e.bucketId),(await this.httpClient.post("/bucket/v1/bucket",p)).body}async withdrawFromBucket(e){if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=_n(e.amount),s={action:i9,bucketId:e.bucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=G5(),u={address:r,bucket_id:e.bucketId,asset:e.assetId,amount:i,timestamp:c,nonce:a.nonce,deadline:a.deadline,signature:l,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bank/v1/withdraw-from-bucket",u)).body}async bankMint(e){if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=_n(e.amount),i={action:n9,address:this.getWalletAddress(),asset:e.assetId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}async bankTransfer(e){if(!e.to||e.to.trim()==="")throw new Error("to address cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=_n(e.amount),i={action:o9,address:this.getWalletAddress(),to:e.to,asset:e.assetId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}}class Lk{constructor(e){ze(this,"ws",null);ze(this,"state",Pt.Disconnected);ze(this,"handlers",new Map);ze(this,"reconnectTimer",null);ze(this,"reconnectAttempts",0);ze(this,"config");ze(this,"originalConfig");ze(this,"pingInterval",null);ze(this,"stateChangeHandlers",new Set);ze(this,"authState","not_required");ze(this,"pendingSubscriptions",new Map);this.originalConfig=e;const r=this.convertHTTPToWebSocketURL(e.url);this.config={url:r,authToken:e.authToken||"",walletAddress:e.walletAddress||"",deviceID:e.deviceID||"",reconnectInterval:e.reconnectInterval||5e3,maxReconnectAttempts:e.maxReconnectAttempts||10}}convertHTTPToWebSocketURL(e){if(e.startsWith("ws://")||e.startsWith("wss://")){if(e.includes("router.morpheum.io")){const r=new URL(e);if(!r.pathname||r.pathname==="/")return r.pathname="/websocket",r.toString()}return e}if(e.includes("localhost")||e.includes("127.0.0.1")){const r=e.match(/:(\d+)/);return`ws://localhost:${r?r[1]:"8080"}/websocket`}if(e.startsWith("http://")){const r=e.replace("http://","ws://");return r.includes("/websocket")?r:r.endsWith("/")?`${r}websocket`:`${r}/websocket`}if(e.startsWith("https://")){const r=e.replace("https://","wss://");return r.includes("/websocket")?r:r.endsWith("/")?`${r}websocket`:`${r}/websocket`}if(!e||e.trim()===""||e.includes("router.morpheum.io"))return"wss://router.morpheum.io/websocket";try{const r=new URL(e.startsWith("http")?e:`https://${e}`),i=r.protocol==="https:"?"wss:":"ws:",s=r.pathname&&r.pathname!=="/"?r.pathname:"",o=s.endsWith("/websocket")?s:`${s}/websocket`;return`${i}//${r.host}${o}`}catch{return console.warn(`Failed to parse URL ${e}, defaulting to router.morpheum.io/websocket`),"wss://router.morpheum.io/websocket"}}getConnectionURL(){const e=[];this.config.authToken&&e.push(`token=${encodeURIComponent(this.config.authToken)}`),"walletAddress"in this.originalConfig&&this.originalConfig.walletAddress!==void 0&&e.push(`wallet=${encodeURIComponent(this.originalConfig.walletAddress||"")}`),this.config.deviceID&&e.push(`device_id=${encodeURIComponent(this.config.deviceID)}`);const r=this.config.url.includes("?")?"&":"?";return e.length>0?`${this.config.url}${r}${e.join("&")}`:this.config.url}async connect(){if(!(this.state===Pt.Connected||this.state===Pt.Connecting))return this.setState(Pt.Connecting),new Promise((e,r)=>{let i=!1,s=!1,o=null;const a=l=>{s||(s=!0,o!==null&&(clearTimeout(o),o=null),this.setState(Pt.Disconnected),r(l))};try{const l=this.getConnectionURL();console.log("Connecting to WebSocket:",l);const c=new WebSocket(l);o=window.setTimeout(()=>{!i&&!s&&(c.close(),a(new Error(`WebSocket connection timeout after 10 seconds. Unable to connect to ${l}. Check if the server is running and accessible.`)))},1e4),c.onopen=async()=>{o!==null&&(clearTimeout(o),o=null),i=!0,this.ws=c,this.setState(Pt.Connected),this.reconnectAttempts=0,this.config.authToken?(this.authState="authenticated",console.log("[WebSocketClient] Authentication via URL token")):this.authState="not_required",this.startPing(),e()},c.onmessage=u=>{try{const d=JSON.parse(u.data);this.handleMessage(d)}catch(d){console.error("Failed to parse WebSocket message:",d)}},c.onerror=u=>{console.error("WebSocket error event:",u)},c.onclose=u=>{if(o!==null&&(clearTimeout(o),o=null),this.ws=null,this.stopPing(),this.authState="not_required",!i&&!s){const d=u.code,h=u.reason||"Unknown reason",f=u.wasClean;let p=`WebSocket connection failed. Close code: ${d}`;d===1006?p=`WebSocket connection failed (abnormal closure, code ${d}). Unable to connect to ${l}. Possible causes: Server is not running, network issue, firewall blocking connection, or incorrect URL.`:d===1002?p=`WebSocket protocol error (code ${d}). The server may not support WebSocket protocol or there's a protocol mismatch.`:d===1003?p=`WebSocket unsupported data type (code ${d}).`:d===1008?p=`WebSocket connection closed due to policy violation (code ${d}): ${h}`:d===1011?p=`WebSocket server error (code ${d}): ${h}`:d===1e3?p=`WebSocket connection closed normally (code ${d}) but before opening.`:h&&h!=="Unknown reason"&&(p+=` Reason: ${h}`),!f&&d===1006&&(p+=" This usually indicates the connection was refused or the server is unreachable."),a(new Error(p))}else i&&(this.setState(Pt.Disconnected),this.scheduleReconnect())}}catch(l){o!==null&&(clearTimeout(o),o=null);const c=l instanceof Error?l.message:String(l);a(new Error(`Failed to create WebSocket connection: ${c}`))}})}disconnect(){this.cancelReconnect(),this.stopPing(),this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear(),this.stateChangeHandlers.clear(),this.setState(Pt.Disconnected)}send(e){var r;if(this.state!==Pt.Connected||!this.ws)throw new Error("WebSocket not connected");if(this.ws.readyState!==WebSocket.OPEN){const i=this.ws.readyState===WebSocket.CONNECTING?"CONNECTING":this.ws.readyState===WebSocket.CLOSING?"CLOSING":this.ws.readyState===WebSocket.CLOSED?"CLOSED":"UNKNOWN";throw console.warn(`[WebSocketClient] WebSocket not in OPEN state (${i}), updating connection state`),this.setState(Pt.Disconnected),new Error(`WebSocket not open (state: ${i})`)}try{e.params&&typeof e.params!="object"&&(console.warn("[WebSocketClient] params must be an object, converting:",e.params),e.params={});const i=JSON.stringify(e);this.ws.send(i)}catch(i){throw console.error("[WebSocketClient] Failed to send message:",i),((r=this.ws)==null?void 0:r.readyState)!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open after send error, scheduling reconnect"),this.setState(Pt.Disconnected),this.scheduleReconnect()),i}}on(e,r){this.handlers.has(e)||this.handlers.set(e,[]),this.handlers.get(e).push(r)}off(e,r){if(!r){this.handlers.delete(e);return}const i=this.handlers.get(e);if(i){const s=i.indexOf(r);s>-1&&i.splice(s,1)}}getState(){return this.state}isConnected(){const e=this.state===Pt.Connected,r=this.ws!==null&&this.ws.readyState===WebSocket.OPEN;return e&&!r?(console.warn("[WebSocketClient] State is Connected but WebSocket is not OPEN, updating state"),this.setState(Pt.Disconnected),!1):e&&r}setState(e){const r=this.state;this.state=e,r!==e&&this.stateChangeHandlers.forEach(i=>{try{i(e)}catch(s){console.error("Error in state change handler:",s)}})}onStateChange(e){return this.stateChangeHandlers.add(e),()=>{this.stateChangeHandlers.delete(e)}}handleMessage(e){if(e.type==="ping"){try{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const o={type:"pong"};e.id&&(o.id=e.id),this.send(o)}}catch(o){console.error("[WebSocketClient] Failed to send pong:",o),this.ws&&this.ws.readyState!==WebSocket.OPEN&&(this.setState(Pt.Disconnected),this.scheduleReconnect())}return}if(e.type==="ack"&&typeof e.channel=="string"){const o=this.pendingSubscriptions.get(e.channel);o&&(clearTimeout(o.timeout),o.resolve(),this.pendingSubscriptions.delete(e.channel))}if(e.action==="subscribed"&&typeof e.channel=="string"){const o=this.pendingSubscriptions.get(e.channel);o&&(clearTimeout(o.timeout),o.resolve(),this.pendingSubscriptions.delete(e.channel))}e.is_stale===!0&&(console.warn("[WebSocketClient] Received stale data:",e),(this.handlers.get("stale")||[]).forEach(a=>{try{a(e)}catch(l){console.error("[WebSocketClient] Error in stale data handler:",l)}}));let r;if(typeof e.action=="string")if(e.action==="subscribed")typeof e.channel=="string"?r=e.channel:r="subscribed";else if(e.action==="error")r="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message);else if(e.action==="pong")r="pong";else if(e.action==="data"||e.action==="update")if(typeof e.channel=="string")r=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else r=e.action;else if(typeof e.type=="string")if(e.type==="data")if(typeof e.channel=="string")r=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else e.type==="error"?(r="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message)):e.type==="ack"?typeof e.channel=="string"?r=e.channel:r="ack":e.type==="pong"?r="pong":r=e.type;else typeof e.event=="string"?r=e.event:typeof e.channel=="string"?r=e.channel:r="message";const i=this.handlers.get(r)||[],s=this.handlers.get("*")||[];i.forEach(o=>{try{o(e)}catch(a){console.error(`[WebSocketClient] Error in handler for ${r}:`,a)}}),r!=="error"&&s.forEach(o=>{try{o(e)}catch(a){console.error("[WebSocketClient] Error in wildcard handler:",a)}})}scheduleReconnect(){if(this.reconnectAttempts>=this.config.maxReconnectAttempts){console.error("[WebSocketClient] Max reconnection attempts reached"),this.setState(Pt.Disconnected);return}this.reconnectAttempts++,this.setState(Pt.Reconnecting),this.reconnectTimer=window.setTimeout(()=>{this.connect().catch(e=>{console.error("[WebSocketClient] Reconnection failed:",e)})},this.config.reconnectInterval)}cancelReconnect(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnectAttempts=0}startPing(){this.stopPing(),this.pingInterval=window.setInterval(()=>{if(this.ws&&this.state===Pt.Connected)if(this.ws.readyState===WebSocket.OPEN)try{const e=`ping_${Date.now()}`;this.send({type:"ping",id:e})}catch(e){console.error("[WebSocketClient] Failed to send ping:",e),this.ws.readyState!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open, scheduling reconnect"),this.setState(Pt.Disconnected),this.scheduleReconnect())}else console.warn("[WebSocketClient] WebSocket not in OPEN state during ping, state:",this.ws.readyState),this.setState(Pt.Disconnected),this.scheduleReconnect()},2e4)}stopPing(){this.pingInterval!==null&&(clearInterval(this.pingInterval),this.pingInterval=null)}setAuthToken(e,r,i){this.config.authToken=e,this.config.walletAddress=r,this.config.deviceID=i,this.originalConfig.authToken=e,this.originalConfig.walletAddress=r,this.originalConfig.deviceID=i,console.log(`Auth set: address=${r}, device=${i}`)}async updateAuth(e,r,i){e!==void 0&&(this.config.authToken=e,this.originalConfig.authToken=e),r!==void 0&&(this.config.walletAddress=r,this.originalConfig.walletAddress=r),i!==void 0&&(this.config.deviceID=i,this.originalConfig.deviceID=i),this.isConnected()&&(this.disconnect(),await this.connect())}waitForSubscription(e,r=5e3){return new Promise((i,s)=>{if(!this.pendingSubscriptions.has(e)){i();return}const o=window.setTimeout(()=>{this.pendingSubscriptions.delete(e),s(new Error(`Subscription acknowledgment timeout for channel: ${e}`))},r),a=this.pendingSubscriptions.get(e);a?(a.timeout=o,a.resolve=i,a.reject=s):(clearTimeout(o),i())})}registerPendingSubscription(e){this.pendingSubscriptions.has(e)||this.pendingSubscriptions.set(e,{resolve:()=>{},reject:()=>{},timeout:0})}isReadyForSubscriptions(){const e=this.state===Pt.Connected,i=!this.config.authToken||this.authState==="authenticated";return e&&i}getAuthState(){return this.authState}}class sje{constructor(e){ze(this,"wsClient");ze(this,"multiFeedSubscriptions",new Map);ze(this,"multiFeedCallbacks",[]);ze(this,"multiFeedHandlerRegistered",!1);ze(this,"multiFeedSubscribedMarkets",new Set);this.wsClient=e}isConnected(){return this.wsClient.isConnected()}validateSymbol(e){return e===""?!0:!e||typeof e!="string"||e.trim()===""?!1:e.includes("/")}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}handleMultiFeedMessage(e){const r=e.type==="data";if((e.action==="data"||e.action==="update"||r)&&e.channel==="multi_feed"&&e.sub_channel){const s=e,o=s.sub_channel,a=this.multiFeedSubscriptions.get(o)||[],l=this.multiFeedCallbacks;let c=s.data;if(typeof c=="string")try{c=JSON.parse(c)}catch(u){console.error("Failed to parse multi-feed data field:",u);return}if(c){let u=c;const d={...s,data:u};a.forEach(h=>{try{h(u)}catch(f){console.error(`Error in multi-feed sub-channel callback for ${o}:`,f)}}),l.forEach(h=>{try{h(d)}catch(f){console.error("Error in multi-feed callback:",f)}})}}}subscribeMultiFeed(e,r,i){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const s=e!=="";if(s&&!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(i!=null&&i.symbol&&!this.validateSymbol(i.symbol))throw new Error(`Invalid symbol: ${i.symbol}. Symbol must be in format "BASE/QUOTE" (e.g., "BTC/USDC").`);if(i!=null&&i.interval&&!this.validateKlineInterval(i.interval))throw new Error(`Invalid interval: ${i.interval}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const o="multi_feed";this.multiFeedHandlerRegistered||(this.wsClient.on(o,this.handleMultiFeedMessage.bind(this)),this.multiFeedHandlerRegistered=!0),this.multiFeedCallbacks.push(r),this.wsClient.registerPendingSubscription(o);const a=s?e:"auth-only";if(!this.multiFeedSubscribedMarkets.has(a))try{const c={type:"subscribe",channel:"multi_feed",params:{}};s&&(c.params.market_id=e),i&&Object.assign(c.params,i),this.wsClient.send(c),this.multiFeedSubscribedMarkets.add(a)}catch(c){const u=this.multiFeedCallbacks.indexOf(r);throw u>-1&&this.multiFeedCallbacks.splice(u,1),c}}subscribeMultiFeedSubChannel(e,r,i,s){this.multiFeedSubscriptions.has(e)||this.multiFeedSubscriptions.set(e,[]),this.multiFeedSubscriptions.get(e).push(i);const a=r!==""?r:"auth-only";if(!this.multiFeedSubscribedMarkets.has(a)){const l=()=>{};this.subscribeMultiFeed(r,l,s)}}unsubscribeMultiFeed(e,r,i){if(i){const s=this.multiFeedCallbacks.indexOf(i);s>-1&&this.multiFeedCallbacks.splice(s,1)}else this.multiFeedCallbacks=[];if(this.multiFeedCallbacks.length===0&&(this.multiFeedSubscriptions.clear(),this.multiFeedSubscribedMarkets.clear()),this.multiFeedCallbacks.length===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"multi_feed"}),this.multiFeedSubscribedMarkets.clear()}catch(s){console.error("Failed to send unsubscribe message:",s)}}unsubscribeMultiFeedSubChannel(e,r){const i=this.multiFeedSubscriptions.get(e)||[];if(r){const s=i.indexOf(r);s>-1&&(i.splice(s,1),i.length===0?this.multiFeedSubscriptions.delete(e):this.multiFeedSubscriptions.set(e,i))}else this.multiFeedSubscriptions.delete(e)}disconnect(){this.multiFeedSubscriptions.clear(),this.multiFeedCallbacks=[],this.multiFeedHandlerRegistered=!1,this.multiFeedSubscribedMarkets.clear()}}class p0{constructor(e){ze(this,"wsClient");ze(this,"subscriptions",new Map);ze(this,"lastPriceWrappedCallbacks",new Map);ze(this,"wrappedCallbacks",new Map);ze(this,"multiplexClient");this.wsClient=new Lk({url:e.url,authToken:e.authToken,walletAddress:e.walletAddress,deviceID:e.deviceID}),this.multiplexClient=new sje(this.wsClient)}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.lastPriceWrappedCallbacks.clear(),this.wrappedCallbacks.clear(),this.multiplexClient.disconnect()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,r,i){this.wsClient.setAuthToken(e,r,i)}async updateAuth(e,r,i){return this.wsClient.updateAuth(e,r,i)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,r=5e3){return this.wsClient.waitForSubscription(e,r)}getWebSocketClient(){return this.wsClient}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.error("Failed to parse router data field:",r),null}return e}extractRouterData(e){if(typeof e.action=="string"){if((e.action==="data"||e.action==="update")&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionClient] Failed to parse action-based data:",e.data),r}if(e.action==="data"||e.action==="update"){const{action:r,channel:i,...s}=e;return Object.keys(s).length>0?s:null}if(e.action==="error")return e.error?console.error("WebSocket error response:",e.error):e.message&&console.error("WebSocket error response:",e.message),null;if(e.action==="subscribed")return null}if(e.type==="data"&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionClient] Failed to parse router data:",e.data),r}if(e.type==="error")return e.error?console.error("WebSocket error response:",e.error):e.message&&console.error("WebSocket error response:",e.message),null;if(e.type==="ack")return null;if(e.channel&&!e.action&&!e.type){const{channel:r,...i}=e;return Object.keys(i).length>0?i:null}return e.action&&e.action!=="data"&&e.action!=="update"&&e.action!=="subscribed"&&e.action!=="error"?console.debug("[SubscriptionClient] Unexpected action:",e.action,"Full message:",e):e.type&&e.type!=="data"&&e.type!=="ack"&&e.type!=="error"?console.debug("[SubscriptionClient] Unexpected message type:",e.type,"Full message:",e):(e.action==="data"||e.action==="update"||e.type==="data")&&!e.data&&!e.channel&&console.warn("[SubscriptionClient] Message is data/update but missing data/channel field:",e),null}validateSymbol(e){return e===""?!0:!e||typeof e!="string"||e.trim()===""?!1:e.includes("/")}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}validateTWAPWindowSize(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}validatePrivateChannelAuth(){if(!this.isReadyForSubscriptions()){const e=this.getAuthState();if(e==="pending")throw new Error("Authentication is pending. Please wait for authentication to complete before subscribing to private channels.");if(e==="failed")throw new Error("Authentication failed. Please re-authenticate before subscribing to private channels.");{const r=this.wsClient.config;if(!r||!r.authToken)throw new Error("Authentication token is required for private channels. Please provide authToken in SubscriptionClient config.")}}}getMultiplexClient(){return this.multiplexClient}subscribeMultiFeed(e,r,i){return this.multiplexClient.subscribeMultiFeed(e,r,i)}subscribeMultiFeedSubChannel(e,r,i,s){return this.multiplexClient.subscribeMultiFeedSubChannel(e,r,i,s)}unsubscribeMultiFeed(e,r,i){return this.multiplexClient.unsubscribeMultiFeed(e,r,i)}unsubscribeMultiFeedSubChannel(e,r){return this.multiplexClient.unsubscribeMultiFeedSubChannel(e,r)}subscribeOrderbook(e,r,i=!1){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const s="orderbook";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=l=>{const c=this.extractRouterData(l);c&&(i&&c.bids&&Array.isArray(c.bids)&&(c.bids=c.bids.filter(u=>Array.isArray(u)&&u.length>=2).map(([u,d])=>[It(typeof u=="string"?u:String(u)),It(typeof d=="string"?d:String(d))])),i&&c.asks&&Array.isArray(c.asks)&&(c.asks=c.asks.filter(u=>Array.isArray(u)&&u.length>=2).map(([u,d])=>[It(u),It(d)])),r(c))};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(r,o),this.wsClient.on(s,o),this.wsClient.registerPendingSubscription(s);try{const l={type:"subscribe",channel:"orderbook",params:{market_id:e}};console.debug("[SubscriptionClient] Sending orderbook subscription:",l),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(r);const c=this.subscriptions.get(s)||[],u=c.indexOf(r);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeOrderbook(e,r){var o,a;const i="orderbook",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orderbook"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTrades(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="trades";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"trades",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTrades(e,r){var o,a;const i="trades",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"trades"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTicker(e,r){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="moniker",s="ticker";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=l=>{const c=this.extractRouterData(l);c&&r(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(r,o),this.wsClient.on(i,o);try{this.wsClient.send({type:"subscribe",channel:i,params:{market_id:e}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(r);const c=this.subscriptions.get(s)||[],u=c.indexOf(r);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeTicker(e,r){var a,l;const i="ticker",s="moniker",o=this.subscriptions.get(i)||[];if(r){const c=o.indexOf(r);if(c>-1){o.splice(c,1),this.subscriptions.set(i,o);const u=(a=this.wrappedCallbacks.get(i))==null?void 0:a.get(r);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(i).delete(r))}}else{const c=this.wrappedCallbacks.get(i);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((l=this.subscriptions.get(i))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:s})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeUserUpdates(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="positions";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"positions",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeUserUpdates(e){var s,o;const r="positions",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"positions"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeLastPrice(e,r,i=!0){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const s="last_price";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=a=>{console.debug("[SubscriptionClient] last_price message received:",a);const l=this.extractRouterData(a);if(!l){console.warn("[SubscriptionClient] Failed to extract trade data from message:",a);return}if(console.debug("[SubscriptionClient] Extracted trade data:",l),!l.price){console.warn("[SubscriptionClient] Trade data missing price field:",l);return}i&&(l.price&&(l.price=It(typeof l.price=="string"?l.price:String(l.price))),l.quantity&&(l.quantity=It(typeof l.quantity=="string"?l.quantity:String(l.quantity)))),console.debug("[SubscriptionClient] Calling callback with trade data:",l),r(l)};this.lastPriceWrappedCallbacks.set(r,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"last_price",params:{market_id:e}})}catch(a){this.lastPriceWrappedCallbacks.delete(r);const l=this.subscriptions.get(s)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(s,l)),a}}unsubscribeLastPrice(e,r){var o;const i="last_price",s=this.subscriptions.get(i)||[];if(r){const a=s.indexOf(r);if(a>-1){s.splice(a,1),this.subscriptions.set(i,s);const l=this.lastPriceWrappedCallbacks.get(r);l&&(this.wsClient.off(i,l),this.lastPriceWrappedCallbacks.delete(r))}}else s.forEach(a=>{const l=this.lastPriceWrappedCallbacks.get(a);l&&(this.wsClient.off(i,l),this.lastPriceWrappedCallbacks.delete(a))}),this.subscriptions.delete(i);if(((o=this.subscriptions.get(i))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"last_price"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeFundingRate(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="funding_rate";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"funding_rate",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeFundingRate(e,r){var o,a;const i="funding_rate",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"funding_rate"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeBuckets(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="buckets";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"buckets",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeBuckets(e){var s,o;const r="buckets",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"buckets"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeDeviation(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="deviation";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"deviation",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeDeviation(e,r){var o,a;const i="deviation",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"deviation"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeIndexPrice(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="index_price";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"index_price",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeIndexPrice(e,r){var o,a;const i="index_price",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"index_price"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeKline(e,r,i){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateKlineInterval(r))throw new Error(`Invalid interval: ${r}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const s="kline";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],i]);const o=l=>{const c=this.extractRouterData(l);c&&i(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(i,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"kline",params:{market_id:e,interval:r}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(i);const c=this.subscriptions.get(s)||[],u=c.indexOf(i);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeKline(e,r,i){var a,l;const s="kline",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);if(c>-1){o.splice(c,1),this.subscriptions.set(s,o);const u=(a=this.wrappedCallbacks.get(s))==null?void 0:a.get(i);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(s).delete(i))}}else{const c=this.wrappedCallbacks.get(s);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(s)),this.subscriptions.delete(s)}if(((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"kline"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeMarkPrice(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="mark_price";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:i,params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeMarkPrice(e,r){var o,a;const i="mark_price",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"mark_price"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribePriceFeed(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="price_feed";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"price_feed",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribePriceFeed(e,r){var o,a;const i="price_feed",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"price_feed"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTWAP(e,r,i){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateTWAPWindowSize(r))throw new Error(`Invalid window size: ${r}. Window size must be a positive number.`);const s="twap";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],i]);const o=l=>{const c=this.extractRouterData(l);c&&i(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(i,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"twap",params:{market_id:e,window_size:r}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(i);const c=this.subscriptions.get(s)||[],u=c.indexOf(i);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeTWAP(e,r,i){var a,l;const s="twap",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);if(c>-1){o.splice(c,1),this.subscriptions.set(s,o);const u=(a=this.wrappedCallbacks.get(s))==null?void 0:a.get(i);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(s).delete(i))}}else{const c=this.wrappedCallbacks.get(s);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(s)),this.subscriptions.delete(s)}if(((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"twap"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeBalances(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="balances";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"balances",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeBalances(e){var s,o;const r="balances",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"balances"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeOrders(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="orders";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"orders",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeOrders(e){var s,o;const r="orders",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orders"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}}class Xfe{constructor(e){ze(this,"wsClient");ze(this,"subscriptions",new Map);ze(this,"wrappedCallbacks",new Map);if(e instanceof Lk)this.wsClient=e;else{const r=e;this.wsClient=new Lk({url:r.url,authToken:r.authToken,walletAddress:r.walletAddress,deviceID:r.deviceID})}}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.wrappedCallbacks.clear()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,r,i){this.wsClient.setAuthToken(e,r,i)}async updateAuth(e,r,i){return this.wsClient.updateAuth(e,r,i)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,r=5e3){return this.wsClient.waitForSubscription(e,r)}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.error("Failed to parse router data field:",r),null}return e}extractRouterData(e){if(e.type==="data"&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionExplorer] Failed to parse router data:",e.data),r}return e.type==="error"&&e.error?(console.error("WebSocket error response:",e.error),null):(e.type==="ack"||(e.type!=="data"?console.debug("[SubscriptionExplorer] Unexpected message type:",e.type,"Full message:",e):e.data||console.warn("[SubscriptionExplorer] Message type is 'data' but missing data field:",e)),null)}subscribeConsensusFlat(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const i="consensus_flat";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],e]);const s=a=>{const l=this.extractRouterData(a);l&&e(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(e,s),this.wsClient.on(i,s),this.wsClient.registerPendingSubscription(i);try{const a={};(r==null?void 0:r.shard_id)!==void 0&&(a.shard_id=r.shard_id.toString()),r!=null&&r.event_type&&(a.event_type=r.event_type),this.wsClient.send({type:"subscribe",channel:"consensus_flat",params:Object.keys(a).length>0?a:{}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(e);const l=this.subscriptions.get(i)||[],c=l.indexOf(e);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeConsensusFlat(e){var s,o;const r="consensus_flat",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"consensus_flat"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeTransactions(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const i="transactions";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],e]);const s=a=>{const l=this.extractRouterData(a);l&&(l&&typeof l=="object"&&l.event_type?e(l):console.warn("[SubscriptionExplorer] Invalid transaction event structure:",l))};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(e,s),this.wsClient.on(i,s),this.wsClient.registerPendingSubscription(i);try{const a={};r!=null&&r.address&&(a.address=r.address),r!=null&&r.txhash&&(a.txhash=r.txhash),r!=null&&r.tx_types&&r.tx_types.length>0&&(a.tx_types=r.tx_types),(r==null?void 0:r.shard_id)!==void 0&&(a.shard_id=typeof r.shard_id=="number"?r.shard_id:parseInt(r.shard_id.toString(),10)),r!=null&&r.event_types&&r.event_types.length>0&&(a.event_types=r.event_types),this.wsClient.send({type:"subscribe",channel:"transactions",params:Object.keys(a).length>0?a:{}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(e);const l=this.subscriptions.get(i)||[],c=l.indexOf(e);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTransactions(e){var s,o;const r="transactions",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"transactions"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}}async function oje(n,e,r,i,s){const o=f0.fromPhrase(n.trim(),"","m/44'/60'/0'/0/0");if(o.address.toLowerCase()!==e.toLowerCase())throw new Error(`Address mismatch: derived ${o.address} does not match provided ${e}`);let a;try{a=new Ml(o.privateKey)}catch(x){throw new Error(`Invalid private key: cannot create signing key - ${x.message}`)}const l=wx(a.publicKey);if(l.toLowerCase()!==e.toLowerCase())throw new Error(`Private key validation failed: derived address ${l} does not match ${e}`);const c=BigInt(o.privateKey),u=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(c===0n||c>=u)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const h=c.toString(16).toLowerCase().padStart(64,"0"),f=At("0x"+h);if(f.length!==32)throw new Error(`Invalid private key: expected 32 bytes, got ${f.length}`);if(f.every(x=>x===0))throw new Error("Invalid private key: cannot be zero");const m=BigInt("0x"+h);if(m!==c)throw new Error(`Private key encoding error: bytes do not match BigInt value. Original: ${c.toString(16)}, Reconstructed: ${m.toString(16)}`);const b=h;if(b.length!==64)throw new Error(`Invalid private key format: expected exactly 64 hex chars, got ${b.length}. This should never happen with a valid 32-byte private key.`);if(!/^[0-9a-f]{64}$/.test(b))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");const y=b,v={action:$C,owner:e.toLowerCase(),nonce:r,timestamp:i,deadline:s},w={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:i,payload:v,deadline:parseInt(s,16)};console.log("[Onboard] Signing EIP-712 typed data with generateSingleSignature:",w),console.log("[Onboard] Private key format validated:",{length:y.length,format:"64 lowercase hex chars (no 0x prefix) - matches Go's hex.EncodeToString",preview:`${y.substring(0,8)}...${y.substring(56)}`,isValidSecp256k1:!0,withinCurveOrder:c<u,notZero:c!==0n,bytesLength:f.length,fullHex:y,firstByte:y.substring(0,2),lastByte:y.substring(62,64)}),console.log("[Onboard] Calling WASM GenerateSingleSignature with:",{txJSONLength:JSON.stringify(w).length,privateKeyHexLength:y.length,privateKeyHexPreview:y,signerAddress:e.toLowerCase()});const _=await Bt.generateSingleSignature(JSON.stringify(w),y,e.toLowerCase());if(console.log(_),!_.success||!_.signature)throw new Error(_.error||"Failed to generate signature");return console.log("[Onboard] signature:",_.signature),_.signature}async function aje(n){var e,r;try{const i=await oje(n.mnemonic,n.walletAddress,n.message.nonce,n.message.timestamp,n.message.deadline);console.log("[Onboard] Signature generated successfully, length:",i.length);const s={address:n.walletAddress,signature:i,nonce:n.message.nonce,timestamp:n.timestamp,deadline:n.message.deadline,action:$C};n.username&&(s.username=n.username),n.referralCode&&(s.referral_code=n.referralCode),console.log("[Onboard] Request body:",{...s,signature:i.substring(0,20)+"..."});const a=await new TC(n.baseURL).post("/auth/v1/onboard",s);if(a.statusCode===200&&a.body){const l=a.body.access_token||a.body.authToken||a.body.token||a.body.accessToken,c=a.body.refresh_token||a.body.refreshToken,u=a.body.expires_at||a.body.expiresAt||(a.body.expires_in?n.timestamp+a.body.expires_in:void 0);return l?{success:!0,authToken:l,refreshToken:c,expiresAt:u}:{success:!1,error:"Response missing authToken field"}}else{const l=((e=a.body)==null?void 0:e.message)||((r=a.body)==null?void 0:r.error)||`HTTP ${a.statusCode}: ${a.body}`,c=new Error(l);throw c.responseBody=a.body,c.statusCode=a.statusCode,c}}catch(i){throw i}}const u9={auth:{maxRetries:4,baseDelay:500,maxDelay:3e3,jitter:!0,multiplier:2},http:{maxRetries:3,baseDelay:100,maxDelay:5e3,jitter:!0,multiplier:2},nonce:{maxRetries:5,baseDelay:200,maxDelay:2e3,jitter:!0,multiplier:1.5}};function lje(n,e){let r=n.baseDelay*Math.pow(n.multiplier,e);if(r>n.maxDelay&&(r=n.maxDelay),n.jitter){const i=r*.25*Math.random();r+=i}return Math.floor(r)}function cje(n){return new Promise(e=>setTimeout(e,n))}async function UC(n,e,r=()=>!0){let i;for(let s=0;s<=n.maxRetries;s++)try{return await e()}catch(o){if(i=o,!await Promise.resolve(r(o)))throw o;if(s>=n.maxRetries)break;const l=lje(n,s);await cje(l)}throw new Error(`Operation failed after ${n.maxRetries+1} attempts: ${(i==null?void 0:i.message)||i}`)}async function d9(n,e,r,i){try{Bt.isReady()||await Bt.initialize();const s=await Bt.generateAddress(n,0);if(!s.success||!s.address)return{success:!1,error:`Failed to generate address: ${s.error}`};const o=s.address.toLowerCase(),a=new Cr({baseURL:e}),l=new M7(a);let c=null;try{return await UC(u9.auth,async()=>{console.log(`[Onboard] Attempt starting - currentNonce: ${c}`),c===null?(c=(await l.getExpectedNextNonce(o,!1)).next_nonce,console.log(`[Onboard] First attempt: queried server, using next nonce: ${c}`)):console.log(`[Onboard] Retry attempt: using incremented nonce ${c} from previous failure`);let d=0;const h=10;for(;d<h;)try{await l.validateNonce(o,c,!0);break}catch(y){if(d++,y.message.includes("already pending")||y.message.includes("already used")){if(c=c+1,console.log(`[Onboard] Nonce ${c-1} already pending, incrementing to ${c}`),d>=h)throw new Error(`Failed to find available nonce after ${h} attempts`)}else throw y}const f=Math.floor(Date.now()/1e3),p=f+3600,m={action:$C,owner:o,nonce:DR(c),timestamp:f,deadline:DR(p)};let b;try{b=await aje({mnemonic:n,walletAddress:o,message:m,baseURL:e,username:r,referralCode:i,timestamp:f})}catch(y){if(c!==null){const v=c;try{await l.rejectNonce(o,c,!0),c=c+1,console.log(`[Onboard] Rejected nonce ${v}, incremented to nonce ${c} (will use on retry)`)}catch(w){console.warn("[Onboard] Failed to reject nonce after thrown error:",w),c=c+1,console.log(`[Onboard] Incremented nonce to ${c} (reject failed but incrementing anyway)`)}}else console.warn("[Onboard] Error thrown but currentNonce is null, cannot reject/increment");throw y.currentNonce=c,y}if(!b.success){if(c!==null){const v=c;await l.rejectNonce(o,c,!0),c=c+1,console.log(`[Onboard] Request failed with nonce ${v}, rejected and incremented to ${c} (will keep incrementing until it works)`)}const y=new Error(b.error||"Onboarding failed");throw y.onboardResult=b,y}return c!==null&&await l.commitNonce(o,c,!0),b},async d=>{var v,w,_;const h=String(d).toLowerCase(),f=((v=d==null?void 0:d.message)==null?void 0:v.toLowerCase())||h,p=(d==null?void 0:d.responseBody)||(d==null?void 0:d.onboardResult),m=((w=p==null?void 0:p.error)==null?void 0:w.toLowerCase())||((_=p==null?void 0:p.message)==null?void 0:_.toLowerCase())||"";if(`${f} ${h} ${m}`.toLowerCase().includes("nonce already pending")){if(c!==null){const x=c;c=c+1,console.log(`[Onboard] Off-chain operation: nonce ${x} already pending/used, incrementing to ${c} (server will validate)`)}else try{c=(await l.getExpectedNextNonce(o,!1)).next_nonce,console.log(`[Onboard] currentNonce was null, queried server for starting nonce: ${c}`)}catch(x){console.warn("[Onboard] Failed to query server nonce:",x),c=1}return!0}return O7(d)?(console.log('[Onboard] Nonce-consuming error detected (not "already pending"), clearing currentNonce to force re-query'),c=null,!0):!["failed to generate address","address mismatch","invalid mnemonic"].some(x=>h.includes(x))})}catch(u){if(c!==null)try{await l.rejectNonce(o,c,!0)}catch(d){console.warn("[Onboard] Failed to reject nonce during cleanup:",d)}return{success:!1,error:(u==null?void 0:u.message)||"Unknown error during onboarding"}}}catch(s){return{success:!1,error:(s==null?void 0:s.message)||"Unknown error during onboarding"}}}const uje=Object.freeze(Object.defineProperty({__proto__:null,onboardAndGetAuthToken:d9},Symbol.toStringTag,{value:"Module"}));function ng(){if(typeof window>"u")return!1;const n=window.solana;return!!(n&&n.isPhantom)}function Nc(){if(typeof window>"u")return null;const n=window.solana;return n&&n.isPhantom?n:null}async function h9(n){const e=n||Nc();if(!e)throw new Error("Phantom Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Phantom Solana wallet is not connected")}async function Qfe(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function pa(){var e;if(typeof window>"u")return null;const n=(e=window.$onekey)==null?void 0:e.solana;return n||null}async function dje(n){const e=pa();if(!e)throw new Error("OneKey Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("OneKey Solana wallet is not connected")}async function hje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function vh(){var e,r,i,s,o;if(typeof window>"u")return!1;if(((e=window.binancew3w)==null?void 0:e.isExtension)===!0&&((r=window.binancew3w)!=null&&r.solana))return!0;const n=window.solana;if(n){if(n.isBinance===!0)return!0;const a=n.name||n.providerName;if(typeof a=="string"&&a.toLowerCase().includes("binance")||((i=window.binancew3w)==null?void 0:i.isExtension)===!0)return!0}return!!((s=window.ethereum)!=null&&s.solana||(o=window.BinanceChain)!=null&&o.solana)}function gs(){var e,r,i,s,o;if(typeof window>"u")return null;if(((e=window.binancew3w)==null?void 0:e.isExtension)===!0&&((r=window.binancew3w)!=null&&r.solana))return window.binancew3w.solana;const n=window.solana;if(n){if(n.isBinance===!0)return n;const a=n.name||n.providerName;if(typeof a=="string"&&a.toLowerCase().includes("binance")||((i=window.binancew3w)==null?void 0:i.isExtension)===!0)return n}return(s=window.ethereum)!=null&&s.solana?window.ethereum.solana:(o=window.BinanceChain)!=null&&o.solana?window.BinanceChain.solana:null}async function fje(n){const e=gs();if(!e)throw new Error("Binance Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Binance Solana wallet is not connected")}function e3(){if(typeof window>"u")return!1;const n=window.bitkeep;if(!n)return!1;const e=n.solana;return e&&typeof e.connect=="function"?(n.isBitKeep===!0||e.isBitKeep===!0,!0):!1}function sl(){if(typeof window>"u")return null;const n=window.bitkeep;if(!n)return null;const e=n.solana;return e&&typeof e.connect=="function"?e:null}async function pje(n){const e=sl();if(!e)throw new Error("Bitget Solana wallet not found");if(!(e.isConnected||typeof e.isConnected=="function"&&e.isConnected()))return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Bitget Solana wallet is not connected")}async function mje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8");return{signature:Array.from(s.signature).map(a=>a.toString(16).padStart(2,"0")).join(""),publicKey:s.publicKey.toString()}}function t3(){if(typeof window>"u")return!1;const n=window.solana;if(!n)return!1;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return!0;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return!0;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return!0}}catch{}if(n.isPhantom===!0)return!1;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u"&&n)return!0;if(i&&typeof i.isConnected=="function")try{if(i.isConnected()&&n)return!0}catch{}return!!((r==null?void 0:r.isTokenPocket)===!0&&n||n.isTokenPocket===!0||i&&typeof i=="object"&&n)}function _y(){if(typeof window>"u")return null;const n=window.solana;if(!n)return null;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return n;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return n;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return n}}catch{}if(n.isPhantom===!0)return null;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u")return n;if(i&&typeof i.isConnected=="function")try{if(i.isConnected())return n}catch{}return(r==null?void 0:r.isTokenPocket)===!0||n.isTokenPocket===!0||i&&typeof i=="object"?n:null}async function gje(n){const e=_y();if(!e)throw new Error("TokenPocket Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(!e.publicKey)throw new Error("TokenPocket Solana wallet is connected but public key is not available");return e.publicKey.toString()}async function bje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8");return{signature:Array.from(s.signature).map(a=>a.toString(16).padStart(2,"0")).join(""),publicKey:s.publicKey.toString()}}function NW(){if(typeof window>"u")return!1;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return!0}return!1}function Dh(){if(typeof window>"u")return null;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return n}return null}async function yje(n){const e=Dh();if(!e)throw new Error("Coinbase Wallet Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Coinbase Wallet Solana provider is connected but has no public key")}async function vje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}async function wje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function xje(n){const e=Nc();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[Phantom] Solana wallet disconnected (isConnected changed)"),n("Phantom","Connection lost")),r=a},o=()=>{console.warn("[Phantom] Solana wallet disconnected (event)"),n("Phantom","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function _je(n){const e=pa();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[OneKey] Solana wallet disconnected (isConnected changed)"),n("OneKey","Connection lost")),r=a},o=()=>{console.warn("[OneKey] Solana wallet disconnected (event)"),n("OneKey","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function Sje(n){const e=gs();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[Binance] Solana wallet disconnected (isConnected changed)"),n("Binance","Connection lost")),r=a},o=()=>{console.warn("[Binance] Solana wallet disconnected (event)"),n("Binance","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}const jW=n=>{let e;const r=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=n(i,s,l);return l},kje=n=>n?jW(n):jW,Cje=n=>n;function Eje(n,e=Cje){const r=B.useSyncExternalStore(n.subscribe,B.useCallback(()=>e(n.getState()),[n,e]),B.useCallback(()=>e(n.getInitialState()),[n,e]));return B.useDebugValue(r),r}const BW=n=>{const e=kje(n),r=i=>Eje(e,i);return Object.assign(r,e),r},Aje=n=>n?BW(n):BW,Dn=Aje((n,e)=>({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,selectedMarketId:null,loadingMarkets:!1,loadingOrderbooks:new Set,loadingTickers:new Set,loadingTrades:new Set,errors:new Map,setMarkets:r=>{const i=new Map,s=new Map;r.forEach(l=>{i.set(l.id,l),l.symbol&&s.set(l.symbol,l),l.moniker&&s.set(l.moniker,l)});let a=e().selectedMarketId;if(!a&&r.length>0){const u=(r.find(d=>d.active)||r[0]).market_id;u&&(a=u)}n({markets:r,marketsById:i,marketsBySymbol:s,selectedMarketId:a,lastUpdated:new Map(e().lastUpdated).set("markets",Date.now())})},setMarket:r=>{const i=e(),s=new Map(i.marketsById),o=new Map(i.marketsBySymbol);s.set(r.id,r),r.symbol&&o.set(r.symbol,r),r.moniker&&o.set(r.moniker,r);const a=i.markets.find(l=>l.id===r.id)?i.markets.map(l=>l.id===r.id?r:l):[...i.markets,r];n({markets:a,marketsById:s,marketsBySymbol:o})},getMarket:r=>e().marketsById.get(r),getMarketBySymbol:r=>e().marketsBySymbol.get(r),setSelectedMarketId:r=>{n({selectedMarketId:r})},setOrderbook:(r,i)=>{const s=e(),o=new Map(s.orderbooks);o.set(r,{...i,timestamp:Date.now()}),n({orderbooks:o,lastUpdated:new Map(s.lastUpdated).set(r,Date.now())})},getOrderbook:r=>e().orderbooks.get(r),updateOrderbook:(r,i)=>{const s=e(),o=s.orderbooks.get(r);if(o){const a={...o,...i,timestamp:Date.now()};s.setOrderbook(r,a)}else s.setOrderbook(r,{bids:i.bids||[],asks:i.asks||[],timestamp:Date.now()})},setTicker:(r,i)=>{const s=e(),o=new Map(s.tickers);o.set(r,{...i,marketId:r,timestamp:Date.now()}),n({tickers:o,lastUpdated:new Map(s.lastUpdated).set(`ticker_${r}`,Date.now())})},getTicker:r=>e().tickers.get(r),setRecentTrades:(r,i)=>{const s=e(),o=new Map(s.recentTrades);o.set(r,i),n({recentTrades:o,lastUpdated:new Map(s.lastUpdated).set(`trades_${r}`,Date.now())})},getRecentTrades:r=>e().recentTrades.get(r),setLoading:(r,i)=>{const s=e();if(r==="markets")n({loadingMarkets:i});else if(r.startsWith("orderbook_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingOrderbooks);i?a.add(o):a.delete(o),n({loadingOrderbooks:a})}else if(r.startsWith("ticker_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingTickers);i?a.add(o):a.delete(o),n({loadingTickers:a})}else if(r.startsWith("trades_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingTrades);i?a.add(o):a.delete(o),n({loadingTrades:a})}},setError:(r,i)=>{const s=e(),o=new Map(s.errors);i?o.set(r,i):o.delete(r),n({errors:o})},clearError:r=>{e().setError(r,null)},clearCache:r=>{const i=e();if(r){const s=new Map(i.orderbooks),o=new Map(i.tickers),a=new Map(i.recentTrades),l=new Map(i.lastUpdated);s.delete(r),o.delete(r),a.delete(r),l.delete(r),l.delete(`ticker_${r}`),l.delete(`trades_${r}`),n({orderbooks:s,tickers:o,recentTrades:a,lastUpdated:l})}else n({orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map})},clearAllCache:()=>{n({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,errors:new Map,selectedMarketId:null})}})),Tje=Object.freeze(Object.defineProperty({__proto__:null,ConnectionState:Pt,ExchangeClient:Zd,HttpClient:TC,InfoClient:Cr,NonceManager:M7,OpBankBucketTransfer:s9,OpBankExtractToBucket:r9,OpBankMint:n9,OpBankTransfer:o9,OpBankWithdrawFromBucket:i9,OpCancelOrder:Nk,OpChangeLeverage:Lfe,OpChangeMarginRatio:Q7,OpClosePosition:jk,OpCreateMarginBucket:Ffe,OpInternTransfer:e9,OpModifyOrder:Z7,OpSubmitOrder:J7,OpSwap:t9,OpUpdatePositionLeverage:Bfe,OperationTypeOnboard:$C,SATOSHI_SCALE:Od,SubscriptionClient:p0,SubscriptionExplorer:Xfe,WebSocketClient:Lk,calculateRiskRatio:vS,connectPhantomSolana:h9,convertMultiFeedToRawBucket:l9,fromSatoshi:It,fromSatoshiBatch:vhe,getDisplayMarginType:Rm,getPhantomSolanaProvider:Nc,initWasm:whe,isLastPriceData:mm,isMarkPriceData:wS,isMultiFeedBalances:Hfe,isMultiFeedBuckets:qfe,isMultiFeedLastPrice:VR,isMultiFeedOrderbook:$fe,isMultiFeedOrders:Wfe,isMultiFeedPositions:Ufe,isMultiFeedPriceFeed:Vfe,isMultiFeedTrades:zfe,isPhantomSolanaAvailable:ng,isRawBucket:c9,isValidSatoshi:OR,mormSigner:Bt,onboardAndGetAuthToken:d9,signSolanaMessage:Qfe,toSatoshi:_n,toSatoshiBatch:yhe,toSatoshiUint64:I7,transformPosition:XR,transformRawBucketToBucket:Bk,transformRawOrderToPendingOrder:QR,transformRawTradesToRecentTradeDos:KR,useMarketStore:Dn},Symbol.toStringTag,{value:"Module"}));function Pje(){const[n,e]=A.useState({loading:!0,loaded:!1,error:null}),[r,i]=A.useState({initialized:!1,wasmLoaded:!1,ready:!1});A.useEffect(()=>{(async()=>{try{e(l=>({...l,loading:!0,error:null})),await Bt.initialize()?(e({loading:!1,loaded:!0,error:null}),i(Bt.getStatus())):(e({loading:!1,loaded:!1,error:"Failed to load WASM module"}),i(Bt.getStatus()))}catch(a){e({loading:!1,loaded:!1,error:a instanceof Error?a.message:"Unknown error"}),i(Bt.getStatus())}})()},[]),A.useEffect(()=>{if(n.loaded){const o=setInterval(()=>{i(Bt.getStatus())},1e3);return()=>clearInterval(o)}},[n.loaded]);const s=async()=>{e({loading:!0,loaded:!1,error:null});try{await Bt.initialize()?(e({loading:!1,loaded:!0,error:null}),i(Bt.getStatus())):(e({loading:!1,loaded:!1,error:"Failed to load WASM module"}),i(Bt.getStatus()))}catch(o){e({loading:!1,loaded:!1,error:o instanceof Error?o.message:"Unknown error"}),i(Bt.getStatus())}};return{wasmStatus:n,isReady:n.loaded&&r.ready,status:r,retry:s}}async function Fk(n,e,r=0,i=!0){const s=n.trim();if(!s)return{success:!1,error:"Mnemonic phrase is required"};if(!Bt.isReady())try{await Bt.initialize()}catch(o){return{success:!1,error:o instanceof Error?o.message:"Failed to initialize WASM module"}}try{return e!=="ethereum"?await Bt.generateAddressChain(s,e,r,i):await Bt.generateAddress(s,r)}catch(o){return{success:!1,error:o instanceof Error?o.message:"Unknown error during address generation"}}}function Ije(n="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about",e=0,r="ethereum",i=!0){const[s,o]=A.useState(n),[a,l]=A.useState(e),[c,u]=A.useState(r),[d,h]=A.useState(i),[f,p]=A.useState(null),[m,b]=A.useState(!1);return{mnemonic:s,setMnemonic:o,addressIndex:a,setAddressIndex:l,chainType:c,setChainType:u,isMainnet:d,setIsMainnet:h,result:f,loading:m,generateAddress:async()=>{b(!0),p(null);try{const v=await Fk(s,c,a,d);p(v)}catch(v){p({success:!1,error:v instanceof Error?v.message:"Unknown error"})}finally{b(!1)}},isReady:Bt.isReady()}}function Mje(){const[n,e]=A.useState("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"),[r,i]=A.useState("Hello, World!"),[s,o]=A.useState(!1),[a,l]=A.useState(0),[c,u]=A.useState(null),[d,h]=A.useState(!1);return{mnemonic:n,setMnemonic:e,message:r,setMessage:i,useEIP712:s,setUseEIP712:o,addressIndex:a,setAddressIndex:l,result:c,loading:d,signMessage:async()=>{if(!Bt.isReady()){u({success:!1,error:"WASM module not ready"});return}h(!0),u(null);try{const p={addressIndex:a,useEIP712:s},m=s?await Bt.signEIP712(n,r,p):await Bt.signMessage(n,r,p);u(m)}catch(p){u({success:!1,error:p instanceof Error?p.message:"Unknown error"})}finally{h(!1)}},isReady:Bt.isReady()}}function Jfe(){var i,s,o,a,l,c;if(typeof window>"u")return[];const n=[],e=!!window.$onekey;return(i=window.$onekey)!=null&&i.btc?n.push({name:"OneKey",provider:window.$onekey.btc,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}):e&&window.unisat&&n.push({name:"OneKey",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),window.unisat&&!e&&n.push({name:"Unisat",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),(window.BitcoinProvider||window.XverseProvider)&&n.push({name:"Xverse",provider:window.BitcoinProvider||window.XverseProvider,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),(s=window.okxwallet)!=null&&s.bitcoin&&n.push({name:"OKX",provider:window.okxwallet.bitcoin,isAvailable:!0,supportsBIP322:!1,addressFormat:"all"}),(!!((o=window.bitkeep)!=null&&o.isBitKeep)||!!((l=(a=window.bitkeep)==null?void 0:a.ethereum)!=null&&l.isBitEthereum))&&((c=window.bitkeep)!=null&&c.unisat?n.push({name:"Bitget",provider:window.bitkeep.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}):window.unisat&&!e&&n.push({name:"Bitget",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"})),n}function td(){const n=Jfe();return n.find(e=>e.name==="OneKey")||n.find(e=>e.name==="Unisat")||n.find(e=>e.name==="Xverse")||n.find(e=>e.name==="OKX")||n.find(e=>e.name==="Bitget")||n[0]||null}function xc(){return Jfe().length>0}function Kp(){return typeof window>"u"?!1:!!window.okxwallet}function Oje(n){try{if(typeof Buffer>"u"){const e=atob(n);return Array.from(e).map(r=>r.charCodeAt(0).toString(16).padStart(2,"0")).join("")}return Buffer.from(n,"base64").toString("hex")}catch(e){throw new Error(`Failed to convert base64 to hex: ${e}`)}}function WC(n,e){return e==="base64"?Oje(n):e==="bip322"?n:n.startsWith("0x")?n.slice(2):n}async function Dje(n,e="bip137"){const r=window.unisat;if(!r)throw new Error("Unisat wallet not found");const i=await r.requestAccounts();if(i.length===0)throw new Error("No accounts found in Unisat wallet");const s=i[0];let o;return e==="bip322"?o=await r.signMessage(n,"bip322-simple"):o=await r.signMessage(n,"ecdsa"),{signature:WC(o,e==="bip322"?"bip322":"compact"),address:s,method:e,format:e==="bip322"?"bip322":"compact"}}async function Rje(n,e){const r=window.BitcoinProvider||window.XverseProvider;if(!r)throw new Error("Xverse wallet not found");const i=await r.request("signMessage",{address:e,message:n});return{signature:WC(i.signature,"base64"),address:i.address,method:"bip137",format:"compact"}}async function Nje(n,e){var o;const r=(o=window.okxwallet)==null?void 0:o.bitcoin;if(!r)throw new Error("OKX Bitcoin wallet not found");if(!(await r.connect()).includes(e))throw new Error("Address not found in OKX wallet");const s=await r.signMessage(n,e);return{signature:WC(s,"compact"),address:e,method:"bip137",format:"compact"}}async function jje(n,e="bip137"){var a;let r=null;if((a=window.$onekey)!=null&&a.btc?r=window.$onekey.btc:window.$onekey&&window.unisat&&(r=window.unisat),!r)throw new Error("OneKey Bitcoin wallet not found");const i=await r.requestAccounts();if(i.length===0)throw new Error("No accounts found in OneKey Bitcoin wallet");const s=i[0];let o;return e==="bip322"?o=await r.signMessage(n,"bip322-simple"):o=await r.signMessage(n,"ecdsa"),{signature:WC(o,e==="bip322"?"bip322":"compact"),address:s,method:e,format:e==="bip322"?"bip322":"compact"}}async function Bje(n,e,r="bip137"){const i=JSON.stringify(n),s=td();if(!s)throw new Error("No Bitcoin wallet found. Please install OneKey, Unisat, Xverse, or OKX wallet.");const o=r==="bip322"&&s.supportsBIP322?"bip322":"bip137";try{if(s.name==="OneKey")return await jje(i,o);if(s.name==="Unisat")return await Dje(i,o);if(s.name==="Xverse"){if(!e){const a=await s.provider.getAccounts();if(a.length===0)throw new Error("No accounts found in Xverse wallet");e=a[0]}if(!e)throw new Error("Address is required for Xverse signing");return await Rje(i,e)}else if(s.name==="OKX"){if(!e){const a=await s.provider.connect();if(a.length===0)throw new Error("No accounts found in OKX wallet");e=a[0]}if(!e)throw new Error("Address is required for OKX signing");return await Nje(i,e)}else throw new Error(`Unsupported wallet: ${s.name}`)}catch(a){throw new Error(`Failed to sign with ${s.name}: ${a instanceof Error?a.message:"Unknown error"}`)}}async function Zfe(){const n=td();if(!n)throw new Error("No Bitcoin wallet found");try{if(n.name==="OneKey"){const e=await n.provider.requestAccounts();if(e.length===0)throw new Error("No accounts found in OneKey Bitcoin wallet");return e[0]}else if(n.name==="Unisat"){const e=await n.provider.requestAccounts();if(e.length===0)throw new Error("No accounts found in Unisat wallet");return e[0]}else if(n.name==="Xverse"){const e=await n.provider.getAccounts();if(e.length===0)throw new Error("No accounts found in Xverse wallet");return e[0]}else if(n.name==="OKX"){let e;if(typeof n.provider.requestAccounts=="function"){const r=await n.provider.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.provider.connect=="function"){const r=await n.provider.connect();Array.isArray(r)?r.length>0&&(e=r[0]):r&&typeof r=="object"&&(r.address?e=r.address:Array.isArray(r.accounts)&&r.accounts.length>0&&(e=r.accounts[0]))}if(!e)throw new Error("No accounts found in OKX wallet");return e}else throw new Error(`Unsupported wallet: ${n.name}`)}catch(e){throw new Error(`Failed to get address from ${n.name}: ${e instanceof Error?e.message:"Unknown error"}`)}}const Lje="onboard_mnemonic",Fje="onboard_wallet_address",$je="onboard_chain_type",Xp="agent_delegation_address",Qp="agent_delegation_private_key",Jp="agent_delegation_expires_at",wh="agent_delegation_owner_address";function m0(){var r,i,s,o;if(typeof window>"u")return!1;const n=window.ethereum;if(!n)return!1;if(n.isMetaMask===!0){if(n._metamask&&typeof n._metamask=="object"||((r=n.providerInfo)==null?void 0:r.rdns)==="io.metamask"||((i=n.providerInfo)==null?void 0:i.name)==="MetaMask"||(s=n.providerInfo)!=null&&s.uuid&&typeof n.providerInfo.uuid=="string"&&n.providerInfo.uuid.length>0)return!0;const a=!!window.okxwallet,l=Rd(),c=!!window.$onekey||n.isOneKey,u=!!((o=window.phantom)!=null&&o.ethereum)||n.isPhantom;if(!a&&!l&&!c&&!u)return!0}const e=window.solana;return(e==null?void 0:e.isMetaMask)===!0}function Rd(){var r,i,s,o,a,l,c,u;if(typeof window>"u")return!1;if(((r=window.binancew3w)==null?void 0:r.isExtension)===!0||window.BinanceChain)return!0;const n=window.ethereum;if(n!=null&&n.isBinance)return!0;if(n){const d=n.providerName||n.name||((i=n._state)==null?void 0:i.name)||(((s=n._metamask)==null?void 0:s.isUnlocked)===void 0?"Binance":null);if(typeof d=="string"&&d.toLowerCase().includes("binance"))return!0}if(n!=null&&n._postMessageToMp&&typeof n._postMessageToMp=="function"&&(n==null?void 0:n.namespace)==="eip155"||((o=window.binancew3w)==null?void 0:o.isExtension)===!0&&((a=window.binancew3w)!=null&&a.solana))return!0;const e=window.solana;if(e){if(e.isBinance===!0)return!0;const d=e.name||e.providerName;if(typeof d=="string"&&d.toLowerCase().includes("binance")||((l=window.binancew3w)==null?void 0:l.isExtension)===!0)return!0}return!!((c=window.ethereum)!=null&&c.solana||(u=window.BinanceChain)!=null&&u.solana)}function Vc(){var a,l,c;if(typeof window>"u")return!1;const n=window.bitkeep;if(!n)return!1;if(n.isBitKeep===!0||((a=n.ethereum)==null?void 0:a.isBitEthereum)===!0)return!0;const e=!!n.ethereum&&typeof n.ethereum.request=="function",r=!!n.solana&&typeof n.solana.connect=="function",i=!!n.unisat,s=!!n.tronLink;if([e,r,i,s].filter(Boolean).length>=2||((l=n.solana)==null?void 0:l.isBitKeep)===!0)return!0;if(e){const u=!!window.okxwallet,d=Rd(),h=!!window.$onekey,f=!!((c=window.phantom)!=null&&c.ethereum),p=m0();if(!u&&!d&&!h&&!f&&!p)return!0}return!1}function LW(){if(typeof window>"u")return null;const n=window.bitkeep;return!n||!Vc()?null:n.ethereum&&typeof n.ethereum.request=="function"&&(n.ethereum.isBitEthereum===!0||n.isBitKeep===!0)?n.ethereum:null}async function FW(n=3e3,e=100){return typeof window>"u"?!1:Vc()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Vc())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Vc()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function Gc(){var d;if(typeof window>"u")return!1;if(typeof window.tokenpocket<"u")return!0;const n=window.ethereum;if(!n)return!1;if(n.isTokenPocket===!0||window.tp&&typeof window.tp=="object"||n.isTokenPocket!==void 0)return!0;const e=!!window.solana,r=!!window.unisat,i=e&&r,s=!!window.okxwallet,o=Rd(),a=!!window.$onekey,l=!!((d=window.phantom)!=null&&d.ethereum),c=m0(),u=Vc();return i&&!s&&!o&&!a&&!l&&!c&&!u&&n&&typeof n.request=="function",!1}function zje(){return Gc()}function Uje(){if(typeof window>"u")return!1;const n=window.solana;if(!n)return!1;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return!0;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return!0;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return!0}}catch{}if(n.isPhantom===!0)return!1;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u")return!0;if(i&&typeof i.isConnected=="function")try{if(i.isConnected())return!0}catch{}return!!((r==null?void 0:r.isTokenPocket)===!0||i&&typeof i=="object")}function $W(){if(typeof window>"u")return null;const n=window.ethereum;return!n||!Gc()?null:n&&typeof n.request=="function"?n:null}async function zW(n=3e3,e=100){return typeof window>"u"?!1:Gc()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Gc())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Gc()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function Nd(){if(typeof window>"u")return!1;const n=window.ethereum;if(!n)return!1;let e=n;if(Array.isArray(n.providers)){if(e=n.providers.find(r=>r.isCoinbaseWallet),!e)return!1}else if(!n.isCoinbaseWallet)return!1;return!(!e.isCoinbaseWallet||typeof e.host!="string"||!e.host.includes("coinbase.com")||typeof e.jsonRpcUrl!="string"||!e.jsonRpcUrl.includes("coinbase.com")||e.overridesMetaMask!==!1&&e.overridesMetaMask!==void 0||!e.isWalletLink||typeof window.CoinbaseWalletProvider!="function"||typeof window.WalletLinkProvider!="function")}function UW(){if(typeof window>"u")return null;const n=window.ethereum;if(!n)return null;if(Array.isArray(n.providers)){const e=n.providers.find(r=>r.isCoinbaseWallet);if(e&&typeof e.request=="function")return e}else if(n.isCoinbaseWallet&&typeof n.request=="function")return n;return null}function Wje(){if(typeof window>"u")return!1;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return!0}return!1}async function WW(n=3e3,e=100){return typeof window>"u"?!1:Nd()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Nd())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Nd()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}async function n3(n=3e3,e=100){return typeof window>"u"?!1:Rd()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Rd())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Rd()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function qW(){var e,r;if(typeof window>"u")return null;if(((e=window.binancew3w)==null?void 0:e.isExtension)===!0){const i=window.ethereum;if(i)return i}if(window.BinanceChain)return window.BinanceChain;const n=window.ethereum;if(n){if(n.isBinance)return n;const i=n.providerName||n.name||((r=n._state)==null?void 0:r.name);if(typeof i=="string"&&i.toLowerCase().includes("binance")||n._postMessageToMp&&typeof n._postMessageToMp=="function"&&(n==null?void 0:n.namespace)==="eip155")return n}return null}function xh(){var s,o,a,l,c,u,d,h,f;if(typeof window>"u")return null;if(((s=window.phantom)!=null&&s.ethereum||(o=window.ethereum)!=null&&o.isPhantom)&&!(window.$onekey||(a=window.ethereum)!=null&&a.isOneKey))return"phantom";if((l=window.$onekey)!=null&&l.ethereum||(c=window.ethereum)!=null&&c.isOneKey||window.$onekey)return"onekey";const n=!!((u=window.okxwallet)!=null&&u.solana),e=!!((d=window.okxwallet)!=null&&d.bitcoin);if(n&&e&&window.ethereum||(h=window.okxwallet)!=null&&h.ethereum||(f=window.ethereum)!=null&&f.isOKX||window.okxwallet)return"okx";if(Vc())return"bitget";if(Gc())return"tokenpocket";const i=window.ethereum;if(i&&i.isRainbow===!0)return"rainbow";if(Nd())return"coinbase";if(Rd())return"binance";if(m0())return"metamask";if(window.ethereum){if(Vc())return"bitget";if(Gc())return"tokenpocket";if(Nd())return"coinbase";if(window.ethereum&&window.ethereum.isRainbow===!0)return"rainbow";const p=Rd(),m=Nd(),b=window.ethereum&&window.ethereum.isRainbow===!0;if(m0()&&!window.okxwallet&&!p&&!m&&!b)return"metamask";if(window.okxwallet)return"okx";if(p)return"binance";if(m)return"coinbase"}return null}function qje(n){return n==="metamask"||n==="phantom"||n==="onekey"||n==="okx"||n==="binance"||n==="bitget"||n==="tokenpocket"||n==="coinbase"||n==="rainbow"}function Hje(n,e,r=180,i="clob::submit_order,clob::cancel_order",s="BrowserUserAgent",o,a=0,l=!0){const c=()=>{if(n!=null&&n.mnemonic)return n.mnemonic;if(typeof window<"u"){const Se=localStorage.getItem(Lje);if(Se)return Se}return"abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"},u=()=>{if(n!=null&&n.chainType)return n.chainType;if(typeof window<"u"){const Se=localStorage.getItem($je);if(Se&&["ethereum","bitcoin_taproot","bitcoin_segwit","bitcoin_legacy","bitcoin_nested_segwit","solana"].includes(Se))return Se}return"ethereum"},d=()=>{if(n!=null&&n.walletAddress)return n.walletAddress;if(typeof window<"u"){const Se=localStorage.getItem(Fje);if(Se)return Se}return""},[h,f]=A.useState(c()),[p,m]=A.useState(d()),[b,y]=A.useState(u()),[v,w]=A.useState(a),[_,x]=A.useState(l),[S,C]=A.useState(""),[E,T]=A.useState(""),[M,I]=A.useState(r),[O,F]=A.useState(i),[$,z]=A.useState(s),[D,j]=A.useState(Date.now().toString()),[N,R]=A.useState(null),[H,U]=A.useState(!1);A.useEffect(()=>{n&&(n.mnemonic&&n.mnemonic!==h&&f(n.mnemonic),n.walletAddress&&n.chainType===b&&n.walletAddress!==p&&m(n.walletAddress),n.chainType&&n.chainType!==b&&y(n.chainType))},[n==null?void 0:n.mnemonic,n==null?void 0:n.walletAddress,n==null?void 0:n.chainType,h,p,b]),A.useEffect(()=>{try{const Se=sessionStorage.getItem(Xp),W=sessionStorage.getItem(Qp),de=sessionStorage.getItem(Jp),me=sessionStorage.getItem(wh);if(Se&&W&&de){const oe=parseInt(de,10),pe=Date.now();!isNaN(oe)&&pe<oe&&(!me||!p||me.toLowerCase()===p.toLowerCase())?(C(Se),T(W)):(sessionStorage.removeItem(Xp),sessionStorage.removeItem(Qp),sessionStorage.removeItem(Jp),sessionStorage.removeItem(wh))}}catch(Se){console.warn("Failed to restore agent credentials from sessionStorage:",Se)}},[]),A.useEffect(()=>{if(p){const Se=sessionStorage.getItem(wh);Se&&Se.toLowerCase()!==p.toLowerCase()&&(sessionStorage.removeItem(Xp),sessionStorage.removeItem(Qp),sessionStorage.removeItem(Jp),sessionStorage.removeItem(wh),C(""),T(""))}},[p]);const K=async()=>{await Y(b,v,_)},Y=async(Se=b,W=v,de=_)=>{U(!0);try{const me=await Fk(h,Se,W,de);me.success&&me.address?(m(me.address),Se!==b&&y(Se),W!==v&&w(W),de!==_&&x(de)):R({success:!1,error:me.error||"Failed to generate owner address"})}catch(me){R({success:!1,error:me instanceof Error?me.message:"Unknown error"})}finally{U(!1)}},J=async()=>{if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}U(!0);try{const Se=await Bt.generateKeypair();if(Se.success&&Se.address&&Se.privateKey){C(Se.address),T(Se.privateKey);try{const W=Date.now()+M*24*60*60*1e3;sessionStorage.setItem(Xp,Se.address),sessionStorage.setItem(Qp,Se.privateKey),sessionStorage.setItem(Jp,W.toString()),p&&sessionStorage.setItem(wh,p)}catch(W){console.warn("Failed to store agent credentials in sessionStorage:",W)}}else R({success:!1,error:Se.error||"Failed to generate agent keypair"})}catch(Se){R({success:!1,error:Se instanceof Error?Se.message:"Unknown error"})}finally{U(!1)}},G=async()=>{if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner and agent addresses are required"});return}U(!0),R(null);try{const Se=O.split(",").map(de=>de.trim()).filter(de=>de.length>0),W=await Bt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:Se,nonce:D,agentName:$});R(W)}catch(Se){R({success:!1,error:Se instanceof Error?Se.message:"Unknown error"})}finally{U(!1)}},{address:X,isConnected:ae,connector:ge}=ki(),{signTypedDataAsync:le,isPending:ie}=d7(),Te=()=>{var de;if(!ae||!ge)return null;const Se=xh();if(qje(Se))return Se;const W=((de=ge.name)==null?void 0:de.toLowerCase())||"";return W.includes("phantom")?"phantom":W.includes("onekey")?"onekey":W.includes("okx")?"okx":W.includes("binance")?"binance":W.includes("bitget")||W.includes("bitkeep")?"bitget":W.includes("tokenpocket")||W.includes("tp")?"tokenpocket":W.includes("coinbase")?"coinbase":W.includes("rainbow")?"rainbow":W.includes("metamask")?"metamask":null},Ee=async()=>{var W,de;if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your MetaMask wallet first"});return}if(Te()!=="metamask"){const me=xh();R(me==="metamask"?{success:!1,error:'MetaMask wallet detected but not connected via wagmi. Please use the "Connect MetaMask" button first.'}:{success:!1,error:"This function is for MetaMask wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in MetaMask.`});return}U(!0),R(null);try{const me=O.split(",").map(Re=>Re.trim()).filter(Re=>Re.length>0),oe=await Bt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ye,Z,ue,ce;pe.domain&&pe.types&&pe.message?(ye=pe.domain,Z=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ye=pe.domain||{},Z=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ye,types:Z,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during MetaMask signing"})}finally{U(!1)}},V=async()=>{var W,de;if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your Phantom wallet first"});return}if(Te()!=="phantom"){const me=xh();R(me==="phantom"?{success:!1,error:'Phantom wallet detected but not connected via wagmi. Please use the "Connect Phantom" button first.'}:{success:!1,error:"This function is for Phantom wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in Phantom.`});return}U(!0),R(null);try{const me=O.split(",").map(Re=>Re.trim()).filter(Re=>Re.length>0),oe=await Bt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ye,Z,ue,ce;pe.domain&&pe.types&&pe.message?(ye=pe.domain,Z=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ye=pe.domain||{},Z=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ye,types:Z,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during Phantom signing"})}finally{U(!1)}},Ie=async()=>{var W,de;if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your OneKey wallet first"});return}if(Te()!=="onekey"){const me=xh();R(me==="onekey"?{success:!1,error:'OneKey wallet detected but not connected via wagmi. Please use the "Connect OneKey" button first.'}:{success:!1,error:"This function is for OneKey wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in OneKey.`});return}U(!0),R(null);try{const me=O.split(",").map(Re=>Re.trim()).filter(Re=>Re.length>0),oe=await Bt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ye,Z,ue,ce;pe.domain&&pe.types&&pe.message?(ye=pe.domain,Z=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ye=pe.domain||{},Z=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ye,types:Z,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during OneKey signing"})}finally{U(!1)}},Ye=async()=>{var W,de;if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your Bitget wallet first"});return}if(Te()!=="bitget"){const me=xh();R(me==="bitget"?{success:!1,error:'Bitget wallet detected but not connected via wagmi. Please use the "Connect Bitget" button first.'}:{success:!1,error:"This function is for Bitget wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in Bitget.`});return}U(!0),R(null);try{const me=O.split(",").map(Re=>Re.trim()).filter(Re=>Re.length>0),oe=await Bt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ye,Z,ue,ce;pe.domain&&pe.types&&pe.message?(ye=pe.domain,Z=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ye=pe.domain||{},Z=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ye,types:Z,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during Bitget signing"})}finally{U(!1)}},nt=async()=>{var W,de;if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your TokenPocket wallet first"});return}if(Te()!=="tokenpocket"){const me=xh();R(me==="tokenpocket"?{success:!1,error:'TokenPocket wallet detected but not connected via wagmi. Please use the "Connect TokenPocket" button first.'}:{success:!1,error:"This function is for TokenPocket wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in TokenPocket.`});return}U(!0),R(null);try{const me=O.split(",").map(Re=>Re.trim()).filter(Re=>Re.length>0),oe=await Bt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ye,Z,ue,ce;pe.domain&&pe.types&&pe.message?(ye=pe.domain,Z=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ye=pe.domain||{},Z=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ye,types:Z,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during TokenPocket signing"})}finally{U(!1)}},Ue=async()=>{var W,de;if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your Coinbase Wallet first"});return}if(Te()!=="coinbase"){const me=xh();R(me==="coinbase"?{success:!1,error:'Coinbase Wallet detected but not connected via wagmi. Please use the "Connect Coinbase Wallet" button first.'}:{success:!1,error:"This function is for Coinbase Wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in Coinbase Wallet.`});return}U(!0),R(null);try{const me=O.split(",").map(Re=>Re.trim()).filter(Re=>Re.length>0),oe=await Bt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ye,Z,ue,ce;pe.domain&&pe.types&&pe.message?(ye=pe.domain,Z=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ye=pe.domain||{},Z=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ye,types:Z,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during Coinbase Wallet signing"})}finally{U(!1)}},mt=async()=>{var W,de,me;if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner address and agent address are required"});return}if(!ng()){R({success:!1,error:"Phantom Solana wallet not found. Please install Phantom wallet extension."});return}const Se=Nc();if(!Se){R({success:!1,error:"Phantom Solana provider not available"});return}U(!0),R(null);try{const oe=await h9(Se);if(oe!==p){R({success:!1,error:`Connected address (${oe}) does not match owner address (${p}). Please switch to the correct account in Phantom.`});return}const pe=O.split(",").map(ue=>ue.trim()).filter(ue=>ue.length>0),ye={action:"agent_approval",owner:p,agent:S,expiresInDays:M,permissions:pe,nonce:D,agentName:$,timestamp:Math.floor(Date.now()/1e3)},Z=await Qfe(Se,ye);R({success:!0,signature:Z.signature,typedData:ye})}catch(oe){oe.code===4001||(W=oe.message)!=null&&W.includes("User rejected")||(de=oe.message)!=null&&de.includes("rejected")||(me=oe.message)!=null&&me.includes("User cancelled")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:oe instanceof Error?oe.message:"Unknown error during Phantom Solana signing"})}finally{U(!1)}},He=async()=>{var Se,W,de,me;if(!Bt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!S){R({success:!1,error:"Owner address and agent address are required"});return}if(!xc()){R({success:!1,error:"Bitcoin wallet not found. Please install Unisat, Xverse, or OKX wallet extension."});return}U(!0),R(null);try{let oe=p;try{const Ce=await Zfe();if(Ce!==p){R({success:!1,error:`Wallet address (${Ce}) does not match owner address (${p}). Please switch to the correct account in your Bitcoin wallet.`});return}oe=Ce}catch(Ce){console.warn("Could not get address from wallet, using owner address:",Ce)}const pe=O.split(",").map(Ce=>Ce.trim()).filter(Ce=>Ce.length>0),ye={action:"agent_approval",owner:oe,agent:S,expiresInDays:M,permissions:pe,nonce:D,agentName:$,timestamp:Math.floor(Date.now()/1e3),deadline:(Date.now()+M*24*60*60*1e3).toString(16)},Z=td(),ue=Z!=null&&Z.supportsBIP322?"bip322":"bip137",ce=await Bje(ye,oe,ue);R({success:!0,signature:ce.signature,typedData:ye})}catch(oe){oe.code===4001||(Se=oe.message)!=null&&Se.includes("User rejected")||(W=oe.message)!=null&&W.includes("rejected")||(de=oe.message)!=null&&de.includes("User cancelled")||(me=oe.message)!=null&&me.includes("user reject")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:oe instanceof Error?oe.message:"Unknown error during Bitcoin signing"})}finally{U(!1)}},xe=async()=>{switch(b){case"ethereum":const Se=Te();return Se==="phantom"?V():Se==="onekey"?Ie():Se==="bitget"?Ye():Se==="tokenpocket"?nt():Se==="coinbase"?Ue():Ee();case"solana":return mt();case"bitcoin_taproot":case"bitcoin_segwit":case"bitcoin_legacy":case"bitcoin_nested_segwit":return He();default:R({success:!1,error:`Signing not yet supported for chain type: ${b}`})}},Ve=ae&&Te()==="metamask"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),Oe=()=>{if(b!=="solana")return!1;const Se=Nc();return!Se||!Se.isConnected||!Se.publicKey?!1:Se.publicKey.toString()===p},Ne=()=>!(!(b==="bitcoin_taproot"||b==="bitcoin_segwit"||b==="bitcoin_legacy"||b==="bitcoin_nested_segwit")||!xc()||!p);return{ownerMnemonic:h,setOwnerMnemonic:f,ownerAddress:p,setOwnerAddress:m,ownerChainType:b,setOwnerChainType:y,ownerAddressIndex:v,setOwnerAddressIndex:w,ownerIsMainnet:_,setOwnerIsMainnet:x,agentAddress:S,setAgentAddress:C,agentPrivateKey:E,setAgentPrivateKey:T,expiresInDays:M,setExpiresInDays:I,permissions:O,setPermissions:F,agentName:$,setAgentName:z,nonce:D,setNonce:j,result:N,loading:H||ie,generateOwnerAddress:K,generateOwnerAddressForChain:Y,generateAgentKeypair:J,prepareAgentSign:G,signAgentApproval:Ee,signAgentApprovalWithPhantom:V,signAgentApprovalWithOneKey:Ie,signAgentApprovalWithBitget:Ye,signAgentApprovalWithTokenPocket:nt,signAgentApprovalWithCoinbaseWallet:Ue,signAgentApprovalWithPhantomSolana:mt,signAgentApprovalWithBitcoin:He,signAgentApprovalForChain:xe,clearAgentCredentials:()=>{C(""),T("");try{sessionStorage.removeItem(Xp),sessionStorage.removeItem(Qp),sessionStorage.removeItem(Jp),sessionStorage.removeItem(wh)}catch(Se){console.warn("Failed to clear agent credentials from sessionStorage:",Se)}},isMetaMaskConnected:Ve,isPhantomConnected:ae&&Te()==="phantom"&&b==="ethereum"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isPhantomSolanaConnected:Oe(),isOneKeyConnected:ae&&Te()==="onekey"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isOKXConnected:ae&&Te()==="okx"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isBinanceConnected:ae&&Te()==="binance"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isBitgetConnected:ae&&Te()==="bitget"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isTokenPocketConnected:ae&&Te()==="tokenpocket"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isCoinbaseWalletConnected:ae&&Te()==="coinbase"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isRainbowConnected:ae&&Te()==="rainbow"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isPhantomSolanaAvailable:ng(),isBitcoinWalletAvailable:xc(),isBitcoinWalletConnected:Ne(),isReady:Bt.isReady()}}function HW(n){const e=n.market_id;return{...n,id:e,symbol:n.moniker,baseAsset:n.base_asset,quoteAsset:n.quote_asset,active:n.status==="active",maxSizeLimit:40,minSizeLimit:1e-4}}function Vje(n,e){var s,o;const r=typeof n.timestamp=="string"?parseInt(n.timestamp,10)||Date.now():typeof n.timestamp=="number"?n.timestamp:Date.now(),i=(s=n.trade_type)!=null&&s.toLowerCase().includes("buy")||n.buy_order_id?"buy":(o=n.trade_type)!=null&&o.toLowerCase().includes("sell")||n.sell_order_id?"sell":"buy";return{...n,id:n.trade_id,marketId:n.market_id||e,price:n.price,size:n.quantity,side:i,timestamp:r}}function Ul(n){const e=A.useRef(null),r=Dn(Y=>Y.markets),i=Dn(Y=>Y.marketsById),s=Dn(Y=>Y.orderbooks),o=Dn(Y=>Y.tickers),a=Dn(Y=>Y.recentTrades),l=Dn(Y=>Y.selectedMarketId),c=Dn(Y=>Y.loadingMarkets),u=Dn(Y=>Y.loadingOrderbooks),d=Dn(Y=>Y.loadingTickers),h=Dn(Y=>Y.loadingTrades),f=Dn(Y=>Y.errors),p=Dn(Y=>Y.setMarkets),m=Dn(Y=>Y.setMarket),b=Dn(Y=>Y.getMarket),y=Dn(Y=>Y.getMarketBySymbol),v=Dn(Y=>Y.setSelectedMarketId),w=Dn(Y=>Y.setOrderbook),_=Dn(Y=>Y.getOrderbook),x=Dn(Y=>Y.updateOrderbook),S=Dn(Y=>Y.setTicker),C=Dn(Y=>Y.getTicker),E=Dn(Y=>Y.setRecentTrades),T=Dn(Y=>Y.getRecentTrades),M=Dn(Y=>Y.setLoading),I=Dn(Y=>Y.setError),O=Dn(Y=>Y.clearError),F=Dn(Y=>Y.clearCache);A.useEffect(()=>{e.current?n.sessionToken&&e.current.setSessionToken(n.sessionToken):e.current=new Cr({baseURL:n.baseURL,sessionToken:n.sessionToken})},[n.baseURL,n.sessionToken]);const $=A.useCallback(async()=>{if(!e.current)throw new Error("InfoClient not initialized");const Y="markets";M(Y,!0),I(Y,null);try{const J=await e.current.getMarkets(),X=(Array.isArray(J)?J:[]).map(ae=>{const ge=ae.market_id;return{...ae,id:ge,symbol:ae.moniker,baseAsset:ae.base_asset,quoteAsset:ae.quote_asset,active:ae.status==="active",maxSizeLimit:void 0,minSizeLimit:void 0}});return p(X),X}catch(J){const G=J instanceof Error?J.message:"Failed to fetch markets";throw I(Y,G),J}finally{M(Y,!1)}},[p,M,I]),z=A.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const J=b(Y);if(J)return J;try{const G=await e.current.getMarketByID(Y);if(G){const X=HW(G);return m(X),X}return null}catch(G){const X=G instanceof Error?G.message:`Failed to fetch market ${Y}`;throw I(`market_${Y}`,X),G}},[b,m,I]),D=A.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const J=y(Y);if(J)return J;try{const G=await e.current.getMarketByMoniker(Y);if(G){const X=HW(G);return m(X),X}return null}catch(G){const X=G instanceof Error?G.message:`Failed to fetch market ${Y}`;throw I(`market_${Y}`,X),G}},[y,m,I]),j=A.useCallback(async(Y,J=!0,G=20)=>{if(!e.current)throw new Error("InfoClient not initialized");const X=`orderbook_${Y}`;M(X,!0),I(X,null);try{const ae=await e.current.getOrderbook(Y,J,G);if(ae&&(ae.bids||ae.asks)){const ge=ie=>ie.map(([Te,Ee])=>[typeof Te=="string"?parseFloat(Te):Te,typeof Ee=="string"?parseFloat(Ee):Ee]),le={bids:ge(ae.bids||[]),asks:ge(ae.asks||[]),timestamp:Date.now()};return w(Y,le),le}return null}catch(ae){const ge=ae instanceof Error?ae.message:`Failed to fetch orderbook for market ${Y}`;throw I(X,ge),ae}finally{M(X,!1)}},[w,M,I]),N=A.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const J=`ticker_${Y}`;M(J,!0),I(J,null);try{const G=await e.current.getMarketStats(Y);if(G){const X={marketId:Y,...G,timestamp:Date.now()};return S(Y,X),X}return null}catch(G){const X=G instanceof Error?G.message:`Failed to fetch ticker for market ${Y}`;throw I(J,X),G}finally{M(J,!1)}},[S,M,I]),R=A.useCallback(async(Y,J=100)=>{if(!e.current)throw new Error("InfoClient not initialized");const G=`trades_${Y}`;M(G,!0),I(G,null);try{const X=await e.current.getRecentTrades(Y,J);if(X){const ge=(Array.isArray(X)?X:[]).map(le=>Vje(le,Y));return E(Y,ge),ge}return null}catch(X){const ae=X instanceof Error?X.message:`Failed to fetch trades for market ${Y}`;throw I(G,ae),X}finally{M(G,!1)}},[E,M,I]);A.useEffect(()=>{n.autoFetchMarkets&&r.length===0&&!c&&$().catch(console.error)},[n.autoFetchMarkets,r.length,c,$]);const H=l?r.find(Y=>{var J;return Y.market_id===l||((J=Y.id)==null?void 0:J.toString())===l}):null,U=H?H.moniker||H.symbol||(H.baseAsset&&H.quoteAsset?`${H.baseAsset}-${H.quoteAsset}`:null):null,K=A.useCallback(Y=>{const J=r.find(G=>{var X;return G.market_id===Y||((X=G.id)==null?void 0:X.toString())===Y});return J?J.moniker||J.symbol||(J.baseAsset&&J.quoteAsset?`${J.baseAsset}/${J.quoteAsset}`:null):null},[r]);return{markets:r,marketsById:i,orderbooks:s,tickers:o,recentTrades:a,selectedMarketId:l,selectedMarket:H,selectedMarketSymbol:U,loadingMarkets:c,loadingOrderbooks:u,loadingTickers:d,loadingTrades:h,isLoading:Y=>{if(Y==="markets")return c;if(Y.startsWith("orderbook_")){const J=Y.split("_").slice(1).join("_");return u.has(J)}if(Y.startsWith("ticker_")){const J=Y.split("_").slice(1).join("_");return d.has(J)}if(Y.startsWith("trades_")){const J=Y.split("_").slice(1).join("_");return h.has(J)}return!1},errors:f,getError:Y=>f.get(Y),getMarket:b,getMarketBySymbol:y,getSymbolByMarketId:K,getOrderbook:_,getTicker:C,getRecentTrades:T,fetchMarkets:$,fetchMarket:z,fetchMarketBySymbol:D,fetchOrderbook:j,fetchTicker:N,fetchRecentTrades:R,updateOrderbook:x,clearCache:F,clearError:O,setSelectedMarketId:v,infoClient:e.current}}function epe(n){const[e,r]=A.useState(null),[i,s]=A.useState(null),[o,a]=A.useState(!1),[l,c]=A.useState(!1),[u,d]=A.useState(null),[h,f]=A.useState(GR),[p,m]=A.useState(0),[b,y]=A.useState(0),[v,w]=A.useState(0),[_,x]=A.useState(CNe),[S,C]=A.useState(MNe),[E,T]=A.useState(cw),[M,I]=A.useState(0),[O,F]=A.useState(0),[$,z]=A.useState(n.marketId?String(n.marketId):"1");A.useEffect(()=>{n.marketId?z(String(n.marketId)):z("1")},[n.marketId]);const{markets:D}=Ul({baseURL:n.baseURL,autoFetchMarkets:!0}),{maxSizeLimit:j,minSizeLimit:N}=A.useMemo(()=>{if(!$)return{maxSizeLimit:void 0,minSizeLimit:void 0};const Ee=D.find(V=>V.market_id===$);return Ee?{maxSizeLimit:Ee.maxSizeLimit||40,minSizeLimit:Ee.minSizeLimit||.001}:{maxSizeLimit:void 0,minSizeLimit:void 0}},[$,D]);A.useEffect(()=>{n.selectedBucketBalance!==void 0&&I(n.selectedBucketBalance)},[n.selectedBucketBalance]),A.useEffect(()=>{const Ee=new Zd({baseURL:n.baseURL,mnemonic:n.mnemonic}),V=new Cr({baseURL:n.baseURL});r(Ee),s(V),Ee.initialize().then(()=>{a(!0)}).catch(Ie=>{console.error("Failed to initialize exchange client:",Ie),d({success:!1,error:`Initialization failed: ${Ie.message}`})})},[n.baseURL,n.mnemonic]);const R=A.useCallback(async()=>{if(!(!i||!e||!o)&&n.selectedBucketBalance===void 0)try{const Ee=e.getWalletAddress(),V=await i.getBalanceDecimal(Ee,"MORM");V&&V.available_balance!==void 0&&I($t(V.available_balance))}catch(Ee){console.error("Failed to load balance:",Ee)}},[i,e,o,n.selectedBucketBalance]);A.useEffect(()=>{o&&i&&e&&n.selectedBucketBalance===void 0&&R()},[o,i,e,n.selectedBucketBalance,R]);const H=A.useCallback(async()=>{if(i)try{const Ee=await i.getMarketStats($);if(Ee&&Ee.last_price){const V=$t(Ee.last_price);F(V)}}catch(Ee){console.error("Failed to load market price:",Ee)}},[i,$]);A.useEffect(()=>{o&&i&&H()},[o,i,H]);const U=A.useCallback(()=>h==="market"?n.tradePrice&&n.tradePrice>0?n.tradePrice:O:v||0,[h,v,O,n.tradePrice]),K=A.useCallback(()=>M*_,[M,_]),Y=A.useCallback(()=>{let Ee;if(b>0)Ee=b;else{const Ie=K()*p/100,Ye=U();if(Ye<=0)return 0;Ee=Ie/Ye}return N!==void 0&&N>0&&Ee<N?0:j!==void 0&&j>0&&Ee>j?j:Ee},[b,p,K,U,j,N]),J=A.useCallback(()=>{const Ee=Y(),V=U();return Ee*V},[Y,U]),G=A.useCallback(()=>{const Ee=Y(),V=U(),Ie=Ee*V;return I7(Ie)},[Y,U]),X=A.useCallback(()=>{const Ee=G();return _<=0?0:Math.floor(Ee/_)},[G,_]),ae=A.useCallback(async()=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}const Ee=Y();if(Ee<=0){d({success:!1,error:"Invalid order size"});return}const V=U();if(V<=0){d({success:!1,error:h==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(h==="limit"&&!v){d({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){d({success:!1,error:"Bucket ID is required for order placement"});return}c(!0),d(null);try{const Ie=_n(_.toString()),Ye=await e.placeOrder({marketId:$,bucketId:n.selectedBucketId,side:"BUY",orderType:h,price:V,quantity:Ee,leverage:Ie});d({success:!0,orderId:Ye.order_id,message:"Buy order placed successfully"}),await R()}catch(Ie){d({success:!1,error:Ie instanceof Error?Ie.message:"Unknown error"})}finally{c(!1)}},[e,o,Y,U,h,v,_,$,n.selectedBucketId,R]),ge=A.useCallback(async()=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}const Ee=Y();if(Ee<=0){d({success:!1,error:"Invalid order size"});return}const V=U();if(V<=0){d({success:!1,error:h==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(h==="limit"&&!v){d({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){d({success:!1,error:"Bucket ID is required for order placement"});return}c(!0),d(null);try{const Ie=_n(_.toString()),Ye=await e.placeOrder({marketId:$,bucketId:n.selectedBucketId,side:"SELL",orderType:h,price:V,quantity:Ee,leverage:Ie});d({success:!0,orderId:Ye.order_id,message:"Sell order placed successfully"}),await R()}catch(Ie){d({success:!1,error:Ie instanceof Error?Ie.message:"Unknown error"})}finally{c(!1)}},[e,o,Y,U,h,v,_,$,n.selectedBucketId,R]),le=A.useCallback(async(Ee,V)=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}if(!$||$.trim()===""){d({success:!1,error:"Market ID is required"});return}if(Ee<=0){d({success:!1,error:"Leverage must be greater than 0"});return}if(!V.bucketId||V.bucketId.trim()===""){d({success:!1,error:"Bucket ID is required"});return}c(!0),d(null);try{const Ie=await e.changeLeverage({marketId:$,newLeverage:Ee,bucketId:V.bucketId,leverageType:V.leverageType,reason:V.reason});x(Ee),d({success:!0,message:"Leverage changed successfully",orderId:Ie.txhash}),await R()}catch(Ie){d({success:!1,error:Ie instanceof Error?Ie.message:"Unknown error"})}finally{c(!1)}},[e,o,$,R]),ie=A.useCallback(Ee=>{const V=K(),Ie=V*Ee/100,Ye=U();let Ue=Ye>0?Ie/Ye:0;if(N!==void 0&&N>0&&Ue<N&&(Ue=0),j!==void 0&&j>0&&Ue>j)if(Ue=j,Ue>0&&V>0&&Ye>0){const He=Ue*Ye/V*100;m(Math.min(100,Math.max(0,He)))}else m(Ee);else m(Ee);y(Ue)},[K,U,j,N]),Te=A.useCallback(Ee=>{let V=isNaN(Ee)||Ee<0?0:Ee;j!==void 0&&j>0&&V>j&&(V=j),y(V);const Ie=K(),Ye=U();if(V>0&&Ie>0&&Ye>0){const Ue=V*Ye/Ie*100;m(Math.min(100,Math.max(0,Ue)))}else m(0)},[K,U,j]);return{orderType:h,setOrderType:f,fundPercent:p,sizeInput:b,price:v,leverage:_,positionMode:S,marginMode:E,availableBalance:M,currentPrice:O,marketId:$,isReady:o,loading:l,result:u,setFundPercent:ie,setSizeInput:Te,setPrice:w,setLeverage:x,setPositionMode:C,setMarginMode:T,setMarketId:z,placeBuyOrder:ae,placeSellOrder:ge,changeLeverage:le,loadBalance:R,loadMarketPrice:H,calculateSize:Y,calculateSizeUSD:J,calculateValue:G,calculateMargin:X,getOrderPrice:U,getAvailableTradeAmount:K}}function VW(n,e){return{asks:[],bids:[],spread:0,midPrice:0,market_id:n.market_id||e||"",sequence_id:n.sequence_id||"",first_update_id:n.first_update_id||0,last_update_id:n.last_update_id||0,checksum:n.checksum||"",timestamp:n.timestamp||""}}function Zp(n){return n.map(([e,r])=>[typeof e=="string"?parseFloat(e):e,typeof r=="string"?parseFloat(r):r])}function em(n){const e=[...n].sort((i,s)=>s[0]-i[0]);let r=0;return e.map(([i,s])=>(r+=s,{price:i,size:s,cumulative:r,flash:null}))}function f9(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState([]),[a,l]=A.useState(0),[c,u]=A.useState(0),[d,h]=A.useState(""),[f,p]=A.useState(""),[m,b]=A.useState(0),[y,v]=A.useState(0),[w,_]=A.useState(""),[x,S]=A.useState(""),[C,E]=A.useState(!0),[T,M]=A.useState(null),[I,O]=A.useState(!1),[F,$]=A.useState(null),z=A.useRef(null),D=A.useRef(null),j=A.useRef(!1),N=A.useRef(null),R=A.useRef(null),H=A.useRef(null),U=A.useRef(new Map),K=A.useRef({asks:[],bids:[],spread:0,midPrice:0,market_id:"",sequence_id:"",first_update_id:0,last_update_id:0,checksum:"",timestamp:""});A.useEffect(()=>{K.current={asks:r,bids:s,spread:a,midPrice:c,market_id:d,sequence_id:f,first_update_id:m,last_update_id:y,checksum:w,timestamp:x}},[r,s,a,c,d,f,m,y,w,x]);const Y=A.useCallback((ie,Te)=>{const Ee=new Map,V=new Map,Ie=new Map,Ye=new Map;ie.asks.forEach(W=>{W.size>0&&Ee.set(W.price,W.size)}),ie.bids.forEach(W=>{W.size>0&&V.set(W.price,W.size)}),Te.asks&&Te.asks.forEach(([W,de])=>{if(typeof W!="number"||typeof de!="number"||isNaN(W)||isNaN(de)||W<=0||de<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:W,size:de});return}const me=Ee.get(W)??0,oe=Ee.has(W);de===0?oe&&Ee.delete(W):oe?me!==de&&(Ee.set(W,de),Ie.set(W,de>me?"up":"down")):(Ee.set(W,de),Ie.set(W,"up"))}),Te.bids&&Te.bids.forEach(([W,de])=>{if(typeof W!="number"||typeof de!="number"||isNaN(W)||isNaN(de)||W<=0||de<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:W,size:de});return}const me=V.get(W)??0,oe=V.has(W);de===0?oe&&V.delete(W):oe?me!==de&&(V.set(W,de),Ye.set(W,de>me?"up":"down")):(V.set(W,de),Ye.set(W,"up"))});const nt=Array.from(Ee.entries()),Ue=Array.from(V.entries()),mt=em(nt),He=em(Ue),xe=Date.now();if(mt.forEach(W=>{const de=Ie.get(W.price);de?(W.flash=de,U.current.set(`ask-${W.price}`,xe)):W.flash=null}),He.forEach(W=>{const de=Ye.get(W.price);de?(W.flash=de,U.current.set(`bid-${W.price}`,xe)):W.flash=null}),Ie.size>0||Ye.size>0){const W=mt.filter(me=>me.flash!==null).length,de=He.filter(me=>me.flash!==null).length;(W!==Ie.size||de!==Ye.size)&&console.warn("[useOrderbook] Flash indicator mismatch:",{askChangesCount:Ie.size,appliedAskFlashes:W,bidChangesCount:Ye.size,appliedBidFlashes:de})}const Ve=n.maxDepth||100,Oe=mt.slice(0,Ve),Ne=He.slice(0,Ve);let Ae=0,Se=0;if(Oe.length>0&&Ne.length>0){const W=Oe[Oe.length-1].price,de=Ne[0].price;Ae=W-de,Se=(W+de)/2}return{asks:Oe,bids:Ne,spread:Ae,midPrice:Se,market_id:ie.market_id,sequence_id:ie.sequence_id,first_update_id:ie.first_update_id,last_update_id:ie.last_update_id,checksum:ie.checksum,timestamp:ie.timestamp}},[n.maxDepth]),J=A.useCallback(async(ie,Te={})=>{if(!z.current){Te.errorMessage&&console.error(Te.errorMessage);return}const{setLoadingState:Ee=!1,updateMarketIdRef:V=!1}=Te;Ee&&(E(!0),M(null));try{const Ie=await z.current.getOrderbook(ie,!0);if(Ie&&(Ie.bids||Ie.asks)){const Ye=Zp(Ie.asks||[]),nt=Zp(Ie.bids||[]),Ue=em(Ye),mt=em(nt),He=n.maxDepth||100,xe=Ue.slice(0,He),Ve=mt.slice(0,He);let Oe=0,Ne=0;if(xe.length>0&&Ve.length>0){const Se=xe[xe.length-1].price,W=Ve[0].price;Oe=Se-W,Ne=(Se+W)/2}V&&(N.current=ie);const Ae=K.current;i(xe),o(Ve),l(Oe),u(Ne),h(ie),p(Ae.sequence_id||""),b(Ae.first_update_id||0),v(Ae.last_update_id||0),_(Ae.checksum||""),S(Ae.timestamp||new Date().toISOString())}}catch(Ie){const Ye=Te.errorMessage||(Ie instanceof Error?Ie.message:"Failed to load orderbook");Ee?M(Ye):console.error(Ye)}finally{Ee&&E(!1)}},[n.maxDepth,Zp]),G=A.useCallback(async()=>{const ie=K.current,Te=VW(ie);i(Te.asks),o(Te.bids),l(Te.spread),u(Te.midPrice),await J(n.marketId,{setLoadingState:!1,updateMarketIdRef:!1})},[n.marketId,J]),X=A.useCallback(async()=>{const ie=K.current,Te=VW(ie,n.marketId);i(Te.asks),o(Te.bids),l(Te.spread),u(Te.midPrice),h(Te.market_id),await J(n.marketId,{setLoadingState:!0,updateMarketIdRef:!1,errorMessage:"Failed to load orderbook"})},[n.marketId,J]),ae=A.useCallback(async ie=>{await J(ie,{setLoadingState:!1,updateMarketIdRef:!0,errorMessage:`Failed to fetch snapshot for market ${ie}`}),console.log(`[useOrderbook] Fetched snapshot for market ${ie} and updated orderbook`)},[J]),ge=A.useCallback((ie,Te)=>{if(ie.snapshot===!0||ie.type==="snapshot"){const V=Zp(ie.asks||[]),Ie=Zp(ie.bids||[]),Ye=em(V),nt=em(Ie),Ue=n.maxDepth||100,mt=Ye.slice(0,Ue),He=nt.slice(0,Ue);let xe=0,Ve=0;if(mt.length>0&&He.length>0){const Oe=mt[mt.length-1].price,Ne=He[0].price;xe=Oe-Ne,Ve=(Oe+Ne)/2}return{asks:mt,bids:He,spread:xe,midPrice:Ve,market_id:ie.market_id||Te.market_id,sequence_id:ie.sequence_id||Te.sequence_id,first_update_id:ie.first_update_id??Te.first_update_id,last_update_id:ie.last_update_id??Te.last_update_id,checksum:ie.checksum||Te.checksum,timestamp:ie.timestamp||Te.timestamp,snapshot:ie.snapshot}}else{const V=Y(Te,{bids:ie.bids,asks:ie.asks});return{...V,market_id:ie.market_id||V.market_id,sequence_id:ie.sequence_id||V.sequence_id,first_update_id:ie.first_update_id??V.first_update_id,last_update_id:ie.last_update_id??V.last_update_id,checksum:ie.checksum||V.checksum,timestamp:ie.timestamp||V.timestamp}}},[Y,n.maxDepth,Zp]),le=A.useCallback(async ie=>{if(!ie||!ie.bids&&!ie.asks){console.log("[useOrderbook] Invalid data: missing bids and asks");return}if(!ie.market_id||ie.sequence_id===void 0){console.log("[useOrderbook] Rejected: not multi-feed format (missing market_id or sequence_id)",{hasMarketId:!!ie.market_id,hasSequenceId:ie.sequence_id!==void 0});return}const Te=N.current||n.marketId;ie.market_id!==Te&&(console.log(`[useOrderbook] Received update for market ${ie.market_id}, current market is ${Te}. Fetching snapshot...`),await ae(ie.market_id));const Ee={market_id:ie.market_id,sequence_id:ie.sequence_id,first_update_id:ie.first_update_id,last_update_id:ie.last_update_id,checksum:ie.checksum,timestamp:ie.timestamp,bids:ie.bids.map(([Ye,nt])=>[$t(Ye),$t(nt)]),asks:ie.asks.map(([Ye,nt])=>[$t(Ye),$t(nt)]),snapshot:ie.snapshot===!0};console.log("[useOrderbook] Processing orderbook update",{marketId:Ee.market_id,sequenceId:Ee.sequence_id,bidsCount:Ee.bids.length,asksCount:Ee.asks.length,isSnapshot:Ee.snapshot,bestBid:Ee.bids.length>0?Ee.bids[0][0]:null,bestAsk:Ee.asks.length>0?Ee.asks[Ee.asks.length-1][0]:null});const V=K.current,Ie=ge(Ee,V);console.log("[useOrderbook] Orderbook updated successfully",{sequenceId:Ee.sequence_id,bidsCount:Ie.bids.length,asksCount:Ie.asks.length,spread:Ie.spread,midPrice:Ie.midPrice,bestBid:Ie.bids.length>0?Ie.bids[0].price:null,bestAsk:Ie.asks.length>0?Ie.asks[Ie.asks.length-1].price:null}),i(Ie.asks),o(Ie.bids),l(Ie.spread),u(Ie.midPrice),h(Ie.market_id),p(Ie.sequence_id),b(Ie.first_update_id),v(Ie.last_update_id),_(Ie.checksum),S(Ie.timestamp)},[ge,ae,n.marketId]);return A.useEffect(()=>{const ie=new Cr({baseURL:n.baseURL});z.current=ie,D.current=n.subscriptionClient,N.current===null&&(N.current=n.marketId);const Te=()=>{const V=D.current;if(V&&V.isConnected()){const Ie=N.current!==null?N.current:n.marketId;(!j.current||N.current!==Ie)&&(j.current&&N.current!==null&&N.current!==Ie&&V.unsubscribeMultiFeedSubChannel("orderbook",le),V.subscribeMultiFeedSubChannel("orderbook",Ie,le),j.current=!0,N.current=Ie)}},Ee=n.subscriptionClient;if(e){Ee.isConnected()?(O(!0),$(null),Te()):($("WebSocket not connected. Using HTTP polling."),O(!1),z.current&&R.current===null&&(G(),R.current=window.setInterval(()=>{G()},5e3)));const Ye=Ee.onStateChange(nt=>{nt===Pt.Connected?(O(!0),$(null),R.current!==null&&(clearInterval(R.current),R.current=null),j.current&&Te()):(nt===Pt.Disconnected||nt===Pt.Reconnecting)&&(O(!1),j.current=!1,$("WebSocket disconnected. Using static data."))});return()=>{const nt=N.current;H.current!==null&&(clearTimeout(H.current),H.current=null),j.current=!1,N.current=null,Ye&&Ye(),D.current&&nt!==null&&D.current.unsubscribeMultiFeedSubChannel("orderbook",le)}}else return O(!1),$(null),z.current&&R.current===null&&(G(),R.current=window.setInterval(()=>{G()},5e3)),()=>{R.current!==null&&(clearInterval(R.current),R.current=null),j.current=!1,N.current=null}},[n.baseURL,n.subscriptionClient,e]),A.useEffect(()=>{if(!z.current)return;const ie=N.current;return e&&D.current&&ie!==null&&ie!==n.marketId&&D.current.isConnected()&&(D.current.unsubscribeMultiFeedSubChannel("orderbook",le),j.current=!1),i([]),o([]),l(0),u(0),h(n.marketId),p(""),b(0),v(0),_(""),S(""),E(!0),M(null),$(null),X(),e&&D.current&&D.current.isConnected()&&(D.current.subscribeMultiFeedSubChannel("orderbook",n.marketId,le,{precision_size:"",delta_only:!0,row_count:20}),j.current=!0),N.current=n.marketId,()=>{e&&D.current&&D.current.isConnected()&&N.current===n.marketId&&(D.current.unsubscribeMultiFeedSubChannel("orderbook",le),j.current=!1)}},[n.marketId,e,le]),A.useEffect(()=>(R.current!==null&&(clearInterval(R.current),R.current=null),(!e||!I&&e)&&z.current&&!n.disablePolling&&(G(),R.current=window.setInterval(()=>{G()},3e4)),()=>{R.current!==null&&(clearInterval(R.current),R.current=null)}),[I,e,n.marketId,n.disablePolling,G]),A.useEffect(()=>{const ie=setInterval(()=>{const Te=Date.now(),Ee=500;let V=!1;const Ie=r.map(nt=>{const Ue=`ask-${nt.price}`,mt=U.current.get(Ue);return nt.flash&&mt&&Te-mt>=Ee?(V=!0,U.current.delete(Ue),{...nt,flash:null}):nt}),Ye=s.map(nt=>{const Ue=`bid-${nt.price}`,mt=U.current.get(Ue);return nt.flash&&mt&&Te-mt>=Ee?(V=!0,U.current.delete(Ue),{...nt,flash:null}):nt});V&&(i(Ie),o(Ye))},100);return()=>clearInterval(ie)},[r,s]),{asks:r,bids:s,spread:a,midPrice:c,market_id:d,sequence_id:f,first_update_id:m,last_update_id:y,checksum:w,timestamp:x,loading:C,error:T,isConnected:I,wsError:F,refresh:X}}function qC(n){const{getSymbolByMarketId:e}=Ul({baseURL:n.baseURL,autoFetchMarkets:!0}),[r,i]=A.useState(null),[s,o]=A.useState(null),[a,l]=A.useState([]),[c,u]=A.useState(!0),[d,h]=A.useState(null),[f,p]=A.useState(!1),[m,b]=A.useState(null),y=A.useRef(null),v=A.useRef(null),w=A.useRef(!1),_=A.useRef(!1),x=A.useRef(null),S=A.useRef(null),C=A.useRef(null),E=A.useCallback(async()=>{if(!y.current){console.warn("[useTradePrice] pollRecentTrades called but infoClientRef.current is null");return}if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] pollRecentTrades called but marketId is empty"),h("Market ID is required but was not provided");return}try{const $=n.limit||100,z=await y.current.getRecentTrades(n.marketId,$);if(z&&Array.isArray(z)&&z.length>0){const D=KR(z);l(D);const N=[...z].sort((H,U)=>{const K=wc(H.timestamp);return wc(U.timestamp)-K})[0],R={market_id:n.marketId||N.market_id||"",price:$t(N.price),quantity:$t(N.quantity),timestamp:wc(N.timestamp),is_buyer_maker:!1,trade_id:N.trade_id||""};i(H=>(H&&typeof H.price=="number"&&(R.price>H.price?b("up"):R.price<H.price&&b("down")),setTimeout(()=>b(null),500),R))}else console.warn("[useTradePrice] Polling returned no trades or invalid data:",z),l([])}catch($){h($ instanceof Error?$.message:"Failed to load recent trades"),console.error("[useTradePrice] Failed to poll recent trades:",$)}},[n.marketId,n.limit]),T=A.useCallback(async()=>{if(y.current){if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] initializeRecentTrades called but marketId is empty"),u(!1),h("Market ID is required but was not provided");return}u(!0),h(null);try{const $=n.limit||100,z=await y.current.getRecentTrades(n.marketId,$);if(z&&Array.isArray(z)&&z.length>0){const D=KR(z);l(D);const N=[...z].sort((H,U)=>{const K=wc(H.timestamp);return wc(U.timestamp)-K})[0],R={market_id:n.marketId||N.market_id||"",price:$t(N.price),quantity:$t(N.quantity),timestamp:wc(N.timestamp),is_buyer_maker:!1,trade_id:N.trade_id||""};i(R)}else console.warn("[useTradePrice] Initialization returned no trades or invalid data:",z),l([])}catch($){h($ instanceof Error?$.message:"Failed to load recent trades"),console.error("Failed to initialize recent trades:",$),l([])}finally{u(!1)}}},[n.marketId,n.limit]),M=A.useCallback($=>{if(console.debug("[useTradePrice] handleLastPriceUpdate called with data:",$),!$){console.warn("[useTradePrice] handleLastPriceUpdate received null/undefined data");return}if(!$.price||$.price===""){console.warn("[useTradePrice] handleLastPriceUpdate received data without price field:",$);return}$.derived===!0&&console.debug("[useTradePrice] Received derived price update (not an actual trade), will update lastPrice but not recentTrades");const z=$t($.price),D=$t($.quantity);if(isNaN(z)){console.warn("[useTradePrice] Invalid price value:",$.price);return}const j=_l($.timestamp);i(N=>{mm(N)&&typeof N.price=="number"&&(z>N.price?b("up"):z<N.price&&b("down")),setTimeout(()=>b(null),500);const R={market_id:n.marketId||$.market_id||"",price:z,quantity:D,timestamp:j,is_buyer_maker:$.is_buyer_maker||!1,trade_id:$.trade_id||""};return mm(R)||console.error("[useTradePrice] Invalid LastPriceData structure:",R),console.debug("[useTradePrice] Setting lastPrice to:",R),console.debug("[useTradePrice] Type check - isLastPriceData:",mm(R)),R}),$.derived||l(N=>{const R={time:j,size:D,price:z,is_buyer_maker:$.is_buyer_maker||!1};if(N.some(J=>J.time===j&&J.price===z&&J.size===D))return console.debug("[useTradePrice] Trade already exists in recentTrades, skipping duplicate"),N;const U=[R,...N],K=n.limit||100,Y=U.slice(0,K);return console.debug("[useTradePrice] Added new trade to recentTrades:",R),Y})},[n.marketId,n.limit,e]),I=A.useCallback($=>{if(!$){console.warn("[useTradePrice] handleMarkPriceUpdate received null/undefined data");return}if($.mark_price===void 0||$.mark_price===null){console.warn("[useTradePrice] handleMarkPriceUpdate received data without mark_price field:",$);return}const z=$t($.mark_price);if(isNaN(z)){console.warn("[useTradePrice] Invalid mark_price value:",$.mark_price);return}const D=e(n.marketId)||"",j={symbol:$.symbol||D,mark_price:z,timestamp:_l($.timestamp)};wS(j)||console.error("[useTradePrice] Invalid MarkPriceData structure:",j),o(j)},[n.marketId,e]);A.useEffect(()=>{const $=new Cr({baseURL:n.baseURL});y.current=$;const z=n.subscriptionClient;T(),v.current=z;const D=()=>{if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] Cannot subscribe: marketId is empty"),h("Market ID is required but was not provided");return}if(!z.isReadyForSubscriptions()){if(z.isConnected()&&!z.isReadyForSubscriptions()){const R=z.getAuthState();R==="pending"?console.debug("[useTradePrice] Waiting for authentication to complete..."):R==="failed"&&(console.error("[useTradePrice] Authentication failed - cannot subscribe to trade price"),h("Authentication failed - cannot subscribe to trade price"))}return}if(!w.current||!_.current){if(w.current&&v.current)try{v.current.unsubscribeMultiFeedSubChannel("last_price",M)}catch(R){console.warn("[useTradePrice] Error unsubscribing from previous last_price subscription:",R)}if(_.current&&v.current)try{v.current.unsubscribeMultiFeedSubChannel("mark_price",I)}catch(R){console.warn("[useTradePrice] Error unsubscribing from previous mark_price subscription:",R)}try{n.marketId&&(z.subscribeMultiFeedSubChannel("last_price",n.marketId,M),w.current=!0,z.subscribeMultiFeedSubChannel("mark_price",n.marketId,I),_.current=!0,console.debug("[useTradePrice] Subscribed to mark_price:",n.marketId)),u(!1)}catch(R){console.error("[useTradePrice] Failed to subscribe:",R),h(R instanceof Error?R.message:"Failed to subscribe to trade price data"),w.current=!1,_.current=!1,u(!1)}}};p(z.isConnected()),u(!1),z.isReadyForSubscriptions()&&D();const j=z.onStateChange(N=>{console.debug("[useTradePrice] WebSocket state changed to:",N),p(N===Pt.Connected),N===Pt.Connected?(console.debug("[useTradePrice] WebSocket connected - stopping polling if active"),D()):(N===Pt.Disconnected||N===Pt.Reconnecting)&&console.debug("[useTradePrice] WebSocket disconnected/reconnecting - polling effect should start polling")});return()=>{if(w.current=!1,_.current=!1,j&&j(),v.current){try{v.current.unsubscribeMultiFeedSubChannel("last_price",M)}catch(N){console.warn("[useTradePrice] Error unsubscribing during cleanup:",N)}if(n.marketId)try{v.current.unsubscribeMultiFeedSubChannel("mark_price",I)}catch(N){console.warn("[useTradePrice] Error unsubscribing mark_price during cleanup:",N)}}}},[n.subscriptionClient,n.baseURL,n.marketId,M,I]),A.useEffect(()=>{const $=n.subscriptionClient;if(y.current&&$&&v.current){if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] Cannot re-initialize: marketId is empty"),h("Market ID is required but was not provided");return}const z=e(n.marketId)||"BTC/USDC",D=S.current,j=C.current;if($.isConnected()&&D!==null&&(D!==n.marketId||j!==z))try{v.current.unsubscribeMultiFeedSubChannel("last_price",M),v.current.unsubscribeMultiFeedSubChannel("mark_price",I),w.current=!1,_.current=!1}catch(N){console.warn("[useTradePrice] Error unsubscribing from previous market:",N)}if(T(),$.isReadyForSubscriptions())try{v.current.subscribeMultiFeedSubChannel("last_price",n.marketId,M),w.current=!0,console.debug("[useTradePrice] Subscribed to last_price:",{marketId:n.marketId}),v.current.subscribeMultiFeedSubChannel("mark_price",n.marketId,I),_.current=!0,console.debug("[useTradePrice] Subscribed to mark_price:",{marketId:n.marketId})}catch(N){console.error("[useTradePrice] Failed to re-subscribe:",N),h(N instanceof Error?N.message:"Failed to subscribe to trade price data"),w.current=!1,_.current=!1}S.current=n.marketId,C.current=z}},[n.subscriptionClient,n.marketId]),A.useEffect(()=>(console.debug("[useTradePrice] Polling effect triggered - isConnected:",f,"marketId:",n.marketId,"disablePolling:",n.disablePolling),x.current!==null&&(console.debug("[useTradePrice] Clearing existing polling interval (polling effect)"),clearInterval(x.current),x.current=null),!f&&y.current&&n.disablePolling===!1?(console.debug("[useTradePrice] Starting HTTP polling (WebSocket disconnected, marketId:",n.marketId,")"),E(),x.current=window.setInterval(()=>{E()},5e3),console.debug("[useTradePrice] HTTP polling interval set up (every 5 seconds)")):!f&&!y.current?console.warn("[useTradePrice] Cannot start polling: infoClientRef.current is null (isConnected:",f,")"):f?console.debug("[useTradePrice] WebSocket connected, polling not needed"):n.disablePolling!==!1&&console.debug("[useTradePrice] Polling disabled by config (default behavior)"),()=>{x.current!==null&&(console.debug("[useTradePrice] Cleaning up polling interval (polling effect cleanup)"),clearInterval(x.current),x.current=null)}),[f,n.marketId,n.disablePolling]);const{displayPrice:O,displayTimestamp:F}=A.useMemo(()=>{const $=mm(r)&&r.price!=null,z=wS(s)&&s.mark_price!=null;if($&&z){const D=r.timestamp||0,j=s.timestamp||0;return D>=j?{displayPrice:r.price,displayTimestamp:D}:{displayPrice:s.mark_price,displayTimestamp:j}}return $?{displayPrice:r.price,displayTimestamp:r.timestamp||0}:z?{displayPrice:s.mark_price,displayTimestamp:s.timestamp||0}:{displayPrice:null,displayTimestamp:null}},[r,s]);return{lastPrice:r,markPrice:s,displayPrice:O,displayTimestamp:F,recentTrades:a,loading:c,error:d,isConnected:f,priceChange:m,refresh:T,infoClient:y.current,isLastPriceData:mm,isMarkPriceData:wS}}const r_=["funding_rate","deviation","twap"],r3=n=>{if(n)return Array.isArray(n)?n[0]:n},i3=(n,e)=>`${n}-${e}`,s3=n=>(n==null?void 0:n.isReadyForSubscriptions())??!1;function tpe(n){const e=n.historyDepth??10,r=n.marketId,[i,s]=A.useState(void 0),[o,a]=A.useState(void 0),[l,c]=A.useState(void 0),[u,d]=A.useState(!0),[h,f]=A.useState(null),[p,m]=A.useState(!1),b=A.useRef(null),y=A.useRef(new Map),v=A.useRef(null),w=A.useRef(null),_=(M,I,O)=>F=>{console.debug(`[useRates] Received ${M} message for market ${r}:`,F),O($=>{if(I===1)return F;{const z=Array.isArray($)?$:$?[$]:[];return[F,...z].slice(0,I)}})},x=A.useCallback(()=>{if(!r){console.warn("[useRates] Cannot subscribe: marketId not provided");return}const M=b.current;if(!M){console.warn("[useRates] Cannot subscribe: client not available");return}if(!s3(M)){console.warn(`[useRates] Cannot subscribe to market ${r}: client not ready`);return}if(v.current===r&&r_.every($=>{const z=i3($,r);return y.current.has(z)})){console.debug(`[useRates] Already subscribed to all rate channels for market ${r}`);return}v.current&&v.current!==r&&S(!0);const I=[];for(const F of r_){const $=i3(F,r);if(y.current.has($))continue;let z;switch(F){case"funding_rate":z=_(F,e,s);break;case"deviation":z=_(F,e,a);break;case"twap":z=_(F,e,c);break}I.push({subChannel:F,callback:z,key:$})}const O=[];for(const{subChannel:F,callback:$,key:z}of I)try{y.current.set(z,$),M.subscribeMultiFeedSubChannel(F,r,$),console.debug(`[useRates] Subscribed to ${F} for market ${r}`)}catch(D){console.error(`[useRates] Failed to subscribe to ${F} for market ${r}:`,D),y.current.delete(z),O.push(D instanceof Error?D.message:`Failed to subscribe to ${F}`)}O.length>0?f(`Failed to subscribe to some rate channels: ${O.join(", ")}`):I.length>0&&(f(null),console.debug(`[useRates] Successfully subscribed to all rate channels (${r_.join(", ")}) for market ${r}`)),v.current=r},[r,e]),S=A.useCallback((M=!1)=>{const I=v.current;if(!I)return;const O=b.current;O&&(r_.forEach(F=>{const $=i3(F,I),z=y.current.get($);if(z){try{O.unsubscribeMultiFeedSubChannel(F,z)}catch(D){console.error(`[useRates] Failed to unsubscribe ${F} for ${I}:`,D)}y.current.delete($)}}),v.current=null,M&&(s(void 0),a(void 0),c(void 0),f(null)))},[]);A.useEffect(()=>{const M=n.subscriptionClient,I=r;b.current=M,d(!1),m(M.isConnected());const O=w.current;w.current=I,O&&O!==I&&(s(void 0),a(void 0),c(void 0),f(null));const F=()=>{if(!s3(M)){M.getAuthState()==="failed"&&f("Authentication failed - cannot subscribe to rates");return}x()};s3(M)&&I&&F();const $=M.onStateChange(z=>{m(z===Pt.Connected),z===Pt.Connected&&I&&F()});return()=>{$==null||$(),S(!0)}},[n.subscriptionClient,n.baseURL,r,x,S]);const C=A.useMemo(()=>r3(i),[i]),E=A.useMemo(()=>r3(o),[o]),T=A.useMemo(()=>r3(l),[l]);return{fundingRate:i,deviation:o,twap:l,latestFundingRate:C,latestDeviation:E,latestTWAP:T,getFundingRate:A.useCallback(()=>i,[i]),getLatestFundingRate:A.useCallback(()=>C,[C]),getDeviation:A.useCallback(()=>o,[o]),getLatestDeviation:A.useCallback(()=>E,[E]),getTWAP:A.useCallback(()=>l,[l]),getLatestTWAP:A.useCallback(()=>T,[T]),loading:u,error:h,isConnected:p}}function npe(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(""),[c,u]=A.useState(!1),d=A.useRef(null),h=A.useRef(null),f=A.useRef(0),p=A.useRef(!1),m=A.useRef(null),b=A.useRef(null),y=A.useRef(n);y.current=n;const v=A.useCallback(async()=>{if(!d.current)return;const _=y.current;if(!_.walletAddress||_.walletAddress.trim()===""){l(""),i([]),o(!1);return}l("");try{const x=await UC(u9.http,()=>d.current.getPositions(_.walletAddress));if(Array.isArray(x)){const S=x.map(XR);i(C=>{if(C.length!==S.length)return S;const E=JSON.stringify(C),T=JSON.stringify(S);return E===T?C:S})}else i(S=>S.length===0?S:[])}catch(x){l(x instanceof Error?x.message:"Failed to load positions"),console.error("Failed to fetch positions after retries:",x)}finally{o(!1)}},[]),w=A.useCallback(_=>{if(_.market_id&&_.symbol){const x=XR(_);i(S=>{const C=S.findIndex(E=>E.positionId===x.positionId);if(C>=0){const E=[...S];E[C]=x;const T=JSON.stringify(S),M=JSON.stringify(E);return T===M?S:E}else return[...S,x]})}},[]);return A.useEffect(()=>{const _=new Cr({baseURL:n.baseURL,sessionToken:n.authToken});d.current=_,v();const x=n.subscriptionClient;if(e){h.current=x;const S=()=>{if(!x.isReadyForSubscriptions()){if(x.isConnected()&&!x.isReadyForSubscriptions()){const I=x.getAuthState();I==="pending"?console.debug("[usePositions] Waiting for authentication to complete..."):I==="failed"&&(console.error("[usePositions] Authentication failed - cannot subscribe to positions"),l("Authentication failed - cannot subscribe to positions"))}return}const E=n.marketId??"0",T=n.symbol??"USDC/USDC";if(!p.current||m.current!==E||b.current!==T){if(p.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("positions",w)}catch(I){console.warn("[usePositions] Error unsubscribing from previous positions subscription:",I)}try{x.subscribeMultiFeedSubChannel("positions",E,w,{symbol:T}),p.current=!0,m.current=E,b.current=T,o(!1),console.debug("[usePositions] Subscribed to positions:",{marketId:E,symbol:T})}catch(I){console.error("[usePositions] Failed to subscribe to positions:",I),l(I instanceof Error?I.message:"Failed to subscribe to positions"),p.current=!1,o(!1)}}};u(x.isConnected()),o(!1),x.isReadyForSubscriptions()&&S();const C=x.onStateChange(E=>{console.debug("[usePositions] WebSocket state changed to:",E),u(E===Pt.Connected),E===Pt.Connected?(S(),f.current!==null&&(clearInterval(f.current),f.current=0)):(E===Pt.Disconnected||E===Pt.Reconnecting)&&n.refreshInterval&&n.refreshInterval>0&&f.current===null&&(f.current=window.setInterval(()=>{v()},n.refreshInterval))});return()=>{if(C&&C(),f.current!==null&&(clearInterval(f.current),f.current=0),h.current&&p.current)try{h.current.unsubscribeMultiFeedSubChannel("positions",w)}catch(E){console.warn("[usePositions] Error unsubscribing during cleanup:",E)}p.current=!1,m.current=null,b.current=null}}else return n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>{v()},n.refreshInterval)),()=>{f.current!==null&&(clearInterval(f.current),f.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e]),{positions:r,loading:s,error:a,isConnected:c,refresh:v}}function p9(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(""),[c,u]=A.useState(!1),d=A.useRef(null),h=A.useRef(null),f=A.useRef(0),p=A.useRef(!1),m=A.useRef(null),b=A.useRef(null),y=A.useCallback(_=>{const x=c9(_)?_:l9(_);return Bk(x)},[]),v=A.useCallback(async()=>{if(d.current){l("");try{if(!n.walletAddress){l("Wallet address is required"),i([]);return}const _=await d.current.getBuckets(n.walletAddress),x=Array.isArray(_)?_:[];Array.isArray(_)||console.warn("[useBuckets] getBuckets returned non-array:",_);const S=x.map(y);i(C=>{if(C.length!==S.length)return S;const E=JSON.stringify(C),T=JSON.stringify(S);return E===T?C:S})}catch(_){const x=_ instanceof Error?_.message:"Failed to load buckets";l(x),console.error("Failed to fetch buckets:",_)}finally{o(!1)}}},[n.walletAddress,y]),w=A.useCallback(_=>{if(_.buckets&&Array.isArray(_.buckets)){const x=_.buckets.map(y);i(S=>{if(S.length!==x.length)return x;const C=JSON.stringify(S),E=JSON.stringify(x);return C===E?S:x}),o(!1)}},[y]);return A.useEffect(()=>{const _=new Cr({baseURL:n.baseURL,sessionToken:n.authToken});d.current=_,v();const x=n.subscriptionClient;if(e){h.current=x;const S=()=>{if(!x.isReadyForSubscriptions()){if(x.isConnected()&&!x.isReadyForSubscriptions()){const I=x.getAuthState();I==="pending"?console.debug("[useBuckets] Waiting for authentication to complete..."):I==="failed"&&(console.error("[useBuckets] Authentication failed - cannot subscribe to buckets"),l("Authentication failed - cannot subscribe to buckets"))}return}const E=String(n.marketId??"0"),T=n.symbol??"USDC/USDC";if(!p.current||m.current!==E||b.current!==T){if(p.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("buckets",w)}catch(I){console.warn("[useBuckets] Error unsubscribing from previous buckets subscription:",I)}try{x.subscribeMultiFeedSubChannel("buckets",E,w,{symbol:T}),p.current=!0,m.current=E,b.current=T,o(!1),console.debug("[useBuckets] Subscribed to buckets:",{marketId:E,symbol:T})}catch(I){console.error("[useBuckets] Failed to subscribe to buckets:",I),l(I instanceof Error?I.message:"Failed to subscribe to buckets"),p.current=!1,o(!1)}}};u(x.isConnected()),o(!1),x.isReadyForSubscriptions()&&S();const C=x.onStateChange(E=>{console.debug("[useBuckets] WebSocket state changed to:",E),u(E===Pt.Connected),E===Pt.Connected?(S(),f.current!==null&&(clearInterval(f.current),f.current=0)):(E===Pt.Disconnected||E===Pt.Reconnecting)&&n.refreshInterval&&n.refreshInterval>0&&f.current===null&&(f.current=window.setInterval(()=>{v()},n.refreshInterval))});return()=>{if(C&&C(),f.current!==null&&(clearInterval(f.current),f.current=0),h.current&&p.current)try{h.current.unsubscribeMultiFeedSubChannel("buckets",w)}catch(E){console.warn("[useBuckets] Error unsubscribing during cleanup:",E)}p.current=!1,m.current=null,b.current=null}}else return n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>{v()},n.refreshInterval)),()=>{f.current!==null&&(clearInterval(f.current),f.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e]),{buckets:r,loading:s,error:a,isConnected:c,refresh:v}}function Gje(n){const e=n.maxDataPoints||100,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(null),[c,u]=A.useState(!1),d=A.useRef(!1),h=A.useRef(null),f=A.useRef(null),p=A.useRef(null),m=A.useCallback(b=>{if(!b){console.warn("[useKline] handleKlineUpdate received null/undefined data");return}try{const y=_l(b.open_time,Date.now()),v=_l(b.close_time,y),w=_l(b.timestamp,y),_={market_id:n.marketId,symbol:b.symbol,interval:b.interval||n.interval,open_time:y,close_time:v,open:$t(b.open),high:$t(b.high),low:$t(b.low),close:$t(b.close),volume:$t(b.volume),trade_count:b.trade_count||0,timestamp:w,raw:b};i(x=>{const S=[...x,_];return S.length>e?S.slice(-e):S})}catch(y){console.error("[useKline] Error processing kline update:",y),l(y instanceof Error?y.message:"Failed to process kline data")}},[n.marketId,n.interval,e]);return A.useEffect(()=>{const b=n.subscriptionClient,y=()=>{if(!b.isReadyForSubscriptions()){if(b.isConnected()&&!b.isReadyForSubscriptions()){const _=b.getAuthState();_==="pending"?console.debug("[useKline] Waiting for authentication to complete..."):_==="failed"&&(console.error("[useKline] Authentication failed - cannot subscribe to kline"),l("Authentication failed - cannot subscribe to kline"))}return}if(!d.current||h.current!==n.marketId||f.current!==n.interval||p.current!==(n.symbol||"BTC/USDC")){if(d.current)try{b.unsubscribeMultiFeedSubChannel("kline",m)}catch(_){console.warn("[useKline] Error unsubscribing from previous kline subscription:",_)}try{const _=n.symbol||"BTC/USDC";b.subscribeMultiFeedSubChannel("kline",n.marketId,m,{symbol:_,interval:n.interval}),d.current=!0,h.current=n.marketId,f.current=n.interval,p.current=_,o(!1),console.debug("[useKline] Subscribed to kline:",{marketId:n.marketId,symbol:_,interval:n.interval})}catch(_){console.error("[useKline] Failed to subscribe to kline:",_),l(_ instanceof Error?_.message:"Failed to subscribe to kline data"),d.current=!1,o(!1)}}};u(b.isConnected()),o(!1),b.isReadyForSubscriptions()&&y();const v=b.onStateChange(w=>{console.debug("[useKline] WebSocket state changed to:",w),u(w===Pt.Connected),w===Pt.Connected?y():w===Pt.Disconnected||Pt.Reconnecting});return()=>{if(v&&v(),b&&d.current)try{b.unsubscribeMultiFeedSubChannel("kline",m)}catch(w){console.warn("[useKline] Error unsubscribing during cleanup:",w)}d.current=!1,h.current=null,f.current=null,p.current=null}},[n.subscriptionClient,n.marketId,n.interval,n.symbol,m]),{klineData:r,loading:s,error:a,isConnected:c}}function Yje(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}const Kje=n=>{switch(n){case"success":return Jje;case"info":return e7e;case"warning":return Zje;case"error":return t7e;default:return null}},Xje=Array(12).fill(0),Qje=({visible:n,className:e})=>B.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},B.createElement("div",{className:"sonner-spinner"},Xje.map((r,i)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Jje=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zje=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),e7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),t7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),n7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),r7e=()=>{const[n,e]=B.useState(document.hidden);return B.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),n};let JR=1;class i7e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:i,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:JR++,a=this.toasts.find(c=>c.id===o),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:i}),{...c,...e,id:o,dismissible:l,title:i}):c):this.addToast({title:i,...s,dismissible:l,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=i!==void 0,a;const l=s.then(async u=>{if(a=["resolve",u],B.isValidElement(u))o=!1,this.create({id:i,type:"default",message:u});else if(o7e(u)&&!u.ok){o=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:f,...m})}else if(u instanceof Error){o=!1;const h=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:f,...m})}else if(r.success!==void 0){o=!1;const h=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"success",description:f,...m})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){o=!1;const d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,p=typeof d=="object"&&!B.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:h,...p})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(e,r)=>{const i=(r==null?void 0:r.id)||JR++;return this.create({jsx:e(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ws=new i7e,s7e=(n,e)=>{const r=(e==null?void 0:e.id)||JR++;return ws.addToast({title:n,...e,id:r}),r},o7e=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",a7e=s7e,l7e=()=>ws.toasts,c7e=()=>ws.getActiveToasts(),pt=Object.assign(a7e,{success:ws.success,info:ws.info,warning:ws.warning,error:ws.error,custom:ws.custom,message:ws.message,promise:ws.promise,dismiss:ws.dismiss,loading:ws.loading},{getHistory:l7e,getToasts:c7e});Yje("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function i_(n){return n.label!==void 0}const u7e=3,d7e="24px",h7e="16px",GW=4e3,f7e=356,p7e=14,m7e=45,g7e=200;function tl(...n){return n.filter(Boolean).join(" ")}function b7e(n){const[e,r]=n.split("-"),i=[];return e&&i.push(e),r&&i.push(r),i}const y7e=n=>{var e,r,i,s,o,a,l,c,u;const{invert:d,toast:h,unstyled:f,interacting:p,setHeights:m,visibleToasts:b,heights:y,index:v,toasts:w,expanded:_,removeToast:x,defaultRichColors:S,closeButton:C,style:E,cancelButtonStyle:T,actionButtonStyle:M,className:I="",descriptionClassName:O="",duration:F,position:$,gap:z,expandByDefault:D,classNames:j,icons:N,closeButtonAriaLabel:R="Close toast"}=n,[H,U]=B.useState(null),[K,Y]=B.useState(null),[J,G]=B.useState(!1),[X,ae]=B.useState(!1),[ge,le]=B.useState(!1),[ie,Te]=B.useState(!1),[Ee,V]=B.useState(!1),[Ie,Ye]=B.useState(0),[nt,Ue]=B.useState(0),mt=B.useRef(h.duration||F||GW),He=B.useRef(null),xe=B.useRef(null),Ve=v===0,Oe=v+1<=b,Ne=h.type,Ae=h.dismissible!==!1,Se=h.className||"",W=h.descriptionClassName||"",de=B.useMemo(()=>y.findIndex(Ke=>Ke.toastId===h.id)||0,[y,h.id]),me=B.useMemo(()=>{var Ke;return(Ke=h.closeButton)!=null?Ke:C},[h.closeButton,C]),oe=B.useMemo(()=>h.duration||F||GW,[h.duration,F]),pe=B.useRef(0),ye=B.useRef(0),Z=B.useRef(0),ue=B.useRef(null),[ce,Ce]=$.split("-"),Re=B.useMemo(()=>y.reduce((Ke,je,Ze)=>Ze>=de?Ke:Ke+je.height,0),[y,de]),he=r7e(),Pe=h.invert||d,_e=Ne==="loading";ye.current=B.useMemo(()=>de*z+Re,[de,Re]),B.useEffect(()=>{mt.current=oe},[oe]),B.useEffect(()=>{G(!0)},[]),B.useEffect(()=>{const Ke=xe.current;if(Ke){const je=Ke.getBoundingClientRect().height;return Ue(je),m(Ze=>[{toastId:h.id,height:je,position:h.position},...Ze]),()=>m(Ze=>Ze.filter(ht=>ht.toastId!==h.id))}},[m,h.id]),B.useLayoutEffect(()=>{if(!J)return;const Ke=xe.current,je=Ke.style.height;Ke.style.height="auto";const Ze=Ke.getBoundingClientRect().height;Ke.style.height=je,Ue(Ze),m(ht=>ht.find(ot=>ot.toastId===h.id)?ht.map(ot=>ot.toastId===h.id?{...ot,height:Ze}:ot):[{toastId:h.id,height:Ze,position:h.position},...ht])},[J,h.title,h.description,m,h.id,h.jsx,h.action,h.cancel]);const re=B.useCallback(()=>{ae(!0),Ye(ye.current),m(Ke=>Ke.filter(je=>je.toastId!==h.id)),setTimeout(()=>{x(h)},g7e)},[h,x,m,ye]);B.useEffect(()=>{if(h.promise&&Ne==="loading"||h.duration===1/0||h.type==="loading")return;let Ke;return _||p||he?(()=>{if(Z.current<pe.current){const ht=new Date().getTime()-pe.current;mt.current=mt.current-ht}Z.current=new Date().getTime()})():(()=>{mt.current!==1/0&&(pe.current=new Date().getTime(),Ke=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),re()},mt.current))})(),()=>clearTimeout(Ke)},[_,p,h,Ne,he,re]),B.useEffect(()=>{h.delete&&(re(),h.onDismiss==null||h.onDismiss.call(h,h))},[re,h.delete]);function ne(){var Ke;if(N!=null&&N.loading){var je;return B.createElement("div",{className:tl(j==null?void 0:j.loader,h==null||(je=h.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":Ne==="loading"},N.loading)}return B.createElement(Qje,{className:tl(j==null?void 0:j.loader,h==null||(Ke=h.classNames)==null?void 0:Ke.loader),visible:Ne==="loading"})}const se=h.icon||(N==null?void 0:N[Ne])||Kje(Ne);var rt,Le;return B.createElement("li",{tabIndex:0,ref:xe,className:tl(I,Se,j==null?void 0:j.toast,h==null||(e=h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Ne],h==null||(r=h.classNames)==null?void 0:r[Ne]),"data-sonner-toast":"","data-rich-colors":(rt=h.richColors)!=null?rt:S,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":J,"data-promise":!!h.promise,"data-swiped":Ee,"data-removed":X,"data-visible":Oe,"data-y-position":ce,"data-x-position":Ce,"data-index":v,"data-front":Ve,"data-swiping":ge,"data-dismissible":Ae,"data-type":Ne,"data-invert":Pe,"data-swipe-out":ie,"data-swipe-direction":K,"data-expanded":!!(_||D&&J),"data-testid":h.testId,style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${X?Ie:ye.current}px`,"--initial-height":D?"auto":`${nt}px`,...E,...h.style},onDragEnd:()=>{le(!1),U(null),ue.current=null},onPointerDown:Ke=>{Ke.button!==2&&(_e||!Ae||(He.current=new Date,Ye(ye.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(le(!0),ue.current={x:Ke.clientX,y:Ke.clientY})))},onPointerUp:()=>{var Ke,je,Ze;if(ie||!Ae)return;ue.current=null;const ht=Number(((Ke=xe.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qe=Number(((je=xe.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ot=new Date().getTime()-((Ze=He.current)==null?void 0:Ze.getTime()),De=H==="x"?ht:Qe,it=Math.abs(De)/ot;if(Math.abs(De)>=m7e||it>.11){Ye(ye.current),h.onDismiss==null||h.onDismiss.call(h,h),Y(H==="x"?ht>0?"right":"left":Qe>0?"down":"up"),re(),Te(!0);return}else{var we,_t;(we=xe.current)==null||we.style.setProperty("--swipe-amount-x","0px"),(_t=xe.current)==null||_t.style.setProperty("--swipe-amount-y","0px")}V(!1),le(!1),U(null)},onPointerMove:Ke=>{var je,Ze,ht;if(!ue.current||!Ae||((je=window.getSelection())==null?void 0:je.toString().length)>0)return;const ot=Ke.clientY-ue.current.y,De=Ke.clientX-ue.current.x;var it;const we=(it=n.swipeDirections)!=null?it:b7e($);!H&&(Math.abs(De)>1||Math.abs(ot)>1)&&U(Math.abs(De)>Math.abs(ot)?"x":"y");let _t={x:0,y:0};const gt=Ct=>1/(1.5+Math.abs(Ct)/20);if(H==="y"){if(we.includes("top")||we.includes("bottom"))if(we.includes("top")&&ot<0||we.includes("bottom")&&ot>0)_t.y=ot;else{const Ct=ot*gt(ot);_t.y=Math.abs(Ct)<Math.abs(ot)?Ct:ot}}else if(H==="x"&&(we.includes("left")||we.includes("right")))if(we.includes("left")&&De<0||we.includes("right")&&De>0)_t.x=De;else{const Ct=De*gt(De);_t.x=Math.abs(Ct)<Math.abs(De)?Ct:De}(Math.abs(_t.x)>0||Math.abs(_t.y)>0)&&V(!0),(Ze=xe.current)==null||Ze.style.setProperty("--swipe-amount-x",`${_t.x}px`),(ht=xe.current)==null||ht.style.setProperty("--swipe-amount-y",`${_t.y}px`)}},me&&!h.jsx&&Ne!=="loading"?B.createElement("button",{"aria-label":R,"data-disabled":_e,"data-close-button":!0,onClick:_e||!Ae?()=>{}:()=>{re(),h.onDismiss==null||h.onDismiss.call(h,h)},className:tl(j==null?void 0:j.closeButton,h==null||(i=h.classNames)==null?void 0:i.closeButton)},(Le=N==null?void 0:N.close)!=null?Le:n7e):null,(Ne||h.icon||h.promise)&&h.icon!==null&&((N==null?void 0:N[Ne])!==null||h.icon)?B.createElement("div",{"data-icon":"",className:tl(j==null?void 0:j.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ne():null,h.type!=="loading"?se:null):null,B.createElement("div",{"data-content":"",className:tl(j==null?void 0:j.content,h==null||(o=h.classNames)==null?void 0:o.content)},B.createElement("div",{"data-title":"",className:tl(j==null?void 0:j.title,h==null||(a=h.classNames)==null?void 0:a.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?B.createElement("div",{"data-description":"",className:tl(O,W,j==null?void 0:j.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),B.isValidElement(h.cancel)?h.cancel:h.cancel&&i_(h.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Ke=>{i_(h.cancel)&&Ae&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ke),re())},className:tl(j==null?void 0:j.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,B.isValidElement(h.action)?h.action:h.action&&i_(h.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:Ke=>{i_(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ke),!Ke.defaultPrevented&&re())},className:tl(j==null?void 0:j.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function YW(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function v7e(n,e){const r={};return[n,e].forEach((i,s)=>{const o=s===1,a=o?"--mobile-offset":"--offset",l=o?h7e:d7e;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(u=>{i[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof i[u]=="number"?`${i[u]}px`:i[u]}):c(l)}),r}const w7e=B.forwardRef(function(e,r){const{id:i,invert:s,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:m,style:b,visibleToasts:y=u7e,toastOptions:v,dir:w=YW(),gap:_=p7e,icons:x,containerAriaLabel:S="Notifications"}=e,[C,E]=B.useState([]),T=B.useMemo(()=>i?C.filter(J=>J.toasterId===i):C.filter(J=>!J.toasterId),[C,i]),M=B.useMemo(()=>Array.from(new Set([o].concat(T.filter(J=>J.position).map(J=>J.position)))),[T,o]),[I,O]=B.useState([]),[F,$]=B.useState(!1),[z,D]=B.useState(!1),[j,N]=B.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=B.useRef(null),H=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=B.useRef(null),K=B.useRef(!1),Y=B.useCallback(J=>{E(G=>{var X;return(X=G.find(ae=>ae.id===J.id))!=null&&X.delete||ws.dismiss(J.id),G.filter(({id:ae})=>ae!==J.id)})},[]);return B.useEffect(()=>ws.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{E(G=>G.map(X=>X.id===J.id?{...X,delete:!0}:X))});return}setTimeout(()=>{G_e.flushSync(()=>{E(G=>{const X=G.findIndex(ae=>ae.id===J.id);return X!==-1?[...G.slice(0,X),{...G[X],...J},...G.slice(X+1)]:[J,...G]})})})}),[C]),B.useEffect(()=>{if(f!=="system"){N(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?N("dark"):N("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:G})=>{N(G?"dark":"light")})}catch{J.addListener(({matches:X})=>{try{N(X?"dark":"light")}catch(ae){console.error(ae)}})}},[f]),B.useEffect(()=>{C.length<=1&&$(!1)},[C]),B.useEffect(()=>{const J=G=>{var X;if(a.every(le=>G[le]||G.code===le)){var ge;$(!0),(ge=R.current)==null||ge.focus()}G.code==="Escape"&&(document.activeElement===R.current||(X=R.current)!=null&&X.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[a]),B.useEffect(()=>{if(R.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,K.current=!1)}},[R.current]),B.createElement("section",{ref:r,"aria-label":`${S} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((J,G)=>{var X;const[ae,ge]=J.split("-");return T.length?B.createElement("ol",{key:J,dir:w==="auto"?YW():w,tabIndex:-1,ref:R,className:u,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":ae,"data-x-position":ge,style:{"--front-toast-height":`${((X=I[0])==null?void 0:X.height)||0}px`,"--width":`${f7e}px`,"--gap":`${_}px`,...b,...v7e(d,h)},onBlur:le=>{K.current&&!le.currentTarget.contains(le.relatedTarget)&&(K.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||K.current||(K.current=!0,U.current=le.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{z||$(!1)},onDragEnd:()=>$(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},T.filter(le=>!le.position&&G===0||le.position===J).map((le,ie)=>{var Te,Ee;return B.createElement(y7e,{key:le.id,icons:x,index:ie,toast:le,defaultRichColors:p,duration:(Te=v==null?void 0:v.duration)!=null?Te:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:s,visibleToasts:y,closeButton:(Ee=v==null?void 0:v.closeButton)!=null?Ee:c,interacting:z,position:J,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,closeButtonAriaLabel:v==null?void 0:v.closeButtonAriaLabel,removeToast:Y,toasts:T.filter(V=>V.position==le.position),heights:I.filter(V=>V.position==le.position),setHeights:O,expandByDefault:l,gap:_,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),_h="onboard_mnemonic",sc="onboard_wallet_address",da="onboard_chain_type",$b="onboard_auth_token",zb="onboard_refresh_token",Ub="onboard_expires_at";function x7e(n){const e=n.trim();return e.startsWith("0x")||e.startsWith("0X")?"ethereum":e.startsWith("bc1p")||e.startsWith("tb1p")?"bitcoin_taproot":e.startsWith("bc1q")||e.startsWith("tb1q")?"bitcoin_segwit":e.startsWith("1")||e.startsWith("m")||e.startsWith("n")?"bitcoin_legacy":e.startsWith("3")||e.startsWith("2")?"bitcoin_nested_segwit":e.length>=32&&e.length<=44?"solana":null}function pu(n){const[e,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState("ethereum"),[l,c]=A.useState(!1),[u,d]=A.useState(""),[h,f]=A.useState(void 0),[p,m]=A.useState(void 0),[b,y]=A.useState(!1),[v,w]=A.useState(null);A.useEffect(()=>{const z=localStorage.getItem(_h),D=localStorage.getItem(sc),j=localStorage.getItem(da),N=localStorage.getItem($b),R=localStorage.getItem(zb),H=localStorage.getItem(Ub);if(r(z||""),s(D||""),j?["ethereum","bitcoin_taproot","bitcoin_segwit","bitcoin_legacy","bitcoin_nested_segwit","solana"].includes(j)?a(j):(a("ethereum"),localStorage.setItem(da,"ethereum")):a("ethereum"),N&&d(N),R&&f(R),H){const U=parseInt(H,10);isNaN(U)||m(U)}},[]);const _=A.useCallback(async z=>{if(!z||z.trim()==="")return null;c(!0);try{const D=await Fk(z,"ethereum",0,!0);return D.success&&D.address?D.address:(console.error("Failed to generate address:",D.error),null)}catch(D){return console.error("Error generating address:",D),null}finally{c(!1)}},[]),x=A.useCallback(async(z,D=0,j=!0)=>{if(!e||e.trim()==="")return console.warn("Cannot generate address: mnemonic not set"),null;c(!0);try{const N=await Fk(e,z,D,j);return N.success&&N.address?(a(z),localStorage.setItem(da,z),N.address):(console.error("Failed to generate address:",N.error),null)}catch(N){return console.error("Error generating address for chain:",N),null}finally{c(!1)}},[e]),S=A.useCallback(async z=>{const D=z.trim();if(D===""){r(""),s(""),a("ethereum"),localStorage.removeItem(_h),localStorage.removeItem(sc),localStorage.removeItem(da);return}r(D),localStorage.setItem(_h,D);const j=await _(D);j?(s(j),a("ethereum"),localStorage.setItem(sc,j),localStorage.setItem(da,"ethereum")):(s(""),a("ethereum"),localStorage.removeItem(sc),localStorage.setItem(da,"ethereum"))},[_]),C=A.useCallback(async(z,D,j=0,N=!0)=>{const R=z.trim();if(R===""){r(""),s(""),a("ethereum"),localStorage.removeItem(_h),localStorage.removeItem(sc),localStorage.removeItem(da);return}r(R),localStorage.setItem(_h,R);const H=await x(D,j,N);H?(s(H),a(D),localStorage.setItem(sc,H),localStorage.setItem(da,D)):(s(""),localStorage.removeItem(sc))},[x]),E=A.useCallback((z,D,j)=>{const N=z.trim(),R=D.trim().startsWith("0x")||D.trim().startsWith("0X")?D.trim().toLowerCase():D.trim();if(r(N),s(R),localStorage.setItem(_h,N),localStorage.setItem(sc,R),j)a(j),localStorage.setItem(da,j);else{const H=x7e(R);H&&(a(H),localStorage.setItem(da,H))}},[]),T=A.useCallback(()=>{r(""),s(""),a("ethereum"),localStorage.removeItem(_h),localStorage.removeItem(sc),localStorage.removeItem(da)},[]),M=A.useMemo(()=>{if(e==="")return"";const z=e.trim();if(z==="")return"";try{const D=f0.fromPhrase(z,"","m/44'/60'/0'/0/0");if(i&&D.address.toLowerCase()!==i.toLowerCase())return console.warn("Address mismatch: derived address does not match stored address"),"";const j=BigInt(D.privateKey),N=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(j===0n||j>=N)return console.error("Invalid private key: out of secp256k1 curve order"),"";const H=j.toString(16).toLowerCase().padStart(64,"0");return/^[0-9a-f]{64}$/.test(H)?H:(console.error("Invalid private key format"),"")}catch(D){return console.error("Error computing private key:",D),""}},[e,i]),I=A.useCallback(async(z,D,j,N)=>{y(!0),w(null);try{await S(z);const R=await d9(z,D,j,N);if(R.success&&R.authToken)d(R.authToken),f(R.refreshToken),m(R.expiresAt),localStorage.setItem($b,R.authToken),R.refreshToken&&localStorage.setItem(zb,R.refreshToken),R.expiresAt&&localStorage.setItem(Ub,R.expiresAt.toString()),pt.success("Onboarding successful",{description:"Wallet authenticated and auth token generated.",duration:5e3});else{const H=R.error||"Onboarding failed";w(H),d(""),f(void 0),m(void 0),localStorage.removeItem($b),localStorage.removeItem(zb),localStorage.removeItem(Ub),pt.error("Onboarding failed",{description:H,duration:6e3})}}catch(R){const H=(R==null?void 0:R.message)||"Unknown error during onboarding";w(H),d(""),f(void 0),m(void 0),localStorage.removeItem($b),localStorage.removeItem(zb),localStorage.removeItem(Ub),pt.error("Onboarding error",{description:H,duration:6e3})}finally{y(!1)}},[S]),O=A.useCallback(()=>{w(null)},[]),F=A.useCallback(()=>{d(""),f(void 0),m(void 0),w(null),y(!1),localStorage.removeItem($b),localStorage.removeItem(zb),localStorage.removeItem(Ub)},[]),$=A.useCallback(()=>{T(),F()},[T,F]);return{mnemonic:e,walletAddress:i,chainType:o,privateKey:M,authToken:u,refreshToken:h,expiresAt:p,loading:b,error:v,addressLoading:l,onboard:I,setMnemonic:S,setMnemonicWithChain:C,setAccountData:E,generateAddressForChain:x,clearAccountData:T,clearError:O,reset:F,resetAll:$}}function KW(){return typeof window>"u"?!1:!!window.okxwallet}function XW(){var i,s,o,a;if(typeof window>"u")return!1;if((i=window.okxwallet)!=null&&i.ethereum||(s=window.ethereum)!=null&&s.isOKX)return!0;const n=!!((o=window.okxwallet)!=null&&o.solana),e=!!((a=window.okxwallet)!=null&&a.bitcoin);return!!(n&&e&&window.ethereum)}function Lu(){var n;return typeof window>"u"?!1:!!((n=window.okxwallet)!=null&&n.solana)}function ma(){var n;return typeof window>"u"?!1:!!((n=window.okxwallet)!=null&&n.bitcoin)}function m9(){var i,s,o,a;if(typeof window>"u")return null;if((i=window.okxwallet)!=null&&i.ethereum)return window.okxwallet.ethereum;if((s=window.ethereum)!=null&&s.isOKX)return window.ethereum;const n=!!((o=window.okxwallet)!=null&&o.solana),e=!!((a=window.okxwallet)!=null&&a.bitcoin);return n&&e&&window.ethereum?window.ethereum:null}function Lo(){var n;return typeof window>"u"?null:(n=window.okxwallet)==null?void 0:n.solana}function rpe(){var n;return typeof window>"u"?null:(n=window.okxwallet)==null?void 0:n.bitcoin}async function _7e(){const n=m9();if(!n)throw new Error("OKX Ethereum wallet not found");try{const e=await n.request({method:"eth_requestAccounts"});if(!e||e.length===0)throw new Error("No accounts found in OKX Ethereum wallet");return e[0]}catch(e){throw new Error(`Failed to get OKX Ethereum address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function S7e(n,e,r,i){const s=m9();if(!s)throw new Error("OKX Ethereum wallet not found");try{return{signature:await s.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify({domain:n,types:e,primaryType:"AgentApproval",message:r})]}),address:i}}catch(o){throw o.code===4001?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Ethereum: ${o.message||"Unknown error"}`)}}async function k7e(){const n=Lo();if(!n)throw new Error("OKX Solana wallet not found");try{const e=await n.connect();if(!e||!e.publicKey)throw new Error("Failed to connect to OKX Solana wallet");return e.publicKey.toString()}catch(e){throw new Error(`Failed to get OKX Solana address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function C7e(n,e){var i,s;const r=Lo();if(!r)throw new Error("OKX Solana wallet not found");try{r.isConnected||await r.connect();const o=typeof n=="string"?new TextEncoder().encode(n):n,a=await r.signMessage(o,"utf8"),c=(Array.isArray(a.signature)?a.signature:Array.from(a.signature)).map(d=>d.toString(16).padStart(2,"0")).join(""),u=((i=a.publicKey)==null?void 0:i.toString())||e||"";if(!u)throw new Error("Failed to get public key from OKX Solana wallet");return{signature:c,publicKey:u}}catch(o){throw o.code===4001||(s=o.message)!=null&&s.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Solana: ${o.message||"Unknown error"}`)}}async function QW(){const n=rpe();if(!n)throw new Error("OKX Bitcoin wallet not found");try{let e;if(typeof n.requestAccounts=="function"){const r=await n.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.connect=="function"){const r=await n.connect();Array.isArray(r)?r.length>0&&(e=r[0]):r&&typeof r=="object"&&(r.address?e=r.address:Array.isArray(r.accounts)&&r.accounts.length>0&&(e=r.accounts[0]))}if(!e&&typeof n.getAccounts=="function"){const r=await n.getAccounts();r&&r.length>0&&(e=r[0])}if(!e)throw new Error("No accounts found in OKX Bitcoin wallet. Please ensure the wallet is connected and has a Bitcoin account.");return e}catch(e){throw e instanceof Error&&e.message.includes("No accounts found")?e:new Error(`Failed to get OKX Bitcoin address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function E7e(n,e){var i;const r=rpe();if(!r)throw new Error("OKX Bitcoin wallet not found");try{let s=[];if(typeof r.requestAccounts=="function")s=await r.requestAccounts();else if(typeof r.connect=="function"){const l=await r.connect();Array.isArray(l)?s=l:l&&typeof l=="object"&&(l.address?s=[l.address]:Array.isArray(l.accounts)&&(s=l.accounts))}else typeof r.getAccounts=="function"&&(s=await r.getAccounts());if(!s.includes(e))throw new Error("Address not found in OKX Bitcoin wallet. Please ensure the wallet is connected and the address is available.");const o=await r.signMessage(n,e);let a=o;return o.startsWith("0x")&&(a=o.slice(2)),{signature:a,address:e}}catch(s){throw s.code===4001||(i=s.message)!=null&&i.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Bitcoin: ${s.message||"Unknown error"}`)}}function A7e(n){const e=m9();if(!e)return()=>{};const r=s=>{console.warn("[OKX] Ethereum wallet disconnected:",s),n("ethereum",s.message||"Wallet disconnected")},i=s=>{s.length===0&&(console.warn("[OKX] Ethereum wallet accounts cleared (disconnected)"),n("ethereum","Accounts cleared"))};return e.on&&(e.on("disconnect",r),e.on("accountsChanged",i)),()=>{e.removeListener&&(e.removeListener("disconnect",r),e.removeListener("accountsChanged",i))}}function T7e(n){const e=Lo();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[OKX] Solana wallet disconnected (isConnected changed)"),n("solana","Connection lost")),r=a},o=()=>{console.warn("[OKX] Solana wallet disconnected (event)"),n("solana","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function P7e(n){let e=null,r=ma();return e=setInterval(()=>{const s=ma();r&&!s&&(console.warn("[OKX] Bitcoin wallet disconnected (provider no longer available)"),n("bitcoin","Provider unavailable")),r=s},2e3),()=>{e&&(clearInterval(e),e=null)}}function I7e(n){const e=[];return e.push(A7e(n)),e.push(T7e(n)),e.push(P7e(n)),()=>{e.forEach(r=>r())}}function M7e(n={}){const{onDisconnect:e,enableOKX:r=!0,enablePhantom:i=!0,enableOneKey:s=!0,enableEthereum:o=!0}=n,a=A.useRef([]);return A.useEffect(()=>{if(!e)return;const l=[];if(r){const c=(u,d)=>{e({walletName:"OKX",chainType:u,reason:d})};l.push(I7e(c))}if(i){const c=(u,d)=>{e({walletName:"Phantom",chainType:"solana",reason:d})};l.push(xje(c))}if(s){const c=(u,d)=>{e({walletName:"OneKey",chainType:"solana",reason:d})};l.push(_je(c))}if(o){const c=(u,d)=>{e({walletName:"Binance",chainType:"solana",reason:d})};l.push(Sje(c))}if(o&&typeof window<"u"){const c=window.ethereum;if(c&&c.on){const u=()=>{var f,p,m;return(f=window.okxwallet)!=null&&f.ethereum||c.isOKX?"OKX":(p=window.$onekey)!=null&&p.ethereum||c.isOneKey?"OneKey":(m=window.phantom)!=null&&m.ethereum||c.isPhantom?"Phantom":window.BinanceChain||c.isBinance?"Binance":c.isMetaMask?"MetaMask":"Unknown"},d=f=>{const p=u();console.warn(`[Wallet] ${p} Ethereum wallet disconnected:`,f),e({walletName:p,chainType:"ethereum",reason:f.message||"Wallet disconnected"})},h=f=>{if(f.length===0){const p=u();console.warn(`[Wallet] ${p} Ethereum wallet accounts cleared (disconnected)`),e({walletName:p,chainType:"ethereum",reason:"Accounts cleared"})}};c.on("disconnect",d),c.on("accountsChanged",h),l.push(()=>{c.removeListener&&(c.removeListener("disconnect",d),c.removeListener("accountsChanged",h))})}}return a.current=l,()=>{l.forEach(c=>c()),a.current=[]}},[e,r,i,s,o]),{cleanup:()=>{a.current.forEach(l=>l()),a.current=[]}}}const JW=[{value:"ethereum",label:"Ethereum",description:"Ethereum addresses (0x...)",example:"0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"},{value:"bitcoin_taproot",label:"Bitcoin Taproot",description:"Bitcoin Taproot addresses (bc1p...)",example:"bc1p5d7rjq7g6rdk2yhzks9smlaqtedr4dekq08ge8ztwac36sfj9ugtg7eskl"},{value:"bitcoin_segwit",label:"Bitcoin SegWit",description:"Bitcoin SegWit addresses (bc1q...)",example:"bc1qw508d6qejxtdg4y5r3zarvary0c5xw7kv8f3t4"},{value:"bitcoin_legacy",label:"Bitcoin Legacy",description:"Bitcoin Legacy addresses (1...)",example:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},{value:"bitcoin_nested_segwit",label:"Bitcoin Nested SegWit",description:"Bitcoin Nested SegWit addresses (3...)",example:"3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy"},{value:"solana",label:"Solana",description:"Solana addresses (Base58)",example:"9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM"}];function O7e(){const{setAccountData:n}=pu(),{mnemonic:e,setMnemonic:r,addressIndex:i,setAddressIndex:s,chainType:o,setChainType:a,isMainnet:l,setIsMainnet:c,result:u,loading:d,generateAddress:h,isReady:f}=Ije();A.useEffect(()=>{u!=null&&u.success&&u.address&&e&&o==="ethereum"&&n(e,u.address)},[u,e,o,n]);const p=JW.find(m=>m.value===o);return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Multichain Address Generator"}),g.jsx("p",{children:"Generate addresses from mnemonic phrases for multiple blockchain networks"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"chainType",children:"Chain Type:"}),g.jsx("select",{id:"chainType",value:o,onChange:m=>a(m.target.value),style:{marginBottom:"0.5rem"},children:JW.map(m=>g.jsxs("option",{value:m.value,children:[m.label," - ",m.description]},m.value))}),p&&g.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.25rem",padding:"0.5rem",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px"},children:[g.jsx("strong",{children:"Example:"})," ",p.example]})]}),(o.startsWith("bitcoin")||o==="solana")&&g.jsx("div",{className:"form-group",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:l,onChange:m=>c(m.target.checked),style:{marginRight:"0.5rem",cursor:"pointer"}}),l?"Mainnet":"Testnet",g.jsxs("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginLeft:"0.5rem"},children:["(",l?"Production network":"Test network",")"]})]})}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic Phrase:"}),g.jsx("textarea",{id:"mnemonic",value:e,onChange:m=>r(m.target.value),placeholder:"Enter your mnemonic phrase...",rows:3})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressIndex",children:"Address Index:"}),g.jsx("input",{id:"addressIndex",type:"number",value:i,onChange:m=>s(parseInt(m.target.value)||0),min:"0",max:"1000"}),g.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.25rem"},children:"Derivation path index (0 = first address, 1 = second address, etc.)"})]}),g.jsx("button",{className:"button",onClick:h,disabled:d||!f,style:{width:"100%",margin:"0"},children:d?"Generating...":`Generate ${(p==null?void 0:p.label)||"Address"}`}),u&&g.jsx("div",{className:`output ${u.success?"success":"error"}`,children:u.success?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{style:{fontSize:"1.1rem",display:"block",marginBottom:"0.5rem"},children:"Generated Address:"}),g.jsx("div",{style:{fontFamily:"Monaco, Menlo, Ubuntu Mono, monospace",fontSize:"0.95rem",wordBreak:"break-all",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:u.address})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"0.5rem 1rem",fontSize:"0.9rem"},children:[g.jsx("strong",{children:"Chain Type:"}),g.jsx("span",{children:(p==null?void 0:p.label)||u.chainType||"Ethereum"}),g.jsx("strong",{children:"Network:"}),g.jsx("span",{children:u.isMainnet!==void 0?u.isMainnet?"Mainnet":"Testnet":"Mainnet (default)"}),g.jsx("strong",{children:"Index:"}),g.jsx("span",{children:u.index??0}),"mnemonic"in u&&u.mnemonic&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Mnemonic:"}),g.jsx("span",{children:u.mnemonic})]})]}),g.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:[g.jsx("strong",{children:"Derivation Path:"})," ",o==="ethereum"&&g.jsxs("code",{children:["m/44'/60'/0'/0/",i]}),o==="bitcoin_taproot"&&g.jsxs("code",{children:["m/86'/0'/0'/0/",i]}),o==="bitcoin_segwit"&&g.jsxs("code",{children:["m/84'/0'/0'/0/",i]}),o==="bitcoin_legacy"&&g.jsxs("code",{children:["m/44'/0'/0'/0/",i]}),o==="bitcoin_nested_segwit"&&g.jsxs("code",{children:["m/49'/0'/0'/0/",i]}),o==="solana"&&g.jsxs("code",{children:["m/44'/501'/0'/",i,"'"]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{style:{display:"block",marginBottom:"0.5rem"},children:"Error:"}),g.jsx("div",{style:{color:"rgba(255, 107, 107, 0.9)"},children:u.error})]})}),!f&&g.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",color:"rgba(255, 193, 7, 0.9)",fontSize:"0.9rem"},children:" WASM module is loading. Please wait..."})]})}function D7e(){var f,p;const{mnemonic:n,setMnemonic:e,message:r,setMessage:i,useEIP712:s,setUseEIP712:o,addressIndex:a,setAddressIndex:l,result:c,loading:u,signMessage:d,isReady:h}=Mje();return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Message Signer"}),g.jsx("p",{children:"Sign messages with your private key"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic Phrase:"}),g.jsx("textarea",{id:"mnemonic",value:n,onChange:m=>e(m.target.value),placeholder:"Enter your mnemonic phrase...",rows:2})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"message",children:"Message to Sign:"}),g.jsx("textarea",{id:"message",value:r,onChange:m=>i(m.target.value),placeholder:"Enter message to sign...",rows:3})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressIndex",children:"Address Index:"}),g.jsx("input",{id:"addressIndex",type:"number",value:a,onChange:m=>l(parseInt(m.target.value)||0),min:"0",max:"1000"})]}),g.jsx("div",{className:"form-group",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:s,onChange:m=>o(m.target.checked),style:{marginRight:"0.5rem"}}),"Use EIP-712 Typed Data"]})}),g.jsx("button",{className:"button",onClick:d,disabled:u||!h,children:u?"Signing...":"Sign Message"}),c&&g.jsx("div",{className:`output ${c.success?"success":"error"}`,children:c.success?g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Signature:"}),g.jsx("br",{}),c.signature,g.jsx("br",{}),g.jsx("br",{}),g.jsx("strong",{children:"Details:"}),g.jsx("br",{}),"Message: ",c.message,g.jsx("br",{}),"EIP-712: ",(f=c.options)!=null&&f.useEIP712?"Yes":"No",g.jsx("br",{}),"Address Index: ",((p=c.options)==null?void 0:p.addressIndex)||0]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),c.error]})})]})}const s_={placeOrder:{label:"Place Order",action:J7,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"side",label:"Side",type:"select",options:["BUY","SELL"],required:!0},{key:"orderType",label:"Order Type",type:"select",options:["LIMIT","MARKET"],required:!0},{key:"price",label:"Price",type:"number",placeholder:"100.5",required:!0,convertToSatoshi:!0},{key:"quantity",label:"Quantity",type:"number",placeholder:"1.0",required:!0,convertToSatoshi:!0}]},cancelOrder:{label:"Cancel Order",action:Nk,fields:[{key:"orderId",label:"Order ID",type:"text",required:!0},{key:"marketId",label:"Market ID",type:"text",required:!0}]},modifyOrder:{label:"Modify Order",action:Z7,fields:[{key:"orderId",label:"Order ID",type:"text",required:!0},{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"newPrice",label:"New Price",type:"number",required:!0,convertToSatoshi:!0},{key:"newQuantity",label:"New Quantity",type:"number",required:!0,convertToSatoshi:!0}]},changeLeverage:{label:"Change Leverage",action:Lfe,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"newLeverage",label:"New Leverage",type:"number",required:!0,convertToSatoshi:!0}]},closePosition:{label:"Close Position",action:jk,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"quantity",label:"Quantity",type:"number",required:!0,convertToSatoshi:!0},{key:"marketPrice",label:"Market Price",type:"number",required:!0,convertToSatoshi:!0}]},swap:{label:"Swap",action:t9,fields:[{key:"fromToken",label:"From Token",type:"text",required:!0},{key:"toToken",label:"To Token",type:"text",required:!0},{key:"amountIn",label:"Amount In",type:"number",required:!0,convertToSatoshi:!0},{key:"minAmountOut",label:"Min Amount Out",type:"number",required:!0,convertToSatoshi:!0}]},changeMarginRatio:{label:"Change Margin Ratio",action:Q7,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"positionId",label:"Position ID",type:"text",required:!1}]},internTransfer:{label:"Internal Transfer",action:e9,fields:[{key:"fromAccount",label:"From Account",type:"text",required:!0},{key:"toAccount",label:"To Account",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0},{key:"tokenAddress",label:"Token Address",type:"text",required:!0}]},bucketTransfer:{label:"Bucket Transfer",action:s9,fields:[{key:"fromBucketId",label:"From Bucket ID",type:"text",required:!0},{key:"toBucketId",label:"To Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},extractToBucket:{label:"Extract to Bucket",action:r9,fields:[{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},withdrawFromBucket:{label:"Withdraw from Bucket",action:i9,fields:[{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},bankMint:{label:"Bank Mint",action:n9,fields:[{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},bankTransfer:{label:"Bank Transfer",action:o9,fields:[{key:"to",label:"To Address",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]}};function R7e(){var ie,Te,Ee,V,Ie,Ye,nt,Ue,mt,He;const{connect:n,connectors:e,isPending:r}=u7(),{disconnect:i}=ux(),{address:s,isConnected:o}=ki(),{signTypedDataAsync:a}=d7(),l=cx(),[c,u]=A.useState(null),[d,h]=A.useState({}),[f,p]=A.useState("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"),[m,b]=A.useState(""),[y,v]=A.useState(""),[w,_]=A.useState(""),[x,S]=A.useState([]),[C,E]=A.useState(null),[T,M]=A.useState(!1),[I,O]=A.useState(!1),F=typeof window<"u"&&!!((ie=window.ethereum)!=null&&ie.isMetaMask),$=typeof window<"u"&&(!!((Te=window.phantom)!=null&&Te.ethereum)||!!((Ee=window.ethereum)!=null&&Ee.isPhantom)),z=typeof window<"u"&&(!!((V=window.$onekey)!=null&&V.ethereum)||!!((Ie=window.ethereum)!=null&&Ie.isOneKey)),D=e.find(xe=>xe.id==="injected"),j=typeof window<"u"?(Ye=window.phantom)!=null&&Ye.ethereum||(nt=window.ethereum)!=null&&nt.isPhantom?"Phantom":(Ue=window.$onekey)!=null&&Ue.ethereum||(mt=window.ethereum)!=null&&mt.isOneKey?"OneKey":(He=window.ethereum)!=null&&He.isMetaMask?"MetaMask":null:null,N=m&&s&&m.toLowerCase()===s.toLowerCase(),R=o&&N&&m;A.useEffect(()=>{if(c){const xe=s_[c],Ve={};xe.fields.forEach(Oe=>{Ve[Oe.key]=""}),h(Ve),E(null)}},[c]);const H=()=>{const Ve=Math.floor(Date.now()/1e3)+3600;_(Ve.toString())},U=()=>{v(Date.now().toString())},K=async()=>{if(!f.trim()){alert("Please enter a mnemonic phrase");return}try{const{mormSigner:xe}=await ft(async()=>{const{mormSigner:Oe}=await Promise.resolve().then(()=>Tje);return{mormSigner:Oe}},void 0);await xe.initialize();const Ve=await xe.generateAddress(f,0);Ve.success&&Ve.address?b(Ve.address):alert(Ve.error||"Failed to generate address")}catch(xe){alert(xe.message||"Failed to generate address")}},Y=async()=>{var xe,Ve,Oe;if(!F&&!$&&!z){alert("No supported wallet detected");return}try{const Ne=window.ethereum;let Ae=Ne;if($&&(Ae=((xe=window.phantom)==null?void 0:xe.ethereum)||((Ve=window.ethereum)!=null&&Ve.isPhantom?Ne:null)),z&&(Ae=((Oe=window.$onekey)==null?void 0:Oe.ethereum)||Ne),!Ae){alert("Wallet provider not found");return}const Se=await Ae.request({method:"eth_requestAccounts"});Se&&Se.length>0&&(S(Se),Se.length===1&&b(Se[0])),D&&(await n({connector:D}),await new Promise(W=>setTimeout(W,300)))}catch(Ne){Ne.code===4001?alert("User rejected the connection request"):(console.error("Error connecting wallet:",Ne),alert(`Failed to connect: ${Ne.message||"Unknown error"}`))}},J=()=>{if(!c)throw new Error("No operation selected");const xe=s_[c],Ve={action:xe.action};return(c==="cancelOrder"||c==="changeLeverage"||c==="changeMarginRatio"||c==="internTransfer")&&(Ve.address=m),xe.fields.forEach(Oe=>{const Ne=d[Oe.key];if(Ne===void 0||Ne===""){if(Oe.required)throw new Error(`${Oe.label} is required`);return}let Ae=Ne;Oe.convertToSatoshi&&Oe.type==="number"&&(Ae=_n(parseFloat(Ne))),c==="bucketTransfer"&&Oe.key==="assetId"||(c==="extractToBucket"||c==="withdrawFromBucket"||c==="bankMint"||c==="bankTransfer")&&Oe.key==="assetId"?Ve.asset=Ae:c==="closePosition"?Oe.key==="quantity"?Ve.closeSize=Ae:Oe.key==="marketPrice"?Ve.marketPrice=Ae:Ve[Oe.key]=Ae:c==="placeOrder"?Oe.key==="side"?Ve.side=Ne.toUpperCase():Oe.key==="orderType"?Ve.orderType=Ne.toUpperCase():Ve[Oe.key]=Ae:Ve[Oe.key]=Ae}),Ve},G=xe=>{const Ve={name:"Morpheum",version:"1",chainId:l,verifyingContract:"0x0000000000000000000000000000000000000000"},Oe={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Message:[]};Object.keys(xe).forEach(Ae=>{Ae==="action"?Oe.Message.push({name:"action",type:"string"}):Ae==="owner"?Oe.Message.push({name:"owner",type:"address"}):Ae==="nonce"?Oe.Message.push({name:"nonce",type:"string"}):Ae==="deadline"?Oe.Message.push({name:"deadline",type:"uint256"}):Ae==="address"?Oe.Message.push({name:"address",type:"address"}):typeof xe[Ae]=="string"&&xe[Ae].startsWith("0x")?Oe.Message.push({name:Ae,type:"address"}):typeof xe[Ae]=="number"||/^\d+$/.test(xe[Ae])?Oe.Message.push({name:Ae,type:"uint256"}):Oe.Message.push({name:Ae,type:"string"})});const Ne={};return Object.keys(xe).forEach(Ae=>{Ae==="owner"||Ae==="address"||Ae.startsWith("0x")&&Ae.length===42?Ne[Ae]=xe[Ae].toLowerCase():Ne[Ae]=xe[Ae]}),{domain:Ve,types:Oe,primaryType:"Message",message:Ne}},X=async()=>{if(!f.trim())throw new Error("Mnemonic is required for WASM signing");const xe=f0.fromPhrase(f.trim(),"","m/44'/60'/0'/0/0");if(xe.address.toLowerCase()!==m.toLowerCase())throw new Error(`Address mismatch: derived ${xe.address} does not match ${m}`);const Ve=BigInt(xe.privateKey),Oe=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(Ve===0n||Ve>=Oe)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const Ae=Ve.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(Ae))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return Ae},ae=async()=>{var xe,Ve;if(!c){alert("Please select an operation first");return}if(!m){alert("Please set owner address");return}if(!y){alert("Please generate nonce");return}if(!w){alert("Please generate deadline");return}M(!0),E(null);try{const Oe=J();Oe.owner=m.toLowerCase(),Oe.nonce=y,Oe.deadline=w;const Ne=G(Oe),Ae=await a({domain:Ne.domain,types:Ne.types,primaryType:Ne.primaryType,message:Ne.message});E({success:!0,signature:Ae,typedData:{payload:Oe,typedData:Ne}})}catch(Oe){Oe.code===4001||(xe=Oe.message)!=null&&xe.includes("User rejected")||(Ve=Oe.message)!=null&&Ve.includes("rejected")?E({success:!1,error:"User rejected the signature request"}):(console.error("Error signing:",Oe),E({success:!1,error:Oe.message||"Unknown error during signing"}))}finally{M(!1)}},ge=async()=>{if(!c){alert("Please select an operation first");return}if(!m){alert("Please set owner address");return}if(!y){alert("Please generate nonce");return}if(!w){alert("Please generate deadline");return}if(!f.trim()){alert("Please enter mnemonic for WASM signing");return}if(!Bt.isReady())try{if(await Bt.initialize(),!Bt.isReady()){alert("WASM module failed to initialize");return}}catch(xe){alert(`Failed to initialize WASM: ${xe.message||"Unknown error"}`);return}O(!0),E(null);try{const xe=J();xe.owner=m.toLowerCase(),xe.nonce=y,xe.deadline=w;const Ve=await X(),Oe=Math.floor(Date.now()/1e3),Ne=parseInt(w,10),Ae={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:Oe,payload:xe,deadline:Ne},Se=await Bt.generateSingleSignature(JSON.stringify(Ae),Ve,m.toLowerCase());if(!Se.success||!Se.signature)throw new Error(Se.error||"Failed to generate signature");const W=G(xe);E({success:!0,signature:Se.signature,typedData:{payload:xe,typedData:W,eip712Tx:Ae}})}catch(xe){console.error("Error signing with WASM:",xe),E({success:!1,error:xe.message||"Unknown error during WASM signing"})}finally{O(!1)}},le=c?s_[c]:null;return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Functional Signer"}),g.jsx("p",{children:"Sign EIP-712 messages for Morpheum protocol operations"}),g.jsxs("div",{className:`agent-delegation-step ${c?"connected":""}`,children:[g.jsxs("h4",{children:["Step 1: Select Operation ",c&&""]}),c?g.jsxs("div",{children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"Selected:"})," ",le==null?void 0:le.label]}),g.jsx("button",{className:"button secondary",onClick:()=>{u(null),h({}),E(null)},children:"Change Operation"})]}):g.jsx("div",{className:"agent-delegation-wallet-buttons",children:Object.entries(s_).map(([xe,Ve])=>g.jsx("button",{className:"button",onClick:()=>u(xe),children:Ve.label},xe))})]}),c?g.jsxs("div",{className:`agent-delegation-step ${m&&y&&w?"connected":""}`,children:[g.jsxs("h4",{children:["Step 2: Configure Parameters"," ",m&&y&&w&&""]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"walletConnection",children:"Wallet Connection:"}),R?g.jsxs("div",{className:"agent-delegation-connected-info",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Connected:"})," ",j||"Wallet",m&&g.jsxs("div",{className:"agent-delegation-address",children:["Address: ",m]})]}),g.jsx("button",{className:"button secondary",onClick:()=>{i(),S([]),b("")},children:"Disconnect"})]}):g.jsxs("div",{children:[g.jsx("button",{className:"button",onClick:Y,disabled:r||!D,children:r?"Connecting...":"Connect Wallet"}),x.length>0&&!m&&g.jsxs("div",{style:{marginTop:"1rem"},children:[g.jsx("label",{children:"Select Address:"}),x.map(xe=>g.jsx("button",{className:"button secondary",onClick:()=>b(xe),style:{display:"block",marginTop:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem"},children:xe},xe))]})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic (for address generation):"}),g.jsx("textarea",{id:"mnemonic",value:f,onChange:xe=>p(xe.target.value),placeholder:"Enter mnemonic to generate address...",rows:2}),g.jsx("button",{className:"button secondary",onClick:K,style:{marginTop:"0.5rem"},children:"Generate Address from Mnemonic"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"ownerAddress",children:"Owner Address:"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"ownerAddress",type:"text",value:m,onChange:xe=>b(xe.target.value),placeholder:"0x...",style:{flex:1}}),g.jsx("button",{className:"button secondary",onClick:K,disabled:!f.trim(),children:"Generate"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"nonce",children:"Nonce:"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"nonce",type:"text",value:y,onChange:xe=>v(xe.target.value),placeholder:"Auto-generated timestamp"}),g.jsx("button",{className:"button secondary",onClick:U,children:"Generate"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"deadline",children:"Deadline (Unix timestamp):"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"deadline",type:"text",value:w,onChange:xe=>_(xe.target.value),placeholder:"Auto-generated (1 hour from now)"}),g.jsx("button",{className:"button secondary",onClick:H,children:"Generate"})]})]}),le&&g.jsxs(g.Fragment,{children:[g.jsx("h5",{style:{marginTop:"1.5rem",marginBottom:"1rem"},children:"Operation Parameters:"}),le.fields.map(xe=>{var Ve;return g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:xe.key,children:[xe.label,xe.required&&" *"]}),xe.type==="select"?g.jsxs("select",{id:xe.key,value:d[xe.key]||"",onChange:Oe=>h({...d,[xe.key]:Oe.target.value}),children:[g.jsxs("option",{value:"",children:["Select ",xe.label]}),(Ve=xe.options)==null?void 0:Ve.map(Oe=>g.jsx("option",{value:Oe,children:Oe},Oe))]}):g.jsx("input",{id:xe.key,type:xe.type,value:d[xe.key]||"",onChange:Oe=>h({...d,[xe.key]:Oe.target.value}),placeholder:xe.placeholder}),xe.convertToSatoshi&&g.jsx("small",{className:"agent-delegation-small-text",children:"Will be converted to satoshi format"})]},xe.key)})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 2: Configure Parameters"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please select an operation in Step 1 to continue."})]}),c&&m&&y&&w?g.jsxs("div",{className:"agent-delegation-step",children:[g.jsx("h4",{children:"Step 3: Sign Message"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[g.jsx("button",{className:"button",onClick:ae,disabled:T||I||!m||!y||!w||((le==null?void 0:le.fields.some(xe=>xe.required&&!d[xe.key]))??!1),children:T?"Signing...":"Sign from Wallet"}),g.jsx("button",{className:"button",onClick:ge,disabled:T||I||!m||!y||!w||!f.trim()||((le==null?void 0:le.fields.some(xe=>xe.required&&!d[xe.key]))??!1),children:I?"Signing...":"Sign by WASM"})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 3: Sign Message"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 2 to continue."})]}),C&&g.jsx("div",{className:`output ${C.success?"success":"error"}`,children:C.success?g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Signature:"}),g.jsx("br",{}),C.signature,g.jsx("br",{}),g.jsx("br",{}),C.typedData&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Payload & Typed Data:"}),g.jsx("br",{}),g.jsx("pre",{className:"agent-delegation-pre",children:JSON.stringify(C.typedData,null,2)})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),C.error]})})]})}function N7e(){var n,e;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.ethereum||(e=window.ethereum)!=null&&e.isOneKey)}function ZW(){var n;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.solana)}function j7e(){var n;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.btc||window.$onekey&&window.unisat)}function B7e(){var n,e;return typeof window>"u"?null:(n=window.$onekey)!=null&&n.ethereum?window.$onekey.ethereum:(e=window.ethereum)!=null&&e.isOneKey?window.ethereum:null}function ipe(){var n;return typeof window>"u"?null:(n=window.$onekey)!=null&&n.btc?window.$onekey.btc:window.$onekey&&window.unisat?window.unisat:null}async function L7e(n,e,r,i){const s=B7e();if(!s)throw new Error("OneKey Ethereum wallet not found");try{return{signature:await s.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify({domain:n,types:e,primaryType:"AgentApproval",message:r})]}),address:i}}catch(o){throw o.code===4001?new Error("User rejected the signature request"):new Error(`Failed to sign with OneKey Ethereum: ${o.message||"Unknown error"}`)}}async function F7e(){const n=ipe();if(!n)throw new Error("OneKey Bitcoin wallet not found");try{let e;if(typeof n.requestAccounts=="function"){const r=await n.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.getAccounts=="function"){const r=await n.getAccounts();r&&r.length>0&&(e=r[0])}if(!e)throw new Error("No accounts found in OneKey Bitcoin wallet. Please ensure the wallet is connected and has a Bitcoin account.");return e}catch(e){throw e instanceof Error&&e.message.includes("No accounts found")?e:new Error(`Failed to get OneKey Bitcoin address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function $7e(n,e,r="ecdsa"){var s;const i=ipe();if(!i)throw new Error("OneKey Bitcoin wallet not found");try{let o=[];if(typeof i.requestAccounts=="function"?o=await i.requestAccounts():typeof i.getAccounts=="function"&&(o=await i.getAccounts()),!o.includes(e))throw new Error("Address not found in OneKey Bitcoin wallet. Please ensure the wallet is connected and the address is available.");const a=await i.signMessage(n,r);let l=a;return a.startsWith("0x")&&(l=a.slice(2)),{signature:l,address:e}}catch(o){throw o.code===4001||(s=o.message)!=null&&s.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OneKey Bitcoin: ${o.message||"Unknown error"}`)}}function z7e(){var on,Jn,ln,Ws,ci,wo,aa,Rr,ui,qs,Pp,Ip,Ka,Cn,Yl,yu,Kl,vu,Mp,Op,Zn,Kr,Nr,Dp,wu,lh,ch,uh,dh,xu,Rp,Xa,Xl,_u,la,fs,Np,Ft,xo,_o,Su,ku,fr,jp,Cu,Bp,Me,Et,Jt,Hs;const n=pu(),{ownerAddress:e,setOwnerAddress:r,agentAddress:i,setAgentAddress:s,agentPrivateKey:o,expiresInDays:a,setExpiresInDays:l,permissions:c,setPermissions:u,agentName:d,setAgentName:h,nonce:f,setNonce:p,result:m,loading:b,generateAgentKeypair:y,clearAgentCredentials:v,isMetaMaskConnected:w,isPhantomConnected:_,isOneKeyConnected:x,isOKXConnected:S,isBinanceConnected:C,isBitgetConnected:E,isRainbowConnected:T,isReady:M}=Hje(n),{connect:I,connectors:O,isPending:F}=u7(),{disconnect:$}=ux(),{address:z,isConnected:D}=ki(),{signTypedDataAsync:j}=d7(),N=cx(),[R,H]=A.useState([]),[U,K]=A.useState("ethereum"),[Y,J]=A.useState(null),[G,X]=A.useState(!1),[ae,ge]=A.useState(!1),le=async()=>{const ke=z||e;if(!ke||!i)throw new Error("Owner and agent addresses are required");const Je=c.split(",").map(jt=>jt.trim()).filter(jt=>jt.length>0),Ge=Math.floor(Date.now()/1e3)+a*24*60*60;if(Bt.isReady())try{const jt={owner:ke.toLowerCase(),agent:i.toLowerCase(),expiresInDays:a,permissions:Je,nonce:f||Date.now().toString(),agentName:d||""},qt=await Bt.prepareAgentSign(jt);if(qt.success&&qt.typedData&&qt.typedData.domain&&qt.typedData.types&&qt.typedData.message)return{domain:qt.typedData.domain,types:qt.typedData.types,primaryType:"AgentApproval",message:qt.typedData.message}}catch(jt){console.warn("Failed to use mormSigner.prepareAgentSign, falling back to manual preparation:",jt)}const Xe={name:"Morpheum",version:"",chainId:N,verifyingContract:"0x0000000000000000000000000000000000000000"},We={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],AgentApproval:[{name:"owner",type:"address"},{name:"agent",type:"address"},{name:"agentName",type:"string"},{name:"expiresInDays",type:"uint256"},{name:"permissions",type:"string[]"},{name:"nonce",type:"string"},{name:"deadline",type:"uint256"}]},St={owner:ke.toLowerCase(),agent:i.toLowerCase(),agentName:d||"",expiresInDays:a,permissions:Je,nonce:f||Date.now().toString(),deadline:Ge};return{domain:Xe,types:We,primaryType:"AgentApproval",message:St}},ie=async()=>{var Je,Ge,Xe,We,St,jt,qt,lr,di,Sn,Ai,Fr,So;const ke=z||e;if(!ke||!i){J({success:!1,error:"Owner and agent addresses are required"});return}X(!0),J(null);try{const _r=U==="ethereum"&&x&&Ve||U==="solana"&&Pe&&Oe&&((Je=pa())==null?void 0:Je.isConnected)||U==="bitcoin"&&_e&&Ne,ps=U==="ethereum"&&S&&KW()||U==="solana"&&Pe&&Lu()&&((Ge=Lo())==null?void 0:Ge.isConnected)||U==="bitcoin"&&_e&&ma();if(ps&&U==="ethereum"&&XW()){const et=await le(),Xt=await S7e(et.domain,et.types,et.message,ke);J({success:!0,signature:Xt.signature,typedData:et})}else if(_r&&U==="ethereum"&&Ve){const et=await le(),Xt=await L7e(et.domain,et.types,et.message,ke);J({success:!0,signature:Xt.signature,typedData:et})}else if(_r&&U==="solana"&&Oe){const et=await le(),Xt=pa();if(!Xt)throw new Error("OneKey Solana provider not found");const Sr=c.split(",").map(Vn=>Vn.trim()).filter(Vn=>Vn.length>0),ko=Math.floor(Date.now()/1e3)+a*24*60*60,fn={action:"AgentApproval",owner:et.message.owner||ke,agent:et.message.agent||i,expiresInDays:et.message.expiresInDays||a,permissions:et.message.permissions||Sr,nonce:et.message.nonce||f||Date.now().toString(),agentName:et.message.agentName||d||"",deadline:((Xe=et.message.deadline)==null?void 0:Xe.toString())||ko.toString()},Ui=await hje(Xt,fn);J({success:!0,signature:Ui.signature,typedData:et})}else if(ps&&U==="solana"&&Lu()){const et=await le(),Xt=JSON.stringify(et.message),Sr=await C7e(Xt);J({success:!0,signature:Sr.signature,typedData:et})}else if(U==="solana"&&Pe&&e3()&&((We=sl())!=null&&We.isConnected)){const et=await le(),Xt=sl();if(!Xt)throw new Error("Bitget Solana provider not found");const Sr=c.split(",").map(Vn=>Vn.trim()).filter(Vn=>Vn.length>0),ko=Math.floor(Date.now()/1e3)+a*24*60*60,fn={action:"AgentApproval",owner:et.message.owner||ke,agent:et.message.agent||i,expiresInDays:et.message.expiresInDays||a,permissions:et.message.permissions||Sr,nonce:et.message.nonce||f||Date.now().toString(),agentName:et.message.agentName||d||"",deadline:((St=et.message.deadline)==null?void 0:St.toString())||ko.toString()},Ui=await mje(Xt,fn);J({success:!0,signature:Ui.signature,typedData:et})}else if(U==="solana"&&Pe&&t3()&&((jt=_y())!=null&&jt.isConnected)){const et=await le(),Xt=_y();if(!Xt)throw new Error("TokenPocket Solana provider not found");const Sr=c.split(",").map(Vn=>Vn.trim()).filter(Vn=>Vn.length>0),ko=Math.floor(Date.now()/1e3)+a*24*60*60,fn={action:"AgentApproval",owner:et.message.owner||ke,agent:et.message.agent||i,expiresInDays:et.message.expiresInDays||a,permissions:et.message.permissions||Sr,nonce:et.message.nonce||f||Date.now().toString(),agentName:et.message.agentName||d||"",deadline:((qt=et.message.deadline)==null?void 0:qt.toString())||ko.toString()},Ui=await bje(Xt,fn);J({success:!0,signature:Ui.signature,typedData:et})}else if(U==="solana"&&Pe&&vh()&&((lr=gs())!=null&&lr.isConnected)){const et=await le(),Xt=gs();if(!Xt)throw new Error("Binance Solana provider not found");const Sr=c.split(",").map(Vn=>Vn.trim()).filter(Vn=>Vn.length>0),ko=Math.floor(Date.now()/1e3)+a*24*60*60,fn={action:"AgentApproval",owner:et.message.owner||ke,agent:et.message.agent||i,expiresInDays:et.message.expiresInDays||a,permissions:et.message.permissions||Sr,nonce:et.message.nonce||f||Date.now().toString(),agentName:et.message.agentName||d||"",deadline:((di=et.message.deadline)==null?void 0:di.toString())||ko.toString()},Ui=await wje(Xt,fn);J({success:!0,signature:Ui.signature,typedData:et})}else if(_r&&U==="bitcoin"&&Ne){const et=await le(),Xt=JSON.stringify(et.message);if(!ke)throw new Error("Owner address is required for Bitcoin signing");const Sr=await $7e(Xt,ke,"ecdsa");J({success:!0,signature:Sr.signature,typedData:et})}else if(U==="bitcoin"&&_e&&ma()){const et=await le(),Xt=JSON.stringify(et.message);if(!ke)throw new Error("Owner address is required for Bitcoin signing");const Sr=await E7e(Xt,ke);J({success:!0,signature:Sr.signature,typedData:et})}else if(U==="ethereum"&&Ie&&D){const et=await le(),Xt=await j({domain:et.domain,types:et.types,primaryType:et.primaryType,message:et.message});J({success:!0,signature:Xt,typedData:et})}else if(U==="ethereum"&&nt&&D){const et=await le(),Xt=await j({domain:et.domain,types:et.types,primaryType:et.primaryType,message:et.message});J({success:!0,signature:Xt,typedData:et})}else if(U==="solana"&&Pe&&Ue&&((Sn=Dh())!=null&&Sn.isConnected)){const et=await le(),Xt=Dh();if(!Xt)throw new Error("Coinbase Wallet Solana provider not found");const Sr=c.split(",").map(Vn=>Vn.trim()).filter(Vn=>Vn.length>0),ko=Math.floor(Date.now()/1e3)+a*24*60*60,fn={action:"AgentApproval",owner:et.message.owner||ke,agent:et.message.agent||i,expiresInDays:et.message.expiresInDays||a,permissions:et.message.permissions||Sr,nonce:et.message.nonce||f||Date.now().toString(),agentName:et.message.agentName||d||"",deadline:((Ai=et.message.deadline)==null?void 0:Ai.toString())||ko.toString()},Ui=await vje(Xt,fn);J({success:!0,signature:Ui.signature,typedData:et})}else{const et=await le(),Xt=await j({domain:et.domain,types:et.types,primaryType:et.primaryType,message:et.message});J({success:!0,signature:Xt,typedData:et})}}catch(Kt){Kt.code===4001||(Fr=Kt.message)!=null&&Fr.includes("User rejected")||(So=Kt.message)!=null&&So.includes("rejected")?J({success:!1,error:"User rejected the signature request"}):(console.error("Error signing:",Kt),J({success:!1,error:Kt.message||"Unknown error during signing"}))}finally{X(!1)}},Te=m0(),Ee=Vc(),V=Gc(),Ie=zje(),Ye=Uje(),nt=Nd(),Ue=Wje(),mt=typeof window<"u"&&((on=window.ethereum)==null?void 0:on.isRainbow)===!0,He=typeof window<"u"&&(!!((Jn=window.phantom)!=null&&Jn.ethereum)||!!((ln=window.ethereum)!=null&&ln.isPhantom))&&!(window.$onekey||(Ws=window.ethereum)!=null&&Ws.isOneKey),xe=typeof window<"u"&&(!!((ci=window.$onekey)!=null&&ci.ethereum)||!!((wo=window.ethereum)!=null&&wo.isOneKey)||!!window.$onekey),Ve=N7e(),Oe=ZW(),Ne=j7e(),Ae=typeof window<"u"&&(!!((aa=window.okxwallet)!=null&&aa.ethereum)||!!((Rr=window.ethereum)!=null&&Rr.isOKX)),[Se,W]=A.useState(()=>{var Je;if(typeof window>"u")return!1;if(((Je=window.binancew3w)==null?void 0:Je.isExtension)===!0||window.BinanceChain)return!0;const ke=window.ethereum;if(ke!=null&&ke.isBinance)return!0;if(ke){const Ge=ke.providerName||ke.name;if(typeof Ge=="string"&&Ge.toLowerCase().includes("binance"))return!0}return!!(ke!=null&&ke._postMessageToMp&&typeof ke._postMessageToMp=="function"&&(ke==null?void 0:ke.namespace)==="eip155"||vh())});A.useEffect(()=>{if(Se)return;let ke=!0;return n3(3e3,100).then(Je=>{ke&&Je&&W(!0)}),()=>{ke=!1}},[Se]);const de=O.find(ke=>{var Je;return ke.id==="injected"||ke.type==="injected"||((Je=ke.name)==null?void 0:Je.toLowerCase().includes("injected"))});A.useEffect(()=>{var Je,Ge,Xe,We,St,jt,qt,lr,di,Sn,Ai,Fr,So,Kt,_r;console.log("[Wallet Debug] Component mounted/updated"),console.log("[Wallet Debug] Window object:",typeof window<"u"?"available":"undefined"),console.log("[Wallet Debug] window.phantom:",window.phantom),console.log("[Wallet Debug] window.ethereum:",window.ethereum),console.log("[Wallet Debug] window.ethereum?.isMetaMask:",(Je=window.ethereum)==null?void 0:Je.isMetaMask),console.log("[Wallet Debug] window.ethereum?.isPhantom:",(Ge=window.ethereum)==null?void 0:Ge.isPhantom),console.log("[Wallet Debug] window.ethereum?.isOneKey:",(Xe=window.ethereum)==null?void 0:Xe.isOneKey),console.log("[Wallet Debug] window.ethereum?.isOKX:",(We=window.ethereum)==null?void 0:We.isOKX),console.log("[Wallet Debug] window.ethereum?.isBinance:",(St=window.ethereum)==null?void 0:St.isBinance),console.log("[Wallet Debug] window.binancew3w:",window.binancew3w),console.log("[Wallet Debug] window.binancew3w?.isExtension:",(jt=window.binancew3w)==null?void 0:jt.isExtension),console.log("[Wallet Debug] window.ethereum?.chainId:",(qt=window.ethereum)==null?void 0:qt.chainId),console.log("[Wallet Debug] window.ethereum?.networkVersion:",(lr=window.ethereum)==null?void 0:lr.networkVersion);const ke=window.ethereum;ke&&(console.log("[Wallet Debug] window.ethereum.providerName:",ke.providerName||ke.name),console.log("[Wallet Debug] window.ethereum keys:",Object.keys(ke).filter(Vs=>Vs.toLowerCase().includes("binance")||Vs.toLowerCase().includes("bnb")||Vs==="_postMessageToMp"||Vs==="_requestNormalConnect"||Vs==="namespace"||Vs==="providerName"||Vs==="name")),console.log("[Wallet Debug] window.ethereum.namespace:",ke.namespace),console.log("[Wallet Debug] window.ethereum._postMessageToMp:",typeof ke._postMessageToMp)),console.log("[Wallet Debug] window.BinanceChain:",window.BinanceChain),console.log("[Wallet Debug] window.BinanceChain?.solana:",(di=window.BinanceChain)==null?void 0:di.solana),console.log("[Wallet Debug] window.solana:",window.solana),console.log("[Wallet Debug] window.solana?.isBinance:",(Sn=window.solana)==null?void 0:Sn.isBinance),console.log("[Wallet Debug] window.solana?.name:",(Ai=window.solana)==null?void 0:Ai.name),console.log("[Wallet Debug] window.binancew3w?.solana:",(Fr=window.binancew3w)==null?void 0:Fr.solana),console.log("[Wallet Debug] window.ethereum?.solana:",(So=window.ethereum)==null?void 0:So.solana),console.log("[Wallet Debug] isBinanceSolanaAvailable():",vh()),console.log("[Wallet Debug] window.$onekey:",window.$onekey),console.log("[Wallet Debug] window.okxwallet:",window.okxwallet),console.log("[Wallet Debug] window.okxwallet?.ethereum:",(Kt=window.okxwallet)==null?void 0:Kt.ethereum),console.log("[Wallet Debug] window.okxwallet?.bitcoin:",(_r=window.okxwallet)==null?void 0:_r.bitcoin),console.log("[Wallet Debug] window.unisat:",window.unisat),console.log("[Wallet Debug] window.BitcoinProvider:",window.BitcoinProvider),console.log("[Wallet Debug] window.XverseProvider:",window.XverseProvider),console.log("[Wallet Debug] isPhantomAvailable:",He),console.log("[Wallet Debug] isOneKeyAvailable:",xe),console.log("[Wallet Debug] isOKXEthereumAvailable:",Ae),console.log("[Wallet Debug] isBinanceAvailable:",Se),console.log("[Wallet Debug] isBitcoinWalletAvailable():",xc()),console.log("[Wallet Debug] isOKXWalletInstalled():",Kp()),console.log("[Wallet Debug] All connectors:",O),console.log("[Wallet Debug] Injected connector:",de),console.log("[Wallet Debug] Injected connector ID:",de==null?void 0:de.id),console.log("[Wallet Debug] Injected connector name:",de==null?void 0:de.name),console.log("[Wallet Debug] isConnecting:",F)},[O,de,He,xe,Ae,Se,F]);const me=e&&z&&e.toLowerCase()===z.toLowerCase();let oe=null;if(typeof window<"u")if((ui=window.$onekey)!=null&&ui.ethereum||(qs=window.ethereum)!=null&&qs.isOneKey||window.$onekey)oe="OneKey";else if((Pp=window.phantom)!=null&&Pp.ethereum||(Ip=window.ethereum)!=null&&Ip.isPhantom)oe="Phantom";else{const ke=!!((Ka=window.okxwallet)!=null&&Ka.solana),Je=!!((Cn=window.okxwallet)!=null&&Cn.bitcoin);ke&&Je&&window.ethereum||(Yl=window.okxwallet)!=null&&Yl.ethereum||(yu=window.ethereum)!=null&&yu.isOKX||window.okxwallet?oe="OKX":Vc()?oe="Bitget":Gc()?oe="TokenPocket":Nd()?oe="Coinbase Wallet":((Kl=window.ethereum)==null?void 0:Kl.isRainbow)===!0?oe="Rainbow":window.BinanceChain||(vu=window.ethereum)!=null&&vu.isBinance?oe="Binance":m0()&&(oe="MetaMask")}const pe=w||D&&me&&oe==="MetaMask"||e&&oe==="MetaMask"&&Te,ye=_||D&&me&&oe==="Phantom"||e&&oe==="Phantom"&&He,Z=x||D&&me&&oe==="OneKey"||e&&oe==="OneKey"&&xe,ue=S||D&&me&&oe==="OKX"||e&&oe==="OKX"&&Ae,ce=C||D&&me&&oe==="Binance"||e&&oe==="Binance"&&Se,Ce=E||D&&me&&oe==="Bitget"||e&&oe==="Bitget"&&Ee,Re=T||D&&me&&oe==="Rainbow"||e&&oe==="Rainbow"&&mt,he=pe||ye||Z||ue||ce||Ce||Re,Pe=(()=>{var jt,qt,lr,di;if(U!=="solana")return!1;const ke=pa();if(ke&&ke.isConnected&&ke.publicKey){const Sn=ke.publicKey.toString();if(e===Sn)return!0}const Je=Lo();if(Je&&Je.isConnected&&Je.publicKey){const Sn=(jt=Je.publicKey)==null?void 0:jt.toString();if(Sn&&e===Sn)return!0}const Ge=gs();if(Ge&&Ge.isConnected&&Ge.publicKey){const Sn=(qt=Ge.publicKey)==null?void 0:qt.toString();if(Sn&&e===Sn)return!0}const Xe=sl();if(Xe&&Xe.isConnected&&Xe.publicKey){const Sn=(lr=Xe.publicKey)==null?void 0:lr.toString();if(Sn&&e===Sn)return!0}const We=Dh();if(We&&We.isConnected&&We.publicKey){const Sn=(di=We.publicKey)==null?void 0:di.toString();if(Sn&&e===Sn)return!0}const St=Nc();if(St&&St.isConnected&&St.publicKey){const Sn=St.publicKey.toString();if(e===Sn)return!0}if(e&&R.length>0){const Sn=!e.startsWith("0x")&&e.length>=32&&e.length<=44,Ai=R.some(Fr=>Fr===e);if(Sn&&Ai)return!0}return!1})(),_e=U!=="bitcoin"||!e||!/^(bc1|[13]|[mn2])[a-zA-HJ-NP-Z0-9]{25,62}$/.test(e)?!1:td()!==null&&xc(),re=(()=>{if(U!=="ethereum")return!1;if(D&&z)return!0;if(e&&R.length>0){const ke=e.startsWith("0x")||e.startsWith("0X"),Je=R.some(Ge=>Ge.toLowerCase()===e.toLowerCase());return ke&&Je}return!1})(),ne=re||Pe||_e,se=(()=>{var ke,Je,Ge,Xe;if(Pe){const We=pa();if(We&&We.isConnected&&e&&((ke=We.publicKey)==null?void 0:ke.toString())===e)return"OneKey (Solana)";console.log("OKX Solana is checking");const St=Lo();if(St&&St.isConnected&&e&&((Je=St.publicKey)==null?void 0:Je.toString())===e)return"OKX (Solana)";console.log("Binance Solana is checking");const jt=gs();if(jt&&jt.isConnected&&e&&((Ge=jt.publicKey)==null?void 0:Ge.toString())===e)return"Binance (Solana)";console.log("Coinbase Wallet Solana is checking");const qt=Dh();return qt&&qt.isConnected&&e&&((Xe=qt.publicKey)==null?void 0:Xe.toString())===e?"Coinbase Wallet (Solana)":"Phantom (Solana)"}if(_e){const We=td();return We?`${We.name} (Bitcoin)`:"Bitcoin Wallet"}if(re){if(Z||oe==="OneKey"&&xe)return"OneKey";if(ue)return"OKX (Ethereum)";if(Ce)return"Bitget";if(Re)return"Rainbow";if(ce)return"Binance";if(pe)return"MetaMask";if(ye)return"Phantom (Ethereum)"}return null})(),rt=R.length>0||ne,Le=z||(re&&e?e:null),Ke=ne&&(Le||(Pe||_e)&&e)&&i;A.useEffect(()=>{if(i&&o)try{if(sessionStorage.getItem("agent_delegation_address")===i){ge(!0);const Je=setTimeout(()=>ge(!1),5e3);return()=>clearTimeout(Je)}}catch(ke){console.warn("Failed to check sessionStorage:",ke)}},[i,o]);const je=A.useRef(void 0);A.useEffect(()=>{if(U==="ethereum")if(D&&z){if(je.current!==z){const ke=(e==null?void 0:e.toLowerCase())||"",Je=z.toLowerCase();ke!==Je&&(console.log("[Connection Sync] Updating ownerAddress to match wagmiAddress:",z),r(z)),je.current=z}}else D&&!z&&e&&R.length>0?R.find(Je=>Je.toLowerCase()===e.toLowerCase())&&console.log("[Connection Sync] Wagmi connected but no address yet, keeping ownerAddress:",e):D||(je.current=void 0)},[D,z,r,U]);const Ze=A.useRef(D);A.useEffect(()=>{const ke=Ze.current;U==="ethereum"&&ke&&!D&&R.length>0&&R.some(Xe=>Xe.startsWith("0x")||Xe.startsWith("0X"))&&(H([]),e&&(e.startsWith("0x")||e.startsWith("0X"))&&r("")),Ze.current=D},[D,U]),M7e({onDisconnect:ke=>{if(console.warn(`[Wallet Disconnect] ${ke.walletName} ${ke.chainType} wallet disconnected:`,ke.reason),ke.chainType==="ethereum"&&U==="ethereum"||ke.chainType==="solana"&&U==="solana"||ke.chainType==="bitcoin"&&U==="bitcoin"){H([]),r("");const Ge=ke.walletName==="OKX"?"OKX Wallet":ke.walletName==="Phantom"?"Phantom Wallet":ke.walletName==="OneKey"?"OneKey Wallet":ke.walletName==="Binance"?"Binance Wallet":ke.walletName==="MetaMask"?"MetaMask":"Wallet",Xe=ke.reason?`

Reason: ${ke.reason}`:"";alert(`${Ge} has disconnected from the ${ke.chainType} network.${Xe}

Please reconnect your wallet to continue.`)}},enableOKX:!0,enablePhantom:!0,enableOneKey:!0,enableEthereum:!0});const ht=A.useRef({wagmiIsConnected:!1,wagmiAddress:void 0,ownerAddress:"",connectionChainType:"",availableAddressesLength:0});A.useEffect(()=>{const ke=ht.current;(ke.wagmiIsConnected!==D||ke.wagmiAddress!==z||ke.ownerAddress!==e||ke.connectionChainType!==U||ke.availableAddressesLength!==R.length)&&(console.log("[Connection Debug] wagmiIsConnected:",D),console.log("[Connection Debug] wagmiAddress:",z),console.log("[Connection Debug] ownerAddress:",e),console.log("[Connection Debug] connectionChainType:",U),console.log("[Connection Debug] availableAddresses:",R),console.log("[Connection Debug] isPhantomConnected (hook):",_),console.log("[Connection Debug] isMetaMaskConnected (hook):",w),console.log("[Connection Debug] isOneKeyConnected (hook):",x),console.log("[Connection Debug] isOKXConnected (hook):",S),console.log("[Connection Debug] isBinanceConnected (hook):",C),console.log("[Connection Debug] isBitgetConnected (hook):",E),console.log("[Connection Debug] isRainbowConnected (hook):",T),console.log("[Connection Debug] detectedWallet:",oe),console.log("[Connection Debug] hasMatchingAddress:",me),console.log("[Connection Debug] isPhantomConnectedEnhanced:",ye),console.log("[Connection Debug] isWalletConnected:",he),console.log("[Connection Debug] isSolanaConnected:",Pe),console.log("[Connection Debug] isBitcoinConnected:",_e),console.log("[Connection Debug] isEthereumConnected:",re),console.log("[Connection Debug] hasWalletExtensionConnection:",ne),console.log("[Connection Debug] hasWalletConnection:",rt),ht.current={wagmiIsConnected:D,wagmiAddress:z,ownerAddress:e||"",connectionChainType:U,availableAddressesLength:R.length})},[D,z,e,U,R.length,_,w,x,S,C,E]);const Qe=async()=>{if(!Te){alert("MetaMask wallet is not installed. Please install MetaMask wallet extension.");return}try{const ke=window.ethereum;if(ke){const Je=await ke.request({method:"eth_requestAccounts"});if(Je&&Je.length>0){const Ge=Je.filter(Xe=>Xe&&typeof Xe=="string"&&Xe.trim().length>0);Ge.length>0&&(H(Ge),Ge.length===1&&r(Ge[0]))}}de?(await I({connector:de}),await new Promise(Je=>setTimeout(Je,300))):alert("MetaMask connector not found. Please ensure MetaMask wallet is installed.")}catch(ke){ke.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to MetaMask:",ke),alert(`Failed to connect to MetaMask: ${ke.message||"Unknown error"}`))}},ot=async()=>{var ke,Je,Ge,Xe,We,St,jt,qt,lr,di,Sn,Ai,Fr,So;if(console.log("[Phantom Debug] Starting connection process..."),console.log("[Phantom Debug] Connection chain type:",U),console.log("[Phantom Debug] isPhantomAvailable:",He),console.log("[Phantom Debug] window.phantom:",window.phantom),console.log("[Phantom Debug] window.ethereum:",window.ethereum),console.log("[Phantom Debug] window.ethereum?.isPhantom:",(ke=window.ethereum)==null?void 0:ke.isPhantom),U==="solana"){try{if(!ng()){alert("Phantom Solana wallet is not available. Please ensure Phantom wallet is installed and unlocked.");return}console.log("[Phantom Debug] Connecting to Solana...");const Kt=await h9();if(console.log("[Phantom Debug] Solana address received:",Kt),Kt&&typeof Kt=="string"){H([Kt]),r(Kt),console.log("[Phantom Debug] Solana connection successful"),console.log("[Phantom Debug] Solana address set:",Kt),console.log("[Phantom Debug] availableAddresses set:",[Kt]);const _r=Nc();console.log("[Phantom Debug] Solana provider state:",{exists:!!_r,isConnected:_r==null?void 0:_r.isConnected,publicKey:(Je=_r==null?void 0:_r.publicKey)==null?void 0:Je.toString()})}}catch(Kt){console.error("[Phantom Debug] Solana connection error:",Kt),Kt.code===4001||(Ge=Kt.message)!=null&&Ge.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Phantom Solana: ${Kt.message||"Unknown error"}`)}return}if(!He){console.error("[Phantom Debug] Phantom wallet not available"),alert("Phantom wallet is not installed. Please install Phantom wallet extension.");return}try{let Kt=(Xe=window.phantom)==null?void 0:Xe.ethereum;console.log("[Phantom Debug] phantomProvider (window.phantom.ethereum):",Kt);const _r=!!((We=window.phantom)!=null&&We.solana)||!!window.solana,Vs=!!((St=window.phantom)!=null&&St.ethereum)||!!((jt=window.ethereum)!=null&&jt.isPhantom);if(window.phantom&&!Kt&&!((qt=window.ethereum)!=null&&qt.isPhantom)&&(console.warn("[Phantom Debug] Phantom detected but Ethereum provider not available"),console.warn("[Phantom Debug] Phantom might be in Solana mode"),_r&&!Vs)){alert(`Phantom wallet is currently in Solana mode. Please switch to Ethereum mode in your Phantom wallet extension to connect.

To switch:
1. Open your Phantom wallet extension
2. Click on the network selector (top of the wallet)
3. Switch from Solana to Ethereum
4. Then try connecting again.`);return}if(!Kt&&window.phantom){const et=window.phantom;typeof et.request=="function"&&(Kt=et,console.log("[Phantom Debug] Using window.phantom as provider"))}if(!Kt&&((lr=window.ethereum)!=null&&lr.isPhantom)&&(Kt=window.ethereum,console.log("[Phantom Debug] Using window.ethereum as provider (isPhantom=true)")),!Kt){console.error("[Phantom Debug] No valid Phantom provider found"),console.error("[Phantom Debug] Available providers:",{hasWindowPhantom:!!window.phantom,hasPhantomEthereum:!!((di=window.phantom)!=null&&di.ethereum),hasPhantomSolana:_r,phantomHasRequest:typeof((Sn=window.phantom)==null?void 0:Sn.request)=="function",hasWindowEthereum:!!window.ethereum,ethereumIsPhantom:(Ai=window.ethereum)==null?void 0:Ai.isPhantom,ethereumIsMetaMask:(Fr=window.ethereum)==null?void 0:Fr.isMetaMask}),window.phantom&&_r?alert(`Phantom wallet is in Solana mode. Please switch to Ethereum mode:

1. Open your Phantom wallet extension
2. Switch from Solana to Ethereum network
3. Then try connecting again.`):alert("Phantom wallet Ethereum provider not found. Please ensure Phantom wallet is installed and switched to Ethereum mode.");return}console.log("[Phantom Debug] Using provider, requesting accounts...");let ps;try{ps=await Kt.request({method:"eth_requestAccounts"})}catch(et){console.error("[Phantom Debug] Error requesting Ethereum accounts:",et);const Xt=((So=et==null?void 0:et.message)==null?void 0:So.toLowerCase())||"",Sr=et==null?void 0:et.code;if(Sr===4001||Xt.includes("user rejected")||Xt.includes("rejected")){alert("User rejected the connection request.");return}if(Xt.includes("solana")||Xt.includes("ethereum")||!Kt||Sr===-32602||Sr===-32603){alert(`Unable to connect to Phantom Ethereum. Please ensure:

1. Phantom wallet is open and unlocked
2. Phantom is switched to Ethereum mode (not Solana)
3. You have an Ethereum account in Phantom

To switch to Ethereum mode:
- Open Phantom extension
- Click the network selector at the top
- Select Ethereum network`);return}throw et}if(console.log("[Phantom Debug] Accounts received:",ps),ps&&ps.length>0&&(H(ps),console.log("[Phantom Debug] Available addresses:",ps),ps.length===1&&(console.log("[Phantom Debug] Auto-selecting single address:",ps[0]),r(ps[0]))),console.log("[Phantom Debug] Waiting 200ms before wagmi connection..."),await new Promise(et=>setTimeout(et,200)),console.log("[Phantom Debug] injectedConnector:",de),console.log("[Phantom Debug] All connectors:",O),console.log("[Phantom Debug] Current wagmi state - isConnected:",D,"address:",z),console.log("[Phantom Debug] Current ownerAddress:",e),de){console.log("[Phantom Debug] Connecting via wagmi injected connector...");try{const et=await I({connector:de});console.log("[Phantom Debug] Wagmi connect() result:",et),console.log("[Phantom Debug] Wagmi connect() called"),console.log("[Phantom Debug] Waiting for wagmi state update..."),await new Promise(Xt=>setTimeout(Xt,500)),await new Promise(Xt=>setTimeout(Xt,300)),console.log("[Phantom Debug] After wait - wagmi state - isConnected:",D,"address:",z),console.log("[Phantom Debug] After wait - ownerAddress:",e),!z&&e?(console.log("[Phantom Debug] Wagmi not updated yet, but ownerAddress is set from Phantom"),console.log("[Phantom Debug] The sync effect will update when wagmi is ready")):z&&(console.log("[Phantom Debug] Wagmi address updated successfully:",z),(e==null?void 0:e.toLowerCase())!==z.toLowerCase()&&(console.log("[Phantom Debug] Syncing ownerAddress to match wagmiAddress"),r(z)))}catch(et){console.error("[Phantom Debug] Error connecting via wagmi:",et),console.warn("[Phantom Debug] Continuing with Phantom address despite wagmi error"),console.warn("[Phantom Debug] ownerAddress from Phantom:",e)}}else console.error("[Phantom Debug] Injected connector not found"),console.warn("[Phantom Debug] No wagmi connector, but we have Phantom address:",e)}catch(Kt){console.error("[Phantom Debug] Error caught:",Kt),console.error("[Phantom Debug] Error code:",Kt.code),console.error("[Phantom Debug] Error message:",Kt.message),console.error("[Phantom Debug] Error stack:",Kt.stack),Kt.code===4001?(console.log("[Phantom Debug] User rejected the connection"),alert("User rejected the connection request.")):(console.error("[Phantom Debug] Unknown error during connection"),alert(`Failed to connect to Phantom Ethereum: ${Kt.message||"Unknown error"}

Please ensure Phantom wallet is unlocked and switched to Ethereum mode.`))}},De=async()=>{var Ge,Xe;const ke=Kp(),Je=xc();if(!Je&&!ke){alert(`No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension.

If you have OKX or Bitget installed, ensure it's switched to Bitcoin network in the extension.`);return}if(ke&&!Je){alert(`OKX wallet detected, but Bitcoin provider is not available.

Please ensure:
1. OKX wallet extension is unlocked
2. OKX wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in OKX

After switching to Bitcoin network in OKX, refresh this page and try again.`);return}try{console.log("[Bitcoin Debug] Starting Bitcoin connection...");let We;ke&&ma()?(console.log("[Bitcoin Debug] Using OKX SDK for Bitcoin connection"),We=await QW()):We=await Zfe(),console.log("[Bitcoin Debug] Bitcoin address received:",We),We&&typeof We=="string"&&(H([We]),r(We),console.log("[Bitcoin Debug] Bitcoin connection successful"))}catch(We){if(console.error("[Bitcoin Debug] Bitcoin connection error:",We),We.code===4001||(Ge=We.message)!=null&&Ge.includes("rejected")||(Xe=We.message)!=null&&Xe.includes("User rejected"))alert("User rejected the Bitcoin wallet connection request.");else{const St=td(),jt=(St==null?void 0:St.name)||"Bitcoin wallet",qt=We.message||"Unknown error";ke&&qt.includes("not found")||qt.includes("No Bitcoin wallet")?alert(`Failed to connect to ${jt}: ${qt}

If using OKX wallet:
1. Ensure OKX extension is unlocked
2. Switch OKX to Bitcoin network in the extension
3. Make sure you have a Bitcoin account
4. Refresh this page and try again`):alert(`Failed to connect to ${jt}: ${qt}

Please ensure your Bitcoin wallet is unlocked and try again.`)}}},it=async()=>{var ke,Je,Ge;if(U==="solana"){try{if(!Oe){alert("OneKey Solana wallet is not available. Please ensure OneKey wallet is installed and unlocked.");return}console.log("[OneKey Debug] Connecting to Solana...");const Xe=await dje();console.log("[OneKey Debug] Solana address received:",Xe),Xe&&typeof Xe=="string"&&(H([Xe]),r(Xe),console.log("[OneKey Debug] Solana connection successful"))}catch(Xe){console.error("[OneKey Debug] Solana connection error:",Xe),Xe.code===4001||(ke=Xe.message)!=null&&ke.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to OneKey Solana: ${Xe.message||"Unknown error"}`)}return}if(U==="bitcoin"){try{if(!Ne){alert("OneKey Bitcoin wallet is not available. Please ensure OneKey wallet is installed and switched to Bitcoin network.");return}console.log("[OneKey Debug] Connecting to Bitcoin...");const Xe=await F7e();console.log("[OneKey Debug] Bitcoin address received:",Xe),Xe&&typeof Xe=="string"&&(H([Xe]),r(Xe),console.log("[OneKey Debug] Bitcoin connection successful"))}catch(Xe){if(console.error("[OneKey Debug] Bitcoin connection error:",Xe),Xe.code===4001||(Je=Xe.message)!=null&&Je.includes("rejected"))alert("User rejected the Bitcoin connection request.");else{const We=Xe.message||"Unknown error";alert(`Failed to connect to OneKey Bitcoin: ${We}

Please ensure your OneKey wallet is unlocked and switched to Bitcoin network.`)}}return}if(!xe){alert("OneKey wallet is not installed. Please install OneKey wallet extension.");return}try{const Xe=((Ge=window.$onekey)==null?void 0:Ge.ethereum)||window.ethereum;if(!Xe){alert("OneKey wallet provider not found. Please ensure OneKey wallet is installed and enabled.");return}const We=await Xe.request({method:"eth_requestAccounts"});if(We&&We.length>0){const St=We.filter(jt=>jt&&typeof jt=="string");St.length>0&&(H(St),St.length===1&&r(St[0]))}de?(await I({connector:de}),await new Promise(St=>setTimeout(St,300))):alert("OneKey connector not found. Please ensure OneKey wallet is installed.")}catch(Xe){Xe.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to OneKey:",Xe),alert(`Failed to connect to OneKey: ${Xe.message||"Unknown error"}`))}},we=async()=>{var ke;if(U==="solana"){try{if(!vh()){alert("Binance Solana wallet is not available. Please ensure Binance wallet is installed and unlocked.");return}console.log("[Binance Debug] Connecting to Solana...");const Je=await fje();console.log("[Binance Debug] Solana address received:",Je),Je&&typeof Je=="string"&&(H([Je]),r(Je),console.log("[Binance Debug] Solana connection successful"))}catch(Je){console.error("[Binance Debug] Solana connection error:",Je),Je.code===4001||(ke=Je.message)!=null&&ke.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Binance Solana: ${Je.message||"Unknown error"}`)}return}if(!Se)if(console.log("[Binance Debug] Not immediately available, checking with polling..."),await n3(3e3,100))W(!0),console.log("[Binance Debug] Binance wallet detected via polling!");else{alert("Binance wallet is not installed. Please install Binance wallet extension.");return}try{let Je=qW();if(console.log("[Binance Debug] Initial provider check:",Je?"Found":"Not found"),console.log("[Binance Debug] window.binancew3w:",window.binancew3w),console.log("[Binance Debug] window.BinanceChain:",window.BinanceChain),Je||(console.log("[Binance Debug] Provider not immediately available, waiting..."),await n3(3e3,100)&&(Je=qW(),W(!0),console.log("[Binance Debug] Provider found after polling:",Je?"Yes":"No"))),!Je){alert("Binance wallet provider not found. Please ensure Binance wallet is installed and enabled.");return}const Ge=await Je.request({method:"eth_requestAccounts"});if(Ge&&Ge.length>0){const Xe=Ge.filter(We=>We&&typeof We=="string"&&We.trim().length>0);Xe.length>0&&(H(Xe),Xe.length===1&&r(Xe[0]))}de?(await I({connector:de}),await new Promise(Xe=>setTimeout(Xe,300))):alert("Binance connector not found. Please ensure Binance wallet is installed.")}catch(Je){Je.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Binance:",Je),alert(`Failed to connect to Binance: ${Je.message||"Unknown error"}`))}},_t=async()=>{var ke,Je,Ge,Xe;if(U==="solana"){try{if(!e3()){alert("Bitget Solana wallet is not available. Please ensure Bitget wallet is installed and unlocked.");return}console.log("[Bitget Debug] Connecting to Solana...");const We=await pje();console.log("[Bitget Debug] Solana address received:",We),We&&typeof We=="string"&&(H([We]),r(We),console.log("[Bitget Debug] Solana connection successful"))}catch(We){console.error("[Bitget Debug] Solana connection error:",We),We.code===4001||(ke=We.message)!=null&&ke.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Bitget Solana: ${We.message||"Unknown error"}`)}return}if(U==="bitcoin"){try{const We=window.bitkeep,St=!!(We!=null&&We.isBitKeep||(Je=We==null?void 0:We.ethereum)!=null&&Je.isBitEthereum),jt=(We==null?void 0:We.unisat)||St&&!window.$onekey&&window.unisat;if(!jt){alert(`Bitget Bitcoin wallet is not available. Please ensure:
1. Bitget wallet extension is unlocked
2. Bitget wallet is switched to Bitcoin network
3. You have a Bitcoin account in Bitget

After switching to Bitcoin network in Bitget, refresh this page and try again.`);return}console.log("[Bitget Debug] Connecting to Bitcoin...");const qt=await jt.requestAccounts();if(qt&&qt.length>0){const lr=qt[0];H(qt),r(lr),console.log("[Bitget Debug] Bitcoin connection successful:",lr)}else throw new Error("No accounts returned from Bitget Bitcoin wallet")}catch(We){console.error("[Bitget Debug] Bitcoin connection error:",We),We.code===4001||(Ge=We.message)!=null&&Ge.includes("rejected")||(Xe=We.message)!=null&&Xe.includes("User rejected")?alert("User rejected the Bitcoin connection request."):alert(`Failed to connect to Bitget Bitcoin: ${We.message||"Unknown error"}

Please ensure:
1. Bitget wallet extension is unlocked
2. Bitget wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in Bitget

After switching to Bitcoin network in Bitget, refresh this page and try again.`)}return}if(!Ee)if(console.log("[Bitget Debug] Not immediately available, checking with polling..."),await FW(3e3,100))console.log("[Bitget Debug] Bitget wallet detected via polling!");else{alert("Bitget wallet is not installed. Please install Bitget wallet extension.");return}try{let We=LW();if(console.log("[Bitget Debug] Initial provider check:",We?"Found":"Not found"),console.log("[Bitget Debug] window.bitkeep:",window.bitkeep),We||(console.log("[Bitget Debug] Provider not immediately available, waiting..."),await FW(3e3,100)&&(We=LW(),console.log("[Bitget Debug] Provider found after polling:",We?"Yes":"No"))),!We){alert("Bitget wallet provider not found. Please ensure Bitget wallet is installed and enabled.");return}const St=await We.request({method:"eth_requestAccounts"});if(St&&St.length>0){const jt=St.filter(qt=>qt&&typeof qt=="string"&&qt.trim().length>0);jt.length>0&&(H(jt),jt.length===1&&r(jt[0]))}de?(await I({connector:de}),await new Promise(jt=>setTimeout(jt,300))):alert("Bitget connector not found. Please ensure Bitget wallet is installed.")}catch(We){We.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Bitget:",We),alert(`Failed to connect to Bitget: ${We.message||"Unknown error"}`))}},gt=async()=>{var ke,Je;if(U==="solana"){try{if(!t3()){alert("TokenPocket Solana wallet is not available. Please ensure TokenPocket wallet is installed and unlocked.");return}console.log("[TokenPocket Debug] Connecting to Solana...");const Ge=await gje();console.log("[TokenPocket Debug] Solana address received:",Ge),Ge&&typeof Ge=="string"&&(H([Ge]),r(Ge),console.log("[TokenPocket Debug] Solana connection successful"))}catch(Ge){console.error("[TokenPocket Debug] Solana connection error:",Ge),Ge.code===4001||(ke=Ge.message)!=null&&ke.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to TokenPocket Solana: ${Ge.message||"Unknown error"}`)}return}if(!V)if(console.log("[TokenPocket Debug] Not immediately available, checking with polling..."),await zW(3e3,100))console.log("[TokenPocket Debug] TokenPocket wallet detected via polling!");else{alert("TokenPocket wallet is not installed. Please install TokenPocket wallet extension.");return}try{let Ge=$W();if(console.log("[TokenPocket Debug] Initial provider check:",Ge?"Found":"Not found"),console.log("[TokenPocket Debug] window.ethereum.isTokenPocket:",(Je=window.ethereum)==null?void 0:Je.isTokenPocket),Ge||(console.log("[TokenPocket Debug] Provider not immediately available, waiting..."),await zW(3e3,100)&&(Ge=$W(),console.log("[TokenPocket Debug] Provider found after polling:",Ge?"Yes":"No"))),!Ge){alert("TokenPocket wallet provider not found. Please ensure TokenPocket wallet is installed and enabled.");return}const Xe=await Ge.request({method:"eth_requestAccounts"});if(Xe&&Xe.length>0){const We=Xe.filter(St=>St&&typeof St=="string"&&St.trim().length>0);We.length>0&&(H(We),We.length===1&&r(We[0]))}de?(await I({connector:de}),await new Promise(We=>setTimeout(We,300))):alert("TokenPocket connector not found. Please ensure TokenPocket wallet is installed.")}catch(Ge){Ge.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to TokenPocket:",Ge),alert(`Failed to connect to TokenPocket: ${Ge.message||"Unknown error"}`))}},Ct=async()=>{if(U!=="ethereum"){alert("Rainbow Wallet only supports Ethereum network. Please switch to Ethereum chain type.");return}if(!mt){alert("Rainbow Wallet is not installed. Please install Rainbow Wallet extension.");return}try{const ke=window.ethereum;if(!ke){alert("Ethereum provider not found.");return}const Je=await ke.request({method:"eth_requestAccounts"});if(Je&&Je.length>0){const Ge=Je.filter(Xe=>Xe&&typeof Xe=="string"&&Xe.trim().length>0);Ge.length>0&&(H(Ge),Ge.length===1&&r(Ge[0]))}de&&(await I({connector:de}),await new Promise(Ge=>setTimeout(Ge,300)))}catch(ke){ke.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Rainbow Wallet:",ke),alert(`Failed to connect to Rainbow Wallet: ${ke.message||"Unknown error"}`))}},Ut=async()=>{var ke,Je;if(U==="solana"){try{if(!NW()){alert("Coinbase Wallet Solana wallet is not available. Please ensure Coinbase Wallet is installed and unlocked.");return}console.log("[Coinbase Wallet Debug] Connecting to Solana...");const Ge=await yje();console.log("[Coinbase Wallet Debug] Solana address received:",Ge),Ge&&typeof Ge=="string"&&(H([Ge]),r(Ge),console.log("[Coinbase Wallet Debug] Solana connection successful"))}catch(Ge){console.error("[Coinbase Wallet Debug] Solana connection error:",Ge),Ge.code===4001||(ke=Ge.message)!=null&&ke.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Coinbase Wallet Solana: ${Ge.message||"Unknown error"}`)}return}if(!nt)if(console.log("[Coinbase Wallet Debug] Not immediately available, checking with polling..."),await WW(3e3,100))console.log("[Coinbase Wallet Debug] Coinbase Wallet detected via polling!");else{alert("Coinbase Wallet is not installed. Please install Coinbase Wallet extension from the official Chrome Web Store (extension ID: hnfanknocfeofbddgcijnmhnfnkdnaad).");return}try{let Ge=UW();if(console.log("[Coinbase Wallet Debug] Initial provider check:",Ge?"Found":"Not found"),console.log("[Coinbase Wallet Debug] window.ethereum.isCoinbaseWallet:",(Je=window.ethereum)==null?void 0:Je.isCoinbaseWallet),Ge||(console.log("[Coinbase Wallet Debug] Provider not immediately available, waiting..."),await WW(3e3,100)&&(Ge=UW(),console.log("[Coinbase Wallet Debug] Provider found after polling:",Ge?"Yes":"No"))),!Ge){alert("Coinbase Wallet provider not found. Please ensure Coinbase Wallet is installed and enabled. Verify you're using the official extension from the Chrome Web Store.");return}const Xe=await Ge.request({method:"eth_requestAccounts"});if(Xe&&Xe.length>0){const St=Xe.filter(jt=>jt&&typeof jt=="string"&&jt.trim().length>0);St.length>0&&(H(St),St.length===1&&r(St[0]))}const We=O.find(St=>{var jt;return St.id==="injected"||((jt=St.name)==null?void 0:jt.toLowerCase().includes("coinbase"))});We?(await I({connector:We}),await new Promise(St=>setTimeout(St,300))):console.warn("Coinbase Wallet connector not found. Please ensure Coinbase Wallet is installed.")}catch(Ge){Ge.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Coinbase Wallet:",Ge),alert(`Failed to connect to Coinbase Wallet: ${Ge.message||"Unknown error"}`))}},Nt=async()=>{var ke,Je,Ge,Xe;if(!KW()){alert("OKX wallet is not installed. Please install OKX wallet extension.");return}try{let We,St=[];if(U==="ethereum"){const qt=Lu(),lr=ma(),di=qt&&lr,Sn=XW();if(!Sn)if(di&&window.ethereum)console.log("[OKX Debug] Multi-chain OKX detected, using window.ethereum as OKX provider");else{alert(`OKX Ethereum provider is not available. Please ensure:
1. OKX wallet extension is installed and unlocked
2. OKX wallet is switched to Ethereum network
3. You have an Ethereum account in OKX

If OKX is detected for Solana/Bitcoin but Ethereum provider is missing, please switch OKX wallet to Ethereum network in the extension.`);return}console.log("[OKX Debug] Connecting to OKX Ethereum using OKX SDK..."),console.log("[OKX Debug] Multi-chain detection:",{hasOKXSolana:qt,hasOKXBitcoin:lr,hasOKXMultiChain:di}),console.log("[OKX Debug] Ethereum provider check:",{hasOKXEthereum:Sn,hasOkxwalletEthereum:!!((ke=window.okxwallet)!=null&&ke.ethereum),hasEthereumIsOKX:!!((Je=window.ethereum)!=null&&Je.isOKX),hasWindowEthereum:!!window.ethereum});try{We=await _7e(),St=[We]}catch(Ai){if(di&&window.ethereum){console.log("[OKX Debug] OKX SDK method failed, trying window.ethereum directly...");const Fr=await window.ethereum.request({method:"eth_requestAccounts"});if(Fr&&Fr.length>0)We=Fr[0],St=[Fr];else throw new Error("No accounts returned from OKX Ethereum wallet")}else throw Ai}de&&(await I({connector:de}),await new Promise(Ai=>setTimeout(Ai,300)))}else if(U==="solana"){if(!Lu()){alert("OKX Solana provider is not available. Please ensure OKX wallet is installed and switched to Solana network.");return}console.log("[OKX Debug] Connecting to OKX Solana using OKX SDK..."),We=await k7e(),St=[We]}else if(U==="bitcoin"){if(!ma()){alert(`OKX Bitcoin provider is not available. Please ensure:
1. OKX wallet extension is unlocked
2. OKX wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in OKX

After switching to Bitcoin network in OKX, refresh this page and try again.`);return}console.log("[OKX Debug] Connecting to OKX Bitcoin using OKX SDK..."),We=await QW(),St=[We]}else{alert(`Unsupported chain type: ${U}`);return}const jt=St.filter(qt=>!!(qt&&typeof qt=="string"&&qt.trim().length>0));if(jt.length>0)H(jt),We&&typeof We=="string"&&r(We),console.log(`[OKX Debug] Successfully connected to OKX ${U}:`,We);else throw new Error("No addresses returned from OKX wallet")}catch(We){if(We.code===4001||(Ge=We.message)!=null&&Ge.includes("rejected")||(Xe=We.message)!=null&&Xe.includes("User rejected"))alert("User rejected the OKX connection request.");else{console.error(`[OKX Debug] Error connecting to OKX ${U}:`,We);const St=We.message||"Unknown error";alert(`Failed to connect to OKX ${U}: ${St}

Please ensure:
1. OKX wallet extension is installed and unlocked
2. OKX wallet is switched to ${U} network
3. You have a ${U} account in OKX
4. Try refreshing the page and connecting again`)}}},tn=()=>{const ke=xe||Ae||Se||Te||He||typeof window<"u"&&window.ethereum,Je=ng()||ZW()||Lu()||vh(),Ge=xc()||Kp()||Ne;return ke||Je||Ge},Wt=()=>{var ke,Je,Ge;if(U==="ethereum"){if(xe)return{wallet:"OneKey",handler:it};const Xe=Lu(),We=ma();if(Xe&&We||Ae)return{wallet:"OKX",handler:Nt};if(Ee)return{wallet:"Bitget",handler:_t};if(Ie)return{wallet:"TokenPocket",handler:gt};if(nt)return{wallet:"Coinbase Wallet",handler:Ut};if(mt)return{wallet:"Rainbow",handler:Ct};if(Se)return{wallet:"Binance",handler:we};if(Te)return{wallet:"MetaMask",handler:Qe};if(He)return{wallet:"Phantom",handler:ot}}else if(U==="solana"){if(He)return{wallet:"Phantom",handler:ot};if(Oe)return{wallet:"OneKey",handler:it};if(Lu())return{wallet:"OKX",handler:Nt};if(e3())return{wallet:"Bitget",handler:_t};if(Ye||t3())return{wallet:"TokenPocket",handler:gt};const Xe=NW();if(console.log("[Coinbase Wallet Debug] Solana detection in getBestWallet:",{isCoinbaseWalletSolanaDetected:Ue,isCoinbaseWalletSolanaAvailable:Xe,windowCoinbaseSolana:!!window.coinbaseSolana,coinbaseSolanaObject:window.coinbaseSolana?{hasConnect:typeof window.coinbaseSolana.connect=="function",hasDisconnect:typeof window.coinbaseSolana.disconnect=="function",hasSignMessage:typeof window.coinbaseSolana.signMessage=="function",hasSignTransaction:typeof window.coinbaseSolana.signTransaction=="function",_storage:window.coinbaseSolana._storage,_storageScope:(ke=window.coinbaseSolana._storage)==null?void 0:ke.scope}:null}),Xe)return console.log("[Coinbase Wallet Debug] Coinbase Wallet Solana detected - returning handler"),{wallet:"Coinbase Wallet",handler:Ut};if(console.log("[Coinbase Wallet Debug] Coinbase Wallet Solana NOT detected"),vh())return{wallet:"Binance",handler:we}}else if(U==="bitcoin"){if(Ne)return{wallet:"OneKey",handler:it};if(ma())return{wallet:"OKX",handler:Nt};const Xe=window.bitkeep;if(!!(Xe!=null&&Xe.isBitKeep||(Je=Xe==null?void 0:Xe.ethereum)!=null&&Je.isBitEthereum)&&(!!(Xe!=null&&Xe.unisat)||!window.$onekey&&!!window.unisat))return{wallet:"Bitget",handler:_t};if(xc())return{wallet:((Ge=td())==null?void 0:Ge.name)||"Bitcoin Wallet",handler:De}}return null},at=async()=>{const ke=Wt();if(!ke){U==="ethereum"?alert("No Ethereum wallet detected. Please install MetaMask, Phantom, OneKey, OKX, Bitget, or Binance wallet."):U==="solana"?alert("No Solana wallet detected. Please install Phantom, OneKey, OKX, Bitget, or Binance wallet extension for Solana support."):U==="bitcoin"&&(Kp()?alert("OKX wallet detected, but Bitcoin provider is not available. Please switch OKX wallet to Bitcoin network in the extension, then refresh this page."):alert("No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension."));return}await ke.handler()};return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Agent Delegation"}),g.jsx("p",{children:"Approve an agent private key to act on behalf of the owner wallet"}),g.jsxs("div",{className:`agent-delegation-step ${rt?"connected":""}`,children:[g.jsxs("h4",{children:["Step 1: Connect Wallet ",ne&&(Le||(Pe||_e)&&e)&&""]}),rt?R.length>0&&!ne?g.jsxs("div",{children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"Connected:"})," ",se||"Wallet"]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressSelect",children:"Select an address to use:"}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:R.filter(ke=>ke&&typeof ke=="string").map(ke=>g.jsx("button",{className:`button ${(e==null?void 0:e.toLowerCase())===(ke==null?void 0:ke.toLowerCase())?"":"secondary"}`,onClick:()=>r(ke),style:{textAlign:"left",justifyContent:"flex-start",fontFamily:"monospace",fontSize:"0.9rem"},children:ke},ke))})]}),g.jsx("button",{className:"button secondary",onClick:async()=>{if(U==="solana"){const ke=pa();if(ke&&ke.isConnected)try{await ke.disconnect()}catch(We){console.error("Error disconnecting OneKey Solana:",We)}const Je=Nc();if(Je&&Je.isConnected)try{await Je.disconnect()}catch(We){console.error("Error disconnecting Phantom Solana:",We)}const Ge=Lo();if(Ge&&Ge.isConnected)try{await Ge.disconnect()}catch(We){console.error("Error disconnecting OKX Solana:",We)}const Xe=gs();if(Xe&&Xe.isConnected)try{await Xe.disconnect()}catch(We){console.error("Error disconnecting Binance Solana:",We)}}else U==="ethereum"&&$();H([]),r("")},style:{marginTop:"1rem"},children:"Disconnect"})]}):g.jsxs("div",{className:"agent-delegation-connected-info",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Connected:"})," ",se||(_e?((Mp=td())==null?void 0:Mp.name)||"Bitcoin Wallet":null),Pe&&g.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.9rem",opacity:.8},children:"(Solana)"}),_e&&g.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.9rem",opacity:.8},children:"(Bitcoin)"}),(Le||(Pe||_e)&&e)&&g.jsxs("div",{className:"agent-delegation-address",children:["Address: ",Le||e]})]}),g.jsx("button",{className:"button secondary",onClick:async()=>{if(U==="solana"||Pe){const ke=Nc();if(ke&&ke.isConnected)try{await ke.disconnect()}catch(Xe){console.error("Error disconnecting Phantom Solana:",Xe)}const Je=Lo();if(Je&&Je.isConnected)try{await Je.disconnect()}catch(Xe){console.error("Error disconnecting OKX Solana:",Xe)}const Ge=gs();if(Ge&&Ge.isConnected)try{await Ge.disconnect()}catch(Xe){console.error("Error disconnecting Binance Solana:",Xe)}}else U==="bitcoin"||_e?console.log("[Bitcoin Debug] Disconnecting Bitcoin wallet"):$();H([]),r("")},children:"Disconnect"})]}):g.jsx("div",{children:tn()?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[g.jsx("label",{htmlFor:"connectionChainType",style:{marginBottom:"0.5rem",display:"block"},children:g.jsx("strong",{children:"Select Chain Type:"})}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[g.jsx("button",{className:`button ${U==="ethereum"?"":"secondary"}`,onClick:()=>K("ethereum"),style:{flex:1,minWidth:"100px"},children:"Ethereum"}),(ng()||Oe||Lu()||vh())&&g.jsx("button",{className:`button ${U==="solana"?"":"secondary"}`,onClick:()=>K("solana"),style:{flex:1,minWidth:"100px"},children:"Solana"}),(xc()||Kp())&&g.jsx("button",{className:`button ${U==="bitcoin"?"":"secondary"}`,onClick:()=>K("bitcoin"),style:{flex:1,minWidth:"100px"},children:"Bitcoin"})]}),g.jsx("small",{className:"agent-delegation-small-text",style:{display:"block",marginTop:"0.5rem"},children:U==="ethereum"?"Connect to Ethereum network (MetaMask, Phantom Ethereum, OneKey, OKX, Binance)":U==="solana"?"Connect to Solana network (Phantom Solana, OneKey Solana, OKX Solana, Binance Solana)":"Connect to Bitcoin network (OneKey, Unisat, Xverse, OKX). If using OKX, ensure it's switched to Bitcoin network."})]}),g.jsx("div",{className:"agent-delegation-wallet-buttons",children:(()=>{var Je;const ke=Wt();return ke?g.jsx("button",{className:"button",onClick:at,disabled:F||U==="ethereum"&&!de,children:F?"Connecting...":`Connect ${ke.wallet}${U!=="ethereum"?` (${U.charAt(0).toUpperCase()+U.slice(1)})`:""}`}):U==="ethereum"?g.jsx("p",{className:"agent-delegation-error-message",children:"No Ethereum wallet detected. Please install MetaMask, Phantom, OneKey, OKX, Rainbow, or Binance wallet."}):U==="solana"?g.jsx("p",{className:"agent-delegation-error-message",children:"No Solana wallet detected. Please install Phantom, OneKey, OKX, Bitget, or Binance wallet extension for Solana support."}):U==="bitcoin"?g.jsx("p",{className:"agent-delegation-error-message",children:Kp()||(Je=window.bitkeep)!=null&&Je.isBitKeep?"Wallet detected, but Bitcoin provider is not available. Please switch your wallet to Bitcoin network in the extension, then refresh this page.":"No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension."}):null})()})]}):g.jsxs("div",{className:"agent-delegation-wallet-buttons",children:[g.jsx("p",{className:"agent-delegation-error-message",style:{marginBottom:"1rem"},children:g.jsx("strong",{children:"No wallet detected"})}),g.jsx("p",{className:"agent-delegation-error-message",children:"Please install a compatible wallet extension to continue:"}),g.jsxs("ul",{style:{textAlign:"left",marginTop:"0.5rem",marginBottom:"1rem"},children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Ethereum:"})," MetaMask, Phantom, OneKey, OKX, Rainbow, Bitget, or Binance wallet"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Solana:"})," Phantom, OneKey, OKX, Bitget, or Binance wallet"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Bitcoin:"})," OneKey, OKX, Bitget, Unisat, or Xverse wallet"]})]}),g.jsx("p",{className:"agent-delegation-small-text",style:{marginTop:"0.5rem"},children:"After installing a wallet, refresh this page to connect."})]})})]}),ne&&(Le||(Pe||_e)&&e)?g.jsxs("div",{className:`agent-delegation-step ${Ke?"connected":""}`,children:[g.jsxs("h4",{children:["Step 2: Configure Agent Delegation ",Ke&&""]}),ae&&g.jsx("div",{style:{padding:"0.75rem",marginBottom:"1rem",background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"8px",color:"rgba(76, 175, 80, 0.9)",fontSize:"0.9rem"},children:" Agent credentials restored from previous session"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"ownerAddress",children:"Owner Address:"}),g.jsx("input",{id:"ownerAddress",type:"text",value:Le||e,readOnly:!0,style:{fontFamily:"monospace",fontSize:"0.9rem",backgroundColor:"rgba(255, 255, 255, 0.05)",cursor:"not-allowed"}}),g.jsxs("small",{className:"agent-delegation-small-text",children:["This address is from your connected ",se||"wallet"," extension",Pe?" (Solana)":_e?" (Bitcoin)":Le?" (Ethereum)":"","."]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentAddress",children:"Agent Address:"}),g.jsxs("div",{className:"agent-delegation-input-group",children:[g.jsx("input",{id:"agentAddress",type:"text",value:i,onChange:ke=>s(ke.target.value),placeholder:"0x...",className:"agent-delegation-input-flex"}),g.jsx("button",{className:"button secondary agent-delegation-button-compact",onClick:y,disabled:b||!M,children:"Generate Keypair"})]})]}),o&&g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentPrivateKey",children:"Agent Private Key (save securely):"}),g.jsx("input",{id:"agentPrivateKey",type:"text",value:o,readOnly:!0,className:"agent-delegation-private-key"}),g.jsxs("div",{style:{marginTop:"0.5rem"},children:[g.jsx("button",{className:"button secondary",onClick:()=>{v(),ge(!1)},style:{fontSize:"0.85rem",padding:"0.5rem 1rem"},children:"Clear Agent Credentials"}),g.jsx("small",{className:"agent-delegation-small-text",style:{display:"block",marginTop:"0.5rem"},children:"Credentials are stored in browser session storage and will be cleared when browser closes."})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentName",children:"Agent Name (optional):"}),g.jsx("input",{id:"agentName",type:"text",value:d,onChange:ke=>h(ke.target.value),placeholder:"enter you agent name"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"expiresInDays",children:"Expires In Days:"}),g.jsx("input",{id:"expiresInDays",type:"number",value:a,onChange:ke=>l(parseInt(ke.target.value)||180),min:"1",max:"365"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"permissions",children:"Permissions (comma-separated):"}),g.jsx("input",{id:"permissions",type:"text",value:c,onChange:ke=>u(ke.target.value),placeholder:"clob::submit_order,clob::cancel_order"}),g.jsx("small",{className:"agent-delegation-small-text",children:"Example: clob::submit_order, clob::cancel_order, clob::modify_order"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"nonce",children:"Nonce:"}),g.jsx("input",{id:"nonce",type:"text",value:f,onChange:ke=>p(ke.target.value),placeholder:Date.now().toString()})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 2: Configure Agent Delegation"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:rt&&!ne?"Please select an address in Step 1 to continue.":"Please connect a wallet extension in Step 1 to continue."})]}),Ke?g.jsxs("div",{className:"agent-delegation-step",children:[g.jsx("h4",{children:"Step 3: Prepare and Sign Agent Approval"}),g.jsxs("div",{className:"agent-delegation-button-group",children:[w&&g.jsx("button",{className:"button",onClick:ie,disabled:G||!z||!i,children:G?"Signing with MetaMask...":"Sign Agent Approval (MetaMask)"}),(_||U==="solana"&&Pe&&!((Op=pa())!=null&&Op.isConnected)&&!((Zn=Lo())!=null&&Zn.isConnected)&&!((Kr=sl())!=null&&Kr.isConnected)&&!((Nr=gs())!=null&&Nr.isConnected))&&g.jsx("button",{className:"button",onClick:ie,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with Phantom...":U==="solana"?"Sign Agent Approval (Phantom Solana)":"Sign Agent Approval (Phantom)"}),(x||U==="solana"&&Pe&&((Dp=pa())==null?void 0:Dp.isConnected)||U==="bitcoin"&&_e&&Ne)&&g.jsx("button",{className:"button",onClick:ie,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with OneKey...":U==="solana"?"Sign Agent Approval (OneKey Solana)":U==="bitcoin"?"Sign Agent Approval (OneKey Bitcoin)":"Sign Agent Approval (OneKey)"}),U==="solana"&&Pe&&((wu=sl())==null?void 0:wu.isConnected)&&g.jsx("button",{className:"button",onClick:ie,disabled:G||!i||!e,children:G?"Signing with Bitget...":"Sign Agent Approval (Bitget Solana)"}),U==="solana"&&Pe&&((lh=gs())==null?void 0:lh.isConnected)&&g.jsx("button",{className:"button",onClick:ie,disabled:G||!i||!e,children:G?"Signing with Binance...":"Sign Agent Approval (Binance Solana)"}),(S||U==="solana"&&Pe&&((ch=Lo())==null?void 0:ch.isConnected)&&!((uh=sl())!=null&&uh.isConnected)&&!((dh=gs())!=null&&dh.isConnected)||U==="bitcoin"&&_e&&ma())&&g.jsx("button",{className:"button",onClick:ie,disabled:G||!z&&U==="ethereum"||!i||!e,children:G?"Signing with OKX...":`Sign Agent Approval (OKX${U==="ethereum"?"":` ${U}`})`}),C&&g.jsx("button",{className:"button",onClick:ie,disabled:G||!z||!i,children:G?"Signing with Binance...":"Sign Agent Approval (Binance)"}),E&&g.jsx("button",{className:"button",onClick:ie,disabled:G||!z||!i,children:G?"Signing with Bitget...":"Sign Agent Approval (Bitget)"}),T&&g.jsx("button",{className:"button",onClick:ie,disabled:G||!z||!i,children:G?"Signing with Rainbow...":"Sign Agent Approval (Rainbow)"}),(U==="ethereum"&&Ie&&D||U==="solana"&&Pe&&Ye&&((xu=_y())==null?void 0:xu.isConnected))&&g.jsx("button",{className:"button",onClick:ie,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with TokenPocket...":`Sign Agent Approval (TokenPocket${U==="ethereum"?"":` ${U}`})`}),(U==="ethereum"&&nt&&D||U==="solana"&&Pe&&Ue&&((Rp=Dh())==null?void 0:Rp.isConnected))&&g.jsx("button",{className:"button",onClick:ie,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with Coinbase Wallet...":`Sign Agent Approval (Coinbase Wallet${U==="ethereum"?"":` ${U}`})`}),!w&&!(_||U==="solana"&&Pe&&!((Xa=pa())!=null&&Xa.isConnected)&&!((Xl=Lo())!=null&&Xl.isConnected)&&!((_u=sl())!=null&&_u.isConnected)&&!((la=gs())!=null&&la.isConnected))&&!(x||U==="solana"&&Pe&&((fs=pa())!=null&&fs.isConnected)||U==="bitcoin"&&_e&&Ne)&&!(U==="solana"&&Pe&&((Np=sl())!=null&&Np.isConnected))&&!(U==="solana"&&Pe&&((Ft=gs())!=null&&Ft.isConnected))&&!(S||U==="solana"&&Pe&&((xo=Lo())!=null&&xo.isConnected)&&!((_o=sl())!=null&&_o.isConnected)&&!((Su=gs())!=null&&Su.isConnected)||U==="bitcoin"&&_e&&ma())&&!C&&!E&&!T&&!(U==="ethereum"&&Ie&&D||U==="solana"&&Pe&&Ye&&((ku=_y())!=null&&ku.isConnected))&&!(U==="ethereum"&&nt&&D||U==="solana"&&Pe&&Ue&&((fr=Dh())!=null&&fr.isConnected))&&g.jsx("button",{className:"button",onClick:ie,disabled:G||!i||!e||U==="ethereum"&&!z&&!Le,children:G?"Signing...":`Sign Agent Approval${se?` (${se})`:""}`})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 3: Prepare and Sign Agent Approval"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 1 (connect wallet) and Step 2 (configure addresses) to continue."})]}),(m||Y)&&g.jsx("div",{className:`output ${(jp=m||Y)!=null&&jp.success?"success":"error"}`,children:(Cu=m||Y)!=null&&Cu.success?g.jsxs(g.Fragment,{children:[((Bp=m||Y)==null?void 0:Bp.signature)&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Agent Approval Signature:"}),g.jsx("br",{}),(Me=m||Y)==null?void 0:Me.signature,g.jsx("br",{}),g.jsx("br",{})]}),((Et=m||Y)==null?void 0:Et.typedData)&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"EIP-712 Typed Data:"}),g.jsx("br",{}),g.jsx("pre",{className:"agent-delegation-pre",children:JSON.stringify((Jt=m||Y)==null?void 0:Jt.typedData,null,2)}),g.jsx("br",{}),g.jsx("strong",{children:"Usage:"}),g.jsx("br",{}),"Signature received from wallet. The typed data structure is shown above."]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),(Hs=m||Y)==null?void 0:Hs.error]})})]})}function U7e({status:n}){const e=()=>n.loading?"loading":n.loaded?"success":n.error?"error":"loading",r=()=>n.loading?"Loading WASM...":n.loaded?"WASM Ready":n.error?"WASM Error":"Unknown";return g.jsxs("div",{className:"App-section",children:[g.jsx("h3",{children:"WASM Status"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[g.jsx("span",{className:`status ${e()}`,children:r()}),n.loading&&g.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"Initializing WebAssembly module..."}),n.loaded&&g.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"morm_signer.wasm loaded successfully"}),n.error&&g.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:n.error})]})]})}function mp(n,e=2,r=2,i="0.00"){return n==null||isNaN(n)?i:n.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:r})}function $k(n){return n==null||isNaN(n)?"--":mp(n,2,2,"--")}function rg(n){return n==null||isNaN(n)?"--":mp(n,2,8,"--")}function zk(n){return n==null||isNaN(n)?"0.000":mp(n,3,3,"0.000")}function W7e(n){return n==null||isNaN(n)?"0":mp(n,3,8,"0")}function q7e(n){return n==null||isNaN(n)?"0.00":mp(n,2,2,"0.00")}function H7e(n){return n==null||isNaN(n)?"0.00":mp(n,2,2,"0.00")}function rr(n){return n==null||isNaN(n)?"0.00":mp(n,2,2,"0.00")}function dw(n){return n==null||isNaN(n)?"0%":`${(n*100).toFixed(2)}%`}function V7e(n){if(n==null)return"0";if(typeof n=="string"){const e=n.trim();if(e===""||isNaN(Number(e)))return"0";const r=e.includes(".")?Math.floor(Number(e)).toString():e;try{return It(r).toFixed(8).replace(/\.?0+$/,"")}catch{return"0"}}if(typeof n=="number"){if(isNaN(n)||!isFinite(n))return"0";const e=Math.floor(n).toString();try{return It(e).toFixed(8).replace(/\.?0+$/,"")}catch{return"0"}}return"0"}function Rh(n){if(n==null||typeof n=="string"&&(n.trim()===""||isNaN(Number(n))))return"--";try{const r=V7e(n).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")}catch{return"--"}}function spe(n,e="--"){if(n==null)return e;try{return(typeof n=="string"||typeof n=="number"?It(typeof n=="string"?n:String(n)):0).toFixed(2).replace(/\.?0+$/,"")}catch{return e}}function o3(n,e="0%"){if(n==null)return e;if(typeof n=="string"){const r=n.trim();if(r===""||isNaN(Number(r)))return e;const i=r.includes(".")?Math.floor(Number(r)).toString():r;try{const s=It(i);return dw(s)}catch{return e}}if(typeof n=="number"){if(isNaN(n)||!isFinite(n))return e;const r=Math.floor(n).toString();try{const i=It(r);return dw(i)}catch{return e}}return e}function eq(n){return isNaN(n)?"0":n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toFixed(2)}function G7e(n,e=6,r=4,i="--"){return!n||typeof n!="string"?i:n.length<=e+r?n:`${n.slice(0,e)}...${n.slice(-r)}`}const gp="https://router.morpheum.io",eh="wss://router.morpheum.io/websocket",HC="ios-device-1234567890",Y7e=({isRunning:n,onClick:e})=>g.jsx("button",{onClick:e,disabled:n,style:{color:"#fff",backgroundColor:n?"#ccc":"#007bff",cursor:n?"not-allowed":"pointer"},children:n?"Running Tests...":"Run All Tests"}),K7e=({mnemonic:n,baseURL:e,onboardLoading:r,isRunning:i,onOnboard:s})=>{const o=r||i||!n||n.trim()==="";return g.jsx("button",{onClick:()=>{n&&n.trim()!==""&&s(n,e)},disabled:o,style:{color:o?"#ccc":"#fff",backgroundColor:o?"#ccc":"#28a745",cursor:o?"not-allowed":"pointer"},children:r?"Running Authentication Flow...":"Authentication Flow"})},X7e=({isRunning:n,onClick:e})=>g.jsx("button",{onClick:e,disabled:n,style:{color:n?"#ccc":"#fff",backgroundColor:n?"#ccc":"#dc3545",cursor:n?"not-allowed":"pointer"},children:"Clear Results"}),Q7e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#17a2b8",cursor:i?"not-allowed":"pointer"},children:e?"Running Utility Tests...":"Utility Test"})},J7e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#6f42c1",cursor:i?"not-allowed":"pointer"},children:e?"Running Info Client Tests...":"Info Client Test"})},Z7e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#fd7e14",cursor:i?"not-allowed":"pointer"},children:e?"Running Wallet Specific Tests...":"Wallet Specific Test"})},e9e=({mnemonic:n,isRunning:e,isLoading:r,onClick:i})=>{const s=n&&n.trim()!=="",o=r||e||!s;return g.jsx("button",{onClick:()=>{s&&i()},disabled:o,style:{color:o?"#ccc":"#fff",backgroundColor:o?"#ccc":"#e83e8c",cursor:o?"not-allowed":"pointer"},title:s?"":"Mnemonic is required for Exchange Client tests",children:r?"Running Exchange Client Tests...":"Exchange Client Test"})},t9e=({onClick:n})=>g.jsx("button",{onClick:n,className:"sdk-test-button-dismiss",children:"Dismiss"}),n9e=({result:n})=>g.jsxs("div",{className:`sdk-test-result-item ${n.success?"success":"error"}`,children:[g.jsxs("div",{className:"sdk-test-result-content",children:[g.jsxs("div",{className:"sdk-test-result-message",children:[n.success?"":""," ",n.message]}),n.error&&g.jsxs("div",{className:"sdk-test-result-error",children:["Error: ",n.error]}),n.data&&g.jsxs("details",{className:"sdk-test-result-data",children:[g.jsx("summary",{children:"View Data"}),g.jsx("pre",{children:JSON.stringify(n.data,null,2)})]})]}),g.jsx("div",{className:"sdk-test-result-timestamp",children:new Date(n.timestamp).toLocaleTimeString()})]}),r9e=({sectionName:n,isExpanded:e,onToggle:r})=>g.jsxs("h2",{className:"sdk-test-section-header",onClick:r,children:[g.jsx("span",{children:n}),g.jsx("span",{className:"sdk-test-section-chevron",children:e?"":""})]});function i9e(){var Oe,Ne,Ae,Se;const[n,e]=A.useState(gp),[r,i]=A.useState(""),[s,o]=A.useState(""),[a,l]=A.useState(""),[c,u]=A.useState(HC),[d,h]=A.useState({}),[f,p]=A.useState(!1),[m,b]=A.useState(!1),[y,v]=A.useState(!1),[w,_]=A.useState(!1),[x,S]=A.useState(!1),[C,E]=A.useState(!1),[T,M]=A.useState(new Set),I=A.useRef(null),O=A.useRef(null),F=A.useRef(n),$=A.useRef([]),z=A.useRef(""),{markets:D,fetchMarkets:j}=Ul({baseURL:n,sessionToken:s,autoFetchMarkets:!1}),{mnemonic:N,walletAddress:R,authToken:H,error:U,clearError:K,setMnemonic:Y}=pu();A.useEffect(()=>{N||Y(zC)},[N,Y]);const J=A.useRef(N||"");A.useEffect(()=>{J.current=N||""},[N]);const G=A.useMemo(()=>new p0({url:eh,authToken:s||a||void 0,walletAddress:R||void 0,deviceID:c||void 0}),[s,a,R,c]),{buckets:X,loading:ae,error:ge,refresh:le}=p9({subscriptionClient:G,baseURL:n,authToken:s||a,walletAddress:R,refreshInterval:0,useWebSocket:!1,marketId:"0"});A.useEffect(()=>{H&&(l(H),localStorage.setItem("authToken",H))},[H]),A.useEffect(()=>{a&&a.trim()!==""&&localStorage.setItem("authToken",a)},[a]);const ie=A.useRef(f);A.useEffect(()=>{ie.current===!0&&f===!1&&setTimeout(()=>{const W=Object.values(d).flatMap(pe=>pe.results),de=W.filter(pe=>pe.success).length,me=W.length,oe=me-de;me>0&&(oe===0?pt.success("All tests passed",{description:`${me} test(s) completed successfully.`,duration:5e3}):pt.warning("Tests completed with failures",{description:`${de}/${me} tests passed. ${oe} test(s) failed.`,duration:6e3}))},100),ie.current=f},[f,d]),A.useEffect(()=>{const W=localStorage.getItem("authToken");W&&!a&&l(W)},[]);const Te=D.length>0?(((Oe=D.find(W=>W.active))==null?void 0:Oe.market_id)??D[0].market_id)||(((Ae=(Ne=D.find(W=>W.active))==null?void 0:Ne.id)==null?void 0:Ae.toString())??((Se=D[0].id)==null?void 0:Se.toString())??""):null,Ee=Te??r;A.useEffect(()=>{Te&&r!==Te&&i(Te)},[Te]),A.useEffect(()=>{F.current=n},[n]);const V=(W,de)=>{h(me=>{const oe=me[W]||{name:W,results:[]};return{...me,[W]:{...oe,results:[...oe.results,de]}}})},Ie=()=>{h({}),M(new Set)},Ye=W=>{M(de=>{const me=new Set(de);return me.has(W)?me.delete(W):me.add(W),me})};A.useEffect(()=>{const W=Object.keys(d).filter(de=>d[de].results.length>0);W.length>0&&M(de=>{const me=new Set(de);return W.forEach(oe=>me.add(oe)),me})},[d]);const nt=()=>{const W="Utilities";V(W,{success:!0,message:"Testing utility functions...",timestamp:Date.now()});try{const de=_n(1);V(W,{success:de==="100000000",message:`toSatoshi(1.0) = ${de}`,data:{expected:"100000000",got:de},timestamp:Date.now()});const me=_n("1.5");V(W,{success:me==="150000000",message:`toSatoshi("1.5") = ${me}`,data:{expected:"150000000",got:me},timestamp:Date.now()});const oe=It("100000000");V(W,{success:oe===1,message:`fromSatoshi("100000000") = ${oe}`,data:{expected:1,got:oe},timestamp:Date.now()});const pe="64999999999986700000000",ye=It(pe),Z=649999999999867,ue=ye===Z;V(W,{success:ue,message:`fromSatoshi("${pe}") = ${ye}`,data:{expected:Z,got:ye,difference:Math.abs(ye-Z),isPrecise:ue},timestamp:Date.now()});const ce="64999999999986700000000",Ce=$t(ce),Re=649999999999867,he=Ce===Re;V(W,{success:he,message:`toNumberFromSatoshi("${ce}") = ${Ce}`,data:{expected:Re,got:Ce,difference:Math.abs(Ce-Re),isPrecise:he},timestamp:Date.now()});const Pe=I7(1);V(W,{success:Pe===1e8,message:`toSatoshiUint64(1.0) = ${Pe}`,data:{expected:1e8,got:Pe},timestamp:Date.now()});const _e=OR("100000000"),re=OR("abc");V(W,{success:_e&&!re,message:`isValidSatoshi tests: "100000000"=${_e}, "abc"=${re}`,data:{valid1:_e,valid2:re},timestamp:Date.now()});const ne=[1,1.5,2],se=yhe(ne),rt=vhe(se);V(W,{success:rt.length===3,message:`Batch conversion: ${ne.length} items`,data:{input:ne,satoshi:se,decimal:rt},timestamp:Date.now()}),V(W,{success:Od===1e8,message:`SATOSHI_SCALE = ${Od}`,data:{expected:1e8,got:Od},timestamp:Date.now()});const Le="64999999999986700000000",Ke=DR(Le);V(W,{success:Ke.startsWith("0x"),message:`int64ToHex("${Le}") = ${Ke}`,data:{input:Le,output:Ke,isValidHex:Ke.startsWith("0x")},timestamp:Date.now()});const je="64999999999986700000000",Ze=Rh(je);V(W,{success:Ze!=="--"&&Ze.length>0,message:`formatPriceFromSatoshi("${je}") = ${Ze}`,data:{input:je,output:Ze,isValid:Ze!=="--"&&Ze.length>0},timestamp:Date.now()});const ht="86755123000",Qe=spe(ht);V(W,{success:Qe!=="--"&&Qe.length>0,message:`formatLeverage("${ht}") = ${Qe}`,data:{input:ht,output:Qe,isValid:Qe!=="--"&&Qe.length>0},timestamp:Date.now()});const ot=649999999999867,De={minimumFractionDigits:pc,maximumFractionDigits:Kfe},it=ot.toLocaleString("en-US",De);V(W,{success:it.length>0&&it.includes("649"),message:`number_x.toLocaleString("en-US", currencyFormatOptions) = ${it}`,data:{input:ot,output:it,currencyFormatOptions:De,isValid:it.length>0},timestamp:Date.now()})}catch(de){V(W,{success:!1,message:"Utility test error",error:de.message,timestamp:Date.now()})}},Ue=async(W="Authentication")=>{if(!R||R.trim()===""){V(W,{success:!1,message:"Authentication skipped: Wallet address required",timestamp:Date.now()});return}if(!Bt.isReady()){V(W,{success:!1,message:"Authentication failed: mormSigner not loaded. Please initialize mormSigner first for address generation.",timestamp:Date.now()});return}try{V(W,{success:!0,message:"Starting authentication (onboarding) with ethers.js EIP-712 signing...",timestamp:Date.now()});const{onboardAndGetAuthToken:de}=await ft(async()=>{const{onboardAndGetAuthToken:oe}=await Promise.resolve().then(()=>uje);return{onboardAndGetAuthToken:oe}},void 0);if(V(W,{success:!0,message:"Calling onboardAndGetAuthToken (handles nonce, EIP-712 signing with ethers.js, and API request)...",timestamp:Date.now()}),!N)throw new Error("Mnemonic is required for authentication");const me=await de(N,F.current);if(!me.success||!me.authToken)throw new Error(me.error||"Onboarding failed");l(me.authToken),localStorage.setItem("authToken",me.authToken),V(W,{success:!0,message:"AUTHENTICATION SUCCESSFUL!",data:{walletAddress:R,authToken:me.authToken.substring(0,32)+"...",refreshToken:me.refreshToken,expiresAt:me.expiresAt},timestamp:Date.now()})}catch(de){const me=de.message||String(de);V(W,{success:!1,message:`Authentication failed: ${me}`,error:me,timestamp:Date.now()})}},mt=async()=>{var pe;const W="Wallet Specific";O.current=new Cr({baseURL:F.current}),s&&O.current&&O.current.setSessionToken(s),V(W,{success:!0,message:"Waiting for wallet address to be available...",timestamp:Date.now()});const de=5e3,me=200;let oe=0;for(;!R||R.trim()==="";){if(oe>=de){V(W,{success:!1,message:"Timeout: Wallet address not available after 5 seconds",error:"Wallet address is required for wallet-specific tests. Please ensure mnemonic is provided.",timestamp:Date.now()});return}await new Promise(ye=>setTimeout(ye,me)),oe+=me}if(!R||R.trim()===""){V(W,{success:!1,message:"Wallet address is required for wallet-specific tests",error:"Wallet address not available",timestamp:Date.now()});return}V(W,{success:!0,message:`Wallet address available: ${R.substring(0,10)}...`,timestamp:Date.now()});try{V(W,{success:!0,message:`Testing getBalance() for asset "MORM" at address ${R.substring(0,10)}...`,timestamp:Date.now()});try{const Z=await O.current.getBalance(R,"MORM"),ue=(Z==null?void 0:Z.balance)||"N/A",ce=typeof ue=="string"?ue:JSON.stringify(ue);V(W,{success:!!Z,message:`getBalance() - GET /bank/v1/balance/{address} | Asset: MORM | Balance: ${ce} (raw satoshi format)`,data:{balance:Z,asset:"MORM",walletAddress:R.substring(0,10)+"...",note:"Balance is returned in satoshi format (raw integer string). Use getBalanceDecimal() for decimal format."},timestamp:Date.now()})}catch(Z){V(W,{success:!1,message:'getBalance() failed for asset "MORM" (may require authentication)',error:Z.message,data:{asset:"MORM",walletAddress:R.substring(0,10)+"...",endpoint:"GET /bank/v1/balance/{address}"},timestamp:Date.now()})}V(W,{success:!0,message:`Testing getBalance() for asset "USDC" at address ${R.substring(0,10)}...`,timestamp:Date.now()});try{const Z=await O.current.getBalance(R,"USDC"),ue=(Z==null?void 0:Z.balance)||"N/A",ce=typeof ue=="string"?ue:JSON.stringify(ue);V(W,{success:!!Z,message:`getBalance() - GET /bank/v1/balance/{address} | Asset: USDC | Balance: ${ce} (raw satoshi format)`,data:{balance:Z,asset:"USDC",walletAddress:R.substring(0,10)+"...",note:"Balance is returned in satoshi format (raw integer string). Use getBalanceDecimal() for decimal format."},timestamp:Date.now()})}catch(Z){V(W,{success:!1,message:'getBalance() failed for asset "USDC" (may require authentication)',error:Z.message,data:{asset:"USDC",walletAddress:R.substring(0,10)+"...",endpoint:"GET /bank/v1/balance/{address}"},timestamp:Date.now()})}try{const Z=await O.current.getBalanceDecimal(R,"USDC");V(W,{success:!!Z,message:"getBalanceDecimal() - GET /bank/v1/balance/{address}",data:Z,timestamp:Date.now()})}catch(Z){V(W,{success:!1,message:"getBalanceDecimal() failed",error:Z.message,timestamp:Date.now()})}try{const Z=await O.current.getBalances(R);V(W,{success:!!Z,message:"getBalances() - GET /bank/v1/balances/{address}",data:Z,timestamp:Date.now()})}catch(Z){V(W,{success:!1,message:"getBalances() failed (may require authentication)",error:Z.message,timestamp:Date.now()})}try{const Z=await O.current.getPositions(R);V(W,{success:Array.isArray(Z),message:`getPositions() - GET /bucket/v1/address/{address}/positions returned ${Array.isArray(Z)?Z.length:0} positions`,data:Z,timestamp:Date.now()})}catch(Z){V(W,{success:!1,message:"getPositions() failed",error:Z.message,timestamp:Date.now()})}let ye=[];try{const Z=await O.current.getOrders(R);ye=(Z==null?void 0:Z.orders)||[];const ue=Z&&(Array.isArray(ye)||Z.total_count!==void 0);V(W,{success:ue,message:`getOrders() - GET /clob/v1/address/orders?address={address} returned ${Array.isArray(ye)?ye.length:0} orders (total_count: ${(Z==null?void 0:Z.total_count)??"N/A"})`,data:{orders:Array.isArray(ye)?ye.slice(0,3):ye,total_count:Z==null?void 0:Z.total_count,timestamp:Z==null?void 0:Z.timestamp},timestamp:Date.now()})}catch(Z){V(W,{success:!1,message:"getOrders() failed",error:Z.message,timestamp:Date.now()})}if(Array.isArray(ye)&&ye.length>0){const Z=ye[0],ue=(Z==null?void 0:Z.orderId)||(Z==null?void 0:Z.order_id)||(Z==null?void 0:Z.id);if(ue){V(W,{success:!0,message:`Testing getOrder() for order ID: ${ue.substring(0,16)}... (from getOrders result)`,timestamp:Date.now()});try{const ce=await O.current.getOrder(ue);V(W,{success:!!ce,message:`getOrder() - GET /clob/v1/order/{orderID} | Order ID: ${ue.substring(0,16)}...`,data:{order:ce,orderId:ue,source:"First order from getOrders() result"},timestamp:Date.now()})}catch(ce){V(W,{success:!1,message:`getOrder() failed for order ID: ${ue.substring(0,16)}...`,error:ce.message,data:{orderId:ue,endpoint:"GET /clob/v1/order/{orderID}"},timestamp:Date.now()})}}else V(W,{success:!1,message:"getOrder() test skipped: No valid order ID found in getOrders() result",error:"Order ID not found in order object",data:{order:Z,availableFields:Object.keys(Z||{})},timestamp:Date.now()})}else V(W,{success:!0,message:"getOrder() test skipped: No orders available from getOrders() (need at least 1 order)",data:{ordersCount:ye.length,note:"getOrder() test requires at least one order from getOrders()"},timestamp:Date.now()});try{const Z=await O.current.getOrderHistory(R),ue=Array.isArray(Z)?Z:(Z==null?void 0:Z.orders)||[],ce=Z&&(Array.isArray(ue)||Z.orders!==void 0);V(W,{success:ce,message:`getOrderHistory() - GET /clob/v1/address/orders/history?address={address} returned ${Array.isArray(ue)?ue.length:0} orders`,data:Array.isArray(ue)?ue.slice(0,3):Z,timestamp:Date.now()})}catch(Z){V(W,{success:!1,message:"getOrderHistory() failed",error:Z.message,timestamp:Date.now()})}try{const Z=await O.current.getTradeHistory(R),ue=Array.isArray(Z)?Z:[],ce=Array.isArray(ue);V(W,{success:ce,message:`getTradeHistory() - GET /clob/v1/address/trades?address={address} returned ${ue.length} trades`,data:ue.slice(0,3),timestamp:Date.now()})}catch(Z){V(W,{success:!1,message:"getTradeHistory() failed",error:Z.message,timestamp:Date.now()})}try{const Z=await O.current.getBuckets(R);if(V(W,{success:Array.isArray(Z)||Z!==void 0,message:`getBuckets() - GET /bucket/v1/address/{address}/buckets returned ${Array.isArray(Z)?Z.length:"data"}`,data:Array.isArray(Z)?Z.slice(0,3):Z,timestamp:Date.now()}),Array.isArray(Z)&&Z.length>0){const ce=Z[0].bucket_id;if(ce)try{const Ce=await O.current.getBucket(ce);V(W,{success:!!Ce,message:`getBucket() - GET /bucket/v1/bucket/{bucket_id} (${ce.substring(0,16)}...)`,data:Ce,timestamp:Date.now()})}catch(Ce){V(W,{success:!1,message:`getBucket(${ce.substring(0,16)}...) failed`,error:Ce.message,timestamp:Date.now()})}}}catch(Z){V(W,{success:!1,message:"getBuckets() failed",error:Z.message,timestamp:Date.now()})}V(W,{success:!0,message:"Testing useBuckets hook...",timestamp:Date.now()});try{if(await le(),V(W,{success:!ge&&!ae,message:`useBuckets hook: ${X.length} buckets loaded`,data:{buckets:X.slice(0,3),loading:ae,error:ge,totalBuckets:X.length},timestamp:Date.now()}),X.length>0){const ue=(pe=X[0].bucketId)==null?void 0:pe.toString();if(ue)try{const ce=await O.current.getBucket(ue);V(W,{success:!!ce,message:`getBucket() - GET /bucket/v1/bucket/{bucket_id} via hook bucket ID (${ue.substring(0,16)}...)`,data:ce,timestamp:Date.now()})}catch(ce){V(W,{success:!1,message:"getBucket() via hook bucket ID failed",error:ce.message,timestamp:Date.now()})}}}catch(Z){V(W,{success:!1,message:"useBuckets hook test failed",error:Z.message,timestamp:Date.now()})}}catch(ye){V(W,{success:!1,message:"Wallet Specific test error",error:ye.message,timestamp:Date.now()})}},He=async()=>{var de,me,oe,pe,ye;const W="InfoClient";O.current=new Cr({baseURL:F.current}),s&&O.current&&O.current.setSessionToken(s);try{V(W,{success:!0,message:"Testing getMarkets()...",timestamp:Date.now()});const Z=await j();$.current=Array.isArray(Z)?Z:[];const ue=Array.isArray(Z)?Z.length:0,ce=ue>0?Z.find(he=>he.active||he.status==="active")??Z[0]:null,Ce=(ce==null?void 0:ce.market_id)??((de=ce==null?void 0:ce.id)==null?void 0:de.toString())??null;if(V(W,{success:Array.isArray(Z)&&ue>0,message:`getMarkets() - GET /market/v1/all returned ${ue} markets${Ce?` | Using market ID: ${Ce} (${(ce==null?void 0:ce.moniker)||(ce==null?void 0:ce.symbol)||"auto-selected"})`:""}`,data:{count:ue,defaultMarketId:Ce,defaultMarket:ce?{id:ce.id,market_id:ce.market_id,moniker:ce.moniker,symbol:ce.symbol,active:ce.active,status:ce.status}:null,markets:Z.slice(0,5)},timestamp:Date.now()}),Ce){i(Ce),z.current=Ce;const he=(ce==null?void 0:ce.moniker)||(ce==null?void 0:ce.symbol)||(ce!=null&&ce.baseAsset&&(ce!=null&&ce.quoteAsset)?`${ce.baseAsset}-${ce.quoteAsset}`:"Unknown");V(W,{success:!0,message:`Markets loaded: ${ue} | Auto-selected: ${he} (ID: ${Ce.substring(0,10)}...)`,data:{selectedMarketId:Ce,count:ue,market:ce},timestamp:Date.now()}),V(W,{success:!0,message:"Waiting 1.5s for market selection to take effect...",timestamp:Date.now()}),await new Promise(Pe=>setTimeout(Pe,1500)),V(W,{success:!0,message:`Market ID ready: ${Ce}`,data:{marketId:Ce},timestamp:Date.now()}),V(W,{success:!0,message:`Proceeding with market: ${he}`,timestamp:Date.now()})}const Re=Ce||Ee||r;if(Re){V(W,{success:!0,message:`Testing getOrderbook(${Re}, true)...`,timestamp:Date.now()});try{const he=await O.current.getOrderbook(Re,!0);V(W,{success:!!he&&(!!he.bids||!!he.asks),message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} with decimal conversion",data:{bids:(me=he==null?void 0:he.bids)==null?void 0:me.slice(0,3),asks:(oe=he==null?void 0:he.asks)==null?void 0:oe.slice(0,3)},timestamp:Date.now()});const Pe=await O.current.getOrderbook(Re,!1);V(W,{success:!!Pe&&(!!Pe.bids||!!Pe.asks),message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} raw satoshi format",data:{bids:(pe=Pe==null?void 0:Pe.bids)==null?void 0:pe.slice(0,2),asks:(ye=Pe==null?void 0:Pe.asks)==null?void 0:ye.slice(0,2)},timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} failed",error:he.message,timestamp:Date.now()})}V(W,{success:!0,message:`Testing getTicker(${Re})...`,timestamp:Date.now()});try{const he=await O.current.getTicker(Re);V(W,{success:!!he,message:"getTicker() - GET /market/v1/market/{marketId}/stats",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getTicker() - GET /market/v1/market/{marketId}/stats failed",error:he.message,timestamp:Date.now()})}V(W,{success:!0,message:`Testing getRecentTrades(${Re}, 10)...`,timestamp:Date.now()});try{const he=await O.current.getRecentTrades(Re,10);V(W,{success:Array.isArray(he),message:`getRecentTrades() - GET /clob/v1/trades?market_id={marketId} returned ${Array.isArray(he)?he.length:0} trades`,data:he==null?void 0:he.slice(0,3),timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getRecentTrades() - GET /clob/v1/trades?market_id={marketId} failed",error:he.message,timestamp:Date.now()})}}else V(W,{success:!1,message:"Skipping market-specific tests: No market ID available",error:"Please ensure markets are loaded and a market is selected",timestamp:Date.now()});V(W,{success:!0,message:"Testing router/v1 endpoints...",timestamp:Date.now()});try{const he=await O.current.getSupportedActions();V(W,{success:Array.isArray(he==null?void 0:he.actions)||(he==null?void 0:he.actions)!==void 0,message:"getSupportedActions() - GET /router/v1/tx/supported-actions",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getSupportedActions() - GET /router/v1/tx/supported-actions failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.validateAction("clob::submit_order");V(W,{success:(he==null?void 0:he.valid)!==void 0||he!==void 0,message:'validateAction() - GET /router/v1/tx/validate-action ("clob::submit_order")',data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"validateAction() - GET /router/v1/tx/validate-action failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getHealthSummary();V(W,{success:!!he,message:"getHealthSummary() - GET /router/v1/health/summary",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getHealthSummary() - GET /router/v1/health/summary failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getHealthDaemons();V(W,{success:!!he,message:"getHealthDaemons() - GET /router/v1/health/daemons",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getHealthDaemons() - GET /router/v1/health/daemons failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getServerTime();V(W,{success:!!he&&(he.serverTime!==void 0||he!==void 0),message:"getServerTime() - GET /router/v1/time",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getServerTime() - GET /router/v1/time failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getMetricsTPS();V(W,{success:!!he,message:"getMetricsTPS() - GET /router/v1/metrics/tps",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getMetricsTPS() - GET /router/v1/metrics/tps failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getMetricsLatency();V(W,{success:!!he,message:"getMetricsLatency() - GET /router/v1/metrics/latency",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getMetricsLatency() - GET /router/v1/metrics/latency failed",error:he.message,timestamp:Date.now()})}}catch(Z){V(W,{success:!1,message:"InfoClient test error",error:Z.message,timestamp:Date.now()})}},xe=async()=>{var pe,ye,Z;const W="ExchangeClient";if(!N){V(W,{success:!1,message:"Mnemonic required for ExchangeClient tests",error:"No mnemonic provided",timestamp:Date.now()});return}let de=r||Ee||z.current||"";if(!de||de.trim()===""){if($.current&&$.current.length>0){const ue=$.current.find(ce=>ce.active||ce.status==="active")??$.current[0];ue&&(de=ue.market_id??((pe=ue.id)==null?void 0:pe.toString())??"",z.current=de,V(W,{success:!0,message:`Market ID not in state, using from fetched markets ref: ${de.substring(0,16)}...`,data:{source:"fetchedMarketsRef",marketId:de,market:{moniker:ue.moniker,symbol:ue.symbol,active:ue.active}},timestamp:Date.now()}))}else if(D&&D.length>0){const ue=D.find(ce=>ce.active||ce.status==="active")??D[0];ue&&(de=ue.market_id??((ye=ue.id)==null?void 0:ye.toString())??"",V(W,{success:!0,message:`Market ID not in state, using from markets state: ${de.substring(0,16)}...`,data:{source:"markets state",marketId:de,market:{moniker:ue.moniker,symbol:ue.symbol,active:ue.active}},timestamp:Date.now()}))}}if(!de||de.trim()===""){V(W,{success:!1,message:"Market ID required from page or loaded markets",error:`Please enter or select a market ID in the configuration section, or ensure markets are loaded first. Debug: marketId="${r||"(empty)"}", effectiveMarketId="${Ee||"(empty)"}", fetchedMarketIdRef="${z.current||"(empty)"}", fetchedMarketsRef.length=${$.current.length}, markets.length=${D.length}`,data:{marketId:r||"(empty)",effectiveMarketId:Ee||"(empty)",defaultMarketId:Te||"(empty)",fetchedMarketIdRef:z.current||"(empty)",fetchedMarketsRefCount:$.current.length,marketsCount:D.length,marketsAvailable:D.length>0||$.current.length>0},timestamp:Date.now()});return}const me=R||"";if(!me||me.trim()===""){V(W,{success:!1,message:"Wallet address required from page",error:"Wallet address should be generated from mnemonic or entered manually. Please ensure mnemonic is valid.",timestamp:Date.now()});return}const oe=r?"page state (marketId)":Ee?"page state (effectiveMarketId)":"loaded markets array";V(W,{success:!0,message:`Using market ID from ${oe}: ${de.substring(0,16)}...`,data:{marketId:de,source:oe},timestamp:Date.now()}),V(W,{success:!0,message:`Using wallet address from page: ${me.substring(0,10)}...`,data:{walletAddress:me},timestamp:Date.now()}),(s||a)&&V(W,{success:!0,message:`Using signing tokens: ${s?"Session Token":""} ${a?"Auth Token":""}`,data:{hasSessionToken:!!s,hasAuthToken:!!a},timestamp:Date.now()}),I.current=new Zd({baseURL:F.current,mnemonic:J.current});try{V(W,{success:!0,message:"Initializing ExchangeClient...",timestamp:Date.now()}),await I.current.initialize();const ue=I.current.getWalletAddress();if(ue.toLowerCase()!==me.toLowerCase()){V(W,{success:!1,message:"Wallet address mismatch",error:`ExchangeClient wallet (${ue}) does not match page wallet (${me})`,timestamp:Date.now()});return}V(W,{success:!0,message:`ExchangeClient initialized successfully (Wallet: ${ue.substring(0,10)}...)`,data:{walletAddress:ue,marketId:de,verified:!0},timestamp:Date.now()});const ce=de;V(W,{success:!0,message:`Using market ID as string: ${ce}`,data:{marketId:ce},timestamp:Date.now()});let Ce=null;V(W,{success:!0,message:"Testing placeOrder with validation for btc-usdc-perp market...",timestamp:Date.now()});let Re=[];try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const _e=await O.current.getBuckets(ue);Re=Array.isArray(_e)?_e:[],V(W,{success:!0,message:`Fetched ${Re.length} bucket(s) for order test`,timestamp:Date.now()})}catch(_e){V(W,{success:!1,message:"Failed to fetch buckets for order test",error:_e.message,timestamp:Date.now()})}let he=null;try{const re=($.current.length>0?$.current:D).find(ne=>{const se=(ne.moniker||"").toLowerCase(),rt=(ne.symbol||"").toLowerCase();return se.includes("btc-usdc-perp")||se.includes("btcusdcperp")||rt.includes("btc-usdc-perp")||rt.includes("btcusdcperp")||ne.baseAsset&&ne.quoteAsset&&ne.baseAsset.toLowerCase()==="btc"&&ne.quoteAsset.toLowerCase()==="usdc"});re?(he=re.market_id||((Z=re.id)==null?void 0:Z.toString())||null,V(W,{success:!!he,message:`Found btc-usdc-perp market: ${he==null?void 0:he.substring(0,16)}...`,data:{marketId:he,moniker:re.moniker,symbol:re.symbol},timestamp:Date.now()})):V(W,{success:!1,message:"btc-usdc-perp market not found in available markets",error:"Please ensure btc-usdc-perp market is available",timestamp:Date.now()})}catch(_e){V(W,{success:!1,message:"Failed to find btc-usdc-perp market",error:_e.message,timestamp:Date.now()})}if(he)try{let _e=null;if(Re.length>0){const re=Re[0];_e=re.bucket_id||re.id||re.bucketId||null}if(!_e)V(W,{success:!1,message:"Default bucket not available for balance validation",error:"No buckets found",timestamp:Date.now()});else{V(W,{success:!0,message:"Step 1: Loading default bucket balance and checking available margin...",timestamp:Date.now()});const re=1.01,ne=100,se=10500,rt=_n(ne.toString()),Le=re*se/ne;let Ke=0,je=0,Ze=0,ht=0;try{if(!O.current)throw new Error("InfoClient not initialized");const at=await O.current.getBucket(_e);Ze=It(at.available_margin||"0"),je=It(at.deposited_margin||"0"),ht=It(at.total_equity||"0"),Ke=Ze,V(W,{success:!0,message:"Step 1: Default bucket balance loaded",data:{availableMargin:Ze.toFixed(2),depositedMargin:je.toFixed(2),totalEquity:ht.toFixed(2),requiredMargin:Le.toFixed(2),raw:at},timestamp:Date.now()}),V(W,{success:!0,message:`Step 1: Validating sufficient available margin (required: ${Le.toFixed(2)} USDC, available: ${Ze.toFixed(2)} USDC)...`,timestamp:Date.now()});const on=Ze>=Le;if(V(W,{success:on,message:`Step 1: Margin validation ${on?"PASSED":"FAILED"}`,data:{availableMargin:Ze.toFixed(2),requiredMargin:Le.toFixed(2),marginDifference:(Ze-Le).toFixed(2),hasSufficientMargin:on,orderQuantity:`${re.toFixed(2)} BTC`,orderPrice:`${se.toFixed(2)} USDC/BTC`,orderLeverage:ne.toFixed(2),calculation:`(${re.toFixed(2)} BTC * ${se.toFixed(2)} USDC/BTC) / ${ne.toFixed(2)} = ${Le.toFixed(2)} USDC`},timestamp:Date.now()}),!on)throw V(W,{success:!1,message:`Step 1: Insufficient available margin. Required: ${Le.toFixed(2)} USDC, Available: ${Ze.toFixed(2)} USDC`,error:`Available margin (${Ze.toFixed(2)} USDC) is less than required margin (${Le.toFixed(2)} USDC)`,data:{availableMargin:Ze.toFixed(2),requiredMargin:Le.toFixed(2),shortfall:(Le-Ze).toFixed(2)},timestamp:Date.now()}),new Error(`Insufficient available margin: ${Ze.toFixed(2)} USDC available, ${Le.toFixed(2)} USDC required`);V(W,{success:!0,message:"Step 1: Sufficient margin available. Proceeding to place order...",data:{availableMargin:Ze.toFixed(2),requiredMargin:Le.toFixed(2),marginRemaining:(Ze-Le).toFixed(2)},timestamp:Date.now()})}catch(at){throw V(W,{success:!1,message:"Step 1: Failed to load or validate bucket balance",error:at.message,timestamp:Date.now()}),at}V(W,{success:!0,message:`Step 2: Preparing to place order - Quantity: ${re.toFixed(2)} BTC, Leverage: ${ne}x, Price: ${se.toFixed(2)} USDC/BTC...`,timestamp:Date.now()}),V(W,{success:!0,message:"Step 2.1: Re-checking default bucket available margin before placing order...",timestamp:Date.now()});let Qe=0;try{if(!O.current)throw new Error("InfoClient not initialized");const at=await O.current.getBucket(_e);Qe=It(at.available_margin||"0"),V(W,{success:!0,message:`Step 2.1: Current available margin: ${Qe.toFixed(2)} USDC`,data:{currentAvailableMargin:Qe.toFixed(2),requiredMargin:Le.toFixed(2),previousAvailableMargin:Ze.toFixed(2),raw:at},timestamp:Date.now()});const on=Qe>=Le;if(V(W,{success:on,message:`Step 2.1: Margin check ${on?"PASSED":"FAILED"}`,data:{currentAvailableMargin:Qe.toFixed(2),requiredMargin:Le.toFixed(2),marginDifference:(Qe-Le).toFixed(2),stillHasSufficientMargin:on},timestamp:Date.now()}),!on)throw V(W,{success:!1,message:`Step 2.1: Insufficient available margin. Required: ${Le.toFixed(2)} USDC, Available: ${Qe.toFixed(2)} USDC`,error:`Available margin (${Qe.toFixed(2)} USDC) is less than required margin (${Le.toFixed(2)} USDC)`,data:{currentAvailableMargin:Qe.toFixed(2),requiredMargin:Le.toFixed(2),shortfall:(Le-Qe).toFixed(2)},timestamp:Date.now()}),new Error(`Insufficient available margin: ${Qe.toFixed(2)} USDC available, ${Le.toFixed(2)} USDC required`);V(W,{success:!0,message:"Step 2.1: Sufficient margin confirmed. Proceeding with order placement...",data:{currentAvailableMargin:Qe.toFixed(2),requiredMargin:Le.toFixed(2),marginRemaining:(Qe-Le).toFixed(2)},timestamp:Date.now()})}catch(at){throw V(W,{success:!1,message:"Step 2.1: Failed to validate available margin before order placement",error:at.message,timestamp:Date.now()}),at}if(V(W,{success:!0,message:`Step 2.2: Placing order - Quantity: ${re.toFixed(2)} BTC, Leverage: ${ne}x, Price: ${se.toFixed(2)} USDC/BTC...`,timestamp:Date.now()}),!X||X.length===0)throw new Error("No buckets available. Please create a bucket first.");const De=X[0].bucketId;if(!De)throw new Error("Bucket ID not found in bucket data");let it=null,we=null;const _t={marketId:he,bucketId:De,side:"buy",orderType:"LIMIT",price:se,quantity:re,timeInForce:"GTC",leverage:rt},gt={maxRetries:10,baseDelay:500,maxDelay:2e3,jitter:!0,multiplier:1.5};let Ct=0;try{it=await UC(gt,async()=>{if(Ct++,Ct>1&&V(W,{success:!0,message:`Step 2.2: Retrying order placement (attempt ${Ct}/${gt.maxRetries+1})...`,data:{attemptCount:Ct},timestamp:Date.now()}),!I.current)throw new Error("ExchangeClient not initialized");const at=await I.current.placeOrder(_t),on=(at==null?void 0:at.order_id)||null;if(!at||!on)throw new Error("Order placed but order_id not found in response");return at},async at=>{if(O7(at)){V(W,{success:!1,message:`Step 2.2: Nonce error detected (attempt ${Ct}/${gt.maxRetries+1}): ${(at==null?void 0:at.message)||String(at)}`,data:{error:(at==null?void 0:at.message)||String(at),errorType:"nonce error",attemptCount:Ct,willRetry:Ct<=gt.maxRetries},timestamp:Date.now()});try{if(!I.current)throw new Error("ExchangeClient not initialized");await I.current.refreshNonceFromServer(),V(W,{success:!0,message:"Step 2.2: Refreshed nonce from server, will retry...",timestamp:Date.now()})}catch(Jn){V(W,{success:!1,message:"Step 2.2: Failed to refresh nonce from server",error:(Jn==null?void 0:Jn.message)||String(Jn),timestamp:Date.now()})}return!0}return V(W,{success:!1,message:"Step 2.2: Failed to place order (non-retryable error)",error:(at==null?void 0:at.message)||String(at),data:{error:(at==null?void 0:at.message)||String(at),isNonceError:!1},timestamp:Date.now()}),!1}),we=(it==null?void 0:it.order_id)||null,V(W,{success:!!it&&!!we,message:`Step 2.2: Order placed successfully${Ct>1?` (after ${Ct-1} retry${Ct>2?"ies":""})`:""}. Order ID: ${we==null?void 0:we.substring(0,16)}...`,data:{orderResult:it,orderId:we,requestBody:_t,attemptCount:Ct},timestamp:Date.now()})}catch(at){throw V(W,{success:!1,message:`Step 2.2: Failed to place order after ${Ct} attempt${Ct>1?"s":""}`,error:(at==null?void 0:at.message)||String(at),data:{error:(at==null?void 0:at.message)||String(at),attemptCount:Ct,maxRetriesReached:Ct>gt.maxRetries},timestamp:Date.now()}),at}if(!it||!we)throw new Error(`Failed to place order after ${Ct} attempts`);if(await new Promise(at=>setTimeout(at,1500)),we){V(W,{success:!0,message:"Step 3: Validating pending order details...",timestamp:Date.now()});try{if(!O.current)throw new Error("InfoClient not initialized");const at=await O.current.getOrder(we);if(at){const on=It(at.price||"0"),Jn=It(at.quantity||"0"),ln=It(at.leverage||"0"),Ws=at.side||"",ci=at.market_id||"",wo=Math.abs(on-se)<.01,aa=Math.abs(Jn-re)<.01,Rr=Math.abs(ln-ne)<.01,ui=ci===he,qs=Ws.toUpperCase().includes("BUY");V(W,{success:wo&&aa&&Rr&&ui&&qs,message:`Step 3: Order validation ${wo&&aa&&Rr&&ui&&qs?"PASSED":"FAILED"}`,data:{orderId:we,expectedPrice:se.toFixed(2),actualPrice:on.toFixed(2),priceValid:wo,expectedQuantity:`${re.toFixed(2)} BTC`,actualQuantity:`${Jn.toFixed(2)} BTC`,quantityValid:aa,expectedLeverage:ne.toFixed(2),actualLeverage:ln.toFixed(2),leverageValid:Rr,expectedMarketId:he,actualMarketId:ci,marketIdValid:ui,expectedSide:"buy",actualSide:Ws,sideValid:qs,orderStatus:at.status,rawOrder:at},timestamp:Date.now()}),wo||V(W,{success:!1,message:`Order price mismatch: Expected ${se.toFixed(2)}, got ${on.toFixed(2)}`,timestamp:Date.now()}),aa||V(W,{success:!1,message:`Order quantity mismatch: Expected ${re.toFixed(2)} BTC, got ${Jn.toFixed(2)} BTC`,timestamp:Date.now()}),Rr||V(W,{success:!1,message:`Order leverage mismatch: Expected ${ne.toFixed(2)}, got ${ln.toFixed(2)}`,timestamp:Date.now()}),ui||V(W,{success:!1,message:`Order market ID mismatch: Expected ${he}, got ${ci}`,timestamp:Date.now()}),qs||V(W,{success:!1,message:`Order side mismatch: Expected buy, got ${Ws}`,timestamp:Date.now()})}else V(W,{success:!1,message:"Step 3: Failed to retrieve pending order",error:"Order not found",timestamp:Date.now()})}catch(at){V(W,{success:!1,message:"Step 3: Failed to validate pending order",error:at.message,timestamp:Date.now()})}}V(W,{success:!0,message:"Step 4: Loading default bucket USDC balance after placing order...",timestamp:Date.now()});let Ut=0;try{if(!O.current)throw new Error("InfoClient not initialized");const at=await O.current.getBucket(_e);Ut=It(at.available_margin||"0"),V(W,{success:!0,message:`Step 4: Default bucket USDC balance after: ${Ut.toFixed(2)} USDC`,data:{balance:Ut,raw:at},timestamp:Date.now()})}catch(at){throw V(W,{success:!1,message:"Step 4: Failed to load bucket balance after order",error:at.message,timestamp:Date.now()}),at}V(W,{success:!0,message:"Step 5: Validating bucket balance change...",timestamp:Date.now()});const Nt=Qe-Ut,tn=Le,Wt=Math.abs(Nt-tn)<.01;V(W,{success:Wt,message:`Step 5: Bucket balance validation ${Wt?"PASSED":"FAILED"}`,data:{availableMarginBeforeOrder:Qe.toFixed(2),availableMarginAfterOrder:Ut.toFixed(2),marginReserved:Nt.toFixed(2),expectedMarginReserved:tn.toFixed(2),marginReservedValid:Wt,orderQuantity:`${re.toFixed(2)} BTC`,orderPrice:`${se.toFixed(2)} USDC/BTC`,orderLeverage:ne.toFixed(2),calculation:`(${re.toFixed(2)} BTC * ${se.toFixed(2)} USDC/BTC) / ${ne.toFixed(2)} = ${tn.toFixed(2)} USDC`,note:"Using available margin from Step 2.1 as baseline (most recent before order placement)"},timestamp:Date.now()}),Wt||V(W,{success:!1,message:`Bucket balance change mismatch: Expected margin reserved ${tn.toFixed(2)} USDC, actual change ${Nt.toFixed(2)} USDC`,error:`Expected available margin to decrease by ${tn.toFixed(2)} USDC, but decreased by ${Nt.toFixed(2)} USDC`,timestamp:Date.now()}),V(W,{success:Wt,message:`Place order validation test ${Wt?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{orderId:we,marketId:he,orderQuantity:`${re.toFixed(2)} BTC`,orderLeverage:`${ne}x`,orderPrice:`${se.toFixed(2)} USDC`,availableMarginBeforeOrder:`${Qe.toFixed(2)} USDC`,availableMarginAfterOrder:`${Ut.toFixed(2)} USDC`,marginReserved:`${Nt.toFixed(2)} USDC`,expectedMarginReserved:`${tn.toFixed(2)} USDC`,validationPassed:Wt},timestamp:Date.now()})}}catch(_e){V(W,{success:!1,message:"Place order validation test failed",error:_e.message,timestamp:Date.now()})}if(de){if(!X||X.length===0){V(W,{success:!1,message:"placeOrder() - No buckets available. Please create a bucket first.",error:"Bucket ID is required for order placement",timestamp:Date.now()});return}const re=X[0].bucketId;if(!re){V(W,{success:!1,message:"placeOrder() - Bucket ID not found in bucket data",error:"Bucket ID is required for order placement",timestamp:Date.now()});return}const ne=1,se=_n(ne.toString()),rt={marketId:ce,bucketId:re,side:"buy",orderType:"LIMIT",price:40010.8778,quantity:.01,timeInForce:"GTC",leverage:se};V(W,{success:!0,message:`Testing placeOrder() (submit order) for market ${de}...`,data:{requestBody:rt,endpoint:"POST /clob/v1/order",note:"Price and quantity are decimal numbers, converted to satoshi strings in buildOrderPayload(). Leverage is already in satoshi format.",leverage:{decimal:ne,satoshi:se}},timestamp:Date.now()});try{const Le=await I.current.placeOrder(rt);Le?(Ce=Le.order_id||null,Ce?V(W,{success:!0,message:`placeOrder() - POST /clob/v1/order executed successfully. Order ID: ${Ce.substring(0,16)}...`,data:{orderResult:Le,orderId:Ce,requestBody:rt,endpoint:"POST /clob/v1/order"},timestamp:Date.now()}):V(W,{success:!0,message:"placeOrder() - POST /clob/v1/order executed successfully (orderId not found in response)",data:{orderResult:Le,requestBody:rt,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})):V(W,{success:!1,message:"placeOrder() - POST /clob/v1/order returned empty response",data:{requestBody:rt,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})}catch(Le){V(W,{success:!1,message:"placeOrder() - POST /clob/v1/order failed",error:Le.message,data:{requestBody:rt,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping placeOrder() test: No market ID available",timestamp:Date.now()});if(de&&Ce){V(W,{success:!0,message:`Testing cancelOrder() for order ${Ce.substring(0,16)}...`,timestamp:Date.now()});try{const _e=await I.current.cancelOrder({orderId:Ce,marketId:ce});V(W,{success:!!_e,message:"cancelOrder() - POST /router/v1/tx executed successfully",data:_e,timestamp:Date.now()})}catch(_e){V(W,{success:!1,message:"cancelOrder() - POST /router/v1/tx failed",error:_e.message,timestamp:Date.now()})}}else de?Ce||V(W,{success:!0,message:"Skipping cancelOrder() test: No order ID available (placeOrder may have failed or orderId not in response)",timestamp:Date.now()}):V(W,{success:!0,message:"Skipping cancelOrder() test: No market ID available",timestamp:Date.now()});if(de){V(W,{success:!0,message:`Testing closePosition() for market ${de}...`,timestamp:Date.now()});try{let _e=!1,re=0,ne;try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const se=await O.current.getPositions(ue),rt=Array.isArray(se)?se.find(Le=>(Le.market_id||Le.marketId)===de):null;if(rt)if(_e=!0,ne=rt.position_id||rt.positionId,rt.mark_price)re=It(rt.mark_price||"0");else{const Le=await O.current.getTicker(de);Le&&Le.last_price&&(re=It(typeof Le.last_price=="string"?Le.last_price:String(Le.last_price)))}}catch(se){V(W,{success:!0,message:`Position check failed (will attempt close anyway): ${se.message}`,timestamp:Date.now()})}if(!_e)V(W,{success:!0,message:"No open position found for this market. Skipping closePosition() test.",data:{marketId:de,note:"closePosition() requires an open position to test"},timestamp:Date.now()});else if(!ne)V(W,{success:!1,message:"closePosition() - positionId is required but not found in position data",timestamp:Date.now()});else{const se=await I.current.closePosition({positionId:ne,marketId:ce,marketPrice:re>0?re:void 0,quantity:void 0});V(W,{success:!!se,message:"closePosition() - POST /bucket/v1/position/close executed successfully",data:{closeResult:se,note:"quantity=undefined means close full position (closeSize=0 in request)"},timestamp:Date.now()})}}catch(_e){V(W,{success:!1,message:"closePosition() - POST /bucket/v1/position/close failed (may not have open position)",error:_e.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping closePosition() test: No market ID available",timestamp:Date.now()});V(W,{success:!0,message:"Fetching buckets for bucket operation tests...",timestamp:Date.now()});let Pe=[];try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const _e=await O.current.getBuckets(ue);Pe=Array.isArray(_e)?_e:[],V(W,{success:!0,message:`Found ${Pe.length} bucket(s) for testing`,data:{bucketCount:Pe.length,buckets:Pe.slice(0,3).map(re=>({bucketId:re.bucket_id||re.id||re.bucketId,availableMargin:re.available_margin||re.availableMargin}))},timestamp:Date.now()})}catch(_e){V(W,{success:!1,message:"Failed to fetch buckets for testing",error:_e.message,timestamp:Date.now()})}if(Pe.length>0){const _e=Pe[0],re=_e.bucket_id||_e.id||_e.bucketId;if(re){V(W,{success:!0,message:"Testing extractToBucket() (1 USD = 100000000 satoshi)...",timestamp:Date.now()});try{const ne=await I.current.extractToBucket({bucketId:re,assetId:"USDC",amount:1});V(W,{success:!!ne,message:"extractToBucket() - POST /bank/v1/extract-to-bucket executed successfully",data:ne,timestamp:Date.now()})}catch(ne){V(W,{success:!1,message:"extractToBucket() - POST /bank/v1/extract-to-bucket failed",error:ne.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping extractToBucket() test: No valid bucket ID found",timestamp:Date.now()})}else V(W,{success:!0,message:"Skipping extractToBucket() test: No buckets available",timestamp:Date.now()});if(Pe.length>0){const _e=Pe[0],re=_e.bucket_id||_e.id||_e.bucketId;if(re){V(W,{success:!0,message:"Testing bucket to spot wallet transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(W,{success:!0,message:"Step 1: Loading bucket USDC balance before transfer...",timestamp:Date.now()});let ne=0;try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const we=await O.current.getBucket(re);ne=It(we.available_margin||"0"),V(W,{success:!0,message:`Step 1: Bucket USDC balance before: ${ne.toFixed(2)} USDC`,data:{balance:ne,raw:we},timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 1: Failed to load bucket balance",error:we.message,timestamp:Date.now()}),we}V(W,{success:!0,message:"Step 2: Loading spot wallet USDC balance before transfer...",timestamp:Date.now()});let se=0;try{const we=await O.current.getBalanceDecimal(ue,"USDC");se=It(we.available_balance||"0"),V(W,{success:!0,message:`Step 2: Spot wallet USDC balance before: ${se.toFixed(2)} USDC`,data:{balance:se,raw:we},timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 2: Failed to load spot wallet balance",error:we.message,timestamp:Date.now()}),we}const rt=10,Le=_n(rt.toString());V(W,{success:!0,message:`Step 3: Transferring ${rt.toFixed(2)} USDC (${Le} satoshi) from bucket to spot wallet...`,timestamp:Date.now()});try{const we=await I.current.withdrawFromBucket({bucketId:re,assetId:"USDC",amount:rt});V(W,{success:!!we,message:"Step 3: Transfer executed successfully",data:we,timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 3: Transfer failed",error:we.message,timestamp:Date.now()}),we}await new Promise(we=>setTimeout(we,1e3)),V(W,{success:!0,message:"Step 4: Loading bucket USDC balance after transfer...",timestamp:Date.now()});let Ke=0;try{const we=await O.current.getBucket(re);Ke=It(we.available_margin||"0"),V(W,{success:!0,message:`Step 4: Bucket USDC balance after: ${Ke.toFixed(2)} USDC`,data:{balance:Ke,raw:we},timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 4: Failed to load bucket balance after transfer",error:we.message,timestamp:Date.now()}),we}V(W,{success:!0,message:"Step 5: Loading spot wallet USDC balance after transfer...",timestamp:Date.now()});let je=0;try{const we=await O.current.getBalanceDecimal(ue,"USDC");je=It(we.available_balance||"0"),V(W,{success:!0,message:`Step 5: Spot wallet USDC balance after: ${je.toFixed(2)} USDC`,data:{balance:je,raw:we},timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 5: Failed to load spot wallet balance after transfer",error:we.message,timestamp:Date.now()}),we}V(W,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Ze=ne-Ke,ht=je-se,Qe=rt,ot=rt,De=Math.abs(Ze-Qe)<.01,it=Math.abs(ht-ot)<.01;V(W,{success:De&&it,message:`Step 6: Validation ${De&&it?"PASSED":"FAILED"}`,data:{bucketBalanceBefore:ne.toFixed(2),bucketBalanceAfter:Ke.toFixed(2),bucketBalanceDecrease:Ze.toFixed(2),expectedBucketDecrease:Qe.toFixed(2),bucketDecreaseValid:De,walletBalanceBefore:se.toFixed(2),walletBalanceAfter:je.toFixed(2),walletBalanceIncrease:ht.toFixed(2),expectedWalletIncrease:ot.toFixed(2),walletIncreaseValid:it,transferAmount:rt.toFixed(2)},timestamp:Date.now()}),De||V(W,{success:!1,message:`Validation failed: Bucket balance decrease (${Ze.toFixed(2)}) does not match expected (${Qe.toFixed(2)})`,error:`Expected bucket to decrease by ${Qe.toFixed(2)} USDC, but decreased by ${Ze.toFixed(2)} USDC`,timestamp:Date.now()}),it||V(W,{success:!1,message:`Validation failed: Wallet balance increase (${ht.toFixed(2)}) does not match expected (${ot.toFixed(2)})`,error:`Expected wallet to increase by ${ot.toFixed(2)} USDC, but increased by ${ht.toFixed(2)} USDC`,timestamp:Date.now()}),V(W,{success:De&&it,message:`Bucket to spot wallet transfer test ${De&&it?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${rt.toFixed(2)} USDC`,bucketBalanceBefore:`${ne.toFixed(2)} USDC`,bucketBalanceAfter:`${Ke.toFixed(2)} USDC`,bucketBalanceChange:`${Ze.toFixed(2)} USDC`,walletBalanceBefore:`${se.toFixed(2)} USDC`,walletBalanceAfter:`${je.toFixed(2)} USDC`,walletBalanceChange:`${ht.toFixed(2)} USDC`,validationPassed:De&&it},timestamp:Date.now()})}catch(ne){V(W,{success:!1,message:"Bucket to spot wallet transfer test failed",error:ne.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping bucket to spot wallet transfer test: No valid bucket ID found",timestamp:Date.now()})}else V(W,{success:!0,message:"Skipping bucket to spot wallet transfer test: No buckets available",timestamp:Date.now()});if(Pe.length>=2){const _e=Pe[0],re=Pe[1],ne=_e.bucket_id||_e.id||_e.bucketId,se=re.bucket_id||re.id||re.bucketId;if(ne&&se){V(W,{success:!0,message:"Testing bucket to bucket transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(W,{success:!0,message:"Step 1: Loading source bucket USDC balance before transfer...",timestamp:Date.now()});let rt=0;try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const gt=await O.current.getBucket(ne);rt=It(gt.available_margin||"0"),V(W,{success:!0,message:`Step 1: Source bucket USDC balance before: ${rt.toFixed(2)} USDC`,data:{balance:rt,raw:gt},timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 1: Failed to load source bucket balance",error:gt.message,timestamp:Date.now()}),gt}V(W,{success:!0,message:"Step 2: Loading target bucket USDC balance before transfer...",timestamp:Date.now()});let Le=0;try{const gt=await O.current.getBucket(se);Le=It(gt.available_margin||"0"),V(W,{success:!0,message:`Step 2: Target bucket USDC balance before: ${Le.toFixed(2)} USDC`,data:{balance:Le,raw:gt},timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 2: Failed to load target bucket balance",error:gt.message,timestamp:Date.now()}),gt}const Ke=10,je=_n(Ke.toString());V(W,{success:!0,message:`Step 3: Transferring ${Ke.toFixed(2)} USDC (${je} satoshi) from source bucket to target bucket...`,timestamp:Date.now()});try{const gt=await I.current.bucketTransfer({fromBucketId:ne,toBucketId:se,assetId:"USDC",amount:Ke});V(W,{success:!!gt,message:"Step 3: Transfer executed successfully",data:gt,timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 3: Transfer failed",error:gt.message,timestamp:Date.now()}),gt}await new Promise(gt=>setTimeout(gt,1e3)),V(W,{success:!0,message:"Step 4: Loading source bucket USDC balance after transfer...",timestamp:Date.now()});let Ze=0;try{const gt=await O.current.getBucket(ne);Ze=It(gt.available_margin||"0"),V(W,{success:!0,message:`Step 4: Source bucket USDC balance after: ${Ze.toFixed(2)} USDC`,data:{balance:Ze,raw:gt},timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 4: Failed to load source bucket balance after transfer",error:gt.message,timestamp:Date.now()}),gt}V(W,{success:!0,message:"Step 5: Loading target bucket USDC balance after transfer...",timestamp:Date.now()});let ht=0;try{const gt=await O.current.getBucket(se);ht=It(gt.available_margin||"0"),V(W,{success:!0,message:`Step 5: Target bucket USDC balance after: ${ht.toFixed(2)} USDC`,data:{balance:ht,raw:gt},timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 5: Failed to load target bucket balance after transfer",error:gt.message,timestamp:Date.now()}),gt}V(W,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Qe=rt-Ze,ot=ht-Le,De=Ke,it=Ke,we=Math.abs(Qe-De)<.01,_t=Math.abs(ot-it)<.01;V(W,{success:we&&_t,message:`Step 6: Validation ${we&&_t?"PASSED":"FAILED"}`,data:{sourceBucketBalanceBefore:rt.toFixed(2),sourceBucketBalanceAfter:Ze.toFixed(2),sourceBucketBalanceDecrease:Qe.toFixed(2),expectedSourceDecrease:De.toFixed(2),sourceDecreaseValid:we,targetBucketBalanceBefore:Le.toFixed(2),targetBucketBalanceAfter:ht.toFixed(2),targetBucketBalanceIncrease:ot.toFixed(2),expectedTargetIncrease:it.toFixed(2),targetIncreaseValid:_t,transferAmount:Ke.toFixed(2)},timestamp:Date.now()}),we||V(W,{success:!1,message:`Validation failed: Source bucket balance decrease (${Qe.toFixed(2)}) does not match expected (${De.toFixed(2)})`,error:`Expected source bucket to decrease by ${De.toFixed(2)} USDC, but decreased by ${Qe.toFixed(2)} USDC`,timestamp:Date.now()}),_t||V(W,{success:!1,message:`Validation failed: Target bucket balance increase (${ot.toFixed(2)}) does not match expected (${it.toFixed(2)})`,error:`Expected target bucket to increase by ${it.toFixed(2)} USDC, but increased by ${ot.toFixed(2)} USDC`,timestamp:Date.now()}),V(W,{success:we&&_t,message:`Bucket to bucket transfer test ${we&&_t?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${Ke.toFixed(2)} USDC`,sourceBucketBalanceBefore:`${rt.toFixed(2)} USDC`,sourceBucketBalanceAfter:`${Ze.toFixed(2)} USDC`,sourceBucketBalanceChange:`${Qe.toFixed(2)} USDC`,targetBucketBalanceBefore:`${Le.toFixed(2)} USDC`,targetBucketBalanceAfter:`${ht.toFixed(2)} USDC`,targetBucketBalanceChange:`${ot.toFixed(2)} USDC`,validationPassed:we&&_t},timestamp:Date.now()})}catch(rt){V(W,{success:!1,message:"Bucket to bucket transfer test failed",error:rt.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping bucket to bucket transfer test: Invalid bucket IDs",timestamp:Date.now()})}else V(W,{success:!0,message:"Skipping bucket to bucket transfer test: Need at least 2 buckets (found "+Pe.length+")",timestamp:Date.now()});if(Pe.length>0){const _e=Pe[0],re=_e.bucket_id||_e.id||_e.bucketId;if(re){V(W,{success:!0,message:"Testing spot wallet to bucket default transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(W,{success:!0,message:"Step 1: Loading spot wallet USDC balance before transfer...",timestamp:Date.now()});let ne=0;try{if(O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s),!O.current)throw new Error("Failed to initialize InfoClient");const we=await O.current.getBalanceDecimal(ue,"USDC");ne=It(we.available_balance||"0"),V(W,{success:!0,message:`Step 1: Spot wallet USDC balance before: ${ne.toFixed(2)} USDC`,data:{balance:ne,raw:we},timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 1: Failed to load spot wallet balance",error:we.message,timestamp:Date.now()}),we}V(W,{success:!0,message:"Step 2: Loading default bucket USDC balance before transfer...",timestamp:Date.now()});let se=0;try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const we=await O.current.getBucket(re);se=It(we.available_margin||"0"),V(W,{success:!0,message:`Step 2: Default bucket USDC balance before: ${se.toFixed(2)} USDC`,data:{balance:se,raw:we},timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 2: Failed to load bucket balance",error:we.message,timestamp:Date.now()}),we}const rt=10,Le=_n(rt.toString());V(W,{success:!0,message:`Step 3: Transferring ${rt.toFixed(2)} USDC (${Le} satoshi) from spot wallet to default bucket...`,timestamp:Date.now()});try{const we=await I.current.extractToBucket({bucketId:re,assetId:"USDC",amount:rt});V(W,{success:!!we,message:"Step 3: Transfer executed successfully",data:we,timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 3: Transfer failed",error:we.message,timestamp:Date.now()}),we}await new Promise(we=>setTimeout(we,1e3)),V(W,{success:!0,message:"Step 4: Loading spot wallet USDC balance after transfer...",timestamp:Date.now()});let Ke=0;try{const we=await O.current.getBalanceDecimal(ue,"USDC");Ke=It(we.available_balance||"0"),V(W,{success:!0,message:`Step 4: Spot wallet USDC balance after: ${Ke.toFixed(2)} USDC`,data:{balance:Ke,raw:we},timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 4: Failed to load spot wallet balance after transfer",error:we.message,timestamp:Date.now()}),we}V(W,{success:!0,message:"Step 5: Loading default bucket USDC balance after transfer...",timestamp:Date.now()});let je=0;try{const we=await O.current.getBucket(re);je=It(we.available_margin||"0"),V(W,{success:!0,message:`Step 5: Default bucket USDC balance after: ${je.toFixed(2)} USDC`,data:{balance:je,raw:we},timestamp:Date.now()})}catch(we){throw V(W,{success:!1,message:"Step 5: Failed to load bucket balance after transfer",error:we.message,timestamp:Date.now()}),we}V(W,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Ze=ne-Ke,ht=je-se,Qe=rt,ot=rt,De=Math.abs(Ze-Qe)<.01,it=Math.abs(ht-ot)<.01;V(W,{success:De&&it,message:`Step 6: Validation ${De&&it?"PASSED":"FAILED"}`,data:{walletBalanceBefore:ne.toFixed(2),walletBalanceAfter:Ke.toFixed(2),walletBalanceDecrease:Ze.toFixed(2),expectedWalletDecrease:Qe.toFixed(2),walletDecreaseValid:De,bucketBalanceBefore:se.toFixed(2),bucketBalanceAfter:je.toFixed(2),bucketBalanceIncrease:ht.toFixed(2),expectedBucketIncrease:ot.toFixed(2),bucketIncreaseValid:it,transferAmount:rt.toFixed(2)},timestamp:Date.now()}),De||V(W,{success:!1,message:`Validation failed: Wallet balance decrease (${Ze.toFixed(2)}) does not match expected (${Qe.toFixed(2)})`,error:`Expected wallet to decrease by ${Qe.toFixed(2)} USDC, but decreased by ${Ze.toFixed(2)} USDC`,timestamp:Date.now()}),it||V(W,{success:!1,message:`Validation failed: Bucket balance increase (${ht.toFixed(2)}) does not match expected (${ot.toFixed(2)})`,error:`Expected bucket to increase by ${ot.toFixed(2)} USDC, but increased by ${ht.toFixed(2)} USDC`,timestamp:Date.now()}),V(W,{success:De&&it,message:`Spot wallet to bucket transfer test ${De&&it?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${rt.toFixed(2)} USDC`,walletBalanceBefore:`${ne.toFixed(2)} USDC`,walletBalanceAfter:`${Ke.toFixed(2)} USDC`,walletBalanceChange:`${Ze.toFixed(2)} USDC`,bucketBalanceBefore:`${se.toFixed(2)} USDC`,bucketBalanceAfter:`${je.toFixed(2)} USDC`,bucketBalanceChange:`${ht.toFixed(2)} USDC`,validationPassed:De&&it},timestamp:Date.now()})}catch(ne){V(W,{success:!1,message:"Spot wallet to bucket transfer test failed",error:ne.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping spot wallet to bucket transfer test: No valid default bucket ID found",timestamp:Date.now()})}else V(W,{success:!0,message:"Skipping spot wallet to bucket transfer test: No buckets available",timestamp:Date.now()});V(W,{success:!0,message:"Testing createBucket() (create new margin bucket)...",timestamp:Date.now()});try{V(W,{success:!0,message:"Step 1: Getting current bucket count before creation...",timestamp:Date.now()});let _e=[],re=0;try{if(!O.current)throw new Error("InfoClient not initialized");_e=await O.current.getBuckets(ue),re=Array.isArray(_e)?_e.length:0,V(W,{success:!0,message:`Step 1: Current bucket count: ${re}`,data:{bucketCount:re,buckets:Array.isArray(_e)?_e.slice(0,3).map(Le=>({bucketId:Le.bucket_id||Le.id||Le.bucketId,marginType:Le.margin_type||Le.marginType,collateralAsset:Le.collateral_asset||Le.collateralAsset})):[]},timestamp:Date.now()})}catch(Le){throw V(W,{success:!1,message:"Step 1: Failed to get current buckets",error:Le.message,timestamp:Date.now()}),Le}V(W,{success:!0,message:"Step 2: Creating cross margin USDC bucket...",timestamp:Date.now()});let ne=null,se=null;try{if(ne=await I.current.createBucket({bucketType:"USDC",marginType:"cross"}),!ne||!ne.success)throw new Error((ne==null?void 0:ne.message)||"Failed to create bucket");se=ne.bucket_id||null,V(W,{success:!!ne&&!!se,message:`Step 2: Cross margin USDC bucket created successfully. Bucket ID: ${se==null?void 0:se.substring(0,16)}...`,data:{createResult:ne,bucketId:se,bucketType:"USDC",marginType:"cross"},timestamp:Date.now()})}catch(Le){V(W,{success:!1,message:"Step 2: Failed to create cross margin USDC bucket",error:Le.message,timestamp:Date.now()})}if(se&&await new Promise(Le=>setTimeout(Le,2e3)),se){V(W,{success:!0,message:"Step 3: Validating bucket was created...",timestamp:Date.now()});try{if(!O.current)throw new Error("InfoClient not initialized");const Le=await O.current.getBuckets(ue),Ke=Array.isArray(Le)?Le.length:0,je=Array.isArray(Le)?Le.find(Qe=>(Qe.bucket_id||Qe.id||Qe.bucketId)===se):null,Ze=!!je,ht=Ke>re;V(W,{success:Ze&&ht,message:`Step 3: Bucket validation ${Ze&&ht?"PASSED":"FAILED"}`,data:{bucketCountBefore:re,bucketCountAfter:Ke,bucketCountIncreased:ht,createdBucketId:se,bucketFound:Ze,createdBucket:je?{bucketId:je.bucket_id,marginType:je.margin_type,collateralAsset:je.collateral_asset}:null},timestamp:Date.now()}),Ze||V(W,{success:!1,message:`Validation failed: Created bucket (${se==null?void 0:se.substring(0,16)}...) not found in bucket list`,error:"Bucket was created but not found in subsequent query",timestamp:Date.now()}),ht||V(W,{success:!1,message:`Validation failed: Bucket count did not increase (before: ${re}, after: ${Ke})`,error:"Bucket count should increase after creation",timestamp:Date.now()})}catch(Le){V(W,{success:!1,message:"Step 3: Failed to validate bucket creation",error:Le.message,timestamp:Date.now()})}}V(W,{success:!0,message:"Step 4: Testing isolated margin USDC bucket creation...",timestamp:Date.now()});let rt=null;try{const Le=await I.current.createBucket({bucketType:"USDC",marginType:"isolated"});if(!Le||!Le.success)throw new Error((Le==null?void 0:Le.message)||"Failed to create isolated bucket");rt=Le.bucket_id||null,V(W,{success:!!Le&&!!rt,message:`Step 4: Isolated margin USDC bucket created successfully. Bucket ID: ${rt==null?void 0:rt.substring(0,16)}...`,data:{createResult:Le,bucketId:rt,bucketType:"USDC",marginType:"isolated"},timestamp:Date.now()})}catch(Le){V(W,{success:!1,message:"Step 4: Failed to create isolated margin USDC bucket",error:Le.message,timestamp:Date.now()})}V(W,{success:!0,message:`Create bucket test ${se&&rt?"COMPLETED SUCCESSFULLY":"COMPLETED WITH SOME FAILURES"}`,data:{crossMarginBucketId:se,isolatedMarginBucketId:rt,bucketCountBefore:re,testsPerformed:["createBucket (cross margin USDC)","createBucket (isolated margin USDC)"]},timestamp:Date.now()})}catch(_e){V(W,{success:!1,message:"Create bucket test failed",error:_e.message,timestamp:Date.now()})}V(W,{success:!0,message:"ExchangeClient tests completed",data:{walletAddress:ue,marketId:ce,sessionToken:s?"present":"not set",authToken:a?"present":"not set",methodsTested:["placeOrder","cancelOrder","closePosition","extractToBucket","withdrawFromBucket","bucketTransfer","createBucket"]},timestamp:Date.now()})}catch(ue){V(W,{success:!1,message:"ExchangeClient test error",error:ue.message,timestamp:Date.now()})}},Ve=async()=>{if(!f){p(!0),Ie(),pt.info("Running tests",{description:"Starting comprehensive SDK test suite..."});try{nt(),await He(),await Ue("Authentication"),await mt(),N&&await xe()}catch(W){V("General",{success:!1,message:"Test suite error",error:W.message,timestamp:Date.now()}),pt.error("Test suite error",{description:W.message||"An unexpected error occurred during testing.",duration:6e3})}finally{p(!1)}}};return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"SDK QA"}),g.jsx("p",{children:"Comprehensive test suite for all SDK APIs"}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"sdk-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:W=>e(W.target.value),className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:W=>{const de=W.target.value;de&&i(de)},className:"sdk-test-config-select",children:D.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),D.map(W=>{var pe;const de=W.market_id??((pe=W.id)==null?void 0:pe.toString())??"",me=W.moniker?W.moniker:W.symbol?W.symbol:W.baseAsset&&W.quoteAsset?`${W.baseAsset}-${W.quoteAsset}`:`Market ID: ${de}`,oe=W.active?" [ACTIVE]":"";return g.jsxs("option",{value:de,children:[me," - ID: ",de,oe]},de)})]})}),D.length>0&&g.jsx("small",{className:`sdk-test-config-hint ${r===Te?"info":"warning"}`,children:r===Te?` Auto-selected default market (ID: ${Te==null?void 0:Te.substring(0,16)}...)`:` Manual selection (ID: ${r==null?void 0:r.substring(0,16)}...)`})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic (for ExchangeClient):",g.jsx("input",{type:"text",value:N||"",onChange:W=>Y(W.target.value),placeholder:"Optional",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Session Token (for authenticated InfoClient):",g.jsx("input",{type:"text",value:s,onChange:W=>o(W.target.value),disabled:!!(s&&s.trim()!==""),placeholder:"Optional",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Auth Token:",g.jsx("input",{type:"text",value:a,onChange:W=>l(W.target.value),disabled:!!(H&&H.trim()!==""),placeholder:H?"Auto-filled from onboarding":'Optional - Use "Onboard" button to generate',className:"sdk-test-config-input"}),H&&g.jsx("small",{className:"sdk-test-config-hint success",children:" Auto-filled from onboarding"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:R||"",disabled:!!(N&&N.trim()!==""),onChange:()=>{},placeholder:"automatic (from mnemonic)",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Device ID:",g.jsx("input",{type:"text",value:c,onChange:W=>u(W.target.value),className:"sdk-test-config-input"})]})}),g.jsxs("div",{className:"control-box",children:[g.jsx(Y7e,{isRunning:f,onClick:Ve}),g.jsx(K7e,{mnemonic:N||"",baseURL:n,onboardLoading:m,isRunning:f,onOnboard:async(W,de)=>{if(W&&W.trim()!==""){b(!0);try{await Ue("Authentication")}catch(me){console.error("Authentication test error:",me)}finally{b(!1)}}else pt.warning("Mnemonic required",{description:"Please enter a mnemonic first to run authentication flow."})}}),g.jsx(Q7e,{isRunning:f,isLoading:y,onClick:()=>{v(!0);try{nt()}catch(W){console.error("Utility test error:",W)}finally{setTimeout(()=>{v(!1)},100)}}}),g.jsx(J7e,{isRunning:f,isLoading:w,onClick:async()=>{_(!0);try{await He()}catch(W){console.error("Info Client test error:",W)}finally{_(!1)}}}),g.jsx(Z7e,{isRunning:f,isLoading:x,onClick:async()=>{S(!0);try{await mt()}catch(W){console.error("Wallet Specific test error:",W)}finally{S(!1)}}}),g.jsx(e9e,{mnemonic:N||"",isRunning:f,isLoading:C,onClick:async()=>{if(N&&N.trim()!==""){E(!0);try{await xe()}catch(W){console.error("Exchange Client test error:",W)}finally{E(!1)}}else pt.warning("Mnemonic required",{description:"Please enter a mnemonic first to run Exchange Client tests."})}}),g.jsx(X7e,{isRunning:f,onClick:Ie})]})]}),H&&g.jsxs("span",{className:"sdk-test-status success",children:[" Auth Token: ",H.substring(0,20),"..."]}),U&&g.jsxs("span",{className:"sdk-test-status error",children:[" Onboard Error: ",U,g.jsx(t9e,{onClick:K})]})]}),g.jsx("div",{className:"sdk-test-results",children:Object.entries(d).map(([W,de])=>{const me=T.has(W);return g.jsxs("div",{className:"sdk-test-section",children:[g.jsx(r9e,{sectionName:W,isExpanded:me,onToggle:()=>Ye(W)}),me&&g.jsx("div",{className:"sdk-test-section-content",children:de.results.map((oe,pe)=>g.jsx(n9e,{result:oe},pe))})]},W)})}),Object.keys(d).length===0&&!f&&g.jsx("div",{className:"sdk-test-empty-state",children:'Click "Run All Tests" to start testing the SDK APIs'})]})}const s9e=({isConnected:n,isConnecting:e,onConnect:r,onDisconnect:i})=>g.jsxs("div",{className:"config-actions",children:[g.jsx("button",{className:"nav-button",onClick:r,disabled:n||e,style:{backgroundColor:n?"#ccc":e?"#ffc107":"#28a745",color:"white",cursor:n||e?"not-allowed":"pointer"},children:e?" Connecting...":n?" Connected":"Connect"}),e&&g.jsx("span",{style:{color:"#666",fontSize:"0.9rem"},children:"Connection in progress... Check messages below for details"}),g.jsx("button",{className:"nav-button",onClick:i,disabled:!n,style:{backgroundColor:n?"#dc3545":"#ccc",cursor:n?"pointer":"not-allowed"},children:"Disconnect"})]}),o9e=({onClick:n})=>g.jsx("button",{onClick:n,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear"}),Ii=({channel:n,isSubscribed:e,isConnected:r,disabled:i=!1,subscribeLabel:s,unsubscribeLabel:o,onSubscribe:a,onUnsubscribe:l,variant:c="public"})=>{const u=!r||i,d=e?"#dc3545":c==="private"?"#28a745":"#007bff";return g.jsx("button",{onClick:e?l:a,disabled:u,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",backgroundColor:d,color:"white",border:"none",borderRadius:"4px",cursor:u?"not-allowed":"pointer"},children:e?o:s})},a9e=({steps:n})=>n.length===0?null:g.jsxs("div",{className:"connection-steps-container",children:[g.jsx("h2",{children:"Connection Steps"}),g.jsx("div",{className:"connection-steps-list",children:n.map((e,r)=>g.jsxs("div",{className:`connection-step-item ${e.status==="error"?"error":e.status==="success"?"success":e.status==="in-progress"?"in-progress":"pending"}`,children:[g.jsx("span",{className:"connection-step-icon",children:e.status==="error"?"":e.status==="success"?"":e.status==="in-progress"?"":""}),g.jsxs("div",{className:"connection-step-content",children:[g.jsxs("div",{className:"connection-step-title",children:["Step ",e.step,": ",e.message]}),e.details&&g.jsx("div",{className:"connection-step-details",children:JSON.stringify(e.details,null,2)}),g.jsx("div",{className:"connection-step-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]})]},r))})]}),l9e=({wsURL:n,onWsURLChange:e,marketId:r,onMarketIdChange:i,markets:s,symbol:o,onSymbolChange:a,klineInterval:l,onKlineIntervalChange:c,twapWindowSize:u,onTwapWindowSizeChange:d,authToken:h,onAuthTokenChange:f,walletAddress:p,deviceID:m,onDeviceIDChange:b,isConnected:y,isConnecting:v,onConnect:w,onDisconnect:_})=>g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["WebSocket URL:",g.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),className:"config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:x=>i(x.target.value),className:"config-select",children:s.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),s.map(x=>{var T;const S=x.market_id??((T=x.market_id)==null?void 0:T.toString())??"",C=x.moniker?x.moniker:x.symbol?x.symbol:x.baseAsset&&x.quoteAsset?`${x.baseAsset}-${x.quoteAsset}`:`Market ID: ${S}`,E=x.active?" [ACTIVE]":"";return g.jsxs("option",{value:S,children:[C," - ID: ",S,E]},S)})]})})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Symbol (for funding_rate, deviation, index_price, mark_price, price_feed, twap):",g.jsx("input",{type:"text",value:o,onChange:x=>a(x.target.value),placeholder:"e.g., BTC/USDT or BTC/USDC",className:"config-input"}),o&&!o.includes("/")&&g.jsx("small",{className:"config-error",children:' Symbol must be in format "BASE/QUOTE" (e.g., "BTC/USDC")'})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Kline Interval:",g.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"config-select",children:[g.jsx("option",{value:"1m",children:"1 minute"}),g.jsx("option",{value:"5m",children:"5 minutes"}),g.jsx("option",{value:"15m",children:"15 minutes"}),g.jsx("option",{value:"1h",children:"1 hour"}),g.jsx("option",{value:"4h",children:"4 hours"}),g.jsx("option",{value:"1d",children:"1 day"})]})]})}),g.jsx("div",{children:g.jsxs("label",{children:["TWAP Window Size (seconds):",g.jsx("input",{type:"number",value:u,onChange:x=>d(x.target.value),placeholder:"e.g., 300 for 5 minutes",min:"1",className:"config-input"}),u&&(isNaN(Number(u))||Number(u)<=0)&&g.jsx("small",{className:"config-error",children:" Window size must be a positive number"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Auth Token (for private channels):",g.jsx("input",{type:"text",value:h,onChange:x=>f(x.target.value),placeholder:"Required for user_updates (auto-filled from SDK Test Page)",className:"config-input"}),h&&g.jsx("small",{className:"config-hint",children:" Auto-filled from SDK Test Page"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:p||"",disabled:!0,placeholder:"Auto-filled from useOnboard hook",className:`config-input-disabled ${p?"has-value":""}`}),p&&g.jsx("small",{className:"config-hint",children:" Auto-filled from useOnboard hook"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Device ID:",g.jsx("input",{type:"text",value:m,onChange:x=>b(x.target.value),className:"config-input"})]})})]}),g.jsx(s9e,{isConnected:y,isConnecting:v,onConnect:w,onDisconnect:_})]}),c9e=({data:n})=>g.jsxs("div",{className:"funding-rate-details",children:[g.jsx("strong",{className:"funding-rate-title",children:"Funding Rate Details:"}),g.jsxs("div",{className:"funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",n.symbol??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Rate:"})," ",n.funding_rate?parseFloat(String(n.funding_rate)).toFixed(6):"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",n.mark_price??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",n.index_price??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Premium Rate:"})," ",n.premium_rate??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"EMA Funding Rate:"})," ",n.ema_funding_rate??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Next Funding Time:"})," ",n.next_funding_time_unix?new Date(n.next_funding_time_unix*1e3).toLocaleString():"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Interval:"})," ",n.funding_interval_seconds?`${n.funding_interval_seconds}s`:"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Valid:"})," ",n.is_valid!==void 0?n.is_valid?"Yes":"No":"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Stale:"})," ",g.jsx("span",{className:`funding-rate-stale ${n.is_stale?"":"valid"}`,children:n.is_stale!==void 0?n.is_stale?"Yes":"No":"N/A"})]}),n.option_type&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Option Type:"})," ",n.option_type]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Strike Price:"})," ",n.strike_price??"N/A"]})]})]})]}),u9e=({positions:n})=>!n||n.length===0?null:g.jsxs("div",{className:"positions-container",children:[g.jsxs("strong",{className:"positions-title",children:["Positions (",n.length,"):"]}),g.jsx("div",{className:"positions-grid",children:n.map((e,r)=>{const i=e.size||0,s=i>=0?"LONG":"SHORT";return g.jsxs("div",{className:"position-card",children:[g.jsx("div",{className:"position-symbol",children:e.symbol||`Market ${e.marketId||e.market_id||"N/A"}`}),g.jsxs("div",{className:"position-details",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Side:"})," ",g.jsx("span",{className:s==="LONG"?"position-side-long":"position-side-short",children:s})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Size:"})," ",Math.abs(i).toFixed(8)]}),e.entryPrice!==void 0||e.entry_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Entry Price:"})," ",(e.entryPrice||e.entry_price||0).toFixed(8)]}):null,e.markPrice!==void 0||e.mark_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",(e.markPrice||e.mark_price||0).toFixed(8)]}):null,e.liquidationPrice!==void 0||e.liquidation_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Liquidation Price:"})," ",(e.liquidationPrice||e.liquidation_price||0).toFixed(8)]}):null,e.unrealizedPnL!==void 0||e.unrealized_pnl!==void 0||e.pnl!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Unrealized PnL:"})," ",g.jsx("span",{className:(e.unrealizedPnL||e.unrealized_pnl||e.pnl||0)>=0?"position-pnl-positive":"position-pnl-negative",children:(e.unrealizedPnL||e.unrealized_pnl||e.pnl||0).toFixed(8)})]}):null,e.leverage!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Leverage:"})," ",e.leverage,"x"]}):null,e.margin!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Margin:"})," ",e.margin.toFixed(8)]}):null,e.marginMode!==void 0||e.margin_mode!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Margin Mode:"})," ",e.marginMode||e.margin_mode||"N/A"]}):null]})]},r)})})]}),d9e=({message:n})=>{const{channel:e,data:r,type:i,step:s,timestamp:o}=n,a=e==="funding_rate"&&typeof r=="object"&&r!==null,l=e==="user_updates"&&typeof r=="object"&&r!==null&&Array.isArray(r.positions)&&r.positions.length>0,c=a||l;return g.jsx("div",{className:`message-item ${i}`,children:g.jsx("div",{className:"message-header",children:g.jsxs("div",{className:"message-content",children:[g.jsxs("div",{className:"message-title",children:[g.jsxs("span",{children:["[",e,"]"]}),s&&g.jsxs("span",{className:"message-step",children:["(",s,")"]}),g.jsx("span",{children:new Date(o).toLocaleTimeString()})]}),a&&g.jsx(c9e,{data:r}),l&&g.jsx(u9e,{positions:r.positions}),!c&&g.jsxs("div",{className:"message-body",children:[typeof r=="string"?r:JSON.stringify(r).substring(0,20),"..."]}),typeof r!="string"&&g.jsxs("details",{children:[g.jsx("summary",{className:"raw-data-summary",children:"View Raw Data"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(r,null,2)})]})]})})})},h9e=({messages:n,isPrivate:e=!1,emptyMessage:r})=>{const i=e?"No messages yet. Connect with auth token and subscribe to user updates.":"No messages yet. Connect and subscribe to channels to see updates.";return g.jsx("div",{className:`messages-container ${e?"private":"public"}`,children:n.length===0?g.jsx("div",{className:`messages-empty ${e?"private":""}`,children:r||i}):n.map(s=>g.jsx(d9e,{message:s},s.id))})},tq=({title:n,isPrivate:e=!1,messages:r,onClearMessages:i,children:s,emptyMessage:o})=>g.jsxs("div",{className:"channel-section",children:[g.jsxs("div",{className:"channel-header",children:[g.jsx("h2",{className:"channel-title",children:n}),g.jsx(o9e,{onClick:i})]}),g.jsxs("div",{className:"channel-content",children:[g.jsx("div",{className:"channel-buttons-container",children:s}),g.jsx(h9e,{messages:r,isPrivate:e,emptyMessage:o}),e&&g.jsxs("div",{className:"private-note",children:[g.jsx("strong",{children:"Note:"})," Private channels require authentication. Enter your auth token in the configuration above."]})]})]});function f9e(){var Re,he,Pe,_e;const[n,e]=A.useState(eh),[r,i]=A.useState(()=>localStorage.getItem("authToken")||""),[s,o]=A.useState(HC),[a,l]=A.useState(""),[c,u]=A.useState("BTC/USDC"),[d,h]=A.useState("1m"),[f,p]=A.useState("300"),[m,b]=A.useState(!1),[y,v]=A.useState([]),[w,_]=A.useState([]),[x,S]=A.useState(new Set),[C,E]=A.useState([]),[T,M]=A.useState(!1),I=A.useRef(null),O=A.useRef(0),F=gp,{walletAddress:$,authToken:z}=pu(),{markets:D}=Ul({baseURL:F,sessionToken:"",autoFetchMarkets:!0}),j=D.length>0?(((Re=D.find(re=>re.active))==null?void 0:Re.market_id)??D[0].market_id)||(((Pe=(he=D.find(re=>re.active))==null?void 0:he.id)==null?void 0:Pe.toString())??((_e=D[0].id)==null?void 0:_e.toString())??""):null;A.useEffect(()=>{j&&!a&&l(j)},[j]),A.useEffect(()=>{z&&i(z)},[z]),A.useEffect(()=>{const re=se=>{se.key==="authToken"&&se.newValue&&i(se.newValue)};window.addEventListener("storage",re);const ne=setInterval(()=>{const se=localStorage.getItem("authToken");se&&se!==r&&i(se)},1e3);return()=>{window.removeEventListener("storage",re),clearInterval(ne)}},[r]),A.useEffect(()=>{r&&r.trim()!==""&&localStorage.setItem("authToken",r)},[r]);const N=(re,ne,se,rt,Le)=>{const Ke={id:O.current++,timestamp:Date.now(),channel:re,data:ne,type:se,step:Le};rt?_(je=>[...je.slice(-99),Ke]):v(je=>[...je.slice(-99),Ke])},R=(re,ne,se,rt)=>{E(Le=>[...Le,{step:re,status:ne,message:se,timestamp:Date.now(),details:rt}])},H=()=>{E([])},U=async()=>{var Le;if((Le=I.current)!=null&&Le.isConnected()){N("connection","Already connected","info",!1);return}if(M(!0),H(),R("1","in-progress","Validating configuration..."),N("connection","Starting connection process...","debug",!1,"Step 1: Validation"),!n||!n.trim()){R("1","error","WebSocket URL is required"),N("connection","Error: WebSocket URL is required","error",!1,"Step 1: Validation"),M(!1);return}try{const Ke=new URL(n);if(Ke.protocol!=="ws:"&&Ke.protocol!=="wss:")throw new Error("URL must use ws:// or wss:// protocol");R("1","success",`URL format valid: ${n}`),N("connection",`URL validated: ${n}`,"debug",!1,"Step 1: Validation")}catch(Ke){R("1","error",`Invalid URL format: ${Ke.message}`),N("connection",`Error: Invalid URL format - ${Ke.message}`,"error",!1,"Step 1: Validation"),M(!1);return}R("2","in-progress","Building connection URL with parameters...");const re=[];r&&re.push(`token=${encodeURIComponent(r)}`),$&&re.push(`wallet=${encodeURIComponent($)}`),s&&re.push(`device_id=${encodeURIComponent(s)}`);const ne=n.includes("?")?"&":"?",se=re.length>0?`${n}${ne}${re.join("&")}`:n;if(R("2","success",`Connection URL: ${se}`),N("connection",`Connection URL: ${se}`,"debug",!1,"Step 2: URL Construction"),re.length>0?N("connection",`Query parameters: ${re.join(", ")}`,"debug",!1,"Step 2: URL Construction"):N("connection","No query parameters (authToken, walletAddress, deviceID)","warning",!1,"Step 2: URL Construction"),R("3","in-progress","Cleaning up existing connection..."),I.current)try{I.current.disconnect(),R("3","success","Previous connection cleaned up"),N("connection","Previous connection cleaned up","debug",!1,"Step 3: Cleanup")}catch{R("3","success","No previous connection to clean up"),N("connection","No previous connection found","debug",!1,"Step 3: Cleanup")}else R("3","success","No previous connection to clean up");R("4","in-progress","Creating SubscriptionClient instance...");try{I.current=new p0({url:n,authToken:r||void 0,walletAddress:$||void 0,deviceID:s||void 0}),R("4","success","SubscriptionClient created"),N("connection","SubscriptionClient instance created","debug",!1,"Step 4: Client Creation"),N("connection",`Config: ${JSON.stringify({url:n,hasToken:!!r,hasWallet:!!$,deviceID:s},null,2)}`,"debug",!1,"Step 4: Client Creation")}catch(Ke){R("4","error",`Failed to create client: ${Ke.message}`),N("connection",`Error creating client: ${Ke.message}`,"error",!1,"Step 4: Client Creation"),M(!1);return}R("5","in-progress","Initiating WebSocket connection..."),N("connection","Initiating WebSocket handshake...","debug",!1,"Step 5: Connection"),N("connection","Browser will attempt to upgrade HTTP connection to WebSocket","debug",!1,"Step 5: Connection");const rt=Date.now();try{await I.current.connect();const Ke=Date.now()-rt,je=I.current.isConnected(),Ze=I.current.getState();N("connection",`Connection attempt completed in ${Ke}ms`,"debug",!1,"Step 5: Connection"),N("connection",`Connection state: ${Ze}`,"debug",!1,"Step 5: Connection"),b(je),je?(R("5","success",`WebSocket connected successfully (${Ke}ms)`),N("connection"," WebSocket connected successfully!","success",!1,"Step 5: Connection"),N("connection",`Connection established in ${Ke}ms`,"success",!1,"Step 5: Connection")):(R("5","error","Connection completed but state is not connected"),N("connection"," Connection attempt completed but state is not connected","error",!1,"Step 5: Connection"),N("connection",`Current state: ${Ze}`,"error",!1,"Step 5: Connection"))}catch(Ke){const je=Date.now()-rt,Ze=Ke.message||String(Ke);let ht="",Qe=null,ot=null;const De=Ze.match(/code\s+(\d+)/i);De&&(Qe=parseInt(De[1],10));const it=Ze.match(/\b(40[0-9]|50[0-9])\b/);if(it&&(ot=parseInt(it[1],10)),Qe!==null)switch(Qe){case 1006:ht=`WebSocket Close Code 1006 (Abnormal Closure)
The connection was closed abnormally. Possible causes:
- Server is not running or unreachable
- Wrong URL or port
- Network connectivity issues
- Firewall blocking the connection
- DNS resolution failure
- SSL/TLS handshake failure (for wss://)`;break;case 1002:ht=`WebSocket Close Code 1002 (Protocol Error)
The server encountered a protocol error. Possible causes:
- Server does not support WebSocket protocol
- Protocol version mismatch
- Invalid WebSocket handshake`;break;case 1003:ht=`WebSocket Close Code 1003 (Unsupported Data Type)
The server received data in an unsupported format.`;break;case 1008:ht=`WebSocket Close Code 1008 (Policy Violation)
Connection closed due to policy violation. Possible causes:
- Authentication failed (missing or invalid token)
- Authorization failed (insufficient permissions)
- Rate limiting or quota exceeded
- Server policy restrictions`;break;case 1011:ht=`WebSocket Close Code 1011 (Server Error)
Server encountered an internal error. Check server logs for details.`;break;case 1e3:ht=`WebSocket Close Code 1000 (Normal Closure)
Connection closed normally but before opening. This may indicate:
- Server rejected the connection immediately
- Connection timeout`;break;case 1001:ht=`WebSocket Close Code 1001 (Going Away)
Server is going away or restarting.`;break;case 1007:ht=`WebSocket Close Code 1007 (Invalid Data)
Server received invalid data format.`;break;case 1009:ht=`WebSocket Close Code 1009 (Message Too Big)
Message size exceeds server limits.`;break;case 1010:ht=`WebSocket Close Code 1010 (Extension Error)
Server could not negotiate required extensions.`;break;case 1012:ht=`WebSocket Close Code 1012 (Service Restart)
Service is restarting.`;break;case 1013:ht=`WebSocket Close Code 1013 (Try Again Later)
Service temporarily unavailable, try again later.`;break;case 1014:ht=`WebSocket Close Code 1014 (Bad Gateway)
Server acting as gateway received invalid response.`;break;case 1015:ht=`WebSocket Close Code 1015 (TLS Handshake)
TLS handshake failure (for secure WebSocket connections).`;break;default:ht=`WebSocket Close Code ${Qe}
Connection closed with this close code. Check WebSocket specification for details.`}else if(ot!==null)switch(ot){case 401:ht=`HTTP 401 (Unauthorized)
Authentication failed. Possible causes:
- Missing or invalid JWT token
- Token expired
- Server requires authentication but no token provided
- Token signature verification failed
Note: If server uses JWT auth, you must provide a valid token in the authToken field.`;break;case 403:ht=`HTTP 403 (Forbidden)
Access denied. Possible causes:
- Insufficient permissions
- Account restrictions
- IP address blocked`;break;case 404:ht=`HTTP 404 (Not Found)
WebSocket endpoint not found. Check the WebSocket URL.`;break;case 500:case 502:case 503:case 504:ht=`HTTP ${ot} (Server Error)
Server error occurred. Check server logs for details.`;break;default:ht=`HTTP ${ot}
Connection failed with this HTTP status code.`}else Ze.includes("abnormal closure")||Ze.toLowerCase().includes("abnormal")?ht=`Abnormal Connection Closure
The server closed the connection abnormally. Possible causes:
- Server is not running
- Wrong URL or port
- Network connectivity issues
- Firewall blocking the connection`:Ze.includes("protocol error")||Ze.toLowerCase().includes("protocol")?ht=`WebSocket Protocol Error
The server may not support WebSocket connections or there's a protocol mismatch.`:Ze.includes("policy violation")||Ze.toLowerCase().includes("policy")?ht=`Policy Violation
Connection closed due to policy violation. Check authentication requirements.`:Ze.includes("server error")||Ze.toLowerCase().includes("server error")?ht=`Server Error
Server returned an error. Check server logs for details.`:Ze.includes("Unauthorized")||Ze.includes("unauthorized")||Ze.includes("401")?ht=`Authentication Failed
Possible causes:
- Missing or invalid JWT token (if server requires authentication)
- Token expired
- Server is in production mode requiring JWT authentication
Note: If server uses JWT auth, you must provide a valid token in the authToken field.`:Ze.includes("timeout")||Ze.toLowerCase().includes("timeout")?ht=`Connection Timeout
The connection attempt timed out. Possible causes:
- Server is not responding
- Network latency is too high
- Firewall blocking the connection`:(Ze.includes("network")||Ze.toLowerCase().includes("network"))&&(ht=`Network Error
Network-related issue detected. Check:
- Internet connection
- Firewall settings
- Proxy configuration`);let we=`Connection failed: ${Ze}`;if(Qe!==null&&(we+=` (Close Code: ${Qe})`),ot!==null&&(we+=` (HTTP Status: ${ot})`),R("5","error",we),N("connection",` Connection error: ${Ze}`,"error",!1,"Step 5: Connection"),Qe!==null||ot!==null){const _t={};Qe!==null&&(_t.closeCode=Qe),ot!==null&&(_t.httpStatusCode=ot),N("connection",`Extracted error info: ${JSON.stringify(_t,null,2)}`,"debug",!1,"Step 5: Connection")}ht&&N("connection",`Error details:
${ht}`,"error",!1,"Step 5: Connection"),N("connection",`Connection failed after ${je}ms`,"error",!1,"Step 5: Connection"),N("connection",`Full error: ${JSON.stringify(Ke,Object.getOwnPropertyNames(Ke),2)}`,"error",!1,"Step 5: Connection"),b(!1)}finally{M(!1)}},K=()=>{if(I.current)try{I.current.disconnect(),b(!1),S(new Set),N("connection","WebSocket disconnected","info",!1)}catch(re){N("connection",`Disconnect error: ${re.message}`,"error",!1)}},Y=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("orderbook","Not connected. Please connect first.","error",!1);return}if(!a){N("orderbook","Please select a market first","error",!1);return}const re=se=>{N("orderbook",se,"success",!1)};try{I.current.subscribeOrderbook(a,re,!0),S(se=>new Set([...se,"orderbook"])),N("orderbook",`Subscribed to orderbook for market ${a}`,"success",!1)}catch(se){N("orderbook",`Subscription error: ${se.message}`,"error",!1)}},J=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribeOrderbook(a),S(ne=>{const se=new Set(ne);return se.delete("orderbook"),se}),N("orderbook","Unsubscribed from orderbook","info",!1)}catch(ne){N("orderbook",`Unsubscribe error: ${ne.message}`,"error",!1)}},G=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("trades","Not connected. Please connect first.","error",!1);return}if(!a){N("trades","Please select a market first","error",!1);return}const re=se=>{N("trades",se,"success",!1)};try{I.current.subscribeTrades(a,re),S(se=>new Set([...se,"trades"])),N("trades",`Subscribed to trades for market ${a}`,"success",!1)}catch(se){N("trades",`Subscription error: ${se.message}`,"error",!1)}},X=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribeTrades(a),S(ne=>{const se=new Set(ne);return se.delete("trades"),se}),N("trades","Unsubscribed from trades","info",!1)}catch(ne){N("trades",`Unsubscribe error: ${ne.message}`,"error",!1)}},ae=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("ticker","Not connected. Please connect first.","error",!1);return}if(!a){N("ticker","Please select a market first","error",!1);return}const re=se=>{N("ticker",se,"success",!1)};try{I.current.subscribeTicker(a,re),S(se=>new Set([...se,"ticker"])),N("ticker",`Subscribed to ticker for market ${a}`,"success",!1)}catch(se){N("ticker",`Subscription error: ${se.message}`,"error",!1)}},ge=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribeTicker(a),S(ne=>{const se=new Set(ne);return se.delete("ticker"),se}),N("ticker","Unsubscribed from ticker","info",!1)}catch(ne){N("ticker",`Unsubscribe error: ${ne.message}`,"error",!1)}},le=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("last_price","Not connected. Please connect first.","error",!1);return}if(!a){N("last_price","Please select a market first","error",!1);return}const re=se=>{N("last_price",se,"success",!1)};try{I.current.subscribeLastPrice(a,re,!0),S(se=>new Set([...se,"last_price"])),N("last_price",`Subscribed to last price for market ${a}`,"success",!1)}catch(se){N("last_price",`Subscription error: ${se.message}`,"error",!1)}},ie=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribeLastPrice(a),S(ne=>{const se=new Set(ne);return se.delete("last_price"),se}),N("last_price","Unsubscribed from last price","info",!1)}catch(ne){N("last_price",`Unsubscribe error: ${ne.message}`,"error",!1)}},Te=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("user_updates","Not connected. Please connect first.","error",!0);return}if(!$){N("user_updates","Wallet address required for position updates (positions channel)","error",!0);return}const re=se=>{N("user_updates",se,"success",!0)};try{I.current.subscribeUserUpdates(re),S(se=>new Set([...se,"user_updates"])),N("user_updates","Subscribed to user updates (positions, orders, etc.)","success",!0)}catch(se){N("user_updates",`Subscription error: ${se.message}`,"error",!0)}},Ee=()=>{var re;if((re=I.current)!=null&&re.isConnected())try{I.current.unsubscribeUserUpdates(),S(ne=>{const se=new Set(ne);return se.delete("user_updates"),se}),N("user_updates","Unsubscribed from user updates","info",!0)}catch(ne){N("user_updates",`Unsubscribe error: ${ne.message}`,"error",!0)}},V=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("funding_rate","Not connected. Please connect first.","error",!1);return}if(!a){N("funding_rate","Please select a market first","error",!1);return}const re=se=>{N("funding_rate",se,"success",!1)};try{I.current.subscribeFundingRate(a,re),S(se=>new Set([...se,"funding_rate"])),N("funding_rate",`Subscribed to funding rate for market ${a}`,"success",!1)}catch(se){N("funding_rate",`Subscription error: ${se.message}`,"error",!1)}},Ie=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribeFundingRate(a),S(ne=>{const se=new Set(ne);return se.delete("funding_rate"),se}),N("funding_rate","Unsubscribed from funding rate","info",!1)}catch(ne){N("funding_rate",`Unsubscribe error: ${ne.message}`,"error",!1)}},Ye=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("buckets","Not connected. Please connect first.","error",!0);return}if(!$){N("buckets","Wallet address required for buckets subscription","error",!0);return}const re=se=>{N("buckets",se,"success",!0)};try{I.current.subscribeBuckets(re),S(se=>new Set([...se,"buckets"])),N("buckets","Subscribed to buckets","success",!0)}catch(se){N("buckets",`Subscription error: ${se.message}`,"error",!0)}},nt=()=>{var re;if((re=I.current)!=null&&re.isConnected())try{I.current.unsubscribeBuckets(),S(ne=>{const se=new Set(ne);return se.delete("buckets"),se}),N("buckets","Unsubscribed from buckets","info",!0)}catch(ne){N("buckets",`Unsubscribe error: ${ne.message}`,"error",!0)}},Ue=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("deviation","Not connected. Please connect first.","error",!1);return}if(!a){N("deviation","Please select a market first","error",!1);return}const re=se=>{N("deviation",se,"success",!1)};try{I.current.subscribeDeviation(a,re),S(se=>new Set([...se,"deviation"])),N("deviation",`Subscribed to deviation for market ${a}`,"success",!1)}catch(se){N("deviation",`Subscription error: ${se.message}`,"error",!1)}},mt=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribeDeviation(a),S(ne=>{const se=new Set(ne);return se.delete("deviation"),se}),N("deviation","Unsubscribed from deviation","info",!1)}catch(ne){N("deviation",`Unsubscribe error: ${ne.message}`,"error",!1)}},He=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("index_price","Not connected. Please connect first.","error",!1);return}if(!a){N("index_price","Please select a market first","error",!1);return}const re=se=>{N("index_price",se,"success",!1)};try{I.current.subscribeIndexPrice(a,re),S(se=>new Set([...se,"index_price"])),N("index_price",`Subscribed to index price for market ${a}`,"success",!1)}catch(se){N("index_price",`Subscription error: ${se.message}`,"error",!1)}},xe=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribeIndexPrice(a),S(ne=>{const se=new Set(ne);return se.delete("index_price"),se}),N("index_price","Unsubscribed from index price","info",!1)}catch(ne){N("index_price",`Unsubscribe error: ${ne.message}`,"error",!1)}},Ve=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("kline","Not connected. Please connect first.","error",!1);return}if(!a){N("kline","Please select a market first","error",!1);return}if(!d){N("kline","Please select an interval first","error",!1);return}const re=se=>{N("kline",se,"success",!1)};try{I.current.subscribeKline(a,d,re),S(se=>new Set([...se,"kline"])),N("kline",`Subscribed to kline for market ${a} with interval ${d}`,"success",!1)}catch(se){N("kline",`Subscription error: ${se.message}`,"error",!1)}},Oe=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&!(!a||!d))try{I.current.unsubscribeKline(a,d),S(ne=>{const se=new Set(ne);return se.delete("kline"),se}),N("kline","Unsubscribed from kline","info",!1)}catch(ne){N("kline",`Unsubscribe error: ${ne.message}`,"error",!1)}},Ne=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("mark_price","Not connected. Please connect first.","error",!1);return}if(!a){N("mark_price","Please select a market first","error",!1);return}const re=se=>{N("mark_price",se,"success",!1)};try{I.current.subscribeMarkPrice(a,re),S(se=>new Set([...se,"mark_price"])),N("mark_price",`Subscribed to mark price for market ${a}`,"success",!1)}catch(se){N("mark_price",`Subscription error: ${se.message}`,"error",!1)}},Ae=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribeMarkPrice(a),S(ne=>{const se=new Set(ne);return se.delete("mark_price"),se}),N("mark_price","Unsubscribed from mark price","info",!1)}catch(ne){N("mark_price",`Unsubscribe error: ${ne.message}`,"error",!1)}},Se=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("price_feed","Not connected. Please connect first.","error",!1);return}if(!a){N("price_feed","Please select a market first","error",!1);return}const re=se=>{N("price_feed",se,"success",!1)};try{I.current.subscribePriceFeed(a,re),S(se=>new Set([...se,"price_feed"])),N("price_feed",`Subscribed to price feed for market ${a}`,"success",!1)}catch(se){N("price_feed",`Subscription error: ${se.message}`,"error",!1)}},W=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&a)try{I.current.unsubscribePriceFeed(a),S(ne=>{const se=new Set(ne);return se.delete("price_feed"),se}),N("price_feed","Unsubscribed from price feed","info",!1)}catch(ne){N("price_feed",`Unsubscribe error: ${ne.message}`,"error",!1)}},de=()=>{var ne;if(!((ne=I.current)!=null&&ne.isConnected())){N("twap","Not connected. Please connect first.","error",!1);return}if(!a){N("twap","Please select a market first","error",!1);return}if(!f||isNaN(Number(f))||Number(f)<=0){N("twap","Please enter a valid window size (positive number in seconds)","error",!1);return}const re=se=>{N("twap",se,"success",!1)};try{I.current.subscribeTWAP(a,Number(f),re),S(se=>new Set([...se,"twap"])),N("twap",`Subscribed to TWAP for market ${a} with window size ${f}s`,"success",!1)}catch(se){N("twap",`Subscription error: ${se.message}`,"error",!1)}},me=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&!(!a||!f))try{I.current.unsubscribeTWAP(a,Number(f)),S(ne=>{const se=new Set(ne);return se.delete("twap"),se}),N("twap","Unsubscribed from TWAP","info",!1)}catch(ne){N("twap",`Unsubscribe error: ${ne.message}`,"error",!1)}},oe=()=>{if(!I.current){N("multi_feed","SubscriptionClient not initialized. Please connect first.","error",!1);return}if(!I.current.isConnected()){N("multi_feed","Not connected. Please connect first.","error",!1);return}if(!a){N("multi_feed","Please select a market first","error",!1);return}if(!c){N("multi_feed","Please enter a symbol first","error",!1);return}if(typeof I.current.subscribeMultiFeed!="function"){N("multi_feed","subscribeMultiFeed method not available. Please check SDK version.","error",!1),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const re=ne=>{const se=ne.sub_channel||"unknown";$fe(ne)?console.debug("Orderbook update:",ne.data.bids.length,"bids"):zfe(ne)?console.debug("Trade:",ne.data.trade_id,ne.data.price):Ufe(ne)?console.debug("Position update:",ne.data.symbol,ne.data.size):Wfe(ne)?console.debug("Order update:",ne.data.order_id,ne.data.status):qfe(ne)?console.debug("Buckets update:",ne.data.total_buckets):Hfe(ne)&&console.debug("Balances update:",ne.data.count,"assets"),N(`multi_feed:${se}`,ne,"success",se==="balances"||se==="buckets"||se==="orders"||se==="positions")};try{I.current.subscribeMultiFeed(a,re,{symbol:c,interval:d||"1m"}),S(ne=>new Set([...ne,"multi_feed"])),N("multi_feed",`Subscribed to multi-feed for market ${a}, symbol ${c}`,"success",!1)}catch(ne){N("multi_feed",`Subscription error: ${ne.message}`,"error",!1)}},pe=()=>{var re;if((re=I.current)!=null&&re.isConnected()&&!(!a||!c))try{I.current.unsubscribeMultiFeed(a,c),S(ne=>{const se=new Set(ne);return se.delete("multi_feed"),se}),N("multi_feed","Unsubscribed from multi-feed","info",!1)}catch(ne){N("multi_feed",`Unsubscribe error: ${ne.message}`,"error",!1)}},ye=()=>{if(!I.current){N("balances","SubscriptionClient not initialized. Please connect first.","error",!0);return}if(!I.current.isConnected()){N("balances","Not connected. Please connect first.","error",!0);return}if(!$){N("balances","Wallet address required for balances subscription","error",!0);return}if(typeof I.current.subscribeBalances!="function"){N("balances","subscribeBalances method not available. Please check SDK version.","error",!0),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const re=ne=>{N("balances",ne,"success",!0)};try{I.current.subscribeBalances(re),S(ne=>new Set([...ne,"balances"])),N("balances","Subscribed to balances","success",!0)}catch(ne){N("balances",`Subscription error: ${ne.message}`,"error",!0)}},Z=()=>{if(I.current&&I.current.isConnected()){if(typeof I.current.unsubscribeBalances!="function"){N("balances","unsubscribeBalances method not available. Please check SDK version.","error",!0);return}try{I.current.unsubscribeBalances(),S(re=>{const ne=new Set(re);return ne.delete("balances"),ne}),N("balances","Unsubscribed from balances","info",!0)}catch(re){N("balances",`Unsubscribe error: ${re.message}`,"error",!0)}}},ue=()=>{if(!I.current){N("orders","SubscriptionClient not initialized. Please connect first.","error",!0);return}if(!I.current.isConnected()){N("orders","Not connected. Please connect first.","error",!0);return}if(!$){N("orders","Wallet address required for orders subscription","error",!0);return}if(typeof I.current.subscribeOrders!="function"){N("orders","subscribeOrders method not available. Please check SDK version.","error",!0),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const re=ne=>{N("orders",ne,"success",!0)};try{I.current.subscribeOrders(re),S(ne=>new Set([...ne,"orders"])),N("orders","Subscribed to orders","success",!0)}catch(ne){N("orders",`Subscription error: ${ne.message}`,"error",!0)}},ce=()=>{if(I.current&&I.current.isConnected()){if(typeof I.current.unsubscribeOrders!="function"){N("orders","unsubscribeOrders method not available. Please check SDK version.","error",!0);return}try{I.current.unsubscribeOrders(),S(re=>{const ne=new Set(re);return ne.delete("orders"),ne}),N("orders","Unsubscribed from orders","info",!0)}catch(re){N("orders",`Unsubscribe error: ${re.message}`,"error",!0)}}},Ce=re=>{re?_([]):v([])};return A.useEffect(()=>()=>{if(I.current)try{I.current.disconnect()}catch{}},[]),g.jsxs("div",{className:"ws-test-page",children:[g.jsx("h1",{children:"WebSocket QA"}),g.jsx("p",{children:"Test WebSocket subscriptions for public and private channels"}),g.jsx(a9e,{steps:C}),g.jsx(l9e,{wsURL:n,onWsURLChange:e,marketId:a,onMarketIdChange:l,markets:D,symbol:c,onSymbolChange:u,klineInterval:d,onKlineIntervalChange:h,twapWindowSize:f,onTwapWindowSizeChange:p,authToken:r,onAuthTokenChange:i,walletAddress:$,deviceID:s,onDeviceIDChange:o,isConnected:m,isConnecting:T,onConnect:U,onDisconnect:K}),g.jsxs("div",{className:"ws-test-page-layout",children:[g.jsxs(tq,{title:"WebSocket Public",isPrivate:!1,messages:y,onClearMessages:()=>Ce(!1),children:[g.jsxs("div",{className:"channel-buttons-row",children:[g.jsx(Ii,{channel:"orderbook",isSubscribed:x.has("orderbook"),isConnected:m,subscribeLabel:"Subscribe Orderbook",unsubscribeLabel:"Unsubscribe Orderbook",onSubscribe:Y,onUnsubscribe:J}),g.jsx(Ii,{channel:"trades",isSubscribed:x.has("trades"),isConnected:m,subscribeLabel:"Subscribe Trades",unsubscribeLabel:"Unsubscribe Trades",onSubscribe:G,onUnsubscribe:X}),g.jsx(Ii,{channel:"ticker",isSubscribed:x.has("ticker"),isConnected:m,subscribeLabel:"Subscribe Ticker",unsubscribeLabel:"Unsubscribe Ticker",onSubscribe:ae,onUnsubscribe:ge}),g.jsx(Ii,{channel:"last_price",isSubscribed:x.has("last_price"),isConnected:m,subscribeLabel:"Subscribe Last Price",unsubscribeLabel:"Unsubscribe Last Price",onSubscribe:le,onUnsubscribe:ie}),g.jsx(Ii,{channel:"funding_rate",isSubscribed:x.has("funding_rate"),isConnected:m,subscribeLabel:"Subscribe Funding Rate",unsubscribeLabel:"Unsubscribe Funding Rate",onSubscribe:V,onUnsubscribe:Ie}),g.jsx(Ii,{channel:"deviation",isSubscribed:x.has("deviation"),isConnected:m,subscribeLabel:"Subscribe Deviation",unsubscribeLabel:"Unsubscribe Deviation",onSubscribe:Ue,onUnsubscribe:mt}),g.jsx(Ii,{channel:"index_price",isSubscribed:x.has("index_price"),isConnected:m,subscribeLabel:"Subscribe Index Price",unsubscribeLabel:"Unsubscribe Index Price",onSubscribe:He,onUnsubscribe:xe}),g.jsx(Ii,{channel:"kline",isSubscribed:x.has("kline"),isConnected:m,subscribeLabel:"Subscribe Kline",unsubscribeLabel:"Unsubscribe Kline",onSubscribe:Ve,onUnsubscribe:Oe})]}),g.jsxs("div",{className:"channel-buttons-row",children:[g.jsx(Ii,{channel:"mark_price",isSubscribed:x.has("mark_price"),isConnected:m,subscribeLabel:"Subscribe Mark Price",unsubscribeLabel:"Unsubscribe Mark Price",onSubscribe:Ne,onUnsubscribe:Ae}),g.jsx(Ii,{channel:"price_feed",isSubscribed:x.has("price_feed"),isConnected:m,subscribeLabel:"Subscribe Price Feed",unsubscribeLabel:"Unsubscribe Price Feed",onSubscribe:Se,onUnsubscribe:W}),g.jsx(Ii,{channel:"twap",isSubscribed:x.has("twap"),isConnected:m,subscribeLabel:"Subscribe TWAP",unsubscribeLabel:"Unsubscribe TWAP",onSubscribe:de,onUnsubscribe:me}),g.jsx(Ii,{channel:"multi_feed",isSubscribed:x.has("multi_feed"),isConnected:m,subscribeLabel:"Subscribe Multi-Feed",unsubscribeLabel:"Unsubscribe Multi-Feed",onSubscribe:oe,onUnsubscribe:pe})]}),g.jsx("small",{className:"private-note-text-block",style:{marginTop:"10px"},children:"Multi-Feed: Unified channel streaming all sub-channels (orderbook, trades, positions, balances, orders, buckets, etc.) Requires market ID and symbol. Authenticated sub-channels (balances, orders, positions, buckets) require wallet address."})]}),g.jsxs(tq,{title:"WebSocket Private",isPrivate:!0,messages:w,onClearMessages:()=>Ce(!0),children:[g.jsx(Ii,{channel:"user_updates",isSubscribed:x.has("user_updates"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe User Updates",unsubscribeLabel:"Unsubscribe User Updates",onSubscribe:Te,onUnsubscribe:Ee,variant:"private"}),g.jsx("small",{className:"private-note-text",children:"Position updates (positions channel): Requires wallet address. Returns user positions."}),g.jsx(Ii,{channel:"buckets",isSubscribed:x.has("buckets"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Buckets",unsubscribeLabel:"Unsubscribe Buckets",onSubscribe:Ye,onUnsubscribe:nt,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Buckets: User's margin buckets (requires wallet address)"}),g.jsx(Ii,{channel:"balances",isSubscribed:x.has("balances"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Balances",unsubscribeLabel:"Unsubscribe Balances",onSubscribe:ye,onUnsubscribe:Z,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Balances: User's spot balances (USDC, MORM, BTC, etc.) - requires wallet address"}),g.jsx(Ii,{channel:"orders",isSubscribed:x.has("orders"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Orders",unsubscribeLabel:"Unsubscribe Orders",onSubscribe:ue,onUnsubscribe:ce,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Orders: User's open orders - requires wallet address"})]})]})]})}const p9e=({...n})=>g.jsx(w7e,{...n,className:"toaster",expand:!0,richColors:!1,closeButton:!1,toastOptions:{duration:4e3,classNames:{toast:"toast",title:"toast-title",description:"toast-description",actionButton:"toast-action-button",cancelButton:"toast-cancel-button",closeButton:"toast-close-button"}}}),m9e=async n=>{try{return await navigator.clipboard.writeText(n),!0}catch{try{const r=document.createElement("textarea");return r.value=n,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),!0}catch(r){return console.error("Failed to copy to clipboard:",r),!1}}},bi=n=>({label:"Copy",onClick:async()=>{await m9e(n)?pt.success("Error message copied to clipboard"):pt.error("Failed to copy error message")}});function ope(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(""),[c,u]=A.useState(0),[d,h]=A.useState(!1),f=A.useRef(null),p=A.useRef(null),m=A.useRef(0),b=A.useRef(!0),y=A.useRef(!1),v=A.useRef(n);v.current=n;const w=A.useCallback(C=>{const E=c9(C)?C:l9(C);return Bk(E)},[]),_=A.useCallback(async()=>{if(!f.current)return;const C=v.current;if(!C.walletAddress||C.walletAddress.trim()===""){u(0);return}try{const E=await f.current.getBalance(C.walletAddress,"USDC"),T=$t(E.available_balance);u(T)}catch(E){console.warn("Failed to fetch spot wallet balance (USDC):",E),u(0)}},[]),x=A.useCallback(async()=>{if(!f.current)return;const C=v.current;if(!C.walletAddress||C.walletAddress.trim()===""){l("Wallet address is required"),i([]),o(!1),b.current=!1;return}l(""),b.current&&o(!0);try{console.log("[useBucketCollections] [fetchCollections] Starting fetch...",{walletAddress:C.walletAddress,useWebSocket:e,isSubscribed:y.current}),_(),console.log("[useBucketCollections] [fetchCollections] Calling getBuckets API...");const E=await f.current.getBuckets(C.walletAddress);console.log("[useBucketCollections] [fetchCollections] Raw API response:",{response:E,responseType:typeof E,isArray:Array.isArray(E),responseLength:Array.isArray(E)?E.length:"N/A"});const T=Array.isArray(E)?E:[];console.log("[useBucketCollections] [fetchCollections] Buckets data after normalization:",{bucketsData:T,bucketsDataLength:T.length,bucketsDataTypes:T.map((I,O)=>({index:O,type:typeof I,hasBucketId:!!(I!=null&&I.bucket_id),bucketId:I==null?void 0:I.bucket_id}))}),console.log(`[useBucketCollections] [fetchCollections] About to transform ${T.length} buckets:`,T);const M=T.map(Bk);i(M),(!e||!y.current)&&(b.current=!1,o(!1))}catch(E){const T=E instanceof Error?E.message:"Failed to load bucket collections";l(T),console.error("[useBucketCollections] [fetchCollections] Failed to fetch bucket collections:",{error:E,errorMessage:T,walletAddress:C.walletAddress,stack:E instanceof Error?E.stack:void 0}),(!e||!y.current)&&(b.current=!1,o(!1))}},[_,e]),S=A.useCallback(C=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] WebSocket data received:",{data:C,hasBuckets:!!C.buckets,bucketsIsArray:Array.isArray(C.buckets),bucketsLength:Array.isArray(C.buckets)?C.buckets.length:0}),C.buckets&&Array.isArray(C.buckets)){console.log("[useBucketCollections] [handleBucketsUpdate] Transforming WebSocket buckets:",C.buckets);const E=C.buckets.map(w);console.log("[useBucketCollections] [handleBucketsUpdate] Transformed collections:",E);const T=E.filter(M=>M.bucketId&&M.bucketId.trim()!==""&&M.status!=="dormant");if(T.length!==E.length){const M=E.length-T.length,I=E.filter(F=>!F.bucketId||F.bucketId.trim()===""),O=E.filter(F=>F.bucketId&&F.bucketId.trim()!==""&&F.status==="dormant");console.warn(`[useBucketCollections] [handleBucketsUpdate] WebSocket: Filtered out ${M} collections (${I.length} with empty bucketId, ${O.length} with status "dormant")`,{filteredByBucketId:I,filteredByStatus:O})}console.log("[useBucketCollections] [handleBucketsUpdate] Setting collections from WebSocket:",{validCollectionsCount:T.length,validCollections:T}),i(M=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] Previous collections:",{prevCount:M.length,prev:M}),M.length!==T.length)return T;const I=JSON.stringify(M),O=JSON.stringify(T);return I===O?M:T}),b.current&&(b.current=!1,o(!1))}},[w]);return A.useEffect(()=>{if(!n.walletAddress||n.walletAddress.trim()===""){if(o(!1),l("Wallet address is required"),i([]),p.current&&y.current){try{p.current.unsubscribeMultiFeedSubChannel("buckets",S)}catch(T){console.warn("[useBucketCollections] Error unsubscribing during cleanup:",T)}y.current=!1}m.current!==null&&(clearInterval(m.current),m.current=0);return}const C=new Cr({baseURL:n.baseURL,sessionToken:n.authToken});f.current=C,b.current=!0,y.current=!1,console.log("[useBucketCollections] [useEffect] Initializing, calling fetchCollections..."),x();const E=n.subscriptionClient;if(e){p.current=E;const T=()=>{if(!E.isReadyForSubscriptions()){if(E.isConnected()&&!E.isReadyForSubscriptions()){const $=E.getAuthState();$==="pending"?console.debug("[useBucketCollections] Waiting for authentication to complete..."):$==="failed"&&(console.error("[useBucketCollections] Authentication failed - cannot subscribe to buckets"),l("Authentication failed. Please re-authenticate."))}return}const I=String(n.marketId??"0"),O=n.symbol??"USDC/USDC";if(!y.current){if(y.current&&p.current)try{p.current.unsubscribeMultiFeedSubChannel("buckets",S)}catch($){console.warn("[useBucketCollections] Error unsubscribing from previous buckets subscription:",$)}try{E.subscribeMultiFeedSubChannel("buckets",I,S,{symbol:O}),y.current=!0,o(!1),console.debug("[useBucketCollections] Subscribed to buckets:",{marketId:I,symbol:O})}catch($){console.error("[useBucketCollections] Failed to subscribe to buckets:",$),l($ instanceof Error?$.message:"Failed to subscribe to buckets"),y.current=!1,o(!1)}}};h(E.isConnected()),o(!1),E.isReadyForSubscriptions()&&T();const M=E.onStateChange(I=>{console.debug("[useBucketCollections] WebSocket state changed to:",I),h(I===Pt.Connected),I===Pt.Connected?(T(),m.current!==null&&(clearInterval(m.current),m.current=0)):I===Pt.Disconnected&&n.refreshInterval&&n.refreshInterval>0&&m.current===null&&(m.current=window.setInterval(()=>{x()},n.refreshInterval))});return()=>{if(M&&M(),p.current&&y.current)try{p.current.unsubscribeMultiFeedSubChannel("buckets",S)}catch(I){console.warn("[useBucketCollections] Error unsubscribing during cleanup:",I)}m.current!==null&&(clearInterval(m.current),m.current=0),y.current=!1}}else return n.refreshInterval&&n.refreshInterval>0&&(m.current=window.setInterval(()=>{x()},n.refreshInterval)),()=>{m.current!==null&&(clearInterval(m.current),m.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e,S]),A.useEffect(()=>{console.log("[useBucketCollections] [useEffect] Hook state changed, returning:",{collectionsCount:r.length,collections:r,loading:s,error:a,spotWalletBalance:c})},[r,s,a,c]),{collections:r,loading:s,error:a,refreshBucketBalance:x,refreshSpotWalletBalance:_,spotWalletBalance:c,isConnected:d}}function g9e(n,e,r){return e!==n?g.jsx("span",{style:{fontSize:"0.7rem",opacity:.5,marginLeft:"0.25rem"},children:""}):g.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:r==="asc"?"":""})}function eb({message:n="Loading..."}){return g.jsx("div",{className:"message loading",children:n})}function tb({error:n}){return g.jsxs("div",{className:"message error",children:["Error: ",n]})}function Yc({message:n}){return g.jsx("div",{className:"message empty",children:n})}function ape({message:n}){return g.jsx("div",{className:"message warning",children:n})}function g9({isConnected:n,connectedText:e=" LIVE",disconnectedText:r=" OFFLINE"}){return g.jsx("div",{className:"status-indicator",children:g.jsx("span",{className:`status-dot ${n?"connected":"disconnected"}`,children:n?e:r})})}function nb({title:n,children:e}){return g.jsxs("div",{className:"layout-header",children:[g.jsx("div",{className:"layout-header-title",children:n}),e&&g.jsx("div",{className:"layout-header-actions",children:e})]})}function ei({field:n,currentSortField:e,sortDirection:r,onSort:i,children:s,center:o=!1}){return g.jsxs("div",{className:`table-header-cell ${o?"left":"right"}`,onClick:()=>i(n),children:[s,g9e(n,e,r)]})}function ZR({children:n,center:e=!1}){return g.jsx("div",{className:`table-header-cell ${e?"left":"right"}`,children:n})}function b9e({onClick:n,disabled:e}){return console.log("[CancelButton] Rendering",{disabled:e,hasOnClick:!!n}),g.jsx("button",{onClick:r=>{console.log("[CancelButton] Button clicked",{disabled:e,event:r}),!e&&n?n(r):console.warn("[CancelButton] Click ignored - button is disabled",{disabled:e})},onMouseDown:r=>{console.log("[CancelButton] Mouse down",{disabled:e,event:r})},className:"btn btn-danger",disabled:e,style:{pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"},children:"Cancel"})}function y9e({onClick:n}){return g.jsx("button",{onClick:n,className:"btn btn-success",children:"Close"})}function v9e({onConfirm:n,label:e="Slide to confirm",confirmThreshold:r=90,disabled:i=!1,icon:s}){const[o,a]=A.useState(0),[l,c]=A.useState(!1),u=A.useRef(null),d=A.useRef(null),h=p=>{i||(p.preventDefault(),c(!0))};A.useEffect(()=>{if(!l)return;const p=b=>{if(!u.current||i)return;const y=u.current.getBoundingClientRect(),v=b.clientX-y.left,w=y.width,_=Math.max(0,Math.min(100,v/w*100));a(_)},m=()=>{i||(o>=r?(n(),setTimeout(()=>{a(0)},200)):a(0),c(!1))};return document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)}},[l,o,r,n,i]);const f=o>=r;return g.jsxs("div",{ref:u,className:`slider-confirm-bar ${i?"disabled":""} ${l?"dragging":""}`,children:[g.jsx("div",{className:`slider-confirm-bar-progress ${f?"confirmed":"default"} ${l?"no-transition":""}`,style:{width:`${o}%`}}),g.jsx("div",{className:"slider-confirm-bar-label",children:f?"Release to confirm":e}),g.jsx("div",{ref:d,onMouseDown:h,className:`slider-confirm-bar-thumb ${i?"disabled":""} ${l?"dragging":""} ${f?"confirmed":""}`,style:{left:`${o}%`},children:s?g.jsx("span",{className:`slider-confirm-bar-thumb-icon ${f?"confirmed":""}`,children:s}):g.jsx("span",{className:`slider-confirm-bar-thumb-arrow ${f?"confirmed":""}`,children:""})})]})}function lpe({isOpen:n,value:e,min:r,max:i,onConfirm:s,onCancel:o}){const[a,l]=A.useState("");if(A.useEffect(()=>{n&&l(e.toString())},[n,e]),!n)return null;const c=y=>{const v=a==="0"?y:a+y;parseFloat(v)<=i&&l(v)},u=()=>{a.includes(".")||l(a+".")},d=()=>{a.length>1?l(a.slice(0,-1)):l("0")},h=()=>{l("0")},f=()=>{const y=parseFloat(a)||0,v=Math.max(r,Math.min(i,y));s(v)},p=parseFloat(a)||0,m=p>=r&&p<=i,b=g.jsx("div",{className:"modal-overlay",onClick:o,style:{zIndex:1e4},children:g.jsxs("div",{className:"modal-content number-pad-content",onClick:y=>y.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Enter Amount"})}),g.jsxs("div",{className:"modal-body",children:[g.jsxs("div",{className:"number-pad-display",children:[g.jsx("div",{className:"number-pad-display-value",children:rr(p)}),g.jsxs("div",{className:"number-pad-display-range",children:["Min: ",rr(r)," | Max: ",rr(i)]}),!m&&p>0&&g.jsxs("div",{className:"number-pad-display-error",children:["Value must be between ",rr(r)," and"," ",rr(i)]})]}),g.jsxs("div",{className:"number-pad-grid",children:[g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"1"),children:"1"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"2"),children:"2"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"3"),children:"3"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"4"),children:"4"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"5"),children:"5"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"6"),children:"6"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"7"),children:"7"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"8"),children:"8"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"9"),children:"9"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:u,children:"."}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"0"),children:"0"}),g.jsx("button",{type:"button",className:"number-pad-button number-pad-button-action",onClick:d,children:""})]}),g.jsxs("div",{className:"number-pad-actions",children:[g.jsx("button",{type:"button",className:"number-pad-action-button",onClick:h,children:"Clear"}),g.jsx("button",{type:"button",className:"number-pad-action-button number-pad-action-button-max",onClick:()=>{l(i.toString())},children:"Max"})]})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Cancel"}),g.jsx("button",{onClick:f,className:"btn btn-primary",disabled:!m,children:"Confirm"})]})]})});return typeof document<"u"?za.createPortal(b,document.body):null}function w9e({isOpen:n,currentLeverage:e,tempLeverage:r,maxRatio:i,onLeverageChange:s,onConfirm:o,onCancel:a}){if(!n)return null;const l=g.jsx("div",{className:"modal-overlay",onClick:a,children:g.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Select Leverage"})}),g.jsxs("div",{className:"modal-body",children:[g.jsxs("div",{className:"leverage-max-ratio",children:[g.jsx("div",{className:"leverage-max-ratio-label",children:"Maximum Ratio"}),g.jsxs("div",{className:"leverage-max-ratio-value",children:[i,"x"]})]}),g.jsxs("div",{className:"leverage-slider-container",children:[g.jsx("input",{type:"range",min:Y5,max:mW,value:r,onChange:c=>s(parseInt(c.target.value)),className:"filled-slider",style:{"--slider-progress":`${(r-Y5)/(mW-Y5)*100}%`}}),g.jsxs("div",{className:"leverage-slider-labels",children:[g.jsx("span",{children:"1x"}),g.jsxs("span",{className:"leverage-current-value",children:[r,"x"]}),g.jsx("span",{children:"100x"})]})]})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:a,className:"btn btn-secondary",children:"Cancel"}),g.jsx("button",{onClick:o,className:"btn btn-primary",children:"Confirm"})]})]})});return typeof document<"u"?za.createPortal(l,document.body):null}function x9e({isOpen:n,fromValue:e,toValue:r,options:i,bucketsData:s,transferAmount:o,createBucketAmount:a,createBucketType:l,createMarginType:c,transferMarginType:u,onFromChange:d,onToChange:h,onTransferAmountChange:f,onCreateBucketAmountChange:p,onCreateBucketTypeChange:m,onCreateMarginTypeChange:b,onTransferMarginTypeChange:y,onConfirm:v,onCancel:w,spotWalletBalance:_=0,activeTab:x,onActiveTabChange:S,isTransferring:C=!1,onOpen:E,collections:T}){const[M,I]=A.useState("transfer"),O=x??M,F=S??I,$=A.useRef(!1),[z,D]=A.useState(!1),[j,N]=A.useState("transfer"),[R,H]=A.useState(!1);A.useEffect(()=>{n&&!$.current&&E&&E(),$.current=n,n||H(!1)},[n,E,O]);const U=A.useMemo(()=>e==="spot-wallet"?null:s.find(ie=>ie.bucketId===e),[s,e]);A.useMemo(()=>{var Te;if(e==="spot-wallet"||!T)return null;const ie=T.find(Ee=>Ee.bucketId===e);return((Te=ie==null?void 0:ie.marginType)==null?void 0:Te.toLowerCase())||null},[T,e]);const K=A.useMemo(()=>e==="spot-wallet"?_:(U==null?void 0:U.totalEquity)||0,[e,_,U]),Y=10,J=Math.max(Y,K);if(B.useEffect(()=>{if(e&&J>0){const ie=O==="transfer"?o:a;ie>J?O==="transfer"?f(J):p(J):ie<Y&&J>=Y&&(O==="transfer"?f(Y):p(Y))}},[e,J,O,o,a,f,p]),!n)return null;const G=e&&r&&o>=Y&&o<=J,X=e&&a>=Y&&a<=J&&l&&c,ae=g.jsx("div",{className:"modal-overlay",onClick:w,children:g.jsxs("div",{className:"modal-content transfer-modal-content",onClick:ie=>ie.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Transfer Funds"})}),g.jsxs("div",{className:"transfer-modal-tabs",children:[g.jsx("button",{className:`transfer-tab ${O==="transfer"?"active":""}`,onClick:()=>F("transfer"),type:"button",disabled:C,children:"Transfer"}),g.jsx("button",{className:`transfer-tab ${O==="create"?"active":""}`,onClick:()=>F("create"),type:"button",disabled:C,children:"Create Bucket"})]}),g.jsx("div",{className:"modal-body",children:O==="transfer"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"From"}),g.jsxs("select",{value:e,onChange:ie=>d(ie.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select source bucket"}),i.map(ie=>g.jsx("option",{value:ie.value,children:ie.label},ie.value))]})]}),e&&g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"To"}),g.jsxs("select",{value:r,onChange:ie=>h(ie.target.value),className:"transfer-select",disabled:!e,children:[g.jsx("option",{value:"",children:"Select destination bucket"}),i.filter(ie=>ie.value!==e).map(ie=>g.jsx("option",{value:ie.value,children:ie.label},ie.value))]})]}),e&&J>=Y?g.jsxs("div",{className:"transfer-field-group",children:[g.jsxs("div",{className:"transfer-amount-header",children:[g.jsx("label",{className:"transfer-field-label",children:"Amount"}),g.jsxs("div",{className:"transfer-available-balance",children:["Available: ",rr(K)]})]}),g.jsx("div",{className:"transfer-amount-display",onClick:()=>{N("transfer"),D(!0)},style:{cursor:"pointer"},children:g.jsx("span",{className:"transfer-amount-value",children:rr(o)})}),g.jsxs("div",{className:"transfer-amount-container",children:[g.jsx("input",{type:"range",min:Y,max:J,step:.01,value:o,onChange:ie=>f(parseFloat(ie.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(o-Y)/(J-Y)*100}%`}}),g.jsxs("div",{className:"transfer-amount-labels",children:[g.jsx("span",{children:rr(Y)}),g.jsx("span",{children:rr(J)})]})]})]}):e?g.jsx("div",{className:"transfer-field-group",children:g.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",rr(Y)]})}):null]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"From"}),g.jsxs("select",{value:e,onChange:ie=>d(ie.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select source bucket"}),i.map(ie=>g.jsx("option",{value:ie.value,children:ie.label},ie.value))]})]}),g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"Bucket Type"}),g.jsxs("select",{value:l,onChange:ie=>m(ie.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select bucket type"}),g.jsx("option",{value:"USDC",children:"USDC"}),g.jsx("option",{value:"USDT",children:"USDT"})]})]}),g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"Margin Type"}),g.jsxs("select",{value:c,onChange:ie=>b(ie.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select margin type"}),g.jsx("option",{value:"cross",children:"Cross Margin"}),g.jsx("option",{value:"isolated",children:"Isolated Margin"})]})]}),e&&J>=Y?g.jsxs("div",{className:"transfer-field-group",children:[g.jsxs("div",{className:"transfer-amount-header",children:[g.jsx("label",{className:"transfer-field-label",children:"Amount"}),g.jsxs("div",{className:"transfer-available-balance",children:["Available: ",rr(K)]})]}),g.jsx("div",{className:"transfer-amount-display",onClick:()=>{N("create"),D(!0)},style:{cursor:"pointer"},children:g.jsx("span",{className:"transfer-amount-value",children:rr(a)})}),g.jsxs("div",{className:"transfer-amount-container",children:[g.jsx("input",{type:"range",min:Y,max:J,step:.01,value:a,onChange:ie=>p(parseFloat(ie.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(a-Y)/(J-Y)*100}%`}}),g.jsxs("div",{className:"transfer-amount-labels",children:[g.jsx("span",{children:rr(Y)}),g.jsx("span",{children:rr(J)})]})]})]}):e?g.jsx("div",{className:"transfer-field-group",children:g.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",rr(Y)]})}):null]})}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:w,className:"btn btn-secondary",disabled:C,children:"Cancel"}),g.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[g.jsx("div",{className:"slider-confirm-container",style:{position:"absolute",top:0,left:0,right:0,opacity:R?0:1,visibility:R?"hidden":"visible",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:R?"none":"auto"},children:g.jsx(v9e,{onConfirm:()=>{H(!0)},label:"Slide to confirm",disabled:C||(O==="transfer"?!G:!X),icon:g.jsx("img",{src:"/bconfirm.svg"})})}),g.jsx("button",{onClick:()=>{v(O==="transfer"?{type:"transfer",from:e,to:r,amount:o}:{type:"create",from:e,bucketType:l,marginType:c,amount:a})},className:"btn btn-primary",disabled:C||(O==="transfer"?!G:!X),style:{position:"absolute",top:0,right:0,opacity:R?1:0,visibility:R?"visible":"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:R?"auto":"none",width:"100%",height:"100%",color:"black"},children:C?"Processing...":"Confirm"})]})]})]})}),ge=j==="transfer"?o:a,le=ie=>{j==="transfer"?f(ie):p(ie),D(!1)};return g.jsxs(g.Fragment,{children:[typeof document<"u"?za.createPortal(ae,document.body):null,g.jsx(lpe,{isOpen:z,value:ge,min:Y,max:J,onConfirm:le,onCancel:()=>D(!1)})]})}function _9e({baseURL:n=Z0,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=wNe,refreshInterval:a=a9,onBucketSelect:l}){const{collections:c,loading:u,error:d,spotWalletBalance:h,isConnected:f,refreshBucketBalance:p}=ope({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),[m,b]=A.useState(null),[y,v]=A.useState("desc"),[w,_]=A.useState(""),[x,S]=A.useState(!1),[C,E]=A.useState(""),[T,M]=A.useState(""),[I,O]=A.useState(10),[F,$]=A.useState(10),[z,D]=A.useState(""),[j,N]=A.useState("cross"),[R,H]=A.useState("cross"),[U,K]=A.useState("transfer"),[Y,J]=A.useState(!1),[G,X]=A.useState("non-zero"),ae=A.useRef(null),ge=A.useRef(0),le=A.useMemo(()=>{let He=c.filter(xe=>xe&&xe.bucketId&&typeof xe.bucketId=="string"&&xe.bucketId.trim()!=="");return G==="non-zero"?He=He.filter(xe=>(xe.totalEquity||0)>0):G==="dormant"?He=He.filter(xe=>{var Ve;return((Ve=xe.status)==null?void 0:Ve.toLowerCase())==="dormant"}):G==="active"&&(He=He.filter(xe=>{var Ve;return((Ve=xe.status)==null?void 0:Ve.toLowerCase())==="active"})),m?[...He].sort((xe,Ve)=>{let Oe=0,Ne=0;switch(m){case"marginType":Oe=Rm(xe),Ne=Rm(Ve);break;case"usedMargin":Oe=xe.usedMargin||0,Ne=Ve.usedMargin||0;break;case"totalEquity":Oe=xe.totalEquity||0,Ne=Ve.totalEquity||0;break;case"riskRatio":Oe=vS(xe),Ne=vS(Ve);break;case"bucketId":Oe=xe.bucketId||"",Ne=Ve.bucketId||"";break}if(typeof Oe=="string"&&typeof Ne=="string")return y==="asc"?Oe.localeCompare(Ne):Ne.localeCompare(Oe);const Ae=Number(Oe),Se=Number(Ne);return y==="asc"?Ae-Se:Se-Ae}):He},[c,m,y,G]),ie=(He,xe)=>{const Ve=He.toLowerCase(),Oe=xe.toUpperCase();return le.find(Ne=>{var pe,ye;const Ae=(pe=Rm(Ne))==null?void 0:pe.toLowerCase(),Se=(ye=Ne.collateralAsset)==null?void 0:ye.toUpperCase(),W=Ne.status.toLowerCase()==="dormant",de=(Ne.totalEquity||0)<=0;return(W||de)&&Ae===Ve&&(Oe?Se===Oe:!0)})||null},Te=He=>{m===He?v(y==="asc"?"desc":"asc"):(b(He),v("desc"))},Ee=(He,xe)=>{l&&l(He,xe),_(He)},V=()=>{S(!0),E(""),M(""),O(10),$(10),D(""),N("cross"),H("cross"),K("transfer")},Ie=()=>{S(!1),E(""),M(""),O(10),$(10),D(""),N("cross"),H("cross"),K("transfer")},Ye=()=>{X(He=>{switch(He){case"non-zero":return"active";case"active":return"dormant";case"dormant":return"all";case"all":return"non-zero";default:return"non-zero"}})};A.useEffect(()=>{if(!s||!n){ae.current=null;return}const He=new Zd({baseURL:n,mnemonic:s});He.initialize().then(()=>{ae.current=He}).catch(xe=>{const Ve=xe instanceof Error?xe.message:"Failed to initialize exchange client";console.error("Failed to initialize ExchangeClient:",xe),pt.error("Exchange client initialization failed",{description:Ve,action:bi(Ve)}),ae.current=null})},[s,n]);const nt=async He=>{if(!s){const Oe="Mnemonic is required to perform transfers. Please provide a mnemonic to enable transfer functionality.";pt.error("Mnemonic required",{description:Oe,action:bi(Oe)});return}const xe=ae.current;if(!xe){const Oe="Exchange client is still initializing. Please wait a moment and try again.";pt.error("Exchange client not ready",{description:Oe,action:bi(Oe)});return}J(!0);const Ve=pt.loading("Processing transfer...",{description:"Please wait while the transfer is being processed"});ge.current=typeof Ve=="number"?Ve:0;try{const Oe="USDC";let Ne,Ae="";if(He.type==="transfer"){const{from:Se,to:W,amount:de}=He;if(Se==="spot-wallet"&&W==="spot-wallet")throw new Error("Cannot transfer from spot wallet to spot wallet");if(Se==="spot-wallet"){if(!W||W==="spot-wallet")throw new Error("Please select a destination bucket");if(Ne=await xe.extractToBucket({bucketId:W,assetId:Oe,amount:de}),!Ne.success){const oe=Ne.error_message||"Failed to transfer to bucket";ge.current!==0&&(pt.dismiss(ge.current),ge.current=0),pt.error("Transfer failed",{description:oe,action:bi(oe)});return}const me=Ne.txhash||"";Ae=`Successfully transferred ${rr(de)} from Spot Wallet to ${W}${me?`
TxHash: ${me}`:""}`}else if(W==="spot-wallet"){Ne=await xe.withdrawFromBucket({bucketId:Se,assetId:Oe,amount:de});const me=Ne.txhash||"";Ae=`Successfully transferred ${rr(de)} from ${Se} to Spot Wallet${me?`
TxHash: ${me}`:""}`}else{if(!W)throw new Error("Please select a destination bucket");Ne=await xe.bucketTransfer({fromBucketId:Se,toBucketId:W,assetId:Oe,amount:de});const me=Ne.txhash||"";Ae=`Successfully transferred ${rr(de)} from ${Se} to ${W}${me?`
TxHash: ${me}`:""}`}}else{const{from:Se,bucketType:W,marginType:de,amount:me}=He,oe=ie(de,W);let pe;if(oe)pe=oe.bucketId,console.log(`[BucketCollection] Using existing ${de} ${W} bucket: ${pe}`),Ae=`Using existing ${de} margin bucket (${W}): ${pe}`;else{const ye=await xe.createBucket({bucketType:W,marginType:de});if(!ye.success)throw new Error(ye.message||"Failed to create bucket");pe=ye.bucket_id,console.log(`[BucketCollection] Created new ${de} ${W} bucket: ${pe}`),Ae=`Successfully created ${de} margin bucket (${W})`}if(me>0&&Se==="spot-wallet"){const ye=await xe.extractToBucket({bucketId:pe,assetId:W,amount:me});if(!ye.success)throw new Error(`${oe?"Bucket found":"Bucket created"} but failed to transfer funds: ${ye.error_message||"Unknown error"}`);const Z=ye.txhash||"";Ae=`${oe?"Using existing":"Successfully created"} ${de} margin bucket (${W}) and transferred ${rr(me)}${Z?`
TxHash: ${Z}`:""}`}else if(me>0&&Se!=="spot-wallet"){const ye=await xe.bucketTransfer({fromBucketId:Se,toBucketId:pe,assetId:W,amount:me});if(!ye.success)throw new Error(`${oe?"Bucket found":"Bucket created"} but failed to transfer funds: ${ye.message||"Unknown error"}`);const Z=ye.txhash||"";Ae=`${oe?"Using existing":"Successfully created"} ${de} margin bucket (${W}) and transferred ${rr(me)}${Z?`
TxHash: ${Z}`:""}`}}console.log("Transfer successful:",Ne),ge.current!==0&&(pt.dismiss(ge.current),ge.current=0),pt.success("Transfer completed",{description:Ae}),S(!1),E(""),M(""),O(10),$(10),D(""),N("cross"),H("cross"),await new Promise(Se=>setTimeout(Se,1e3)),p()}catch(Oe){ge.current!==0&&(pt.dismiss(ge.current),ge.current=0);const Ne=Oe instanceof Error?Oe.message:"Transfer failed";pt.error("Transfer failed",{description:Ne,action:bi(Ne)}),console.error("Transfer error:",Oe)}finally{J(!1)}},Ue=A.useMemo(()=>{const He=le.map(xe=>({value:xe.bucketId,label:`${xe.bucketId} (${rr(xe.totalEquity)})`}));return[{value:"spot-wallet",label:`Spot Wallet (${rr(h)})`},...He]},[le,h]),mt=A.useMemo(()=>le.map(He=>({bucketId:He.bucketId,totalEquity:He.totalEquity})),[le]);return!i||i.trim()===""?g.jsx(ape,{message:"Wallet address required to view bucket collections"}):u&&!x&&c.length===0?g.jsx(eb,{message:"Loading bucket collections..."}):d?g.jsx(tb,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(nb,{title:"BUCKET COLLECTIONS",children:[g.jsx("div",{onClick:Ye,className:"btn-tab",title:G==="non-zero"?"Click to show active buckets":G==="active"?"Click to show dormant buckets":G==="dormant"?"Click to show all buckets":"Click to show non-zero balance buckets",children:g.jsx("span",{children:G==="all"?"All":G==="non-zero"?"Non-Zero":G==="dormant"?"Dormant":"Active"})}),g.jsxs("div",{onClick:V,className:"btn-tab",children:[g.jsx("img",{src:"/transfer-repu.svg"}),g.jsx("span",{children:"Transfer"})]}),!f&&g.jsxs("div",{onClick:async()=>{p&&await p()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh bucket collections",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container shrinkable",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[g.jsx(ei,{field:"bucketId",currentSortField:m,sortDirection:y,onSort:Te,left:!0,children:"Bucket ID"}),g.jsx(ei,{field:"marginType",currentSortField:m,sortDirection:y,onSort:Te,children:"Margin Type"}),g.jsx(ei,{field:"usedMargin",currentSortField:m,sortDirection:y,onSort:Te,children:"Used Margin"}),g.jsx(ei,{field:"totalEquity",currentSortField:m,sortDirection:y,onSort:Te,children:"Total Equity"}),g.jsx(ei,{field:"riskRatio",currentSortField:m,sortDirection:y,onSort:Te,left:!1,children:"Risk Ratio"})]}),le.length===0?g.jsx(Yc,{message:c.length===0?"No bucket collections found. Make sure your wallet address is correct and has buckets.":`Filtered out all ${c.length} collections (invalid data structure)`}):le.map((He,xe)=>{const Ve=vS(He),Oe=Rm(He);return g.jsxs("div",{onClick:()=>Ee(He.bucketId,He.availableMargin),className:`table-row clickable ${xe%2===0?"even":""} ${w===He.bucketId?"selected":""}`,style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[g.jsx("div",{className:"table-cell primary",children:He.bucketId||"---"}),g.jsx("div",{className:"table-cell",children:Oe.toUpperCase()}),g.jsx("div",{className:"table-cell right monospace",children:rr(He.usedMargin||0)}),g.jsx("div",{className:"table-cell right monospace",children:rr(He.totalEquity||0)}),g.jsx("div",{className:"table-cell right monospace",style:{color:Ve>.5?"#ff6b6b":"#51cf66",fontWeight:500},children:dw(Ve)})]},`collection-${He.bucketId}-${xe}`)})]}),g.jsx(x9e,{isOpen:x,fromValue:C,toValue:T,options:Ue,bucketsData:mt,transferAmount:I,createBucketAmount:F,createBucketType:z,createMarginType:j,transferMarginType:R,onFromChange:E,onToChange:M,onTransferAmountChange:O,onCreateBucketAmountChange:$,onCreateBucketTypeChange:D,onCreateMarginTypeChange:N,onTransferMarginTypeChange:H,onConfirm:nt,onCancel:Ie,spotWalletBalance:h,activeTab:U,onActiveTabChange:K,isTransferring:Y,onOpen:p,collections:le.map(He=>({bucketId:He.bucketId,marginType:He.marginType}))})]})}const S9e=B.memo(_9e);function k9e({title:n="Dummy Component",message:e="This is a dummy component",height:r}){const[i,s]=A.useState(0);return g.jsxs("div",{className:"layout-container",style:{height:r},children:[g.jsx("div",{className:"layout-header",children:g.jsx("div",{className:"layout-header-title",children:n})}),g.jsxs("div",{style:{padding:"1rem",flex:1},children:[g.jsx("p",{className:"color-text-secondary",children:e}),g.jsxs("div",{style:{marginTop:"1rem"},children:[g.jsxs("p",{className:"color-text-primary",children:["Count: ",i]}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[g.jsx("button",{className:"btn btn-success",onClick:()=>s(i+1),children:"Increment"}),g.jsx("button",{className:"btn btn-danger",onClick:()=>s(0),children:"Reset"})]})]})]})]})}const C9e=B.memo(k9e);function a3(n){return n.orderId}function b9(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(null),[c,u]=A.useState(!1),d=A.useRef(null),h=A.useRef(null),f=A.useRef(!1),p=A.useRef(!1),m=A.useRef(n.walletAddress),b=A.useRef(n);b.current=n;const y=A.useCallback(async()=>{if(!d.current)return;const w=b.current;if(!w.walletAddress||w.walletAddress.trim()===""){l(null),i([]),o(!1);return}l(null);try{const x=(await UC(u9.http,()=>d.current.getOrders(w.walletAddress))).orders||[];if(x.length>0){const S=x.map(QR);i(C=>{if(C.length!==S.length)return S;const E=JSON.stringify(C),T=JSON.stringify(S);return E===T?C:S})}else i(S=>S.length===0?S:[])}catch(_){const x=_ instanceof Error?_.message:"Failed to load orders";l(x),console.error("Failed to fetch orders after retries:",_)}finally{o(!1)}},[]),v=A.useCallback(w=>{let _=[];if("orders"in w&&Array.isArray(w.orders))_=w.orders;else if("order_id"in w)_=[w];else{console.warn("Received invalid order data, skipping:",w);return}i(x=>{const S=new Map;x.forEach(M=>{const I=a3(M);I&&S.set(I,M)});for(const M of _){if(!M||typeof M!="object"||!("order_id"in M)||typeof M.order_id!="string"||M.order_id.length===0){console.warn("Received invalid order data, skipping:",M);continue}const I=QR(M),O=a3(I);if(!O){console.warn("Received order without ID, skipping:",I);continue}const F=I.status.toUpperCase();F==="FILLED"||F==="CANCELLED"||F==="REJECTED"||F==="EXPIRED"||F==="CLOSED"||F==="DONE"?S.delete(O):S.set(O,I)}const C=Array.from(S.values()).filter(M=>a3(M)!==void 0);if(x.length!==C.length)return C;const E=JSON.stringify(x),T=JSON.stringify(C);return E===T?x:C})},[]);return A.useEffect(()=>{if(n.walletAddress!==m.current&&(p.current=!1,m.current=n.walletAddress),!n.walletAddress||n.walletAddress.trim()===""){o(!1),l(null),i([]),h.current&&(h.current.disconnect(),h.current=null),p.current=!1;return}const w=new Cr({baseURL:n.baseURL,sessionToken:n.authToken});d.current=w,p.current||y().finally(()=>{p.current=!0});const _=n.subscriptionClient;if(e){h.current=_;const x=()=>{if(!_.isReadyForSubscriptions()){if(_.isConnected()&&!_.isReadyForSubscriptions()){const M=_.getAuthState();M==="pending"?console.debug("[usePendingOrders] Waiting for authentication to complete..."):M==="failed"&&(console.error("[usePendingOrders] Authentication failed - cannot subscribe to orders"),l("Authentication failed - cannot subscribe to orders"))}return}const C=n.marketId??"0",E="USDC/USDC";if(!f.current||n.marketId!==void 0&&n.marketId!==C){if(f.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("orders",v)}catch(M){console.warn("[usePendingOrders] Error unsubscribing from previous orders subscription:",M)}try{_.subscribeMultiFeedSubChannel("orders",C,v,{symbol:E}),f.current=!0,o(!1),console.debug("[usePendingOrders] Subscribed to orders:",{marketId:C,symbol:E})}catch(M){console.error("[usePendingOrders] Failed to subscribe to orders:",M),l(M instanceof Error?M.message:"Failed to subscribe to orders"),f.current=!1,o(!1)}}};u(_.isConnected()),o(!1),_.isReadyForSubscriptions()&&x();const S=_.onStateChange(C=>{console.debug("[usePendingOrders] WebSocket state changed to:",C),u(C===Pt.Connected),C===Pt.Connected?x():C===Pt.Disconnected||Pt.Reconnecting});return()=>{if(S&&S(),h.current&&f.current)try{h.current.unsubscribeMultiFeedSubChannel("orders",v)}catch(C){console.warn("[usePendingOrders] Error unsubscribing during cleanup:",C)}f.current=!1}}else return()=>{}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.marketId,e]),{orders:r,loading:s,error:a,isConnected:c,refresh:y}}function E9e({baseURL:n=Z0,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=_Ne,refreshInterval:a=a9}){const{orders:l,loading:c,error:u,isConnected:d,refresh:h}=b9({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),f=A.useRef(null),p=A.useRef(0),[m,b]=A.useState(null),{getSymbolByMarketId:y}=Ul({baseURL:n,sessionToken:r,autoFetchMarkets:!1}),[v,w]=A.useState(Bu),[_,x]=A.useState(null),[S,C]=A.useState(tg),E=A.useMemo(()=>l.filter(D=>{const j=D.status.toUpperCase(),N=j.startsWith("ORDER_STATUS_")?j:`ORDER_STATUS_${j}`;return v===Bu?OW.some(R=>j===R.toUpperCase()||N===R.toUpperCase()):!OW.some(R=>j===R.toUpperCase()||N===R.toUpperCase())}),[l,v]),T=A.useMemo(()=>_?[...E].sort((D,j)=>{let N=0,R=0;switch(_){case CW:N=y(D.marketId)||`m-${D.marketId}`,R=y(j.marketId)||`m-${j.marketId}`;break;case EW:N=D.side,R=j.side;break;case AW:N=D.quantity,R=j.quantity;break;case TW:N=D.price,R=j.price;break;case PW:N=D.filledQuantity||0,R=j.filledQuantity||0;break;case IW:N=D.status,R=j.status;break}if(typeof N=="string"&&typeof R=="string")return S===yd?N.localeCompare(R):R.localeCompare(N);const H=Number(N),U=Number(R);return isNaN(H)||isNaN(U)?0:S===yd?H-U:U-H}):E,[E,_,S]),M=D=>{_===D?C(S===yd?tg:yd):(x(D),C(tg))},I=D=>D.side,O=D=>{const j=(D||"").toUpperCase(),N={PENDING:{short:"P",full:"Pending",color:DW},OPEN:{short:"O",full:"Open",color:WNe},FILLED:{short:"F",full:"Filled",color:qNe},CANCELLED:{short:"C",full:"Canceled",color:HNe},PARTIAL:{short:"PF",full:"Partially Filled",color:DW}};return N[j]?N[j]:{short:"?",full:D||ije,color:VNe}},F=D=>D===uw||D==="BUY"?GNe:YNe,$=D=>!D||typeof D!="string"?rje:D.replace("ORDER_TYPE_",""),z=async D=>{var H;const j=D.orderId,N=D.marketId;if(!j){const U="Cannot cancel order without a valid order ID.";pt.error("Order ID is missing",{description:U,action:bi(U)});return}if(!N){const U="Cannot cancel order without a valid market ID.";pt.error("Market ID is missing",{description:U,action:bi(U)});return}if(!s){const U=`Please provide the 'mnemonic' prop to the PendingOrders component. Order ID: ${j}`;pt.error("Mnemonic required",{description:U,duration:5e3,action:bi(U)});return}if(typeof s!="string"||s.trim()===""){const U=`The mnemonic prop is empty or invalid. Please provide a valid mnemonic. Order ID: ${j}`;pt.error("Invalid mnemonic",{description:U,duration:5e3,action:bi(U)});return}if(m){pt.info("Cancellation in progress",{description:"Please wait for the current cancellation to complete."});return}b(j);const R=pt.loading("Canceling order...",{description:`Canceling order ${j}`});p.current=typeof R=="number"?R:0;try{f.current||(f.current=new Zd({baseURL:n,mnemonic:s.trim()}),await f.current.initialize());const U=await f.current.cancelOrder({orderId:j,marketId:N}),K=U.success===!0||U.result.success===!0||U&&!U.error&&!U.message;p.current!==0&&(pt.dismiss(p.current),p.current=0);const Y=U.txhash;if(K)pt.success("Order canceled successfully",{description:`Order ${j} has been canceled. TX: ${Y}`}),h&&await h();else{const J=(U==null?void 0:U.error)||(U==null?void 0:U.message)||((H=U==null?void 0:U.response)==null?void 0:H.error)||"Failed to cancel order";throw new Error(J)}}catch(U){p.current!==0&&(pt.dismiss(p.current),p.current=0);const Y=`${U instanceof Error?U.message:"Unknown error occurred"}. Order ID: ${j}`;pt.error("Failed to cancel order",{description:Y,duration:6e3,action:bi(Y)})}finally{b(null)}};return!i||i.trim()===""?g.jsx(ape,{message:eje}):c?g.jsx(eb,{message:KNe}):u?g.jsx(tb,{error:u}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(nb,{title:v===Bu?JNe:ZNe,children:[g.jsxs("div",{className:"btn-tab",children:[g.jsx("span",{style:{fontSize:"0.7rem"},children:""}),g.jsx("span",{children:"Current Symbol"})]}),g.jsxs("div",{onClick:()=>w(v===Bu?MW:Bu),className:`btn-tab ${v===MW?"active":""}`,children:[g.jsx("img",{src:"/transfer-net.svg"}),g.jsx("span",{children:v===Bu?nje:tje})]}),!d&&g.jsxs("div",{onClick:async()=>{h&&await h()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh orders",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container shrinkable",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:RW},children:[g.jsx(ei,{field:CW,currentSortField:_,sortDirection:S,onSort:M,children:"Symbol"}),g.jsx(ei,{field:EW,currentSortField:_,sortDirection:S,onSort:M,children:"Side"}),g.jsx(ZR,{center:!0,children:"Type"}),g.jsx(ei,{field:AW,currentSortField:_,sortDirection:S,onSort:M,children:"Quantity"}),g.jsx(ei,{field:TW,currentSortField:_,sortDirection:S,onSort:M,children:"Price"}),g.jsx(ei,{field:PW,currentSortField:_,sortDirection:S,onSort:M,children:"Filled"}),g.jsx(ei,{field:IW,currentSortField:_,sortDirection:S,onSort:M,children:"Status"}),g.jsx(ZR,{center:!0,children:"Actions"})]}),T.length===0?g.jsx(Yc,{message:v===Bu?XNe:QNe}):T.map((D,j)=>{const N=I(D),R=F(N),{short:H,full:U,color:K}=O(D.status),Y=y(D.marketId)||`m-${D.marketId}`;return g.jsxs("div",{className:`table-row ${j%2===0?"even":""}`,style:{gridTemplateColumns:RW},children:[g.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:g.jsx("span",{children:Y})}),g.jsx("div",{className:"table-cell center",style:{color:R,fontWeight:500},children:N}),g.jsx("div",{className:"table-cell center",children:$(D.type)}),g.jsx("div",{className:"table-cell right monospace",children:D.quantity}),g.jsx("div",{className:"table-cell right monospace",children:D.price}),g.jsxs("div",{className:"table-cell right monospace",children:[D.filledQuantity," / ",D.quantity]}),g.jsx("div",{className:"table-cell center",style:{color:K,fontWeight:600,cursor:"help",fontSize:"0.9rem"},title:U,children:H}),g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:v===Bu?g.jsxs(g.Fragment,{children:[(!s||s.trim()==="")&&g.jsx("span",{style:{fontSize:"0.7rem",color:"#ffc107",cursor:"help"},title:"Mnemonic required to cancel orders",children:""}),g.jsx(b9e,{onClick:J=>{J.preventDefault(),J.stopPropagation(),!s||s.trim()===""||m===D.orderId||!!m||z(D)},disabled:!s||s.trim()===""||m===D.orderId||!!m})]}):g.jsx("span",{className:"color-text-dim",children:""})})]},`order-${D.orderId}`)})]})]})}const A9e=B.memo(E9e);function T9e({baseURL:n=Z0,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=xNe,refreshInterval:a=a9,selectedBucketId:l=null}){const{positions:c,loading:u,error:d,isConnected:h,refresh:f}=npe({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),p=A.useRef(null);A.useEffect(()=>{if(!s||!n){p.current=null;return}const T=new Zd({baseURL:n,mnemonic:s});T.initialize().then(()=>{p.current=T}).catch(M=>{const I=M instanceof Error?M.message:"Failed to initialize exchange client";console.error("Failed to initialize ExchangeClient:",M),pt.error("Exchange client initialization failed",{description:I,action:bi(I)}),p.current=null})},[s,n]);const[m,b]=A.useState(J5),[y,v]=A.useState(null),[w,_]=A.useState(tg),x=A.useMemo(()=>{let T=[...c];return m===n_&&l&&(T=T.filter(M=>{const I=M.bucketId.toString(),O=l.toString();return I===O})),y?T.sort((M,I)=>{let O=0,F=0;switch(y){case bW:O=M.symbol||"",F=I.symbol||"";break;case yW:try{O=M.leverage??0,F=I.leverage??0}catch{O=0,F=0}break;case vW:O=M.size||0,F=I.size||0;break;case wW:O=M.liquidationPrice||0,F=I.liquidationPrice||0;break;case xW:O=M.unrealizedPnL||0,F=I.unrealizedPnL||0;break;case _W:O=M.entryPrice||0,F=I.entryPrice||0;break;case SW:O=M.margin||0,F=I.margin||0;break}if(typeof O=="string"&&typeof F=="string")return w===yd?O.localeCompare(F):F.localeCompare(O);const $=Number(O),z=Number(F);return w===yd?$-z:z-$}):T},[c,y,w,l,m]),S=T=>{y===T?_(w===yd?tg:yd):(v(T),_(tg))},C=A.useRef(0),E=async T=>{if(!s){const I="Please provide the 'mnemonic' prop to enable position closing.";pt.error("Mnemonic required",{description:I,action:bi(I)});return}if(!p.current){const I="Please wait for the exchange client to initialize.";pt.error("Exchange client not ready",{description:I,action:bi(I)});return}const M=pt.loading("Closing position...",{description:`Closing ${T.side} position for ${T.symbol} (Size: ${zk(T.size)})`});C.current=typeof M=="number"?M:0;try{const I=await p.current.closePosition({positionId:T.positionId,marketId:T.marketId,marketPrice:T.markPrice,quantity:T.size});C.current!==0&&(pt.dismiss(C.current),C.current=0),pt.success("Position closed successfully",{description:`${T.side} position for ${T.symbol} has been closed. tx: ${I.txhash}`,duration:5e3}),f&&await f()}catch(I){C.current!==0&&(pt.dismiss(C.current),C.current=0);const O=I instanceof Error?I.message:"Unknown error occurred";pt.error("Failed to close position",{description:O,duration:6e3,action:bi(O)}),console.error("Failed to close position:",I)}};return u?g.jsx(eb,{message:RNe}):d?g.jsx(tb,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(nb,{title:`${jNe} ${m===n_&&l?`(Bucket ${l})`:""}`,children:[g.jsx("div",{onClick:()=>{b(J5),v(null)},className:`btn-tab ${m===J5?"active":""}`,children:BNe}),g.jsxs("div",{onClick:()=>{b(n_),v(null)},className:`btn-tab ${m===n_?"active":""}`,children:[g.jsx("img",{src:"/bucket-g.svg"}),g.jsx("span",{children:LNe})]}),!h&&g.jsxs("div",{onClick:async()=>{f&&await f()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh positions",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:kW},children:[g.jsx(ei,{field:bW,currentSortField:y,sortDirection:w,onSort:S,left:!0,children:"Symbol"}),g.jsx(ei,{field:yW,currentSortField:y,sortDirection:w,onSort:S,children:"Leverage"}),g.jsx(ei,{field:vW,currentSortField:y,sortDirection:w,onSort:S,children:"Size"}),g.jsx(ei,{field:wW,currentSortField:y,sortDirection:w,onSort:S,children:"Liq. Price"}),g.jsx(ei,{field:xW,currentSortField:y,sortDirection:w,onSort:S,children:"P/L"}),g.jsx(ei,{field:_W,currentSortField:y,sortDirection:w,onSort:S,children:"Entry Price"}),g.jsx(ei,{field:SW,currentSortField:y,sortDirection:w,onSort:S,children:"Margin"}),g.jsx(ZR,{center:!0,children:"Actions"})]}),x.length===0?g.jsx(Yc,{message:NNe}):x.map((T,M)=>{const I=T.side===uw,O=(T.unrealizedPnL||0)>=0?ONe:DNe,F=spe(T.leverage,Z5);return g.jsxs("div",{className:`table-row ${M%2===0?"even":""}`,style:{gridTemplateColumns:kW},children:[g.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:g.jsx("span",{children:T.symbol})}),g.jsx("div",{className:"color-buy",style:{fontWeight:500},children:` ${I?uw:YR}  ${F===Z5?Z5:F}x @ ${T.marginMode||cw}`}),g.jsx("div",{className:"color-buy right monospace",children:zk(T.size)}),g.jsx("div",{className:"table-cell right monospace",children:$k(T.liquidationPrice)}),g.jsx("div",{className:"table-cell right monospace",style:{color:O,fontWeight:500},children:H7e(T.unrealizedPnL)}),g.jsx("div",{className:"table-cell right monospace",children:$k(T.entryPrice)}),g.jsx("div",{className:"table-cell right monospace",children:q7e(T.margin)}),g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsx(y9e,{onClick:()=>E(T)})})]},`position-${T.marketId}-${M}`)})]})]})}const P9e=B.memo(T9e),cpe=A.createContext(null),y9=({children:n,defaultWsURL:e=eh,defaultAuthToken:r,defaultWalletAddress:i,defaultDeviceID:s})=>{const[o,a]=A.useState(!1),[l,c]=A.useState(!1),[u,d]=A.useState(Pt.Disconnected),[h,f]=A.useState(null),[p,m]=A.useState(e),[b,y]=A.useState(r),[v,w]=A.useState(i),[_,x]=A.useState(s),S=A.useRef(new p0({url:e,authToken:r,walletAddress:i,deviceID:s})),C=A.useRef(e),E=A.useRef(null),T=A.useRef(new Map),M=A.useRef(new Map);A.useEffect(()=>{if(C.current!==p){E.current&&(E.current(),E.current=null),S.current.disconnect(),T.current.clear();const J=new p0({url:p,authToken:b,walletAddress:v,deviceID:_});S.current=J,C.current=p}if(o){if(!E.current){const J=S.current.onStateChange(G=>{d(G),c(G===Pt.Connected),G===Pt.Connected&&f(null)});E.current=J}S.current.isConnected()||S.current.connect().then(()=>{console.debug("[SubscriptionContext] Connected to WebSocket"),f(null)}).catch(J=>{const G=J instanceof Error?J:new Error(String(J));console.error("[SubscriptionContext] Failed to connect:",G),f(G)})}else E.current&&(E.current(),E.current=null),S.current.isConnected()&&S.current.disconnect(),T.current.clear(),M.current.clear(),d(Pt.Disconnected),c(!1),f(null);return()=>{E.current&&(E.current(),E.current=null),S.current.isConnected()&&S.current.disconnect()}},[o,p,b,v,_]),A.useEffect(()=>{S.current&&o&&b&&v&&_&&S.current.setAuthToken(b,v,_)},[o,b,v,_]);const I=A.useCallback((K,Y,J,G)=>{if(!S.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!K||typeof K!="string"){console.warn("[SubscriptionContext] Invalid marketId:",K);return}if(Y!=null&&Y!==""&&(typeof Y!="string"||!Y.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty string or in format BASE/QUOTE):",Y);return}const X=ae=>{try{ae&&ae.sub_channel&&T.current.set(ae.sub_channel,ae),J(ae)}catch(ge){console.error("[SubscriptionContext] Error in multi-feed callback:",ge)}};try{const ae={};Y&&Y!==""&&(ae.symbol=Y),G&&(ae.interval=G),S.current.subscribeMultiFeed(K,X,Object.keys(ae).length>0?ae:void 0)}catch(ae){const ge=ae instanceof Error?ae:new Error(String(ae));console.error("[SubscriptionContext] Subscription error:",ge),f(ge)}},[]),O=A.useCallback((K,Y,J,G,X)=>{if(!S.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!K||typeof K!="string"){console.warn("[SubscriptionContext] Invalid marketId:",K);return}if(Y!=null&&Y!==""&&(typeof Y!="string"||!Y.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty string or in format BASE/QUOTE):",Y);return}if(!J||typeof J!="string"){console.warn("[SubscriptionContext] Invalid subChannel:",J);return}const ae=ge=>{try{J==="orderbook"&&console.log("[SubscriptionContext] Orderbook data received",{marketId:K,hasPayload:!!ge,payloadType:typeof ge,hasPayloadData:!!(ge!=null&&ge.data)});const le=(ge==null?void 0:ge.data)??ge;if(J==="orderbook"&&console.log("[SubscriptionContext] Orderbook data extracted",{marketId:K,hasData:!!le,dataType:typeof le,isObject:typeof le=="object",hasMarketId:!!(le!=null&&le.market_id),hasSequenceId:(le==null?void 0:le.sequence_id)!==void 0,hasBids:!!(le!=null&&le.bids),hasAsks:!!(le!=null&&le.asks),bidsCount:Array.isArray(le==null?void 0:le.bids)?le.bids.length:0,asksCount:Array.isArray(le==null?void 0:le.asks)?le.asks.length:0}),le&&typeof le=="object"){const ie={sub_channel:J,data:le,type:"data",channel:"multi_feed",market_id:K};T.current.set(J,ie)}J==="orderbook"&&console.log("[SubscriptionContext] Calling orderbook callback with data",{marketId:K,hasData:!!le}),G(le),J==="orderbook"&&console.log("[SubscriptionContext] Orderbook callback completed",{marketId:K})}catch(le){console.error(`[SubscriptionContext] Error in sub-channel callback for ${J}:`,le)}};M.current.set(G,ae);try{const ge={};Y&&Y!==""&&(ge.symbol=Y),X&&(ge.interval=X),S.current.subscribeMultiFeedSubChannel(J,K,ae,Object.keys(ge).length>0?ge:void 0);const le=T.current.get(J);le&&le.data&&setTimeout(()=>{try{G(le.data)}catch(ie){console.error(`[SubscriptionContext] Error sending retained data for ${J}:`,ie)}},0)}catch(ge){const le=ge instanceof Error?ge:new Error(String(ge));console.error("[SubscriptionContext] Subscription error:",le),f(le)}},[]),F=A.useCallback((K,Y,J)=>{if(S.current)try{S.current.unsubscribeMultiFeed(K,Y,J)}catch(G){const X=G instanceof Error?G:new Error(String(G));console.error("[SubscriptionContext] Unsubscribe error:",X),f(X)}},[]),$=A.useCallback((K,Y)=>{if(S.current)try{if(Y){const J=M.current.get(Y);if(!J){console.warn(`[SubscriptionContext] Cannot unsubscribe: callback not found in wrapped callbacks for sub-channel ${K}. Ensure you're using the same callback reference that was used for subscription.`);return}S.current.unsubscribeMultiFeedSubChannel(K,J),M.current.delete(Y)}else S.current.unsubscribeMultiFeedSubChannel(K)}catch(J){const G=J instanceof Error?J:new Error(String(J));console.error("[SubscriptionContext] Unsubscribe error:",G),f(G)}},[]),z=A.useCallback(()=>{a(K=>!K)},[]),D=A.useCallback(K=>{a(K)},[]),j=A.useCallback(K=>T.current.get(K)||null,[]),N=A.useCallback(()=>new Map(T.current),[]),R=A.useCallback(K=>{K?T.current.delete(K):T.current.clear()},[]),H=A.useCallback(()=>{f(null)},[]),U=A.useMemo(()=>({client:S.current,isEnabled:o,isConnected:l,connectionState:u,error:h,toggleEnabled:z,setEnabled:D,clearError:H,getRetainedData:j,getAllRetainedData:N,clearRetainedData:R,wsURL:p,setWsURL:m,authToken:b,setAuthToken:y,walletAddress:v,setWalletAddress:w,deviceID:_,setDeviceID:x,subscribeMultiFeedWithRetention:I,subscribeSubChannelWithRetention:O,unsubscribeMultiFeed:F,unsubscribeSubChannel:$}),[o,l,u,h,z,D,H,j,N,R,p,b,v,_,I,O,F,$]);return g.jsx(cpe.Provider,{value:U,children:n})},Gd=()=>{const n=A.useContext(cpe);if(!n)throw new Error("useSubscription must be used within SubscriptionProvider");return n};function I9e({baseURL:n=Z0,selectedMarketId:e,height:r,onMarketSelect:i,favorites:s=[],onFavoriteToggle:o}){const{markets:a,tickers:l,selectedMarketId:c,setSelectedMarketId:u,getSymbolByMarketId:d}=Ul({baseURL:n,autoFetchMarkets:!0}),{subscribeSubChannelWithRetention:h,unsubscribeSubChannel:f,isConnected:p,getRetainedData:m,client:b}=Gd(),[y,v]=A.useState(new Set(s)),[w,_]=A.useState("1H"),[x,S]=A.useState(null),C=A.useRef(null),E=A.useRef(null),T=e||c||null,{latestFundingRate:M}=tpe({subscriptionClient:b,baseURL:n,marketId:T||"",historyDepth:1}),I=A.useMemo(()=>{if(!(M!=null&&M.funding_rate))return null;try{return $t(M.funding_rate)}catch(G){return console.error("[TickerBar] Error converting funding rate:",G),null}},[M]),O=A.useMemo(()=>{if(!(M!=null&&M.mark_price))return null;try{return $t(M.mark_price)}catch(G){return console.error("[TickerBar] Error converting mark_price:",G),null}},[M]),F=A.useMemo(()=>x!==null?x:O,[x,O]),$=A.useMemo(()=>{const G=new Set(y);return s.forEach(X=>G.add(X)),G},[s,y]),z=A.useMemo(()=>a.map(G=>{var Ee,V;const X=((Ee=G.market_id)==null?void 0:Ee.toString())||((V=G.id)==null?void 0:V.toString())||"",ae=l.get(X),ge=G.moniker||G.symbol||(G.baseAsset&&G.quoteAsset?`${G.baseAsset}/${G.quoteAsset}`:"Unknown"),le=!G.active||!(ae!=null&&ae.lastPrice)||typeof ae.lastPrice=="string"&&ae.lastPrice==="0";let ie=null;ae!=null&&ae.lastPrice&&(typeof ae.lastPrice=="string"?ie=parseFloat(ae.lastPrice):ie=ae.lastPrice);let Te=null;return ae!=null&&ae.priceChangePercent24h&&(typeof ae.priceChangePercent24h=="string"?Te=parseFloat(ae.priceChangePercent24h):Te=ae.priceChangePercent24h),{marketId:X,symbol:ge,price:ie,priceChangePercent:Te,isClosed:le,isFavorite:$.has(X)}}).filter(G=>G.marketId),[a,l,$]),D=A.useMemo(()=>T?a.find(G=>{var X,ae;return((X=G.market_id)==null?void 0:X.toString())===T||((ae=G.id)==null?void 0:ae.toString())===T}):null,[a,T]),j=A.useMemo(()=>T?l.get(T):null,[l,T]),N=A.useMemo(()=>D?D.moniker||D.symbol||(D.baseAsset&&D.quoteAsset?`${D.baseAsset}/${D.quoteAsset}`:"Unknown"):"Select Market",[D]),R=A.useMemo(()=>{if(!D)return"";const G=D.baseAsset||"",X=D.quoteAsset||"";return G&&X?`${G} to ${X}`:D.moniker||D.symbol||""},[D]),H=A.useMemo(()=>j!=null&&j.lastPrice?typeof j.lastPrice=="string"?parseFloat(j.lastPrice):j.lastPrice:null,[j]),U=A.useMemo(()=>j!=null&&j.priceChangePercent24h?typeof j.priceChangePercent24h=="string"?parseFloat(j.priceChangePercent24h):j.priceChangePercent24h:null,[j]);A.useEffect(()=>{var ge;if(!T||!p){S(null);return}const G=d(T);if(!G){S(null);return}const X=m("price_feed");if(X&&Vfe(X)&&((ge=X.data)!=null&&ge.price))try{const le=$t(X.data.price);S(le)}catch(le){console.error("[TickerBar] Error processing retained price_feed:",le)}const ae=le=>{try{if(le&&typeof le=="object"&&le.price){const ie=$t(le.price);S(ie)}}catch(ie){console.error("[TickerBar] Error processing price_feed update:",ie)}};E.current=ae;try{h(T,G,"price_feed",ae)}catch(le){console.error("[TickerBar] Failed to subscribe to price_feed:",le)}return()=>{if(E.current){try{f("price_feed",E.current)}catch(le){console.error("[TickerBar] Failed to unsubscribe from price_feed:",le)}E.current=null}}},[T,p,d,h,f,m]);const K=G=>{i?i(G):u(G)},Y=(G,X)=>{X.stopPropagation();const ae=new Set($);ae.has(G)?ae.delete(G):ae.add(G),v(ae),o&&o(G)},J=G=>{var ge;const X=((ge=G.split("/")[0])==null?void 0:ge.toUpperCase())||"";return{BTC:"",ETH:"",EUR:"",USD:"$",USDC:"$",USDT:"$"}[X]||X.charAt(0)||"?"};return g.jsxs("div",{className:"ticker-bar-container",style:r?{height:r}:void 0,children:[g.jsx("div",{className:"ticker-bar-top",ref:C,children:g.jsx("div",{className:"ticker-bar-scroll",children:z.map((G,X)=>g.jsxs(B.Fragment,{children:[g.jsxs("div",{className:`ticker-item ${G.marketId===T?"active":""}`,onClick:()=>K(G.marketId),children:[g.jsx("span",{className:"ticker-favorite-star",onClick:ae=>Y(G.marketId,ae),style:{cursor:"pointer",opacity:G.isFavorite?1:.3},children:""}),g.jsx("span",{className:"ticker-asset-icon",children:J(G.symbol)}),g.jsx("span",{className:"ticker-symbol",children:G.symbol}),g.jsx("span",{className:"ticker-value",children:G.isClosed?g.jsx("span",{className:"ticker-closed",children:"CLOSED"}):G.price!==null?rg(G.price):"--"})]}),X<z.length-1&&g.jsx("div",{className:"ticker-separator"})]},G.marketId))})}),g.jsxs("div",{className:"ticker-bar-bottom",children:[g.jsxs("div",{className:"ticker-detail-left",children:[g.jsx("div",{className:"ticker-detail-icon-large",children:D?J(N):"?"}),g.jsxs("div",{className:"ticker-detail-symbol-group",children:[g.jsx("div",{className:"ticker-detail-symbol-row",children:g.jsx("span",{className:"ticker-detail-symbol",children:N})}),g.jsx("div",{className:"ticker-detail-description",children:R})]}),g.jsxs("div",{className:"ticker-detail-price-group",children:[g.jsx("div",{className:"ticker-detail-price",children:H!==null?rg(H):"--"}),U!==null&&g.jsxs("div",{className:`ticker-detail-change ${U>=0?"positive":"negative"}`,children:[U>=0?"+":"",dw(U/100)]})]})]}),g.jsxs("div",{className:"ticker-detail-metrics",children:[g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Oracle Price",children:"Oracle Price"}),g.jsx("span",{className:"ticker-metric-value",children:F!==null?rg(F):"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Long)",children:"Open Interest (L)"}),g.jsx("span",{className:"ticker-metric-value",children:j!=null&&j.volume?(()=>{const G=typeof j.volume=="string"?parseFloat(j.volume):j.volume;return`${eq(G)} / 20.0M USDC`})():"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Short)",children:"Open Interest (S)"}),g.jsx("span",{className:"ticker-metric-value",children:j!=null&&j.volume?(()=>{const G=typeof j.volume=="string"?parseFloat(j.volume):j.volume;return`${eq(G)} / 20.0M USDC`})():"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Skew",children:"Skew"}),g.jsx("span",{className:"ticker-metric-value",children:"50%/50%"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Funding Rate",children:"Funding Rate"}),g.jsx("span",{className:`ticker-metric-value ${I!==null&&I<0?"negative":I!==null&&I>0?"positive":""}`,children:I!==null?dw(I):"--"})]})]}),g.jsxs("div",{className:"ticker-detail-right",children:[g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Holding (Long)",children:"Holding (L)"}),g.jsx("span",{className:"ticker-metric-value positive",children:"0.0012%"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Holding (Short)",children:"Holding (S)"}),g.jsx("span",{className:"ticker-metric-value negative",children:"0.0021%"})]})]}),g.jsx("div",{className:"ticker-timeframe-selector",children:g.jsxs("select",{className:"ticker-timeframe-select",value:w,onChange:G=>_(G.target.value),children:[g.jsx("option",{value:"1H",children:"1H"}),g.jsx("option",{value:"4H",children:"4H"}),g.jsx("option",{value:"1D",children:"1D"}),g.jsx("option",{value:"1W",children:"1W"}),g.jsx("option",{value:"1M",children:"1M"})]})})]})]})}const M9e=B.memo(I9e),O9e=A.forwardRef(function({baseURL:e=Z0,mnemonic:r=zC,marketId:i,marketSymbol:s,selectedBucketBalance:o,selectedBucketId:a,onLeverageClick:l,onNumberCalculatorClick:c,authToken:u,walletAddress:d},h){const{client:f}=Gd(),{selectedMarketId:p,selectedMarketSymbol:m}=Ul({baseURL:e,autoFetchMarkets:!0}),b=i||p||"",y=s||m||"",{lastPrice:v}=qC({subscriptionClient:f,baseURL:e,marketId:b}),w=(v==null?void 0:v.price)||0,_=A.useRef(0),x=A.useRef(0),S=A.useRef(!1),{collections:C,spotWalletBalance:E}=ope({subscriptionClient:f,baseURL:e,walletAddress:d||"",authToken:u||"",useWebSocket:!!d&&!!u}),T=A.useMemo(()=>!a||!C.length?null:C.find(Qe=>Qe.bucketId===a)||null,[C,a]),{orderType:M,setOrderType:I,fundPercent:O,sizeInput:F,price:$,leverage:z,marginMode:D,availableBalance:j,currentPrice:N,isReady:R,loading:H,result:U,setFundPercent:K,setSizeInput:Y,setPrice:J,setMarginMode:G,setLeverage:X,placeBuyOrder:ae,placeSellOrder:ge,changeLeverage:le,calculateValue:ie,calculateMargin:Te,calculateSizeUSD:Ee,getOrderPrice:V,getAvailableTradeAmount:Ie}=epe({baseURL:e,mnemonic:r,marketId:b,marketSymbol:y,selectedBucketBalance:o,selectedBucketId:a||void 0,tradePrice:w}),Ye=A.useMemo(()=>V(),[V,M,$,N]),nt=A.useMemo(()=>Ie(),[Ie,j,z]),Ue=A.useMemo(()=>ie(),[ie,F,O,j,Ye,z]),mt=A.useMemo(()=>Te(),[Te,z,Ue]),He=A.useMemo(()=>It(String(Ue)),[Ue]),xe=A.useMemo(()=>It(String(mt)),[mt]),Ve=A.useMemo(()=>({minimumFractionDigits:pc,maximumFractionDigits:Kfe}),[]),Oe=A.useMemo(()=>N.toFixed(pc),[N]),Ne=A.useMemo(()=>{const Qe=C.reduce((ot,De)=>ot+De.totalEquity,0);return E+Qe},[C,E]),Ae=A.useMemo(()=>Ne.toLocaleString("en-US",Ve),[Ne,Ve]),Se=A.useMemo(()=>E.toLocaleString("en-US",Ve),[E,Ve]),W=A.useMemo(()=>T?T.totalEquity.toLocaleString("en-US",Ve):"--",[T,Ve]),de=A.useMemo(()=>T?T.totalEquity.toLocaleString("en-US",Ve):"--",[T,Ve]),me=A.useMemo(()=>T?T.unrealizedPnL.toLocaleString("en-US",Ve):"--",[T,Ve]),oe=A.useMemo(()=>T?(T.marginRatio*100).toFixed(pc)+"%":"--",[T]),pe=A.useMemo(()=>T?T.usedMargin.toLocaleString("en-US",Ve):"--",[T,Ve]),ye=A.useMemo(()=>T?`${T.leverage.toFixed(pc)}x`:"--",[T]),Z=A.useMemo(()=>G7e(a||null),[a]);A.useEffect(()=>{if(T){const Qe=Rm(T);(Qe===cw||Qe===INe)&&G(Qe)}},[T,G]);const ue=A.useCallback(()=>{I(GR)},[I]),ce=A.useCallback(()=>{I(Q5)},[I]),Ce=A.useCallback(()=>{K(Math.min(K5,O+X5))},[O,K]),Re=A.useCallback(()=>{K(Math.max(t_,O-X5))},[O,K]),he=A.useCallback(Qe=>{const ot=parseInt(Qe.target.value);K(ot)},[K]),Pe=A.useCallback(Qe=>{J(parseFloat(Qe.target.value))},[J]),[_e,re]=A.useState(!1),[ne,se]=A.useState(""),rt=A.useCallback(Qe=>{const ot=Qe.target.value;se(ot);const De=parseFloat(ot),it=isNaN(De)?0:Math.round(De*1e6)/1e6;Y(it)},[Y]),Le=A.useCallback(()=>{re(!0),se(o8e(F))},[F]),Ke=A.useCallback(()=>{re(!1);const Qe=parseFloat(ne);Y(Qe),se("")},[ne,Y]),je=A.useCallback(()=>{const Qe=pt.loading("Submit transaction...",{description:"Placing buy order"});_.current=typeof Qe=="number"?Qe:0,ae()},[ae]),Ze=A.useCallback(()=>{const Qe=pt.loading("Submit transaction...",{description:"Placing sell order"});_.current=typeof Qe=="number"?Qe:0,ge()},[ge]),ht=A.useCallback(async(Qe,ot)=>{S.current=!0;const De=pt.loading("Changing leverage...",{description:`Updating leverage to ${Qe}x`});x.current=typeof De=="number"?De:0;try{const it=(ot==null?void 0:ot.leverageType)||(D===cw?"cross":"isolated"),we=(ot==null?void 0:ot.bucketId)||a||"";await le(Qe,{...ot,bucketId:we,leverageType:it})}catch(it){S.current=!1,x.current!==0&&(pt.dismiss(x.current),x.current=0);const we=it instanceof Error?it.message:"Unknown error";pt.error("Leverage Change Failed",{description:we,action:bi(we)})}},[le,D,a]);return A.useImperativeHandle(h,()=>({leverage:z,setLeverage:X,calculateMaxRatio:Qe=>{const De=Ee();return j>0&&De>0?(De/j).toFixed(pc):Qe.toFixed(pc)},changeLeverage:ht,setPrice:Qe=>{const ot=typeof Qe=="number"?Qe:parseFloat(Qe);isNaN(ot)||J(ot)},setSizeInput:Qe=>{Y(Qe)},getSizeInput:()=>F,getAvailableTradeAmount:()=>nt}),[z,X,Ee,V,j,ht,J,Y,F,nt]),A.useEffect(()=>{if(U)if(S.current)if(S.current=!1,x.current!==0&&(pt.dismiss(x.current),x.current=0),U.success){const Qe=U.orderId?`Transaction: ${U.orderId}`:U.message||"Leverage changed successfully";pt.success("Leverage Changed Successfully",{description:Qe})}else U.error&&pt.error("Leverage Change Failed",{description:U.error,action:bi(U.error||"")});else if(_.current!==0&&(pt.dismiss(_.current),_.current=0),U.success){const Qe=U.orderId?`Order ID: ${U.orderId}`:U.message||"Order placed successfully";pt.success("Order Placed Successfully",{description:Qe})}else U.error&&pt.error("Order Failed",{description:U.error,action:bi(U.error||"")})},[U]),g.jsxs("div",{className:"component",children:[g.jsx("h2",{children:y}),g.jsxs("div",{className:"trade-op-config",children:[g.jsxs("div",{className:"trade-op-badge",children:[g.jsx("span",{className:"trade-op-badge-label",children:D}),g.jsx("span",{className:"trade-op-info-icon",children:"i"})]}),g.jsxs("div",{className:"trade-op-badge",onClick:l,style:{cursor:"pointer"},children:[g.jsxs("span",{className:"trade-op-badge-label",children:[z,"x"]}),g.jsx("span",{className:"trade-op-info-icon",children:"i"})]})]}),g.jsxs("div",{className:"trade-op-order-type-selector",children:[g.jsx("button",{onClick:ue,className:`btn-toggle ${M===GR?"active":""}`,children:"MARKET"}),g.jsx("button",{onClick:ce,className:`btn-toggle ${M===Q5?"active":""}`,children:"LIMIT"})]}),M===Q5&&g.jsx("div",{className:"trade-op-form-group",children:g.jsxs("div",{className:"trade-op-form-row",children:[g.jsx("label",{htmlFor:"price",className:"trade-op-label",children:"Price:"}),g.jsx("input",{id:"price",type:"number",value:$,onChange:Pe,placeholder:Oe,step:ENe,min:gW})]})}),g.jsxs("div",{className:"trade-op-form-group",children:[g.jsxs("div",{className:"trade-op-form-row",style:{marginBottom:"0.5rem"},children:[g.jsx("label",{htmlFor:"size",className:"trade-op-label",children:"Size:"}),g.jsx("span",{className:"trade-op-icon",onClick:c,children:g.jsx("img",{src:"cal.svg"})}),g.jsxs("div",{className:"trade-op-size-controls",children:[g.jsx("input",{id:"size",type:"number",step:"0.000001",value:_e?ne:F,onChange:rt,onFocus:Le,onBlur:Ke,placeholder:"0",min:gW,max:nt,className:"trade-op-input"}),g.jsxs("div",{className:"trade-op-size-buttons",children:[g.jsx("button",{onClick:Ce,className:"btn-small",children:""}),g.jsx("button",{onClick:Re,className:"btn-small",children:""})]})]})]}),g.jsx("input",{type:"range",min:t_,max:K5,value:O,onChange:he,step:X5,style:{width:"100%","--slider-progress":`${(O-t_)/(K5-t_)*100}%`},className:"filled-slider"}),g.jsxs("div",{className:"trade-op-slider-labels",children:[g.jsx("span",{children:"0"}),g.jsx("span",{children:"20"}),g.jsx("span",{children:"40"}),g.jsx("span",{children:"60"}),g.jsx("span",{children:"80"}),g.jsx("span",{children:"100"})]})]}),g.jsxs("div",{className:"trade-op-action-panel",children:[g.jsxs("div",{children:[g.jsx("div",{className:"trade-op-panel-title buy",children:"LONG"}),g.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),g.jsx("button",{onClick:je,disabled:H||!R||Ue<=0,className:"btn-buy",children:H?"PLACING...":"BUY LONG"}),g.jsxs("div",{className:"trade-op-panel-details",children:[g.jsxs("div",{children:["Value ",He.toFixed(2)]}),g.jsxs("div",{children:["Margin ",xe.toFixed(2)]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"trade-op-panel-title sell",children:"SHORT"}),g.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),g.jsx("button",{onClick:Ze,disabled:H||!R||Ue<=0,className:"btn-sell",children:H?"PLACING...":"SELL SHORT"}),g.jsxs("div",{className:"trade-op-panel-details",children:[g.jsxs("div",{children:["Value ",He.toFixed(pc)]}),g.jsxs("div",{children:["Margin ",xe.toFixed(pc)]})]})]})]}),g.jsxs("div",{className:"trade-op-info-panel",children:[g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Account Equity:"}),g.jsxs("span",{className:"trade-op-info-value",children:[Ae," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Spot:"}),g.jsxs("span",{className:"trade-op-info-value",children:[Se," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsxs("span",{className:"trade-op-info-label",children:[a||"Bucket",":"]}),g.jsxs("span",{className:"trade-op-info-value",children:[W," USDC"]})]}),g.jsx("div",{className:"trade-op-info-row",children:g.jsxs("span",{className:"trade-op-info-label",children:["Bucket Overview: ",Z]})}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Balance:"}),g.jsxs("span",{className:"trade-op-info-value",children:[de," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Unrealized PNL:"}),g.jsxs("span",{className:"trade-op-info-value",children:[me," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Cross Margin Ratio:"}),g.jsx("span",{className:"trade-op-info-value",children:oe})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Maintenance Margin:"}),g.jsxs("span",{className:"trade-op-info-value",children:[pe," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Cross Account Leverage:"}),g.jsx("span",{className:"trade-op-info-value",children:ye})]})]})]})});function D9e({baseURL:n=Z0,subscriptionClient:e,marketId:r=SNe,limit:i=kNe}){const{lastPrice:s,displayPrice:o,recentTrades:a,loading:l,error:c,isConnected:u,priceChange:d}=qC({subscriptionClient:e,baseURL:n,marketId:r,limit:i}),h=A.useRef(null),f=A.useRef(""),p=A.useRef(null),m=A.useCallback(()=>{const T=h.current;if(!T)return;const M=T.parentElement;if(!M)return;const I=T.textContent||"";if(!I)return;const O=window.getComputedStyle(M),F=parseFloat(O.paddingLeft)+parseFloat(O.paddingRight),$=M.clientWidth-F;let z=12,D=48,j=z;const N=document.createElement("div");for(N.style.position="absolute",N.style.visibility="hidden",N.style.whiteSpace="nowrap",N.style.fontFamily=window.getComputedStyle(T).fontFamily,N.style.fontWeight=window.getComputedStyle(T).fontWeight,document.body.appendChild(N);z<=D;){const H=Math.floor((z+D)/2);N.style.fontSize=`${H}px`,N.textContent=I,N.offsetWidth<=$?(j=H,z=H+1):D=H-1}document.body.removeChild(N);const R=parseFloat(window.getComputedStyle(T).fontSize);Math.abs(R-j)>.5&&(T.style.fontSize=`${j}px`)},[]);A.useEffect(()=>{if(o==null)return;const T=rg(o);if(T===f.current)return;f.current=T,p.current!==null&&clearTimeout(p.current),p.current=window.setTimeout(()=>{m()},150);let M;const I=()=>{clearTimeout(M),M=window.setTimeout(()=>{p.current!==null&&clearTimeout(p.current),p.current=window.setTimeout(()=>{m()},150)},100)};return window.addEventListener("resize",I),()=>{p.current!==null&&clearTimeout(p.current),clearTimeout(M),window.removeEventListener("resize",I)}},[o,m]);const b=A.useCallback(T=>{if(!T||isNaN(T)||T<=0)return"Invalid";let M=T;M<9466848e5&&(M=M*1e3);const I=new Date(M);return isNaN(I.getTime())?"Invalid":I.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[]),y=A.useCallback(T=>T?"#51cf66":"#ff6b6b",[]),v=A.useCallback(T=>T?"BUY":"SELL",[]),w=A.useCallback(T=>T?"":"",[]);if(l)return g.jsx(eb,{message:"Loading trade price..."});if(c)return g.jsx(tb,{error:c});if(o==null)return g.jsx(Yc,{message:"No trade data available"});const _=s&&s.is_buyer_maker!==void 0,x=_?y(s.is_buyer_maker):"#888",S=_?v(s.is_buyer_maker):"N/A",C=_?w(s.is_buyer_maker):"",E=d==="up"?"flash-price-up":d==="down"?"flash-price-down":"";return g.jsxs("div",{className:"layout-container trade-price-container",children:[g.jsx(nb,{title:g.jsx(g9,{isConnected:u}),children:g.jsx("div",{children:"Last Trade Price"})}),g.jsxs("div",{className:`trade-price-main ${E}`,children:[g.jsx("div",{ref:h,className:"trade-price-value",style:{color:x},children:rg(o)}),g.jsxs("div",{className:"trade-price-side",style:{color:x},children:[g.jsx("span",{children:C}),g.jsx("span",{children:S})]})]}),g.jsx("div",{className:"trade-price-trades-table",children:l?g.jsx("div",{className:"message",children:"Loading trades..."}):a.length===0?g.jsx("div",{className:"message",children:"No trades available"}):g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Time"}),g.jsx("th",{className:"right",children:"Size"}),g.jsx("th",{className:"right",children:"Price"})]})}),g.jsx("tbody",{children:a.map(T=>{const M=T.is_buyer_maker?"#51cf66":"#ff6b6b";return g.jsxs("tr",{children:[g.jsx("td",{children:b(T.time)}),g.jsx("td",{className:"right",children:W7e(T.size)}),g.jsx("td",{className:"right price",style:{color:M},children:rg(T.price)})]},`${T.time}-${T.price}-${T.size}`)})})]})})]})}const R9e=B.memo(D9e),upe=({level:n,index:e,isLast:r,depthPercent:i,formatPrice:s,formatSize:o,onPriceClick:a})=>{const l=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-ask":"",c=()=>{a&&a(n.price)};return g.jsxs("div",{className:`orderbook-level ask ${l}`,style:{borderBottom:r?"none":void 0},children:[g.jsx("div",{className:"orderbook-depth-bar ask",style:{width:`${i}%`}}),g.jsx("div",{className:"orderbook-level-content ask",onClick:c,style:{cursor:a?"pointer":"default"},title:a?"Click to set price":void 0,children:s(n.price)}),g.jsx("div",{className:"orderbook-level-content right",children:o(n.size)}),g.jsx("div",{className:"orderbook-depth-indicator",children:g.jsx("div",{className:"orderbook-depth-line ask"})})]})},dpe=({level:n,index:e,isLast:r,depthPercent:i,formatPrice:s,formatSize:o,onPriceClick:a})=>{const l=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-bid":"",c=()=>{a&&a(n.price)};return g.jsxs("div",{className:`orderbook-level bid ${l}`,style:{borderBottom:r?"none":void 0},children:[g.jsx("div",{className:"orderbook-depth-bar bid",style:{width:`${i}%`}}),g.jsx("div",{className:"orderbook-level-content bid",onClick:c,style:{cursor:a?"pointer":"default"},title:a?"Click to set price":void 0,children:s(n.price)}),g.jsx("div",{className:"orderbook-level-content right",children:o(n.size)}),g.jsx("div",{className:"orderbook-depth-indicator",children:g.jsx("div",{className:"orderbook-depth-line bid"})})]})};function N9e({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i=Yfe,height:s=Gfe,onPriceClick:o}){var M,I;const{asks:a,bids:l,spread:c,midPrice:u,loading:d,error:h,isConnected:f,wsError:p}=f9({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i}),m=A.useRef(null),b=A.useRef(null),y=A.useRef(null),v=A.useRef(0),w=A.useRef(0);A.useEffect(()=>{const O=a.length!==v.current,F=l.length!==w.current;if(!(!O&&!F))return v.current=a.length,w.current=l.length,y.current!==null&&cancelAnimationFrame(y.current),y.current=requestAnimationFrame(()=>{if(m.current&&O){const $=m.current;$.scrollTop=$.scrollHeight}if(b.current&&F){const $=b.current;$.scrollTop=0}y.current=null}),()=>{y.current!==null&&(cancelAnimationFrame(y.current),y.current=null)}},[a.length,l.length]);const _=a.length>0?((M=a[a.length-1])==null?void 0:M.cumulative)??0:0,x=l.length>0?((I=l[l.length-1])==null?void 0:I.cumulative)??0:0,S=A.useMemo(()=>Math.max(_,x),[_,x]),C=$k,E=zk,T=A.useCallback(O=>S===0?0:O/S*100,[S]);return d?g.jsx(eb,{message:"Loading orderbook..."}):h?g.jsx(tb,{error:h}):g.jsxs("div",{className:"layout-container",style:{height:s},children:[p&&(a.length>0||l.length>0)&&g.jsxs("div",{className:"orderbook-ws-warning",children:[g.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),g.jsx("span",{className:"orderbook-ws-warning-text",children:p})]}),g.jsx(nb,{title:g.jsx(g9,{isConnected:f}),children:g.jsxs("div",{children:["Depth: ",i]})}),u&&g.jsxs("div",{className:"orderbook-mid-price",children:[g.jsx("div",{className:"orderbook-mid-price-value",children:C(u)}),c!==void 0&&g.jsxs("div",{className:"orderbook-mid-price-spread",children:["Spread: ",C(c)]})]}),g.jsxs("div",{className:"orderbook-content",children:[g.jsxs("div",{className:"orderbook-section",ref:m,children:[a.map((O,F)=>{const $=T(O.cumulative);return g.jsx(upe,{level:O,index:F,isLast:F===a.length-1,depthPercent:$,formatPrice:C,formatSize:E,onPriceClick:o},`ask-${O.price}-${F}`)}),a.length===0&&g.jsx(Yc,{message:"No ask orders"})]}),g.jsxs("div",{className:"orderbook-section bids",ref:b,children:[l.map((O,F)=>{const $=T(O.cumulative);return g.jsx(dpe,{level:O,index:F,isLast:F===l.length-1,depthPercent:$,formatPrice:C,formatSize:E,onPriceClick:o},`bid-${O.price}-${F}`)}),l.length===0&&g.jsx(Yc,{message:"No bid orders"})]})]}),g.jsx(hpe,{totalBids:x,totalAsks:_})]})}const hpe=B.memo(({totalBids:n,totalAsks:e})=>{const r=n+e,i=r>0?`${(n/r*100).toFixed(0)}%`:"0%",s=r>0?`${(e/r*100).toFixed(0)}%`:"0%";return g.jsxs("div",{className:"orderbook-footer",children:[g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar bid"}),g.jsx("span",{className:"color-text-muted",children:i})]}),g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar ask"}),g.jsx("span",{className:"color-text-muted",children:s})]})]})});hpe.displayName="FooterSummary";B.memo(N9e);function j9e(n,e,r,i){const s=a=>{const l=1-a;return 3*l*l*a*n+3*l*a*a*r+a*a*a},o=a=>{const l=1-a;return 3*l*l*a*e+3*l*a*a*i+a*a*a};return a=>{if(a<=0)return 0;if(a>=1)return 1;let l=0,c=1,u=.5;for(let d=0;d<12;d++){const h=s(u);if(Math.abs(h-a)<1e-4)break;h<a?l=u:c=u,u=(l+c)/2}return o(u)}}function B9e({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i=Yfe,height:s=Gfe,onPriceClick:o}){var H,U;const{asks:a,bids:l,spread:c,loading:u,error:d,isConnected:h,wsError:f}=f9({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i}),p=A.useRef(null),m=A.useRef(null),b=A.useRef(null),y=A.useRef(null),v=A.useRef(!1),w=A.useRef(null),_=A.useRef(null),x=A.useRef(!1),S=A.useRef(0),C=a.length>0?((H=a[a.length-1])==null?void 0:H.cumulative)??0:0,E=l.length>0?((U=l[l.length-1])==null?void 0:U.cumulative)??0:0,T=A.useMemo(()=>Math.max(C,E),[C,E]),M=$k,I=zk,O=A.useCallback(K=>T===0?0:K/T*100,[T]),F=A.useCallback((K,Y,J)=>{if(v.current)return;v.current=!0;const G=J,X=Y-G,ae=300,ge=performance.now(),le=ge+ae,ie=j9e(.57,.4,.55,1.17),Te=Ee=>{if(Ee>=le){K.scrollTop=Math.max(0,Y),v.current=!1,S.current=performance.now(),y.current&&(cancelAnimationFrame(y.current),y.current=null);return}const V=Ee-ge,Ie=Math.min(V/ae,1),Ye=ie(Ie),nt=G+X*Ye;K.scrollTop=Math.max(0,nt),y.current=requestAnimationFrame(Te)};y.current=requestAnimationFrame(Te)},[]),$=A.useCallback((K=0)=>{if(v.current||performance.now()-S.current<500||!p.current||!m.current)return;const G=p.current,ae=m.current.clientHeight;if(ae===0)return;const ge=ae/2,le=20.83333;if(a.length*le<=ge||c<=0||a.length===0||l.length===0)return;if(!b.current){if(K<3){_.current&&clearTimeout(_.current);const He=50*(K+1);_.current=window.setTimeout(()=>{_.current=null,$(K+1)},He)}return}const Te=b.current,Ee=Te.offsetTop,V=Te.offsetHeight;if(V===0){if(K<3){_.current&&clearTimeout(_.current);const He=50*(K+1);_.current=window.setTimeout(()=>{_.current=null,$(K+1)},He)}return}const Ie=Ee+V/2,Ye=ae/2,nt=Ie-Ye-le,Ue=G.scrollTop;Math.abs(nt-Ue)>1&&F(G,Math.max(0,nt),Ue)},[a.length,c,F]);A.useEffect(()=>{const K=()=>{x.current&&(x.current=!1,$())};return window.addEventListener("mouseup",K),()=>{window.removeEventListener("mouseup",K)}},[$]),A.useEffect(()=>{if(!p.current||!m.current)return;const K=requestAnimationFrame(()=>{requestAnimationFrame(()=>{$()})});return()=>{cancelAnimationFrame(K),y.current&&(cancelAnimationFrame(y.current),y.current=null),w.current&&(clearTimeout(w.current),w.current=null),_.current&&(clearTimeout(_.current),_.current=null),v.current=!1}},[a.length,l.length,c,T,$]);const z=A.useCallback(()=>{v.current&&y.current&&(cancelAnimationFrame(y.current),y.current=null,v.current=!1),w.current&&(clearTimeout(w.current),w.current=null)},[]),D=A.useCallback(K=>{const Y=K.currentTarget,J=Y.offsetWidth-Y.clientWidth;if(J>0){const G=Y.getBoundingClientRect();K.clientX-G.left>Y.clientWidth-J-5&&(x.current=!0,z())}},[z]),j=A.useCallback(()=>{x.current&&z()},[z]),N=A.useCallback(()=>{x.current&&(x.current=!1,$())},[$]),R=A.useCallback(()=>{z(),w.current&&clearTimeout(w.current),x.current||(w.current=window.setTimeout(()=>{w.current=null,$()},150))},[$,z]);return u?g.jsx(eb,{message:"Loading orderbook..."}):d?g.jsx(tb,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:s},children:[f&&(a.length>0||l.length>0)&&g.jsxs("div",{className:"orderbook-ws-warning",children:[g.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),g.jsx("span",{className:"orderbook-ws-warning-text",children:f})]}),g.jsx(nb,{title:g.jsx(g9,{isConnected:h}),children:g.jsxs("div",{children:["Depth: ",i]})}),g.jsx("div",{className:"orderbook-content",ref:m,children:g.jsxs("div",{className:"orderbook-section",ref:p,onScroll:R,onMouseDown:D,onMouseMove:j,onMouseUp:N,onMouseLeave:N,children:[a.map((K,Y)=>{const J=O(K.cumulative);return g.jsx(upe,{level:K,index:Y,isLast:Y===a.length-1&&l.length===0,depthPercent:J,formatPrice:M,formatSize:I,onPriceClick:o},`ask-${K.price}-${Y}`)}),c>0&&a.length>0&&l.length>0&&g.jsxs("div",{className:"orderbook-mid-price-spread",ref:b,children:["Spread: ",M(c)]}),l.map((K,Y)=>{const J=O(K.cumulative);return g.jsx(dpe,{level:K,index:Y,isLast:Y===l.length-1,depthPercent:J,formatPrice:M,formatSize:I,onPriceClick:o},`bid-${K.price}-${Y}`)}),a.length===0&&l.length===0&&g.jsx(Yc,{message:"No orders"}),a.length===0&&l.length>0&&g.jsx(Yc,{message:"No ask orders"}),l.length===0&&a.length>0&&g.jsx(Yc,{message:"No bid orders"})]})}),g.jsx(fpe,{totalBids:E,totalAsks:C})]})}const fpe=B.memo(({totalBids:n,totalAsks:e})=>{const r=n+e,i=r>0?`${(n/r*100).toFixed(0)}%`:"0%",s=r>0?`${(e/r*100).toFixed(0)}%`:"0%";return g.jsxs("div",{className:"orderbook-footer",children:[g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar bid"}),g.jsx("span",{className:"color-text-muted",children:i})]}),g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar ask"}),g.jsx("span",{className:"color-text-muted",children:s})]})]})});fpe.displayName="FooterSummary";const L9e=B.memo(B9e);function v9({top:n,left:e,width:r,height:i}){const s=`translate(${e}px,${n}px)`;return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:`${r}px`,height:`${i}px`,position:"absolute"}}function ppe({top:n,left:e,width:r,height:i}){return{top:`${n}px`,left:`${e}px`,width:`${r}px`,height:`${i}px`,position:"absolute"}}function nq(n){return n*100+"%"}function F9e(n,e,r,i){return n+r>i?e:r}function mpe(n,e,r){return n<0?e:r}function $9e(n){return Math.max(0,n)}function Uk(n){return Math.max(0,n)}var w9=(n,e,r)=>{const{left:i,height:s,width:o}=e,a=n.top-(s-n.height);return{left:i,width:o,height:mpe(a,n.height,s),top:Uk(a)}},x9=(n,e,r)=>{const{top:i,left:s,height:o,width:a}=e;return{top:i,height:o,width:F9e(n.left,n.width,a,r),left:$9e(s)}},_9=(n,e,r)=>{const{top:i,height:s,width:o}=e,a=n.left+n.width-o;return a<0?{height:s,width:n.left+n.width,top:Uk(i),left:0}:{height:s,width:o,top:Uk(i),left:a}},S9=(n,e,r)=>{const{top:i,left:s,height:o,width:a}=e;return{width:a,left:s,height:mpe(i,n.height,o),top:Uk(i)}},z9e=(n,e,r)=>w9(n,x9(n,e,r)),U9e=(n,e,r)=>w9(n,_9(n,e)),W9e=(n,e,r)=>S9(n,x9(n,e,r)),q9e=(n,e,r)=>S9(n,_9(n,e)),H9e={n:w9,ne:z9e,e:x9,se:W9e,s:S9,sw:q9e,w:_9,nw:U9e};function V9e(n,e,r,i){const s=H9e[n];return s?s(e,{...e,...r},i):r}var gpe={type:"transform",scale:1,calcStyle(n){return v9(n)},calcDragPosition(n,e,r,i){return{left:n-r,top:e-i}}},G9e={type:"absolute",scale:1,calcStyle(n){return ppe(n)},calcDragPosition(n,e,r,i){return{left:n-r,top:e-i}}};function Y9e(n){return{type:"transform",scale:n,calcStyle(e){return v9(e)},calcDragPosition(e,r,i,s){return{left:(e-i)/n,top:(r-s)/n}}}}var K9e=gpe,X9e={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},Q9e={enabled:!0,bounded:!1,threshold:3},J9e={enabled:!0,handles:["se"]},Z9e={enabled:!1,defaultItem:{w:1,h:1}};function VC(n,e){return!(n.i===e.i||n.x+n.w<=e.x||n.x>=e.x+e.w||n.y+n.h<=e.y||n.y>=e.y+e.h)}function Ta(n,e){for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0&&VC(i,e))return i}}function bpe(n,e){return n.filter(r=>VC(r,e))}function ype(n,e){return e==="horizontal"?wpe(n):e==="vertical"?vpe(n):[...n]}function vpe(n){return[...n].sort((e,r)=>e.y!==r.y?e.y-r.y:e.x-r.x)}function wpe(n){return[...n].sort((e,r)=>e.x!==r.x?e.x-r.x:e.y-r.y)}function rb(n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0){const s=i.y+i.h;s>e&&(e=s)}}return e}function Nh(n,e){for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0&&i.i===e)return i}}function k9(n){return n.filter(e=>e.static===!0)}function Yd(n){return{i:n.i,x:n.x,y:n.y,w:n.w,h:n.h,minW:n.minW,maxW:n.maxW,minH:n.minH,maxH:n.maxH,moved:!!n.moved,static:!!n.static,isDraggable:n.isDraggable,isResizable:n.isResizable,resizeHandles:n.resizeHandles,isBounded:n.isBounded}}function Fa(n){const e=new Array(n.length);for(let r=0;r<n.length;r++){const i=n[r];i!==void 0&&(e[r]=Yd(i))}return e}function eBe(n,e){const r=new Array(n.length);for(let i=0;i<n.length;i++){const s=n[i];s!==void 0&&(e.i===s.i?r[i]=e:r[i]=s)}return r}function tBe(n,e,r){let i=Nh(n,e);return i?(i=r(Yd(i)),[eBe(n,i),i]):[[...n],null]}function C9(n,e){const r=k9(n);for(let i=0;i<n.length;i++){const s=n[i];if(s!==void 0)if(s.x+s.w>e.cols&&(s.x=e.cols-s.w),s.x<0&&(s.x=0,s.w=e.cols),!s.static)r.push(s);else for(;Ta(r,s);)s.y++}return n}function Jh(n,e,r,i,s,o,a,l,c){if(e.static&&e.isDraggable!==!0)return[...n];if(e.y===i&&e.x===r)return[...n];const u=e.x,d=e.y;typeof r=="number"&&(e.x=r),typeof i=="number"&&(e.y=i),e.moved=!0;let h=ype(n,a);(a==="vertical"&&typeof i=="number"?d>=i:a==="horizontal"&&typeof r=="number"?u>=r:!1)&&(h=h.reverse());const p=bpe(h,e),m=p.length>0;if(m&&c)return Fa(n);if(m&&o)return e.x=u,e.y=d,e.moved=!1,n;let b=[...n];for(let y=0;y<p.length;y++){const v=p[y];v!==void 0&&(v.moved||(v.static?b=rq(b,v,e,s,a):b=rq(b,e,v,s,a)))}return b}function rq(n,e,r,i,s,o){const a=s==="horizontal",l=s==="vertical",c=e.static;if(i){i=!1;const h={x:a?Math.max(e.x-r.w,0):r.x,y:l?Math.max(e.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},f=Ta(n,h),p=f!==void 0&&f.y+f.h>e.y,m=f!==void 0&&e.x+e.w>f.x;if(!f)return Jh(n,r,a?h.x:void 0,l?h.y:void 0,i,c,s);if(p&&l)return Jh(n,r,void 0,r.y+1,i,c,s);if(p&&s===null)return e.y=r.y,r.y=r.y+r.h,[...n];if(m&&a)return Jh(n,e,r.x,void 0,i,c,s)}const u=a?r.x+1:void 0,d=l?r.y+1:void 0;return u===void 0&&d===void 0?[...n]:Jh(n,r,u,d,i,c,s)}function nBe(n){return n.filter(e=>e.static)}var rBe={x:"w",y:"h"};function e4(n,e,r,i){const s=rBe[i];e[i]+=1;const o=n.findIndex(a=>a.i===e.i);for(let a=o+1;a<n.length;a++){const l=n[a];if(l!==void 0&&!l.static){if(l.y>e.y+e.h)break;VC(e,l)&&e4(n,l,r+e[s],i)}}e[i]=r}function iBe(n,e,r,i,s,o,a){const l=r==="vertical",c=r==="horizontal";if(l)for(typeof a=="number"?e.y=Math.min(a,e.y):e.y=Math.min(rb(n),e.y);e.y>0&&!Ta(n,e);)e.y--;else if(c)for(;e.x>0&&!Ta(n,e);)e.x--;let u;for(;(u=Ta(n,e))!==void 0&&!(r===null&&o);)if(c?e4(s,e,u.x+u.w,"x"):e4(s,e,u.y+u.h,"y"),c&&e.x+e.w>i)for(e.x=i-e.w,e.y++;e.x>0&&!Ta(n,e);)e.x--;return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function Oc(n,e,r,i){const s=nBe(n);let o=rb(s);const a=ype(n,e),l=new Array(n.length);for(let c=0;c<a.length;c++){const u=a[c];if(u===void 0)continue;let d=Yd(u);d.static||(d=iBe(s,d,e,r,a,i,o),o=Math.max(o,d.y+d.h),s.push(d));const h=n.indexOf(u);l[h]=d,d.moved=!1}return l}function E9(n,e,r,i){const s=i==="x"?"w":"h";e[i]+=1;const o=n.findIndex(a=>a.i===e.i);for(let a=o+1;a<n.length;a++){const l=n[a];if(l!==void 0&&!l.static){if(l.y>e.y+e.h)break;VC(e,l)&&E9(n,l,r+e[s],i)}}e[i]=r}function sBe(n,e,r,i){for(e.y=Math.min(i,e.y);e.y>0&&!Ta(n,e);)e.y--;let s;for(;(s=Ta(n,e))!==void 0;)E9(r,e,s.y+s.h,"y");return e.y=Math.max(e.y,0),e}function oBe(n,e,r,i){for(;e.x>0&&!Ta(n,e);)e.x--;let s;for(;(s=Ta(n,e))!==void 0;)if(E9(i,e,s.x+s.w,"x"),e.x+e.w>r)for(e.x=r-e.w,e.y++;e.x>0&&!Ta(n,e);)e.x--;return e.x=Math.max(e.x,0),e}var xpe={type:"vertical",allowOverlap:!1,compact(n,e){const r=k9(n);let i=rb(r);const s=vpe(n),o=new Array(n.length);for(let a=0;a<s.length;a++){const l=s[a];if(l===void 0)continue;let c=Yd(l);c.static||(c=sBe(r,c,s,i),i=Math.max(i,c.y+c.h),r.push(c));const u=n.indexOf(l);o[u]=c,c.moved=!1}return o},onMove(n,e,r,i,s){const o=Fa(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},_pe={type:"horizontal",allowOverlap:!1,compact(n,e){const r=k9(n),i=wpe(n),s=new Array(n.length);for(let o=0;o<i.length;o++){const a=i[o];if(a===void 0)continue;let l=Yd(a);l.static||(l=oBe(r,l,e,i),r.push(l));const c=n.indexOf(a);s[c]=l,l.moved=!1}return s},onMove(n,e,r,i,s){const o=Fa(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},iq={type:null,allowOverlap:!1,compact(n,e){return Fa(n)},onMove(n,e,r,i,s){const o=Fa(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},aBe={...xpe,allowOverlap:!0,compact(n,e){return Fa(n)}},lBe={..._pe,allowOverlap:!0,compact(n,e){return Fa(n)}};function A9(n,e=!1,r=!1){let i;return e?n==="vertical"?i=aBe:n==="horizontal"?i=lBe:i=iq:n==="vertical"?i=xpe:n==="horizontal"?i=_pe:i=iq,r?{...i,preventCollision:r}:i}function Spe(n){return Object.keys(n).sort((r,i)=>n[r]-n[i])}function sq(n,e){const r=Spe(n);let i=r[0];if(i===void 0)throw new Error("No breakpoints defined");for(let s=1;s<r.length;s++){const o=r[s];if(o===void 0)continue;const a=n[o];e>a&&(i=o)}return i}function oq(n,e){const r=e[n];if(r===void 0)throw new Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(n)} is missing!`);return r}function l3(n,e,r,i,s,o){const a=n[r];if(a)return Fa(a);let l=n[i];const c=Spe(e),u=c.slice(c.indexOf(r));for(let h=0;h<u.length;h++){const f=u[h];if(f===void 0)continue;const p=n[f];if(p){l=p;break}}const d=Fa(l||[]);return Oc(C9(d,{cols:s}),o,s)}function o_(n,e){if(Array.isArray(n))return n;const r=n,i=r[e];if(i!==void 0)return i;const s=Object.keys(r);for(const o of s){const a=r[o];if(a!==void 0)return a}return[10,10]}function GC(n){const{margin:e,containerPadding:r,containerWidth:i,cols:s}=n;return(i-e[0]*(s-1)-r[0]*2)/s}function Wk(n,e,r){return Number.isFinite(n)?Math.round(e*n+Math.max(0,n-1)*r):n}function Sh(n,e,r,i,s,o,a){const{margin:l,containerPadding:c,rowHeight:u}=n,d=GC(n);let h,f,p,m;return a?(h=Math.round(a.width),f=Math.round(a.height)):(h=Wk(i,d,l[0]),f=Wk(s,u,l[1])),o?(p=Math.round(o.top),m=Math.round(o.left)):a?(p=Math.round(a.top),m=Math.round(a.left)):(p=Math.round((u+l[1])*r+c[1]),m=Math.round((d+l[0])*e+c[0])),{top:p,left:m,width:h,height:f}}function xS(n,e,r,i,s){const{margin:o,containerPadding:a,cols:l,rowHeight:c,maxRows:u}=n,d=GC(n);let h=Math.round((r-a[0])/(d+o[0])),f=Math.round((e-a[1])/(c+o[1]));return h=Sl(h,0,l-i),f=Sl(f,0,u-s),{x:h,y:f}}function cBe(n,e,r,i,s,o){const{margin:a,maxRows:l,cols:c,rowHeight:u}=n,d=GC(n),h=Math.round((e+a[0])/(d+a[0])),f=Math.round((r+a[1])/(u+a[1]));let p=Sl(h,0,c-i),m=Sl(f,0,l-s);return(o==="sw"||o==="w"||o==="nw")&&(p=Sl(h,0,c)),(o==="nw"||o==="n"||o==="ne")&&(m=Sl(f,0,l)),{w:p,h:m}}function Sl(n,e,r){return Math.max(Math.min(n,r),e)}var YC={exports:{}},kpe={},Cpe={exports:{}},uBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dBe=uBe,hBe=dBe;function Epe(){}function Ape(){}Ape.resetWarningCache=Epe;var fBe=function(){function n(i,s,o,a,l,c){if(c!==hBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ape,resetWarningCache:Epe};return r.PropTypes=r,r};Cpe.exports=fBe();var xx=Cpe.exports;const ve=B2(xx);var t4={exports:{}};function Tpe(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=Tpe(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function aq(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=Tpe(n))&&(i&&(i+=" "),i+=e);return i}t4.exports=aq,t4.exports.clsx=aq;var pBe=t4.exports,vr={},Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.dontSetMe=vBe;Wl.findInArray=mBe;Wl.int=yBe;Wl.isFunction=gBe;Wl.isNum=bBe;function mBe(n,e){for(let r=0,i=n.length;r<i;r++)if(e.apply(e,[n[r],r,n]))return n[r]}function gBe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function bBe(n){return typeof n=="number"&&!isNaN(n)}function yBe(n){return parseInt(n,10)}function vBe(n,e,r){if(n[e])return new Error(`Invalid prop ${e} passed to ${r} - do not set this, set it on the child.`)}var bp={};Object.defineProperty(bp,"__esModule",{value:!0});bp.browserPrefixToKey=Ipe;bp.browserPrefixToStyle=wBe;bp.default=void 0;bp.getPrefix=Ppe;const c3=["Moz","Webkit","O","ms"];function Ppe(){var r,i;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(i=(r=window.document)==null?void 0:r.documentElement)==null?void 0:i.style;if(!e||n in e)return"";for(let s=0;s<c3.length;s++)if(Ipe(n,c3[s])in e)return c3[s];return""}function Ipe(n,e){return e?`${e}${xBe(n)}`:n}function wBe(n,e){return e?`-${e.toLowerCase()}-${n}`:n}function xBe(n){let e="",r=!0;for(let i=0;i<n.length;i++)r?(e+=n[i].toUpperCase(),r=!1):n[i]==="-"?r=!0:e+=n[i];return e}bp.default=Ppe();Object.defineProperty(vr,"__esModule",{value:!0});vr.addClassName=Dpe;vr.addEvent=SBe;vr.addUserSelectStyles=RBe;vr.createCSSTransform=IBe;vr.createSVGTransform=MBe;vr.getTouch=OBe;vr.getTouchIdentifier=DBe;vr.getTranslation=T9;vr.innerHeight=ABe;vr.innerWidth=TBe;vr.matchesSelector=Ope;vr.matchesSelectorAndParentsTo=_Be;vr.offsetXYFromParent=PBe;vr.outerHeight=CBe;vr.outerWidth=EBe;vr.removeClassName=Rpe;vr.removeEvent=kBe;vr.scheduleRemoveUserSelectStyles=NBe;var lo=Wl,lq=Mpe(bp);function Mpe(n,e){if(typeof WeakMap=="function")var r=new WeakMap,i=new WeakMap;return(Mpe=function(s,o){if(!o&&s&&s.__esModule)return s;var a,l,c={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return c;if(a=o?i:r){if(a.has(s))return a.get(s);a.set(s,c)}for(const u in s)u!=="default"&&{}.hasOwnProperty.call(s,u)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,u))&&(l.get||l.set)?a(c,u,l):c[u]=s[u]);return c})(n,e)}let a_="";function Ope(n,e){return a_||(a_=(0,lo.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,lo.isFunction)(n[r])})),(0,lo.isFunction)(n[a_])?n[a_](e):!1}function _Be(n,e,r){let i=n;do{if(Ope(i,e))return!0;if(i===r)return!1;i=i.parentNode}while(i);return!1}function SBe(n,e,r,i){if(!n)return;const s={capture:!0,...i};n.addEventListener?n.addEventListener(e,r,s):n.attachEvent?n.attachEvent("on"+e,r):n["on"+e]=r}function kBe(n,e,r,i){if(!n)return;const s={capture:!0,...i};n.removeEventListener?n.removeEventListener(e,r,s):n.detachEvent?n.detachEvent("on"+e,r):n["on"+e]=null}function CBe(n){let e=n.clientHeight;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,lo.int)(r.borderTopWidth),e+=(0,lo.int)(r.borderBottomWidth),e}function EBe(n){let e=n.clientWidth;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,lo.int)(r.borderLeftWidth),e+=(0,lo.int)(r.borderRightWidth),e}function ABe(n){let e=n.clientHeight;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,lo.int)(r.paddingTop),e-=(0,lo.int)(r.paddingBottom),e}function TBe(n){let e=n.clientWidth;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,lo.int)(r.paddingLeft),e-=(0,lo.int)(r.paddingRight),e}function PBe(n,e,r){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(n.clientX+e.scrollLeft-s.left)/r,a=(n.clientY+e.scrollTop-s.top)/r;return{x:o,y:a}}function IBe(n,e){const r=T9(n,e,"px");return{[(0,lq.browserPrefixToKey)("transform",lq.default)]:r}}function MBe(n,e){return T9(n,e,"")}function T9(n,e,r){let{x:i,y:s}=n,o=`translate(${i}${r},${s}${r})`;if(e){const a=`${typeof e.x=="string"?e.x:e.x+r}`,l=`${typeof e.y=="string"?e.y:e.y+r}`;o=`translate(${a}, ${l})`+o}return o}function OBe(n,e){return n.targetTouches&&(0,lo.findInArray)(n.targetTouches,r=>e===r.identifier)||n.changedTouches&&(0,lo.findInArray)(n.changedTouches,r=>e===r.identifier)}function DBe(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function RBe(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&Dpe(n.body,"react-draggable-transparent-selection")}function NBe(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{cq(n)}):cq(n)}function cq(n){if(n)try{if(n.body&&Rpe(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Dpe(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(n.className+=` ${e}`)}function Rpe(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var ql={};Object.defineProperty(ql,"__esModule",{value:!0});ql.canDragX=LBe;ql.canDragY=FBe;ql.createCoreData=zBe;ql.createDraggableData=UBe;ql.getBoundPosition=jBe;ql.getControlPosition=$Be;ql.snapToGrid=BBe;var Gs=Wl,Nm=vr;function jBe(n,e,r){if(!n.props.bounds)return[e,r];let{bounds:i}=n.props;i=typeof i=="string"?i:WBe(i);const s=P9(n);if(typeof i=="string"){const{ownerDocument:o}=s,a=o.defaultView;let l;if(i==="parent"?l=s.parentNode:l=s.getRootNode().querySelector(i),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const c=l,u=a.getComputedStyle(s),d=a.getComputedStyle(c);i={left:-s.offsetLeft+(0,Gs.int)(d.paddingLeft)+(0,Gs.int)(u.marginLeft),top:-s.offsetTop+(0,Gs.int)(d.paddingTop)+(0,Gs.int)(u.marginTop),right:(0,Nm.innerWidth)(c)-(0,Nm.outerWidth)(s)-s.offsetLeft+(0,Gs.int)(d.paddingRight)-(0,Gs.int)(u.marginRight),bottom:(0,Nm.innerHeight)(c)-(0,Nm.outerHeight)(s)-s.offsetTop+(0,Gs.int)(d.paddingBottom)-(0,Gs.int)(u.marginBottom)}}return(0,Gs.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,Gs.isNum)(i.bottom)&&(r=Math.min(r,i.bottom)),(0,Gs.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,Gs.isNum)(i.top)&&(r=Math.max(r,i.top)),[e,r]}function BBe(n,e,r){const i=Math.round(e/n[0])*n[0],s=Math.round(r/n[1])*n[1];return[i,s]}function LBe(n){return n.props.axis==="both"||n.props.axis==="x"}function FBe(n){return n.props.axis==="both"||n.props.axis==="y"}function $Be(n,e,r){const i=typeof e=="number"?(0,Nm.getTouch)(n,e):null;if(typeof e=="number"&&!i)return null;const s=P9(r),o=r.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Nm.offsetXYFromParent)(i||n,o,r.props.scale)}function zBe(n,e,r){const i=!(0,Gs.isNum)(n.lastX),s=P9(n);return i?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:r,x:e,y:r}:{node:s,deltaX:e-n.lastX,deltaY:r-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:r}}function UBe(n,e){const r=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/r,y:n.state.y+e.deltaY/r,deltaX:e.deltaX/r,deltaY:e.deltaY/r,lastX:n.state.x,lastY:n.state.y}}function WBe(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function P9(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var KC={},XC={};Object.defineProperty(XC,"__esModule",{value:!0});XC.default=qBe;function qBe(){}Object.defineProperty(KC,"__esModule",{value:!0});KC.default=void 0;var u3=Npe(A),qi=I9(xx),HBe=I9(za),Mi=vr,Fu=ql,d3=Wl,Wb=I9(XC);function I9(n){return n&&n.__esModule?n:{default:n}}function Npe(n,e){if(typeof WeakMap=="function")var r=new WeakMap,i=new WeakMap;return(Npe=function(s,o){if(!o&&s&&s.__esModule)return s;var a,l,c={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return c;if(a=o?i:r){if(a.has(s))return a.get(s);a.set(s,c)}for(const u in s)u!=="default"&&{}.hasOwnProperty.call(s,u)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,u))&&(l.get||l.set)?a(c,u,l):c[u]=s[u]);return c})(n,e)}function Hi(n,e,r){return(e=VBe(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function VBe(n){var e=GBe(n,"string");return typeof e=="symbol"?e:e+""}function GBe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const ha={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let $u=ha.mouse,QC=class extends u3.Component{constructor(){super(...arguments),Hi(this,"dragging",!1),Hi(this,"lastX",NaN),Hi(this,"lastY",NaN),Hi(this,"touchIdentifier",null),Hi(this,"mounted",!1),Hi(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=r;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,Mi.matchesSelectorAndParentsTo)(e.target,this.props.handle,r)||this.props.cancel&&(0,Mi.matchesSelectorAndParentsTo)(e.target,this.props.cancel,r))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const s=(0,Mi.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Fu.getControlPosition)(e,s,this);if(o==null)return;const{x:a,y:l}=o,c=(0,Fu.createCoreData)(this,a,l);(0,Wb.default)("DraggableCore: handleDragStart: %j",c),(0,Wb.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Mi.addUserSelectStyles)(i),this.dragging=!0,this.lastX=a,this.lastY=l,(0,Mi.addEvent)(i,$u.move,this.handleDrag),(0,Mi.addEvent)(i,$u.stop,this.handleDragStop))}),Hi(this,"handleDrag",e=>{const r=(0,Fu.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:i,y:s}=r;if(Array.isArray(this.props.grid)){let l=i-this.lastX,c=s-this.lastY;if([l,c]=(0,Fu.snapToGrid)(this.props.grid,l,c),!l&&!c)return;i=this.lastX+l,s=this.lastY+c}const o=(0,Fu.createCoreData)(this,i,s);if((0,Wb.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=i,this.lastY=s}),Hi(this,"handleDragStop",e=>{if(!this.dragging)return;const r=(0,Fu.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:i,y:s}=r;if(Array.isArray(this.props.grid)){let c=i-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Fu.snapToGrid)(this.props.grid,c,u),i=this.lastX+c,s=this.lastY+u}const o=(0,Fu.createCoreData)(this,i,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Mi.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,Wb.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,Wb.default)("DraggableCore: Removing handlers"),(0,Mi.removeEvent)(l.ownerDocument,$u.move,this.handleDrag),(0,Mi.removeEvent)(l.ownerDocument,$u.stop,this.handleDragStop))}),Hi(this,"onMouseDown",e=>($u=ha.mouse,this.handleDragStart(e))),Hi(this,"onMouseUp",e=>($u=ha.mouse,this.handleDragStop(e))),Hi(this,"onTouchStart",e=>($u=ha.touch,this.handleDragStart(e))),Hi(this,"onTouchEnd",e=>($u=ha.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Mi.addEvent)(e,ha.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:r}=e;(0,Mi.removeEvent)(r,ha.mouse.move,this.handleDrag),(0,Mi.removeEvent)(r,ha.touch.move,this.handleDrag),(0,Mi.removeEvent)(r,ha.mouse.stop,this.handleDragStop),(0,Mi.removeEvent)(r,ha.touch.stop,this.handleDragStop),(0,Mi.removeEvent)(e,ha.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Mi.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){var e,r,i;return(e=this.props)!=null&&e.nodeRef?(i=(r=this.props)==null?void 0:r.nodeRef)==null?void 0:i.current:HBe.default.findDOMNode(this)}render(){return u3.cloneElement(u3.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};KC.default=QC;Hi(QC,"displayName","DraggableCore");Hi(QC,"propTypes",{allowAnyClick:qi.default.bool,allowMobileScroll:qi.default.bool,children:qi.default.node.isRequired,disabled:qi.default.bool,enableUserSelectHack:qi.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:qi.default.arrayOf(qi.default.number),handle:qi.default.string,cancel:qi.default.string,nodeRef:qi.default.object,onStart:qi.default.func,onDrag:qi.default.func,onStop:qi.default.func,onMouseDown:qi.default.func,scale:qi.default.number,className:d3.dontSetMe,style:d3.dontSetMe,transform:d3.dontSetMe});Hi(QC,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),n.default=void 0;var e=h(A),r=d(xx),i=d(za),s=pBe,o=vr,a=ql,l=Wl,c=d(KC),u=d(XC);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,w){if(typeof WeakMap=="function")var _=new WeakMap,x=new WeakMap;return(h=function(S,C){if(!C&&S&&S.__esModule)return S;var E,T,M={__proto__:null,default:S};if(S===null||typeof S!="object"&&typeof S!="function")return M;if(E=C?x:_){if(E.has(S))return E.get(S);E.set(S,M)}for(const I in S)I!=="default"&&{}.hasOwnProperty.call(S,I)&&((T=(E=Object.defineProperty)&&Object.getOwnPropertyDescriptor(S,I))&&(T.get||T.set)?E(M,I,T):M[I]=S[I]);return M})(v,w)}function f(){return f=Object.assign?Object.assign.bind():function(v){for(var w=1;w<arguments.length;w++){var _=arguments[w];for(var x in _)({}).hasOwnProperty.call(_,x)&&(v[x]=_[x])}return v},f.apply(null,arguments)}function p(v,w,_){return(w=m(w))in v?Object.defineProperty(v,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[w]=_,v}function m(v){var w=b(v,"string");return typeof w=="symbol"?w:w+""}function b(v,w){if(typeof v!="object"||!v)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var x=_.call(v,w);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(v)}class y extends e.Component{static getDerivedStateFromProps(w,_){let{position:x}=w,{prevPropsPosition:S}=_;return x&&(!S||x.x!==S.x||x.y!==S.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:x,prevPropsPosition:S}),{x:x.x,y:x.y,prevPropsPosition:{...x}}):null}constructor(w){super(w),p(this,"onDragStart",(_,x)=>{if((0,u.default)("Draggable: onDragStart: %j",x),this.props.onStart(_,(0,a.createDraggableData)(this,x))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(_,x)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",x);const S=(0,a.createDraggableData)(this,x),C={x:S.x,y:S.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:M}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[I,O]=(0,a.getBoundPosition)(this,C.x,C.y);C.x=I,C.y=O,C.slackX=this.state.slackX+(T-C.x),C.slackY=this.state.slackY+(M-C.y),S.x=C.x,S.y=C.y,S.deltaX=C.x-this.state.x,S.deltaY=C.y-this.state.y}if(this.props.onDrag(_,S)===!1)return!1;this.setState(C)}),p(this,"onDragStop",(_,x)=>{if(!this.state.dragging||this.props.onStop(_,(0,a.createDraggableData)(this,x))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",x);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:T,y:M}=this.props.position;C.x=T,C.y=M}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var w,_;return((_=(w=this.props)==null?void 0:w.nodeRef)==null?void 0:_.current)??i.default.findDOMNode(this)}render(){const{axis:w,bounds:_,children:x,defaultPosition:S,defaultClassName:C,defaultClassNameDragging:E,defaultClassNameDragged:T,position:M,positionOffset:I,scale:O,...F}=this.props;let $={},z=null;const j=!!!M||this.state.dragging,N=M||S,R={x:(0,a.canDragX)(this)&&j?this.state.x:N.x,y:(0,a.canDragY)(this)&&j?this.state.y:N.y};this.state.isElementSVG?z=(0,o.createSVGTransform)(R,I):$=(0,o.createCSSTransform)(R,I);const H=(0,s.clsx)(x.props.className||"",C,{[E]:this.state.dragging,[T]:this.state.dragged});return e.createElement(c.default,f({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(x),{className:H,style:{...x.props.style,...$},transform:z}))}}n.default=y,p(y,"displayName","Draggable"),p(y,"propTypes",{...c.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(y,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(kpe);const{default:jpe,DraggableCore:YBe}=kpe;YC.exports=jpe;YC.exports.default=jpe;var KBe=YC.exports.DraggableCore=YBe,XBe=YC.exports,M9={exports:{}},_x={},O9={};O9.__esModule=!0;O9.cloneElement=nLe;var QBe=JBe(A);function JBe(n){return n&&n.__esModule?n:{default:n}}function uq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function dq(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uq(Object(r),!0).forEach(function(i){ZBe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):uq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ZBe(n,e,r){return e=eLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function eLe(n){var e=tLe(n,"string");return typeof e=="symbol"?e:String(e)}function tLe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nLe(n,e){return e.style&&n.props.style&&(e.style=dq(dq({},n.props.style),e.style)),e.className&&n.props.className&&(e.className=n.props.className+" "+e.className),QBe.default.cloneElement(n,e)}var Sx={};Sx.__esModule=!0;Sx.resizableProps=void 0;var Qt=rLe(xx);function rLe(n){return n&&n.__esModule?n:{default:n}}var iLe={axis:Qt.default.oneOf(["both","x","y","none"]),className:Qt.default.string,children:Qt.default.element.isRequired,draggableOpts:Qt.default.shape({allowAnyClick:Qt.default.bool,cancel:Qt.default.string,children:Qt.default.node,disabled:Qt.default.bool,enableUserSelectHack:Qt.default.bool,offsetParent:Qt.default.node,grid:Qt.default.arrayOf(Qt.default.number),handle:Qt.default.string,nodeRef:Qt.default.object,onStart:Qt.default.func,onDrag:Qt.default.func,onStop:Qt.default.func,onMouseDown:Qt.default.func,scale:Qt.default.number}),height:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=r[0];if(s.axis==="both"||s.axis==="y"){var o;return(o=Qt.default.number).isRequired.apply(o,r)}return Qt.default.number.apply(Qt.default,r)},handle:Qt.default.oneOfType([Qt.default.node,Qt.default.func]),handleSize:Qt.default.arrayOf(Qt.default.number),lockAspectRatio:Qt.default.bool,maxConstraints:Qt.default.arrayOf(Qt.default.number),minConstraints:Qt.default.arrayOf(Qt.default.number),onResizeStop:Qt.default.func,onResizeStart:Qt.default.func,onResize:Qt.default.func,resizeHandles:Qt.default.arrayOf(Qt.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Qt.default.number,width:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=r[0];if(s.axis==="both"||s.axis==="x"){var o;return(o=Qt.default.number).isRequired.apply(o,r)}return Qt.default.number.apply(Qt.default,r)}};Sx.resizableProps=iLe;_x.__esModule=!0;_x.default=void 0;var qb=cLe(A),sLe=XBe,oLe=O9,aLe=Sx,lLe=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Bpe(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Bpe=function(s){return s?r:e})(n)}function cLe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Bpe(e);if(r&&r.has(n))return r.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=s?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=n[o]}return i.default=n,r&&r.set(n,i),i}function n4(){return n4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},n4.apply(this,arguments)}function uLe(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function hq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function h3(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(r),!0).forEach(function(i){dLe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function dLe(n,e,r){return e=hLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function hLe(n){var e=fLe(n,"string");return typeof e=="symbol"?e:String(e)}function fLe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pLe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,r4(n,e)}function r4(n,e){return r4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},r4(n,e)}var D9=function(n){pLe(e,n);function e(){for(var i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o))||this,i.handleRefs={},i.lastHandleRect=null,i.slack=null,i}var r=e.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(s,o){var a=this.props,l=a.minConstraints,c=a.maxConstraints,u=a.lockAspectRatio;if(!l&&!c&&!u)return[s,o];if(u){var d=this.props.width/this.props.height,h=s-this.props.width,f=o-this.props.height;Math.abs(h)>Math.abs(f*d)?o=s/d:s=o*d}var p=s,m=o,b=this.slack||[0,0],y=b[0],v=b[1];return s+=y,o+=v,l&&(s=Math.max(l[0],s),o=Math.max(l[1],o)),c&&(s=Math.min(c[0],s),o=Math.min(c[1],o)),this.slack=[y+(p-s),v+(m-o)],[s,o]},r.resizeHandler=function(s,o){var a=this;return function(l,c){var u=c.node,d=c.deltaX,h=c.deltaY;s==="onResizeStart"&&a.resetData();var f=(a.props.axis==="both"||a.props.axis==="x")&&o!=="n"&&o!=="s",p=(a.props.axis==="both"||a.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!f&&!p)){var m=o[0],b=o[o.length-1],y=u.getBoundingClientRect();if(a.lastHandleRect!=null){if(b==="w"){var v=y.left-a.lastHandleRect.left;d+=v}if(m==="n"){var w=y.top-a.lastHandleRect.top;h+=w}}a.lastHandleRect=y,b==="w"&&(d=-d),m==="n"&&(h=-h);var _=a.props.width+(f?d/a.props.transformScale:0),x=a.props.height+(p?h/a.props.transformScale:0),S=a.runConstraints(_,x);_=S[0],x=S[1];var C=_!==a.props.width||x!==a.props.height,E=typeof a.props[s]=="function"?a.props[s]:null,T=s==="onResize"&&!C;E&&!T&&(l.persist==null||l.persist(),E(l,{node:u,size:{width:_,height:x},handle:o})),s==="onResizeStop"&&a.resetData()}}},r.renderResizeHandle=function(s,o){var a=this.props.handle;if(!a)return qb.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+s,ref:o});if(typeof a=="function")return a(s,o);var l=typeof a.type=="string",c=h3({ref:o},l?{}:{handleAxis:s});return qb.cloneElement(a,c)},r.render=function(){var s=this,o=this.props,a=o.children,l=o.className,c=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var u=o.resizeHandles;o.transformScale;var d=uLe(o,lLe);return(0,oLe.cloneElement)(a,h3(h3({},d),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(a.props.children,u.map(function(h){var f,p=(f=s.handleRefs[h])!=null?f:s.handleRefs[h]=qb.createRef();return qb.createElement(sLe.DraggableCore,n4({},c,{nodeRef:p,key:"resizableHandle-"+h,onStop:s.resizeHandler("onResizeStop",h),onStart:s.resizeHandler("onResizeStart",h),onDrag:s.resizeHandler("onResize",h)}),s.renderResizeHandle(h,p))}))}))},e}(qb.Component);_x.default=D9;D9.propTypes=aLe.resizableProps;D9.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var JC={};JC.__esModule=!0;JC.default=void 0;var f3=vLe(A),mLe=Lpe(xx),gLe=Lpe(_x),bLe=Sx,yLe=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Lpe(n){return n&&n.__esModule?n:{default:n}}function Fpe(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Fpe=function(s){return s?r:e})(n)}function vLe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Fpe(e);if(r&&r.has(n))return r.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=s?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=n[o]}return i.default=n,r&&r.set(n,i),i}function i4(){return i4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},i4.apply(this,arguments)}function fq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function qk(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fq(Object(r),!0).forEach(function(i){wLe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function wLe(n,e,r){return e=xLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function xLe(n){var e=_Le(n,"string");return typeof e=="symbol"?e:String(e)}function _Le(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SLe(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function kLe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,s4(n,e)}function s4(n,e){return s4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},s4(n,e)}var $pe=function(n){kLe(e,n);function e(){for(var i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o))||this,i.state={width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height},i.onResize=function(l,c){var u=c.size;i.props.onResize?(l.persist==null||l.persist(),i.setState(u,function(){return i.props.onResize&&i.props.onResize(l,c)})):i.setState(u)},i}e.getDerivedStateFromProps=function(s,o){return o.propsWidth!==s.width||o.propsHeight!==s.height?{width:s.width,height:s.height,propsWidth:s.width,propsHeight:s.height}:null};var r=e.prototype;return r.render=function(){var s=this.props,o=s.handle,a=s.handleSize;s.onResize;var l=s.onResizeStart,c=s.onResizeStop,u=s.draggableOpts,d=s.minConstraints,h=s.maxConstraints,f=s.lockAspectRatio,p=s.axis;s.width,s.height;var m=s.resizeHandles,b=s.style,y=s.transformScale,v=SLe(s,yLe);return f3.createElement(gLe.default,{axis:p,draggableOpts:u,handle:o,handleSize:a,height:this.state.height,lockAspectRatio:f,maxConstraints:h,minConstraints:d,onResizeStart:l,onResize:this.onResize,onResizeStop:c,resizeHandles:m,transformScale:y,width:this.state.width},f3.createElement("div",i4({},v,{style:qk(qk({},b),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(f3.Component);JC.default=$pe;$pe.propTypes=qk(qk({},bLe.resizableProps),{},{children:mLe.default.element});M9.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var CLe=M9.exports.Resizable=_x.default;M9.exports.ResizableBox=JC.default;function zpe(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=zpe(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function R9(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=zpe(n))&&(i&&(i+=" "),i+=e);return i}function Upe(n){return function(r,i,s,o,a,l,c){return n(r,i,c)}}function ZC(n){return function(r,i,s,o){if(!r||!i||typeof r!="object"||typeof i!="object")return n(r,i,s,o);var a=o.get(r),l=o.get(i);if(a&&l)return a===i&&l===r;o.set(r,i),o.set(i,r);var c=n(r,i,s,o);return o.delete(r),o.delete(i),c}}function Wpe(n,e){var r={};for(var i in n)r[i]=n[i];for(var i in e)r[i]=e[i];return r}function pq(n){return n.constructor===Object||n.constructor==null}function mq(n){return typeof n.then=="function"}function eE(n,e){return n===e||n!==n&&e!==e}var ELe="[object Arguments]",ALe="[object Boolean]",TLe="[object Date]",PLe="[object RegExp]",ILe="[object Map]",MLe="[object Number]",OLe="[object Object]",DLe="[object Set]",RLe="[object String]",gq=Object.prototype.toString;function tE(n){var e=n.areArraysEqual,r=n.areDatesEqual,i=n.areMapsEqual,s=n.areObjectsEqual,o=n.areRegExpsEqual,a=n.areSetsEqual,l=n.createIsNestedEqual,c=l(u);function u(d,h,f){if(d===h)return!0;if(!d||!h||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;if(pq(d)&&pq(h))return s(d,h,c,f);var p=Array.isArray(d),m=Array.isArray(h);if(p||m)return p===m&&e(d,h,c,f);var b=gq.call(d);return b!==gq.call(h)?!1:b===TLe?r(d,h,c,f):b===PLe?o(d,h,c,f):b===ILe?i(d,h,c,f):b===DLe?a(d,h,c,f):b===OLe||b===ELe?mq(d)||mq(h)?!1:s(d,h,c,f):b===ALe||b===MLe||b===RLe?eE(d.valueOf(),h.valueOf()):!1}return u}function qpe(n,e,r,i){var s=n.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r(n[s],e[s],s,s,n,e,i))return!1;return!0}var NLe=ZC(qpe);function Hpe(n,e){return eE(n.valueOf(),e.valueOf())}function Vpe(n,e,r,i){var s=n.size===e.size;if(!s)return!1;if(!n.size)return!0;var o={},a=0;return n.forEach(function(l,c){if(s){var u=!1,d=0;e.forEach(function(h,f){!u&&!o[d]&&(u=r(c,f,a,d,n,e,i)&&r(l,h,c,f,n,e,i))&&(o[d]=!0),d++}),a++,s=u}}),s}var jLe=ZC(Vpe),BLe="_owner",LLe=Object.prototype.hasOwnProperty;function Gpe(n,e,r,i){var s=Object.keys(n),o=s.length;if(Object.keys(e).length!==o)return!1;for(var a;o-- >0;){if(a=s[o],a===BLe){var l=!!n.$$typeof,c=!!e.$$typeof;if((l||c)&&l!==c)return!1}if(!LLe.call(e,a)||!r(n[a],e[a],a,a,n,e,i))return!1}return!0}var FLe=ZC(Gpe);function Ype(n,e){return n.source===e.source&&n.flags===e.flags}function Kpe(n,e,r,i){var s=n.size===e.size;if(!s)return!1;if(!n.size)return!0;var o={};return n.forEach(function(a,l){if(s){var c=!1,u=0;e.forEach(function(d,h){!c&&!o[u]&&(c=r(a,d,l,h,n,e,i))&&(o[u]=!0),u++}),s=c}}),s}var $Le=ZC(Kpe),Xpe=Object.freeze({areArraysEqual:qpe,areDatesEqual:Hpe,areMapsEqual:Vpe,areObjectsEqual:Gpe,areRegExpsEqual:Ype,areSetsEqual:Kpe,createIsNestedEqual:Upe}),Qpe=Object.freeze({areArraysEqual:NLe,areDatesEqual:Hpe,areMapsEqual:jLe,areObjectsEqual:FLe,areRegExpsEqual:Ype,areSetsEqual:$Le,createIsNestedEqual:Upe}),zLe=tE(Xpe);function nd(n,e){return zLe(n,e,void 0)}tE(Wpe(Xpe,{createIsNestedEqual:function(){return eE}}));tE(Qpe);tE(Wpe(Qpe,{createIsNestedEqual:function(){return eE}}));function bq(n){const{children:e,cols:r,containerWidth:i,margin:s,containerPadding:o,rowHeight:a,maxRows:l,isDraggable:c,isResizable:u,isBounded:d,static:h,useCSSTransforms:f=!0,usePercentages:p=!1,transformScale:m=1,droppingPosition:b,className:y="",style:v,handle:w="",cancel:_="",x,y:S,w:C,h:E,minW:T=1,maxW:M=1/0,minH:I=1,maxH:O=1/0,i:F,resizeHandles:$,resizeHandle:z,onDragStart:D,onDrag:j,onDragStop:N,onResizeStart:R,onResize:H,onResizeStop:U}=n,[K,Y]=A.useState(!1),[J,G]=A.useState(!1),X=A.useRef(null),ae=A.useRef({left:0,top:0}),ge=A.useRef({top:0,left:0,width:0,height:0}),le=A.useRef(void 0),ie=A.useMemo(()=>({cols:r,containerPadding:o,containerWidth:i,margin:s,maxRows:l,rowHeight:a}),[r,o,i,s,l,a]),Te=A.useCallback(ye=>{if(f)return v9(ye);const Z=ppe(ye);return p?{...Z,left:nq(ye.left/i),width:nq(ye.width/i)}:Z},[f,p,i]),Ee=A.useCallback((ye,{node:Z})=>{if(!D)return;const{offsetParent:ue}=Z;if(!ue)return;const ce=ue.getBoundingClientRect(),Ce=Z.getBoundingClientRect(),Re=Ce.left/m,he=ce.left/m,Pe=Ce.top/m,_e=ce.top/m,re={left:Re-he+ue.scrollLeft,top:Pe-_e+ue.scrollTop};ae.current=re,Y(!0);const{x:ne,y:se}=xS(ie,re.top,re.left,C,E);D(F,ne,se,{e:ye,node:Z,newPosition:re})},[D,m,ie,C,E,F]),V=A.useCallback((ye,{node:Z,deltaX:ue,deltaY:ce})=>{if(!j||!K)return;let Ce=ae.current.top+ce,Re=ae.current.left+ue;if(d){const{offsetParent:re}=Z;if(re){const ne=re.clientHeight-Wk(E,a,s[1]);Ce=Sl(Ce,0,ne);const se=GC(ie),rt=i-Wk(C,se,s[0]);Re=Sl(Re,0,rt)}}const he={top:Ce,left:Re};ae.current=he;const{x:Pe,y:_e}=xS(ie,Ce,Re,C,E);j(F,Pe,_e,{e:ye,node:Z,newPosition:he})},[j,K,d,E,a,s,ie,i,C,F]),Ie=A.useCallback((ye,{node:Z})=>{if(!N||!K)return;const{left:ue,top:ce}=ae.current,Ce={top:ce,left:ue};Y(!1),ae.current={left:0,top:0};const{x:Re,y:he}=xS(ie,ce,ue,C,E);N(F,Re,he,{e:ye,node:Z,newPosition:Ce})},[N,K,ie,C,E,F]),Ye=A.useCallback((ye,{node:Z,size:ue,handle:ce},Ce,Re)=>{const he=Re==="onResizeStart"?R:Re==="onResize"?H:U;if(!he)return;let Pe;Z?Pe=V9e(ce,Ce,ue,i):Pe={...ue,top:Ce.top,left:Ce.left},ge.current=Pe;let{w:_e,h:re}=cBe(ie,Pe.width,Pe.height,x,S,ce);_e=Sl(_e,Math.max(T,1),M),re=Sl(re,I,O),he(F,_e,re,{e:ye.nativeEvent,node:Z,size:Pe,handle:ce})},[R,H,U,i,ie,x,S,T,M,I,O,F]),nt=A.useCallback((ye,Z)=>{G(!0);const ue=Sh(ie,x,S,C,E),ce={...Z,handle:Z.handle};Ye(ye,ce,ue,"onResizeStart")},[Ye,ie,x,S,C,E]),Ue=A.useCallback((ye,Z)=>{const ue=Sh(ie,x,S,C,E),ce={...Z,handle:Z.handle};Ye(ye,ce,ue,"onResize")},[Ye,ie,x,S,C,E]),mt=A.useCallback((ye,Z)=>{G(!1),ge.current={top:0,left:0,width:0,height:0};const ue=Sh(ie,x,S,C,E),ce={...Z,handle:Z.handle};Ye(ye,ce,ue,"onResizeStop")},[Ye,ie,x,S,C,E]);A.useEffect(()=>{if(!b)return;const ye=X.current;if(!ye)return;const Z=le.current||{left:0,top:0},ue=K&&(b.left!==Z.left||b.top!==Z.top);if(K){if(ue){const ce=b.left-ae.current.left,Ce=b.top-ae.current.top,Re={node:ye,deltaX:ce,deltaY:Ce,lastX:ae.current.left,lastY:ae.current.top,x:b.left,y:b.top};V(b.e,Re)}}else{const ce={node:ye,deltaX:b.left,deltaY:b.top,lastX:0,lastY:0,x:b.left,y:b.top};Ee(b.e,ce)}le.current=b},[b,K,Ee,V]);const He=Sh(ie,x,S,C,E,K?ae.current:null,J?ge.current:null),xe=B.Children.only(e),Ve=Sh(ie,0,0,r,0).width,Oe=Sh(ie,0,0,T,I),Ne=Sh(ie,0,0,M,O),Ae=[Oe.width,Oe.height],Se=[Math.min(Ne.width,Ve),Math.min(Ne.height,1/0)],W=xe.props,de=W.className,me=W.style;let oe=B.cloneElement(xe,{ref:X,className:R9("react-grid-item",de,y,{static:h,resizing:J,"react-draggable":c,"react-draggable-dragging":K,dropping:!!b,cssTransforms:f}),style:{...v,...me,...Te(He)}});const pe=z;return oe=g.jsx(CLe,{draggableOpts:{disabled:!u},className:u?void 0:"react-resizable-hide",width:He.width,height:He.height,minConstraints:Ae,maxConstraints:Se,onResizeStart:nt,onResize:Ue,onResizeStop:mt,transformScale:m,resizeHandles:$,handle:pe,children:oe}),oe=g.jsx(KBe,{disabled:!c,onStart:Ee,onDrag:V,onStop:Ie,handle:w,cancel:".react-resizable-handle"+(_?","+_:""),scale:m,nodeRef:X,children:oe}),oe}var oc=()=>{},yq="react-grid-layout",Jpe=!1;try{Jpe=/firefox/i.test(navigator.userAgent)}catch{}function ULe(n,e){const r=B.Children.toArray(n),i=B.Children.toArray(e);if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++){const o=r[s],a=i[s];if((o==null?void 0:o.key)!==(a==null?void 0:a.key))return!1}return!0}function vq(n,e,r,i,s){const o=[],a=new Set;B.Children.forEach(e,c=>{if(!B.isValidElement(c)||c.key===null)return;const u=String(c.key);a.add(u);const d=n.find(h=>h.i===u);if(d)o.push(Yd(d));else{const f=c.props["data-grid"];f?o.push({i:u,x:f.x??0,y:f.y??0,w:f.w??1,h:f.h??1,minW:f.minW,maxW:f.maxW,minH:f.minH,maxH:f.maxH,static:f.static,isDraggable:f.isDraggable,isResizable:f.isResizable,resizeHandles:f.resizeHandles,isBounded:f.isBounded}):o.push({i:u,x:0,y:rb(o),w:1,h:1})}});const l=C9(o,{cols:r});return Oc(l,i,r,s)}function WLe(n){const{children:e,width:r,gridConfig:i,dragConfig:s,resizeConfig:o,dropConfig:a,positionStrategy:l=K9e,compactor:c,layout:u=[],droppingItem:d,autoSize:h=!0,className:f="",style:p={},innerRef:m,onLayoutChange:b=oc,onDragStart:y=oc,onDrag:v=oc,onDragStop:w=oc,onResizeStart:_=oc,onResize:x=oc,onResizeStop:S=oc,onDrop:C=oc,onDropDragOver:E=oc}=n,T=A.useMemo(()=>({...X9e,...i}),[i]),M=A.useMemo(()=>({...Q9e,...s}),[s]),I=A.useMemo(()=>({...J9e,...o}),[o]),O=A.useMemo(()=>({...Z9e,...a}),[a]),{cols:F,rowHeight:$,maxRows:z,margin:D,containerPadding:j}=T,{enabled:N,bounded:R,handle:H,cancel:U}=M,{enabled:K,handles:Y,handleComponent:J}=I,{enabled:G,defaultItem:X}=O,ae=c??A9("vertical"),ge=ae.type,le=ae.allowOverlap,ie=ae.preventCollision??!1,Te=A.useMemo(()=>d??{i:"__dropping-elem__",...X},[d,X]),Ee=l.type==="transform",V=l.scale,Ie=j??D,[Ye,nt]=A.useState(!1),[Ue,mt]=A.useState(()=>vq(u,e,F,ge,le)),[He,xe]=A.useState(null),[Ve,Oe]=A.useState(!1),[Ne,Ae]=A.useState(null),[Se,W]=A.useState(),de=A.useRef(null),me=A.useRef(null),oe=A.useRef(null),pe=A.useRef(0),ye=A.useRef(Ue),Z=A.useRef(u),ue=A.useRef(e),ce=A.useRef(ge);A.useEffect(()=>{nt(!0),nd(Ue,u)||b(Ue)},[]),A.useEffect(()=>{if(He)return;const De=!nd(u,Z.current),it=!ULe(e,ue.current),we=ge!==ce.current;if(De||it||we){const gt=vq(De?u:Ue,e,F,ge,le);mt(gt)}Z.current=u,ue.current=e,ce.current=ge},[u,e,F,ge,le,He,Ue]),A.useEffect(()=>{!He&&!nd(Ue,ye.current)&&(ye.current=Ue,b(Ue))},[Ue,He,b]);const Ce=A.useMemo(()=>{if(!h)return;const De=rb(Ue),it=Ie[1];return De*$+(De-1)*D[1]+it*2+"px"},[h,Ue,$,D,Ie]),Re=A.useCallback((De,it,we,_t)=>{const gt=Nh(Ue,De);if(!gt)return;const Ct={w:gt.w,h:gt.h,x:gt.x,y:gt.y,i:De};de.current=Yd(gt),oe.current=Ue,xe(Ct),y(Ue,gt,gt,null,_t.e,_t.node)},[Ue,y]),he=A.useCallback((De,it,we,_t)=>{const gt=de.current,Ct=Nh(Ue,De);if(!Ct)return;const Ut={w:Ct.w,h:Ct.h,x:Ct.x,y:Ct.y,i:De},Nt=Jh(Ue,Ct,it,we,!0,ie,ge,F,le);v(Nt,gt,Ct,Ut,_t.e,_t.node),mt(le?Nt:Oc(Nt,ge,F)),xe(Ut)},[Ue,ie,ge,F,le,v]),Pe=A.useCallback((De,it,we,_t)=>{if(!He)return;const gt=de.current,Ct=Nh(Ue,De);if(!Ct)return;const Ut=Jh(Ue,Ct,it,we,!0,ie,ge,F,le),Nt=le?Ut:Oc(Ut,ge,F);w(Nt,gt,Ct,null,_t.e,_t.node);const tn=oe.current;de.current=null,oe.current=null,xe(null),mt(Nt),tn&&!nd(tn,Nt)&&b(Nt)},[He,Ue,ie,ge,F,le,w,b]),_e=A.useCallback((De,it,we,_t)=>{const gt=Nh(Ue,De);gt&&(me.current=Yd(gt),oe.current=Ue,Oe(!0),_(Ue,gt,gt,null,_t.e,_t.node))},[Ue,_]),re=A.useCallback((De,it,we,_t)=>{const gt=me.current,{handle:Ct}=_t;let Ut=!1,Nt,tn;const[Wt,at]=tBe(Ue,De,ln=>(Nt=ln.x,tn=ln.y,["sw","w","nw","n","ne"].includes(Ct)&&(["sw","nw","w"].includes(Ct)&&(Nt=ln.x+(ln.w-it),it=ln.x!==Nt&&Nt<0?ln.w:it,Nt=Nt<0?0:Nt),["ne","n","nw"].includes(Ct)&&(tn=ln.y+(ln.h-we),we=ln.y!==tn&&tn<0?ln.h:we,tn=tn<0?0:tn),Ut=!0),ie&&!le&&bpe(Ue,{...ln,w:it,h:we,x:Nt??ln.x,y:tn??ln.y}).filter(ci=>ci.i!==ln.i).length>0&&(tn=ln.y,we=ln.h,Nt=ln.x,it=ln.w,Ut=!1),ln.w=it,ln.h=we,ln));if(!at)return;let on=Wt;Ut&&Nt!==void 0&&tn!==void 0&&(on=Jh(Wt,at,Nt,tn,!0,ie,ge,F,le));const Jn={w:at.w,h:at.h,x:at.x,y:at.y,i:De,static:!0};x(on,gt,at,Jn,_t.e,_t.node),mt(le?on:Oc(on,ge,F)),xe(Jn)},[Ue,ie,le,ge,F,x]),ne=A.useCallback((De,it,we,_t)=>{const gt=me.current,Ct=Nh(Ue,De),Ut=le?Ue:Oc(Ue,ge,F);S(Ut,gt,Ct??null,null,_t.e,_t.node);const Nt=oe.current;me.current=null,oe.current=null,xe(null),Oe(!1),mt(Ut),Nt&&!nd(Nt,Ut)&&b(Ut)},[Ue,le,ge,F,S,b]),se=A.useCallback(()=>{const De=Oc(Ue.filter(it=>it.i!==Te.i),ge,F,le);mt(De),Ae(null),xe(null),W(void 0)},[Ue,Te.i,ge,F,le]),rt=A.useCallback(De=>{var Nt;if(De.preventDefault(),De.stopPropagation(),Jpe&&!((Nt=De.nativeEvent.target)!=null&&Nt.classList.contains(yq)))return!1;const it=E(De);if(it===!1)return Ne&&se(),!1;const we={...Te,...it},_t=De.currentTarget.getBoundingClientRect(),gt=De.clientX-_t.left,Ct=De.clientY-_t.top,Ut={left:gt/V,top:Ct/V,e:De.nativeEvent};if(Ne)Se&&(Se.left!==gt||Se.top!==Ct)&&W(Ut);else{const Wt=xS({cols:F,margin:D,maxRows:z,rowHeight:$,containerWidth:r,containerPadding:Ie},Ct,gt,we.w,we.h);Ae(g.jsx("div",{},we.i)),W(Ut),mt([...Ue,{...we,x:Wt.x,y:Wt.y,static:!1,isDraggable:!0}])}},[Ne,Se,Te,E,se,V,F,D,z,$,r,Ie,Ue]),Le=A.useCallback(De=>{De.preventDefault(),De.stopPropagation(),pe.current--,pe.current===0&&se()},[se]),Ke=A.useCallback(De=>{De.preventDefault(),De.stopPropagation(),pe.current++},[]),je=A.useCallback(De=>{De.preventDefault(),De.stopPropagation();const it=Ue.find(we=>we.i===Te.i);pe.current=0,se(),C(Ue,it,De.nativeEvent)},[Ue,Te.i,se,C]),Ze=A.useCallback((De,it)=>{if(!De||!De.key)return null;const we=Nh(Ue,String(De.key));if(!we)return null;const _t=typeof we.isDraggable=="boolean"?we.isDraggable:!we.static&&N,gt=typeof we.isResizable=="boolean"?we.isResizable:!we.static&&K,Ct=we.resizeHandles||[...Y],Ut=_t&&R&&we.isBounded!==!1,Nt=J;return g.jsx(bq,{containerWidth:r,cols:F,margin:D,containerPadding:Ie,maxRows:z,rowHeight:$,cancel:U,handle:H,onDragStart:Re,onDrag:he,onDragStop:Pe,onResizeStart:_e,onResize:re,onResizeStop:ne,isDraggable:_t,isResizable:gt,isBounded:Ut,useCSSTransforms:Ee&&Ye,usePercentages:!Ye,transformScale:V,w:we.w,h:we.h,x:we.x,y:we.y,i:we.i,minH:we.minH,minW:we.minW,maxH:we.maxH,maxW:we.maxW,static:we.static,droppingPosition:it?Se:void 0,resizeHandles:Ct,resizeHandle:Nt,children:De},we.i)},[Ue,r,F,D,Ie,z,$,U,H,Re,he,Pe,_e,re,ne,N,K,R,Ee,Ye,V,Se,Y,J]),ht=()=>He?g.jsx(bq,{w:He.w,h:He.h,x:He.x,y:He.y,i:He.i,className:`react-grid-placeholder ${Ve?"placeholder-resizing":""}`,containerWidth:r,cols:F,margin:D,containerPadding:Ie,maxRows:z,rowHeight:$,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:Ee,transformScale:V,children:g.jsx("div",{})}):null,Qe=R9(yq,f),ot={height:Ce,...p};return g.jsxs("div",{ref:m,className:Qe,style:ot,onDrop:G?je:void 0,onDragLeave:G?Le:void 0,onDragEnter:G?Ke:void 0,onDragOver:G?rt:void 0,children:[B.Children.map(e,De=>B.isValidElement(De)?Ze(De):null),G&&Ne&&Ze(Ne,!0),ht()]})}var qLe={lg:1200,md:996,sm:768,xs:480,xxs:0},HLe={lg:12,md:10,sm:6,xs:4,xxs:2},p3=()=>{};function VLe(n,e,r,i,s){const o=[];B.Children.forEach(e,l=>{if(!B.isValidElement(l)||l.key===null)return;const c=String(l.key),u=n.find(d=>d.i===c);if(u)o.push({...u,i:c});else{const h=l.props["data-grid"];h?o.push({i:c,x:h.x??0,y:h.y??0,w:h.w??1,h:h.h??1,minW:h.minW,maxW:h.maxW,minH:h.minH,maxH:h.maxH,static:h.static,isDraggable:h.isDraggable,isResizable:h.isResizable,resizeHandles:h.resizeHandles,isBounded:h.isBounded}):o.push({i:c,x:0,y:rb(o),w:1,h:1})}});const a=C9(o,{cols:r});return Oc(a,i,r,s)}function GLe(n){const{children:e,width:r,breakpoint:i,breakpoints:s=qLe,cols:o=HLe,layouts:a={},rowHeight:l=150,maxRows:c=1/0,margin:u=[10,10],containerPadding:d=null,compactor:h,onBreakpointChange:f=p3,onLayoutChange:p=p3,onWidthChange:m=p3,...b}=n,y=h??A9("vertical"),v=y.type,w=y.allowOverlap,_=A.useMemo(()=>i??sq(s,r),[]),x=A.useMemo(()=>oq(_,o),[_,o]),S=A.useMemo(()=>l3(a,s,_,_,x,v),[]),[C,E]=A.useState(_),[T,M]=A.useState(x),[I,O]=A.useState(S),[F,$]=A.useState(a),z=A.useRef(r),D=A.useRef(i),j=A.useRef(s),N=A.useRef(o),R=A.useRef(a),H=A.useRef(v);A.useEffect(()=>{if(!nd(a,R.current)){const G=l3(a,s,C,C,T,v);O(G),$(a),R.current=a}},[a,s,C,T,v]),A.useEffect(()=>{if(v!==H.current){const G=Oc(Fa(I),v,T,w),X={...F,[C]:G};O(G),$(X),p(G,X),H.current=v}},[v,I,T,w,F,C,p]),A.useEffect(()=>{const G=r!==z.current,X=i!==D.current,ae=!nd(s,j.current),ge=!nd(o,N.current);if(G||X||ae||ge){const le=i??sq(s,r),ie=oq(le,o),Te=C;if(Te!==le||ae||ge){const Ie={...F};Ie[Te]||(Ie[Te]=Fa(I));let Ye=l3(Ie,s,le,Te,ie,v);Ye=VLe(Ye,e,ie,v,w),Ie[le]=Ye,E(le),M(ie),O(Ye),$(Ie),f(le,ie),p(Ye,Ie)}const Ee=o_(u,le),V=d?o_(d,le):null;m(r,Ee,ie,V),z.current=r,D.current=i,j.current=s,N.current=o}},[r,i,s,o,C,T,I,F,e,v,w,u,d,f,p,m]);const U=A.useCallback(G=>{const X={...F,[C]:G};O(G),$(X),p(G,X)},[F,C,p]),K=A.useMemo(()=>o_(u,C),[u,C]),Y=A.useMemo(()=>d===null?null:o_(d,C),[d,C]),J=A.useMemo(()=>({cols:T,rowHeight:l,maxRows:c,margin:K,containerPadding:Y}),[T,l,c,K,Y]);return g.jsx(WLe,{...b,width:r,gridConfig:J,compactor:y,onLayoutChange:U,layout:I,children:e})}function Zpe(n){const{children:e,width:r,breakpoint:i,breakpoints:s,cols:o,layouts:a,onBreakpointChange:l,onLayoutChange:c,onWidthChange:u,rowHeight:d,maxRows:h,margin:f,containerPadding:p,droppingItem:m,compactType:b,preventCollision:y=!1,allowOverlap:v=!1,verticalCompact:w,isDraggable:_=!0,isBounded:x=!1,draggableHandle:S,draggableCancel:C,isResizable:E=!0,resizeHandles:T=["se"],resizeHandle:M,isDroppable:I=!1,useCSSTransforms:O=!0,transformScale:F=1,autoSize:$,className:z,style:D,innerRef:j,onDragStart:N,onDrag:R,onDragStop:H,onResizeStart:U,onResize:K,onResizeStop:Y,onDrop:J,onDropDragOver:G}=n;let X=b===void 0?"vertical":b;w===!1&&(X=null);const ae={enabled:_,bounded:x,handle:S,cancel:C},ge={enabled:E,handles:T,handleComponent:M},le={enabled:I};let ie;O?F!==1?ie=Y9e(F):ie=gpe:ie=G9e;const Te=A9(X,v,y);return g.jsx(GLe,{width:r,breakpoint:i,breakpoints:s,cols:o,layouts:a,rowHeight:d,maxRows:h,margin:f,containerPadding:p,compactor:Te,dragConfig:ae,resizeConfig:ge,dropConfig:le,positionStrategy:ie,droppingItem:m,autoSize:$,className:z,style:D,innerRef:j,onBreakpointChange:l,onLayoutChange:c,onWidthChange:u,onDragStart:N,onDrag:R,onDragStop:H,onResizeStart:U,onResize:K,onResizeStop:Y,onDrop:J,onDropDragOver:G,children:e})}Zpe.displayName="ResponsiveReactGridLayout";var YLe=Zpe,KLe="react-grid-layout";function XLe(n){function e(r){const{measureBeforeMount:i=!1,className:s,style:o,...a}=r,[l,c]=A.useState(1280),[u,d]=A.useState(!1),h=A.useRef(null),f=A.useRef(null);return A.useEffect(()=>{d(!0),f.current=new ResizeObserver(m=>{if(h.current instanceof HTMLElement&&m[0]){const y=m[0].contentRect.width;c(y)}});const p=h.current;return p instanceof HTMLElement&&f.current.observe(p),()=>{var m;p instanceof HTMLElement&&f.current&&f.current.unobserve(p),(m=f.current)==null||m.disconnect()}},[]),i&&!u?g.jsx("div",{className:R9(s,KLe),style:o,ref:h}):g.jsx(n,{innerRef:h,className:s,style:o,...a,width:l})}return e.displayName=`WidthProvider(${n.displayName||n.name||"Component"})`,e}const Ky=[[0,4,8,16],[8,4,2,16],[0,40,3,27],[0,20,3,20],[3,20,7,13],[3,33,7,8],[3,41,7,6],[3,47,2,16],[0,0,10,4]],QLe=[[0,4,8,16],[8,4,2,16],[9,20,3,27],[0,20,3,20],[3,20,6,13],[0,40,9,7],[3,33,6,7],[10,4,2,16],[0,0,12,4]],JLe=[[0,4,8,16],[8,4,2,16],[0,20,3,27],[10,4,2,20],[3,20,7,13],[3,33,9,7],[3,40,9,12],[0,47,3,19],[0,0,12,4]],ZLe=[[0,48,8,16],[5,4,2,20],[3,4,2,20],[7,4,3,20],[0,24,10,12],[0,64,10,8],[0,36,10,12],[0,4,3,20],[0,0,10,4]],eFe=[[0,64,8,16],[5,4,2,20],[0,24,2,20],[7,4,3,20],[2,24,8,20],[0,80,10,8],[0,4,5,20],[0,44,3,20],[0,0,10,4]],wq=0,tFe=8;function nFe(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():""}function rFe(n,e){return Math.floor(Math.random()*(e-n+1))+n}function iFe(n){const e=Math.ceil(Math.random()*4)+1;return{x:rFe(0,5)*2%12,y:Math.floor(n/6)*e,w:2,h:e,i:n.toString(),static:Math.random()<.05}}function sFe(n,e){const[r,i,s,o]=e;return{x:r,y:i,w:s,h:o,i:n.toString(),static:!0}}function Xy(n,e){const r=n.length,i=[];for(let s=0;s<r;s++)s<n.length?i.push(sFe(s,n[s])):i.push(iFe(s));return i}function oFe(n,e){const r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r){const o=n[s],a=e[s];if(!o||!a){if(o!==a)return!1;continue}if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++){const c=o[l],u=a[l];if(c.x!==u.x||c.y!==u.y||c.w!==u.w||c.h!==u.h)return!1}}return!0}function m3(n,e){const r={};for(const i in n){const s=n[i];s&&(r[i]=s.map(o=>({...o,static:e})))}return r}const aFe=XLe(YLe),j2=class j2 extends B.Component{constructor(r){super(r);ze(this,"isUpdatingLayout",!1);ze(this,"domCache",null);ze(this,"lastLayoutKey","");ze(this,"handleResponsiveLayoutChange",(r,i)=>{const s=Array.isArray(r)?r:[r],o=i;this.onLayoutChange(s,o)});ze(this,"generateNewLayout",()=>{const r=Xy(Ky),i=this.props.allStatic??this.state.allStatic,s=r.map(o=>({...o,static:i}));this.domCache=null,this.lastLayoutKey="",this.setState({layouts:{lg:s}})});this.state={currentBreakpoint:"lg",compactType:r.compactType??"vertical",mounted:!1,layouts:{lg:r.initialLayout||Xy(Ky)},allStatic:r.allStatic??!0},this.onBreakpointChange=this.onBreakpointChange.bind(this),this.onCompactTypeChange=this.onCompactTypeChange.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.onNewLayout=this.onNewLayout.bind(this),this.onToggleStatic=this.onToggleStatic.bind(this)}componentDidMount(){this.setState({mounted:!0},()=>{this.props.onMount&&this.props.onMount()})}generateDOM(){const r=this.state.layouts.lg||[],{slotContent:i=[]}=this.props,s=this.props.allStatic??this.state.allStatic,o=`${r.length}-${s}-${i.length}`;if(this.domCache&&this.lastLayoutKey===o)return this.domCache;const a=[];for(let l=0;l<r.length;l++){const c=r[l],u=l>=wq&&l<=tFe,d=l-wq,h=u&&i[d]?i[d]:null,f=c.static??s;a.push(g.jsx("div",{className:f?"static":"",children:h?g.jsx("div",{className:"external-slot-content",children:h}):f?g.jsxs("span",{className:"text",title:"This item is static and cannot be removed or resized.",children:["Static - ",l]}):g.jsx("span",{className:"text",children:l})},c.i||l.toString()))}return this.domCache=a,this.lastLayoutKey=o,a}onBreakpointChange(r){this.setState({currentBreakpoint:r})}onCompactTypeChange(){if(this.props.onCompactTypeChange)this.props.onCompactTypeChange();else{const{compactType:r}=this.state,i=r==="horizontal"?"vertical":r==="vertical"?null:"horizontal";this.setState({compactType:i})}}onLayoutChange(r,i){if(this.isUpdatingLayout){this.props.onLayoutChange(r,i);return}const s=this.props.allStatic??this.state.allStatic;if(s){this.props.onLayoutChange(r,i);return}const o=m3(i,s);!oFe(this.state.layouts,o)&&(this.domCache=null,this.lastLayoutKey="",this.isUpdatingLayout=!0,this.setState({layouts:o},()=>{this.isUpdatingLayout=!1})),this.props.onLayoutChange(r,o)}onNewLayout(){this.props.onNewLayout?this.props.onNewLayout():this.generateNewLayout()}onToggleStatic(){if(this.props.onToggleStatic)this.props.onToggleStatic();else{const r=!this.state.allStatic,i=m3(this.state.layouts,r);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:r,layouts:i})}}componentDidUpdate(r){if(r.compactType!==this.props.compactType&&this.props.compactType!==void 0&&this.setState({compactType:this.props.compactType}),r.allStatic!==this.props.allStatic&&this.props.allStatic!==void 0){const i=m3(this.state.layouts,this.props.allStatic);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:this.props.allStatic,layouts:i})}r.slotContent!==this.props.slotContent&&(this.domCache=null,this.lastLayoutKey="")}render(){const{cols:r}=this.props,i=r||j2.defaultProps.cols||{},s=this.props.compactType??this.state.compactType;return g.jsxs("div",{children:[g.jsxs("div",{children:["Current Breakpoint: ",this.state.currentBreakpoint," (",i[this.state.currentBreakpoint]," columns)"]}),g.jsxs("div",{children:["Compaction type: ",nFe(s)||"No Compaction"]}),g.jsx(aFe,{...this.props,layouts:this.state.layouts,onBreakpointChange:this.onBreakpointChange,onLayoutChange:this.handleResponsiveLayoutChange,measureBeforeMount:!1,useCSSTransforms:this.state.mounted,compactType:s,preventCollision:!s,children:this.generateDOM()})]})}};ze(j2,"defaultProps",{className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},initialLayout:Xy(Ky)});let o4=j2;function $n(n){var e=n.width,r=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(r<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:r}}function Cf(n,e){return n.width===e.width&&n.height===e.height}var lFe=function(){function n(e){var r=this;this._resolutionListener=function(){return r._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var r=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){r._observers=r._observers.filter(function(s){return s!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(r){return r.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function cFe(n){return new lFe(n)}var uFe=function(){function n(e,r,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=$n({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=r??function(o){return o},this._allowResizeObserver=(s=i==null?void 0:i.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,r;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(r=this._devicePixelRatioObservable)===null||r===void 0||r.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return $n({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=$n(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(r){return r!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(r){return r!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var r=this.bitmapSize;Cf(r,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(r,e))},n.prototype._emitBitmapSizeChanged=function(e,r){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,r)})},n.prototype._suggestNewBitmapSize=function(e){var r=this._suggestedBitmapSize,i=$n(this._transformBitmapSize(e,this._canvasElementClientSize)),s=Cf(this.bitmapSize,i)?null:i;r===null&&s===null||r!==null&&s!==null&&Cf(r,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(r,s))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,r){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,r)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}hFe().then(function(r){return r?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var r=xq(this._canvasElement);if(r===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=cFe(r),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,r;if(this._canvasElement!==null){var i=xq(this._canvasElement);if(i!==null){var s=(r=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&r!==void 0?r:i.devicePixelRatio,o=this._canvasElement.getClientRects(),a=o[0]!==void 0?fFe(o[0],s):$n({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(a)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(r){var i=r.find(function(a){return a.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var s=i.devicePixelContentBoxSize[0],o=$n({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(o)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function dFe(n,e){return new uFe(n,e.transform,e.options)}function xq(n){return n.ownerDocument.defaultView}function hFe(){return new Promise(function(n){var e=new ResizeObserver(function(r){n(r.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function fFe(n,e){return $n({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var pFe=function(){function n(e,r,i){if(r.width===0||r.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=r,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function Yf(n,e){var r=n.canvasElementClientSize;if(r.width===0||r.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var s=n.canvasElement.getContext("2d",e);return s===null?null:new pFe(s,r,i)}/*!
 * @license
 * TradingView Lightweight Charts v5.0.9
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const eme={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var _q,Sq;function g0(n,e){const r={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(r)}function tme(n,e,r,i){n.beginPath();const s=n.lineWidth%2?.5:0;n.moveTo(r,e+s),n.lineTo(i,e+s),n.stroke()}function mi(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function Rs(n){if(n===void 0)throw new Error("Value is undefined");return n}function dt(n){if(n===null)throw new Error("Value is null");return n}function vd(n){return dt(Rs(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(_q||(_q={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(Sq||(Sq={}));let Or=class{constructor(){this.t=[]}i(e,r,i){const s={h:e,l:r,o:i===!0};this.t.push(s)}_(e){const r=this.t.findIndex(i=>e===i.h);r>-1&&this.t.splice(r,1)}u(e){this.t=this.t.filter(r=>r.l!==e)}p(e,r,i){const s=[...this.t];this.t=this.t.filter(o=>!o.o),s.forEach(o=>o.h(e,r,i))}v(){return this.t.length>0}m(){this.t=[]}};function co(n,...e){for(const r of e)for(const i in r)r[i]!==void 0&&Object.prototype.hasOwnProperty.call(r,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof r[i]!="object"||n[i]===void 0||Array.isArray(r[i])?n[i]=r[i]:co(n[i],r[i]));return n}function b0(n){return typeof n=="number"&&isFinite(n)}function hw(n){return typeof n=="number"&&n%1==0}function kx(n){return typeof n=="string"}function l_(n){return typeof n=="boolean"}function jc(n){const e=n;if(!e||typeof e!="object")return e;let r,i,s;for(i in r=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(s=e[i],r[i]=s&&typeof s=="object"?jc(s):s);return r}function mFe(n){return n!==null}function gFe(n){return n===null?void 0:n}const nme="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Hk(n,e,r){return e===void 0&&(e=nme),`${r=r!==void 0?`${r} `:""}${n}px ${e}`}let bFe=class{constructor(e){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=e}N(){const e=this.M,r=this.F(),i=this.W();return e.P===r&&e.T===i||(e.P=r,e.T=i,e.k=Hk(r,i),e.A=2.5/12*r,e.V=e.A,e.B=r/12*e.C,e.I=r/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function g3(n){return n<0?0:n>255?255:Math.round(n)||0}function kq(n){return .199*n[0]+.687*n[1]+.114*n[2]}let yFe=class{constructor(e,r){this.q=new Map,this.Y=e,r&&(this.q=r)}j(e,r){if(e==="transparent")return e;const i=this.K(e),s=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${r*s})`}X(e){const r=this.K(e);return{Z:`rgb(${r[0]}, ${r[1]}, ${r[2]})`,G:kq(r)>160?"black":"white"}}J(e){return kq(this.K(e))}tt(e,r,i){const[s,o,a,l]=this.K(e),[c,u,d,h]=this.K(r),f=[g3(s+i*(c-s)),g3(o+i*(u-o)),g3(a+i*(d-a)),(p=l+i*(h-l),p<=0||p>1?Math.min(Math.max(p,0),1):Math.round(1e4*p)/1e4)];var p;return`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${f[3]})`}K(e){const r=this.q.get(e);if(r)return r;const i=function(a){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=a;const c=window.getComputedStyle(l).color;return document.body.removeChild(l),c}(e),s=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!s){if(this.Y.length)for(const a of this.Y){const l=a(e);if(l)return this.q.set(e,l),l}throw new Error(`Failed to parse color: ${e}`)}const o=[parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),s[4]?parseFloat(s[4]):1];return this.q.set(e,o),o}},vFe=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,r,i){this.it.forEach(s=>{s.nt(e,r,i)})}};class Cx{nt(e,r,i){e.useBitmapCoordinateSpace(s=>this.et(s,r,i))}}let wFe=class extends Cx{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const s=this.rt.lt,o=this.rt,a=Math.max(1,Math.floor(r))%2/2,l=c=>{e.beginPath();for(let u=s.to-1;u>=s.from;--u){const d=o.ot[u],h=Math.round(d._t*r)+a,f=d.ut*i,p=c*i+a;e.moveTo(h,f),e.arc(h,f,p,0,2*Math.PI)}e.fill()};o.ct>0&&(e.fillStyle=o.dt,l(o.ft+o.ct)),e.fillStyle=o.vt,l(o.ft)}};function xFe(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const _Fe={from:0,to:1};let SFe=class{constructor(e,r,i){this.Mt=new vFe,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=r,this.Pt=i,this.Mt.st(this.bt)}yt(e){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const e=this.Pt.Dt();e.length!==this.bt.length&&(this.St=e.map(xFe),this.bt=this.St.map(r=>{const i=new wFe;return i.ht(r),i}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.Vt(),r=this.Pt.Bt(),i=this.Ct.It(),s=this.O.Et();this.kt(),r.forEach((o,a)=>{const l=this.St[a],c=o.At(i),u=o.zt();!e&&c!==null&&o.Vt()&&u!==null?(l.vt=c.Lt,l.ft=c.ft,l.ct=c.Ot,l.ot[0].gt=c.gt,l.ot[0].ut=o.Ft().Nt(c.gt,u.Wt),l.dt=c.Ht??this.O.Ut(l.ot[0].ut/o.Ft().$t()),l.ot[0].wt=i,l.ot[0]._t=s.qt(i),l.lt=_Fe):l.lt=null})}},kFe=class extends Cx{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null)return;const o=this.Yt.jt.Vt,a=this.Yt.Kt.Vt;if(!o&&!a)return;const l=Math.round(this.Yt._t*i),c=Math.round(this.Yt.ut*s);e.lineCap="butt",o&&l>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*i),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,g0(e,this.Yt.jt.Xt),function(u,d,h,f){u.beginPath();const p=u.lineWidth%2?.5:0;u.moveTo(d+p,h),u.lineTo(d+p,f),u.stroke()}(e,l,0,r.height)),a&&c>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*s),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,g0(e,this.Yt.Kt.Xt),tme(e,c,0,r.width))}},CFe=class{constructor(e,r){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new kFe(this.Zt),this.Jt=e,this.Pt=r}yt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),r=this.Pt.Qt().N().crosshair,i=this.Zt;if(r.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=e&&this.Jt.ti(this.Pt),i.jt.Vt=e&&this.Jt.ii(),i.Kt.ct=r.horzLine.width,i.Kt.Xt=r.horzLine.style,i.Kt.R=r.horzLine.color,i.jt.ct=r.vertLine.width,i.jt.Xt=r.vertLine.style,i.jt.R=r.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}};function nE(n,e,r,i,s,o){n.save(),n.globalCompositeOperation="copy",n.fillStyle=o,n.fillRect(e,r,i,s),n.restore()}function Cq(n,e,r,i,s,o){n.beginPath(),n.roundRect?n.roundRect(e,r,i,s,o):(n.lineTo(e+i-o[1],r),o[1]!==0&&n.arcTo(e+i,r,e+i,r+o[1],o[1]),n.lineTo(e+i,r+s-o[2]),o[2]!==0&&n.arcTo(e+i,r+s,e+i-o[2],r+s,o[2]),n.lineTo(e+o[3],r+s),o[3]!==0&&n.arcTo(e,r+s,e,r+s-o[3],o[3]),n.lineTo(e,r+o[0]),o[0]!==0&&n.arcTo(e,r,e+o[0],r,o[0]))}function Eq(n,e,r,i,s,o,a=0,l=[0,0,0,0],c=""){if(n.save(),!a||!c||c===o)return Cq(n,e,r,i,s,l),n.fillStyle=o,n.fill(),void n.restore();const u=a/2;var d;Cq(n,e+u,r+u,i-a,s-a,(d=-u,l.map(h=>h===0?h:h+d))),o!=="transparent"&&(n.fillStyle=o,n.fill()),c!=="transparent"&&(n.lineWidth=a,n.strokeStyle=c,n.closePath(),n.stroke()),n.restore()}function rme(n,e,r,i,s,o,a){n.save(),n.globalCompositeOperation="copy";const l=n.createLinearGradient(0,0,0,s);l.addColorStop(0,o),l.addColorStop(1,a),n.fillStyle=l,n.fillRect(e,r,i,s),n.restore()}class Aq{constructor(e,r){this.ht(e,r)}ht(e,r){this.Yt=e,this.ei=r}$t(e,r){return this.Yt.Vt?e.P+e.A+e.V:0}nt(e,r,i,s){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const o=this.Yt.R,a=this.ei.Z,l=e.useBitmapCoordinateSpace(c=>{const u=c.context;u.font=r.k;const d=this.hi(c,r,i,s),h=d.ai;return d.li?Eq(u,h.oi,h._i,h.ui,h.ci,a,h.di,[h.ft,0,0,h.ft],a):Eq(u,h.fi,h._i,h.ui,h.ci,a,h.di,[0,h.ft,h.ft,0],a),this.Yt.pi&&(u.fillStyle=o,u.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.Yt.Mi&&(u.fillStyle=r.D,u.fillRect(d.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),d});e.useMediaCoordinateSpace(({context:c})=>{const u=l.xi;c.font=r.k,c.textAlign=l.li?"right":"left",c.textBaseline="middle",c.fillStyle=o,c.fillText(this.Yt.ri,u.Ci,(u._i+u.Si)/2+u.Pi)})}hi(e,r,i,s){const{context:o,bitmapSize:a,mediaSize:l,horizontalPixelRatio:c,verticalPixelRatio:u}=e,d=this.Yt.pi||!this.Yt.yi?r.C:0,h=this.Yt.ki?r.S:0,f=r.A+this.ei.Ti,p=r.V+this.ei.Ri,m=r.B,b=r.I,y=this.Yt.ri,v=r.P,w=i.Di(o,y),_=Math.ceil(i.Vi(o,y)),x=v+f+p,S=r.S+m+b+_+d,C=Math.max(1,Math.floor(u));let E=Math.round(x*u);E%2!=C%2&&(E+=1);const T=h>0?Math.max(1,Math.floor(h*c)):0,M=Math.round(S*c),I=Math.round(d*c),O=this.ei.Bi??this.ei.Ii,F=Math.round(O*u)-Math.floor(.5*u),$=Math.floor(F+C/2-E/2),z=$+E,D=s==="right",j=D?l.width-h:h,N=D?a.width-T:T;let R,H,U;return D?(R=N-M,H=N-I,U=j-d-m-h):(R=N+M,H=N+I,U=j+d+m),{li:D,ai:{_i:$,mi:F,Si:z,ui:M,ci:E,ft:2*c,di:T,oi:R,fi:N,wi:H,gi:C,bi:a.width},xi:{_i:$/u,Si:z/u,Ci:U,Pi:w}}}}class rE{constructor(e){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(e||Aq)(this.Ai,this.Ei),this.Oi=new(e||Aq)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(e,r=!1){return Math.max(this.Li.$t(e,r),this.Oi.$t(e,r))}Fi(){return this.Ei.Bi||0}Wi(e){this.Ei.Bi=e}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(e){return this.Ni(),this.Ai.pi=this.Ai.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class EFe extends rE{constructor(e,r,i){super(),this.Jt=e,this.Yi=r,this.ji=i}qi(e,r,i){if(e.Vt=!1,this.Jt.N().mode===2)return;const s=this.Jt.N().horzLine;if(!s.labelVisible)return;const o=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||o===null)return;const a=this.Yi.Xi().X(s.labelBackgroundColor);i.Z=a.Z,e.R=a.G;const l=2/12*this.Yi.P();i.Ti=l,i.Ri=l;const c=this.ji(this.Yi);i.Ii=c.Ii,e.ri=this.Yi.Zi(c.gt,o),e.Vt=!0}}const AFe=/[1-9]/g;let ime=class{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,r){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=e.useMediaCoordinateSpace(({context:f})=>(f.font=r.k,Math.round(r.Gi.Vi(f,dt(this.Yt).ri,AFe))));if(i<=0)return;const s=r.Ji,o=i+2*s,a=o/2,l=this.Yt.Qi;let c=this.Yt.Ii,u=Math.floor(c-a)+.5;u<0?(c+=Math.abs(0-u),u=Math.floor(c-a)+.5):u+o>l&&(c-=Math.abs(l-(u+o)),u=Math.floor(c-a)+.5);const d=u+o,h=Math.ceil(0+r.S+r.C+r.A+r.P+r.V);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:m})=>{const b=dt(this.Yt);f.fillStyle=b.Z;const y=Math.round(u*p),v=Math.round(0*m),w=Math.round(d*p),_=Math.round(h*m),x=Math.round(2*p);if(f.beginPath(),f.moveTo(y,v),f.lineTo(y,_-x),f.arcTo(y,_,y+x,_,x),f.lineTo(w-x,_),f.arcTo(w,_,w,_-x,x),f.lineTo(w,v),f.fill(),b.pi){const S=Math.round(b.Ii*p),C=v,E=Math.round((C+r.C)*m);f.fillStyle=b.R;const T=Math.max(1,Math.floor(p)),M=Math.floor(.5*p);f.fillRect(S-M,C,T,E-C)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=dt(this.Yt),m=0+r.S+r.C+r.A+r.P/2;f.font=r.k,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.R;const b=r.Gi.Di(f,"Apr0");f.translate(u+s,m+b),f.fillText(p.ri,0,0)})}};class TFe{constructor(e,r,i){this.xt=!0,this.Gt=new ime,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=e,this.ts=r,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,this.Ct.N().mode===2)return;const r=this.Ct.N().vertLine;if(!r.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;e.Qi=i.Qi();const s=this.ji();if(s===null)return;e.Ii=s.Ii;const o=i.ss(this.Ct.It());e.ri=i.ns(dt(o)),e.Vt=!0;const a=this.ts.Xi().X(r.labelBackgroundColor);e.Z=a.Z,e.R=a.G,e.pi=i.N().ticksVisible}}let sme=class{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Ft(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}};var Tq;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(Tq||(Tq={}));class PFe extends sme{constructor(e,r){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.Ps=r,this.ys=((s,o)=>a=>{const l=o(),c=s();if(a===dt(this.Pt).ks())return{gt:c,Ii:l};{const u=dt(a.zt());return{gt:a.Ts(l,u),Ii:l}}})(()=>this.ds,()=>this.Ss);const i=((s,o)=>()=>{const a=this.ts.Et().Rs(s()),l=o();return a&&Number.isFinite(l)?{wt:a,Ii:l}:null})(()=>this.fs,()=>this.si());this.Ds=new TFe(this,e,i)}N(){return this.Ps}Vs(e,r){this.xs=e,this.Cs=r}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(e,r,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,r,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(e){let r=this.gs.get(e);r||(r=new CFe(this,e),this.gs.set(e,r));let i=this.Ms.get(e);return i||(i=new SFe(this.ts,this,e),this.Ms.set(e,i)),[r,i]}ti(e){return e===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(e,r){this.ps&&this.Pt===e||this.vs.clear();const i=[];return this.Pt===e&&i.push(this.Hs(this.vs,r,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(e=>{var r,i;(r=this.gs.get(e))==null||r.yt(),(i=this.Ms.get(e))==null||i.yt()}),this.vs.forEach(e=>e.yt()),this.Ds.yt()}qs(e){return e&&!e.ks().Ki()?e.ks():null}zs(e,r,i){this.Ys(e,r,i)&&this.Ns()}Ys(e,r,i){const s=this.bs,o=this.Ss,a=this.ds,l=this.fs,c=this.Pt,u=this.qs(i);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.Et().qt(e),this.Pt=i;const d=u!==null?u.zt():null;return u!==null&&d!==null?(this.ds=r,this.Ss=u.Nt(r,d)):(this.ds=NaN,this.Ss=NaN),s!==this.bs||o!==this.Ss||l!==this.fs||a!==this.ds||c!==this.Pt}Os(){const e=this.ts.js().map(i=>i.Xs().Ks()).filter(mFe),r=e.length===0?null:Math.max(...e);this.fs=r!==null?r:NaN}Hs(e,r,i){let s=e.get(r);return s===void 0&&(s=new EFe(this,r,i),e.set(r,s)),s}}function iE(n){return n==="left"||n==="right"}let bs=class a4{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,r){const i=function(s,o){return s===void 0?o:{tn:Math.max(s.tn,o.tn),sn:s.sn||o.sn}}(this.Zs.get(e),r);this.Zs.set(e,i)}nn(){return this.Js}en(e){const r=this.Zs.get(e);return r===void 0?{tn:this.Js}:{tn:Math.max(this.Js,r.tn),sn:r.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Wt:e}]}_n(e){this.un(),this.Gs.push({an:5,Wt:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Wt:e})}fn(e){this.hn(),this.Gs.push({an:3,Wt:e})}pn(){return this.Gs}vn(e){for(const r of e.Gs)this.mn(r);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((r,i)=>{this.Qs(i,r)})}static wn(){return new a4(2)}static gn(){return new a4(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Wt);break;case 2:this.dn(e.Wt);break;case 3:this.fn(e.Wt);break;case 4:this.cn();break;case 5:this._n(e.Wt);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(r=>r.an===5);e!==-1&&this.Gs.splice(e,1)}};class ome{formatTickmarks(e){return e.map(r=>this.format(r))}}const Pq=".";function Bc(n,e){if(!b0(n))return"n/a";if(!hw(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}let sE=class extends ome{constructor(e,r){if(super(),r||(r=1),b0(e)&&hw(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=r,this.bn()}format(e){const r=e<0?"":"";return e=Math.abs(e),r+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const r=this.Yi/this.Mn;let i=Math.floor(e),s="";const o=this.xn!==void 0?this.xn:NaN;if(r>1){let a=+(Math.round(e*r)-i*r).toFixed(this.xn);a>=r&&(a-=r,i+=1),s=Pq+Bc(+a.toFixed(this.xn)*this.Mn,o)}else i=Math.round(i*r)/r,o>0&&(s=Pq+Bc(0,o));return i.toFixed(0)+s}};class ame extends sE{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class IFe extends ome{constructor(e){super(),this.Cn=e}format(e){let r="";return e<0&&(r="-",e=-e),e<995?r+this.Pn(e):e<999995?r+this.Pn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),r+this.Pn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),r+this.Pn(e/1e9)+"B")}Pn(e){let r;const i=Math.pow(10,this.Cn);return r=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),r.replace(/(\.[1-9]*)0+$/,(s,o)=>o)}}const MFe=/[2-9]/g;class Vk{constructor(e=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(e,r,i){return this.In(e,r,i).width}Di(e,r,i){const s=this.In(e,r,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}In(e,r,i){const s=i||MFe,o=String(r).replace(s,"0");if(this.Dn.has(o))return Rs(this.Dn.get(o)).En;if(this.yn===this.Vn){const l=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(l),this.Tn++,this.yn--}e.save(),e.textBaseline="middle";const a=e.measureText(o);return e.restore(),a.width===0&&r.length||(this.Dn.set(o,{En:a,An:this.kn}),this.Rn[this.kn]=o,this.yn++,this.kn++),a}}class OFe{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,r,i){this.zn=e,this.M=r,this.Ln=i}nt(e){this.M!==null&&this.zn!==null&&this.zn.nt(e,this.M,this.On,this.Ln)}}class lme{constructor(e,r,i){this.Fn=e,this.On=new Vk(50),this.Wn=r,this.O=i,this.F=-1,this.Gt=new OFe(this.On)}Tt(){const e=this.O.Hn(this.Wn);if(e===null)return null;const r=e.Un(this.Wn)?e.$n():this.Wn.Ft();if(r===null)return null;const i=e.qn(r);if(i==="overlay")return null;const s=this.O.Yn();return s.P!==this.F&&(this.F=s.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),s,i),this.Gt}}let DFe=class extends Cx{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,r){var a;if(!((a=this.Yt)!=null&&a.Vt))return null;const{ut:i,ct:s,Kn:o}=this.Yt;return r>=i-s-7&&r<=i+s+7?{Xn:this.Yt,Kn:o}:null}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null||this.Yt.Vt===!1)return;const o=Math.round(this.Yt.ut*s);o<0||o>r.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*i),g0(e,this.Yt.Xt),tme(e,o,0,r.width))}};class N9{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new DFe,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class RFe extends N9{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Ft(),r=e.ie().ie;if(r!==2&&r!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const s=this.Jn.zt();s!==null&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(s.Wt,s.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class NFe extends Cx{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:i}){const s=this.Yt;if(s===null)return;const o=Math.max(1,Math.floor(r)),a=o%2/2,l=Math.round(s.ne.x*r)+a,c=s.ne.y*i;e.fillStyle=s.ee,e.beginPath();const u=Math.max(2,1.5*s.re)*r;e.arc(l,c,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.he,e.beginPath(),e.arc(l,c,s.ft*r,0,2*Math.PI,!1),e.fill(),e.lineWidth=o,e.strokeStyle=s.ae,e.beginPath(),e.arc(l,c,s.ft*r+o/2,0,2*Math.PI,!1),e.stroke()}}const jFe=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class BFe{constructor(e){this.Gt=new NFe,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const e=performance.now(),r=this.we-e;if(r>0)return void(r<650&&(this.we+=2600));this.me=e,this.we=e+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().Et(),r=e.Pe(),i=this.ge.zt();if(r===null||i===null)return;const s=this.ge.ye(!0);if(s.ke||!r.Te(s.Re))return;const o={x:e.qt(s.Re),y:this.ge.Ft().Nt(s.gt,i.Wt)},a=s.R,l=this.ge.N().lineWidth,c=this.De(this.Ve(),a);this.Gt.ht({ee:a,re:l,he:c.he,ae:c.ae,ft:c.ft,ne:o})}Ce(){const e=this.Gt.se();if(e!==null){const r=this.De(this.Ve(),e.ee);e.he=r.he,e.ae=r.ae,e.ft=r.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(e,r,i,s){const o=i+(s-i)*r;return this.ge.Qt().Xi().j(e,o)}De(e,r){const i=e%2600/2600;let s;for(const u of jFe)if(i>=u.le&&i<=u.oe){s=u;break}mi(s!==void 0,"Last price animation internal logic error");const o=(i-s.le)/(s.oe-s.le);return{he:this.Be(r,o,s.ce,s.de),ae:this.Be(r,o,s.fe,s.pe),ft:(a=o,l=s._e,c=s.ue,l+(c-l)*a)};var a,l,c}}class LFe extends N9{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const r=this.Jn.N();if(!r.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ye(r.priceLineSource===0);i.ke||(e.Vt=!0,e.ut=i.Ii,e.R=this.Jn.Ie(i.R),e.ct=r.priceLineWidth,e.Xt=r.priceLineStyle)}}let FFe=class extends rE{constructor(e){super(),this.Jt=e}qi(e,r,i){e.Vt=!1,r.Vt=!1;const s=this.Jt;if(!s.Vt())return;const o=s.N(),a=o.lastValueVisible,l=s.Ee()!=="",c=o.seriesLastValueMode===0,u=s.ye(!1);if(u.ke)return;a&&(e.ri=this.Ae(u,a,c),e.Vt=e.ri.length!==0),(l||c)&&(r.ri=this.ze(u,a,l,c),r.Vt=r.ri.length>0);const d=s.Ie(u.R),h=this.Jt.Qt().Xi().X(d);i.Z=h.Z,i.Ii=u.Ii,r.Ht=s.Qt().Ut(u.Ii/s.Ft().$t()),e.Ht=d,e.R=h.G,r.R=h.G}ze(e,r,i,s){let o="";const a=this.Jt.Ee();return i&&a.length!==0&&(o+=`${a} `),r&&s&&(o+=this.Jt.Ft().Le()?e.Oe:e.Ne),o.trim()}Ae(e,r,i){return r?i?this.Jt.Ft().Le()?e.Ne:e.Oe:e.ri:""}};function Iq(n,e,r,i){const s=Number.isFinite(e),o=Number.isFinite(r);return s&&o?n(e,r):s||o?s?e:r:i}class os{constructor(e,r){this.Fe=e,this.We=r}He(e){return e!==null&&this.Fe===e.Fe&&this.We===e.We}Ue(){return new os(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(e){return e===null?this:new os(Iq(Math.min,this.$e(),e.$e(),-1/0),Iq(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!b0(e)||this.We-this.Fe===0)return;const r=.5*(this.We+this.Fe);let i=this.We-r,s=this.Fe-r;i*=e,s*=e,this.We=r+i,this.Fe=r+s}Ke(e){b0(e)&&(this.We+=e,this.Fe+=e)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(e){return e===null?null:new os(e.minValue,e.maxValue)}}class Gk{constructor(e,r){this.Ge=e,this.Je=r||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return e===null?null:new Gk(os.Ze(e.priceRange),e.margins)}}class $Fe extends N9{constructor(e,r){super(e),this.ir=r}te(){const e=this.Zn;e.Vt=!1;const r=this.ir.N();if(!this.Jn.Vt()||!r.lineVisible)return;const i=this.ir.sr();i!==null&&(e.Vt=!0,e.ut=i,e.R=r.color,e.ct=r.lineWidth,e.Xt=r.lineStyle,e.Kn=this.ir.N().id)}}class zFe extends rE{constructor(e,r){super(),this.ge=e,this.ir=r}qi(e,r,i){e.Vt=!1,r.Vt=!1;const s=this.ir.N(),o=s.axisLabelVisible,a=s.title!=="",l=this.ge;if(!o||!l.Vt())return;const c=this.ir.sr();if(c===null)return;a&&(r.ri=s.title,r.Vt=!0),r.Ht=l.Qt().Ut(c/l.Ft().$t()),e.ri=this.nr(s.price),e.Vt=!0;const u=this.ge.Qt().Xi().X(s.axisLabelColor||s.color);i.Z=u.Z;const d=s.axisLabelTextColor||u.G;e.R=d,r.R=d,i.Ii=c}nr(e){const r=this.ge.zt();return r===null?"":this.ge.Ft().Zi(e,r.Wt)}}class UFe{constructor(e,r){this.ge=e,this.Ps=r,this.er=new $Fe(e,this),this.Fn=new zFe(e,this),this.rr=new lme(this.Fn,e,e.Qt())}hr(e){co(this.Ps,e),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const e=this.ge,r=e.Ft();if(e.Qt().Et().Ki()||r.Ki())return null;const i=e.zt();return i===null?null:r.Nt(this.Ps.price,i.Wt)}}class WFe extends sme{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const qFe={Bar:(n,e,r,i)=>{const s=e.upColor,o=e.downColor,a=dt(n(r,i)),l=vd(a.Wt[0])<=vd(a.Wt[3]);return{cr:a.R??(l?s:o)}},Candlestick:(n,e,r,i)=>{const s=e.upColor,o=e.downColor,a=e.borderUpColor,l=e.borderDownColor,c=e.wickUpColor,u=e.wickDownColor,d=dt(n(r,i)),h=vd(d.Wt[0])<=vd(d.Wt[3]);return{cr:d.R??(h?s:o),dr:d.Ht??(h?a:l),pr:d.vr??(h?c:u)}},Custom:(n,e,r,i)=>({cr:dt(n(r,i)).R??e.color}),Area:(n,e,r,i)=>{const s=dt(n(r,i));return{cr:s.vt??e.lineColor,vt:s.vt??e.lineColor,mr:s.mr??e.topColor,wr:s.wr??e.bottomColor}},Baseline:(n,e,r,i)=>{const s=dt(n(r,i));return{cr:s.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:s.gr??e.topLineColor,Mr:s.Mr??e.bottomLineColor,br:s.br??e.topFillColor1,Sr:s.Sr??e.topFillColor2,Cr:s.Cr??e.bottomFillColor1,Pr:s.Pr??e.bottomFillColor2}},Line:(n,e,r,i)=>{const s=dt(n(r,i));return{cr:s.R??e.color,vt:s.R??e.color}},Histogram:(n,e,r,i)=>({cr:dt(n(r,i)).R??e.color})};class HFe{constructor(e){this.yr=(r,i)=>i!==void 0?i.Wt:this.ge.Xs().kr(r),this.ge=e,this.Tr=qFe[e.Rr()]}Dr(e,r){return this.Tr(this.yr,this.ge.N(),e,r)}}function cme(n,e,r,i,s=0,o=e.length){let a=o-s;for(;0<a;){const l=a>>1,c=s+l;i(e[c],r)===n?(s=c+1,a-=l+1):a=l}return s}const y0=cme.bind(null,!0),ume=cme.bind(null,!1);var Mq;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(Mq||(Mq={}));const zu=30;class VFe{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(e){return this.Nr(e,0)!==null}kr(e){return this.Fr(e)}Fr(e,r=0){const i=this.Nr(e,r);return i===null?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(e,r,i){if(this.Ki())return null;let s=null;for(const o of i)s=c_(s,this.$r(e,r,o));return s}ht(e){this.Ir.clear(),this.Br.clear(),this.Vr=e,this.Er=e.map(r=>r.Re)}qr(){return this.Er}Or(e){return this.Vr[e].Re}Wr(e){return this.Vr[e]}Nr(e,r){const i=this.Yr(e);if(i===null&&r!==0)switch(r){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return i}jr(e){let r=this.Xr(e);return r>0&&(r-=1),r!==this.Vr.length&&this.Or(r)<e?r:null}Kr(e){const r=this.Zr(e);return r!==this.Vr.length&&e<this.Or(r)?r:null}Yr(e){const r=this.Xr(e);return r===this.Vr.length||e<this.Vr[r].Re?null:r}Xr(e){return y0(this.Vr,e,(r,i)=>r.Re<i)}Zr(e){return ume(this.Vr,e,(r,i)=>r.Re>i)}Gr(e,r,i){let s=null;for(let o=e;o<r;o++){const a=this.Vr[o].Wt[i];Number.isNaN(a)||(s===null?s={Jr:a,Qr:a}:(a<s.Jr&&(s.Jr=a),a>s.Qr&&(s.Qr=a)))}return s}$r(e,r,i){if(this.Ki())return null;let s=null;const o=dt(this.Lr()),a=dt(this.Ks()),l=Math.max(e,o),c=Math.min(r,a),u=Math.ceil(l/zu)*zu,d=Math.max(u,Math.floor(c/zu)*zu);{const f=this.Xr(l),p=this.Zr(Math.min(c,u,r));s=c_(s,this.Gr(f,p,i))}let h=this.Br.get(i);h===void 0&&(h=new Map,this.Br.set(i,h));for(let f=Math.max(u+1,l);f<d;f+=zu){const p=Math.floor(f/zu);let m=h.get(p);if(m===void 0){const b=this.Xr(p*zu),y=this.Zr((p+1)*zu-1);m=this.Gr(b,y,i),h.set(p,m)}s=c_(s,m)}{const f=this.Xr(d),p=this.Zr(c);s=c_(s,this.Gr(f,p,i))}return s}}function c_(n,e){return n===null?e:e===null?n:{Jr:Math.min(n.Jr,e.Jr),Qr:Math.max(n.Qr,e.Qr)}}const Yk={setLineStyle:g0};class GFe{constructor(e){this.th=e}nt(e,r,i){this.th.draw(e,Yk)}ih(e,r,i){var s,o;(o=(s=this.th).drawBackground)==null||o.call(s,e,Yk)}}class YFe{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const r=new GFe(e);return this.Dn={nh:e,eh:r},r}rh(){var e,r;return((r=(e=this.sh).zOrder)==null?void 0:r.call(e))??"normal"}}class dme{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,r;(r=(e=this.ah).updateAllViews)==null||r.call(e)}Fs(){var i,s,o;const e=((s=(i=this.ah).paneViews)==null?void 0:s.call(i))??[];if(((o=this.hh)==null?void 0:o.nh)===e)return this.hh.eh;const r=e.map(a=>new YFe(a));return this.hh={nh:e,eh:r},r}jn(e,r){var i,s;return((s=(i=this.ah).hitTest)==null?void 0:s.call(i,e,r))??null}}let KFe=class extends dme{us(){return[]}};class XFe{constructor(e){this.th=e}nt(e,r,i){this.th.draw(e,Yk)}ih(e,r,i){var s,o;(o=(s=this.th).drawBackground)==null||o.call(s,e,Yk)}}class Oq{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const r=new XFe(e);return this.Dn={nh:e,eh:r},r}rh(){var e,r;return((r=(e=this.sh).zOrder)==null?void 0:r.call(e))??"normal"}}function hme(n){var e,r,i;return{ri:n.text(),Ii:n.coordinate(),Bi:(e=n.fixedCoordinate)==null?void 0:e.call(n),R:n.textColor(),Z:n.backColor(),Vt:((r=n.visible)==null?void 0:r.call(n))??!0,pi:((i=n.tickVisible)==null?void 0:i.call(n))??!0}}class QFe{constructor(e,r){this.Gt=new ime,this._h=e,this.uh=r}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...hme(this._h)}),this.Gt}}class JFe extends rE{constructor(e,r){super(),this._h=e,this.Yi=r}qi(e,r,i){const s=hme(this._h);i.Z=s.Z,e.R=s.R;const o=2/12*this.Yi.P();i.Ti=o,i.Ri=o,i.Ii=s.Ii,i.Bi=s.Bi,e.ri=s.ri,e.Vt=s.Vt,e.pi=s.pi}}class ZFe extends dme{constructor(e,r){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=r}cs(){var s,o,a;const e=((o=(s=this.ah).timeAxisViews)==null?void 0:o.call(s))??[];if(((a=this.dh)==null?void 0:a.nh)===e)return this.dh.eh;const r=this.ge.Qt().Et(),i=e.map(l=>new QFe(l,r));return this.dh={nh:e,eh:i},i}Ws(){var s,o,a;const e=((o=(s=this.ah).priceAxisViews)==null?void 0:o.call(s))??[];if(((a=this.fh)==null?void 0:a.nh)===e)return this.fh.eh;const r=this.ge.Ft(),i=e.map(l=>new JFe(l,r));return this.fh={nh:e,eh:i},i}wh(){var i,s,o;const e=((s=(i=this.ah).priceAxisPaneViews)==null?void 0:s.call(i))??[];if(((o=this.ph)==null?void 0:o.nh)===e)return this.ph.eh;const r=e.map(a=>new Oq(a));return this.ph={nh:e,eh:r},r}gh(){var i,s,o;const e=((s=(i=this.ah).timeAxisPaneViews)==null?void 0:s.call(i))??[];if(((o=this.mh)==null?void 0:o.nh)===e)return this.mh.eh;const r=e.map(a=>new Oq(a));return this.mh={nh:e,eh:r},r}Mh(e,r){var i,s;return((s=(i=this.ah).autoscaleInfo)==null?void 0:s.call(i,e,r))??null}}function b3(n,e,r,i){n.forEach(s=>{e(s).forEach(o=>{o.rh()===r&&i.push(o)})})}function y3(n){return n.Fs()}function e$e(n){return n.wh()}function t$e(n){return n.gh()}const n$e=["Area","Line","Baseline"];class oE extends WFe{constructor(e,r,i,s,o){super(e),this.Yt=new VFe,this.er=new LFe(this),this.bh=[],this.Sh=new RFe(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=r;const a=new FFe(this);this.vs=[a],this.rr=new lme(a,this,e),n$e.includes(this.kh)&&(this.xh=new BFe(this)),this.Th(),this.sh=s(this,this.Qt(),o)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(e){return this.Ps.priceLineColor||e}ye(e){const r={ke:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return r;const s=this.Qt().Et().Pe(),o=this.zt();if(s===null||o===null)return r;let a,l;if(e){const h=this.Yt.Ar();if(h===null)return r;a=h,l=h.Re}else{const h=this.Yt.Fr(s.bi(),-1);if(h===null||(a=this.Yt.kr(h.Re),a===null))return r;l=h.Re}const c=a.Wt[3],u=this.Rh().Dr(l,{Wt:a}),d=i.Nt(c,o.Wt);return{ke:!1,gt:c,ri:i.Zi(c,o.Wt),Oe:i.Dh(c),Ne:i.Vh(c,o.Wt),R:u.cr,Ii:d,Re:l}}Rh(){return this.Ch!==null||(this.Ch=new HFe(this)),this.Ch}N(){return this.Ps}hr(e){const r=e.priceScaleId;r!==void 0&&r!==this.Ps.priceScaleId&&this.Qt().Bh(this,r),co(this.Ps,e),e.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(e,r){this.Yt.ht(e),this.sh.yt("data"),this.xh!==null&&(r&&r.zh?this.xh.be():e.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(e){const r=new UFe(this,e);return this.bh.push(r),this.Qt().Eh(this),r}Nh(e){const r=this.bh.indexOf(e);r!==-1&&this.bh.splice(r,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const e=this.Wh();return e===null?null:{Wt:e.Wt[3],Hh:e.wt}}Wh(){const e=this.Qt().Et().Pe();if(e===null)return null;const r=e.Uh();return this.Yt.Fr(r,1)}Xs(){return this.Yt}$h(e){const r=this.Yt.kr(e);return r===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:r.Wt[0],Yh:r.Wt[1],jh:r.Wt[2],Kh:r.Wt[3]}:r.Wt[3]}Xh(e){const r=[];b3(this.yh,y3,"top",r);const i=this.xh;return i!==null&&i.Vt()&&(this.Ph===null&&i.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),i.Se(),r.unshift(i)),r}Fs(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const r=this.bh.map(i=>i.lr());return e.push(...r),b3(this.yh,y3,"normal",e),e}Jh(){return this.Qh(y3,"bottom")}ta(e){return this.Qh(e$e,e)}ia(e){return this.Qh(t$e,e)}sa(e,r){return this.yh.map(i=>i.jn(e,r)).filter(i=>i!==null)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Ws(e,r){if(r!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const s of this.bh)i.push(s.ur());return this.yh.forEach(s=>{i.push(...s.Ws())}),i}cs(){const e=[];return this.yh.forEach(r=>{e.push(...r.cs())}),e}Mh(e,r){if(this.Ps.autoscaleInfoProvider!==void 0){const i=this.Ps.autoscaleInfoProvider(()=>{const s=this.na(e,r);return s===null?null:s.Xe()});return Gk.Ze(i)}return this.na(e,r)}nh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}ea(){return this.ra}Ns(){var e;this.sh.yt();for(const r of this.vs)r.yt();for(const r of this.bh)r.yt();this.er.yt(),this.Sh.yt(),(e=this.xh)==null||e.yt(),this.yh.forEach(r=>r.Ns())}Ft(){return dt(super.Ft())}At(e){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const r=this.Yt.kr(e);return r===null?null:{gt:r.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(e)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(e){this.yh.push(new ZFe(e,this))}ua(e){this.yh=this.yh.filter(r=>r.oh()!==e)}ca(){if(this.kh==="Custom")return e=>this.sh.da(e)}fa(){if(this.kh==="Custom")return e=>this.sh.pa(e)}va(){return this.Yt.qr()}Gh(){return!iE(this.Ft().ma())}na(e,r){if(!hw(e)||!hw(r)||this.Yt.Ki())return null;const i=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],s=this.Yt.Ur(e,r,i);let o=s!==null?new os(s.Jr,s.Qr):null,a=null;if(this.Rr()==="Histogram"){const l=this.Ps.base,c=new os(l,l);o=o!==null?o.vn(c):c}return this.yh.forEach(l=>{const c=l.Mh(e,r);if(c!=null&&c.priceRange){const u=new os(c.priceRange.minValue,c.priceRange.maxValue);o=o!==null?o.vn(u):u}c!=null&&c.margins&&(a=c.margins)}),new Gk(o,a)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(e){switch(this.kh){case"Line":case"Area":case"Baseline":{const r=this.Ps.crosshairMarkerBackgroundColor;if(r.length!==0)return r}}return this.Rh().Dr(e).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.ra={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(r=>r.map(e))};break}case"volume":this.ra=new IFe(this.Ps.priceFormat.precision);break;case"percent":this.ra=new ame(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new sE(e,this.Ps.priceFormat.minMove*e)}}this.es!==null&&this.es.wa()}Qh(e,r){const i=[];return b3(this.yh,e,r,i),i}}const r$e=[3],i$e=[0,1,2,3];class s$e{constructor(e){this.Ps=e}ga(e,r,i){let s=e;if(this.Ps.mode===0)return s;const o=i.ks(),a=o.zt();if(a===null)return s;const l=o.Nt(e,a),c=i.Ma().filter(d=>d instanceof oE).reduce((d,h)=>{if(i.Un(h)||!h.Vt())return d;const f=h.Ft(),p=h.Xs();if(f.Ki()||!p.Te(r))return d;const m=p.kr(r);if(m===null)return d;const b=vd(h.zt()),y=this.Ps.mode===3?i$e:r$e;return d.concat(y.map(v=>f.Nt(m.Wt[v],b.Wt)))},[]);if(c.length===0)return s;c.sort((d,h)=>Math.abs(d-l)-Math.abs(h-l));const u=c[0];return s=o.Ts(u,a),s}}function Qy(n,e,r){return Math.min(Math.max(n,e),r)}function u_(n,e,r){return e-n<=r}class o$e extends Cx{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null)return;const o=Math.max(1,Math.floor(i));e.lineWidth=o,function(a,l){a.save(),a.lineWidth%2&&a.translate(.5,.5),l(),a.restore()}(e,()=>{const a=dt(this.Yt);if(a.ba){e.strokeStyle=a.Sa,g0(e,a.xa),e.beginPath();for(const l of a.Ca){const c=Math.round(l.Pa*i);e.moveTo(c,-o),e.lineTo(c,r.height+o)}e.stroke()}if(a.ya){e.strokeStyle=a.ka,g0(e,a.Ta),e.beginPath();for(const l of a.Ra){const c=Math.round(l.Pa*s);e.moveTo(-o,c),e.lineTo(r.width+o,c)}e.stroke()}})}}class a$e{constructor(e){this.Gt=new o$e,this.xt=!0,this.Pt=e}yt(){this.xt=!0}Tt(){if(this.xt){const e=this.Pt.Qt().N().grid,r={ya:e.horzLines.visible,ba:e.vertLines.visible,ka:e.horzLines.color,Sa:e.vertLines.color,Ta:e.horzLines.style,xa:e.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map(i=>({Pa:i.coord}))};this.Gt.ht(r),this.xt=!1}return this.Gt}}class l$e{constructor(e){this.sh=new a$e(e)}lr(){return this.sh}}const v3={Va:4,Ba:1e-4};function jm(n,e){const r=100*(n-e)/e;return e<0?-r:r}function c$e(n,e){const r=jm(n.$e(),e),i=jm(n.qe(),e);return new os(r,i)}function Jy(n,e){const r=100*(n-e)/e+100;return e<0?-r:r}function u$e(n,e){const r=Jy(n.$e(),e),i=Jy(n.qe(),e);return new os(r,i)}function Kk(n,e){const r=Math.abs(n);if(r<1e-15)return 0;const i=Math.log10(r+e.Ba)+e.Va;return n<0?-i:i}function Zy(n,e){const r=Math.abs(n);if(r<1e-15)return 0;const i=Math.pow(10,r-e.Va)-e.Ba;return n<0?-i:i}function Hb(n,e){if(n===null)return null;const r=Kk(n.$e(),e),i=Kk(n.qe(),e);return new os(r,i)}function Bm(n,e){if(n===null)return null;const r=Zy(n.$e(),e),i=Zy(n.qe(),e);return new os(r,i)}function w3(n){if(n===null)return v3;const e=Math.abs(n.qe()-n.$e());if(e>=1||e<1e-15)return v3;const r=Math.ceil(Math.abs(Math.log10(e))),i=v3.Va+r;return{Va:i,Ba:1/Math.pow(10,i)}}class x3{constructor(e,r){if(this.Ia=e,this.Ea=r,function(i){if(i<0)return!1;if(i>1e18)return!0;for(let s=i;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let i=this.Ia;i!==1;){if(i%2==0)this.Aa.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),i/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(e,r,i){const s=this.Ia===0?0:1/this.Ia;let o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-r)))),a=0,l=this.Ea[0];for(;;){const h=u_(o,s,1e-14)&&o>s+1e-14,f=u_(o,i*l,1e-14),p=u_(o,1,1e-14);if(!(h&&f&&p))break;o/=l,l=this.Ea[++a%this.Ea.length]}if(o<=s+1e-14&&(o=s),o=Math.max(1,o),this.Aa.length>0&&(c=o,u=1,d=1e-14,Math.abs(c-u)<d))for(a=0,l=this.Aa[0];u_(o,i*l,1e-14)&&o>s+1e-14;)o/=l,l=this.Aa[++a%this.Aa.length];var c,u,d;return o}}let Dq=class{constructor(e,r,i,s){this.La=[],this.Yi=e,this.Ia=r,this.Oa=i,this.Na=s}za(e,r){if(e<r)throw new Error("high < low");const i=this.Yi.$t(),s=(e-r)*this.Fa()/i,o=new x3(this.Ia,[2,2.5,2]),a=new x3(this.Ia,[2,2,2.5]),l=new x3(this.Ia,[2.5,2,2]),c=[];return c.push(o.za(e,r,s),a.za(e,r,s),l.za(e,r,s)),function(u){if(u.length<1)throw Error("array is empty");let d=u[0];for(let h=1;h<u.length;++h)u[h]<d&&(d=u[h]);return d}(c)}Wa(){const e=this.Yi,r=e.zt();if(r===null)return void(this.La=[]);const i=e.$t(),s=this.Oa(i-1,r),o=this.Oa(0,r),a=this.Yi.N().entireTextOnly?this.Ha()/2:0,l=a,c=i-1-a,u=Math.max(s,o),d=Math.min(s,o);if(u===d)return void(this.La=[]);const h=this.za(u,d);if(this.Ua(r,h,u,d,l,c),e.$a()&&this.qa(h,d,u)){const m=this.Yi.Ya();this.ja(r,h,l,c,m,2*m)}const f=this.La.map(m=>m.Ka),p=this.Yi.Xa(f);for(let m=0;m<this.La.length;m++)this.La[m].Za=p[m]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(e,r,i,s,o,a){const l=this.La,c=this.Yi;let u=i%r;u+=u<0?r:0;const d=i>=s?1:-1;let h=null,f=0;for(let p=i-u;p>s;p-=r){const m=this.Na(p,e,!0);h!==null&&Math.abs(m-h)<this.Fa()||m<o||m>a||(f<l.length?(l[f].Pa=m,l[f].Za=c.Ga(p),l[f].Ka=p):l.push({Pa:m,Za:c.Ga(p),Ka:p}),f++,h=m,c.Ja()&&(r=this.za(p*d,s)))}l.length=f}ja(e,r,i,s,o,a){const l=this.La,c=this.Qa(e,i,o,a),u=this.Qa(e,s,-a,-o),d=this.Na(0,e,!0)-this.Na(r,e,!0);l.length>0&&l[0].Pa-c.Pa<d/2&&l.shift(),l.length>0&&u.Pa-l[l.length-1].Pa<d/2&&l.pop(),l.unshift(c),l.push(u)}Qa(e,r,i,s){const o=(i+s)/2,a=this.Oa(r+i,e),l=this.Oa(r+s,e),c=Math.min(a,l),u=Math.max(a,l),d=Math.max(.1,this.za(u,c)),h=this.Oa(r+o,e),f=h-h%d,p=this.Na(f,e,!0);return{Za:this.Yi.Ga(f),Pa:p,Ka:f}}qa(e,r,i){let s=vd(this.Yi.Qe());return this.Yi.Ja()&&(s=Bm(s,this.Yi.tl())),s.$e()-r<e&&i-s.qe()<e}};function fme(n){return n.slice().sort((e,r)=>dt(e.hs())-dt(r.hs()))}var Rq;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(Rq||(Rq={}));const Nq=new ame,jq=new sE(100,1);class d$e{constructor(e,r,i,s,o){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new Or,this.ul=new Or,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=jq,this.wl=w3(null),this.gl=e,this.Ps=r,this.Ml=i,this.bl=s,this.Sl=o,this.xl=new Dq(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(e){if(co(this.Ps,e),this.wa(),e.mode!==void 0&&this.yl({ie:e.mode}),e.scaleMargins!==void 0){const r=Rs(e.scaleMargins.top),i=Rs(e.scaleMargins.bottom);if(r<0||r>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${r}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(r+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${r+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(e){const r=this.ie();let i=null;e.sn!==void 0&&(this.Ps.autoScale=e.sn),e.ie!==void 0&&(this.Ps.mode=e.ie,e.ie!==2&&e.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),r.ie===1&&e.ie!==r.ie&&(function(o,a){if(o===null)return!1;const l=Zy(o.$e(),a),c=Zy(o.qe(),a);return isFinite(l)&&isFinite(c)}(this.Ge,this.wl)?(i=Bm(this.Ge,this.wl),i!==null&&this.Bl(i)):this.Ps.autoScale=!0),e.ie===1&&e.ie!==r.ie&&(i=Hb(this.Ge,this.wl),i!==null&&this.Bl(i));const s=r.ie!==this.Ps.mode;s&&(r.ie===2||this.Le())&&this.wa(),s&&(r.ie===3||this.Dl())&&this.wa(),e.Vl!==void 0&&r.Vl!==e.Vl&&(this.Ps.invertScale=e.Vl,this.Il()),this.ul.p(r,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(e){this.il!==e&&(this.il=e,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const e=this.$t()-this.Ll()-this.Ol();return this.sl=e,e}Qe(){return this.Nl(),this.Ge}Bl(e,r){const i=this.Ge;(r||i===null&&e!==null||i!==null&&!i.He(e))&&(this.pl=null,this.Ge=e)}Fl(e){this.Bl(e),this.Wl(e!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(e){return this.Vl()?e:this.$t()-1-e}Nt(e,r){return this.Le()?e=jm(e,r):this.Dl()&&(e=Jy(e,r)),this.Pl(e,r)}Ul(e,r,i){this.Nl();const s=this.Ol(),o=dt(this.Qe()),a=o.$e(),l=o.qe(),c=this.zl()-1,u=this.Vl(),d=c/(l-a),h=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.$l();for(let m=h;m<f;m++){const b=e[m],y=b.gt;if(isNaN(y))continue;let v=y;p!==null&&(v=p(b.gt,r));const w=s+d*(v-a),_=u?w:this.il-1-w;b.ut=_}}ql(e,r,i){this.Nl();const s=this.Ol(),o=dt(this.Qe()),a=o.$e(),l=o.qe(),c=this.zl()-1,u=this.Vl(),d=c/(l-a),h=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.$l();for(let m=h;m<f;m++){const b=e[m];let y=b.qh,v=b.Yh,w=b.jh,_=b.Kh;p!==null&&(y=p(b.qh,r),v=p(b.Yh,r),w=p(b.jh,r),_=p(b.Kh,r));let x=s+d*(y-a),S=u?x:this.il-1-x;b.Yl=S,x=s+d*(v-a),S=u?x:this.il-1-x,b.jl=S,x=s+d*(w-a),S=u?x:this.il-1-x,b.Kl=S,x=s+d*(_-a),S=u?x:this.il-1-x,b.Xl=S}}Ts(e,r){const i=this.Cl(e,r);return this.Zl(i,r)}Zl(e,r){let i=e;return this.Le()?i=function(s,o){return o<0&&(s=-s),s/100*o+o}(i,r):this.Dl()&&(i=function(s,o){return s-=100,o<0&&(s=-s),s/100*o+o}(i,r)),i}Ma(){return this.cl}Dt(){return this.fl||(this.fl=fme(this.cl)),this.fl}Gl(e){this.cl.indexOf(e)===-1&&(this.cl.push(e),this.wa(),this.Jl())}Ql(e){const r=this.cl.indexOf(e);if(r===-1)throw new Error("source is not attached to scale");this.cl.splice(r,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let e=null;for(const r of this.cl){const i=r.zt();i!==null&&(e===null||i.Hh<e.Hh)&&(e=i)}return e===null?null:e.Wt}Vl(){return this.Ps.invertScale}Da(){const e=this.zt()===null;if(this.pl!==null&&(e||this.pl.io===e))return this.pl.Da;this.xl.Wa();const r=this.xl.Da();return this.pl={Da:r,io:e},this._l.p(),r}so(){return this._l}no(e){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-e,this.nl=dt(this.Qe()).Ue()))}eo(e){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(e=this.il-e)<0&&(e=0);let r=(this.vl+.2*(this.il-1))/(e+.2*(this.il-1));const i=dt(this.nl).Ue();r=Math.max(r,.1),i.je(r),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(e){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=e,this.nl=dt(this.Qe()).Ue()))}ao(e){if(this.Tl()||this.ml===null)return;const r=dt(this.Qe()).Ye()/(this.zl()-1);let i=e-this.ml;this.Vl()&&(i*=-1);const s=i*r,o=dt(this.nl).Ue();o.Ke(s),this.Bl(o,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(e,r){switch(this.Ps.mode){case 2:return this.oo(jm(e,r));case 3:return this.ea().format(Jy(e,r));default:return this.nr(e)}}Ga(e){switch(this.Ps.mode){case 2:return this.oo(e);case 3:return this.ea().format(e);default:return this.nr(e)}}Xa(e){switch(this.Ps.mode){case 2:return this._o(e);case 3:return this.ea().formatTickmarks(e);default:return this.uo(e)}}Dh(e){return this.nr(e,dt(this.dl).ea())}Vh(e,r){return e=jm(e,r),this.oo(e,Nq)}co(){return this.cl}do(e){this.el={hl:e,rl:!1}}Ns(){this.cl.forEach(e=>e.Ns())}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let e=1/0;this.dl=null;for(const i of this.cl)i.hs()<e&&(e=i.hs(),this.dl=i);let r=100;this.dl!==null&&(r=Math.round(this.dl.nh())),this.ra=jq,this.Le()?(this.ra=Nq,r=100):this.Dl()?(this.ra=new sE(100,1),r=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new Dq(this,r,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(e){this.al=e}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(e,r){if(this.Nl(),this.Ki())return 0;e=this.Ja()&&e?Kk(e,this.wl):e;const i=dt(this.Qe()),s=this.Ol()+(this.zl()-1)*(e-i.$e())/i.Ye();return this.Hl(s)}Cl(e,r){if(this.Nl(),this.Ki())return 0;const i=this.Hl(e),s=dt(this.Qe()),o=s.$e()+s.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?Zy(o,this.wl):o}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const e=this.el.hl;if(e===null)return;let r=null;const i=this.co();let s=0,o=0;for(const c of i){if(!c.Vt())continue;const u=c.zt();if(u===null)continue;const d=c.Mh(e.Uh(),e.bi());let h=d&&d.Qe();if(h!==null){switch(this.Ps.mode){case 1:h=Hb(h,this.wl);break;case 2:h=c$e(h,u.Wt);break;case 3:h=u$e(h,u.Wt)}if(r=r===null?h:r.vn(dt(h)),d!==null){const f=d.tr();f!==null&&(s=Math.max(s,f.above),o=Math.max(o,f.below))}}}if(this.$a()&&(s=Math.max(s,this.Ya()),o=Math.max(o,this.Ya())),s===this.ll&&o===this.ol||(this.ll=s,this.ol=o,this.pl=null,this.kl()),r!==null){if(r.$e()===r.qe()){const c=5*this.fo();this.Ja()&&(r=Bm(r,this.wl)),r=new os(r.$e()-c,r.qe()+c),this.Ja()&&(r=Hb(r,this.wl))}if(this.Ja()){const c=Bm(r,this.wl),u=w3(c);if(a=u,l=this.wl,a.Va!==l.Va||a.Ba!==l.Ba){const d=this.nl!==null?Bm(this.nl,this.wl):null;this.wl=u,r=Hb(c,u),d!==null&&(this.nl=Hb(d,u))}}this.Bl(r)}else this.Ge===null&&(this.Bl(new os(-.5,.5)),this.wl=w3(null));var a,l}$l(){return this.Le()?jm:this.Dl()?Jy:this.Ja()?e=>Kk(e,this.wl):null}vo(e,r,i){return r===void 0?(i===void 0&&(i=this.ea()),i.format(e)):r(e)}mo(e,r,i){return r===void 0?(i===void 0&&(i=this.ea()),i.formatTickmarks(e)):r(e)}nr(e,r){return this.vo(e,this.bl.priceFormatter,r)}uo(e,r){const i=this.bl.priceFormatter;return this.mo(e,this.bl.tickmarksPriceFormatter??(i?s=>s.map(i):void 0),r)}oo(e,r){return this.vo(e,this.bl.percentageFormatter,r)}_o(e,r){const i=this.bl.percentageFormatter;return this.mo(e,this.bl.tickmarksPercentageFormatter??(i?s=>s.map(i):void 0),r)}}function Bq(n){return n instanceof oE}class Lq{constructor(e,r){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new Or,this.yh=[],this.uh=e,this.ts=r,this.Co=new l$e(this);const i=r.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(e){if(e.leftPriceScale&&this.Po.hr(e.leftPriceScale),e.rightPriceScale&&this.ko.hr(e.rightPriceScale),e.localization&&(this.Po.wa(),this.ko.wa()),e.overlayPriceScales){const r=Array.from(this.wo.values());for(const i of r){const s=dt(i[0].Ft());s.hr(e.overlayPriceScales),e.localization&&s.wa()}}}Do(e){switch(e){case"left":return this.Po;case"right":return this.ko}return this.wo.has(e)?Rs(this.wo.get(e))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach(e=>{e.m&&e.m()}),this.yh=this.yh.filter(e=>{const r=e.oh();return r.detached&&r.detached(),!1}),this.xo.p()}Bo(){return this.bo}Io(e){this.bo=e}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(e){this.Mo=e,this.Ao()}Al(e){this.il=e,this.Po.Al(e),this.ko.Al(e),this.cl.forEach(r=>{if(this.Un(r)){const i=r.Ft();i!==null&&i.Al(e)}}),this.Ao()}zo(e){this.So=e}Lo(){return this.So}Oo(){return this.cl.filter(Bq)}Ma(){return this.cl}Un(e){const r=e.Ft();return r===null||this.Po!==r&&this.ko!==r}Gl(e,r,i){this.No(e,r,i?e.hs():this.cl.length)}Ql(e,r){const i=this.cl.indexOf(e);mi(i!==-1,"removeDataSource: invalid data source"),this.cl.splice(i,1),r||this.cl.forEach((a,l)=>a.ls(l));const s=dt(e.Ft()).ma();if(this.wo.has(s)){const a=Rs(this.wo.get(s)),l=a.indexOf(e);l!==-1&&(a.splice(l,1),a.length===0&&this.wo.delete(s))}const o=e.Ft();o&&o.Ma().indexOf(e)>=0&&(o.Ql(e),this.Fo(o)),this.fl=null}qn(e){return e===this.Po?"left":e===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(e,r){e.no(r)}$o(e,r){e.eo(r),this.Ao()}qo(e){e.ro()}Yo(e,r){e.ho(r)}jo(e,r){e.ao(r),this.Ao()}Ko(e){e.lo()}Ao(){this.cl.forEach(e=>{e.Ns()})}ks(){let e=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?e=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?e=this.Po:this.cl.length!==0&&(e=this.cl[0].Ft()),e===null&&(e=this.ko),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.ko:this.ts.N().leftPriceScale.visible&&(e=this.Po),e}Fo(e){e!==null&&e.Tl()&&this.Xo(e)}Zo(e){const r=this.uh.Pe();e.yl({sn:!0}),r!==null&&e.do(r),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach(e=>{this.Un(e)&&this.Fo(e.Ft())}),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=fme(this.cl)),this.fl}Qo(e,r){r=Qy(r,0,this.cl.length-1);const i=this.cl.indexOf(e);mi(i!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(r,0,e),this.cl.forEach((s,o)=>s.ls(o)),this.fl=null;for(const s of[this.Po,this.ko])s.Jl(),s.wa();this.ts.ar()}Bt(){return this.Dt().filter(Bq)}t_(){return this.xo}i_(){return this.Co}_a(e){this.yh.push(new KFe(e))}ua(e){this.yh=this.yh.filter(r=>r.oh()!==e),e.detached&&e.detached(),this.ts.ar()}s_(){return this.yh}sa(e,r){return this.yh.map(i=>i.jn(e,r)).filter(i=>i!==null)}Xo(e){const r=e.co();if(r&&r.length>0&&!this.uh.Ki()){const i=this.uh.Pe();i!==null&&e.do(i)}e.Ns()}No(e,r,i){let s=this.Do(r);if(s===null&&(s=this.yo(r,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,e),!iE(r)){const o=this.wo.get(r)||[];o.push(e),this.wo.set(r,o)}e.ls(i),s.Gl(e),e._s(s),this.Fo(s),this.fl=null}To(e,r,i){r.ie!==i.ie&&this.Xo(e)}yo(e,r){const i={visible:!0,autoScale:!0,...jc(r)},s=new d$e(e,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return s.Al(this.$t()),s}}function d_(n){return{n_:n.n_,e_:{Kn:n.r_.externalId},h_:n.r_.cursorStyle}}function h$e(n,e,r,i){for(const s of n){const o=s.Tt(i);if(o!==null&&o.jn){const a=o.jn(e,r);if(a!==null)return{a_:s,e_:a}}}return null}function f$e(n){return n.Fs!==void 0}function pme(n,e,r){const i=[n,...n.Dt()],s=function(o,a,l){var f;let c,u;for(const p of o){const m=((f=p.sa)==null?void 0:f.call(p,a,l))??[];for(const b of m)d=b.zOrder,h=c==null?void 0:c.zOrder,(!h||d==="top"&&h!=="top"||d==="normal"&&h==="bottom")&&(c=b,u=p)}var d,h;return c&&u?{r_:c,n_:u}:null}(i,e,r);if((s==null?void 0:s.r_.zOrder)==="top")return d_(s);for(const o of i){if(s&&s.n_===o&&s.r_.zOrder!=="bottom"&&!s.r_.isBackground)return d_(s);if(f$e(o)){const a=h$e(o.Fs(n),e,r,n);if(a!==null)return{n_:o,a_:a.a_,e_:a.e_}}if(s&&s.n_===o&&s.r_.zOrder!=="bottom"&&s.r_.isBackground)return d_(s)}return s!=null&&s.r_?d_(s):null}class p$e{constructor(e,r,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=e,this.o_=r,this.Vn=i}__(e){const r=e.time,i=this.o_.cacheKey(r),s=this.Dn.get(i);if(s!==void 0)return s.u_;if(this.yn===this.Vn){const a=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Rs(a)),this.Tn++,this.yn--}const o=this.l_(e);return this.Dn.set(i,{u_:o,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,o}}class ev{constructor(e,r){mi(e<=r,"right should be >= left"),this.c_=e,this.d_=r}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(e){return this.c_<=e&&e<=this.d_}He(e){return this.c_===e.Uh()&&this.d_===e.bi()}}function Fq(n,e){return n===null||e===null?n===e:n.He(e)}class m$e{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(e){this.v_=e,this.Dn=null}w_(e,r){this.g_(r),this.Dn=null;for(let i=r;i<e.length;++i){const s=e[i];let o=this.p_.get(s.timeWeight);o===void 0&&(o=[],this.p_.set(s.timeWeight,o)),o.push({index:i,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}M_(e,r,i,s,o){const a=Math.ceil(r/e);return this.Dn!==null&&this.Dn.b_===a&&o===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:o,x_:i,Da:this.C_(a,i,s),b_:a}),this.Dn.Da}g_(e){if(e===0)return void this.p_.clear();const r=[];this.p_.forEach((i,s)=>{e<=i[0].index?r.push(s):i.splice(y0(i,e,o=>o.index<e),1/0)});for(const i of r)this.p_.delete(i)}C_(e,r,i){let s=[];const o=a=>!r||i.has(a.index);for(const a of Array.from(this.p_.keys()).sort((l,c)=>c-l)){if(!this.p_.get(a))continue;const l=s;s=[];const c=l.length;let u=0;const d=Rs(this.p_.get(a)),h=d.length;let f=1/0,p=-1/0;for(let m=0;m<h;m++){const b=d[m],y=b.index;for(;u<c;){const v=l[u],w=v.index;if(!(w<y&&o(v))){f=w;break}u++,s.push(v),p=w,f=1/0}if(f-y>=e&&y-p>=e&&o(b))s.push(b),p=y;else if(this.v_)return l}for(;u<c;u++)o(l[u])&&s.push(l[u])}return s}}class ig{constructor(e){this.P_=e}y_(){return this.P_===null?null:new ev(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new ig(null)}}function g$e(n,e){return n.weight>e.weight?n:e}class b$e{constructor(e,r,i,s){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new m$e,this.B_=new Map,this.I_=ig.T_(),this.E_=!0,this.A_=new Or,this.z_=new Or,this.L_=new Or,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=r,this.bl=i,this.U_=r.rightOffset,this.q_=r.barSpacing,this.ts=e,this.Y_(r),this.o_=s,this.j_(),this.V_.m_(r.uniformDistribution),this.K_()}N(){return this.Ps}X_(e){co(this.bl,e),this.Z_(),this.j_()}hr(e,r){co(this.Ps,e),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),e.barSpacing!==void 0&&this.ts.dn(e.barSpacing),e.rightOffset!==void 0&&this.ts.fn(e.rightOffset),this.Y_(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ts.dn(e.barSpacing??this.q_),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(e){var r;return((r=this.D_[e])==null?void 0:r.time)??null}ss(e){return this.D_[e]??null}Q_(e,r){if(this.D_.length<1)return null;if(this.o_.key(e)>this.o_.key(this.D_[this.D_.length-1].time))return r?this.D_.length-1:null;const i=y0(this.D_,this.o_.key(e),(s,o)=>this.o_.key(s.time)<o);return this.o_.key(e)<this.o_.key(this.D_[i].time)?r?i:null:i}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const e=this.Pe();if(e===null)return null;const r={from:e.Uh(),to:e.bi()};return this.eu(r)}eu(e){const r=Math.round(e.from),i=Math.round(e.to),s=dt(this.ru()),o=dt(this.hu());return{from:dt(this.ss(Math.max(s,r))),to:dt(this.ss(Math.min(o,i)))}}au(e){return{from:dt(this.Q_(e.from,!0)),to:dt(this.Q_(e.to,!0))}}Qi(){return this.Mo}Eo(e){if(!isFinite(e)||e<=0||this.Mo===e)return;const r=this.su(),i=this.Mo;if(this.Mo=e,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&i!==0){const s=this.q_*e/i;this.q_=s}if(this.Ps.fixLeftEdge&&r!==null&&r.Uh()<=0){const s=i-e;this.U_-=Math.round(s/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(e){if(this.Ki()||!hw(e))return 0;const r=this._u()+this.U_-e;return this.Mo-(r+.5)*this.q_-1}uu(e,r){const i=this._u(),s=r===void 0?0:r.from,o=r===void 0?e.length:r.to;for(let a=s;a<o;a++){const l=e[a].wt,c=i+this.U_-l,u=this.Mo-(c+.5)*this.q_-1;e[a]._t=u}}cu(e,r){const i=Math.ceil(this.du(e));return r&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(e){this.E_=!0,this.U_=e,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(e){const r=this.q_;if(this.wu(e),this.Ps.rightOffsetPixels!==void 0&&r!==0){const i=this.U_*r/this.q_;this.U_=i}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const e=this.q_,r=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(r/e),s=dt(this.Pe()),o=Math.max(s.Uh(),s.Uh()-i),a=Math.max(s.bi(),s.bi()-i),l=this.V_.M_(e,r,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),c=this.ru()+i,u=this.hu()-i,d=this.Mu(),h=this.Ps.fixLeftEdge||d,f=this.Ps.fixRightEdge||d;let p=0;for(const m of l){if(!(o<=m.index&&m.index<=a))continue;let b;p<this.H_.length?(b=this.H_[p],b.coord=this.qt(m.index),b.label=this.bu(m),b.weight=m.weight):(b={needAlignCoordinate:!1,coord:this.qt(m.index),label:this.bu(m),weight:m.weight},this.H_.push(b)),this.q_>r/2&&!d?b.needAlignCoordinate=!1:b.needAlignCoordinate=h&&m.index<=c||f&&m.index>=u,p++}return this.H_.length=p,this.N_=this.H_,this.H_}Su(){let e;this.E_=!0,this.dn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(e)}xu(e){this.E_=!0,this.R_=e,this.ou(),this.G_()}Cu(e,r){const i=this.du(e),s=this.mu(),o=s+r*(s/10);this.dn(o),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(e)))}no(e){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=e,this.Pu()))}eo(e){if(this.O_===null)return;const r=Qy(this.Mo-e,0,this.Mo),i=Qy(this.Mo-dt(this.vl),0,this.Mo);r!==0&&i!==0&&this.dn(this.O_.mu*r/i)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(e){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=e,this.Pu()))}ao(e){if(this.ml===null)return;const r=(this.ml-e)/this.mu();this.U_=dt(this.O_).gu+r,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(e,r=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(r)||r<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,s=performance.now();this.ts._n({Ru:o=>(o-s)/r>=1,Du:o=>{const a=(o-s)/r;return a>=1?e:i+(e-i)*a}})}yt(e,r){this.E_=!0,this.D_=e,this.V_.w_(e,r),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(e,r){const i=e.f_(),s=r&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-s)/i),this.U_=e.bi()-this._u(),r&&(this.U_=s?s/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const e=this.ru(),r=this.hu();e!==null&&r!==null&&this.Eu(new ev(e,r),!0)}zu(e){const r=new ev(e.from,e.to);this.Eu(r)}ns(e){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(e.originalTime):this.o_.formatHorzItem(e.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const e=this.ts.js();for(const r of e)for(const i of r.va())this.F_.set(i,!0);this.W_++}Mu(){const e=this.ts.N().handleScroll,r=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||r.axisDoubleClickReset.time||r.axisPressedMouseMove.time||r.mouseWheel||r.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(e){return(this.Mo-1-e)/this.q_}du(e){const r=this.Lu(e),i=this._u()+this.U_-r;return Math.round(1e6*i)/1e6}wu(e){const r=this.q_;this.q_=e,this.lu(),r!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(ig.T_());const e=this._u(),r=this.Mo/this.q_,i=this.U_+e,s=new ev(i-r+1,i);this.Nu(new ig(s))}lu(){const e=Qy(this.q_,this.Fu(),this.Wu());this.q_!==e&&(this.q_=e,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const e=this.Hu();e!==null&&this.U_<e&&(this.U_=e,this.E_=!0);const r=this.Uu();this.U_>r&&(this.U_=r,this.E_=!0)}Hu(){const e=this.ru(),r=this.R_;return e===null||r===null?null:e-r-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(e){let r=this.B_.get(e.weight);return r===void 0&&(r=new p$e(i=>this.$u(i),this.o_),this.B_.set(e.weight,r)),r.__(e)}$u(e){return this.o_.formatTickmark(e,this.bl)}Nu(e){const r=this.I_;this.I_=e,Fq(r.y_(),this.I_.y_())||this.A_.p(),Fq(r.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const e=this.ru();if(e===null)return;const r=this.Pe();if(r===null)return;const i=r.Uh()-e;if(i<0){const s=this.U_-i-1;this.fn(s)}this.lu()}J_(){this.ou(),this.lu()}fu(e){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(e)||!1}pu(e){const r=function*(s){const o=Math.round(s),a=o<s;let l=1;for(;;)a?(yield o+l,yield o-l):(yield o-l,yield o+l),l++}(e),i=this.hu();for(;i;){const s=r.next().value;if(this.F_.get(s))return s;if(s<0||s>i)break}return e}Y_(e){if(e.rightOffsetPixels!==void 0){const r=e.rightOffsetPixels/(e.barSpacing||this.q_);this.ts.fn(r)}}}var $q,zq,Uq,Wq,qq;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})($q||($q={}));class y$e{constructor(e,r,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new Or,this.Xu=new Or,this.Zu=null,this.Gu=e,this.Ps=r,this.o_=i,this.Sl=new yFe(this.Ps.layout.colorParsers),this.Ju=new bFe(this),this.uh=new b$e(this,r.timeScale,this.Ps.localization,i),this.Ct=new PFe(this,r.crosshair),this.Qu=new s$e(r.crosshair),r.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(bs.gn())}ar(){this.rc(bs.wn())}Zh(){this.rc(new bs(1))}Eh(e){const r=this.hc(e);this.rc(r)}ac(){return this.ju}lc(e){var i,s,o,a;if(((i=this.ju)==null?void 0:i.n_)===(e==null?void 0:e.n_)&&((o=(s=this.ju)==null?void 0:s.e_)==null?void 0:o.Kn)===((a=e==null?void 0:e.e_)==null?void 0:a.Kn))return;const r=this.ju;this.ju=e,r!==null&&this.Eh(r.n_),e!==null&&e.n_!==(r==null?void 0:r.n_)&&this.Eh(e.n_)}N(){return this.Ps}hr(e){co(this.Ps,e),this.qu.forEach(r=>r.Ro(e)),e.timeScale!==void 0&&this.uh.hr(e.timeScale),e.localization!==void 0&&this.uh.X_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(e,r,i=0){const s=this.qu[i];if(s===void 0)return;if(e==="left")return co(this.Ps,{leftPriceScale:r}),s.Ro({leftPriceScale:r}),this.Ku.p(),void this.Ih();if(e==="right")return co(this.Ps,{rightPriceScale:r}),s.Ro({rightPriceScale:r}),this.Ku.p(),void this.Ih();const o=this._c(e,i);o!==null&&(o.Ft.hr(r),this.Ku.p())}_c(e,r){const i=this.qu[r];if(i===void 0)return null;const s=i.Do(e);return s!==null?{Us:i,Ft:s}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(e,r){e.Al(r),this.vu()}Eo(e){this.Mo=e,this.uh.Eo(this.Mo),this.qu.forEach(r=>r.Eo(e)),this.vu()}fc(e){this.qu.length!==1&&(mi(e>=0&&e<this.qu.length,"Invalid pane index"),this.qu.splice(e,1),this.Ih())}vc(e,r){if(this.qu.length<2)return;mi(e>=0&&e<this.qu.length,"Invalid pane index");const i=this.qu[e],s=this.qu.reduce((h,f)=>h+f.Bo(),0),o=this.qu.reduce((h,f)=>h+f.$t(),0),a=o-30*(this.qu.length-1);r=Math.min(a,Math.max(30,r));const l=s/o,c=i.$t();i.Io(r*l);let u=r-c,d=this.qu.length-1;for(const h of this.qu)if(h!==i){const f=Math.min(a,Math.max(30,h.$t()-u/d));u-=h.$t()-f,d-=1;const p=f*l;h.Io(p)}this.Ih()}mc(e,r){mi(e>=0&&e<this.qu.length&&r>=0&&r<this.qu.length,"Invalid pane index");const i=this.qu[e],s=this.qu[r];this.qu[e]=s,this.qu[r]=i,this.Ih()}wc(e,r){if(mi(e>=0&&e<this.qu.length&&r>=0&&r<this.qu.length,"Invalid pane index"),e===r)return;const[i]=this.qu.splice(e,1);this.qu.splice(r,0,i),this.Ih()}Uo(e,r,i){e.Uo(r,i)}$o(e,r,i){e.$o(r,i),this.Ah(),this.rc(this.gc(e,2))}qo(e,r){e.qo(r),this.rc(this.gc(e,2))}Yo(e,r,i){r.Tl()||e.Yo(r,i)}jo(e,r,i){r.Tl()||(e.jo(r,i),this.Ah(),this.rc(this.gc(e,2)))}Ko(e,r){r.Tl()||(e.Ko(r),this.rc(this.gc(e,2)))}Zo(e,r){e.Zo(r),this.rc(this.gc(e,2))}Mc(e){this.uh.no(e)}bc(e,r){const i=this.Et();if(i.Ki()||r===0)return;const s=i.Qi();e=Math.max(1,Math.min(e,s)),i.Cu(e,r),this.vu()}Sc(e){this.xc(0),this.Cc(e),this.Pc()}yc(e){this.uh.eo(e),this.vu()}kc(){this.uh.ro(),this.ar()}xc(e){this.uh.ho(e)}Cc(e){this.uh.ao(e),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(e,r,i,s,o){this.Ct.Vs(e,r);let a=NaN,l=this.uh.cu(e,!0);const c=this.uh.Pe();c!==null&&(l=Math.min(Math.max(c.Uh(),l),c.bi()));const u=s.ks(),d=u.zt();if(d!==null&&(a=u.Ts(r,d)),a=this.Qu.ga(a,l,s),this.Ct.As(l,a,s),this.Zh(),!o){const h=pme(s,e,r);this.lc(h&&{n_:h.n_,e_:h.e_,h_:h.h_||null}),this.Xu.p(this.Ct.It(),{x:e,y:r},i)}}Rc(e,r,i){const s=i.ks(),o=s.zt(),a=s.Nt(e,dt(o)),l=this.uh.Q_(r,!0),c=this.uh.qt(dt(l));this.Tc(c,a,null,i,!0)}Dc(e){this.uc().Ls(),this.Zh(),e||this.Xu.p(null,null,null)}Ah(){const e=this.Ct.Us();if(e!==null){const r=this.Ct.Is(),i=this.Ct.Es();this.Tc(r,i,null,e)}this.Ct.Ns()}Vc(e,r,i){const s=this.uh.Rs(0);r!==void 0&&i!==void 0&&this.uh.yt(r,i);const o=this.uh.Rs(0),a=this.uh._u(),l=this.uh.Pe();if(l!==null&&s!==null&&o!==null){const c=l.Te(a),u=this.o_.key(s)>this.o_.key(o),d=e!==null&&e>a&&!u,h=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,f=c&&(i!==void 0||h)&&this.uh.N().shiftVisibleRangeOnNewBar;if(d&&!f){const p=e-a;this.uh.fn(this.uh.gu()-p)}}this.uh.xu(e)}Lh(e){e!==null&&e.Jo()}Hn(e){if(function(i){return i instanceof Lq}(e))return e;const r=this.qu.find(i=>i.Dt().includes(e));return r===void 0?null:r}vu(){this.qu.forEach(e=>e.Jo()),this.Ah()}m(){this.qu.forEach(e=>e.m()),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(e,r){const i=this.tc(r);this.Ec(e,i),this.Yu.push(e),this.Yu.length===1?this.Ih():this.ar()}Ac(e){const r=this.Hn(e),i=this.Yu.indexOf(e);mi(i!==-1,"Series not found");const s=dt(r);this.Yu.splice(i,1),s.Ql(e),e.m&&e.m(),this.uh.K_(),this.zc(s)}Bh(e,r){const i=dt(this.Hn(e));i.Ql(e,!0),i.Gl(e,r,!0)}Au(){const e=bs.wn();e.rn(),this.rc(e)}Lc(e){const r=bs.wn();r.ln(e),this.rc(r)}cn(){const e=bs.wn();e.cn(),this.rc(e)}dn(e){const r=bs.wn();r.dn(e),this.rc(r)}fn(e){const r=bs.wn();r.fn(e),this.rc(r)}_n(e){const r=bs.wn();r._n(e),this.rc(r)}hn(){const e=bs.wn();e.hn(),this.rc(e)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(e,r){if(mi(r>=0,"Index should be greater or equal to 0"),r===this.Fc(e))return;const i=dt(this.Hn(e));i.Ql(e);const s=this.tc(r);this.Ec(e,s),i.Ma().length===0&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(e){const r=this.ec,i=this.sc;if(r===i)return r;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Zu===null||this.Zu.mr!==i||this.Zu.wr!==r)this.Zu={mr:i,wr:r,Hc:new Map};else{const o=this.Zu.Hc.get(e);if(o!==void 0)return o}const s=this.Sl.tt(i,r,e/100);return this.Zu.Hc.set(e,s),s}Uc(e){return this.qu.indexOf(e)}Xi(){return this.Sl}$c(){return this.qc()}qc(e){const r=new Lq(this.uh,this);this.qu.push(r);const i=e??this.qu.length-1,s=bs.gn();return s.Qs(i,{tn:0,sn:!0}),this.rc(s),r}tc(e){return mi(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.qu.length,e))<this.qu.length?this.qu[e]:this.qc(e)}Fc(e){return this.qu.findIndex(r=>r.Oo().includes(e))}gc(e,r){const i=new bs(r);if(e!==null){const s=this.qu.indexOf(e);i.Qs(s,{tn:r})}return i}hc(e,r){return r===void 0&&(r=2),this.gc(this.Hn(e),r)}rc(e){this.Gu&&this.Gu(e),this.qu.forEach(r=>r.i_().lr().yt())}Ec(e,r){const i=e.N().priceScaleId,s=i!==void 0?i:this.Oc();r.Gl(e,s),iE(s)||e.hr(e.N())}nc(e){const r=this.Ps.layout;return r.background.type==="gradient"?e===0?r.background.topColor:r.background.bottomColor:r.background.color}zc(e){!e.Lo()&&e.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(e),1)}}function mme(n){if(n>=1)return 0;let e=0;for(;e<8;e++){const r=Math.round(n);if(Math.abs(r-n)<1e-8)return e;n*=10}return e}function l4(n){return!b0(n)&&!kx(n)}function gme(n){return b0(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(zq||(zq={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(Uq||(Uq={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(Wq||(Wq={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(qq||(qq={}));const Hq=n=>n.getUTCFullYear();function v$e(n,e,r){return e.replace(/yyyy/g,(i=>Bc(Hq(i),4))(n)).replace(/yy/g,(i=>Bc(Hq(i)%100,2))(n)).replace(/MMMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(n,r)).replace(/MMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(n,r)).replace(/MM/g,(i=>Bc((s=>s.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>Bc((s=>s.getUTCDate())(i),2))(n))}class bme{constructor(e="yyyy-MM-dd",r="default"){this.Yc=e,this.jc=r}__(e){return v$e(e,this.Yc,this.jc)}}class w$e{constructor(e){this.Kc=e||"%h:%m:%s"}__(e){return this.Kc.replace("%h",Bc(e.getUTCHours(),2)).replace("%m",Bc(e.getUTCMinutes(),2)).replace("%s",Bc(e.getUTCSeconds(),2))}}const x$e={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class _$e{constructor(e={}){const r={...x$e,...e};this.Qc=new bme(r.Xc,r.Jc),this.td=new w$e(r.Zc),this.sd=r.Gc}__(e){return`${this.Qc.__(e)}${this.sd}${this.td.__(e)}`}}function h_(n){return 60*n*60*1e3}function _3(n){return 60*n*1e3}const f_=[{nd:(Vq=1,1e3*Vq),ed:10},{nd:_3(1),ed:20},{nd:_3(5),ed:21},{nd:_3(30),ed:22},{nd:h_(1),ed:30},{nd:h_(3),ed:31},{nd:h_(6),ed:32},{nd:h_(12),ed:33}];var Vq;function Gq(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let r=f_.length-1;r>=0;--r)if(Math.floor(e.getTime()/f_[r].nd)!==Math.floor(n.getTime()/f_[r].nd))return f_[r].ed;return 0}function S3(n){let e=n;if(kx(n)&&(e=j9(n)),!l4(e))throw new Error("time must be of type BusinessDay");const r=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{rd:Math.round(r.getTime()/1e3),hd:e}}function Yq(n){if(!gme(n))throw new Error("time must be of type isUTCTimestamp");return{rd:n}}function j9(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Kq(n){kx(n.time)&&(n.time=j9(n.time))}let Xq=class{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(r){r.forEach(Kq)}(e):Kq(e)}createConverterToInternalObj(e){return dt(function(r){return r.length===0?null:l4(r[0].time)||kx(r[0].time)?S3:Yq}(e))}key(e){return typeof e=="object"&&"rd"in e?e.rd:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const r=e;return r.hd===void 0?new Date(1e3*r.rd).getTime():new Date(Date.UTC(r.hd.year,r.hd.month-1,r.hd.day)).getTime()}convertHorzItemToInternal(e){return gme(r=e)?Yq(r):l4(r)?S3(r):S3(j9(r));var r}updateFormatter(e){if(!this.Ps)return;const r=e.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new _$e({Xc:r,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:e.locale}):this.ad=new bme(r,e.locale)}formatHorzItem(e){const r=e;return this.ad.__(new Date(1e3*r.rd))}formatTickmark(e,r){const i=function(o,a,l){switch(o){case 0:case 10:return a?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return a?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),s=this.Ps.timeScale;if(s.tickMarkFormatter!==void 0){const o=s.tickMarkFormatter(e.originalTime,i,r.locale);if(o!==null)return o}return function(o,a,l){const c={};switch(a){case 0:c.year="numeric";break;case 1:c.month="short";break;case 2:c.day="numeric";break;case 3:c.hour12=!1,c.hour="2-digit",c.minute="2-digit";break;case 4:c.hour12=!1,c.hour="2-digit",c.minute="2-digit",c.second="2-digit"}const u=o.hd===void 0?new Date(1e3*o.rd):new Date(Date.UTC(o.hd.year,o.hd.month-1,o.hd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,c)}(e.time,i,r.locale)}maxTickMarkWeight(e){let r=e.reduce(g$e,e[0]).weight;return r>30&&r<50&&(r=30),r}fillWeightsForPoints(e,r){(function(i,s=0){if(i.length===0)return;let o=s===0?null:i[s-1].time.rd,a=o!==null?new Date(1e3*o):null,l=0;for(let c=s;c<i.length;++c){const u=i[c],d=new Date(1e3*u.time.rd);a!==null&&(u.timeWeight=Gq(d,a)),l+=u.time.rd-(o||u.time.rd),o=u.time.rd,a=d}if(s===0&&i.length>1){const c=Math.ceil(l/(i.length-1)),u=new Date(1e3*(i[0].time.rd-c));i[0].timeWeight=Gq(new Date(1e3*i[0].time.rd),u)}})(e,r)}static ld(e){return co({localization:{dateFormat:"dd MMM 'yy"}},e??{})}};const v0=typeof window<"u";function Qq(){return!!v0&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function k3(){return!!v0&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function c4(n){return n+n%2}function S$e(n){v0&&window.chrome!==void 0&&n.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class aE{constructor(e,r,i){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!k3(),this.Ld=s=>{this.Od(s)},this.Nd=s=>{if(this.Fd(s)){const o=this.Wd(s);if(++this.dd,this.fd&&this.dd>1){const{Hd:a}=this.Ud(nl(s),this.pd);a<30&&!this.Sd&&this.$d(o,this.Yd.qd),this.jd()}}else{const o=this.Wd(s);if(++this.od,this._d&&this.od>1){const{Hd:a}=this.Ud(nl(s),this.ud);a<5&&!this.bd&&this.Kd(o,this.Yd.Xd),this.Zd()}}},this.Gd=e,this.Yd=r,this.Ps=i,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(e){this.yd&&this.yd();const r=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",r)},this.Gd.addEventListener("mousemove",r),this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(e){if(this.Id||this.gd!==null||this.Fd(e))return;const r=this.Wd(e);this.Kd(r,this.Yd.nf),this.zd=!0}ef(e){const r=C3(e.changedTouches,dt(this.Ad));if(r===null||(this.Ed=p_(e),this.Rd!==null)||this.Bd)return;this.Vd=!0;const i=this.Ud(nl(r),dt(this.gd)),{rf:s,hf:o,Hd:a}=i;if(this.Md||!(a<5)){if(!this.Md){const l=.5*s,c=o>=l&&!this.Ps.af(),u=l>o&&!this.Ps.lf();c||u||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const l=this.Wd(e,r);this.$d(l,this.Yd._f),tm(e)}}}uf(e){if(e.button!==0)return;const r=this.Ud(nl(e),dt(this.wd)),{Hd:i}=r;if(i>=5&&(this.bd=!0,this.Zd()),this.bd){const s=this.Wd(e);this.Kd(s,this.Yd.cf)}}Ud(e,r){const i=Math.abs(r._t-e._t),s=Math.abs(r.ut-e.ut);return{rf:i,hf:s,Hd:i+s}}df(e){let r=C3(e.changedTouches,dt(this.Ad));if(r===null&&e.touches.length===0&&(r=e.changedTouches[0]),r===null)return;this.Ad=null,this.Ed=p_(e),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const i=this.Wd(e,r);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:s}=this.Ud(nl(r),this.pd);s<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&tm(e));this.dd===0&&tm(e),e.touches.length===0&&this.md&&(this.md=!1,tm(e))}Od(e){if(e.button!==0)return;const r=this.Wd(e);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),Qq()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(e))if(this.Kd(r,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:i}=this.Ud(nl(e),this.ud);i<5&&!this.bd&&this.Kd(r,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(r,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(e){if(this.Ad!==null)return;const r=e.changedTouches[0];this.Ad=r.identifier,this.Ed=p_(e);const i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=nl(r),this.Td&&(this.Td(),this.Td=null);{const o=this.ef.bind(this),a=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",o),i.removeEventListener("touchend",a)},i.addEventListener("touchmove",o,{passive:!1}),i.addEventListener("touchend",a,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,e),240)}const s=this.Wd(e,r);this.$d(s,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=nl(r))}bf(e){if(e.button!==0)return;const r=this.Gd.ownerDocument.documentElement;Qq()&&r.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=nl(e),this.kd&&(this.kd(),this.kd=null);{const s=this.uf.bind(this),o=this.Od.bind(this);this.kd=()=>{r.removeEventListener("mousemove",s),r.removeEventListener("mouseup",o)},r.addEventListener("mousemove",s),r.addEventListener("mouseup",o)}if(this.Id=!0,this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=nl(e))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const e=this.Gd.ownerDocument,r=i=>{this.Yd.xf&&(i.composed&&this.Gd.contains(i.composedPath()[0])||i.target&&this.Gd.contains(i.target)||this.Yd.xf())};this.Cd=()=>{e.removeEventListener("touchstart",r)},this.xd=()=>{e.removeEventListener("mousedown",r)},e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0})}k3()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),S$e(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",()=>{},{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",e=>this.Rf(e.touches),{passive:!0}),this.Gd.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const r=Jq(e.touches[0],e.touches[1])/this.Dd;this.Yd.kf(this.Rd,r),tm(e)}},{passive:!1}),this.Gd.addEventListener("touchend",e=>{this.Rf(e.touches)}))}Rf(e){e.length===1&&(this.Vd=!1),e.length!==2||this.Vd||this.md?this.Df():this.Vf(e)}Vf(e){const r=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(e[0].clientX-r.left+(e[1].clientX-r.left))/2,ut:(e[0].clientY-r.top+(e[1].clientY-r.top))/2},this.Dd=Jq(e[0],e[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(e){if(this.yd&&this.yd(),this.Fd(e)||!this.zd)return;const r=this.Wd(e);this.Kd(r,this.Yd.Bf),this.zd=!k3()}gf(e){const r=C3(e.touches,dt(this.Ad));if(r===null)return;const i=this.Wd(e,r);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:p_(e)<this.Ed+500}$d(e,r){r&&r.call(this.Yd,e)}Kd(e,r){r&&r.call(this.Yd,e)}Wd(e,r){const i=r||e,s=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Ef:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Af:e.type,zf:i.target,a_:e.view,Lf:()=>{e.type!=="touchstart"&&tm(e)}}}}function Jq(n,e){const r=n.clientX-e.clientX,i=n.clientY-e.clientY;return Math.sqrt(r*r+i*i)}function tm(n){n.cancelable&&n.preventDefault()}function nl(n){return{_t:n.pageX,ut:n.pageY}}function p_(n){return n.timeStamp||performance.now()}function C3(n,e){for(let r=0;r<n.length;++r)if(n[r].identifier===e)return n[r];return null}class k$e{constructor(e,r,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=e,this.Uf=e.$f()[r],this.qf=e.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return $n({width:this.Uf.Gf().width,height:1})}Jf(){return $n({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(e,r,i){const s=this.Jf();e.fillStyle=this.Hf.N().layout.panes.separatorColor,e.fillRect(r,i,s.width,s.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const e=document.createElement("div"),r=e.style;r.position="fixed",r.display="none",r.zIndex="49",r.top="0",r.left="0",r.width="100%",r.height="100%",r.cursor="row-resize",this.jf.appendChild(e);const i=document.createElement("div"),s=i.style;s.position="absolute",s.zIndex="50",s.top="-4px",s.height="9px",s.width="100%",s.backgroundColor="",s.cursor="row-resize",this.jf.appendChild(i);const o={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new aE(i,o,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:e}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(e){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(e){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(e){if(this.Of===null)return;const r=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=r/(this.Uf.Gf().height+this.qf.Gf().height),s=30*i;r<=2*s||(this.Wf={lp:e.pageY,op:this.Uf.ap().Bo(),_p:r-s,up:r,cp:i,dp:s},this.Of.tp.style.display="block")}rp(e){const r=this.Wf;if(r===null)return;const i=(e.pageY-r.lp)*r.cp,s=Qy(r.op+i,r.dp,r._p);this.Uf.ap().Io(s),this.qf.ap().Io(r.up-s),this.Hf.Qt().Ih()}hp(e){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function E3(n,e){return n.fp-e.fp}function A3(n,e,r){const i=(n.fp-e.fp)/(n.wt-e.wt);return Math.sign(i)*Math.min(Math.abs(i),r)}class C$e{constructor(e,r,i,s){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=e,this.xp=r,this.Cp=i,this.Mn=s}Pp(e,r){if(this.pp!==null){if(this.pp.wt===r)return void(this.pp.fp=e);if(Math.abs(this.pp.fp-e)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:r,fp:e}}le(e,r){if(this.pp===null||this.vp===null||r-this.pp.wt>50)return;let i=0;const s=A3(this.pp,this.vp,this.xp),o=E3(this.pp,this.vp),a=[s],l=[o];if(i+=o,this.mp!==null){const u=A3(this.vp,this.mp,this.xp);if(Math.sign(u)===Math.sign(s)){const d=E3(this.vp,this.mp);if(a.push(u),l.push(d),i+=d,this.wp!==null){const h=A3(this.mp,this.wp,this.xp);if(Math.sign(h)===Math.sign(s)){const f=E3(this.mp,this.wp);a.push(h),l.push(f),i+=f}}}}let c=0;for(let u=0;u<a.length;++u)c+=l[u]/i*a[u];Math.abs(c)<this.Sp||(this.gp={fp:e,wt:r},this.bp=c,this.Mp=function(u,d){const h=Math.log(d);return Math.log(1*h/-u)/h}(Math.abs(c),this.Cp))}Du(e){const r=dt(this.gp),i=e-r.wt;return r.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(e){return this.gp===null||this.yp(e)===this.Mp}yp(e){const r=e-dt(this.gp).wt;return Math.min(r,this.Mp)}}class E$e{constructor(e,r){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=e,this.Vp=r,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function Kf(n,e){const r=dt(n.ownerDocument).createElement("canvas");n.appendChild(r);const i=dFe(r,{options:{allowResizeObserver:!0},transform:(s,o)=>({width:Math.max(s.width,o.width),height:Math.max(s.height,o.height)})});return i.resizeCanvasElement(e),i}function Xf(n){var e;n.width=1,n.height=1,(e=n.getContext("2d"))==null||e.clearRect(0,0,1,1)}function u4(n,e,r,i){n.ih&&n.ih(e,r,i)}function _S(n,e,r,i){n.nt(e,r,i)}function d4(n,e,r,i){const s=n(r,i);for(const o of s){const a=o.Tt(i);a!==null&&e(a)}}function T3(n,e){return r=>{var i,s;return function(o){return o.Ft!==void 0}(r)?(((i=r.Ft())==null?void 0:i.ma())??"")!==e?[]:((s=r.ta)==null?void 0:s.call(r,n))??[]:[]}}function Zq(n,e,r,i){if(!n.length)return;let s=0;const o=n[0].$t(i,!0);let a=e===1?r/2-(n[0].Fi()-o/2):n[0].Fi()-o/2-r/2;a=Math.max(0,a);for(let l=1;l<n.length;l++){const c=n[l],u=n[l-1],d=u.$t(i,!1),h=c.Fi(),f=u.Fi();if(e===1?h>f-d:h<f+d){const p=f-d*e;c.Wi(p);const m=p-e*d/2;if((e===1?m<0:m>r)&&a>0){const b=e===1?-1-m:m-r,y=Math.min(b,a);for(let v=s;v<n.length;v++)n[v].Wi(n[v].Fi()+e*y);a-=y}}else s=l,a=e===1?f-d-h:h-(f+d)}}class eH{constructor(e,r,i,s){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new Vk(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=e,this.Ps=r,this.Ml=r.layout,this.Ju=i,this.jp=s==="left",this.Kp=T3("normal",s),this.Xp=T3("top",s),this.Zp=T3("bottom",s),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=Kf(this.jf,$n({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const o=this.Gp.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Jp=Kf(this.jf,$n({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const a=this.Jp.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const l={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new aE(this.Jp.canvasElement,l,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Xf(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Xf(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const e=this.Ju.N();return this.Wp!==e.k&&(this.Fp.Bn(),this.Wp=e.k),e}nv(){if(this.Yi===null)return 0;let e=0;const r=this.sv(),i=dt(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));i.save();const s=this.Yi.Da();i.font=this.ev(),s.length>0&&(e=Math.max(this.Fp.Vi(i,s[0].Za),this.Fp.Vi(i,s[s.length-1].Za)));const o=this.rv();for(let u=o.length;u--;){const d=this.Fp.Vi(i,o[u].ri());d>e&&(e=d)}const a=this.Yi.zt();if(a!==null&&this.Op!==null&&(l=this.Ps.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const u=this.Yi.Ts(1,a),d=this.Yi.Ts(this.Op.height-2,a);e=Math.max(e,this.Fp.Vi(i,this.Yi.Zi(Math.floor(Math.min(u,d))+.11111111111111,a)),this.Fp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(u,d))-.11111111111111,a)))}var l;i.restore();const c=e||34;return c4(Math.ceil(r.S+r.C+r.B+r.I+5+c))}hv(e){this.Op!==null&&Cf(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`)}av(){return dt(this.Op).width}_s(e){this.Yi!==e&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=e,e.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const e=this.Pt.ap();this.Pt.qp().Qt().Zo(e,dt(this.Ft()))}lv(e){if(this.Op===null)return;const r={colorSpace:this.Pt.qp().N().layout.colorSpace};if(e!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const s=Yf(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o),this.uv(o)}),this.Pt.cv(s,this.Zp),this.dv(s),this.Pt.cv(s,this.Kp),this.fv(s))}this.Jp.applySuggestedBitmapSize();const i=Yf(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e.drawImage(a,r,i)}}yt(){var e;(e=this.Yi)==null||e.Da()}ep(e){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,r.Uo(i,this.Yi,e.localY)}rp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap(),s=this.Yi;r.$o(i,s,e.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),r=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,e.qo(r,i))}hp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,r.qo(i,this.Yi)}tv(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(e){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(e){this.vv(0)}rv(){const e=[],r=this.Yi===null?void 0:this.Yi;return(i=>{for(let s=0;s<i.length;++s){const o=i[s].Ws(this.Pt.ap(),r);for(let a=0;a<o.length;a++)e.push(o[a])}})(this.Pt.ap().Dt()),e}_v({context:e,bitmapSize:r}){const{width:i,height:s}=r,o=this.Pt.ap().Qt(),a=o.$(),l=o.Wc();a===l?nE(e,0,0,i,s,a):rme(e,0,0,i,s,a,l)}uv({context:e,bitmapSize:r,horizontalPixelRatio:i}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const s=Math.max(1,Math.floor(this.sv().S*i));let o;o=this.jp?r.width-s:0,e.fillRect(o,0,s,r.height)}dv(e){if(this.Op===null||this.Yi===null)return;const r=this.Yi.Da(),i=this.Yi.N(),s=this.sv(),o=this.jp?this.Op.width-s.C:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:c})=>{a.fillStyle=i.borderColor;const u=Math.max(1,Math.floor(c)),d=Math.floor(.5*c),h=Math.round(s.C*l);a.beginPath();for(const f of r)a.rect(Math.floor(o*l),Math.round(f.Pa*c)-d,h,u);a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{a.font=this.ev(),a.fillStyle=i.textColor??this.Ml.textColor,a.textAlign=this.jp?"right":"left",a.textBaseline="middle";const l=this.jp?Math.round(o-s.B):Math.round(o+s.C+s.B),c=r.map(u=>this.Fp.Di(a,u.Za));for(let u=r.length;u--;){const d=r[u];a.fillText(d.Za,l,d.Pa+c[u])}})}ov(){if(this.Op===null||this.Yi===null)return;let e=this.Op.height/2;const r=[],i=this.Yi.Dt().slice(),s=this.Pt.ap(),o=this.sv();this.Yi===s.$n()&&this.Pt.ap().Dt().forEach(c=>{s.Un(c)&&i.push(c)});const a=this.Yi.Ma()[0],l=this.Yi;i.forEach(c=>{const u=c.Ws(s,l);u.forEach(d=>{d.Wi(null),d.Hi()&&r.push(d)}),a===c&&u.length>0&&(e=u[0].Ii())}),r.forEach(c=>c.Wi(c.Ii())),this.Yi.N().alignLabels&&this.mv(r,o,e)}mv(e,r,i){if(this.Op===null)return;const s=e.filter(a=>a.Ii()<=i),o=e.filter(a=>a.Ii()>i);s.sort((a,l)=>l.Ii()-a.Ii()),s.length&&o.length&&o.push(s[0]),o.sort((a,l)=>a.Ii()-l.Ii());for(const a of e){const l=Math.floor(a.$t(r)/2),c=a.Ii();c>-l&&c<l&&a.Wi(l),c>this.Op.height-l&&c<this.Op.height+l&&a.Wi(this.Op.height-l)}Zq(s,1,this.Op.height,r),Zq(o,-1,this.Op.height,r)}fv(e){if(this.Op===null)return;const r=this.rv(),i=this.sv(),s=this.jp?"right":"left";r.forEach(o=>{o.Ui()&&o.Tt(dt(this.Yi)).nt(e,i,this.Fp,s)})}pv(e){if(this.Op===null||this.Yi===null)return;const r=this.Pt.qp().Qt(),i=[],s=this.Pt.ap(),o=r.uc().Ws(s,this.Yi);o.length&&i.push(o);const a=this.sv(),l=this.jp?"right":"left";i.forEach(c=>{c.forEach(u=>{u.Tt(dt(this.Yi)).nt(e,a,this.Fp,l)})})}vv(e){this.jf.style.cursor=e===1?"ns-resize":"default"}_l(){const e=this.nv();this.Hp<e&&this.Pt.qp().Qt().Ih(),this.Hp=e}ev(){return Hk(this.Ml.fontSize,this.Ml.fontFamily)}}function A$e(n,e){var r;return((r=n.Jh)==null?void 0:r.call(n,e))??[]}function tH(n,e){var r;return((r=n.Fs)==null?void 0:r.call(n,e))??[]}function nH(n,e){var r;return((r=n.us)==null?void 0:r.call(n,e))??[]}function T$e(n,e){var r;return((r=n.Xh)==null?void 0:r.call(n,e))??[]}class B9{constructor(e,r){this.Op=$n({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new Or,this.Cv=new Or,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=e,this.Vv=r,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=Kf(i,$n({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const s=this.Gp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jp=Kf(i,$n({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const o=this.Jp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new aE(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Xf(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Xf(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return dt(this.Vv)}Lv(e){var r;this.Vv!==null&&this.Vv.t_().u(this),this.Vv=e,this.Vv!==null&&this.Vv.t_().i(B9.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new E$e(this.Iv,this.Vp),this.Mv.yt()):((r=this.Mv)==null||r.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const e=this.Vv.Wo();this.wv._s(dt(e))}if(this.gv!==null){const e=this.Vv.Ho();this.gv._s(dt(e))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(e){this.Vv&&this.Vv.Io(e)}sf(e){if(!this.Vv)return;this.Fv();const r=e.localX,i=e.localY;this.Wv(r,i,e)}Sf(e){this.Fv(),this.Hv(),this.Wv(e.localX,e.localY,e)}nf(e){if(!this.Vv)return;this.Fv();const r=e.localX,i=e.localY;this.Wv(r,i,e)}mf(e){this.Vv!==null&&(this.Fv(),this.Uv(e))}Xd(e){this.Vv!==null&&this.$v(this.Cv,e)}qd(e){this.Xd(e)}cf(e){this.Fv(),this.qv(e),this.Wv(e.localX,e.localY,e)}vf(e){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(e))}pf(e){this.Vv!==null&&this.Uv(e)}If(e){if(this.yv=!0,this.kv===null){const r={x:e.localX,y:e.localY};this.jv(r,r,e)}}Bf(e){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(e,r){if(!this.Vp.N().handleScale.pinch)return;const i=5*(r-this.Pv);this.Pv=r,this.ts().bc(e._t,i)}Mf(e){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const r=this.ts().uc();this.kv!==null&&r.Vt()&&(this.Rv={x:r.si(),y:r.ni()},this.kv={x:e.localX,y:e.localY})}_f(e){if(this.Vv===null)return;const r=e.localX,i=e.localY;if(this.kv===null)this.qv(e);else{this.Tv=!1;const s=dt(this.Rv),o=s.x+(r-this.kv.x),a=s.y+(i-this.kv.y);this.Wv(o,a,e)}}ff(e){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(e)}jn(e,r){const i=this.Vv;return i===null?null:pme(i,e,r)}Jv(e,r){dt(r==="left"?this.wv:this.gv).hv($n({width:e,height:this.Op.height}))}Gf(){return this.Op}hv(e){Cf(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.Iv.style.width=e.width+"px",this.Iv.style.height=e.height+"px")}Qv(){const e=dt(this.Vv);e.Fo(e.Wo()),e.Fo(e.Ho());for(const r of e.Ma())if(e.Un(r)){const i=r.Ft();i!==null&&e.Fo(i),r.Ns()}for(const r of e.s_())r.Ns()}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e!==null&&e.drawImage(a,r,i)}}lv(e){if(e===0||this.Vv===null)return;e>1&&this.Qv(),this.wv!==null&&this.wv.lv(e),this.gv!==null&&this.gv.lv(e);const r={colorSpace:this.Vp.N().layout.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const s=Yf(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o)}),this.Vv&&(this.tm(s,A$e),this.im(s),this.tm(s,tH),this.tm(s,nH)))}this.Jp.applySuggestedBitmapSize();const i=Yf(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.sm(i),this.tm(i,T$e),this.tm(i,nH))}nm(){return this.wv}rm(){return this.gv}cv(e,r){this.tm(e,r)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(e){this.$v(this.xv,e)}$v(e,r){const i=r.localX,s=r.localY;e.v()&&e.p(this.ts().Et().cu(i),{x:i,y:s},r)}_v({context:e,bitmapSize:r}){const{width:i,height:s}=r,o=this.ts(),a=o.$(),l=o.Wc();a===l?nE(e,0,0,i,s,l):rme(e,0,0,i,s,a,l)}im(e){const r=dt(this.Vv),i=r.i_().lr().Tt(r);i!==null&&i.nt(e,!1)}sm(e){this.hm(e,tH,_S,this.ts().uc())}tm(e,r){const i=dt(this.Vv),s=i.Dt(),o=i.s_();for(const a of o)this.hm(e,r,u4,a);for(const a of s)this.hm(e,r,u4,a);for(const a of o)this.hm(e,r,_S,a);for(const a of s)this.hm(e,r,_S,a)}hm(e,r,i,s){const o=dt(this.Vv),a=o.Qt().ac(),l=a!==null&&a.n_===s,c=a!==null&&l&&a.e_!==void 0?a.e_.Xn:void 0;d4(r,u=>i(u,e,l,c),s,o)}Ov(){if(this.Vv===null)return;const e=this.Vp,r=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;r||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const s=e.Qt().Bc();r&&this.wv===null&&(this.wv=new eH(this,e.N(),s,"left"),this.Ev.appendChild(this.wv.Zf())),i&&this.gv===null&&(this.gv=new eH(this,e.N(),s,"right"),this.Av.appendChild(this.gv.Zf()))}am(e){return e.Ef&&this.yv||this.kv!==null}lm(e){return Math.max(0,Math.min(e,this.Op.width-1))}om(e){return Math.max(0,Math.min(e,this.Op.height-1))}Wv(e,r,i){this.ts().Tc(this.lm(e),this.om(r),i,dt(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(e,r,i){this.kv=e,this.Tv=!1,this.Wv(r.x,r.y,i);const s=this.ts().uc();this.Rv={x:s.si(),y:s.ni()}}ts(){return this.Vp.Qt()}Yv(e){if(!this.Sv)return;const r=this.ts(),i=this.ap();if(r.Ko(i,i.ks()),this.bv=null,this.Sv=!1,r.Pc(),this.Dv!==null){const s=performance.now(),o=r.Et();this.Dv.le(o.gu(),s),this.Dv.Ru(s)||r._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)dt(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(e){if(this.Vv===null)return;const r=this.ts(),i=r.Et();if(i.Ki())return;const s=this.Vp.N(),o=s.handleScroll,a=s.kineticScroll;if((!o.pressedMouseMove||e.Ef)&&(!o.horzTouchDrag&&!o.vertTouchDrag||!e.Ef))return;const l=this.Vv.ks(),c=performance.now();if(this.bv!==null||this.am(e)||(this.bv={x:e.clientX,y:e.clientY,rd:c,_m:e.localX,um:e.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==e.clientX||this.bv.y!==e.clientY)){if(e.Ef&&a.touch||!e.Ef&&a.mouse){const u=i.mu();this.Dv=new C$e(.2/u,7/u,.997,15/u),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;l.Ki()||r.Yo(this.Vv,l,e.localY),r.xc(e.localX),this.Sv=!0}this.Sv&&(l.Ki()||r.jo(this.Vv,l,e.localY),r.Cc(e.localX),this.Dv!==null&&this.Dv.Pp(i.gu(),c))}}class rH{constructor(e,r,i,s,o){this.xt=!0,this.Op=$n({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=e==="left",this.Ju=i.Bc,this.Ps=r,this.dm=s,this.fm=o,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=Kf(this.jf,$n({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Xf(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(e){Cf(this.Op,e)||(this.Op=e,this.Gp.resizeCanvasElement(e),this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.xt=!0)}lv(e){if(e<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const r=Yf(this.Gp,{colorSpace:this.Ps.layout.colorSpace});r!==null&&r.useBitmapCoordinateSpace(i=>{this._v(i),this.uv(i)})}Jf(){return this.Gp.bitmapSize}Qf(e,r,i){const s=this.Jf();s.width>0&&s.height>0&&e.drawImage(this.Gp.canvasElement,r,i)}uv({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.dm())return;e.fillStyle=this.Ps.timeScale.borderColor;const o=Math.floor(this.Ju.N().S*i),a=Math.floor(this.Ju.N().S*s),l=this.jp?r.width-o:0;e.fillRect(l,0,o,a)}_v({context:e,bitmapSize:r}){nE(e,0,0,r.width,r.height,this.fm())}}function L9(n){return e=>{var r;return((r=e.ia)==null?void 0:r.call(e,n))??[]}}const P$e=L9("normal"),I$e=L9("top"),M$e=L9("bottom");class O$e{constructor(e,r){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=$n({width:0,height:0}),this.gm=new Or,this.Fp=new Vk(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=e,this.o_=r,this.Ps=e.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=Kf(this.Sm,$n({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=Kf(this.Sm,$n({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const s=this.Jp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new aE(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Xf(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Xf(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(e){if(this.wm)return;this.wm=!0;const r=this.Vp.Qt();!r.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&r.Mc(e.localX)}Mf(e){this.Sf(e)}xf(){const e=this.Vp.Qt();!e.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&e.kc())}cf(e){const r=this.Vp.Qt();!r.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&r.yc(e.localX)}_f(e){this.cf(e)}vf(){this.wm=!1;const e=this.Vp.Qt();e.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||e.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(e,r,i){Cf(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.gm.p(e)),this.pm!==null&&this.pm.hv($n({width:r,height:e.height})),this.vm!==null&&this.vm.hv($n({width:i,height:e.height}))}Tm(){const e=this.Rm();return Math.ceil(e.S+e.C+e.P+e.A+e.V+e.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e.drawImage(a,r,i)}}lv(e){if(e===0)return;const r={colorSpace:this.Ps.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const s=Yf(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o),this.uv(o),this.Vm(s,M$e)}),this.dv(s),this.Vm(s,P$e)),this.pm!==null&&this.pm.lv(e),this.vm!==null&&this.vm.lv(e)}this.Jp.applySuggestedBitmapSize();const i=Yf(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,I$e))}Vm(e,r){const i=this.Vp.Qt().js();for(const s of i)d4(r,o=>u4(o,e,!1,void 0),s,void 0);for(const s of i)d4(r,o=>_S(o,e,!1,void 0),s,void 0)}_v({context:e,bitmapSize:r}){nE(e,0,0,r.width,r.height,this.Vp.Qt().Wc())}uv({context:e,bitmapSize:r,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){e.fillStyle=this.Im();const s=Math.max(1,Math.floor(this.Rm().S*i));e.fillRect(0,0,r.width,s)}}dv(e){const r=this.Vp.Qt().Et(),i=r.Da();if(!i||i.length===0)return;const s=this.o_.maxTickMarkWeight(i),o=this.Rm(),a=r.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:c,verticalPixelRatio:u})=>{l.strokeStyle=this.Im(),l.fillStyle=this.Im();const d=Math.max(1,Math.floor(c)),h=Math.floor(.5*c);l.beginPath();const f=Math.round(o.C*u);for(let p=i.length;p--;){const m=Math.round(i[p].coord*c);l.rect(m-h,0,d,f)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const c=o.S+o.C+o.A+o.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this.ev();for(const u of i)if(u.weight<s){const d=u.needAlignCoordinate?this.Em(l,u.coord,u.label):u.coord;l.fillText(u.label,d,c)}this.Vp.N().timeScale.allowBoldLabels&&(l.font=this.Am());for(const u of i)if(u.weight>=s){const d=u.needAlignCoordinate?this.Em(l,u.coord,u.label):u.coord;l.fillText(u.label,d,c)}})}Em(e,r,i){const s=this.Fp.Vi(e,i),o=s/2,a=Math.floor(r-o)+.5;return a<0?r+=Math.abs(0-a):a+s>this.Op.width&&(r-=Math.abs(this.Op.width-(a+s))),r}Bm(e,r){const i=this.Rm();for(const s of e)for(const o of s.cs())o.Tt().nt(r,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return Hk(this.F(),this.Ps.fontFamily)}Am(){return Hk(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new Vk,Dm:0});const e=this.M,r=this.ev();if(e.k!==r){const i=this.F();e.P=i,e.k=r,e.A=3*i/12,e.V=3*i/12,e.Ji=9*i/12,e.L=0,e.Dm=4*i/12,e.Gi.Bn()}return this.M}vv(e){this.jf.style.cursor=e===1?"ew-resize":"default"}xm(){const e=this.Vp.Qt(),r=e.N();r.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),r.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const i={Bc:this.Vp.Qt().Bc()},s=()=>r.leftPriceScale.borderVisible&&e.Et().N().borderVisible,o=()=>e.Wc();r.leftPriceScale.visible&&this.pm===null&&(this.pm=new rH("left",r,i,s,o),this.Mm.appendChild(this.pm.Zf())),r.rightPriceScale.visible&&this.vm===null&&(this.vm=new rH("right",r,i,s,o),this.bm.appendChild(this.vm.Zf()))}}var use;const D$e=!!v0&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!v0&&((use=navigator==null?void 0:navigator.userAgentData)!=null&&use.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class R$e{constructor(e,r,i){var s;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new Or,this.Cv=new Or,this.Xu=new Or,this.Um=null,this.$m=null,this.Dp=e,this.Ps=r,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(s=this.kp).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),P3(this.Ps)&&this.Km(!0),this.ts=new y$e(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new O$e(this,this.o_),this.qm.appendChild(this.Zm.Zf());const o=r.autoSize&&this.Gm();let a=this.Ps.width,l=this.Ps.height;if(o||a===0||l===0){const c=e.getBoundingClientRect();a=a||c.width,l=l||c.height}this.Jm(a,l),this.Qm(),e.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const e of this.zm)this.qm.removeChild(e.Zf()),e.Xv().u(this),e.Zv().u(this),e.m();this.zm=[];for(const e of this.Lm)this.sw(e);this.Lm=[],dt(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(e,r,i=!1){if(this.il===r&&this.Mo===e)return;const s=function(l){const c=Math.floor(l.width),u=Math.floor(l.height);return $n({width:c-c%2,height:u-u%2})}($n({width:e,height:r}));this.il=s.height,this.Mo=s.width;const o=this.il+"px",a=this.Mo+"px";dt(this.kp).style.height=o,dt(this.kp).style.width=a,this.qm.style.height=o,this.qm.style.width=a,i?this.ew(bs.gn(),performance.now()):this.ts.Ih()}lv(e){e===void 0&&(e=bs.gn());for(let r=0;r<this.zm.length;r++)this.zm[r].lv(e.en(r).tn);this.Ps.timeScale.visible&&this.Zm.lv(e.nn())}hr(e){var s;const r=P3(this.Ps);this.ts.hr(e);const i=P3(this.Ps);i!==r&&this.Km(i),(s=e.layout)!=null&&s.panes&&this.rw(),this.tw(),this.hw(e)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(e=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const r=this.lw(null),i=document.createElement("canvas");i.width=r.width,i.height=r.height;const s=dt(i.getContext("2d"));return this.lw(s,e),i}ow(e){return e==="left"&&!this._w()||e==="right"&&!this.uw()||this.zm.length===0?0:dt(e==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(e){this.$m=e,this.$m?this.ip().style.setProperty("cursor",e):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(e){return Rs(this.zm[e]).Gf()}rw(){this.Lm.forEach(e=>{e.yt()})}hw(e){(e.autoSize!==void 0||!this.Um||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Um&&this.Gm(),e.autoSize===!1&&this.Um!==null&&this.nw(),e.autoSize||e.width===void 0&&e.height===void 0||this.Jm(e.width||this.Mo,e.height||this.il))}lw(e,r){let i=0,s=0;const o=this.zm[0],a=(c,u)=>{let d=0;for(let h=0;h<this.zm.length;h++){const f=this.zm[h],p=dt(c==="left"?f.nm():f.rm()),m=p.Jf();if(e!==null&&p.Qf(e,u,d,r),d+=m.height,h<this.zm.length-1){const b=this.Lm[h],y=b.Jf();e!==null&&b.Qf(e,u,d),d+=y.height}}};this._w()&&(a("left",0),i+=dt(o.nm()).Jf().width);for(let c=0;c<this.zm.length;c++){const u=this.zm[c],d=u.Jf();if(e!==null&&u.Qf(e,i,s,r),s+=d.height,c<this.zm.length-1){const h=this.Lm[c],f=h.Jf();e!==null&&h.Qf(e,i,s),s+=f.height}}i+=o.Jf().width,this.uw()&&(a("right",i),i+=dt(o.rm()).Jf().width);const l=(c,u,d)=>{dt(c==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(dt(e),u,d)};if(this.Ps.timeScale.visible){const c=this.Zm.Jf();if(e!==null){let u=0;this._w()&&(l("left",u,s),u=dt(o.nm()).Jf().width),this.Zm.Qf(e,u,s,r),u+=c.width,this.uw()&&l("right",u,s)}s+=c.height}return $n({width:i,height:s})}mw(){let e=0,r=0,i=0;for(const y of this.zm)this._w()&&(r=Math.max(r,dt(y.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(i=Math.max(i,dt(y.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),e+=y.Bo();r=c4(r),i=c4(i);const s=this.Mo,o=this.il,a=Math.max(s-r-i,0),l=1*this.Lm.length,c=this.Ps.timeScale.visible;let u=c?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var d;u=(d=u)+d%2;const h=l+u,f=o<h?0:o-h,p=f/e;let m=0;const b=window.devicePixelRatio||1;for(let y=0;y<this.zm.length;++y){const v=this.zm[y];v.Lv(this.ts.$s()[y]);let w=0,_=0;_=y===this.zm.length-1?Math.ceil((f-m)*b)/b:Math.round(v.Bo()*p*b)/b,w=Math.max(_,2),m+=w,v.hv($n({width:a,height:w})),this._w()&&v.Jv(r,"left"),this.uw()&&v.Jv(i,"right"),v.ap()&&this.ts.dc(v.ap(),w)}this.Zm.km($n({width:c?a:0,height:u}),c?r:0,c?i:0),this.ts.Eo(a),this.Nm!==r&&(this.Nm=r),this.Fm!==i&&(this.Fm=i)}Km(e){e?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return D$e?1/window.devicePixelRatio:1}jm(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const r=this.ww(e),i=r*e.deltaX/100,s=-r*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.Ps.handleScale.mouseWheel){const o=Math.sign(s)*Math.min(1,Math.abs(s)),a=e.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(a,o)}i!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(e,r){var s;const i=e.nn();i===3&&this.gw(),i!==3&&i!==2||(this.Mw(e),this.bw(e,r),this.Zm.yt(),this.zm.forEach(o=>{o.Nv()}),((s=this.Wm)==null?void 0:s.nn())===3&&(this.Wm.vn(e),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,r),e=this.Wm,this.Wm=null)),this.lv(e)}bw(e,r){for(const i of e.pn())this.mn(i,r)}Mw(e){const r=this.ts.$s();for(let i=0;i<r.length;i++)e.en(i).sn&&r[i].Go()}mn(e,r){const i=this.ts.Et();switch(e.an){case 0:i.Au();break;case 1:i.zu(e.Wt);break;case 2:i.dn(e.Wt);break;case 3:i.fn(e.Wt);break;case 4:i.Su();break;case 5:e.Wt.Ru(r)||i.fn(e.Wt.Du(r))}}Gu(e){this.Wm!==null?this.Wm.vn(e):this.Wm=e,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame(r=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const i=this.Wm;this.Wm=null,this.ew(i,r);for(const s of i.pn())if(s.an===5&&!s.Wt.Ru(r)){this.Qt()._n(s.Wt);break}}}))}gw(){this.Qm()}sw(e){this.qm.removeChild(e.Zf()),e.m()}Qm(){const e=this.ts.$s(),r=e.length,i=this.zm.length;for(let s=r;s<i;s++){const o=Rs(this.zm.pop());this.qm.removeChild(o.Zf()),o.Xv().u(this),o.Zv().u(this),o.m();const a=this.Lm.pop();a!==void 0&&this.sw(a)}for(let s=i;s<r;s++){const o=new B9(this,e[s]);if(o.Xv().i(this.Sw.bind(this,o),this),o.Zv().i(this.xw.bind(this,o),this),this.zm.push(o),s>0){const a=new k$e(this,s-1,s);this.Lm.push(a),this.qm.insertBefore(a.Zf(),this.Zm.Zf())}this.qm.insertBefore(o.Zf(),this.Zm.Zf())}for(let s=0;s<r;s++){const o=e[s],a=this.zm[s];a.ap()!==o?a.Lv(o):a.zv()}this.tw(),this.mw()}Cw(e,r,i,s){var h;const o=new Map;e!==null&&this.ts.js().forEach(f=>{const p=f.Xs().Fr(e);p!==null&&o.set(f,p)});let a;if(e!==null){const f=(h=this.ts.Et().ss(e))==null?void 0:h.originalTime;f!==void 0&&(a=f)}const l=this.Qt().ac(),c=l!==null&&l.n_ instanceof oE?l.n_:void 0,u=l!==null&&l.e_!==void 0?l.e_.Kn:void 0,d=this.Pw(s);return{yw:a,Re:e??void 0,kw:r??void 0,Tw:d!==-1?d:void 0,Rw:c,Dw:o,Vw:u,Bw:i??void 0}}Pw(e){let r=-1;if(e)r=this.zm.indexOf(e);else{const i=this.Qt().uc().Us();i!==null&&(r=this.Qt().$s().indexOf(i))}return r}Sw(e,r,i,s){this.xv.p(()=>this.Cw(r,i,s,e))}xw(e,r,i,s){this.Cv.p(()=>this.Cw(r,i,s,e))}Xm(e,r,i){var s;this.dw(((s=this.Qt().ac())==null?void 0:s.h_)??null),this.Xu.p(()=>this.Cw(e,r,i))}tw(){const e=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=e}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver(e=>{const r=e[e.length-1];r&&this.Jm(r.contentRect.width,r.contentRect.height)}),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function P3(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function N$e(n){return n.open===void 0&&n.value===void 0}function j$e(n){return function(e){return e.open!==void 0}(n)||function(e){return e.value!==void 0}(n)}function iH(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.color!==void 0&&(o.R=r.color),o}function B$e(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.lineColor!==void 0&&(o.vt=r.lineColor),r.topColor!==void 0&&(o.mr=r.topColor),r.bottomColor!==void 0&&(o.wr=r.bottomColor),o}function L$e(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.topLineColor!==void 0&&(o.gr=r.topLineColor),r.bottomLineColor!==void 0&&(o.Mr=r.bottomLineColor),r.topFillColor1!==void 0&&(o.br=r.topFillColor1),r.topFillColor2!==void 0&&(o.Sr=r.topFillColor2),r.bottomFillColor1!==void 0&&(o.Cr=r.bottomFillColor1),r.bottomFillColor2!==void 0&&(o.Pr=r.bottomFillColor2),o}function F$e(n,e,r,i){const s={Re:e,wt:n,Wt:[r.open,r.high,r.low,r.close],yw:i};return r.color!==void 0&&(s.R=r.color),s}function $$e(n,e,r,i){const s={Re:e,wt:n,Wt:[r.open,r.high,r.low,r.close],yw:i};return r.color!==void 0&&(s.R=r.color),r.borderColor!==void 0&&(s.Ht=r.borderColor),r.wickColor!==void 0&&(s.vr=r.wickColor),s}function z$e(n,e,r,i,s){const o=Rs(s)(r),a=Math.max(...o),l=Math.min(...o),c=o[o.length-1],u=[c,a,l,c],{time:d,color:h,...f}=r;return{Re:e,wt:n,Wt:u,yw:i,se:f,R:h}}function Vb(n){return n.Wt!==void 0}function sH(n,e){return e.customValues!==void 0&&(n.Iw=e.customValues),n}function kh(n){return(e,r,i,s,o,a)=>function(l,c){return c?c(l):N$e(l)}(i,a)?sH({wt:e,Re:r,yw:s},i):sH(n(e,r,i,s,o),i)}function oH(n){return{Candlestick:kh($$e),Bar:kh(F$e),Area:kh(B$e),Baseline:kh(L$e),Histogram:kh(iH),Line:kh(iH),Custom:kh(z$e)}[n]}function aH(n){return{Re:0,Ew:new Map,Hh:n}}function lH(n,e){if(n!==void 0&&n.length!==0)return{Aw:e.key(n[0].wt),zw:e.key(n[n.length-1].wt)}}function cH(n){let e;return n.forEach(r=>{e===void 0&&(e=r.yw)}),Rs(e)}class U$e{constructor(e){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=e}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(e,r){let i=this.Lw.size!==0,s=!1;const o=this.Ow.get(e);if(o!==void 0)if(this.Ow.size===1)i=!1,s=!0,this.Lw.clear();else for(const c of this.Fw)c.pointData.Ew.delete(e)&&(s=!0);let a=[];if(r.length!==0){const c=r.map(p=>p.time),u=this.o_.createConverterToInternalObj(r),d=oH(e.Rr()),h=e.ca(),f=e.fa();a=r.map((p,m)=>{const b=u(p.time),y=this.o_.key(b);let v=this.Lw.get(y);v===void 0&&(v=aH(b),this.Lw.set(y,v),s=!0);const w=d(b,v.Re,p,c[m],h,f);return v.Ew.set(e,w),w})}i&&this.Hw(),this.Uw(e,a);let l=-1;if(s){const c=[];this.Lw.forEach(u=>{c.push({timeWeight:0,time:u.Hh,pointData:u,originalTime:cH(u.Ew)})}),c.sort((u,d)=>this.o_.key(u.time)-this.o_.key(d.time)),l=this.$w(c)}return this.qw(e,l,function(c,u,d){const h=lH(c,d),f=lH(u,d);if(h!==void 0&&f!==void 0)return{Yw:!1,zh:h.zw>=f.zw&&h.Aw>=f.Aw}}(this.Ow.get(e),o,this.o_))}Ac(e){return this.Ww(e,[])}jw(e,r,i){const s=r;(function(y){y.yw===void 0&&(y.yw=y.time)})(s),this.o_.preprocessData(r);const o=this.o_.createConverterToInternalObj([r])(r.time),a=this.Nw.get(e);if(!i&&a!==void 0&&this.o_.key(o)<this.o_.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${o}`);let l=this.Lw.get(this.o_.key(o));if(i&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const c=l===void 0;l===void 0&&(l=aH(o),this.Lw.set(this.o_.key(o),l));const u=oH(e.Rr()),d=e.ca(),h=e.fa(),f=u(o,l.Re,r,s.yw,d,h);l.Ew.set(e,f),i?this.Kw(e,f,l.Re):this.Xw(e,f);const p={zh:Vb(f),Yw:i};if(!c)return this.qw(e,-1,p);const m={timeWeight:0,time:l.Hh,pointData:l,originalTime:cH(l.Ew)},b=y0(this.Fw,this.o_.key(m.time),(y,v)=>this.o_.key(y.time)<v);this.Fw.splice(b,0,m);for(let y=b;y<this.Fw.length;++y)m_(this.Fw[y].pointData,y);return this.o_.fillWeightsForPoints(this.Fw,b),this.qw(e,b,p)}Zw(e,r){const i=this.Ow.get(e);if(i===void 0||r<=0)return[[],this.Gw()];r=Math.min(r,i.length);const s=i.splice(-r).reverse();i.length===0?this.Nw.delete(e):this.Nw.set(e,i[i.length-1].wt);for(const o of s){const a=this.Lw.get(this.o_.key(o.wt));if(a&&(a.Ew.delete(e),a.Ew.size===0)){this.Lw.delete(this.o_.key(a.Hh)),this.Fw.splice(a.Re,1);for(let l=a.Re;l<this.Fw.length;++l)m_(this.Fw[l].pointData,l)}}return[s,this.qw(e,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(e,r){let i=this.Ow.get(e);i===void 0&&(i=[],this.Ow.set(e,i));const s=i.length!==0?i[i.length-1]:null;s===null||this.o_.key(r.wt)>this.o_.key(s.wt)?Vb(r)&&i.push(r):Vb(r)?i[i.length-1]=r:i.splice(-1,1),this.Nw.set(e,r.wt)}Kw(e,r,i){const s=this.Ow.get(e);if(s===void 0)return;const o=y0(s,i,(a,l)=>a.Re<l);Vb(r)?s[o]=r:s.splice(o,1)}Uw(e,r){r.length!==0?(this.Ow.set(e,r.filter(Vb)),this.Nw.set(e,r[r.length-1].wt)):(this.Ow.delete(e),this.Nw.delete(e))}Hw(){for(const e of this.Fw)e.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(e.time))}$w(e){let r=-1;for(let i=0;i<this.Fw.length&&i<e.length;++i){const s=this.Fw[i],o=e[i];if(this.o_.key(s.time)!==this.o_.key(o.time)){r=i;break}o.timeWeight=s.timeWeight,m_(o.pointData,i)}if(r===-1&&this.Fw.length!==e.length&&(r=Math.min(this.Fw.length,e.length)),r===-1)return-1;for(let i=r;i<e.length;++i)m_(e[i].pointData,i);return this.o_.fillWeightsForPoints(e,r),this.Fw=e,r}Jw(){if(this.Ow.size===0)return null;let e=0;return this.Ow.forEach(r=>{r.length!==0&&(e=Math.max(e,r[r.length-1].Re))}),e}qw(e,r,i){const s=this.Gw();if(r!==-1)this.Ow.forEach((o,a)=>{s.Oo.set(a,{se:o,Qw:a===e?i:void 0})}),this.Ow.has(e)||s.Oo.set(e,{se:[],Qw:i}),s.Et.tg=this.Fw,s.Et.ig=r;else{const o=this.Ow.get(e);s.Oo.set(e,{se:o||[],Qw:i})}return s}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function m_(n,e){n.Re=e,n.Ew.forEach(r=>{r.Re=e})}function W$e(n,e){return n.wt<e}function q$e(n,e){return e<n.wt}function H$e(n,e,r){const i=e.Uh(),s=e.bi(),o=y0(n,i,W$e),a=ume(n,s,q$e);if(!r)return{from:o,to:a};let l=o,c=a;return o>0&&o<n.length&&n[o].wt>=i&&(l=o-1),a>0&&a<n.length&&n[a-1].wt<=s&&(c=a+1),{from:l,to:c}}class V$e{constructor(e,r,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=e,this.Qn=r,this.ag=i}yt(e){this.sg=!0,e==="data"&&(this.ng=!0),e==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map(e=>({...e,...this.Jn.Rh().Dr(e.wt)}))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const e=this.Jn.Ft(),r=this.Qn.Et();if(this.ug(),r.Ki()||e.Ki())return;const i=r.Pe();if(i===null||this.Jn.Xs().zr()===0)return;const s=this.Jn.zt();s!==null&&(this.hg=H$e(this.rg,i,this.ag),this.fg(e,r,s.Wt),this.pg())}}class G$e{constructor(e,r){this.vg=e,this.Yi=r}nt(e,r,i){this.vg.draw(e,this.Yi,r,i)}}class Y$e extends V$e{constructor(e,r,i){super(e,r,!1),this.sh=i,this.og=new G$e(this.sh.renderer(),s=>{const o=e.zt();return o===null?null:e.Ft().Nt(s,o.Wt)})}da(e){return this.sh.priceValueBuilder(e)}pa(e){return this.sh.isWhitespace(e)}cg(){const e=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(r=>({wt:r.Re,_t:NaN,...e.Dr(r.Re),mg:r.se}))}fg(e,r){r.uu(this.rg,gFe(this.hg))}pg(){this.sh.update({bars:this.rg.map(K$e),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function K$e(n){return{x:n._t,time:n.wt,originalData:n.mg,barColor:n.cr}}const X$e={color:"#2196f3"},Q$e=(n,e,r)=>{const i=vd(r);return new Y$e(n,e,i)};function F9(n){const e={value:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(e.customValues=n.Iw),e}function uH(n){const e=F9(n);return n.R!==void 0&&(e.color=n.R),e}function J$e(n){const e=F9(n);return n.vt!==void 0&&(e.lineColor=n.vt),n.mr!==void 0&&(e.topColor=n.mr),n.wr!==void 0&&(e.bottomColor=n.wr),e}function Z$e(n){const e=F9(n);return n.gr!==void 0&&(e.topLineColor=n.gr),n.Mr!==void 0&&(e.bottomLineColor=n.Mr),n.br!==void 0&&(e.topFillColor1=n.br),n.Sr!==void 0&&(e.topFillColor2=n.Sr),n.Cr!==void 0&&(e.bottomFillColor1=n.Cr),n.Pr!==void 0&&(e.bottomFillColor2=n.Pr),e}function yme(n){const e={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(e.customValues=n.Iw),e}function eze(n){const e=yme(n);return n.R!==void 0&&(e.color=n.R),e}function tze(n){const e=yme(n),{R:r,Ht:i,vr:s}=n;return r!==void 0&&(e.color=r),i!==void 0&&(e.borderColor=i),s!==void 0&&(e.wickColor=s),e}function SS(n){return{Area:J$e,Line:uH,Baseline:Z$e,Histogram:uH,Bar:eze,Candlestick:tze,Custom:nze}[n]}function nze(n){const e=n.yw;return{...n.se,time:e}}const rze={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},ize={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},sze={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:nme,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},I3={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},oze={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function dH(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:sze,crosshair:rze,grid:ize,overlayPriceScales:{...I3},leftPriceScale:{...I3,visible:!1},rightPriceScale:{...I3,visible:!0},timeScale:oze,localization:{locale:v0?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class vme{constructor(e,r,i){this.Hf=e,this.wg=r,this.gg=i??0}applyOptions(e){this.Hf.Qt().oc(this.wg,e,this.gg)}options(){return this.Yi().N()}width(){return iE(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Fl(new os(e.from,e.to))}getVisibleRange(){let e,r,i=this.Yi().Qe();if(i===null)return null;if(this.Yi().Ja()){const s=this.Yi().fo(),o=mme(s);i=Bm(i,this.Yi().tl()),e=Number((Math.round(i.$e()/s)*s).toFixed(o)),r=Number((Math.round(i.qe()/s)*s).toFixed(o))}else e=i.$e(),r=i.qe();return{from:e,to:r}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return dt(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class aze{constructor(e,r,i,s){this.Hf=e,this.Pt=i,this.Mg=r,this.bg=s}getHeight(){return this.Pt.$t()}setHeight(e){const r=this.Hf.Qt(),i=r.Uc(this.Pt);r.vc(i,e)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(e){this.Pt.Io(e),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(e){const r=this.paneIndex();r!==e&&(mi(e>=0&&e<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(r,e))}getSeries(){return this.Pt.Oo().map(e=>this.Mg(e))??[]}getHTMLElement(){const e=this.Hf.$f();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].Zf():null}attachPrimitive(e){this.Pt._a(e),e.attached&&e.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(e){this.Pt.ua(e)}priceScale(e){if(this.Pt.Do(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new vme(this.Hf,e,this.paneIndex())}setPreserveEmptyPane(e){this.Pt.zo(e)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(e,r={},i=0){return this.bg.addCustomSeries(e,r,i)}addSeries(e,r={}){return this.bg.addSeries(e,r,this.paneIndex())}}const lze={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class hH{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}Sg(){return this.ir}}class cze{constructor(e,r,i,s,o,a){this.xg=new Or,this.Jn=e,this.Cg=r,this.Pg=i,this.o_=o,this.bg=s,this.yg=a}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(e){const r=this.Jn.zt();return r===null?null:this.Jn.Ft().Nt(e,r.Wt)}coordinateToPrice(e){const r=this.Jn.zt();return r===null?null:this.Jn.Ft().Ts(e,r.Wt)}barsInLogicalRange(e){if(e===null)return null;const r=new ig(new ev(e.from,e.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;const s=i.Fr(r.Uh(),1),o=i.Fr(r.bi(),-1),a=dt(i.Lr()),l=dt(i.Ks());if(s!==null&&o!==null&&s.Re>o.Re)return{barsBefore:e.from-a,barsAfter:l-e.to};const c={barsBefore:s===null||s.Re===a?e.from-a:s.Re-a,barsAfter:o===null||o.Re===l?l-e.to:l-o.Re};return s!==null&&o!==null&&(c.from=s.yw,c.to=o.yw),c}setData(e){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,e),this.Tg("full")}update(e,r=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,e,r),this.Tg("update")}pop(e=1){const r=this.Cg.Dg(this.Jn,e);r.length!==0&&this.Tg("update");const i=SS(this.seriesType());return r.map(s=>i(s))}dataByIndex(e,r){const i=this.Jn.Xs().Fr(e,r);return i===null?null:SS(this.seriesType())(i)}data(){const e=SS(this.seriesType());return this.Jn.Xs().Hr().map(r=>e(r))}subscribeDataChanged(e){this.xg.i(e)}unsubscribeDataChanged(e){this.xg._(e)}applyOptions(e){this.Jn.hr(e)}options(){return jc(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(e){const r=co(jc(lze),e),i=this.Jn.Oh(r);return new hH(i)}removePriceLine(e){this.Jn.Nh(e.Sg())}priceLines(){return this.Jn.Fh().map(e=>new hH(e))}seriesType(){return this.Jn.Rr()}lastValueData(e){const r=this.Jn.ye(e);return r.ke?{noData:!0}:{noData:!1,price:r.gt,color:r.R}}attachPrimitive(e){this.Jn._a(e),e.attached&&e.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(e){this.Jn.ua(e),e.detached&&e.detached(),this.Jn.Qt().Ih()}getPane(){const e=this.Jn,r=dt(this.Jn.Qt().Hn(e));return this.yg(r)}moveToPane(e){this.Jn.Qt().Nc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return e===null?-1:e.Oo().indexOf(this.Jn)}setSeriesOrder(e){const r=this.Jn.Qt().Hn(this.Jn);r!==null&&r.Qo(this.Jn,e)}Tg(e){this.xg.v()&&this.xg.p(e)}}class uze{constructor(e,r,i){this.Vg=new Or,this.z_=new Or,this.gm=new Or,this.ts=e,this.uh=e.Et(),this.Zm=r,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(e,r){r?this.uh.Tu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const e=this.uh.nu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const r={from:this.o_.convertHorzItemToInternal(e.from),to:this.o_.convertHorzItemToInternal(e.to)},i=this.uh.au(r);this.ts.Lc(i)}getVisibleLogicalRange(){const e=this.uh.su();return e===null?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){mi(e.from<=e.to,"The from index cannot be after the to index."),this.ts.Lc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(e){const r=this.ts.Et();return r.Ki()?null:r.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.cu(e)}timeToIndex(e,r){const i=this.o_.convertHorzItemToInternal(e);return this.uh.Q_(i,r)}timeToCoordinate(e){const r=this.timeToIndex(e,!1);return r===null?null:this.uh.qt(r)}coordinateToTime(e){const r=this.ts.Et(),i=r.cu(e),s=r.ss(i);return s===null?null:s.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(e){this.Vg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.Vg._(e)}subscribeVisibleLogicalRangeChange(e){this.z_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.z_._(e)}subscribeSizeChange(e){this.gm.i(e)}unsubscribeSizeChange(e){this.gm._(e)}applyOptions(e){this.uh.hr(e)}options(){return{...jc(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(e){this.gm.p(e.width,e.height)}}function fH(n){return function(e){if(l_(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:s}=e.handleScale;l_(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),l_(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const r=e.handleScroll;l_(r)&&(e.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})}(n),n}class dze{constructor(e,r,i){this.Ag=new Map,this.zg=new Map,this.Lg=new Or,this.Og=new Or,this.Ng=new Or,this.qu=new WeakMap,this.Fg=new U$e(r);const s=i===void 0?jc(dH()):co(jc(dH()),fH(i));this.Wg=r,this.Hf=new R$e(e,s,r),this.Hf.Xv().i(a=>{this.Lg.v()&&this.Lg.p(this.Hg(a()))},this),this.Hf.Zv().i(a=>{this.Og.v()&&this.Og.p(this.Hg(a()))},this),this.Hf.cc().i(a=>{this.Ng.v()&&this.Ng.p(this.Hg(a()))},this);const o=this.Hf.Qt();this.Ug=new uze(o,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(e,r,i){this.autoSizeActive()||this.Hf.Jm(e,r,i)}addCustomSeries(e,r={},i=0){const s=(o=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...X$e,...o.defaultOptions()},$g:Q$e,qg:o}))(vd(e));return this.Yg(s,r,i)}addSeries(e,r={},i=0){return this.Yg(e,r,i)}removeSeries(e){const r=Rs(this.Ag.get(e)),i=this.Fg.Ac(r);this.Hf.Qt().Ac(r),this.jg(i),this.Ag.delete(e),this.zg.delete(r)}kg(e,r){this.jg(this.Fg.Ww(e,r))}Rg(e,r,i){this.jg(this.Fg.jw(e,r,i))}Dg(e,r){const[i,s]=this.Fg.Zw(e,r);return i.length!==0&&this.jg(s),i}subscribeClick(e){this.Lg.i(e)}unsubscribeClick(e){this.Lg._(e)}subscribeCrosshairMove(e){this.Ng.i(e)}unsubscribeCrosshairMove(e){this.Ng._(e)}subscribeDblClick(e){this.Og.i(e)}unsubscribeDblClick(e){this.Og._(e)}priceScale(e,r=0){return new vme(this.Hf,e,r)}timeScale(){return this.Ug}applyOptions(e){this.Hf.hr(fH(e))}options(){return this.Hf.N()}takeScreenshot(e=!1,r=!1){let i,s;try{r||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),s=this.Hf.aw(e)}finally{r||i===void 0||this.Hf.Qt().hr({crosshair:{mode:i}})}return s}addPane(e=!1){const r=this.Hf.Qt().$c();return r.zo(e),this.Kg(r)}removePane(e){this.Hf.Qt().fc(e)}swapPanes(e,r){this.Hf.Qt().mc(e,r)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map(e=>this.Kg(e))}paneSize(e=0){const r=this.Hf.pw(e);return{height:r.height,width:r.width}}setCrosshairPosition(e,r,i){const s=this.Ag.get(i);if(s===void 0)return;const o=this.Hf.Qt().Hn(s);o!==null&&this.Hf.Qt().Rc(e,r,o)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(e,r={},i=0){mi(e.$g!==void 0),function(c){if(c===void 0||c.type==="custom")return;const u=c;u.minMove!==void 0&&u.precision===void 0&&(u.precision=mme(u.minMove))}(r.priceFormat),e.type==="Candlestick"&&function(c){c.borderColor!==void 0&&(c.borderUpColor=c.borderColor,c.borderDownColor=c.borderColor),c.wickColor!==void 0&&(c.wickUpColor=c.wickColor,c.wickDownColor=c.wickColor)}(r);const s=co(jc(eme),jc(e.defaultOptions),r),o=e.$g,a=new oE(this.Hf.Qt(),e.type,s,o,e.qg);this.Hf.Qt().Ic(a,i);const l=new cze(a,this,this,this,this.Wg,c=>this.Kg(c));return this.Ag.set(l,a),this.zg.set(a,l),l}jg(e){const r=this.Hf.Qt();r.Vc(e.Et._u,e.Et.tg,e.Et.ig),e.Oo.forEach((i,s)=>s.ht(i.se,i.Qw)),r.Et().K_(),r.vu()}Xg(e){return Rs(this.zg.get(e))}Hg(e){const r=new Map;e.Dw.forEach((s,o)=>{const a=o.Rr(),l=SS(a)(s);if(a!=="Custom")mi(j$e(l));else{const c=o.fa();mi(!c||c(l)===!1)}r.set(this.Xg(o),l)});const i=e.Rw!==void 0&&this.zg.has(e.Rw)?this.Xg(e.Rw):void 0;return{time:e.yw,logical:e.Re,point:e.kw,paneIndex:e.Tw,hoveredSeries:i,hoveredObjectId:e.Vw,seriesData:r,sourceEvent:e.Bw}}Kg(e){let r=this.qu.get(e);return r||(r=new aze(this.Hf,i=>this.Xg(i),e,this),this.qu.set(e,r)),r}}function hze(n){if(kx(n)){const e=document.getElementById(n);return mi(e!==null,`Cannot find element in DOM with id=${n}`),e}return n}function fze(n,e,r){const i=hze(n),s=new dze(i,e,r);return e.setOptions(s.options()),s}function pze(n,e){return fze(n,new Xq,Xq.ld(e))}({...eme});const mze=A.forwardRef(({initialData:n=[],symbol:e="BTC/USDC",height:r=500,showVolume:i=!0},s)=>{const o=A.useRef(null),a=A.useRef(null),l=A.useRef(null),c=A.useRef(null),[u,d]=A.useState(null),h=b=>{if(b==null)return console.warn("[KlineChart] Invalid price: undefined or null"),0;if(typeof b=="number")return isNaN(b)||!isFinite(b)||b<0?(console.warn("[KlineChart] Invalid price number:",b),0):b;if(typeof b=="string"){if(b.trim()==="")return console.warn("[KlineChart] Invalid price: empty string"),0;try{const y=It(b);return isNaN(y)||!isFinite(y)||y<0?(console.warn("[KlineChart] Invalid price after conversion:",b,"->",y),0):y}catch(y){return console.error("[KlineChart] Error parsing price:",b,y),0}}return console.warn("[KlineChart] Invalid price type:",typeof b,b),0},f=b=>{if(b.open===void 0||b.open===null||b.high===void 0||b.high===null||b.low===void 0||b.low===null||b.close===void 0||b.close===null)return console.warn("[KlineChart] Missing required OHLC fields:",b),null;const y=Math.floor((b.open_time||b.close_time||Date.now())/1e3),v=h(b.open),w=h(b.high),_=h(b.low),x=h(b.close);if(v<=0||w<=0||_<=0||x<=0)return console.warn("[KlineChart] Invalid kline data - non-positive prices detected:",{original:b,parsed:{open:v,high:w,low:_,close:x}}),null;const S=Math.max(v,w,_,x),C=Math.min(v,w,_,x);return(w!==S||_!==C)&&console.warn("[KlineChart] Kline data corrected - high/low were not extremes:",{original:{high:w,low:_},corrected:{high:S,low:C}}),{time:y,open:v,high:S,low:C,close:x}},p=b=>{if(!b.volume)return null;const y=Math.floor((b.open_time||b.close_time||Date.now())/1e3);let v;if(typeof b.volume=="number"){if(isNaN(b.volume)||!isFinite(b.volume)||b.volume<0)return console.warn("[KlineChart] Invalid volume number:",b.volume),null;v=b.volume}else if(typeof b.volume=="string"&&b.volume.trim()!=="")try{if(v=It(b.volume),isNaN(v)||!isFinite(v)||v<0)return console.warn("[KlineChart] Invalid volume after conversion:",b.volume,"->",v),null}catch(S){return console.error("[KlineChart] Error converting volume from satoshi:",b.volume,S),null}else return console.warn("[KlineChart] Invalid volume type:",typeof b.volume,b.volume),null;const w=h(b.close),_=h(b.open);if(w<=0||_<=0)return console.warn("[KlineChart] Invalid prices for volume color calculation:",{open:_,close:w}),null;const x=w>=_;return{time:y,value:v,color:x?"#26a69a80":"#ef535080"}},m=b=>{if(!l.current){console.warn("[KlineChart] updateChart called before chart is initialized");return}if(!b||typeof b!="object"){console.warn("[KlineChart] Invalid kline update data:",b);return}try{const y=f(b);if(!y){console.warn("[KlineChart] Failed to convert kline to bar, skipping update");return}const v=i?p(b):null;l.current.update(y),d(y.close),i&&c.current&&v&&c.current.update(v)}catch(y){console.error("[KlineChart] Error updating chart:",y)}};return A.useImperativeHandle(s,()=>({updateChart:m})),A.useEffect(()=>{if(!o.current)return;if(a.current){try{a.current.remove()}catch(_){console.warn("[KlineChart] Error removing existing chart:",_)}a.current=null,l.current=null,c.current=null}let b=null,y=null,v=null;const w=()=>{if(!o.current)return;const _=o.current,x=_.clientWidth||_.offsetWidth,S=r||500;if(!x||x<100){console.warn("[KlineChart] Container not ready, waiting for layout...",{clientWidth:_.clientWidth,offsetWidth:_.offsetWidth}),y=requestAnimationFrame(w);return}if(S<=0){console.warn("[KlineChart] Invalid height:",S);return}let C,E=null;try{b=pze(_,{width:x,height:S,layout:{background:{color:"#1e1e1e"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2a2e39"},timeScale:{borderColor:"#2a2e39",timeVisible:!0,secondsVisible:!1}}),typeof b.addCandlestickSeries=="function"?C=b.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}):C=b.addSeries("Candlestick",{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),i&&(typeof b.addHistogramSeries=="function"?E=b.addHistogramSeries({color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}):E=b.addSeries("Histogram",{color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}))}catch(T){console.error("[KlineChart] Error creating chart or series:",T);return}if(n.length>0&&C)try{C.setData(n),d(n[n.length-1].close)}catch(T){console.error("[KlineChart] Error setting initial data:",T)}a.current=b,l.current=C,c.current=E,v=()=>{if(o.current&&a.current){const T=o.current.clientWidth||o.current.offsetWidth;T>0&&a.current.applyOptions({width:T})}},window.addEventListener("resize",v)};return w(),()=>{if(y!==null&&cancelAnimationFrame(y),v&&window.removeEventListener("resize",v),b)try{b.remove()}catch(_){console.error("[KlineChart] Error removing chart:",_)}a.current=null,l.current=null,c.current=null}},[r,i]),A.useEffect(()=>{if(l.current&&n.length>0)try{l.current.setData(n),d(n[n.length-1].close)}catch(b){console.error("[KlineChart] Error setting initial data:",b)}},[n]),g.jsxs("div",{style:{position:"relative",width:"100%"},children:[g.jsx("div",{style:{marginBottom:"0.5rem",fontSize:"1.2rem",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:g.jsxs("span",{children:[e," Live Kline Chart",u!==null&&` - Current: $${u.toFixed(2)}`]})}),g.jsx("div",{ref:o,style:{position:"relative",width:"100%"}})]})});mze.displayName="KlineChart";function wme(){const n=document.getElementById("tradingview-widget-script");n&&n.parentNode&&n.parentNode.removeChild(n)}function gze(){return new Promise((n,e)=>{if(typeof window.TradingView<"u"){n();return}wme();const r=document.createElement("script");r.id="tradingview-widget-script",r.src=PNe,r.async=!0,r.onload=()=>{typeof window.TradingView<"u"?n():e(new Error("TradingView script loaded but TradingView object not found"))},r.onerror=()=>{e(new Error("Failed to load TradingView script"))},document.head.appendChild(r)})}function bze(n){if(typeof window.TradingView>"u")throw new Error("TradingView is not loaded. Call loadTradingViewScript() first.");const e={autosize:n.autosize!==!1,symbol:n.symbol,interval:n.interval,timezone:n.timezone||"Etc/UTC",theme:"dark",style:"1",locale:n.locale||"en",toolbar_bg:"#1a1a1a",enable_publishing:n.enablePublishing||!1,hide_top_toolbar:n.hideTopToolbar||!1,hide_legend:n.hideLegend||!1,save_image:!1,container_id:n.containerId,hide_volume:n.hideVolume||!1,studies:n.studies||["RSI@tv-basicstudies","MASimple@tv-basicstudies"]};return new window.TradingView.widget(e)}function yze(){return`tradingview-widget-container-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function vze({symbol:n=ANe,interval:e=TNe,isCollapsed:r=!1,className:i=""}){const s=A.useRef(null),o=A.useRef(null),a=A.useRef(yze());return A.useEffect(()=>{if(r||!s.current)return;s.current&&(s.current.id=a.current);let l=!0;return gze().then(()=>{if(!l||!s.current)return;const c={symbol:n,interval:e,containerId:a.current};o.current=bze(c)}).catch(c=>{console.error("Failed to load TradingView widget:",c)}),()=>{l=!1,o.current&&(o.current=null)}},[n,e,r]),A.useEffect(()=>()=>{wme()},[]),r?g.jsx("div",{className:`tradingview-widget-container ${i}`}):g.jsx("div",{className:`tradingview-widget-wrapper ${i}`,children:g.jsx("div",{ref:s,id:a.current,className:"tradingview-widget-container"})})}function wze({data:n,columns:e,maxItems:r,onItemClick:i,onItemDoubleClick:s,selectedIndex:o,onSelectionChange:a,emptyMessage:l="No items",className:c="",rowHeight:u=20,showHeader:d=!0,resizableColumns:h=!1}){const[f,p]=A.useState(null),[m,b]=A.useState(new Map),[y,v]=A.useState(null),[w,_]=A.useState("asc"),x=A.useRef(null),S=A.useRef(0),C=A.useRef(0),E=A.useMemo(()=>r&&r>0?n.slice(0,r):n,[n,r]),T=A.useMemo(()=>e.map(D=>{const j=m.get(D.key);return j?`${j}px`:D.width?typeof D.width=="number"?`${D.width}px`:D.width:"1fr"}).join(" "),[e,m]),M=A.useMemo(()=>{if(!y)return E;const D=e.find(j=>j.key===y);return!D||!D.sortable?E:[...E].sort((j,N)=>{const R=j[y],H=N[y];if(R===H)return 0;const U=R<H?-1:R>H?1:0;return w==="asc"?U:-U})},[E,y,w,e]),I=D=>{D.sortable&&(y===D.key?_(w==="asc"?"desc":"asc"):(v(D.key),_("asc")))},O=(D,j,N)=>{D.preventDefault(),D.stopPropagation(),p(j),S.current=D.clientX,C.current=N};A.useEffect(()=>{if(!f)return;const D=N=>{const R=N.clientX-S.current,H=Math.max(50,C.current+R),U=e.find(K=>K.key===f);U&&(U.maxWidth&&(H=Math.min(H,U.maxWidth)),U.minWidth&&(H=Math.max(H,U.minWidth))),b(K=>{const Y=new Map(K);return Y.set(f,H),Y})},j=()=>{p(null)};return document.addEventListener("mousemove",D),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",j)}},[f,e]);const F=D=>{const j=m.get(D.key);return j||(typeof D.width=="number"?D.width:150)},$=(D,j)=>{a==null||a(j),i==null||i(D,j)},z=(D,j)=>{s==null||s(D,j)};return g.jsxs("div",{className:`list-view-mac ${c}`,children:[d&&g.jsx("div",{ref:x,className:"list-view-mac-header",style:{gridTemplateColumns:T},children:e.map((D,j)=>{const N=y===D.key,R=F(D);return g.jsxs("div",{className:`list-view-mac-header-cell ${D.sortable?"sortable":""} ${D.align||"left"}`,style:{width:h?`${R}px`:void 0},onClick:()=>I(D),children:[g.jsx("span",{className:"list-view-mac-header-label",children:D.label}),N&&g.jsx("span",{className:"list-view-mac-sort-indicator",children:w==="asc"?"":""}),h&&j<e.length-1&&g.jsx("div",{className:"list-view-mac-resize-handle",onMouseDown:H=>O(H,D.key,R)})]},D.key)})}),g.jsx("div",{className:"list-view-mac-body",children:M.length===0?g.jsx("div",{className:"list-view-mac-empty",children:l}):M.map((D,j)=>{const N=o===j;return g.jsx("div",{className:`list-view-mac-row ${N?"selected":""}`,style:{gridTemplateColumns:T,height:`${u}px`},onClick:()=>$(D,j),onDoubleClick:()=>z(D,j),children:e.map(R=>{const H=F(R);return g.jsx("div",{className:`list-view-mac-cell ${R.align||"left"}`,style:{width:h?`${H}px`:void 0},children:R.render?R.render(D,j):String(D[R.key]??"")},R.key)})},j)})}),r&&n.length>r&&g.jsxs("div",{className:"list-view-mac-footer",children:["Showing ",r," of ",n.length," items"]})]})}function xze(n){var Re;const[e,r]=A.useState("vertical"),[i,s]=A.useState(!0),[o,a]=A.useState(!1),[l,c]=A.useState("--"),[u,d]=A.useState(void 0),[h,f]=A.useState(!1),[p,m]=A.useState(10),[b,y]=A.useState(!1),[v,w]=A.useState(0),[_,x]=A.useState(0),[S,C]=A.useState("default"),E=A.useRef(null),T=A.useRef(null),M=A.useRef(!1),[I,O]=A.useState(!1),F=A.useRef(!1),$=A.useRef(gp),z=A.useRef(eh),D=A.useRef([]),j=$.current,N=z.current,R=A.useMemo(()=>Xy(S==="default"?Ky:S==="widthfit"?QLe:S==="rightTrade"?JLe:S==="testTrade"?ZLe:eFe),[S]),[H,U]=A.useState(()=>Xy(Ky));A.useEffect(()=>{U(R),D.current=R,O(!1),F.current=!1},[R]);const[K,Y]=A.useState(()=>localStorage.getItem("authToken")||""),{markets:J,selectedMarketId:G,selectedMarketSymbol:X,setSelectedMarketId:ae,loadingMarkets:ge,getError:le}=Ul({baseURL:j,sessionToken:K,autoFetchMarkets:!0}),{client:ie,toggleEnabled:Te}=Gd(),{mnemonic:Ee,walletAddress:V,authToken:Ie,setMnemonic:Ye}=pu();A.useEffect(()=>{Ee||Ye(zC)},[Ee,Ye]),A.useEffect(()=>{D.current=H},[H]),A.useEffect(()=>{Ie&&(Y(Ie),localStorage.setItem("authToken",Ie))},[Ie]);const{setAuthToken:nt,setWalletAddress:Ue}=Gd();A.useEffect(()=>{nt(K||void 0)},[K,nt]),A.useEffect(()=>{Ue(V||void 0)},[V,Ue]);const mt=A.useRef(!1);A.useEffect(()=>{K&&K.trim()!==""&&!mt.current&&localStorage.getItem("authToken")!==K&&localStorage.setItem("authToken",K),mt.current=!1},[K]),A.useEffect(()=>{const he=_e=>{_e.key==="authToken"&&_e.newValue&&(mt.current=!0,Y(_e.newValue))};window.addEventListener("storage",he);const Pe=setInterval(()=>{const _e=localStorage.getItem("authToken");Y(re=>_e&&_e!==re?(mt.current=!0,_e):re)},5e3);return()=>{window.removeEventListener("storage",he),clearInterval(Pe)}},[]);const He=A.useCallback(()=>{O(!0)},[]);A.useEffect(()=>{I&&!ge&&J.length>0&&G&&!F.current&&(F.current=!0,setTimeout(()=>{Te()},100))},[I,ge,J.length,G,Te]);const xe=A.useMemo(()=>{var he,Pe,_e,re;return J.length>0?((he=J.find(ne=>ne.active))==null?void 0:he.market_id)??J[0].market_id??((_e=(Pe=J.find(ne=>ne.active))==null?void 0:Pe.id)==null?void 0:_e.toString())??((re=J[0].id)==null?void 0:re.toString())??null:null},[J]),Ve=A.useCallback((he,Pe)=>{if(i)return;const _e=D.current,re=he;if(_e.length!==re.length){M.current=!0,D.current=re,U(re);return}let ne=!1;for(let se=0;se<_e.length;se++){const rt=_e[se],Le=re[se];if(rt.x!==Le.x||rt.y!==Le.y||rt.w!==Le.w||rt.h!==Le.h||rt.i!==Le.i){ne=!0;break}}ne&&(M.current=!0,D.current=re,U(re))},[i]),Oe=A.useCallback(()=>{r(he=>he==="horizontal"?"vertical":he==="vertical"?null:"horizontal")},[]),Ne=A.useCallback(()=>{a(he=>!he)},[]);A.useEffect(()=>(o?document.body.classList.add("full-width-screen"):document.body.classList.remove("full-width-screen"),()=>{document.body.classList.remove("full-width-screen")}),[o]);const Ae=A.useCallback(()=>{s(he=>!he),i&&(M.current=!1)},[i]),Se=A.useCallback(()=>{E.current&&(M.current=!1,E.current.generateNewLayout())},[]),W=A.useCallback(async()=>{try{const Pe=`[
${H.slice().sort((_e,re)=>{const ne=_e,se=re,rt=parseInt(ne.i,10),Le=parseInt(se.i,10);return rt-Le}).map(_e=>{const re=_e;return`  [${re.x}, ${re.y}, ${re.w}, ${re.h}]`}).join(`,
`)},
]`;await navigator.clipboard.writeText(Pe),alert("Layout matrix copied to clipboard!")}catch(he){console.error("Failed to copy layout matrix:",he),alert("Failed to copy layout matrix to clipboard")}},[H]),de=A.useMemo(()=>H.map(function(he){const Pe=he;return g.jsxs("div",{className:"layoutItem",children:[g.jsx("b",{children:Pe.i}),": [",Pe.x,", ",Pe.y,", ",Pe.w,", ",Pe.h,"]"]},Pe.i)}),[H]),me=G||"",oe=30,pe=10,ye=12,Z=A.useMemo(()=>{if(H.length===0)return{};const he={};for(let Pe=0;Pe<=6;Pe++){const _e=H.find(re=>re.i===Pe.toString());if(_e){const re=_e,ne=re.h*oe+(re.h-1)*pe,se=re.w/ye*100;he[Pe]={width:`${se}%`,height:`${ne}px`}}}return he},[H]),ue=A.useCallback(he=>{T.current&&T.current.setPrice(he)},[]),ce=A.useMemo(()=>{var he,Pe,_e,re,ne,se;return[g.jsx(vze,{symbol:"BINANCE:BTCUSDT",interval:"5",isCollapsed:!1},"tv"),g.jsx(L9e,{baseURL:j,subscriptionClient:ie,marketId:me,maxDepth:20,height:(he=Z[1])==null?void 0:he.height,onPriceClick:ue},`clobx-${me}`),g.jsx(R9e,{baseURL:j,subscriptionClient:ie,marketId:me},`price-${me}`),g.jsx(O9e,{ref:T,baseURL:j,mnemonic:Ee,marketId:me,selectedBucketBalance:u,selectedBucketId:l,authToken:K,walletAddress:V,onLeverageClick:()=>{T.current&&m(T.current.leverage),f(!0)},onNumberCalculatorClick:()=>{if(T.current){const rt=T.current.getSizeInput(),Le=T.current.getAvailableTradeAmount();w(rt),x(Le),y(!0)}}},`trade-${me}`),g.jsx(A9e,{baseURL:j,subscriptionClient:ie,authToken:K,walletAddress:V,mnemonic:Ee,height:(Pe=Z[4])==null?void 0:Pe.height,refreshInterval:5e3},`order-${me}`),g.jsx(P9e,{baseURL:j,subscriptionClient:ie,authToken:K,walletAddress:V,mnemonic:Ee,height:(_e=Z[5])==null?void 0:_e.height,refreshInterval:5e3,selectedBucketId:l},`pos-${me}`),g.jsx(S9e,{baseURL:j,subscriptionClient:ie,mnemonic:Ee,authToken:K,walletAddress:V,height:(re=Z[6])==null?void 0:re.height,refreshInterval:5e3,onBucketSelect:(rt,Le)=>{c(rt),d(Le)}},`bucket-${me}`),g.jsx(C9e,{title:"Dummy Component",message:"This is a dummy component",height:(ne=Z[7])==null?void 0:ne.height},`clobclassic-${me}`),g.jsx(M9e,{baseURL:j,selectedMarketId:me,height:(se=Z[8])==null?void 0:se.height},`ticker-${me}`)]},[j,N,K,V,me,X,Z,l,u,ue]);if(ge)return g.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:g.jsx("div",{children:"Loading markets..."})});const Ce=le("markets");return Ce?g.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:g.jsxs("div",{children:["Error loading markets: ",Ce]})}):J.length===0||!G?g.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:g.jsx("div",{children:"No markets available."})}):g.jsxs("div",{className:"App-content-row",children:[g.jsxs("div",{className:"App-section",children:[g.jsx("h3",{style:{marginTop:"0",marginBottom:"0.75rem"},children:"Configuration"}),g.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",flexWrap:"wrap"},children:[g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Market:"}),g.jsx("select",{value:G||"",onChange:he=>{const Pe=he.target.value;Pe&&ae(Pe)},style:{width:"100%",padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:J.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),J.map(he=>{var ne;const Pe=he.market_id??((ne=he.id)==null?void 0:ne.toString())??"",_e=he.moniker?he.moniker:he.symbol?he.symbol:he.baseAsset&&he.quoteAsset?`${he.baseAsset}-${he.quoteAsset}`:`Market ID: ${Pe}`,re=he.active?" [ACTIVE]":"";return g.jsxs("option",{value:Pe,children:[_e," - ID: ",Pe,re]},Pe)})]})}),J.length>0&&g.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:G===xe?"#51cf66":"#ff9f43"},children:G===xe?` Auto-selected default market (ID: ${xe==null?void 0:xe.substring(0,16)}...)`:` Manual selection (ID: ${G==null?void 0:G.substring(0,16)}...)`})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Mnemonic (for wallet address):"}),g.jsx("input",{type:"text",value:Ee||"",onChange:he=>Ye(he.target.value),placeholder:"Enter mnemonic to generate wallet address",style:{width:"100%",padding:"0.5rem",fontSize:"1rem",border:"1px solid #ccc",backgroundColor:"white",color:"#333"}})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Wallet Address:"}),g.jsx("input",{type:"text",value:V||"",disabled:!!(Ee&&Ee.trim()!==""),placeholder:"automatic (from mnemonic via useOnboard)",style:{width:"100%",padding:"0.5rem",fontSize:"1rem",border:"1px solid #ccc",backgroundColor:V?"#e7f3ff":"#f5f5f5",color:"#333"}}),V&&g.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:"#28a745"},children:" Auto-generated from mnemonic via useOnboard hook"})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Layout Type:"}),g.jsxs("select",{value:S,onChange:he=>{const Pe=he.target.value;C(Pe)},style:{width:"100%",padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:[g.jsx("option",{value:"default",children:"Default Predefined Layouts"}),g.jsx("option",{value:"widthfit",children:"Width Fit"}),g.jsx("option",{value:"rightTrade",children:"Right Trade"}),g.jsx("option",{value:"testTrade",children:"Test Trade"}),g.jsx("option",{value:"triPanel",children:"Tri Panel"})]})]})]}),g.jsx("h3",{children:"Layout Controls"}),g.jsx("button",{onClick:Se,style:{marginRight:"0.5rem"},children:"Generate New Layout"}),g.jsx("button",{onClick:Ae,style:{marginRight:"0.5rem"},children:i?"Enable Dragging":"Disable Dragging"}),g.jsx("button",{onClick:Oe,style:{marginRight:"0.5rem"},children:"Change Compaction Type"}),g.jsx("button",{onClick:Ne,children:"Full Width Screen"}),g.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.9em",color:"#fff"},children:["Compaction type:"," ",e?e.charAt(0).toUpperCase()+e.slice(1):"No Compaction"]})]}),g.jsx(o4,{ref:E,onLayoutChange:Ve,slotContent:ce,compactType:e,allStatic:i,onCompactTypeChange:Oe,onToggleStatic:Ae,onNewLayout:Se,initialLayout:R,onMount:He},S),g.jsxs("div",{className:"overview-layout layoutJSON",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[g.jsxs("span",{children:["Displayed as ",g.jsx("code",{children:"[x, y, w, h]"}),":"]}),g.jsx("button",{onClick:W,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",borderRadius:"4px",border:"1px solid #313131",backgroundColor:"#ccc",color:"black",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:he=>{he.currentTarget.style.color="white",he.currentTarget.style.backgroundColor="#0056b3"},onMouseOut:he=>{he.currentTarget.style.color="black",he.currentTarget.style.backgroundColor="#ccc"},children:"Copy"})]}),g.jsx("div",{className:"columns",children:de})]}),g.jsx(w9e,{isOpen:h,currentLeverage:((Re=T.current)==null?void 0:Re.leverage)||10,tempLeverage:p,maxRatio:T.current?T.current.calculateMaxRatio(p):p.toFixed(2),onLeverageChange:m,onConfirm:async()=>{if(!l||l==="--"||l.trim()===""){pt.error("Bucket Required",{description:"Please select a bucket before changing leverage."});return}if(T.current){f(!1);try{await T.current.changeLeverage(p,{bucketId:l})}catch{T.current&&m(T.current.leverage)}}else f(!1)},onCancel:()=>{T.current&&m(T.current.leverage),f(!1)}}),g.jsx(lpe,{isOpen:b,value:v,min:0,max:_,onConfirm:he=>{T.current&&T.current.setSizeInput(he),y(!1)},onCancel:()=>{y(!1)}})]})}function _ze(){return g.jsx(y9,{defaultWsURL:eh,children:g.jsx(xze,{})})}function Sze({isConnected:n,label:e,className:r=""}){return g.jsx("span",{className:`hooks-test-status-badge ${n?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"} ${r}`,children:e||(n?"WS Connected":"WS Disconnected")})}function kze({isEnabled:n,isConnected:e,connectionState:r,retainedDataCount:i,onToggle:s}){return g.jsxs("div",{className:"App-section hooks-test-websocket-section",children:[g.jsxs("div",{className:"hooks-test-websocket-controls",children:[g.jsxs("button",{onClick:s,className:`hooks-test-websocket-button ${n?"hooks-test-websocket-button-enabled":"hooks-test-websocket-button-disabled"}`,children:[n?"Disable":"Enable"," Connect WebSocket"]}),g.jsxs("span",{className:`hooks-test-connection-status ${n?"hooks-test-connection-status-enabled":"hooks-test-connection-status-disabled"} ${e?"hooks-test-connection-status-connected":"hooks-test-connection-status-disconnected"}`,children:[e?" Connected":" Disconnected"," (",r,")"]})]}),n&&g.jsxs("div",{className:"hooks-test-websocket-info",children:["WebSocket is enabled. Hooks will receive real-time updates via multi-feed channel.",i>0&&g.jsxs("span",{className:"hooks-test-retained-data-info",children:["Retained data: ",i," sub-channels"]})]})]})}function ol({title:n,isConnected:e,statusBadges:r=[],actions:i=[],className:s=""}){return g.jsxs("div",{className:`hooks-test-section-header-flex ${s}`,children:[g.jsx("h2",{className:"hooks-test-section-header-title",children:n}),g.jsxs("div",{className:"hooks-test-status-group",children:[e!==void 0&&g.jsx(Sze,{isConnected:e}),r.map((o,a)=>g.jsx("span",{children:o},a)),i.map((o,a)=>g.jsx("span",{children:o},a))]})]})}function Cze({item:n,displayFields:e,originalIndex:r,rowWidth:i,color:s,onItemClick:o}){return g.jsxs("div",{className:"data-flow-row",onClick:()=>{o&&o(n)},style:{width:`${i}px`,background:s},children:[g.jsx("div",{className:"data-flow-row-header",children:n.timestamp?new Date(n.timestamp).toLocaleTimeString():`#${r+1}`}),g.jsx("div",{className:"data-flow-row-fields",children:e.map((a,l)=>g.jsxs("div",{className:"data-flow-field",children:[g.jsxs("span",{className:"data-flow-field-label",children:[a.label,":"]}),g.jsx("span",{className:"data-flow-field-value",children:a.value})]},l))}),g.jsx("div",{className:"data-flow-row-footer",children:"Click to view RAW data"})]})}function nm({data:n,maxVisible:e=10,maxDataPoints:r=100,height:i=400,width:s=1080,rowWidth:o=280,onItemClick:a,getValue:l,color:c="#2196F3"}){const u=A.useRef(null),d=A.useRef(null),h=A.useRef(0),[f,p]=A.useState(!1),[m,b]=A.useState(0),y=20,v=800,w=A.useMemo(()=>!n||n.length===0?[]:n.length<=r?n:n.slice(-r),[n,r]),_=x=>{const S=[];if(x.timestamp!==void 0&&S.push({label:"Time",value:new Date(x.timestamp).toLocaleTimeString()}),x.market_id!==void 0&&S.push({label:"Market",value:String(x.market_id)}),x.symbol!==void 0&&S.push({label:"Symbol",value:String(x.symbol)}),x.open!==void 0){const C=Number(x.open);S.push({label:"Open",value:isNaN(C)?String(x.open):C.toFixed(4)})}if(x.close!==void 0){const C=Number(x.close);S.push({label:"Close",value:isNaN(C)?String(x.close):C.toFixed(4)})}if(x.high!==void 0){const C=Number(x.high);S.push({label:"High",value:isNaN(C)?String(x.high):C.toFixed(4)})}if(x.low!==void 0){const C=Number(x.low);S.push({label:"Low",value:isNaN(C)?String(x.low):C.toFixed(4)})}if(x.volume!==void 0){const C=Number(x.volume);S.push({label:"Volume",value:isNaN(C)?String(x.volume):C.toFixed(2)})}if(x.price!==void 0){const C=Number(x.price);S.push({label:"Price",value:isNaN(C)?String(x.price):C.toFixed(4)})}if(x.mark_price!==void 0){const C=Number(x.mark_price);S.push({label:"Mark Price",value:isNaN(C)?String(x.mark_price):C.toFixed(4)})}if(x.last_price!==void 0){const C=Number(x.last_price);S.push({label:"Last Price",value:isNaN(C)?String(x.last_price):C.toFixed(4)})}if(x.size!==void 0){const C=Number(x.size);S.push({label:"Size",value:isNaN(C)?String(x.size):C.toFixed(4)})}if(x.entryPrice!==void 0){const C=Number(x.entryPrice);S.push({label:"Entry",value:isNaN(C)?String(x.entryPrice):C.toFixed(4)})}if(x.unrealizedPnL!==void 0){const C=Number(x.unrealizedPnL);S.push({label:"PnL",value:isNaN(C)?String(x.unrealizedPnL):C.toFixed(4)})}if(x.orderId!==void 0&&S.push({label:"Order ID",value:String(x.orderId)}),x.status!==void 0&&S.push({label:"Status",value:String(x.status)}),x.bucketId!==void 0&&S.push({label:"Bucket ID",value:String(x.bucketId)}),x.maxLeverage!==void 0&&S.push({label:"Max Lev",value:String(x.maxLeverage)}),x.value!==void 0&&S.length===0){const C=Number(x.value);S.push({label:"Value",value:isNaN(C)?String(x.value):C.toFixed(4)})}return S.length===0&&S.push({label:"Data",value:"Click to view"}),S.slice(0,6)};return A.useEffect(()=>{if(!d.current||!u.current)return;const x=w.length;if(x===0){b(0),h.current=0;return}const E=u.current.offsetWidth-20*2,T=x*o+(x-1)*y;if(T>E){const I=T-E;b(-I)}else b(0);const M=w.length>h.current;h.current=w.length,M&&d.current&&requestAnimationFrame(()=>{d.current&&d.current.offsetWidth})},[w.length,o,y,s]),A.useEffect(()=>{d.current&&(d.current.style.transition=f?"none":`transform ${v}ms ease-out`,d.current.style.transform=`translateX(${m}px)`)},[m,f,v]),g.jsxs("div",{ref:u,className:"data-flow-container",style:{width:`${s}px`,height:`${i}px`},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[g.jsx("div",{ref:d,className:"data-flow-rows-wrapper",style:{gap:`${y}px`},children:w.map((x,S)=>{const C=_(x),E=S;return g.jsx(Cze,{item:x,displayFields:C,originalIndex:E,rowWidth:o,color:c,onItemClick:a},`${E}-${x.timestamp||Date.now()}-${x.id||JSON.stringify(x)}`)})}),f&&g.jsx("div",{className:"data-flow-paused-indicator",children:"Paused"})]})}function Eze({data:n,isOpen:e,onClose:r,title:i="Data Details"}){return A.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),A.useEffect(()=>{const s=o=>{o.key==="Escape"&&e&&r()};return e&&window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[e,r]),e?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"data-modal-overlay",onClick:r}),g.jsxs("div",{className:"data-modal",onClick:s=>s.stopPropagation(),children:[g.jsx("h3",{className:"data-modal-title",children:i}),g.jsx("pre",{className:"data-modal-content",children:JSON.stringify(n,null,2)}),g.jsx("button",{className:"data-modal-close-button",onClick:r,children:"Close"})]})]}):null}function kS(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Aze(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function xme(n){let e,r,i;n.length!==2?(e=kS,r=(l,c)=>kS(n(l),c),i=(l,c)=>n(l)-c):(e=n===kS||n===Aze?n:Tze,r=n,i=n);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&i(l[h-1],c)>-i(l[h],c)?h-1:h}return{left:s,center:a,right:o}}function Tze(){return 0}function Pze(n){return n===null?NaN:+n}const Ize=xme(kS),Mze=Ize.right;xme(Pze).center;class pH extends Map{constructor(e,r=Rze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,s]of e)this.set(i,s)}get(e){return super.get(mH(this,e))}has(e){return super.has(mH(this,e))}set(e,r){return super.set(Oze(this,e),r)}delete(e){return super.delete(Dze(this,e))}}function mH({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function Oze({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function Dze({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function Rze(n){return n!==null&&typeof n=="object"?n.valueOf():n}const Nze=Math.sqrt(50),jze=Math.sqrt(10),Bze=Math.sqrt(2);function Xk(n,e,r){const i=(e-n)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=Nze?10:o>=jze?5:o>=Bze?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/a,l=Math.round(n*u),c=Math.round(e*u),l/u<n&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*a,l=Math.round(n/u),c=Math.round(e/u),l*u<n&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Xk(n,e,r*2):[l,c,u]}function Lze(n,e,r){if(e=+e,n=+n,r=+r,!(r>0))return[];if(n===e)return[n];const i=e<n,[s,o,a]=i?Xk(e,n,r):Xk(n,e,r);if(!(o>=s))return[];const l=o-s+1,c=new Array(l);if(i)if(a<0)for(let u=0;u<l;++u)c[u]=(o-u)/-a;else for(let u=0;u<l;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(s+u)/-a;else for(let u=0;u<l;++u)c[u]=(s+u)*a;return c}function h4(n,e,r){return e=+e,n=+n,r=+r,Xk(n,e,r)[2]}function Fze(n,e,r){e=+e,n=+n,r=+r;const i=e<n,s=i?h4(e,n,r):h4(n,e,r);return(i?-1:1)*(s<0?1/-s:s)}function gH(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function bH(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function $ze(n,e,r){n=+n,e=+e,r=(s=arguments.length)<2?(e=n,n=0,1):s<3?1:+r;for(var i=-1,s=Math.max(0,Math.ceil((e-n)/r))|0,o=new Array(s);++i<s;)o[i]=n+i*r;return o}function zze(n,e){let r=0;for(let i of n)(i=+i)&&(r+=i);return r}function Uze(n){return n}var M3=1,O3=2,f4=3,Sy=4,yH=1e-6;function Wze(n){return"translate("+n+",0)"}function qze(n){return"translate(0,"+n+")"}function Hze(n){return e=>+n(e)}function Vze(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),r=>+n(r)+e}function Gze(){return!this.__axis}function _me(n,e){var r=[],i=null,s=null,o=6,a=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=n===M3||n===Sy?-1:1,d=n===Sy||n===O3?"x":"y",h=n===M3||n===f4?Wze:qze;function f(p){var m=i??(e.ticks?e.ticks.apply(e,r):e.domain()),b=s??(e.tickFormat?e.tickFormat.apply(e,r):Uze),y=Math.max(o,0)+l,v=e.range(),w=+v[0]+c,_=+v[v.length-1]+c,x=(e.bandwidth?Vze:Hze)(e.copy(),c),S=p.selection?p.selection():p,C=S.selectAll(".domain").data([null]),E=S.selectAll(".tick").data(m,e).order(),T=E.exit(),M=E.enter().append("g").attr("class","tick"),I=E.select("line"),O=E.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(M),I=I.merge(M.append("line").attr("stroke","currentColor").attr(d+"2",u*o)),O=O.merge(M.append("text").attr("fill","currentColor").attr(d,u*y).attr("dy",n===M3?"0em":n===f4?"0.71em":"0.32em")),p!==S&&(C=C.transition(p),E=E.transition(p),I=I.transition(p),O=O.transition(p),T=T.transition(p).attr("opacity",yH).attr("transform",function(F){return isFinite(F=x(F))?h(F+c):this.getAttribute("transform")}),M.attr("opacity",yH).attr("transform",function(F){var $=this.parentNode.__axis;return h(($&&isFinite($=$(F))?$:x(F))+c)})),T.remove(),C.attr("d",n===Sy||n===O3?a?"M"+u*a+","+w+"H"+c+"V"+_+"H"+u*a:"M"+c+","+w+"V"+_:a?"M"+w+","+u*a+"V"+c+"H"+_+"V"+u*a:"M"+w+","+c+"H"+_),E.attr("opacity",1).attr("transform",function(F){return h(x(F)+c)}),I.attr(d+"2",u*o),O.attr(d,u*y).text(b),S.filter(Gze).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===O3?"start":n===Sy?"end":"middle"),S.each(function(){this.__axis=x})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(i=p==null?null:Array.from(p),f):i&&i.slice()},f.tickFormat=function(p){return arguments.length?(s=p,f):s},f.tickSize=function(p){return arguments.length?(o=a=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(a=+p,f):a},f.tickPadding=function(p){return arguments.length?(l=+p,f):l},f.offset=function(p){return arguments.length?(c=+p,f):c},f}function vH(n){return _me(f4,n)}function Yze(n){return _me(Sy,n)}var Kze={value:()=>{}};function Ex(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new CS(r)}function CS(n){this._=n}function Xze(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}CS.prototype=Ex.prototype={constructor:CS,on:function(n,e){var r=this._,i=Xze(n+"",r),s,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((s=(n=i[o]).type)&&(s=Qze(r[s],n.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(s=(n=i[o]).type)r[s]=wH(r[s],n.name,e);else if(e==null)for(s in r)r[s]=wH(r[s],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new CS(n)},call:function(n,e){if((s=arguments.length-2)>0)for(var r=new Array(s),i=0,s,o;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],i=0,s=o.length;i<s;++i)o[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,o=i.length;s<o;++s)i[s].value.apply(e,r)}};function Qze(n,e){for(var r=0,i=n.length,s;r<i;++r)if((s=n[r]).name===e)return s.value}function wH(n,e,r){for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n[i]=Kze,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}var p4="http://www.w3.org/1999/xhtml";const xH={svg:"http://www.w3.org/2000/svg",xhtml:p4,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lE(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),xH.hasOwnProperty(e)?{space:xH[e],local:n}:n}function Jze(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===p4&&e.documentElement.namespaceURI===p4?e.createElement(n):e.createElementNS(r,n)}}function Zze(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Sme(n){var e=lE(n);return(e.local?Zze:Jze)(e)}function eUe(){}function $9(n){return n==null?eUe:function(){return this.querySelector(n)}}function tUe(n){typeof n!="function"&&(n=$9(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=new Array(a),c,u,d=0;d<a;++d)(c=o[d])&&(u=n.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new as(i,this._parents)}function kme(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function nUe(){return[]}function Cme(n){return n==null?nUe:function(){return this.querySelectorAll(n)}}function rUe(n){return function(){return kme(n.apply(this,arguments))}}function iUe(n){typeof n=="function"?n=rUe(n):n=Cme(n);for(var e=this._groups,r=e.length,i=[],s=[],o=0;o<r;++o)for(var a=e[o],l=a.length,c,u=0;u<l;++u)(c=a[u])&&(i.push(n.call(c,c.__data__,u,a)),s.push(c));return new as(i,s)}function Eme(n){return function(){return this.matches(n)}}function Ame(n){return function(e){return e.matches(n)}}var sUe=Array.prototype.find;function oUe(n){return function(){return sUe.call(this.children,n)}}function aUe(){return this.firstElementChild}function lUe(n){return this.select(n==null?aUe:oUe(typeof n=="function"?n:Ame(n)))}var cUe=Array.prototype.filter;function uUe(){return Array.from(this.children)}function dUe(n){return function(){return cUe.call(this.children,n)}}function hUe(n){return this.selectAll(n==null?uUe:dUe(typeof n=="function"?n:Ame(n)))}function fUe(n){typeof n!="function"&&(n=Eme(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=[],c,u=0;u<a;++u)(c=o[u])&&n.call(c,c.__data__,u,o)&&l.push(c);return new as(i,this._parents)}function Tme(n){return new Array(n.length)}function pUe(){return new as(this._enter||this._groups.map(Tme),this._parents)}function Qk(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Qk.prototype={constructor:Qk,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function mUe(n){return function(){return n}}function gUe(n,e,r,i,s,o){for(var a=0,l,c=e.length,u=o.length;a<u;++a)(l=e[a])?(l.__data__=o[a],i[a]=l):r[a]=new Qk(n,o[a]);for(;a<c;++a)(l=e[a])&&(s[a]=l)}function bUe(n,e,r,i,s,o,a){var l,c,u=new Map,d=e.length,h=o.length,f=new Array(d),p;for(l=0;l<d;++l)(c=e[l])&&(f[l]=p=a.call(c,c.__data__,l,e)+"",u.has(p)?s[l]=c:u.set(p,c));for(l=0;l<h;++l)p=a.call(n,o[l],l,o)+"",(c=u.get(p))?(i[l]=c,c.__data__=o[l],u.delete(p)):r[l]=new Qk(n,o[l]);for(l=0;l<d;++l)(c=e[l])&&u.get(f[l])===c&&(s[l]=c)}function yUe(n){return n.__data__}function vUe(n,e){if(!arguments.length)return Array.from(this,yUe);var r=e?bUe:gUe,i=this._parents,s=this._groups;typeof n!="function"&&(n=mUe(n));for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var d=i[u],h=s[u],f=h.length,p=wUe(n.call(d,d&&d.__data__,u,i)),m=p.length,b=l[u]=new Array(m),y=a[u]=new Array(m),v=c[u]=new Array(f);r(d,h,b,y,v,p,e);for(var w=0,_=0,x,S;w<m;++w)if(x=b[w]){for(w>=_&&(_=w+1);!(S=y[_])&&++_<m;);x._next=S||null}}return a=new as(a,i),a._enter=l,a._exit=c,a}function wUe(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function xUe(){return new as(this._exit||this._groups.map(Tme),this._parents)}function _Ue(n,e,r){var i=this.enter(),s=this,o=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?o.remove():r(o),i&&s?i.merge(s).order():s}function SUe(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,s=r.length,o=i.length,a=Math.min(s,o),l=new Array(s),c=0;c<a;++c)for(var u=r[c],d=i[c],h=u.length,f=l[c]=new Array(h),p,m=0;m<h;++m)(p=u[m]||d[m])&&(f[m]=p);for(;c<s;++c)l[c]=r[c];return new as(l,this._parents)}function kUe(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],s=i.length-1,o=i[s],a;--s>=0;)(a=i[s])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function CUe(n){n||(n=EUe);function e(h,f){return h&&f?n(h.__data__,f.__data__):!h-!f}for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o){for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d=0;d<l;++d)(u=a[d])&&(c[d]=u);c.sort(e)}return new as(s,this._parents).order()}function EUe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function AUe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function TUe(){return Array.from(this)}function PUe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length;s<o;++s){var a=i[s];if(a)return a}return null}function IUe(){let n=0;for(const e of this)++n;return n}function MUe(){return!this.node()}function OUe(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],o=0,a=s.length,l;o<a;++o)(l=s[o])&&n.call(l,l.__data__,o,s);return this}function DUe(n){return function(){this.removeAttribute(n)}}function RUe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function NUe(n,e){return function(){this.setAttribute(n,e)}}function jUe(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function BUe(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function LUe(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function FUe(n,e){var r=lE(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?RUe:DUe:typeof e=="function"?r.local?LUe:BUe:r.local?jUe:NUe)(r,e))}function Pme(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function $Ue(n){return function(){this.style.removeProperty(n)}}function zUe(n,e,r){return function(){this.style.setProperty(n,e,r)}}function UUe(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function WUe(n,e,r){return arguments.length>1?this.each((e==null?$Ue:typeof e=="function"?UUe:zUe)(n,e,r??"")):w0(this.node(),n)}function w0(n,e){return n.style.getPropertyValue(e)||Pme(n).getComputedStyle(n,null).getPropertyValue(e)}function qUe(n){return function(){delete this[n]}}function HUe(n,e){return function(){this[n]=e}}function VUe(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function GUe(n,e){return arguments.length>1?this.each((e==null?qUe:typeof e=="function"?VUe:HUe)(n,e)):this.node()[n]}function Ime(n){return n.trim().split(/^|\s+/)}function z9(n){return n.classList||new Mme(n)}function Mme(n){this._node=n,this._names=Ime(n.getAttribute("class")||"")}Mme.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Ome(n,e){for(var r=z9(n),i=-1,s=e.length;++i<s;)r.add(e[i])}function Dme(n,e){for(var r=z9(n),i=-1,s=e.length;++i<s;)r.remove(e[i])}function YUe(n){return function(){Ome(this,n)}}function KUe(n){return function(){Dme(this,n)}}function XUe(n,e){return function(){(e.apply(this,arguments)?Ome:Dme)(this,n)}}function QUe(n,e){var r=Ime(n+"");if(arguments.length<2){for(var i=z9(this.node()),s=-1,o=r.length;++s<o;)if(!i.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?XUe:e?YUe:KUe)(r,e))}function JUe(){this.textContent=""}function ZUe(n){return function(){this.textContent=n}}function eWe(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function tWe(n){return arguments.length?this.each(n==null?JUe:(typeof n=="function"?eWe:ZUe)(n)):this.node().textContent}function nWe(){this.innerHTML=""}function rWe(n){return function(){this.innerHTML=n}}function iWe(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function sWe(n){return arguments.length?this.each(n==null?nWe:(typeof n=="function"?iWe:rWe)(n)):this.node().innerHTML}function oWe(){this.nextSibling&&this.parentNode.appendChild(this)}function aWe(){return this.each(oWe)}function lWe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cWe(){return this.each(lWe)}function uWe(n){var e=typeof n=="function"?n:Sme(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function dWe(){return null}function hWe(n,e){var r=typeof n=="function"?n:Sme(n),i=e==null?dWe:typeof e=="function"?e:$9(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function fWe(){var n=this.parentNode;n&&n.removeChild(this)}function pWe(){return this.each(fWe)}function mWe(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function gWe(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function bWe(n){return this.select(n?gWe:mWe)}function yWe(n){return arguments.length?this.property("__data__",n):this.node().__data__}function vWe(n){return function(e){n.call(this,e,this.__data__)}}function wWe(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function xWe(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,s=e.length,o;r<s;++r)o=e[r],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function _We(n,e,r){return function(){var i=this.__on,s,o=vWe(e);if(i){for(var a=0,l=i.length;a<l;++a)if((s=i[a]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=r),s.value=e;return}}this.addEventListener(n.type,o,r),s={type:n.type,name:n.name,value:e,listener:o,options:r},i?i.push(s):this.__on=[s]}}function SWe(n,e,r){var i=wWe(n+""),s,o=i.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(s=0,d=l[c];s<o;++s)if((a=i[s]).type===d.type&&a.name===d.name)return d.value}return}for(l=e?_We:xWe,s=0;s<o;++s)this.each(l(i[s],e,r));return this}function Rme(n,e,r){var i=Pme(n),s=i.CustomEvent;typeof s=="function"?s=new s(e,r):(s=i.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),n.dispatchEvent(s)}function kWe(n,e){return function(){return Rme(this,n,e)}}function CWe(n,e){return function(){return Rme(this,n,e.apply(this,arguments))}}function EWe(n,e){return this.each((typeof e=="function"?CWe:kWe)(n,e))}function*AWe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length,a;s<o;++s)(a=i[s])&&(yield a)}var U9=[null];function as(n,e){this._groups=n,this._parents=e}function Ax(){return new as([[document.documentElement]],U9)}function TWe(){return this}as.prototype=Ax.prototype={constructor:as,select:tUe,selectAll:iUe,selectChild:lUe,selectChildren:hUe,filter:fUe,data:vUe,enter:pUe,exit:xUe,join:_Ue,merge:SUe,selection:TWe,order:kUe,sort:CUe,call:AUe,nodes:TUe,node:PUe,size:IUe,empty:MUe,each:OUe,attr:FUe,style:WUe,property:GUe,classed:QUe,text:tWe,html:sWe,raise:aWe,lower:cWe,append:uWe,insert:hWe,remove:pWe,clone:bWe,datum:yWe,on:SWe,dispatch:EWe,[Symbol.iterator]:AWe};function ji(n){return typeof n=="string"?new as([[document.querySelector(n)]],[document.documentElement]):new as([[n]],U9)}function PWe(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Sa(n,e){if(n=PWe(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}}return[n.pageX,n.pageY]}function IWe(n){return typeof n=="string"?new as([document.querySelectorAll(n)],[document.documentElement]):new as([kme(n)],U9)}const MWe={passive:!1},fw={capture:!0,passive:!1};function D3(n){n.stopImmediatePropagation()}function sg(n){n.preventDefault(),n.stopImmediatePropagation()}function Nme(n){var e=n.document.documentElement,r=ji(n).on("dragstart.drag",sg,fw);"onselectstart"in e?r.on("selectstart.drag",sg,fw):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function jme(n,e){var r=n.document.documentElement,i=ji(n).on("dragstart.drag",null);e&&(i.on("click.drag",sg,fw),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const g_=n=>()=>n;function m4(n,{sourceEvent:e,subject:r,target:i,identifier:s,active:o,x:a,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}m4.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function OWe(n){return!n.ctrlKey&&!n.button}function DWe(){return this.parentNode}function RWe(n,e){return e??{x:n.x,y:n.y}}function NWe(){return navigator.maxTouchPoints||"ontouchstart"in this}function jWe(){var n=OWe,e=DWe,r=RWe,i=NWe,s={},o=Ex("start","drag","end"),a=0,l,c,u,d,h=0;function f(x){x.on("mousedown.drag",p).filter(i).on("touchstart.drag",y).on("touchmove.drag",v,MWe).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(x,S){if(!(d||!n.call(this,x,S))){var C=_(this,e.call(this,x,S),x,S,"mouse");C&&(ji(x.view).on("mousemove.drag",m,fw).on("mouseup.drag",b,fw),Nme(x.view),D3(x),u=!1,l=x.clientX,c=x.clientY,C("start",x))}}function m(x){if(sg(x),!u){var S=x.clientX-l,C=x.clientY-c;u=S*S+C*C>h}s.mouse("drag",x)}function b(x){ji(x.view).on("mousemove.drag mouseup.drag",null),jme(x.view,u),sg(x),s.mouse("end",x)}function y(x,S){if(n.call(this,x,S)){var C=x.changedTouches,E=e.call(this,x,S),T=C.length,M,I;for(M=0;M<T;++M)(I=_(this,E,x,S,C[M].identifier,C[M]))&&(D3(x),I("start",x,C[M]))}}function v(x){var S=x.changedTouches,C=S.length,E,T;for(E=0;E<C;++E)(T=s[S[E].identifier])&&(sg(x),T("drag",x,S[E]))}function w(x){var S=x.changedTouches,C=S.length,E,T;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<C;++E)(T=s[S[E].identifier])&&(D3(x),T("end",x,S[E]))}function _(x,S,C,E,T,M){var I=o.copy(),O=Sa(M||C,S),F,$,z;if((z=r.call(x,new m4("beforestart",{sourceEvent:C,target:f,identifier:T,active:a,x:O[0],y:O[1],dx:0,dy:0,dispatch:I}),E))!=null)return F=z.x-O[0]||0,$=z.y-O[1]||0,function D(j,N,R){var H=O,U;switch(j){case"start":s[T]=D,U=a++;break;case"end":delete s[T],--a;case"drag":O=Sa(R||N,S),U=a;break}I.call(j,x,new m4(j,{sourceEvent:N,subject:z,target:f,identifier:T,active:U,x:O[0]+F,y:O[1]+$,dx:O[0]-H[0],dy:O[1]-H[1],dispatch:I}),E)}}return f.filter=function(x){return arguments.length?(n=typeof x=="function"?x:g_(!!x),f):n},f.container=function(x){return arguments.length?(e=typeof x=="function"?x:g_(x),f):e},f.subject=function(x){return arguments.length?(r=typeof x=="function"?x:g_(x),f):r},f.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:g_(!!x),f):i},f.on=function(){var x=o.on.apply(o,arguments);return x===o?f:x},f.clickDistance=function(x){return arguments.length?(h=(x=+x)*x,f):Math.sqrt(h)},f}function W9(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function Bme(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function Tx(){}var pw=.7,Jk=1/pw,og="\\s*([+-]?\\d+)\\s*",mw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BWe=/^#([0-9a-f]{3,8})$/,LWe=new RegExp(`^rgb\\(${og},${og},${og}\\)$`),FWe=new RegExp(`^rgb\\(${Ol},${Ol},${Ol}\\)$`),$We=new RegExp(`^rgba\\(${og},${og},${og},${mw}\\)$`),zWe=new RegExp(`^rgba\\(${Ol},${Ol},${Ol},${mw}\\)$`),UWe=new RegExp(`^hsl\\(${mw},${Ol},${Ol}\\)$`),WWe=new RegExp(`^hsla\\(${mw},${Ol},${Ol},${mw}\\)$`),_H={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W9(Tx,Qf,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:SH,formatHex:SH,formatHex8:qWe,formatHsl:HWe,formatRgb:kH,toString:kH});function SH(){return this.rgb().formatHex()}function qWe(){return this.rgb().formatHex8()}function HWe(){return Lme(this).formatHsl()}function kH(){return this.rgb().formatRgb()}function Qf(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=BWe.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?CH(e):r===3?new Ts(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?b_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?b_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=LWe.exec(n))?new Ts(e[1],e[2],e[3],1):(e=FWe.exec(n))?new Ts(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$We.exec(n))?b_(e[1],e[2],e[3],e[4]):(e=zWe.exec(n))?b_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=UWe.exec(n))?TH(e[1],e[2]/100,e[3]/100,1):(e=WWe.exec(n))?TH(e[1],e[2]/100,e[3]/100,e[4]):_H.hasOwnProperty(n)?CH(_H[n]):n==="transparent"?new Ts(NaN,NaN,NaN,0):null}function CH(n){return new Ts(n>>16&255,n>>8&255,n&255,1)}function b_(n,e,r,i){return i<=0&&(n=e=r=NaN),new Ts(n,e,r,i)}function VWe(n){return n instanceof Tx||(n=Qf(n)),n?(n=n.rgb(),new Ts(n.r,n.g,n.b,n.opacity)):new Ts}function g4(n,e,r,i){return arguments.length===1?VWe(n):new Ts(n,e,r,i??1)}function Ts(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}W9(Ts,g4,Bme(Tx,{brighter(n){return n=n==null?Jk:Math.pow(Jk,n),new Ts(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?pw:Math.pow(pw,n),new Ts(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ts(Ef(this.r),Ef(this.g),Ef(this.b),Zk(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EH,formatHex:EH,formatHex8:GWe,formatRgb:AH,toString:AH}));function EH(){return`#${Zh(this.r)}${Zh(this.g)}${Zh(this.b)}`}function GWe(){return`#${Zh(this.r)}${Zh(this.g)}${Zh(this.b)}${Zh((isNaN(this.opacity)?1:this.opacity)*255)}`}function AH(){const n=Zk(this.opacity);return`${n===1?"rgb(":"rgba("}${Ef(this.r)}, ${Ef(this.g)}, ${Ef(this.b)}${n===1?")":`, ${n})`}`}function Zk(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ef(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Zh(n){return n=Ef(n),(n<16?"0":"")+n.toString(16)}function TH(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new Ea(n,e,r,i)}function Lme(n){if(n instanceof Ea)return new Ea(n.h,n.s,n.l,n.opacity);if(n instanceof Tx||(n=Qf(n)),!n)return new Ea;if(n instanceof Ea)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,s=Math.min(e,r,i),o=Math.max(e,r,i),a=NaN,l=o-s,c=(o+s)/2;return l?(e===o?a=(r-i)/l+(r<i)*6:r===o?a=(i-e)/l+2:a=(e-r)/l+4,l/=c<.5?o+s:2-o-s,a*=60):l=c>0&&c<1?0:a,new Ea(a,l,c,n.opacity)}function YWe(n,e,r,i){return arguments.length===1?Lme(n):new Ea(n,e,r,i??1)}function Ea(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}W9(Ea,YWe,Bme(Tx,{brighter(n){return n=n==null?Jk:Math.pow(Jk,n),new Ea(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?pw:Math.pow(pw,n),new Ea(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,s=2*r-i;return new Ts(R3(n>=240?n-240:n+120,s,i),R3(n,s,i),R3(n<120?n+240:n-120,s,i),this.opacity)},clamp(){return new Ea(PH(this.h),y_(this.s),y_(this.l),Zk(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Zk(this.opacity);return`${n===1?"hsl(":"hsla("}${PH(this.h)}, ${y_(this.s)*100}%, ${y_(this.l)*100}%${n===1?")":`, ${n})`}`}}));function PH(n){return n=(n||0)%360,n<0?n+360:n}function y_(n){return Math.max(0,Math.min(1,n||0))}function R3(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const q9=n=>()=>n;function KWe(n,e){return function(r){return n+r*e}}function XWe(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function QWe(n){return(n=+n)==1?Fme:function(e,r){return r-e?XWe(e,r,n):q9(isNaN(e)?r:e)}}function Fme(n,e){var r=e-n;return r?KWe(n,r):q9(isNaN(n)?e:n)}const e2=function n(e){var r=QWe(e);function i(s,o){var a=r((s=g4(s)).r,(o=g4(o)).r),l=r(s.g,o.g),c=r(s.b,o.b),u=Fme(s.opacity,o.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return i.gamma=n,i}(1);function JWe(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,i=e.slice(),s;return function(o){for(s=0;s<r;++s)i[s]=n[s]*(1-o)+e[s]*o;return i}}function ZWe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function eqe(n,e){var r=e?e.length:0,i=n?Math.min(r,n.length):0,s=new Array(i),o=new Array(r),a;for(a=0;a<i;++a)s[a]=H9(n[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(l){for(a=0;a<i;++a)o[a]=s[a](l);return o}}function tqe(n,e){var r=new Date;return n=+n,e=+e,function(i){return r.setTime(n*(1-i)+e*i),r}}function Ca(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}function nqe(n,e){var r={},i={},s;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in n?r[s]=H9(n[s],e[s]):i[s]=e[s];return function(o){for(s in r)i[s]=r[s](o);return i}}var b4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N3=new RegExp(b4.source,"g");function rqe(n){return function(){return n}}function iqe(n){return function(e){return n(e)+""}}function $me(n,e){var r=b4.lastIndex=N3.lastIndex=0,i,s,o,a=-1,l=[],c=[];for(n=n+"",e=e+"";(i=b4.exec(n))&&(s=N3.exec(e));)(o=s.index)>r&&(o=e.slice(r,o),l[a]?l[a]+=o:l[++a]=o),(i=i[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:Ca(i,s)})),r=N3.lastIndex;return r<e.length&&(o=e.slice(r),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?iqe(c[0].x):rqe(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function H9(n,e){var r=typeof e,i;return e==null||r==="boolean"?q9(e):(r==="number"?Ca:r==="string"?(i=Qf(e))?(e=i,e2):$me:e instanceof Qf?e2:e instanceof Date?tqe:ZWe(e)?JWe:Array.isArray(e)?eqe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nqe:Ca)(n,e)}function sqe(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}var IH=180/Math.PI,y4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zme(n,e,r,i,s,o){var a,l,c;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(c=n*r+e*i)&&(r-=n*c,i-=e*c),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,c/=l),n*i<e*r&&(n=-n,e=-e,c=-c,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(e,n)*IH,skewX:Math.atan(c)*IH,scaleX:a,scaleY:l}}var v_;function oqe(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?y4:zme(e.a,e.b,e.c,e.d,e.e,e.f)}function aqe(n){return n==null||(v_||(v_=document.createElementNS("http://www.w3.org/2000/svg","g")),v_.setAttribute("transform",n),!(n=v_.transform.baseVal.consolidate()))?y4:(n=n.matrix,zme(n.a,n.b,n.c,n.d,n.e,n.f))}function Ume(n,e,r,i){function s(u){return u.length?u.pop()+" ":""}function o(u,d,h,f,p,m){if(u!==h||d!==f){var b=p.push("translate(",null,e,null,r);m.push({i:b-4,x:Ca(u,h)},{i:b-2,x:Ca(d,f)})}else(h||f)&&p.push("translate("+h+e+f+r)}function a(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(s(h)+"rotate(",null,i)-2,x:Ca(u,d)})):d&&h.push(s(h)+"rotate("+d+i)}function l(u,d,h,f){u!==d?f.push({i:h.push(s(h)+"skewX(",null,i)-2,x:Ca(u,d)}):d&&h.push(s(h)+"skewX("+d+i)}function c(u,d,h,f,p,m){if(u!==h||d!==f){var b=p.push(s(p)+"scale(",null,",",null,")");m.push({i:b-4,x:Ca(u,h)},{i:b-2,x:Ca(d,f)})}else(h!==1||f!==1)&&p.push(s(p)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=n(u),d=n(d),o(u.translateX,u.translateY,d.translateX,d.translateY,h,f),a(u.rotate,d.rotate,h,f),l(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(p){for(var m=-1,b=f.length,y;++m<b;)h[(y=f[m]).i]=y.x(p);return h.join("")}}}var lqe=Ume(oqe,"px, ","px)","deg)"),cqe=Ume(aqe,", ",")",")"),uqe=1e-12;function MH(n){return((n=Math.exp(n))+1/n)/2}function dqe(n){return((n=Math.exp(n))-1/n)/2}function hqe(n){return((n=Math.exp(2*n))-1)/(n+1)}const fqe=function n(e,r,i){function s(o,a){var l=o[0],c=o[1],u=o[2],d=a[0],h=a[1],f=a[2],p=d-l,m=h-c,b=p*p+m*m,y,v;if(b<uqe)v=Math.log(f/u)/e,y=function(E){return[l+E*p,c+E*m,u*Math.exp(e*E*v)]};else{var w=Math.sqrt(b),_=(f*f-u*u+i*b)/(2*u*r*w),x=(f*f-u*u-i*b)/(2*f*r*w),S=Math.log(Math.sqrt(_*_+1)-_),C=Math.log(Math.sqrt(x*x+1)-x);v=(C-S)/e,y=function(E){var T=E*v,M=MH(S),I=u/(r*w)*(M*hqe(e*T+S)-dqe(S));return[l+I*p,c+I*m,u*M/MH(e*T+S)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return s.rho=function(o){var a=Math.max(.001,+o),l=a*a,c=l*l;return n(a,l,c)},s}(Math.SQRT2,2,4);var x0=0,ky=0,Gb=0,Wme=1e3,t2,Cy,n2=0,Jf=0,cE=0,gw=typeof performance=="object"&&performance.now?performance:Date,qme=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function V9(){return Jf||(qme(pqe),Jf=gw.now()+cE)}function pqe(){Jf=0}function r2(){this._call=this._time=this._next=null}r2.prototype=G9.prototype={constructor:r2,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?V9():+r)+(e==null?0:+e),!this._next&&Cy!==this&&(Cy?Cy._next=this:t2=this,Cy=this),this._call=n,this._time=r,v4()},stop:function(){this._call&&(this._call=null,this._time=1/0,v4())}};function G9(n,e,r){var i=new r2;return i.restart(n,e,r),i}function mqe(){V9(),++x0;for(var n=t2,e;n;)(e=Jf-n._time)>=0&&n._call.call(void 0,e),n=n._next;--x0}function OH(){Jf=(n2=gw.now())+cE,x0=ky=0;try{mqe()}finally{x0=0,bqe(),Jf=0}}function gqe(){var n=gw.now(),e=n-n2;e>Wme&&(cE-=e,n2=n)}function bqe(){for(var n,e=t2,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:t2=r);Cy=n,v4(i)}function v4(n){if(!x0){ky&&(ky=clearTimeout(ky));var e=n-Jf;e>24?(n<1/0&&(ky=setTimeout(OH,n-gw.now()-cE)),Gb&&(Gb=clearInterval(Gb))):(Gb||(n2=gw.now(),Gb=setInterval(gqe,Wme)),x0=1,qme(OH))}}function DH(n,e,r){var i=new r2;return e=e==null?0:+e,i.restart(s=>{i.stop(),n(s+e)},e,r),i}var yqe=Ex("start","end","cancel","interrupt"),vqe=[],Hme=0,RH=1,w4=2,ES=3,NH=4,x4=5,AS=6;function uE(n,e,r,i,s,o){var a=n.__transition;if(!a)n.__transition={};else if(r in a)return;wqe(n,r,{name:e,index:i,group:s,on:yqe,tween:vqe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Hme})}function Y9(n,e){var r=qa(n,e);if(r.state>Hme)throw new Error("too late; already scheduled");return r}function Hl(n,e){var r=qa(n,e);if(r.state>ES)throw new Error("too late; already running");return r}function qa(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function wqe(n,e,r){var i=n.__transition,s;i[e]=r,r.timer=G9(o,0,r.time);function o(u){r.state=RH,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var d,h,f,p;if(r.state!==RH)return c();for(d in i)if(p=i[d],p.name===r.name){if(p.state===ES)return DH(a);p.state===NH?(p.state=AS,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[d]):+d<e&&(p.state=AS,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[d])}if(DH(function(){r.state===ES&&(r.state=NH,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=w4,r.on.call("start",n,n.__data__,r.index,r.group),r.state===w4){for(r.state=ES,s=new Array(f=r.tween.length),d=0,h=-1;d<f;++d)(p=r.tween[d].value.call(n,n.__data__,r.index,r.group))&&(s[++h]=p);s.length=h+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=x4,1),h=-1,f=s.length;++h<f;)s[h].call(n,d);r.state===x4&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=AS,r.timer.stop(),delete i[e];for(var u in i)return;delete n.__transition}}function TS(n,e){var r=n.__transition,i,s,o=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((i=r[a]).name!==e){o=!1;continue}s=i.state>w4&&i.state<x4,i.state=AS,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[a]}o&&delete n.__transition}}function xqe(n){return this.each(function(){TS(this,n)})}function _qe(n,e){var r,i;return function(){var s=Hl(this,n),o=s.tween;if(o!==r){i=r=o;for(var a=0,l=i.length;a<l;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}s.tween=i}}function Sqe(n,e,r){var i,s;if(typeof r!="function")throw new Error;return function(){var o=Hl(this,n),a=o.tween;if(a!==i){s=(i=a).slice();for(var l={name:e,value:r},c=0,u=s.length;c<u;++c)if(s[c].name===e){s[c]=l;break}c===u&&s.push(l)}o.tween=s}}function kqe(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=qa(this.node(),r).tween,s=0,o=i.length,a;s<o;++s)if((a=i[s]).name===n)return a.value;return null}return this.each((e==null?_qe:Sqe)(r,n,e))}function K9(n,e,r){var i=n._id;return n.each(function(){var s=Hl(this,i);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return qa(s,i).value[e]}}function Vme(n,e){var r;return(typeof e=="number"?Ca:e instanceof Qf?e2:(r=Qf(e))?(e=r,e2):$me)(n,e)}function Cqe(n){return function(){this.removeAttribute(n)}}function Eqe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Aqe(n,e,r){var i,s=r+"",o;return function(){var a=this.getAttribute(n);return a===s?null:a===i?o:o=e(i=a,r)}}function Tqe(n,e,r){var i,s=r+"",o;return function(){var a=this.getAttributeNS(n.space,n.local);return a===s?null:a===i?o:o=e(i=a,r)}}function Pqe(n,e,r){var i,s,o;return function(){var a,l=r(this),c;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),c=l+"",a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l)))}}function Iqe(n,e,r){var i,s,o;return function(){var a,l=r(this),c;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),c=l+"",a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l)))}}function Mqe(n,e){var r=lE(n),i=r==="transform"?cqe:Vme;return this.attrTween(n,typeof e=="function"?(r.local?Iqe:Pqe)(r,i,K9(this,"attr."+n,e)):e==null?(r.local?Eqe:Cqe)(r):(r.local?Tqe:Aqe)(r,i,e))}function Oqe(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function Dqe(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function Rqe(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Dqe(n,o)),r}return s._value=e,s}function Nqe(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Oqe(n,o)),r}return s._value=e,s}function jqe(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=lE(n);return this.tween(r,(i.local?Rqe:Nqe)(i,e))}function Bqe(n,e){return function(){Y9(this,n).delay=+e.apply(this,arguments)}}function Lqe(n,e){return e=+e,function(){Y9(this,n).delay=e}}function Fqe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Bqe:Lqe)(e,n)):qa(this.node(),e).delay}function $qe(n,e){return function(){Hl(this,n).duration=+e.apply(this,arguments)}}function zqe(n,e){return e=+e,function(){Hl(this,n).duration=e}}function Uqe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?$qe:zqe)(e,n)):qa(this.node(),e).duration}function Wqe(n,e){if(typeof e!="function")throw new Error;return function(){Hl(this,n).ease=e}}function qqe(n){var e=this._id;return arguments.length?this.each(Wqe(e,n)):qa(this.node(),e).ease}function Hqe(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Hl(this,n).ease=r}}function Vqe(n){if(typeof n!="function")throw new Error;return this.each(Hqe(this._id,n))}function Gqe(n){typeof n!="function"&&(n=Eme(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=[],c,u=0;u<a;++u)(c=o[u])&&n.call(c,c.__data__,u,o)&&l.push(c);return new au(i,this._parents,this._name,this._id)}function Yqe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=e[l],u=r[l],d=c.length,h=a[l]=new Array(d),f,p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<i;++l)a[l]=e[l];return new au(a,this._parents,this._name,this._id)}function Kqe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Xqe(n,e,r){var i,s,o=Kqe(e)?Y9:Hl;return function(){var a=o(this,n),l=a.on;l!==i&&(s=(i=l).copy()).on(e,r),a.on=s}}function Qqe(n,e){var r=this._id;return arguments.length<2?qa(this.node(),r).on.on(n):this.each(Xqe(r,n,e))}function Jqe(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function Zqe(){return this.on("end.remove",Jqe(this._id))}function eHe(n){var e=this._name,r=this._id;typeof n!="function"&&(n=$9(n));for(var i=this._groups,s=i.length,o=new Array(s),a=0;a<s;++a)for(var l=i[a],c=l.length,u=o[a]=new Array(c),d,h,f=0;f<c;++f)(d=l[f])&&(h=n.call(d,d.__data__,f,l))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,uE(u[f],e,r,f,u,qa(d,r)));return new au(o,this._parents,e,r)}function tHe(n){var e=this._name,r=this._id;typeof n!="function"&&(n=Cme(n));for(var i=this._groups,s=i.length,o=[],a=[],l=0;l<s;++l)for(var c=i[l],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=n.call(d,d.__data__,h,c),p,m=qa(d,r),b=0,y=f.length;b<y;++b)(p=f[b])&&uE(p,e,r,b,f,m);o.push(f),a.push(d)}return new au(o,a,e,r)}var nHe=Ax.prototype.constructor;function rHe(){return new nHe(this._groups,this._parents)}function iHe(n,e){var r,i,s;return function(){var o=w0(this,n),a=(this.style.removeProperty(n),w0(this,n));return o===a?null:o===r&&a===i?s:s=e(r=o,i=a)}}function Gme(n){return function(){this.style.removeProperty(n)}}function sHe(n,e,r){var i,s=r+"",o;return function(){var a=w0(this,n);return a===s?null:a===i?o:o=e(i=a,r)}}function oHe(n,e,r){var i,s,o;return function(){var a=w0(this,n),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(n),w0(this,n))),a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l))}}function aHe(n,e){var r,i,s,o="style."+e,a="end."+o,l;return function(){var c=Hl(this,n),u=c.on,d=c.value[o]==null?l||(l=Gme(e)):void 0;(u!==r||s!==d)&&(i=(r=u).copy()).on(a,s=d),c.on=i}}function lHe(n,e,r){var i=(n+="")=="transform"?lqe:Vme;return e==null?this.styleTween(n,iHe(n,i)).on("end.style."+n,Gme(n)):typeof e=="function"?this.styleTween(n,oHe(n,i,K9(this,"style."+n,e))).each(aHe(this._id,n)):this.styleTween(n,sHe(n,i,e),r).on("end.style."+n,null)}function cHe(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function uHe(n,e,r){var i,s;function o(){var a=e.apply(this,arguments);return a!==s&&(i=(s=a)&&cHe(n,a,r)),i}return o._value=e,o}function dHe(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,uHe(n,e,r??""))}function hHe(n){return function(){this.textContent=n}}function fHe(n){return function(){var e=n(this);this.textContent=e??""}}function pHe(n){return this.tween("text",typeof n=="function"?fHe(K9(this,"text",n)):hHe(n==null?"":n+""))}function mHe(n){return function(e){this.textContent=n.call(this,e)}}function gHe(n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&mHe(s)),e}return i._value=n,i}function bHe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,gHe(n))}function yHe(){for(var n=this._name,e=this._id,r=Yme(),i=this._groups,s=i.length,o=0;o<s;++o)for(var a=i[o],l=a.length,c,u=0;u<l;++u)if(c=a[u]){var d=qa(c,e);uE(c,n,r,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new au(i,this._parents,n,r)}function vHe(){var n,e,r=this,i=r._id,s=r.size();return new Promise(function(o,a){var l={value:a},c={value:function(){--s===0&&o()}};r.each(function(){var u=Hl(this,i),d=u.on;d!==n&&(e=(n=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),u.on=e}),s===0&&o()})}var wHe=0;function au(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function Yme(){return++wHe}var ac=Ax.prototype;au.prototype={constructor:au,select:eHe,selectAll:tHe,selectChild:ac.selectChild,selectChildren:ac.selectChildren,filter:Gqe,merge:Yqe,selection:rHe,transition:yHe,call:ac.call,nodes:ac.nodes,node:ac.node,size:ac.size,empty:ac.empty,each:ac.each,on:Qqe,attr:Mqe,attrTween:jqe,style:lHe,styleTween:dHe,text:pHe,textTween:bHe,remove:Zqe,tween:kqe,delay:Fqe,duration:Uqe,ease:qqe,easeVarying:Vqe,end:vHe,[Symbol.iterator]:ac[Symbol.iterator]};function xHe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var _He={time:null,delay:0,duration:250,ease:xHe};function SHe(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function kHe(n){var e,r;n instanceof au?(e=n._id,n=n._name):(e=Yme(),(r=_He).time=V9(),n=n==null?null:n+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var a=i[o],l=a.length,c,u=0;u<l;++u)(c=a[u])&&uE(c,n,e,u,a,r||SHe(c,e));return new au(i,this._parents,n,e)}Ax.prototype.interrupt=xqe;Ax.prototype.transition=kHe;function CHe(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return Kme(this.cover(e,r),e,r,n)}function Kme(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var s,o=n._root,a={data:i},l=n._x0,c=n._y0,u=n._x1,d=n._y1,h,f,p,m,b,y,v,w;if(!o)return n._root=a,n;for(;o.length;)if((b=e>=(h=(l+u)/2))?l=h:u=h,(y=r>=(f=(c+d)/2))?c=f:d=f,s=o,!(o=o[v=y<<1|b]))return s[v]=a,n;if(p=+n._x.call(null,o.data),m=+n._y.call(null,o.data),e===p&&r===m)return a.next=o,s?s[v]=a:n._root=a,n;do s=s?s[v]=new Array(4):n._root=new Array(4),(b=e>=(h=(l+u)/2))?l=h:u=h,(y=r>=(f=(c+d)/2))?c=f:d=f;while((v=y<<1|b)===(w=(m>=f)<<1|p>=h));return s[w]=o,s[v]=a,n}function EHe(n){var e,r,i=n.length,s,o,a=new Array(i),l=new Array(i),c=1/0,u=1/0,d=-1/0,h=-1/0;for(r=0;r<i;++r)isNaN(s=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e))||(a[r]=s,l[r]=o,s<c&&(c=s),s>d&&(d=s),o<u&&(u=o),o>h&&(h=o));if(c>d||u>h)return this;for(this.cover(c,u).cover(d,h),r=0;r<i;++r)Kme(this,a[r],l[r],n[r]);return this}function AHe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,s=this._x1,o=this._y1;if(isNaN(r))s=(r=Math.floor(n))+1,o=(i=Math.floor(e))+1;else{for(var a=s-r||1,l=this._root,c,u;r>n||n>=s||i>e||e>=o;)switch(u=(e<i)<<1|n<r,c=new Array(4),c[u]=l,l=c,a*=2,u){case 0:s=r+a,o=i+a;break;case 1:r=s-a,o=i+a;break;case 2:s=r+a,i=o-a;break;case 3:r=s-a,i=o-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=s,this._y1=o,this}function THe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function PHe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ji(n,e,r,i,s){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=s}function IHe(n,e,r){var i,s=this._x0,o=this._y0,a,l,c,u,d=this._x1,h=this._y1,f=[],p=this._root,m,b;for(p&&f.push(new Ji(p,s,o,d,h)),r==null?r=1/0:(s=n-r,o=e-r,d=n+r,h=e+r,r*=r);m=f.pop();)if(!(!(p=m.node)||(a=m.x0)>d||(l=m.y0)>h||(c=m.x1)<s||(u=m.y1)<o))if(p.length){var y=(a+c)/2,v=(l+u)/2;f.push(new Ji(p[3],y,v,c,u),new Ji(p[2],a,v,y,u),new Ji(p[1],y,l,c,v),new Ji(p[0],a,l,y,v)),(b=(e>=v)<<1|n>=y)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-b],f[f.length-1-b]=m)}else{var w=n-+this._x.call(null,p.data),_=e-+this._y.call(null,p.data),x=w*w+_*_;if(x<r){var S=Math.sqrt(r=x);s=n-S,o=e-S,d=n+S,h=e+S,i=p.data}}return i}function MHe(n){if(isNaN(d=+this._x.call(null,n))||isNaN(h=+this._y.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._y0,c=this._x1,u=this._y1,d,h,f,p,m,b,y,v;if(!r)return this;if(r.length)for(;;){if((m=d>=(f=(a+c)/2))?a=f:c=f,(b=h>=(p=(l+u)/2))?l=p:u=p,e=r,!(r=r[y=b<<1|m]))return this;if(!r.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(i=e,v=y)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[y]=o:delete e[y],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[v]=r:this._root=r),this):(this._root=o,this)}function OHe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function DHe(){return this._root}function RHe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function NHe(n){var e=[],r,i=this._root,s,o,a,l,c;for(i&&e.push(new Ji(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.y0,l=r.x1,c=r.y1)&&i.length){var u=(o+l)/2,d=(a+c)/2;(s=i[3])&&e.push(new Ji(s,u,d,l,c)),(s=i[2])&&e.push(new Ji(s,o,d,u,c)),(s=i[1])&&e.push(new Ji(s,u,a,l,d)),(s=i[0])&&e.push(new Ji(s,o,a,u,d))}return this}function jHe(n){var e=[],r=[],i;for(this._root&&e.push(new Ji(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.x1,u=i.y1,d=(a+c)/2,h=(l+u)/2;(o=s[0])&&e.push(new Ji(o,a,l,d,h)),(o=s[1])&&e.push(new Ji(o,d,l,c,h)),(o=s[2])&&e.push(new Ji(o,a,h,d,u)),(o=s[3])&&e.push(new Ji(o,d,h,c,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function BHe(n){return n[0]}function LHe(n){return arguments.length?(this._x=n,this):this._x}function FHe(n){return n[1]}function $He(n){return arguments.length?(this._y=n,this):this._y}function Xme(n,e,r){var i=new X9(e??BHe,r??FHe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function X9(n,e,r,i,s,o){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=s,this._y1=o,this._root=void 0}function jH(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var ds=Xme.prototype=X9.prototype;ds.copy=function(){var n=new X9(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=jH(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var s=0;s<4;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(4)}):e.target[s]=jH(i));return n};ds.add=CHe;ds.addAll=EHe;ds.cover=AHe;ds.data=THe;ds.extent=PHe;ds.find=IHe;ds.remove=MHe;ds.removeAll=OHe;ds.root=DHe;ds.size=RHe;ds.visit=NHe;ds.visitAfter=jHe;ds.x=LHe;ds.y=$He;function zHe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function i2(n,e){if((r=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function _0(n){return n=i2(Math.abs(n)),n?n[1]:NaN}function UHe(n,e){return function(r,i){for(var s=r.length,o=[],a=0,l=n[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),o.push(r.substring(s-=l,s+l)),!((c+=l+1)>i));)l=n[a=(a+1)%n.length];return o.reverse().join(e)}}function WHe(n){return function(e){return e.replace(/[0-9]/g,function(r){return n[+r]})}}var qHe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s2(n){if(!(e=qHe.exec(n)))throw new Error("invalid format: "+n);var e;return new Q9({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}s2.prototype=Q9.prototype;function Q9(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Q9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HHe(n){e:for(var e=n.length,r=1,i=-1,s;r<e;++r)switch(n[r]){case".":i=s=r;break;case"0":i===0&&(i=r),s=r;break;default:if(!+n[r])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(s+1):n}var Qme;function VHe(n,e){var r=i2(n,e);if(!r)return n+"";var i=r[0],s=r[1],o=s-(Qme=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+i2(n,Math.max(0,e+o-1))[0]}function BH(n,e){var r=i2(n,e);if(!r)return n+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const LH={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:zHe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>BH(n*100,e),r:BH,s:VHe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function FH(n){return n}var $H=Array.prototype.map,zH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GHe(n){var e=n.grouping===void 0||n.thousands===void 0?FH:UHe($H.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",s=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?FH:WHe($H.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function u(h){h=s2(h);var f=h.fill,p=h.align,m=h.sign,b=h.symbol,y=h.zero,v=h.width,w=h.comma,_=h.precision,x=h.trim,S=h.type;S==="n"?(w=!0,S="g"):LH[S]||(_===void 0&&(_=12),x=!0,S="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var C=b==="$"?r:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=b==="$"?i:/[%p]/.test(S)?a:"",T=LH[S],M=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(O){var F=C,$=E,z,D,j;if(S==="c")$=T(O)+$,O="";else{O=+O;var N=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),_),x&&(O=HHe(O)),N&&+O==0&&m!=="+"&&(N=!1),F=(N?m==="("?m:l:m==="-"||m==="("?"":m)+F,$=(S==="s"?zH[8+Qme/3]:"")+$+(N&&m==="("?")":""),M){for(z=-1,D=O.length;++z<D;)if(j=O.charCodeAt(z),48>j||j>57){$=(j===46?s+O.slice(z+1):O.slice(z))+$,O=O.slice(0,z);break}}}w&&!y&&(O=e(O,1/0));var R=F.length+O.length+$.length,H=R<v?new Array(v-R+1).join(f):"";switch(w&&y&&(O=e(H+O,H.length?v-$.length:1/0),H=""),p){case"<":O=F+O+$+H;break;case"=":O=F+H+O+$;break;case"^":O=H.slice(0,R=H.length>>1)+F+O+$+H.slice(R);break;default:O=H+F+O+$;break}return o(O)}return I.toString=function(){return h+""},I}function d(h,f){var p=u((h=s2(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(_0(f)/3)))*3,b=Math.pow(10,-m),y=zH[8+m/3];return function(v){return p(b*v)+y}}return{format:u,formatPrefix:d}}var w_,Jme,Zme;YHe({thousands:",",grouping:[3],currency:["$",""]});function YHe(n){return w_=GHe(n),Jme=w_.format,Zme=w_.formatPrefix,w_}function KHe(n){return Math.max(0,-_0(Math.abs(n)))}function XHe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_0(e)/3)))*3-_0(Math.abs(n)))}function QHe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,_0(e)-_0(n))+1}function J9(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const UH=Symbol("implicit");function Z9(){var n=new pH,e=[],r=[],i=UH;function s(o){let a=n.get(o);if(a===void 0){if(i!==UH)return i;n.set(o,a=e.push(o)-1)}return r[a%r.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new pH;for(const a of o)n.has(a)||n.set(a,e.push(a)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return Z9(e,r).unknown(i)},J9.apply(s,arguments),s}function ege(){var n=Z9().unknown(void 0),e=n.domain,r=n.range,i=0,s=1,o,a,l=!1,c=0,u=0,d=.5;delete n.unknown;function h(){var f=e().length,p=s<i,m=p?s:i,b=p?i:s;o=(b-m)/Math.max(1,f-c+u*2),l&&(o=Math.floor(o)),m+=(b-m-o*(f-c))*d,a=o*(1-c),l&&(m=Math.round(m),a=Math.round(a));var y=$ze(f).map(function(v){return m+o*v});return r(p?y.reverse():y)}return n.domain=function(f){return arguments.length?(e(f),h()):e()},n.range=function(f){return arguments.length?([i,s]=f,i=+i,s=+s,h()):[i,s]},n.rangeRound=function(f){return[i,s]=f,i=+i,s=+s,l=!0,h()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(f){return arguments.length?(l=!!f,h()):l},n.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},n.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},n.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},n.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},n.copy=function(){return ege(e(),[i,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},J9.apply(h(),arguments)}function JHe(n){return function(){return n}}function ZHe(n){return+n}var WH=[0,1];function Lm(n){return n}function _4(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:JHe(isNaN(e)?NaN:.5)}function eVe(n,e){var r;return n>e&&(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function tVe(n,e,r){var i=n[0],s=n[1],o=e[0],a=e[1];return s<i?(i=_4(s,i),o=r(a,o)):(i=_4(i,s),o=r(o,a)),function(l){return o(i(l))}}function nVe(n,e,r){var i=Math.min(n.length,e.length)-1,s=new Array(i),o=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)s[a]=_4(n[a],n[a+1]),o[a]=r(e[a],e[a+1]);return function(l){var c=Mze(n,l,1,i)-1;return o[c](s[c](l))}}function rVe(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function iVe(){var n=WH,e=WH,r=H9,i,s,o,a=Lm,l,c,u;function d(){var f=Math.min(n.length,e.length);return a!==Lm&&(a=eVe(n[0],n[f-1])),l=f>2?nVe:tVe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(c||(c=l(n.map(i),e,r)))(i(a(f)))}return h.invert=function(f){return a(s((u||(u=l(e,n.map(i),Ca)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,ZHe),d()):n.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=sqe,d()},h.clamp=function(f){return arguments.length?(a=f?!0:Lm,d()):a!==Lm},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return i=f,s=p,d()}}function sVe(){return iVe()(Lm,Lm)}function oVe(n,e,r,i){var s=Fze(n,e,r),o;switch(i=s2(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(o=XHe(s,a))&&(i.precision=o),Zme(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=QHe(s,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=KHe(s))&&(i.precision=o-(i.type==="%")*2);break}}return Jme(i)}function aVe(n){var e=n.domain;return n.ticks=function(r){var i=e();return Lze(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var s=e();return oVe(s[0],s[s.length-1],r??10,i)},n.nice=function(r){r==null&&(r=10);var i=e(),s=0,o=i.length-1,a=i[s],l=i[o],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=s,s=o,o=u);d-- >0;){if(u=h4(a,l,r),u===c)return i[s]=a,i[o]=l,e(i);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return n},n}function tge(){var n=sVe();return n.copy=function(){return rVe(n,tge())},J9.apply(n,arguments),aVe(n)}function lVe(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const cVe=lVe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),x_=n=>()=>n;function uVe(n,{sourceEvent:e,target:r,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Lc(n,e,r){this.k=n,this.x=e,this.y=r}Lc.prototype={constructor:Lc,scale:function(n){return n===1?this:new Lc(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Lc(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var eB=new Lc(1,0,0);cl.prototype=Lc.prototype;function cl(n){for(;!n.__zoom;)if(!(n=n.parentNode))return eB;return n.__zoom}function j3(n){n.stopImmediatePropagation()}function Yb(n){n.preventDefault(),n.stopImmediatePropagation()}function dVe(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function hVe(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function qH(){return this.__zoom||eB}function fVe(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function pVe(){return navigator.maxTouchPoints||"ontouchstart"in this}function mVe(n,e,r){var i=n.invertX(e[0][0])-r[0][0],s=n.invertX(e[1][0])-r[1][0],o=n.invertY(e[0][1])-r[0][1],a=n.invertY(e[1][1])-r[1][1];return n.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function gVe(){var n=dVe,e=hVe,r=mVe,i=fVe,s=pVe,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=fqe,u=Ex("start","zoom","end"),d,h,f,p=500,m=150,b=0,y=10;function v(z){z.property("__zoom",qH).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",I).filter(s).on("touchstart.zoom",O).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(z,D,j,N){var R=z.selection?z.selection():z;R.property("__zoom",qH),z!==R?S(z,D,j,N):R.interrupt().each(function(){C(this,arguments).event(N).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},v.scaleBy=function(z,D,j,N){v.scaleTo(z,function(){var R=this.__zoom.k,H=typeof D=="function"?D.apply(this,arguments):D;return R*H},j,N)},v.scaleTo=function(z,D,j,N){v.transform(z,function(){var R=e.apply(this,arguments),H=this.__zoom,U=j==null?x(R):typeof j=="function"?j.apply(this,arguments):j,K=H.invert(U),Y=typeof D=="function"?D.apply(this,arguments):D;return r(_(w(H,Y),U,K),R,a)},j,N)},v.translateBy=function(z,D,j,N){v.transform(z,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),a)},null,N)},v.translateTo=function(z,D,j,N,R){v.transform(z,function(){var H=e.apply(this,arguments),U=this.__zoom,K=N==null?x(H):typeof N=="function"?N.apply(this,arguments):N;return r(eB.translate(K[0],K[1]).scale(U.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof j=="function"?-j.apply(this,arguments):-j),H,a)},N,R)};function w(z,D){return D=Math.max(o[0],Math.min(o[1],D)),D===z.k?z:new Lc(D,z.x,z.y)}function _(z,D,j){var N=D[0]-j[0]*z.k,R=D[1]-j[1]*z.k;return N===z.x&&R===z.y?z:new Lc(z.k,N,R)}function x(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function S(z,D,j,N){z.on("start.zoom",function(){C(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(N).end()}).tween("zoom",function(){var R=this,H=arguments,U=C(R,H).event(N),K=e.apply(R,H),Y=j==null?x(K):typeof j=="function"?j.apply(R,H):j,J=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),G=R.__zoom,X=typeof D=="function"?D.apply(R,H):D,ae=c(G.invert(Y).concat(J/G.k),X.invert(Y).concat(J/X.k));return function(ge){if(ge===1)ge=X;else{var le=ae(ge),ie=J/le[2];ge=new Lc(ie,Y[0]-le[0]*ie,Y[1]-le[1]*ie)}U.zoom(null,ge)}})}function C(z,D,j){return!j&&z.__zooming||new E(z,D)}function E(z,D){this.that=z,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,D),this.taps=0}E.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,D){return this.mouse&&z!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var D=ji(this.that).datum();u.call(z,this.that,new uVe(z,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),D)}};function T(z,...D){if(!n.apply(this,arguments))return;var j=C(this,D).event(z),N=this.__zoom,R=Math.max(o[0],Math.min(o[1],N.k*Math.pow(2,i.apply(this,arguments)))),H=Sa(z);if(j.wheel)(j.mouse[0][0]!==H[0]||j.mouse[0][1]!==H[1])&&(j.mouse[1]=N.invert(j.mouse[0]=H)),clearTimeout(j.wheel);else{if(N.k===R)return;j.mouse=[H,N.invert(H)],TS(this),j.start()}Yb(z),j.wheel=setTimeout(U,m),j.zoom("mouse",r(_(w(N,R),j.mouse[0],j.mouse[1]),j.extent,a));function U(){j.wheel=null,j.end()}}function M(z,...D){if(f||!n.apply(this,arguments))return;var j=z.currentTarget,N=C(this,D,!0).event(z),R=ji(z.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",J,!0),H=Sa(z,j),U=z.clientX,K=z.clientY;Nme(z.view),j3(z),N.mouse=[H,this.__zoom.invert(H)],TS(this),N.start();function Y(G){if(Yb(G),!N.moved){var X=G.clientX-U,ae=G.clientY-K;N.moved=X*X+ae*ae>b}N.event(G).zoom("mouse",r(_(N.that.__zoom,N.mouse[0]=Sa(G,j),N.mouse[1]),N.extent,a))}function J(G){R.on("mousemove.zoom mouseup.zoom",null),jme(G.view,N.moved),Yb(G),N.event(G).end()}}function I(z,...D){if(n.apply(this,arguments)){var j=this.__zoom,N=Sa(z.changedTouches?z.changedTouches[0]:z,this),R=j.invert(N),H=j.k*(z.shiftKey?.5:2),U=r(_(w(j,H),N,R),e.apply(this,D),a);Yb(z),l>0?ji(this).transition().duration(l).call(S,U,N,z):ji(this).call(v.transform,U,N,z)}}function O(z,...D){if(n.apply(this,arguments)){var j=z.touches,N=j.length,R=C(this,D,z.changedTouches.length===N).event(z),H,U,K,Y;for(j3(z),U=0;U<N;++U)K=j[U],Y=Sa(K,this),Y=[Y,this.__zoom.invert(Y),K.identifier],R.touch0?!R.touch1&&R.touch0[2]!==Y[2]&&(R.touch1=Y,R.taps=0):(R.touch0=Y,H=!0,R.taps=1+!!d);d&&(d=clearTimeout(d)),H&&(R.taps<2&&(h=Y[0],d=setTimeout(function(){d=null},p)),TS(this),R.start())}}function F(z,...D){if(this.__zooming){var j=C(this,D).event(z),N=z.changedTouches,R=N.length,H,U,K,Y;for(Yb(z),H=0;H<R;++H)U=N[H],K=Sa(U,this),j.touch0&&j.touch0[2]===U.identifier?j.touch0[0]=K:j.touch1&&j.touch1[2]===U.identifier&&(j.touch1[0]=K);if(U=j.that.__zoom,j.touch1){var J=j.touch0[0],G=j.touch0[1],X=j.touch1[0],ae=j.touch1[1],ge=(ge=X[0]-J[0])*ge+(ge=X[1]-J[1])*ge,le=(le=ae[0]-G[0])*le+(le=ae[1]-G[1])*le;U=w(U,Math.sqrt(ge/le)),K=[(J[0]+X[0])/2,(J[1]+X[1])/2],Y=[(G[0]+ae[0])/2,(G[1]+ae[1])/2]}else if(j.touch0)K=j.touch0[0],Y=j.touch0[1];else return;j.zoom("touch",r(_(U,K,Y),j.extent,a))}}function $(z,...D){if(this.__zooming){var j=C(this,D).event(z),N=z.changedTouches,R=N.length,H,U;for(j3(z),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),H=0;H<R;++H)U=N[H],j.touch0&&j.touch0[2]===U.identifier?delete j.touch0:j.touch1&&j.touch1[2]===U.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(U=Sa(U,this),Math.hypot(h[0]-U[0],h[1]-U[1])<y)){var K=ji(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return v.wheelDelta=function(z){return arguments.length?(i=typeof z=="function"?z:x_(+z),v):i},v.filter=function(z){return arguments.length?(n=typeof z=="function"?z:x_(!!z),v):n},v.touchable=function(z){return arguments.length?(s=typeof z=="function"?z:x_(!!z),v):s},v.extent=function(z){return arguments.length?(e=typeof z=="function"?z:x_([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),v):e},v.scaleExtent=function(z){return arguments.length?(o[0]=+z[0],o[1]=+z[1],v):[o[0],o[1]]},v.translateExtent=function(z){return arguments.length?(a[0][0]=+z[0][0],a[1][0]=+z[1][0],a[0][1]=+z[0][1],a[1][1]=+z[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(z){return arguments.length?(r=z,v):r},v.duration=function(z){return arguments.length?(l=+z,v):l},v.interpolate=function(z){return arguments.length?(c=z,v):c},v.on=function(){var z=u.on.apply(u,arguments);return z===u?v:z},v.clickDistance=function(z){return arguments.length?(b=(z=+z)*z,v):Math.sqrt(b)},v.tapDistance=function(z){return arguments.length?(y=+z,v):y},v}function rm({data:n,height:e=150,width:r=900,maxBars:i=60,getTimestamp:s=o=>o.timestamp||Date.now()}){const o=A.useRef(null),a=A.useRef(null),[l,c]=A.useState([]),u=A.useCallback(d=>s(d),[s]);return A.useEffect(()=>{if(n.length===0){c([]);return}const d=Date.now(),h=new Map;n.forEach(p=>{const m=u(p);if(!m||isNaN(m)||!isFinite(m))return;const b=Math.floor((d-m)/1e3);if(b>=0&&b<i){const y=h.get(b)||0;h.set(b,y+1)}});const f=[];for(let p=i-1;p>=0;p--)f.push({time:p,count:h.get(p)||0});c(f)},[n,i,u]),A.useEffect(()=>{if(!o.current||l.length===0)return;const d=ji(o.current);d.selectAll("*").remove();const h={top:20,right:20,bottom:40,left:50},f=r-h.left-h.right,p=e-h.top-h.bottom,m=d.append("g").attr("transform",`translate(${h.left}, ${h.top})`),b=ege().domain(l.map((w,_)=>_.toString())).range([0,f]).padding(.1),v=tge().domain([0,5]).range([p,0]).nice();return m.append("g").attr("transform",`translate(0, ${p})`).call(vH(b).tickValues(b.domain().filter((w,_)=>_%Math.ceil(i/10)===0)).tickFormat(w=>{var C;const _=parseInt(w||"0"),x=((C=l[_])==null?void 0:C.time)||0;return x===0?"now":x<60?`-${x}s`:`-${Math.floor(x/60)}m`})).selectAll("text").attr("class","data-rate-axis-text"),m.append("g").call(Yze(v).ticks(5)).selectAll("text").attr("class","data-rate-axis-text"),m.append("text").attr("class","data-rate-y-axis-label").attr("transform","rotate(-90)").attr("y",-35).attr("x",-p/2).attr("text-anchor","middle").text("Data Points/sec"),m.selectAll("rect").data(l).enter().append("rect").attr("x",(w,_)=>b(_.toString())||0).attr("y",w=>v(w.count)).attr("width",b.bandwidth()).attr("height",w=>p-v(w.count)).attr("fill",w=>w.count>=3.5?"#4CAF50":w.count>=2?"#FF9800":w.count>0?"#F44336":"#E0E0E0").attr("rx",2).style("opacity",.8).on("mouseover",function(w,_){var M;ji(this).style("opacity",1),a.current&&a.current.remove();const S=ji("body").append("div").attr("class","data-rate-tooltip").style("opacity",0),C=(M=o.current)==null?void 0:M.getBoundingClientRect(),[E,T]=Sa(w,o.current);C?(S.style("left",`${C.left+E+10}px`).style("top",`${C.top+T-10}px`).text(`${_.count} data points ${_.time===0?"now":`${_.time}s ago`}`).transition().duration(200).style("opacity",1),a.current=S):S.remove()}).on("mouseout",function(){ji(this).style("opacity",.8),a.current&&(a.current.transition().duration(200).style("opacity",0).remove(),a.current=null)}),m.append("g").attr("class","grid").attr("transform",`translate(0, ${p})`).call(vH(b).tickSize(-p).tickValues(b.domain().filter((w,_)=>_%Math.ceil(i/10)===0)).tickFormat(()=>"")).selectAll("line").attr("class","data-rate-grid-line"),()=>{a.current&&(a.current.remove(),a.current=null),IWe(".data-rate-tooltip").remove()}},[l,r,e,i]),g.jsxs("div",{className:"data-rate-histogram-container",children:[g.jsx("h4",{className:"data-rate-histogram-title",children:"Data Rate (points/second)"}),g.jsx("svg",{ref:o,className:"data-rate-histogram-svg",width:r,height:e})]})}const bVe=n=>{switch(n){case"orderbook":return"hooks-test-subchannel-orderbook";case"trades":return"hooks-test-subchannel-trades";case"positions":return"hooks-test-subchannel-positions";case"orders":return"hooks-test-subchannel-orders";case"buckets":return"hooks-test-subchannel-buckets";case"balances":return"hooks-test-subchannel-balances";default:return"hooks-test-subchannel-default"}};function HH({messages:n,maxDisplay:e,onMessageClick:r}){return n.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No multi-feed messages received yet"}):g.jsx("div",{className:"hooks-test-multifeed-messages-container",children:g.jsx("div",{className:"hooks-test-multifeed-messages-list",children:n.map((i,s)=>g.jsxs("div",{className:`hooks-test-multifeed-message-item ${s%2===0?"hooks-test-multifeed-message-item-even":"hooks-test-multifeed-message-item-odd"}`,onClick:()=>r(i,`Multi-Feed: ${i.sub_channel}`),children:[g.jsxs("div",{className:"hooks-test-multifeed-message-header",children:[g.jsx("span",{className:`hooks-test-multifeed-message-subchannel ${bVe(i.sub_channel)}`,children:i.sub_channel}),i.sequence_id&&g.jsxs("span",{className:"hooks-test-multifeed-message-sequence",children:["Seq: ",i.sequence_id]})]}),g.jsxs("div",{className:"hooks-test-multifeed-message-info",children:["Market: ",i.market_id||"N/A",i.first_sequence_id&&` | First SQ-ID: ${i.first_sequence_id}`,i.last_sequence_id&&` | Last SQ-ID: ${i.last_sequence_id}`,i.checksum&&` | Checksum: ${i.checksum.substring(0,8)}...`]}),g.jsxs("div",{className:"hooks-test-multifeed-message-preview",children:[JSON.stringify(i.data).substring(0,100),"..."]})]},s))})})}function yVe({buckets:n,orderPlacementMnemonic:e,setOrderPlacementMnemonic:r,orderPlacementBucketId:i,setOrderPlacementBucketId:s,orderPlacementSide:o,setOrderPlacementSide:a,orderPlacementOrderType:l,setOrderPlacementOrderType:c,orderPlacementPrice:u,setOrderPlacementPrice:d,orderPlacementQuantity:h,setOrderPlacementQuantity:f,orderPlacementLeverage:p,setOrderPlacementLeverage:m,isReady:b,loading:y,result:v,handlePlaceOrder:w,handleRandomize:_}){return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Mnemonic:",g.jsx("input",{type:"text",className:"hooks-test-input",value:e,onChange:x=>r(x.target.value),placeholder:"Enter mnemonic"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Bucket ID:",g.jsxs("select",{className:"hooks-test-select",value:i,onChange:x=>s(x.target.value),children:[g.jsx("option",{value:"",children:"Select a bucket..."}),n.map(x=>g.jsxs("option",{value:x.bucketId,children:[x.bucketId," (",x.collateralAsset,")"]},x.bucketId))]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Side:",g.jsxs("select",{className:"hooks-test-select",value:o,onChange:x=>a(x.target.value),children:[g.jsx("option",{value:"buy",children:"Buy"}),g.jsx("option",{value:"sell",children:"Sell"})]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Order Type:",g.jsxs("select",{className:"hooks-test-select",value:l,onChange:x=>c(x.target.value),children:[g.jsx("option",{value:"market",children:"Market"}),g.jsx("option",{value:"limit",children:"Limit"})]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Price:",g.jsx("input",{type:"number",className:"hooks-test-input",value:u||"",onChange:x=>d(parseFloat(x.target.value)||0),placeholder:"Enter price",step:"0.01",disabled:l==="market"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Quantity:",g.jsx("input",{type:"number",className:"hooks-test-input",value:h||"",onChange:x=>f(parseFloat(x.target.value)||0),placeholder:"Enter quantity",step:"0.001"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Leverage:",g.jsx("input",{type:"number",className:"hooks-test-input",value:p||"",onChange:x=>m(parseFloat(x.target.value)||1),placeholder:"Enter leverage",min:"1",step:"0.1"})]})})]}),g.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[g.jsx("button",{className:"hooks-test-button",onClick:w,disabled:!b||y||!i||h<=0,style:{flex:1,padding:"20px",fontSize:"18px",fontWeight:"bold"},children:y?"Placing Order...":o==="buy"?"Place Buy Order":"Place Sell Order"}),g.jsx("button",{className:"hooks-test-button",onClick:_,disabled:n.length===0,style:{padding:"20px",fontSize:"18px",fontWeight:"bold",minWidth:"120px"},children:"Random"})]}),v&&g.jsx("div",{className:"hooks-test-error-box",style:{marginTop:"15px",backgroundColor:v.success?"#d4edda":"#f8d7da",color:v.success?"#155724":"#721c24"},children:v.success?g.jsxs("div",{children:[g.jsx("strong",{children:"Success!"}),v.message&&g.jsx("div",{children:v.message}),v.orderId&&g.jsxs("div",{children:["Order ID: ",v.orderId]})]}):g.jsxs("div",{children:[g.jsx("strong",{children:"Error:"})," ",v.error]})})]})}function vVe({buckets:n,selectedMarketId:e}){const{client:r}=Gd(),{walletAddress:i,authToken:s}=pu(),{orders:o,loading:a,error:l,refresh:c}=b9({subscriptionClient:r,baseURL:gp,authToken:s,walletAddress:i,useWebSocket:!0,refreshInterval:0,marketId:e?String(e):void 0});A.useEffect(()=>{c()},[c,e]);const u=A.useMemo(()=>o.filter(h=>{const f=h.status.toUpperCase();return f==="OPEN"||f==="PENDING"||f==="PARTIAL"}),[o]),d=A.useMemo(()=>[{key:"orderId",label:"Order ID",width:200,render:h=>g.jsx("span",{style:{fontFamily:"monospace",fontSize:"12px"},children:h.orderId})},{key:"side",label:"Side",width:80,align:"center",render:h=>g.jsx("span",{style:{color:h.side==="BUY"||h.side==="LONG"?"#4CAF50":"#F44336",fontWeight:"bold"},children:h.side})},{key:"price",label:"Entry Price",width:120,align:"right",render:h=>g.jsx("span",{children:h.price.toFixed(2)})},{key:"filledQuantity",label:"Filled Size",width:120,align:"right",render:h=>g.jsx("span",{children:h.filledQuantity.toFixed(4)})}],[]);return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("div",{style:{marginTop:"20px"},children:a?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orders..."}):l?g.jsxs("div",{className:"hooks-test-loading-state",style:{color:"#F44336"},children:["Error: ",l]}):u.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No open orders found"}):g.jsx(wze,{data:u,columns:d,maxItems:10,emptyMessage:"No open orders",rowHeight:24,showHeader:!0})}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{className:"hooks-test-button",disabled:!e||n.length===0||u.length===0,style:{width:"100%",padding:"20px",fontSize:"18px",fontWeight:"bold"},children:"Cancel Open Orders"})})]})}function wVe({buckets:n,selectedMarketId:e}){return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID:",g.jsx("input",{type:"text",className:"hooks-test-input",value:e?String(e):"",readOnly:!0,placeholder:"Select market from dropdown above"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Bucket ID:",g.jsxs("select",{className:"hooks-test-select",defaultValue:"",children:[g.jsx("option",{value:"",children:"Select a bucket..."}),n.map(r=>g.jsxs("option",{value:r.bucketId,children:[r.bucketId," (",r.collateralAsset,")"]},r.bucketId))]})]})})]}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{className:"hooks-test-button",disabled:!e||n.length===0,style:{width:"100%",padding:"20px",fontSize:"18px",fontWeight:"bold"},children:"Close Position"})}),g.jsx("div",{className:"hooks-test-loading-state",style:{marginTop:"20px",textAlign:"left"},children:"Position Close functionality coming soon..."})]})}function xVe({isReady:n,loading:e,result:r,selectedMarketId:i,buckets:s,markPrice:o,lastPrice:a,orderPlacementMnemonic:l,setOrderPlacementMnemonic:c,orderPlacementBucketId:u,setOrderPlacementBucketId:d,orderPlacementSide:h,setOrderPlacementSide:f,orderPlacementOrderType:p,setOrderPlacementOrderType:m,orderPlacementPrice:b,setOrderPlacementPrice:y,orderPlacementQuantity:v,setOrderPlacementQuantity:w,orderPlacementLeverage:_,setOrderPlacementLeverage:x,handlePlaceOrder:S,handleRandomize:C,getOrderPrice:E,calculateSize:T}){const[M,I]=A.useState("order-placement"),O=i?String(i):"0",F=A.useMemo(()=>{E();const $=T(),z=_n(_.toString());return{marketId:O,bucketId:u||"(required)",side:h,orderType:p,price:b,quantity:$>0?$:v||0,leverage:z}},[O,u,h,p,b,v,_,E,T]);return g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Order Operations",statusBadges:[g.jsx("span",{className:`hooks-test-status-badge ${n?"hooks-test-status-badge-success":"hooks-test-status-badge-warning"}`,children:n?"Ready":"Initializing..."},"ready-status")]}),g.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"start"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{className:"hooks-test-multifeed-tabs",children:[g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="order-placement"?"active":""}`,onClick:()=>I("order-placement"),children:"Order Placement"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="cancel-opens"?"active":""}`,onClick:()=>I("cancel-opens"),children:"Cancel Opens"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="position-close"?"active":""}`,onClick:()=>I("position-close"),children:"Position Close"})]}),M==="order-placement"&&g.jsx(yVe,{buckets:s,orderPlacementMnemonic:l,setOrderPlacementMnemonic:c,orderPlacementBucketId:u,setOrderPlacementBucketId:d,orderPlacementSide:h,setOrderPlacementSide:f,orderPlacementOrderType:p,setOrderPlacementOrderType:m,orderPlacementPrice:b,setOrderPlacementPrice:y,orderPlacementQuantity:v,setOrderPlacementQuantity:w,orderPlacementLeverage:_,setOrderPlacementLeverage:x,isReady:n,loading:e,result:r,handlePlaceOrder:S,handleRandomize:C}),M==="cancel-opens"&&g.jsx(vVe,{buckets:s,selectedMarketId:i}),M==="position-close"&&g.jsx(wVe,{buckets:s,selectedMarketId:i})]}),g.jsxs("div",{style:{flex:1},children:[g.jsx("h3",{className:"hooks-test-section-header",style:{marginTop:0},children:"Config JSON"}),g.jsx("div",{className:"hooks-test-result-data",children:g.jsx("pre",{className:"data-modal-content",children:JSON.stringify(F,null,2)})})]})]})]})}const VH=5e3,GH=20,_Ve="1m",SVe=["orderbook","trades","positions","orders","buckets","balances"];function kVe(){const[n,e]=A.useState(gp),[r,i]=A.useState(eh),[s,o]=A.useState(HC),[a,l]=A.useState(100),[c,u]=A.useState(10),{walletAddress:d,authToken:h,error:f}=pu(),{markets:p,selectedMarketId:m,setSelectedMarketId:b,fetchMarkets:y,loadingMarkets:v,getMarket:w}=Ul({baseURL:n,sessionToken:h,autoFetchMarkets:!0}),[_,x]=A.useState("0"),[S,C]=A.useState("1m"),[E,T]=A.useState("0"),[M,I]=A.useState("BTC/USDC"),[O,F]=A.useState("0"),[$,z]=A.useState("0"),[D,j]=A.useState(zC),[N,R]=A.useState(""),[H,U]=A.useState("buy"),[K,Y]=A.useState("market"),[J,G]=A.useState(0),[X,ae]=A.useState(0),[ge,le]=A.useState(1);A.useEffect(()=>{if(m){const Me=String(m);x(Me),T(Me),F(Me),z(Me),Pe([]),re([]),Le(new Map);const Jt=w(m||"");Jt&&I(Jt.symbol||`${Jt.baseAsset}/${Jt.quoteAsset}`)}},[m,w]);const[ie,Te]=A.useState(null),[Ee,V]=A.useState("Data Details"),[Ie,Ye]=A.useState(!1),{client:nt,isEnabled:Ue,isConnected:mt,connectionState:He,toggleEnabled:xe,getRetainedData:Ve,getAllRetainedData:Oe,wsURL:Ne,setWsURL:Ae,authToken:Se,setAuthToken:W,walletAddress:de,setWalletAddress:me,deviceID:oe,setDeviceID:pe,subscribeMultiFeedWithRetention:ye,unsubscribeMultiFeed:Z}=Gd(),{klineData:ue,loading:ce,error:Ce,isConnected:Re}=Gje({subscriptionClient:nt,marketId:_,interval:S,maxDataPoints:a});A.useEffect(()=>{const Me=[];r!==Ne&&Me.push(()=>Ae(r)),h!==Se&&Me.push(()=>W(h)),d!==de&&Me.push(()=>me(d)),s!==oe&&Me.push(()=>pe(s)),Me.forEach(Et=>Et())},[r,Ne,Ae,h,Se,W,d,de,me,s,oe,pe]);const[he,Pe]=A.useState([]),[_e,re]=A.useState([]),[ne,se]=A.useState(!1),[rt,Le]=A.useState(new Map),[Ke,je]=A.useState("recent"),[Ze,ht]=A.useState(null),[Qe,ot]=A.useState(!0),[De,it]=A.useState(null),{markPrice:we,error:_t}=qC({subscriptionClient:nt,baseURL:n,marketId:E,disablePolling:!0}),gt=ne,[Ct,Ut]=A.useState([]),[Nt,tn]=A.useState([]);A.useEffect(()=>{Ze&&Ut(Me=>{const Et=[...Me,{...Ze,value:Ze.price,timestamp:Ze.timestamp,arrivalTime:Date.now()}];return Et.length>a?Et.slice(-a):Et})},[Ze,a]),A.useEffect(()=>{we&&tn(Me=>{const Et=[...Me,{...we,value:we.mark_price,timestamp:we.timestamp,arrivalTime:Date.now()}];return Et.length>a?Et.slice(-a):Et})},[we,a]);const{buckets:Wt,loading:at,error:on,refresh:Jn}=p9({subscriptionClient:nt,baseURL:n,authToken:h,walletAddress:d,refreshInterval:0,useWebSocket:!0,marketId:"0"}),{positions:ln,loading:Ws,error:ci,isConnected:wo,refresh:aa}=npe({subscriptionClient:nt,baseURL:n,authToken:h,walletAddress:d,useWebSocket:!0,refreshInterval:0}),{orders:Rr,loading:ui,error:qs,isConnected:Pp,refresh:Ip}=b9({subscriptionClient:nt,baseURL:n,authToken:h,walletAddress:d,deviceID:s,useWebSocket:!0,refreshInterval:0}),{asks:Ka,bids:Cn,spread:Yl,midPrice:yu,loading:Kl,error:vu,isConnected:Mp,refresh:Op}=f9({subscriptionClient:nt,baseURL:n,marketId:O,disablePolling:!0}),{latestFundingRate:Zn,latestDeviation:Kr,latestTWAP:Nr,loading:Dp,error:wu,isConnected:lh}=tpe({subscriptionClient:nt,baseURL:n,marketId:$}),{setOrderType:ch,setSizeInput:uh,setPrice:dh,setLeverage:xu,isReady:Rp,loading:Xa,result:Xl,placeBuyOrder:_u,placeSellOrder:la,getOrderPrice:fs,calculateSize:Np}=epe({baseURL:n,mnemonic:D,marketId:m?String(m):"0",selectedBucketId:N,tradePrice:(we==null?void 0:we.mark_price)||(Ze==null?void 0:Ze.price)||void 0}),Ft=A.useMemo(()=>{var Et,Jt;return Zn||Kr||Nr?{marketId:$,fundingRate:Zn?{latest:Zn,fundingRate:o3((typeof Zn.funding_rate=="string",Zn.funding_rate)),markPrice:Rh((typeof Zn.mark_price=="string",Zn.mark_price)),indexPrice:Rh((typeof Zn.index_price=="string",Zn.index_price)),premiumRate:o3((typeof Zn.premium_rate=="string",Zn.premium_rate)),symbol:Zn.symbol||"N/A",formattedTimestamp:Zn.timestamp?new Date(_l(Zn.timestamp)).toLocaleString():null}:null,deviation:Kr?{latest:Kr,deviationBps:Kr.deviation_bps,deviationPercent:o3(Kr.deviation_percent),lastPrice:Rh(Kr.last_price),markPrice:Rh(Kr.mark_price),indexPrice:Rh(Kr.index_price),direction:Kr.direction||"N/A",symbol:Kr.symbol||"N/A",formattedTimestamp:Kr.timestamp?new Date(_l(Kr.timestamp)).toLocaleString():null}:null,twap:Nr?{latest:Nr,twapValue:Rh((typeof Nr.twap_value=="string",Nr.twap_value)),windowSize:((Et=Nr.window_size)==null?void 0:Et.toString())||"N/A",sampleCount:((Jt=Nr.sample_count)==null?void 0:Jt.toString())||"N/A",calculationMethod:Nr.calculation_method||"N/A",startTime:Nr.start_time?new Date(Nr.start_time*1e3).toLocaleString():"N/A",endTime:Nr.end_time?new Date(Nr.end_time*1e3).toLocaleString():"N/A",symbol:Nr.symbol||"N/A"}:null}:null},[$,Zn,Kr,Nr]),xo=A.useMemo(()=>m?String(m):O,[m,O]),_o=A.useMemo(()=>M||"BTC/USDC",[M]),Su=A.useCallback(Me=>{if(SVe.includes(Me.sub_channel)?re(Et=>[...Et,Me].slice(-100)):Pe(Et=>[...Et,Me].slice(-20)),Le(Et=>{const Jt=new Map(Et),Hs=Jt.get(Me.sub_channel)||0;return Jt.set(Me.sub_channel,Hs+1),Jt}),VR(Me))try{const Et=Me.data,Jt={market_id:Et.market_id,price:$t(Et.price),quantity:$t(Et.quantity),timestamp:_l(Et.timestamp),is_buyer_maker:Et.is_buyer_maker,trade_id:Et.trade_id};ht(Jt),ot(!1),it(null)}catch(Et){console.error("[HooksTestPage] Error processing last_price from multi-feed:",Et),it(Et instanceof Error?Et.message:"Failed to process last_price")}},[]);A.useEffect(()=>{se(mt&&Ue)},[mt,Ue]);const ku=A.useMemo(()=>S||_Ve,[S]);A.useEffect(()=>{if(!xo||!_o||!nt||!Ue){Ue||(Pe([]),re([]),Le(new Map));return}if(!mt){console.debug("[HooksTestPage] Client not connected yet, waiting...");return}const Me=Ve("last_price");if(Me&&VR(Me))try{const Jt={market_id:Me.data.market_id,price:$t(Me.data.price),quantity:$t(Me.data.quantity),timestamp:_l(Me.data.timestamp),is_buyer_maker:Me.data.is_buyer_maker,trade_id:Me.data.trade_id};ht(Jt),ot(!1),it(null)}catch(Jt){console.error("[HooksTestPage] Error processing retained last_price:",Jt),it(Jt instanceof Error?Jt.message:"Failed to process retained last_price")}console.debug("[HooksTestPage] Subscribing to multi-feed with:",{marketId:xo,symbol:_o,interval:ku});let Et=!1;try{if(ye(xo,_o,Su,ku),nt){const Jt=setTimeout(()=>{Et||(console.warn("[HooksTestPage] Multi-feed subscription acknowledgment timeout"),it("Multi-feed subscription acknowledgment timeout"),ot(!1))},VH);nt.waitForSubscription("multi_feed",VH).then(()=>{Et=!0,clearTimeout(Jt),console.debug("[HooksTestPage] Multi-feed subscription acknowledged by server"),ot(!1),it(null)}).catch(Hs=>{Et=!0,clearTimeout(Jt),console.warn("[HooksTestPage] Multi-feed subscription acknowledgment error:",Hs),it("Multi-feed subscription acknowledgment failed"),ot(!1)})}}catch(Jt){console.error("[HooksTestPage] Failed to subscribe to multi-feed:",Jt),it(Jt instanceof Error?Jt.message:"Failed to subscribe"),ot(!1)}return()=>{if(nt&&xo&&_o)try{Z(xo,_o,Su)}catch(Jt){console.error("[HooksTestPage] Error unsubscribing from multi-feed:",Jt)}}},[xo,_o,nt,Ue,mt,ku,Su,ye,Z,Ve]);const fr=(Me,Et)=>{const Jt=Me.raw||Me.message||Me.data||Me;Te(Jt),V(Et),Ye(!0)},jp=A.useCallback(()=>{Ye(!1)},[]);A.useEffect(()=>{ch(K)},[K,ch]),A.useEffect(()=>{uh(X)},[X,uh]),A.useEffect(()=>{dh(J)},[J,dh]),A.useEffect(()=>{xu(ge)},[ge,xu]);const Cu=A.useCallback(async()=>{H==="buy"?await _u():await la()},[H,_u,la]),Bp=A.useCallback(()=>{if(Wt.length>0){const ke=Wt[Math.floor(Math.random()*Wt.length)];R(ke.bucketId)}const Me=Math.random()<.5?"buy":"sell";U(Me);const Et=Math.random()<.5?"market":"limit";if(Y(Et),Et==="market")G(0);else{const ke=Math.floor(Math.random()*80001)+1e4;G(ke)}const Jt=Math.random()*(1.5-.01)+.01;ae(parseFloat(Jt.toFixed(3)));const Hs=Math.floor(Math.random()*10)+1;le(Hs)},[Wt]);return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"Hooks Test QA"}),g.jsx("p",{children:"realtime monitor of data flow and block"}),g.jsx(kze,{isEnabled:Ue,isConnected:mt,connectionState:He,retainedDataCount:Oe().size,onToggle:xe}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{className:"hooks-test-section-header",children:"Shared Configuration"}),g.jsxs("div",{className:"hooks-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["API Base URL:",g.jsx("input",{type:"text",className:"hooks-test-input",value:n,onChange:Me=>e(Me.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["WebSocket URL:",g.jsx("input",{type:"text",className:"hooks-test-input",value:r,onChange:Me=>i(Me.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Wallet Address (from useOnboard):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:d||"",readOnly:!0,placeholder:"Set via useOnboard hook"}),f&&g.jsx("div",{className:"hooks-test-error-message",children:f})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Auth Token (from useOnboard):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:h||"",readOnly:!0,placeholder:"Set via useOnboard hook"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market Selection:",g.jsxs("select",{className:"hooks-test-select",value:m||"",onChange:Me=>{const Et=Me.target.value;Et&&b(Et)},children:[g.jsx("option",{value:"",children:"Select a market..."}),p.map(Me=>g.jsxs("option",{value:String(Me.market_id),children:[Me.symbol||`${Me.baseAsset}/${Me.quoteAsset}`," ","(ID: ",Me.market_id,")"]},Me.market_id))]}),v&&g.jsx("div",{className:"hooks-test-info-message",children:"Loading markets..."}),!v&&p.length===0&&g.jsx("button",{className:"hooks-test-button hooks-test-button-with-margin",onClick:()=>y(),children:"Fetch Markets"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Device ID:",g.jsx("input",{type:"text",className:"hooks-test-input",value:s,onChange:Me=>o(Me.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Max Data Points (Memory):",g.jsx("input",{type:"number",className:"hooks-test-input",value:a,onChange:Me=>l(Math.max(10,parseInt(Me.target.value)||100)),min:"10"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Max Visible Rectangles:",g.jsx("input",{type:"number",className:"hooks-test-input",value:c,onChange:Me=>u(Math.max(1,parseInt(Me.target.value)||10)),min:"1"})]})})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Kline Hook",isConnected:Re,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[ue.length," data points"]},"data-points")]}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:_,onChange:Me=>x(Me.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Interval:",g.jsxs("select",{className:"hooks-test-select",value:S,onChange:Me=>C(Me.target.value),children:[g.jsx("option",{value:"1m",children:"1m"}),g.jsx("option",{value:"5m",children:"5m"}),g.jsx("option",{value:"15m",children:"15m"}),g.jsx("option",{value:"1h",children:"1h"}),g.jsx("option",{value:"4h",children:"4h"}),g.jsx("option",{value:"1d",children:"1d"})]})]})})]}),Ce&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Ce]}),ce&&ue.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading kline data..."}):ue.length===0?g.jsx("div",{className:"hooks-test-empty-state",children:"No kline data available"}):g.jsxs(g.Fragment,{children:[g.jsx(nm,{data:ue,maxVisible:c,maxDataPoints:a,getValue:Me=>Me.close||Me.high||100,onItemClick:Me=>fr(Me,"Kline Data")}),g.jsx(rm,{data:ue,getTimestamp:Me=>{let Et=Me.timestamp||Me.open_time||Date.now();return Et<9466848e5&&(Et=Et*1e3),Et}})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Mark Price Hook",isConnected:gt}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:E,onChange:Me=>T(Me.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Mark price subscription uses marketId (not symbol). Can be manually overridden if needed."})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Symbol (for display only, auto-updated from selected market):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:M,onChange:Me=>I(Me.target.value),placeholder:"BTC/USDC"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Symbol is only used for display in mark price data, not for subscription."})]})})]}),_t&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",_t]}),Nt.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No mark price data available"}):g.jsxs(g.Fragment,{children:[g.jsx(nm,{data:Nt,maxVisible:c,maxDataPoints:a,getValue:Me=>Me.value||Me.mark_price||100,onItemClick:Me=>fr(Me,"Mark Price Data")}),g.jsx(rm,{data:Nt,getTimestamp:Me=>Me.arrivalTime||Me.timestamp||Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Last Price Hook",isConnected:gt}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:E,onChange:Me=>T(Me.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})})}),De&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",De]}),Qe&&Ct.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading last price data..."}):Ct.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No last price data available"}):g.jsxs(g.Fragment,{children:[g.jsx(nm,{data:Ct,maxVisible:c,maxDataPoints:a,getValue:Me=>Me.value||Me.price||100,onItemClick:Me=>fr(Me,"Last Price Data")}),g.jsx(rm,{data:Ct,getTimestamp:Me=>Me.arrivalTime||Me.timestamp||Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Bucket Hook (Addressed)",statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Wt.length," buckets"]},"buckets-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>Jn(),disabled:at,children:at?"Loading...":"Refresh"},"refresh")]}),on&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",on]}),at&&Wt.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading buckets..."}):Wt.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No buckets found"}):g.jsxs(g.Fragment,{children:[g.jsx(nm,{data:Wt,maxVisible:c,maxDataPoints:a,getValue:Me=>Me.totalMargin||Me.unrealizedPnL||100,onItemClick:Me=>fr(Me,"Bucket Data")}),g.jsx(rm,{data:Wt,getTimestamp:Me=>Me.createdAt?new Date(Me.createdAt).getTime():Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Position Hook (Addressed)",isConnected:wo,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[ln.length," positions"]},"positions-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>aa(),disabled:Ws,children:Ws?"Loading...":"Refresh"},"refresh")]}),ci&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",ci]}),Ws&&ln.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading positions..."}):ln.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No positions found"}):g.jsxs(g.Fragment,{children:[g.jsx(nm,{data:ln,maxVisible:c,maxDataPoints:a,getValue:Me=>Me.size||Me.margin||100,onItemClick:Me=>fr(Me,"Position Data")}),g.jsx(rm,{data:ln,getTimestamp:Me=>Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Order Hook (Addressed)",isConnected:Pp,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Rr.length," orders"]},"orders-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>Ip(),disabled:ui,children:ui?"Loading...":"Refresh"},"refresh")]}),qs&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",qs]}),ui&&Rr.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orders..."}):Rr.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No orders found"}):g.jsxs(g.Fragment,{children:[g.jsx(nm,{data:Rr,maxVisible:c,maxDataPoints:a,getValue:Me=>Me.quantity||Me.price||100,onItemClick:Me=>fr(Me,"Order Data")}),g.jsx(rm,{data:Rr,getTimestamp:Me=>Me.createdAt?typeof Me.createdAt=="number"?Me.createdAt:new Date(Me.createdAt).getTime():Me.updatedAt?typeof Me.updatedAt=="number"?Me.updatedAt:new Date(Me.updatedAt).getTime():Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Orderbook Hook",isConnected:Mp,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Cn.length+Ka.length," levels"]},"levels-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>Op(),disabled:Kl,children:Kl?"Loading...":"Refresh"},"refresh")]}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:O,onChange:Me=>F(Me.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})})}),vu&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",vu]}),Kl&&Cn.length===0&&Ka.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orderbook..."}):Cn.length===0&&Ka.length===0?g.jsx("div",{className:"hooks-test-empty-state",children:"No orderbook data available"}):g.jsxs("div",{className:"hooks-test-orderbook-container",children:[g.jsxs("div",{className:"hooks-test-orderbook-grid",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"hooks-test-orderbook-section-title hooks-test-orderbook-section-title-bids",children:["Bids (",Cn.length,")"]}),g.jsx("div",{className:"hooks-test-orderbook-levels-container",children:Cn.slice(0,GH).map((Me,Et)=>g.jsxs("div",{className:`hooks-test-orderbook-level-row ${Et%2===0?"hooks-test-orderbook-level-row-even":"hooks-test-orderbook-level-row-odd"}`,onClick:()=>fr({raw:Me},"Orderbook Bid Level"),children:[g.jsx("span",{children:Me.price.toFixed(8)}),g.jsx("span",{children:Me.size.toFixed(8)}),g.jsx("span",{children:Me.cumulative.toFixed(8)})]},Et))})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"hooks-test-orderbook-section-title hooks-test-orderbook-section-title-asks",children:["Asks (",Ka.length,")"]}),g.jsx("div",{className:"hooks-test-orderbook-levels-container",children:Ka.slice(0,GH).map((Me,Et)=>g.jsxs("div",{className:`hooks-test-orderbook-level-row ${Et%2===0?"hooks-test-orderbook-level-row-even":"hooks-test-orderbook-level-row-odd"}`,onClick:()=>fr({raw:Me},"Orderbook Ask Level"),children:[g.jsx("span",{children:Me.price.toFixed(8)}),g.jsx("span",{children:Me.size.toFixed(8)}),g.jsx("span",{children:Me.cumulative.toFixed(8)})]},Et))})]})]}),Yl!==void 0&&g.jsxs("div",{className:"hooks-test-orderbook-spread-info",children:[g.jsx("strong",{children:"Spread:"})," ",Yl.toFixed(8)," |"," ",g.jsx("strong",{children:"Mid Price:"})," ",(yu==null?void 0:yu.toFixed(8))||"N/A"]})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Rates Hook (Funding Rate, Deviation, TWAP)",isConnected:lh,statusBadges:[],actions:[]}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",value:$,onChange:Me=>{const Et=Me.target.value.trim();z(Et||"0")},placeholder:"0",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`}),g.jsx("div",{className:"hooks-test-helper-text",children:"Subscribe to a single market. Can be manually overridden if needed."})]})})}),wu&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",wu]}),Dp&&!Ft?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading rates..."}):Ft?g.jsxs("div",{className:"hooks-test-funding-rate-list",children:[Ft.fundingRate&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>fr({data:Ft.fundingRate.latest},`Funding Rate - Market ${Ft.marketId}`),role:"button",tabIndex:0,onKeyDown:Me=>{(Me.key==="Enter"||Me.key===" ")&&(Me.preventDefault(),fr({data:Ft.fundingRate.latest},`Funding Rate - Market ${Ft.marketId}`))},"aria-label":`View funding rate details for market ${Ft.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Ft.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," Funding Rate"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Ft.fundingRate.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Rate:"})," ",Ft.fundingRate.fundingRate]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",Ft.fundingRate.markPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",Ft.fundingRate.indexPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Premium Rate:"})," ",Ft.fundingRate.premiumRate]}),Ft.fundingRate.formattedTimestamp&&g.jsxs("div",{children:[g.jsx("strong",{children:"Timestamp:"})," ",Ft.fundingRate.formattedTimestamp]})]})}),Ft.deviation&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>fr({data:Ft.deviation.latest},`Deviation - Market ${Ft.marketId}`),role:"button",tabIndex:0,onKeyDown:Me=>{(Me.key==="Enter"||Me.key===" ")&&(Me.preventDefault(),fr({data:Ft.deviation.latest},`Deviation - Market ${Ft.marketId}`))},"aria-label":`View deviation details for market ${Ft.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Ft.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," Deviation"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Ft.deviation.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Deviation (BPS):"})," ",Ft.deviation.deviationBps]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Deviation (%):"})," ",Ft.deviation.deviationPercent]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Last Price:"})," ",Ft.deviation.lastPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",Ft.deviation.markPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",Ft.deviation.indexPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Direction:"})," ",Ft.deviation.direction]}),Ft.deviation.formattedTimestamp&&g.jsxs("div",{children:[g.jsx("strong",{children:"Timestamp:"})," ",Ft.deviation.formattedTimestamp]})]})}),Ft.twap&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>fr({data:Ft.twap.latest},`TWAP - Market ${Ft.marketId}`),role:"button",tabIndex:0,onKeyDown:Me=>{(Me.key==="Enter"||Me.key===" ")&&(Me.preventDefault(),fr({data:Ft.twap.latest},`TWAP - Market ${Ft.marketId}`))},"aria-label":`View TWAP details for market ${Ft.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Ft.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," TWAP"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Ft.twap.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"TWAP Value:"})," ",Ft.twap.twapValue]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Window Size:"})," ",Ft.twap.windowSize]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Sample Count:"})," ",Ft.twap.sampleCount]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Calculation Method:"})," ",Ft.twap.calculationMethod]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Start Time:"})," ",Ft.twap.startTime]}),g.jsxs("div",{children:[g.jsx("strong",{children:"End Time:"})," ",Ft.twap.endTime]})]})})]}):g.jsx("div",{className:"hooks-test-empty-state",children:"No rates data available"})]}),g.jsx(xVe,{isReady:Rp,loading:Xa,result:Xl,selectedMarketId:m,buckets:Wt,markPrice:we,lastPrice:Ze,orderPlacementMnemonic:D,setOrderPlacementMnemonic:j,orderPlacementBucketId:N,setOrderPlacementBucketId:R,orderPlacementSide:H,setOrderPlacementSide:U,orderPlacementOrderType:K,setOrderPlacementOrderType:Y,orderPlacementPrice:J,setOrderPlacementPrice:G,orderPlacementQuantity:X,setOrderPlacementQuantity:ae,orderPlacementLeverage:ge,setOrderPlacementLeverage:le,handlePlaceOrder:Cu,handleRandomize:Bp,getOrderPrice:fs,calculateSize:Np}),g.jsxs("div",{className:"App-section",children:[g.jsx(ol,{title:"Multi-Feed Channel",isConnected:ne,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[he.length+_e.length," messages"]},"messages-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>{Pe([]),re([]),Le(new Map)},children:"Clear"},"clear")]}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (from Market Selection):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:xo,readOnly:!0,placeholder:"Select market from dropdown above"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Symbol:",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:_o,readOnly:!0,placeholder:"BTC/USDC"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Symbol is controlled by Trade Price Symbol above"})]})})]}),rt.size>0&&g.jsx("div",{className:"hooks-test-multifeed-stats-container",children:g.jsx("div",{className:"hooks-test-multifeed-badges-container",children:Array.from(rt.entries()).map(([Me,Et])=>g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info hooks-test-multifeed-badge-clickable",onClick:()=>{const Hs=[...he,..._e].filter(ke=>ke.sub_channel===Me).reverse();Hs.length>0&&fr({raw:Hs},`Multi-Feed: ${Me}`)},children:[Me,": ",Et]},Me))})}),g.jsxs("div",{className:"hooks-test-multifeed-tabs",children:[g.jsx("button",{className:`hooks-test-multifeed-tab ${Ke==="recent"?"active":""}`,onClick:()=>je("recent"),children:"Recent Messages (Last 20)"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${Ke==="colored"?"active":""}`,onClick:()=>je("colored"),children:"Colored Messages (Last 100)"})]}),Ke==="recent"?g.jsx(HH,{messages:[...he].reverse(),maxDisplay:20,onMessageClick:fr}):g.jsx(HH,{messages:[..._e].reverse(),maxDisplay:100,onMessageClick:fr})]}),g.jsx(Eze,{data:ie,isOpen:Ie,onClose:jp,title:Ee})]})}function CVe(){return g.jsx(y9,{children:g.jsx(kVe,{})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Px(n){return n+.5|0}const wd=(n,e,r)=>Math.max(Math.min(n,r),e);function Ey(n){return wd(Px(n*2.55),0,255)}function jd(n){return wd(Px(n*255),0,255)}function _c(n){return wd(Px(n/2.55)/100,0,1)}function YH(n){return wd(Px(n*100),0,100)}const Po={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},S4=[..."0123456789ABCDEF"],EVe=n=>S4[n&15],AVe=n=>S4[(n&240)>>4]+S4[n&15],__=n=>(n&240)>>4===(n&15),TVe=n=>__(n.r)&&__(n.g)&&__(n.b)&&__(n.a);function PVe(n){var e=n.length,r;return n[0]==="#"&&(e===4||e===5?r={r:255&Po[n[1]]*17,g:255&Po[n[2]]*17,b:255&Po[n[3]]*17,a:e===5?Po[n[4]]*17:255}:(e===7||e===9)&&(r={r:Po[n[1]]<<4|Po[n[2]],g:Po[n[3]]<<4|Po[n[4]],b:Po[n[5]]<<4|Po[n[6]],a:e===9?Po[n[7]]<<4|Po[n[8]]:255})),r}const IVe=(n,e)=>n<255?e(n):"";function MVe(n){var e=TVe(n)?EVe:AVe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+IVe(n.a,e):void 0}const OVe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nge(n,e,r){const i=e*Math.min(r,1-r),s=(o,a=(o+n/30)%12)=>r-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function DVe(n,e,r){const i=(s,o=(s+n/60)%6)=>r-r*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function RVe(n,e,r){const i=nge(n,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)i[s]*=1-e-r,i[s]+=e;return i}function NVe(n,e,r,i,s){return n===s?(e-r)/i+(e<r?6:0):e===s?(r-n)/i+2:(n-e)/i+4}function tB(n){const r=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(r,i,s),a=Math.min(r,i,s),l=(o+a)/2;let c,u,d;return o!==a&&(d=o-a,u=l>.5?d/(2-o-a):d/(o+a),c=NVe(r,i,s,d,o),c=c*60+.5),[c|0,u||0,l]}function nB(n,e,r,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,r,i)).map(jd)}function rB(n,e,r){return nB(nge,n,e,r)}function jVe(n,e,r){return nB(RVe,n,e,r)}function BVe(n,e,r){return nB(DVe,n,e,r)}function rge(n){return(n%360+360)%360}function LVe(n){const e=OVe.exec(n);let r=255,i;if(!e)return;e[5]!==i&&(r=e[6]?Ey(+e[5]):jd(+e[5]));const s=rge(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=jVe(s,o,a):e[1]==="hsv"?i=BVe(s,o,a):i=rB(s,o,a),{r:i[0],g:i[1],b:i[2],a:r}}function FVe(n,e){var r=tB(n);r[0]=rge(r[0]+e),r=rB(r),n.r=r[0],n.g=r[1],n.b=r[2]}function $Ve(n){if(!n)return;const e=tB(n),r=e[0],i=YH(e[1]),s=YH(e[2]);return n.a<255?`hsla(${r}, ${i}%, ${s}%, ${_c(n.a)})`:`hsl(${r}, ${i}%, ${s}%)`}const KH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},XH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zVe(){const n={},e=Object.keys(XH),r=Object.keys(KH);let i,s,o,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],s=0;s<r.length;s++)o=r[s],l=l.replace(o,KH[o]);o=parseInt(XH[a],16),n[l]=[o>>16&255,o>>8&255,o&255]}return n}let S_;function UVe(n){S_||(S_=zVe(),S_.transparent=[0,0,0,0]);const e=S_[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const WVe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qVe(n){const e=WVe.exec(n);let r=255,i,s,o;if(e){if(e[7]!==i){const a=+e[7];r=e[8]?Ey(a):wd(a*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?Ey(i):wd(i,0,255)),s=255&(e[4]?Ey(s):wd(s,0,255)),o=255&(e[6]?Ey(o):wd(o,0,255)),{r:i,g:s,b:o,a:r}}}function HVe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${_c(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const B3=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,im=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function VVe(n,e,r){const i=im(_c(n.r)),s=im(_c(n.g)),o=im(_c(n.b));return{r:jd(B3(i+r*(im(_c(e.r))-i))),g:jd(B3(s+r*(im(_c(e.g))-s))),b:jd(B3(o+r*(im(_c(e.b))-o))),a:n.a+r*(e.a-n.a)}}function k_(n,e,r){if(n){let i=tB(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*r,e===0?360:1)),i=rB(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function ige(n,e){return n&&Object.assign(e||{},n)}function QH(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=jd(n[3]))):(e=ige(n,{r:0,g:0,b:0,a:1}),e.a=jd(e.a)),e}function GVe(n){return n.charAt(0)==="r"?qVe(n):LVe(n)}class bw{constructor(e){if(e instanceof bw)return e;const r=typeof e;let i;r==="object"?i=QH(e):r==="string"&&(i=PVe(e)||UVe(e)||GVe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=ige(this._rgb);return e&&(e.a=_c(e.a)),e}set rgb(e){this._rgb=QH(e)}rgbString(){return this._valid?HVe(this._rgb):void 0}hexString(){return this._valid?MVe(this._rgb):void 0}hslString(){return this._valid?$Ve(this._rgb):void 0}mix(e,r){if(e){const i=this.rgb,s=e.rgb;let o;const a=r===o?.5:r,l=2*a-1,c=i.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;o=1-u,i.r=255&u*i.r+o*s.r+.5,i.g=255&u*i.g+o*s.g+.5,i.b=255&u*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,r){return e&&(this._rgb=VVe(this._rgb,e._rgb,r)),this}clone(){return new bw(this.rgb)}alpha(e){return this._rgb.a=jd(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Px(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return k_(this._rgb,2,e),this}darken(e){return k_(this._rgb,2,-e),this}saturate(e){return k_(this._rgb,1,e),this}desaturate(e){return k_(this._rgb,1,-e),this}rotate(e){return FVe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function lc(){}const YVe=(()=>{let n=0;return()=>n++})();function qn(n){return n==null}function or(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ns(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function rl(n,e){return Ns(n)?n:e}function en(n,e){return typeof n>"u"?e:n}const KVe=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,sge=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Rn(n,e,r){if(n&&typeof n.call=="function")return n.apply(r,e)}function In(n,e,r,i){let s,o,a;if(or(n))for(o=n.length,s=0;s<o;s++)e.call(r,n[s],s);else if(rn(n))for(a=Object.keys(n),o=a.length,s=0;s<o;s++)e.call(r,n[a[s]],a[s])}function o2(n,e){let r,i,s,o;if(!n||!e||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;++r)if(s=n[r],o=e[r],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function a2(n){if(or(n))return n.map(a2);if(rn(n)){const e=Object.create(null),r=Object.keys(n),i=r.length;let s=0;for(;s<i;++s)e[r[s]]=a2(n[r[s]]);return e}return n}function oge(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function XVe(n,e,r,i){if(!oge(n))return;const s=e[n],o=r[n];rn(s)&&rn(o)?yw(s,o,i):e[n]=a2(o)}function yw(n,e,r){const i=or(e)?e:[e],s=i.length;if(!rn(n))return n;r=r||{};const o=r.merger||XVe;let a;for(let l=0;l<s;++l){if(a=i[l],!rn(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)o(c[u],n,a,r)}return n}function tv(n,e){return yw(n,e,{merger:QVe})}function QVe(n,e,r){if(!oge(n))return;const i=e[n],s=r[n];rn(i)&&rn(s)?tv(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=a2(s))}const JH={"":n=>n,x:n=>n.x,y:n=>n.y};function JVe(n){const e=n.split("."),r=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}function ZVe(n){const e=JVe(n);return r=>{for(const i of e){if(i==="")break;r=r&&r[i]}return r}}function vw(n,e){return(JH[e]||(JH[e]=ZVe(e)))(n)}function iB(n){return n.charAt(0).toUpperCase()+n.slice(1)}const po=n=>typeof n<"u",Ds=n=>typeof n=="function",ZH=(n,e)=>{if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0};function eGe(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const kn=Math.PI,vi=2*kn,tGe=vi+kn,l2=Number.POSITIVE_INFINITY,sB=kn/180,wi=kn/2,Wo=kn/4,c2=kn*2/3,age=Math.log10,S0=Math.sign;function nv(n,e,r){return Math.abs(n-e)<r}function eV(n){const e=Math.round(n);n=nv(n,e,n/1e3)?e:n;const r=Math.pow(10,Math.floor(age(n))),i=n/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function nGe(n){const e=[],r=Math.sqrt(n);let i;for(i=1;i<r;i++)n%i===0&&(e.push(i),e.push(n/i));return r===(r|0)&&e.push(r),e.sort((s,o)=>s-o).pop(),e}function rGe(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Zf(n){return!rGe(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function iGe(n,e){const r=Math.round(n);return r-e<=n&&r+e>=n}function sGe(n,e,r){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][r],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ii(n){return n*(kn/180)}function lge(n){return n*(180/kn)}function tV(n){if(!Ns(n))return;let e=1,r=0;for(;Math.round(n*e)/e!==n;)e*=10,r++;return r}function k4(n,e){const r=e.x-n.x,i=e.y-n.y,s=Math.sqrt(r*r+i*i);let o=Math.atan2(i,r);return o<-.5*kn&&(o+=vi),{angle:o,distance:s}}function k0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function oGe(n,e){return(n-e+tGe)%vi-kn}function Ku(n){return(n%vi+vi)%vi}function u2(n,e,r,i){const s=Ku(n),o=Ku(e),a=Ku(r),l=Ku(o-s),c=Ku(a-s),u=Ku(s-o),d=Ku(s-a);return s===o||s===a||i&&o===a||l>c&&u<d}function Ko(n,e,r){return Math.max(e,Math.min(r,n))}function aGe(n){return Ko(n,-32768,32767)}function Ay(n,e,r,i=1e-6){return n>=Math.min(e,r)-i&&n<=Math.max(e,r)+i}function oB(n,e,r){r=r||(a=>n[a]<e);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,r(o)?s=o:i=o;return{lo:s,hi:i}}const ef=(n,e,r,i)=>oB(n,r,i?s=>{const o=n[s][e];return o<r||o===r&&n[s+1][e]===r}:s=>n[s][e]<r),lGe=(n,e,r)=>oB(n,r,i=>n[i][e]>=r);function cGe(n,e,r){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>r;)s--;return i>0||s<n.length?n.slice(i,s):n}const cge=["push","pop","shift","splice","unshift"];function uGe(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cge.forEach(r=>{const i="_onData"+iB(r),s=n[r];Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return n._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...o)}),a}})})}function nV(n,e){const r=n._chartjs;if(!r)return;const i=r.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(cge.forEach(o=>{delete n[o]}),delete n._chartjs)}function dGe(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const uge=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function dge(n,e){let r=[],i=!1;return function(...s){r=s,i||(i=!0,uge.call(window,()=>{i=!1,n.apply(e,r)}))}}function hGe(n,e){let r;return function(...i){return e?(clearTimeout(r),r=setTimeout(n,e,i)):n.apply(this,i),e}}const aB=n=>n==="start"?"left":n==="end"?"right":"center",Di=(n,e,r)=>n==="start"?e:n==="end"?r:(e+r)/2,fGe=(n,e,r,i)=>n===(i?"left":"right")?r:n==="center"?(e+r)/2:e;function pGe(n,e,r){const i=e.length;let s=0,o=i;if(n._sorted){const{iScale:a,vScale:l,_parsed:c}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:p,maxDefined:m}=a.getUserBounds();if(p){if(s=Math.min(ef(c,d,h).lo,r?i:ef(e,d,a.getPixelForValue(h)).lo),u){const b=c.slice(0,s+1).reverse().findIndex(y=>!qn(y[l.axis]));s-=Math.max(0,b)}s=Ko(s,0,i-1)}if(m){let b=Math.max(ef(c,a.axis,f,!0).hi+1,r?0:ef(e,d,a.getPixelForValue(f),!0).hi+1);if(u){const y=c.slice(b-1).findIndex(v=>!qn(v[l.axis]));b+=Math.max(0,y)}o=Ko(b,s,i)-s}else o=i-s}return{start:s,count:o}}function mGe(n){const{xScale:e,yScale:r,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,s),o}const C_=n=>n===0||n===1,rV=(n,e,r)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*vi/r)),iV=(n,e,r)=>Math.pow(2,-10*n)*Math.sin((n-e)*vi/r)+1,rv={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*wi)+1,easeOutSine:n=>Math.sin(n*wi),easeInOutSine:n=>-.5*(Math.cos(kn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>C_(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>C_(n)?n:rV(n,.075,.3),easeOutElastic:n=>C_(n)?n:iV(n,.075,.3),easeInOutElastic(n){return C_(n)?n:n<.5?.5*rV(n*2,.1125,.45):.5+.5*iV(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-rv.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?rv.easeInBounce(n*2)*.5:rv.easeOutBounce(n*2-1)*.5+.5};function lB(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function sV(n){return lB(n)?n:new bw(n)}function L3(n){return lB(n)?n:new bw(n).saturate(.5).darken(.1).hexString()}const gGe=["x","y","borderWidth","radius","tension"],bGe=["color","borderColor","backgroundColor"];function yGe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:bGe},numbers:{type:"number",properties:gGe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vGe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const oV=new Map;function wGe(n,e){e=e||{};const r=n+JSON.stringify(e);let i=oV.get(r);return i||(i=new Intl.NumberFormat(n,e),oV.set(r,i)),i}function cB(n,e,r){return wGe(e,r).format(n)}const xGe={values(n){return or(n)?n:""+n},numeric(n,e,r){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),o=_Ge(n,r)}const a=age(Math.abs(o)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),cB(n,i,c)}};function _Ge(n,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&n!==Math.floor(n)&&(r=n-Math.floor(n)),r}var hge={formatters:xGe};function SGe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hge.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ep=Object.create(null),C4=Object.create(null);function iv(n,e){if(!e)return n;const r=e.split(".");for(let i=0,s=r.length;i<s;++i){const o=r[i];n=n[o]||(n[o]=Object.create(null))}return n}function F3(n,e,r){return typeof e=="string"?yw(iv(n,e),r):yw(iv(n,""),e)}class kGe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>L3(s.backgroundColor),this.hoverBorderColor=(i,s)=>L3(s.borderColor),this.hoverColor=(i,s)=>L3(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return F3(this,e,r)}get(e){return iv(this,e)}describe(e,r){return F3(C4,e,r)}override(e,r){return F3(ep,e,r)}route(e,r,i,s){const o=iv(this,e),a=iv(this,i),l="_"+r;Object.defineProperties(o,{[l]:{value:o[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=a[s];return rn(c)?Object.assign({},u,c):en(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var yr=new kGe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yGe,vGe,SGe]);function CGe(n){return!n||qn(n.size)||qn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function aV(n,e,r,i,s){let o=e[s];return o||(o=e[s]=n.measureText(s).width,r.push(s)),o>i&&(i=o),i}function Ch(n,e,r){const i=n.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*i)/i+s}function lV(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function E4(n,e,r,i){fge(n,e,r,i,null)}function fge(n,e,r,i,s){let o,a,l,c,u,d,h,f;const p=e.pointStyle,m=e.rotation,b=e.radius;let y=(m||0)*sB;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(r,i),n.rotate(y),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),p){default:s?n.ellipse(r,i,s/2,b,0,0,vi):n.arc(r,i,b,0,vi),n.closePath();break;case"triangle":d=s?s/2:b,n.moveTo(r+Math.sin(y)*d,i-Math.cos(y)*b),y+=c2,n.lineTo(r+Math.sin(y)*d,i-Math.cos(y)*b),y+=c2,n.lineTo(r+Math.sin(y)*d,i-Math.cos(y)*b),n.closePath();break;case"rectRounded":u=b*.516,c=b-u,a=Math.cos(y+Wo)*c,h=Math.cos(y+Wo)*(s?s/2-u:c),l=Math.sin(y+Wo)*c,f=Math.sin(y+Wo)*(s?s/2-u:c),n.arc(r-h,i-l,u,y-kn,y-wi),n.arc(r+f,i-a,u,y-wi,y),n.arc(r+h,i+l,u,y,y+wi),n.arc(r-f,i+a,u,y+wi,y+kn),n.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*b,d=s?s/2:c,n.rect(r-d,i-c,2*d,2*c);break}y+=Wo;case"rectRot":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+f,i-a),n.lineTo(r+h,i+l),n.lineTo(r-f,i+a),n.closePath();break;case"crossRot":y+=Wo;case"cross":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a);break;case"star":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a),y+=Wo,h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a);break;case"line":a=s?s/2:Math.cos(y)*b,l=Math.sin(y)*b,n.moveTo(r-a,i-l),n.lineTo(r+a,i+l);break;case"dash":n.moveTo(r,i),n.lineTo(r+Math.cos(y)*(s?s/2:b),i+Math.sin(y)*b);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ww(n,e,r){return r=r||.5,!e||n&&n.x>e.left-r&&n.x<e.right+r&&n.y>e.top-r&&n.y<e.bottom+r}function dE(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function hE(n){n.restore()}function EGe(n,e,r,i,s){if(!e)return n.lineTo(r.x,r.y);if(s==="middle"){const o=(e.x+r.x)/2;n.lineTo(o,e.y),n.lineTo(o,r.y)}else s==="after"!=!!i?n.lineTo(e.x,r.y):n.lineTo(r.x,e.y);n.lineTo(r.x,r.y)}function AGe(n,e,r,i){if(!e)return n.lineTo(r.x,r.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function TGe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),qn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function PGe(n,e,r,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),a=e-o.actualBoundingBoxLeft,l=e+o.actualBoundingBoxRight,c=r-o.actualBoundingBoxAscent,u=r+o.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,d),n.lineTo(l,d),n.stroke()}}function IGe(n,e){const r=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=r}function xw(n,e,r,i,s,o={}){const a=or(e)?e:[e],l=o.strokeWidth>0&&o.strokeColor!=="";let c,u;for(n.save(),n.font=s.string,TGe(n,o),c=0;c<a.length;++c)u=a[c],o.backdrop&&IGe(n,o.backdrop),l&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),qn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(u,r,i,o.maxWidth)),n.fillText(u,r,i,o.maxWidth),PGe(n,r,i,u,o),i+=Number(s.lineHeight);n.restore()}function d2(n,e){const{x:r,y:i,w:s,h:o,radius:a}=e;n.arc(r+a.topLeft,i+a.topLeft,a.topLeft,1.5*kn,kn,!0),n.lineTo(r,i+o-a.bottomLeft),n.arc(r+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,kn,wi,!0),n.lineTo(r+s-a.bottomRight,i+o),n.arc(r+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,wi,0,!0),n.lineTo(r+s,i+a.topRight),n.arc(r+s-a.topRight,i+a.topRight,a.topRight,0,-wi,!0),n.lineTo(r+a.topLeft,i)}const MGe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OGe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DGe(n,e){const r=(""+n).match(MGe);if(!r||r[1]==="normal")return e*1.2;switch(n=+r[2],r[3]){case"px":return n;case"%":n/=100;break}return e*n}const RGe=n=>+n||0;function pge(n,e){const r={},i=rn(e),s=i?Object.keys(e):e,o=rn(n)?i?a=>en(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of s)r[a]=RGe(o(a));return r}function NGe(n){return pge(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ag(n){return pge(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $i(n){const e=NGe(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wr(n,e){n=n||{},e=e||yr.font;let r=en(n.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let i=en(n.style,e.style);i&&!(""+i).match(OGe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:en(n.family,e.family),lineHeight:DGe(en(n.lineHeight,e.lineHeight),r),size:r,style:i,weight:en(n.weight,e.weight),string:""};return s.string=CGe(s),s}function E_(n,e,r,i){let s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&a!==void 0)return a}function jGe(n,e,r){const{min:i,max:s}=n,o=sge(e,(s-i)/2),a=(l,c)=>r&&l===0?0:l+c;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function yp(n,e){return Object.assign(Object.create(n),e)}function uB(n,e=[""],r,i,s=()=>n[0]){const o=r||n;typeof i>"u"&&(i=yge("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:l=>uB([l,...n],e,o,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return gge(l,c,()=>qGe(c,e,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return uV(l).includes(c)},ownKeys(l){return uV(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function C0(n,e,r,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:r,_stack:new Set,_descriptors:mge(n,i),setContext:o=>C0(n,o,r,i),override:o=>C0(n.override(o),e,r,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete n[a],!0},get(o,a,l){return gge(o,a,()=>LGe(o,a,l))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(o,a,l){return n[a]=l,delete o[a],!0}})}function mge(n,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:r,indexable:i,isScriptable:Ds(r)?r:()=>r,isIndexable:Ds(i)?i:()=>i}}const BGe=(n,e)=>n?n+iB(e):e,dB=(n,e)=>rn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function gge(n,e,r){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=r();return n[e]=i,i}function LGe(n,e,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;let l=i[e];return Ds(l)&&a.isScriptable(e)&&(l=FGe(e,l,n,r)),or(l)&&l.length&&(l=$Ge(e,l,n,a.isIndexable)),dB(e,l)&&(l=C0(l,s,o&&o[e],a)),l}function FGe(n,e,r,i){const{_proxy:s,_context:o,_subProxy:a,_stack:l}=r;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(o,a||i);return l.delete(n),dB(n,c)&&(c=hB(s._scopes,s,n,c)),c}function $Ge(n,e,r,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=r;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(rn(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=hB(u,s,n,d);e.push(C0(h,o,a&&a[n],l))}}return e}function bge(n,e,r){return Ds(n)?n(e,r):n}const zGe=(n,e)=>n===!0?e:typeof n=="string"?vw(e,n):void 0;function UGe(n,e,r,i,s){for(const o of e){const a=zGe(r,o);if(a){n.add(a);const l=bge(a._fallback,r,s);if(typeof l<"u"&&l!==r&&l!==i)return l}else if(a===!1&&typeof i<"u"&&r!==i)return null}return!1}function hB(n,e,r,i){const s=e._rootScopes,o=bge(e._fallback,r,i),a=[...n,...s],l=new Set;l.add(i);let c=cV(l,a,r,o||r,i);return c===null||typeof o<"u"&&o!==r&&(c=cV(l,a,o,c,i),c===null)?!1:uB(Array.from(l),[""],s,o,()=>WGe(e,r,i))}function cV(n,e,r,i,s){for(;r;)r=UGe(n,e,r,i,s);return r}function WGe(n,e,r){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return or(s)&&rn(r)?r:s||{}}function qGe(n,e,r,i){let s;for(const o of e)if(s=yge(BGe(o,n),r),typeof s<"u")return dB(n,s)?hB(r,i,n,s):s}function yge(n,e){for(const r of e){if(!r)continue;const i=r[n];if(typeof i<"u")return i}}function uV(n){let e=n._keys;return e||(e=n._keys=HGe(n._scopes)),e}function HGe(n){const e=new Set;for(const r of n)for(const i of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const VGe=Number.EPSILON||1e-14,E0=(n,e)=>e<n.length&&!n[e].skip&&n[e],vge=n=>n==="x"?"y":"x";function GGe(n,e,r,i){const s=n.skip?e:n,o=e,a=r.skip?e:r,l=k0(o,s),c=k0(a,o);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=i*u,f=i*d;return{previous:{x:o.x-h*(a.x-s.x),y:o.y-h*(a.y-s.y)},next:{x:o.x+f*(a.x-s.x),y:o.y+f*(a.y-s.y)}}}function YGe(n,e,r){const i=n.length;let s,o,a,l,c,u=E0(n,0);for(let d=0;d<i-1;++d)if(c=u,u=E0(n,d+1),!(!c||!u)){if(nv(e[d],0,VGe)){r[d]=r[d+1]=0;continue}s=r[d]/e[d],o=r[d+1]/e[d],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(a=3/Math.sqrt(l),r[d]=s*a*e[d],r[d+1]=o*a*e[d])}}function KGe(n,e,r="x"){const i=vge(r),s=n.length;let o,a,l,c=E0(n,0);for(let u=0;u<s;++u){if(a=l,l=c,c=E0(n,u+1),!l)continue;const d=l[r],h=l[i];a&&(o=(d-a[r])/3,l[`cp1${r}`]=d-o,l[`cp1${i}`]=h-o*e[u]),c&&(o=(c[r]-d)/3,l[`cp2${r}`]=d+o,l[`cp2${i}`]=h+o*e[u])}}function XGe(n,e="x"){const r=vge(e),i=n.length,s=Array(i).fill(0),o=Array(i);let a,l,c,u=E0(n,0);for(a=0;a<i;++a)if(l=c,c=u,u=E0(n,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[r]-c[r])/d:0}o[a]=l?u?S0(s[a-1])!==S0(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}YGe(n,s,o),KGe(n,o,e)}function A_(n,e,r){return Math.max(Math.min(n,r),e)}function QGe(n,e){let r,i,s,o,a,l=ww(n[0],e);for(r=0,i=n.length;r<i;++r)a=o,o=l,l=r<i-1&&ww(n[r+1],e),o&&(s=n[r],a&&(s.cp1x=A_(s.cp1x,e.left,e.right),s.cp1y=A_(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=A_(s.cp2x,e.left,e.right),s.cp2y=A_(s.cp2y,e.top,e.bottom)))}function JGe(n,e,r,i,s){let o,a,l,c;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")XGe(n,s);else{let u=i?n[n.length-1]:n[0];for(o=0,a=n.length;o<a;++o)l=n[o],c=GGe(u,l,n[Math.min(o+1,a-(i?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&QGe(n,r)}function fB(){return typeof window<"u"&&typeof document<"u"}function pB(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function h2(n,e,r){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[r])):i=n,i}const fE=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ZGe(n,e){return fE(n).getPropertyValue(e)}const eYe=["top","right","bottom","left"];function Af(n,e,r){const i={};r=r?"-"+r:"";for(let s=0;s<4;s++){const o=eYe[s];i[o]=parseFloat(n[e+"-"+o+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const tYe=(n,e,r)=>(n>0||e>0)&&(!r||!r.shadowRoot);function nYe(n,e){const r=n.touches,i=r&&r.length?r[0]:n,{offsetX:s,offsetY:o}=i;let a=!1,l,c;if(tYe(s,o,n.target))l=s,c=o;else{const u=e.getBoundingClientRect();l=i.clientX-u.left,c=i.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function jh(n,e){if("native"in n)return n;const{canvas:r,currentDevicePixelRatio:i}=e,s=fE(r),o=s.boxSizing==="border-box",a=Af(s,"padding"),l=Af(s,"border","width"),{x:c,y:u,box:d}=nYe(n,r),h=a.left+(d&&l.left),f=a.top+(d&&l.top);let{width:p,height:m}=e;return o&&(p-=a.width+l.width,m-=a.height+l.height),{x:Math.round((c-h)/p*r.width/i),y:Math.round((u-f)/m*r.height/i)}}function rYe(n,e,r){let i,s;if(e===void 0||r===void 0){const o=n&&pB(n);if(!o)e=n.clientWidth,r=n.clientHeight;else{const a=o.getBoundingClientRect(),l=fE(o),c=Af(l,"border","width"),u=Af(l,"padding");e=a.width-u.width-c.width,r=a.height-u.height-c.height,i=h2(l.maxWidth,o,"clientWidth"),s=h2(l.maxHeight,o,"clientHeight")}}return{width:e,height:r,maxWidth:i||l2,maxHeight:s||l2}}const xd=n=>Math.round(n*10)/10;function iYe(n,e,r,i){const s=fE(n),o=Af(s,"margin"),a=h2(s.maxWidth,n,"clientWidth")||l2,l=h2(s.maxHeight,n,"clientHeight")||l2,c=rYe(n,e,r);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const f=Af(s,"border","width"),p=Af(s,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-o.width),d=Math.max(0,i?u/i:d-o.height),u=xd(Math.min(u,a,c.maxWidth)),d=xd(Math.min(d,l,c.maxHeight)),u&&!d&&(d=xd(u/2)),(e!==void 0||r!==void 0)&&i&&c.height&&d>c.height&&(d=c.height,u=xd(Math.floor(d*i))),{width:u,height:d}}function dV(n,e,r){const i=e||1,s=xd(n.height*i),o=xd(n.width*i);n.height=xd(n.height),n.width=xd(n.width);const a=n.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(n.currentDevicePixelRatio=i,a.height=s,a.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const sYe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};fB()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function hV(n,e){const r=ZGe(n,e),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Bh(n,e,r,i){return{x:n.x+r*(e.x-n.x),y:n.y+r*(e.y-n.y)}}function oYe(n,e,r,i){return{x:n.x+r*(e.x-n.x),y:i==="middle"?r<.5?n.y:e.y:i==="after"?r<1?n.y:e.y:r>0?e.y:n.y}}function aYe(n,e,r,i){const s={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},a=Bh(n,s,r),l=Bh(s,o,r),c=Bh(o,e,r),u=Bh(a,l,r),d=Bh(l,c,r);return Bh(u,d,r)}const lYe=function(n,e){return{x(r){return n+n+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,i){return r-i},leftForLtr(r,i){return r-i}}},cYe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function lg(n,e,r){return n?lYe(e,r):cYe()}function wge(n,e){let r,i;(e==="ltr"||e==="rtl")&&(r=n.canvas.style,i=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),n.prevTextDirection=i)}function xge(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function _ge(n){return n==="angle"?{between:u2,compare:oGe,normalize:Ku}:{between:Ay,compare:(e,r)=>e-r,normalize:e=>e}}function fV({start:n,end:e,count:r,loop:i,style:s}){return{start:n%r,end:e%r,loop:i&&(e-n+1)%r===0,style:s}}function uYe(n,e,r){const{property:i,start:s,end:o}=r,{between:a,normalize:l}=_ge(i),c=e.length;let{start:u,end:d,loop:h}=n,f,p;if(h){for(u+=c,d+=c,f=0,p=c;f<p&&a(l(e[u%c][i]),s,o);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:n.style}}function dYe(n,e,r){if(!r)return[n];const{property:i,start:s,end:o}=r,a=e.length,{compare:l,between:c,normalize:u}=_ge(i),{start:d,end:h,loop:f,style:p}=uYe(n,e,r),m=[];let b=!1,y=null,v,w,_;const x=()=>c(s,_,v)&&l(s,_)!==0,S=()=>l(o,v)===0||c(o,_,v),C=()=>b||x(),E=()=>!b||S();for(let T=d,M=d;T<=h;++T)w=e[T%a],!w.skip&&(v=u(w[i]),v!==_&&(b=c(v,s,o),y===null&&C()&&(y=l(v,s)===0?T:M),y!==null&&E()&&(m.push(fV({start:y,end:T,loop:f,count:a,style:p})),y=null),M=T,_=v));return y!==null&&m.push(fV({start:y,end:h,loop:f,count:a,style:p})),m}function hYe(n,e){const r=[],i=n.segments;for(let s=0;s<i.length;s++){const o=dYe(i[s],n.points,e);o.length&&r.push(...o)}return r}function fYe(n,e,r,i){let s=0,o=e-1;if(r&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,r&&(o+=s);o>s&&n[o%e].skip;)o--;return o%=e,{start:s,end:o}}function pYe(n,e,r,i){const s=n.length,o=[];let a=e,l=n[e],c;for(c=e+1;c<=r;++c){const u=n[c%s];u.skip||u.stop?l.skip||(i=!1,o.push({start:e%s,end:(c-1)%s,loop:i}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&o.push({start:e%s,end:a%s,loop:i}),o}function mYe(n,e){const r=n.points,i=n.options.spanGaps,s=r.length;if(!s)return[];const o=!!n._loop,{start:a,end:l}=fYe(r,s,o,i);if(i===!0)return pV(n,[{start:a,end:l,loop:o}],r,e);const c=l<a?l+s:l,u=!!n._fullLoop&&a===0&&l===s-1;return pV(n,pYe(r,a,c,u),r,e)}function pV(n,e,r,i){return!i||!i.setContext||!r?e:gYe(n,e,r,i)}function gYe(n,e,r,i){const s=n._chart.getContext(),o=mV(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,c=r.length,u=[];let d=o,h=e[0].start,f=h;function p(m,b,y,v){const w=l?-1:1;if(m!==b){for(m+=c;r[m%c].skip;)m-=w;for(;r[b%c].skip;)b+=w;m%c!==b%c&&(u.push({start:m%c,end:b%c,loop:y,style:v}),d=v,h=b%c)}}for(const m of e){h=l?h:m.start;let b=r[h%c],y;for(f=h+1;f<=m.end;f++){const v=r[f%c];y=mV(i.setContext(yp(s,{type:"segment",p0:b,p1:v,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),bYe(y,d)&&p(h,f-1,m.loop,d),b=v,d=y}h<f-1&&p(h,f-1,m.loop,d)}return u}function mV(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function bYe(n,e){if(!e)return!1;const r=[],i=function(s,o){return lB(o)?(r.includes(o)||r.push(o),r.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function T_(n,e,r){return n.options.clip?n[r]:e[r]}function yYe(n,e){const{xScale:r,yScale:i}=n;return r&&i?{left:T_(r,e,"left"),right:T_(r,e,"right"),top:T_(i,e,"top"),bottom:T_(i,e,"bottom")}:e}function vYe(n,e){const r=e._clip;if(r.disabled)return!1;const i=yYe(e,n.chartArea);return{left:r.left===!1?0:i.left-(r.left===!0?0:r.left),right:r.right===!1?n.width:i.right+(r.right===!0?0:r.right),top:r.top===!1?0:i.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?n.height:i.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wYe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,i,s){const o=r.listeners[s],a=r.duration;o.forEach(l=>l({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(i-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=uge.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,l=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(o[a]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),r+=o.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let i=r.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,i)),i}listen(e,r,i){this._getAnims(e).listeners[r].push(i)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const i=r.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var mc=new wYe;const gV="transparent",xYe={boolean(n,e,r){return r>.5?e:n},color(n,e,r){const i=sV(n||gV),s=i.valid&&sV(e||gV);return s&&s.valid?s.mix(i,r).hexString():e},number(n,e,r){return n+(e-n)*r}};class _Ye{constructor(e,r,i,s){const o=r[i];s=E_([e.to,s,o,e.from]);const a=E_([e.from,o,s]);this._active=!0,this._fn=e.fn||xYe[e.type||typeof a],this._easing=rv[e.easing]||rv.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=E_([e.to,r,s,e.from]),this._from=E_([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,l=this._to;let c;if(this._active=o!==l&&(a||r<i),!this._active){this._target[s]=l,this._notify(!0);return}if(r<0){this._target[s]=o;return}c=r/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,i)=>{e.push({res:r,rej:i})})}_notify(e){const r=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][r]()}}class mB{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!rn(e))return;const r=Object.keys(yr.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!rn(o))return;const a={};for(const l of r)a[l]=o[l];(or(o.properties)&&o.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,r){const i=r.options,s=kYe(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&SYe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,r){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),a=Object.keys(r),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,r));continue}const d=r[u];let h=o[u];const f=i.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}o[u]=h=new _Ye(f,e,u,d),s.push(h)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const i=this._createAnimations(e,r);if(i.length)return mc.add(this._chart,i),!0}}function SYe(n,e){const r=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&r.push(o.wait())}return Promise.all(r)}function kYe(n,e){if(!e)return;let r=n.options;if(!r){n.options=e;return}return r.$shared&&(n.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function bV(n,e){const r=n&&n.options||{},i=r.reverse,s=r.min===void 0?e:0,o=r.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function CYe(n,e,r){if(r===!1)return!1;const i=bV(n,r),s=bV(e,r);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function EYe(n){let e,r,i,s;return rn(n)?(e=n.top,r=n.right,i=n.bottom,s=n.left):e=r=i=s=n,{top:e,right:r,bottom:i,left:s,disabled:n===!1}}function Sge(n,e){const r=[],i=n._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)r.push(i[s].index);return r}function yV(n,e,r,i={}){const s=n.keys,o=i.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===r){if(d=!0,i.all)continue;break}u=n.values[c],Ns(u)&&(o||e===0||S0(e)===S0(u))&&(e+=u)}return!d&&!i.all?0:e}function AYe(n,e){const{iScale:r,vScale:i}=e,s=r.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[o]:n[d]};return l}function $3(n,e){const r=n&&n.options.stacked;return r||r===void 0&&e.stack!==void 0}function TYe(n,e,r){return`${n.id}.${e.id}.${r.stack||r.type}`}function PYe(n){const{min:e,max:r,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function IYe(n,e,r){const i=n[e]||(n[e]={});return i[r]||(i[r]={})}function vV(n,e,r,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(r&&o>0||!r&&o<0)return s.index}return null}function wV(n,e){const{chart:r,_cachedMeta:i}=n,s=r._stacks||(r._stacks={}),{iScale:o,vScale:a,index:l}=i,c=o.axis,u=a.axis,d=TYe(o,a,i),h=e.length;let f;for(let p=0;p<h;++p){const m=e[p],{[c]:b,[u]:y}=m,v=m._stacks||(m._stacks={});f=v[u]=IYe(s,d,b),f[l]=y,f._top=vV(f,a,!0,i.type),f._bottom=vV(f,a,!1,i.type);const w=f._visualValues||(f._visualValues={});w[l]=y}}function z3(n,e){const r=n.scales;return Object.keys(r).filter(i=>r[i].axis===e).shift()}function MYe(n,e){return yp(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function OYe(n,e,r){return yp(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Kb(n,e){const r=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][r]===void 0)return;delete o[i][r],o[i]._visualValues!==void 0&&o[i]._visualValues[r]!==void 0&&delete o[i]._visualValues[r]}}}const U3=n=>n==="reset"||n==="none",xV=(n,e)=>e?n:Object.assign({},n),DYe=(n,e,r)=>n&&!e.hidden&&e._stacked&&{keys:Sge(r,!0),values:null};class cg{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$3(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Kb(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,o=r.xAxisID=en(i.xAxisID,z3(e,"x")),a=r.yAxisID=en(i.yAxisID,z3(e,"y")),l=r.rAxisID=en(i.rAxisID,z3(e,"r")),c=r.indexAxis,u=r.iAxisID=s(c,o,a,l),d=r.vAxisID=s(c,a,o,l);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&nV(this._data,this),e._stacked&&Kb(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(rn(r)){const s=this._cachedMeta;this._data=AYe(r,s)}else if(i!==r){if(i){nV(i,this);const s=this._cachedMeta;Kb(s),s._parsed=[]}r&&Object.isExtensible(r)&&uGe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=r._stacked;r._stacked=$3(r.vScale,r),r.stack!==i.stack&&(s=!0,Kb(r),r.stack=i.stack),this._resyncElements(e),(s||o!==r._stacked)&&(wV(this,r._parsed),r._stacked=$3(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,l=o.axis;let c=e===0&&r===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],d,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{or(s[e])?f=this.parseArrayData(i,s,e,r):rn(s[e])?f=this.parseObjectData(i,s,e,r):f=this.parsePrimitiveData(i,s,e,r);const p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<r;++d)i._parsed[d+e]=h=f[d],c&&(p()&&(c=!1),u=h);i._sorted=c}a&&wV(this,f)}parsePrimitiveData(e,r,i,s){const{iScale:o,vScale:a}=e,l=o.axis,c=a.axis,u=o.getLabels(),d=o===a,h=new Array(s);let f,p,m;for(f=0,p=s;f<p;++f)m=f+i,h[f]={[l]:d||o.parse(u[m],m),[c]:a.parse(r[m],m)};return h}parseArrayData(e,r,i,s){const{xScale:o,yScale:a}=e,l=new Array(s);let c,u,d,h;for(c=0,u=s;c<u;++c)d=c+i,h=r[d],l[c]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(e,r,i,s){const{xScale:o,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,h,f,p;for(d=0,h=s;d<h;++d)f=d+i,p=r[f],u[d]={x:o.parse(vw(p,l),f),y:a.parse(vw(p,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){const s=this.chart,o=this._cachedMeta,a=r[e.axis],l={keys:Sge(s,!0),values:r._stacks[e.axis]._visualValues};return yV(l,a,o.index,{mode:i})}updateRangeFromParsed(e,r,i,s){const o=i[r.axis];let a=o===null?NaN:o;const l=s&&i._stacks[r.axis];s&&l&&(s.values=l,a=yV(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,a=s.length,l=this._getOtherScale(e),c=DYe(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=PYe(l);let f,p;function m(){p=s[f];const b=p[l.axis];return!Ns(p[e.axis])||d>b||h<b}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(u,e,p,c),o));++f);if(o){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][e.axis],Ns(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=EYe(en(this.options.clip,CYe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],o=r.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,o,l,c),d=l;d<l+c;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(e,o))}for(d=0;d<a.length;++d)a[d].draw(e,o)}getStyle(e,r){const i=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=OYe(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=MYe(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){const s=r==="active",o=this._cachedDataOpts,a=e+"-"+r,l=o[a],c=this.enableOptionSharing&&po(i);if(l)return xV(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(yr.elements[e]),m=()=>this.getContext(i,s,r),b=u.resolveNamedOptions(f,p,m,h);return b.$shared&&(b.$shared=c,o[a]=Object.freeze(xV(b,c))),b}_resolveAnimations(e,r,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,i,r))}const u=new mB(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||U3(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const i=this.resolveDataElementOptions(e,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(e,r,i,s){U3(s)?Object.assign(e,i):this._resolveAnimations(r,s).update(e,i)}updateSharedOptions(e,r,i){e&&!U3(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,s){e.active=s;const o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,i=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,r,i=!0){const s=this._cachedMeta,o=s.data,a=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(o),l=e;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,r),i&&this.updateElements(o,e,r,"reset")}updateElements(e,r,i,s){}_removeElements(e,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,r);i._stacked&&Kb(i,s)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,i,s]=e;this[r](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ze(cg,"defaults",{}),ze(cg,"datasetElementType",null),ze(cg,"dataElementType",null);function RYe(n,e,r){let i=1,s=1,o=0,a=0;if(e<vi){const l=n,c=l+e,u=Math.cos(l),d=Math.sin(l),h=Math.cos(c),f=Math.sin(c),p=(_,x,S)=>u2(_,l,c,!0)?1:Math.max(x,x*r,S,S*r),m=(_,x,S)=>u2(_,l,c,!0)?-1:Math.min(x,x*r,S,S*r),b=p(0,u,h),y=p(wi,d,f),v=m(kn,u,h),w=m(kn+wi,d,f);i=(b-v)/2,s=(y-w)/2,o=-(b+v)/2,a=-(y+w)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}class Ty extends cg{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=c=>+i[c];if(rn(i[e])){const{key:c="value"}=this._parsing;o=u=>+vw(i[u],c)}let a,l;for(a=e,l=e+r;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return ii(this.options.rotation-90)}_getCircumference(){return ii(this.options.circumference)}_getRotationExtents(){let e=vi,r=-vi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),r=Math.max(r,o+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(KVe(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:b}=RYe(h,d,c),y=(i.width-a)/f,v=(i.height-a)/p,w=Math.max(Math.min(y,v)/2,0),_=sge(this.options.radius,w),x=Math.max(_*c,0),S=(_-x)/this._getVisibleDatasetWeightTotal();this.offsetX=m*_,this.offsetY=b*_,s.total=this.calculateTotal(),this.outerRadius=_-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(o,0,o.length,e)}_circumference(e,r){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/vi)}updateElements(e,r,i,s){const o=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&u.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(r,s);let v=this._getRotation(),w;for(w=0;w<r;++w)v+=this._circumference(w,o);for(w=r;w<r+i;++w){const _=this._circumference(w,o),x=e[w],S={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+_,circumference:_,outerRadius:m,innerRadius:p};y&&(S.options=b||this.resolveDataElementOptions(w,x.active?"active":s)),v+=_,this.updateElement(x,w,S,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let i=0,s;for(s=0;s<r.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?vi*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=cB(r._parsed[e],i.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let r=0;const i=this.chart;let s,o,a,l,c;if(!e){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,s=e.length;i<s;++i){const o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(en(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ze(Ty,"id","doughnut"),ze(Ty,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ze(Ty,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ze(Ty,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:i,borderRadius:a&&(l||h.borderRadius),index:u}}):[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}});class PS extends cg{getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:i[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled;let{start:o,count:a}=pGe(r,i,s);if(this._drawStart=o,this._drawCount=a,mGe(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,s){const o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,s),h=this.getSharedOptions(d),f=this.includeOptions(s,h),p=a.axis,m=l.axis,{spanGaps:b,segment:y}=this.options,v=Zf(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||s==="none";let _=r>0&&this.getParsed(r-1);for(let x=r;x<r+i;++x){const S=e[x],C=this.getParsed(x),E=w?S:{},T=qn(C[m]),M=E[p]=a.getPixelForValue(C[p],x),I=E[m]=o||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,C,c):C[m],x);E.skip=isNaN(M)||isNaN(I)||T,E.stop=x>0&&Math.abs(C[p]-_[p])>v,y&&(E.parsed=C,E.raw=u.data[x]),f&&(E.options=h||this.resolveDataElementOptions(x,S.active?"active":s)),w||this.updateElement(S,x,E,s),_=C}this.updateSharedOptions(h,s,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}}ze(PS,"id","scatter"),ze(PS,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ze(PS,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Eh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gB{constructor(e){ze(this,"options");this.options=e||{}}static override(e){Object.assign(gB.prototype,e)}init(){}formats(){return Eh()}parse(){return Eh()}format(){return Eh()}add(){return Eh()}diff(){return Eh()}startOf(){return Eh()}endOf(){return Eh()}}var NYe={_date:gB};function jYe(n,e,r,i){const{controller:s,data:o,_sorted:a}=n,l=s._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&o.length){const u=l._reversePixels?lGe:ef;if(i){if(s._sharedOptions){const d=o[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(o,e,r-h),p=u(o,e,r+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(o,e,r);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=n,p=f.slice(0,d.lo+1).reverse().findIndex(b=>!qn(b[h.axis]));d.lo-=Math.max(0,p);const m=f.slice(d.hi).findIndex(b=>!qn(b[h.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:o.length-1}}function pE(n,e,r,i,s){const o=n.getSortedVisibleDatasetMetas(),a=r[e];for(let l=0,c=o.length;l<c;++l){const{index:u,data:d}=o[l],{lo:h,hi:f}=jYe(o[l],e,a,s);for(let p=h;p<=f;++p){const m=d[p];m.skip||i(m,u,p)}}}function BYe(n){const e=n.indexOf("x")!==-1,r=n.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,a=r?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function W3(n,e,r,i,s){const o=[];return!s&&!n.isPointInArea(e)||pE(n,r,e,function(l,c,u){!s&&!ww(l,n.chartArea,0)||l.inRange(e.x,e.y,i)&&o.push({element:l,datasetIndex:c,index:u})},!0),o}function LYe(n,e,r,i){let s=[];function o(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],i),{angle:h}=k4(a,{x:e.x,y:e.y});u2(h,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return pE(n,r,e,o),s}function FYe(n,e,r,i,s,o){let a=[];const l=BYe(r);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(e.x,e.y,s);if(i&&!p)return;const m=d.getCenterPoint(s);if(!(!!o||n.isPointInArea(m))&&!p)return;const y=l(e,m);y<c?(a=[{element:d,datasetIndex:h,index:f}],c=y):y===c&&a.push({element:d,datasetIndex:h,index:f})}return pE(n,r,e,u),a}function q3(n,e,r,i,s,o){return!o&&!n.isPointInArea(e)?[]:r==="r"&&!i?LYe(n,e,r,s):FYe(n,e,r,i,s,o)}function _V(n,e,r,i,s){const o=[],a=r==="x"?"inXRange":"inYRange";let l=!1;return pE(n,r,e,(c,u,d)=>{c[a]&&c[a](e[r],s)&&(o.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,s))}),i&&!l?[]:o}var $Ye={modes:{index(n,e,r,i){const s=jh(e,n),o=r.axis||"x",a=r.includeInvisible||!1,l=r.intersect?W3(n,s,o,i,a):q3(n,s,o,!1,i,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(n,e,r,i){const s=jh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;let l=r.intersect?W3(n,s,o,i,a):q3(n,s,o,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,u=n.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(n,e,r,i){const s=jh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;return W3(n,s,o,i,a)},nearest(n,e,r,i){const s=jh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;return q3(n,s,o,r.intersect,i,a)},x(n,e,r,i){const s=jh(e,n);return _V(n,s,"x",r.intersect,i)},y(n,e,r,i){const s=jh(e,n);return _V(n,s,"y",r.intersect,i)}}};const kge=["left","top","right","bottom"];function Xb(n,e){return n.filter(r=>r.pos===e)}function SV(n,e){return n.filter(r=>kge.indexOf(r.pos)===-1&&r.box.axis===e)}function Qb(n,e){return n.sort((r,i)=>{const s=e?i:r,o=e?r:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function zYe(n){const e=[];let r,i,s,o,a,l;for(r=0,i=(n||[]).length;r<i;++r)s=n[r],{position:o,options:{stack:a,stackWeight:l=1}}=s,e.push({index:r,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:l});return e}function UYe(n){const e={};for(const r of n){const{stack:i,pos:s,stackWeight:o}=r;if(!i||!kge.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function WYe(n,e){const r=UYe(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,a,l;for(o=0,a=n.length;o<a;++o){l=n[o];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*i:c&&e.availableWidth,l.height=s):(l.width=i,l.height=d?d*s:c&&e.availableHeight)}return r}function qYe(n){const e=zYe(n),r=Qb(e.filter(u=>u.box.fullSize),!0),i=Qb(Xb(e,"left"),!0),s=Qb(Xb(e,"right")),o=Qb(Xb(e,"top"),!0),a=Qb(Xb(e,"bottom")),l=SV(e,"x"),c=SV(e,"y");return{fullSize:r,leftAndTop:i.concat(o),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:Xb(e,"chartArea"),vertical:i.concat(s).concat(c),horizontal:o.concat(a).concat(l)}}function kV(n,e,r,i){return Math.max(n[r],e[r])+Math.max(n[i],e[i])}function Cge(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function HYe(n,e,r,i){const{pos:s,box:o}=r,a=n.maxPadding;if(!rn(s)){r.size&&(n[s]-=r.size);const h=i[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?o.height:o.width),r.size=h.size/h.count,n[s]+=r.size}o.getPadding&&Cge(a,o.getPadding());const l=Math.max(0,e.outerWidth-kV(a,n,"left","right")),c=Math.max(0,e.outerHeight-kV(a,n,"top","bottom")),u=l!==n.w,d=c!==n.h;return n.w=l,n.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function VYe(n){const e=n.maxPadding;function r(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=r("top"),n.x+=r("left"),r("right"),r("bottom")}function GYe(n,e){const r=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(e[a],r[a])}),o}return i(n?["left","right"]:["top","bottom"])}function Py(n,e,r,i){const s=[];let o,a,l,c,u,d;for(o=0,a=n.length,u=0;o<a;++o){l=n[o],c=l.box,c.update(l.width||e.w,l.height||e.h,GYe(l.horizontal,e));const{same:h,other:f}=HYe(e,r,l,i);u|=h&&s.length,d=d||f,c.fullSize||s.push(l)}return u&&Py(s,e,r,i)||d}function P_(n,e,r,i,s){n.top=r,n.left=e,n.right=e+i,n.bottom=r+s,n.width=i,n.height=s}function CV(n,e,r,i){const s=r.padding;let{x:o,y:a}=e;for(const l of n){const c=l.box,u=i[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=e.w*d,f=u.size||c.height;po(u.start)&&(a=u.start),c.fullSize?P_(c,s.left,a,r.outerWidth-s.right-s.left,f):P_(c,e.left+u.placed,a,h,f),u.start=a,u.placed+=h,a=c.bottom}else{const h=e.h*d,f=u.size||c.width;po(u.start)&&(o=u.start),c.fullSize?P_(c,o,s.top,f,r.outerHeight-s.bottom-s.top):P_(c,o,e.top+u.placed,f,h),u.start=o,u.placed+=h,o=c.right}}e.x=o,e.y=a}var Xo={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},n.boxes.push(e)},removeBox(n,e){const r=n.boxes?n.boxes.indexOf(e):-1;r!==-1&&n.boxes.splice(r,1)},configure(n,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(n,e,r,i){if(!n)return;const s=$i(n.options.layout.padding),o=Math.max(e-s.width,0),a=Math.max(r-s.height,0),l=qYe(n.boxes),c=l.vertical,u=l.horizontal;In(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=c.reduce((b,y)=>y.box.options&&y.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},s);Cge(f,$i(i));const p=Object.assign({maxPadding:f,w:o,h:a,x:s.left,y:s.top},s),m=WYe(c.concat(u),h);Py(l.fullSize,p,h,m),Py(c,p,h,m),Py(u,p,h,m)&&Py(c,p,h,m),VYe(p),CV(l.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,CV(l.rightAndBottom,p,h,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},In(l.chartArea,b=>{const y=b.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Ege{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,i){}removeEventListener(e,r,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,i,s){return r=Math.max(0,r||e.width),i=i||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):i)}}isAttached(e){return!0}updateConfig(e){}}class YYe extends Ege{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const IS="$chartjs",KYe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},EV=n=>n===null||n==="";function XYe(n,e){const r=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[IS]={initial:{height:i,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",EV(s)){const o=hV(n,"width");o!==void 0&&(n.width=o)}if(EV(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=hV(n,"height");o!==void 0&&(n.height=o)}return n}const Age=sYe?{passive:!0}:!1;function QYe(n,e,r){n&&n.addEventListener(e,r,Age)}function JYe(n,e,r){n&&n.canvas&&n.canvas.removeEventListener(e,r,Age)}function ZYe(n,e){const r=KYe[n.type]||n.type,{x:i,y:s}=jh(n,e);return{type:r,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function f2(n,e){for(const r of n)if(r===e||r.contains(e))return!0}function eKe(n,e,r){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||f2(l.addedNodes,i),a=a&&!f2(l.removedNodes,i);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function tKe(n,e,r){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||f2(l.removedNodes,i),a=a&&!f2(l.addedNodes,i);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const _w=new Map;let AV=0;function Tge(){const n=window.devicePixelRatio;n!==AV&&(AV=n,_w.forEach((e,r)=>{r.currentDevicePixelRatio!==n&&e()}))}function nKe(n,e){_w.size||window.addEventListener("resize",Tge),_w.set(n,e)}function rKe(n){_w.delete(n),_w.size||window.removeEventListener("resize",Tge)}function iKe(n,e,r){const i=n.canvas,s=i&&pB(i);if(!s)return;const o=dge((l,c)=>{const u=s.clientWidth;r(l,c),u<s.clientWidth&&r()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||o(u,d)});return a.observe(s),nKe(n,o),a}function H3(n,e,r){r&&r.disconnect(),e==="resize"&&rKe(n)}function sKe(n,e,r){const i=n.canvas,s=dge(o=>{n.ctx!==null&&r(ZYe(o,n))},n);return QYe(i,e,s),s}class oKe extends Ege{acquireContext(e,r){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(XYe(e,r),i):null}releaseContext(e){const r=e.canvas;if(!r[IS])return!1;const i=r[IS].initial;["height","width"].forEach(o=>{const a=i[o];qn(a)?r.removeAttribute(o):r.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{r.style[o]=s[o]}),r.width=r.width,delete r[IS],!0}addEventListener(e,r,i){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:eKe,detach:tKe,resize:iKe}[r]||sKe;s[r]=a(e,r,i)}removeEventListener(e,r){const i=e.$proxies||(e.$proxies={}),s=i[r];if(!s)return;({attach:H3,detach:H3,resize:H3}[r]||JYe)(e,r,s),i[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,i,s){return iYe(e,r,i,s)}isAttached(e){const r=e&&pB(e);return!!(r&&r.isConnected)}}function aKe(n){return!fB()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?YYe:oKe}var V_;let Fs=(V_=class{constructor(){ze(this,"x");ze(this,"y");ze(this,"active",!1);ze(this,"options");ze(this,"$animations")}tooltipPosition(e){const{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}hasValue(){return Zf(this.x)&&Zf(this.y)}getProps(e,r){const i=this.$animations;if(!r||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},ze(V_,"defaults",{}),ze(V_,"defaultRoutes"),V_);function lKe(n,e){const r=n.options.ticks,i=cKe(n),s=Math.min(r.maxTicksLimit||i,i),o=r.major.enabled?dKe(e):[],a=o.length,l=o[0],c=o[a-1],u=[];if(a>s)return hKe(e,u,o,a/s),u;const d=uKe(o,e,s);if(a>0){let h,f;const p=a>1?Math.round((c-l)/(a-1)):null;for(I_(e,u,d,qn(p)?0:l-p,l),h=0,f=a-1;h<f;h++)I_(e,u,d,o[h],o[h+1]);return I_(e,u,d,c,qn(p)?e.length:c+p),u}return I_(e,u,d),u}function cKe(n){const e=n.options.offset,r=n._tickSize(),i=n._length/r+(e?0:1),s=n._maxLength/r;return Math.floor(Math.min(i,s))}function uKe(n,e,r){const i=fKe(n),s=e.length/r;if(!i)return Math.max(s,1);const o=nGe(i);for(let a=0,l=o.length-1;a<l;a++){const c=o[a];if(c>s)return c}return Math.max(s,1)}function dKe(n){const e=[];let r,i;for(r=0,i=n.length;r<i;r++)n[r].major&&e.push(r);return e}function hKe(n,e,r,i){let s=0,o=r[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===o&&(e.push(n[a]),s++,o=r[s*i])}function I_(n,e,r,i,s){const o=en(i,0),a=Math.min(en(s,n.length),n.length);let l=0,c,u,d;for(r=Math.ceil(r),s&&(c=s-i,r=c/Math.floor(c/r)),d=o;d<0;)l++,d=Math.round(o+l*r);for(u=Math.max(o,0);u<a;u++)u===d&&(e.push(n[u]),l++,d=Math.round(o+l*r))}function fKe(n){const e=n.length;let r,i;if(e<2)return!1;for(i=n[0],r=1;r<e;++r)if(n[r]-n[r-1]!==i)return!1;return i}const pKe=n=>n==="left"?"right":n==="right"?"left":n,TV=(n,e,r)=>e==="top"||e==="left"?n[e]+r:n[e]-r,PV=(n,e)=>Math.min(e||n,n);function IV(n,e){const r=[],i=n.length/e,s=n.length;let o=0;for(;o<s;o+=i)r.push(n[Math.floor(o)]);return r}function mKe(n,e,r){const i=n.ticks.length,s=Math.min(e,i-1),o=n._startPixel,a=n._endPixel,l=1e-6;let c=n.getPixelForTick(s),u;if(!(r&&(i===1?u=Math.max(c-o,a-c):e===0?u=(n.getPixelForTick(1)-c)/2:u=(c-n.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<o-l||c>a+l)))return c}function gKe(n,e){In(n,r=>{const i=r.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete r.data[i[o]];i.splice(0,s)}})}function Jb(n){return n.drawTicks?n.tickLength:0}function MV(n,e){if(!n.display)return 0;const r=Wr(n.font,e),i=$i(n.padding);return(or(n.text)?n.text.length:1)*r.lineHeight+i.height}function bKe(n,e){return yp(n,{scale:e,type:"scale"})}function yKe(n,e,r){return yp(n,{tick:r,index:e,type:"tick"})}function vKe(n,e,r){let i=aB(n);return(r&&e!=="right"||!r&&e==="right")&&(i=pKe(i)),i}function wKe(n,e,r,i){const{top:s,left:o,bottom:a,right:l,chart:c}=n,{chartArea:u,scales:d}=c;let h=0,f,p,m;const b=a-s,y=l-o;if(n.isHorizontal()){if(p=Di(i,o,l),rn(r)){const v=Object.keys(r)[0],w=r[v];m=d[v].getPixelForValue(w)+b-e}else r==="center"?m=(u.bottom+u.top)/2+b-e:m=TV(n,r,e);f=l-o}else{if(rn(r)){const v=Object.keys(r)[0],w=r[v];p=d[v].getPixelForValue(w)-y+e}else r==="center"?p=(u.left+u.right)/2-y+e:p=TV(n,r,e);m=Di(i,a,s),h=r==="left"?-wi:wi}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class ib extends Fs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:i,_suggestedMax:s}=this;return e=rl(e,Number.POSITIVE_INFINITY),r=rl(r,Number.NEGATIVE_INFINITY),i=rl(i,Number.POSITIVE_INFINITY),s=rl(s,Number.NEGATIVE_INFINITY),{min:rl(e,i),max:rl(r,s),minDefined:Ns(e),maxDefined:Ns(r)}}getMinMax(e){let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:r,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),o||(i=Math.max(i,a.max));return r=o&&r>i?i:r,i=s&&r>i?r:i,{min:rl(r,rl(i,r)),max:rl(i,rl(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rn(this.options.beforeUpdate,[this])}update(e,r,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jGe(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?IV(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=lKe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,i;this.isHorizontal()?(r=this.left,i=this.right):(r=this.top,i=this.bottom,e=!e),this._startPixel=r,this._endPixel=i,this._reversePixels=e,this._length=i-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rn(this.options.afterUpdate,[this])}beforeSetDimensions(){Rn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Rn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=Rn(r.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Rn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,i=PV(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,o=r.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!r.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Ko(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/i:p/(i-1),h+6>l&&(l=p/(i-(e.offset?.5:1)),c=this.maxHeight-Jb(e.grid)-r.padding-MV(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),a=lge(Math.min(Math.asin(Ko((d.highest.height+6)/l,-1,1)),Math.asin(Ko(c/u,-1,1))-Math.asin(Ko(f/u,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Rn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=MV(s,r.options.font);if(l?(e.width=this.maxWidth,e.height=Jb(o)+c):(e.height=this.maxHeight,e.width=Jb(o)+c),i.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,m=ii(this.labelRotation),b=Math.cos(m),y=Math.sin(m);if(l){const v=i.mirror?0:y*h.width+b*f.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=i.mirror?0:b*h.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(u,d,y,b)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,i,s){const{ticks:{align:o,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?u?(f=s*e.width,p=i*r.height):(f=i*e.height,p=s*r.width):o==="start"?p=r.width:o==="end"?f=e.width:o!=="inner"&&(f=e.width/2,p=r.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+a)*this.width/(this.width-h),0)}else{let d=r.height/2,h=e.height/2;o==="start"?(d=0,h=e.height):o==="end"&&(d=r.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,i;for(r=0,i=e.length;r<i;r++)qn(e[r].label)&&(e.splice(r,1),i--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let i=this.ticks;r<i.length&&(i=IV(i,r)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,i){const{ctx:s,_longestTextCache:o}=this,a=[],l=[],c=Math.floor(r/PV(r,i));let u=0,d=0,h,f,p,m,b,y,v,w,_,x,S;for(h=0;h<r;h+=c){if(m=e[h].label,b=this._resolveTickFontOptions(h),s.font=y=b.string,v=o[y]=o[y]||{data:{},gc:[]},w=b.lineHeight,_=x=0,!qn(m)&&!or(m))_=aV(s,v.data,v.gc,_,m),x=w;else if(or(m))for(f=0,p=m.length;f<p;++f)S=m[f],!qn(S)&&!or(S)&&(_=aV(s,v.data,v.gc,_,S),x+=w);a.push(_),l.push(x),u=Math.max(_,u),d=Math.max(x,d)}gKe(o,r);const C=a.indexOf(u),E=l.indexOf(d),T=M=>({width:a[M]||0,height:l[M]||0});return{first:T(0),last:T(r-1),widest:T(C),highest:T(E),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return aGe(this._alignToPixels?Ch(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const i=r[e];return i.$context||(i.$context=yKe(this.getContext(),e,i))}return this.$context||(this.$context=bKe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ii(this.labelRotation),i=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,l=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*i>l*s?l/i:c/s:c*s<l*i?c/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:l}=s,c=o.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Jb(o),p=[],m=l.setContext(this.getContext()),b=m.display?m.width:0,y=b/2,v=function(j){return Ch(i,j,b)};let w,_,x,S,C,E,T,M,I,O,F,$;if(a==="top")w=v(this.bottom),E=this.bottom-f,M=w-y,O=v(e.top)+y,$=e.bottom;else if(a==="bottom")w=v(this.top),O=e.top,$=v(e.bottom)-y,E=w+y,M=this.top+f;else if(a==="left")w=v(this.right),C=this.right-f,T=w-y,I=v(e.left)+y,F=e.right;else if(a==="right")w=v(this.left),I=e.left,F=v(e.right)-y,C=w+y,T=this.left+f;else if(r==="x"){if(a==="center")w=v((e.top+e.bottom)/2+.5);else if(rn(a)){const j=Object.keys(a)[0],N=a[j];w=v(this.chart.scales[j].getPixelForValue(N))}O=e.top,$=e.bottom,E=w+y,M=E+f}else if(r==="y"){if(a==="center")w=v((e.left+e.right)/2);else if(rn(a)){const j=Object.keys(a)[0],N=a[j];w=v(this.chart.scales[j].getPixelForValue(N))}C=w-y,T=C-f,I=e.left,F=e.right}const z=en(s.ticks.maxTicksLimit,h),D=Math.max(1,Math.ceil(h/z));for(_=0;_<h;_+=D){const j=this.getContext(_),N=o.setContext(j),R=l.setContext(j),H=N.lineWidth,U=N.color,K=R.dash||[],Y=R.dashOffset,J=N.tickWidth,G=N.tickColor,X=N.tickBorderDash||[],ae=N.tickBorderDashOffset;x=mKe(this,_,c),x!==void 0&&(S=Ch(i,x,H),u?C=T=I=F=S:E=M=O=$=S,p.push({tx1:C,ty1:E,tx2:T,ty2:M,x1:I,y1:O,x2:F,y2:$,width:H,color:U,borderDash:K,borderDashOffset:Y,tickWidth:J,tickColor:G,tickBorderDash:X,tickBorderDashOffset:ae}))}return this._ticksLength=h,this._borderValue=w,p}_computeLabelItems(e){const r=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=o,f=Jb(i.grid),p=f+d,m=h?-d:p,b=-ii(this.labelRotation),y=[];let v,w,_,x,S,C,E,T,M,I,O,F,$="middle";if(s==="top")C=this.bottom-m,E=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+m,E=this._getXAxisLabelAlignment();else if(s==="left"){const D=this._getYAxisLabelAlignment(f);E=D.textAlign,S=D.x}else if(s==="right"){const D=this._getYAxisLabelAlignment(f);E=D.textAlign,S=D.x}else if(r==="x"){if(s==="center")C=(e.top+e.bottom)/2+p;else if(rn(s)){const D=Object.keys(s)[0],j=s[D];C=this.chart.scales[D].getPixelForValue(j)+p}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")S=(e.left+e.right)/2-p;else if(rn(s)){const D=Object.keys(s)[0],j=s[D];S=this.chart.scales[D].getPixelForValue(j)}E=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(c==="start"?$="top":c==="end"&&($="bottom"));const z=this._getLabelSizes();for(v=0,w=l.length;v<w;++v){_=l[v],x=_.label;const D=o.setContext(this.getContext(v));T=this.getPixelForTick(v)+o.labelOffset,M=this._resolveTickFontOptions(v),I=M.lineHeight,O=or(x)?x.length:1;const j=O/2,N=D.color,R=D.textStrokeColor,H=D.textStrokeWidth;let U=E;a?(S=T,E==="inner"&&(v===w-1?U=this.options.reverse?"left":"right":v===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?u==="near"||b!==0?F=-O*I+I/2:u==="center"?F=-z.highest.height/2-j*I+I:F=-z.highest.height+I/2:u==="near"||b!==0?F=I/2:u==="center"?F=z.highest.height/2-j*I:F=z.highest.height-O*I,h&&(F*=-1),b!==0&&!D.showLabelBackdrop&&(S+=I/2*Math.sin(b))):(C=T,F=(1-O)*I/2);let K;if(D.showLabelBackdrop){const Y=$i(D.backdropPadding),J=z.heights[v],G=z.widths[v];let X=F-Y.top,ae=0-Y.left;switch($){case"middle":X-=J/2;break;case"bottom":X-=J;break}switch(E){case"center":ae-=G/2;break;case"right":ae-=G;break;case"inner":v===w-1?ae-=G:v>0&&(ae-=G/2);break}K={left:ae,top:X,width:G+Y.width,height:J+Y.height,color:D.backdropColor}}y.push({label:x,font:M,textOffset:F,options:{rotation:b,color:N,strokeColor:R,strokeWidth:H,textAlign:U,textBaseline:$,translation:[S,C],backdrop:K}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ii(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),l=e+o,c=a.widest.width;let u,d;return r==="left"?s?(d=this.right+o,i==="near"?u="left":i==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,i==="near"?u="right":i==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?s?(d=this.left+o,i==="near"?u="right":i==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,i==="near"?u="left":i==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:i,top:s,width:o,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(i,s,o,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const l=(c,u,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(r.display)for(o=0,a=s.length;o<a;++o){const c=s[o];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Ch(e,this.left,a)-a/2,d=Ch(e,this.right,l)+l/2,h=f=c):(h=Ch(e,this.top,a)-a/2,f=Ch(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=o.width,r.strokeStyle=o.color,r.beginPath(),r.moveTo(u,h),r.lineTo(d,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&dE(i,s);const o=this.getLabelItems(e);for(const a of o){const l=a.options,c=a.font,u=a.label,d=a.textOffset;xw(i,u,0,d,c,l)}s&&hE(i)}drawTitle(){const{ctx:e,options:{position:r,title:i,reverse:s}}=this;if(!i.display)return;const o=Wr(i.font),a=$i(i.padding),l=i.align;let c=o.lineHeight/2;r==="bottom"||r==="center"||rn(r)?(c+=a.bottom,or(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=wKe(this,c,r,l);xw(e,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:f,textAlign:vKe(l,r,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,i=en(e.grid&&e.grid.z,-1),s=en(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ib.prototype.draw?[{z:r,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Wr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class M_{constructor(e,r,i){this.type=e,this.scope=r,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let i;SKe(r)&&(i=this.register(r));const s=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,xKe(e,a,i),this.override&&yr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,i=e.id,s=this.scope;i in r&&delete r[i],s&&i in yr[s]&&(delete yr[s][i],this.override&&delete ep[i])}}function xKe(n,e,r){const i=yw(Object.create(null),[r?yr.get(r):{},yr.get(e),n.defaults]);yr.set(e,i),n.defaultRoutes&&_Ke(e,n.defaultRoutes),n.descriptors&&yr.describe(e,n.descriptors)}function _Ke(n,e){Object.keys(e).forEach(r=>{const i=r.split("."),s=i.pop(),o=[n].concat(i).join("."),a=e[r].split("."),l=a.pop(),c=a.join(".");yr.route(o,s,c,l)})}function SKe(n){return"id"in n&&"defaults"in n}class kKe{constructor(){this.controllers=new M_(cg,"datasets",!0),this.elements=new M_(Fs,"elements"),this.plugins=new M_(Object,"plugins"),this.scales=new M_(ib,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,i){[...r].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):In(s,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,r,i){const s=iB(e);Rn(i["before"+s],[],i),r[e](i),Rn(i["after"+s],[],i)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const i=this._typedRegistries[r];if(i.isForType(e))return i}return this.plugins}_get(e,r,i){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var ul=new kKe;class CKe{constructor(){this._init=void 0}notify(e,r,i,s){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(o,e,r,i);return r==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,i,s){s=s||{};for(const o of e){const a=o.plugin,l=a[i],c=[r,s,o.options];if(Rn(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){qn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const i=e&&e.config,s=en(i.options&&i.options.plugins,{}),o=EKe(i);return s===!1&&!r?[]:TKe(e,o,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(r,i),e,"stop"),this._notify(s(i,r),e,"start")}}function EKe(n){const e={},r=[],i=Object.keys(ul.plugins.items);for(let o=0;o<i.length;o++)r.push(ul.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function AKe(n,e){return!e&&n===!1?null:n===!0?{}:n}function TKe(n,{plugins:e,localIds:r},i,s){const o=[],a=n.getContext();for(const l of e){const c=l.id,u=AKe(i[c],s);u!==null&&o.push({plugin:l,options:PKe(n.config,{plugin:l,local:r[c]},u,a)})}return o}function PKe(n,{plugin:e,local:r},i,s){const o=n.pluginScopeKeys(e),a=n.getOptionScopes(i,o);return r&&e.defaults&&a.push(e.defaults),n.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function A4(n,e){const r=yr.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function IKe(n,e){let r=n;return n==="_index_"?r=e:n==="_value_"&&(r=e==="x"?"y":"x"),r}function MKe(n,e){return n===e?"_index_":"_value_"}function OV(n){if(n==="x"||n==="y"||n==="r")return n}function OKe(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function T4(n,...e){if(OV(n))return n;for(const r of e){const i=r.axis||OKe(r.position)||n.length>1&&OV(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function DV(n,e,r){if(r[e+"AxisID"]===n)return{axis:e}}function DKe(n,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(r.length)return DV(n,"x",r[0])||DV(n,"y",r[0])}return{}}function RKe(n,e){const r=ep[n.type]||{scales:{}},i=e.scales||{},s=A4(n.type,e),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!rn(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=T4(a,l,DKe(a,n),yr.scales[l.type]),u=MKe(c,s),d=r.scales||{};o[a]=tv(Object.create(null),[{axis:c},l,d[c],d[u]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||A4(l,e),d=(ep[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=IKe(h,c),p=a[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),tv(o[p],[{axis:f},i[p],d[h]])})}),Object.keys(o).forEach(a=>{const l=o[a];tv(l,[yr.scales[l.type],yr.scale])}),o}function Pge(n){const e=n.options||(n.options={});e.plugins=en(e.plugins,{}),e.scales=RKe(n,e)}function Ige(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NKe(n){return n=n||{},n.data=Ige(n.data),Pge(n),n}const RV=new Map,Mge=new Set;function O_(n,e){let r=RV.get(n);return r||(r=e(),RV.set(n,r),Mge.add(r)),r}const Zb=(n,e,r)=>{const i=vw(e,r);i!==void 0&&n.add(i)};class jKe{constructor(e){this._config=NKe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ige(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Pge(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return O_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return O_(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return O_(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,i=this.type;return O_(`${i}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const i=this._scopeCache;let s=i.get(e);return(!s||r)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,r,i){const{options:s,type:o}=this,a=this._cachedScopes(e,i),l=a.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(h=>Zb(c,e,h))),d.forEach(h=>Zb(c,s,h)),d.forEach(h=>Zb(c,ep[o]||{},h)),d.forEach(h=>Zb(c,yr,h)),d.forEach(h=>Zb(c,C4,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Mge.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,ep[r]||{},yr.datasets[r]||{},{type:r},yr,C4]}resolveNamedOptions(e,r,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:l}=NV(this._resolverCache,e,s);let c=a;if(LKe(a,r)){o.$shared=!1,i=Ds(i)?i():i;const u=this.createResolver(e,i,l);c=C0(a,i,u)}for(const u of r)o[u]=c[u];return o}createResolver(e,r,i=[""],s){const{resolver:o}=NV(this._resolverCache,e,i);return rn(r)?C0(o,r,void 0,s):o}}function NV(n,e,r){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=r.join();let o=i.get(s);return o||(o={resolver:uB(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,o)),o}const BKe=n=>rn(n)&&Object.getOwnPropertyNames(n).some(e=>Ds(n[e]));function LKe(n,e){const{isScriptable:r,isIndexable:i}=mge(n);for(const s of e){const o=r(s),a=i(s),l=(a||o)&&n[s];if(o&&(Ds(l)||BKe(l))||a&&or(l))return!0}return!1}var FKe="4.5.1";const $Ke=["top","bottom","left","right","chartArea"];function jV(n,e){return n==="top"||n==="bottom"||$Ke.indexOf(n)===-1&&e==="x"}function BV(n,e){return function(r,i){return r[n]===i[n]?r[e]-i[e]:r[n]-i[n]}}function LV(n){const e=n.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Rn(r&&r.onComplete,[n],e)}function zKe(n){const e=n.chart,r=e.options.animation;Rn(r&&r.onProgress,[n],e)}function Oge(n){return fB()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const MS={},FV=n=>{const e=Oge(n);return Object.values(MS).filter(r=>r.canvas===e).pop()};function UKe(n,e,r){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=e){const a=n[s];delete n[s],(r>0||o>e)&&(n[o+r]=a)}}}function WKe(n,e,r,i){return!r||n.type==="mouseout"?null:i?e:n}var Vu;let Tf=(Vu=class{static register(...e){ul.add(...e),$V()}static unregister(...e){ul.remove(...e),$V()}constructor(e,r){const i=this.config=new jKe(r),s=Oge(e),o=FV(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||aKe(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=YVe(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new CKe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hGe(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],MS[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}mc.listen(this,"complete",LV),mc.listen(this,"progress",zKe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return qn(e)?r&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ul}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lV(this.canvas,this.ctx),this}stop(){return mc.stop(this),this}resize(e,r){mc.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,o),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,dV(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Rn(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};In(r,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let o=[];r&&(o=o.concat(Object.keys(r).map(a=>{const l=r[a],c=T4(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),In(o,a=>{const l=a.options,c=l.id,u=T4(c,l),d=en(l.type,a.dtype);(l.position===void 0||jV(l.position,u)!==jV(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in i&&i[c].type===d)h=i[c];else{const f=ul.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,e)}),In(s,(a,l)=>{a||delete i[l]}),In(i,a=>{Xo.configure(this,a,a.options),Xo.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(BV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,s)=>{r.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){const o=r[i];let a=this.getDatasetMeta(i);const l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=o.indexAxis||A4(l,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=ul.getController(l),{datasetElementType:u,dataElementType:d}=yr.datasets[l];Object.assign(c,{dataElementType:ul.getElement(d),datasetElementType:u&&ul.getElement(u)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){In(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||In(o,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(BV("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){In(this.scales,e=>{Xo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ZH(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of r){const a=i==="_removeElements"?-o:o;UKe(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=o=>new Set(e.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!ZH(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xo.update(this,this.width,this.height,e);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],In(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Ds(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(mc.has(this)?this.attached&&!mc.running(this)&&mc.start(this):(this.draw(),LV({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=vYe(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&dE(r,s),e.controller.draw(),s&&hE(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ww(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,s){const o=$Ye.modes[r];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=yp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(e,r){const i=this.getDatasetMeta(e);i.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);po(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(o,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),mc.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),lV(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete MS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),e[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};In(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){In(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},In(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){const s=i?"set":"remove";let o,a,l,c;for(r==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],i=e.map(({datasetIndex:o,index:a})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!o2(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,i){const s=this.options.hover,o=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(r,e),l=i?e:o(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,r){const i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,r,i){const{_active:s=[],options:o}=this,a=r,l=this._getActiveElements(e,s,i,a),c=eGe(e),u=WKe(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Rn(o.onHover,[e,l,this],this),c&&Rn(o.onClick,[e,l,this],this));const d=!o2(l,s);return(d||r)&&(this._active=l,this._updateHoverStyles(l,s,r)),this._lastEvent=u,d}_getActiveElements(e,r,i,s){if(e.type==="mouseout")return[];if(!i)return r;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}},ze(Vu,"defaults",yr),ze(Vu,"instances",MS),ze(Vu,"overrides",ep),ze(Vu,"registry",ul),ze(Vu,"version",FKe),ze(Vu,"getChart",FV),Vu);function $V(){return In(Tf.instances,n=>n._plugins.invalidate())}function Dge(n,e,r=e){n.lineCap=en(r.borderCapStyle,e.borderCapStyle),n.setLineDash(en(r.borderDash,e.borderDash)),n.lineDashOffset=en(r.borderDashOffset,e.borderDashOffset),n.lineJoin=en(r.borderJoinStyle,e.borderJoinStyle),n.lineWidth=en(r.borderWidth,e.borderWidth),n.strokeStyle=en(r.borderColor,e.borderColor)}function qKe(n,e,r){n.lineTo(r.x,r.y)}function HKe(n){return n.stepped?EGe:n.tension||n.cubicInterpolationMode==="monotone"?AGe:qKe}function Rge(n,e,r={}){const i=n.length,{start:s=0,end:o=i-1}=r,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(o,l),d=s<a&&o<a||s>l&&o>l;return{count:i,start:c,loop:e.loop,ilen:u<c&&!d?i+u-c:u-c}}function VKe(n,e,r,i){const{points:s,options:o}=e,{count:a,start:l,loop:c,ilen:u}=Rge(s,r,i),d=HKe(o);let{move:h=!0,reverse:f}=i||{},p,m,b;for(p=0;p<=u;++p)m=s[(l+(f?u-p:p))%a],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):d(n,b,m,f,o.stepped),b=m);return c&&(m=s[(l+(f?u:0))%a],d(n,b,m,f,o.stepped)),!!c}function GKe(n,e,r,i){const s=e.points,{count:o,start:a,ilen:l}=Rge(s,r,i),{move:c=!0,reverse:u}=i||{};let d=0,h=0,f,p,m,b,y,v;const w=x=>(a+(u?l-x:x))%o,_=()=>{b!==y&&(n.lineTo(d,y),n.lineTo(d,b),n.lineTo(d,v))};for(c&&(p=s[w(0)],n.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=s[w(f)],p.skip)continue;const x=p.x,S=p.y,C=x|0;C===m?(S<b?b=S:S>y&&(y=S),d=(h*d+x)/++h):(_(),n.lineTo(x,S),m=C,h=0,b=y=S),v=S}_()}function P4(n){const e=n.options,r=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?GKe:VKe}function YKe(n){return n.stepped?oYe:n.tension||n.cubicInterpolationMode==="monotone"?aYe:Bh}function KKe(n,e,r,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,i)&&s.closePath()),Dge(n,e.options),n.stroke(s)}function XKe(n,e,r,i){const{segments:s,options:o}=e,a=P4(e);for(const l of s)Dge(n,o,l.style),n.beginPath(),a(n,e,l,{start:r,end:r+i-1})&&n.closePath(),n.stroke()}const QKe=typeof Path2D=="function";function JKe(n,e,r,i){QKe&&!e.options.segment?KKe(n,e,r,i):XKe(n,e,r,i)}class Iy extends Fs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;JGe(this._points,i,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=mYe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,i=e.length;return i&&r[e[i-1].end]}interpolate(e,r){const i=this.options,s=e[r],o=this.points,a=hYe(this,{property:r,start:s,end:s});if(!a.length)return;const l=[],c=YKe(i);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],p=o[h],m=o[f];if(p===m){l.push(p);continue}const b=Math.abs((s-p[r])/(m[r]-p[r])),y=c(p,m,b,i.stepped);y[r]=e[r],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,r,i){return P4(this)(e,this,r,i)}path(e,r,i){const s=this.segments,o=P4(this);let a=this._loop;r=r||0,i=i||this.points.length-r;for(const l of s)a&=o(e,this,l,{start:r,end:r+i-1});return!!a}draw(e,r,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),JKe(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ze(Iy,"id","line"),ze(Iy,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ze(Iy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ze(Iy,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function zV(n,e,r,i){const s=n.options,{[r]:o}=n.getProps([r],i);return Math.abs(e-o)<s.radius+s.hitRadius}class OS extends Fs{constructor(r){super();ze(this,"parsed");ze(this,"skip");ze(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,s){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(r,i){return zV(this,r,"x",i)}inYRange(r,i){return zV(this,r,"y",i)}getCenterPoint(r){const{x:i,y:s}=this.getProps(["x","y"],r);return{x:i,y:s}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);const s=i&&r.borderWidth||0;return(i+s)*2}draw(r,i){const s=this.options;this.skip||s.radius<.1||!ww(this,i,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,E4(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}ze(OS,"id","point"),ze(OS,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ze(OS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const UV=(n,e)=>{let{boxHeight:r=e,boxWidth:i=e}=n;return n.usePointStyle&&(r=Math.min(r,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(e,r)}},ZKe=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;let WV=class extends Fs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,i){this.maxWidth=e,this.maxHeight=r,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Rn(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(i=>e.filter(i,this.chart.data))),e.sort&&(r=r.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Wr(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=UV(i,o);let u,d;r.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,o,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let h=e;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,b)=>{const y=i+r/2+o.measureText(m.text).width;(b===0||u[u.length-1]+y+2*l>a)&&(h+=d,u[u.length-(b>0?0:1)]=0,p+=d,f++),c[b]={left:0,top:p,row:f,width:y,height:s},u[u.length-1]+=y+l}),h}_fitCols(e,r,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let h=l,f=0,p=0,m=0,b=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:w,itemHeight:_}=eXe(i,r,o,y,s);v>0&&p+_+2*l>d&&(h+=f+l,u.push({width:f,height:p}),m+=f+l,b++,f=p=0),c[v]={left:m,top:p,col:b,width:w,height:_},f=Math.max(f,w),p+=_+l}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:s},rtl:o}}=this,a=lg(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=Di(i,this.left+s,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Di(i,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Di(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Di(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;dE(e,this),this._draw(),hE(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:i,ctx:s}=this,{align:o,labels:a}=e,l=yr.color,c=lg(e.rtl,this.left,this.width),u=Wr(a.font),{padding:d}=a,h=u.size,f=h/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:m,boxHeight:b,itemHeight:y}=UV(a,h),v=function(C,E,T){if(isNaN(m)||m<=0||isNaN(b)||b<0)return;s.save();const M=en(T.lineWidth,1);if(s.fillStyle=en(T.fillStyle,l),s.lineCap=en(T.lineCap,"butt"),s.lineDashOffset=en(T.lineDashOffset,0),s.lineJoin=en(T.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=en(T.strokeStyle,l),s.setLineDash(en(T.lineDash,[])),a.usePointStyle){const I={radius:b*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:M},O=c.xPlus(C,m/2),F=E+f;fge(s,I,O,F,a.pointStyleWidth&&m)}else{const I=E+Math.max((h-b)/2,0),O=c.leftForLtr(C,m),F=ag(T.borderRadius);s.beginPath(),Object.values(F).some($=>$!==0)?d2(s,{x:O,y:I,w:m,h:b,radius:F}):s.rect(O,I,m,b),s.fill(),M!==0&&s.stroke()}s.restore()},w=function(C,E,T){xw(s,T.text,C,E+y/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},_=this.isHorizontal(),x=this._computeTitleHeight();_?p={x:Di(o,this.left+d,this.right-i[0]),y:this.top+d+x,line:0}:p={x:this.left+d,y:Di(o,this.top+x+d,this.bottom-r[0].height),line:0},wge(this.ctx,e.textDirection);const S=y+d;this.legendItems.forEach((C,E)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const T=s.measureText(C.text).width,M=c.textAlign(C.textAlign||(C.textAlign=a.textAlign)),I=m+f+T;let O=p.x,F=p.y;c.setWidth(this.width),_?E>0&&O+I+d>this.right&&(F=p.y+=S,p.line++,O=p.x=Di(o,this.left+d,this.right-i[p.line])):E>0&&F+S>this.bottom&&(O=p.x=O+r[p.line].width+d,p.line++,F=p.y=Di(o,this.top+x+d,this.bottom-r[p.line].height));const $=c.x(O);if(v($,F,C),O=fGe(M,O+m+f,_?O+I:this.right,e.rtl),w(c.x(O),F,C),_)p.x+=I+d;else if(typeof C.text!="string"){const z=u.lineHeight;p.y+=Nge(C,z)+d}else p.y+=S}),xge(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,i=Wr(r.font),s=$i(r.padding);if(!r.display)return;const o=lg(e.rtl,this.left,this.width),a=this.ctx,l=r.position,c=i.size/2,u=s.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Di(e.align,h,this.right-f);else{const m=this.columnSizes.reduce((b,y)=>Math.max(b,y.height),0);d=u+Di(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=Di(l,h,h+f);a.textAlign=o.textAlign(aB(l)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=i.string,xw(a,r.text,p,d,i)}_computeTitleHeight(){const e=this.options.title,r=Wr(e.font),i=$i(e.padding);return e.display?r.lineHeight+i.height:0}_getLegendItemAt(e,r){let i,s,o;if(Ay(e,this.left,this.right)&&Ay(r,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Ay(e,s.left,s.left+s.width)&&Ay(r,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const r=this.options;if(!rXe(e.type,r))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=ZKe(s,i);s&&!o&&Rn(r.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&Rn(r.onHover,[e,i,this],this)}else i&&Rn(r.onClick,[e,i,this],this)}};function eXe(n,e,r,i,s){const o=tXe(i,n,e,r),a=nXe(s,i,e.lineHeight);return{itemWidth:o,itemHeight:a}}function tXe(n,e,r,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),e+r.size/2+i.measureText(s).width}function nXe(n,e,r){let i=n;return typeof e.text!="string"&&(i=Nge(e,r)),i}function Nge(n,e){const r=n.text?n.text.length:0;return e*r}function rXe(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var iXe={id:"legend",_element:WV,start(n,e,r){const i=n.legend=new WV({ctx:n.ctx,options:r,chart:n});Xo.configure(n,i,r),Xo.addBox(n,i)},stop(n){Xo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,r){const i=n.legend;Xo.configure(n,i,r),i.options=r},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,r){const i=e.datasetIndex,s=r.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=$i(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class jge extends Fs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=or(i.text)?i.text.length:1;this._padding=$i(i.padding);const o=s*Wr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:i,bottom:s,right:o,options:a}=this,l=a.align;let c=0,u,d,h;return this.isHorizontal()?(d=Di(l,i,o),h=r+e,u=o-i):(a.position==="left"?(d=i+e,h=Di(l,s,r),c=kn*-.5):(d=o-e,h=Di(l,r,s),c=kn*.5),u=s-r),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const i=Wr(r.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(o);xw(e,r.text,0,0,i,{color:r.color,maxWidth:c,rotation:u,textAlign:aB(r.align),textBaseline:"middle",translation:[a,l]})}}function sXe(n,e){const r=new jge({ctx:n.ctx,options:e,chart:n});Xo.configure(n,r,e),Xo.addBox(n,r),n.titleBlock=r}var oXe={id:"title",_element:jge,start(n,e,r){sXe(n,r)},stop(n){const e=n.titleBlock;Xo.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,r){const i=n.titleBlock;Xo.configure(n,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const My={average(n){if(!n.length)return!1;let e,r,i=new Set,s=0,o=0;for(e=0,r=n.length;e<r;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),s+=c.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:s/o}},nearest(n,e){if(!n.length)return!1;let r=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,a,l;for(o=0,a=n.length;o<a;++o){const c=n[o].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=k0(e,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,i=c.y}return{x:r,y:i}}};function al(n,e){return e&&(or(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function gc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function aXe(n,e){const{element:r,datasetIndex:i,index:s}=e,o=n.getDatasetMeta(i).controller,{label:a,value:l}=o.getLabelAndValue(s);return{chart:n,label:a,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:r}}function qV(n,e){const r=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:a,boxHeight:l}=e,c=Wr(e.bodyFont),u=Wr(e.titleFont),d=Wr(e.footerFont),h=o.length,f=s.length,p=i.length,m=$i(e.padding);let b=m.height,y=0,v=i.reduce((x,S)=>x+S.before.length+S.lines.length+S.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,h&&(b+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const x=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=p*x+(v-p)*c.lineHeight+(v-1)*e.bodySpacing}f&&(b+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let w=0;const _=function(x){y=Math.max(y,r.measureText(x).width+w)};return r.save(),r.font=u.string,In(n.title,_),r.font=c.string,In(n.beforeBody.concat(n.afterBody),_),w=e.displayColors?a+2+e.boxPadding:0,In(i,x=>{In(x.before,_),In(x.lines,_),In(x.after,_)}),w=0,r.font=d.string,In(n.footer,_),r.restore(),y+=m.width,{width:y,height:b}}function lXe(n,e){const{y:r,height:i}=e;return r<i/2?"top":r>n.height-i/2?"bottom":"center"}function cXe(n,e,r,i){const{x:s,width:o}=i,a=r.caretSize+r.caretPadding;if(n==="left"&&s+o+a>e.width||n==="right"&&s-o-a<0)return!0}function uXe(n,e,r,i){const{x:s,width:o}=r,{width:a,chartArea:{left:l,right:c}}=n;let u="center";return i==="center"?u=s<=(l+c)/2?"left":"right":s<=o/2?u="left":s>=a-o/2&&(u="right"),cXe(u,n,e,r)&&(u="center"),u}function HV(n,e,r){const i=r.yAlign||e.yAlign||lXe(n,r);return{xAlign:r.xAlign||e.xAlign||uXe(n,e,r,i),yAlign:i}}function dXe(n,e){let{x:r,width:i}=n;return e==="right"?r-=i:e==="center"&&(r-=i/2),r}function hXe(n,e,r){let{y:i,height:s}=n;return e==="top"?i+=r:e==="bottom"?i-=s+r:i-=s/2,i}function VV(n,e,r,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=n,{xAlign:l,yAlign:c}=r,u=s+o,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=ag(a);let m=dXe(e,l);const b=hXe(e,c,u);return c==="center"?l==="left"?m+=u:l==="right"&&(m-=u):l==="left"?m-=Math.max(d,f)+s:l==="right"&&(m+=Math.max(h,p)+s),{x:Ko(m,0,i.width-e.width),y:Ko(b,0,i.height-e.height)}}function D_(n,e,r){const i=$i(r.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function GV(n){return al([],gc(n))}function fXe(n,e,r){return yp(n,{tooltip:e,tooltipItems:r,type:"tooltip"})}function YV(n,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?n.override(r):n}const Bge={beforeTitle:lc,title(n){if(n.length>0){const e=n[0],r=e.chart.data.labels,i=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return r[e.dataIndex]}return""},afterTitle:lc,beforeBody:lc,beforeLabel:lc,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const r=n.formattedValue;return qn(r)||(e+=r),e},labelColor(n){const r=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const r=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:lc,afterBody:lc,beforeFooter:lc,footer:lc,afterFooter:lc};function ms(n,e,r,i){const s=n[e].call(r,i);return typeof s>"u"?Bge[e].call(r,i):s}class I4 extends Fs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new mB(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=fXe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:i}=r,s=ms(i,"beforeTitle",this,e),o=ms(i,"title",this,e),a=ms(i,"afterTitle",this,e);let l=[];return l=al(l,gc(s)),l=al(l,gc(o)),l=al(l,gc(a)),l}getBeforeBody(e,r){return GV(ms(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:i}=r,s=[];return In(e,o=>{const a={before:[],lines:[],after:[]},l=YV(i,o);al(a.before,gc(ms(l,"beforeLabel",this,o))),al(a.lines,ms(l,"label",this,o)),al(a.after,gc(ms(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,r){return GV(ms(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:i}=r,s=ms(i,"beforeFooter",this,e),o=ms(i,"footer",this,e),a=ms(i,"afterFooter",this,e);let l=[];return l=al(l,gc(s)),l=al(l,gc(o)),l=al(l,gc(a)),l}_createItems(e){const r=this._active,i=this.chart.data,s=[],o=[],a=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(aXe(this.chart,r[c]));return e.filter&&(l=l.filter((d,h,f)=>e.filter(d,h,f,i))),e.itemSort&&(l=l.sort((d,h)=>e.itemSort(d,h,i))),In(l,d=>{const h=YV(e.callbacks,d);s.push(ms(h,"labelColor",this,d)),o.push(ms(h,"labelPointStyle",this,d)),a.push(ms(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,r){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const l=My[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=qV(this,i),u=Object.assign({},l,c),d=HV(this.chart,i,u),h=VV(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,s){const o=this.getCaretPosition(e,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(e,r,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=ag(l),{x:f,y:p}=e,{width:m,height:b}=r;let y,v,w,_,x,S;return o==="center"?(x=p+b/2,s==="left"?(y=f,v=y-a,_=x+a,S=x-a):(y=f+m,v=y+a,_=x-a,S=x+a),w=y):(s==="left"?v=f+Math.max(c,d)+a:s==="right"?v=f+m-Math.max(u,h)-a:v=this.caretX,o==="top"?(_=p,x=_-a,y=v-a,w=v+a):(_=p+b,x=_+a,y=v+a,w=v-a),S=_),{x1:y,x2:v,x3:w,y1:_,y2:x,y3:S}}drawTitle(e,r,i){const s=this.title,o=s.length;let a,l,c;if(o){const u=lg(i.rtl,this.x,this.width);for(e.x=D_(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Wr(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===o&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,r,i,s,o){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=o,d=Wr(o.bodyFont),h=D_(this,"left",o),f=s.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,m=r.y+p;if(o.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,v=m+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,E4(e,b,y,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,E4(e,b,y,v)}else{e.lineWidth=rn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),v=ag(a.borderRadius);Object.values(v).some(w=>w!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,d2(e,{x:b,y:m,w:u,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),d2(e,{x:y,y:m+1,w:u-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(b,m,u,c),e.strokeRect(b,m,u,c),e.fillStyle=a.backgroundColor,e.fillRect(y,m+1,u-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=i,h=Wr(i.bodyFont);let f=h.lineHeight,p=0;const m=lg(i.rtl,this.x,this.width),b=function(T){r.fillText(T,m.x(e.x+p),e.y+f/2),e.y+=f+o},y=m.textAlign(a);let v,w,_,x,S,C,E;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,e.x=D_(this,y,i),r.fillStyle=i.bodyColor,In(this.beforeBody,b),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,x=0,C=s.length;x<C;++x){for(v=s[x],w=this.labelTextColors[x],r.fillStyle=w,In(v.before,b),_=v.lines,l&&_.length&&(this._drawColorBox(r,e,x,m,i),f=Math.max(h.lineHeight,c)),S=0,E=_.length;S<E;++S)b(_[S]),f=h.lineHeight;In(v.after,b)}p=0,f=h.lineHeight,In(this.afterBody,b),e.y-=o}drawFooter(e,r,i){const s=this.footer,o=s.length;let a,l;if(o){const c=lg(i.rtl,this.x,this.width);for(e.x=D_(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=Wr(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,r,i,s){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=ag(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(l+h,c),a==="top"&&this.drawCaret(e,r,i,s),r.lineTo(l+u-f,c),r.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&o==="right"&&this.drawCaret(e,r,i,s),r.lineTo(l+u,c+d-m),r.quadraticCurveTo(l+u,c+d,l+u-m,c+d),a==="bottom"&&this.drawCaret(e,r,i,s),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&o==="left"&&this.drawCaret(e,r,i,s),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=My[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=qV(this,e),c=Object.assign({},a,this._size),u=HV(r,e,c),d=VV(e,c,u,r);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=$i(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,r),wge(e,r.textDirection),o.y+=a.top,this.drawTitle(o,e,r),this.drawBody(o,e,r),this.drawFooter(o,e,r),xge(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const i=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!o2(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(e,o,r,i),l=this._positionChanged(a,e),c=r||!o2(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:i,caretY:s,options:o}=this,a=My[o.position].call(this,e,r);return a!==!1&&(i!==a.x||s!==a.y)}}ze(I4,"positioners",My);var pXe={id:"tooltip",_element:I4,positioners:My,afterInit(n,e,r){r&&(n.tooltip=new I4({chart:n,options:r}))},beforeUpdate(n,e,r){n.tooltip&&n.tooltip.initialize(r)},reset(n,e,r){n.tooltip&&n.tooltip.initialize(r)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",r)}},afterEvent(n,e){if(n.tooltip){const r=e.replay;n.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Bge},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const mXe=(n,e,r,i)=>(typeof e=="string"?(r=n.push(e)-1,i.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function gXe(n,e,r,i){const s=n.indexOf(e);if(s===-1)return mXe(n,e,r,i);const o=n.lastIndexOf(e);return s!==o?r:s}const bXe=(n,e)=>n===null?null:Ko(Math.round(n),0,e);function KV(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class M4 extends ib{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(qn(e))return null;const i=this.getLabels();return r=isFinite(r)&&i[r]===e?r:gXe(i,e,en(r,e),this._addedLabels),bXe(r,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,r=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&r===o.length-1?o:o.slice(e,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return KV.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ze(M4,"id","category"),ze(M4,"defaults",{ticks:{callback:KV}});function yXe(n,e){const r=[],{bounds:s,step:o,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=n,p=o||1,m=d-1,{min:b,max:y}=e,v=!qn(a),w=!qn(l),_=!qn(u),x=(y-b)/(h+1);let S=eV((y-b)/m/p)*p,C,E,T,M;if(S<1e-14&&!v&&!w)return[{value:b},{value:y}];M=Math.ceil(y/S)-Math.floor(b/S),M>m&&(S=eV(M*S/m/p)*p),qn(c)||(C=Math.pow(10,c),S=Math.ceil(S*C)/C),s==="ticks"?(E=Math.floor(b/S)*S,T=Math.ceil(y/S)*S):(E=b,T=y),v&&w&&o&&iGe((l-a)/o,S/1e3)?(M=Math.round(Math.min((l-a)/S,d)),S=(l-a)/M,E=a,T=l):_?(E=v?a:E,T=w?l:T,M=u-1,S=(T-E)/M):(M=(T-E)/S,nv(M,Math.round(M),S/1e3)?M=Math.round(M):M=Math.ceil(M));const I=Math.max(tV(S),tV(E));C=Math.pow(10,qn(c)?I:c),E=Math.round(E*C)/C,T=Math.round(T*C)/C;let O=0;for(v&&(f&&E!==a?(r.push({value:a}),E<a&&O++,nv(Math.round((E+O*S)*C)/C,a,XV(a,x,n))&&O++):E<a&&O++);O<M;++O){const F=Math.round((E+O*S)*C)/C;if(w&&F>l)break;r.push({value:F})}return w&&f&&T!==l?r.length&&nv(r[r.length-1].value,l,XV(l,x,n))?r[r.length-1].value=l:r.push({value:l}):(!w||T===l)&&r.push({value:T}),r}function XV(n,e,{horizontal:r,minRotation:i}){const s=ii(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+n).length;return Math.min(e/o,a)}class vXe extends ib{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return qn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=c=>s=r?s:c,l=c=>o=i?o:c;if(e){const c=S0(s),u=S0(o);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===o){let c=o===0?1:Math.abs(o*.05);l(o+c),e||a(s-c)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},o=this._range||this,a=yXe(s,o);return e.bounds==="ticks"&&sGe(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-r)/Math.max(e.length-1,1)/2;r-=s,i+=s}this._startValue=r,this._endValue=i,this._valueRange=i-r}getLabelForValue(e){return cB(e,this.chart.options.locale,this.options.ticks.format)}}class O4 extends vXe{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ns(e)?e:0,this.max=Ns(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,i=ii(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ze(O4,"id","linear"),ze(O4,"defaults",{ticks:{callback:hge.formatters.numeric}});const mE={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cs=Object.keys(mE);function QV(n,e){return n-e}function JV(n,e){if(qn(e))return null;const r=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Ns(a)||(a=typeof i=="string"?r.parse(a,i):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(Zf(o)||o===!0)?r.startOf(a,"isoWeek",o):r.startOf(a,s)),+a)}function ZV(n,e,r,i){const s=Cs.length;for(let o=Cs.indexOf(n);o<s-1;++o){const a=mE[Cs[o]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(l*a.size))<=i)return Cs[o]}return Cs[s-1]}function wXe(n,e,r,i,s){for(let o=Cs.length-1;o>=Cs.indexOf(r);o--){const a=Cs[o];if(mE[a].common&&n._adapter.diff(s,i,a)>=e-1)return a}return Cs[r?Cs.indexOf(r):0]}function xXe(n){for(let e=Cs.indexOf(n)+1,r=Cs.length;e<r;++e)if(mE[Cs[e]].common)return Cs[e]}function eG(n,e,r){if(!r)n[e]=!0;else if(r.length){const{lo:i,hi:s}=oB(r,e),o=r[i]>=e?r[i]:r[s];n[o]=!0}}function _Xe(n,e,r,i){const s=n._adapter,o=+s.startOf(e[0].value,i),a=e[e.length-1].value;let l,c;for(l=o;l<=a;l=+s.add(l,1,i))c=r[l],c>=0&&(e[c].major=!0);return e}function tG(n,e,r){const i=[],s={},o=e.length;let a,l;for(a=0;a<o;++a)l=e[a],s[l]=a,i.push({value:l,major:!1});return o===0||!r?i:_Xe(n,i,s,r)}class p2 extends ib{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const i=e.time||(e.time={}),s=this._adapter=new NYe._date(e.adapters.date);s.init(r),tv(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:JV(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Ns(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=Ns(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){const e=this.options,r=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,l=cGe(s,o,a);return this._unit=r.unit||(i.autoSkip?ZV(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):wXe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:xXe(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),tG(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=Ko(r,0,a),i=Ko(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||ZV(o.minUnit,r,i,this._getLabelCapacity(r)),l=en(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,u=Zf(c)||c===!0,d={};let h=r,f,p;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":a),e.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+e.add(f,l,a),p++)eG(d,f,m);return(f===i||s.bounds==="ticks"||p===1)&&eG(d,f,m),Object.keys(d).sort(QV).map(b=>+b)}getLabelForValue(e){const r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,o=this._unit,a=r||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,r,i,s){const o=this.options,a=o.ticks.callback;if(a)return Rn(a,[e,r,i],this);const l=o.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=i[r],p=u&&h&&f&&f.major;return this._adapter.format(e,s||(p?h:d))}generateTickLabels(e){let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,i=this.ctx.measureText(e).width,s=ii(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*a,h:i*a+l*o}}_getLabelCapacity(e){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(e,0,tG(this,[e],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,i;if(e.length)return e;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)e.push(JV(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return dGe(e.sort(QV))}}ze(p2,"id","time"),ze(p2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function R_(n,e,r){let i=0,s=n.length-1,o,a,l,c;r?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=ef(n,"pos",e)),{pos:o,time:l}=n[i],{pos:a,time:c}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=ef(n,"time",e)),{time:o,pos:l}=n[i],{time:a,pos:c}=n[s]);const u=a-o;return u?l+(c-l)*(e-o)/u:l}class nG extends p2{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=R_(r,this.min),this._tableRange=R_(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:i}=this,s=[],o=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=r&&u<=i&&s.push(u);if(s.length<2)return[{time:r,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&o.push({time:u,pos:a/(l-1)});return o}_generate(){const e=this.min,r=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(r)||i.length===1)&&i.push(r),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),i=this.getLabelTimestamps();return r.length&&i.length?e=this.normalize(r.concat(i)):e=r.length?r:i,e=this._cache.all=e,e}getDecimalForValue(e){return(R_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return R_(this._table,i*this._tableRange+this._minPos,!0)}}ze(nG,"id","timeseries"),ze(nG,"defaults",p2.defaults);const Lge="label";function rG(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function SXe(n,e){const r=n.options;r&&e&&Object.assign(r,e)}function Fge(n,e){n.labels=e}function $ge(n,e,r=Lge){const i=[];n.datasets=e.map(s=>{const o=n.datasets.find(a=>a[r]===s[r]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function kXe(n,e=Lge){const r={labels:[],datasets:[]};return Fge(r,n.labels),$ge(r,n.datasets,e),r}function CXe(n,e){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=n,p=A.useRef(null),m=A.useRef(null),b=()=>{p.current&&(m.current=new Tf(p.current,{type:a,data:kXe(l,o),options:c&&{...c},plugins:u}),rG(e,m.current))},y=()=>{rG(e,null),m.current&&(m.current.destroy(),m.current=null)};return A.useEffect(()=>{!s&&m.current&&c&&SXe(m.current,c)},[s,c]),A.useEffect(()=>{!s&&m.current&&Fge(m.current.config.data,l.labels)},[s,l.labels]),A.useEffect(()=>{!s&&m.current&&l.datasets&&$ge(m.current.config.data,l.datasets,o)},[s,l.datasets]),A.useEffect(()=>{m.current&&(s?(y(),setTimeout(b)):m.current.update(h))},[s,c,l.labels,l.datasets,h]),A.useEffect(()=>{m.current&&(y(),setTimeout(b))},[a]),A.useEffect(()=>(b(),()=>y()),[]),g.jsx("canvas",{ref:p,role:"img",height:r,width:i,...f,children:d})}const EXe=A.forwardRef(CXe);function AXe(n,e){return Tf.register(e),A.forwardRef((r,i)=>g.jsx(EXe,{...r,ref:i,type:n}))}const TXe=AXe("scatter",PS);/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const iG={modes:{point(n,e){return DS(n,e,{intersect:!0})},nearest(n,e,r){return MXe(n,e,r)},x(n,e,r){return DS(n,e,{intersect:r.intersect,axis:"x"})},y(n,e,r){return DS(n,e,{intersect:r.intersect,axis:"y"})}}};function bB(n,e,r){return(iG.modes[r.mode]||iG.modes.nearest)(n,e,r)}function PXe(n,e,r){return r!=="x"&&r!=="y"?n.inRange(e.x,e.y,"x",!0)||n.inRange(e.x,e.y,"y",!0):n.inRange(e.x,e.y,r,!0)}function IXe(n,e,r){return r==="x"?{x:n.x,y:e.y}:r==="y"?{x:e.x,y:n.y}:e}function DS(n,e,r){return n.filter(i=>r.intersect?i.inRange(e.x,e.y):PXe(i,e,r.axis))}function MXe(n,e,r){let i=Number.POSITIVE_INFINITY;return DS(n,e,r).reduce((s,o)=>{const a=o.getCenterPoint(),l=IXe(e,a,r.axis),c=k0(e,l);return c<i?(s=[o],i=c):c===i&&s.push(o),s},[]).sort((s,o)=>s._index-o._index).slice(0,1)}function vp(n,e,r){const i=Math.cos(r),s=Math.sin(r),o=e.x,a=e.y;return{x:o+i*(n.x-o)-s*(n.y-a),y:a+s*(n.x-o)+i*(n.y-a)}}const OXe=(n,e)=>e>n||n.length>e.length&&n.slice(0,e.length)===e,tf=.001,gE=(n,e,r)=>Math.min(r,Math.max(e,n)),zge=(n,e)=>n.value>=n.start-e&&n.value<=n.end+e;function DXe(n,e,r){for(const i of Object.keys(n))n[i]=gE(n[i],e,r);return n}function RXe(n,e,r,i){return!n||!e||r<=0?!1:Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)<=Math.pow(r+i,2)}function Uge(n,{x:e,y:r,x2:i,y2:s},o,{borderWidth:a,hitTolerance:l}){const c=(a+l)/2,u=n.x>=e-c-tf&&n.x<=i+c+tf,d=n.y>=r-c-tf&&n.y<=s+c+tf;return o==="x"?u:(o==="y"||u)&&d}function Wge(n,{rect:e,center:r},i,{rotation:s,borderWidth:o,hitTolerance:a}){const l=vp(n,r,ii(-s));return Uge(l,e,i,{borderWidth:o,hitTolerance:a})}function wp(n,e){const{centerX:r,centerY:i}=n.getProps(["centerX","centerY"],e);return{x:r,y:i}}function NXe(n,e,r,i=!0){const s=r.split(".");let o=0;for(const a of e.split(".")){const l=s[o++];if(parseInt(a,10)<parseInt(l,10))break;if(OXe(l,a)){if(i)throw new Error(`${n} v${r} is not supported. v${e} or newer is required.`);return!1}}return!0}const qge=n=>typeof n=="string"&&n.endsWith("%"),Hge=n=>parseFloat(n)/100,Vge=n=>gE(Hge(n),0,1),ey=(n,e)=>({x:n,y:e,x2:n,y2:e,width:0,height:0}),jXe={box:n=>ey(n.centerX,n.centerY),doughnutLabel:n=>ey(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>ey(n.centerX,n.centerY),line:n=>ey(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>ey(n.centerX,n.centerY)};function yB(n,e){return e==="start"?0:e==="end"?n:qge(e)?Vge(e)*n:n/2}function Kd(n,e,r=!0){return typeof e=="number"?e:qge(e)?(r?Vge(e):Hge(e))*n:n}function BXe(n,e){const{x:r,width:i}=n,s=e.textAlign;return s==="center"?r+i/2:s==="end"||s==="right"?r+i:r}function Gge(n,e,{borderWidth:r,position:i,xAdjust:s,yAdjust:o},a){const l=rn(a),c=e.width+(l?a.width:0)+r,u=e.height+(l?a.height:0)+r,d=vB(i),h=sG(n.x,c,s,d.x),f=sG(n.y,u,o,d.y);return{x:h,y:f,x2:h+c,y2:f+u,width:c,height:u,centerX:h+c/2,centerY:f+u/2}}function vB(n,e="center"){return rn(n)?{x:en(n.x,e),y:en(n.y,e)}:(n=en(n,e),{x:n,y:n})}const Yge=(n,e)=>n&&n.autoFit&&e<1;function Kge(n,e){const r=n.font,i=or(r)?r:[r];return Yge(n,e)?i.map(function(s){const o=Wr(s);return o.size=Math.floor(s.size*e),o.lineHeight=s.lineHeight,Wr(o)}):i.map(s=>Wr(s))}function Xge(n){return n&&(po(n.xValue)||po(n.yValue))}function sG(n,e,r=0,i){return n-yB(e,i)+r}function sb(n,e,r){const i=r.init;if(i){if(i===!0)return Jge(e,r)}else return;return LXe(n,e,r)}function Qge(n,e,r){let i=!1;return e.forEach(s=>{Ds(n[s])?(i=!0,r[s]=n[s]):po(r[s])&&delete r[s]}),i}function Jge(n,e){const r=e.type||"line";return jXe[r](n)}function LXe(n,e,r){const i=Rn(r.init,[{chart:n,properties:e,options:r}]);if(i===!0)return Jge(e,r);if(rn(i))return i}const V3=new Map,FXe=n=>isNaN(n)||n<=0,$Xe=n=>n.reduce(function(e,r){return e+=r.string,e},"");function bE(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function yE(n,{x:e,y:r},i){i&&(n.translate(e,r),n.rotate(ii(i)),n.translate(-e,-r))}function lu(n,e){if(e&&e.borderWidth)return n.lineCap=e.borderCapStyle||"butt",n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.lineJoin=e.borderJoinStyle||"miter",n.lineWidth=e.borderWidth,n.strokeStyle=e.borderColor,!0}function ob(n,e){n.shadowColor=e.backgroundShadowColor,n.shadowBlur=e.shadowBlur,n.shadowOffsetX=e.shadowOffsetX,n.shadowOffsetY=e.shadowOffsetY}function vE(n,e){const r=e.content;if(bE(r))return{width:Kd(r.width,e.width),height:Kd(r.height,e.height)};const i=Kge(e),s=e.textStrokeWidth,o=or(r)?r:[r],a=o.join()+$Xe(i)+s+(n._measureText?"-spriting":"");return V3.has(a)||V3.set(a,qXe(n,o,i,s)),V3.get(a)}function Zge(n,e,r){const{x:i,y:s,width:o,height:a}=e;n.save(),ob(n,r);const l=lu(n,r);n.fillStyle=r.backgroundColor,n.beginPath(),d2(n,{x:i,y:s,w:o,h:a,radius:DXe(ag(r.borderRadius),0,Math.min(o,a)/2)}),n.closePath(),n.fill(),l&&(n.shadowColor=r.borderShadowColor,n.stroke()),n.restore()}function e0e(n,e,r,i){const s=r.content;if(bE(s)){n.save(),n.globalAlpha=GXe(r.opacity,s.style.opacity),n.drawImage(s,e.x,e.y,e.width,e.height),n.restore();return}const o=or(s)?s:[s],a=Kge(r,i),l=r.color,c=or(l)?l:[l],u=BXe(e,r),d=e.y+r.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=r.textAlign,zXe(n,r)&&HXe(n,{x:u,y:d},o,a),VXe(n,{x:u,y:d},o,{fonts:a,colors:c}),n.restore()}function zXe(n,e){if(e.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=e.textStrokeWidth,n.strokeStyle=e.textStrokeColor,!0}function UXe(n,e,r,i){const{radius:s,options:o}=e,a=o.pointStyle,l=o.rotation;let c=(l||0)*sB;if(bE(a)){n.save(),n.translate(r,i),n.rotate(c),n.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),n.restore();return}FXe(s)||WXe(n,{x:r,y:i,radius:s,rotation:l,style:a,rad:c})}function WXe(n,{x:e,y:r,radius:i,rotation:s,style:o,rad:a}){let l,c,u,d;switch(n.beginPath(),o){default:n.arc(e,r,i,0,vi),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(a)*i,r-Math.cos(a)*i),a+=c2,n.lineTo(e+Math.sin(a)*i,r-Math.cos(a)*i),a+=c2,n.lineTo(e+Math.sin(a)*i,r-Math.cos(a)*i),n.closePath();break;case"rectRounded":d=i*.516,u=i-d,l=Math.cos(a+Wo)*u,c=Math.sin(a+Wo)*u,n.arc(e-l,r-c,d,a-kn,a-wi),n.arc(e+c,r-l,d,a-wi,a),n.arc(e+l,r+c,d,a,a+wi),n.arc(e-c,r+l,d,a+wi,a+kn),n.closePath();break;case"rect":if(!s){u=Math.SQRT1_2*i,n.rect(e-u,r-u,2*u,2*u);break}a+=Wo;case"rectRot":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+c,r-l),n.lineTo(e+l,r+c),n.lineTo(e-c,r+l),n.closePath();break;case"crossRot":a+=Wo;case"cross":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l);break;case"star":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l),a+=Wo,l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l);break;case"line":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(a)*i,r+Math.sin(a)*i);break}n.fill()}function qXe(n,e,r,i){n.save();const s=e.length;let o=0,a=i;for(let l=0;l<s;l++){const c=r[Math.min(l,r.length-1)];n.font=c.string;const u=e[l];o=Math.max(o,n.measureText(u).width+i),a+=c.lineHeight}return n.restore(),{width:o,height:a}}function HXe(n,{x:e,y:r},i,s){n.beginPath();let o=0;i.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=c.lineHeight;n.font=c.string,n.strokeText(a,e,r+u/2+o),o+=u}),n.stroke()}function VXe(n,{x:e,y:r},i,{fonts:s,colors:o}){let a=0;i.forEach(function(l,c){const u=o[Math.min(c,o.length-1)],d=s[Math.min(c,s.length-1)],h=d.lineHeight;n.beginPath(),n.font=d.string,n.fillStyle=u,n.fillText(l,e,r+h/2+a),a+=h,n.fill()})}function GXe(n,e){const r=Zf(n)?n:e;return Zf(r)?gE(r,0,1):1}const t0e=["left","bottom","top","right"];function YXe(n,e){const{pointX:r,pointY:i,options:s}=e,o=s.callout,a=o&&o.display&&ZXe(e,o);if(!a||tQe(e,o,a))return;if(n.save(),n.beginPath(),!lu(n,o))return n.restore();const{separatorStart:c,separatorEnd:u}=KXe(e,a),{sideStart:d,sideEnd:h}=QXe(e,a,c);(o.margin>0||s.borderWidth===0)&&(n.moveTo(c.x,c.y),n.lineTo(u.x,u.y)),n.moveTo(d.x,d.y),n.lineTo(h.x,h.y);const f=vp({x:r,y:i},e.getCenterPoint(),ii(-e.rotation));n.lineTo(f.x,f.y),n.stroke(),n.restore()}function KXe(n,e){const{x:r,y:i,x2:s,y2:o}=n,a=XXe(n,e);let l,c;return e==="left"||e==="right"?(l={x:r+a,y:i},c={x:l.x,y:o}):(l={x:r,y:i+a},c={x:s,y:l.y}),{separatorStart:l,separatorEnd:c}}function XXe(n,e){const{width:r,height:i,options:s}=n,o=s.callout.margin+s.borderWidth/2;return e==="right"?r+o:e==="bottom"?i+o:-o}function QXe(n,e,r){const{y:i,width:s,height:o,options:a}=n,l=a.callout.start,c=JXe(e,a.callout);let u,d;return e==="left"||e==="right"?(u={x:r.x,y:i+Kd(o,l)},d={x:u.x+c,y:u.y}):(u={x:r.x+Kd(s,l),y:r.y},d={x:u.x,y:u.y+c}),{sideStart:u,sideEnd:d}}function JXe(n,e){const r=e.side;return n==="left"||n==="top"?-r:r}function ZXe(n,e){const r=e.position;return t0e.includes(r)?r:eQe(n,e)}function eQe(n,e){const{x:r,y:i,x2:s,y2:o,width:a,height:l,pointX:c,pointY:u,centerX:d,centerY:h,rotation:f}=n,p={x:d,y:h},m=e.start,b=Kd(a,m),y=Kd(l,m),v=[r,r+b,r+b,s],w=[i+y,o,i,o],_=[];for(let x=0;x<4;x++){const S=vp({x:v[x],y:w[x]},p,ii(f));_.push({position:t0e[x],distance:k0(S,{x:c,y:u})})}return _.sort((x,S)=>x.distance-S.distance)[0].position}function tQe(n,e,r){const{pointX:i,pointY:s}=n,o=e.margin;let a=i,l=s;return r==="left"?a+=o:r==="right"?a-=o:r==="top"?l+=o:r==="bottom"&&(l-=o),n.inRange(a,l)}const oG={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function A0(n,e,r){return e=typeof e=="number"?e:n.parse(e),Ns(e)?n.getPixelForValue(e):r}function tp(n,e,r){const i=e[r];if(i||r==="scaleID")return i;const s=r.charAt(0),o=Object.values(n).filter(a=>a.axis&&a.axis===s);return o.length?o[0].id:s}function n0e(n,e){if(n){const r=n.options.reverse,i=A0(n,e.min,r?e.end:e.start),s=A0(n,e.max,r?e.start:e.end);return{start:i,end:s}}}function r0e(n,e){const{chartArea:r,scales:i}=n,s=i[tp(i,e,"xScaleID")],o=i[tp(i,e,"yScaleID")];let a=r.width/2,l=r.height/2;return s&&(a=A0(s,e.xValue,s.left+s.width/2)),o&&(l=A0(o,e.yValue,o.top+o.height/2)),{x:a,y:l}}function wB(n,e){const r=n.scales,i=r[tp(r,e,"xScaleID")],s=r[tp(r,e,"yScaleID")];if(!i&&!s)return{};let{left:o,right:a}=i||n.chartArea,{top:l,bottom:c}=s||n.chartArea;const u=aG(i,{min:e.xMin,max:e.xMax,start:o,end:a});o=u.start,a=u.end;const d=aG(s,{min:e.yMin,max:e.yMax,start:c,end:l});return l=d.start,c=d.end,{x:o,y:l,x2:a,y2:c,width:a-o,height:c-l,centerX:o+(a-o)/2,centerY:l+(c-l)/2}}function i0e(n,e){if(!Xge(e)){const r=wB(n,e);let i=e.radius;(!i||isNaN(i))&&(i=Math.min(r.width,r.height)/2,e.radius=i);const s=i*2,o=r.centerX+e.xAdjust,a=r.centerY+e.yAdjust;return{x:o-i,y:a-i,x2:o+i,y2:a+i,centerX:o,centerY:a,width:s,height:s,radius:i}}return rQe(n,e)}function nQe(n,e){const{scales:r,chartArea:i}=n,s=r[e.scaleID],o={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return s?iQe(s,o,e):sQe(r,o,e),o}function s0e(n,e){const r=wB(n,e);return r.initProperties=sb(n,r,e),r.elements=[{type:"label",optionScope:"label",properties:lQe(n,r,e),initProperties:r.initProperties}],r}function rQe(n,e){const r=r0e(n,e),i=e.radius*2;return{x:r.x-e.radius+e.xAdjust,y:r.y-e.radius+e.yAdjust,x2:r.x+e.radius+e.xAdjust,y2:r.y+e.radius+e.yAdjust,centerX:r.x+e.xAdjust,centerY:r.y+e.yAdjust,radius:e.radius,width:i,height:i}}function aG(n,e){const r=n0e(n,e)||e;return{start:Math.min(r.start,r.end),end:Math.max(r.start,r.end)}}function iQe(n,e,r){const i=A0(n,r.value,NaN),s=A0(n,r.endValue,i);n.isHorizontal()?(e.x=i,e.x2=s):(e.y=i,e.y2=s)}function sQe(n,e,r){for(const i of Object.keys(oG)){const s=n[tp(n,r,i)];if(s){const{min:o,max:a,start:l,end:c,startProp:u,endProp:d}=oG[i],h=n0e(s,{min:r[o],max:r[a],start:s[l],end:s[c]});e[u]=h.start,e[d]=h.end}}}function oQe({properties:n,options:e},r,i,s){const{x:o,x2:a,width:l}=n;return o0e({start:o,end:a,borderWidth:e.borderWidth},{position:i.x,padding:{start:s.left,end:s.right},adjust:e.label.xAdjust,size:r.width})}function aQe({properties:n,options:e},r,i,s){const{y:o,y2:a,height:l}=n;return o0e({start:o,end:a,borderWidth:e.borderWidth},{position:i.y,padding:{start:s.top,end:s.bottom},adjust:e.label.yAdjust,size:r.height})}function o0e(n,e){const{start:r,end:i,borderWidth:s}=n,{position:o,padding:{start:a,end:l},adjust:c}=e,u=i-s-r-a-l-e.size;return r+s/2+c+yB(u,o)}function lQe(n,e,r){const i=r.label;i.backgroundColor="transparent",i.callout.display=!1;const s=vB(i.position),o=$i(i.padding),a=vE(n.ctx,i),l=oQe({properties:e,options:r},a,s,o),c=aQe({properties:e,options:r},a,s,o),u=a.width+o.width,d=a.height+o.height;return{x:l,y:c,x2:l+u,y2:c+d,width:u,height:d,centerX:l+u/2,centerY:c+d/2,rotation:i.rotation}}const D4=["enter","leave"],xB=D4.concat("click");function cQe(n,e,r){e.listened=Qge(r,xB,e.listeners),e.moveListened=!1,D4.forEach(i=>{Ds(r[i])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(i=>{!e.listened&&Ds(i.click)&&(e.listened=!0),e.moveListened||D4.forEach(s=>{Ds(i[s])&&(e.listened=!0,e.moveListened=!0)})})}function uQe(n,e,r){if(n.listened)switch(e.type){case"mousemove":case"mouseout":return dQe(n,e,r);case"click":return hQe(n,e,r)}}function dQe(n,e,r){if(!n.moveListened)return;let i;e.type==="mousemove"?i=bB(n.visibleElements,e,r.interaction):i=[];const s=n.hovered;n.hovered=i;const o={state:n,event:e};let a=lG(o,"leave",s,i);return lG(o,"enter",i,s)||a}function lG({state:n,event:e},r,i,s){let o;for(const a of i)s.indexOf(a)<0&&(o=a0e(a.options[r]||n.listeners[r],a,e)||o);return o}function hQe(n,e,r){const i=n.listeners,s=bB(n.visibleElements,e,r.interaction);let o;for(const a of s)o=a0e(a.options.click||i.click,a,e)||o;return o}function a0e(n,e,r){return Rn(n,[e.$context,r])===!0}const m2=["afterDraw","beforeDraw"];function fQe(n,e,r){const i=e.visibleElements;e.hooked=Qge(r,m2,e.hooks),e.hooked||i.forEach(s=>{e.hooked||m2.forEach(o=>{Ds(s.options[o])&&(e.hooked=!0)})})}function cG(n,e,r){if(n.hooked){const i=e.options[r]||n.hooks[r];return Rn(i,[e.$context])}}function pQe(n,e,r){const i=vQe(n.scales,e,r);let s=uG(e,i,"min","suggestedMin");s=uG(e,i,"max","suggestedMax")||s,s&&Ds(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function mQe(n,e){for(const r of n)bQe(r,e)}function uG(n,e,r,i){if(Ns(e[r])&&!gQe(n.options,r,i)){const s=n[r]!==e[r];return n[r]=e[r],s}}function gQe(n,e,r){return po(n[e])||po(n[r])}function bQe(n,e){for(const r of["scaleID","xScaleID","yScaleID"]){const i=tp(e,n,r);i&&!e[i]&&yQe(n,r)&&console.warn(`No scale found with id '${i}' for annotation '${n.id}'`)}}function yQe(n,e){if(e==="scaleID")return!0;const r=e.charAt(0);for(const i of["Min","Max","Value"])if(po(n[r+i]))return!0;return!1}function vQe(n,e,r){const i=e.axis,s=e.id,o=i+"ScaleID",a={min:en(e.min,Number.NEGATIVE_INFINITY),max:en(e.max,Number.POSITIVE_INFINITY)};for(const l of r)l.scaleID===s?dG(l,e,["value","endValue"],a):tp(n,l,o)===s&&dG(l,e,[i+"Min",i+"Max",i+"Value"],a);return a}function dG(n,e,r,i){for(const s of r){const o=n[s];if(po(o)){const a=e.parse(o);i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}}}class ab extends Fs{inRange(e,r,i,s){const{x:o,y:a}=vp({x:e,y:r},this.getCenterPoint(s),ii(-this.options.rotation));return Uge({x:o,y:a},this.getProps(["x","y","x2","y2"],s),i,this.options)}getCenterPoint(e){return wp(this,e)}draw(e){e.save(),yE(e,this.getCenterPoint(),this.options.rotation),Zge(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){return s0e(e,r)}}ab.id="boxAnnotation";ab.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ab.defaultRoutes={borderColor:"color",backgroundColor:"color"};ab.descriptors={label:{_fallback:!0}};class wE extends Fs{inRange(e,r,i,s){return Wge({x:e,y:r},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},i,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return wp(this,e)}draw(e){const r=this.options;!r.display||!r.content||(CQe(e,this),e.save(),yE(e,this.getCenterPoint(),this.rotation),e0e(e,this,r,this._fitRatio),e.restore())}resolveElementProperties(e,r){const i=wQe(e,r);if(!i)return{};const{controllerMeta:s,point:o,radius:a}=_Qe(e,r,i);let l=vE(e.ctx,r);const c=SQe(l,a);Yge(r,c)&&(l={width:l.width*c,height:l.height*c});const{position:u,xAdjust:d,yAdjust:h}=r,f=Gge(o,l,{borderWidth:0,position:u,xAdjust:d,yAdjust:h});return{initProperties:sb(e,f,r),...f,...s,rotation:r.rotation,_fitRatio:c}}}wE.id="doughnutLabelAnnotation";wE.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};wE.defaultRoutes={};function wQe(n,e){return n.getSortedVisibleDatasetMetas().reduce(function(r,i){const s=i.controller;return s instanceof Ty&&xQe(n,e,i.data)&&(!r||s.innerRadius<r.controller.innerRadius)&&s.options.circumference>=90?i:r},void 0)}function xQe(n,e,r){if(!e.autoHide)return!0;for(let i=0;i<r.length;i++)if(!r[i].hidden&&n.getDataVisibility(i))return!0}function _Qe({chartArea:n},e,r){const{left:i,top:s,right:o,bottom:a}=n,{innerRadius:l,offsetX:c,offsetY:u}=r.controller,d=(i+o)/2+c,h=(s+a)/2+u,f={left:Math.max(d-l,i),right:Math.min(d+l,o),top:Math.max(h-l,s),bottom:Math.min(h+l,a)},p={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},m=e.spacing+e.borderWidth/2,b=l-m,y=p.y>h,v=y?s+m:a-m,w=kQe(v,d,h,b);return{controllerMeta:{_centerX:d,_centerY:h,_radius:b,_counterclockwise:y,...w},point:p,radius:Math.min(l,Math.min(f.right-f.left,f.bottom-f.top)/2)}}function SQe({width:n,height:e},r){const i=Math.sqrt(Math.pow(n,2)+Math.pow(e,2));return r*2/i}function kQe(n,e,r,i){const s=Math.pow(r-n,2),o=Math.pow(i,2),a=e*-2,l=Math.pow(e,2)+s-o,c=Math.pow(a,2)-4*l;if(c<=0)return{_startAngle:0,_endAngle:vi};const u=(-a-Math.sqrt(c))/2,d=(-a+Math.sqrt(c))/2;return{_startAngle:k4({x:e,y:r},{x:u,y:n}).angle,_endAngle:k4({x:e,y:r},{x:d,y:n}).angle}}function CQe(n,e){const{_centerX:r,_centerY:i,_radius:s,_startAngle:o,_endAngle:a,_counterclockwise:l,options:c}=e;n.save();const u=lu(n,c);n.fillStyle=c.backgroundColor,n.beginPath(),n.arc(r,i,s,o,a,l),n.closePath(),n.fill(),u&&n.stroke(),n.restore()}class Ix extends Fs{inRange(e,r,i,s){return Wge({x:e,y:r},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},i,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return wp(this,e)}draw(e){const r=this.options,i=!po(this._visible)||this._visible;!r.display||!r.content||!i||(e.save(),yE(e,this.getCenterPoint(),this.rotation),YXe(e,this),Zge(e,this,r),e0e(e,EQe(this),r),e.restore())}resolveElementProperties(e,r){let i;if(Xge(r))i=r0e(e,r);else{const{centerX:l,centerY:c}=wB(e,r);i={x:l,y:c}}const s=$i(r.padding),o=vE(e.ctx,r),a=Gge(i,o,r,s);return{initProperties:sb(e,a,r),pointX:i.x,pointY:i.y,...a,rotation:r.rotation}}}Ix.id="labelAnnotation";Ix.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Ix.defaultRoutes={borderColor:"color"};function EQe({x:n,y:e,width:r,height:i,options:s}){const o=s.borderWidth/2,a=$i(s.padding);return{x:n+a.left+o,y:e+a.top+o,width:r-a.left-a.right-s.borderWidth,height:i-a.top-a.bottom-s.borderWidth}}const _B=(n,e,r)=>({x:n.x+r*(e.x-n.x),y:n.y+r*(e.y-n.y)}),R4=(n,e,r)=>_B(e,r,Math.abs((n-e.y)/(r.y-e.y))).x,hG=(n,e,r)=>_B(e,r,Math.abs((n-e.x)/(r.x-e.x))).y,Oy=n=>n*n,AQe=(n,e,{x:r,y:i,x2:s,y2:o},a)=>a==="y"?{start:Math.min(i,o),end:Math.max(i,o),value:e}:{start:Math.min(r,s),end:Math.max(r,s),value:n},fG=(n,e,r,i)=>(1-i)*(1-i)*n+2*(1-i)*i*e+i*i*r,N4=(n,e,r,i)=>({x:fG(n.x,e.x,r.x,i),y:fG(n.y,e.y,r.y,i)}),pG=(n,e,r,i)=>2*(1-i)*(e-n)+2*i*(r-e),mG=(n,e,r,i)=>-Math.atan2(pG(n.x,e.x,r.x,i),pG(n.y,e.y,r.y,i))+.5*kn;class Mx extends Fs{inRange(e,r,i,s){const o=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y"){const a={mouseX:e,mouseY:r},{path:l,ctx:c}=this;if(l){lu(c,this.options),c.lineWidth+=this.options.hitTolerance;const{chart:d}=this.$context,h=e*d.currentDevicePixelRatio,f=r*d.currentDevicePixelRatio,p=c.isPointInStroke(l,h,f)||j4(this,a,s);return c.restore(),p}const u=Oy(o);return MQe(this,a,u,s)||j4(this,a,s)}return TQe(this,{mouseX:e,mouseY:r},i,{hitSize:o,useFinalPosition:s})}getCenterPoint(e){return wp(this,e)}draw(e){const{x:r,y:i,x2:s,y2:o,cp:a,options:l}=this;if(e.save(),!lu(e,l))return e.restore();ob(e,l);const c=Math.sqrt(Math.pow(s-r,2)+Math.pow(o-i,2));if(l.curve&&a)return FQe(e,this,a,c),e.restore();const{startOpts:u,endOpts:d,startAdjust:h,endAdjust:f}=l0e(this),p=Math.atan2(o-i,s-r);e.translate(r,i),e.rotate(p),e.beginPath(),e.moveTo(0+h,0),e.lineTo(c-f,0),e.shadowColor=l.borderShadowColor,e.stroke(),B4(e,0,h,u),B4(e,c,-f,d),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){const i=nQe(e,r),{x:s,y:o,x2:a,y2:l}=i,c=PQe(i,e.chartArea),u=c?IQe({x:s,y:o},{x:a,y:l},e.chartArea):{x:s,y:o,x2:a,y2:l,width:Math.abs(a-s),height:Math.abs(l-o)};if(u.centerX=(a+s)/2,u.centerY=(l+o)/2,u.initProperties=sb(e,u,r),r.curve){const h={x:u.x,y:u.y},f={x:u.x2,y:u.y2};u.cp=LQe(u,r,k0(h,f))}const d=OQe(e,u,r.label);return d._visible=c,u.elements=[{type:"label",optionScope:"label",properties:d,initProperties:u.initProperties}],u}}Mx.id="lineAnnotation";const gG={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};Mx.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},gG),fill:!1,length:12,start:Object.assign({},gG),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},Ix.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Mx.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};Mx.defaultRoutes={borderColor:"color"};function TQe(n,{mouseX:e,mouseY:r},i,{hitSize:s,useFinalPosition:o}){const a=AQe(e,r,n.getProps(["x","y","x2","y2"],o),i);return zge(a,s)||j4(n,{mouseX:e,mouseY:r},o,i)}function PQe({x:n,y:e,x2:r,y2:i},{top:s,right:o,bottom:a,left:l}){return!(n<l&&r<l||n>o&&r>o||e<s&&i<s||e>a&&i>a)}function bG({x:n,y:e},r,{top:i,right:s,bottom:o,left:a}){return n<a&&(e=hG(a,{x:n,y:e},r),n=a),n>s&&(e=hG(s,{x:n,y:e},r),n=s),e<i&&(n=R4(i,{x:n,y:e},r),e=i),e>o&&(n=R4(o,{x:n,y:e},r),e=o),{x:n,y:e}}function IQe(n,e,r){const{x:i,y:s}=bG(n,e,r),{x:o,y:a}=bG(e,n,r);return{x:i,y:s,x2:o,y2:a,width:Math.abs(o-i),height:Math.abs(a-s)}}function MQe(n,{mouseX:e,mouseY:r},i=tf,s){const{x:o,y:a,x2:l,y2:c}=n.getProps(["x","y","x2","y2"],s),u=l-o,d=c-a,h=Oy(u)+Oy(d),f=h===0?-1:((e-o)*u+(r-a)*d)/h;let p,m;return f<0?(p=o,m=a):f>1?(p=l,m=c):(p=o+f*u,m=a+f*d),Oy(e-p)+Oy(r-m)<=i}function j4(n,{mouseX:e,mouseY:r},i,s){const o=n.label;return o.options.display&&o.inRange(e,r,s,i)}function OQe(n,e,r){const i=r.borderWidth,s=$i(r.padding),o=vE(n.ctx,r),a=o.width+s.width+i,l=o.height+s.height+i;return RQe(e,r,{width:a,height:l,padding:s},n.chartArea)}function DQe(n){const{x:e,y:r,x2:i,y2:s}=n,o=Math.atan2(s-r,i-e);return o>kn/2?o-kn:o<kn/-2?o+kn:o}function RQe(n,e,r,i){const{width:s,height:o,padding:a}=r,{xAdjust:l,yAdjust:c}=e,u={x:n.x,y:n.y},d={x:n.x2,y:n.y2},h=e.rotation==="auto"?DQe(n):ii(e.rotation),f=NQe(s,o,h),p=jQe(n,e,{labelSize:f,padding:a},i),m=n.cp?N4(u,n.cp,d,p):_B(u,d,p),b={size:f.w,min:i.left,max:i.right,padding:a.left},y={size:f.h,min:i.top,max:i.bottom,padding:a.top},v=vG(m.x,b)+l,w=vG(m.y,y)+c;return{x:v-s/2,y:w-o/2,x2:v+s/2,y2:w+o/2,centerX:v,centerY:w,pointX:m.x,pointY:m.y,width:s,height:o,rotation:lge(h)}}function NQe(n,e,r){const i=Math.cos(r),s=Math.sin(r);return{w:Math.abs(n*i)+Math.abs(e*s),h:Math.abs(n*s)+Math.abs(e*i)}}function jQe(n,e,r,i){let s;const o=BQe(n,i);return e.position==="start"?s=yG({w:n.x2-n.x,h:n.y2-n.y},r,e,o):e.position==="end"?s=1-yG({w:n.x-n.x2,h:n.y-n.y2},r,e,o):s=yB(1,e.position),s}function yG(n,e,r,i){const{labelSize:s,padding:o}=e,a=n.w*i.dx,l=n.h*i.dy,c=a>0&&(s.w/2+o.left-i.x)/a,u=l>0&&(s.h/2+o.top-i.y)/l;return gE(Math.max(c,u),0,.25)}function BQe(n,e){const{x:r,x2:i,y:s,y2:o}=n,a=Math.min(s,o)-e.top,l=Math.min(r,i)-e.left,c=e.bottom-Math.max(s,o),u=e.right-Math.max(r,i);return{x:Math.min(l,u),y:Math.min(a,c),dx:l<=u?1:-1,dy:a<=c?1:-1}}function vG(n,e){const{size:r,min:i,max:s,padding:o}=e,a=r/2;return r>s-i?(s+i)/2:(i>=n-o-a&&(n=i+o+a),s<=n+o+a&&(n=s-o-a),n)}function l0e(n){const e=n.options,r=e.arrowHeads&&e.arrowHeads.start,i=e.arrowHeads&&e.arrowHeads.end;return{startOpts:r,endOpts:i,startAdjust:wG(n,r),endAdjust:wG(n,i)}}function wG(n,e){if(!e||!e.display)return 0;const{length:r,width:i}=e,s=n.options.borderWidth/2,o={x:r,y:i+s};return Math.abs(R4(0,o,{x:0,y:s}))}function B4(n,e,r,i){if(!i||!i.display)return;const{length:s,width:o,fill:a,backgroundColor:l,borderColor:c}=i,u=Math.abs(e-s)+r;n.beginPath(),ob(n,i),lu(n,i),n.moveTo(u,-o),n.lineTo(e+r,0),n.lineTo(u,o),a===!0?(n.fillStyle=l||c,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=i.borderShadowColor,n.stroke()}function LQe(n,e,r){const{x:i,y:s,x2:o,y2:a,centerX:l,centerY:c}=n,u=Math.atan2(a-s,o-i),d=vB(e.controlPoint,0),h={x:l+Kd(r,d.x,!1),y:c+Kd(r,d.y,!1)};return vp(h,{x:l,y:c},u)}function xG(n,{x:e,y:r},{angle:i,adjust:s},o){!o||!o.display||(n.save(),n.translate(e,r),n.rotate(i),B4(n,0,-s,o),n.restore())}function FQe(n,e,r,i){const{x:s,y:o,x2:a,y2:l,options:c}=e,{startOpts:u,endOpts:d,startAdjust:h,endAdjust:f}=l0e(e),p={x:s,y:o},m={x:a,y:l},b=mG(p,r,m,0),y=mG(p,r,m,1)-kn,v=N4(p,r,m,h/i),w=N4(p,r,m,1-f/i),_=new Path2D;n.beginPath(),_.moveTo(v.x,v.y),_.quadraticCurveTo(r.x,r.y,w.x,w.y),n.shadowColor=c.borderShadowColor,n.stroke(_),e.path=_,e.ctx=n,xG(n,v,{angle:b,adjust:h},u),xG(n,w,{angle:y,adjust:f},d)}class Ox extends Fs{inRange(e,r,i,s){const o=this.options.rotation,a=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y")return $Qe({x:e,y:r},this.getProps(["width","height","centerX","centerY"],s),o,a);const{x:l,y:c,x2:u,y2:d}=this.getProps(["x","y","x2","y2"],s),h=i==="y"?{start:c,end:d}:{start:l,end:u},f=vp({x:e,y:r},this.getCenterPoint(s),ii(-o));return f[i]>=h.start-a-tf&&f[i]<=h.end+a+tf}getCenterPoint(e){return wp(this,e)}draw(e){const{width:r,height:i,centerX:s,centerY:o,options:a}=this;e.save(),yE(e,this.getCenterPoint(),a.rotation),ob(e,this.options),e.beginPath(),e.fillStyle=a.backgroundColor;const l=lu(e,a);e.ellipse(s,o,i/2,r/2,kn/2,0,2*kn),e.fill(),l&&(e.shadowColor=a.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){return s0e(e,r)}}Ox.id="ellipseAnnotation";Ox.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},ab.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Ox.defaultRoutes={borderColor:"color",backgroundColor:"color"};Ox.descriptors={label:{_fallback:!0}};function $Qe(n,e,r,i){const{width:s,height:o,centerX:a,centerY:l}=e,c=s/2,u=o/2;if(c<=0||u<=0)return!1;const d=ii(r||0),h=Math.cos(d),f=Math.sin(d),p=Math.pow(h*(n.x-a)+f*(n.y-l),2),m=Math.pow(f*(n.x-a)-h*(n.y-l),2);return p/Math.pow(c+i,2)+m/Math.pow(u+i,2)<=1.0001}class xE extends Fs{inRange(e,r,i,s){const{x:o,y:a,x2:l,y2:c,width:u}=this.getProps(["x","y","x2","y2","width"],s),d=(this.options.borderWidth+this.options.hitTolerance)/2;return i!=="x"&&i!=="y"?RXe({x:e,y:r},this.getCenterPoint(s),u/2,d):zge(i==="y"?{start:a,end:c,value:r}:{start:o,end:l,value:e},d)}getCenterPoint(e){return wp(this,e)}draw(e){const r=this.options,i=r.borderWidth;if(r.radius<.1)return;e.save(),e.fillStyle=r.backgroundColor,ob(e,r);const s=lu(e,r);UXe(e,this,this.centerX,this.centerY),s&&!bE(r.pointStyle)&&(e.shadowColor=r.borderShadowColor,e.stroke()),e.restore(),r.borderWidth=i}resolveElementProperties(e,r){const i=i0e(e,r);return i.initProperties=sb(e,i,r),i}}xE.id="pointAnnotation";xE.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};xE.defaultRoutes={borderColor:"color",backgroundColor:"color"};class _E extends Fs{inRange(e,r,i,s){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&UQe(this.elements,e,r,s);const o=vp({x:e,y:r},this.getCenterPoint(s),ii(-this.options.rotation)),a=this.elements.map(u=>i==="y"?u.bY:u.bX),l=Math.min(...a),c=Math.max(...a);return o[i]>=l&&o[i]<=c}getCenterPoint(e){return wp(this,e)}draw(e){const{elements:r,options:i}=this;e.save(),e.beginPath(),e.fillStyle=i.backgroundColor,ob(e,i);const s=lu(e,i);let o=!0;for(const a of r)o?(e.moveTo(a.x,a.y),o=!1):e.lineTo(a.x,a.y);e.closePath(),e.fill(),s&&(e.shadowColor=i.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,r){const i=i0e(e,r),{sides:s,rotation:o}=r,a=[],l=2*kn/s;let c=o*sB;for(let u=0;u<s;u++,c+=l){const d=zQe(i,r,c);d.initProperties=sb(e,i,r),a.push(d)}return i.elements=a,i}}_E.id="polygonAnnotation";_E.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};_E.defaultRoutes={borderColor:"color",backgroundColor:"color"};function zQe({centerX:n,centerY:e},{radius:r,borderWidth:i,hitTolerance:s},o){const a=(i+s)/2,l=Math.sin(o),c=Math.cos(o),u={x:n+l*r,y:e-c*r};return{type:"point",optionScope:"point",properties:{x:u.x,y:u.y,centerX:u.x,centerY:u.y,bX:n+l*(r+a),bY:e-c*(r+a)}}}function UQe(n,e,r,i){let s=!1,o=n[n.length-1].getProps(["bX","bY"],i);for(const a of n){const l=a.getProps(["bX","bY"],i);l.bY>r!=o.bY>r&&e<(o.bX-l.bX)*(r-l.bY)/(o.bY-l.bY)+l.bX&&(s=!s),o=l}return s}const Bd={box:ab,doughnutLabel:wE,ellipse:Ox,label:Ix,line:Mx,point:xE,polygon:_E};Object.keys(Bd).forEach(n=>{yr.describe(`elements.${Bd[n].id}`,{_fallback:"plugins.annotation.common"})});const WQe={update:Object.assign},qQe=xB.concat(m2),_G=(n,e)=>rn(e)?F4(n,e):n,L4=n=>n==="color"||n==="font";function SB(n="line"){return Bd[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function HQe(n,e,r,i){const s=GQe(n,r.animations,i),o=e.annotations,a=XQe(e.elements,o);for(let l=0;l<o.length;l++){const c=o[l],u=c0e(a,l,c.type),d=c.setContext(KQe(n,u,a,c)),h=u.resolveElementProperties(n,d);h.skip=VQe(h),"elements"in h&&(YQe(u,h.elements,d,s),delete h.elements),po(u.x)||Object.assign(u,h),Object.assign(u,h.initProperties),h.options=u0e(d),s.update(u,h)}}function VQe(n){return isNaN(n.x)||isNaN(n.y)}function GQe(n,e,r){return r==="reset"||r==="none"||r==="resize"?WQe:new mB(n,e)}function YQe(n,e,r,i){const s=n.elements||(n.elements=[]);s.length=e.length;for(let o=0;o<e.length;o++){const a=e[o],l=a.properties,c=c0e(s,o,a.type,a.initProperties),u=r[a.optionScope].override(a);l.options=u0e(u),i.update(c,l)}}function c0e(n,e,r,i){const s=Bd[SB(r)];let o=n[e];return(!o||!(o instanceof s))&&(o=n[e]=new s,Object.assign(o,i)),o}function u0e(n){const e=Bd[SB(n.type)],r={};r.id=n.id,r.type=n.type,r.drawTime=n.drawTime,Object.assign(r,F4(n,e.defaults),F4(n,e.defaultRoutes));for(const i of qQe)r[i]=n[i];return r}function F4(n,e){const r={};for(const i of Object.keys(e)){const s=e[i],o=n[i];L4(i)&&or(o)?r[i]=o.map(a=>_G(a,s)):r[i]=_G(o,s)}return r}function KQe(n,e,r,i){return e.$context||(e.$context=Object.assign(Object.create(n.getContext()),{element:e,get elements(){return r.filter(s=>s&&s.options)},id:i.id,type:"annotation"}))}function XQe(n,e){const r=e.length,i=n.length;if(i<r){const s=r-i;n.splice(i,0,...new Array(s))}else i>r&&n.splice(r,i-r);return n}var QQe="3.1.0";const Xu=new Map,SG=n=>n.type!=="doughnutLabel",JQe=xB.concat(m2);var ZQe={id:"annotation",version:QQe,beforeRegister(){NXe("chart.js","4.0",Tf.version)},afterRegister(){Tf.register(Bd)},afterUnregister(){Tf.unregister(Bd)},beforeInit(n){Xu.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,e,r){const i=Xu.get(n),s=i.annotations=[];let o=r.annotations;rn(o)?Object.keys(o).forEach(a=>{const l=o[a];rn(l)&&(l.id=a,s.push(l))}):or(o)&&s.push(...o),mQe(s.filter(SG),n.scales)},afterDataLimits(n,e){const r=Xu.get(n);pQe(n,e.scale,r.annotations.filter(SG).filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(n,e,r){const i=Xu.get(n);cQe(n,i,r),HQe(n,i,r,e.mode),i.visibleElements=i.elements.filter(s=>!s.skip&&s.options.display),fQe(n,i,r)},beforeDatasetsDraw(n,e,r){ty(n,"beforeDatasetsDraw",r.clip)},afterDatasetsDraw(n,e,r){ty(n,"afterDatasetsDraw",r.clip)},beforeDatasetDraw(n,e,r){ty(n,e.index,r.clip)},beforeDraw(n,e,r){ty(n,"beforeDraw",r.clip)},afterDraw(n,e,r){ty(n,"afterDraw",r.clip)},beforeEvent(n,e,r){const i=Xu.get(n);uQe(i,e.event,r)&&(e.changed=!0)},afterDestroy(n){Xu.delete(n)},getAnnotations(n){const e=Xu.get(n);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(n,e,r){return bB(n,e,r)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!JQe.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,e)=>`elements.${Bd[SB(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:L4,_fallback:!0},_indexable:L4}},additionalOptionScopes:[""]};function ty(n,e,r){const{ctx:i,chartArea:s}=n,o=Xu.get(n);r&&dE(i,s);const a=eJe(o.visibleElements,e).sort((l,c)=>l.element.options.z-c.element.options.z);for(const l of a)tJe(i,s,o,l);r&&hE(i)}function eJe(n,e){const r=[];for(const i of n)if(i.options.drawTime===e&&r.push({element:i,main:!0}),i.elements&&i.elements.length)for(const s of i.elements)s.options.display&&s.options.drawTime===e&&r.push({element:s});return r}function tJe(n,e,r,i){const s=i.element;i.main?(cG(r,s,"beforeDraw"),s.draw(n,e),cG(r,s,"afterDraw")):s.draw(n,e)}Tf.register(M4,O4,OS,Iy,oXe,pXe,iXe,ZQe);const nJe=({minPrice:n,maxPrice:e,orders:r,pendingOrders:i=[],onAddOrder:s,onRemoveOrder:o,currentPrice:a,markPrice:l})=>{const c=A.useRef(null),[u,d]=A.useState(null),h=A.useMemo(()=>{const m=[...r,...i];return m.length>0?Math.max(...m.map(b=>b.amount),.1):.1},[r,i]),f=A.useMemo(()=>{const m=r.map(y=>({x:y.amount,y:y.price,id:y.id,side:y.side,isPending:!1})),b=i.map(y=>({x:y.amount,y:y.price,id:y.id,side:y.side,isPending:!0}));return{transition:{show:{animations:{colors:{from:"transparent"},y:{type:"number",from:0,easing:"easeOutQuart"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},y:{type:"number",to:0,easing:"easeInExpo"}}}},animation:{duration:500},datasets:[{label:"New Long Orders",data:m.filter(y=>{const v=r.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="long"||(v==null?void 0:v.side)==="buy"||!(v!=null&&v.side)}),backgroundColor:"#a1f2f7",borderColor:"green",borderWidth:2,pointRadius:13,pointHoverRadius:10},{label:"New Short Orders",data:m.filter(y=>{const v=r.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="short"||(v==null?void 0:v.side)==="sell"}),backgroundColor:"#a1f2f7",borderColor:"red",borderWidth:2,pointRadius:13,pointHoverRadius:10},{label:"Open Longs",data:b.filter(y=>{const v=i.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="long"||(v==null?void 0:v.side)==="buy"}),backgroundColor:"rgba(40, 167, 69, 0.8)",borderColor:"#fff",borderWidth:2,borderDash:[3,3],pointRadius:6,pointHoverRadius:10},{label:"Open Shorts",data:b.filter(y=>{const v=i.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="short"||(v==null?void 0:v.side)==="sell"}),backgroundColor:"rgba(220, 53, 69, 0.8)",borderColor:"#fff",borderWidth:2,borderDash:[3,3],pointRadius:6,pointHoverRadius:10}]}},[r,i]),p=A.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,backgroundColor:"#1a1a1a",plugins:{legend:{display:!0,position:"top",labels:{color:"#fff",font:{size:12}}},tooltip:{enabled:!0,callbacks:{label:m=>{const b=m.raw,y=[...r,...i].find(v=>v.id===b.id);return y?[`Price: ${y.price.toFixed(2)} USDC`,`Amount: ${y.amount.toFixed(4)} BTC`,y.isPending?`Pending ${y.side==="long"||y.side==="buy"?"Long":"Short"}`:""].filter(Boolean):`Price: ${b.y.toFixed(2)}, Amount: ${b.x.toFixed(4)}`}}},annotation:{annotations:{...a!==null&&a>=n&&a<=e?{currentPriceLine:{type:"line",xMin:0,xMax:h,yMin:a,yMax:a,borderColor:"#00ff00",borderWidth:2,borderDash:[5,5],label:{display:!0,content:`Current: ${a.toLocaleString()}`,position:"end",backgroundColor:"rgba(0, 255, 0, 0.8)",color:"#000",font:{size:12,weight:"bold",family:"monospace"},padding:{left:5,right:5,top:2,bottom:2}},xScaleID:"x",yScaleID:"y"}}:{},...l!==null&&l>=n&&l<=e?{markPriceLine:{type:"line",xMin:0,xMax:h,yMin:l,yMax:l,borderColor:"#ff0000",borderWidth:2,label:{display:!0,content:`Mark Price: ${l.toLocaleString()}`,position:"start",backgroundColor:"rgba(255, 0, 0, 0.8)",color:"#fff",font:{size:12,weight:"bold",family:"monospace"},padding:{left:5,right:5,top:2,bottom:2}},xScaleID:"x",yScaleID:"y",arrowHeads:{start:{enabled:!1,fill:!1,length:0,width:0},end:{enabled:!0,fill:!0,length:15,width:10,backgroundColor:"#ff0000",borderColor:"#ff0000",borderWidth:2}}}}:{}}}},scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:"Amount (BTC)",color:"#fff",font:{size:14,weight:"bold"}},min:0,max:h,ticks:{color:"#888",font:{size:12,family:"monospace"},callback:function(m){return Number(m).toFixed(4)}},grid:{color:"#333"}},y:{type:"linear",title:{display:!0,text:"Price (USDC)",color:"#fff",font:{size:14,weight:"bold"}},min:n,max:e,ticks:{color:"#888",font:{size:12,family:"monospace"},callback:function(m){return Number(m).toLocaleString()}},grid:{color:"#333"}}},onClick:(m,b)=>{if(!c.current)return;const y=c.current,v=y.canvas;if(!v)return;const w=v.getBoundingClientRect(),_=m.native;if(!_)return;const x=_.clientX-w.left,S=_.clientY-w.top,C=y.scales.x,E=y.scales.y,T=C.getValueForPixel(x),M=E.getValueForPixel(S);if(T==null||M===null||M===void 0)return;const O=[...r,...i].find(F=>{const $=C.getPixelForValue(F.amount),z=E.getPixelForValue(F.price);return Math.sqrt(Math.pow(x-$,2)+Math.pow(S-z,2))<=12});if(O)o(O.id);else{const F=Math.max(n,Math.min(e,M)),$=Math.max(.001,Math.min(1,T));s(F,$)}},onHover:(m,b)=>{if(!c.current)return;const y=c.current,v=y.canvas;if(!v)return;const w=v.getBoundingClientRect(),_=m.native;if(!_)return;const x=_.clientX-w.left,S=_.clientY-w.top,C=[...r,...i],E=y.scales.x,T=y.scales.y,M=C.find(I=>{const O=E.getPixelForValue(I.amount),F=T.getPixelForValue(I.price);return Math.sqrt(Math.pow(x-O,2)+Math.pow(S-F,2))<=10});d((M==null?void 0:M.id)||null)}}),[n,e,h,r,i,s,o,a,l]);return g.jsx("div",{className:"price-amount-chart-container",children:g.jsx("div",{className:`price-amount-chart-wrapper ${u?"price-amount-chart-pointer":""}`,children:g.jsx(TXe,{ref:c,data:f,options:p})})})},rJe=({isOpen:n,onClose:e,minPrice:r,maxPrice:i,onMinPriceChange:s,onMaxPriceChange:o,markPrice:a,hasManualPriceChange:l,onResetToAuto:c,orderMode:u,onOrderModeChange:d,curveIntensity:h,onCurveIntensityChange:f,roundingStep:p,onRoundingStepChange:m})=>{const b=S=>Math.round(S/1.5/p)*p,y=S=>Math.round(S*1.5/p)*p;if(!n)return null;const v=(a==null?void 0:a.mark_price)??null,w=a!==null&&v!==null,_=w?b(v):null,x=w?y(v):null;return typeof document<"u"?za.createPortal(g.jsx("div",{className:"modal-overlay",onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:g.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),style:{background:"rgba(20, 20, 30, 0.95)",borderRadius:"12px",padding:0,minWidth:"400px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"},children:[g.jsx("div",{className:"modal-header",style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:g.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:600,color:"rgba(255, 255, 255, 0.9)"},children:"Price Range Configuration"})}),g.jsx("div",{className:"modal-body",style:{padding:"2rem 1.5rem"},children:g.jsxs("div",{className:"trading-test-price-range-controls",children:[g.jsxs("div",{children:[g.jsxs("label",{children:["Rounding Step ($):",g.jsx("input",{type:"number",value:p,onChange:S=>m(Math.max(1,parseFloat(S.target.value)||100)),min:1,step:10,className:"trading-test-input"})]}),g.jsxs("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:["Prices will be rounded to the nearest $",p]})]}),g.jsxs("div",{children:[g.jsxs("label",{children:["Min Price (USDC):",g.jsx("input",{type:"number",value:r,onChange:S=>{s(parseFloat(S.target.value)||1e4)},min:1e3,max:i-1e3,className:"trading-test-input",disabled:!w,title:w?`Auto-managed by mark price (mark price / 1.5, rounded to $${p})`:"Enter min price manually"})]}),w&&_!==null&&v!==null&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:l?g.jsxs(g.Fragment,{children:["Manual override (Auto:"," ",v.toLocaleString()," / 1.5 ="," ",_.toLocaleString(),")"]}):g.jsxs(g.Fragment,{children:["Auto: ",v.toLocaleString()," / 1.5 ="," ",r.toLocaleString()]})})]}),g.jsxs("div",{children:[g.jsxs("label",{children:["Max Price (USDC):",g.jsx("input",{type:"number",value:i,onChange:S=>{o(parseFloat(S.target.value)||1e5)},min:r+1e3,max:1e6,className:"trading-test-input",disabled:!w,title:w?`Auto-managed by mark price (mark price  1.5, rounded to $${p})`:"Enter max price manually"})]}),w&&v!==null&&x!==null&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:l?g.jsxs(g.Fragment,{children:["Manual override (Auto:"," ",v.toLocaleString(),"  1.5 ="," ",x.toLocaleString(),")"]}):g.jsxs(g.Fragment,{children:["Auto: ",v.toLocaleString(),"  1.5 ="," ",i.toLocaleString()]})}),!w&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:"Mark price not available. Enter prices manually."})]}),g.jsx("div",{children:g.jsxs("label",{children:["Order Mode:",g.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"trading-test-select",children:[g.jsx("option",{value:"random",children:"Random"}),g.jsx("option",{value:"curve",children:"Curve (Buy more at lower prices)"})]})]})}),u==="curve"&&g.jsx("div",{children:g.jsxs("label",{children:["Curve Intensity: ",h,g.jsx("input",{type:"range",value:h,onChange:S=>f(parseFloat(S.target.value)),min:1,max:5,step:.5,className:"trading-test-range"}),g.jsx("small",{children:"Higher = more aggressive buying at lower prices"})]})})]})}),g.jsxs("div",{className:"modal-footer",style:{padding:"1rem 1.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",gap:"1rem"},children:[l&&w&&g.jsx("button",{onClick:c,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(77, 171, 247, 0.2)",color:"rgba(255, 255, 255, 0.9)",cursor:"pointer"},children:"Reset to Auto"}),g.jsx("div",{style:{display:"flex",gap:"1rem",marginLeft:"auto"},children:g.jsx("button",{onClick:e,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)",cursor:"pointer"},children:"Close"})})]})]})}),document.body):null},iJe=({isOpen:n,onClose:e,testResults:r,onClearResults:i})=>{if(!n)return null;const s=r.filter(a=>a.success).length,o=r.filter(a=>!a.success).length;return typeof document<"u"?za.createPortal(g.jsx("div",{className:"test-results-modal-overlay",onClick:e,children:g.jsxs("div",{className:"test-results-modal-content",onClick:a=>a.stopPropagation(),children:[g.jsx("div",{className:"test-results-modal-header",children:g.jsx("h3",{children:"Batch Transaction Results"})}),g.jsxs("div",{className:"test-results-modal-body",children:[g.jsxs("div",{className:"test-results-modal-summary",children:[g.jsxs("div",{className:"test-results-modal-summary-text",children:[g.jsx("strong",{children:"Total:"})," ",r.length," |"," ",g.jsx("strong",{className:"success",children:"Success:"})," ",s," |"," ",g.jsx("strong",{className:"error",children:"Failed:"})," ",o]}),g.jsx("button",{onClick:i,className:"test-results-modal-clear-button",children:"Clear Results"})]}),g.jsx("div",{className:"test-results-modal-list",children:r.length===0?g.jsx("div",{className:"test-results-modal-empty",children:"No results to display"}):r.slice(-20).map((a,l)=>g.jsx("div",{className:`test-results-modal-item ${a.success?"success":"error"}`,children:g.jsxs("div",{className:"test-results-modal-item-content",children:[g.jsx("div",{className:"test-results-modal-item-header",children:g.jsxs("strong",{className:`test-results-modal-item-title ${a.success?"success":"error"}`,children:[a.success?"":""," Order @"," ",a.order.price.toFixed(2)," USDC"]})}),g.jsxs("div",{className:"test-results-modal-item-details",children:[g.jsxs("span",{children:["Amount: ",a.order.amount.toFixed(4)," BTC"]}),a.order.orderId&&g.jsxs("span",{children:["Order ID: ",a.order.orderId.substring(0,16),"..."]})]}),a.error&&g.jsxs("span",{className:"test-results-modal-error-text",children:["Error: ",a.error]})]})},l))})]}),g.jsx("div",{className:"test-results-modal-footer",children:g.jsx("button",{onClick:e,className:"test-results-modal-close-button",children:"Close"})})]})}),document.body):null},sJe=({onClick:n,disabled:e,orderMode:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-primary",style:{backgroundColor:e?"#ccc":"#007bff",cursor:e?"not-allowed":"pointer"},children:["Submit Test Orders (",r==="random"?"Random":"Curve-Based",")"]}),oJe=({onClick:n,disabled:e,orderCount:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-success",style:{backgroundColor:e?"#ccc":"#28a745",cursor:e?"not-allowed":"pointer"},children:["Submit Chart Orders (",r," orders)"]}),aJe=({onClick:n,disabled:e})=>g.jsx("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-secondary",style:{cursor:e?"not-allowed":"pointer"},children:"Reset Chart"}),lJe=({onClick:n,disabled:e,pendingCount:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-info",style:{backgroundColor:e?"#ccc":"#17a2b8",cursor:e?"not-allowed":"pointer"},children:["Load Pending Orders ",r>0&&`(${r})`]}),G3=({onClick:n,disabled:e,filter:r})=>{const i=r==="long"?"Cancel All Long":r==="short"?"Cancel All Short":"Cancel All Orders";return g.jsx("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-danger",style:{backgroundColor:e?"#ccc":"#dc3545",cursor:e?"not-allowed":"pointer"},children:i})};function cJe(){var Se,W,de,me;const[n,e]=A.useState(gp),[r,i]=A.useState(""),[s,o]=A.useState(""),[a,l]=A.useState(""),[c,u]=A.useState(1e4),[d,h]=A.useState(1e5),[f,p]=A.useState(null),[m,b]=A.useState("random"),[y,v]=A.useState(2),[w,_]=A.useState("long"),[x,S]=A.useState([]),[C,E]=A.useState([]),[T,M]=A.useState([]),[I,O]=A.useState(!1),[F,$]=A.useState(!1),[z,D]=A.useState(100),[j,N]=A.useState(!1),R=A.useRef(null),H=A.useRef(null),U=A.useRef(n),K=A.useRef(0),{markets:Y}=Ul({baseURL:n,sessionToken:"",autoFetchMarkets:!0}),{mnemonic:J,walletAddress:G,authToken:X,setMnemonic:ae}=pu(),{client:ge}=Gd(),{markPrice:le}=qC({subscriptionClient:ge,baseURL:n,marketId:r||"",disablePolling:!0}),{buckets:ie}=p9({subscriptionClient:ge,baseURL:n,authToken:a||"",walletAddress:G||"",refreshInterval:0,useWebSocket:!1,marketId:"0"}),[Te,Ee]=A.useState(!1);A.useEffect(()=>{if(le!=null&&le.mark_price&&!Te){const oe=le.mark_price;if(!isNaN(oe)&&oe>1e3){const pe=Math.round(oe*1.5/z)*z,ye=Math.round(oe/1.5/z)*z;ye>0&&pe>ye&&(u(ye),h(pe))}}},[le==null?void 0:le.mark_price,Te,z]),A.useEffect(()=>{J&&o(J),X&&l(X)},[J,X]);const{setAuthToken:V,setWalletAddress:Ie}=Gd();A.useEffect(()=>{V(a||void 0)},[a,V]),A.useEffect(()=>{Ie(G||void 0)},[G,Ie]);const Ye=Y.length>0?(((Se=Y.find(oe=>oe.active))==null?void 0:Se.market_id)??Y[0].market_id)||(((de=(W=Y.find(oe=>oe.active))==null?void 0:W.id)==null?void 0:de.toString())??((me=Y[0].id)==null?void 0:me.toString())??""):null;A.useEffect(()=>{Ye&&!r&&i(Ye)},[Ye]),A.useEffect(()=>{U.current=n},[n]),A.useEffect(()=>{s&&s.trim()!==""&&(R.current=new Zd({baseURL:U.current,mnemonic:s}),R.current.initialize().catch(oe=>{console.error("Failed to initialize ExchangeClient:",oe)}))},[s,n]),A.useEffect(()=>{H.current=new Cr({baseURL:U.current})},[n]),A.useEffect(()=>{if(!r||!H.current)return;const oe=async()=>{try{const ye=await H.current.getTicker(r);if(ye!=null&&ye.last_price){const Z=typeof ye.last_price=="string"?parseFloat(ye.last_price):ye.last_price;p(Z)}}catch(ye){console.error("Failed to fetch current price:",ye)}};oe();const pe=setInterval(oe,5e3);return()=>clearInterval(pe)},[r]);const nt=A.useCallback(oe=>{const pe=[];for(let ye=0;ye<oe;ye++){const Z=c+Math.random()*(d-c),ue=.001+Math.random()*.01;pe.push({price:Z,amount:ue})}return pe.sort((ye,Z)=>ye.price-Z.price)},[c,d]),Ue=A.useCallback(oe=>{const pe=[],ye=d-c;for(let Z=0;Z<oe;Z++){const ue=Math.random(),ce=Math.pow(ue,y),Ce=c+ce*ye,he=.001+(d-Ce)/ye*.02;pe.push({price:Ce,amount:he})}return pe.sort((Z,ue)=>Z.price-ue.price)},[c,d,y]),mt=A.useCallback(async()=>{if(!R.current||!r||!G){pt.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}if(!ie||ie.length===0){pt.error("No buckets available",{description:"Please create a bucket first before placing orders."});return}const pe=ie[0].bucketId;if(!pe){pt.error("Bucket ID not found",{description:"Bucket ID is required for order placement."});return}O(!0);const ye=[];try{const ue=m==="random"?nt(10):Ue(10),ce=pt.info("Submitting test orders",{description:`Submitting ${ue.length} ${m} orders...`});K.current=typeof ce=="number"?ce:0;for(const Re of ue){try{const Pe=_n("1"),_e=await R.current.placeOrder({marketId:r,bucketId:pe,side:w==="long"?"buy":"sell",orderType:"LIMIT",price:Re.price,quantity:Re.amount,timeInForce:"GTC",leverage:Pe});ye.push({success:!0,order:{price:Re.price,amount:Re.amount,orderId:_e==null?void 0:_e.order_id},timestamp:Date.now()})}catch(he){ye.push({success:!1,order:{price:Re.price,amount:Re.amount},error:he.message,timestamp:Date.now()})}await new Promise(he=>setTimeout(he,200))}M(Re=>[...Re,...ye]),K.current!==0&&(pt.dismiss(K.current),K.current=0);const Ce=ye.filter(Re=>Re.success).length;pt.success("Test orders submitted",{description:`${Ce}/${ye.length} orders placed successfully.`}),N(!0)}catch(Z){K.current!==0&&(pt.dismiss(K.current),K.current=0),pt.error("Test submission failed",{description:Z.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,m,w,nt,Ue,ie]),He=A.useCallback(async()=>{if(!R.current||!r||!G){pt.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}if(x.length===0){pt.warning("No chart orders",{description:"Please add orders to the chart first."});return}if(!ie||ie.length===0){pt.error("No buckets available",{description:"Please create a bucket first before placing orders."});return}const pe=ie[0].bucketId;if(!pe){pt.error("Bucket ID not found",{description:"Bucket ID is required for order placement."});return}O(!0);const ye=[];try{const Z=pt.info("Submitting chart orders",{description:`Submitting ${x.length} chart orders...`});K.current=typeof Z=="number"?Z:0;for(const ce of x){try{const Re=_n("1"),he=await R.current.placeOrder({marketId:r,bucketId:pe,side:ce.side==="short"||ce.side==="sell"?"sell":"buy",orderType:"LIMIT",price:ce.price,quantity:ce.amount,timeInForce:"GTC",leverage:Re});ye.push({success:!0,order:{price:ce.price,amount:ce.amount,orderId:he==null?void 0:he.order_id},timestamp:Date.now()})}catch(Ce){ye.push({success:!1,order:{price:ce.price,amount:ce.amount},error:Ce.message,timestamp:Date.now()})}await new Promise(Ce=>setTimeout(Ce,200))}M(ce=>[...ce,...ye]),K.current!==0&&(pt.dismiss(K.current),K.current=0);const ue=ye.filter(ce=>ce.success).length;pt.success("Chart orders submitted",{description:`${ue}/${ye.length} orders placed successfully.`}),S([]),Ne(),N(!0)}catch(Z){K.current!==0&&(pt.dismiss(K.current),K.current=0),pt.error("Chart order submission failed",{description:Z.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,x,ie]),xe=A.useCallback(()=>{S([]),pt.info("Chart reset",{description:"All chart orders have been cleared."})},[]),Ve=A.useCallback((oe,pe)=>{const ye={price:oe,amount:pe,id:`chart-${Date.now()}-${Math.random()}`,side:w};S(Z=>[...Z,ye])},[w]),Oe=A.useCallback(oe=>{S(pe=>pe.filter(ye=>ye.id!==oe)),E(pe=>pe.filter(ye=>ye.id!==oe))},[]),Ne=A.useCallback(async()=>{if(!H.current||!G||!r){pt.error("Setup required",{description:"Please ensure wallet address and market ID are configured."});return}try{pt.info("Loading pending orders...");const oe=await H.current.getOrders(G),pe=(oe==null?void 0:oe.orders)||[];console.log(oe);const ye=pe.filter(Z=>{const ue=Z.market_id,ce=(Z.status||"").toUpperCase();return ue===r&&["ORDER_STATUS_PENDING","ORDER_STATUS_OPEN","PENDING","OPEN","NEW","PARTIALLY_FILLED"].includes(ce)}).map(Z=>{const Ce=(Z.side||"").toUpperCase().includes("BUY")?"long":"short";return{price:It(Z.price),amount:It(Z.quantity),id:`pending-${Z.order_id}`,side:Ce,orderId:Z.order_id,isPending:!0}});E(ye),pt.success("Pending orders loaded",{description:`Loaded ${ye.length} pending orders.`})}catch(oe){pt.error("Failed to load pending orders",{description:oe.message||"Unknown error occurred"})}},[G,r]),Ae=A.useCallback(async oe=>{if(!R.current||!H.current||!r||!G){pt.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}try{const pe=await H.current.getOrders(G),Z=((pe==null?void 0:pe.orders)||[]).filter(Ce=>{const Re=Ce.market_id,he=(Ce.status||"").toUpperCase();if(Re!==r||!["ORDER_STATUS_PENDING","ORDER_STATUS_OPEN","PENDING","OPEN","NEW","PARTIALLY_FILLED"].includes(he))return!1;if(oe==="all")return!0;const _e=(Ce.side||"").toUpperCase(),re=_e.includes("BUY"),ne=_e.includes("SELL");return oe==="long"?re:oe==="short"?ne:!1});if(Z.length===0){pt.info("No orders to cancel",{description:`No ${oe} pending orders found.`});return}O(!0),pt.info("Canceling orders",{description:`Canceling ${Z.length} ${oe} orders...`});let ue=0,ce=0;for(const Ce of Z){try{const Re=Ce.order_id;await R.current.cancelOrder({orderId:Re,marketId:r}),ue++}catch(Re){ce++,console.error("Failed to cancel order:",Re)}await new Promise(Re=>setTimeout(Re,100))}await Ne(),pt.success("Orders canceled",{description:`${ue} orders canceled successfully${ce>0?`, ${ce} failed`:""}.`})}catch(pe){pt.error("Failed to cancel orders",{description:pe.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,Ne]);return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"Trading QA"}),g.jsx("p",{children:"Advanced trading test with price range, interactive chart, and multiple submission modes"}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"trading-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:oe=>e(oe.target.value),className:"trading-test-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:oe=>i(oe.target.value),className:"trading-test-select",children:Y.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),Y.map(oe=>{var Z;const pe=oe.market_id??((Z=oe.id)==null?void 0:Z.toString())??"",ye=oe.moniker?oe.moniker:oe.symbol?oe.symbol:`Market ID: ${pe}`;return g.jsx("option",{value:pe,children:ye},pe)})]})})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic:",g.jsx("input",{type:"text",value:s,onChange:oe=>{o(oe.target.value),ae(oe.target.value)},placeholder:"Enter mnemonic",className:"trading-test-input"})]})}),f&&g.jsxs("div",{className:"trading-test-price-display",children:[g.jsx("strong",{children:"Current Price:"})," ",f.toLocaleString()," ","USDC"]})]})]}),g.jsxs("div",{className:"trading-test-tabs",children:[g.jsx("button",{className:`trading-test-tab ${w==="long"?"active":""}`,onClick:()=>_("long"),children:"Long (Buy)"}),g.jsx("button",{className:`trading-test-tab ${w==="short"?"active":""}`,onClick:()=>_("short"),children:"Short (Sell)"})]}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Interactive Price-Amount Chart"}),g.jsx("div",{className:"trading-test-chart-controls",children:g.jsxs("div",{className:"trading-test-chart-info",children:[g.jsxs("span",{children:["Orders on chart: ",x.length]}),g.jsxs("span",{onClick:()=>$(!0),style:{cursor:"pointer",textDecoration:"underline"},title:"Click to configure price range",children:["Price range: ",c.toLocaleString()," -"," ",d.toLocaleString()," USDC"]})]})}),g.jsx(nJe,{minPrice:c,maxPrice:d,orders:x,pendingOrders:C,onAddOrder:Ve,onRemoveOrder:Oe,currentPrice:f,markPrice:le!=null&&le.mark_price?le.mark_price:null}),g.jsxs("div",{className:"price-amount-chart-instructions",children:[g.jsx("p",{children:"Click on the chart to add orders. Click on existing orders to remove them."}),g.jsx("p",{children:"Y-axis: Price (USDC) | X-axis: Amount (BTC)"})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Order Submission"}),g.jsxs("div",{className:"trading-test-submission-buttons",children:[g.jsx(aJe,{onClick:xe,disabled:x.length===0}),g.jsx(sJe,{onClick:mt,disabled:I||!r||!G,orderMode:m}),g.jsx(oJe,{onClick:He,disabled:I||x.length===0||!r||!G,orderCount:x.length})]}),g.jsx("h2",{children:"Pending Orders Management"}),g.jsxs("div",{className:"trading-test-pending-orders-controls",children:[g.jsx(lJe,{onClick:Ne,disabled:!r||!G,pendingCount:C.length}),g.jsxs("div",{className:"trading-test-cancel-buttons",children:[g.jsx(G3,{onClick:()=>Ae("long"),disabled:I||!r||!G,filter:"long"}),g.jsx(G3,{onClick:()=>Ae("short"),disabled:I||!r||!G,filter:"short"}),g.jsx(G3,{onClick:()=>Ae("all"),disabled:I||!r||!G,filter:"all"})]})]})]}),T.length>0&&g.jsxs("div",{className:"trading-test-results",style:{display:"none"},children:[g.jsx("h2",{children:"Test Results"}),g.jsxs("div",{className:"trading-test-results-summary",children:[g.jsxs("div",{children:["Total: ",T.length," | Success:"," ",T.filter(oe=>oe.success).length," | Failed:"," ",T.filter(oe=>!oe.success).length]}),g.jsx("button",{onClick:()=>M([]),className:"trading-test-button-secondary",children:"Clear Results"})]}),g.jsx("div",{className:"trading-test-results-list",children:T.slice(-20).map((oe,pe)=>g.jsx("div",{className:`trading-test-result-item ${oe.success?"success":"error"}`,children:g.jsxs("div",{children:[g.jsxs("strong",{children:[oe.success?"":""," Order @"," ",oe.order.price.toFixed(2)," USDC"]}),g.jsxs("span",{children:["Amount: ",oe.order.amount.toFixed(4)," BTC"]}),oe.order.orderId&&g.jsxs("span",{children:["Order ID: ",oe.order.orderId.substring(0,16),"..."]}),oe.error&&g.jsx("span",{className:"error-text",children:oe.error})]})},pe))})]}),g.jsx(rJe,{isOpen:F,onClose:()=>$(!1),minPrice:c,maxPrice:d,onMinPriceChange:oe=>{u(oe),Ee(!0)},onMaxPriceChange:oe=>{h(oe),Ee(!0)},markPrice:le||null,hasManualPriceChange:Te,onResetToAuto:()=>{if(le!=null&&le.mark_price){const oe=le.mark_price;if(!isNaN(oe)&&oe>1e3){Ee(!1);const pe=Math.round(oe*1.5/z)*z,ye=Math.round(oe/1.5/z)*z;ye>0&&pe>ye&&(u(ye),h(pe))}}},orderMode:m,onOrderModeChange:b,curveIntensity:y,onCurveIntensityChange:v,roundingStep:z,onRoundingStepChange:D}),g.jsx(iJe,{isOpen:j,onClose:()=>N(!1),testResults:T,onClearResults:()=>{M([]),N(!1)}})]})}function uJe(){return g.jsx(y9,{defaultWsURL:eh,children:g.jsx(cJe,{})})}const N_=[{symbol:"ETH",name:"Ethereum",address:"ETH",decimals:18},{symbol:"BTC",name:"Bitcoin",address:"BTC",decimals:8},{symbol:"USDC",name:"USD Coin",address:"USDC",decimals:6},{symbol:"USDT",name:"Tether",address:"USDT",decimals:6},{symbol:"DAI",name:"Dai Stablecoin",address:"DAI",decimals:18}];function dJe(){const[n,e]=A.useState(gp),[r,i]=A.useState(N_[0]),[s,o]=A.useState(N_[2]),[a,l]=A.useState(""),[c,u]=A.useState(""),[d,h]=A.useState(!1),[f,p]=A.useState(!1),[m,b]=A.useState(!1),[y,v]=A.useState(.5),[w,_]=A.useState(null),[x,S]=A.useState(""),C=A.useRef(null),E=A.useRef(n),{mnemonic:T,walletAddress:M,setMnemonic:I}=pu();A.useEffect(()=>{E.current=n},[n]),A.useEffect(()=>{T&&T.trim()!==""&&(C.current=new Zd({baseURL:E.current,mnemonic:T}),C.current.initialize().catch(D=>{console.error("Failed to initialize ExchangeClient:",D)}))},[T,n]),A.useEffect(()=>{if(a&&parseFloat(a)>0&&r&&s){const j=parseFloat(a)*1;u(j.toFixed(6)),S(`1 ${r.symbol} = ${1 .toFixed(4)} ${s.symbol}`),_(.1)}else u(""),S(""),_(null)},[a,r,s]);const O=A.useCallback(()=>{const D=r;i(s),o(D);const j=a;l(c),u(j)},[r,s,a,c]),F=A.useCallback(async()=>{if(!C.current||!r||!s||!a){pt.error("Setup required",{description:"Please ensure mnemonic and swap details are configured."});return}if(parseFloat(a)<=0){pt.error("Invalid amount",{description:"Please enter a valid amount to swap."});return}if(!M){pt.error("Wallet required",{description:"Please connect your wallet first."});return}b(!0);try{const D=parseFloat(a),N=parseFloat(c)*(1-y/100),R=pt.info("Swapping tokens",{description:`Swapping ${a} ${r.symbol} for ${s.symbol}...`});await C.current.swap({fromToken:r.address,toToken:s.address,amountIn:D,minAmountOut:N}),pt.dismiss(R),pt.success("Swap successful",{description:`Successfully swapped ${a} ${r.symbol} for ${s.symbol}`}),l(""),u("")}catch(D){pt.error("Swap failed",{description:D.message||"Unknown error occurred"})}finally{b(!1)}},[r,s,a,c,y,M]),$=A.useMemo(()=>!!r&&!!s&&!!a&&parseFloat(a)>0&&!!M&&!m&&r.symbol!==s.symbol,[r,s,a,M,m]),z=D=>({ETH:"",BTC:"",USDC:"$",USDT:"$",DAI:""})[D]||"";return g.jsxs("div",{className:"App-content-row",children:[g.jsxs("div",{className:"swap-test-header",children:[g.jsx("h1",{children:"Swap"}),g.jsx("p",{className:"swap-test-subtitle",children:"Swap anytime, anywhere"})]}),g.jsxs("div",{className:"App-section swap-config-section",children:[g.jsx("h3",{children:"Configuration"}),g.jsxs("div",{className:"swap-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:D=>e(D.target.value),className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic:",g.jsx("input",{type:"text",value:T||"",onChange:D=>I(D.target.value),placeholder:"Enter mnemonic",className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:M||"",disabled:!0,placeholder:"Auto-generated from mnemonic",className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Slippage Tolerance (%):",g.jsx("input",{type:"number",value:y,onChange:D=>v(parseFloat(D.target.value)||.5),min:"0",max:"50",step:"0.1",className:"swap-input"})]})})]})]}),g.jsxs("div",{className:"swap-container",children:[g.jsxs("div",{className:"swap-card",children:[g.jsxs("div",{className:"swap-token-section",children:[g.jsx("div",{className:"swap-token-label",children:"Sell"}),g.jsxs("div",{className:"swap-token-input-group",children:[g.jsx("input",{type:"number",className:"swap-amount-input",placeholder:"0",value:a,onChange:D=>l(D.target.value),min:"0",step:"any"}),g.jsxs("div",{className:"swap-token-selector-wrapper",children:[g.jsx("button",{className:"swap-token-selector",onClick:()=>{h(!d),p(!1)},children:r?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"swap-token-icon",children:z(r.symbol)}),g.jsx("span",{className:"swap-token-symbol",children:r.symbol}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Select token"}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]})}),d&&g.jsx("div",{className:"swap-token-dropdown",children:N_.map(D=>g.jsxs("button",{className:"swap-token-option",onClick:()=>{D.address===(s==null?void 0:s.address)?O():(i(D),h(!1))},children:[g.jsx("span",{className:"swap-token-icon",children:z(D.symbol)}),g.jsxs("div",{className:"swap-token-option-info",children:[g.jsx("span",{className:"swap-token-option-symbol",children:D.symbol}),g.jsx("span",{className:"swap-token-option-name",children:D.name})]})]},D.address))})]})]}),a&&parseFloat(a)>0&&g.jsxs("div",{className:"swap-token-value",children:["$",(parseFloat(a)*1).toFixed(2)]})]}),g.jsx("div",{className:"swap-button-container",children:g.jsx("button",{className:"swap-button-middle",onClick:O,"aria-label":"Swap tokens",children:g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M4 6L8 2L12 6M12 10L8 14L4 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),g.jsxs("div",{className:"swap-token-section",children:[g.jsx("div",{className:"swap-token-label",children:"Buy"}),g.jsxs("div",{className:"swap-token-input-group",children:[g.jsx("input",{type:"number",className:"swap-amount-input",placeholder:"0",value:c,onChange:D=>u(D.target.value),min:"0",step:"any",readOnly:!0}),g.jsxs("div",{className:"swap-token-selector-wrapper",children:[g.jsx("button",{className:"swap-token-selector",onClick:()=>{p(!f),h(!1)},children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"swap-token-icon",children:z(s.symbol)}),g.jsx("span",{className:"swap-token-symbol",children:s.symbol}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Select token"}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]})}),f&&g.jsx("div",{className:"swap-token-dropdown",children:N_.map(D=>g.jsxs("button",{className:"swap-token-option",onClick:()=>{D.address===(r==null?void 0:r.address)?O():(o(D),p(!1))},children:[g.jsx("span",{className:"swap-token-icon",children:z(D.symbol)}),g.jsxs("div",{className:"swap-token-option-info",children:[g.jsx("span",{className:"swap-token-option-symbol",children:D.symbol}),g.jsx("span",{className:"swap-token-option-name",children:D.name})]})]},D.address))})]})]}),c&&parseFloat(c)>0&&g.jsxs("div",{className:"swap-token-value",children:["$",(parseFloat(c)*1).toFixed(2)]})]}),x&&g.jsxs("div",{className:"swap-info",children:[g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Exchange Rate"}),g.jsx("span",{children:x})]}),w!==null&&g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Price Impact"}),g.jsxs("span",{className:w>1?"swap-warning":"",children:[w.toFixed(2),"%"]})]}),g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Slippage Tolerance"}),g.jsxs("span",{children:[y,"%"]})]})]}),g.jsx("button",{className:"swap-button-primary",onClick:F,disabled:!$,children:M?m?"Swapping...":(r==null?void 0:r.symbol)===(s==null?void 0:s.symbol)?"Select different tokens":!a||parseFloat(a)<=0?"Enter amount":"Swap":"Connect Wallet"})]}),g.jsx("div",{className:"swap-footer",children:g.jsx("p",{children:"Buy and sell crypto on 16+ networks including"})})]})]})}const Uu=({onClick:n,disabled:e=!1,variant:r="primary",children:i})=>g.jsx("button",{className:`explorer-button ${r}`,onClick:n,disabled:e,children:i}),hJe=({wsURL:n,setWsURL:e,authToken:r,setAuthToken:i,deviceID:s,setDeviceID:o,shardId:a,setShardId:l,eventType:c,setEventType:u,txAddress:d,setTxAddress:h,txHash:f,setTxHash:p,txTypes:m,setTxTypes:b,txEventTypes:y,setTxEventTypes:v})=>g.jsxs("div",{className:"config-section",children:[g.jsx("h3",{children:"Configuration"}),g.jsxs("div",{className:"config-grid",children:[g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"ws-url",children:"WebSocket URL"}),g.jsx("input",{id:"ws-url",type:"text",value:n,onChange:w=>e(w.target.value),placeholder:"ws://localhost:8080/ws"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"auth-token",children:"Auth Token (optional)"}),g.jsx("input",{id:"auth-token",type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"JWT token"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"device-id",children:"Device ID"}),g.jsx("input",{id:"device-id",type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"device-id"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"shard-id",children:"Shard ID (optional filter)"}),g.jsx("input",{id:"shard-id",type:"text",value:a,onChange:w=>l(w.target.value),placeholder:"e.g., 1, 2, 3"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"event-type",children:"Event Type (optional filter for consensus_flat)"}),g.jsx("input",{id:"event-type",type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"e.g., new_vertex, new_tx, validator_update"})]})]}),g.jsxs("div",{className:"config-section-divider",children:[g.jsx("h4",{children:"Transaction Channel Filters"}),g.jsxs("div",{className:"config-grid",children:[g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-address",children:"Address (optional filter)"}),g.jsx("input",{id:"tx-address",type:"text",value:d,onChange:w=>h(w.target.value),placeholder:"0x..."})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-hash",children:"Transaction Hash (optional filter)"}),g.jsx("input",{id:"tx-hash",type:"text",value:f,onChange:w=>p(w.target.value),placeholder:"0x..."})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-types",children:"Transaction Types (optional filter)"}),g.jsx("input",{id:"tx-types",type:"text",value:m,onChange:w=>b(w.target.value),placeholder:"e.g., order, transfer, deposit (comma-separated)"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-event-types",children:"Event Types (optional filter)"}),g.jsx("input",{id:"tx-event-types",type:"text",value:y,onChange:w=>v(w.target.value),placeholder:"e.g., new_tx, tx_confirmed (comma-separated)"})]})]})]})]}),fJe=({message:n})=>{const{event:e,timestamp:r,type:i,eventSource:s}=n,o=u=>"data"in u&&u.data&&typeof u.data=="object"&&("hash"in u.data||"txhash"in u.data),a=u=>"data"in u&&u.data&&typeof u.data=="object"&&"type"in u.data,l=()=>{if(o(e))return g.jsx(yJe,{event:e});if(a(e)){const{data:u}=e;switch(u.type){case"vertex":return g.jsx(pJe,{data:u});case"tx":return g.jsx(mJe,{data:u});case"unconfirmed_tx":return g.jsx(gJe,{data:u});case"validator":return g.jsx(bJe,{data:u});default:return g.jsx(kG,{data:u})}}return g.jsx(kG,{data:e})},c=o(e)?e.source_shard||"unknown":e.source_shard;return g.jsxs("div",{className:`consensus-event-item ${i}`,children:[g.jsx("div",{className:"event-header",children:g.jsxs("div",{className:"event-meta",children:[g.jsx("span",{className:"event-type-badge",children:e.event_type}),s&&g.jsx("span",{className:"event-source-badge",children:s}),g.jsx("span",{className:"event-time",children:new Date(r).toLocaleString()}),g.jsxs("span",{className:"event-shard",children:["Shard: ",c]})]})}),g.jsxs("div",{className:"event-body",children:[a(e)&&g.jsxs("div",{className:"event-data-type",children:[g.jsx("strong",{children:"Data Type:"})," ",e.data.type]}),l(),g.jsxs("details",{className:"raw-data-details",children:[g.jsx("summary",{children:"View Raw JSON"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(e,null,2)})]})]})]})},pJe=({data:n})=>g.jsxs("div",{className:"event-details vertex-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"ID:"}),g.jsx("span",{className:"detail-value",children:n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]}),n.parent_ids&&n.parent_ids.length>0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parent IDs:"}),g.jsx("span",{className:"detail-value",children:n.parent_ids.join(", ")})]}),n.tx_count!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Count:"}),g.jsx("span",{className:"detail-value",children:n.tx_count})]}),n.state_root&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"State Root:"}),g.jsx("span",{className:"detail-value",children:n.state_root})]}),n.qc_achieved!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"QC Achieved:"}),g.jsx("span",{className:"detail-value",children:n.qc_achieved?"Yes":"No"})]}),n.qc_vote_count!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"QC Vote Count:"}),g.jsx("span",{className:"detail-value",children:n.qc_vote_count})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),mJe=({data:n})=>g.jsxs("div",{className:"event-details tx-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Hash:"}),g.jsx("span",{className:"detail-value",children:n.txhash||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]}),n.from_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"From:"}),g.jsx("span",{className:"detail-value",children:n.from_address})]}),n.to_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"To:"}),g.jsx("span",{className:"detail-value",children:n.to_address})]}),n.amount&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Amount:"}),g.jsx("span",{className:"detail-value",children:n.amount})]}),n.tx_type&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Type:"}),g.jsx("span",{className:"detail-value",children:n.tx_type})]}),n.nonce!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Nonce:"}),g.jsx("span",{className:"detail-value",children:n.nonce})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),gJe=({data:n})=>g.jsxs("div",{className:"event-details unconfirmed-tx-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Hash:"}),g.jsx("span",{className:"detail-value",children:n.txhash||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value status-pending",children:n.status})]}),n.from_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"From:"}),g.jsx("span",{className:"detail-value",children:n.from_address})]}),n.to_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"To:"}),g.jsx("span",{className:"detail-value",children:n.to_address})]}),n.amount&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Amount:"}),g.jsx("span",{className:"detail-value",children:n.amount})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),bJe=({data:n})=>g.jsxs("div",{className:"event-details validator-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Validator ID:"}),g.jsx("span",{className:"detail-value",children:n.validator_id||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.validator_status||n.status})]}),n.voting_power!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Voting Power:"}),g.jsx("span",{className:"detail-value",children:n.voting_power})]}),n.public_key&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Public Key:"}),g.jsx("span",{className:"detail-value public-key",children:n.public_key})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),yJe=({event:n})=>{const{data:e}=n;return g.jsxs("div",{className:"event-details transaction-event-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Hash:"}),g.jsx("span",{className:"detail-value",children:e.hash||e.txhash||"N/A"})]}),e.vertex_hash&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Vertex Hash:"}),g.jsx("span",{className:"detail-value",children:e.vertex_hash})]}),e.status&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:e.status})]}),e.shard_id!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:e.shard_id})]}),e.dag_depth!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"DAG Depth:"}),g.jsx("span",{className:"detail-value",children:e.dag_depth})]}),e.consensus_round!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Consensus Round:"}),g.jsx("span",{className:"detail-value",children:e.consensus_round})]}),e.code!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Code:"}),g.jsx("span",{className:"detail-value",children:e.code})]}),e.info&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Info:"}),g.jsx("span",{className:"detail-value",children:e.info})]}),e.raw_log&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Raw Log:"}),g.jsx("span",{className:"detail-value",children:e.raw_log})]}),e.transaction_index!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Transaction Index:"}),g.jsx("span",{className:"detail-value",children:e.transaction_index})]}),e.consensus_version&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Consensus Version:"}),g.jsx("span",{className:"detail-value",children:e.consensus_version})]}),e.parent_vertices&&e.parent_vertices.length>0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parent Vertices:"}),g.jsx("span",{className:"detail-value",children:e.parent_vertices.join(", ")})]}),n.event_time&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Event Time:"}),g.jsx("span",{className:"detail-value",children:typeof n.event_time=="number"?new Date(n.event_time*1e3).toLocaleString():typeof n.event_time=="object"&&"seconds"in n.event_time?new Date(n.event_time.seconds*1e3).toLocaleString():"N/A"})]})]})},kG=({data:n})=>g.jsxs("div",{className:"event-details generic-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"ID:"}),g.jsx("span",{className:"detail-value",children:n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Type:"}),g.jsx("span",{className:"detail-value",children:n.type})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]})]}),vJe=({isOpen:n,onClose:e,event:r})=>(A.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),A.useEffect(()=>{const i=s=>{s.key==="Escape"&&n&&e()};return n&&window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[n,e]),!n||!r?null:typeof document<"u"?za.createPortal(g.jsx("div",{className:"event-modal-overlay",onClick:e,children:g.jsxs("div",{className:"event-modal",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"event-modal-header",children:[g.jsx("h3",{className:"event-modal-title",children:"Event Details"}),g.jsx("button",{className:"event-modal-close-button",onClick:e,children:""})]}),g.jsx("div",{className:"event-modal-body",children:g.jsx(fJe,{message:r})})]})}),document.body):null),wJe=n=>{if("data"in n&&n.data&&typeof n.data=="object"){const e=n.data;if("hash"in e&&e.hash)return e.hash;if("txhash"in e&&e.txhash)return e.txhash;if("id"in e&&e.id)return e.id}if("data"in n&&n.data&&typeof n.data=="object"){const e=n.data;if("id"in e&&e.id)return e.id;if("txhash"in e&&e.txhash)return e.txhash}return"N/A"},xJe=({events:n})=>{const[e,r]=A.useState(null),[i,s]=A.useState(!1),o=l=>{r(l),s(!0)},a=()=>{s(!1),r(null)};return n.length===0?g.jsx("div",{className:"consensus-event-list empty",children:g.jsx("p",{children:"No events received yet. Connect and subscribe to start receiving consensus events."})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"consensus-event-list",children:[g.jsx("div",{className:"event-list-header",children:g.jsxs("h3",{children:["Consensus Events (",n.length,")"]})}),g.jsxs("div",{className:"event-list-table",children:[g.jsxs("div",{className:"event-list-table-header",children:[g.jsx("div",{className:"event-list-table-cell hash-column",children:"Hash"}),g.jsx("div",{className:"event-list-table-cell time-column",children:"Time"}),g.jsx("div",{className:"event-list-table-cell type-column",children:"Type"})]}),g.jsx("div",{className:"event-list-table-body",children:n.map(l=>{const c=wJe(l.event),u=new Date(l.timestamp).toLocaleString(),d=l.event.event_type||"unknown";return g.jsxs("div",{className:"event-list-table-row",onClick:()=>o(l),children:[g.jsx("div",{className:"event-list-table-cell hash-column",title:c,children:c.length>20?`${c.substring(0,20)}...`:c}),g.jsx("div",{className:"event-list-table-cell time-column",children:u}),g.jsx("div",{className:"event-list-table-cell type-column",children:g.jsx("span",{className:`event-type-badge ${l.type}`,children:d})})]},l.id)})})]})]}),g.jsx(vJe,{isOpen:i,onClose:a,event:e})]})};function _Je(n){return n.type==="vertex"}function CG(n){return n.type==="tx"}function SJe(n){return n.type==="unconfirmed_tx"}function EG(){return{vertexMap:new Map,txMap:new Map,parentToChildren:new Map,orphanMap:new Map}}function AG(n){n.vertexMap.clear(),n.txMap.clear(),n.parentToChildren.clear(),n.orphanMap.clear()}const kJe=3e4,CJe=1e3;function EJe(n,e){var r;for(const[i,s]of e.orphanMap.entries())(r=s.parent_ids)!=null&&r.includes(n.id)&&(e.parentToChildren.has(n.id)||e.parentToChildren.set(n.id,new Set),e.parentToChildren.get(n.id).add(i),e.orphanMap.delete(i));if(n.parent_ids&&n.parent_ids.length>0&&!n.parent_ids.every(s=>e.vertexMap.has(s))){if(e.orphanMap.size>=CJe){const s=e.orphanMap.keys().next().value;s&&(e.orphanMap.delete(s),console.warn(`[dagUtils] Orphan buffer full, evicted: ${s}`))}e.orphanMap.set(n.id,n),console.warn(`[dagUtils] Orphaned vertex detected: ${n.id}`)}}function AJe(n,e=kJe){for(const[r]of n.orphanMap.entries())console.warn(`[dagUtils] Orphan timeout: ${r} - marking as missing parent`),n.orphanMap.delete(r)}const TJe=3e4;function PJe(n,e,r){const i=TJe;let s=null;for(const[o,a]of r.vertexMap.entries()){if(a.shardId!==n.shard_id)continue;const l=Math.abs(a.timestamp-e);l<i&&(!s||l<s.timeDiff)&&(s={vertexId:o,timeDiff:l})}return(s==null?void 0:s.vertexId)||null}function IJe(n,e){const{data:r,event_time:i}=n;if(_Je(r)){const s=r.parent_ids||[],o={id:r.id,type:"vertex",timestamp:i||r.timestamp,parents:s,children:[],data:r,shardId:r.shard_id};e.vertexMap.set(r.id,o),s.forEach(l=>{e.parentToChildren.has(l)||e.parentToChildren.set(l,new Set),e.parentToChildren.get(l).add(r.id)});const a=e.parentToChildren.get(r.id);return a&&(o.children=Array.from(a)),EJe(r,e),o}else if(CG(r)||SJe(r)){const s={id:r.id||r.txhash||`tx-${Date.now()}`,type:CG(r)?"tx":"unconfirmed_tx",timestamp:i||r.timestamp,parents:[],children:[],data:r,shardId:r.shard_id};e.txMap.set(s.id,s);const o=PJe(r,s.timestamp,e);if(o){const a=e.vertexMap.get(o);a&&(s.vertexId=o,s.parents=a.parents)}return s}return null}function MJe(n){for(const e of[...n.vertexMap.values(),...n.txMap.values()]){const r=n.parentToChildren.get(e.id);e.children=r?Array.from(r):[]}}function OJe(n,e){const r=IJe(n,e);return r?(MJe(e),{id:r.id,timestamp:r.timestamp,parents:r.parents,children:r.children,data:r.data,nodeType:r.type,shardId:r.shardId}):null}class DJe{constructor(e=500){ze(this,"timeoutId",null);ze(this,"accumulatedMessages",[]);ze(this,"waitMs");this.waitMs=e}add(e,r,i){this.accumulatedMessages.push(...e),this.timeoutId!==null&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{const s=this.accumulatedMessages.map(o=>OJe(o,r)).filter(o=>o!==null);this.accumulatedMessages=[],i(s),this.timeoutId=null},this.waitMs)}cancel(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.accumulatedMessages=[]}}const RJe=new DJe(500);function NJe(n,e,r){RJe.add(n,e,r)}function jJe(n){const e=new Map,r=i=>{if(e.has(i.id))return e.get(i.id);if(i.parents.length===0)return e.set(i.id,"root"),"root";const o=i.parents.map(a=>{const l=n.find(c=>c.id===a);return l?e.get(a)||r(l):null}).filter(a=>a!==null).join("-")||"root";return e.set(i.id,o),o};return n.map(i=>{const s=r(i),o=i.nodeType==="vertex"?"V":i.nodeType==="tx"?"TX":"UTX",a=i.id.length>8?i.id.slice(0,8)+"...":i.id;return{id:i.id,content:`${o} ${a}`,start:new Date(i.timestamp*1e3),group:s,title:`${i.nodeType} | Parents: ${i.parents.length} | Children: ${i.children.length} | Shard: ${i.shardId}`,className:`dag-node-${i.nodeType}`}})}function BJe(n,e,r=5){if(!e)return n.length>100?{nodes:[],links:[]}:{nodes:n.map(c=>({id:c.id,label:`${c.nodeType==="vertex"?"V":"TX"} ${c.id.slice(0,8)}`,type:c.nodeType,shardId:c.shardId})),links:n.flatMap(c=>c.children.map(u=>({source:c.id,target:u})))};const i=new Set,s=[{id:e,depth:0}],o=[],a=[],l=new Set;for(;s.length>0;){const{id:c,depth:u}=s.shift();if(i.has(c)||u>r)continue;i.add(c);const d=n.find(h=>h.id===c);if(d){if(!l.has(c)){const h=d.nodeType==="vertex"?"V":"TX",f=d.id.length>8?d.id.slice(0,8)+"...":d.id;o.push({id:d.id,label:`${h} ${f}`,type:d.nodeType,shardId:d.shardId}),l.add(c)}d.children.forEach(h=>{a.push({source:c,target:h}),i.has(h)||s.push({id:h,depth:u+1})}),d.parents.forEach(h=>{if(a.push({source:h,target:c}),!l.has(h)){const f=n.find(p=>p.id===h);if(f){const p=f.nodeType==="vertex"?"V":"TX",m=f.id.length>8?f.id.slice(0,8)+"...":f.id;o.push({id:f.id,label:`${p} ${m}`,type:f.nodeType,shardId:f.shardId}),l.add(h)}}i.has(h)||s.push({id:h,depth:u+1})})}}return{nodes:o,links:a}}/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.5.0
 * @date    2025-12-12T13:44:42.806Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function hs(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var LJe=`.vis .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Must be displayed above for example selected Timeline items */
  z-index: 10;
}

.vis-active {
  box-shadow: 0 0 10px #86d5f8;
}
`;hs(LJe);var FJe=`/* override some bootstrap styles screwing up the timelines css */

.vis [class*="span"] {
  min-height: 0;
  width: auto;
}
`;hs(FJe);var $Je=`div.vis-configuration {
  position: relative;
  display: block;
  float: left;
  font-size: 12px;
}

div.vis-configuration-wrapper {
  display: block;
  width: 700px;
}

div.vis-configuration-wrapper::after {
  clear: both;
  content: "";
  display: block;
}

div.vis-configuration.vis-config-option-container {
  display: block;
  width: 495px;
  background-color: #ffffff;
  border: 2px solid #f7f8fa;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
}

div.vis-configuration.vis-config-button {
  display: block;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
  background-color: #f7f8fa;
  border: 2px solid #ceced0;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
  cursor: pointer;
  margin-bottom: 30px;
}

div.vis-configuration.vis-config-button.hover {
  background-color: #4588e6;
  border: 2px solid #214373;
  color: #ffffff;
}

div.vis-configuration.vis-config-item {
  display: block;
  float: left;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
}

div.vis-configuration.vis-config-item.vis-config-s2 {
  left: 10px;
  background-color: #f7f8fa;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s3 {
  left: 20px;
  background-color: #e4e9f0;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s4 {
  left: 30px;
  background-color: #cfd8e6;
  padding-left: 5px;
  border-radius: 3px;
}

div.vis-configuration.vis-config-header {
  font-size: 18px;
  font-weight: bold;
}

div.vis-configuration.vis-config-label {
  width: 120px;
  height: 25px;
  line-height: 25px;
}

div.vis-configuration.vis-config-label.vis-config-s3 {
  width: 110px;
}
div.vis-configuration.vis-config-label.vis-config-s4 {
  width: 100px;
}

div.vis-configuration.vis-config-colorBlock {
  top: 1px;
  width: 30px;
  height: 19px;
  border: 1px solid #444444;
  border-radius: 2px;
  padding: 0px;
  margin: 0px;
  cursor: pointer;
}

input.vis-configuration.vis-config-checkbox {
  left: -5px;
}

input.vis-configuration.vis-config-rangeinput {
  position: relative;
  top: -5px;
  width: 60px;
  /*height:13px;*/
  padding: 1px;
  margin: 0;
  pointer-events: none;
}

input.vis-configuration.vis-config-range {
  /*removes default webkit styles*/
  -webkit-appearance: none;

  /*fix for FF unable to apply focus style bug */
  border: 0px solid white;
  background-color: rgba(0, 0, 0, 0);

  /*required for proper track sizing in FF*/
  width: 300px;
  height: 20px;
}
input.vis-configuration.vis-config-range::-webkit-slider-runnable-track {
  width: 300px;
  height: 5px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  border: 1px solid #14334b;
  height: 17px;
  width: 17px;
  border-radius: 50%;
  background: #3876c2; /* Old browsers */
  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #3876c2),
    color-stop(100%, #385380)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */
  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */
  box-shadow: #111927 0px 0px 1px 0px;
  margin-top: -7px;
}
input.vis-configuration.vis-config-range:focus {
  outline: none;
}
input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {
  background: #9d9d9d; /* Old browsers */
  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #9d9d9d),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */
}

input.vis-configuration.vis-config-range::-moz-range-track {
  width: 300px;
  height: 10px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-moz-range-thumb {
  border: none;
  height: 16px;
  width: 16px;

  border-radius: 50%;
  background: #385380;
}

/*hide the outline behind the border*/
input.vis-configuration.vis-config-range:-moz-focusring {
  outline: 1px solid white;
  outline-offset: -1px;
}

input.vis-configuration.vis-config-range::-ms-track {
  width: 300px;
  height: 5px;

  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */
  background: transparent;

  /*leave room for the larger thumb to overflow with a transparent border */
  border-color: transparent;
  border-width: 6px 0;

  /*remove default tick marks*/
  color: transparent;
}
input.vis-configuration.vis-config-range::-ms-fill-lower {
  background: #777;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-fill-upper {
  background: #ddd;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-thumb {
  border: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #385380;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-lower {
  background: #888;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-upper {
  background: #ccc;
}

.vis-configuration-popup {
  position: absolute;
  background: rgba(57, 76, 89, 0.85);
  border: 2px solid #f2faff;
  line-height: 30px;
  height: 30px;
  width: 150px;
  text-align: center;
  color: #ffffff;
  font-size: 14px;
  border-radius: 4px;
  -webkit-transition: opacity 0.3s ease-in-out;
  -moz-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}
.vis-configuration-popup:after,
.vis-configuration-popup:before {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.vis-configuration-popup:after {
  border-color: rgba(136, 183, 213, 0);
  border-left-color: rgba(57, 76, 89, 0.85);
  border-width: 8px;
  margin-top: -8px;
}
.vis-configuration-popup:before {
  border-color: rgba(194, 225, 245, 0);
  border-left-color: #f2faff;
  border-width: 12px;
  margin-top: -12px;
}
`;hs($Je);var zJe=`div.vis-tooltip {
  position: absolute;
  visibility: hidden;
  padding: 5px;
  white-space: nowrap;

  font-family: verdana;
  font-size: 14px;
  color: #000000;
  background-color: #f5f4ed;

  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #808074;

  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
  pointer-events: none;

  z-index: 5;
}
`;hs(zJe);var UJe=`.vis-timeline {
  /*
  -webkit-transition: height .4s ease-in-out;
  transition:         height .4s ease-in-out;
  */
}

.vis-panel {
  /*
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
  */
}

.vis-axis {
  /*
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
  */
}

/* TODO: get animation working nicely

.vis-item {
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
}

.vis-item.line {
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
}
/**/
`;hs(UJe);var WJe=`.vis-current-time {
  background-color: #ff7f6e;
  width: 2px;
  z-index: 1;
  pointer-events: none;
}

.vis-rolling-mode-btn {
  height: 40px;
  width: 40px;
  position: absolute;
  top: 7px;
  right: 20px;
  border-radius: 50%;
  font-size: 28px;
  cursor: pointer;
  opacity: 0.8;
  color: white;
  font-weight: bold;
  text-align: center;
  background: #3876c2;
}
.vis-rolling-mode-btn:before {
  content: "\\26F6";
}

.vis-rolling-mode-btn:hover {
  opacity: 1;
}
`;hs(WJe);var qJe=`.vis-custom-time {
  background-color: #6e94ff;
  width: 2px;
  cursor: move;
  z-index: 1;
}

.vis-custom-time > .vis-custom-time-marker {
  background-color: inherit;
  color: white;
  font-size: 12px;
  white-space: nowrap;
  padding: 3px 5px;
  top: 0px;
  cursor: initial;
  z-index: inherit;
}
`;hs(qJe);var HJe=`.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {
  position: absolute;
  width: 100%;
  height: 0;
  border-bottom: 1px solid;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {
  border-color: #bfbfbf;
}

.vis-data-axis .vis-y-axis.vis-major {
  width: 100%;
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-major.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-minor {
  position: absolute;
  width: 100%;
  color: #bebebe;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-minor.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title {
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
  bottom: 20px;
  text-align: center;
}

.vis-data-axis .vis-y-axis.vis-title.vis-measure {
  padding: 0;
  margin: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title.vis-left {
  bottom: 0;
  -webkit-transform-origin: left top;
  -moz-transform-origin: left top;
  -ms-transform-origin: left top;
  -o-transform-origin: left top;
  transform-origin: left bottom;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.vis-data-axis .vis-y-axis.vis-title.vis-right {
  bottom: 0;
  -webkit-transform-origin: right bottom;
  -moz-transform-origin: right bottom;
  -ms-transform-origin: right bottom;
  -o-transform-origin: right bottom;
  transform-origin: right bottom;
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  transform: rotate(90deg);
}

.vis-legend {
  background-color: rgba(247, 252, 255, 0.65);
  padding: 5px;
  border: 1px solid #b3b3b3;
  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);
}

.vis-legend-text {
  /*font-size: 10px;*/
  white-space: nowrap;
  display: inline-block;
}
`;hs(HJe);var VJe=`.vis-item {
  position: absolute;
  color: #1a1a1a;
  border-color: #97b0f8;
  border-width: 1px;
  background-color: #d5ddf6;
  display: inline-block;
  z-index: 1;
  /*overflow: hidden;*/
}

.vis-item.vis-selected {
  border-color: #ffc200;
  background-color: #fff785;

  /* z-index must be higher than the z-index of custom time bar and current time bar */
  z-index: 2;
}

.vis-editable.vis-selected {
  cursor: move;
}

.vis-item.vis-point.vis-selected {
  background-color: #fff785;
}

.vis-item.vis-box {
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-point {
  background: none;
}

.vis-item.vis-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}

.vis-item.vis-range {
  border-style: solid;
  border-radius: 2px;
  box-sizing: border-box;
}

.vis-item.vis-background {
  border: none;
  background-color: rgba(213, 221, 246, 0.4);
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

.vis-item .vis-item-overflow {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

.vis-item-visible-frame {
  white-space: nowrap;
}

.vis-item.vis-range .vis-item-content {
  position: relative;
  display: inline-block;
}

.vis-item.vis-background .vis-item-content {
  position: absolute;
  display: inline-block;
}

.vis-item.vis-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item .vis-item-content {
  white-space: nowrap;
  box-sizing: border-box;
  padding: 5px;
}

.vis-item .vis-onUpdateTime-tooltip {
  position: absolute;
  background: #4f81bd;
  color: white;
  width: 200px;
  text-align: center;
  white-space: nowrap;
  padding: 5px;
  border-radius: 1px;
  transition: 0.4s;
  -o-transition: 0.4s;
  -moz-transition: 0.4s;
  -webkit-transition: 0.4s;
}

.vis-item .vis-delete,
.vis-item .vis-delete-rtl {
  position: absolute;
  top: 0px;
  width: 24px;
  height: 24px;
  box-sizing: border-box;
  padding: 0px 5px;
  cursor: pointer;

  -webkit-transition: background 0.2s linear;
  -moz-transition: background 0.2s linear;
  -ms-transition: background 0.2s linear;
  -o-transition: background 0.2s linear;
  transition: background 0.2s linear;
}

.vis-item .vis-delete {
  right: -24px;
}

.vis-item .vis-delete-rtl {
  left: -24px;
}

.vis-item .vis-delete:after,
.vis-item .vis-delete-rtl:after {
  content: "\\00D7"; /* MULTIPLICATION SIGN */
  color: red;
  font-family: arial, sans-serif;
  font-size: 22px;
  font-weight: bold;

  -webkit-transition: color 0.2s linear;
  -moz-transition: color 0.2s linear;
  -ms-transition: color 0.2s linear;
  -o-transition: color 0.2s linear;
  transition: color 0.2s linear;
}

.vis-item .vis-delete:hover,
.vis-item .vis-delete-rtl:hover {
  background: red;
}

.vis-item .vis-delete:hover:after,
.vis-item .vis-delete-rtl:hover:after {
  color: white;
}

.vis-item .vis-drag-center {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0px;
  cursor: move;
}

.vis-item.vis-range .vis-drag-left {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  left: -4px;

  cursor: w-resize;
}

.vis-item.vis-range .vis-drag-right {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  right: -4px;

  cursor: e-resize;
}

.vis-range.vis-item.vis-readonly .vis-drag-left,
.vis-range.vis-item.vis-readonly .vis-drag-right {
  cursor: auto;
}

.vis-item.vis-cluster {
  vertical-align: center;
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-cluster-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item.vis-cluster-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}
`;hs(VJe);var GJe=`.vis-itemset {
  position: relative;
  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-itemset .vis-background,
.vis-itemset .vis-foreground {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: visible;
}

.vis-axis {
  position: absolute;
  width: 100%;
  height: 0;
  left: 0;
  z-index: 1;
}

.vis-foreground .vis-group {
  position: relative;
  box-sizing: border-box;
  border-bottom: 1px solid #bfbfbf;
}

.vis-foreground .vis-group:last-child {
  border-bottom: none;
}

.vis-nesting-group {
  cursor: pointer;
}

.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {
  background: #f5f5f5;
}
.vis-label.vis-nested-group.vis-group-level-0 {
  background-color: #ffffff;
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-left: 0;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-right: 0;
}
.vis-label.vis-nested-group.vis-group-level-1 {
  background-color: rgba(0, 0, 0, 0.05);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-left: 15px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-right: 15px;
}
.vis-label.vis-nested-group.vis-group-level-2 {
  background-color: rgba(0, 0, 0, 0.1);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-left: 30px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-right: 30px;
}
.vis-label.vis-nested-group.vis-group-level-3 {
  background-color: rgba(0, 0, 0, 0.15);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-left: 45px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-right: 45px;
}
.vis-label.vis-nested-group.vis-group-level-4 {
  background-color: rgba(0, 0, 0, 0.2);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-left: 60px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-right: 60px;
}
.vis-label.vis-nested-group.vis-group-level-5 {
  background-color: rgba(0, 0, 0, 0.25);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-left: 75px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-right: 75px;
}
.vis-label.vis-nested-group.vis-group-level-6 {
  background-color: rgba(0, 0, 0, 0.3);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-left: 90px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-right: 90px;
}
.vis-label.vis-nested-group.vis-group-level-7 {
  background-color: rgba(0, 0, 0, 0.35);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-left: 105px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-right: 105px;
}
.vis-label.vis-nested-group.vis-group-level-8 {
  background-color: rgba(0, 0, 0, 0.4);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-left: 120px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-right: 120px;
}
.vis-label.vis-nested-group.vis-group-level-9 {
  background-color: rgba(0, 0, 0, 0.45);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-left: 135px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-right: 135px;
}
/* default takes over beginning with level-10 (thats why we add .vis-nested-group
  to the selectors above, to have higher specifity than these rules for the defaults) */
.vis-label.vis-nested-group {
  background-color: rgba(0, 0, 0, 0.5);
}
.vis-ltr .vis-label.vis-nested-group .vis-inner {
  padding-left: 150px;
}
.vis-rtl .vis-label.vis-nested-group .vis-inner {
  padding-right: 150px;
}

.vis-group-level-unknown-but-gte1 {
  border: 1px solid red;
}

/* expanded/collapsed indicators */
.vis-label.vis-nesting-group:before,
.vis-label.vis-nesting-group:before {
  display: inline-block;
  width: 15px;
}
.vis-label.vis-nesting-group.expanded:before {
  content: "\\25BC";
}
.vis-label.vis-nesting-group.collapsed:before {
  content: "\\25B6";
}
.vis-rtl .vis-label.vis-nesting-group.collapsed:before {
  content: "\\25C0";
}
/* compensate missing expanded/collapsed indicator, but only at levels > 0 */
.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-left: 15px;
}
.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-right: 15px;
}

.vis-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
`;hs(GJe);var YJe=`.vis-labelset {
  position: relative;

  overflow: hidden;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  position: relative;
  left: 0;
  top: 0;
  width: 100%;
  color: #4d4d4d;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  border-bottom: 1px solid #bfbfbf;
}

.vis-labelset .vis-label.draggable {
  cursor: pointer;
}

.vis-group-is-dragging {
  background: rgba(0, 0, 0, 0.1);
}

.vis-labelset .vis-label:last-child {
  border-bottom: none;
}

.vis-labelset .vis-label .vis-inner {
  display: inline-block;
  padding: 5px;
}

.vis-labelset .vis-label .vis-inner.vis-hidden {
  padding: 0;
}
`;hs(YJe);var KJe=`.vis-panel {
  position: absolute;

  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border: 1px #bfbfbf;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right {
  border-top-style: solid;
  border-bottom-style: solid;
  overflow: hidden;
}

.vis-left.vis-panel.vis-vertical-scroll,
.vis-right.vis-panel.vis-vertical-scroll {
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}

.vis-left.vis-panel.vis-vertical-scroll {
  direction: rtl;
}

.vis-left.vis-panel.vis-vertical-scroll .vis-content {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll .vis-content {
  direction: rtl;
}

.vis-panel.vis-center,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border-left-style: solid;
  border-right-style: solid;
}

.vis-background {
  overflow: hidden;
}

.vis-panel > .vis-content {
  position: relative;
}

.vis-panel .vis-shadow {
  position: absolute;
  width: 100%;
  height: 1px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items
  z-index: 1;
  */
}

.vis-panel .vis-shadow.vis-top {
  top: -1px;
  left: 0;
}

.vis-panel .vis-shadow.vis-bottom {
  bottom: -1px;
  left: 0;
}
`;hs(KJe);var XJe=`.vis-graph-group0 {
  fill: #4f81bd;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #4f81bd;
}

.vis-graph-group1 {
  fill: #f79646;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #f79646;
}

.vis-graph-group2 {
  fill: #8c51cf;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8c51cf;
}

.vis-graph-group3 {
  fill: #75c841;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #75c841;
}

.vis-graph-group4 {
  fill: #ff0100;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff0100;
}

.vis-graph-group5 {
  fill: #37d8e6;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #37d8e6;
}

.vis-graph-group6 {
  fill: #042662;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #042662;
}

.vis-graph-group7 {
  fill: #00ff26;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #00ff26;
}

.vis-graph-group8 {
  fill: #ff00ff;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff00ff;
}

.vis-graph-group9 {
  fill: #8f3938;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8f3938;
}

.vis-timeline .vis-fill {
  fill-opacity: 0.1;
  stroke: none;
}

.vis-timeline .vis-bar {
  fill-opacity: 0.5;
  stroke-width: 1px;
}

.vis-timeline .vis-point {
  stroke-width: 2px;
  fill-opacity: 1;
}

.vis-timeline .vis-legend-background {
  stroke-width: 1px;
  fill-opacity: 0.9;
  fill: #ffffff;
  stroke: #c2c2c2;
}

.vis-timeline .vis-outline {
  stroke-width: 1px;
  fill-opacity: 1;
  fill: #ffffff;
  stroke: #e5e5e5;
}

.vis-timeline .vis-icon-fill {
  fill-opacity: 0.3;
  stroke: none;
}
`;hs(XJe);var QJe=`.vis-time-axis {
  position: relative;
  overflow: hidden;
}

.vis-time-axis.vis-foreground {
  top: 0;
  left: 0;
  width: 100%;
}

.vis-time-axis.vis-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.vis-time-axis .vis-text {
  position: absolute;
  color: #4d4d4d;
  padding: 3px;
  overflow: hidden;
  box-sizing: border-box;

  white-space: nowrap;
}

.vis-time-axis .vis-text.vis-measure {
  position: absolute;
  padding-left: 0;
  padding-right: 0;
  margin-left: 0;
  margin-right: 0;
  visibility: hidden;
}

.vis-time-axis .vis-grid.vis-vertical {
  position: absolute;
  border-left: 1px solid;
}

.vis-time-axis .vis-grid.vis-vertical-rtl {
  position: absolute;
  border-right: 1px solid;
}

.vis-time-axis .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-time-axis .vis-grid.vis-major {
  border-color: #bfbfbf;
}
`;hs(QJe);var JJe=`.vis-timeline {
  position: relative;
  border: 1px solid #bfbfbf;
  overflow: hidden;
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.vis-loading-screen {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
`;hs(JJe);var TG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ha(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $4={exports:{}},RS={exports:{}},ZJe=RS.exports,PG;function Va(){return PG||(PG=1,function(n,e){(function(r,i){n.exports=i()})(ZJe,function(){var r;function i(){return r.apply(null,arguments)}function s(k){r=k}function o(k){return k instanceof Array||Object.prototype.toString.call(k)==="[object Array]"}function a(k){return k!=null&&Object.prototype.toString.call(k)==="[object Object]"}function l(k,P){return Object.prototype.hasOwnProperty.call(k,P)}function c(k){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(k).length===0;var P;for(P in k)if(l(k,P))return!1;return!0}function u(k){return k===void 0}function d(k){return typeof k=="number"||Object.prototype.toString.call(k)==="[object Number]"}function h(k){return k instanceof Date||Object.prototype.toString.call(k)==="[object Date]"}function f(k,P){var L=[],q,Q=k.length;for(q=0;q<Q;++q)L.push(P(k[q],q));return L}function p(k,P){for(var L in P)l(P,L)&&(k[L]=P[L]);return l(P,"toString")&&(k.toString=P.toString),l(P,"valueOf")&&(k.valueOf=P.valueOf),k}function m(k,P,L,q){return ML(k,P,L,q,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(k){return k._pf==null&&(k._pf=b()),k._pf}var v;Array.prototype.some?v=Array.prototype.some:v=function(k){var P=Object(this),L=P.length>>>0,q;for(q=0;q<L;q++)if(q in P&&k.call(this,P[q],q,P))return!0;return!1};function w(k){var P=null,L=!1,q=k._d&&!isNaN(k._d.getTime());if(q&&(P=y(k),L=v.call(P.parsedDateParts,function(Q){return Q!=null}),q=P.overflow<0&&!P.empty&&!P.invalidEra&&!P.invalidMonth&&!P.invalidWeekday&&!P.weekdayMismatch&&!P.nullInput&&!P.invalidFormat&&!P.userInvalidated&&(!P.meridiem||P.meridiem&&L),k._strict&&(q=q&&P.charsLeftOver===0&&P.unusedTokens.length===0&&P.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(k))k._isValid=q;else return q;return k._isValid}function _(k){var P=m(NaN);return k!=null?p(y(P),k):y(P).userInvalidated=!0,P}var x=i.momentProperties=[],S=!1;function C(k,P){var L,q,Q,be=x.length;if(u(P._isAMomentObject)||(k._isAMomentObject=P._isAMomentObject),u(P._i)||(k._i=P._i),u(P._f)||(k._f=P._f),u(P._l)||(k._l=P._l),u(P._strict)||(k._strict=P._strict),u(P._tzm)||(k._tzm=P._tzm),u(P._isUTC)||(k._isUTC=P._isUTC),u(P._offset)||(k._offset=P._offset),u(P._pf)||(k._pf=y(P)),u(P._locale)||(k._locale=P._locale),be>0)for(L=0;L<be;L++)q=x[L],Q=P[q],u(Q)||(k[q]=Q);return k}function E(k){C(this,k),this._d=new Date(k._d!=null?k._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),S===!1&&(S=!0,i.updateOffset(this),S=!1)}function T(k){return k instanceof E||k!=null&&k._isAMomentObject!=null}function M(k){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+k)}function I(k,P){var L=!0;return p(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,k),L){var q=[],Q,be,Fe,vt=arguments.length;for(be=0;be<vt;be++){if(Q="",typeof arguments[be]=="object"){Q+=`
[`+be+"] ";for(Fe in arguments[0])l(arguments[0],Fe)&&(Q+=Fe+": "+arguments[0][Fe]+", ");Q=Q.slice(0,-2)}else Q=arguments[be];q.push(Q)}M(k+`
Arguments: `+Array.prototype.slice.call(q).join("")+`
`+new Error().stack),L=!1}return P.apply(this,arguments)},P)}var O={};function F(k,P){i.deprecationHandler!=null&&i.deprecationHandler(k,P),O[k]||(M(P),O[k]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function $(k){return typeof Function<"u"&&k instanceof Function||Object.prototype.toString.call(k)==="[object Function]"}function z(k){var P,L;for(L in k)l(k,L)&&(P=k[L],$(P)?this[L]=P:this["_"+L]=P);this._config=k,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(k,P){var L=p({},k),q;for(q in P)l(P,q)&&(a(k[q])&&a(P[q])?(L[q]={},p(L[q],k[q]),p(L[q],P[q])):P[q]!=null?L[q]=P[q]:delete L[q]);for(q in k)l(k,q)&&!l(P,q)&&a(k[q])&&(L[q]=p({},L[q]));return L}function j(k){k!=null&&this.set(k)}var N;Object.keys?N=Object.keys:N=function(k){var P,L=[];for(P in k)l(k,P)&&L.push(P);return L};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function H(k,P,L){var q=this._calendar[k]||this._calendar.sameElse;return $(q)?q.call(P,L):q}function U(k,P,L){var q=""+Math.abs(k),Q=P-q.length,be=k>=0;return(be?L?"+":"":"-")+Math.pow(10,Math.max(0,Q)).toString().substr(1)+q}var K=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,J={},G={};function X(k,P,L,q){var Q=q;typeof q=="string"&&(Q=function(){return this[q]()}),k&&(G[k]=Q),P&&(G[P[0]]=function(){return U(Q.apply(this,arguments),P[1],P[2])}),L&&(G[L]=function(){return this.localeData().ordinal(Q.apply(this,arguments),k)})}function ae(k){return k.match(/\[[\s\S]/)?k.replace(/^\[|\]$/g,""):k.replace(/\\/g,"")}function ge(k){var P=k.match(K),L,q;for(L=0,q=P.length;L<q;L++)G[P[L]]?P[L]=G[P[L]]:P[L]=ae(P[L]);return function(Q){var be="",Fe;for(Fe=0;Fe<q;Fe++)be+=$(P[Fe])?P[Fe].call(Q,k):P[Fe];return be}}function le(k,P){return k.isValid()?(P=ie(P,k.localeData()),J[P]=J[P]||ge(P),J[P](k)):k.localeData().invalidDate()}function ie(k,P){var L=5;function q(Q){return P.longDateFormat(Q)||Q}for(Y.lastIndex=0;L>=0&&Y.test(k);)k=k.replace(Y,q),Y.lastIndex=0,L-=1;return k}var Te={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ee(k){var P=this._longDateFormat[k],L=this._longDateFormat[k.toUpperCase()];return P||!L?P:(this._longDateFormat[k]=L.match(K).map(function(q){return q==="MMMM"||q==="MM"||q==="DD"||q==="dddd"?q.slice(1):q}).join(""),this._longDateFormat[k])}var V="Invalid date";function Ie(){return this._invalidDate}var Ye="%d",nt=/\d{1,2}/;function Ue(k){return this._ordinal.replace("%d",k)}var mt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function He(k,P,L,q){var Q=this._relativeTime[L];return $(Q)?Q(k,P,L,q):Q.replace(/%d/i,k)}function xe(k,P){var L=this._relativeTime[k>0?"future":"past"];return $(L)?L(P):L.replace(/%s/i,P)}var Ve={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Oe(k){return typeof k=="string"?Ve[k]||Ve[k.toLowerCase()]:void 0}function Ne(k){var P={},L,q;for(q in k)l(k,q)&&(L=Oe(q),L&&(P[L]=k[q]));return P}var Ae={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Se(k){var P=[],L;for(L in k)l(k,L)&&P.push({unit:L,priority:Ae[L]});return P.sort(function(q,Q){return q.priority-Q.priority}),P}var W=/\d/,de=/\d\d/,me=/\d{3}/,oe=/\d{4}/,pe=/[+-]?\d{6}/,ye=/\d\d?/,Z=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,ce=/\d{1,3}/,Ce=/\d{1,4}/,Re=/[+-]?\d{1,6}/,he=/\d+/,Pe=/[+-]?\d+/,_e=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,ne=/[+-]?\d+(\.\d{1,3})?/,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rt=/^[1-9]\d?/,Le=/^([1-9]\d|\d)/,Ke;Ke={};function je(k,P,L){Ke[k]=$(P)?P:function(q,Q){return q&&L?L:P}}function Ze(k,P){return l(Ke,k)?Ke[k](P._strict,P._locale):new RegExp(ht(k))}function ht(k){return Qe(k.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(P,L,q,Q,be){return L||q||Q||be}))}function Qe(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ot(k){return k<0?Math.ceil(k)||0:Math.floor(k)}function De(k){var P=+k,L=0;return P!==0&&isFinite(P)&&(L=ot(P)),L}var it={};function we(k,P){var L,q=P,Q;for(typeof k=="string"&&(k=[k]),d(P)&&(q=function(be,Fe){Fe[P]=De(be)}),Q=k.length,L=0;L<Q;L++)it[k[L]]=q}function _t(k,P){we(k,function(L,q,Q,be){Q._w=Q._w||{},P(L,Q._w,Q,be)})}function gt(k,P,L){P!=null&&l(it,k)&&it[k](P,L._a,L,k)}function Ct(k){return k%4===0&&k%100!==0||k%400===0}var Ut=0,Nt=1,tn=2,Wt=3,at=4,on=5,Jn=6,ln=7,Ws=8;X("Y",0,0,function(){var k=this.year();return k<=9999?U(k,4):"+"+k}),X(0,["YY",2],0,function(){return this.year()%100}),X(0,["YYYY",4],0,"year"),X(0,["YYYYY",5],0,"year"),X(0,["YYYYYY",6,!0],0,"year"),je("Y",Pe),je("YY",ye,de),je("YYYY",Ce,oe),je("YYYYY",Re,pe),je("YYYYYY",Re,pe),we(["YYYYY","YYYYYY"],Ut),we("YYYY",function(k,P){P[Ut]=k.length===2?i.parseTwoDigitYear(k):De(k)}),we("YY",function(k,P){P[Ut]=i.parseTwoDigitYear(k)}),we("Y",function(k,P){P[Ut]=parseInt(k,10)});function ci(k){return Ct(k)?366:365}i.parseTwoDigitYear=function(k){return De(k)+(De(k)>68?1900:2e3)};var wo=Rr("FullYear",!0);function aa(){return Ct(this.year())}function Rr(k,P){return function(L){return L!=null?(qs(this,k,L),i.updateOffset(this,P),this):ui(this,k)}}function ui(k,P){if(!k.isValid())return NaN;var L=k._d,q=k._isUTC;switch(P){case"Milliseconds":return q?L.getUTCMilliseconds():L.getMilliseconds();case"Seconds":return q?L.getUTCSeconds():L.getSeconds();case"Minutes":return q?L.getUTCMinutes():L.getMinutes();case"Hours":return q?L.getUTCHours():L.getHours();case"Date":return q?L.getUTCDate():L.getDate();case"Day":return q?L.getUTCDay():L.getDay();case"Month":return q?L.getUTCMonth():L.getMonth();case"FullYear":return q?L.getUTCFullYear():L.getFullYear();default:return NaN}}function qs(k,P,L){var q,Q,be,Fe,vt;if(!(!k.isValid()||isNaN(L))){switch(q=k._d,Q=k._isUTC,P){case"Milliseconds":return void(Q?q.setUTCMilliseconds(L):q.setMilliseconds(L));case"Seconds":return void(Q?q.setUTCSeconds(L):q.setSeconds(L));case"Minutes":return void(Q?q.setUTCMinutes(L):q.setMinutes(L));case"Hours":return void(Q?q.setUTCHours(L):q.setHours(L));case"Date":return void(Q?q.setUTCDate(L):q.setDate(L));case"FullYear":break;default:return}be=L,Fe=k.month(),vt=k.date(),vt=vt===29&&Fe===1&&!Ct(be)?28:vt,Q?q.setUTCFullYear(be,Fe,vt):q.setFullYear(be,Fe,vt)}}function Pp(k){return k=Oe(k),$(this[k])?this[k]():this}function Ip(k,P){if(typeof k=="object"){k=Ne(k);var L=Se(k),q,Q=L.length;for(q=0;q<Q;q++)this[L[q].unit](k[L[q].unit])}else if(k=Oe(k),$(this[k]))return this[k](P);return this}function Ka(k,P){return(k%P+P)%P}var Cn;Array.prototype.indexOf?Cn=Array.prototype.indexOf:Cn=function(k){var P;for(P=0;P<this.length;++P)if(this[P]===k)return P;return-1};function Yl(k,P){if(isNaN(k)||isNaN(P))return NaN;var L=Ka(P,12);return k+=(P-L)/12,L===1?Ct(k)?29:28:31-L%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1}),X("MMM",0,0,function(k){return this.localeData().monthsShort(this,k)}),X("MMMM",0,0,function(k){return this.localeData().months(this,k)}),je("M",ye,rt),je("MM",ye,de),je("MMM",function(k,P){return P.monthsShortRegex(k)}),je("MMMM",function(k,P){return P.monthsRegex(k)}),we(["M","MM"],function(k,P){P[Nt]=De(k)-1}),we(["MMM","MMMM"],function(k,P,L,q){var Q=L._locale.monthsParse(k,q,L._strict);Q!=null?P[Nt]=Q:y(L).invalidMonth=k});var yu="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Kl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mp=se,Op=se;function Zn(k,P){return k?o(this._months)?this._months[k.month()]:this._months[(this._months.isFormat||vu).test(P)?"format":"standalone"][k.month()]:o(this._months)?this._months:this._months.standalone}function Kr(k,P){return k?o(this._monthsShort)?this._monthsShort[k.month()]:this._monthsShort[vu.test(P)?"format":"standalone"][k.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Nr(k,P,L){var q,Q,be,Fe=k.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],q=0;q<12;++q)be=m([2e3,q]),this._shortMonthsParse[q]=this.monthsShort(be,"").toLocaleLowerCase(),this._longMonthsParse[q]=this.months(be,"").toLocaleLowerCase();return L?P==="MMM"?(Q=Cn.call(this._shortMonthsParse,Fe),Q!==-1?Q:null):(Q=Cn.call(this._longMonthsParse,Fe),Q!==-1?Q:null):P==="MMM"?(Q=Cn.call(this._shortMonthsParse,Fe),Q!==-1?Q:(Q=Cn.call(this._longMonthsParse,Fe),Q!==-1?Q:null)):(Q=Cn.call(this._longMonthsParse,Fe),Q!==-1?Q:(Q=Cn.call(this._shortMonthsParse,Fe),Q!==-1?Q:null))}function Dp(k,P,L){var q,Q,be;if(this._monthsParseExact)return Nr.call(this,k,P,L);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),q=0;q<12;q++){if(Q=m([2e3,q]),L&&!this._longMonthsParse[q]&&(this._longMonthsParse[q]=new RegExp("^"+this.months(Q,"").replace(".","")+"$","i"),this._shortMonthsParse[q]=new RegExp("^"+this.monthsShort(Q,"").replace(".","")+"$","i")),!L&&!this._monthsParse[q]&&(be="^"+this.months(Q,"")+"|^"+this.monthsShort(Q,""),this._monthsParse[q]=new RegExp(be.replace(".",""),"i")),L&&P==="MMMM"&&this._longMonthsParse[q].test(k))return q;if(L&&P==="MMM"&&this._shortMonthsParse[q].test(k))return q;if(!L&&this._monthsParse[q].test(k))return q}}function wu(k,P){if(!k.isValid())return k;if(typeof P=="string"){if(/^\d+$/.test(P))P=De(P);else if(P=k.localeData().monthsParse(P),!d(P))return k}var L=P,q=k.date();return q=q<29?q:Math.min(q,Yl(k.year(),L)),k._isUTC?k._d.setUTCMonth(L,q):k._d.setMonth(L,q),k}function lh(k){return k!=null?(wu(this,k),i.updateOffset(this,!0),this):ui(this,"Month")}function ch(){return Yl(this.year(),this.month())}function uh(k){return this._monthsParseExact?(l(this,"_monthsRegex")||xu.call(this),k?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Mp),this._monthsShortStrictRegex&&k?this._monthsShortStrictRegex:this._monthsShortRegex)}function dh(k){return this._monthsParseExact?(l(this,"_monthsRegex")||xu.call(this),k?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Op),this._monthsStrictRegex&&k?this._monthsStrictRegex:this._monthsRegex)}function xu(){function k(Ht,cn){return cn.length-Ht.length}var P=[],L=[],q=[],Q,be,Fe,vt;for(Q=0;Q<12;Q++)be=m([2e3,Q]),Fe=Qe(this.monthsShort(be,"")),vt=Qe(this.months(be,"")),P.push(Fe),L.push(vt),q.push(vt),q.push(Fe);P.sort(k),L.sort(k),q.sort(k),this._monthsRegex=new RegExp("^("+q.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+L.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+P.join("|")+")","i")}function Rp(k,P,L,q,Q,be,Fe){var vt;return k<100&&k>=0?(vt=new Date(k+400,P,L,q,Q,be,Fe),isFinite(vt.getFullYear())&&vt.setFullYear(k)):vt=new Date(k,P,L,q,Q,be,Fe),vt}function Xa(k){var P,L;return k<100&&k>=0?(L=Array.prototype.slice.call(arguments),L[0]=k+400,P=new Date(Date.UTC.apply(null,L)),isFinite(P.getUTCFullYear())&&P.setUTCFullYear(k)):P=new Date(Date.UTC.apply(null,arguments)),P}function Xl(k,P,L){var q=7+P-L,Q=(7+Xa(k,0,q).getUTCDay()-P)%7;return-Q+q-1}function _u(k,P,L,q,Q){var be=(7+L-q)%7,Fe=Xl(k,q,Q),vt=1+7*(P-1)+be+Fe,Ht,cn;return vt<=0?(Ht=k-1,cn=ci(Ht)+vt):vt>ci(k)?(Ht=k+1,cn=vt-ci(k)):(Ht=k,cn=vt),{year:Ht,dayOfYear:cn}}function la(k,P,L){var q=Xl(k.year(),P,L),Q=Math.floor((k.dayOfYear()-q-1)/7)+1,be,Fe;return Q<1?(Fe=k.year()-1,be=Q+fs(Fe,P,L)):Q>fs(k.year(),P,L)?(be=Q-fs(k.year(),P,L),Fe=k.year()+1):(Fe=k.year(),be=Q),{week:be,year:Fe}}function fs(k,P,L){var q=Xl(k,P,L),Q=Xl(k+1,P,L);return(ci(k)-q+Q)/7}X("w",["ww",2],"wo","week"),X("W",["WW",2],"Wo","isoWeek"),je("w",ye,rt),je("ww",ye,de),je("W",ye,rt),je("WW",ye,de),_t(["w","ww","W","WW"],function(k,P,L,q){P[q.substr(0,1)]=De(k)});function Np(k){return la(k,this._week.dow,this._week.doy).week}var Ft={dow:0,doy:6};function xo(){return this._week.dow}function _o(){return this._week.doy}function Su(k){var P=this.localeData().week(this);return k==null?P:this.add((k-P)*7,"d")}function ku(k){var P=la(this,1,4).week;return k==null?P:this.add((k-P)*7,"d")}X("d",0,"do","day"),X("dd",0,0,function(k){return this.localeData().weekdaysMin(this,k)}),X("ddd",0,0,function(k){return this.localeData().weekdaysShort(this,k)}),X("dddd",0,0,function(k){return this.localeData().weekdays(this,k)}),X("e",0,0,"weekday"),X("E",0,0,"isoWeekday"),je("d",ye),je("e",ye),je("E",ye),je("dd",function(k,P){return P.weekdaysMinRegex(k)}),je("ddd",function(k,P){return P.weekdaysShortRegex(k)}),je("dddd",function(k,P){return P.weekdaysRegex(k)}),_t(["dd","ddd","dddd"],function(k,P,L,q){var Q=L._locale.weekdaysParse(k,q,L._strict);Q!=null?P.d=Q:y(L).invalidWeekday=k}),_t(["d","e","E"],function(k,P,L,q){P[q]=De(k)});function fr(k,P){return typeof k!="string"?k:isNaN(k)?(k=P.weekdaysParse(k),typeof k=="number"?k:null):parseInt(k,10)}function jp(k,P){return typeof k=="string"?P.weekdaysParse(k)%7||7:isNaN(k)?null:k}function Cu(k,P){return k.slice(P,7).concat(k.slice(0,P))}var Bp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Me="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Et="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Jt=se,Hs=se,ke=se;function Je(k,P){var L=o(this._weekdays)?this._weekdays:this._weekdays[k&&k!==!0&&this._weekdays.isFormat.test(P)?"format":"standalone"];return k===!0?Cu(L,this._week.dow):k?L[k.day()]:L}function Ge(k){return k===!0?Cu(this._weekdaysShort,this._week.dow):k?this._weekdaysShort[k.day()]:this._weekdaysShort}function Xe(k){return k===!0?Cu(this._weekdaysMin,this._week.dow):k?this._weekdaysMin[k.day()]:this._weekdaysMin}function We(k,P,L){var q,Q,be,Fe=k.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],q=0;q<7;++q)be=m([2e3,1]).day(q),this._minWeekdaysParse[q]=this.weekdaysMin(be,"").toLocaleLowerCase(),this._shortWeekdaysParse[q]=this.weekdaysShort(be,"").toLocaleLowerCase(),this._weekdaysParse[q]=this.weekdays(be,"").toLocaleLowerCase();return L?P==="dddd"?(Q=Cn.call(this._weekdaysParse,Fe),Q!==-1?Q:null):P==="ddd"?(Q=Cn.call(this._shortWeekdaysParse,Fe),Q!==-1?Q:null):(Q=Cn.call(this._minWeekdaysParse,Fe),Q!==-1?Q:null):P==="dddd"?(Q=Cn.call(this._weekdaysParse,Fe),Q!==-1||(Q=Cn.call(this._shortWeekdaysParse,Fe),Q!==-1)?Q:(Q=Cn.call(this._minWeekdaysParse,Fe),Q!==-1?Q:null)):P==="ddd"?(Q=Cn.call(this._shortWeekdaysParse,Fe),Q!==-1||(Q=Cn.call(this._weekdaysParse,Fe),Q!==-1)?Q:(Q=Cn.call(this._minWeekdaysParse,Fe),Q!==-1?Q:null)):(Q=Cn.call(this._minWeekdaysParse,Fe),Q!==-1||(Q=Cn.call(this._weekdaysParse,Fe),Q!==-1)?Q:(Q=Cn.call(this._shortWeekdaysParse,Fe),Q!==-1?Q:null))}function St(k,P,L){var q,Q,be;if(this._weekdaysParseExact)return We.call(this,k,P,L);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),q=0;q<7;q++){if(Q=m([2e3,1]).day(q),L&&!this._fullWeekdaysParse[q]&&(this._fullWeekdaysParse[q]=new RegExp("^"+this.weekdays(Q,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[q]=new RegExp("^"+this.weekdaysShort(Q,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[q]=new RegExp("^"+this.weekdaysMin(Q,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[q]||(be="^"+this.weekdays(Q,"")+"|^"+this.weekdaysShort(Q,"")+"|^"+this.weekdaysMin(Q,""),this._weekdaysParse[q]=new RegExp(be.replace(".",""),"i")),L&&P==="dddd"&&this._fullWeekdaysParse[q].test(k))return q;if(L&&P==="ddd"&&this._shortWeekdaysParse[q].test(k))return q;if(L&&P==="dd"&&this._minWeekdaysParse[q].test(k))return q;if(!L&&this._weekdaysParse[q].test(k))return q}}function jt(k){if(!this.isValid())return k!=null?this:NaN;var P=ui(this,"Day");return k!=null?(k=fr(k,this.localeData()),this.add(k-P,"d")):P}function qt(k){if(!this.isValid())return k!=null?this:NaN;var P=(this.day()+7-this.localeData()._week.dow)%7;return k==null?P:this.add(k-P,"d")}function lr(k){if(!this.isValid())return k!=null?this:NaN;if(k!=null){var P=jp(k,this.localeData());return this.day(this.day()%7?P:P-7)}else return this.day()||7}function di(k){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Fr.call(this),k?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Jt),this._weekdaysStrictRegex&&k?this._weekdaysStrictRegex:this._weekdaysRegex)}function Sn(k){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Fr.call(this),k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Hs),this._weekdaysShortStrictRegex&&k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ai(k){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Fr.call(this),k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ke),this._weekdaysMinStrictRegex&&k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Fr(){function k(Wi,tc){return tc.length-Wi.length}var P=[],L=[],q=[],Q=[],be,Fe,vt,Ht,cn;for(be=0;be<7;be++)Fe=m([2e3,1]).day(be),vt=Qe(this.weekdaysMin(Fe,"")),Ht=Qe(this.weekdaysShort(Fe,"")),cn=Qe(this.weekdays(Fe,"")),P.push(vt),L.push(Ht),q.push(cn),Q.push(vt),Q.push(Ht),Q.push(cn);P.sort(k),L.sort(k),q.sort(k),Q.sort(k),this._weekdaysRegex=new RegExp("^("+Q.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+L.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+P.join("|")+")","i")}function So(){return this.hours()%12||12}function Kt(){return this.hours()||24}X("H",["HH",2],0,"hour"),X("h",["hh",2],0,So),X("k",["kk",2],0,Kt),X("hmm",0,0,function(){return""+So.apply(this)+U(this.minutes(),2)}),X("hmmss",0,0,function(){return""+So.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),X("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),X("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)});function _r(k,P){X(k,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),P)})}_r("a",!0),_r("A",!1);function Vs(k,P){return P._meridiemParse}je("a",Vs),je("A",Vs),je("H",ye,Le),je("h",ye,rt),je("k",ye,rt),je("HH",ye,de),je("hh",ye,de),je("kk",ye,de),je("hmm",Z),je("hmmss",ue),je("Hmm",Z),je("Hmmss",ue),we(["H","HH"],Wt),we(["k","kk"],function(k,P,L){var q=De(k);P[Wt]=q===24?0:q}),we(["a","A"],function(k,P,L){L._isPm=L._locale.isPM(k),L._meridiem=k}),we(["h","hh"],function(k,P,L){P[Wt]=De(k),y(L).bigHour=!0}),we("hmm",function(k,P,L){var q=k.length-2;P[Wt]=De(k.substr(0,q)),P[at]=De(k.substr(q)),y(L).bigHour=!0}),we("hmmss",function(k,P,L){var q=k.length-4,Q=k.length-2;P[Wt]=De(k.substr(0,q)),P[at]=De(k.substr(q,2)),P[on]=De(k.substr(Q)),y(L).bigHour=!0}),we("Hmm",function(k,P,L){var q=k.length-2;P[Wt]=De(k.substr(0,q)),P[at]=De(k.substr(q))}),we("Hmmss",function(k,P,L){var q=k.length-4,Q=k.length-2;P[Wt]=De(k.substr(0,q)),P[at]=De(k.substr(q,2)),P[on]=De(k.substr(Q))});function ps(k){return(k+"").toLowerCase().charAt(0)==="p"}var et=/[ap]\.?m?\.?/i,Xt=Rr("Hours",!0);function Sr(k,P,L){return k>11?L?"pm":"PM":L?"am":"AM"}var ko={calendar:R,longDateFormat:Te,invalidDate:V,ordinal:Ye,dayOfMonthOrdinalParse:nt,relativeTime:mt,months:yu,monthsShort:Kl,week:Ft,weekdays:Bp,weekdaysMin:Et,weekdaysShort:Me,meridiemParse:et},fn={},Ui={},Vn;function Nye(k,P){var L,q=Math.min(k.length,P.length);for(L=0;L<q;L+=1)if(k[L]!==P[L])return L;return q}function AL(k){return k&&k.toLowerCase().replace("_","-")}function jye(k){for(var P=0,L,q,Q,be;P<k.length;){for(be=AL(k[P]).split("-"),L=be.length,q=AL(k[P+1]),q=q?q.split("-"):null;L>0;){if(Q=r1(be.slice(0,L).join("-")),Q)return Q;if(q&&q.length>=L&&Nye(be,q)>=L-1)break;L--}P++}return Vn}function Bye(k){return!!(k&&k.match("^[^/\\\\]*$"))}function r1(k){var P=null,L;if(fn[k]===void 0&&n&&n.exports&&Bye(k))try{P=Vn._abbr,L=Ha,L("./locale/"+k),Eu(P)}catch{fn[k]=null}return fn[k]}function Eu(k,P){var L;return k&&(u(P)?L=Ql(k):L=XE(k,P),L?Vn=L:typeof console<"u"&&console.warn&&console.warn("Locale "+k+" not found. Did you forget to load it?")),Vn._abbr}function XE(k,P){if(P!==null){var L,q=ko;if(P.abbr=k,fn[k]!=null)F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),q=fn[k]._config;else if(P.parentLocale!=null)if(fn[P.parentLocale]!=null)q=fn[P.parentLocale]._config;else if(L=r1(P.parentLocale),L!=null)q=L._config;else return Ui[P.parentLocale]||(Ui[P.parentLocale]=[]),Ui[P.parentLocale].push({name:k,config:P}),null;return fn[k]=new j(D(q,P)),Ui[k]&&Ui[k].forEach(function(Q){XE(Q.name,Q.config)}),Eu(k),fn[k]}else return delete fn[k],null}function Lye(k,P){if(P!=null){var L,q,Q=ko;fn[k]!=null&&fn[k].parentLocale!=null?fn[k].set(D(fn[k]._config,P)):(q=r1(k),q!=null&&(Q=q._config),P=D(Q,P),q==null&&(P.abbr=k),L=new j(P),L.parentLocale=fn[k],fn[k]=L),Eu(k)}else fn[k]!=null&&(fn[k].parentLocale!=null?(fn[k]=fn[k].parentLocale,k===Eu()&&Eu(k)):fn[k]!=null&&delete fn[k]);return fn[k]}function Ql(k){var P;if(k&&k._locale&&k._locale._abbr&&(k=k._locale._abbr),!k)return Vn;if(!o(k)){if(P=r1(k),P)return P;k=[k]}return jye(k)}function Fye(){return N(fn)}function QE(k){var P,L=k._a;return L&&y(k).overflow===-2&&(P=L[Nt]<0||L[Nt]>11?Nt:L[tn]<1||L[tn]>Yl(L[Ut],L[Nt])?tn:L[Wt]<0||L[Wt]>24||L[Wt]===24&&(L[at]!==0||L[on]!==0||L[Jn]!==0)?Wt:L[at]<0||L[at]>59?at:L[on]<0||L[on]>59?on:L[Jn]<0||L[Jn]>999?Jn:-1,y(k)._overflowDayOfYear&&(P<Ut||P>tn)&&(P=tn),y(k)._overflowWeeks&&P===-1&&(P=ln),y(k)._overflowWeekday&&P===-1&&(P=Ws),y(k).overflow=P),k}var $ye=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Uye=/Z|[+-]\d\d(?::?\d\d)?/,i1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],JE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wye=/^\/?Date\((-?\d+)/i,qye=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hye={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function TL(k){var P,L,q=k._i,Q=$ye.exec(q)||zye.exec(q),be,Fe,vt,Ht,cn=i1.length,Wi=JE.length;if(Q){for(y(k).iso=!0,P=0,L=cn;P<L;P++)if(i1[P][1].exec(Q[1])){Fe=i1[P][0],be=i1[P][2]!==!1;break}if(Fe==null){k._isValid=!1;return}if(Q[3]){for(P=0,L=Wi;P<L;P++)if(JE[P][1].exec(Q[3])){vt=(Q[2]||" ")+JE[P][0];break}if(vt==null){k._isValid=!1;return}}if(!be&&vt!=null){k._isValid=!1;return}if(Q[4])if(Uye.exec(Q[4]))Ht="Z";else{k._isValid=!1;return}k._f=Fe+(vt||"")+(Ht||""),e6(k)}else k._isValid=!1}function Vye(k,P,L,q,Q,be){var Fe=[Gye(k),Kl.indexOf(P),parseInt(L,10),parseInt(q,10),parseInt(Q,10)];return be&&Fe.push(parseInt(be,10)),Fe}function Gye(k){var P=parseInt(k,10);return P<=49?2e3+P:P<=999?1900+P:P}function Yye(k){return k.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Kye(k,P,L){if(k){var q=Me.indexOf(k),Q=new Date(P[0],P[1],P[2]).getDay();if(q!==Q)return y(L).weekdayMismatch=!0,L._isValid=!1,!1}return!0}function Xye(k,P,L){if(k)return Hye[k];if(P)return 0;var q=parseInt(L,10),Q=q%100,be=(q-Q)/100;return be*60+Q}function PL(k){var P=qye.exec(Yye(k._i)),L;if(P){if(L=Vye(P[4],P[3],P[2],P[5],P[6],P[7]),!Kye(P[1],L,k))return;k._a=L,k._tzm=Xye(P[8],P[9],P[10]),k._d=Xa.apply(null,k._a),k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),y(k).rfc2822=!0}else k._isValid=!1}function Qye(k){var P=Wye.exec(k._i);if(P!==null){k._d=new Date(+P[1]);return}if(TL(k),k._isValid===!1)delete k._isValid;else return;if(PL(k),k._isValid===!1)delete k._isValid;else return;k._strict?k._isValid=!1:i.createFromInputFallback(k)}i.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(k){k._d=new Date(k._i+(k._useUTC?" UTC":""))});function Lp(k,P,L){return k??P??L}function Jye(k){var P=new Date(i.now());return k._useUTC?[P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate()]:[P.getFullYear(),P.getMonth(),P.getDate()]}function ZE(k){var P,L,q=[],Q,be,Fe;if(!k._d){for(Q=Jye(k),k._w&&k._a[tn]==null&&k._a[Nt]==null&&Zye(k),k._dayOfYear!=null&&(Fe=Lp(k._a[Ut],Q[Ut]),(k._dayOfYear>ci(Fe)||k._dayOfYear===0)&&(y(k)._overflowDayOfYear=!0),L=Xa(Fe,0,k._dayOfYear),k._a[Nt]=L.getUTCMonth(),k._a[tn]=L.getUTCDate()),P=0;P<3&&k._a[P]==null;++P)k._a[P]=q[P]=Q[P];for(;P<7;P++)k._a[P]=q[P]=k._a[P]==null?P===2?1:0:k._a[P];k._a[Wt]===24&&k._a[at]===0&&k._a[on]===0&&k._a[Jn]===0&&(k._nextDay=!0,k._a[Wt]=0),k._d=(k._useUTC?Xa:Rp).apply(null,q),be=k._useUTC?k._d.getUTCDay():k._d.getDay(),k._tzm!=null&&k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),k._nextDay&&(k._a[Wt]=24),k._w&&typeof k._w.d<"u"&&k._w.d!==be&&(y(k).weekdayMismatch=!0)}}function Zye(k){var P,L,q,Q,be,Fe,vt,Ht,cn;P=k._w,P.GG!=null||P.W!=null||P.E!=null?(be=1,Fe=4,L=Lp(P.GG,k._a[Ut],la(Gn(),1,4).year),q=Lp(P.W,1),Q=Lp(P.E,1),(Q<1||Q>7)&&(Ht=!0)):(be=k._locale._week.dow,Fe=k._locale._week.doy,cn=la(Gn(),be,Fe),L=Lp(P.gg,k._a[Ut],cn.year),q=Lp(P.w,cn.week),P.d!=null?(Q=P.d,(Q<0||Q>6)&&(Ht=!0)):P.e!=null?(Q=P.e+be,(P.e<0||P.e>6)&&(Ht=!0)):Q=be),q<1||q>fs(L,be,Fe)?y(k)._overflowWeeks=!0:Ht!=null?y(k)._overflowWeekday=!0:(vt=_u(L,q,Q,be,Fe),k._a[Ut]=vt.year,k._dayOfYear=vt.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function e6(k){if(k._f===i.ISO_8601){TL(k);return}if(k._f===i.RFC_2822){PL(k);return}k._a=[],y(k).empty=!0;var P=""+k._i,L,q,Q,be,Fe,vt=P.length,Ht=0,cn,Wi;for(Q=ie(k._f,k._locale).match(K)||[],Wi=Q.length,L=0;L<Wi;L++)be=Q[L],q=(P.match(Ze(be,k))||[])[0],q&&(Fe=P.substr(0,P.indexOf(q)),Fe.length>0&&y(k).unusedInput.push(Fe),P=P.slice(P.indexOf(q)+q.length),Ht+=q.length),G[be]?(q?y(k).empty=!1:y(k).unusedTokens.push(be),gt(be,q,k)):k._strict&&!q&&y(k).unusedTokens.push(be);y(k).charsLeftOver=vt-Ht,P.length>0&&y(k).unusedInput.push(P),k._a[Wt]<=12&&y(k).bigHour===!0&&k._a[Wt]>0&&(y(k).bigHour=void 0),y(k).parsedDateParts=k._a.slice(0),y(k).meridiem=k._meridiem,k._a[Wt]=eve(k._locale,k._a[Wt],k._meridiem),cn=y(k).era,cn!==null&&(k._a[Ut]=k._locale.erasConvertYear(cn,k._a[Ut])),ZE(k),QE(k)}function eve(k,P,L){var q;return L==null?P:k.meridiemHour!=null?k.meridiemHour(P,L):(k.isPM!=null&&(q=k.isPM(L),q&&P<12&&(P+=12),!q&&P===12&&(P=0)),P)}function tve(k){var P,L,q,Q,be,Fe,vt=!1,Ht=k._f.length;if(Ht===0){y(k).invalidFormat=!0,k._d=new Date(NaN);return}for(Q=0;Q<Ht;Q++)be=0,Fe=!1,P=C({},k),k._useUTC!=null&&(P._useUTC=k._useUTC),P._f=k._f[Q],e6(P),w(P)&&(Fe=!0),be+=y(P).charsLeftOver,be+=y(P).unusedTokens.length*10,y(P).score=be,vt?be<q&&(q=be,L=P):(q==null||be<q||Fe)&&(q=be,L=P,Fe&&(vt=!0));p(k,L||P)}function nve(k){if(!k._d){var P=Ne(k._i),L=P.day===void 0?P.date:P.day;k._a=f([P.year,P.month,L,P.hour,P.minute,P.second,P.millisecond],function(q){return q&&parseInt(q,10)}),ZE(k)}}function rve(k){var P=new E(QE(IL(k)));return P._nextDay&&(P.add(1,"d"),P._nextDay=void 0),P}function IL(k){var P=k._i,L=k._f;return k._locale=k._locale||Ql(k._l),P===null||L===void 0&&P===""?_({nullInput:!0}):(typeof P=="string"&&(k._i=P=k._locale.preparse(P)),T(P)?new E(QE(P)):(h(P)?k._d=P:o(L)?tve(k):L?e6(k):ive(k),w(k)||(k._d=null),k))}function ive(k){var P=k._i;u(P)?k._d=new Date(i.now()):h(P)?k._d=new Date(P.valueOf()):typeof P=="string"?Qye(k):o(P)?(k._a=f(P.slice(0),function(L){return parseInt(L,10)}),ZE(k)):a(P)?nve(k):d(P)?k._d=new Date(P):i.createFromInputFallback(k)}function ML(k,P,L,q,Q){var be={};return(P===!0||P===!1)&&(q=P,P=void 0),(L===!0||L===!1)&&(q=L,L=void 0),(a(k)&&c(k)||o(k)&&k.length===0)&&(k=void 0),be._isAMomentObject=!0,be._useUTC=be._isUTC=Q,be._l=L,be._i=k,be._f=P,be._strict=q,rve(be)}function Gn(k,P,L,q){return ML(k,P,L,q,!1)}var sve=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Gn.apply(null,arguments);return this.isValid()&&k.isValid()?k<this?this:k:_()}),ove=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Gn.apply(null,arguments);return this.isValid()&&k.isValid()?k>this?this:k:_()});function OL(k,P){var L,q;if(P.length===1&&o(P[0])&&(P=P[0]),!P.length)return Gn();for(L=P[0],q=1;q<P.length;++q)(!P[q].isValid()||P[q][k](L))&&(L=P[q]);return L}function ave(){var k=[].slice.call(arguments,0);return OL("isBefore",k)}function lve(){var k=[].slice.call(arguments,0);return OL("isAfter",k)}var cve=function(){return Date.now?Date.now():+new Date},xb=["year","quarter","month","week","day","hour","minute","second","millisecond"];function uve(k){var P,L=!1,q,Q=xb.length;for(P in k)if(l(k,P)&&!(Cn.call(xb,P)!==-1&&(k[P]==null||!isNaN(k[P]))))return!1;for(q=0;q<Q;++q)if(k[xb[q]]){if(L)return!1;parseFloat(k[xb[q]])!==De(k[xb[q]])&&(L=!0)}return!0}function dve(){return this._isValid}function hve(){return ca(NaN)}function s1(k){var P=Ne(k),L=P.year||0,q=P.quarter||0,Q=P.month||0,be=P.week||P.isoWeek||0,Fe=P.day||0,vt=P.hour||0,Ht=P.minute||0,cn=P.second||0,Wi=P.millisecond||0;this._isValid=uve(P),this._milliseconds=+Wi+cn*1e3+Ht*6e4+vt*1e3*60*60,this._days=+Fe+be*7,this._months=+Q+q*3+L*12,this._data={},this._locale=Ql(),this._bubble()}function o1(k){return k instanceof s1}function t6(k){return k<0?Math.round(-1*k)*-1:Math.round(k)}function fve(k,P,L){var q=Math.min(k.length,P.length),Q=Math.abs(k.length-P.length),be=0,Fe;for(Fe=0;Fe<q;Fe++)De(k[Fe])!==De(P[Fe])&&be++;return be+Q}function DL(k,P){X(k,0,0,function(){var L=this.utcOffset(),q="+";return L<0&&(L=-L,q="-"),q+U(~~(L/60),2)+P+U(~~L%60,2)})}DL("Z",":"),DL("ZZ",""),je("Z",re),je("ZZ",re),we(["Z","ZZ"],function(k,P,L){L._useUTC=!0,L._tzm=n6(re,k)});var pve=/([\+\-]|\d\d)/gi;function n6(k,P){var L=(P||"").match(k),q,Q,be;return L===null?null:(q=L[L.length-1]||[],Q=(q+"").match(pve)||["-",0,0],be=+(Q[1]*60)+De(Q[2]),be===0?0:Q[0]==="+"?be:-be)}function r6(k,P){var L,q;return P._isUTC?(L=P.clone(),q=(T(k)||h(k)?k.valueOf():Gn(k).valueOf())-L.valueOf(),L._d.setTime(L._d.valueOf()+q),i.updateOffset(L,!1),L):Gn(k).local()}function i6(k){return-Math.round(k._d.getTimezoneOffset())}i.updateOffset=function(){};function mve(k,P,L){var q=this._offset||0,Q;if(!this.isValid())return k!=null?this:NaN;if(k!=null){if(typeof k=="string"){if(k=n6(re,k),k===null)return this}else Math.abs(k)<16&&!L&&(k=k*60);return!this._isUTC&&P&&(Q=i6(this)),this._offset=k,this._isUTC=!0,Q!=null&&this.add(Q,"m"),q!==k&&(!P||this._changeInProgress?BL(this,ca(k-q,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?q:i6(this)}function gve(k,P){return k!=null?(typeof k!="string"&&(k=-k),this.utcOffset(k,P),this):-this.utcOffset()}function bve(k){return this.utcOffset(0,k)}function yve(k){return this._isUTC&&(this.utcOffset(0,k),this._isUTC=!1,k&&this.subtract(i6(this),"m")),this}function vve(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var k=n6(_e,this._i);k!=null?this.utcOffset(k):this.utcOffset(0,!0)}return this}function wve(k){return this.isValid()?(k=k?Gn(k).utcOffset():0,(this.utcOffset()-k)%60===0):!1}function xve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _ve(){if(!u(this._isDSTShifted))return this._isDSTShifted;var k={},P;return C(k,this),k=IL(k),k._a?(P=k._isUTC?m(k._a):Gn(k._a),this._isDSTShifted=this.isValid()&&fve(k._a,P.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sve(){return this.isValid()?!this._isUTC:!1}function kve(){return this.isValid()?this._isUTC:!1}function RL(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Cve=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Eve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ca(k,P){var L=k,q=null,Q,be,Fe;return o1(k)?L={ms:k._milliseconds,d:k._days,M:k._months}:d(k)||!isNaN(+k)?(L={},P?L[P]=+k:L.milliseconds=+k):(q=Cve.exec(k))?(Q=q[1]==="-"?-1:1,L={y:0,d:De(q[tn])*Q,h:De(q[Wt])*Q,m:De(q[at])*Q,s:De(q[on])*Q,ms:De(t6(q[Jn]*1e3))*Q}):(q=Eve.exec(k))?(Q=q[1]==="-"?-1:1,L={y:hh(q[2],Q),M:hh(q[3],Q),w:hh(q[4],Q),d:hh(q[5],Q),h:hh(q[6],Q),m:hh(q[7],Q),s:hh(q[8],Q)}):L==null?L={}:typeof L=="object"&&("from"in L||"to"in L)&&(Fe=Ave(Gn(L.from),Gn(L.to)),L={},L.ms=Fe.milliseconds,L.M=Fe.months),be=new s1(L),o1(k)&&l(k,"_locale")&&(be._locale=k._locale),o1(k)&&l(k,"_isValid")&&(be._isValid=k._isValid),be}ca.fn=s1.prototype,ca.invalid=hve;function hh(k,P){var L=k&&parseFloat(k.replace(",","."));return(isNaN(L)?0:L)*P}function NL(k,P){var L={};return L.months=P.month()-k.month()+(P.year()-k.year())*12,k.clone().add(L.months,"M").isAfter(P)&&--L.months,L.milliseconds=+P-+k.clone().add(L.months,"M"),L}function Ave(k,P){var L;return k.isValid()&&P.isValid()?(P=r6(P,k),k.isBefore(P)?L=NL(k,P):(L=NL(P,k),L.milliseconds=-L.milliseconds,L.months=-L.months),L):{milliseconds:0,months:0}}function jL(k,P){return function(L,q){var Q,be;return q!==null&&!isNaN(+q)&&(F(P,"moment()."+P+"(period, number) is deprecated. Please use moment()."+P+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),be=L,L=q,q=be),Q=ca(L,q),BL(this,Q,k),this}}function BL(k,P,L,q){var Q=P._milliseconds,be=t6(P._days),Fe=t6(P._months);k.isValid()&&(q=q??!0,Fe&&wu(k,ui(k,"Month")+Fe*L),be&&qs(k,"Date",ui(k,"Date")+be*L),Q&&k._d.setTime(k._d.valueOf()+Q*L),q&&i.updateOffset(k,be||Fe))}var Tve=jL(1,"add"),Pve=jL(-1,"subtract");function LL(k){return typeof k=="string"||k instanceof String}function Ive(k){return T(k)||h(k)||LL(k)||d(k)||Ove(k)||Mve(k)||k===null||k===void 0}function Mve(k){var P=a(k)&&!c(k),L=!1,q=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Q,be,Fe=q.length;for(Q=0;Q<Fe;Q+=1)be=q[Q],L=L||l(k,be);return P&&L}function Ove(k){var P=o(k),L=!1;return P&&(L=k.filter(function(q){return!d(q)&&LL(k)}).length===0),P&&L}function Dve(k){var P=a(k)&&!c(k),L=!1,q=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Q,be;for(Q=0;Q<q.length;Q+=1)be=q[Q],L=L||l(k,be);return P&&L}function Rve(k,P){var L=k.diff(P,"days",!0);return L<-6?"sameElse":L<-1?"lastWeek":L<0?"lastDay":L<1?"sameDay":L<2?"nextDay":L<7?"nextWeek":"sameElse"}function Nve(k,P){arguments.length===1&&(arguments[0]?Ive(arguments[0])?(k=arguments[0],P=void 0):Dve(arguments[0])&&(P=arguments[0],k=void 0):(k=void 0,P=void 0));var L=k||Gn(),q=r6(L,this).startOf("day"),Q=i.calendarFormat(this,q)||"sameElse",be=P&&($(P[Q])?P[Q].call(this,L):P[Q]);return this.format(be||this.localeData().calendar(Q,this,Gn(L)))}function jve(){return new E(this)}function Bve(k,P){var L=T(k)?k:Gn(k);return this.isValid()&&L.isValid()?(P=Oe(P)||"millisecond",P==="millisecond"?this.valueOf()>L.valueOf():L.valueOf()<this.clone().startOf(P).valueOf()):!1}function Lve(k,P){var L=T(k)?k:Gn(k);return this.isValid()&&L.isValid()?(P=Oe(P)||"millisecond",P==="millisecond"?this.valueOf()<L.valueOf():this.clone().endOf(P).valueOf()<L.valueOf()):!1}function Fve(k,P,L,q){var Q=T(k)?k:Gn(k),be=T(P)?P:Gn(P);return this.isValid()&&Q.isValid()&&be.isValid()?(q=q||"()",(q[0]==="("?this.isAfter(Q,L):!this.isBefore(Q,L))&&(q[1]===")"?this.isBefore(be,L):!this.isAfter(be,L))):!1}function $ve(k,P){var L=T(k)?k:Gn(k),q;return this.isValid()&&L.isValid()?(P=Oe(P)||"millisecond",P==="millisecond"?this.valueOf()===L.valueOf():(q=L.valueOf(),this.clone().startOf(P).valueOf()<=q&&q<=this.clone().endOf(P).valueOf())):!1}function zve(k,P){return this.isSame(k,P)||this.isAfter(k,P)}function Uve(k,P){return this.isSame(k,P)||this.isBefore(k,P)}function Wve(k,P,L){var q,Q,be;if(!this.isValid())return NaN;if(q=r6(k,this),!q.isValid())return NaN;switch(Q=(q.utcOffset()-this.utcOffset())*6e4,P=Oe(P),P){case"year":be=a1(this,q)/12;break;case"month":be=a1(this,q);break;case"quarter":be=a1(this,q)/3;break;case"second":be=(this-q)/1e3;break;case"minute":be=(this-q)/6e4;break;case"hour":be=(this-q)/36e5;break;case"day":be=(this-q-Q)/864e5;break;case"week":be=(this-q-Q)/6048e5;break;default:be=this-q}return L?be:ot(be)}function a1(k,P){if(k.date()<P.date())return-a1(P,k);var L=(P.year()-k.year())*12+(P.month()-k.month()),q=k.clone().add(L,"months"),Q,be;return P-q<0?(Q=k.clone().add(L-1,"months"),be=(P-q)/(q-Q)):(Q=k.clone().add(L+1,"months"),be=(P-q)/(Q-q)),-(L+be)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function qve(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hve(k){if(!this.isValid())return null;var P=k!==!0,L=P?this.clone().utc():this;return L.year()<0||L.year()>9999?le(L,P?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?P?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",le(L,"Z")):le(L,P?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Vve(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var k="moment",P="",L,q,Q,be;return this.isLocal()||(k=this.utcOffset()===0?"moment.utc":"moment.parseZone",P="Z"),L="["+k+'("]',q=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Q="-MM-DD[T]HH:mm:ss.SSS",be=P+'[")]',this.format(L+q+Q+be)}function Gve(k){k||(k=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var P=le(this,k);return this.localeData().postformat(P)}function Yve(k,P){return this.isValid()&&(T(k)&&k.isValid()||Gn(k).isValid())?ca({to:this,from:k}).locale(this.locale()).humanize(!P):this.localeData().invalidDate()}function Kve(k){return this.from(Gn(),k)}function Xve(k,P){return this.isValid()&&(T(k)&&k.isValid()||Gn(k).isValid())?ca({from:this,to:k}).locale(this.locale()).humanize(!P):this.localeData().invalidDate()}function Qve(k){return this.to(Gn(),k)}function FL(k){var P;return k===void 0?this._locale._abbr:(P=Ql(k),P!=null&&(this._locale=P),this)}var $L=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(k){return k===void 0?this.localeData():this.locale(k)});function zL(){return this._locale}var l1=1e3,Fp=60*l1,c1=60*Fp,UL=(365*400+97)*24*c1;function $p(k,P){return(k%P+P)%P}function WL(k,P,L){return k<100&&k>=0?new Date(k+400,P,L)-UL:new Date(k,P,L).valueOf()}function qL(k,P,L){return k<100&&k>=0?Date.UTC(k+400,P,L)-UL:Date.UTC(k,P,L)}function Jve(k){var P,L;if(k=Oe(k),k===void 0||k==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?qL:WL,k){case"year":P=L(this.year(),0,1);break;case"quarter":P=L(this.year(),this.month()-this.month()%3,1);break;case"month":P=L(this.year(),this.month(),1);break;case"week":P=L(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":P=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":P=L(this.year(),this.month(),this.date());break;case"hour":P=this._d.valueOf(),P-=$p(P+(this._isUTC?0:this.utcOffset()*Fp),c1);break;case"minute":P=this._d.valueOf(),P-=$p(P,Fp);break;case"second":P=this._d.valueOf(),P-=$p(P,l1);break}return this._d.setTime(P),i.updateOffset(this,!0),this}function Zve(k){var P,L;if(k=Oe(k),k===void 0||k==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?qL:WL,k){case"year":P=L(this.year()+1,0,1)-1;break;case"quarter":P=L(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":P=L(this.year(),this.month()+1,1)-1;break;case"week":P=L(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":P=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":P=L(this.year(),this.month(),this.date()+1)-1;break;case"hour":P=this._d.valueOf(),P+=c1-$p(P+(this._isUTC?0:this.utcOffset()*Fp),c1)-1;break;case"minute":P=this._d.valueOf(),P+=Fp-$p(P,Fp)-1;break;case"second":P=this._d.valueOf(),P+=l1-$p(P,l1)-1;break}return this._d.setTime(P),i.updateOffset(this,!0),this}function ewe(){return this._d.valueOf()-(this._offset||0)*6e4}function twe(){return Math.floor(this.valueOf()/1e3)}function nwe(){return new Date(this.valueOf())}function rwe(){var k=this;return[k.year(),k.month(),k.date(),k.hour(),k.minute(),k.second(),k.millisecond()]}function iwe(){var k=this;return{years:k.year(),months:k.month(),date:k.date(),hours:k.hours(),minutes:k.minutes(),seconds:k.seconds(),milliseconds:k.milliseconds()}}function swe(){return this.isValid()?this.toISOString():null}function owe(){return w(this)}function awe(){return p({},y(this))}function lwe(){return y(this).overflow}function cwe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr"),X("NN",0,0,"eraAbbr"),X("NNN",0,0,"eraAbbr"),X("NNNN",0,0,"eraName"),X("NNNNN",0,0,"eraNarrow"),X("y",["y",1],"yo","eraYear"),X("y",["yy",2],0,"eraYear"),X("y",["yyy",3],0,"eraYear"),X("y",["yyyy",4],0,"eraYear"),je("N",s6),je("NN",s6),je("NNN",s6),je("NNNN",wwe),je("NNNNN",xwe),we(["N","NN","NNN","NNNN","NNNNN"],function(k,P,L,q){var Q=L._locale.erasParse(k,q,L._strict);Q?y(L).era=Q:y(L).invalidEra=k}),je("y",he),je("yy",he),je("yyy",he),je("yyyy",he),je("yo",_we),we(["y","yy","yyy","yyyy"],Ut),we(["yo"],function(k,P,L,q){var Q;L._locale._eraYearOrdinalRegex&&(Q=k.match(L._locale._eraYearOrdinalRegex)),L._locale.eraYearOrdinalParse?P[Ut]=L._locale.eraYearOrdinalParse(k,Q):P[Ut]=parseInt(k,10)});function uwe(k,P){var L,q,Q,be=this._eras||Ql("en")._eras;for(L=0,q=be.length;L<q;++L){switch(typeof be[L].since){case"string":Q=i(be[L].since).startOf("day"),be[L].since=Q.valueOf();break}switch(typeof be[L].until){case"undefined":be[L].until=1/0;break;case"string":Q=i(be[L].until).startOf("day").valueOf(),be[L].until=Q.valueOf();break}}return be}function dwe(k,P,L){var q,Q,be=this.eras(),Fe,vt,Ht;for(k=k.toUpperCase(),q=0,Q=be.length;q<Q;++q)if(Fe=be[q].name.toUpperCase(),vt=be[q].abbr.toUpperCase(),Ht=be[q].narrow.toUpperCase(),L)switch(P){case"N":case"NN":case"NNN":if(vt===k)return be[q];break;case"NNNN":if(Fe===k)return be[q];break;case"NNNNN":if(Ht===k)return be[q];break}else if([Fe,vt,Ht].indexOf(k)>=0)return be[q]}function hwe(k,P){var L=k.since<=k.until?1:-1;return P===void 0?i(k.since).year():i(k.since).year()+(P-k.offset)*L}function fwe(){var k,P,L,q=this.localeData().eras();for(k=0,P=q.length;k<P;++k)if(L=this.clone().startOf("day").valueOf(),q[k].since<=L&&L<=q[k].until||q[k].until<=L&&L<=q[k].since)return q[k].name;return""}function pwe(){var k,P,L,q=this.localeData().eras();for(k=0,P=q.length;k<P;++k)if(L=this.clone().startOf("day").valueOf(),q[k].since<=L&&L<=q[k].until||q[k].until<=L&&L<=q[k].since)return q[k].narrow;return""}function mwe(){var k,P,L,q=this.localeData().eras();for(k=0,P=q.length;k<P;++k)if(L=this.clone().startOf("day").valueOf(),q[k].since<=L&&L<=q[k].until||q[k].until<=L&&L<=q[k].since)return q[k].abbr;return""}function gwe(){var k,P,L,q,Q=this.localeData().eras();for(k=0,P=Q.length;k<P;++k)if(L=Q[k].since<=Q[k].until?1:-1,q=this.clone().startOf("day").valueOf(),Q[k].since<=q&&q<=Q[k].until||Q[k].until<=q&&q<=Q[k].since)return(this.year()-i(Q[k].since).year())*L+Q[k].offset;return this.year()}function bwe(k){return l(this,"_erasNameRegex")||o6.call(this),k?this._erasNameRegex:this._erasRegex}function ywe(k){return l(this,"_erasAbbrRegex")||o6.call(this),k?this._erasAbbrRegex:this._erasRegex}function vwe(k){return l(this,"_erasNarrowRegex")||o6.call(this),k?this._erasNarrowRegex:this._erasRegex}function s6(k,P){return P.erasAbbrRegex(k)}function wwe(k,P){return P.erasNameRegex(k)}function xwe(k,P){return P.erasNarrowRegex(k)}function _we(k,P){return P._eraYearOrdinalRegex||he}function o6(){var k=[],P=[],L=[],q=[],Q,be,Fe,vt,Ht,cn=this.eras();for(Q=0,be=cn.length;Q<be;++Q)Fe=Qe(cn[Q].name),vt=Qe(cn[Q].abbr),Ht=Qe(cn[Q].narrow),P.push(Fe),k.push(vt),L.push(Ht),q.push(Fe),q.push(vt),q.push(Ht);this._erasRegex=new RegExp("^("+q.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+P.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+L.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100}),X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function u1(k,P){X(0,[k,k.length],0,P)}u1("gggg","weekYear"),u1("ggggg","weekYear"),u1("GGGG","isoWeekYear"),u1("GGGGG","isoWeekYear"),je("G",Pe),je("g",Pe),je("GG",ye,de),je("gg",ye,de),je("GGGG",Ce,oe),je("gggg",Ce,oe),je("GGGGG",Re,pe),je("ggggg",Re,pe),_t(["gggg","ggggg","GGGG","GGGGG"],function(k,P,L,q){P[q.substr(0,2)]=De(k)}),_t(["gg","GG"],function(k,P,L,q){P[q]=i.parseTwoDigitYear(k)});function Swe(k){return HL.call(this,k,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function kwe(k){return HL.call(this,k,this.isoWeek(),this.isoWeekday(),1,4)}function Cwe(){return fs(this.year(),1,4)}function Ewe(){return fs(this.isoWeekYear(),1,4)}function Awe(){var k=this.localeData()._week;return fs(this.year(),k.dow,k.doy)}function Twe(){var k=this.localeData()._week;return fs(this.weekYear(),k.dow,k.doy)}function HL(k,P,L,q,Q){var be;return k==null?la(this,q,Q).year:(be=fs(k,q,Q),P>be&&(P=be),Pwe.call(this,k,P,L,q,Q))}function Pwe(k,P,L,q,Q){var be=_u(k,P,L,q,Q),Fe=Xa(be.year,0,be.dayOfYear);return this.year(Fe.getUTCFullYear()),this.month(Fe.getUTCMonth()),this.date(Fe.getUTCDate()),this}X("Q",0,"Qo","quarter"),je("Q",W),we("Q",function(k,P){P[Nt]=(De(k)-1)*3});function Iwe(k){return k==null?Math.ceil((this.month()+1)/3):this.month((k-1)*3+this.month()%3)}X("D",["DD",2],"Do","date"),je("D",ye,rt),je("DD",ye,de),je("Do",function(k,P){return k?P._dayOfMonthOrdinalParse||P._ordinalParse:P._dayOfMonthOrdinalParseLenient}),we(["D","DD"],tn),we("Do",function(k,P){P[tn]=De(k.match(ye)[0])});var VL=Rr("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear"),je("DDD",ce),je("DDDD",me),we(["DDD","DDDD"],function(k,P,L){L._dayOfYear=De(k)});function Mwe(k){var P=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return k==null?P:this.add(k-P,"d")}X("m",["mm",2],0,"minute"),je("m",ye,Le),je("mm",ye,de),we(["m","mm"],at);var Owe=Rr("Minutes",!1);X("s",["ss",2],0,"second"),je("s",ye,Le),je("ss",ye,de),we(["s","ss"],on);var Dwe=Rr("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)}),X(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),X(0,["SSS",3],0,"millisecond"),X(0,["SSSS",4],0,function(){return this.millisecond()*10}),X(0,["SSSSS",5],0,function(){return this.millisecond()*100}),X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),je("S",ce,W),je("SS",ce,de),je("SSS",ce,me);var Au,GL;for(Au="SSSS";Au.length<=9;Au+="S")je(Au,he);function Rwe(k,P){P[Jn]=De(("0."+k)*1e3)}for(Au="S";Au.length<=9;Au+="S")we(Au,Rwe);GL=Rr("Milliseconds",!1),X("z",0,0,"zoneAbbr"),X("zz",0,0,"zoneName");function Nwe(){return this._isUTC?"UTC":""}function jwe(){return this._isUTC?"Coordinated Universal Time":""}var lt=E.prototype;lt.add=Tve,lt.calendar=Nve,lt.clone=jve,lt.diff=Wve,lt.endOf=Zve,lt.format=Gve,lt.from=Yve,lt.fromNow=Kve,lt.to=Xve,lt.toNow=Qve,lt.get=Pp,lt.invalidAt=lwe,lt.isAfter=Bve,lt.isBefore=Lve,lt.isBetween=Fve,lt.isSame=$ve,lt.isSameOrAfter=zve,lt.isSameOrBefore=Uve,lt.isValid=owe,lt.lang=$L,lt.locale=FL,lt.localeData=zL,lt.max=ove,lt.min=sve,lt.parsingFlags=awe,lt.set=Ip,lt.startOf=Jve,lt.subtract=Pve,lt.toArray=rwe,lt.toObject=iwe,lt.toDate=nwe,lt.toISOString=Hve,lt.inspect=Vve,typeof Symbol<"u"&&Symbol.for!=null&&(lt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lt.toJSON=swe,lt.toString=qve,lt.unix=twe,lt.valueOf=ewe,lt.creationData=cwe,lt.eraName=fwe,lt.eraNarrow=pwe,lt.eraAbbr=mwe,lt.eraYear=gwe,lt.year=wo,lt.isLeapYear=aa,lt.weekYear=Swe,lt.isoWeekYear=kwe,lt.quarter=lt.quarters=Iwe,lt.month=lh,lt.daysInMonth=ch,lt.week=lt.weeks=Su,lt.isoWeek=lt.isoWeeks=ku,lt.weeksInYear=Awe,lt.weeksInWeekYear=Twe,lt.isoWeeksInYear=Cwe,lt.isoWeeksInISOWeekYear=Ewe,lt.date=VL,lt.day=lt.days=jt,lt.weekday=qt,lt.isoWeekday=lr,lt.dayOfYear=Mwe,lt.hour=lt.hours=Xt,lt.minute=lt.minutes=Owe,lt.second=lt.seconds=Dwe,lt.millisecond=lt.milliseconds=GL,lt.utcOffset=mve,lt.utc=bve,lt.local=yve,lt.parseZone=vve,lt.hasAlignedHourOffset=wve,lt.isDST=xve,lt.isLocal=Sve,lt.isUtcOffset=kve,lt.isUtc=RL,lt.isUTC=RL,lt.zoneAbbr=Nwe,lt.zoneName=jwe,lt.dates=I("dates accessor is deprecated. Use date instead.",VL),lt.months=I("months accessor is deprecated. Use month instead",lh),lt.years=I("years accessor is deprecated. Use year instead",wo),lt.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gve),lt.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_ve);function Bwe(k){return Gn(k*1e3)}function Lwe(){return Gn.apply(null,arguments).parseZone()}function YL(k){return k}var wn=j.prototype;wn.calendar=H,wn.longDateFormat=Ee,wn.invalidDate=Ie,wn.ordinal=Ue,wn.preparse=YL,wn.postformat=YL,wn.relativeTime=He,wn.pastFuture=xe,wn.set=z,wn.eras=uwe,wn.erasParse=dwe,wn.erasConvertYear=hwe,wn.erasAbbrRegex=ywe,wn.erasNameRegex=bwe,wn.erasNarrowRegex=vwe,wn.months=Zn,wn.monthsShort=Kr,wn.monthsParse=Dp,wn.monthsRegex=dh,wn.monthsShortRegex=uh,wn.week=Np,wn.firstDayOfYear=_o,wn.firstDayOfWeek=xo,wn.weekdays=Je,wn.weekdaysMin=Xe,wn.weekdaysShort=Ge,wn.weekdaysParse=St,wn.weekdaysRegex=di,wn.weekdaysShortRegex=Sn,wn.weekdaysMinRegex=Ai,wn.isPM=ps,wn.meridiem=Sr;function d1(k,P,L,q){var Q=Ql(),be=m().set(q,P);return Q[L](be,k)}function KL(k,P,L){if(d(k)&&(P=k,k=void 0),k=k||"",P!=null)return d1(k,P,L,"month");var q,Q=[];for(q=0;q<12;q++)Q[q]=d1(k,q,L,"month");return Q}function a6(k,P,L,q){typeof k=="boolean"?(d(P)&&(L=P,P=void 0),P=P||""):(P=k,L=P,k=!1,d(P)&&(L=P,P=void 0),P=P||"");var Q=Ql(),be=k?Q._week.dow:0,Fe,vt=[];if(L!=null)return d1(P,(L+be)%7,q,"day");for(Fe=0;Fe<7;Fe++)vt[Fe]=d1(P,(Fe+be)%7,q,"day");return vt}function Fwe(k,P){return KL(k,P,"months")}function $we(k,P){return KL(k,P,"monthsShort")}function zwe(k,P,L){return a6(k,P,L,"weekdays")}function Uwe(k,P,L){return a6(k,P,L,"weekdaysShort")}function Wwe(k,P,L){return a6(k,P,L,"weekdaysMin")}Eu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(k){var P=k%10,L=De(k%100/10)===1?"th":P===1?"st":P===2?"nd":P===3?"rd":"th";return k+L}}),i.lang=I("moment.lang is deprecated. Use moment.locale instead.",Eu),i.langData=I("moment.langData is deprecated. Use moment.localeData instead.",Ql);var Jl=Math.abs;function qwe(){var k=this._data;return this._milliseconds=Jl(this._milliseconds),this._days=Jl(this._days),this._months=Jl(this._months),k.milliseconds=Jl(k.milliseconds),k.seconds=Jl(k.seconds),k.minutes=Jl(k.minutes),k.hours=Jl(k.hours),k.months=Jl(k.months),k.years=Jl(k.years),this}function XL(k,P,L,q){var Q=ca(P,L);return k._milliseconds+=q*Q._milliseconds,k._days+=q*Q._days,k._months+=q*Q._months,k._bubble()}function Hwe(k,P){return XL(this,k,P,1)}function Vwe(k,P){return XL(this,k,P,-1)}function QL(k){return k<0?Math.floor(k):Math.ceil(k)}function Gwe(){var k=this._milliseconds,P=this._days,L=this._months,q=this._data,Q,be,Fe,vt,Ht;return k>=0&&P>=0&&L>=0||k<=0&&P<=0&&L<=0||(k+=QL(l6(L)+P)*864e5,P=0,L=0),q.milliseconds=k%1e3,Q=ot(k/1e3),q.seconds=Q%60,be=ot(Q/60),q.minutes=be%60,Fe=ot(be/60),q.hours=Fe%24,P+=ot(Fe/24),Ht=ot(JL(P)),L+=Ht,P-=QL(l6(Ht)),vt=ot(L/12),L%=12,q.days=P,q.months=L,q.years=vt,this}function JL(k){return k*4800/146097}function l6(k){return k*146097/4800}function Ywe(k){if(!this.isValid())return NaN;var P,L,q=this._milliseconds;if(k=Oe(k),k==="month"||k==="quarter"||k==="year")switch(P=this._days+q/864e5,L=this._months+JL(P),k){case"month":return L;case"quarter":return L/3;case"year":return L/12}else switch(P=this._days+Math.round(l6(this._months)),k){case"week":return P/7+q/6048e5;case"day":return P+q/864e5;case"hour":return P*24+q/36e5;case"minute":return P*1440+q/6e4;case"second":return P*86400+q/1e3;case"millisecond":return Math.floor(P*864e5)+q;default:throw new Error("Unknown unit "+k)}}function Zl(k){return function(){return this.as(k)}}var ZL=Zl("ms"),Kwe=Zl("s"),Xwe=Zl("m"),Qwe=Zl("h"),Jwe=Zl("d"),Zwe=Zl("w"),exe=Zl("M"),txe=Zl("Q"),nxe=Zl("y"),rxe=ZL;function ixe(){return ca(this)}function sxe(k){return k=Oe(k),this.isValid()?this[k+"s"]():NaN}function fh(k){return function(){return this.isValid()?this._data[k]:NaN}}var oxe=fh("milliseconds"),axe=fh("seconds"),lxe=fh("minutes"),cxe=fh("hours"),uxe=fh("days"),dxe=fh("months"),hxe=fh("years");function fxe(){return ot(this.days()/7)}var ec=Math.round,zp={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function pxe(k,P,L,q,Q){return Q.relativeTime(P||1,!!L,k,q)}function mxe(k,P,L,q){var Q=ca(k).abs(),be=ec(Q.as("s")),Fe=ec(Q.as("m")),vt=ec(Q.as("h")),Ht=ec(Q.as("d")),cn=ec(Q.as("M")),Wi=ec(Q.as("w")),tc=ec(Q.as("y")),Tu=be<=L.ss&&["s",be]||be<L.s&&["ss",be]||Fe<=1&&["m"]||Fe<L.m&&["mm",Fe]||vt<=1&&["h"]||vt<L.h&&["hh",vt]||Ht<=1&&["d"]||Ht<L.d&&["dd",Ht];return L.w!=null&&(Tu=Tu||Wi<=1&&["w"]||Wi<L.w&&["ww",Wi]),Tu=Tu||cn<=1&&["M"]||cn<L.M&&["MM",cn]||tc<=1&&["y"]||["yy",tc],Tu[2]=P,Tu[3]=+k>0,Tu[4]=q,pxe.apply(null,Tu)}function gxe(k){return k===void 0?ec:typeof k=="function"?(ec=k,!0):!1}function bxe(k,P){return zp[k]===void 0?!1:P===void 0?zp[k]:(zp[k]=P,k==="s"&&(zp.ss=P-1),!0)}function yxe(k,P){if(!this.isValid())return this.localeData().invalidDate();var L=!1,q=zp,Q,be;return typeof k=="object"&&(P=k,k=!1),typeof k=="boolean"&&(L=k),typeof P=="object"&&(q=Object.assign({},zp,P),P.s!=null&&P.ss==null&&(q.ss=P.s-1)),Q=this.localeData(),be=mxe(this,!L,q,Q),L&&(be=Q.pastFuture(+this,be)),Q.postformat(be)}var c6=Math.abs;function Up(k){return(k>0)-(k<0)||+k}function h1(){if(!this.isValid())return this.localeData().invalidDate();var k=c6(this._milliseconds)/1e3,P=c6(this._days),L=c6(this._months),q,Q,be,Fe,vt=this.asSeconds(),Ht,cn,Wi,tc;return vt?(q=ot(k/60),Q=ot(q/60),k%=60,q%=60,be=ot(L/12),L%=12,Fe=k?k.toFixed(3).replace(/\.?0+$/,""):"",Ht=vt<0?"-":"",cn=Up(this._months)!==Up(vt)?"-":"",Wi=Up(this._days)!==Up(vt)?"-":"",tc=Up(this._milliseconds)!==Up(vt)?"-":"",Ht+"P"+(be?cn+be+"Y":"")+(L?cn+L+"M":"")+(P?Wi+P+"D":"")+(Q||q||k?"T":"")+(Q?tc+Q+"H":"")+(q?tc+q+"M":"")+(k?tc+Fe+"S":"")):"P0D"}var pn=s1.prototype;pn.isValid=dve,pn.abs=qwe,pn.add=Hwe,pn.subtract=Vwe,pn.as=Ywe,pn.asMilliseconds=ZL,pn.asSeconds=Kwe,pn.asMinutes=Xwe,pn.asHours=Qwe,pn.asDays=Jwe,pn.asWeeks=Zwe,pn.asMonths=exe,pn.asQuarters=txe,pn.asYears=nxe,pn.valueOf=rxe,pn._bubble=Gwe,pn.clone=ixe,pn.get=sxe,pn.milliseconds=oxe,pn.seconds=axe,pn.minutes=lxe,pn.hours=cxe,pn.days=uxe,pn.weeks=fxe,pn.months=dxe,pn.years=hxe,pn.humanize=yxe,pn.toISOString=h1,pn.toString=h1,pn.toJSON=h1,pn.locale=FL,pn.localeData=zL,pn.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",h1),pn.lang=$L,X("X",0,0,"unix"),X("x",0,0,"valueOf"),je("x",Pe),je("X",ne),we("X",function(k,P,L){L._d=new Date(parseFloat(k)*1e3)}),we("x",function(k,P,L){L._d=new Date(De(k))});//! moment.js
return i.version="2.30.1",s(Gn),i.fn=lt,i.min=ave,i.max=lve,i.now=cve,i.utc=m,i.unix=Bwe,i.months=Fwe,i.isDate=h,i.locale=Eu,i.invalid=_,i.duration=ca,i.isMoment=T,i.weekdays=zwe,i.parseZone=Lwe,i.localeData=Ql,i.isDuration=o1,i.monthsShort=$we,i.weekdaysMin=Wwe,i.defineLocale=XE,i.updateLocale=Lye,i.locales=Fye,i.weekdaysShort=Uwe,i.normalizeUnits=Oe,i.relativeTimeRounding=gxe,i.relativeTimeThreshold=bxe,i.calendarFormat=Rve,i.prototype=lt,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})}(RS)),RS.exports}var eZe=$4.exports,IG;function tZe(){return IG||(IG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(eZe,function(r){//! moment.js locale configuration
function i(o,a,l,c){var u={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[o+" Tage",o+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[o+" Monate",o+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[o+" Jahre",o+" Jahren"]};return a?u[l][0]:u[l][1]}var s=r.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:i,mm:"%d Minuten",h:i,hh:"%d Stunden",d:i,dd:i,w:i,ww:"%d Wochen",M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})}()),$4.exports}tZe();var z4={exports:{}},nZe=z4.exports,MG;function rZe(){return MG||(MG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(nZe,function(r){//! moment.js locale configuration
var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),o=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,l=r.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return l})}()),z4.exports}rZe();var U4={exports:{}},iZe=U4.exports,OG;function sZe(){return OG||(OG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(iZe,function(r){//! moment.js locale configuration
var i=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,s=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,o=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,a=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],l=r.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:i,monthsShortStrictRegex:s,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(c,u){switch(u){case"D":return c+(c===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return c+(c===1?"er":"e");case"w":case"W":return c+(c===1?"re":"e")}},week:{dow:1,doy:4}});return l})}()),U4.exports}sZe();var W4={exports:{}},oZe=W4.exports,DG;function aZe(){return DG||(DG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(oZe,function(r){//! moment.js locale configuration
var i=r.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return i})}()),W4.exports}aZe();var q4={exports:{}},lZe=q4.exports,RG;function cZe(){return RG||(RG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(lZe,function(r){//! moment.js locale configuration
var i=r.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(s,o){return o[1]===""?1:parseInt(o[1]||s,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(s){return s===""},meridiem:function(s,o,a){return s<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(s){return s.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(s){return this.week()!==s.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(s,o){switch(o){case"y":return s===1?"":s+"";case"d":case"D":case"DDD":return s+"";default:return s}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return i})}()),q4.exports}cZe();var H4={exports:{}},uZe=H4.exports,NG;function dZe(){return NG||(NG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(uZe,function(r){//! moment.js locale configuration
var i="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),s="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),o=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,l=r.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(c){return c+(c===1||c===8||c>=20?"ste":"de")},week:{dow:1,doy:4}});return l})}()),H4.exports}dZe();var V4={exports:{}},hZe=V4.exports,jG;function fZe(){return jG||(jG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(hZe,function(r){//! moment.js locale configuration
var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),s="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),o=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function a(u){return u%10<5&&u%10>1&&~~(u/10)%10!==1}function l(u,d,h){var f=u+" ";switch(h){case"ss":return f+(a(u)?"sekundy":"sekund");case"m":return d?"minuta":"minut";case"mm":return f+(a(u)?"minuty":"minut");case"h":return d?"godzina":"godzin";case"hh":return f+(a(u)?"godziny":"godzin");case"ww":return f+(a(u)?"tygodnie":"tygodni");case"MM":return f+(a(u)?"miesice":"miesicy");case"yy":return f+(a(u)?"lata":"lat")}}var c=r.defineLocale("pl",{months:function(u,d){return u?/D MMMM/.test(d)?s[u.month()]:i[u.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:l,m:l,mm:l,h:l,hh:l,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:l,M:"miesic",MM:l,y:"rok",yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return c})}()),V4.exports}fZe();var G4={exports:{}},pZe=G4.exports,BG;function mZe(){return BG||(BG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(pZe,function(r){//! moment.js locale configuration
function i(l,c){var u=l.split("_");return c%10===1&&c%100!==11?u[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?u[1]:u[2]}function s(l,c,u){var d={ss:c?"__":"__",mm:c?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return u==="m"?c?"":"":l+" "+i(d[u],+l)}var o=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],a=r.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:o,longMonthsParse:o,shortMonthsParse:o,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},lastWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:s,m:s,mm:s,h:"",hh:s,d:"",dd:s,w:"",ww:s,M:"",MM:s,y:"",yy:s},meridiemParse:/|||/i,isPM:function(l){return/^(|)$/.test(l)},meridiem:function(l,c,u){return l<4?"":l<12?"":l<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(l,c){switch(c){case"M":case"d":case"DDD":return l+"-";case"D":return l+"-";case"w":case"W":return l+"-";default:return l}},week:{dow:1,doy:4}});return a})}()),G4.exports}mZe();var Y4={exports:{}},gZe=Y4.exports,LG;function bZe(){return LG||(LG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(gZe,function(r){//! moment.js locale configuration
var i={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},s=r.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(o,a,l){return o<12?l?"":"":l?"s":"S"},meridiemParse:/||s|S/,isPM:function(o){return o==="s"||o==="S"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(o,a){switch(a){case"d":case"D":case"Do":case"DD":return o;default:if(o===0)return o+"'nc";var l=o%10,c=o%100-l,u=o>=100?100:null;return o+(i[l]||i[c]||i[u])}},week:{dow:1,doy:7}});return s})}()),Y4.exports}bZe();var K4={exports:{}},yZe=K4.exports,FG;function vZe(){return FG||(FG=1,function(n,e){(function(r,i){i(typeof Ha=="function"?Va():r.moment)})(yZe,function(r){//! moment.js locale configuration
function i(c,u){var d=c.split("_");return u%10===1&&u%100!==11?d[0]:u%10>=2&&u%10<=4&&(u%100<10||u%100>=20)?d[1]:d[2]}function s(c,u,d){var h={ss:u?"__":"__",mm:u?"__":"__",hh:u?"__":"__",dd:"__",MM:"__",yy:"__"};return d==="m"?u?"":"":d==="h"?u?"":"":c+" "+i(h[d],+c)}function o(c,u){var d={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},h;return c===!0?d.nominative.slice(1,7).concat(d.nominative.slice(0,1)):c?(h=/(\[[]\]) ?dddd/.test(u)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(u)?"genitive":"nominative",d[h][c.day()]):d.nominative}function a(c){return function(){return c+""+(this.hours()===11?"":"")+"] LT"}}var l=r.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:o,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:a("[ "),nextDay:a("[ "),lastDay:a("[ "),nextWeek:a("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[] dddd [").call(this);case 1:case 2:case 4:return a("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:s,m:s,mm:s,h:"",hh:s,d:"",dd:s,M:"",MM:s,y:"",yy:s},meridiemParse:/|||/,isPM:function(c){return/^(|)$/.test(c)},meridiem:function(c,u,d){return c<4?"":c<12?"":c<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(c,u){switch(u){case"M":case"d":case"DDD":case"w":case"W":return c+"-";case"D":return c+"-";default:return c}},week:{dow:1,doy:7}});return l})}()),K4.exports}vZe();var $G={},ny,zG;function wr(){if(zG)return ny;zG=1;var n=function(e){return e&&e.Math===Math&&e};return ny=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof TG=="object"&&TG)||n(typeof ny=="object"&&ny)||function(){return this}()||Function("return this")(),ny}var Y3,UG;function mn(){return UG||(UG=1,Y3=function(n){try{return!!n()}catch{return!0}}),Y3}var K3,WG;function Dx(){if(WG)return K3;WG=1;var n=mn();return K3=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),K3}var X3,qG;function SE(){if(qG)return X3;qG=1;var n=Dx(),e=Function.prototype,r=e.apply,i=e.call;return X3=typeof Reflect=="object"&&Reflect.apply||(n?i.bind(r):function(){return i.apply(r,arguments)}),X3}var Q3,HG;function vn(){if(HG)return Q3;HG=1;var n=Dx(),e=Function.prototype,r=e.call,i=n&&e.bind.bind(r,r);return Q3=n?i:function(s){return function(){return r.apply(s,arguments)}},Q3}var J3,VG;function Vl(){if(VG)return J3;VG=1;var n=vn(),e=n({}.toString),r=n("".slice);return J3=function(i){return r(e(i),8,-1)},J3}var Z3,GG;function kB(){if(GG)return Z3;GG=1;var n=Vl(),e=vn();return Z3=function(r){if(n(r)==="Function")return e(r)},Z3}var eA,YG;function ai(){if(YG)return eA;YG=1;var n=typeof document=="object"&&document.all;return eA=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},eA}var tA={},nA,KG;function Dr(){if(KG)return nA;KG=1;var n=mn();return nA=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),nA}var rA,XG;function $s(){if(XG)return rA;XG=1;var n=Dx(),e=Function.prototype.call;return rA=n?e.bind(e):function(){return e.apply(e,arguments)},rA}var iA={},QG;function kE(){if(QG)return iA;QG=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!n.call({1:2},1);return iA.f=r?function(s){var o=e(this,s);return!!o&&o.enumerable}:n,iA}var sA,JG;function Rx(){return JG||(JG=1,sA=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),sA}var oA,ZG;function CE(){if(ZG)return oA;ZG=1;var n=vn(),e=mn(),r=Vl(),i=Object,s=n("".split);return oA=e(function(){return!i("z").propertyIsEnumerable(0)})?function(o){return r(o)==="String"?s(o,""):i(o)}:i,oA}var aA,eY;function Nx(){return eY||(eY=1,aA=function(n){return n==null}),aA}var lA,tY;function mu(){if(tY)return lA;tY=1;var n=Nx(),e=TypeError;return lA=function(r){if(n(r))throw new e("Can't call method on "+r);return r},lA}var cA,nY;function Ga(){if(nY)return cA;nY=1;var n=CE(),e=mu();return cA=function(r){return n(e(r))},cA}var uA,rY;function zi(){if(rY)return uA;rY=1;var n=ai();return uA=function(e){return typeof e=="object"?e!==null:n(e)},uA}var dA,iY;function Hn(){return iY||(iY=1,dA={}),dA}var hA,sY;function vo(){if(sY)return hA;sY=1;var n=Hn(),e=wr(),r=ai(),i=function(s){return r(s)?s:void 0};return hA=function(s,o){return arguments.length<2?i(n[s])||i(e[s]):n[s]&&n[s][o]||e[s]&&e[s][o]},hA}var fA,oY;function Qn(){if(oY)return fA;oY=1;var n=vn();return fA=n({}.isPrototypeOf),fA}var pA,aY;function lb(){if(aY)return pA;aY=1;var n=wr(),e=n.navigator,r=e&&e.userAgent;return pA=r?String(r):"",pA}var mA,lY;function jx(){if(lY)return mA;lY=1;var n=wr(),e=lb(),r=n.process,i=n.Deno,s=r&&r.versions||i&&i.version,o=s&&s.v8,a,l;return o&&(a=o.split("."),l=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!l&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(l=+a[1]))),mA=l,mA}var gA,cY;function cb(){if(cY)return gA;cY=1;var n=jx(),e=mn(),r=wr(),i=r.String;return gA=!!Object.getOwnPropertySymbols&&!e(function(){var s=Symbol("symbol detection");return!i(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&n&&n<41}),gA}var bA,uY;function d0e(){if(uY)return bA;uY=1;var n=cb();return bA=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bA}var yA,dY;function Bx(){if(dY)return yA;dY=1;var n=vo(),e=ai(),r=Qn(),i=d0e(),s=Object;return yA=i?function(o){return typeof o=="symbol"}:function(o){var a=n("Symbol");return e(a)&&r(a.prototype,s(o))},yA}var vA,hY;function ub(){if(hY)return vA;hY=1;var n=String;return vA=function(e){try{return n(e)}catch{return"Object"}},vA}var wA,fY;function Gl(){if(fY)return wA;fY=1;var n=ai(),e=ub(),r=TypeError;return wA=function(i){if(n(i))return i;throw new r(e(i)+" is not a function")},wA}var xA,pY;function CB(){if(pY)return xA;pY=1;var n=Gl(),e=Nx();return xA=function(r,i){var s=r[i];return e(s)?void 0:n(s)},xA}var _A,mY;function wZe(){if(mY)return _A;mY=1;var n=$s(),e=ai(),r=zi(),i=TypeError;return _A=function(s,o){var a,l;if(o==="string"&&e(a=s.toString)&&!r(l=n(a,s))||e(a=s.valueOf)&&!r(l=n(a,s))||o!=="string"&&e(a=s.toString)&&!r(l=n(a,s)))return l;throw new i("Can't convert object to primitive value")},_A}var SA={exports:{}},kA,gY;function db(){return gY||(gY=1,kA=!0),kA}var CA,bY;function xZe(){if(bY)return CA;bY=1;var n=wr(),e=Object.defineProperty;return CA=function(r,i){try{e(n,r,{value:i,configurable:!0,writable:!0})}catch{n[r]=i}return i},CA}var yY;function EB(){if(yY)return SA.exports;yY=1;var n=db(),e=wr(),r=xZe(),i="__core-js_shared__",s=SA.exports=e[i]||r(i,{});return(s.versions||(s.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),SA.exports}var EA,vY;function hb(){if(vY)return EA;vY=1;var n=EB();return EA=function(e,r){return n[e]||(n[e]=r||{})},EA}var AA,wY;function zs(){if(wY)return AA;wY=1;var n=mu(),e=Object;return AA=function(r){return e(n(r))},AA}var TA,xY;function li(){if(xY)return TA;xY=1;var n=vn(),e=zs(),r=n({}.hasOwnProperty);return TA=Object.hasOwn||function(s,o){return r(e(s),o)},TA}var PA,_Y;function EE(){if(_Y)return PA;_Y=1;var n=vn(),e=0,r=Math.random(),i=n(1.1.toString);return PA=function(s){return"Symbol("+(s===void 0?"":s)+")_"+i(++e+r,36)},PA}var IA,SY;function Lr(){if(SY)return IA;SY=1;var n=wr(),e=hb(),r=li(),i=EE(),s=cb(),o=d0e(),a=n.Symbol,l=e("wks"),c=o?a.for||a:a&&a.withoutSetter||i;return IA=function(u){return r(l,u)||(l[u]=s&&r(a,u)?a[u]:c("Symbol."+u)),l[u]},IA}var MA,kY;function h0e(){if(kY)return MA;kY=1;var n=$s(),e=zi(),r=Bx(),i=CB(),s=wZe(),o=Lr(),a=TypeError,l=o("toPrimitive");return MA=function(c,u){if(!e(c)||r(c))return c;var d=i(c,l),h;if(d){if(u===void 0&&(u="default"),h=n(d,c,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),s(c,u)},MA}var OA,CY;function AB(){if(CY)return OA;CY=1;var n=h0e(),e=Bx();return OA=function(r){var i=n(r,"string");return e(i)?i:i+""},OA}var DA,EY;function f0e(){if(EY)return DA;EY=1;var n=wr(),e=zi(),r=n.document,i=e(r)&&e(r.createElement);return DA=function(s){return i?r.createElement(s):{}},DA}var RA,AY;function p0e(){if(AY)return RA;AY=1;var n=Dr(),e=mn(),r=f0e();return RA=!n&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),RA}var TY;function AE(){if(TY)return tA;TY=1;var n=Dr(),e=$s(),r=kE(),i=Rx(),s=Ga(),o=AB(),a=li(),l=p0e(),c=Object.getOwnPropertyDescriptor;return tA.f=n?c:function(d,h){if(d=s(d),h=o(h),l)try{return c(d,h)}catch{}if(a(d,h))return i(!e(r.f,d,h),d[h])},tA}var NA,PY;function _Ze(){if(PY)return NA;PY=1;var n=mn(),e=ai(),r=/#|\.prototype\./,i=function(c,u){var d=o[s(c)];return d===l?!0:d===a?!1:e(u)?n(u):!!u},s=i.normalize=function(c){return String(c).replace(r,".").toLowerCase()},o=i.data={},a=i.NATIVE="N",l=i.POLYFILL="P";return NA=i,NA}var jA,IY;function Lx(){if(IY)return jA;IY=1;var n=kB(),e=Gl(),r=Dx(),i=n(n.bind);return jA=function(s,o){return e(s),o===void 0?s:r?i(s,o):function(){return s.apply(o,arguments)}},jA}var BA={},LA,MY;function m0e(){if(MY)return LA;MY=1;var n=Dr(),e=mn();return LA=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),LA}var FA,OY;function gu(){if(OY)return FA;OY=1;var n=zi(),e=String,r=TypeError;return FA=function(i){if(n(i))return i;throw new r(e(i)+" is not an object")},FA}var DY;function ia(){if(DY)return BA;DY=1;var n=Dr(),e=p0e(),r=m0e(),i=gu(),s=AB(),o=TypeError,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c="enumerable",u="configurable",d="writable";return BA.f=n?r?function(f,p,m){if(i(f),p=s(p),i(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var b=l(f,p);b&&b[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:b[u],enumerable:c in m?m[c]:b[c],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(i(f),p=s(p),i(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new o("Accessors not supported");return"value"in m&&(f[p]=m.value),f},BA}var $A,RY;function fb(){if(RY)return $A;RY=1;var n=Dr(),e=ia(),r=Rx();return $A=n?function(i,s,o){return e.f(i,s,r(1,o))}:function(i,s,o){return i[s]=o,i},$A}var zA,NY;function Ot(){if(NY)return zA;NY=1;var n=wr(),e=SE(),r=kB(),i=ai(),s=AE().f,o=_Ze(),a=Hn(),l=Lx(),c=fb(),u=li(),d=function(h){var f=function(p,m,b){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,b)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return zA=function(h,f){var p=h.target,m=h.global,b=h.stat,y=h.proto,v=m?n:b?n[p]:n[p]&&n[p].prototype,w=m?a:a[p]||c(a,p,{})[p],_=w.prototype,x,S,C,E,T,M,I,O,F;for(E in f)x=o(m?E:p+(b?".":"#")+E,h.forced),S=!x&&v&&u(v,E),M=w[E],S&&(h.dontCallGetSet?(F=s(v,E),I=F&&F.value):I=v[E]),T=S&&I?I:f[E],!(!x&&!y&&typeof M==typeof T)&&(h.bind&&S?O=l(T,n):h.wrap&&S?O=d(T):y&&i(T)?O=r(T):O=T,(h.sham||T&&T.sham||M&&M.sham)&&c(O,"sham",!0),c(w,E,O),y&&(C=p+"Prototype",u(a,C)||c(a,C,{}),c(a[C],E,T),h.real&&_&&(x||!_[E])&&c(_,E,T)))},zA}var UA,jY;function th(){if(jY)return UA;jY=1;var n=Vl();return UA=Array.isArray||function(r){return n(r)==="Array"},UA}var WA,BY;function SZe(){if(BY)return WA;BY=1;var n=Math.ceil,e=Math.floor;return WA=Math.trunc||function(i){var s=+i;return(s>0?e:n)(s)},WA}var qA,LY;function pb(){if(LY)return qA;LY=1;var n=SZe();return qA=function(e){var r=+e;return r!==r||r===0?0:n(r)},qA}var HA,FY;function g0e(){if(FY)return HA;FY=1;var n=pb(),e=Math.min;return HA=function(r){var i=n(r);return i>0?e(i,9007199254740991):0},HA}var VA,$Y;function Ya(){if($Y)return VA;$Y=1;var n=g0e();return VA=function(e){return n(e.length)},VA}var GA,zY;function TB(){if(zY)return GA;zY=1;var n=TypeError,e=9007199254740991;return GA=function(r){if(r>e)throw n("Maximum allowed index exceeded");return r},GA}var YA,UY;function TE(){if(UY)return YA;UY=1;var n=Dr(),e=ia(),r=Rx();return YA=function(i,s,o){n?e.f(i,s,r(0,o)):i[s]=o},YA}var KA,WY;function PB(){if(WY)return KA;WY=1;var n=Lr(),e=n("toStringTag"),r={};return r[e]="z",KA=String(r)==="[object z]",KA}var XA,qY;function nh(){if(qY)return XA;qY=1;var n=PB(),e=ai(),r=Vl(),i=Lr(),s=i("toStringTag"),o=Object,a=r(function(){return arguments}())==="Arguments",l=function(c,u){try{return c[u]}catch{}};return XA=n?r:function(c){var u,d,h;return c===void 0?"Undefined":c===null?"Null":typeof(d=l(u=o(c),s))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},XA}var QA,HY;function kZe(){if(HY)return QA;HY=1;var n=vn(),e=ai(),r=EB(),i=n(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(s){return i(s)}),QA=r.inspectSource,QA}var JA,VY;function b0e(){if(VY)return JA;VY=1;var n=vn(),e=mn(),r=ai(),i=nh(),s=vo(),o=kZe(),a=function(){},l=s("Reflect","construct"),c=/^\s*(?:class|function)\b/,u=n(c.exec),d=!c.test(a),h=function(m){if(!r(m))return!1;try{return l(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(i(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(c,o(m))}catch{return!0}};return f.sham=!0,JA=!l||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,JA}var ZA,GY;function CZe(){if(GY)return ZA;GY=1;var n=th(),e=b0e(),r=zi(),i=Lr(),s=i("species"),o=Array;return ZA=function(a){var l;return n(a)&&(l=a.constructor,e(l)&&(l===o||n(l.prototype))?l=void 0:r(l)&&(l=l[s],l===null&&(l=void 0))),l===void 0?o:l},ZA}var eT,YY;function PE(){if(YY)return eT;YY=1;var n=CZe();return eT=function(e,r){return new(n(e))(r===0?0:r)},eT}var tT,KY;function Fx(){if(KY)return tT;KY=1;var n=mn(),e=Lr(),r=jx(),i=e("species");return tT=function(s){return r>=51||!n(function(){var o=[],a=o.constructor={};return a[i]=function(){return{foo:1}},o[s](Boolean).foo!==1})},tT}var XY;function y0e(){if(XY)return $G;XY=1;var n=Ot(),e=mn(),r=th(),i=zi(),s=zs(),o=Ya(),a=TB(),l=TE(),c=PE(),u=Fx(),d=Lr(),h=jx(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var y=[];return y[f]=!1,y.concat()[0]!==y}),m=function(y){if(!i(y))return!1;var v=y[f];return v!==void 0?!!v:r(y)},b=!p||!u("concat");return n({target:"Array",proto:!0,arity:1,forced:b},{concat:function(v){var w=s(this),_=c(w,0),x=0,S,C,E,T,M;for(S=-1,E=arguments.length;S<E;S++)if(M=S===-1?w:arguments[S],m(M))for(T=o(M),a(x+T),C=0;C<T;C++,x++)C in M&&l(_,x,M[C]);else a(x+1),l(_,x++,M);return _.length=x,_}}),$G}var QY={},JY={},nT,ZY;function sa(){if(ZY)return nT;ZY=1;var n=nh(),e=String;return nT=function(r){if(n(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},nT}var rT={},iT,eK;function IE(){if(eK)return iT;eK=1;var n=pb(),e=Math.max,r=Math.min;return iT=function(i,s){var o=n(i);return o<0?e(o+s,0):r(o,s)},iT}var sT,tK;function IB(){if(tK)return sT;tK=1;var n=Ga(),e=IE(),r=Ya(),i=function(s){return function(o,a,l){var c=n(o),u=r(c);if(u===0)return!s&&-1;var d=e(l,u),h;if(s&&a!==a){for(;u>d;)if(h=c[d++],h!==h)return!0}else for(;u>d;d++)if((s||d in c)&&c[d]===a)return s||d||0;return!s&&-1}};return sT={includes:i(!0),indexOf:i(!1)},sT}var oT,nK;function $x(){return nK||(nK=1,oT={}),oT}var aT,rK;function v0e(){if(rK)return aT;rK=1;var n=vn(),e=li(),r=Ga(),i=IB().indexOf,s=$x(),o=n([].push);return aT=function(a,l){var c=r(a),u=0,d=[],h;for(h in c)!e(s,h)&&e(c,h)&&o(d,h);for(;l.length>u;)e(c,h=l[u++])&&(~i(d,h)||o(d,h));return d},aT}var lT,iK;function MB(){return iK||(iK=1,lT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),lT}var cT,sK;function zx(){if(sK)return cT;sK=1;var n=v0e(),e=MB();return cT=Object.keys||function(i){return n(i,e)},cT}var oK;function OB(){if(oK)return rT;oK=1;var n=Dr(),e=m0e(),r=ia(),i=gu(),s=Ga(),o=zx();return rT.f=n&&!e?Object.defineProperties:function(l,c){i(l);for(var u=s(c),d=o(c),h=d.length,f=0,p;h>f;)r.f(l,p=d[f++],u[p]);return l},rT}var uT,aK;function EZe(){if(aK)return uT;aK=1;var n=vo();return uT=n("document","documentElement"),uT}var dT,lK;function ME(){if(lK)return dT;lK=1;var n=hb(),e=EE(),r=n("keys");return dT=function(i){return r[i]||(r[i]=e(i))},dT}var hT,cK;function Ux(){if(cK)return hT;cK=1;var n=gu(),e=OB(),r=MB(),i=$x(),s=EZe(),o=f0e(),a=ME(),l=">",c="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(w){return c+d+l+w+c+"/"+d+l},m=function(w){w.write(p("")),w.close();var _=w.parentWindow.Object;return w=null,_},b=function(){var w=o("iframe"),_="java"+d+":",x;return w.style.display="none",s.appendChild(w),w.src=String(_),x=w.contentWindow.document,x.open(),x.write(p("document.F=Object")),x.close(),x.F},y,v=function(){try{y=new ActiveXObject("htmlfile")}catch{}v=typeof document<"u"?document.domain&&y?m(y):b():m(y);for(var w=r.length;w--;)delete v[u][r[w]];return v()};return i[h]=!0,hT=Object.create||function(_,x){var S;return _!==null?(f[u]=n(_),S=new f,f[u]=null,S[h]=_):S=v(),x===void 0?S:e.f(S,x)},hT}var fT={},uK;function OE(){if(uK)return fT;uK=1;var n=v0e(),e=MB(),r=e.concat("length","prototype");return fT.f=Object.getOwnPropertyNames||function(s){return n(s,r)},fT}var pT={},mT,dK;function mb(){if(dK)return mT;dK=1;var n=vn();return mT=n([].slice),mT}var hK;function w0e(){if(hK)return pT;hK=1;var n=Vl(),e=Ga(),r=OE().f,i=mb(),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(a){try{return r(a)}catch{return i(s)}};return pT.f=function(l){return s&&n(l)==="Window"?o(l):r(e(l))},pT}var gT={},fK;function DE(){return fK||(fK=1,gT.f=Object.getOwnPropertySymbols),gT}var bT,pK;function Wx(){if(pK)return bT;pK=1;var n=fb();return bT=function(e,r,i,s){return s&&s.enumerable?e[r]=i:n(e,r,i),e},bT}var yT,mK;function DB(){if(mK)return yT;mK=1;var n=ia();return yT=function(e,r,i){return n.f(e,r,i)},yT}var vT={},gK;function RE(){if(gK)return vT;gK=1;var n=Lr();return vT.f=n,vT}var wT,bK;function hr(){if(bK)return wT;bK=1;var n=Hn(),e=li(),r=RE(),i=ia().f;return wT=function(s){var o=n.Symbol||(n.Symbol={});e(o,s)||i(o,s,{value:r.f(s)})},wT}var xT,yK;function x0e(){if(yK)return xT;yK=1;var n=$s(),e=vo(),r=Lr(),i=Wx();return xT=function(){var s=e("Symbol"),o=s&&s.prototype,a=o&&o.valueOf,l=r("toPrimitive");o&&!o[l]&&i(o,l,function(c){return n(a,this)},{arity:1})},xT}var _T,vK;function AZe(){if(vK)return _T;vK=1;var n=PB(),e=nh();return _T=n?{}.toString:function(){return"[object "+e(this)+"]"},_T}var ST,wK;function xp(){if(wK)return ST;wK=1;var n=PB(),e=ia().f,r=fb(),i=li(),s=AZe(),o=Lr(),a=o("toStringTag");return ST=function(l,c,u,d){var h=u?l:l&&l.prototype;h&&(i(h,a)||e(h,a,{configurable:!0,value:c}),d&&!n&&r(h,"toString",s))},ST}var kT,xK;function TZe(){if(xK)return kT;xK=1;var n=wr(),e=ai(),r=n.WeakMap;return kT=e(r)&&/native code/.test(String(r)),kT}var CT,_K;function qx(){if(_K)return CT;_K=1;var n=TZe(),e=wr(),r=zi(),i=fb(),s=li(),o=EB(),a=ME(),l=$x(),c="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(w){return p(w)?f(w):h(w,{})},b=function(w){return function(_){var x;if(!r(_)||(x=f(_)).type!==w)throw new u("Incompatible receiver, "+w+" required");return x}};if(n||o.state){var y=o.state||(o.state=new d);y.get=y.get,y.has=y.has,y.set=y.set,h=function(w,_){if(y.has(w))throw new u(c);return _.facade=w,y.set(w,_),_},f=function(w){return y.get(w)||{}},p=function(w){return y.has(w)}}else{var v=a("state");l[v]=!0,h=function(w,_){if(s(w,v))throw new u(c);return _.facade=w,i(w,v,_),_},f=function(w){return s(w,v)?w[v]:{}},p=function(w){return s(w,v)}}return CT={set:h,get:f,has:p,enforce:m,getterFor:b},CT}var ET,SK;function rh(){if(SK)return ET;SK=1;var n=Lx(),e=vn(),r=CE(),i=zs(),s=Ya(),o=PE(),a=e([].push),l=function(c){var u=c===1,d=c===2,h=c===3,f=c===4,p=c===6,m=c===7,b=c===5||p;return function(y,v,w,_){for(var x=i(y),S=r(x),C=s(S),E=n(v,w),T=0,M=_||o,I=u?M(y,C):d||m?M(y,0):void 0,O,F;C>T;T++)if((b||T in S)&&(O=S[T],F=E(O,T,x),c))if(u)I[T]=F;else if(F)switch(c){case 3:return!0;case 5:return O;case 6:return T;case 2:a(I,O)}else switch(c){case 4:return!1;case 7:a(I,O)}return p?-1:h||f?f:I}};return ET={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)},ET}var kK;function PZe(){if(kK)return JY;kK=1;var n=Ot(),e=wr(),r=$s(),i=vn(),s=db(),o=Dr(),a=cb(),l=mn(),c=li(),u=Qn(),d=gu(),h=Ga(),f=AB(),p=sa(),m=Rx(),b=Ux(),y=zx(),v=OE(),w=w0e(),_=DE(),x=AE(),S=ia(),C=OB(),E=kE(),T=Wx(),M=DB(),I=hb(),O=ME(),F=$x(),$=EE(),z=Lr(),D=RE(),j=hr(),N=x0e(),R=xp(),H=qx(),U=rh().forEach,K=O("hidden"),Y="Symbol",J="prototype",G=H.set,X=H.getterFor(Y),ae=Object[J],ge=e.Symbol,le=ge&&ge[J],ie=e.RangeError,Te=e.TypeError,Ee=e.QObject,V=x.f,Ie=S.f,Ye=w.f,nt=E.f,Ue=i([].push),mt=I("symbols"),He=I("op-symbols"),xe=I("wks"),Ve=!Ee||!Ee[J]||!Ee[J].findChild,Oe=function(Z,ue,ce){var Ce=V(ae,ue);Ce&&delete ae[ue],Ie(Z,ue,ce),Ce&&Z!==ae&&Ie(ae,ue,Ce)},Ne=o&&l(function(){return b(Ie({},"a",{get:function(){return Ie(this,"a",{value:7}).a}})).a!==7})?Oe:Ie,Ae=function(Z,ue){var ce=mt[Z]=b(le);return G(ce,{type:Y,tag:Z,description:ue}),o||(ce.description=ue),ce},Se=function(ue,ce,Ce){ue===ae&&Se(He,ce,Ce),d(ue);var Re=f(ce);return d(Ce),c(mt,Re)?(Ce.enumerable?(c(ue,K)&&ue[K][Re]&&(ue[K][Re]=!1),Ce=b(Ce,{enumerable:m(0,!1)})):(c(ue,K)||Ie(ue,K,m(1,b(null))),ue[K][Re]=!0),Ne(ue,Re,Ce)):Ie(ue,Re,Ce)},W=function(ue,ce){d(ue);var Ce=h(ce),Re=y(Ce).concat(ye(Ce));return U(Re,function(he){(!o||r(me,Ce,he))&&Se(ue,he,Ce[he])}),ue},de=function(ue,ce){return ce===void 0?b(ue):W(b(ue),ce)},me=function(ue){var ce=f(ue),Ce=r(nt,this,ce);return this===ae&&c(mt,ce)&&!c(He,ce)?!1:Ce||!c(this,ce)||!c(mt,ce)||c(this,K)&&this[K][ce]?Ce:!0},oe=function(ue,ce){var Ce=h(ue),Re=f(ce);if(!(Ce===ae&&c(mt,Re)&&!c(He,Re))){var he=V(Ce,Re);return he&&c(mt,Re)&&!(c(Ce,K)&&Ce[K][Re])&&(he.enumerable=!0),he}},pe=function(ue){var ce=Ye(h(ue)),Ce=[];return U(ce,function(Re){!c(mt,Re)&&!c(F,Re)&&Ue(Ce,Re)}),Ce},ye=function(Z){var ue=Z===ae,ce=Ye(ue?He:h(Z)),Ce=[];return U(ce,function(Re){c(mt,Re)&&(!ue||c(ae,Re))&&Ue(Ce,mt[Re])}),Ce};return a||(ge=function(){if(u(le,this))throw new Te("Symbol is not a constructor");var ue=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ce=$(ue),Ce=function(Re){var he=this===void 0?e:this;he===ae&&r(Ce,He,Re),c(he,K)&&c(he[K],ce)&&(he[K][ce]=!1);var Pe=m(1,Re);try{Ne(he,ce,Pe)}catch(_e){if(!(_e instanceof ie))throw _e;Oe(he,ce,Pe)}};return o&&Ve&&Ne(ae,ce,{configurable:!0,set:Ce}),Ae(ce,ue)},le=ge[J],T(le,"toString",function(){return X(this).tag}),T(ge,"withoutSetter",function(Z){return Ae($(Z),Z)}),E.f=me,S.f=Se,C.f=W,x.f=oe,v.f=w.f=pe,_.f=ye,D.f=function(Z){return Ae(z(Z),Z)},o&&(M(le,"description",{configurable:!0,get:function(){return X(this).description}}),s||T(ae,"propertyIsEnumerable",me,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:ge}),U(y(xe),function(Z){j(Z)}),n({target:Y,stat:!0,forced:!a},{useSetter:function(){Ve=!0},useSimple:function(){Ve=!1}}),n({target:"Object",stat:!0,forced:!a,sham:!o},{create:de,defineProperty:Se,defineProperties:W,getOwnPropertyDescriptor:oe}),n({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),N(),R(ge,Y),F[K]=!0,JY}var CK={},AT,EK;function _0e(){if(EK)return AT;EK=1;var n=cb();return AT=n&&!!Symbol.for&&!!Symbol.keyFor,AT}var AK;function IZe(){if(AK)return CK;AK=1;var n=Ot(),e=vo(),r=li(),i=sa(),s=hb(),o=_0e(),a=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!o},{for:function(c){var u=i(c);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,l[d]=u,d}}),CK}var TK={},PK;function MZe(){if(PK)return TK;PK=1;var n=Ot(),e=li(),r=Bx(),i=ub(),s=hb(),o=_0e(),a=s("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!o},{keyFor:function(c){if(!r(c))throw new TypeError(i(c)+" is not a symbol");if(e(a,c))return a[c]}}),TK}var IK={},TT,MK;function OZe(){if(MK)return TT;MK=1;var n=vn(),e=th(),r=ai(),i=Vl(),s=sa(),o=n([].push);return TT=function(a){if(r(a))return a;if(e(a)){for(var l=a.length,c=[],u=0;u<l;u++){var d=a[u];typeof d=="string"?o(c,d):(typeof d=="number"||i(d)==="Number"||i(d)==="String")&&o(c,s(d))}var h=c.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var b=0;b<h;b++)if(c[b]===p)return m}}},TT}var OK;function S0e(){if(OK)return IK;OK=1;var n=Ot(),e=vo(),r=SE(),i=$s(),s=vn(),o=mn(),a=ai(),l=Bx(),c=mb(),u=OZe(),d=cb(),h=String,f=e("JSON","stringify"),p=s(/./.exec),m=s("".charAt),b=s("".charCodeAt),y=s("".replace),v=s(1.1.toString),w=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,S=!d||o(function(){var M=e("Symbol")("stringify detection");return f([M])!=="[null]"||f({a:M})!=="{}"||f(Object(M))!=="{}"}),C=o(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),E=function(M,I){var O=c(arguments),F=u(I);if(!(!a(F)&&(M===void 0||l(M))))return O[1]=function($,z){if(a(F)&&(z=i(F,this,h($),z)),!l(z))return z},r(f,null,O)},T=function(M,I,O){var F=m(O,I-1),$=m(O,I+1);return p(_,M)&&!p(x,$)||p(x,M)&&!p(_,F)?"\\u"+v(b(M,0),16):M};return f&&n({target:"JSON",stat:!0,arity:3,forced:S||C},{stringify:function(I,O,F){var $=c(arguments),z=r(S?E:f,null,$);return C&&typeof z=="string"?y(z,w,T):z}}),IK}var DK={},RK;function DZe(){if(RK)return DK;RK=1;var n=Ot(),e=cb(),r=mn(),i=DE(),s=zs(),o=!e||r(function(){i.f(1)});return n({target:"Object",stat:!0,forced:o},{getOwnPropertySymbols:function(l){var c=i.f;return c?c(s(l)):[]}}),DK}var NK;function k0e(){return NK||(NK=1,PZe(),IZe(),MZe(),S0e(),DZe()),QY}var jK={},BK;function C0e(){if(BK)return jK;BK=1;var n=hr();return n("asyncDispose"),jK}var LK={},FK;function RZe(){if(FK)return LK;FK=1;var n=hr();return n("asyncIterator"),LK}var $K={},zK;function E0e(){if(zK)return $K;zK=1;var n=hr();return n("dispose"),$K}var UK={},WK;function NZe(){if(WK)return UK;WK=1;var n=hr();return n("hasInstance"),UK}var qK={},HK;function jZe(){if(HK)return qK;HK=1;var n=hr();return n("isConcatSpreadable"),qK}var VK={},GK;function A0e(){if(GK)return VK;GK=1;var n=hr();return n("iterator"),VK}var YK={},KK;function BZe(){if(KK)return YK;KK=1;var n=hr();return n("match"),YK}var XK={},QK;function LZe(){if(QK)return XK;QK=1;var n=hr();return n("matchAll"),XK}var JK={},ZK;function FZe(){if(ZK)return JK;ZK=1;var n=hr();return n("replace"),JK}var eX={},tX;function $Ze(){if(tX)return eX;tX=1;var n=hr();return n("search"),eX}var nX={},rX;function zZe(){if(rX)return nX;rX=1;var n=hr();return n("species"),nX}var iX={},sX;function UZe(){if(sX)return iX;sX=1;var n=hr();return n("split"),iX}var oX={},aX;function T0e(){if(aX)return oX;aX=1;var n=hr(),e=x0e();return n("toPrimitive"),e(),oX}var lX={},cX;function WZe(){if(cX)return lX;cX=1;var n=vo(),e=hr(),r=xp();return e("toStringTag"),r(n("Symbol"),"Symbol"),lX}var uX={},dX;function qZe(){if(dX)return uX;dX=1;var n=hr();return n("unscopables"),uX}var hX={},fX;function HZe(){if(fX)return hX;fX=1;var n=wr(),e=xp();return e(n.JSON,"JSON",!0),hX}var PT,pX;function VZe(){if(pX)return PT;pX=1,y0e(),k0e(),C0e(),RZe(),E0e(),NZe(),jZe(),A0e(),BZe(),LZe(),FZe(),$Ze(),zZe(),UZe(),T0e(),WZe(),qZe(),HZe();var n=Hn();return PT=n.Symbol,PT}var mX={},IT,gX;function Hx(){return gX||(gX=1,IT=function(){}),IT}var MT,bX;function gb(){return bX||(bX=1,MT={}),MT}var OT,yX;function GZe(){if(yX)return OT;yX=1;var n=Dr(),e=li(),r=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=e(r,"name"),o=s&&(function(){}).name==="something",a=s&&(!n||n&&i(r,"name").configurable);return OT={EXISTS:s,PROPER:o,CONFIGURABLE:a},OT}var DT,vX;function P0e(){if(vX)return DT;vX=1;var n=mn();return DT=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),DT}var RT,wX;function NE(){if(wX)return RT;wX=1;var n=li(),e=ai(),r=zs(),i=ME(),s=P0e(),o=i("IE_PROTO"),a=Object,l=a.prototype;return RT=s?a.getPrototypeOf:function(c){var u=r(c);if(n(u,o))return u[o];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?l:null},RT}var NT,xX;function I0e(){if(xX)return NT;xX=1;var n=mn(),e=ai(),r=zi(),i=Ux(),s=NE(),o=Wx(),a=Lr(),l=db(),c=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=s(s(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||n(function(){var m={};return d[c].call(m)!==m});return p?d={}:l&&(d=i(d)),e(d[c])||o(d,c,function(){return this}),NT={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},NT}var jT,_X;function YZe(){if(_X)return jT;_X=1;var n=I0e().IteratorPrototype,e=Ux(),r=Rx(),i=xp(),s=gb(),o=function(){return this};return jT=function(a,l,c,u){var d=l+" Iterator";return a.prototype=e(n,{next:r(+!u,c)}),i(a,d,!1,!0),s[d]=o,a},jT}var BT,SX;function KZe(){if(SX)return BT;SX=1;var n=vn(),e=Gl();return BT=function(r,i,s){try{return n(e(Object.getOwnPropertyDescriptor(r,i)[s]))}catch{}},BT}var LT,kX;function XZe(){if(kX)return LT;kX=1;var n=zi();return LT=function(e){return n(e)||e===null},LT}var FT,CX;function QZe(){if(CX)return FT;CX=1;var n=XZe(),e=String,r=TypeError;return FT=function(i){if(n(i))return i;throw new r("Can't set "+e(i)+" as a prototype")},FT}var $T,EX;function JZe(){if(EX)return $T;EX=1;var n=KZe(),e=zi(),r=mu(),i=QZe();return $T=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,o={},a;try{a=n(Object.prototype,"__proto__","set"),a(o,[]),s=o instanceof Array}catch{}return function(c,u){return r(c),i(u),e(c)&&(s?a(c,u):c.__proto__=u),c}}():void 0),$T}var zT,AX;function RB(){if(AX)return zT;AX=1;var n=Ot(),e=$s(),r=db(),i=GZe(),s=ai(),o=YZe(),a=NE(),l=JZe(),c=xp(),u=fb(),d=Wx(),h=Lr(),f=gb(),p=I0e(),m=i.PROPER,b=i.CONFIGURABLE,y=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,w=h("iterator"),_="keys",x="values",S="entries",C=function(){return this};return zT=function(E,T,M,I,O,F,$){o(M,T,I);var z=function(G){if(G===O&&H)return H;if(!v&&G&&G in N)return N[G];switch(G){case _:return function(){return new M(this,G)};case x:return function(){return new M(this,G)};case S:return function(){return new M(this,G)}}return function(){return new M(this)}},D=T+" Iterator",j=!1,N=E.prototype,R=N[w]||N["@@iterator"]||O&&N[O],H=!v&&R||z(O),U=T==="Array"&&N.entries||R,K,Y,J;if(U&&(K=a(U.call(new E)),K!==Object.prototype&&K.next&&(!r&&a(K)!==y&&(l?l(K,y):s(K[w])||d(K,w,C)),c(K,D,!0,!0),r&&(f[D]=C))),m&&O===x&&R&&R.name!==x&&(!r&&b?u(N,"name",x):(j=!0,H=function(){return e(R,this)})),O)if(Y={values:z(x),keys:F?H:z(_),entries:z(S)},$)for(J in Y)(v||j||!(J in N))&&d(N,J,Y[J]);else n({target:T,proto:!0,forced:v||j},Y);return(!r||$)&&N[w]!==H&&d(N,w,H,{name:O}),f[T]=H,Y},zT}var UT,TX;function NB(){return TX||(TX=1,UT=function(n,e){return{value:n,done:e}}),UT}var WT,PX;function ih(){if(PX)return WT;PX=1;var n=Ga(),e=Hx(),r=gb(),i=qx(),s=ia().f,o=RB(),a=NB(),l=db(),c=Dr(),u="Array Iterator",d=i.set,h=i.getterFor(u);WT=o(Array,"Array",function(p,m){d(this,{type:u,target:n(p),index:0,kind:m})},function(){var p=h(this),m=p.target,b=p.index++;if(!m||b>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(b,!1);case"values":return a(m[b],!1)}return a([b,m[b]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!l&&c&&f.name!=="values")try{s(f,"name",{value:"values"})}catch{}return WT}var qT,IX;function ZZe(){return IX||(IX=1,qT={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),qT}var MX;function sh(){if(MX)return mX;MX=1,ih();var n=ZZe(),e=wr(),r=xp(),i=gb();for(var s in n)r(e[s],s),i[s]=i.Array;return mX}var HT,OX;function M0e(){if(OX)return HT;OX=1;var n=VZe();return sh(),HT=n,HT}var VT,DX;function eet(){return DX||(DX=1,VT=M0e()),VT}var tet=eet(),net=Lt(tet),RX={},NX;function ret(){if(NX)return RX;NX=1;var n=Ot(),e=th(),r=b0e(),i=zi(),s=IE(),o=Ya(),a=Ga(),l=TE(),c=Lr(),u=Fx(),d=mb(),h=u("slice"),f=c("species"),p=Array,m=Math.max;return n({target:"Array",proto:!0,forced:!h},{slice:function(y,v){var w=a(this),_=o(w),x=s(y,_),S=s(v===void 0?_:v,_),C,E,T;if(e(w)&&(C=w.constructor,r(C)&&(C===p||e(C.prototype))?C=void 0:i(C)&&(C=C[f],C===null&&(C=void 0)),C===p||C===void 0))return d(w,x,S);for(E=new(C===void 0?p:C)(m(S-x,0)),T=0;x<S;x++,T++)x in w&&l(E,T,w[x]);return E.length=T,E}}),RX}var GT,jX;function xr(){if(jX)return GT;jX=1;var n=wr(),e=Hn();return GT=function(r,i){var s=e[r+"Prototype"],o=s&&s[i];if(o)return o;var a=n[r],l=a&&a.prototype;return l&&l[i]},GT}var YT,BX;function iet(){if(BX)return YT;BX=1,ret();var n=xr();return YT=n("Array","slice"),YT}var KT,LX;function set(){if(LX)return KT;LX=1;var n=Qn(),e=iet(),r=Array.prototype;return KT=function(i){var s=i.slice;return i===r||n(r,i)&&s===r.slice?e:s},KT}var XT,FX;function oet(){if(FX)return XT;FX=1;var n=set();return XT=n,XT}var QT,$X;function aet(){return $X||($X=1,QT=oet()),QT}var cet=aet(),bb=Lt(cet),zX={},JT,UX;function O0e(){if(UX)return JT;UX=1;var n=vo(),e=vn(),r=OE(),i=DE(),s=gu(),o=e([].concat);return JT=n("Reflect","ownKeys")||function(l){var c=r.f(s(l)),u=i.f;return u?o(c,u(l)):c},JT}var WX;function uet(){if(WX)return zX;WX=1;var n=Ot(),e=O0e();return n({target:"Reflect",stat:!0},{ownKeys:e}),zX}var ZT,qX;function det(){if(qX)return ZT;qX=1,uet();var n=Hn();return ZT=n.Reflect.ownKeys,ZT}var eP,HX;function het(){if(HX)return eP;HX=1;var n=det();return eP=n,eP}var tP,VX;function fet(){return VX||(VX=1,tP=het()),tP}var pet=fet(),D0e=Lt(pet),GX={},YX;function met(){if(YX)return GX;YX=1;var n=Ot(),e=th();return n({target:"Array",stat:!0},{isArray:e}),GX}var nP,KX;function get(){if(KX)return nP;KX=1,met();var n=Hn();return nP=n.Array.isArray,nP}var rP,XX;function bet(){if(XX)return rP;XX=1;var n=get();return rP=n,rP}var iP,QX;function yet(){return QX||(QX=1,iP=bet()),iP}var vet=yet(),nn=Lt(vet),JX={},ZX;function wet(){if(ZX)return JX;ZX=1;var n=Ot(),e=rh().map,r=Fx(),i=r("map");return n({target:"Array",proto:!0,forced:!i},{map:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),JX}var sP,eQ;function xet(){if(eQ)return sP;eQ=1,wet();var n=xr();return sP=n("Array","map"),sP}var oP,tQ;function _et(){if(tQ)return oP;tQ=1;var n=Qn(),e=xet(),r=Array.prototype;return oP=function(i){var s=i.map;return i===r||n(r,i)&&s===r.map?e:s},oP}var aP,nQ;function ket(){if(nQ)return aP;nQ=1;var n=_et();return aP=n,aP}var lP,rQ;function Cet(){return rQ||(rQ=1,lP=ket()),lP}var Eet=Cet(),Tn=Lt(Eet),iQ={},sQ;function Aet(){if(sQ)return iQ;sQ=1;var n=Ot(),e=zs(),r=zx(),i=mn(),s=i(function(){r(1)});return n({target:"Object",stat:!0,forced:s},{keys:function(a){return r(e(a))}}),iQ}var cP,oQ;function Tet(){if(oQ)return cP;oQ=1,Aet();var n=Hn();return cP=n.Object.keys,cP}var uP,aQ;function Pet(){if(aQ)return uP;aQ=1;var n=Tet();return uP=n,uP}var dP,lQ;function Iet(){return lQ||(lQ=1,dP=Pet()),dP}var Met=Iet(),Vr=Lt(Met),cQ={},uQ;function Oet(){if(uQ)return cQ;uQ=1;var n=Ot(),e=vn(),r=Date,i=e(r.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return i(new r)}}),cQ}var hP,dQ;function Det(){if(dQ)return hP;dQ=1,Oet();var n=Hn();return hP=n.Date.now,hP}var fP,hQ;function Ret(){if(hQ)return fP;hQ=1;var n=Det();return fP=n,fP}var pP,fQ;function Net(){return fQ||(fQ=1,pP=Ret()),pP}var jet=Net(),Zs=Lt(jet),pQ={},mP,mQ;function Bet(){if(mQ)return mP;mQ=1;var n=vn(),e=Gl(),r=zi(),i=li(),s=mb(),o=Dx(),a=Function,l=n([].concat),c=n([].join),u={},d=function(h,f,p){if(!i(u,f)){for(var m=[],b=0;b<f;b++)m[b]="a["+b+"]";u[f]=a("C,a","return new C("+c(m,",")+")")}return u[f](h,p)};return mP=o?a.bind:function(f){var p=e(this),m=p.prototype,b=s(arguments,1),y=function(){var w=l(b,s(arguments));return this instanceof y?d(p,w.length,w):p.apply(f,w)};return r(m)&&(y.prototype=m),y},mP}var gQ;function Let(){if(gQ)return pQ;gQ=1;var n=Ot(),e=Bet();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),pQ}var gP,bQ;function Fet(){if(bQ)return gP;bQ=1,Let();var n=xr();return gP=n("Function","bind"),gP}var bP,yQ;function $et(){if(yQ)return bP;yQ=1;var n=Qn(),e=Fet(),r=Function.prototype;return bP=function(i){var s=i.bind;return i===r||n(r,i)&&s===r.bind?e:s},bP}var yP,vQ;function zet(){if(vQ)return yP;vQ=1;var n=$et();return yP=n,yP}var vP,wQ;function Uet(){return wQ||(wQ=1,vP=zet()),vP}var Wet=Uet(),qe=Lt(Wet),xQ={},wP,_Q;function yb(){if(_Q)return wP;_Q=1;var n=mn();return wP=function(e,r){var i=[][e];return!!i&&n(function(){i.call(null,r||function(){return 1},1)})},wP}var xP,SQ;function qet(){if(SQ)return xP;SQ=1;var n=rh().forEach,e=yb(),r=e("forEach");return xP=r?[].forEach:function(s){return n(this,s,arguments.length>1?arguments[1]:void 0)},xP}var kQ;function Het(){if(kQ)return xQ;kQ=1;var n=Ot(),e=qet();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),xQ}var _P,CQ;function Vet(){if(CQ)return _P;CQ=1,Het();var n=xr();return _P=n("Array","forEach"),_P}var SP,EQ;function Get(){if(EQ)return SP;EQ=1;var n=Vet();return SP=n,SP}var kP,AQ;function Yet(){if(AQ)return kP;AQ=1;var n=nh(),e=li(),r=Qn(),i=Get(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return kP=function(a){var l=a.forEach;return a===s||r(s,a)&&l===s.forEach||e(o,n(a))?i:l},kP}var CP,TQ;function Ket(){return TQ||(TQ=1,CP=Yet()),CP}var Xet=Ket(),bt=Lt(Xet),PQ={},IQ;function Qet(){if(IQ)return PQ;IQ=1;var n=Ot(),e=vn(),r=th(),i=e([].reverse),s=[1,2];return n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),i(this)}}),PQ}var EP,MQ;function Jet(){if(MQ)return EP;MQ=1,Qet();var n=xr();return EP=n("Array","reverse"),EP}var AP,OQ;function Zet(){if(OQ)return AP;OQ=1;var n=Qn(),e=Jet(),r=Array.prototype;return AP=function(i){var s=i.reverse;return i===r||n(r,i)&&s===r.reverse?e:s},AP}var TP,DQ;function ett(){if(DQ)return TP;DQ=1;var n=Zet();return TP=n,TP}var PP,RQ;function ttt(){return RQ||(RQ=1,PP=ett()),PP}var ntt=ttt(),rtt=Lt(ntt),NQ={},IP,jQ;function itt(){if(jQ)return IP;jQ=1;var n=Dr(),e=th(),r=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();return IP=s?function(o,a){if(e(o)&&!i(o,"length").writable)throw new r("Cannot set read only .length");return o.length=a}:function(o,a){return o.length=a},IP}var MP,BQ;function R0e(){if(BQ)return MP;BQ=1;var n=ub(),e=TypeError;return MP=function(r,i){if(!delete r[i])throw new e("Cannot delete property "+n(i)+" of "+n(r))},MP}var LQ;function stt(){if(LQ)return NQ;LQ=1;var n=Ot(),e=zs(),r=IE(),i=pb(),s=Ya(),o=itt(),a=TB(),l=PE(),c=TE(),u=R0e(),d=Fx(),h=d("splice"),f=Math.max,p=Math.min;return n({target:"Array",proto:!0,forced:!h},{splice:function(b,y){var v=e(this),w=s(v),_=r(b,w),x=arguments.length,S,C,E,T,M,I;for(x===0?S=C=0:x===1?(S=0,C=w-_):(S=x-2,C=p(f(i(y),0),w-_)),a(w+S-C),E=l(v,C),T=0;T<C;T++)M=_+T,M in v&&c(E,T,v[M]);if(E.length=C,S<C){for(T=_;T<w-C;T++)M=T+C,I=T+S,M in v?v[I]=v[M]:u(v,I);for(T=w;T>w-C+S;T--)u(v,T-1)}else if(S>C)for(T=w-C;T>_;T--)M=T+C-1,I=T+S-1,M in v?v[I]=v[M]:u(v,I);for(T=0;T<S;T++)v[T+_]=arguments[T+2];return o(v,w-C+S),E}}),NQ}var OP,FQ;function ott(){if(FQ)return OP;FQ=1,stt();var n=xr();return OP=n("Array","splice"),OP}var DP,$Q;function att(){if($Q)return DP;$Q=1;var n=Qn(),e=ott(),r=Array.prototype;return DP=function(i){var s=i.splice;return i===r||n(r,i)&&s===r.splice?e:s},DP}var RP,zQ;function ltt(){if(zQ)return RP;zQ=1;var n=att();return RP=n,RP}var NP,UQ;function ctt(){return UQ||(UQ=1,NP=ltt()),NP}var utt=ctt(),es=Lt(utt),WQ={},jP,qQ;function dtt(){if(qQ)return jP;qQ=1;var n=Dr(),e=vn(),r=$s(),i=mn(),s=zx(),o=DE(),a=kE(),l=zs(),c=CE(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return jP=!u||i(function(){if(n&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),b="abcdefghijklmnopqrst";return f[m]=7,b.split("").forEach(function(y){p[y]=y}),u({},f)[m]!==7||s(u({},p)).join("")!==b})?function(p,m){for(var b=l(p),y=arguments.length,v=1,w=o.f,_=a.f;y>v;)for(var x=c(arguments[v++]),S=w?h(s(x),w(x)):s(x),C=S.length,E=0,T;C>E;)T=S[E++],(!n||r(_,x,T))&&(b[T]=x[T]);return b}:u,jP}var HQ;function htt(){if(HQ)return WQ;HQ=1;var n=Ot(),e=dtt();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),WQ}var BP,VQ;function ftt(){if(VQ)return BP;VQ=1,htt();var n=Hn();return BP=n.Object.assign,BP}var LP,GQ;function ptt(){if(GQ)return LP;GQ=1;var n=ftt();return LP=n,LP}var FP,YQ;function mtt(){return YQ||(YQ=1,FP=ptt()),FP}var gtt=mtt(),cu=Lt(gtt),KQ={},XQ;function btt(){if(XQ)return KQ;XQ=1;var n=Ot(),e=IB().includes,r=mn(),i=Hx(),s=r(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:s},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),i("includes"),KQ}var $P,QQ;function ytt(){if(QQ)return $P;QQ=1,btt();var n=xr();return $P=n("Array","includes"),$P}var JQ={},zP,ZQ;function vtt(){if(ZQ)return zP;ZQ=1;var n=zi(),e=Vl(),r=Lr(),i=r("match");return zP=function(s){var o;return n(s)&&((o=s[i])!==void 0?!!o:e(s)==="RegExp")},zP}var UP,eJ;function wtt(){if(eJ)return UP;eJ=1;var n=vtt(),e=TypeError;return UP=function(r){if(n(r))throw new e("The method doesn't accept regular expressions");return r},UP}var WP,tJ;function xtt(){if(tJ)return WP;tJ=1;var n=Lr(),e=n("match");return WP=function(r){var i=/./;try{"/./"[r](i)}catch{try{return i[e]=!1,"/./"[r](i)}catch{}}return!1},WP}var nJ;function _tt(){if(nJ)return JQ;nJ=1;var n=Ot(),e=vn(),r=wtt(),i=mu(),s=sa(),o=xtt(),a=e("".indexOf);return n({target:"String",proto:!0,forced:!o("includes")},{includes:function(c){return!!~a(s(i(this)),s(r(c)),arguments.length>1?arguments[1]:void 0)}}),JQ}var qP,rJ;function Stt(){if(rJ)return qP;rJ=1,_tt();var n=xr();return qP=n("String","includes"),qP}var HP,iJ;function ktt(){if(iJ)return HP;iJ=1;var n=Qn(),e=ytt(),r=Stt(),i=Array.prototype,s=String.prototype;return HP=function(o){var a=o.includes;return o===i||n(i,o)&&a===i.includes?e:typeof o=="string"||o===s||n(s,o)&&a===s.includes?r:a},HP}var VP,sJ;function Ctt(){if(sJ)return VP;sJ=1;var n=ktt();return VP=n,VP}var GP,oJ;function Ett(){return oJ||(oJ=1,GP=Ctt()),GP}var Att=Ett(),T0=Lt(Att),aJ={},lJ;function Ttt(){if(lJ)return aJ;lJ=1;var n=Ot(),e=mn(),r=zs(),i=NE(),s=P0e(),o=e(function(){i(1)});return n({target:"Object",stat:!0,forced:o,sham:!s},{getPrototypeOf:function(l){return i(r(l))}}),aJ}var YP,cJ;function Ptt(){if(cJ)return YP;cJ=1,Ttt();var n=Hn();return YP=n.Object.getPrototypeOf,YP}var KP,uJ;function Itt(){if(uJ)return KP;uJ=1;var n=Ptt();return KP=n,KP}var XP,dJ;function Mtt(){return dJ||(dJ=1,XP=Itt()),XP}var Ott=Mtt(),hJ=Lt(Ott),QP,fJ;function Dtt(){if(fJ)return QP;fJ=1,y0e();var n=xr();return QP=n("Array","concat"),QP}var JP,pJ;function Rtt(){if(pJ)return JP;pJ=1;var n=Qn(),e=Dtt(),r=Array.prototype;return JP=function(i){var s=i.concat;return i===r||n(r,i)&&s===r.concat?e:s},JP}var ZP,mJ;function Ntt(){if(mJ)return ZP;mJ=1;var n=Rtt();return ZP=n,ZP}var eI,gJ;function jtt(){return gJ||(gJ=1,eI=Ntt()),eI}var Btt=jtt(),Er=Lt(Btt),bJ={},yJ;function Ltt(){if(yJ)return bJ;yJ=1;var n=Ot(),e=rh().filter,r=Fx(),i=r("filter");return n({target:"Array",proto:!0,forced:!i},{filter:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),bJ}var tI,vJ;function Ftt(){if(vJ)return tI;vJ=1,Ltt();var n=xr();return tI=n("Array","filter"),tI}var nI,wJ;function $tt(){if(wJ)return nI;wJ=1;var n=Qn(),e=Ftt(),r=Array.prototype;return nI=function(i){var s=i.filter;return i===r||n(r,i)&&s===r.filter?e:s},nI}var rI,xJ;function ztt(){if(xJ)return rI;xJ=1;var n=$tt();return rI=n,rI}var iI,_J;function Utt(){return _J||(_J=1,iI=ztt()),iI}var Wtt=Utt(),zt=Lt(Wtt),SJ={},sI,kJ;function N0e(){if(kJ)return sI;kJ=1;var n=Dr(),e=mn(),r=vn(),i=NE(),s=zx(),o=Ga(),a=kE().f,l=r(a),c=r([].push),u=n&&e(function(){var h=Object.create(null);return h[2]=2,!l(h,2)}),d=function(h){return function(f){for(var p=o(f),m=s(p),b=u&&i(p)===null,y=m.length,v=0,w=[],_;y>v;)_=m[v++],(!n||(b?_ in p:l(p,_)))&&c(w,h?[_,p[_]]:p[_]);return w}};return sI={entries:d(!0),values:d(!1)},sI}var CJ;function qtt(){if(CJ)return SJ;CJ=1;var n=Ot(),e=N0e().values;return n({target:"Object",stat:!0},{values:function(i){return e(i)}}),SJ}var oI,EJ;function Htt(){if(EJ)return oI;EJ=1,qtt();var n=Hn();return oI=n.Object.values,oI}var aI,AJ;function Vtt(){if(AJ)return aI;AJ=1;var n=Htt();return aI=n,aI}var lI,TJ;function Gtt(){return TJ||(TJ=1,lI=Vtt()),lI}var Ytt=Gtt(),jB=Lt(Ytt),PJ={},cI,IJ;function BB(){return IJ||(IJ=1,cI=`	
\v\f\r \u2028\u2029\uFEFF`),cI}var uI,MJ;function j0e(){if(MJ)return uI;MJ=1;var n=vn(),e=mu(),r=sa(),i=BB(),s=n("".replace),o=RegExp("^["+i+"]+"),a=RegExp("(^|[^"+i+"])["+i+"]+$"),l=function(c){return function(u){var d=r(e(u));return c&1&&(d=s(d,o,"")),c&2&&(d=s(d,a,"$1")),d}};return uI={start:l(1),end:l(2),trim:l(3)},uI}var dI,OJ;function Ktt(){if(OJ)return dI;OJ=1;var n=wr(),e=mn(),r=vn(),i=sa(),s=j0e().trim,o=BB(),a=n.parseInt,l=n.Symbol,c=l&&l.iterator,u=/^[+-]?0x/i,d=r(u.exec),h=a(o+"08")!==8||a(o+"0x16")!==22||c&&!e(function(){a(Object(c))});return dI=h?function(p,m){var b=s(i(p));return a(b,m>>>0||(d(u,b)?16:10))}:a,dI}var DJ;function Xtt(){if(DJ)return PJ;DJ=1;var n=Ot(),e=Ktt();return n({global:!0,forced:parseInt!==e},{parseInt:e}),PJ}var hI,RJ;function Qtt(){if(RJ)return hI;RJ=1,Xtt();var n=Hn();return hI=n.parseInt,hI}var fI,NJ;function Jtt(){if(NJ)return fI;NJ=1;var n=Qtt();return fI=n,fI}var pI,jJ;function Ztt(){return jJ||(jJ=1,pI=Jtt()),pI}var ent=Ztt(),eo=Lt(ent),BJ={},LJ;function tnt(){if(LJ)return BJ;LJ=1;var n=Ot(),e=kB(),r=IB().indexOf,i=yb(),s=e([].indexOf),o=!!s&&1/s([1],1,-0)<0,a=o||!i("indexOf");return n({target:"Array",proto:!0,forced:a},{indexOf:function(c){var u=arguments.length>1?arguments[1]:void 0;return o?s(this,c,u)||0:r(this,c,u)}}),BJ}var mI,FJ;function nnt(){if(FJ)return mI;FJ=1,tnt();var n=xr();return mI=n("Array","indexOf"),mI}var gI,$J;function rnt(){if($J)return gI;$J=1;var n=Qn(),e=nnt(),r=Array.prototype;return gI=function(i){var s=i.indexOf;return i===r||n(r,i)&&s===r.indexOf?e:s},gI}var bI,zJ;function int(){if(zJ)return bI;zJ=1;var n=rnt();return bI=n,bI}var yI,UJ;function snt(){return UJ||(UJ=1,yI=int()),yI}var ont=snt(),jn=Lt(ont),WJ={},qJ;function ant(){if(qJ)return WJ;qJ=1;var n=Ot(),e=N0e().entries;return n({target:"Object",stat:!0},{entries:function(i){return e(i)}}),WJ}var vI,HJ;function lnt(){if(HJ)return vI;HJ=1,ant();var n=Hn();return vI=n.Object.entries,vI}var wI,VJ;function cnt(){if(VJ)return wI;VJ=1;var n=lnt();return wI=n,wI}var xI,GJ;function unt(){return GJ||(GJ=1,xI=cnt()),xI}var dnt=unt(),hnt=Lt(dnt),YJ={},KJ;function fnt(){if(KJ)return YJ;KJ=1;var n=Ot(),e=Dr(),r=Ux();return n({target:"Object",stat:!0,sham:!e},{create:r}),YJ}var _I,XJ;function pnt(){if(XJ)return _I;XJ=1,fnt();var n=Hn(),e=n.Object;return _I=function(i,s){return e.create(i,s)},_I}var SI,QJ;function mnt(){if(QJ)return SI;QJ=1;var n=pnt();return SI=n,SI}var kI,JJ;function gnt(){return JJ||(JJ=1,kI=mnt()),kI}var bnt=gnt(),Vx=Lt(bnt),ZJ={},CI,eZ;function B0e(){if(eZ)return CI;eZ=1;var n=pb(),e=sa(),r=mu(),i=RangeError;return CI=function(o){var a=e(r(this)),l="",c=n(o);if(c<0||c===1/0)throw new i("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(a+=a))c&1&&(l+=a);return l},CI}var EI,tZ;function ynt(){if(tZ)return EI;tZ=1;var n=vn(),e=g0e(),r=sa(),i=B0e(),s=mu(),o=n(i),a=n("".slice),l=Math.ceil,c=function(u){return function(d,h,f){var p=r(s(d)),m=e(h),b=p.length,y=f===void 0?" ":r(f),v,w;return m<=b||y===""?p:(v=m-b,w=o(y,l(v/y.length)),w.length>v&&(w=a(w,0,v)),u?p+w:w+p)}};return EI={start:c(!1),end:c(!0)},EI}var AI,nZ;function vnt(){if(nZ)return AI;nZ=1;var n=vn(),e=mn(),r=ynt().start,i=RangeError,s=isFinite,o=Math.abs,a=Date.prototype,l=a.toISOString,c=n(a.getTime),u=n(a.getUTCDate),d=n(a.getUTCFullYear),h=n(a.getUTCHours),f=n(a.getUTCMilliseconds),p=n(a.getUTCMinutes),m=n(a.getUTCMonth),b=n(a.getUTCSeconds);return AI=e(function(){return l.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){l.call(new Date(NaN))})?function(){if(!s(c(this)))throw new i("Invalid time value");var v=this,w=d(v),_=f(v),x=w<0?"-":w>9999?"+":"";return x+r(o(w),x?6:4,0)+"-"+r(m(v)+1,2,0)+"-"+r(u(v),2,0)+"T"+r(h(v),2,0)+":"+r(p(v),2,0)+":"+r(b(v),2,0)+"."+r(_,3,0)+"Z"}:l,AI}var rZ;function wnt(){if(rZ)return ZJ;rZ=1;var n=Ot(),e=$s(),r=zs(),i=h0e(),s=vnt(),o=Vl(),a=mn(),l=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:l},{toJSON:function(u){var d=r(this),h=i(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&o(d)==="Date"?e(s,d):d.toISOString()}}),ZJ}var TI,iZ;function xnt(){if(iZ)return TI;iZ=1,wnt(),S0e();var n=Hn(),e=SE();return n.JSON||(n.JSON={stringify:JSON.stringify}),TI=function(i,s,o){return e(n.JSON.stringify,null,arguments)},TI}var PI,sZ;function _nt(){if(sZ)return PI;sZ=1;var n=xnt();return PI=n,PI}var II,oZ;function Snt(){return oZ||(oZ=1,II=_nt()),II}var knt=Snt(),ks=Lt(knt),aZ={},lZ={},MI,cZ;function L0e(){if(cZ)return MI;cZ=1;var n=wr(),e=lb(),r=Vl(),i=function(s){return e.slice(0,s.length)===s};return MI=function(){return i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":r(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),MI}var OI,uZ;function Cnt(){if(uZ)return OI;uZ=1;var n=TypeError;return OI=function(e,r){if(e<r)throw new n("Not enough arguments");return e},OI}var DI,dZ;function F0e(){if(dZ)return DI;dZ=1;var n=wr(),e=SE(),r=ai(),i=L0e(),s=lb(),o=mb(),a=Cnt(),l=n.Function,c=/MSIE .\./.test(s)||i==="BUN"&&function(){var u=n.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return DI=function(u,d){var h=d?2:1;return c?function(f,p){var m=a(arguments.length,1)>h,b=r(f)?f:l(f),y=m?o(arguments,h):[],v=m?function(){e(b,this,y)}:b;return d?u(v,p):u(v)}:u},DI}var hZ;function Ent(){if(hZ)return lZ;hZ=1;var n=Ot(),e=wr(),r=F0e(),i=r(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==i},{setInterval:i}),lZ}var fZ={},pZ;function Ant(){if(pZ)return fZ;pZ=1;var n=Ot(),e=wr(),r=F0e(),i=r(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==i},{setTimeout:i}),fZ}var mZ;function $0e(){return mZ||(mZ=1,Ent(),Ant()),aZ}var RI,gZ;function Tnt(){if(gZ)return RI;gZ=1,$0e();var n=Hn();return RI=n.setTimeout,RI}var NI,bZ;function Pnt(){return bZ||(bZ=1,NI=Tnt()),NI}var Int=Pnt(),Bi=Lt(Int),yZ={},jI,vZ;function Mnt(){if(vZ)return jI;vZ=1;var n=zs(),e=IE(),r=Ya();return jI=function(s){for(var o=n(this),a=r(o),l=arguments.length,c=e(l>1?arguments[1]:void 0,a),u=l>2?arguments[2]:void 0,d=u===void 0?a:e(u,a);d>c;)o[c++]=s;return o},jI}var wZ;function Ont(){if(wZ)return yZ;wZ=1;var n=Ot(),e=Mnt(),r=Hx();return n({target:"Array",proto:!0},{fill:e}),r("fill"),yZ}var BI,xZ;function Dnt(){if(xZ)return BI;xZ=1,Ont();var n=xr();return BI=n("Array","fill"),BI}var LI,_Z;function Rnt(){if(_Z)return LI;_Z=1;var n=Qn(),e=Dnt(),r=Array.prototype;return LI=function(i){var s=i.fill;return i===r||n(r,i)&&s===r.fill?e:s},LI}var FI,SZ;function Nnt(){if(SZ)return FI;SZ=1;var n=Rnt();return FI=n,FI}var $I,kZ;function jnt(){return kZ||(kZ=1,$I=Nnt()),$I}var Bnt=jnt(),z0e=Lt(Bnt),zI={exports:{}},CZ;function Lnt(){return CZ||(CZ=1,function(n){n.exports=e;function e(i){if(i)return r(i)}function r(i){for(var s in e.prototype)i[s]=e.prototype[s];return i}e.prototype.on=e.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},e.prototype.once=function(i,s){function o(){this.off(i,o),s.apply(this,arguments)}return o.fn=s,this.on(i,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+i];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,l=0;l<o.length;l++)if(a=o[l],a===s||a.fn===s){o.splice(l,1);break}return o.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),o=this._callbacks["$"+i],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(o){o=o.slice(0);for(var a=0,l=o.length;a<l;++a)o[a].apply(this,s)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length}}(zI)),zI.exports}var Fnt=Lnt(),LB=Lt(Fnt);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function $a(){return $a=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},$a.apply(this,arguments)}function oa(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function j_(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var X4;typeof Object.assign!="function"?X4=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(s!=null)for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])}return r}:X4=Object.assign;var np=X4,EZ=["","webkit","Moz","MS","ms","o"],$nt=typeof document>"u"?{style:{}}:document.createElement("div"),znt="function",Fm=Math.round,rp=Math.abs,FB=Date.now;function jE(n,e){for(var r,i,s=e[0].toUpperCase()+e.slice(1),o=0;o<EZ.length;){if(r=EZ[o],i=r?r+s:e,i in n)return i;o++}}var Kc;typeof window>"u"?Kc={}:Kc=window;var U0e=jE($nt.style,"touchAction"),W0e=U0e!==void 0;function Unt(){if(!W0e)return!1;var n={},e=Kc.CSS&&Kc.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return n[r]=e?Kc.CSS.supports("touch-action",r):!0}),n}var q0e="compute",H0e="auto",Q4="manipulation",Pf="none",Sw="pan-x",kw="pan-y",B_=Unt(),Wnt=/mobile|tablet|ip(ad|hone|od)|android/i,V0e="ontouchstart"in Kc,qnt=jE(Kc,"PointerEvent")!==void 0,Hnt=V0e&&Wnt.test(navigator.userAgent),Gx="touch",Vnt="pen",$B="mouse",Gnt="kinect",Ynt=25,ls=1,_p=2,Br=4,js=8,g2=1,Yx=2,Kx=4,Xx=8,P0=16,Dl=Yx|Kx,If=Xx|P0,G0e=Dl|If,Y0e=["x","y"],b2=["clientX","clientY"];function Xc(n,e,r){var i;if(n)if(n.forEach)n.forEach(e,r);else if(n.length!==void 0)for(i=0;i<n.length;)e.call(r,n[i],i,n),i++;else for(i in n)n.hasOwnProperty(i)&&e.call(r,n[i],i,n)}function BE(n,e){return typeof n===znt?n.apply(e&&e[0]||void 0,e):n}function nf(n,e){return n.indexOf(e)>-1}function Knt(n){if(nf(n,Pf))return Pf;var e=nf(n,Sw),r=nf(n,kw);return e&&r?Pf:e||r?e?Sw:kw:nf(n,Q4)?Q4:H0e}var K0e=function(){function n(r,i){this.manager=r,this.set(i)}var e=n.prototype;return e.set=function(i){i===q0e&&(i=this.compute()),W0e&&this.manager.element.style&&B_[i]&&(this.manager.element.style[U0e]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return Xc(this.manager.recognizers,function(s){BE(s.options.enable,[s])&&(i=i.concat(s.getTouchAction()))}),Knt(i.join(" "))},e.preventDefaults=function(i){var s=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){s.preventDefault();return}var a=this.actions,l=nf(a,Pf)&&!B_[Pf],c=nf(a,kw)&&!B_[kw],u=nf(a,Sw)&&!B_[Sw];if(l){var d=i.pointers.length===1,h=i.distance<2,f=i.deltaTime<250;if(d&&h&&f)return}if(!(u&&c)&&(l||c&&o&Dl||u&&o&If))return this.preventSrc(s)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},n}();function zB(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function X0e(n){var e=n.length;if(e===1)return{x:Fm(n[0].clientX),y:Fm(n[0].clientY)};for(var r=0,i=0,s=0;s<e;)r+=n[s].clientX,i+=n[s].clientY,s++;return{x:Fm(r/e),y:Fm(i/e)}}function AZ(n){for(var e=[],r=0;r<n.pointers.length;)e[r]={clientX:Fm(n.pointers[r].clientX),clientY:Fm(n.pointers[r].clientY)},r++;return{timeStamp:FB(),pointers:e,center:X0e(e),deltaX:n.deltaX,deltaY:n.deltaY}}function y2(n,e,r){r||(r=Y0e);var i=e[r[0]]-n[r[0]],s=e[r[1]]-n[r[1]];return Math.sqrt(i*i+s*s)}function J4(n,e,r){r||(r=Y0e);var i=e[r[0]]-n[r[0]],s=e[r[1]]-n[r[1]];return Math.atan2(s,i)*180/Math.PI}function Q0e(n,e){return n===e?g2:rp(n)>=rp(e)?n<0?Yx:Kx:e<0?Xx:P0}function Xnt(n,e){var r=e.center,i=n.offsetDelta||{},s=n.prevDelta||{},o=n.prevInput||{};(e.eventType===ls||o.eventType===Br)&&(s=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=n.offsetDelta={x:r.x,y:r.y}),e.deltaX=s.x+(r.x-i.x),e.deltaY=s.y+(r.y-i.y)}function J0e(n,e,r){return{x:e/n||0,y:r/n||0}}function Qnt(n,e){return y2(e[0],e[1],b2)/y2(n[0],n[1],b2)}function Jnt(n,e){return J4(e[1],e[0],b2)+J4(n[1],n[0],b2)}function Znt(n,e){var r=n.lastInterval||e,i=e.timeStamp-r.timeStamp,s,o,a,l;if(e.eventType!==js&&(i>Ynt||r.velocity===void 0)){var c=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=J0e(i,c,u);o=d.x,a=d.y,s=rp(d.x)>rp(d.y)?d.x:d.y,l=Q0e(c,u),n.lastInterval=e}else s=r.velocity,o=r.velocityX,a=r.velocityY,l=r.direction;e.velocity=s,e.velocityX=o,e.velocityY=a,e.direction=l}function ert(n,e){var r=n.session,i=e.pointers,s=i.length;r.firstInput||(r.firstInput=AZ(e)),s>1&&!r.firstMultiple?r.firstMultiple=AZ(e):s===1&&(r.firstMultiple=!1);var o=r.firstInput,a=r.firstMultiple,l=a?a.center:o.center,c=e.center=X0e(i);e.timeStamp=FB(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=J4(l,c),e.distance=y2(l,c),Xnt(r,e),e.offsetDirection=Q0e(e.deltaX,e.deltaY);var u=J0e(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=rp(u.x)>rp(u.y)?u.x:u.y,e.scale=a?Qnt(a.pointers,i):1,e.rotation=a?Jnt(a.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Znt(r,e);var d=n.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,zB(f,d)&&(d=f),e.target=d}function trt(n,e,r){var i=r.pointers.length,s=r.changedPointers.length,o=e&ls&&i-s===0,a=e&(Br|js)&&i-s===0;r.isFirst=!!o,r.isFinal=!!a,o&&(n.session={}),r.eventType=e,ert(n,r),n.emit("hammer.input",r),n.recognize(r),n.session.prevInput=r}function Cw(n){return n.trim().split(/\s+/g)}function sv(n,e,r){Xc(Cw(e),function(i){n.addEventListener(i,r,!1)})}function ov(n,e,r){Xc(Cw(e),function(i){n.removeEventListener(i,r,!1)})}function TZ(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var vb=function(){function n(r,i){var s=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){BE(r.options.enable,[r])&&s.handler(o)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&sv(this.element,this.evEl,this.domHandler),this.evTarget&&sv(this.target,this.evTarget,this.domHandler),this.evWin&&sv(TZ(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ov(this.element,this.evEl,this.domHandler),this.evTarget&&ov(this.target,this.evTarget,this.domHandler),this.evWin&&ov(TZ(this.element),this.evWin,this.domHandler)},n}();function ip(n,e,r){if(n.indexOf&&!r)return n.indexOf(e);for(var i=0;i<n.length;){if(r&&n[i][r]==e||!r&&n[i]===e)return i;i++}return-1}var nrt={pointerdown:ls,pointermove:_p,pointerup:Br,pointercancel:js,pointerout:js},rrt={2:Gx,3:Vnt,4:$B,5:Gnt},Z0e="pointerdown",ebe="pointermove pointerup pointercancel";Kc.MSPointerEvent&&!Kc.PointerEvent&&(Z0e="MSPointerDown",ebe="MSPointerMove MSPointerUp MSPointerCancel");var tbe=function(n){oa(e,n);function e(){var i,s=e.prototype;return s.evEl=Z0e,s.evWin=ebe,i=n.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(s){var o=this.store,a=!1,l=s.type.toLowerCase().replace("ms",""),c=nrt[l],u=rrt[s.pointerType]||s.pointerType,d=u===Gx,h=ip(o,s.pointerId,"pointerId");c&ls&&(s.button===0||d)?h<0&&(o.push(s),h=o.length-1):c&(Br|js)&&(a=!0),!(h<0)&&(o[h]=s,this.callback(this.manager,c,{pointers:o,changedPointers:[s],pointerType:u,srcEvent:s}),a&&o.splice(h,1))},e}(vb);function Ew(n){return Array.prototype.slice.call(n,0)}function UB(n,e,r){for(var i=[],s=[],o=0;o<n.length;){var a=e?n[o][e]:n[o];ip(s,a)<0&&i.push(n[o]),s[o]=a,o++}return r&&(e?i=i.sort(function(l,c){return l[e]>c[e]}):i=i.sort()),i}var irt={touchstart:ls,touchmove:_p,touchend:Br,touchcancel:js},srt="touchstart touchmove touchend touchcancel",WB=function(n){oa(e,n);function e(){var i;return e.prototype.evTarget=srt,i=n.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(s){var o=irt[s.type],a=ort.call(this,s,o);a&&this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:Gx,srcEvent:s})},e}(vb);function ort(n,e){var r=Ew(n.touches),i=this.targetIds;if(e&(ls|_p)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var s,o,a=Ew(n.changedTouches),l=[],c=this.target;if(o=r.filter(function(u){return zB(u.target,c)}),e===ls)for(s=0;s<o.length;)i[o[s].identifier]=!0,s++;for(s=0;s<a.length;)i[a[s].identifier]&&l.push(a[s]),e&(Br|js)&&delete i[a[s].identifier],s++;if(l.length)return[UB(o.concat(l),"identifier",!0),l]}var art={mousedown:ls,mousemove:_p,mouseup:Br},lrt="mousedown",crt="mousemove mouseup",qB=function(n){oa(e,n);function e(){var i,s=e.prototype;return s.evEl=lrt,s.evWin=crt,i=n.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(s){var o=art[s.type];o&ls&&s.button===0&&(this.pressed=!0),o&_p&&s.which!==1&&(o=Br),this.pressed&&(o&Br&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[s],changedPointers:[s],pointerType:$B,srcEvent:s}))},e}(vb),urt=2500,PZ=25;function IZ(n){var e=n.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},s=this.lastTouches;this.lastTouches.push(i);var o=function(){var l=s.indexOf(i);l>-1&&s.splice(l,1)};setTimeout(o,urt)}}function drt(n,e){n&ls?(this.primaryTouch=e.changedPointers[0].identifier,IZ.call(this,e)):n&(Br|js)&&IZ.call(this,e)}function hrt(n){for(var e=n.srcEvent.clientX,r=n.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var s=this.lastTouches[i],o=Math.abs(e-s.x),a=Math.abs(r-s.y);if(o<=PZ&&a<=PZ)return!0}return!1}var nbe=function(){var n=function(e){oa(r,e);function r(s,o){var a;return a=e.call(this,s,o)||this,a.handler=function(l,c,u){var d=u.pointerType===Gx,h=u.pointerType===$B;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)drt.call(j_(j_(a)),c,u);else if(h&&hrt.call(j_(j_(a)),u))return;a.callback(l,c,u)}},a.touch=new WB(a.manager,a.handler),a.mouse=new qB(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(vb);return n}();function frt(n){var e,r=n.options.inputClass;return r?e=r:qnt?e=tbe:Hnt?e=WB:V0e?e=nbe:e=qB,new e(n,trt)}function $m(n,e,r){return Array.isArray(n)?(Xc(n,r[e],r),!0):!1}var NS=1,Zo=2,I0=4,Ld=8,Qc=Ld,Aw=16,kl=32,prt=1;function mrt(){return prt++}function L_(n,e){var r=e.manager;return r?r.get(n):n}function MZ(n){return n&Aw?"cancel":n&Ld?"end":n&I0?"move":n&Zo?"start":""}var Qx=function(){function n(r){r===void 0&&(r={}),this.options=$a({enable:!0},r),this.id=mrt(),this.manager=null,this.state=NS,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(i){return np(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if($m(i,"recognizeWith",this))return this;var s=this.simultaneous;return i=L_(i,this),s[i.id]||(s[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return $m(i,"dropRecognizeWith",this)?this:(i=L_(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if($m(i,"requireFailure",this))return this;var s=this.requireFail;return i=L_(i,this),ip(s,i)===-1&&(s.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if($m(i,"dropRequireFailure",this))return this;i=L_(i,this);var s=ip(this.requireFail,i);return s>-1&&this.requireFail.splice(s,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var s=this,o=this.state;function a(l){s.manager.emit(l,i)}o<Ld&&a(s.options.event+MZ(o)),a(s.options.event),i.additionalEvent&&a(i.additionalEvent),o>=Ld&&a(s.options.event+MZ(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=kl},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(kl|NS)))return!1;i++}return!0},e.recognize=function(i){var s=np({},i);if(!BE(this.options.enable,[this,s])){this.reset(),this.state=kl;return}this.state&(Qc|Aw|kl)&&(this.state=NS),this.state=this.process(s),this.state&(Zo|I0|Ld|Aw)&&this.tryEmit(s)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},n}(),Z4=function(n){oa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,$a({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,s.pTime=!1,s.pCenter=!1,s._timer=null,s._input=null,s.count=0,s}var r=e.prototype;return r.getTouchAction=function(){return[Q4]},r.process=function(s){var o=this,a=this.options,l=s.pointers.length===a.pointers,c=s.distance<a.threshold,u=s.deltaTime<a.time;if(this.reset(),s.eventType&ls&&this.count===0)return this.failTimeout();if(c&&u&&l){if(s.eventType!==Br)return this.failTimeout();var d=this.pTime?s.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||y2(this.pCenter,s.center)<a.posThreshold;this.pTime=s.timeStamp,this.pCenter=s.center,!h||!d?this.count=1:this.count+=1,this._input=s;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Qc,o.tryEmit()},a.interval),Zo):Qc}return kl},r.failTimeout=function(){var s=this;return this._timer=setTimeout(function(){s.state=kl},this.options.interval),kl},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Qc&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Qx),M0=function(n){oa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,$a({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(s){var o=this.options.pointers;return o===0||s.pointers.length===o},r.process=function(s){var o=this.state,a=s.eventType,l=o&(Zo|I0),c=this.attrTest(s);return l&&(a&js||!c)?o|Aw:l||c?a&Br?o|Ld:o&Zo?o|I0:Zo:kl},e}(Qx);function rbe(n){return n===P0?"down":n===Xx?"up":n===Yx?"left":n===Kx?"right":""}var HB=function(n){oa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,$a({event:"pan",threshold:10,pointers:1,direction:G0e},i))||this,s.pX=null,s.pY=null,s}var r=e.prototype;return r.getTouchAction=function(){var s=this.options.direction,o=[];return s&Dl&&o.push(kw),s&If&&o.push(Sw),o},r.directionTest=function(s){var o=this.options,a=!0,l=s.distance,c=s.direction,u=s.deltaX,d=s.deltaY;return c&o.direction||(o.direction&Dl?(c=u===0?g2:u<0?Yx:Kx,a=u!==this.pX,l=Math.abs(s.deltaX)):(c=d===0?g2:d<0?Xx:P0,a=d!==this.pY,l=Math.abs(s.deltaY))),s.direction=c,a&&l>o.threshold&&c&o.direction},r.attrTest=function(s){return M0.prototype.attrTest.call(this,s)&&(this.state&Zo||!(this.state&Zo)&&this.directionTest(s))},r.emit=function(s){this.pX=s.deltaX,this.pY=s.deltaY;var o=rbe(s.direction);o&&(s.additionalEvent=this.options.event+o),n.prototype.emit.call(this,s)},e}(M0),ibe=function(n){oa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,$a({event:"swipe",threshold:10,velocity:.3,direction:Dl|If,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return HB.prototype.getTouchAction.call(this)},r.attrTest=function(s){var o=this.options.direction,a;return o&(Dl|If)?a=s.overallVelocity:o&Dl?a=s.overallVelocityX:o&If&&(a=s.overallVelocityY),n.prototype.attrTest.call(this,s)&&o&s.offsetDirection&&s.distance>this.options.threshold&&s.maxPointers===this.options.pointers&&rp(a)>this.options.velocity&&s.eventType&Br},r.emit=function(s){var o=rbe(s.offsetDirection);o&&this.manager.emit(this.options.event+o,s),this.manager.emit(this.options.event,s)},e}(M0),sbe=function(n){oa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,$a({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Pf]},r.attrTest=function(s){return n.prototype.attrTest.call(this,s)&&(Math.abs(s.scale-1)>this.options.threshold||this.state&Zo)},r.emit=function(s){if(s.scale!==1){var o=s.scale<1?"in":"out";s.additionalEvent=this.options.event+o}n.prototype.emit.call(this,s)},e}(M0),obe=function(n){oa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,$a({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Pf]},r.attrTest=function(s){return n.prototype.attrTest.call(this,s)&&(Math.abs(s.rotation)>this.options.threshold||this.state&Zo)},e}(M0),abe=function(n){oa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,$a({event:"press",pointers:1,time:251,threshold:9},i))||this,s._timer=null,s._input=null,s}var r=e.prototype;return r.getTouchAction=function(){return[H0e]},r.process=function(s){var o=this,a=this.options,l=s.pointers.length===a.pointers,c=s.distance<a.threshold,u=s.deltaTime>a.time;if(this._input=s,!c||!l||s.eventType&(Br|js)&&!u)this.reset();else if(s.eventType&ls)this.reset(),this._timer=setTimeout(function(){o.state=Qc,o.tryEmit()},a.time);else if(s.eventType&Br)return Qc;return kl},r.reset=function(){clearTimeout(this._timer)},r.emit=function(s){this.state===Qc&&(s&&s.eventType&Br?this.manager.emit(this.options.event+"up",s):(this._input.timeStamp=FB(),this.manager.emit(this.options.event,this._input)))},e}(Qx),lbe={domEvents:!1,touchAction:q0e,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},OZ=[[obe,{enable:!1}],[sbe,{enable:!1},["rotate"]],[ibe,{direction:Dl}],[HB,{direction:Dl},["swipe"]],[Z4],[Z4,{event:"doubletap",taps:2},["tap"]],[abe]],grt=1,DZ=2;function RZ(n,e){var r=n.element;if(r.style){var i;Xc(n.options.cssProps,function(s,o){i=jE(r.style,o),e?(n.oldCssProps[i]=r.style[i],r.style[i]=s):r.style[i]=n.oldCssProps[i]||""}),e||(n.oldCssProps={})}}function brt(n,e){var r=document.createEvent("Event");r.initEvent(n,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var NZ=function(){function n(r,i){var s=this;this.options=np({},lbe,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=frt(this),this.touchAction=new K0e(this,this.options.touchAction),RZ(this,!0),Xc(this.options.recognizers,function(o){var a=s.add(new o[0](o[1]));o[2]&&a.recognizeWith(o[2]),o[3]&&a.requireFailure(o[3])},this)}var e=n.prototype;return e.set=function(i){return np(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?DZ:grt},e.recognize=function(i){var s=this.session;if(!s.stopped){this.touchAction.preventDefaults(i);var o,a=this.recognizers,l=s.curRecognizer;(!l||l&&l.state&Qc)&&(s.curRecognizer=null,l=null);for(var c=0;c<a.length;)o=a[c],s.stopped!==DZ&&(!l||o===l||o.canRecognizeWith(l))?o.recognize(i):o.reset(),!l&&o.state&(Zo|I0|Ld)&&(s.curRecognizer=o,l=o),c++}},e.get=function(i){if(i instanceof Qx)return i;for(var s=this.recognizers,o=0;o<s.length;o++)if(s[o].options.event===i)return s[o];return null},e.add=function(i){if($m(i,"add",this))return this;var s=this.get(i.options.event);return s&&this.remove(s),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if($m(i,"remove",this))return this;var s=this.get(i);if(i){var o=this.recognizers,a=ip(o,s);a!==-1&&(o.splice(a,1),this.touchAction.update())}return this},e.on=function(i,s){if(i===void 0||s===void 0)return this;var o=this.handlers;return Xc(Cw(i),function(a){o[a]=o[a]||[],o[a].push(s)}),this},e.off=function(i,s){if(i===void 0)return this;var o=this.handlers;return Xc(Cw(i),function(a){s?o[a]&&o[a].splice(ip(o[a],s),1):delete o[a]}),this},e.emit=function(i,s){this.options.domEvents&&brt(i,s);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){s.type=i,s.preventDefault=function(){s.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](s),a++}},e.destroy=function(){this.element&&RZ(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),yrt={touchstart:ls,touchmove:_p,touchend:Br,touchcancel:js},vrt="touchstart",wrt="touchstart touchmove touchend touchcancel",xrt=function(n){oa(e,n);function e(){var i,s=e.prototype;return s.evTarget=vrt,s.evWin=wrt,i=n.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(s){var o=yrt[s.type];if(o===ls&&(this.started=!0),!!this.started){var a=_rt.call(this,s,o);o&(Br|js)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:Gx,srcEvent:s})}},e}(vb);function _rt(n,e){var r=Ew(n.touches),i=Ew(n.changedTouches);return e&(Br|js)&&(r=UB(r.concat(i),"identifier",!0)),[r,i]}function cbe(n,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var s=new Error("get-stack-trace"),o=s&&s.stack?s.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,i,o),n.apply(this,arguments)}}var ube=cbe(function(n,e,r){for(var i=Object.keys(e),s=0;s<i.length;)(!r||r&&n[i[s]]===void 0)&&(n[i[s]]=e[i[s]]),s++;return n},"extend","Use `assign`."),Srt=cbe(function(n,e){return ube(n,e,!0)},"merge","Use `assign`.");function krt(n,e,r){var i=e.prototype,s;s=n.prototype=Object.create(i),s.constructor=n,s._super=i,r&&np(s,r)}function jZ(n,e){return function(){return n.apply(e,arguments)}}var VB=function(){var n=function(r,i){return i===void 0&&(i={}),new NZ(r,$a({recognizers:OZ.concat()},i))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=G0e,n.DIRECTION_DOWN=P0,n.DIRECTION_LEFT=Yx,n.DIRECTION_RIGHT=Kx,n.DIRECTION_UP=Xx,n.DIRECTION_HORIZONTAL=Dl,n.DIRECTION_VERTICAL=If,n.DIRECTION_NONE=g2,n.DIRECTION_DOWN=P0,n.INPUT_START=ls,n.INPUT_MOVE=_p,n.INPUT_END=Br,n.INPUT_CANCEL=js,n.STATE_POSSIBLE=NS,n.STATE_BEGAN=Zo,n.STATE_CHANGED=I0,n.STATE_ENDED=Ld,n.STATE_RECOGNIZED=Qc,n.STATE_CANCELLED=Aw,n.STATE_FAILED=kl,n.Manager=NZ,n.Input=vb,n.TouchAction=K0e,n.TouchInput=WB,n.MouseInput=qB,n.PointerEventInput=tbe,n.TouchMouseInput=nbe,n.SingleTouchInput=xrt,n.Recognizer=Qx,n.AttrRecognizer=M0,n.Tap=Z4,n.Pan=HB,n.Swipe=ibe,n.Pinch=sbe,n.Rotate=obe,n.Press=abe,n.on=sv,n.off=ov,n.each=Xc,n.merge=Srt,n.extend=ube,n.bindFn=jZ,n.assign=np,n.inherit=krt,n.bindFn=jZ,n.prefixed=jE,n.toArray=Ew,n.inArray=ip,n.uniqueArray=UB,n.splitStr=Cw,n.boolOrFn=BE,n.hasParent=zB,n.addEventListeners=sv,n.removeEventListeners=ov,n.defaults=np({},lbe,{preset:OZ}),n}();VB.defaults;const GB=net("DELETE");function dbe(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return YB({},n,...r)}function YB(){const n=v2(...arguments);return fbe(n),n}function v2(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return v2(YB(e[0],e[1]),...bb(e).call(e,2));const i=e[0],s=e[1];if(i instanceof Date&&s instanceof Date)return i.setTime(s.getTime()),i;for(const o of D0e(s))Object.prototype.propertyIsEnumerable.call(s,o)&&(s[o]===GB?delete i[o]:i[o]!==null&&s[o]!==null&&typeof i[o]=="object"&&typeof s[o]=="object"&&!nn(i[o])&&!nn(s[o])?i[o]=v2(i[o],s[o]):i[o]=hbe(s[o]));return i}function hbe(n){return nn(n)?Tn(n).call(n,e=>hbe(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):v2({},n):n}function fbe(n){for(const e of Vr(n))n[e]===GB?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&fbe(n[e])}function Crt(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return Ert(e.length?e:[Zs()])}function Ert(n){let[e,r,i]=Art(n),s=1;const o=()=>{const a=2091639*e+s*23283064365386963e-26;return e=r,r=i,i=a-(s=a|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=n,o.version="0.9",o}function Art(){const n=Trt();let e=n(" "),r=n(" "),i=n(" ");for(let s=0;s<arguments.length;s++)e-=n(s<0||arguments.length<=s?void 0:arguments[s]),e<0&&(e+=1),r-=n(s<0||arguments.length<=s?void 0:arguments[s]),r<0&&(r+=1),i-=n(s<0||arguments.length<=s?void 0:arguments[s]),i<0&&(i+=1);return[e,r,i]}function Trt(){let n=4022871197;return function(e){const r=e.toString();for(let i=0;i<r.length;i++){n+=r.charCodeAt(i);let s=.02519603282416938*n;n=s>>>0,s-=n,s*=n,n=s>>>0,s-=n,n+=s*4294967296}return(n>>>0)*23283064365386963e-26}}function Prt(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const KB=typeof window<"u"?window.Hammer||VB:function(){return Prt()};function Cl(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=KB(this._dom.overlay);r.on("tap",qe(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];bt(i).call(i,s=>{r.on(s,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=s=>{Irt(s.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=s=>{("key"in s?s.key==="Escape":s.keyCode===27)&&this.deactivate()}}LB(Cl.prototype);Cl.current=null;Cl.prototype.destroy=function(){this.deactivate();for(const r of rtt(n=es(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;r()}};Cl.prototype.activate=function(){Cl.current&&Cl.current.deactivate(),Cl.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Cl.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Cl.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function Irt(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const Mrt=/^\/?Date\((-?\d+)/i,Ort=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Drt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Rrt=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Nrt=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function av(n){return n instanceof Number||typeof n=="number"}function pbe(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(pbe(e),n.removeChild(e))}}function no(n){return n instanceof String||typeof n=="string"}function eN(n){return typeof n=="object"&&n!==null}function jrt(n){if(n instanceof Date)return!0;if(no(n)){if(Mrt.exec(n))return!0;if(!isNaN(Date.parse(n)))return!0}return!1}function sp(n,e,r,i){let s=!1;i===!0&&(s=e[r]===null&&n[r]!==void 0),s?delete n[r]:n[r]=e[r]}function mbe(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const i in n)if(e[i]!==void 0)if(e[i]===null||typeof e[i]!="object")sp(n,e,i,r);else{const s=n[i],o=e[i];eN(s)&&eN(o)&&mbe(s,o,r)}}const Brt=cu;function Lrt(n,e){if(!nn(n))throw new Error("Array with property names expected as first argument");for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];for(const o of i)for(let a=0;a<n.length;a++){const l=n[a];o&&Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e}function Frt(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(nn(r))throw new TypeError("Arrays are not supported by deepExtend");for(let s=0;s<n.length;s++){const o=n[s];if(Object.prototype.hasOwnProperty.call(r,o))if(r[o]&&r[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?Tw(e[o],r[o],!1,i):sp(e,r,o,i);else{if(nn(r[o]))throw new TypeError("Arrays are not supported by deepExtend");sp(e,r,o,i)}}return e}function $rt(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(nn(r))throw new TypeError("Arrays are not supported by deepExtend");for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&!T0(n).call(n,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Tw(e[s],r[s]):sp(e,r,s,i);else if(nn(r[s])){e[s]=[];for(let o=0;o<r[s].length;o++)e[s].push(r[s][o])}else sp(e,r,s,i);return e}function Tw(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||r===!0)if(typeof e[o]=="object"&&e[o]!==null&&hJ(e[o])===Object.prototype)n[o]===void 0?n[o]=Tw({},e[o],r):typeof n[o]=="object"&&n[o]!==null&&hJ(n[o])===Object.prototype?Tw(n[o],e[o],r):sp(n,e,o,i);else if(nn(e[o])){var s;n[o]=bb(s=e[o]).call(s)}else sp(n,e,o,i);return n}function zrt(n,e){if(n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(n[r]!=e[r])return!1;return!0}function Dy(n){const e=typeof n;return e==="object"?n===null?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":nn(n)?"Array":n instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function Pw(n,e){return[...n,e]}function gbe(n){return bb(n).call(n)}function Urt(n){return n.getBoundingClientRect().left}function Wrt(n){return n.getBoundingClientRect().right}function qrt(n){return n.getBoundingClientRect().top}function Hrt(n,e){let r=n.className.split(" ");const i=e.split(" ");r=Er(r).call(r,zt(i).call(i,function(s){return!T0(r).call(r,s)})),n.className=r.join(" ")}function Vrt(n,e){let r=n.className.split(" ");const i=e.split(" ");r=zt(r).call(r,function(s){return!T0(i).call(i,s)}),n.className=r.join(" ")}function Grt(n,e){if(nn(n)){const r=n.length;for(let i=0;i<r;i++)e(n[i],i,n)}else for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(n[r],r,n)}const Yrt=jB;function Krt(n,e,r){return n[e]!==r?(n[e]=r,!0):!1}function Xrt(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,n()}))}}function Qrt(n){n||(n=window.event),n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}function Jrt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return n&&(n.target?e=n.target:n.srcElement&&(e=n.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function Zrt(n,e){let r=n;for(;r;){if(r===e)return!0;if(r.parentNode)r=r.parentNode;else return!1}return!1}const eit={asBoolean(n,e){return typeof n=="function"&&(n=n()),n!=null?n!=!1:e||null},asNumber(n,e){return typeof n=="function"&&(n=n()),n!=null?Number(n)||e||null:e||null},asString(n,e){return typeof n=="function"&&(n=n()),n!=null?String(n):e||null},asSize(n,e){return typeof n=="function"&&(n=n()),no(n)?n:av(n)?n+"px":e||null},asElement(n,e){return typeof n=="function"&&(n=n()),n||e||null}};function LE(n){let e;switch(n.length){case 3:case 4:return e=Drt.exec(n),e?{r:eo(e[1]+e[1],16),g:eo(e[2]+e[2],16),b:eo(e[3]+e[3],16)}:null;case 6:case 7:return e=Ort.exec(n),e?{r:eo(e[1],16),g:eo(e[2],16),b:eo(e[3],16)}:null;default:return null}}function tit(n,e){if(T0(n).call(n,"rgba"))return n;if(T0(n).call(n,"rgb")){const r=n.substr(jn(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=LE(n);return r==null?n:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function XB(n,e,r){var i;return"#"+bb(i=((1<<24)+(n<<16)+(e<<8)+r).toString(16)).call(i,1)}function nit(n,e){if(no(n)){let i=n;if(JB(i)){var r;const s=Tn(r=i.substr(4).substr(0,i.length-5).split(",")).call(r,function(o){return eo(o)});i=XB(s[0],s[1],s[2])}if(QB(i)===!0){const s=ybe(i),o={h:s.h,s:s.s*.8,v:Math.min(1,s.v*1.02)},a={h:s.h,s:Math.min(1,s.s*1.25),v:s.v*.8},l=tN(a.h,a.s,a.v),c=tN(o.h,o.s,o.v);return{background:i,border:l,highlight:{background:c,border:l},hover:{background:c,border:l}}}else return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}else return e?{background:n.background||e.background,border:n.border||e.border,highlight:no(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:no(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:no(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:no(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function zm(n,e,r){n=n/255,e=e/255,r=r/255;const i=Math.min(n,Math.min(e,r)),s=Math.max(n,Math.max(e,r));if(i===s)return{h:0,s:0,v:i};const o=n===i?e-r:r===i?n-e:r-n,l=60*((n===i?3:r===i?1:5)-o/(s-i))/360,c=(s-i)/s;return{h:l,s:c,v:s}}function bbe(n){const e=document.createElement("div"),r={};e.style.cssText=n;for(let i=0;i<e.style.length;++i)r[e.style[i]]=e.style.getPropertyValue(e.style[i]);return r}function rit(n,e){const r=bbe(e);for(const[i,s]of hnt(r))n.style.setProperty(i,s)}function iit(n,e){const r=bbe(e);for(const i of Vr(r))n.style.removeProperty(i)}function lv(n,e,r){let i,s,o;const a=Math.floor(n*6),l=n*6-a,c=r*(1-e),u=r*(1-l*e),d=r*(1-(1-l)*e);switch(a%6){case 0:i=r,s=d,o=c;break;case 1:i=u,s=r,o=c;break;case 2:i=c,s=r,o=d;break;case 3:i=c,s=u,o=r;break;case 4:i=d,s=c,o=r;break;case 5:i=r,s=c,o=u;break}return{r:Math.floor(i*255),g:Math.floor(s*255),b:Math.floor(o*255)}}function tN(n,e,r){const i=lv(n,e,r);return XB(i.r,i.g,i.b)}function ybe(n){const e=LE(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return zm(e.r,e.g,e.b)}function QB(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function JB(n){return Rrt.test(n)}function vbe(n){return Nrt.test(n)}function sit(n,e){if(e!==null&&typeof e=="object"){const r=Vx(e);for(let i=0;i<n.length;i++)Object.prototype.hasOwnProperty.call(e,n[i])&&typeof e[n[i]]=="object"&&(r[n[i]]=ZB(e[n[i]]));return r}else return null}function ZB(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=Vx(n);for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&typeof n[r]=="object"&&(e[r]=ZB(n[r]));return e}function oit(n,e){for(let r=0;r<n.length;r++){const i=n[r];let s;for(s=r;s>0&&e(i,n[s-1])<0;s--)n[s]=n[s-1];n[s]=i}return n}function ait(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=function(p){return p!=null},o=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!o(n))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!s(r))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");const l=function(p,m,b){o(p[b])||(p[b]={});const y=m[b],v=p[b];for(const w in y)Object.prototype.hasOwnProperty.call(y,w)&&(v[w]=y[w])},c=e[r],d=o(i)&&!a(i)?i[r]:void 0,h=d?d.enabled:void 0;if(c===void 0)return;if(typeof c=="boolean"){o(n[r])||(n[r]={}),n[r].enabled=c;return}if(c===null&&!o(n[r]))if(s(d))n[r]=Vx(d);else return;if(!o(c))return;let f=!0;c.enabled!==void 0?f=c.enabled:h!==void 0&&(f=d.enabled),l(n,e,r),n[r].enabled=f}function lit(n,e,r,i){let o=0,a=0,l=n.length-1;for(;a<=l&&o<1e4;){const c=Math.floor((a+l)/2),u=n[c],d=i===void 0?u[r]:u[r][i],h=e(d);if(h==0)return c;h==-1?a=c+1:l=c-1,o++}return-1}function cit(n,e,r,i,s){let a=0,l=0,c=n.length-1,u,d,h,f;for(s=s??function(p,m){return p==m?0:p<m?-1:1};l<=c&&a<1e4;){if(f=Math.floor(.5*(c+l)),u=n[Math.max(0,f-1)][r],d=n[f][r],h=n[Math.min(n.length-1,f+1)][r],s(d,e)==0)return f;if(s(u,e)<0&&s(d,e)>0)return i=="before"?Math.max(0,f-1):f;if(s(d,e)<0&&s(h,e)>0)return i=="before"?f:Math.min(n.length-1,f+1);s(d,e)<0?l=f+1:c=f-1,a++}return-1}const uit={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function dit(){const n=document.createElement("p");n.style.width="100%",n.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(n),document.body.appendChild(e);const r=n.offsetWidth;e.style.overflow="scroll";let i=n.offsetWidth;return r==i&&(i=e.clientWidth),document.body.removeChild(e),r-i}function hit(n,e){let r;nn(e)||(e=[e]);for(const i of n)if(i){r=i[e[0]];for(let s=1;s<e.length;s++)r&&(r=r[e[s]]);if(typeof r<"u")break}return r}const fit={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let wbe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return fit[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;const s=this._isColorString(e);if(s!==void 0&&(e=s),no(e)===!0){if(JB(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(vbe(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(QB(e)===!0){const o=LE(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ks(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=cu({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=cu({},e)),this.color=e;const i=zm(e.r,e.g,e.b),s=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(s*i.h),l=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=zm(this.color.r,this.color.g,this.color.b);r.v=e/100;const i=lv(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=zm(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),z0e(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=qe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=qe(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=qe(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=qe(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new KB(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let s,o,a,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;const c=2*Math.PI/360,u=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(c*a),o=this.centerCoordinates.y+l*Math.cos(c*a),h=lv(a*u,l*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(s-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,s=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=s-o,u=Math.atan2(l,c),d=.98*Math.min(Math.sqrt(l*l+c*c),a),h=Math.cos(u)*d+o,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,b=zm(this.color.r,this.color.g,this.color.b);b.h=p,b.s=m;const y=lv(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function nN(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const i=document.createElement(e[0]);return i.appendChild(nN(...bb(e).call(e,1))),i}}let pit=class{constructor(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},cu(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new wbe(s),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(nn(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),zt(e)!==void 0&&(this.options.filter=zt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);zt(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=zt(this.options);let r=0,i=!1;for(const s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(s,[]),i=i||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||jn(e).call(e,s)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return bt(i).call(i,a=>{o.appendChild(a)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=document.createElement("div");if(s.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(nN("i","b",e))}else s.innerText=e+":";return s}_makeDropdown(e,r,i){const s=document.createElement("select");s.className="vis-configuration vis-config-select";let o=0;r!==void 0&&jn(e).call(e,r)!==-1&&(o=jn(e).call(e,r));for(let c=0;c<e.length;c++){const u=document.createElement("option");u.value=e[c],c===o&&(u.selected="selected"),u.innerText=e[c],s.appendChild(u)}const a=this;s.onchange=function(){a._update(this.value,i)};const l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_makeRange(e,r,i){const s=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch{}c.step=l;let u="",d=0;r!==void 0?(r<0&&r*1.2<o?(c.min=Math.ceil(r*1.2),d=c.min,u="range increased"):r/1.2<o&&(c.min=Math.ceil(r/1.2),d=c.min,u="range increased"),r*1.2>a&&a!==1&&(c.max=Math.ceil(r*1.2),d=c.max,u="range increased"),c.value=r):c.value=s;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=c.value;const f=this;c.onchange=function(){h.value=this.value,f._update(Number(this.value),i)},c.oninput=function(){h.value=this.value};const p=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,p,c,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){const s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));const o=this;s.onchange=function(){o._update(this.checked,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeTextInput(e,r,i){const s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:i,value:r});const o=this;s.onchange=function(){o._update(this.value,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeColorField(e,r,i){const s=e[1],o=document.createElement("div");r=r===void 0?s:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?s:r,o.onclick=()=>{this._showColorPicker(r,o,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(s=>{const o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1;const o=zt(this.options);let a=!1;for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)){s=!0;const c=e[l],u=Pw(r,l);if(typeof o=="function"&&(s=o(l,r),s===!1&&!nn(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,s=this._handleObject(c,u,!0),this.allowCreation=i===!1)),s!==!1){a=!0;const d=this._getValue(u);if(nn(c))this._handleArray(c,d,u);else if(typeof c=="string")this._makeTextInput(c,d,u);else if(typeof c=="boolean")this._makeCheckbox(c,d,u);else if(c instanceof Object){if(!this.hideOption(r,l,this.moduleOptions))if(c.enabled!==void 0){const h=Pw(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(l,u,!0);this._makeItem(u,p),a=this._handleObject(c,u)||a}else this._makeCheckbox(c,f,u)}else{const h=this._makeLabel(l,u,!0);this._makeItem(u,h),a=this._handleObject(c,u)||a}}else console.error("dont know how to handle",c,l,u)}}return a}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){const i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(s[r[o]]===void 0&&(s[r[o]]={}),o!==r.length-1?s=s[r[o]]:s[r[o]]=e);return i}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(nN("pre","const options = "+ks(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},mit=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=eo(e),this.y=eo(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let a=0,l=0;if(this.overflowMethod=="flip"){let c=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+i>o-this.padding&&(c=!0),c?a=this.x-i:a=this.x,u?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},ry=!1,BZ;const rN="background: #FFeeee; color: #dd0000";let git=class pr{static validate(e,r,i){ry=!1,BZ=r;let s=r;return i!==void 0&&(s=r[i]),pr.parse(e,s,[]),ry}static parse(e,r,i){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&pr.check(s,e,r,i)}static check(e,r,i,s){if(i[e]===void 0&&i.__any__===void 0){pr.getSuggestion(e,i,s);return}let o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=pr.getType(r[e])==="object");let l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),pr.checkFields(e,r,i,o,l,s)}static checkFields(e,r,i,s,o,a){const l=function(d){console.error("%c"+d+pr.printLocation(a,e),rN)},c=pr.getType(r[e]),u=o[c];u!==void 0?pr.getType(u)==="array"&&jn(u).call(u,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+pr.print(u)+' not "'+r[e]+'". '),ry=!0):c==="object"&&s!=="__any__"&&(a=Pw(a,e),pr.parse(r[e],i[s],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+pr.print(Vr(o))+". Received ["+c+'] "'+r[e]+'"'),ry=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":nn(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){const s=pr.findInOptions(e,r,i,!1),o=pr.findInOptions(e,BZ,[],!0),a=8,l=4;let c;s.indexMatch!==void 0?c=" in "+pr.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:o.distance<=l&&s.distance>o.distance?c=" in "+pr.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+pr.printLocation(o.path,o.closestMatch,""):s.distance<=a?c='. Did you mean "'+s.closestMatch+'"?'+pr.printLocation(s.path,e):c=". Did you mean one of these: "+pr.print(Vr(r))+pr.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+c,rN),ry=!0}static findInOptions(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,a="",l=[];const c=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&s===!0){const p=pr.findInOptions(e,r[h],Pw(i,h));o>p.distance&&(a=p.closestMatch,l=p.path,o=p.distance,u=p.indexMatch)}else{var d;jn(d=h.toLowerCase()).call(d,c)!==-1&&(u=h),f=pr.levenshteinDistance(e,h),o>f&&(a=h,l=gbe(i),o=f)}}return{closestMatch:a,path:l,distance:o,indexMatch:u}}static printLocation(e,r){let s=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)s+="  ";s+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)s+="  ";s+=r+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)s+="  ";s+=`}
`}return s+`

`}static print(e){return ks(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const i=[];let s;for(s=0;s<=r.length;s++)i[s]=[s];let o;for(o=0;o<=e.length;o++)i[0][o]=o;for(s=1;s<=r.length;s++)for(o=1;o<=e.length;o++)r.charAt(s-1)==e.charAt(o-1)?i[s][o]=i[s-1][o-1]:i[s][o]=Math.min(i[s-1][o-1]+1,Math.min(i[s][o-1]+1,i[s-1][o]+1));return i[r.length][e.length]}};const bit=Cl,yit=wbe,vit=pit,wit=KB,xit=mit,_it=rN,Sit=git;var kit=Object.freeze({__proto__:null,Activator:bit,Alea:Crt,ColorPicker:yit,Configurator:vit,DELETE:GB,HSVToHex:tN,HSVToRGB:lv,Hammer:wit,Popup:xit,RGBToHSV:zm,RGBToHex:XB,VALIDATOR_PRINT_STYLE:_it,Validator:Sit,addClassName:Hrt,addCssText:rit,binarySearchCustom:lit,binarySearchValue:cit,bridgeObject:ZB,copyAndExtendArray:Pw,copyArray:gbe,deepExtend:Tw,deepObjectAssign:YB,easingFunctions:uit,equalArray:zrt,extend:Brt,fillIfDefined:mbe,forEach:Grt,getAbsoluteLeft:Urt,getAbsoluteRight:Wrt,getAbsoluteTop:qrt,getScrollBarWidth:dit,getTarget:Jrt,getType:Dy,hasParent:Zrt,hexToHSV:ybe,hexToRGB:LE,insertSort:oit,isDate:jrt,isNumber:av,isObject:eN,isString:no,isValidHex:QB,isValidRGB:JB,isValidRGBA:vbe,mergeOptions:ait,option:eit,overrideOpacity:tit,parseColor:nit,preventDefault:Qrt,pureDeepObjectAssign:dbe,recursiveDOMDelete:pbe,removeClassName:Vrt,removeCssText:iit,selectiveBridgeObject:sit,selectiveDeepExtend:Frt,selectiveExtend:Lrt,selectiveNotDeepExtend:$rt,throttle:Xrt,toArray:Yrt,topMost:hit,updateProperty:Krt});function rd(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].redundant=n[e].used,n[e].used=[])}function Fo(n){for(var e in n){if(!Object.prototype.hasOwnProperty.call(n,e))continue;const i=n[e];for(var r=0;r<i.redundant.length;r++)i.redundant[r].parentNode.removeChild(i.redundant[r]);i.redundant=[]}}function Cit(n){rd(n),Fo(n),rd(n)}function Oa(n,e,r){var i;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(i=e[n].redundant[0],e[n].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",n),r.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",n),e[n]={used:[],redundant:[]},r.appendChild(i)),e[n].used.push(i),i}function UI(n,e,r,i){var s;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(s=e[n].redundant[0],e[n].redundant.shift()):(s=document.createElement(n),i!==void 0?r.insertBefore(s,i):r.appendChild(s)):(s=document.createElement(n),e[n]={used:[],redundant:[]},i!==void 0?r.insertBefore(s,i):r.appendChild(s)),e[n].used.push(s),s}function O0(n,e,r,i,s,o){var a;if(r.style=="circle"?(a=Oa("circle",i,s),a.setAttributeNS(null,"cx",n),a.setAttributeNS(null,"cy",e),a.setAttributeNS(null,"r",.5*r.size)):(a=Oa("rect",i,s),a.setAttributeNS(null,"x",n-.5*r.size),a.setAttributeNS(null,"y",e-.5*r.size),a.setAttributeNS(null,"width",r.size),a.setAttributeNS(null,"height",r.size)),r.styles!==void 0&&a.setAttributeNS(null,"style",r.styles),a.setAttributeNS(null,"class",r.className+" vis-point"),o){var l=Oa("text",i,s);o.xOffset&&(n=n+o.xOffset),o.yOffset&&(e=e+o.yOffset),o.content&&(l.textContent=o.content),o.className&&l.setAttributeNS(null,"class",o.className+" vis-label"),l.setAttributeNS(null,"x",n),l.setAttributeNS(null,"y",e)}return a}function iN(n,e,r,i,s,o,a,l){if(i!=0){i<0&&(i*=-1,e-=i);var c=Oa("rect",o,a);c.setAttributeNS(null,"x",n-.5*r),c.setAttributeNS(null,"y",e),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",i),c.setAttributeNS(null,"class",s),l&&c.setAttributeNS(null,"style",l)}}function Eit(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}var WI,LZ;function Ait(){if(LZ)return WI;LZ=1,k0e();var n=Hn();return WI=n.Object.getOwnPropertySymbols,WI}var qI,FZ;function Tit(){if(FZ)return qI;FZ=1;var n=Ait();return qI=n,qI}var HI,$Z;function Pit(){return $Z||($Z=1,HI=Tit()),HI}var Iit=Pit(),w2=Lt(Iit),VI={exports:{}},zZ={},UZ;function Mit(){if(UZ)return zZ;UZ=1;var n=Ot(),e=mn(),r=Ga(),i=AE().f,s=Dr(),o=!s||e(function(){i(1)});return n({target:"Object",stat:!0,forced:o,sham:!s},{getOwnPropertyDescriptor:function(l,c){return i(r(l),c)}}),zZ}var WZ;function Oit(){if(WZ)return VI.exports;WZ=1,Mit();var n=Hn(),e=n.Object,r=VI.exports=function(s,o){return e.getOwnPropertyDescriptor(s,o)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),VI.exports}var GI,qZ;function Dit(){if(qZ)return GI;qZ=1;var n=Oit();return GI=n,GI}var YI,HZ;function Rit(){return HZ||(HZ=1,YI=Dit()),YI}var Nit=Rit(),FE=Lt(Nit),VZ={},GZ;function jit(){if(GZ)return VZ;GZ=1;var n=Ot(),e=Dr(),r=O0e(),i=Ga(),s=AE(),o=TE();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(l){for(var c=i(l),u=s.f,d=r(c),h={},f=0,p,m;d.length>f;)m=u(c,p=d[f++]),m!==void 0&&o(h,p,m);return h}}),VZ}var KI,YZ;function Bit(){if(YZ)return KI;YZ=1,jit();var n=Hn();return KI=n.Object.getOwnPropertyDescriptors,KI}var XI,KZ;function Lit(){if(KZ)return XI;KZ=1;var n=Bit();return XI=n,XI}var QI,XZ;function Fit(){return XZ||(XZ=1,QI=Lit()),QI}var $it=Fit(),x2=Lt($it),JI={exports:{}},QZ={},JZ;function zit(){if(JZ)return QZ;JZ=1;var n=Ot(),e=Dr(),r=OB().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),QZ}var ZZ;function Uit(){if(ZZ)return JI.exports;ZZ=1,zit();var n=Hn(),e=n.Object,r=JI.exports=function(s,o){return e.defineProperties(s,o)};return e.defineProperties.sham&&(r.sham=!0),JI.exports}var ZI,eee;function Wit(){if(eee)return ZI;eee=1;var n=Uit();return ZI=n,ZI}var eM,tee;function qit(){return tee||(tee=1,eM=Wit()),eM}var Hit=qit(),xbe=Lt(Hit),tM={exports:{}},nee={},ree;function Vit(){if(ree)return nee;ree=1;var n=Ot(),e=Dr(),r=ia().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),nee}var iee;function Git(){if(iee)return tM.exports;iee=1,Vit();var n=Hn(),e=n.Object,r=tM.exports=function(s,o,a){return e.defineProperty(s,o,a)};return e.defineProperty.sham&&(r.sham=!0),tM.exports}var nM,see;function _be(){if(see)return nM;see=1;var n=Git();return nM=n,nM}var rM,oee;function Yit(){if(oee)return rM;oee=1;var n=_be();return rM=n,rM}var iM,aee;function Kit(){if(aee)return iM;aee=1;var n=Yit();return iM=n,iM}var sM,lee;function Xit(){return lee||(lee=1,sM=Kit()),sM}var Qit=Xit(),Jit=Lt(Qit),cee={},uee;function Zit(){if(uee)return cee;uee=1;var n=Lr(),e=ia().f,r=n("metadata"),i=Function.prototype;return i[r]===void 0&&e(i,r,{value:null}),cee}var dee={},hee;function est(){return hee||(hee=1,C0e()),dee}var fee={},pee;function tst(){return pee||(pee=1,E0e()),fee}var mee={},gee;function nst(){if(gee)return mee;gee=1;var n=hr();return n("metadata"),mee}var oM,bee;function rst(){if(bee)return oM;bee=1;var n=M0e();return Zit(),est(),tst(),nst(),oM=n,oM}var yee={},aM,vee;function Sbe(){if(vee)return aM;vee=1;var n=vo(),e=vn(),r=n("Symbol"),i=r.keyFor,s=e(r.prototype.valueOf);return aM=r.isRegisteredSymbol||function(a){try{return i(s(a))!==void 0}catch{return!1}},aM}var wee;function ist(){if(wee)return yee;wee=1;var n=Ot(),e=Sbe();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),yee}var xee={},lM,_ee;function kbe(){if(_ee)return lM;_ee=1;for(var n=hb(),e=vo(),r=vn(),i=Bx(),s=Lr(),o=e("Symbol"),a=o.isWellKnownSymbol,l=e("Object","getOwnPropertyNames"),c=r(o.prototype.valueOf),u=n("wks"),d=0,h=l(o),f=h.length;d<f;d++)try{var p=h[d];i(o[p])&&s(p)}catch{}return lM=function(b){if(a&&a(b))return!0;try{for(var y=c(b),v=0,w=l(u),_=w.length;v<_;v++)if(u[w[v]]==y)return!0}catch{}return!1},lM}var See;function sst(){if(See)return xee;See=1;var n=Ot(),e=kbe();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),xee}var kee={},Cee;function ost(){if(Cee)return kee;Cee=1;var n=hr();return n("customMatcher"),kee}var Eee={},Aee;function ast(){if(Aee)return Eee;Aee=1;var n=hr();return n("observable"),Eee}var Tee={},Pee;function lst(){if(Pee)return Tee;Pee=1;var n=Ot(),e=Sbe();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Tee}var Iee={},Mee;function cst(){if(Mee)return Iee;Mee=1;var n=Ot(),e=kbe();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Iee}var Oee={},Dee;function ust(){if(Dee)return Oee;Dee=1;var n=hr();return n("matcher"),Oee}var Ree={},Nee;function dst(){if(Nee)return Ree;Nee=1;var n=hr();return n("metadataKey"),Ree}var jee={},Bee;function hst(){if(Bee)return jee;Bee=1;var n=hr();return n("patternMatch"),jee}var Lee={},Fee;function fst(){if(Fee)return Lee;Fee=1;var n=hr();return n("replaceAll"),Lee}var cM,$ee;function pst(){if($ee)return cM;$ee=1;var n=rst();return ist(),sst(),ost(),ast(),lst(),cst(),ust(),dst(),hst(),fst(),cM=n,cM}var uM,zee;function mst(){return zee||(zee=1,uM=pst()),uM}var gst=mst(),F_=Lt(gst),Uee={},dM,Wee;function bst(){if(Wee)return dM;Wee=1;var n=vn(),e=pb(),r=sa(),i=mu(),s=n("".charAt),o=n("".charCodeAt),a=n("".slice),l=function(c){return function(u,d){var h=r(i(u)),f=e(d),p=h.length,m,b;return f<0||f>=p?c?"":void 0:(m=o(h,f),m<55296||m>56319||f+1===p||(b=o(h,f+1))<56320||b>57343?c?s(h,f):m:c?a(h,f,f+2):(m-55296<<10)+(b-56320)+65536)}};return dM={codeAt:l(!1),charAt:l(!0)},dM}var qee;function $E(){if(qee)return Uee;qee=1;var n=bst().charAt,e=sa(),r=qx(),i=RB(),s=NB(),o="String Iterator",a=r.set,l=r.getterFor(o);return i(String,"String",function(c){a(this,{type:o,string:e(c),index:0})},function(){var u=l(this),d=u.string,h=u.index,f;return h>=d.length?s(void 0,!0):(f=n(d,h),u.index+=f.length,s(f,!1))}),Uee}var hM,Hee;function yst(){if(Hee)return hM;Hee=1,ih(),$E(),A0e();var n=RE();return hM=n.f("iterator"),hM}var fM,Vee;function Cbe(){if(Vee)return fM;Vee=1;var n=yst();return sh(),fM=n,fM}var pM,Gee;function vst(){if(Gee)return pM;Gee=1;var n=Cbe();return pM=n,pM}var mM,Yee;function wst(){if(Yee)return mM;Yee=1;var n=vst();return mM=n,mM}var gM,Kee;function xst(){return Kee||(Kee=1,gM=wst()),gM}var _st=xst(),Sst=Lt(_st);function Iw(n){"@babel/helpers - typeof";return Iw=typeof F_=="function"&&typeof Sst=="symbol"?function(e){return typeof e}:function(e){return e&&typeof F_=="function"&&e.constructor===F_&&e!==F_.prototype?"symbol":typeof e},Iw(n)}var bM,Xee;function kst(){if(Xee)return bM;Xee=1,T0e();var n=RE();return bM=n.f("toPrimitive"),bM}var yM,Qee;function Cst(){if(Qee)return yM;Qee=1;var n=kst();return yM=n,yM}var vM,Jee;function Est(){if(Jee)return vM;Jee=1;var n=Cst();return vM=n,vM}var wM,Zee;function Ast(){if(Zee)return wM;Zee=1;var n=Est();return wM=n,wM}var xM,ete;function Tst(){return ete||(ete=1,xM=Ast()),xM}var Pst=Tst(),Ist=Lt(Pst);function Mst(n,e){if(Iw(n)!="object"||!n)return n;var r=n[Ist];if(r!==void 0){var i=r.call(n,e);if(Iw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ost(n){var e=Mst(n,"string");return Iw(e)=="symbol"?e:e+""}function Bn(n,e,r){return(e=Ost(e))in n?Jit(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var tte={},_M,nte;function Dst(){if(nte)return _M;nte=1;var n=Gl(),e=zs(),r=CE(),i=Ya(),s=TypeError,o="Reduce of empty array with no initial value",a=function(l){return function(c,u,d,h){var f=e(c),p=r(f),m=i(f);if(n(u),m===0&&d<2)throw new s(o);var b=l?m-1:0,y=l?-1:1;if(d<2)for(;;){if(b in p){h=p[b],b+=y;break}if(b+=y,l?b<0:m<=b)throw new s(o)}for(;l?b>=0:m>b;b+=y)b in p&&(h=u(h,p[b],b,f));return h}};return _M={left:a(!1),right:a(!0)},_M}var SM,rte;function Rst(){if(rte)return SM;rte=1;var n=L0e();return SM=n==="NODE",SM}var ite;function Nst(){if(ite)return tte;ite=1;var n=Ot(),e=Dst().left,r=yb(),i=jx(),s=Rst(),o=!s&&i>79&&i<83,a=o||!r("reduce");return n({target:"Array",proto:!0,forced:a},{reduce:function(c){var u=arguments.length;return e(this,c,u,u>1?arguments[1]:void 0)}}),tte}var kM,ste;function jst(){if(ste)return kM;ste=1,Nst();var n=xr();return kM=n("Array","reduce"),kM}var CM,ote;function Bst(){if(ote)return CM;ote=1;var n=Qn(),e=jst(),r=Array.prototype;return CM=function(i){var s=i.reduce;return i===r||n(r,i)&&s===r.reduce?e:s},CM}var EM,ate;function Lst(){if(ate)return EM;ate=1;var n=Bst();return EM=n,EM}var AM,lte;function Fst(){return lte||(lte=1,AM=Lst()),AM}var $st=Fst(),zE=Lt($st),cte={},TM,ute;function zst(){if(ute)return TM;ute=1;var n=th(),e=Ya(),r=TB(),i=Lx(),s=function(o,a,l,c,u,d,h,f){for(var p=u,m=0,b=h?i(h,f):!1,y,v;m<c;)m in l&&(y=b?b(l[m],m,a):l[m],d>0&&n(y)?(v=e(y),p=s(o,a,y,v,p,d-1)-1):(r(p+1),o[p]=y),p++),m++;return p};return TM=s,TM}var dte;function Ust(){if(dte)return cte;dte=1;var n=Ot(),e=zst(),r=Gl(),i=zs(),s=Ya(),o=PE();return n({target:"Array",proto:!0},{flatMap:function(l){var c=i(this),u=s(c),d;return r(l),d=o(c,0),d.length=e(d,c,c,u,0,1,l,arguments.length>1?arguments[1]:void 0),d}}),cte}var hte={},fte;function Wst(){if(fte)return hte;fte=1;var n=Hx();return n("flatMap"),hte}var PM,pte;function qst(){if(pte)return PM;pte=1,Ust(),Wst();var n=xr();return PM=n("Array","flatMap"),PM}var IM,mte;function Hst(){if(mte)return IM;mte=1;var n=Qn(),e=qst(),r=Array.prototype;return IM=function(i){var s=i.flatMap;return i===r||n(r,i)&&s===r.flatMap?e:s},IM}var MM,gte;function Vst(){if(gte)return MM;gte=1;var n=Hst();return MM=n,MM}var OM,bte;function Gst(){return bte||(bte=1,OM=Vst()),OM}var Yst=Gst(),Kst=Lt(Yst),DM,yte;function Xst(){return yte||(yte=1,DM=Cbe()),DM}var Qst=Xst(),rf=Lt(Qst),vte={},wte={},RM={exports:{}},NM,xte;function Jst(){if(xte)return NM;xte=1;var n=mn();return NM=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),NM}var jM,_te;function Zst(){if(_te)return jM;_te=1;var n=mn(),e=zi(),r=Vl(),i=Jst(),s=Object.isExtensible,o=n(function(){});return jM=o||i?function(l){return!e(l)||i&&r(l)==="ArrayBuffer"?!1:s?s(l):!0}:s,jM}var BM,Ste;function eot(){if(Ste)return BM;Ste=1;var n=mn();return BM=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),BM}var kte;function Ebe(){if(kte)return RM.exports;kte=1;var n=Ot(),e=vn(),r=$x(),i=zi(),s=li(),o=ia().f,a=OE(),l=w0e(),c=Zst(),u=EE(),d=eot(),h=!1,f=u("meta"),p=0,m=function(x){o(x,f,{value:{objectID:"O"+p++,weakData:{}}})},b=function(x,S){if(!i(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!s(x,f)){if(!c(x))return"F";if(!S)return"E";m(x)}return x[f].objectID},y=function(x,S){if(!s(x,f)){if(!c(x))return!0;if(!S)return!1;m(x)}return x[f].weakData},v=function(x){return d&&h&&c(x)&&!s(x,f)&&m(x),x},w=function(){_.enable=function(){},h=!0;var x=a.f,S=e([].splice),C={};C[f]=1,x(C).length&&(a.f=function(E){for(var T=x(E),M=0,I=T.length;M<I;M++)if(T[M]===f){S(T,M,1);break}return T},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},_=RM.exports={enable:w,fastKey:b,getWeakData:y,onFreeze:v};return r[f]=!0,RM.exports}var LM,Cte;function tot(){if(Cte)return LM;Cte=1;var n=Lr(),e=gb(),r=n("iterator"),i=Array.prototype;return LM=function(s){return s!==void 0&&(e.Array===s||i[r]===s)},LM}var FM,Ete;function Abe(){if(Ete)return FM;Ete=1;var n=nh(),e=CB(),r=Nx(),i=gb(),s=Lr(),o=s("iterator");return FM=function(a){if(!r(a))return e(a,o)||e(a,"@@iterator")||i[n(a)]},FM}var $M,Ate;function Tbe(){if(Ate)return $M;Ate=1;var n=$s(),e=Gl(),r=gu(),i=ub(),s=Abe(),o=TypeError;return $M=function(a,l){var c=arguments.length<2?s(a):l;if(e(c))return r(n(c,a));throw new o(i(a)+" is not iterable")},$M}var zM,Tte;function eL(){if(Tte)return zM;Tte=1;var n=$s(),e=gu(),r=CB();return zM=function(i,s,o){var a,l;e(i);try{if(a=r(i,"return"),!a){if(s==="throw")throw o;return o}a=n(a,i)}catch(c){l=!0,a=c}if(s==="throw")throw o;if(l)throw a;return e(a),o},zM}var UM,Pte;function tL(){if(Pte)return UM;Pte=1;var n=Lx(),e=$s(),r=gu(),i=ub(),s=tot(),o=Ya(),a=Qn(),l=Tbe(),c=Abe(),u=eL(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return UM=function(p,m,b){var y=b&&b.that,v=!!(b&&b.AS_ENTRIES),w=!!(b&&b.IS_RECORD),_=!!(b&&b.IS_ITERATOR),x=!!(b&&b.INTERRUPTED),S=n(m,y),C,E,T,M,I,O,F,$=function(D){return C&&u(C,"normal"),new h(!0,D)},z=function(D){return v?(r(D),x?S(D[0],D[1],$):S(D[0],D[1])):x?S(D,$):S(D)};if(w)C=p.iterator;else if(_)C=p;else{if(E=c(p),!E)throw new d(i(p)+" is not iterable");if(s(E)){for(T=0,M=o(p);M>T;T++)if(I=z(p[T]),I&&a(f,I))return I;return new h(!1)}C=l(p,E)}for(O=w?p.next:C.next;!(F=e(O,C)).done;){try{I=z(F.value)}catch(D){u(C,"throw",D)}if(typeof I=="object"&&I&&a(f,I))return I}return new h(!1)},UM}var WM,Ite;function Pbe(){if(Ite)return WM;Ite=1;var n=Qn(),e=TypeError;return WM=function(r,i){if(n(i,r))return r;throw new e("Incorrect invocation")},WM}var qM,Mte;function Ibe(){if(Mte)return qM;Mte=1;var n=Ot(),e=wr(),r=Ebe(),i=mn(),s=fb(),o=tL(),a=Pbe(),l=ai(),c=zi(),u=Nx(),d=xp(),h=ia().f,f=rh().forEach,p=Dr(),m=qx(),b=m.set,y=m.getterFor;return qM=function(v,w,_){var x=v.indexOf("Map")!==-1,S=v.indexOf("Weak")!==-1,C=x?"set":"add",E=e[v],T=E&&E.prototype,M={},I;if(!p||!l(E)||!(S||T.forEach&&!i(function(){new E().entries().next()})))I=_.getConstructor(w,v,x,C),r.enable();else{I=w(function($,z){b(a($,O),{type:v,collection:new E}),u(z)||o(z,$[C],{that:$,AS_ENTRIES:x})});var O=I.prototype,F=y(v);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function($){var z=$==="add"||$==="set";$ in T&&!(S&&$==="clear")&&s(O,$,function(D,j){var N=F(this).collection;if(!z&&S&&!c(D))return $==="get"?void 0:!1;var R=N[$](D===0?0:D,j);return z?this:R})}),S||h(O,"size",{configurable:!0,get:function(){return F(this).collection.size}})}return d(I,v,!1,!0),M[v]=I,n({global:!0,forced:!0},M),S||_.setStrong(I,v,x),I},qM}var HM,Ote;function not(){if(Ote)return HM;Ote=1;var n=Wx();return HM=function(e,r,i){for(var s in r)i&&i.unsafe&&e[s]?e[s]=r[s]:n(e,s,r[s],i);return e},HM}var VM,Dte;function rot(){if(Dte)return VM;Dte=1;var n=vo(),e=DB(),r=Lr(),i=Dr(),s=r("species");return VM=function(o){var a=n(o);i&&a&&!a[s]&&e(a,s,{configurable:!0,get:function(){return this}})},VM}var GM,Rte;function Mbe(){if(Rte)return GM;Rte=1;var n=Ux(),e=DB(),r=not(),i=Lx(),s=Pbe(),o=Nx(),a=tL(),l=RB(),c=NB(),u=rot(),d=Dr(),h=Ebe().fastKey,f=qx(),p=f.set,m=f.getterFor;return GM={getConstructor:function(b,y,v,w){var _=b(function(T,M){s(T,x),p(T,{type:y,index:n(null),first:null,last:null,size:0}),d||(T.size=0),o(M)||a(M,T[w],{that:T,AS_ENTRIES:v})}),x=_.prototype,S=m(y),C=function(T,M,I){var O=S(T),F=E(T,M),$,z;return F?F.value=I:(O.last=F={index:z=h(M,!0),key:M,value:I,previous:$=O.last,next:null,removed:!1},O.first||(O.first=F),$&&($.next=F),d?O.size++:T.size++,z!=="F"&&(O.index[z]=F)),T},E=function(T,M){var I=S(T),O=h(M),F;if(O!=="F")return I.index[O];for(F=I.first;F;F=F.next)if(F.key===M)return F};return r(x,{clear:function(){for(var M=this,I=S(M),O=I.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=null),O=O.next;I.first=I.last=null,I.index=n(null),d?I.size=0:M.size=0},delete:function(T){var M=this,I=S(M),O=E(M,T);if(O){var F=O.next,$=O.previous;delete I.index[O.index],O.removed=!0,$&&($.next=F),F&&(F.previous=$),I.first===O&&(I.first=F),I.last===O&&(I.last=$),d?I.size--:M.size--}return!!O},forEach:function(M){for(var I=S(this),O=i(M,arguments.length>1?arguments[1]:void 0),F;F=F?F.next:I.first;)for(O(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(M){return!!E(this,M)}}),r(x,v?{get:function(M){var I=E(this,M);return I&&I.value},set:function(M,I){return C(this,M===0?0:M,I)}}:{add:function(M){return C(this,M=M===0?0:M,M)}}),d&&e(x,"size",{configurable:!0,get:function(){return S(this).size}}),_},setStrong:function(b,y,v){var w=y+" Iterator",_=m(y),x=m(w);l(b,y,function(S,C){p(this,{type:w,target:S,state:_(S),kind:C,last:null})},function(){for(var S=x(this),C=S.kind,E=S.last;E&&E.removed;)E=E.previous;return!S.target||!(S.last=E=E?E.next:S.state.first)?(S.target=null,c(void 0,!0)):c(C==="keys"?E.key:C==="values"?E.value:[E.key,E.value],!1)},v?"entries":"values",!v,!0),u(y)}},GM}var Nte;function iot(){if(Nte)return wte;Nte=1;var n=Ibe(),e=Mbe();return n("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),wte}var jte;function sot(){return jte||(jte=1,iot()),vte}var Bte={},YM,Lte;function Obe(){return Lte||(Lte=1,YM=function(n,e){return e===1?function(r,i){return r[n](i)}:function(r,i,s){return r[n](i,s)}}),YM}var KM,Fte;function oot(){if(Fte)return KM;Fte=1;var n=vo(),e=Obe(),r=n("Map");return KM={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},KM}var $te;function aot(){if($te)return Bte;$te=1;var n=Ot(),e=vn(),r=Gl(),i=mu(),s=tL(),o=oot(),a=db(),l=mn(),c=o.Map,u=o.has,d=o.get,h=o.set,f=e([].push),p=a||l(function(){return c.groupBy("ab",function(m){return m}).get("a").length!==1});return n({target:"Map",stat:!0,forced:a||p},{groupBy:function(b,y){i(b),r(y);var v=new c,w=0;return s(b,function(_){var x=y(_,w++);u(v,x)?f(d(v,x),_):h(v,x,[_])}),v}}),Bte}var XM,zte;function lot(){if(zte)return XM;zte=1,ih(),sot(),aot(),$E();var n=Hn();return XM=n.Map,XM}var QM,Ute;function cot(){if(Ute)return QM;Ute=1;var n=lot();return sh(),QM=n,QM}var JM,Wte;function uot(){return Wte||(Wte=1,JM=cot()),JM}var dot=uot(),Dbe=Lt(dot),qte={},Hte={},Vte;function hot(){if(Vte)return Hte;Vte=1;var n=Ibe(),e=Mbe();return n("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Hte}var Gte;function fot(){return Gte||(Gte=1,hot()),qte}var Yte={},ZM,Kte;function Sp(){if(Kte)return ZM;Kte=1;var n=ub(),e=TypeError;return ZM=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(n(r)+" is not a set")},ZM}var eO,Xte;function kp(){if(Xte)return eO;Xte=1;var n=vo(),e=Obe(),r=n("Set"),i=r.prototype;return eO={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:i},eO}var tO,Qte;function Cp(){if(Qte)return tO;Qte=1;var n=$s();return tO=function(e,r,i){for(var s=i?e:e.iterator,o=e.next,a,l;!(a=n(o,s)).done;)if(l=r(a.value),l!==void 0)return l},tO}var nO,Jte;function Jx(){if(Jte)return nO;Jte=1;var n=Cp();return nO=function(e,r,i){return i?n(e.keys(),r,!0):e.forEach(r)},nO}var rO,Zte;function nL(){if(Zte)return rO;Zte=1;var n=kp(),e=Jx(),r=n.Set,i=n.add;return rO=function(s){var o=new r;return e(s,function(a){i(o,a)}),o},rO}var iO,ene;function Zx(){return ene||(ene=1,iO=function(n){return n.size}),iO}var sO,tne;function pot(){return tne||(tne=1,sO=function(n){return{iterator:n,next:n.next,done:!1}}),sO}var oO,nne;function Ep(){if(nne)return oO;nne=1;var n=Gl(),e=gu(),r=$s(),i=pb(),s=pot(),o="Invalid size",a=RangeError,l=TypeError,c=Math.max,u=function(d,h){this.set=d,this.size=c(h,0),this.has=n(d.has),this.keys=n(d.keys)};return u.prototype={getIterator:function(){return s(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},oO=function(d){e(d);var h=+d.size;if(h!==h)throw new l(o);var f=i(h);if(f<0)throw new a(o);return new u(d,f)},oO}var aO,rne;function mot(){if(rne)return aO;rne=1;var n=Sp(),e=kp(),r=nL(),i=Zx(),s=Ep(),o=Jx(),a=Cp(),l=e.has,c=e.remove;return aO=function(d){var h=n(this),f=s(d),p=r(h);return i(h)<=f.size?o(h,function(m){f.includes(m)&&c(p,m)}):a(f.getIterator(),function(m){l(p,m)&&c(p,m)}),p},aO}var lO,ine;function Ap(){return ine||(ine=1,lO=function(){return!1}),lO}var sne;function got(){if(sne)return Yte;sne=1;var n=Ot(),e=mot(),r=mn(),i=Ap(),s=!i("difference",function(a){return a.size===0}),o=s||r(function(){var a={size:1,has:function(){return!0},keys:function(){var c=0;return{next:function(){var u=c++>1;return l.has(1)&&l.clear(),{done:u,value:2}}}}},l=new Set([1,2,3,4]);return l.difference(a).size!==3});return n({target:"Set",proto:!0,real:!0,forced:o},{difference:e}),Yte}var one={},cO,ane;function bot(){if(ane)return cO;ane=1;var n=Sp(),e=kp(),r=Zx(),i=Ep(),s=Jx(),o=Cp(),a=e.Set,l=e.add,c=e.has;return cO=function(d){var h=n(this),f=i(d),p=new a;return r(h)>f.size?o(f.getIterator(),function(m){c(h,m)&&l(p,m)}):s(h,function(m){f.includes(m)&&l(p,m)}),p},cO}var lne;function yot(){if(lne)return one;lne=1;var n=Ot(),e=mn(),r=bot(),i=Ap(),s=!i("intersection",function(o){return o.size===2&&o.has(1)&&o.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:s},{intersection:r}),one}var cne={},uO,une;function vot(){if(une)return uO;une=1;var n=Sp(),e=kp().has,r=Zx(),i=Ep(),s=Jx(),o=Cp(),a=eL();return uO=function(c){var u=n(this),d=i(c);if(r(u)<=d.size)return s(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return o(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},uO}var dne;function wot(){if(dne)return cne;dne=1;var n=Ot(),e=vot(),r=Ap(),i=!r("isDisjointFrom",function(s){return!s});return n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:e}),cne}var hne={},dO,fne;function xot(){if(fne)return dO;fne=1;var n=Sp(),e=Zx(),r=Jx(),i=Ep();return dO=function(o){var a=n(this),l=i(o);return e(a)>l.size?!1:r(a,function(c){if(!l.includes(c))return!1},!0)!==!1},dO}var pne;function _ot(){if(pne)return hne;pne=1;var n=Ot(),e=xot(),r=Ap(),i=!r("isSubsetOf",function(s){return s});return n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:e}),hne}var mne={},hO,gne;function Sot(){if(gne)return hO;gne=1;var n=Sp(),e=kp().has,r=Zx(),i=Ep(),s=Cp(),o=eL();return hO=function(l){var c=n(this),u=i(l);if(r(c)<u.size)return!1;var d=u.getIterator();return s(d,function(h){if(!e(c,h))return o(d,"normal",!1)})!==!1},hO}var bne;function kot(){if(bne)return mne;bne=1;var n=Ot(),e=Sot(),r=Ap(),i=!r("isSupersetOf",function(s){return!s});return n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:e}),mne}var yne={},fO,vne;function Cot(){if(vne)return fO;vne=1;var n=Sp(),e=kp(),r=nL(),i=Ep(),s=Cp(),o=e.add,a=e.has,l=e.remove;return fO=function(u){var d=n(this),h=i(u).getIterator(),f=r(d);return s(h,function(p){a(d,p)?l(f,p):o(f,p)}),f},fO}var pO,wne;function Rbe(){return wne||(wne=1,pO=function(n){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},i=e[n](r);return i.size===1&&i.values().next().value===4}catch{return!1}}),pO}var xne;function Eot(){if(xne)return yne;xne=1;var n=Ot(),e=Cot(),r=Rbe(),i=Ap(),s=!i("symmetricDifference")||!r("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:s},{symmetricDifference:e}),yne}var _ne={},mO,Sne;function Aot(){if(Sne)return mO;Sne=1;var n=Sp(),e=kp().add,r=nL(),i=Ep(),s=Cp();return mO=function(a){var l=n(this),c=i(a).getIterator(),u=r(l);return s(c,function(d){e(u,d)}),u},mO}var kne;function Tot(){if(kne)return _ne;kne=1;var n=Ot(),e=Aot(),r=Rbe(),i=Ap(),s=!i("union")||!r("union");return n({target:"Set",proto:!0,real:!0,forced:s},{union:e}),_ne}var gO,Cne;function Pot(){if(Cne)return gO;Cne=1,ih(),fot(),got(),yot(),wot(),_ot(),kot(),Eot(),Tot(),$E();var n=Hn();return gO=n.Set,gO}var bO,Ene;function Iot(){if(Ene)return bO;Ene=1;var n=Pot();return sh(),bO=n,bO}var yO,Ane;function Mot(){return Ane||(Ane=1,yO=Iot()),yO}var Oot=Mot(),Fd=Lt(Oot),vO,Tne;function Dot(){if(Tne)return vO;Tne=1,ih(),$E();var n=Tbe();return vO=n,vO}var wO,Pne;function Rot(){if(Pne)return wO;Pne=1;var n=Dot();return sh(),wO=n,wO}var xO,Ine;function Not(){if(Ine)return xO;Ine=1;var n=Rot();return xO=n,xO}var _O,Mne;function jot(){if(Mne)return _O;Mne=1;var n=Not();return _O=n,_O}var SO,One;function Bot(){return One||(One=1,SO=jot()),SO}var kO,Dne;function Lot(){return Dne||(Dne=1,kO=Bot()),kO}var Fot=Lot(),CO=Lt(Fot),Rne={},EO,Nne;function $ot(){if(Nne)return EO;Nne=1;var n=mb(),e=Math.floor,r=function(i,s){var o=i.length;if(o<8)for(var a=1,l,c;a<o;){for(c=a,l=i[a];c&&s(i[c-1],l)>0;)i[c]=i[--c];c!==a++&&(i[c]=l)}else for(var u=e(o/2),d=r(n(i,0,u),s),h=r(n(i,u),s),f=d.length,p=h.length,m=0,b=0;m<f||b<p;)i[m+b]=m<f&&b<p?s(d[m],h[b])<=0?d[m++]:h[b++]:m<f?d[m++]:h[b++];return i};return EO=r,EO}var AO,jne;function zot(){if(jne)return AO;jne=1;var n=lb(),e=n.match(/firefox\/(\d+)/i);return AO=!!e&&+e[1],AO}var TO,Bne;function Uot(){if(Bne)return TO;Bne=1;var n=lb();return TO=/MSIE|Trident/.test(n),TO}var PO,Lne;function Wot(){if(Lne)return PO;Lne=1;var n=lb(),e=n.match(/AppleWebKit\/(\d+)\./);return PO=!!e&&+e[1],PO}var Fne;function qot(){if(Fne)return Rne;Fne=1;var n=Ot(),e=vn(),r=Gl(),i=zs(),s=Ya(),o=R0e(),a=sa(),l=mn(),c=$ot(),u=yb(),d=zot(),h=Uot(),f=jx(),p=Wot(),m=[],b=e(m.sort),y=e(m.push),v=l(function(){m.sort(void 0)}),w=l(function(){m.sort(null)}),_=u("sort"),x=!l(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var E="",T,M,I,O;for(T=65;T<76;T++){switch(M=String.fromCharCode(T),T){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(O=0;O<47;O++)m.push({k:M+O,v:I})}for(m.sort(function(F,$){return $.v-F.v}),O=0;O<m.length;O++)M=m[O].k.charAt(0),E.charAt(E.length-1)!==M&&(E+=M);return E!=="DGBEFHACIJK"}}),S=v||!w||!_||!x,C=function(E){return function(T,M){return M===void 0?-1:T===void 0?1:E!==void 0?+E(T,M)||0:a(T)>a(M)?1:-1}};return n({target:"Array",proto:!0,forced:S},{sort:function(T){T!==void 0&&r(T);var M=i(this);if(x)return T===void 0?b(M):b(M,T);var I=[],O=s(M),F,$;for($=0;$<O;$++)$ in M&&y(I,M[$]);for(c(I,C(T)),F=s(I),$=0;$<F;)M[$]=I[$++];for(;$<O;)o(M,$++);return M}}),Rne}var IO,$ne;function Hot(){if($ne)return IO;$ne=1,qot();var n=xr();return IO=n("Array","sort"),IO}var MO,zne;function Vot(){if(zne)return MO;zne=1;var n=Qn(),e=Hot(),r=Array.prototype;return MO=function(i){var s=i.sort;return i===r||n(r,i)&&s===r.sort?e:s},MO}var OO,Une;function Got(){if(Une)return OO;Une=1;var n=Vot();return OO=n,OO}var DO,Wne;function Yot(){return Wne||(Wne=1,DO=Got()),DO}var Kot=Yot(),Ir=Lt(Kot),qne={},Hne;function Xot(){if(Hne)return qne;Hne=1;var n=Ot(),e=rh().some,r=yb(),i=r("some");return n({target:"Array",proto:!0,forced:!i},{some:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),qne}var RO,Vne;function Qot(){if(Vne)return RO;Vne=1,Xot();var n=xr();return RO=n("Array","some"),RO}var NO,Gne;function Jot(){if(Gne)return NO;Gne=1;var n=Qn(),e=Qot(),r=Array.prototype;return NO=function(i){var s=i.some;return i===r||n(r,i)&&s===r.some?e:s},NO}var jO,Yne;function Zot(){if(Yne)return jO;Yne=1;var n=Jot();return jO=n,jO}var BO,Kne;function eat(){return Kne||(Kne=1,BO=Zot()),BO}var tat=eat(),rL=Lt(tat),LO,Xne;function nat(){if(Xne)return LO;Xne=1,ih();var n=xr();return LO=n("Array","keys"),LO}var FO,Qne;function rat(){if(Qne)return FO;Qne=1;var n=nat();return FO=n,FO}var $O,Jne;function iat(){if(Jne)return $O;Jne=1,sh();var n=nh(),e=li(),r=Qn(),i=rat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return $O=function(a){var l=a.keys;return a===s||r(s,a)&&l===s.keys||e(o,n(a))?i:l},$O}var zO,Zne;function sat(){return Zne||(Zne=1,zO=iat()),zO}var oat=sat(),Lh=Lt(oat),UO,ere;function aat(){if(ere)return UO;ere=1,ih();var n=xr();return UO=n("Array","values"),UO}var WO,tre;function lat(){if(tre)return WO;tre=1;var n=aat();return WO=n,WO}var qO,nre;function cat(){if(nre)return qO;nre=1,sh();var n=nh(),e=li(),r=Qn(),i=lat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return qO=function(a){var l=a.values;return a===s||r(s,a)&&l===s.values||e(o,n(a))?i:l},qO}var HO,rre;function uat(){return rre||(rre=1,HO=cat()),HO}var dat=uat(),ire=Lt(dat),VO,sre;function hat(){if(sre)return VO;sre=1,ih();var n=xr();return VO=n("Array","entries"),VO}var GO,ore;function fat(){if(ore)return GO;ore=1;var n=hat();return GO=n,GO}var YO,are;function pat(){if(are)return YO;are=1,sh();var n=nh(),e=li(),r=Qn(),i=fat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return YO=function(a){var l=a.entries;return a===s||r(s,a)&&l===s.entries||e(o,n(a))?i:l},YO}var KO,lre;function mat(){return lre||(lre=1,KO=pat()),KO}var gat=mat(),bat=Lt(gat),XO,cre;function yat(){return cre||(cre=1,XO=_be()),XO}var vat=yat(),UE=Lt(vat);const fi=[];for(let n=0;n<256;++n)fi.push((n+256).toString(16).slice(1));function wat(n,e=0){return(fi[n[e+0]]+fi[n[e+1]]+fi[n[e+2]]+fi[n[e+3]]+"-"+fi[n[e+4]]+fi[n[e+5]]+"-"+fi[n[e+6]]+fi[n[e+7]]+"-"+fi[n[e+8]]+fi[n[e+9]]+"-"+fi[n[e+10]]+fi[n[e+11]]+fi[n[e+12]]+fi[n[e+13]]+fi[n[e+14]]+fi[n[e+15]]).toLowerCase()}let QO;const xat=new Uint8Array(16);function _at(){if(!QO){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");QO=crypto.getRandomValues.bind(crypto)}return QO(xat)}const Sat=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var ure={randomUUID:Sat};function kat(n,e,r){var s;n=n||{};const i=n.random??((s=n.rng)==null?void 0:s.call(n))??_at();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,wat(i)}function Mf(n,e,r){return ure.randomUUID&&!n?ure.randomUUID():kat(n)}function dre(n,e){var r=Vr(n);if(w2){var i=w2(n);e&&(i=zt(i).call(i,function(s){return FE(n,s).enumerable})),r.push.apply(r,i)}return r}function hre(n){for(var e=1;e<arguments.length;e++){var r,i,s=arguments[e]!=null?arguments[e]:{};e%2?bt(r=dre(Object(s),!0)).call(r,function(o){Bn(n,o,s[o])}):x2?xbe(n,x2(s)):bt(i=dre(Object(s))).call(i,function(o){UE(n,o,FE(s,o))})}return n}function Cat(n){return new Aat(n)}class Eat{constructor(e,r,i){var s,o,a;Bn(this,"_source",void 0),Bn(this,"_transformers",void 0),Bn(this,"_target",void 0),Bn(this,"_listeners",{add:qe(s=this._add).call(s,this),remove:qe(o=this._remove).call(o,this),update:qe(a=this._update).call(a,this)}),this._source=e,this._transformers=r,this._target=i}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){var r;return zE(r=this._transformers).call(r,(i,s)=>s(i),e)}_add(e,r){r!=null&&this._target.add(this._transformItems(this._source.get(r.items)))}_update(e,r){r!=null&&this._target.update(this._transformItems(this._source.get(r.items)))}_remove(e,r){r!=null&&this._target.remove(this._transformItems(r.oldData))}}class Aat{constructor(e){Bn(this,"_source",void 0),Bn(this,"_transformers",[]),this._source=e}filter(e){return this._transformers.push(r=>zt(r).call(r,e)),this}map(e){return this._transformers.push(r=>Tn(r).call(r,e)),this}flatMap(e){return this._transformers.push(r=>Kst(r).call(r,e)),this}to(e){return new Eat(this._source,this._transformers,e)}}function sN(n){return typeof n=="string"||typeof n=="number"}class iL{constructor(e){Bn(this,"delay",void 0),Bn(this,"max",void 0),Bn(this,"_queue",[]),Bn(this,"_timeout",null),Bn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const i=new iL(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{i.flush()};const s=[{name:"flush",original:void 0}];if(r&&r.replace)for(let o=0;o<r.replace.length;o++){const a=r.replace[o];s.push({name:a,original:e[a]}),i.replace(e,a)}return i._extended={object:e,methods:s},i}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let i=0;i<r.length;i++){const s=r[i];s.original?e[s.name]=s.original:delete e[s.name]}this._extended=null}}replace(e,r){const i=this,s=e[r];if(!s)throw new Error("Method "+r+" undefined");e[r]=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.queue({args:a,fn:s,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Bi(()=>{this.flush()},this.delay))}flush(){var e,r;bt(e=es(r=this._queue).call(r,0)).call(e,i=>{i.fn.apply(i.context||i.fn,i.args||[])})}}class Mw{constructor(){Bn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Bn(this,"subscribe",Mw.prototype.on),Bn(this,"unsubscribe",Mw.prototype.off)}_trigger(e,r,i){var s;if(e==="*")throw new Error("Cannot trigger event *");bt(s=[...this._subscribers[e],...this._subscribers["*"]]).call(s,o=>{o(e,r,i??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var i;this._subscribers[e]=zt(i=this._subscribers[e]).call(i,s=>s!==r)}}class sf{constructor(e){Bn(this,"_pairs",void 0),this._pairs=e}*[rf](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Tn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Tn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Vx(null);for(const[r,i]of this._pairs)e[r]=i;return e}toMap(){return new Dbe(this._pairs)}toIdSet(){return new Fd(this.toIdArray())}toItemSet(){return new Fd(this.toItemArray())}cache(){return new sf([...this._pairs])}distinct(e){const r=new Fd;for(const[i,s]of this._pairs)r.add(e(s,i));return r}filter(e){const r=this._pairs;return new sf({*[rf](){for(const[i,s]of r)e(s,i)&&(yield[i,s])}})}forEach(e){for(const[r,i]of this._pairs)e(i,r)}map(e){const r=this._pairs;return new sf({*[rf](){for(const[i,s]of r)yield[i,e(s,i)]}})}max(e){const r=CO(this._pairs);let i=r.next();if(i.done)return null;let s=i.value[1],o=e(i.value[1],i.value[0]);for(;!(i=r.next()).done;){const[a,l]=i.value,c=e(l,a);c>o&&(o=c,s=l)}return s}min(e){const r=CO(this._pairs);let i=r.next();if(i.done)return null;let s=i.value[1],o=e(i.value[1],i.value[0]);for(;!(i=r.next()).done;){const[a,l]=i.value,c=e(l,a);c<o&&(o=c,s=l)}return s}reduce(e,r){for(const[i,s]of this._pairs)r=e(r,s,i);return r}sort(e){return new sf({[rf]:()=>{var r;return CO(Ir(r=[...this._pairs]).call(r,(i,s)=>{let[o,a]=i,[l,c]=s;return e(a,c,o,l)}))}})}}function Tat(n,e){return n[e]==null&&(n[e]=Mf()),n}class D0 extends Mw{get idProp(){return this._idProp}constructor(e,r){super(),Bn(this,"flush",void 0),Bn(this,"length",void 0),Bn(this,"_options",void 0),Bn(this,"_data",void 0),Bn(this,"_idProp",void 0),Bn(this,"_queue",null),e&&!nn(e)&&(r=e,e=[]),this._options=r||{},this._data=new Dbe,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=iL.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const i=[];let s;if(nn(e)){const o=Tn(e).call(e,a=>a[this._idProp]);if(rL(o).call(o,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,l=e.length;a<l;a++)s=this._addItem(e[a]),i.push(s)}else if(e&&typeof e=="object")s=this._addItem(e),i.push(s);else throw new Error("Unknown dataType");return i.length&&this._trigger("add",{items:i},r),i}update(e,r){const i=[],s=[],o=[],a=[],l=this._idProp,c=u=>{const d=u[l];if(d!=null&&this._data.has(d)){const h=u,f=cu({},this._data.get(d)),p=this._updateItem(h);s.push(p),a.push(h),o.push(f)}else{const h=this._addItem(u);i.push(h)}};if(nn(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?c(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")c(e);else throw new Error("Unknown dataType");if(i.length&&this._trigger("add",{items:i},r),s.length){const u={items:s,oldData:o,data:a};this._trigger("update",u,r)}return Er(i).call(i,s)}updateOnly(e,r){var i;nn(e)||(e=[e]);const s=Tn(i=Tn(e).call(e,o=>{const a=this._data.get(o[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:o}})).call(i,o=>{let{oldData:a,update:l}=o;const c=a[this._idProp],u=dbe(a,l);return this._data.set(c,u),{id:c,oldData:a,updatedData:u}});if(s.length){const o={items:Tn(s).call(s,a=>a.id),oldData:Tn(s).call(s,a=>a.oldData),data:Tn(s).call(s,a=>a.updatedData)};return this._trigger("update",o,r),o.items}else return[]}get(e,r){let i,s,o;sN(e)?(i=e,o=r):nn(e)?(s=e,o=r):o=e;const a=o&&o.returnType==="Object"?"Object":"Array",l=o&&zt(o),c=[];let u,d,h;if(i!=null)u=this._data.get(i),u&&l&&!l(u)&&(u=void 0);else if(s!=null)for(let p=0,m=s.length;p<m;p++)u=this._data.get(s[p]),u!=null&&(!l||l(u))&&c.push(u);else{var f;d=[...Lh(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],u=this._data.get(h),u!=null&&(!l||l(u))&&c.push(u)}if(o&&o.order&&i==null&&this._sort(c,o.order),o&&o.fields){const p=o.fields;if(i!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,b=c.length;m<b;m++)c[m]=this._filterFields(c[m],p)}if(a=="Object"){const p={};for(let m=0,b=c.length;m<b;m++){const y=c[m],v=y[this._idProp];p[v]=y}return p}else return i!=null?u??null:c}getIds(e){const r=this._data,i=e&&zt(e),s=e&&e.order,o=[...Lh(r).call(r)],a=[];if(i)if(s){const l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c],h=this._data.get(d);h!=null&&i(h)&&l.push(h)}this._sort(l,s);for(let c=0,u=l.length;c<u;c++)a.push(l[c][this._idProp])}else for(let l=0,c=o.length;l<c;l++){const u=o[l],d=this._data.get(u);d!=null&&i(d)&&a.push(d[this._idProp])}else if(s){const l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];l.push(r.get(d))}this._sort(l,s);for(let c=0,u=l.length;c<u;c++)a.push(l[c][this._idProp])}else for(let l=0,c=o.length;l<c;l++){const u=o[l],d=r.get(u);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const i=r&&zt(r),s=this._data,o=[...Lh(s).call(s)];if(r&&r.order){const a=this.get(r);for(let l=0,c=a.length;l<c;l++){const u=a[l],d=u[this._idProp];e(u,d)}}else for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!i||i(u))&&e(u,c)}}map(e,r){const i=r&&zt(r),s=[],o=this._data,a=[...Lh(o).call(o)];for(let l=0,c=a.length;l<c;l++){const u=a[l],d=this._data.get(u);d!=null&&(!i||i(d))&&s.push(e(d,u))}return r&&r.order&&this._sort(s,r.order),s}_filterFields(e,r){var i;return e&&zE(i=nn(r)?r:Vr(r)).call(i,(s,o)=>(s[o]=e[o],s),{})}_sort(e,r){if(typeof r=="string"){const i=r;Ir(e).call(e,(s,o)=>{const a=s[i],l=o[i];return a>l?1:a<l?-1:0})}else if(typeof r=="function")Ir(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const i=[],s=[],o=nn(e)?e:[e];for(let a=0,l=o.length;a<l;a++){const c=this._remove(o[a]);if(c){const u=c[this._idProp];u!=null&&(i.push(u),s.push(c))}}return i.length&&this._trigger("remove",{items:i,oldData:s},r),i}_remove(e){let r;if(sN(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const i=this._data.get(r)||null;return this._data.delete(r),--this.length,i}return null}clear(e){var r;const i=[...Lh(r=this._data).call(r)],s=[];for(let o=0,a=i.length;o<a;o++)s.push(this._data.get(i[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:s},e),i}max(e){let r=null,i=null;for(const o of ire(s=this._data).call(s)){var s;const a=o[e];typeof a=="number"&&(i==null||a>i)&&(r=o,i=a)}return r||null}min(e){let r=null,i=null;for(const o of ire(s=this._data).call(s)){var s;const a=o[e];typeof a=="number"&&(i==null||a<i)&&(r=o,i=a)}return r||null}distinct(e){const r=this._data,i=[...Lh(r).call(r)],s=[];let o=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],d=r.get(c)[e];let h=!1;for(let f=0;f<o;f++)if(s[f]==d){h=!0;break}!h&&d!==void 0&&(s[o]=d,o++)}return s}_addItem(e){const r=Tat(e,this._idProp),i=r[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,r),++this.length,i}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+ks(e)+")");const i=this._data.get(r);if(!i)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,hre(hre({},i),e)),r}stream(e){if(e){const i=this._data;return new sf({*[rf](){for(const s of e){const o=i.get(s);o!=null&&(yield[s,o])}}})}else{var r;return new sf({[rf]:qe(r=bat(this._data)).call(r,this._data)})}}}let Pat=class Nbe extends Mw{get idProp(){return this.getDataSet().idProp}constructor(e,r){var i;super(),Bn(this,"length",0),Bn(this,"_listener",void 0),Bn(this,"_data",void 0),Bn(this,"_ids",new Fd),Bn(this,"_options",void 0),this._options=r||{},this._listener=qe(i=this._onEvent).call(i,this),this.setData(e)}setData(e){if(this._data){this._data.off&&this._data.off("*",this._listener);const r=this._data.getIds({filter:zt(this._options)}),i=this._data.get(r);this._ids.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i})}if(e!=null){this._data=e;const r=this._data.getIds({filter:zt(this._options)});for(let i=0,s=r.length;i<s;i++){const o=r[i];this._ids.add(o)}this.length=r.length,this._trigger("add",{items:r})}else this._data=new D0;this._data.on&&this._data.on("*",this._listener)}refresh(){const e=this._data.getIds({filter:zt(this._options)}),r=[...this._ids],i={},s=[],o=[],a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];i[u]=!0,this._ids.has(u)||(s.push(u),this._ids.add(u))}for(let l=0,c=r.length;l<c;l++){const u=r[l],d=this._data.get(u);d==null?console.error("If you see this, report it please."):i[u]||(o.push(u),a.push(d),this._ids.delete(u))}this.length+=s.length-o.length,s.length&&this._trigger("add",{items:s}),o.length&&this._trigger("remove",{items:o,oldData:a})}get(e,r){if(this._data==null)return null;let i=null,s;sN(e)||nn(e)?(i=e,s=r):s=e;const o=cu({},this._options,s),a=zt(this._options),l=s&&zt(s);return a&&l&&(o.filter=c=>a(c)&&l(c)),i==null?this._data.get(o):this._data.get(i,o)}getIds(e){if(this._data.length){const r=zt(this._options),i=e!=null?zt(e):null;let s;return i?r?s=o=>r(o)&&i(o):s=i:s=r,this._data.getIds({filter:s,order:e&&e.order})}else return[]}forEach(e,r){if(this._data){var i;const s=zt(this._options),o=r&&zt(r);let a;o?s?a=function(l){return s(l)&&o(l)}:a=o:a=s,bt(i=this._data).call(i,e,{filter:a,order:r&&r.order})}}map(e,r){if(this._data){var i;const s=zt(this._options),o=r&&zt(r);let a;return o?s?a=l=>s(l)&&o(l):a=o:a=s,Tn(i=this._data).call(i,e,{filter:a,order:r&&r.order})}else return[]}getDataSet(){return this._data.getDataSet()}stream(e){var r;return this._data.stream(e||{[rf]:qe(r=Lh(this._ids)).call(r,this._ids)})}dispose(){var e;(e=this._data)!==null&&e!==void 0&&e.off&&this._data.off("*",this._listener);const r="This data view has already been disposed of.",i={get:()=>{throw new Error(r)},set:()=>{throw new Error(r)},configurable:!1};for(const s of D0e(Nbe.prototype))UE(this,s,i)}_onEvent(e,r,i){if(!r||!r.items||!this._data)return;const s=r.items,o=[],a=[],l=[],c=[],u=[],d=[];switch(e){case"add":for(let h=0,f=s.length;h<f;h++){const p=s[h];this.get(p)&&(this._ids.add(p),o.push(p))}break;case"update":for(let h=0,f=s.length;h<f;h++){const p=s[h];this.get(p)?this._ids.has(p)?(a.push(p),u.push(r.data[h]),c.push(r.oldData[h])):(this._ids.add(p),o.push(p)):this._ids.has(p)&&(this._ids.delete(p),l.push(p),d.push(r.oldData[h]))}break;case"remove":for(let h=0,f=s.length;h<f;h++){const p=s[h];this._ids.has(p)&&(this._ids.delete(p),l.push(p),d.push(r.oldData[h]))}break}this.length+=o.length-l.length,o.length&&this._trigger("add",{items:o},i),a.length&&this._trigger("update",{items:a,oldData:c,data:u},i),l.length&&this._trigger("remove",{items:l,oldData:d},i)}};function Iat(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof bt(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Tn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function Mat(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof bt(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Tn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Iat(n,e.getDataSet())}var Oat=Va(),Do=Lt(Oat);const ts=typeof window<"u"&&window.moment||Do;var $_={exports:{}},er={},z_={exports:{}},Ah={},fre;function jbe(){if(fre)return Ah;fre=1;function n(){var o={};return o["align-content"]=!1,o["align-items"]=!1,o["align-self"]=!1,o["alignment-adjust"]=!1,o["alignment-baseline"]=!1,o.all=!1,o["anchor-point"]=!1,o.animation=!1,o["animation-delay"]=!1,o["animation-direction"]=!1,o["animation-duration"]=!1,o["animation-fill-mode"]=!1,o["animation-iteration-count"]=!1,o["animation-name"]=!1,o["animation-play-state"]=!1,o["animation-timing-function"]=!1,o.azimuth=!1,o["backface-visibility"]=!1,o.background=!0,o["background-attachment"]=!0,o["background-clip"]=!0,o["background-color"]=!0,o["background-image"]=!0,o["background-origin"]=!0,o["background-position"]=!0,o["background-repeat"]=!0,o["background-size"]=!0,o["baseline-shift"]=!1,o.binding=!1,o.bleed=!1,o["bookmark-label"]=!1,o["bookmark-level"]=!1,o["bookmark-state"]=!1,o.border=!0,o["border-bottom"]=!0,o["border-bottom-color"]=!0,o["border-bottom-left-radius"]=!0,o["border-bottom-right-radius"]=!0,o["border-bottom-style"]=!0,o["border-bottom-width"]=!0,o["border-collapse"]=!0,o["border-color"]=!0,o["border-image"]=!0,o["border-image-outset"]=!0,o["border-image-repeat"]=!0,o["border-image-slice"]=!0,o["border-image-source"]=!0,o["border-image-width"]=!0,o["border-left"]=!0,o["border-left-color"]=!0,o["border-left-style"]=!0,o["border-left-width"]=!0,o["border-radius"]=!0,o["border-right"]=!0,o["border-right-color"]=!0,o["border-right-style"]=!0,o["border-right-width"]=!0,o["border-spacing"]=!0,o["border-style"]=!0,o["border-top"]=!0,o["border-top-color"]=!0,o["border-top-left-radius"]=!0,o["border-top-right-radius"]=!0,o["border-top-style"]=!0,o["border-top-width"]=!0,o["border-width"]=!0,o.bottom=!1,o["box-decoration-break"]=!0,o["box-shadow"]=!0,o["box-sizing"]=!0,o["box-snap"]=!0,o["box-suppress"]=!0,o["break-after"]=!0,o["break-before"]=!0,o["break-inside"]=!0,o["caption-side"]=!1,o.chains=!1,o.clear=!0,o.clip=!1,o["clip-path"]=!1,o["clip-rule"]=!1,o.color=!0,o["color-interpolation-filters"]=!0,o["column-count"]=!1,o["column-fill"]=!1,o["column-gap"]=!1,o["column-rule"]=!1,o["column-rule-color"]=!1,o["column-rule-style"]=!1,o["column-rule-width"]=!1,o["column-span"]=!1,o["column-width"]=!1,o.columns=!1,o.contain=!1,o.content=!1,o["counter-increment"]=!1,o["counter-reset"]=!1,o["counter-set"]=!1,o.crop=!1,o.cue=!1,o["cue-after"]=!1,o["cue-before"]=!1,o.cursor=!1,o.direction=!1,o.display=!0,o["display-inside"]=!0,o["display-list"]=!0,o["display-outside"]=!0,o["dominant-baseline"]=!1,o.elevation=!1,o["empty-cells"]=!1,o.filter=!1,o.flex=!1,o["flex-basis"]=!1,o["flex-direction"]=!1,o["flex-flow"]=!1,o["flex-grow"]=!1,o["flex-shrink"]=!1,o["flex-wrap"]=!1,o.float=!1,o["float-offset"]=!1,o["flood-color"]=!1,o["flood-opacity"]=!1,o["flow-from"]=!1,o["flow-into"]=!1,o.font=!0,o["font-family"]=!0,o["font-feature-settings"]=!0,o["font-kerning"]=!0,o["font-language-override"]=!0,o["font-size"]=!0,o["font-size-adjust"]=!0,o["font-stretch"]=!0,o["font-style"]=!0,o["font-synthesis"]=!0,o["font-variant"]=!0,o["font-variant-alternates"]=!0,o["font-variant-caps"]=!0,o["font-variant-east-asian"]=!0,o["font-variant-ligatures"]=!0,o["font-variant-numeric"]=!0,o["font-variant-position"]=!0,o["font-weight"]=!0,o.grid=!1,o["grid-area"]=!1,o["grid-auto-columns"]=!1,o["grid-auto-flow"]=!1,o["grid-auto-rows"]=!1,o["grid-column"]=!1,o["grid-column-end"]=!1,o["grid-column-start"]=!1,o["grid-row"]=!1,o["grid-row-end"]=!1,o["grid-row-start"]=!1,o["grid-template"]=!1,o["grid-template-areas"]=!1,o["grid-template-columns"]=!1,o["grid-template-rows"]=!1,o["hanging-punctuation"]=!1,o.height=!0,o.hyphens=!1,o.icon=!1,o["image-orientation"]=!1,o["image-resolution"]=!1,o["ime-mode"]=!1,o["initial-letters"]=!1,o["inline-box-align"]=!1,o["justify-content"]=!1,o["justify-items"]=!1,o["justify-self"]=!1,o.left=!1,o["letter-spacing"]=!0,o["lighting-color"]=!0,o["line-box-contain"]=!1,o["line-break"]=!1,o["line-grid"]=!1,o["line-height"]=!1,o["line-snap"]=!1,o["line-stacking"]=!1,o["line-stacking-ruby"]=!1,o["line-stacking-shift"]=!1,o["line-stacking-strategy"]=!1,o["list-style"]=!0,o["list-style-image"]=!0,o["list-style-position"]=!0,o["list-style-type"]=!0,o.margin=!0,o["margin-bottom"]=!0,o["margin-left"]=!0,o["margin-right"]=!0,o["margin-top"]=!0,o["marker-offset"]=!1,o["marker-side"]=!1,o.marks=!1,o.mask=!1,o["mask-box"]=!1,o["mask-box-outset"]=!1,o["mask-box-repeat"]=!1,o["mask-box-slice"]=!1,o["mask-box-source"]=!1,o["mask-box-width"]=!1,o["mask-clip"]=!1,o["mask-image"]=!1,o["mask-origin"]=!1,o["mask-position"]=!1,o["mask-repeat"]=!1,o["mask-size"]=!1,o["mask-source-type"]=!1,o["mask-type"]=!1,o["max-height"]=!0,o["max-lines"]=!1,o["max-width"]=!0,o["min-height"]=!0,o["min-width"]=!0,o["move-to"]=!1,o["nav-down"]=!1,o["nav-index"]=!1,o["nav-left"]=!1,o["nav-right"]=!1,o["nav-up"]=!1,o["object-fit"]=!1,o["object-position"]=!1,o.opacity=!1,o.order=!1,o.orphans=!1,o.outline=!1,o["outline-color"]=!1,o["outline-offset"]=!1,o["outline-style"]=!1,o["outline-width"]=!1,o.overflow=!1,o["overflow-wrap"]=!1,o["overflow-x"]=!1,o["overflow-y"]=!1,o.padding=!0,o["padding-bottom"]=!0,o["padding-left"]=!0,o["padding-right"]=!0,o["padding-top"]=!0,o.page=!1,o["page-break-after"]=!1,o["page-break-before"]=!1,o["page-break-inside"]=!1,o["page-policy"]=!1,o.pause=!1,o["pause-after"]=!1,o["pause-before"]=!1,o.perspective=!1,o["perspective-origin"]=!1,o.pitch=!1,o["pitch-range"]=!1,o["play-during"]=!1,o.position=!1,o["presentation-level"]=!1,o.quotes=!1,o["region-fragment"]=!1,o.resize=!1,o.rest=!1,o["rest-after"]=!1,o["rest-before"]=!1,o.richness=!1,o.right=!1,o.rotation=!1,o["rotation-point"]=!1,o["ruby-align"]=!1,o["ruby-merge"]=!1,o["ruby-position"]=!1,o["shape-image-threshold"]=!1,o["shape-outside"]=!1,o["shape-margin"]=!1,o.size=!1,o.speak=!1,o["speak-as"]=!1,o["speak-header"]=!1,o["speak-numeral"]=!1,o["speak-punctuation"]=!1,o["speech-rate"]=!1,o.stress=!1,o["string-set"]=!1,o["tab-size"]=!1,o["table-layout"]=!1,o["text-align"]=!0,o["text-align-last"]=!0,o["text-combine-upright"]=!0,o["text-decoration"]=!0,o["text-decoration-color"]=!0,o["text-decoration-line"]=!0,o["text-decoration-skip"]=!0,o["text-decoration-style"]=!0,o["text-emphasis"]=!0,o["text-emphasis-color"]=!0,o["text-emphasis-position"]=!0,o["text-emphasis-style"]=!0,o["text-height"]=!0,o["text-indent"]=!0,o["text-justify"]=!0,o["text-orientation"]=!0,o["text-overflow"]=!0,o["text-shadow"]=!0,o["text-space-collapse"]=!0,o["text-transform"]=!0,o["text-underline-position"]=!0,o["text-wrap"]=!0,o.top=!1,o.transform=!1,o["transform-origin"]=!1,o["transform-style"]=!1,o.transition=!1,o["transition-delay"]=!1,o["transition-duration"]=!1,o["transition-property"]=!1,o["transition-timing-function"]=!1,o["unicode-bidi"]=!1,o["vertical-align"]=!1,o.visibility=!1,o["voice-balance"]=!1,o["voice-duration"]=!1,o["voice-family"]=!1,o["voice-pitch"]=!1,o["voice-range"]=!1,o["voice-rate"]=!1,o["voice-stress"]=!1,o["voice-volume"]=!1,o.volume=!1,o["white-space"]=!1,o.widows=!1,o.width=!0,o["will-change"]=!1,o["word-break"]=!0,o["word-spacing"]=!0,o["word-wrap"]=!0,o["wrap-flow"]=!1,o["wrap-through"]=!1,o["writing-mode"]=!1,o["z-index"]=!1,o}function e(o,a,l){}function r(o,a,l){}var i=/javascript\s*\:/img;function s(o,a){return i.test(a)?"":a}return Ah.whiteList=n(),Ah.getDefaultWhiteList=n,Ah.onAttr=e,Ah.onIgnoreAttr=r,Ah.safeAttrValue=s,Ah}var JO,pre;function Bbe(){return pre||(pre=1,JO={indexOf:function(n,e){var r,i;if(Array.prototype.indexOf)return n.indexOf(e);for(r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1},forEach:function(n,e,r){var i,s;if(Array.prototype.forEach)return n.forEach(e,r);for(i=0,s=n.length;i<s;i++)e.call(r,n[i],i,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}),JO}var ZO,mre;function Dat(){if(mre)return ZO;mre=1;var n=Bbe();function e(r,i){r=n.trimRight(r),r[r.length-1]!==";"&&(r+=";");var s=r.length,o=!1,a=0,l=0,c="";function u(){if(!o){var f=n.trim(r.slice(a,l)),p=f.indexOf(":");if(p!==-1){var m=n.trim(f.slice(0,p)),b=n.trim(f.slice(p+1));if(m){var y=i(a,c.length,m,b,f);y&&(c+=y+"; ")}}}a=l+1}for(;l<s;l++){var d=r[l];if(d==="/"&&r[l+1]==="*"){var h=r.indexOf("*/",l+2);if(h===-1)break;l=h+1,a=l+1,o=!1}else d==="("?o=!0:d===")"?o=!1:d===";"?o||u():d===`
`&&u()}return n.trim(c)}return ZO=e,ZO}var eD,gre;function Rat(){if(gre)return eD;gre=1;var n=jbe(),e=Dat();Bbe();function r(o){return o==null}function i(o){var a={};for(var l in o)a[l]=o[l];return a}function s(o){o=i(o||{}),o.whiteList=o.whiteList||n.whiteList,o.onAttr=o.onAttr||n.onAttr,o.onIgnoreAttr=o.onIgnoreAttr||n.onIgnoreAttr,o.safeAttrValue=o.safeAttrValue||n.safeAttrValue,this.options=o}return s.prototype.process=function(o){if(o=o||"",o=o.toString(),!o)return"";var a=this,l=a.options,c=l.whiteList,u=l.onAttr,d=l.onIgnoreAttr,h=l.safeAttrValue,f=e(o,function(p,m,b,y,v){var w=c[b],_=!1;if(w===!0?_=w:typeof w=="function"?_=w(y):w instanceof RegExp&&(_=w.test(y)),_!==!0&&(_=!1),y=h(b,y),!!y){var x={position:m,sourcePosition:p,source:v,isWhite:_};if(_){var S=u(b,y,x);return r(S)?b+":"+y:S}else{var S=d(b,y,x);if(!r(S))return S}}});return f},eD=s,eD}var bre;function oN(){return bre||(bre=1,function(n,e){var r=jbe(),i=Rat();function s(a,l){var c=new i(l);return c.process(a)}e=n.exports=s,e.FilterCSS=i;for(var o in r)e[o]=r[o];typeof window<"u"&&(window.filterCSS=n.exports)}(z_,z_.exports)),z_.exports}var tD,yre;function sL(){return yre||(yre=1,tD={indexOf:function(n,e){var r,i;if(Array.prototype.indexOf)return n.indexOf(e);for(r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1},forEach:function(n,e,r){var i,s;if(Array.prototype.forEach)return n.forEach(e,r);for(i=0,s=n.length;i<s;i++)e.call(r,n[i],i,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var e=/\s|\n|\t/,r=e.exec(n);return r?r.index:-1}}),tD}var vre;function Lbe(){if(vre)return er;vre=1;var n=oN().FilterCSS,e=oN().getDefaultWhiteList,r=sL();function i(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new n;function o(j,N,R){}function a(j,N,R){}function l(j,N,R){}function c(j,N,R){}function u(j){return j.replace(h,"&lt;").replace(f,"&gt;")}function d(j,N,R,H){if(R=I(R),N==="href"||N==="src"){if(R=r.trim(R),R==="#")return"#";if(!(R.substr(0,7)==="http://"||R.substr(0,8)==="https://"||R.substr(0,7)==="mailto:"||R.substr(0,4)==="tel:"||R.substr(0,11)==="data:image/"||R.substr(0,6)==="ftp://"||R.substr(0,2)==="./"||R.substr(0,3)==="../"||R[0]==="#"||R[0]==="/"))return""}else if(N==="background"){if(w.lastIndex=0,w.test(R))return""}else if(N==="style"){if(_.lastIndex=0,_.test(R)||(x.lastIndex=0,x.test(R)&&(w.lastIndex=0,w.test(R))))return"";H!==!1&&(H=H||s,R=H.process(R))}return R=O(R),R}var h=/</g,f=/>/g,p=/"/g,m=/&quot;/g,b=/&#([a-zA-Z0-9]*);?/gim,y=/&colon;?/gim,v=/&newline;?/gim,w=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,x=/u\s*r\s*l\s*\(.*/gi;function S(j){return j.replace(p,"&quot;")}function C(j){return j.replace(m,'"')}function E(j){return j.replace(b,function(R,H){return H[0]==="x"||H[0]==="X"?String.fromCharCode(parseInt(H.substr(1),16)):String.fromCharCode(parseInt(H,10))})}function T(j){return j.replace(y,":").replace(v," ")}function M(j){for(var N="",R=0,H=j.length;R<H;R++)N+=j.charCodeAt(R)<32?" ":j.charAt(R);return r.trim(N)}function I(j){return j=C(j),j=E(j),j=T(j),j=M(j),j}function O(j){return j=S(j),j=u(j),j}function F(){return""}function $(j,N){typeof N!="function"&&(N=function(){});var R=!Array.isArray(j);function H(Y){return R?!0:r.indexOf(j,Y)!==-1}var U=[],K=!1;return{onIgnoreTag:function(Y,J,G){if(H(Y))if(G.isClosing){var X="[/removed]",ae=G.position+X.length;return U.push([K!==!1?K:G.position,ae]),K=!1,X}else return K||(K=G.position),"[removed]";else return N(Y,J,G)},remove:function(Y){var J="",G=0;return r.forEach(U,function(X){J+=Y.slice(G,X[0]),G=X[1]}),J+=Y.slice(G),J}}}function z(j){for(var N="",R=0;R<j.length;){var H=j.indexOf("<!--",R);if(H===-1){N+=j.slice(R);break}N+=j.slice(R,H);var U=j.indexOf("-->",H);if(U===-1)break;R=U+3}return N}function D(j){var N=j.split("");return N=N.filter(function(R){var H=R.charCodeAt(0);return H===127?!1:H<=31?H===10||H===13:!0}),N.join("")}return er.whiteList=i(),er.getDefaultWhiteList=i,er.onTag=o,er.onIgnoreTag=a,er.onTagAttr=l,er.onIgnoreTagAttr=c,er.safeAttrValue=d,er.escapeHtml=u,er.escapeQuote=S,er.unescapeQuote=C,er.escapeHtmlEntities=E,er.escapeDangerHtml5Entities=T,er.clearNonPrintableCharacter=M,er.friendlyAttrValue=I,er.escapeAttrValue=O,er.onIgnoreTagStripAll=F,er.StripTagBody=$,er.stripCommentTag=z,er.stripBlankChar=D,er.attributeWrapSign='"',er.cssFilter=s,er.getDefaultCSSWhiteList=e,er}var U_={},wre;function Fbe(){if(wre)return U_;wre=1;var n=sL();function e(h){var f=n.spaceIndex(h),p;return f===-1?p=h.slice(1,-1):p=h.slice(1,f+1),p=n.trim(p).toLowerCase(),p.slice(0,1)==="/"&&(p=p.slice(1)),p.slice(-1)==="/"&&(p=p.slice(0,-1)),p}function r(h){return h.slice(0,2)==="</"}function i(h,f,p){var m="",b=0,y=!1,v=!1,w=0,_=h.length,x="",S="";e:for(w=0;w<_;w++){var C=h.charAt(w);if(y===!1){if(C==="<"){y=w;continue}}else if(v===!1){if(C==="<"){m+=p(h.slice(b,w)),y=w,b=w;continue}if(C===">"||w===_-1){m+=p(h.slice(b,y)),S=h.slice(y,w+1),x=e(S),m+=f(y,m.length,x,S,r(S)),b=w+1,y=!1;continue}if(C==='"'||C==="'")for(var E=1,T=h.charAt(w-E);T.trim()===""||T==="=";){if(T==="="){v=C;continue e}T=h.charAt(w-++E)}}else if(C===v){v=!1;continue}}return b<_&&(m+=p(h.substr(b))),m}var s=/[^a-zA-Z0-9\\_:.-]/gim;function o(h,f){var p=0,m=0,b=[],y=!1,v=h.length;function w(E,T){if(E=n.trim(E),E=E.replace(s,"").toLowerCase(),!(E.length<1)){var M=f(E,T||"");M&&b.push(M)}}for(var _=0;_<v;_++){var x=h.charAt(_),S,C;if(y===!1&&x==="="){y=h.slice(p,_),p=_+1,m=h.charAt(p)==='"'||h.charAt(p)==="'"?p:l(h,_+1);continue}if(y!==!1&&_===m){if(C=h.indexOf(x,_+1),C===-1)break;S=n.trim(h.slice(m+1,C)),w(y,S),y=!1,_=C,p=_+1;continue}if(/\s|\n|\t/.test(x))if(h=h.replace(/\s|\n|\t/g," "),y===!1)if(C=a(h,_),C===-1){S=n.trim(h.slice(p,_)),w(S),y=!1,p=_+1;continue}else{_=C-1;continue}else if(C=c(h,_-1),C===-1){S=n.trim(h.slice(p,_)),S=d(S),w(y,S),y=!1,p=_+1;continue}else continue}return p<h.length&&(y===!1?w(h.slice(p)):w(y,d(n.trim(h.slice(p))))),n.trim(b.join(" "))}function a(h,f){for(;f<h.length;f++){var p=h[f];if(p!==" ")return p==="="?f:-1}}function l(h,f){for(;f<h.length;f++){var p=h[f];if(p!==" ")return p==="'"||p==='"'?f:-1}}function c(h,f){for(;f>0;f--){var p=h[f];if(p!==" ")return p==="="?f:-1}}function u(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function d(h){return u(h)?h.substr(1,h.length-2):h}return U_.parseTag=i,U_.parseAttr=o,U_}var nD,xre;function Nat(){if(xre)return nD;xre=1;var n=oN().FilterCSS,e=Lbe(),r=Fbe(),i=r.parseTag,s=r.parseAttr,o=sL();function a(h){return h==null}function l(h){var f=o.spaceIndex(h);if(f===-1)return{html:"",closing:h[h.length-2]==="/"};h=o.trim(h.slice(f+1,-1));var p=h[h.length-1]==="/";return p&&(h=o.trim(h.slice(0,-1))),{html:h,closing:p}}function c(h){var f={};for(var p in h)f[p]=h[p];return f}function u(h){var f={};for(var p in h)Array.isArray(h[p])?f[p.toLowerCase()]=h[p].map(function(m){return m.toLowerCase()}):f[p.toLowerCase()]=h[p];return f}function d(h){h=c(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=u(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new n(h.css))}return d.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var f=this,p=f.options,m=p.whiteList,b=p.onTag,y=p.onIgnoreTag,v=p.onTagAttr,w=p.onIgnoreTagAttr,_=p.safeAttrValue,x=p.escapeHtml,S=f.attributeWrapSign,C=f.cssFilter;p.stripBlankChar&&(h=e.stripBlankChar(h)),p.allowCommentTag||(h=e.stripCommentTag(h));var E=!1;p.stripIgnoreTagBody&&(E=e.StripTagBody(p.stripIgnoreTagBody,y),y=E.onIgnoreTag);var T=i(h,function(M,I,O,F,$){var z={sourcePosition:M,position:I,isClosing:$,isWhite:Object.prototype.hasOwnProperty.call(m,O)},D=b(O,F,z);if(!a(D))return D;if(z.isWhite){if(z.isClosing)return"</"+O+">";var j=l(F),N=m[O],R=s(j.html,function(H,U){var K=o.indexOf(N,H)!==-1,Y=v(O,H,U,K);return a(Y)?K?(U=_(O,H,U,C),U?H+"="+S+U+S:H):(Y=w(O,H,U,K),a(Y)?void 0:Y):Y});return F="<"+O,R&&(F+=" "+R),j.closing&&(F+=" /"),F+=">",F}else return D=y(O,F,z),a(D)?x(F):D},x);return E&&(T=E.remove(T)),T},nD=d,nD}var _re;function jat(){return _re||(_re=1,function(n,e){var r=Lbe(),i=Fbe(),s=Nat();function o(l,c){var u=new s(c);return u.process(l)}e=n.exports=o,e.filterXSS=o,e.FilterXSS=s,function(){for(var l in r)e[l]=r[l];for(var c in i)e[c]=i[c]}(),typeof window<"u"&&(window.filterXSS=n.exports);function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=n.exports)}($_,$_.exports)),$_.exports}var Bat=jat(),Lat=Lt(Bat);function Sre(n,e){var r=Vr(n);if(w2){var i=w2(n);e&&(i=zt(i).call(i,function(s){return FE(n,s).enumerable})),r.push.apply(r,i)}return r}function kre(n){for(var e=1;e<arguments.length;e++){var r,i,s=arguments[e]!=null?arguments[e]:{};e%2?bt(r=Sre(Object(s),!0)).call(r,function(o){Bn(n,o,s[o])}):x2?xbe(n,x2(s)):bt(i=Sre(Object(s))).call(i,function(o){UE(n,o,FE(s,o))})}return n}function uu(n){var e;if(!n)return!1;let r=(e=n.idProp)!==null&&e!==void 0?e:n._idProp;return r?Mat(r,n):!1}const rD=/^\/?Date\((-?\d+)/i,Fat=/^\d+$/;function oL(n,e){let r;if(n!==void 0){if(n===null)return null;if(!e)return n;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!n;case"number":case"Number":return no(n)&&!isNaN(Date.parse(n))?Do(n).valueOf():Number(n.valueOf());case"string":case"String":return String(n);case"Date":try{return oL(n,"Moment").toDate()}catch(i){throw i instanceof TypeError?new TypeError("Cannot convert object of type "+Dy(n)+" to type "+e):i}case"Moment":if(av(n))return Do(n);if(n instanceof Date)return Do(n.valueOf());if(Do.isMoment(n))return Do(n);if(no(n))return r=rD.exec(n),r?Do(Number(r[1])):(r=Fat.exec(n),Do(r?Number(n):n));throw new TypeError("Cannot convert object of type "+Dy(n)+" to type "+e);case"ISODate":if(av(n))return new Date(n);if(n instanceof Date)return n.toISOString();if(Do.isMoment(n))return n.toDate().toISOString();if(no(n))return r=rD.exec(n),r?new Date(Number(r[1])).toISOString():Do(n).format();throw new Error("Cannot convert object of type "+Dy(n)+" to type ISODate");case"ASPDate":if(av(n))return"/Date("+n+")/";if(n instanceof Date||Do.isMoment(n))return"/Date("+n.valueOf()+")/";if(no(n)){r=rD.exec(n);let i;return r?i=new Date(Number(r[1])).valueOf():i=new Date(n).valueOf(),"/Date("+i+")/"}else throw new Error("Cannot convert object of type "+Dy(n)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function R0(n){var e,r,i,s,o,a;let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{start:"Date",end:"Date"};const c=n._idProp,u=new D0({fieldId:c}),d=Tn(e=Cat(n)).call(e,h=>{var f;return zE(f=Vr(h)).call(f,(p,m)=>(p[m]=oL(h[m],l[m]),p),{})}).to(u);return d.all().start(),{add:function(){return n.getDataSet().add(...arguments)},remove:function(){return n.getDataSet().remove(...arguments)},update:function(){return n.getDataSet().update(...arguments)},updateOnly:function(){return n.getDataSet().updateOnly(...arguments)},clear:function(){return n.getDataSet().clear(...arguments)},forEach:qe(r=bt(u)).call(r,u),get:qe(i=u.get).call(i,u),getIds:qe(s=u.getIds).call(s,u),off:qe(o=u.off).call(o,u),on:qe(a=u.on).call(a,u),get length(){return u.length},idProp:c,type:l,rawDS:n,coercedDS:u,dispose:()=>d.stop()}}const $be=n=>{const e=new Lat.FilterXSS(n);return r=>typeof r=="string"?e.process(r):r},$at=n=>n;let aN=$be();const zat=n=>{n&&(n.disabled===!0?(aN=$at,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):n.filterOptions&&(aN=$be(n.filterOptions)))},te=kre(kre({},kit),{},{convert:oL,setupXSSProtection:zat});UE(te,"xss",{get:function(){return aN}});var Cre={},iD,Ere;function Uat(){if(Ere)return iD;Ere=1;var n=wr(),e=mn(),r=vn(),i=sa(),s=j0e().trim,o=BB(),a=r("".charAt),l=n.parseFloat,c=n.Symbol,u=c&&c.iterator,d=1/l(o+"-0")!==-1/0||u&&!e(function(){l(Object(u))});return iD=d?function(f){var p=s(i(f)),m=l(p);return m===0&&a(p,0)==="-"?-0:m}:l,iD}var Are;function Wat(){if(Are)return Cre;Are=1;var n=Ot(),e=Uat();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),Cre}var sD,Tre;function qat(){if(Tre)return sD;Tre=1,Wat();var n=Hn();return sD=n.parseFloat,sD}var oD,Pre;function Hat(){if(Pre)return oD;Pre=1;var n=qat();return oD=n,oD}var aD,Ire;function Vat(){return Ire||(Ire=1,aD=Hat()),aD}var Gat=Vat(),_2=Lt(Gat);class oh{constructor(){this.options=null,this.props=null}setOptions(e){e&&te.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}var Mre={},Ore;function Yat(){if(Ore)return Mre;Ore=1;var n=Ot(),e=B0e();return n({target:"String",proto:!0},{repeat:e}),Mre}var lD,Dre;function Kat(){if(Dre)return lD;Dre=1,Yat();var n=xr();return lD=n("String","repeat"),lD}var cD,Rre;function Xat(){if(Rre)return cD;Rre=1;var n=Qn(),e=Kat(),r=String.prototype;return cD=function(i){var s=i.repeat;return typeof i=="string"||i===r||n(r,i)&&s===r.repeat?e:s},cD}var uD,Nre;function Qat(){if(Nre)return uD;Nre=1;var n=Xat();return uD=n,uD}var dD,jre;function Jat(){return jre||(jre=1,dD=Qat()),dD}var Zat=Jat(),gm=Lt(Zat);function aL(n,e,r){if(r&&!nn(r))return aL(n,e,[r]);if(e.hiddenDates=[],r&&nn(r)==!0){var i;for(let s=0;s<r.length;s++)if(gm(r[s])===void 0){const o={};o.start=n(r[s].start).toDate().valueOf(),o.end=n(r[s].end).toDate().valueOf(),e.hiddenDates.push(o)}Ir(i=e.hiddenDates).call(i,(s,o)=>s.start-o.start)}}function S2(n,e,r){if(r&&!nn(r))return S2(n,e,[r]);if(r&&e.domProps.centerContainer.width!==void 0){aL(n,e,r);const i=n(e.range.start),s=n(e.range.end),a=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<r.length;h++)if(gm(r[h])!==void 0){let f=n(r[h].start),p=n(r[h].end);if(f._d=="Invalid Date")throw new Error("Supplied start date is not valid: ".concat(r[h].start));if(p._d=="Invalid Date")throw new Error("Supplied end date is not valid: ".concat(r[h].end));if(p-f>=4*a){let b=0,y=s.clone();switch(gm(r[h])){case"daily":f.day()!=p.day()&&(b=1),f=f.dayOfYear(i.dayOfYear()).year(i.year()).subtract(7,"days"),p=p.dayOfYear(i.dayOfYear()).year(i.year()).subtract(7-b,"days"),y.add(1,"weeks");break;case"weekly":{const v=p.diff(f,"days"),w=f.day();f=f.date(i.date()).month(i.month()).year(i.year()),p=f.clone(),f=f.day(w).subtract(1,"weeks"),p=p.day(w).add(v,"days").subtract(1,"weeks"),y.add(1,"weeks");break}case"monthly":f.month()!=p.month()&&(b=1),f=f.month(i.month()).year(i.year()).subtract(1,"months"),p=p.month(i.month()).year(i.year()).subtract(1,"months").add(b,"months"),y.add(1,"months");break;case"yearly":f.year()!=p.year()&&(b=1),f=f.year(i.year()).subtract(1,"years"),p=p.year(i.year()).subtract(1,"years").add(b,"years"),y.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",gm(r[h]));return}for(;f<y;)switch(e.hiddenDates.push({start:f.valueOf(),end:p.valueOf()}),gm(r[h])){case"daily":f=f.add(1,"days"),p=p.add(1,"days");break;case"weekly":f=f.add(1,"weeks"),p=p.add(1,"weeks");break;case"monthly":f=f.add(1,"months"),p=p.add(1,"months");break;case"yearly":f=f.add(1,"y"),p=p.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",gm(r[h]));return}e.hiddenDates.push({start:f.valueOf(),end:p.valueOf()})}}elt(e);const l=C2(e.range.start,e.hiddenDates),c=C2(e.range.end,e.hiddenDates);let u=e.range.start,d=e.range.end;l.hidden==!0&&(u=e.range.startToFront==!0?l.startDate-1:l.endDate+1),c.hidden==!0&&(d=e.range.endToFront==!0?c.startDate-1:c.endDate+1),(l.hidden==!0||c.hidden==!0)&&e.range._applyRange(u,d)}}function elt(n){var e;const r=n.hiddenDates,i=[];for(var s=0;s<r.length;s++)for(let o=0;o<r.length;o++)s!=o&&r[o].remove!=!0&&r[s].remove!=!0&&(r[o].start>=r[s].start&&r[o].end<=r[s].end?r[o].remove=!0:r[o].start>=r[s].start&&r[o].start<=r[s].end?(r[s].end=r[o].end,r[o].remove=!0):r[o].end>=r[s].start&&r[o].end<=r[s].end&&(r[s].start=r[o].start,r[o].remove=!0));for(s=0;s<r.length;s++)r[s].remove!==!0&&i.push(r[s]);n.hiddenDates=i,Ir(e=n.hiddenDates).call(e,(o,a)=>o.start-a.start)}function tlt(n,e,r){let i=!1;const s=e.current.valueOf();for(let a=0;a<e.hiddenDates.length;a++){const l=e.hiddenDates[a].start;var o=e.hiddenDates[a].end;if(s>=l&&s<o){i=!0;break}}if(i==!0&&s<e._end.valueOf()&&s!=r){const a=n(r),l=n(o);a.year()!=l.year()?e.switchedYear=!0:a.month()!=l.month()?e.switchedMonth=!0:a.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}}function Bre(n,e,r){let i;if(n.body.hiddenDates.length==0)return i=n.range.conversion(r),(e.valueOf()-i.offset)*i.scale;{const s=C2(e,n.body.hiddenDates);s.hidden==!0&&(e=s.startDate);const o=cv(n.body.hiddenDates,n.range.start,n.range.end);if(e<n.range.start){i=n.range.conversion(r,o);const a=nlt(n.body.hiddenDates,e,i.offset);return e=n.options.moment(e).toDate().valueOf(),e=e+a,-(i.offset-e.valueOf())*i.scale}else if(e>n.range.end){const a={start:n.range.start,end:e};return e=Fre(n.options.moment,n.body.hiddenDates,a,e),i=n.range.conversion(r,o),(e.valueOf()-i.offset)*i.scale}else return e=Fre(n.options.moment,n.body.hiddenDates,n.range,e),i=n.range.conversion(r,o),(e.valueOf()-i.offset)*i.scale}}function Lre(n,e,r){if(n.body.hiddenDates.length==0){const i=n.range.conversion(r);return new Date(e/i.scale+i.offset)}else{const i=cv(n.body.hiddenDates,n.range.start,n.range.end),o=(n.range.end-n.range.start-i)*e/r,a=rlt(n.body.hiddenDates,n.range,o);return new Date(a+o+n.range.start)}}function cv(n,e,r){let i=0;for(let s=0;s<n.length;s++){const o=n[s].start,a=n[s].end;o>=e&&a<r&&(i+=a-o)}return i}function nlt(n,e,r){let i=0;for(let s=0;s<n.length;s++){const o=n[s].start,a=n[s].end;o>=e&&a<=r&&(i+=a-o)}return i}function Fre(n,e,r,i){return i=n(i).toDate().valueOf(),i-=k2(n,e,r,i),i}function k2(n,e,r,i){let s=0;i=n(i).toDate().valueOf();for(let o=0;o<e.length;o++){const a=e[o].start,l=e[o].end;a>=r.start&&l<r.end&&i>=l&&(s+=l-a)}return s}function rlt(n,e,r){let i=0,s=0,o=e.start;for(let a=0;a<n.length;a++){const l=n[a].start,c=n[a].end;if(l>=e.start&&c<e.end){if(s+=l-o,o=c,s>=r)break;i+=c-l}}return i}function Fh(n,e,r,i){const s=C2(e,n);return s.hidden==!0?r<0?i==!0?s.startDate-(s.endDate-e)-1:s.startDate-1:i==!0?s.endDate+(e-s.startDate)+1:s.endDate+1:e}function C2(n,e){for(let s=0;s<e.length;s++){var r=e[s].start,i=e[s].end;if(n>=r&&n<i)return{hidden:!0,startDate:r,endDate:i}}return{hidden:!1,startDate:r,endDate:i}}class WE extends oh{constructor(e,r){var i,s,o,a,l,c,u;super();const d=ts().hours(0).minutes(0).seconds(0).milliseconds(0),h=d.clone().add(-3,"days").valueOf(),f=d.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,r===void 0?(this.start=h,this.end=f):(this.start=r.start||h,this.end=r.end||f),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:ts,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=te.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",qe(i=this._onDragStart).call(i,this)),this.body.emitter.on("panmove",qe(s=this._onDrag).call(s,this)),this.body.emitter.on("panend",qe(o=this._onDragEnd).call(o,this)),this.body.emitter.on("mousewheel",qe(a=this._onMouseWheel).call(a,this)),this.body.emitter.on("touch",qe(l=this._onTouch).call(l,this)),this.body.emitter.on("pinch",qe(c=this._onPinch).call(c,this)),this.body.dom.rollingModeBtn.addEventListener("click",qe(u=this.startRolling).call(u,this)),this.setOptions(r)}setOptions(e){if(e){const r=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];te.selectiveExtend(r,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function r(){e.stopRolling(),e.rolling=!0;let i=e.end-e.start;const s=te.convert(new Date,"Date").valueOf(),o=e.options.rollingMode&&e.options.rollingMode.offset||.5,a=s-i*o,l=s+i*(1-o),c={animation:!1};e.setRange(a,l,c),i=1/e.conversion(e.body.domProps.center.width).scale/10,i<30&&(i=30),i>1e3&&(i=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=Bi(r,i)}r()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,r,i,s,o){i||(i={}),i.byUser!==!0&&(i.byUser=!1);const a=this,l=e!=null?te.convert(e,"Date").valueOf():null,c=r!=null?te.convert(r,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){const h=this.start,f=this.end,p=typeof i.animation=="object"&&"duration"in i.animation?i.animation.duration:500,m=typeof i.animation=="object"&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",b=te.easingFunctions[m];if(!b){var u;throw new Error(Er(u="Unknown easing function ".concat(ks(m),". Choose from: ")).call(u,Vr(te.easingFunctions).join(", ")))}const y=Zs();let v=!1;const w=()=>{if(!a.props.touch.dragging){const x=Zs()-y,S=b(x/p),C=x>p,E=C||l===null?l:h+(l-h)*S,T=C||c===null?c:f+(c-f)*S;d=a._applyRange(E,T),S2(a.options.moment,a.body,a.options.hiddenDates),v=v||d;const M={start:new Date(a.start),end:new Date(a.end),byUser:i.byUser,event:i.event};if(o&&o(S,d,C),d&&a.body.emitter.emit("rangechange",M),C){if(v&&(a.body.emitter.emit("rangechanged",M),s))return s()}else a.animationTimer=Bi(w,20)}};return w()}else{var d=this._applyRange(l,c);if(S2(this.options.moment,this.body,this.options.hiddenDates),d){const h={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",h),clearTimeout(a.timeoutID),a.timeoutID=Bi(()=>{a.body.emitter.emit("rangechanged",h)},200),s)return s()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,r){let i=e!=null?te.convert(e,"Date").valueOf():this.start,s=r!=null?te.convert(r,"Date").valueOf():this.end;const o=this.options.max!=null?te.convert(this.options.max,"Date").valueOf():null,a=this.options.min!=null?te.convert(this.options.min,"Date").valueOf():null;let l;if(isNaN(i)||i===null)throw new Error('Invalid start "'.concat(e,'"'));if(isNaN(s)||s===null)throw new Error('Invalid end "'.concat(r,'"'));if(s<i&&(s=i),a!==null&&i<a&&(l=a-i,i+=l,s+=l,o!=null&&s>o&&(s=o)),o!==null&&s>o&&(l=s-o,i-=l,s-=l,a!=null&&i<a&&(i=a)),this.options.zoomMin!==null){let u=_2(this.options.zoomMin);u<0&&(u=0),s-i<u&&(this.end-this.start===u&&i>=this.start-.5&&s<=this.end?(i=this.start,s=this.end):(l=u-(s-i),i-=l/2,s+=l/2))}if(this.options.zoomMax!==null){let u=_2(this.options.zoomMax);u<0&&(u=0),s-i>u&&(this.end-this.start===u&&i<this.start&&s>this.end?(i=this.start,s=this.end):(l=s-i-u,i+=l/2,s-=l/2))}const c=this.start!=i||this.end!=s;return!(i>=this.start&&i<=this.end||s>=this.start&&s<=this.end)&&!(this.start>=i&&this.start<=s||this.end>=i&&this.end<=s)&&this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=s,c}getRange(){return{start:this.start,end:this.end}}conversion(e,r){return WE.conversion(this.start,this.end,e,r)}static conversion(e,r,i,s){return s===void 0&&(s=0),i!=0&&r-e!=0?{offset:e,scale:i/(r-e-s)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const r=this.options.direction;$re(r);let i=r=="horizontal"?e.deltaX:e.deltaY;i-=this.deltaDifference;let s=this.props.touch.end-this.props.touch.start;const o=cv(this.body.hiddenDates,this.start,this.end);s-=o;const a=r=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let l;this.options.rtl?l=i/a*s:l=-i/a*s;const c=this.props.touch.start+l,u=this.props.touch.end+l,d=Fh(this.body.hiddenDates,c,this.previousDelta-i,!0),h=Fh(this.body.hiddenDates,u,this.previousDelta-i,!0);if(d!=c||h!=u){this.deltaDifference+=i,this.props.touch.start=d,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=i,this._applyRange(c,u);const f=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:f,end:p,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let r=0;if(e.wheelDelta?r=e.wheelDelta/120:e.detail?r=-e.detail/3:e.deltaY&&(r=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&r){const i=this.options.zoomFriction||5;let s;r<0?s=1-r/i:s=1/(1+r/i);let o;if(this.rolling){const a=this.options.rollingMode&&this.options.rollingMode.offset||.5;o=this.start+(this.end-this.start)*a}else{const a=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);o=this._pointerToDate(a)}this.zoom(s,o,r,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,te.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;te.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const r=1/(e.scale+this.scaleOffset),i=this.props.touch.centerDate,s=cv(this.body.hiddenDates,this.start,this.end),o=k2(this.options.moment,this.body.hiddenDates,this,i),a=s-o;let l=i-o+(this.props.touch.start-(i-o))*r,c=i+a+(this.props.touch.end-(i+a))*r;this.startToFront=1-r<=0,this.endToFront=r-1<=0;const u=Fh(this.body.hiddenDates,l,1-r,!0),d=Fh(this.body.hiddenDates,c,r-1,!0);(u!=l||d!=c)&&(this.props.touch.start=u,this.props.touch.end=d,this.scaleOffset=1-e.scale,l=u,c=d);const h={animation:!1,byUser:!0,event:e};this.setRange(l,c,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const r=e.center?e.center.x:e.clientX,i=this.body.dom.centerContainer.getBoundingClientRect(),s=this.options.rtl?r-i.left:i.right-r,o=this.body.util.toTime(s);return o>=this.start&&o<=this.end}_pointerToDate(e){let r;const i=this.options.direction;if($re(i),i=="horizontal")return this.body.util.toTime(e.x).valueOf();{const s=this.body.domProps.center.height;return r=this.conversion(s),e.y/r.scale+r.offset}}getPointer(e,r){const i=r.getBoundingClientRect();return this.options.rtl?{x:i.right-e.x,y:e.y-i.top}:{x:e.x-i.left,y:e.y-i.top}}zoom(e,r,i,s){r==null&&(r=(this.start+this.end)/2);const o=cv(this.body.hiddenDates,this.start,this.end),a=k2(this.options.moment,this.body.hiddenDates,this,r),l=o-a;let c=r-a+(this.start-(r-a))*e,u=r+l+(this.end-(r+l))*e;this.startToFront=!(i>0),this.endToFront=!(-i>0);const d=Fh(this.body.hiddenDates,c,i,!0),h=Fh(this.body.hiddenDates,u,-i,!0);(d!=c||h!=u)&&(c=d,u=h);const f={animation:!1,byUser:!0,event:s};this.setRange(c,u,f),this.startToFront=!1,this.endToFront=!0}move(e){const r=this.end-this.start,i=this.start+r*e,s=this.end+r*e;this.start=i,this.end=s}moveTo(e){const i=(this.start+this.end)/2-e,s=this.start-i,o=this.end-i,a={animation:!1,byUser:!0,event:null};this.setRange(s,o,a)}destroy(){this.stopRolling()}}function $re(n){if(n!="horizontal"&&n!="vertical")throw new TypeError('Unknown direction "'.concat(n,'". Choose "horizontal" or "vertical".'))}var hD,zre;function ilt(){if(zre)return hD;zre=1,$0e();var n=Hn();return hD=n.setInterval,hD}var fD,Ure;function slt(){return Ure||(Ure=1,fD=ilt()),fD}var olt=slt(),alt=Lt(olt),iy=null;function lN(n,e){var r=e||{preventDefault:!1};if(n.Manager){var i=n,s=function(u,d){var h=Object.create(r);return d&&i.assign(h,d),lN(new i(u,h),h)};return i.assign(s,i),s.Manager=function(u,d){var h=Object.create(r);return d&&i.assign(h,d),lN(new i.Manager(u,h),h)},s}var o=Object.create(n),a=n.element;a.hammer||(a.hammer=[]),a.hammer.push(o),n.on("hammer.input",function(u){(r.preventDefault===!0||r.preventDefault===u.pointerType)&&u.preventDefault(),u.isFirst&&(iy=u.target)}),o._handlers={},o.on=function(u,d){return l(u).forEach(function(h){var f=o._handlers[h];f||(o._handlers[h]=f=[],n.on(h,c)),f.push(d)}),o},o.off=function(u,d){return l(u).forEach(function(h){var f=o._handlers[h];f&&(f=d?f.filter(function(p){return p!==d}):[],f.length>0?o._handlers[h]=f:(n.off(h,c),delete o._handlers[h]))}),o},o.emit=function(u,d){iy=d.target,n.emit(u,d)},o.destroy=function(){var u=n.element.hammer,d=u.indexOf(o);d!==-1&&u.splice(d,1),u.length||delete n.element.hammer,o._handlers={},n.destroy()};function l(u){return u.match(/[^ ]+/g)}function c(u){if(u.type!=="hammer.input"){if(u.srcEvent._handled||(u.srcEvent._handled={}),u.srcEvent._handled[u.type])return;u.srcEvent._handled[u.type]=!0}var d=!1;u.stopPropagation=function(){d=!0};var h=u.srcEvent.stopPropagation.bind(u.srcEvent);typeof h=="function"&&(u.srcEvent.stopPropagation=function(){h(),u.stopPropagation()}),u.firstTarget=iy;for(var f=iy.isConnected?iy:u.target;f&&!d;){var p=f.hammer;if(p){for(var m,b=0;b<p.length;b++)if(m=p[b]._handlers[u.type],m)for(var y=0;y<m.length&&!d;y++)m[y](u)}f=f.parentNode}}return o}function llt(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}let cN;if(typeof window<"u"){const n=window.Hammer||VB;cN=lN(n,{preventDefault:"mouse"})}else cN=function(){return llt()};var Zi=cN;function zbe(n,e){e.inputHandler=function(r){r.isFirst&&e(r)},n.on("hammer.input",e.inputHandler)}function clt(n,e){return e.inputHandler=function(r){r.isFinal&&e(r)},n.on("hammer.input",e.inputHandler)}function ult(n){const e="pan-y";return n.getTouchAction=function(){return[e]},n}class op{constructor(e,r,i,s,o){this.moment=o&&o.moment||ts,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,r,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,nn(s)?this.hiddenDates=s:s!=null?this.hiddenDates=[s]:this.hiddenDates=[],this.format=op.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const r=te.deepExtend({},op.FORMAT);this.format=te.deepExtend(r,e)}setRange(e,r,i){if(!(e instanceof Date)||!(r instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):Zs(),this._end=r!=null?this.moment(r.valueOf()):Zs(),this.autoScale&&this.setMinimumStep(i)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(Fh(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const r=this.current.clone();r.add(1,"week"),r.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,tlt(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const r=1e3*60*60*24*30*12,i=1e3*60*60*24*30,s=1e3*60*60*24,o=1e3*60*60,a=1e3*60,l=1e3,c=1;r*1e3>e&&(this.scale="year",this.step=1e3),r*500>e&&(this.scale="year",this.step=500),r*100>e&&(this.scale="year",this.step=100),r*50>e&&(this.scale="year",this.step=50),r*10>e&&(this.scale="year",this.step=10),r*5>e&&(this.scale="year",this.step=5),r>e&&(this.scale="year",this.step=1),i*3>e&&(this.scale="month",this.step=3),i>e&&(this.scale="month",this.step=1),s*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),s*2>e&&(this.scale="day",this.step=2),s>e&&(this.scale="day",this.step=1),s/2>e&&(this.scale="weekday",this.step=1),o*4>e&&(this.scale="hour",this.step=4),o>e&&(this.scale="hour",this.step=1),a*15>e&&(this.scale="minute",this.step=15),a*10>e&&(this.scale="minute",this.step=10),a*5>e&&(this.scale="minute",this.step=5),a>e&&(this.scale="minute",this.step=1),l*15>e&&(this.scale="second",this.step=15),l*10>e&&(this.scale="second",this.step=10),l*5>e&&(this.scale="second",this.step=5),l>e&&(this.scale="second",this.step=1),c*200>e&&(this.scale="millisecond",this.step=200),c*100>e&&(this.scale="millisecond",this.step=100),c*50>e&&(this.scale="millisecond",this.step=50),c*10>e&&(this.scale="millisecond",this.step=10),c*5>e&&(this.scale="millisecond",this.step=5),c>e&&(this.scale="millisecond",this.step=1)}static snap(e,r,i){let s=ts(e);if(r=="year"){const o=s.year()+Math.round(s.month()/12);s=s.year(Math.round(o/i)*i).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(r=="month")s.date()>15?s=s.date(1).add(1,"month"):s=s.date(1),s=s.hours(0).minutes(0).seconds(0).milliseconds(0);else if(r=="week")s.weekday()>2?s=s.weekday(0).add(1,"week"):s=s.weekday(0),s=s.hours(0).minutes(0).seconds(0).milliseconds(0);else if(r=="day"){switch(i){case 5:case 2:s=s.hours(Math.round(s.hours()/24)*24);break;default:s=s.hours(Math.round(s.hours()/12)*12);break}s=s.minutes(0).seconds(0).milliseconds(0)}else if(r=="weekday"){switch(i){case 5:case 2:s=s.hours(Math.round(s.hours()/12)*12);break;default:s=s.hours(Math.round(s.hours()/6)*6);break}s=s.minutes(0).seconds(0).milliseconds(0)}else if(r=="hour"){switch(i){case 4:s=s.minutes(Math.round(s.minutes()/60)*60);break;default:s=s.minutes(Math.round(s.minutes()/30)*30);break}s=s.seconds(0).milliseconds(0)}else if(r=="minute"){switch(i){case 15:case 10:s=s.minutes(Math.round(s.minutes()/5)*5).seconds(0);break;case 5:s=s.seconds(Math.round(s.seconds()/60)*60);break;default:s=s.seconds(Math.round(s.seconds()/30)*30);break}s=s.milliseconds(0)}else if(r=="second")switch(i){case 15:case 10:s=s.seconds(Math.round(s.seconds()/5)*5).milliseconds(0);break;case 5:s=s.milliseconds(Math.round(s.milliseconds()/1e3)*1e3);break;default:s=s.milliseconds(Math.round(s.milliseconds()/500)*500);break}else if(r=="millisecond"){const o=i>5?i/2:1;s=s.milliseconds(Math.round(s.milliseconds()/o)*o)}return s}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const r=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return r&&r.length>0?this.moment(e).format(r):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const r=this.format.majorLabels[this.scale];return r&&r.length>0?this.moment(e).format(r):""}getClassName(){var e;const r=this.moment,i=this.moment(this.current),s=i.locale?i.locale("en"):i.lang("en"),o=this.step,a=[];function l(f){return f/o%2==0?" vis-even":" vis-odd"}function c(f){return f.isSame(Zs(),"day")?" vis-today":f.isSame(r().add(1,"day"),"day")?" vis-tomorrow":f.isSame(r().add(-1,"day"),"day")?" vis-yesterday":""}function u(f){return f.isSame(Zs(),"week")?" vis-current-week":""}function d(f){return f.isSame(Zs(),"month")?" vis-current-month":""}function h(f){return f.isSame(Zs(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":a.push(c(s)),a.push(l(s.milliseconds()));break;case"second":a.push(c(s)),a.push(l(s.seconds()));break;case"minute":a.push(c(s)),a.push(l(s.minutes()));break;case"hour":a.push(Er(e="vis-h".concat(s.hours())).call(e,this.step==4?"-h"+(s.hours()+4):"")),a.push(c(s)),a.push(l(s.hours()));break;case"weekday":a.push("vis-".concat(s.format("dddd").toLowerCase())),a.push(c(s)),a.push(u(s)),a.push(l(s.date()));break;case"day":a.push("vis-day".concat(s.date())),a.push("vis-".concat(s.format("MMMM").toLowerCase())),a.push(c(s)),a.push(d(s)),a.push(this.step<=2?c(s):""),a.push(this.step<=2?"vis-".concat(s.format("dddd").toLowerCase()):""),a.push(l(s.date()-1));break;case"week":a.push("vis-week".concat(s.format("w"))),a.push(u(s)),a.push(l(s.week()));break;case"month":a.push("vis-".concat(s.format("MMMM").toLowerCase())),a.push(d(s)),a.push(l(s.month()));break;case"year":a.push("vis-year".concat(s.year())),a.push(h(s)),a.push(l(s.year()));break}return zt(a).call(a,String).join(" ")}}op.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class E2 extends oh{constructor(e,r){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:te.extend({},op.FORMAT),moment:ts,timeAxis:null},this.options=te.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(r)}setOptions(e){e&&(te.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),te.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof ts.locale=="function"?ts.locale(e.locale):ts.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,r=this.dom.foreground,i=this.dom.background,s=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,o=r.parentNode!==s;this._calculateCharSize();const a=this.options.showMinorLabels&&this.options.orientation.axis!=="none",l=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=a?e.minorCharHeight:0,e.majorLabelHeight=l?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=r.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const c=r.nextSibling,u=i.nextSibling;return r.parentNode&&r.parentNode.removeChild(r),i.parentNode&&i.parentNode.removeChild(i),r.style.height="".concat(this.props.height,"px"),this._repaintLabels(),c?s.insertBefore(r,c):s.appendChild(r),u?this.body.dom.backgroundVertical.insertBefore(i,u):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o}_repaintLabels(){const e=this.options.orientation.axis,r=te.convert(this.body.range.start,"Number"),i=te.convert(this.body.range.end,"Number"),s=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let o=s-k2(this.options.moment,this.body.hiddenDates,this.body.range,s);o-=this.body.util.toTime(0).valueOf();const a=new op(new Date(r),new Date(i),o,this.body.hiddenDates,this.options);a.setMoment(this.options.moment),this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a;const l=this.dom;l.redundant.lines=l.lines,l.redundant.majorTexts=l.majorTexts,l.redundant.minorTexts=l.minorTexts,l.lines=[],l.majorTexts=[],l.minorTexts=[];let c,u,d,h,f,p,m=0,b,y,v,w=0;const _=1e3;let x;for(a.start(),u=a.getCurrent(),h=this.body.util.toScreen(u);a.hasNext()&&w<_;){switch(w++,f=a.isMajor(),x=a.getClassName(),c=u,d=h,a.next(),u=a.getCurrent(),h=this.body.util.toScreen(u),b=m,m=h-d,a.scale){case"week":p=!0;break;default:p=m>=b*.4;break}if(this.options.showMinorLabels&&p){var S=this._repaintMinorText(d,a.getLabelMinor(c),e,x);S.style.width="".concat(m,"px")}f&&this.options.showMajorLabels?(d>0&&(v==null&&(v=d),S=this._repaintMajorText(d,a.getLabelMajor(c),e,x)),y=this._repaintMajorLine(d,m,e,x)):p?y=this._repaintMinorLine(d,m,e,x):y&&(y.style.width="".concat(eo(y.style.width)+m,"px"))}if(w===_&&!Wre&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(_," lines.")),Wre=!0),this.options.showMajorLabels){const C=this.body.util.toTime(0),E=a.getLabelMajor(C),T=E.length*(this.props.majorCharWidth||10)+10;(v==null||T<v)&&this._repaintMajorText(0,E,e,x)}bt(te).call(te,this.dom.redundant,C=>{for(;C.length;){const E=C.pop();E&&E.parentNode&&E.parentNode.removeChild(E)}})}_repaintMinorText(e,r,i,s){let o=this.dom.redundant.minorTexts.shift();if(!o){const l=document.createTextNode("");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.innerHTML=te.xss(r);let a=i=="top"?this.props.majorLabelHeight:0;return this._setXY(o,e,a),o.className="vis-text vis-minor ".concat(s),o}_repaintMajorText(e,r,i,s){let o=this.dom.redundant.majorTexts.shift();if(!o){const l=document.createElement("div");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}o.childNodes[0].innerHTML=te.xss(r),o.className="vis-text vis-major ".concat(s);let a=i=="top"?0:this.props.minorLabelHeight;return this._setXY(o,e,a),this.dom.majorTexts.push(o),o}_setXY(e,r,i){var s;const o=this.options.rtl?r*-1:r;e.style.transform=Er(s="translate(".concat(o,"px, ")).call(s,i,"px)")}_repaintMinorLine(e,r,i,s){var o;let a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);const l=this.props;a.style.width="".concat(r,"px"),a.style.height="".concat(l.minorLineHeight,"px");let c=i=="top"?l.majorLabelHeight:this.body.domProps.top.height,u=e-l.minorLineWidth/2;return this._setXY(a,u,c),a.className=Er(o="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(o,s),a}_repaintMajorLine(e,r,i,s){var o;let a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);const l=this.props;a.style.width="".concat(r,"px"),a.style.height="".concat(l.majorLineHeight,"px");let c=i=="top"?0:this.body.domProps.top.height,u=e-l.majorLineWidth/2;return this._setXY(a,u,c),a.className=Er(o="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(o,s),a}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var Wre=!1;function dlt(n){var e=window,r={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(u){c(u,"keydown")},l=function(u){c(u,"keyup")},c=function(u,d){if(i[d][u.keyCode]!==void 0)for(var h=i[d][u.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&u.shiftKey==!0||h[f].shift==!1&&u.shiftKey==!1)&&h[f].fn(u)};return r.bind=function(u,d,h){if(h===void 0&&(h="keydown"),s[u]===void 0)throw new Error("unsupported key: "+u);i[h][s[u].code]===void 0&&(i[h][s[u].code]=[]),i[h][s[u].code].push({fn:d,shift:s[u].shift})},r.bindAll=function(u,d){d===void 0&&(d="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,u,d)},r.getKey=function(u){for(var d in s)if(s.hasOwnProperty(d)){if(u.shiftKey==!0&&s[d].shift==!0&&u.keyCode==s[d].code)return d;if(u.shiftKey==!1&&s[d].shift==!1&&u.keyCode==s[d].code)return d;if(u.keyCode==s[d].code&&d=="shift")return d}return"unknown key, currently not supported"},r.unbind=function(u,d,h){if(h===void 0&&(h="keydown"),s[u]===void 0)throw new Error("unsupported key: "+u);if(d!==void 0){var f=[],p=i[h][s[u].code];if(p!==void 0)for(var m=0;m<p.length;m++)p[m].fn==d&&p[m].shift==s[u].shift||f.push(i[h][s[u].code][m]);i[h][s[u].code]=f}else i[h][s[u].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},e.removeEventListener("keydown",a,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",a,!0),e.addEventListener("keyup",l,!0),r}function Qo(n){var e,r;this.active=!1,this.dom={container:n},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=Zi(this.dom.overlay),this.hammer.on("tap",qe(e=this._onTapOverlay).call(e,this));var i=this,s=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];bt(s).call(s,function(o){i.hammer.on(o,function(a){a.stopPropagation()})}),document&&document.body&&(this.onClick=function(o){hlt(o.target,n)||i.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=dlt(),this.escListener=qe(r=this.deactivate).call(r,this)}LB(Qo.prototype);Qo.current=null;Qo.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};Qo.prototype.activate=function(){var n;Qo.current&&Qo.current.deactivate(),Qo.current=this,this.active=!0,this.dom.overlay.style.display="none",te.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),qe(n=this.keycharm).call(n,"esc",this.escListener)};Qo.prototype.deactivate=function(){Qo.current===this&&(Qo.current=null),this.active=!1,this.dom.overlay.style.display="",te.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};Qo.prototype._onTapOverlay=function(n){this.activate(),n.stopPropagation()};function hlt(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const lL={current:"current",time:"time",deleteSelected:"Delete selected"},flt=lL,plt=lL,cL={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},mlt=cL,glt=cL,uL={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},blt=uL,ylt=uL,dL={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},vlt=dL,wlt=dL,e1={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},xlt=e1,_lt=e1,Slt=e1,klt=e1,Ube={current:"actual",time:"hora",deleteSelected:"Eliminar seleccin"},Clt=Ube,Wbe={current:"",time:"",deleteSelected:" "},Elt=Wbe,qbe={current:"",time:"",deleteSelected:" "},Alt=qbe,Hbe={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},Tlt=Hbe,hL={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},Plt=hL,Ilt=hL,Vbe={current:"gncel",time:"zaman",deleteSelected:"Seileni sil"},Mlt=Vbe,Gbe={current:"",time:"",deleteSelected:""},Olt=Gbe,Ybe={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},Dlt=Ybe,qE={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},Rlt=qE,Nlt=qE,jlt=qE,Kbe={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},Blt=Kbe,N0={en:lL,en_EN:flt,en_US:plt,it:cL,it_IT:mlt,it_CH:glt,nl:uL,nl_NL:blt,nl_BE:ylt,de:dL,de_DE:vlt,de_CH:wlt,fr:e1,fr_FR:xlt,fr_CA:_lt,fr_BE:Slt,fr_CH:klt,es:Ube,es_ES:Clt,uk:Wbe,uk_UA:Elt,ru:qbe,ru_RU:Alt,pl:Hbe,pl_PL:Tlt,pt:hL,pt_BR:Plt,pt_PT:Ilt,tr:Vbe,tr_TR:Mlt,ja:Gbe,ja_JP:Olt,lt:Kbe,lt_LT:Blt,sv:Ybe,sv_SE:Dlt,nb:qE,nn:Nlt,nb_NO:Rlt,nn_NO:jlt};class fL extends oh{constructor(e,r){var i;super(),this.body=e,this.defaultOptions={moment:ts,locales:N0,locale:"en",id:void 0,title:void 0},this.options=te.extend({},this.defaultOptions),this.setOptions(r),this.options.locales=te.extend({},N0,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];bt(i=Vr(this.options.locales)).call(i,o=>{this.options.locales[o]=te.extend({},s,this.options.locales[o])}),r&&r.time!=null?this.customTime=r.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&te.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){var e,r,i;const s=document.createElement("div");s["custom-time"]=this,s.className="vis-custom-time ".concat(this.options.id||""),s.style.position="absolute",s.style.top="0px",s.style.height="100%",this.bar=s;const o=document.createElement("div");o.style.position="relative",o.style.top="0px",this.options.rtl?o.style.right="-10px":o.style.left="-10px",o.style.height="100%",o.style.width="20px";function a(l){this.body.range._onMouseWheel(l)}o.addEventListener?(o.addEventListener("mousewheel",qe(a).call(a,this),!1),o.addEventListener("DOMMouseScroll",qe(a).call(a,this),!1)):o.attachEvent("onmousewheel",qe(a).call(a,this)),s.appendChild(o),this.hammer=new Zi(o),this.hammer.on("panstart",qe(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",qe(r=this._onDrag).call(r,this)),this.hammer.on("panend",qe(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:Zi.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const r=this.body.util.toScreen(this.customTime);let i=this.options.locales[this.options.locale];i||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),i=this.options.locales.en);let s=this.options.title;if(s===void 0){var o;s=Er(o="".concat(i.time,": ")).call(o,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")),s=s.charAt(0).toUpperCase()+s.substring(1)}else typeof s=="function"&&(s=s.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(r,"px"):this.bar.style.left="".concat(r,"px"),this.bar.title=s,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=te.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,r){if(this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=te.xss(e),this.marker.style.position="absolute",r){var i;this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",qe(i=this._onMarkerChange).call(i,this)),this.marker.title=e,this.marker.addEventListener("blur",s=>{this.title!=s.target.innerHTML&&(this._onMarkerChanged(s),this.title=s.target.innerHTML)})}this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let r=this.options.rtl?-1*e.deltaX:e.deltaX;const i=this.body.util.toScreen(this.eventParams.customTime)+r,s=this.body.util.toTime(i),o=this.body.util.getScale(),a=this.body.util.getStep(),l=this.options.snap,c=l?l(s,o,a):s;this.setCustomTime(c),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let r=e.target;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"custom-time"))return r["custom-time"];r=r.parentNode}return null}}class ug{_create(e){var r,i,s;this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",qe(r=this._onTouch).call(r,this)),this.on("panmove",qe(i=this._onDrag).call(i,this));const o=this;this._origRedraw=qe(s=this._redraw).call(s,this),this._redraw=te.throttle(this._origRedraw),this.on("_change",m=>{o.itemSet&&o.itemSet.initialItemSetDrawn&&m&&m.queue==!0?o._redraw():o._origRedraw()}),this.hammer=new Zi(this.dom.root);const a=this.hammer.get("pinch").set({enable:!0});a&&ult(a),this.hammer.get("pan").set({threshold:5,direction:Zi.DIRECTION_ALL}),this.timelineListeners={};const l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];bt(l).call(l,m=>{const b=y=>{o.isActive()&&o.emit(m,y)};o.hammer.on(m,b),o.timelineListeners[m]=b}),zbe(this.hammer,m=>{o.emit("touch",m)}),clt(this.hammer,m=>{o.emit("release",m)});function c(m){if(!this.isActive())return;if(this.emit("mousewheel",m),this.options.preferZoom){if(!this.options.zoomKey||m[this.options.zoomKey])return}else if(this.options.zoomKey&&m[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let b=0,y=0;"detail"in m&&(y=m.detail*-1),"wheelDelta"in m&&(y=m.wheelDelta),"wheelDeltaY"in m&&(y=m.wheelDeltaY),"wheelDeltaX"in m&&(b=m.wheelDeltaX*-1),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(b=y*-1,y=0),"deltaY"in m&&(y=m.deltaY*-1),"deltaX"in m&&(b=m.deltaX);var v=40,w=800;m.deltaMode&&(m.deltaMode===1?(b*=v,y*=v):(b*=v,y*=w));const _=this.options.verticalScroll,x=Math.abs(y)>=Math.abs(b),S=this.options.horizontalScroll&&this.options.horizontalScrollKey&&m[this.options.horizontalScrollKey];if(_&&x&&!S){const C=this.props.scrollTop,E=C+y;this._setScrollTop(E)!==C&&(this._redraw(),this.emit("scroll",m),m.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let E=(x?y:b)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&x&&(E=-E);const T=this.range.start+E,M=this.range.end+E,I={animation:!1,byUser:!0,event:m};this.range.setRange(T,M,I),m.preventDefault();return}}const u="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(u,qe(c).call(c,this),!1),this.dom.top.addEventListener(u,qe(c).call(c,this),!1),this.dom.bottom.addEventListener(u,qe(c).call(c,this),!1);function d(m){if(o.options.verticalScroll&&(m.preventDefault(),o.isActive())){const b=-m.target.scrollTop;o._setScrollTop(b),o._redraw(),o.emit("scrollSide",m)}}this.dom.left.parentNode.addEventListener("scroll",qe(d).call(d,this)),this.dom.right.parentNode.addEventListener("scroll",qe(d).call(d,this));let h=!1;function f(m){var b;if(m.preventDefault&&(o.emit("dragover",o.getEventProperties(m)),m.preventDefault()),jn(b=m.target.className).call(b,"timeline")>-1&&!h)return m.dataTransfer.dropEffect="move",h=!0,!1}function p(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation();try{var b=JSON.parse(m.dataTransfer.getData("text"));if(!b||!b.content)return}catch{return!1}return h=!1,m.center={x:m.clientX,y:m.clientY},b.target!=="item"?o.itemSet._onAddItem(m):o.itemSet._onDropObjectOnItem(m),o.emit("drop",o.getEventProperties(m)),!1}if(this.dom.center.addEventListener("dragover",qe(f).call(f,this),!1),this.dom.center.addEventListener("drop",qe(p).call(p,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){var r;if(e){const a=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(te.selectiveExtend(a,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const l=this.timeAxis2=new E2(this.body,this.options);l.setOptions=c=>{const u=c?te.extend({},c):{};u.orientation="top",E2.prototype.setOptions.call(l,u)},this.components.push(l)}}else if(this.timeAxis2){var i;const l=jn(i=this.components).call(i,this.timeAxis2);if(l!==-1){var s;es(s=this.components).call(s,l,1)}this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&aL(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new Qo(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(bt(r=this.components).call(r,a=>a.setOptions(e)),"configure"in e){var o;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const a=te.deepExtend({},this.options);bt(o=this.components).call(o,l=>{te.deepExtend(a,l.options)}),this.configurator.setModuleOptions({global:a})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){var e;this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const r in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,r)&&delete this.timelineListeners[r];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,bt(e=this.components).call(e,r=>r.destroy()),this.body=null}setCustomTime(e,r){var i;const s=zt(i=this.customTimes).call(i,o=>r===o.options.id);if(s.length===0)throw new Error("No custom time bar found with id ".concat(ks(r)));s.length>0&&s[0].setCustomTime(e)}getCustomTime(e){var r;const i=zt(r=this.customTimes).call(r,s=>s.options.id===e);if(i.length===0)throw new Error("No custom time bar found with id ".concat(ks(e)));return i[0].getCustomTime()}setCustomTimeMarker(e,r,i){var s;const o=zt(s=this.customTimes).call(s,a=>a.options.id===r);if(o.length===0)throw new Error("No custom time bar found with id ".concat(ks(r)));o.length>0&&o[0].setCustomMarker(e,i)}setCustomTimeTitle(e,r){var i;const s=zt(i=this.customTimes).call(i,o=>o.options.id===r);if(s.length===0)throw new Error("No custom time bar found with id ".concat(ks(r)));if(s.length>0)return s[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,r){var i;const s=e!==void 0?te.convert(e,"Date"):new Date;if(rL(i=this.customTimes).call(i,l=>l.options.id===r))throw new Error("A custom time with id ".concat(ks(r)," already exists"));const a=new fL(this.body,te.extend({},this.options,{time:s,id:r,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(a),this.components.push(a),this._redraw(),r}removeCustomTime(e){var r;const i=zt(r=this.customTimes).call(r,s=>s.options.id===e);if(i.length===0)throw new Error("No custom time bar found with id ".concat(ks(e)));bt(i).call(i,s=>{var o,a,l,c;es(o=this.customTimes).call(o,jn(a=this.customTimes).call(a,s),1),es(l=this.components).call(l,jn(c=this.components).call(c,s),1),s.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,r){const i=this.getDataRange();if(i.min===null&&i.max===null)return;const s=i.max-i.min,o=new Date(i.min.valueOf()-s*.01),a=new Date(i.max.valueOf()+s*.01),l=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(o,a,{animation:l},r)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,r,i,s){typeof arguments[2]=="function"&&(s=arguments[2],i={});let o,a;arguments.length==1?(a=arguments[0],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o})):arguments.length==2&&typeof arguments[1]=="function"?(a=arguments[0],s=arguments[1],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o},s)):(o=i&&i.animation!==void 0?i.animation:!0,this.range.setRange(e,r,{animation:o},s))}moveTo(e,r,i){typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.range.end-this.range.start,o=te.convert(e,"Date").valueOf(),a=o-s/2,l=o+s/2,c=r&&r.animation!==void 0?r.animation:!0;this.range.setRange(a,l,{animation:c},i)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,r,i){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.getWindow(),o=s.start.valueOf(),a=s.end.valueOf(),l=a-o,c=l/(1+e),u=(l-c)/2,d=o+u,h=a-u;this.setWindow(d,h,r,i)}zoomOut(e,r,i){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.getWindow(),o=s.start.valueOf(),a=s.end.valueOf(),l=a-o,c=o-l*e/2,u=a+l*e/2;this.setWindow(c,u,r,i)}redraw(){this._redraw()}_redraw(){var e;this.redrawCount++;const r=this.dom;if(!r||!r.container||r.root.offsetWidth==0)return;let i=!1;const s=this.options,o=this.props;S2(this.options.moment,this.body,this.options.hiddenDates),s.orientation=="top"?(te.addClassName(r.root,"vis-top"),te.removeClassName(r.root,"vis-bottom")):(te.removeClassName(r.root,"vis-top"),te.addClassName(r.root,"vis-bottom")),s.rtl?(te.addClassName(r.root,"vis-rtl"),te.removeClassName(r.root,"vis-ltr")):(te.addClassName(r.root,"vis-ltr"),te.removeClassName(r.root,"vis-rtl")),r.root.style.maxHeight=te.option.asSize(s.maxHeight,""),r.root.style.minHeight=te.option.asSize(s.minHeight,""),r.root.style.width=te.option.asSize(s.width,"");const a=r.root.offsetWidth;o.border.left=1,o.border.right=1,o.border.top=1,o.border.bottom=1,o.center.height=r.center.offsetHeight,o.left.height=r.left.offsetHeight,o.right.height=r.right.offsetHeight,o.top.height=r.top.clientHeight||-o.border.top,o.bottom.height=Math.round(r.bottom.getBoundingClientRect().height)||r.bottom.clientHeight||-o.border.bottom;const l=Math.max(o.left.height,o.center.height,o.right.height),c=o.top.height+l+o.bottom.height+o.border.top+o.border.bottom;r.root.style.height=te.option.asSize(s.height,"".concat(c,"px")),o.root.height=r.root.offsetHeight,o.background.height=o.root.height;const u=o.root.height-o.top.height-o.bottom.height;o.centerContainer.height=u,o.leftContainer.height=u,o.rightContainer.height=o.leftContainer.height,o.root.width=a,o.background.width=o.root.width,this.initialDrawDone||(o.scrollbarWidth=te.getScrollBarWidth());const d=r.leftContainer.clientWidth,h=r.rightContainer.clientWidth;s.verticalScroll?s.rtl?(o.left.width=d||-o.border.left,o.right.width=h+o.scrollbarWidth||-o.border.right):(o.left.width=d+o.scrollbarWidth||-o.border.left,o.right.width=h||-o.border.right):(o.left.width=d||-o.border.left,o.right.width=h||-o.border.right),this._setDOM();let f=this._updateScrollTop();s.orientation.item!="top"&&(f+=Math.max(o.centerContainer.height-o.center.height-o.border.top-o.border.bottom,0)),r.center.style.transform="translateY(".concat(f,"px)");const p=o.scrollTop==0?"hidden":"",m=o.scrollTop==o.scrollTopMin?"hidden":"";r.shadowTop.style.visibility=p,r.shadowBottom.style.visibility=m,r.shadowTopLeft.style.visibility=p,r.shadowBottomLeft.style.visibility=m,r.shadowTopRight.style.visibility=p,r.shadowBottomRight.style.visibility=m,s.verticalScroll&&(r.rightContainer.className="vis-panel vis-right vis-vertical-scroll",r.leftContainer.className="vis-panel vis-left vis-vertical-scroll",r.shadowTopRight.style.visibility="hidden",r.shadowBottomRight.style.visibility="hidden",r.shadowTopLeft.style.visibility="hidden",r.shadowBottomLeft.style.visibility="hidden",r.left.style.top="0px",r.right.style.top="0px"),(!s.verticalScroll||o.center.height<o.centerContainer.height)&&(r.left.style.top="".concat(f,"px"),r.right.style.top="".concat(f,"px"),r.rightContainer.className=r.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),r.leftContainer.className=r.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),o.left.width=d||-o.border.left,o.right.width=h||-o.border.right,this._setDOM());const b=o.center.height>o.centerContainer.height;this.hammer.get("pan").set({direction:b?Zi.DIRECTION_ALL:Zi.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),bt(e=this.components).call(e,v=>{i=v.redraw()||i});const y=5;if(i)if(this.redrawCount<y){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,r=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const i=e.root.width-e.left.width-e.right.width;e.center.width=i,e.centerContainer.width=i,e.top.width=i,e.bottom.width=i,r.background.style.height="".concat(e.background.height,"px"),r.backgroundVertical.style.height="".concat(e.background.height,"px"),r.backgroundHorizontal.style.height="".concat(e.centerContainer.height,"px"),r.centerContainer.style.height="".concat(e.centerContainer.height,"px"),r.leftContainer.style.height="".concat(e.leftContainer.height,"px"),r.rightContainer.style.height="".concat(e.rightContainer.height,"px"),r.background.style.width="".concat(e.background.width,"px"),r.backgroundVertical.style.width="".concat(e.centerContainer.width,"px"),r.backgroundHorizontal.style.width="".concat(e.background.width,"px"),r.centerContainer.style.width="".concat(e.center.width,"px"),r.top.style.width="".concat(e.top.width,"px"),r.bottom.style.width="".concat(e.bottom.width,"px"),r.background.style.left="0",r.background.style.top="0",r.backgroundVertical.style.left="".concat(e.left.width+e.border.left,"px"),r.backgroundVertical.style.top="0",r.backgroundHorizontal.style.left="0",r.backgroundHorizontal.style.top="".concat(e.top.height,"px"),r.centerContainer.style.left="".concat(e.left.width,"px"),r.centerContainer.style.top="".concat(e.top.height,"px"),r.leftContainer.style.left="0",r.leftContainer.style.top="".concat(e.top.height,"px"),r.rightContainer.style.left="".concat(e.left.width+e.center.width,"px"),r.rightContainer.style.top="".concat(e.top.height,"px"),r.top.style.left="".concat(e.left.width,"px"),r.top.style.top="0",r.bottom.style.left="".concat(e.left.width,"px"),r.bottom.style.top="".concat(e.top.height+e.centerContainer.height,"px"),r.center.style.left="0",r.left.style.left="0",r.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return Lre(this,e,this.props.center.width)}_toGlobalTime(e){return Lre(this,e,this.props.root.width)}_toScreen(e){return Bre(this,e,this.props.center.width)}_toGlobalScreen(e){return Bre(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const r=e.dom.root.offsetHeight,i=e.dom.root.offsetWidth;(i!=e.props.lastWidth||r!=e.props.lastHeight)&&(e.props.lastWidth=i,e.props.lastHeight=r,e.props.scrollbarWidth=te.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=alt(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const r=e.deltaY,i=this._getScrollTop(),s=this._setScrollTop(this.touch.initialScrollTop+r);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),s!=i&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}LB(ug.prototype);class Xbe extends oh{constructor(e,r){var i;super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:ts,locales:N0,locale:"en"},this.options=te.extend({},this.defaultOptions),this.setOptions(r),this.options.locales=te.extend({},N0,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];bt(i=Vr(this.options.locales)).call(i,o=>{this.options.locales[o]=te.extend({},s,this.options.locales[o])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&te.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){var e,r;const i=this.body.dom.backgroundVertical;this.bar.parentNode!=i&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),i.appendChild(this.bar),this.start());let s=this.options.moment(Zs()+this.offset);this.options.alignCurrentTime&&(s=s.startOf(this.options.alignCurrentTime));const o=this.body.util.toScreen(s);let a=this.options.locales[this.options.locale];a||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),a=this.options.locales.en);let l=Er(e=Er(r="".concat(a.current," ")).call(r,a.time,": ")).call(e,s.format("dddd, MMMM Do YYYY, H:mm:ss"));l=l.charAt(0).toUpperCase()+l.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(o*-1,"px)"):this.bar.style.transform="translateX(".concat(o,"px)"),this.bar.title=l}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function r(){e.stop();let s=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;s<30&&(s=30),s>1e3&&(s=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=Bi(r,s)}r()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const r=te.convert(e,"Date").valueOf(),i=Zs();this.offset=r-i,this.redraw()}getCurrentTime(){return new Date(Zs()+this.offset)}}var qre={},Hre;function Llt(){if(Hre)return qre;Hre=1;var n=Ot(),e=rh().find,r=Hx(),i="find",s=!0;return i in[]&&Array(1)[i](function(){s=!1}),n({target:"Array",proto:!0,forced:s},{find:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),r(i),qre}var pD,Vre;function Flt(){if(Vre)return pD;Vre=1,Llt();var n=xr();return pD=n("Array","find"),pD}var mD,Gre;function $lt(){if(Gre)return mD;Gre=1;var n=Qn(),e=Flt(),r=Array.prototype;return mD=function(i){var s=i.find;return i===r||n(r,i)&&s===r.find?e:s},mD}var gD,Yre;function zlt(){if(Yre)return gD;Yre=1;var n=$lt();return gD=n,gD}var bD,Kre;function Ult(){return Kre||(Kre=1,bD=zlt()),bD}var Wlt=Ult(),qlt=Lt(Wlt);const Ks=.001;function Hlt(n){Ir(n).call(n,(e,r)=>e.data.start-r.data.start)}function Vlt(n){Ir(n).call(n,(e,r)=>{const i="end"in e.data?e.data.end:e.data.start,s="end"in r.data?r.data.end:r.data.start;return i-s})}function Xre(n,e,r,i){return pL(n,e.item,!1,o=>o.stack&&(r||o.top===null),o=>o.stack,()=>e.axis,i)===null}function Glt(n,e,r){const i=pL(n,e.item,!1,s=>s.stack,()=>!0,s=>s.baseTop);r.height=i-r.top+.5*e.item.vertical}function Ylt(n,e,r,i){for(let s=0;s<n.length;s++){if(n[s].data.subgroup==null){n[s].top=e.item.vertical;continue}if(n[s].data.subgroup===void 0||!i)continue;let o=0;for(const a in r)!Object.prototype.hasOwnProperty.call(r,a)||r[a].visible!==!0||r[a].index>=r[n[s].data.subgroup].index||(o+=r[a].height,r[n[s].data.subgroup].top=o);n[s].top=o+.5*e.item.vertical}i||Klt(n,e,r)}function Klt(n,e,r){var i;pL(Ir(i=jB(r)).call(i,(s,o)=>s.index>o.index?1:s.index<o.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let s=0;s<n.length;s++)n[s].data.subgroup!==void 0&&(n[s].top=r[n[s].data.subgroup].top+.5*e.item.vertical)}function Qre(n,e,r){let i=!1;const s=[];for(let o in r)Object.prototype.hasOwnProperty.call(r[o],"index")?s[r[o].index]=o:s.push(o);for(let o=0;o<s.length;o++){let a=s[o];if(!Object.prototype.hasOwnProperty.call(r,a))continue;i=i||r[a].stack,r[a].top=0;for(const c in r)r[c].visible&&r[a].index>r[c].index&&(r[a].top+=r[c].height);const l=n[a];for(let c=0;c<l.length;c++)l[c].data.subgroup!==void 0&&(l[c].top=r[l[c].data.subgroup].top+.5*e.item.vertical,r[a].stack&&(l[c].baseTop=l[c].top));i&&r[a].stack&&Glt(n[a],e,r[a])}}function pL(n,e,r,i,s,o,a){let l=w=>w.start,c=w=>w.end;r||(!!(n[0]&&n[0].options.rtl)?l=_=>_.right:l=_=>_.left,c=_=>l(_)+_.width+e.horizontal);const u=[],d=[];let h=null,f=0;for(const w of n)if(i(w))u.push(w);else if(s(w)){const _=l(w);h!==null&&_<h-Ks&&(f=0),h=_,f=W_(d,x=>l(x)-Ks>_,f),es(d).call(d,f,0,w),f++}h=null;let p=null;f=0;let m=0,b=0,y=0;for(;u.length>0;){var v;const w=u.shift();w.top=o(w);const _=l(w),x=c(w);h!==null&&_<h-Ks&&(m=0,b=0,f=0,p=null),(h===null||_>h+Ks)&&(m=W_(d,E=>_<c(E)-Ks,m)),h=_,(p===null||p<x-Ks)&&(b=W_(d,E=>x<l(E)-Ks,Math.max(m,b))),p!==null&&p-Ks>x&&(b=Qlt(d,E=>x+Ks>=l(E),m,b)+1),p=x;const S=Ir(v=Jlt(d,E=>_<c(E)-Ks,m,b)).call(v,(E,T)=>E.top-T.top);for(let E=0;E<S.length;E++){const T=S[E];Xlt(w,T,e)&&(w.top=T.top+T.height+e.vertical)}s(w)&&(f=W_(d,E=>l(E)-Ks>_,f),es(d).call(d,f,0,w),f<m&&m++,f<=b&&b++,f++);const C=w.top+w.height;if(C>y&&(y=C),a&&a())return null}return y}function Xlt(n,e,r){return n.top-r.vertical+Ks<e.top+e.height&&n.top+n.height+r.vertical-Ks>e.top}function W_(n,e,r){r||(r=0);for(let i=r;i<n.length;i++)if(e(n[i]))return i;return n.length}function Qlt(n,e,r,i){r||(r=0),i||(i=n.length);for(let s=i-1;s>=r;s--)if(e(n[s]))return s;return r-1}function Jlt(n,e,r,i){r||(r=0),i?i=Math.min(i,n.length):i=n.length;const s=[];for(let o=r;o<i;o++)e(n[o])&&s.push(n[o]);return s}const Zlt="__background__",Jre={BACKGROUND:Zlt};let uN=class{constructor(e,r,i){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=r&&r.subgroupOrder,this.itemSet=i,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],r&&r.nestedGroups&&(this.nestedGroups=r.nestedGroups,r.showNested==!1?this.showNested=!1:this.showNested=!0),r&&r.subgroupStack)if(typeof r.subgroupStack=="boolean")this.doInnerStack=r.subgroupStack,this.subgroupStackAll=r.subgroupStack;else for(const o in r.subgroupStack)Object.prototype.hasOwnProperty.call(r.subgroupStack,o)&&(this.subgroupStack[o]=r.subgroupStack[o],this.doInnerStack=this.doInnerStack||r.subgroupStack[o]);r&&r.heightMode?this.heightMode=r.heightMode:this.heightMode=i.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const s=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",s),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",s)}),this._create(),this.setData(r)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const r=document.createElement("div");r.className="vis-inner",e.appendChild(r),this.dom.inner=r;const i=document.createElement("div");i.className="vis-group",i["vis-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let r,i;if(e&&e.subgroupVisibility)for(const a in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,a)&&(this.subgroupVisibility[a]=e.subgroupVisibility[a]);if(this.itemSet.options&&this.itemSet.options.groupTemplate){var s;i=qe(s=this.itemSet.options.groupTemplate).call(s,this),r=i(e,this.dom.inner)}else r=e&&e.content;if(r instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(r)}else r instanceof Object&&r.isReactComponent||(r instanceof Object?i(e,this.dom.inner):r!=null?this.dom.inner.innerHTML=te.xss(r):this.dom.inner.innerHTML=te.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?te.removeClassName(this.dom.inner,"vis-hidden"):te.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),te.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(te.removeClassName(this.dom.label,"collapsed"),te.addClassName(this.dom.label,"expanded")):(te.removeClassName(this.dom.label,"expanded"),te.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,te.removeClassName(this.dom.label,"collapsed"),te.removeClassName(this.dom.label,"expanded"),te.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(te.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?te.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):te.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):te.addClassName(this.dom.label,"vis-group-level-0");const o=e&&e.className||null;o!=this.className&&(this.className&&(te.removeClassName(this.dom.label,this.className),te.removeClassName(this.dom.foreground,this.className),te.removeClassName(this.dom.background,this.className),te.removeClassName(this.dom.axis,this.className)),te.addClassName(this.dom.label,o),te.addClassName(this.dom.foreground,o),te.addClassName(this.dom.background,o),te.addClassName(this.dom.axis,o),this.className=o),this.style&&(te.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(te.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const r={};let i=0;if(bt(te).call(te,this.items,(o,a)=>{o.dirty=!0,o.displayed&&(r[a]=o.redraw(!0),i=r[a].length)}),i>0)for(let o=0;o<i;o++)bt(te).call(te,r,a=>{a[o]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:r,offsetWidth:i}=this.dom.foreground;this.top=e,this.right=r,this.width=i}_shouldBailItemsRedraw(){const e=this,r=this.itemSet.options.onTimeout,i={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:r&&r.timeoutMs,userBailFunction:r&&r.callback,shouldBailStackItems:this.shouldBailStackItems};let s=null;if(!this.itemSet.initialDrawDone){if(i.shouldBailStackItems)return!0;Math.abs(Zs()-new Date(i.relativeBailingTime))>i.bailTimeMs&&(i.userBailFunction&&this.itemSet.userContinueNotBail==null?i.userBailFunction(o=>{e.itemSet.userContinueNotBail=o,s=!o}):e.itemSet.userContinueNotBail==!1?s=!0:s=!1)}return s}_redrawItems(e,r,i,s){if(e||this.stackDirty||this.isVisible&&!r){var a,l,c,u,d,h;const v={byEnd:zt(a=this.orderedItems.byEnd).call(a,S=>!S.isCluster),byStart:zt(l=this.orderedItems.byStart).call(l,S=>!S.isCluster)},w={byEnd:[...new Fd(zt(c=Tn(u=this.orderedItems.byEnd).call(u,S=>S.cluster)).call(c,S=>!!S))],byStart:[...new Fd(zt(d=Tn(h=this.orderedItems.byStart).call(h,S=>S.cluster)).call(d,S=>!!S))]},_=()=>{var S,C;const E=this._updateItemsInRange(v,zt(S=this.visibleItems).call(S,M=>!M.isCluster),s),T=this._updateClustersInRange(w,zt(C=this.visibleItems).call(C,M=>M.isCluster),s);return[...E,...T]},x=S=>{let C={};for(const T in this.subgroups){var E;if(!Object.prototype.hasOwnProperty.call(this.subgroups,T))continue;const M=zt(E=this.visibleItems).call(E,I=>I.data.subgroup===T);C[T]=S?Ir(M).call(M,(I,O)=>S(I.data,O.data)):M}return C};if(typeof this.itemSet.options.order=="function"){const S=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const C=x(this.itemSet.options.order);Qre(C,i,this.subgroups),this.visibleItems=_(),this._updateSubGroupHeights(i)}else{var f,p,m,b;this.visibleItems=_(),this._updateSubGroupHeights(i);const C=Ir(f=zt(p=bb(m=this.visibleItems).call(m)).call(p,E=>E.isCluster||!E.isCluster&&!E.cluster)).call(f,(E,T)=>S.itemSet.options.order(E.data,T.data));this.shouldBailStackItems=Xre(C,i,!0,qe(b=this._shouldBailItemsRedraw).call(b,this))}}else if(this.visibleItems=_(),this._updateSubGroupHeights(i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const S=x();Qre(S,i,this.subgroups)}else{var y;this.shouldBailStackItems=Xre(this.visibleItems,i,!0,qe(y=this._shouldBailItemsRedraw).call(y,this))}else Ylt(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);for(let S=0;S<this.visibleItems.length;S++)this.visibleItems[S].repositionX(),this.subgroupVisibility[this.visibleItems[S].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[S].data.subgroup]||this.visibleItems[S].hide());this.itemSet.options.cluster&&bt(te).call(te,this.items,S=>{S.cluster&&S.displayed&&S.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,r){e=te.updateProperty(this,"height",r)||e;const i=this.dom.inner.clientWidth,s=this.dom.inner.clientHeight;return e=te.updateProperty(this.props.label,"width",i)||e,e=te.updateProperty(this.props.label,"height",s)||e,e}_applyGroupHeight(e){this.dom.background.style.height="".concat(e,"px"),this.dom.foreground.style.height="".concat(e,"px"),this.dom.label.style.height="".concat(e,"px")}_updateItemsVerticalPosition(e){for(let r=0,i=this.visibleItems.length;r<i;r++){const s=this.visibleItems[r];s.repositionY(e),!this.isVisible&&this.groupId!=Jre.BACKGROUND&&s.displayed&&s.hide()}}redraw(e,r,i,s){var o,a,l,c,u;let d=!1;const h=this.isVisible;let f;const p=[()=>{i=this._didMarkerHeightChange.call(this)||i},qe(o=this._updateSubGroupHeights).call(o,this,r),qe(a=this._calculateGroupSizeAndPosition).call(a,this),()=>{var m;this.isVisible=qe(m=this._isGroupVisible).call(m,this)(e,r)},()=>{var m;qe(m=this._redrawItems).call(m,this)(i,h,r,e)},qe(l=this._updateSubgroupsSizes).call(l,this),()=>{var m;f=this.height=qe(m=this._calculateHeight).call(m,this)(r)},qe(c=this._calculateGroupSizeAndPosition).call(c,this),()=>{var m;d=qe(m=this._didResize).call(m,this)(d,f)},()=>{var m;qe(m=this._applyGroupHeight).call(m,this)(f)},()=>{var m;qe(m=this._updateItemsVerticalPosition).call(m,this)(r)},qe(u=()=>(!this.isVisible&&this.height&&(d=!1),d)).call(u,this)];if(s)return p;{let m;return bt(p).call(p,b=>{m=b()}),m}}_updateSubGroupHeights(e){if(Vr(this.subgroups).length>0){const r=this;this._resetSubgroups(),bt(te).call(te,this.visibleItems,i=>{i.data.subgroup!==void 0&&(r.subgroups[i.data.subgroup].height=Math.max(r.subgroups[i.data.subgroup].height,i.height+e.item.vertical),r.subgroups[i.data.subgroup].visible=typeof this.subgroupVisibility[i.data.subgroup]>"u"?!0:!!this.subgroupVisibility[i.data.subgroup])})}}_isGroupVisible(e,r){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+r.axis&&this.top+this.height+r.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let r,i;if(this.heightMode==="fixed"?i=te.toArray(this.items):i=this.visibleItems,!this.isVisible&&this.height)r=Math.max(this.height,this.props.label.height);else if(i.length>0){let s=i[0].top,o=i[0].top+i[0].height;if(bt(te).call(te,i,a=>{s=Math.min(s,a.top),o=Math.max(o,a.top+a.height)}),s>e.axis){const a=s-e.axis;o-=a,bt(te).call(te,i,l=>{l.top-=a})}r=Math.ceil(o+e.item.vertical/2),this.heightMode!=="fitItems"&&(r=Math.max(r,this.props.label.height))}else r=this.props.label.height;return r}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const r=this.dom.foreground;r.parentNode&&r.parentNode.removeChild(r);const i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);const s=this.dom.axis;s.parentNode&&s.parentNode.removeChild(s)}add(e){var r;if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!T0(r=this.visibleItems).call(r,e)){const i=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,i)}}_addToSubgroup(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;r!=null&&this.subgroups[r]===void 0&&(this.subgroups[r]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[r]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[r].start)&&(this.subgroups[r].start=e.data.start);const i=e.data.end||e.data.start;new Date(i)>new Date(this.subgroups[r].end)&&(this.subgroups[r].end=i),this.subgroups[r].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const i in e.subgroups){var r;if(!Object.prototype.hasOwnProperty.call(e.subgroups,i))continue;const s=e.subgroups[i].items[0].data.end||e.subgroups[i].items[0].data.start;let o=e.subgroups[i].items[0].data.start,a=s-1;bt(r=e.subgroups[i].items).call(r,l=>{new Date(l.data.start)<new Date(o)&&(o=l.data.start);const c=l.data.end||l.data.start;new Date(c)>new Date(a)&&(a=c)}),e.subgroups[i].start=o,e.subgroups[i].end=new Date(a-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const r in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,r)&&e.push({subgroup:r,sortField:this.subgroups[r].items[0].data[this.subgroupOrderer]});Ir(e).call(e,(r,i)=>r.sortField-i.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const r in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,r)&&e.push(this.subgroups[r].items[0].data);Ir(e).call(e,this.subgroupOrderer)}if(e.length>0)for(let r=0;r<e.length;r++)this.subgroups[e[r].subgroup].index=r}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){var r,i;delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const s=jn(r=this.visibleItems).call(r,e);s!=-1&&es(i=this.visibleItems).call(i,s,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;if(r!=null){const o=this.subgroups[r];if(o){var i;const a=jn(i=o.items).call(i,e);if(a>=0){var s;es(s=o.items).call(s,a,1),o.items.length?this._updateSubgroupsSizes():delete this.subgroups[r]}}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=te.toArray(this.items),r=[],i=[];for(let s=0;s<e.length;s++)e[s].data.end!==void 0&&i.push(e[s]),r.push(e[s]);this.orderedItems={byStart:r,byEnd:i},Hlt(this.orderedItems.byStart),Vlt(this.orderedItems.byEnd)}_updateItemsInRange(e,r,i){const s=[],o={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=Jre.BACKGROUND){for(let y=0;y<r.length;y++){var a=r[y];a.displayed&&a.hide()}return s}const l=(i.end-i.start)/4,c=i.start-l,u=i.end+l,d=y=>y<c?-1:y<=u?0:1,h=y=>{const{start:v,end:w}=y;return w<c?-1:v<=u?0:1};if(r.length>0)for(let y=0;y<r.length;y++)this._checkIfVisibleWithReference(r[y],s,o,i);const f=te.binarySearchCustom(e.byStart,d,"data","start");if(this._traceVisible(f,e.byStart,s,o,y=>y.data.start<c||y.data.start>u),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let y=0;y<e.byEnd.length;y++)this._checkIfVisibleWithReference(e.byEnd[y],s,o,i)}else{const y=te.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(y,e.byEnd,s,o,v=>v.data.end<c||v.data.start>u)}this._sortVisibleItems(e.byStart,s,o);const p={};let m=0;for(let y=0;y<s.length;y++){const v=s[y];v.displayed||(p[y]=v.redraw(!0),m=p[y].length)}if(m>0)for(let y=0;y<m;y++)bt(te).call(te,p,v=>{v[y]()});for(let y=0;y<s.length;y++)s[y].repositionX();return s}_traceVisible(e,r,i,s,o){if(e!=-1){for(let a=e;a>=0;a--){let l=r[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&s[l.id]===void 0&&(s[l.id]=!0,i.unshift(l))}for(let a=e+1;a<r.length;a++){let l=r[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&s[l.id]===void 0&&(s[l.id]=!0,i.push(l))}}}_sortVisibleItems(e,r,i){r.length=0;for(let s=0;s<e.length;s++){let o=e[s];i[o.id]&&r.push(o)}}_checkIfVisible(e,r,i){e.isVisible(i)?(e.displayed||e.show(),e.repositionX(),r.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,r,i,s){e.isVisible(s)?i[e.id]===void 0&&(i[e.id]=!0,r.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,r,i){const s=[],o={};if(r.length>0)for(let d=0;d<r.length;d++)this._checkIfVisibleWithReference(r[d],s,o,i);for(let d=0;d<e.byStart.length;d++)this._checkIfVisibleWithReference(e.byStart[d],s,o,i);for(let d=0;d<e.byEnd.length;d++)this._checkIfVisibleWithReference(e.byEnd[d],s,o,i);const a={};let l=0;for(let d=0;d<s.length;d++){const h=s[d];h.displayed||(a[d]=h.redraw(!0),l=a[d].length)}if(l>0)for(var u=0;u<l;u++)bt(te).call(te,a,function(d){d[u]()});for(let d=0;d<s.length;d++)s[d].repositionX();return s}changeSubgroup(e,r,i){this._removeFromSubgroup(e,r),this._addToSubgroup(e,i),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}};class Qbe extends uN{constructor(e,r,i){super(e,r,i),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,r){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let s=0,o=this.visibleItems.length;s<o;s++)this.visibleItems[s].repositionY(r);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class wb{constructor(e,r,i){var s;this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=r||{},this.defaultOptions={locales:N0,locale:"en"},this.options=te.extend({},this.defaultOptions,i),this.options.locales=te.extend({},N0,this.options.locales);const o=this.defaultOptions.locales[this.defaultOptions.locale];bt(s=Vr(this.options.locales)).call(s,a=>{this.options.locales[a]=te.extend({},o,this.options.locales[a])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=i&&i.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var e,r;const i=this,s=document.createElement("div");s.className="vis-drag-center",s.dragCenterItem=this,this.hammerDragCenter=new Zi(s),this.hammerDragCenter.on("tap",o=>{i.parent.itemSet.body.emitter.emit("click",{event:o,item:i.id})}),this.hammerDragCenter.on("doubletap",o=>{o.stopPropagation(),i.parent.itemSet._onUpdateItem(i),i.parent.itemSet.body.emitter.emit("doubleClick",{event:o,item:i.id})}),this.hammerDragCenter.on("panstart",o=>{o.stopPropagation(),i.parent.itemSet._onDragStart(o)}),this.hammerDragCenter.on("panmove",qe(e=i.parent.itemSet._onDrag).call(e,i.parent.itemSet)),this.hammerDragCenter.on("panend",qe(r=i.parent.itemSet._onDragEnd).call(r,i.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(s,this.dom.dragLeft):this.dom.box.appendChild(s):this.dom.point&&this.dom.point.appendChild(s),this.dom.dragCenter=s}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const r=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&r&&!this.dom.deleteButton){const i=this,s=document.createElement("div");this.options.rtl?s.className="vis-delete-rtl":s.className="vis-delete";let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),o=this.options.locales.en),s.title=o.deleteSelected,this.hammerDeleteButton=new Zi(s).on("tap",a=>{a.stopPropagation(),i.parent.removeFromDataSet(i)}),e.appendChild(s),this.dom.deleteButton=s}else(!this.selected||!r)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const r=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&r&&!this.dom.onItemUpdateTimeTooltip){const s=document.createElement("div");s.className="vis-onUpdateTime-tooltip",e.appendChild(s),this.dom.onItemUpdateTimeTooltip=s}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const s=50,o=this.parent.itemSet.body.domProps.scrollTop;let a;this.options.orientation.item=="top"?a=this.top:a=this.parent.height-this.top-this.height,a+this.parent.top-s<-o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px"));let c,u;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){var i;u=qe(i=this.options.tooltipOnItemUpdateTime.template).call(i,this),c=u(this.data)}else c="start: ".concat(ts(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(c+="<br> end: ".concat(ts(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=te.xss(c)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let r,i,s,o,a;const l=this._getItemData(),u=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){var d;a=qe(d=this.options.visibleFrameTemplate).call(d,this),o=te.xss(a(l,u))}else o="";if(u){if(o instanceof Object&&!(o instanceof Element))a(l,u);else if(i=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o),i){if(o instanceof Element)u.innerHTML="",u.appendChild(o);else if(o!=null)u.innerHTML=te.xss(o);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=o}}if(this.options.template){var h;s=qe(h=this.options.template).call(h,this),r=s(l,e,this.data)}else r=this.data.content;if(r instanceof Object&&!(r instanceof Element))s(l,e);else if(i=this._contentToString(this.content)!==this._contentToString(r),i){if(r instanceof Element)e.innerHTML="",e.appendChild(r);else if(r!=null)e.innerHTML=te.xss(r);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.content=r}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let r=[];if(nn(this.options.dataAttributes))r=this.options.dataAttributes;else if(this.options.dataAttributes=="all")r=Vr(this.data);else return;for(const i of r){const s=this.data[i];s!=null?e.setAttribute("data-".concat(i),s):e.removeAttribute("data-".concat(i))}}}_updateStyle(e){this.style&&(te.removeCssText(e,this.style),this.style=null),this.data.style&&(te.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},te.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},te.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){var e;return qe(e=this.options.tooltip.template).call(e,this)(this._getItemData(),this.data)}return this.data.title}}wb.prototype.stack=!0;class ect extends wb{constructor(e,r,i){if(super(e,r,i),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;let r;const i=this.data.align||this.options.align,s=this.width*e.getMillisecondsPerPixel();return i=="right"?r=this.data.start.getTime()>e.start&&this.data.start.getTime()-s<e.end:i=="left"?r=this.data.start.getTime()+s>e.start&&this.data.start.getTime()<e.end:r=this.data.start.getTime()+s/2>e.start&&this.data.start.getTime()-s/2<e.end,r}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const r=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(r),this.dom.line.className="vis-item vis-line".concat(r),this.dom.dot.className="vis-item vis-dot".concat(r)}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){var r,i,s,o;let a;const l=[qe(r=this._createDomElement).call(r,this),qe(i=this._appendDomElement).call(i,this),qe(s=this._updateDirtyDomComponents).call(s,this),()=>{this.dirty&&(a=this._getDomComponentsSizes())},()=>{if(this.dirty){var c;qe(c=this._updateDomComponentsSizes).call(c,this)(a)}},qe(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return bt(l).call(l,u=>{c=u()}),c}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,r=function(i,s,o){var a;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(s===void 0&&o===void 0)return;const c=l?s*-1:s;if(o===void 0){i.style.transform="translateX(".concat(c,"px)");return}if(s===void 0){i.style.transform="translateY(".concat(o,"px)");return}i.style.transform=Er(a="translate(".concat(c,"px, ")).call(a,o,"px)")};r(this.dom.box,this.boxX,this.boxY,e),r(this.dom.dot,this.dotX,this.dotY,e),r(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),r=this.data.align===void 0?this.options.align:this.data.align,i=this.props.line.width,s=this.props.dot.width;r=="right"?(this.boxX=e-this.width,this.lineX=e-i,this.dotX=e-i/2-s/2):r=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+i/2-s/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-i:e-i/2,this.dotX=e-s/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,r=this.dom.line.style;if(e=="top"){const i=this.parent.top+this.top+1;this.boxY=this.top||0,r.height="".concat(i,"px"),r.bottom="",r.top="0"}else{const s=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),r.height="".concat(s,"px"),r.top="",r.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class tct extends wb{constructor(e,r,i){if(super(e,r,i),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;const r=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+r>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(r),this.dom.dot.className="vis-item vis-dot".concat(r)}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");const r=this.props.dot.width,i=this.options.rtl?r/2:r/2*-1;this.dom.dot.style.transform="translateX(".concat(i,"px"),this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){var r,i,s,o;let a;const l=[qe(r=this._createDomElement).call(r,this),qe(i=this._appendDomElement).call(i,this),qe(s=this._updateDirtyDomComponents).call(s,this),()=>{this.dirty&&(a=this._getDomComponentsSizes())},()=>{if(this.dirty){var c;qe(c=this._updateDomComponentsSizes).call(c,this)(a)}},qe(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return bt(l).call(l,u=>{c=u()}),c}}repositionXY(){const e=this.options.rtl;(function(i,s,o){var a;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(s===void 0&&o===void 0)return;const c=l?s*-1:s;if(o===void 0){i.style.transform="translateX(".concat(c,"px)");return}if(s===void 0){i.style.transform="translateY(".concat(o,"px)");return}i.style.transform=Er(a="translate(".concat(c,"px, ")).call(a,o,"px)")})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class ap extends wb{constructor(e,r,i){if(super(e,r,i),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+r,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){var r,i,s,o;let a;const l=[qe(r=this._createDomElement).call(r,this),qe(i=this._appendDomElement).call(i,this),qe(s=this._updateDirtyDomComponents).call(s,this),()=>{if(this.dirty){var c;a=qe(c=this._getDomComponentsSizes).call(c,this)()}},()=>{if(this.dirty){var c;qe(c=this._updateDomComponentsSizes).call(c,this)(a)}},qe(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return bt(l).call(l,u=>{c=u()}),c}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const r=this.parent.width;let i=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end);const o=this.data.align===void 0?this.options.align:this.data.align;let a,l;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(i<-r&&(i=-r),s>2*r&&(s=2*r));const c=Math.max(Math.round((s-i)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=i:this.left=i,this.width=c+this.props.content.width,l=this.props.content.width):(this.options.rtl?this.right=i:this.left=i,this.width=c,l=Math.min(s-i,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(this.right*-1,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(c,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const u=Math.max(c-l,0)*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(c-l,0),"px)");break;case"center":if(this.options.rtl){const u=Math.max((c-l)/2,0)*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((c-l)/2,0),"px)");break;default:if(this.overflow?s>0?a=Math.max(-i,0):a=-l:i<0?a=-i:a=0,this.options.rtl){const u=a*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(a,"px)")}}repositionY(){const e=this.options.orientation.item,r=this.dom.box;e=="top"?r.style.top="".concat(this.top,"px"):r.style.top="".concat(this.parent.height-this.top-this.height,"px")}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}ap.prototype.baseClassName="vis-item vis-range";class Tp extends wb{constructor(e,r,i){if(super(e,r,i),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){var r,i,s,o;let a;const l=[qe(r=this._createDomElement).call(r,this),qe(i=this._appendDomElement).call(i,this),qe(s=this._updateDirtyDomComponents).call(s,this),()=>{if(this.dirty){var c;a=qe(c=this._getDomComponentsSizes).call(c,this)()}},()=>{if(this.dirty){var c;qe(c=this._updateDomComponentsSizes).call(c,this)(a)}},qe(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return bt(l).call(l,u=>{c=u()}),c}}repositionY(){let e;const r=this.options.orientation.item;if(this.data.subgroup!==void 0){const i=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[i].height,"px"),r=="top"?this.dom.box.style.top="".concat(this.parent.top+this.parent.subgroups[i].top,"px"):this.dom.box.style.top="".concat(this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof Qbe?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=r=="bottom"?"0":"",this.dom.box.style.top=r=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(e,"px")}}Tp.prototype.baseClassName="vis-item vis-background";Tp.prototype.stack=!1;Tp.prototype.show=ap.prototype.show;Tp.prototype.hide=ap.prototype.hide;Tp.prototype.repositionX=ap.prototype.repositionX;class nct{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=eo(e),this.y=eo(r)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=te.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var r=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,a=0,l=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let c=!1,u=!0;this.overflowMethod=="flip"&&(this.y-r<this.padding&&(u=!1),this.x+i>o-this.padding&&(c=!0)),c?a=this.x-i:a=this.x,u?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}var Zre={},eie;function rct(){if(eie)return Zre;eie=1;var n=Ot(),e=rh().every,r=yb(),i=r("every");return n({target:"Array",proto:!0,forced:!i},{every:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),Zre}var yD,tie;function ict(){if(tie)return yD;tie=1,rct();var n=xr();return yD=n("Array","every"),yD}var vD,nie;function sct(){if(nie)return vD;nie=1;var n=Qn(),e=ict(),r=Array.prototype;return vD=function(i){var s=i.every;return i===r||n(r,i)&&s===r.every?e:s},vD}var wD,rie;function oct(){if(rie)return wD;rie=1;var n=sct();return wD=n,wD}var xD,iie;function act(){return iie||(iie=1,xD=oct()),xD}var lct=act(),cct=Lt(lct);class HE extends wb{constructor(e,r,i){const s=cu({},{fitOnDoubleClick:!0},i,{editable:!1});if(super(e,r,s),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=Mf(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const r=this.data.end?this.data.end-this.data.start:0,i=this.width*e.getMillisecondsPerPixel(),s=Math.max(this.data.start.getTime()+r,this.data.start.getTime()+i);return this.data.start<e.end&&s>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var r,i,s,o,a,l,c,u=[qe(r=this._createDomElement).call(r,this),qe(i=this._appendDomElement).call(i,this),qe(s=this._updateDirtyDomComponents).call(s,this),qe(o=function(){this.dirty&&(c=this._getDomComponentsSizes())}).call(o,this),qe(a=function(){if(this.dirty){var h;qe(h=this._updateDomComponentsSizes).call(h,this)(c)}}).call(a,this),qe(l=this._repaintDomAdditionals).call(l,this)];if(e)return u;var d;return bt(u).call(u,function(h){d=h()}),d}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),r=this.data.end?this.conversion.toScreen(this.data.end):0;if(r)this.repositionXWithRanges(e,r);else{let i=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,i)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,r))}repositionStype(e,r){this.dom.line.style.display="block",this.dom.dot.style.display="block";const i=this.dom.line.offsetWidth,s=this.dom.dot.offsetWidth;if(r){const o=i+e+(r-e)/2,a=o-s/2,l=this.options.rtl?o*-1:o,c=this.options.rtl?a*-1:a;this.dom.line.style.transform="translateX(".concat(l,"px)"),this.dom.dot.style.transform="translateX(".concat(c,"px)")}else{const o=this.options.rtl?e*-1:e,a=this.options.rtl?(e-s/2)*-1:e-s/2;this.dom.line.style.transform="translateX(".concat(o,"px)"),this.dom.dot.style.transform="translateX(".concat(a,"px)")}}repositionXWithoutRanges(e,r){r=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):r=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,r){let i=Math.round(Math.max(r-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(i,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=i+"px"}repositionY(){var e=this.options.orientation.item,r=this.dom.box;if(e=="top"?r.style.top=(this.top||0)+"px":r.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var i=this.parent.itemSet.props.height,s=i-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=i-s+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){var e;for(let r of this.data.uiItems)r.cluster=this;this.data.items=Tn(e=this.data.uiItems).call(e,r=>r.data),this.attached=!0,this.dirty=!0}detach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.hasItems()){for(let r of this.data.uiItems)delete r.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){var e,r,i;const s=Tn(e=this.data.uiItems).call(e,l=>({start:l.data.start.valueOf(),end:l.data.end?l.data.end.valueOf():l.data.start.valueOf()}));this.data.min=Math.min(...Tn(s).call(s,l=>Math.min(l.start,l.end||l.start))),this.data.max=Math.max(...Tn(s).call(s,l=>Math.max(l.start,l.end||l.start)));const o=Tn(r=this.data.uiItems).call(r,l=>l.center),a=zE(o).call(o,(l,c)=>l+c,0)/this.data.uiItems.length;rL(i=this.data.uiItems).call(i,l=>l.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(a),this.data.end=null)}_getUiItems(){if(this.data.uiItems&&this.data.uiItems.length){var e;return zt(e=this.data.uiItems).call(e,r=>r.cluster===this)}return[]}_createDomElement(){if(!this.dom){if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick){var e;this.dom.box.ondblclick=qe(e=HE.prototype._onDoubleClick).call(e,this)}this.dom.box["vis-item"]=this,this.dirty=!0}}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const i=this.parent.dom.foreground;if(!i)throw new Error("Cannot redraw item: parent has no foreground container element");i.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var r=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:r}=this._getFitRange(),i={start:new Date(e),end:new Date(r),animation:!0};this.emitter.emit("fit",i)}}_getItemData(){return this.data}}HE.prototype.baseClassName="vis-item vis-range vis-cluster";const uct="__ungrouped__",dct={UNGROUPED:uct};class hct{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,r,i){return new HE(e,r,i)}setItems(e,r){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,r&&r.applyOnChangedLevel&&(this.applyOnChangedLevel=r.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,r,i){let{maxItems:s,clusterCriteria:o}=typeof i=="boolean"?{}:i;o||(o=()=>!0),s=s||1;let a=-1,l=2,c=0;if(r>0){if(r>=1)return[];a=Math.abs(Math.round(Math.log(100/r)/Math.log(l))),c=Math.abs(Math.pow(l,a))}if(this.dataChanged){const d=a!=this.cacheLevel;(this.applyOnChangedLevel?d:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=a;let u=this.cache[a];if(!u){u=[];for(let d in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,d))continue;const h=this.groups[d],f=h.length;let p=0;for(;p<f;){let m=h[p],b=1,y=p-1;for(;y>=0&&m.center-h[y].center<c/2;)!h[y].cluster&&o(m.data,h[y].data)&&b++,y--;let v=p+1;for(;v<h.length&&h[v].center-m.center<c/2;)o(m.data,h[v].data)&&b++,v++;let w=u.length-1;for(;w>=0&&m.center-u[w].center<c;)m.group==u[w].group&&o(m.data,u[w].data)&&b++,w--;if(b>s){const _=b-s+1,x=[];let S=p;for(;x.length<_&&S<h.length;)o(h[p].data,h[S].data)&&x.push(h[S]),S++;const C=this.itemSet.getGroupId(m.data),E=this.itemSet.groups[C]||this.itemSet.groups[dct.UNGROUPED];let T=this._getClusterForItems(x,E,e,i);u.push(T),p+=_}else delete m.cluster,p+=1}}this.cache[a]=u}return u}_filterData(){const e={};this.groups=e;for(const i of jB(this.items)){const s=i.parent?i.parent.groupId:"";let o=e[s];o||(o=[],e[s]=o),o.push(i),i.data.start&&(i.data.end?i.center=(i.data.start.valueOf()+i.data.end.valueOf())/2:i.center=i.data.start.valueOf())}for(let i in e){var r;Object.prototype.hasOwnProperty.call(e,i)&&Ir(r=e[i]).call(r,(s,o)=>s.center-o.center)}this.dataChanged=!1}_getClusterForItems(e,r,i,s){var o;const a=Tn(o=i||[]).call(o,m=>{var b;return{cluster:m,itemsIds:new Fd(Tn(b=m.data.uiItems).call(b,y=>y.id))}});let l;if(a.length){for(let m of a)if(m.itemsIds.size===e.length&&cct(e).call(e,b=>m.itemsIds.has(b.id))){l=m.cluster;break}}if(l)return l.setUiItems(e),l.group!==r&&(l.group&&l.group.remove(l),r&&(r.add(l),l.group=r)),l;let c=s.titleTemplate||"";const u={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},d=c.replace(/{count}/,e.length),h='<div title="'+d+'">'+e.length+"</div>",f=cu({},s,this.itemSet.options),p={content:h,title:d,group:r,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return l=this.createClusterItem(p,u,f),r&&(r.add(l),l.group=r),l.attach(),l}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const sm="__ungrouped__",Wu="__background__";class lp extends oh{constructor(e,r){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(s,o){const a=o.order;o.order=s.order,s.order=a},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:op.snap,onDropObjectOnItem(s,o,a){a(o)},onAdd(s,o){o(s)},onUpdate(s,o){o(s)},onMove(s,o){o(s)},onRemove(s,o){o(s)},onMoving(s,o){o(s)},onAddGroup(s,o){o(s)},onMoveGroup(s,o){o(s)},onRemoveGroup(s,o){o(s)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=te.extend({},this.defaultOptions),this.options.rtl=r.rtl,this.options.onTimeout=r.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const i=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(s,o){i._onAdd(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},update(s,o){i._onUpdate(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},remove(s,o){i._onRemove(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()}},this.groupListeners={add(s,o,a){if(i._onAddGroups(o.items),i.groupsData&&i.groupsData.length>0){var l;const c=i.groupsData.getDataSet();bt(l=c.get()).call(l,u=>{if(u.nestedGroups){var d;u.showNested!=!1&&(u.showNested=!0);let h=[];bt(d=u.nestedGroups).call(d,f=>{const p=c.get(f);p&&(p.nestedInGroup=u.id,u.showNested==!1&&(p.visible=!1),h=Er(h).call(h,p))}),c.update(h,a)}})}},update(s,o){i._onUpdateGroups(o.items)},remove(s,o){i._onRemoveGroups(o.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(r),this.clusters=[]}_create(){var e,r,i,s,o,a,l,c,u,d,h,f,p,m,b;const y=document.createElement("div");y.className="vis-itemset",y["vis-itemset"]=this,this.dom.frame=y;const v=document.createElement("div");v.className="vis-background",y.appendChild(v),this.dom.background=v;const w=document.createElement("div");w.className="vis-foreground",y.appendChild(w),this.dom.foreground=w;const _=document.createElement("div");_.className="vis-axis",this.dom.axis=_;const x=document.createElement("div");x.className="vis-labelset",this.dom.labelSet=x,this._updateUngrouped();const S=new Qbe(Wu,null,this);S.show(),this.groups[Wu]=S,this.hammer=new Zi(this.body.dom.centerContainer),this.hammer.on("hammer.input",C=>{C.isFirst&&this._onTouch(C)}),this.hammer.on("panstart",qe(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",qe(r=this._onDrag).call(r,this)),this.hammer.on("panend",qe(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:Zi.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",qe(s=this._onSelectItem).call(s,this)),this.hammer.on("press",qe(o=this._onMultiSelectItem).call(o,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",qe(a=this._onAddItem).call(a,this)),this.options.rtl?this.groupHammer=new Zi(this.body.dom.rightContainer):this.groupHammer=new Zi(this.body.dom.leftContainer),this.groupHammer.on("tap",qe(l=this._onGroupClick).call(l,this)),this.groupHammer.on("panstart",qe(c=this._onGroupDragStart).call(c,this)),this.groupHammer.on("panmove",qe(u=this._onGroupDrag).call(u,this)),this.groupHammer.on("panend",qe(d=this._onGroupDragEnd).call(d,this)),this.groupHammer.get("pan").set({threshold:5,direction:Zi.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",qe(h=this._onMouseOver).call(h,this)),this.body.dom.centerContainer.addEventListener("mouseout",qe(f=this._onMouseOut).call(f,this)),this.body.dom.centerContainer.addEventListener("mousemove",qe(p=this._onMouseMove).call(p,this)),this.body.dom.centerContainer.addEventListener("contextmenu",qe(m=this._onDragEnd).call(m,this)),this.body.dom.centerContainer.addEventListener("mousewheel",qe(b=this._onMouseWheel).call(b,this)),this.show()}setOptions(e){if(e){var r,i;const s=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];te.selectiveExtend(s,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(te.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(te.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&te.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),bt(r=["locale","locales"]).call(r,a=>{a in e&&(this.options[a]=e[a])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&te.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&te.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const o=a=>{const l=e[a];if(l){if(typeof l!="function"){var c;throw new Error(Er(c="option ".concat(a," must be a function ")).call(c,a,"(item, callback)"))}this.options[a]=l}};bt(i=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(i,o),e.cluster?(cu(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new hct(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&bt(te).call(te,this.items,r=>{r.dirty=!0,r.displayed&&r.redraw()}),e.restackGroups&&bt(te).call(te,this.groups,(r,i)=>{i!==Wu&&(r.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const r=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=Bi(function(){e.show()},r)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){var r;e==null&&(e=[]),nn(e)||(e=[e]);const i=zt(r=this.selection).call(r,s=>jn(e).call(e,s)===-1);for(let s of i){const o=this.getItemById(s);o&&o.unselect()}this.selection=[...e];for(let s of e){const o=this.getItemById(s);o&&o.select()}}getSelection(){var e;return Er(e=this.selection).call(e,[])}getVisibleItems(){const e=this.body.range.getRange();let r,i;this.options.rtl?(r=this.body.util.toScreen(e.start),i=this.body.util.toScreen(e.end)):(i=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end));const s=[];for(const o in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,o))continue;const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const c of l)this.options.rtl?c.right<i&&c.right+c.width>r&&s.push(c.id):c.left<r&&c.left+c.width>i&&s.push(c.id)}return s}getItemsAtCurrentTime(e){let r,i;this.options.rtl?(r=this.body.util.toScreen(e),i=this.body.util.toScreen(e)):(i=this.body.util.toScreen(e),r=this.body.util.toScreen(e));const s=[];for(const o in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,o))continue;const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const c of l)this.options.rtl?c.right<i&&c.right+c.width>r&&s.push(c.id):c.left<r&&c.left+c.width>i&&s.push(c.id)}return s}getVisibleGroups(){const e=[];for(const r in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,r))continue;this.groups[r].isVisible&&e.push(r)}return e}getItemById(e){var r;return this.items[e]||qlt(r=this.clusters).call(r,i=>i.id===e)}_deselect(e){const r=this.selection;for(let i=0,s=r.length;i<s;i++)if(r[i]==e){es(r).call(r,i,1);break}}redraw(){const e=this.options.margin,r=this.body.range,i=te.option.asSize,s=this.options,o=s.orientation.item;let a=!1;const l=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,l.className="vis-itemset",this.options.cluster&&this._clusterItems(),a=this._orderGroups()||a;const c=r.end-r.start,u=c!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,d=r.start!=this.lastRangeStart,h=s.stack!=this.lastStack,f=s.stackSubgroups!=this.lastStackSubgroups,p=u||d||h||f;this.lastVisibleInterval=c,this.lastRangeStart=r.start,this.lastStack=s.stack,this.lastStackSubgroups=s.stackSubgroups,this.props.lastWidth=this.props.width;const m=this._firstGroup(),b={item:e.item,axis:e.axis},y={item:e.item,axis:e.item.vertical/2};let v=0;const w=e.axis+e.item.vertical;this.groups[Wu].redraw(r,y,p);const _={};let x=0;if(bt(te).call(te,this.groups,(C,E)=>{if(E===Wu)return;const T=C==m?b:y,M=!0;_[E]=C.redraw(r,T,p,M),x=_[E].length}),x>0){const C={};for(let E=0;E<x;E++)bt(te).call(te,_,(T,M)=>{C[M]=T[E]()});bt(te).call(te,this.groups,(E,T)=>{if(T===Wu)return;a=C[T]||a,v+=E.height}),v=Math.max(v,w)}return v=Math.max(v,w),l.style.height=i(v),this.props.width=l.offsetWidth,this.props.height=v,this.dom.axis.style.top=i(o=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,a=this._isResized()||a,a}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,r=this.groupIds[e];return this.groups[r]||this.groups[sm]||null}_updateUngrouped(){let e=this.groups[sm],r,i;if(this.groupsData){if(e){e.dispose(),delete this.groups[sm];for(i in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,i))continue;r=this.items[i],r.parent&&r.parent.remove(r);const s=this.getGroupId(r.data),o=this.groups[s];o&&o.add(r)||r.hide()}}}else if(!e){e=new uN(null,null,this),this.groups[sm]=e;for(i in this.items)Object.prototype.hasOwnProperty.call(this.items,i)&&(r=this.items[i],e.add(r));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const r=this;let i;const s=this.itemsData;if(!e)this.itemsData=null;else if(uu(e))this.itemsData=R0(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(s&&(bt(te).call(te,this.itemListeners,(o,a)=>{s.off(a,o)}),s.dispose(),i=s.getIds(),this._onRemove(i)),this.itemsData){const o=this.id;bt(te).call(te,this.itemListeners,(a,l)=>{r.itemsData.on(l,a,o)}),i=this.itemsData.getIds(),this._onAdd(i),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const r=this;let i;if(this.groupsData&&(bt(te).call(te,this.groupListeners,(o,a)=>{r.groupsData.off(a,o)}),i=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(i)),!e)this.groupsData=null;else if(uu(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var s;const o=this.groupsData.getDataSet();bt(s=o.get()).call(s,l=>{if(l.nestedGroups){var c;bt(c=l.nestedGroups).call(c,u=>{const d=o.get(u);d.nestedInGroup=l.id,l.showNested==!1&&(d.visible=!1),o.update(d)})}});const a=this.id;bt(te).call(te,this.groupListeners,(l,c)=>{r.groupsData.on(c,l,a)}),i=this.groupsData.getIds(),this._onAddGroups(i)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const r=this.itemsData.get(e);r&&this.options.onRemove(r,i=>{i&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?Wu:this.groupsData?e.group:sm}_onUpdate(e){const r=this;bt(e).call(e,i=>{const s=r.itemsData.get(i);let o=r.items[i];const a=s?r._getType(s):null,l=lp.types[a];let c;if(o&&(!l||!(o instanceof l)?(c=o.selected,r._removeItem(o),o=null):r._updateItem(o,s)),!o&&s)if(l)o=new l(s,r.conversion,r.options),o.id=i,r._addItem(o),c&&(this.selection.push(i),o.select());else throw new TypeError('Unknown item type "'.concat(a,'"'))}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let r=0;const i=this;bt(e).call(e,s=>{const o=i.items[s];o&&(r++,i._removeItem(o))}),r&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){bt(te).call(te,this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const r=this;bt(e).call(e,i=>{const s=r.groupsData.get(i);let o=r.groups[i];if(o)o.setData(s);else{if(i==sm||i==Wu)throw new Error("Illegal group id. ".concat(i," is a reserved id."));const a=Vx(r.options);te.extend(a,{height:null}),o=new uN(i,s,r),r.groups[i]=o;for(const l in r.items){if(!Object.prototype.hasOwnProperty.call(r.items,l))continue;const c=r.items[l];c.data.group==i&&o.add(c)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){bt(e).call(e,r=>{const i=this.groups[r];i&&(i.dispose(),delete this.groups[r])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const r=!te.equalArray(e,this.groupIds);if(r){const i=this.groups;bt(e).call(e,s=>{i[s].hide()}),bt(e).call(e,s=>{i[s].show()}),this.groupIds=e}return r}else return!1}_orderNestedGroups(e){function r(s,o){let a=[];return bt(o).call(o,l=>{if(a.push(l),s.groupsData.get(l).nestedGroups){var u;const d=Tn(u=s.groupsData.get({filter(h){return h.nestedInGroup==l},order:s.options.groupOrder})).call(u,h=>h.id);a=Er(a).call(a,r(s,d))}}),a}const i=zt(e).call(e,s=>!this.groupsData.get(s).nestedInGroup);return r(this,i)}_addItem(e){this.items[e.id]=e;const r=this.getGroupId(e.data),i=this.groups[r];i?i&&i.data&&i.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,i&&i.add(e)}_updateItem(e,r){e.setData(r);const i=this.getGroupId(e.data),s=this.groups[i];s?s&&s.data&&s.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){var r,i;e.hide(),delete this.items[e.id];const s=jn(r=this.selection).call(r,e.id);s!=-1&&es(i=this.selection).call(i,s,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const r=[];for(let i=0;i<e.length;i++)e[i]instanceof ap&&r.push(e[i]);return r}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let r=0;r<this.groupIds.length;r++)if(e==this.groupIds[r])return r}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const r=this.touchParams.item||null,i=this;let s;if(r&&(r.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||r.editable!=null&&!r.editable.updateTime&&!r.editable.updateGroup&&!this.options.editable.overrideItems)return;const o=this.touchParams.dragLeftItem,a=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=r,o)s={item:o,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(r.data)},this.touchParams.itemProps=[s];else if(a)s={item:a,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(r.data)},this.touchParams.itemProps=[s];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const l=this._getGroupIndex(r.data.group),c=this.options.itemsAlwaysDraggable.item&&!r.selected?[r.id]:this.getSelection();this.touchParams.itemProps=Tn(c).call(c,u=>{const d=i.items[u],h=i._getGroupIndex(d.data.group);return{item:d,initialX:e.center.x,groupOffset:l-h,data:this._cloneItemData(d.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const r=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?i.right-e.center.x+10:e.center.x-i.left-10,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep(),c=r?r(o,a,l):o,d={type:"range",start:c,end:c,content:"new item"},h=Mf();d[this.itemsData.idProp]=h;const f=this.groupFromTarget(e);f&&(d.group=f.groupId);const p=new ap(d,this.conversion,this.options);p.id=h,p.data=this._cloneItemData(d),this._addItem(p),this.touchParams.selectedItem=p;const m={item:p,initialX:e.center.x,data:p.data};this.options.rtl?m.dragLeft=!0:m.dragRight=!0,this.touchParams.itemProps=[m],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const i=this.body.dom.centerContainer,s=i.getBoundingClientRect();this.popup.setPosition(e.center.x-s.left+i.offsetLeft,e.center.y-s.top+i.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var r;e.stopPropagation();const i=this,s=this.options.snap||null,o=this.body.dom.root.offsetLeft,a=this.options.rtl?o+this.body.domProps.right.width:o+this.body.domProps.left.width,l=this.body.util.getScale(),c=this.body.util.getStep(),u=this.touchParams.selectedItem,d=(this.options.editable.overrideItems||u.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&u.editable!=null&&u.editable.updateGroup;let h=null;if(d&&u&&u.data.group!=null){const f=i.groupFromTarget(e);f&&(h=this._getGroupIndex(f.groupId))}bt(r=this.touchParams.itemProps).call(r,f=>{const p=i.body.util.toTime(e.center.x-a),m=i.body.util.toTime(f.initialX-a);let b,y,v,w,_;this.options.rtl?b=-(p-m):b=p-m;let x=this._cloneItemData(f.item.data);if(f.item.editable!=null&&!f.item.editable.updateTime&&!f.item.editable.updateGroup&&!i.options.editable.overrideItems)return;if((this.options.editable.overrideItems||u.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&u.editable!=null&&u.editable.updateTime){if(f.dragLeft)this.options.rtl?x.end!=null&&(v=te.convert(f.data.end,"Date"),_=new Date(v.valueOf()+b),x.end=s?s(_,l,c):_):x.start!=null&&(y=te.convert(f.data.start,"Date"),w=new Date(y.valueOf()+b),x.start=s?s(w,l,c):w);else if(f.dragRight)this.options.rtl?x.start!=null&&(y=te.convert(f.data.start,"Date"),w=new Date(y.valueOf()+b),x.start=s?s(w,l,c):w):x.end!=null&&(v=te.convert(f.data.end,"Date"),_=new Date(v.valueOf()+b),x.end=s?s(_,l,c):_);else if(x.start!=null)if(y=te.convert(f.data.start,"Date").valueOf(),w=new Date(y+b),x.end!=null){v=te.convert(f.data.end,"Date");const C=v.valueOf()-y.valueOf();x.start=s?s(w,l,c):w,x.end=new Date(x.start.valueOf()+C)}else x.start=s?s(w,l,c):w}if(d&&!f.dragLeft&&!f.dragRight&&h!=null&&x.group!=null){let C=h-f.groupOffset;C=Math.max(0,C),C=Math.min(i.groupIds.length-1,C),x.group=i.groupIds[C]}x=this._cloneItemData(x),i.options.onMoving(x,C=>{C&&f.item.setData(this._cloneItemData(C,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,r){const i=this.groups[r];if(i&&i.groupId!=e.data.group){const s=e.parent;s.remove(e),s.order(),e.data.group=i.groupId,i.add(e),i.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const r=this,i=this.touchParams.itemProps;this.touchParams.itemProps=null,bt(i).call(i,s=>{const o=s.item.id;if(!(r.itemsData.get(o)!=null))r.options.onAdd(s.item.data,l=>{r._removeItem(s.item),l&&r.itemsData.add(l),r.body.emitter.emit("_change")});else{const l=this._cloneItemData(s.item.data);r.options.onMove(l,c=>{c?(c[this.itemsData.idProp]=o,this.itemsData.update(c)):(s.item.setData(s.data),r.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const r=this.groupFromTarget(e);Bi(()=>{this.toggleGroupShowNested(r)},1)}toggleGroupShowNested(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(!e||!e.nestedGroups)return;const i=this.groupsData.getDataSet();r!=null?e.showNested=!!r:e.showNested=!e.showNested;let s=i.get(e.groupId);s.showNested=e.showNested;let o=e.nestedGroups,a=o;for(;a.length>0;){let d=a;a=[];for(let h=0;h<d.length;h++){let f=i.get(d[h]);f.nestedGroups&&(a=Er(a).call(a,f.nestedGroups))}a.length>0&&(o=Er(o).call(o,a))}var l;if(s.showNested){var c=i.get(s.nestedGroups);for(let d=0;d<c.length;d++){let h=c[d];h.nestedGroups&&h.nestedGroups.length>0&&(h.showNested==null||h.showNested==!0)&&c.push(...i.get(h.nestedGroups))}l=Tn(c).call(c,function(d){return d.visible==null&&(d.visible=!0),d.visible=!!s.showNested,d})}else{var u;l=Tn(u=i.get(o)).call(u,function(d){return d.visible==null&&(d.visible=!0),d.visible=!!s.showNested,d})}i.update(Er(l).call(l,s)),s.showNested?(te.removeClassName(e.dom.label,"collapsed"),te.addClassName(e.dom.label,"expanded")):(te.removeClassName(e.dom.label,"expanded"),te.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const r=this.groupsData.getDataSet(),i=this.groupFromTarget(e);if(i&&i.height!=this.groupTouchParams.group.height){const s=i.top<this.groupTouchParams.group.top,o=e.center?e.center.y:e.clientY,a=i.dom.foreground.getBoundingClientRect(),l=this.groupTouchParams.group.height;if(s){if(a.top+l<o)return}else{const c=i.height;if(a.top+c-l>o)return}}if(i&&i!=this.groupTouchParams.group){const s=r.get(i.groupId),o=r.get(this.groupTouchParams.group.groupId);o&&s&&(this.options.groupOrderSwap(o,s,r),r.update(o),r.update(s));const a=r.getIds({order:this.options.groupOrder});if(!te.equalArray(a,this.groupTouchParams.originalOrder)){const l=this.groupTouchParams.originalOrder,c=this.groupTouchParams.group.groupId,u=Math.min(l.length,a.length);let d=0,h=0,f=0;for(;d<u;){for(;d+h<u&&d+f<u&&a[d+h]==l[d+f];)d++;if(d+h>=u)break;if(a[d+h]==c)h=1;else if(l[d+f]==c)f=1;else{const p=jn(a).call(a,l[d+f]),m=r.get(a[d+h]),b=r.get(l[d+f]);this.options.groupOrderSwap(m,b,r),r.update(m),r.update(b);const y=a[d+h];a[d+h]=l[d+f],a[p]=y,d++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const r=this,i=r.groupTouchParams.group.groupId,s=r.groupsData.getDataSet(),o=te.extend({},s.get(i));r.options.onMoveGroup(o,a=>{if(a)a[s._idProp]=i,s.update(a);else{const l=s.getIds({order:r.options.groupOrder});if(!te.equalArray(l,r.groupTouchParams.originalOrder)){const c=r.groupTouchParams.originalOrder,u=Math.min(c.length,l.length);let d=0;for(;d<u;){for(;d<u&&l[d]==c[d];)d++;if(d>=u)break;const h=jn(l).call(l,c[d]),f=s.get(l[d]),p=s.get(c[d]);r.options.groupOrderSwap(f,p,s),s.update(f),s.update(p);const m=l[d];l[d]=c[d],l[h]=m,d++}}}}),r.body.emitter.emit("groupDragged",{groupId:i}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const r=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),i=e.srcEvent&&e.srcEvent.shiftKey;if(r||i){this._onMultiSelectItem(e);return}const s=this.getSelection(),o=this.itemFromTarget(e),a=o&&o.selectable?[o.id]:[];this.setSelection(a);const l=this.getSelection();(l.length>0||s.length>0)&&this.body.emitter.emit("select",{items:l,event:e})}_onMouseOver(e){const r=this.itemFromTarget(e);if(!r)return;const i=this.itemFromRelatedTarget(e);if(r===i)return;const s=r.getTitle();if(this.options.showTooltips&&s){this.popup==null&&(this.popup=new nct(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(s);const o=this.body.dom.centerContainer,a=o.getBoundingClientRect();this.popup.setPosition(e.clientX-a.left+o.offsetLeft,e.clientY-a.top+o.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:r.id,event:e})}_onMouseOut(e){const r=this.itemFromTarget(e);if(!r)return;const i=this.itemFromRelatedTarget(e);r!==i&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:r.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const i=this.body.dom.centerContainer,s=i.getBoundingClientRect();this.popup.setPosition(e.clientX-s.left+i.offsetLeft,e.clientY-s.top+i.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const r=this;if(e){const i=r.itemsData.get(e.id);this.options.onUpdate(i,s=>{s&&r.itemsData.update(s)})}}_onDropObjectOnItem(e){const r=this.itemFromTarget(e),i=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,r)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const r=this,i=this.options.snap||null,s=this.dom.frame.getBoundingClientRect(),o=this.options.rtl?s.right-e.center.x:e.center.x-s.left,a=this.body.util.toTime(o),l=this.body.util.getScale(),c=this.body.util.getStep();let u,d;e.type=="drop"?(d=JSON.parse(e.dataTransfer.getData("text")),d.content=d.content?d.content:"new item",d.start=d.start?d.start:i?i(a,l,c):a,d.type=d.type||"box",d[this.itemsData.idProp]=d.id||Mf(),d.type=="range"&&!d.end&&(u=this.body.util.toTime(o+this.props.width/5),d.end=i?i(u,l,c):u)):(d={start:i?i(a,l,c):a,content:"new item"},d[this.itemsData.idProp]=Mf(),this.options.type==="range"&&(u=this.body.util.toTime(o+this.props.width/5),d.end=i?i(u,l,c):u));const h=this.groupFromTarget(e);h&&(d.group=h.groupId),d=this._cloneItemData(d),this.options.onAdd(d,f=>{f&&(r.itemsData.add(f),e.type=="drop"&&r.setSelection([f.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const r=this.itemFromTarget(e);if(r){let i=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const a=this.itemsData.get(r.id).group;let l;this.options.multiselectPerGroup&&i.length>0&&(l=this.itemsData.get(i[0]).group),(!this.options.multiselectPerGroup||l==null||l==a)&&i.push(r.id);const c=lp._getItemRange(this.itemsData.get(i));if(!this.options.multiselectPerGroup||l==a){i=[];for(const u in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,u))continue;const d=this.items[u],h=d.data.start,f=d.data.end!==void 0?d.data.end:h;h>=c.min&&f<=c.max&&(!this.options.multiselectPerGroup||l==this.itemsData.get(d.id).group)&&!(d instanceof Tp)&&i.push(d.id)}}}else{const a=jn(i).call(i,r.id);a==-1?i.push(r.id):es(i).call(i,a,1)}const o=zt(i).call(i,a=>this.getItemById(a).selectable);this.setSelection(o),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let r=null,i=null;return bt(e).call(e,s=>{(i==null||s.start<i)&&(i=s.start),s.end!=null?(r==null||s.end>r)&&(r=s.end):(r==null||s.start>r)&&(r=s.start)}),{min:i,max:r}}itemFromElement(e){let r=e;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"vis-item"))return r["vis-item"];r=r.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const r=e.center?e.center.y:e.clientY;let i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(let s=0;s<i.length;s++){const o=i[s],a=this.groups[o],l=a.dom.foreground,c=l.getBoundingClientRect();if(r>=c.top&&r<c.top+l.offsetHeight)return a;if(this.options.orientation.item==="top"){if(s===this.groupIds.length-1&&r>c.top)return a}else if(s===0&&r<c.top+l.offset)return a}return null}static itemSetFromTarget(e){let r=e.target;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"vis-itemset"))return r["vis-itemset"];r=r.parentNode}return null}_cloneItemData(e,r){const i=te.extend({},e);return r||(r=this.itemsData.type),i.start!=null&&(i.start=te.convert(i.start,r&&r.start||"Date")),i.end!=null&&(i.end=te.convert(i.end,r&&r.end||"Date")),i}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),r=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=r){if(this._detachAllClusters(),r){for(let i of r)i.attach();this.clusters=r}this._updateClusters(r)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){var r;const o=new Fd(Tn(e).call(e,c=>c.id)),a=zt(r=this.clusters).call(r,c=>!o.has(c.id));let l=!1;for(let c of a){var i;const u=jn(i=this.selection).call(i,c.id);if(u!==-1){var s;c.unselect(),es(s=this.selection).call(s,u,1),l=!0}}if(l){const c=this.getSelection();this.body.emitter.emit("select",{items:c,event})}}this.clusters=e||[]}}lp.types={background:Tp,box:ect,range:ap,point:tct};lp.prototype._onAdd=lp.prototype._onUpdate;let sy=!1,sie,A2="background: #FFeeee; color: #dd0000";class nr{constructor(){}static validate(e,r,i){sy=!1,sie=r;let s=r;return i!==void 0&&(s=r[i]),nr.parse(e,s,[]),sy}static parse(e,r,i){for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&nr.check(s,e,r,i)}static check(e,r,i,s){if(i[e]===void 0&&i.__any__===void 0){nr.getSuggestion(e,i,s);return}let o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=nr.getType(r[e])==="object");let l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),nr.checkFields(e,r,i,o,l,s)}static checkFields(e,r,i,s,o,a){let l=function(d){console.log("%c"+d+nr.printLocation(a,e),A2)},c=nr.getType(r[e]),u=o[c];u!==void 0?nr.getType(u)==="array"&&jn(u).call(u,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+nr.print(u)+' not "'+r[e]+'". '),sy=!0):c==="object"&&s!=="__any__"&&(a=te.copyAndExtendArray(a,e),nr.parse(r[e],i[s],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+nr.print(Vr(o))+". Received ["+c+'] "'+r[e]+'"'),sy=!0)}static getType(e){var r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":nn(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){let s=nr.findInOptions(e,r,i,!1),o=nr.findInOptions(e,sie,[],!0),a=8,l=4,c;s.indexMatch!==void 0?c=" in "+nr.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:o.distance<=l&&s.distance>o.distance?c=" in "+nr.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+nr.printLocation(o.path,o.closestMatch,""):s.distance<=a?c='. Did you mean "'+s.closestMatch+'"?'+nr.printLocation(s.path,e):c=". Did you mean one of these: "+nr.print(Vr(r))+nr.printLocation(i,e),console.log('%cUnknown option detected: "'+e+'"'+c,A2),sy=!0}static findInOptions(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,a="",l=[],c=e.toLowerCase(),u;for(let h in r){if(!Object.prototype.hasOwnProperty.call(r,h))continue;let f;if(r[h].__type__!==void 0&&s===!0){let p=nr.findInOptions(e,r[h],te.copyAndExtendArray(i,h));o>p.distance&&(a=p.closestMatch,l=p.path,o=p.distance,u=p.indexMatch)}else{var d;jn(d=h.toLowerCase()).call(d,c)!==-1&&(u=h),f=nr.levenshteinDistance(e,h),o>f&&(a=h,l=te.copyArray(i),o=f)}}return{closestMatch:a,path:l,distance:o,indexMatch:u}}static printLocation(e,r){let s=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)s+="  ";s+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)s+="  ";s+=r+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)s+="  ";s+=`}
`}return s+`

`}static print(e){return ks(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;var i=[],s;for(s=0;s<=r.length;s++)i[s]=[s];var o;for(o=0;o<=e.length;o++)i[0][o]=o;for(s=1;s<=r.length;s++)for(o=1;o<=e.length;o++)r.charAt(s-1)==e.charAt(o-1)?i[s][o]=i[s-1][o-1]:i[s][o]=Math.min(i[s-1][o-1]+1,Math.min(i[s][o-1]+1,i[s-1][o]+1));return i[r.length][e.length]}}let Gt="string",Vt="boolean",zn="number",oie="array",om="date",kr="object",fct="dom",am="moment",aie="any",pct={configure:{enabled:{boolean:Vt},filter:{boolean:Vt,function:"function"},container:{dom:fct},__type__:{object:kr,boolean:Vt,function:"function"}},align:{string:Gt},alignCurrentTime:{string:Gt,undefined:"undefined"},rtl:{boolean:Vt,undefined:"undefined"},rollingMode:{follow:{boolean:Vt},offset:{number:zn,undefined:"undefined"},__type__:{object:kr}},onTimeout:{timeoutMs:{number:zn},callback:{function:"function"},__type__:{object:kr}},verticalScroll:{boolean:Vt,undefined:"undefined"},horizontalScroll:{boolean:Vt,undefined:"undefined"},horizontalScrollKey:{string:Gt,undefined:"undefined"},horizontalScrollInvert:{boolean:Vt,undefined:"undefined"},autoResize:{boolean:Vt},throttleRedraw:{number:zn},clickToUse:{boolean:Vt},dataAttributes:{string:Gt,array:oie},editable:{add:{boolean:Vt,undefined:"undefined"},remove:{boolean:Vt,undefined:"undefined"},updateGroup:{boolean:Vt,undefined:"undefined"},updateTime:{boolean:Vt,undefined:"undefined"},overrideItems:{boolean:Vt,undefined:"undefined"},__type__:{boolean:Vt,object:kr}},end:{number:zn,date:om,string:Gt,moment:am},format:{minorLabels:{millisecond:{string:Gt,undefined:"undefined"},second:{string:Gt,undefined:"undefined"},minute:{string:Gt,undefined:"undefined"},hour:{string:Gt,undefined:"undefined"},weekday:{string:Gt,undefined:"undefined"},day:{string:Gt,undefined:"undefined"},week:{string:Gt,undefined:"undefined"},month:{string:Gt,undefined:"undefined"},year:{string:Gt,undefined:"undefined"},__type__:{object:kr,function:"function"}},majorLabels:{millisecond:{string:Gt,undefined:"undefined"},second:{string:Gt,undefined:"undefined"},minute:{string:Gt,undefined:"undefined"},hour:{string:Gt,undefined:"undefined"},weekday:{string:Gt,undefined:"undefined"},day:{string:Gt,undefined:"undefined"},week:{string:Gt,undefined:"undefined"},month:{string:Gt,undefined:"undefined"},year:{string:Gt,undefined:"undefined"},__type__:{object:kr,function:"function"}},__type__:{object:kr}},moment:{function:"function"},groupHeightMode:{string:Gt},groupOrder:{string:Gt,function:"function"},groupEditable:{add:{boolean:Vt,undefined:"undefined"},remove:{boolean:Vt,undefined:"undefined"},order:{boolean:Vt,undefined:"undefined"},__type__:{boolean:Vt,object:kr}},groupOrderSwap:{function:"function"},height:{string:Gt,number:zn},hiddenDates:{start:{date:om,number:zn,string:Gt,moment:am},end:{date:om,number:zn,string:Gt,moment:am},repeat:{string:Gt},__type__:{object:kr,array:oie}},itemsAlwaysDraggable:{item:{boolean:Vt,undefined:"undefined"},range:{boolean:Vt,undefined:"undefined"},__type__:{boolean:Vt,object:kr}},limitSize:{boolean:Vt},locale:{string:Gt},locales:{__any__:{any:aie},__type__:{object:kr}},longSelectPressTime:{number:zn},margin:{axis:{number:zn},item:{horizontal:{number:zn,undefined:"undefined"},vertical:{number:zn,undefined:"undefined"},__type__:{object:kr,number:zn}},__type__:{object:kr,number:zn}},max:{date:om,number:zn,string:Gt,moment:am},maxHeight:{number:zn,string:Gt},maxMinorChars:{number:zn},min:{date:om,number:zn,string:Gt,moment:am},minHeight:{number:zn,string:Gt},moveable:{boolean:Vt},multiselect:{boolean:Vt},multiselectPerGroup:{boolean:Vt},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:Gt,undefined:"undefined"},item:{string:Gt,undefined:"undefined"},__type__:{string:Gt,object:kr}},selectable:{boolean:Vt},sequentialSelection:{boolean:Vt},showCurrentTime:{boolean:Vt},showMajorLabels:{boolean:Vt},showMinorLabels:{boolean:Vt},showWeekScale:{boolean:Vt},stack:{boolean:Vt},stackSubgroups:{boolean:Vt},cluster:{maxItems:{number:zn,undefined:"undefined"},titleTemplate:{string:Gt,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:Vt,undefined:"undefined"},fitOnDoubleClick:{boolean:Vt,undefined:"undefined"},__type__:{boolean:Vt,object:kr}},snap:{function:"function",null:"null"},start:{date:om,number:zn,string:Gt,moment:am},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:Gt,function:"function"},showTooltips:{boolean:Vt},tooltip:{followMouse:{boolean:Vt},overflowMethod:{string:["cap","flip","none"]},delay:{number:zn},template:{function:"function"},__type__:{object:kr}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:Vt,object:kr}},timeAxis:{scale:{string:Gt,undefined:"undefined"},step:{number:zn,undefined:"undefined"},__type__:{object:kr}},type:{string:Gt},width:{string:Gt,number:zn},preferZoom:{boolean:Vt},zoomable:{boolean:Vt},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:zn},zoomMax:{number:zn},zoomMin:{number:zn},xss:{disabled:{boolean:Vt},filterOptions:{__any__:{any:aie},__type__:{object:kr}},__type__:{object:kr}},__type__:{object:kr}},mct={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var gct={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class bct{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return gct[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;var s=this._isColorString(e);if(s!==void 0&&(e=s),te.isString(e)===!0){if(te.isValidRGB(e)===!0){let o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(te.isValidRGBA(e)===!0){let o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(te.isValidHex(e)===!0){let o=te.hexToRGB(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ks(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=te.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=te.extend({},e)),this.color=e;let i=te.RGBToHSV(e.r,e.g,e.b),s=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(s*i.h),l=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let r=te.RGBToHSV(this.color.r,this.color.g,this.color.b);r.v=e/100;let i=te.HSVToRGB(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,r=te.RGBToHSV(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),z0e(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=qe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=qe(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=qe(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=qe(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Zi(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),zbe(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let s,o,a,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;let c=2*Math.PI/360,u=1/360,d=1/this.r,h;for(a=0;a<360;a++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(c*a),o=this.centerCoordinates.y+l*Math.cos(c*a),h=te.HSVToRGB(a*u,l*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(s-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){let r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,s=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=s-o,u=Math.atan2(l,c),d=.98*Math.min(Math.sqrt(l*l+c*c),a),h=Math.cos(u)*d+o,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;let m=d/this.r,b=te.RGBToHSV(this.color.r,this.color.g,this.color.b);b.h=p,b.s=m;let y=te.HSVToRGB(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class Jbe{constructor(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},te.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new bct(s),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(nn(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),zt(e)!==void 0&&(this.options.filter=zt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);zt(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=zt(this.options),r=0,i=!1;for(let s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(s,[]),i=i||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||jn(e).call(e,s)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){let o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return bt(i).call(i,a=>{o.appendChild(a)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){let r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerHTML=te.xss(e),this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=document.createElement("div");return s.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0?s.innerHTML=te.xss("<i><b>"+e+":</b></i>"):s.innerHTML=te.xss(e+":"),s}_makeDropdown(e,r,i){let s=document.createElement("select");s.className="vis-configuration vis-config-select";let o=0;r!==void 0&&jn(e).call(e,r)!==-1&&(o=jn(e).call(e,r));for(let c=0;c<e.length;c++){let u=document.createElement("option");u.value=e[c],c===o&&(u.selected="selected"),u.innerHTML=e[c],s.appendChild(u)}let a=this;s.onchange=function(){a._update(this.value,i)};let l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_makeRange(e,r,i){let s=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch{}c.step=l;let u="",d=0;if(r!==void 0){let b=1.2;r<0&&r*b<o?(c.min=Math.ceil(r*b),d=c.min,u="range increased"):r/b<o&&(c.min=Math.ceil(r/b),d=c.min,u="range increased"),r*b>a&&a!==1&&(c.max=Math.ceil(r*b),d=c.max,u="range increased"),c.value=r}else c.value=s;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(c.value);var f=this;c.onchange=function(){h.value=this.value,f._update(Number(this.value),i)},c.oninput=function(){h.value=this.value};let p=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,p,c,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=te.xss(e),i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){var s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));let o=this;s.onchange=function(){o._update(this.checked,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeTextInput(e,r,i){var s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:i,value:r});let o=this;s.onchange=function(){o._update(this.value,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeColorField(e,r,i){let s=e[1],o=document.createElement("div");r=r===void 0?s:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?s:r,o.onclick=()=>{this._showColorPicker(r,o,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(s=>{let o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1,o=zt(this.options),a=!1;for(let l in e){if(!Object.prototype.hasOwnProperty.call(e,l))continue;s=!0;let c=e[l],u=te.copyAndExtendArray(r,l);if(typeof o=="function"&&(s=o(l,r),s===!1&&!nn(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,s=this._handleObject(c,u,!0),this.allowCreation=i===!1)),s!==!1){a=!0;let d=this._getValue(u);if(nn(c))this._handleArray(c,d,u);else if(typeof c=="string")this._makeTextInput(c,d,u);else if(typeof c=="boolean")this._makeCheckbox(c,d,u);else if(c instanceof Object){let h=!0;if(jn(r).call(r,"physics")!==-1&&this.moduleOptions.physics.solver!==l&&(h=!1),h===!0)if(c.enabled!==void 0){let f=te.copyAndExtendArray(u,"enabled"),p=this._getValue(f);if(p===!0){let m=this._makeLabel(l,u,!0);this._makeItem(u,m),a=this._handleObject(c,u)||a}else this._makeCheckbox(c,p,u)}else{let f=this._makeLabel(l,u,!0);this._makeItem(u,f),a=this._handleObject(c,u)||a}}else console.error("dont know how to handle",c,l,u)}}return a}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){let i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(s[r[o]]===void 0&&(s[r[o]]={}),o!==r.length-1?s=s[r[o]]:s[r[o]]=e);return i}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+ks(e,null,2)+"</pre>"}getOptions(){let e={};for(var r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}}class mL extends ug{constructor(e,r,i,s){var o,a,l,c,u,d,h;if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof mL))throw new SyntaxError("Constructor must be called with the new operator");if(!(nn(i)||uu(i))&&i instanceof Object){const y=s;s=i,i=y}s&&s.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const f=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:ts},this.options=te.deepExtend({},this.defaultOptions),s&&te.setupXSSProtection(s.xss),this._create(e),!s||s&&typeof s.rtl>"u"){this.dom.root.style.visibility="hidden";let y,v=this.dom.root;for(;!y&&v;)y=window.getComputedStyle(v,null).direction,v=v.parentElement;this.options.rtl=y&&y.toLowerCase()=="rtl"}else this.options.rtl=s.rtl;s&&(s.rollingMode&&(this.options.rollingMode=s.rollingMode),s.onInitialDrawComplete&&(this.options.onInitialDrawComplete=s.onInitialDrawComplete),s.onTimeout&&(this.options.onTimeout=s.onTimeout),s.loadingScreenTemplate&&(this.options.loadingScreenTemplate=s.loadingScreenTemplate));const p=document.createElement("div");if(this.options.loadingScreenTemplate){var m;const y=qe(m=this.options.loadingScreenTemplate).call(m,this),v=y(this.dom.loadingScreen);v instanceof Object&&!(v instanceof Element)?y(p):v instanceof Element?(p.innerHTML="",p.appendChild(v)):v!=null&&(p.innerHTML=te.xss(v))}this.dom.loadingScreen.appendChild(p),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:qe(o=this.on).call(o,this),off:qe(a=this.off).call(a,this),emit:qe(l=this.emit).call(l,this)},hiddenDates:[],util:{getScale(){return f.timeAxis.step.scale},getStep(){return f.timeAxis.step.step},toScreen:qe(c=f._toScreen).call(c,f),toGlobalScreen:qe(u=f._toGlobalScreen).call(u,f),toTime:qe(d=f._toTime).call(d,f),toGlobalTime:qe(h=f._toGlobalTime).call(h,f)}},this.range=new WE(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new E2(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new Xbe(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new lp(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null;function b(y,v){f.hasListeners(y)&&f.emit(y,f.getEventProperties(v))}this.dom.root.onclick=y=>b("click",y),this.dom.root.ondblclick=y=>b("doubleClick",y),this.dom.root.oncontextmenu=y=>b("contextmenu",y),this.dom.root.onmouseover=y=>b("mouseOver",y),window.PointerEvent?(this.dom.root.onpointerdown=y=>b("mouseDown",y),this.dom.root.onpointermove=y=>b("mouseMove",y),this.dom.root.onpointerup=y=>b("mouseUp",y)):(this.dom.root.onmousemove=y=>b("mouseMove",y),this.dom.root.onmousedown=y=>b("mouseDown",y),this.dom.root.onmouseup=y=>b("mouseUp",y)),this.initialFitDone=!1,this.on("changed",()=>{if(f.itemsData!=null){if(!f.initialFitDone&&!f.options.rollingMode)if(f.initialFitDone=!0,f.options.start!=null||f.options.end!=null){if(f.options.start==null||f.options.end==null)var y=f.getItemRange();const v=f.options.start!=null?f.options.start:y.min,w=f.options.end!=null?f.options.end:y.max;f.setWindow(v,w,{animation:!1})}else f.fit({animation:!1});!f.initialDrawDone&&(f.initialRangeChangeDone||!f.options.start&&!f.options.end||f.options.rollingMode)&&(f.initialDrawDone=!0,f.itemSet.initialDrawDone=!0,f.dom.root.style.visibility="visible",f.dom.loadingScreen.parentNode.removeChild(f.dom.loadingScreen),f.options.onInitialDrawComplete&&Bi(()=>f.options.onInitialDrawComplete(),0))}}),this.on("destroyTimeline",()=>{f.destroy()}),s&&this.setOptions(s),this.body.emitter.on("fit",y=>{this._onFit(y),this.redraw()}),i&&this.setGroups(i),r&&this.setItems(r),this._redraw()}_createConfigurator(){return new Jbe(this,this.dom.container,mct)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(e){if(nr.validate(e,pct)===!0&&console.log("%cErrors have been found in the supplied options object.",A2),ug.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;const i=this.itemsData;if(i){const s=this.getSelection();this.setItems(null),this.setItems(i.rawDS),this.setSelection(s)}}}setItems(e){this.itemsDone=!1;let r;e?uu(e)?r=R0(e):r=R0(new D0(e)):r=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=r,this.itemSet&&this.itemSet.setItems(r!=null?r.rawDS:null)}setGroups(e){let r;const i=s=>s.visible!==!1;e?(nn(e)&&(e=new D0(e)),r=new Pat(e,{filter:i})):r=null,this.groupsData!=null&&typeof this.groupsData.setData=="function"&&this.groupsData.setData(null),this.groupsData=r,this.itemSet.setGroups(r)}setData(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)}setSelection(e,r){this.itemSet&&this.itemSet.setSelection(e),r&&r.focus&&this.focus(e,r)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(e,r){if(!this.itemsData||e==null)return;const i=nn(e)?e:[e],s=this.itemsData.get(i);let o=null,a=null;if(bt(s).call(s,l=>{const c=l.start.valueOf(),u="end"in l?l.end.valueOf():l.start.valueOf();(o===null||c<o)&&(o=c),(a===null||u>a)&&(a=u)}),o!==null&&a!==null){const l=this,c=this.itemSet.items[i[0]];let u=this._getScrollTop()*-1,d=null;const h=(w,_,x)=>{const S=lie(l,c);if(S===!1||(d||(d=S),d.itemTop==S.itemTop&&!d.shouldScroll))return;d.itemTop!=S.itemTop&&S.shouldScroll&&(d=S,u=l._getScrollTop()*-1);const C=u,E=d.scrollOffset,T=x?E:C+(E-C)*w;l._setScrollTop(-T),_||l._redraw()},f=()=>{const w=lie(l,c);w.shouldScroll&&w.itemTop!=d.itemTop&&(l._setScrollTop(-w.scrollOffset),l._redraw())},p=()=>{f(),Bi(f,100)},m=r&&r.zoom!==void 0?r.zoom:!0,b=(o+a)/2,y=m?(a-o)*1.1:Math.max(this.range.end-this.range.start,(a-o)*1.1),v=r&&r.animation!==void 0?r.animation:!0;v||(d={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.stopRolling(),this.range.setRange(b-y/2,b+y/2,{animation:v},p,h)}}fit(e,r){const i=e&&e.animation!==void 0?e.animation:!0;let s;this.itemsData.length===1&&this.itemsData.get()[0].end===void 0?(s=this.getDataRange(),this.moveTo(s.min.valueOf(),{animation:i},r)):(s=this.getItemRange(),this.range.setRange(s.min,s.max,{animation:i},r))}getItemRange(){const e=this.getDataRange();let r=e.min!==null?e.min.valueOf():null,i=e.max!==null?e.max.valueOf():null,s=null,o=null;if(r!=null&&i!=null){let a=i-r;a<=0&&(a=10);const l=a/this.props.center.width,c={};let u=0;if(bt(te).call(te,this.itemSet.items,(h,f)=>{h.groupShowing&&(c[f]=h.redraw(!0),u=c[f].length)}),u>0)for(let h=0;h<u;h++)bt(te).call(te,c,f=>{f[h]()});if(bt(te).call(te,this.itemSet.items,h=>{const f=_D(h),p=SD(h);let m,b;this.options.rtl?(m=f-(h.getWidthRight()+10)*l,b=p+(h.getWidthLeft()+10)*l):(m=f-(h.getWidthLeft()+10)*l,b=p+(h.getWidthRight()+10)*l),m<r&&(r=m,s=h),b>i&&(i=b,o=h)}),s&&o){const h=s.getWidthLeft()+10,f=o.getWidthRight()+10,p=this.props.center.width-h-f;p>0&&(this.options.rtl?(r=_D(s)-f*a/p,i=SD(o)+h*a/p):(r=_D(s)-h*a/p,i=SD(o)+f*a/p))}}return{min:r!=null?new Date(r):null,max:i!=null?new Date(i):null}}getDataRange(){let e=null,r=null;if(this.itemsData){var i;bt(i=this.itemsData).call(i,s=>{const o=te.convert(s.start,"Date").valueOf(),a=te.convert(s.end!=null?s.end:s.start,"Date").valueOf();(e===null||o<e)&&(e=o),(r===null||a>r)&&(r=a)})}return{min:e!=null?new Date(e):null,max:r!=null?new Date(r):null}}getEventProperties(e){const r=e.center?e.center.x:e.clientX,i=e.center?e.center.y:e.clientY,s=this.dom.centerContainer.getBoundingClientRect(),o=this.options.rtl?s.right-r:r-s.left,a=i-s.top,l=this.itemSet.itemFromTarget(e),c=this.itemSet.groupFromTarget(e),u=fL.customTimeFromTarget(e),d=this.itemSet.options.snap||null,h=this.body.util.getScale(),f=this.body.util.getStep(),p=this._toTime(o),m=d?d(p,h,f):p,b=te.getTarget(e);let y=null;return l!=null?y="item":u!=null?y="custom-time":te.hasParent(b,this.timeAxis.dom.foreground)||this.timeAxis2&&te.hasParent(b,this.timeAxis2.dom.foreground)?y="axis":te.hasParent(b,this.itemSet.dom.labelSet)?y="group-label":te.hasParent(b,this.currentTime.bar)?y="current-time":te.hasParent(b,this.dom.center)&&(y="background"),{event:e,item:l?l.id:null,isCluster:l?!!l.isCluster:!1,items:l?l.items||[]:null,group:c?c.groupId:null,customTime:u?u.options.id:null,what:y,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:o,y:a,time:p,snappedTime:m}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())}_redraw(){ug.prototype._redraw.call(this)}_onFit(e){const{start:r,end:i,animation:s}=e;i?this.range.setRange(r,i,{animation:s}):this.moveTo(r.valueOf(),{animation:s})}}function _D(n){return te.convert(n.data.start,"Date").valueOf()}function SD(n){const e=n.data.end!=null?n.data.end:n.data.start;return te.convert(e,"Date").valueOf()}function lie(n,e){if(!e.parent)return!1;const r=n.options.rtl?n.props.rightContainer.height:n.props.leftContainer.height,i=n.props.center.height,s=e.parent;let o=s.top,a=!0;const l=n.timeAxis.options.orientation.axis,c=()=>l=="bottom"?s.height-e.top-e.height:e.top,u=n._getScrollTop()*-1,d=o+c(),h=e.height;return d<u?o+r<=o+c()+h&&(o+=c()-n.itemSet.options.margin.item.vertical):d+h>u+r?o+=c()+h-r+n.itemSet.options.margin.item.vertical:a=!1,o=Math.min(o,i-r),{shouldScroll:a,scrollOffset:o,itemTop:d}}class yct{constructor(e,r,i,s,o,a){let l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=a,this._start=e,this._end=r,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=l,this.autoScaleStart=i,this.autoScaleEnd=s,this.formattingFunction=c,i||s){const u=this,d=h=>{const f=h-h%(u.magnitudefactor*u.minorSteps[u.minorStepIdx]);return h%(u.magnitudefactor*u.minorSteps[u.minorStepIdx])>.5*(u.magnitudefactor*u.minorSteps[u.minorStepIdx])?f+u.magnitudefactor*u.minorSteps[u.minorStepIdx]:f};i&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=d(this._start)),s&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=d(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const r=this.majorCharHeight/this.scale,i=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);let s=0;i<0&&(s=i);let o=!1;for(let a=s;Math.abs(a)<=Math.abs(i);a++){this.magnitudefactor=Math.pow(10,a);for(let l=0;l<this.minorSteps.length;l++)if(this.magnitudefactor*this.minorSteps[l]>=r){o=!0,this.minorStepIdx=l;break}if(o===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let r=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(r=this.formattingFunction(e)),typeof r=="number"?"".concat(r):typeof r=="string"?r:e.toPrecision(5)}getLines(){const e=[],r=this.getStep(),i=(r-this._start%r)%r;for(let s=this._start+i;this._end-s>1e-5;s+=r)s!=this._start&&e.push({major:this.is_major(s),y:this.convertValue(s),val:this.formatValue(s)});return e}followScale(e){const r=this.minorStepIdx,i=this._start,s=this._end,o=this,a=()=>{o.magnitudefactor*=2},l=()=>{o.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,r==2||a(),a()):(this.minorStepIdx=2,r==1||l(),l()));const c=e.convertValue(0),u=e.getStep()*e.scale;let d=!1,h=0;for(;!d&&h++<5;){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const f=this.containerHeight/this.scale;this._start=i,this._end=this._start+f;const p=this._end*this.scale,m=this.magnitudefactor*this.majorSteps[this.minorStepIdx],b=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const y=c-p;this._end+=y/this.scale,this._start=this._end-f}else this.autoScaleStart?(this._start-=b/this.scale,this._end=this._start+f):(this._start+=m-b/this.scale,this._end=this._start+f);if(!this.autoScaleEnd&&this._end>s+1e-5){l(),d=!1;continue}if(!this.autoScaleStart&&this._start<i-1e-5)if(this.zeroAlign&&i>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{l(),d=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&f<s-i){a(),d=!1;continue}d=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class cie extends oh{constructor(e,r,i,s){super(),this.id=Mf(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(a){return"".concat(_2(a.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(a){return"".concat(_2(a.toPrecision(3)))},title:{text:void 0,style:void 0}}},this.linegraphOptions=s,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=te.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(r),this.width=Number("".concat(this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const o=this;this.body.emitter.on("verticalDrag",()=>{o.dom.lineContainer.style.top="".concat(o.body.domProps.scrollTop,"px")})}addGroup(e,r){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=r),this.amountOfGroups+=1}updateGroup(e,r){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=r}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let r=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(r=!0);const i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];te.selectiveDeepExtend(i,this.options,e),this.minWidth=Number("".concat(this.options.width).replace("px","")),r===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){rd(this.svgElements);let e;const r=this.options.iconWidth,i=15,s=4;let o=s+.5*i;this.options.orientation==="left"?e=s:e=this.width-r-s;const a=Vr(this.groups);Ir(a).call(a,(l,c)=>l<c?-1:1);for(const l of a)this.groups[l].visible===!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]===!0)&&(this.groups[l].getLegend(r,i,this.framework,e,o),o+=i+s);Fo(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(rd(this.svgElements),Fo(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,r){this.range.start=e,this.range.end=r}redraw(){let e=!1,r=0;this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px");for(const i in this.groups)Object.prototype.hasOwnProperty.call(this.groups,i)&&this.groups[i].visible===!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]===!0)&&r++;if(this.amountOfGroups===0||r===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=this.options.visible===!0?Number("".concat(this.options.width).replace("px","")):0;const i=this.props,s=this.dom.frame;s.className="vis-data-axis",this._calculateCharSize();const o=this.options.orientation,a=this.options.showMinorLabels,l=this.options.showMajorLabels,c=this.body.dom.backgroundHorizontal.offsetWidth;i.minorLabelHeight=a?i.minorCharHeight:0,i.majorLabelHeight=l?i.majorCharHeight:0,i.minorLineWidth=c-this.lineOffset-this.width+2*this.options.minorLinesOffset,i.minorLineHeight=1,i.majorLineWidth=c-this.lineOffset-this.width+2*this.options.majorLinesOffset,i.majorLineHeight=1,o==="left"?(s.style.top="0",s.style.left="0",s.style.bottom="",s.style.width="".concat(this.width,"px"),s.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(s.style.top="",s.style.bottom="0",s.style.left="0",s.style.width="".concat(this.width,"px"),s.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return e}_redrawLabels(){let e=!1;rd(this.DOMelements.lines),rd(this.DOMelements.labels);const r=this.options.orientation,i=this.options[r].range!=null?this.options[r].range:{};let s=!0;i.max!=null&&(this.range.end=i.max,s=!1);let o=!0;i.min!=null&&(this.range.start=i.min,o=!1),this.scale=new yct(this.range.start,this.range.end,o,s,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[r].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;const a=this.scale.getLines();bt(a).call(a,u=>{const d=u.y,h=u.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(d-2,u.val,r,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&d>=0&&this._redrawLabel(d-2,u.val,r,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(d,r,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(d,r,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let l=0;this.options[r].title!==void 0&&this.options[r].title.text!==void 0&&(l=this.props.titleCharHeight);const c=this.options.icons===!0?Math.max(this.options.iconWidth,l)+this.options.labelOffsetX+15:l+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-c&&this.options.visible===!0?(this.width=this.maxLabelSize+c,this.options.width="".concat(this.width,"px"),Fo(this.DOMelements.lines),Fo(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-c&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+c),this.options.width="".concat(this.width,"px"),Fo(this.DOMelements.lines),Fo(this.DOMelements.labels),this.redraw(),e=!0):(Fo(this.DOMelements.lines),Fo(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,r,i,s,o){const a=UI("div",this.DOMelements.labels,this.dom.frame);a.className=s,a.innerHTML=te.xss(r),i==="left"?(a.style.left="-".concat(this.options.labelOffsetX,"px"),a.style.textAlign="right"):(a.style.right="-".concat(this.options.labelOffsetX,"px"),a.style.textAlign="left"),a.style.top="".concat(e-.5*o+this.options.labelOffsetY,"px"),r+="";const l=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<r.length*l&&(this.maxLabelSize=r.length*l)}_redrawLine(e,r,i,s,o){if(this.master===!0){const a=UI("div",this.DOMelements.lines,this.dom.lineContainer);a.className=i,a.innerHTML="",r==="left"?a.style.left="".concat(this.width-s,"px"):a.style.right="".concat(this.width-s,"px"),a.style.width="".concat(o,"px"),a.style.top="".concat(e,"px")}}_redrawTitle(e){if(rd(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const r=UI("div",this.DOMelements.title,this.dom.frame);r.className="vis-y-axis vis-title vis-".concat(e),r.innerHTML=te.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&te.addCssText(r,this.options[e].title.style),e==="left"?r.style.left="".concat(this.props.titleCharHeight,"px"):r.style.right="".concat(this.props.titleCharHeight,"px"),r.style.width="".concat(this.height,"px")}Fo(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-minor vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.minorCharHeight=r.clientHeight,this.props.minorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-major vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.majorCharHeight=r.clientHeight,this.props.majorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}}}function t1(){}t1.draw=function(n,e,r,i){i=i||0;for(var s=vct(r,e),o=0;o<n.length;o++)if(!s)O0(n[o].screen_x+i,n[o].screen_y,dN(e),r.svgElements,r.svg,n[o].label);else{var a=s(n[o],e);(a===!0||typeof a=="object")&&O0(n[o].screen_x+i,n[o].screen_y,dN(e,a),r.svgElements,r.svg,n[o].label)}};t1.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l=Oa("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",r-a),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline"),O0(e+.5*i,r,dN(n),o.svgElements,o.svg)};function dN(n,e){return e=typeof e>"u"?{}:e,{style:e.style||n.options.drawPoints.style,styles:e.styles||n.options.drawPoints.styles,size:e.size||n.options.drawPoints.size,className:e.className||n.className}}function vct(n,e){var r=void 0;return n.options&&n.options.drawPoints&&n.options.drawPoints.onRender&&typeof n.options.drawPoints.onRender=="function"&&(r=n.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(r=e.group.options.drawPoints.onRender),r}function ns(){}ns.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l=Oa("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",r-a),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var c=Math.round(.3*i),u=n.options.barChart.width,d=u/c,h=Math.round(.4*s),f=Math.round(.75*s),p=Math.round((i-2*c)/3);if(iN(e+.5*c+p,r+a-h-1,c,h,n.className+" vis-bar",o.svgElements,o.svg,n.style),iN(e+1.5*c+p+2,r+a-f-1,c,f,n.className+" vis-bar",o.svgElements,o.svg,n.style),n.options.drawPoints.enabled==!0){var m={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size/d,className:n.className};O0(e+.5*c+p,r+a-h-1,m,o.svgElements,o.svg),O0(e+1.5*c+p+2,r+a-f-1,m,o.svgElements,o.svg)}};ns.draw=function(n,e,r){var i=[],s={},o,a,l,c,u,d,h=0;for(u=0;u<n.length;u++)if(c=r.groups[n[u]],c.options.style==="bar"&&c.visible===!0&&(r.options.groups.visibility[n[u]]===void 0||r.options.groups.visibility[n[u]]===!0))for(d=0;d<e[n[u]].length;d++)i.push({screen_x:e[n[u]][d].screen_x,screen_end:e[n[u]][d].screen_end,screen_y:e[n[u]][d].screen_y,x:e[n[u]][d].x,end:e[n[u]][d].end,y:e[n[u]][d].y,groupId:n[u],label:e[n[u]][d].label}),h+=1;if(h!==0)for(Ir(i).call(i,function(b,y){return b.screen_x===y.screen_x?b.groupId<y.groupId?-1:1:b.screen_x-y.screen_x}),ns._getDataIntersections(s,i),u=0;u<i.length;u++){c=r.groups[i[u].groupId];var f=c.options.barChart.minWidth!=null?c.options.barChart.minWidth:.1*c.options.barChart.width;a=i[u].screen_x;var p=0;if(s[a]===void 0)u+1<i.length&&(o=Math.abs(i[u+1].screen_x-a)),l=ns._getSafeDrawData(o,c,f);else{var m=u+(s[a].amount-s[a].resolved);m<i.length&&(o=Math.abs(i[m].screen_x-a)),l=ns._getSafeDrawData(o,c,f),s[a].resolved+=1,c.options.stack===!0&&c.options.excludeFromStacking!==!0?i[u].screen_y<c.zeroPosition?(p=s[a].accumulatedNegative,s[a].accumulatedNegative+=c.zeroPosition-i[u].screen_y):(p=s[a].accumulatedPositive,s[a].accumulatedPositive+=c.zeroPosition-i[u].screen_y):c.options.barChart.sideBySide===!0&&(l.width=l.width/s[a].amount,l.offset+=s[a].resolved*l.width-.5*l.width*(s[a].amount+1))}let b=l.width,y=i[u].screen_x;if(i[u].screen_end!=null?(b=i[u].screen_end-i[u].screen_x,y+=b*.5):y+=l.offset,iN(y,i[u].screen_y-p,b,c.zeroPosition-i[u].screen_y,c.className+" vis-bar",r.svgElements,r.svg,c.style),c.options.drawPoints.enabled===!0){let v={screen_x:i[u].screen_x,screen_y:i[u].screen_y-p,x:i[u].x,y:i[u].y,groupId:i[u].groupId,label:i[u].label};t1.draw([v],c,r,l.offset)}}};ns._getDataIntersections=function(n,e){for(var r,i=0;i<e.length;i++)i+1<e.length&&(r=Math.abs(e[i+1].screen_x-e[i].screen_x)),i>0&&(r=Math.min(r,Math.abs(e[i-1].screen_x-e[i].screen_x))),r===0&&(n[e[i].screen_x]===void 0&&(n[e[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),n[e[i].screen_x].amount+=1)};ns._getSafeDrawData=function(n,e,r){var i,s;return n<e.options.barChart.width&&n>0?(i=n<r?r:n,s=0,e.options.barChart.align==="left"?s-=.5*n:e.options.barChart.align==="right"&&(s+=.5*n)):(i=e.options.barChart.width,s=0,e.options.barChart.align==="left"?s-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(s+=.5*e.options.barChart.width)),{width:i,offset:s}};ns.getStackedYRange=function(n,e,r,i,s){if(n.length>0){Ir(n).call(n,function(a,l){return a.screen_x===l.screen_x?a.groupId<l.groupId?-1:1:a.screen_x-l.screen_x});var o={};ns._getDataIntersections(o,n),e[i]=ns._getStackedYRange(o,n),e[i].yAxisOrientation=s,r.push(i)}};ns._getStackedYRange=function(n,e){for(var r,i=e[0].screen_y,s=e[0].screen_y,o=0;o<e.length;o++)r=e[o].screen_x,n[r]===void 0?(i=i>e[o].screen_y?e[o].screen_y:i,s=s<e[o].screen_y?e[o].screen_y:s):e[o].screen_y<0?n[r].accumulatedNegative+=e[o].screen_y:n[r].accumulatedPositive+=e[o].screen_y;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i=i>n[a].accumulatedNegative?n[a].accumulatedNegative:i,i=i>n[a].accumulatedPositive?n[a].accumulatedPositive:i,s=s<n[a].accumulatedNegative?n[a].accumulatedNegative:s,s=s<n[a].accumulatedPositive?n[a].accumulatedPositive:s);return{min:i,max:s}};function gi(){}gi.calcPath=function(n,e){if(n!=null&&n.length>0){var r=[];return e.options.interpolation.enabled==!0?r=gi._catmullRom(n,e):r=gi._linear(n),r}};gi.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l,c,u=Oa("rect",o.svgElements,o.svg);if(u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",r-a),u.setAttributeNS(null,"width",i),u.setAttributeNS(null,"height",2*a),u.setAttributeNS(null,"class","vis-outline"),l=Oa("path",o.svgElements,o.svg),l.setAttributeNS(null,"class",n.className),n.style!==void 0&&l.setAttributeNS(null,"style",n.style),l.setAttributeNS(null,"d","M"+e+","+r+" L"+(e+i)+","+r),n.options.shaded.enabled==!0&&(c=Oa("path",o.svgElements,o.svg),n.options.shaded.orientation=="top"?c.setAttributeNS(null,"d","M"+e+", "+(r-a)+"L"+e+","+r+" L"+(e+i)+","+r+" L"+(e+i)+","+(r-a)):c.setAttributeNS(null,"d","M"+e+","+r+" L"+e+","+(r+a)+" L"+(e+i)+","+(r+a)+"L"+(e+i)+","+r),c.setAttributeNS(null,"class",n.className+" vis-icon-fill"),n.options.shaded.style!==void 0&&n.options.shaded.style!==""&&c.setAttributeNS(null,"style",n.options.shaded.style)),n.options.drawPoints.enabled==!0){var d={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size,className:n.className};O0(e+.5*i,r,d,o.svgElements,o.svg)}};gi.drawShading=function(n,e,r,i){if(e.options.shaded.enabled==!0){var s=Number(i.svg.style.height.replace("px","")),o=Oa("path",i.svgElements,i.svg),a="L";e.options.interpolation.enabled==!0&&(a="C");var l,c=0;e.options.shaded.orientation=="top"?c=0:e.options.shaded.orientation=="bottom"?c=s:c=Math.min(Math.max(0,e.zeroPosition),s),e.options.shaded.orientation=="group"&&r!=null&&r!=null?l="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,a,!1)+" L"+r[r.length-1][0]+","+r[r.length-1][1]+" "+this.serializePath(r,a,!0)+r[0][0]+","+r[0][1]+" Z":l="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,a,!1)+" V"+c+" H"+n[0][0]+" Z",o.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&o.setAttributeNS(null,"style",e.options.shaded.style),o.setAttributeNS(null,"d",l)}};gi.draw=function(n,e,r){if(n!=null&&n!=null){var i=Oa("path",r.svgElements,r.svg);i.setAttributeNS(null,"class",e.className),e.style!==void 0&&i.setAttributeNS(null,"style",e.style);var s="L";e.options.interpolation.enabled==!0&&(s="C"),i.setAttributeNS(null,"d","M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,s,!1))}};gi.serializePath=function(n,e,r){if(n.length<2)return"";var i=e,s;if(r)for(s=n.length-2;s>0;s--)i+=n[s][0]+","+n[s][1]+" ";else for(s=1;s<n.length;s++)i+=n[s][0]+","+n[s][1]+" ";return i};gi._catmullRomUniform=function(n){var e,r,i,s,o,a,l=[];l.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var c=1/6,u=n.length,d=0;d<u-1;d++)e=d==0?n[0]:n[d-1],r=n[d],i=n[d+1],s=d+2<u?n[d+2]:i,o={screen_x:(-e.screen_x+6*r.screen_x+i.screen_x)*c,screen_y:(-e.screen_y+6*r.screen_y+i.screen_y)*c},a={screen_x:(r.screen_x+6*i.screen_x-s.screen_x)*c,screen_y:(r.screen_y+6*i.screen_y-s.screen_y)*c},l.push([o.screen_x,o.screen_y]),l.push([a.screen_x,a.screen_y]),l.push([i.screen_x,i.screen_y]);return l};gi._catmullRom=function(n,e){var r=e.options.interpolation.alpha;if(r==0||r===void 0)return this._catmullRomUniform(n);var i,s,o,a,l,c,u,d,h,f,p,m,b,y,v,w,_,x,S,C=[];C.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var E=n.length,T=0;T<E-1;T++)i=T==0?n[0]:n[T-1],s=n[T],o=n[T+1],a=T+2<E?n[T+2]:o,u=Math.sqrt(Math.pow(i.screen_x-s.screen_x,2)+Math.pow(i.screen_y-s.screen_y,2)),d=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),h=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),y=Math.pow(h,r),w=Math.pow(h,2*r),v=Math.pow(d,r),_=Math.pow(d,2*r),S=Math.pow(u,r),x=Math.pow(u,2*r),f=2*x+3*S*v+_,p=2*w+3*y*v+_,m=3*S*(S+v),m>0&&(m=1/m),b=3*y*(y+v),b>0&&(b=1/b),l={screen_x:(-_*i.screen_x+f*s.screen_x+x*o.screen_x)*m,screen_y:(-_*i.screen_y+f*s.screen_y+x*o.screen_y)*m},c={screen_x:(w*s.screen_x+p*o.screen_x-_*a.screen_x)*b,screen_y:(w*s.screen_y+p*o.screen_y-_*a.screen_y)*b},l.screen_x==0&&l.screen_y==0&&(l=s),c.screen_x==0&&c.screen_y==0&&(c=o),C.push([l.screen_x,l.screen_y]),C.push([c.screen_x,c.screen_y]),C.push([o.screen_x,o.screen_y]);return C};gi._linear=function(n){for(var e=[],r=0;r<n.length;r++)e.push([n[r].screen_x,n[r].screen_y]);return e};function ah(n,e,r,i){this.id=e;var s=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=te.selectiveBridgeObject(s,r),this.usingDefaultStyle=n.className===void 0,this.groupsUsingDefaultStyles=i,this.zeroPosition=0,this.update(n),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=n.visible===void 0?!0:n.visible}ah.prototype.setItems=function(n){n!=null?(this.itemsData=n,Ir(this.options)==!0&&te.insertSort(this.itemsData,function(e,r){return e.x>r.x?1:-1})):this.itemsData=[]};ah.prototype.getItems=function(){return this.itemsData};ah.prototype.setZeroPosition=function(n){this.zeroPosition=n};ah.prototype.setOptions=function(n){if(n!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];te.selectiveDeepExtend(e,this.options,n),typeof n.drawPoints=="function"&&(n.drawPoints={onRender:n.drawPoints}),te.mergeOptions(this.options,n,"interpolation"),te.mergeOptions(this.options,n,"drawPoints"),te.mergeOptions(this.options,n,"shaded"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};ah.prototype.update=function(n){this.group=n,this.content=n.content||"graph",this.className=n.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=n.visible===void 0?!0:n.visible,this.style=n.style,this.setOptions(n.options)};ah.prototype.getLegend=function(n,e,r,i,s){if(r==null||r==null){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");r={svg:o,svgElements:{},options:this.options,groups:[this]}}switch((i==null||i==null)&&(i=0),(s==null||s==null)&&(s=.5*e),this.options.style){case"line":gi.drawIcon(this,i,s,n,e,r);break;case"points":case"point":t1.drawIcon(this,i,s,n,e,r);break;case"bar":ns.drawIcon(this,i,s,n,e,r);break}return{icon:r.svg,label:this.content,orientation:this.options.yAxisOrientation}};ah.prototype.getYRange=function(n){for(var e=n[0].y,r=n[0].y,i=0;i<n.length;i++)e=e>n[i].y?n[i].y:e,r=r<n[i].y?n[i].y:r;return{min:e,max:r,yAxisOrientation:this.options.yAxisOrientation}};function mo(n,e,r,i){this.body=n,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=r,this.options=te.extend({},this.defaultOptions),this.linegraphOptions=i,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}mo.prototype=new oh;mo.prototype.clear=function(){this.groups={},this.amountOfGroups=0};mo.prototype.addGroup=function(n,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,n)||(this.groups[n]=e),this.amountOfGroups+=1)};mo.prototype.updateGroup=function(n,e){this.groups[n]=e};mo.prototype.removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(delete this.groups[n],this.amountOfGroups-=1)};mo.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};mo.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};mo.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};mo.prototype.setOptions=function(n){var e=["enabled","orientation","icons","left","right"];te.selectiveDeepExtend(e,this.options,n)};mo.prototype.redraw=function(){var n=0,e=Vr(this.groups);Ir(e).call(e,function(a,l){return a<l?-1:1});for(var r=0;r<e.length;r++){var i=e[r];this.groups[i].visible==!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]==!0)&&n++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||n==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var s=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+s+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var o="";for(r=0;r<e.length;r++)i=e[r],this.groups[i].visible==!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]==!0)&&(o+=this.groups[i].content+"<br />");this.dom.textArea.innerHTML=te.xss(o),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};mo.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var n=Vr(this.groups);Ir(n).call(n,function(u,d){return u<d?-1:1}),Cit(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,r=Number(e.replace("px","")),i=r,s=this.options.iconSize,o=.75*this.options.iconSize,a=r+.5*o+3;this.svg.style.width=s+5+r+"px";for(var l=0;l<n.length;l++){var c=n[l];this.groups[c].visible==!0&&(this.linegraphOptions.visibility[c]===void 0||this.linegraphOptions.visibility[c]==!0)&&(this.groups[c].getLegend(s,o,this.framework,i,a),a+=o+this.options.iconSpacing)}}};var T2="__ungrouped__";function Ln(n,e){this.id=Mf(),this.body=n,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=te.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var r=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(i,s){r._onAdd(s.items)},update:function(i,s){r._onUpdate(s.items)},remove:function(i,s){r._onRemove(s.items)}},this.groupListeners={add:function(i,s){r._onAddGroups(s.items)},update:function(i,s){r._onUpdateGroups(s.items)},remove:function(i,s){r._onRemoveGroups(s.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){r.svg.style.left=te.option.asSize(-r.props.width),r.forceGraphUpdate=!0,r.redraw.call(r)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}Ln.prototype=new oh;Ln.prototype._create=function(){var n=document.createElement("div");n.className="vis-line-graph",this.dom.frame=n,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",n.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new cie(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new cie(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new mo(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new mo(this.body,this.options.legend,"right",this.options.groups),this.show()};Ln.prototype.setOptions=function(n){if(n){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];n.graphHeight===void 0&&n.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&n.graphHeight!==void 0&&eo((n.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),te.selectiveDeepExtend(e,this.options,n),te.mergeOptions(this.options,n,"interpolation"),te.mergeOptions(this.options,n,"drawPoints"),te.mergeOptions(this.options,n,"shaded"),te.mergeOptions(this.options,n,"legend"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&n.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&n.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,T2)&&this.groups[T2].setOptions(n)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};Ln.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Ln.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Ln.prototype.setItems=function(n){var e=this,r,i=this.itemsData;if(!n)this.itemsData=null;else if(uu(n))this.itemsData=R0(n);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(i&&(bt(te).call(te,this.itemListeners,function(o,a){i.off(a,o)}),i.dispose(),r=i.getIds(),this._onRemove(r)),this.itemsData){var s=this.id;bt(te).call(te,this.itemListeners,function(o,a){e.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r)}};Ln.prototype.setGroups=function(n){var e=this,r;if(this.groupsData){bt(te).call(te,this.groupListeners,function(o,a){e.groupsData.off(a,o)}),r=this.groupsData.getIds(),this.groupsData=null;for(var i=0;i<r.length;i++)this._removeGroup(r[i])}if(!n)this.groupsData=null;else if(uu(n))this.groupsData=n;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var s=this.id;bt(te).call(te,this.groupListeners,function(o,a){e.groupsData.on(a,o,s)}),r=this.groupsData.getIds(),this._onAddGroups(r)}};Ln.prototype._onUpdate=function(n){this._updateAllGroupData(n)};Ln.prototype._onAdd=function(n){this._onUpdate(n)};Ln.prototype._onRemove=function(n){this._onUpdate(n)};Ln.prototype._onUpdateGroups=function(n){this._updateAllGroupData(null,n)};Ln.prototype._onAddGroups=function(n){this._onUpdateGroups(n)};Ln.prototype._onRemoveGroups=function(n){for(var e=0;e<n.length;e++)this._removeGroup(n[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};Ln.prototype._removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(this.groups[n].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(n),this.legendRight.removeGroup(n),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(n),this.legendLeft.removeGroup(n),this.legendLeft.redraw()),delete this.groups[n])};Ln.prototype._updateGroup=function(n,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(n),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new ah(n,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};Ln.prototype._updateAllGroupData=function(n,e){if(this.itemsData!=null){var r={},i=this.itemsData.get(),s=this.itemsData.idProp,o={};n&&Tn(n).call(n,function(y){o[y]=y});for(var a={},l=0;l<i.length;l++){var c=i[l],u=c.group;u==null&&(u=T2),Object.prototype.hasOwnProperty.call(a,u)?a[u]++:a[u]=1}var d={};if(!e&&n){for(u in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,u)){b=this.groups[u];var h=b.getItems();r[u]=zt(h).call(h,function(y){return d[y[s]]=y[s],y[s]!==o[y[s]]});var f=a[u];a[u]-=r[u].length,r[u].length<f&&(r[u][f-1]={})}}for(l=0;l<i.length;l++)if(c=i[l],u=c.group,u==null&&(u=T2),!(!e&&n&&c[s]!==o[c[s]]&&Object.prototype.hasOwnProperty.call(d,c[s]))){Object.prototype.hasOwnProperty.call(r,u)||(r[u]=new Array(a[u]));var p=te.bridgeObject(c);p.x=te.convert(c.x,"Date"),p.end=te.convert(c.end,"Date"),p.orginalY=c.y,p.y=Number(c.y),p[s]=c[s];var m=r[u].length-a[u]--;r[u][m]=p}for(u in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,u)||Object.prototype.hasOwnProperty.call(r,u)||(r[u]=new Array(0));for(u in r)if(Object.prototype.hasOwnProperty.call(r,u))if(r[u].length==0)Object.prototype.hasOwnProperty.call(this.groups,u)&&this._removeGroup(u);else{var b=void 0;this.groupsData!=null&&(b=this.groupsData.get(u)),b==null&&(b={id:u,content:this.options.defaultGroup+u}),this._updateGroup(b,u),this.groups[u].setItems(r[u])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};Ln.prototype.redraw=function(){var n=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,n=this._isResized()||n;var e=this.body.range.end-this.body.range.start,r=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,n==!0){var i;this.svg.style.width=te.option.asSize(3*this.props.width),this.svg.style.left=te.option.asSize(-this.props.width),(jn(i=this.options.height+"").call(i,"%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)}if(this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",n==!0||r==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)n=this._updateGraph()||n,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var s=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(this.props.width!=0){var a=this.props.width/o,l=s*a;this.svg.style.left=-this.props.width-l+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),n};Ln.prototype._getSortedGroupIds=function(){var n=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var r=this.groups[e];r.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&n.push({id:e,zIndex:r.options.zIndex})}te.insertSort(n,function(o,a){var l=o.zIndex,c=a.zIndex;return l===void 0&&(l=0),c===void 0&&(c=0),l==c?0:l<c?-1:1});for(var i=new Array(n.length),s=0;s<n.length;s++)i[s]=n[s].id;return i};Ln.prototype._updateGraph=function(){if(rd(this.svgElements),this.props.width!=0&&this.itemsData!=null){var n,e,r={},i=!1,s=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var l={};for(this._getRelevantData(a,l,s,o),this._applySampling(a,l),e=0;e<a.length;e++)this._convertXcoordinates(l[a[e]]);if(this._getYRanges(a,l,r),i=this._updateYAxis(a,r),i==!0)return Fo(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var c=void 0;for(e=0;e<a.length;e++)n=this.groups[a[e]],this.options.stack===!0&&this.options.style==="line"&&(n.options.excludeFromStacking==null||!n.options.excludeFromStacking)&&(c!=null&&(this._stack(l[n.id],l[c.id]),n.options.shaded.enabled==!0&&n.options.shaded.orientation!=="group"&&(n.options.shaded.orientation=="top"&&c.options.shaded.orientation!=="group"?(c.options.shaded.orientation="group",c.options.shaded.groupId=n.id):(n.options.shaded.orientation="group",n.options.shaded.groupId=c.id))),c=n),this._convertYcoordinates(l[a[e]],n);var u={};for(e=0;e<a.length;e++)if(n=this.groups[a[e]],n.options.style==="line"&&n.options.shaded.enabled==!0){var d=l[a[e]];if(d==null||d.length==0)continue;if(Object.prototype.hasOwnProperty.call(u,a[e])||(u[a[e]]=gi.calcPath(d,n)),n.options.shaded.orientation==="group"){var h=n.options.shaded.groupId;if(jn(a).call(a,h)===-1){console.log(n.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(u,h)||(u[h]=gi.calcPath(l[h],this.groups[h])),gi.drawShading(u[a[e]],n,u[h],this.framework)}else gi.drawShading(u[a[e]],n,void 0,this.framework)}for(ns.draw(a,l,this.framework),e=0;e<a.length;e++)if(n=this.groups[a[e]],l[a[e]].length>0)switch(n.options.style){case"line":Object.prototype.hasOwnProperty.call(u,a[e])||(u[a[e]]=gi.calcPath(l[a[e]],n)),gi.draw(u[a[e]],n,this.framework);case"point":case"points":(n.options.style=="point"||n.options.style=="points"||n.options.drawPoints.enabled==!0)&&t1.draw(l[a[e]],n,this.framework);break}}}return Fo(this.svgElements),!1};Ln.prototype._stack=function(n,e){var r,i,s,o,a;r=0;for(var l=0;l<n.length;l++){o=void 0,a=void 0;for(var c=r;c<e.length;c++)if(e[c].x===n[l].x){o=e[c],a=e[c],r=c;break}else if(e[c].x>n[l].x){a=e[c],c==0?o=a:o=e[c-1],r=c;break}a===void 0&&(o=e[e.length-1],a=e[e.length-1]),i=a.x-o.x,s=a.y-o.y,i==0?n[l].y=n[l].orginalY+a.y:n[l].y=n[l].orginalY+s/i*(n[l].x-o.x)+o.y}};Ln.prototype._getRelevantData=function(n,e,r,i){var s,o,a,l;if(n.length>0)for(o=0;o<n.length;o++){s=this.groups[n[o]];var c=s.getItems();if(Ir(s.options)==!0){var u=function(p,m){return p.getTime()==m.getTime()?0:p<m?-1:1},d=Math.max(0,te.binarySearchValue(c,r,"x","before",u)),h=Math.min(c.length,te.binarySearchValue(c,i,"x","after",u)+1);h<=0&&(h=c.length);var f=new Array(h-d);for(a=d;a<h;a++)l=s.itemsData[a],f[a-d]=l;e[n[o]]=f}else e[n[o]]=s.itemsData}};Ln.prototype._applySampling=function(n,e){var r;if(n.length>0){for(var i=0;i<n.length;i++)if(r=this.groups[n[i]],r.options.sampling==!0){var s=e[n[i]];if(s.length>0){var o=1,a=s.length,l=this.body.util.toGlobalScreen(s[s.length-1].x)-this.body.util.toGlobalScreen(s[0].x),c=a/l;o=Math.min(Math.ceil(.2*a),Math.max(1,Math.round(c)));for(var u=new Array(a),d=0;d<a;d+=o){var h=Math.round(d/o);u[h]=s[d]}e[n[i]]=es(u).call(u,0,Math.round(a/o))}}}};Ln.prototype._getYRanges=function(n,e,r){var i,s,o,a=[],l=[],c;if(n.length>0){for(o=0;o<n.length;o++)i=e[n[o]],c=this.groups[n[o]].options,i.length>0&&(s=this.groups[n[o]],c.stack===!0&&c.style==="bar"?c.yAxisOrientation==="left"?a=Er(a).call(a,i):l=Er(l).call(l,i):r[n[o]]=s.getYRange(i,n[o]));ns.getStackedYRange(a,r,n,"__barStackLeft","left"),ns.getStackedYRange(l,r,n,"__barStackRight","right")}};Ln.prototype._updateYAxis=function(n,e){var r=!1,i=!1,s=!1,o=1e9,a=1e9,l=-1e9,c=-1e9,u,d;if(n.length>0){for(var h=0;h<n.length;h++){var f=this.groups[n[h]];f&&f.options.yAxisOrientation!="right"?(i=!0,o=1e9,l=-1e9):f&&f.options.yAxisOrientation&&(s=!0,a=1e9,c=-1e9)}for(h=0;h<n.length;h++)!Object.prototype.hasOwnProperty.call(e,n[h])||e[n[h]].ignore===!0||(u=e[n[h]].min,d=e[n[h]].max,e[n[h]].yAxisOrientation!="right"?(i=!0,o=o>u?u:o,l=l<d?d:l):(s=!0,a=a>u?u:a,c=c<d?d:c));i==!0&&this.yAxisLeft.setRange(o,l),s==!0&&this.yAxisRight.setRange(a,c)}r=this._toggleAxisVisiblity(i,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(s,this.yAxisRight)||r,s==!0&&i==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!i,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(s==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<p.length;h++)jn(n).call(n,p[h])!=-1&&es(n).call(n,jn(n).call(n,p[h]),1);return r};Ln.prototype._toggleAxisVisiblity=function(n,e){var r=!1;return n==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),r=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),r=!0),r};Ln.prototype._convertXcoordinates=function(n){for(var e=this.body.util.toScreen,r=0;r<n.length;r++)n[r].screen_x=e(n[r].x)+this.props.width,n[r].screen_y=n[r].y,n[r].end!=null?n[r].screen_end=e(n[r].end)+this.props.width:n[r].screen_end=void 0};Ln.prototype._convertYcoordinates=function(n,e){var r=this.yAxisLeft,i=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(r=this.yAxisRight);for(var s=0;s<n.length;s++)n[s].screen_y=Math.round(r.convertValue(n[s].y));e.setZeroPosition(Math.min(i,r.convertValue(0)))};let Yt="string",gn="boolean",On="number",wct="array",lm="date",tr="object",xct="dom",cm="moment",uie="any",_ct={configure:{enabled:{boolean:gn},filter:{boolean:gn,function:"function"},container:{dom:xct},__type__:{object:tr,boolean:gn,function:"function"}},alignCurrentTime:{string:Yt,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:Yt},sort:{boolean:gn},sampling:{boolean:gn},stack:{boolean:gn},graphHeight:{string:Yt,number:On},shaded:{enabled:{boolean:gn},orientation:{string:["bottom","top","zero","group"]},groupId:{object:tr},__type__:{boolean:gn,object:tr}},style:{string:["line","bar","points"]},barChart:{width:{number:On},minWidth:{number:On},sideBySide:{boolean:gn},align:{string:["left","center","right"]},__type__:{object:tr}},interpolation:{enabled:{boolean:gn},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:On},__type__:{object:tr,boolean:gn}},drawPoints:{enabled:{boolean:gn},onRender:{function:"function"},size:{number:On},style:{string:["square","circle"]},__type__:{object:tr,boolean:gn,function:"function"}},dataAxis:{showMinorLabels:{boolean:gn},showMajorLabels:{boolean:gn},showWeekScale:{boolean:gn},icons:{boolean:gn},width:{string:Yt,number:On},visible:{boolean:gn},alignZeros:{boolean:gn},left:{range:{min:{number:On,undefined:"undefined"},max:{number:On,undefined:"undefined"},__type__:{object:tr}},format:{function:"function"},title:{text:{string:Yt,number:On,undefined:"undefined"},style:{string:Yt,undefined:"undefined"},__type__:{object:tr}},__type__:{object:tr}},right:{range:{min:{number:On,undefined:"undefined"},max:{number:On,undefined:"undefined"},__type__:{object:tr}},format:{function:"function"},title:{text:{string:Yt,number:On,undefined:"undefined"},style:{string:Yt,undefined:"undefined"},__type__:{object:tr}},__type__:{object:tr}},__type__:{object:tr}},legend:{enabled:{boolean:gn},icons:{boolean:gn},left:{visible:{boolean:gn},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:tr}},right:{visible:{boolean:gn},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:tr}},__type__:{object:tr,boolean:gn}},groups:{visibility:{any:uie},__type__:{object:tr}},autoResize:{boolean:gn},throttleRedraw:{number:On},clickToUse:{boolean:gn},end:{number:On,date:lm,string:Yt,moment:cm},format:{minorLabels:{millisecond:{string:Yt,undefined:"undefined"},second:{string:Yt,undefined:"undefined"},minute:{string:Yt,undefined:"undefined"},hour:{string:Yt,undefined:"undefined"},weekday:{string:Yt,undefined:"undefined"},day:{string:Yt,undefined:"undefined"},week:{string:Yt,undefined:"undefined"},month:{string:Yt,undefined:"undefined"},quarter:{string:Yt,undefined:"undefined"},year:{string:Yt,undefined:"undefined"},__type__:{object:tr}},majorLabels:{millisecond:{string:Yt,undefined:"undefined"},second:{string:Yt,undefined:"undefined"},minute:{string:Yt,undefined:"undefined"},hour:{string:Yt,undefined:"undefined"},weekday:{string:Yt,undefined:"undefined"},day:{string:Yt,undefined:"undefined"},week:{string:Yt,undefined:"undefined"},month:{string:Yt,undefined:"undefined"},quarter:{string:Yt,undefined:"undefined"},year:{string:Yt,undefined:"undefined"},__type__:{object:tr}},__type__:{object:tr}},moment:{function:"function"},height:{string:Yt,number:On},hiddenDates:{start:{date:lm,number:On,string:Yt,moment:cm},end:{date:lm,number:On,string:Yt,moment:cm},repeat:{string:Yt},__type__:{object:tr,array:wct}},locale:{string:Yt},locales:{__any__:{any:uie},__type__:{object:tr}},max:{date:lm,number:On,string:Yt,moment:cm},maxHeight:{number:On,string:Yt},maxMinorChars:{number:On},min:{date:lm,number:On,string:Yt,moment:cm},minHeight:{number:On,string:Yt},moveable:{boolean:gn},multiselect:{boolean:gn},orientation:{string:Yt},showCurrentTime:{boolean:gn},showMajorLabels:{boolean:gn},showMinorLabels:{boolean:gn},showWeekScale:{boolean:gn},snap:{function:"function",null:"null"},start:{date:lm,number:On,string:Yt,moment:cm},timeAxis:{scale:{string:Yt,undefined:"undefined"},step:{number:On,undefined:"undefined"},__type__:{object:tr}},width:{string:Yt,number:On},zoomable:{boolean:gn},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:On},zoomMin:{number:On},zIndex:{number:On},__type__:{object:tr}},Sct={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function bu(n,e,r,i){var s,o,a,l,c,u,d;if(!(nn(r)||uu(r))&&r instanceof Object){var h=i;i=r,r=h}i&&i.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:ts,width:null,height:null,maxHeight:null,minHeight:null},this.options=te.deepExtend({},this.defaultOptions),this._create(n),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:qe(s=this.on).call(s,this),off:qe(o=this.off).call(o,this),emit:qe(a=this.emit).call(a,this)},hiddenDates:[],util:{getScale(){return f.timeAxis.step.scale},getStep(){return f.timeAxis.step.step},toScreen:qe(l=f._toScreen).call(l,f),toGlobalScreen:qe(c=f._toGlobalScreen).call(c,f),toTime:qe(u=f._toTime).call(u,f),toGlobalTime:qe(d=f._toGlobalTime).call(d,f)}},this.range=new WE(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new E2(this.body),this.components.push(this.timeAxis),this.currentTime=new Xbe(this.body),this.components.push(this.currentTime),this.linegraph=new Ln(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(p){f.emit("click",f.getEventProperties(p))}),this.on("doubletap",function(p){f.emit("doubleClick",f.getEventProperties(p))}),this.dom.root.oncontextmenu=function(p){f.emit("contextmenu",f.getEventProperties(p))},this.initialFitDone=!1,this.on("changed",function(){if(f.itemsData!=null){if(!f.initialFitDone&&!f.options.rollingMode)if(f.initialFitDone=!0,f.options.start!=null||f.options.end!=null){if(f.options.start==null||f.options.end==null)var p=f.getItemRange();var m=f.options.start!=null?f.options.start:p.min,b=f.options.end!=null?f.options.end:p.max;f.setWindow(m,b,{animation:!1})}else f.fit({animation:!1});!f.initialDrawDone&&(f.initialRangeChangeDone||!f.options.start&&!f.options.end||f.options.rollingMode)&&(f.initialDrawDone=!0,f.dom.root.style.visibility="visible",f.dom.loadingScreen.parentNode.removeChild(f.dom.loadingScreen),f.options.onInitialDrawComplete&&Bi(()=>f.options.onInitialDrawComplete(),0))}}),i&&this.setOptions(i),r&&this.setGroups(r),e&&this.setItems(e),this._redraw()}bu.prototype=new ug;bu.prototype.setOptions=function(n){nr.validate(n,_ct)===!0&&console.log("%cErrors have been found in the supplied options object.",A2),ug.prototype.setOptions.call(this,n)};bu.prototype.setItems=function(n){var e=this.itemsData==null,r;if(n?uu(n)?r=R0(n):r=R0(new D0(n)):r=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=r,this.linegraph&&this.linegraph.setItems(r!=null?r.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var i=this.options.start!=null?this.options.start:null,s=this.options.end!=null?this.options.end:null;this.setWindow(i,s,{animation:!1})}else this.fit({animation:!1})};bu.prototype.setGroups=function(n){var e;n?uu(n)?e=n:e=new D0(n):e=null,this.groupsData=e,this.linegraph.setGroups(e)};bu.prototype.getLegend=function(n,e,r){return e===void 0&&(e=15),r===void 0&&(r=15),this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].getLegend(e,r):"cannot find group:'"+n+"'"};bu.prototype.isGroupVisible=function(n){return this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].visible&&(this.linegraph.options.groups.visibility[n]===void 0||this.linegraph.options.groups.visibility[n]==!0):!1};bu.prototype.getDataRange=function(){var n=null,e=null;for(var r in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,r)||this.linegraph.groups[r].visible!==!0))for(var i=0;i<this.linegraph.groups[r].itemsData.length;i++){var s=this.linegraph.groups[r].itemsData[i],o=te.convert(s.x,"Date").valueOf();n=n==null||n>o?o:n,e=e==null||e<o?o:e}return{min:n!=null?new Date(n):null,max:e!=null?new Date(e):null}};bu.prototype.getEventProperties=function(n){var e=n.center?n.center.x:n.clientX,r=n.center?n.center.y:n.clientY,i=e-te.getAbsoluteLeft(this.dom.centerContainer),s=r-te.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(i),a=fL.customTimeFromTarget(n),l=te.getTarget(n),c=null;te.hasParent(l,this.timeAxis.dom.foreground)||this.timeAxis2&&te.hasParent(l,this.timeAxis2.dom.foreground)?c="axis":te.hasParent(l,this.linegraph.yAxisLeft.dom.frame)||te.hasParent(l,this.linegraph.yAxisRight.dom.frame)?c="data-axis":te.hasParent(l,this.linegraph.legendLeft.dom.frame)||te.hasParent(l,this.linegraph.legendRight.dom.frame)?c="legend":a!=null?c="custom-time":te.hasParent(l,this.currentTime.bar)?c="current-time":te.hasParent(l,this.dom.center)&&(c="background");var u=[],d=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!d.hidden&&this.itemsData.length>0&&u.push(d.screenToValue(s)),!h.hidden&&this.itemsData.length>0&&u.push(h.screenToValue(s)),{event:n,customTime:a?a.options.id:null,what:c,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:i,y:s,time:o,value:u}};bu.prototype._createConfigurator=function(){return new Jbe(this,this.dom.container,Sct)};const kct=Eit();ts.locale(kct);function Cct(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Ect(n,e,r){return e=Rct(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function die(n,e){return Pct(n)||Cct(n,e)||Zbe(n,e)||Oct()}function Act(n){return Tct(n)||Ict(n)||Zbe(n)||Mct()}function Tct(n){if(Array.isArray(n))return hN(n)}function Pct(n){if(Array.isArray(n))return n}function Ict(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Zbe(n,e){if(n){if(typeof n=="string")return hN(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hN(n,e)}}function hN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function Mct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dct(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rct(n){var e=Dct(n,"string");return typeof e=="symbol"?e:String(e)}var Nct=function(e,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(Act(Object.entries(e).filter(function(s){var o=die(s,1),a=o[0];return!i.has(a)}).map(function(s){var o=die(s,2),a=o[0],l=o[1];return Ect({},a,l)}))))};function fN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function jct(n){if(Array.isArray(n))return n}function Bct(n){if(Array.isArray(n))return fN(n)}function Lct(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Fct(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function $ct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uct(n,e){return jct(n)||Fct(n,e)||eye(n,e)||$ct()}function hie(n){return Bct(n)||Lct(n)||eye(n)||zct()}function eye(n,e){if(n){if(typeof n=="string")return fN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fN(n,e):void 0}}function Wct(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.wrapperElementType,i=r===void 0?"div":r,s=e.nodeMapper,o=s===void 0?function(d){return d}:s,a=e.methodNames,l=a===void 0?[]:a,c=e.initPropNames,u=c===void 0?[]:c;return A.forwardRef(function(d,h){var f=A.useRef(),p=A.useMemo(function(){var y=Object.fromEntries(u.filter(function(v){return d.hasOwnProperty(v)}).map(function(v){return[v,d[v]]}));return n(y)},[]);fie(function(){p(o(f.current))},A.useLayoutEffect),fie(function(){return p._destructor instanceof Function?p._destructor:void 0});var m=A.useCallback(function(y){for(var v=arguments.length,w=new Array(v>1?v-1:0),_=1;_<v;_++)w[_-1]=arguments[_];return p[y]instanceof Function?p[y].apply(p,w):void 0},[p]),b=A.useRef({});return Object.keys(Nct(d,[].concat(hie(l),hie(u)))).filter(function(y){return b.current[y]!==d[y]}).forEach(function(y){return m(y,d[y])}),b.current=d,A.useImperativeHandle(h,function(){return Object.fromEntries(l.map(function(y){return[y,function(){for(var v=arguments.length,w=new Array(v),_=0;_<v;_++)w[_]=arguments[_];return m.apply(void 0,[y].concat(w))}]}))},[m]),B.createElement(i,{ref:f})})}function fie(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.useEffect,r=A.useRef(),i=A.useRef(!1),s=A.useRef(!1),o=A.useState(0),a=Uct(o,2);a[0];var l=a[1];i.current&&(s.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),l(function(c){return c+1}),function(){s.current&&r.current&&r.current()}},[])}var qct=typeof global=="object"&&global&&global.Object===Object&&global,Hct=typeof self=="object"&&self&&self.Object===Object&&self,tye=qct||Hct||Function("return this")(),P2=tye.Symbol,nye=Object.prototype,Vct=nye.hasOwnProperty,Gct=nye.toString,oy=P2?P2.toStringTag:void 0;function Yct(n){var e=Vct.call(n,oy),r=n[oy];try{n[oy]=void 0;var i=!0}catch{}var s=Gct.call(n);return i&&(e?n[oy]=r:delete n[oy]),s}var Kct=Object.prototype,Xct=Kct.toString;function Qct(n){return Xct.call(n)}var Jct="[object Null]",Zct="[object Undefined]",pie=P2?P2.toStringTag:void 0;function eut(n){return n==null?n===void 0?Zct:Jct:pie&&pie in Object(n)?Yct(n):Qct(n)}function tut(n){return n!=null&&typeof n=="object"}var nut="[object Symbol]";function rut(n){return typeof n=="symbol"||tut(n)&&eut(n)==nut}var iut=/\s/;function sut(n){for(var e=n.length;e--&&iut.test(n.charAt(e)););return e}var out=/^\s+/;function aut(n){return n&&n.slice(0,sut(n)+1).replace(out,"")}function I2(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var mie=NaN,lut=/^[-+]0x[0-9a-f]+$/i,cut=/^0b[01]+$/i,uut=/^0o[0-7]+$/i,dut=parseInt;function gie(n){if(typeof n=="number")return n;if(rut(n))return mie;if(I2(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=I2(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=aut(n);var r=cut.test(n);return r||uut.test(n)?dut(n.slice(2),r?2:8):lut.test(n)?mie:+n}var kD=function(){return tye.Date.now()},hut="Expected a function",fut=Math.max,put=Math.min;function rye(n,e,r){var i,s,o,a,l,c,u=0,d=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(hut);e=gie(e)||0,I2(r)&&(d=!!r.leading,h="maxWait"in r,o=h?fut(gie(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f);function p(C){var E=i,T=s;return i=s=void 0,u=C,a=n.apply(T,E),a}function m(C){return u=C,l=setTimeout(v,e),d?p(C):a}function b(C){var E=C-c,T=C-u,M=e-E;return h?put(M,o-T):M}function y(C){var E=C-c,T=C-u;return c===void 0||E>=e||E<0||h&&T>=o}function v(){var C=kD();if(y(C))return w(C);l=setTimeout(v,b(C))}function w(C){return l=void 0,f&&i?p(C):(i=s=void 0,a)}function _(){l!==void 0&&clearTimeout(l),u=0,i=c=s=l=void 0}function x(){return l===void 0?a:w(kD())}function S(){var C=kD(),E=y(C);if(i=arguments,s=this,c=C,E){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(v,e),p(c)}return l===void 0&&(l=setTimeout(v,e)),a}return S.cancel=_,S.flush=x,S}var mut="Expected a function";function gut(n,e,r){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(mut);return I2(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),rye(n,e,{leading:i,maxWait:e,trailing:s})}var Of=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Of.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Of.Bounce.In(n*2)*.5:Of.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),Ry=function(){return performance.now()},iye=function(){function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var s=0,o=r;s<o.length;s++){var a=o[s];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},n.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=0,s=e;i<s.length;i++){var o=s[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,r){e===void 0&&(e=Ry()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var o=this._tweens[i[s]],a=!r;o&&o.update(e,a)===!1&&!r&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},n}(),pN={Linear:function(n,e){var r=n.length-1,i=r*e,s=Math.floor(i),o=pN.Utils.Linear;return e<0?o(n[0],n[1],i):e>1?o(n[r],n[r-1],r-i):o(n[s],n[s+1>r?r:s+1],i-s)},Utils:{Linear:function(n,e,r){return(e-n)*r+n}}},sye=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),mN=new iye,bie=function(){function n(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Of.Linear.None,this._interpolationFunction=pN.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=sye.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=mN,mN.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=Ry()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var o in this._valuesEnd)s[o]=this._valuesEnd[o];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,s,o){for(var a in i){var l=e[a],c=Array.isArray(l),u=c?"array":typeof l,d=!c&&Array.isArray(i[a]);if(!(u==="undefined"||u==="function")){if(d){var h=i[a];if(h.length===0)continue;for(var f=[l],p=0,m=h.length;p<m;p+=1){var b=this._handleRelativeValue(l,h[p]);if(isNaN(b)){d=!1,console.warn("Found invalid interpolation list. Skipping.");break}f.push(b)}d&&(i[a]=f)}if((u==="object"||c)&&l&&!d){r[a]=c?[]:{};var y=l;for(var v in y)r[a][v]=y[v];s[a]=c?[]:{};var h=i[a];if(!this._isDynamic){var w={};for(var v in h)w[v]=h[v];i[a]=h=w}this._setupProperties(y,r[a],h,s[a],o)}else(typeof r[a]>"u"||o)&&(r[a]=l),c||(r[a]*=1),d?s[a]=i[a].slice().reverse():s[a]=r[a]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=Ry()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=Ry()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Of.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=pN.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){var i=this,s;if(e===void 0&&(e=Ry()),r===void 0&&(r=n.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,l=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),c=this._duration+this._repeat*l,u=function(){if(i._duration===0||a>c)return 1;var b=Math.trunc(a/l),y=a-b*l,v=Math.min(y/i._duration,1);return v===0&&a===i._duration?1:v},d=u(),h=this._easingFunction(d);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,h),this._onUpdateCallback&&this._onUpdateCallback(this._object,d),this._duration===0||a>=this._duration)if(this._repeat>0){var f=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=f);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*f,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,m=this._chainedTweens.length;p<m;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,s){for(var o in i)if(r[o]!==void 0){var a=r[o]||0,l=i[o],c=Array.isArray(e[o]),u=Array.isArray(l),d=!c&&u;d?e[o]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(e[o],a,l,s):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[o]=a+(l-a)*s))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n.autoStartOnUpdate=!1,n}();sye.nextId;var zl=mN;zl.getAll.bind(zl);zl.removeAll.bind(zl);zl.add.bind(zl);zl.remove.bind(zl);zl.update.bind(zl);function yie(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function but(n){if(Array.isArray(n))return n}function yut(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vut(n,e,r){return Object.defineProperty(n,"prototype",{writable:!1}),n}function wut(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function xut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ut(n,e){return but(n)||wut(n,e)||Sut(n,e)||xut()}function Sut(n,e){if(n){if(typeof n=="string")return yie(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yie(n,e):void 0}}var kut=vut(function n(e,r){var i=r.default,s=i===void 0?null:i,o=r.triggerUpdate,a=o===void 0?!0:o,l=r.onChange,c=l===void 0?function(u,d){}:l;yut(this,n),this.name=e,this.defaultVal=s,this.triggerUpdate=a,this.onChange=c});function gL(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,s=i===void 0?{}:i,o=n.methods,a=o===void 0?{}:o,l=n.aliases,c=l===void 0?{}:l,u=n.init,d=u===void 0?function(){}:u,h=n.update,f=h===void 0?function(){}:h,p=Object.keys(s).map(function(m){return new kut(m,s[m])});return function m(){for(var b=arguments.length,y=new Array(b),v=0;v<b;v++)y[v]=arguments[v];var w=!!(this instanceof m&&this.constructor),_=w?y.shift():void 0,x=y[0],S=x===void 0?{}:x,C=Object.assign({},r instanceof Function?r(S):r,{initialised:!1}),E={};function T(O){return M(O,S),I(),T}var M=function(F,$){d.call(T,F,C,$),C.initialised=!0},I=rye(function(){C.initialised&&(f.call(T,C,E),E={})},1);return p.forEach(function(O){T[O.name]=F(O);function F($){var z=$.name,D=$.triggerUpdate,j=D===void 0?!1:D,N=$.onChange,R=N===void 0?function(K,Y){}:N,H=$.defaultVal,U=H===void 0?null:H;return function(K){var Y=C[z];if(!arguments.length)return Y;var J=K===void 0?U:K;return C[z]=J,R.call(T,J,C,Y),!E.hasOwnProperty(z)&&(E[z]=Y),j&&I(),T}}}),Object.keys(a).forEach(function(O){T[O]=function(){for(var F,$=arguments.length,z=new Array($),D=0;D<$;D++)z[D]=arguments[D];return(F=a[O]).call.apply(F,[T,C].concat(z))}}),Object.entries(c).forEach(function(O){var F=_ut(O,2),$=F[0],z=F[1];return T[$]=T[z]}),T.resetProps=function(){return p.forEach(function(O){T[O.name](O.defaultVal)}),T},T.resetProps(),C._rerender=I,w&&_&&T(_),T}}var En=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function M2(n){"@babel/helpers - typeof";return M2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M2(n)}var Cut=/^\s+/,Eut=/\s+$/;function Mt(n,e){if(n=n||"",e=e||{},n instanceof Mt)return n;if(!(this instanceof Mt))return new Mt(n,e);var r=Aut(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Mt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,s,o,a,l;return r=e.r/255,i=e.g/255,s=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),.2126*o+.7152*a+.0722*l},setAlpha:function(e){return this._a=oye(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=wie(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=wie(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+s+"%)":"hsva("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=vie(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=vie(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+s+"%)":"hsla("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return xie(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Mut(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ir(this._r,255)*100)+"%",g:Math.round(ir(this._g,255)*100)+"%",b:Math.round(ir(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ir(this._r,255)*100)+"%, "+Math.round(ir(this._g,255)*100)+"%, "+Math.round(ir(this._b,255)*100)+"%)":"rgba("+Math.round(ir(this._r,255)*100)+"%, "+Math.round(ir(this._g,255)*100)+"%, "+Math.round(ir(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Wut[xie(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+_ie(this._r,this._g,this._b,this._a),i=r,s=this._gradientType?"GradientType = 1, ":"";if(e){var o=Mt(e);i="#"+_ie(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,s=this._a<1&&this._a>=0,o=!r&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Mt(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Nut,arguments)},brighten:function(){return this._applyModification(jut,arguments)},darken:function(){return this._applyModification(But,arguments)},desaturate:function(){return this._applyModification(Out,arguments)},saturate:function(){return this._applyModification(Dut,arguments)},greyscale:function(){return this._applyModification(Rut,arguments)},spin:function(){return this._applyModification(Lut,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(zut,arguments)},complement:function(){return this._applyCombination(Fut,arguments)},monochromatic:function(){return this._applyCombination(Uut,arguments)},splitcomplement:function(){return this._applyCombination($ut,arguments)},triad:function(){return this._applyCombination(Sie,[3])},tetrad:function(){return this._applyCombination(Sie,[4])}};Mt.fromRatio=function(n,e){if(M2(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=Ny(n[i]));n=r}return Mt(n,e)};function Aut(n){var e={r:0,g:0,b:0},r=1,i=null,s=null,o=null,a=!1,l=!1;return typeof n=="string"&&(n=Gut(n)),M2(n)=="object"&&(cc(n.r)&&cc(n.g)&&cc(n.b)?(e=Tut(n.r,n.g,n.b),a=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):cc(n.h)&&cc(n.s)&&cc(n.v)?(i=Ny(n.s),s=Ny(n.v),e=Iut(n.h,i,s),a=!0,l="hsv"):cc(n.h)&&cc(n.s)&&cc(n.l)&&(i=Ny(n.s),o=Ny(n.l),e=Put(n.h,i,o),a=!0,l="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=oye(r),{ok:a,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function Tut(n,e,r){return{r:ir(n,255)*255,g:ir(e,255)*255,b:ir(r,255)*255}}function vie(n,e,r){n=ir(n,255),e=ir(e,255),r=ir(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,a,l=(i+s)/2;if(i==s)o=a=0;else{var c=i-s;switch(a=l>.5?c/(2-i-s):c/(i+s),i){case n:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-n)/c+2;break;case r:o=(n-e)/c+4;break}o/=6}return{h:o,s:a,l}}function Put(n,e,r){var i,s,o;n=ir(n,360),e=ir(e,100),r=ir(r,100);function a(u,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(d-u)*6*h:h<1/2?d:h<2/3?u+(d-u)*(2/3-h)*6:u}if(e===0)i=s=o=r;else{var l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=a(c,l,n+1/3),s=a(c,l,n),o=a(c,l,n-1/3)}return{r:i*255,g:s*255,b:o*255}}function wie(n,e,r){n=ir(n,255),e=ir(e,255),r=ir(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,a,l=i,c=i-s;if(a=i===0?0:c/i,i==s)o=0;else{switch(i){case n:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-n)/c+2;break;case r:o=(n-e)/c+4;break}o/=6}return{h:o,s:a,v:l}}function Iut(n,e,r){n=ir(n,360)*6,e=ir(e,100),r=ir(r,100);var i=Math.floor(n),s=n-i,o=r*(1-e),a=r*(1-s*e),l=r*(1-(1-s)*e),c=i%6,u=[r,a,o,o,l,r][c],d=[l,r,r,a,o,o][c],h=[o,o,l,r,r,a][c];return{r:u*255,g:d*255,b:h*255}}function xie(n,e,r,i){var s=[Pa(Math.round(n).toString(16)),Pa(Math.round(e).toString(16)),Pa(Math.round(r).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Mut(n,e,r,i,s){var o=[Pa(Math.round(n).toString(16)),Pa(Math.round(e).toString(16)),Pa(Math.round(r).toString(16)),Pa(aye(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function _ie(n,e,r,i){var s=[Pa(aye(i)),Pa(Math.round(n).toString(16)),Pa(Math.round(e).toString(16)),Pa(Math.round(r).toString(16))];return s.join("")}Mt.equals=function(n,e){return!n||!e?!1:Mt(n).toRgbString()==Mt(e).toRgbString()};Mt.random=function(){return Mt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Out(n,e){e=e===0?0:e||10;var r=Mt(n).toHsl();return r.s-=e/100,r.s=VE(r.s),Mt(r)}function Dut(n,e){e=e===0?0:e||10;var r=Mt(n).toHsl();return r.s+=e/100,r.s=VE(r.s),Mt(r)}function Rut(n){return Mt(n).desaturate(100)}function Nut(n,e){e=e===0?0:e||10;var r=Mt(n).toHsl();return r.l+=e/100,r.l=VE(r.l),Mt(r)}function jut(n,e){e=e===0?0:e||10;var r=Mt(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Mt(r)}function But(n,e){e=e===0?0:e||10;var r=Mt(n).toHsl();return r.l-=e/100,r.l=VE(r.l),Mt(r)}function Lut(n,e){var r=Mt(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,Mt(r)}function Fut(n){var e=Mt(n).toHsl();return e.h=(e.h+180)%360,Mt(e)}function Sie(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Mt(n).toHsl(),i=[Mt(n)],s=360/e,o=1;o<e;o++)i.push(Mt({h:(r.h+o*s)%360,s:r.s,l:r.l}));return i}function $ut(n){var e=Mt(n).toHsl(),r=e.h;return[Mt(n),Mt({h:(r+72)%360,s:e.s,l:e.l}),Mt({h:(r+216)%360,s:e.s,l:e.l})]}function zut(n,e,r){e=e||6,r=r||30;var i=Mt(n).toHsl(),s=360/r,o=[Mt(n)];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,o.push(Mt(i));return o}function Uut(n,e){e=e||6;for(var r=Mt(n).toHsv(),i=r.h,s=r.s,o=r.v,a=[],l=1/e;e--;)a.push(Mt({h:i,s,v:o})),o=(o+l)%1;return a}Mt.mix=function(n,e,r){r=r===0?0:r||50;var i=Mt(n).toRgb(),s=Mt(e).toRgb(),o=r/100,a={r:(s.r-i.r)*o+i.r,g:(s.g-i.g)*o+i.g,b:(s.b-i.b)*o+i.b,a:(s.a-i.a)*o+i.a};return Mt(a)};Mt.readability=function(n,e){var r=Mt(n),i=Mt(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};Mt.isReadable=function(n,e,r){var i=Mt.readability(n,e),s,o;switch(o=!1,s=Yut(r),s.level+s.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};Mt.mostReadable=function(n,e,r){var i=null,s=0,o,a,l,c;r=r||{},a=r.includeFallbackColors,l=r.level,c=r.size;for(var u=0;u<e.length;u++)o=Mt.readability(n,e[u]),o>s&&(s=o,i=Mt(e[u]));return Mt.isReadable(n,i,{level:l,size:c})||!a?i:(r.includeFallbackColors=!1,Mt.mostReadable(n,["#fff","#000"],r))};var gN=Mt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Wut=Mt.hexNames=qut(gN);function qut(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function oye(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function ir(n,e){Hut(n)&&(n="100%");var r=Vut(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function VE(n){return Math.min(1,Math.max(0,n))}function Ys(n){return parseInt(n,16)}function Hut(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function Vut(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Pa(n){return n.length==1?"0"+n:""+n}function Ny(n){return n<=1&&(n=n*100+"%"),n}function aye(n){return Math.round(parseFloat(n)*255).toString(16)}function kie(n){return Ys(n)/255}var fa=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function cc(n){return!!fa.CSS_UNIT.exec(n)}function Gut(n){n=n.replace(Cut,"").replace(Eut,"").toLowerCase();var e=!1;if(gN[n])n=gN[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=fa.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=fa.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=fa.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=fa.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=fa.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=fa.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=fa.hex8.exec(n))?{r:Ys(r[1]),g:Ys(r[2]),b:Ys(r[3]),a:kie(r[4]),format:e?"name":"hex8"}:(r=fa.hex6.exec(n))?{r:Ys(r[1]),g:Ys(r[2]),b:Ys(r[3]),format:e?"name":"hex"}:(r=fa.hex4.exec(n))?{r:Ys(r[1]+""+r[1]),g:Ys(r[2]+""+r[2]),b:Ys(r[3]+""+r[3]),a:kie(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=fa.hex3.exec(n))?{r:Ys(r[1]+""+r[1]),g:Ys(r[2]+""+r[2]),b:Ys(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function Yut(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function bN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Kut(n){if(Array.isArray(n))return bN(n)}function lye(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Xut(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qut(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Io(n,e){return n.get(lye(n,e))}function Cie(n,e,r){Xut(n,e),e.set(n,r)}function Eie(n,e,r){return n.set(lye(n,e),r),r}function Jut(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,idt(i.key),i)}}function Zut(n,e,r){return e&&Jut(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function edt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function tdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ndt(n){return Kut(n)||edt(n)||sdt(n)||tdt()}function rdt(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function idt(n){var e=rdt(n,"string");return typeof e=="symbol"?e:e+""}function sdt(n,e){if(n){if(typeof n=="string")return bN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bN(n,e):void 0}}var odt=123,adt=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},cye=function(e,r,i){return(e<<16)+(r<<8)+i},ldt=function(e){var r=Mt(e).toRgb(),i=r.r,s=r.g,o=r.b;return cye(i,s,o)},Aie=function(e,r){return e*odt%Math.pow(2,r)},Th=new WeakMap,uc=new WeakMap,cdt=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Qut(this,n),Cie(this,Th,void 0),Cie(this,uc,void 0),Eie(uc,this,e),this.reset()}return Zut(n,[{key:"reset",value:function(){Eie(Th,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Io(Th,this).length>=Math.pow(2,24-Io(uc,this)))return null;var i=Io(Th,this).length,s=Aie(i,Io(uc,this)),o=adt(i+(s<<24-Io(uc,this)));return Io(Th,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?ldt(r):cye.apply(void 0,ndt(r));if(!i)return null;var s=i&Math.pow(2,24-Io(uc,this))-1,o=i>>24-Io(uc,this)&Math.pow(2,Io(uc,this))-1;return Aie(s,Io(uc,this))!==o||s>=Io(Th,this).length?null:Io(Th,this)[s]}}])}(),n1,ar,uye,dye,Uh,Tie,hye,fye,pye,bL,yN,vN,Ow={},mye=[],udt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,GE=Array.isArray;function El(n,e){for(var r in e)n[r]=e[r];return n}function yL(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function ddt(n,e,r){var i,s,o,a={};for(o in e)o=="key"?i=e[o]:o=="ref"?s=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?n1.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)a[o]===void 0&&(a[o]=n.defaultProps[o]);return uv(n,a,i,s,null)}function uv(n,e,r,i,s){var o={type:n,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++uye,__i:-1,__u:0};return s==null&&ar.vnode!=null&&ar.vnode(o),o}function YE(n){return n.children}function jS(n,e){this.props=n,this.context=e}function j0(n,e){if(e==null)return n.__?j0(n.__,n.__i+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?j0(n):null}function gye(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return gye(n)}}function Pie(n){(!n.__d&&(n.__d=!0)&&Uh.push(n)&&!O2.__r++||Tie!=ar.debounceRendering)&&((Tie=ar.debounceRendering)||hye)(O2)}function O2(){for(var n,e,r,i,s,o,a,l=1;Uh.length;)Uh.length>l&&Uh.sort(fye),n=Uh.shift(),l=Uh.length,n.__d&&(r=void 0,i=void 0,s=(i=(e=n).__v).__e,o=[],a=[],e.__P&&((r=El({},i)).__v=i.__v+1,ar.vnode&&ar.vnode(r),vL(e.__P,r,i,e.__n,e.__P.namespaceURI,32&i.__u?[s]:null,o,s??j0(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,vye(o,r,a),i.__e=i.__=null,r.__e!=s&&gye(r)));O2.__r=0}function bye(n,e,r,i,s,o,a,l,c,u,d){var h,f,p,m,b,y,v,w=i&&i.__k||mye,_=e.length;for(c=hdt(r,e,w,c,_),h=0;h<_;h++)(p=r.__k[h])!=null&&(f=p.__i==-1?Ow:w[p.__i]||Ow,p.__i=h,y=vL(n,p,f,s,o,a,l,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&wL(f.ref,null,p),d.push(p.ref,p.__c||m,p)),b==null&&m!=null&&(b=m),(v=!!(4&p.__u))||f.__k===p.__k?c=yye(p,c,n,v):typeof p.type=="function"&&y!==void 0?c=y:m&&(c=m.nextSibling),p.__u&=-7);return r.__e=b,c}function hdt(n,e,r,i,s){var o,a,l,c,u,d=r.length,h=d,f=0;for(n.__k=new Array(s),o=0;o<s;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=n.__k[o]=uv(null,a,null,null,null):GE(a)?a=n.__k[o]=uv(YE,{children:a},null,null,null):a.constructor==null&&a.__b>0?a=n.__k[o]=uv(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):n.__k[o]=a,c=o+f,a.__=n,a.__b=n.__b+1,l=null,(u=a.__i=fdt(a,r,c,h))!=-1&&(h--,(l=r[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(s>d?f--:s<d&&f++),typeof a.type!="function"&&(a.__u|=4)):u!=c&&(u==c-1?f--:u==c+1?f++:(u>c?f--:f++,a.__u|=4))):n.__k[o]=null;if(h)for(o=0;o<d;o++)(l=r[o])!=null&&!(2&l.__u)&&(l.__e==i&&(i=j0(l)),xye(l,l));return i}function yye(n,e,r,i){var s,o;if(typeof n.type=="function"){for(s=n.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=n,e=yye(s[o],e,r,i));return e}n.__e!=e&&(i&&(e&&n.type&&!e.parentNode&&(e=j0(n)),r.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function fdt(n,e,r,i){var s,o,a,l=n.key,c=n.type,u=e[r],d=u!=null&&(2&u.__u)==0;if(u===null&&l==null||d&&l==u.key&&c==u.type)return r;if(i>(d?1:0)){for(s=r-1,o=r+1;s>=0||o<e.length;)if((u=e[a=s>=0?s--:o++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return a}return-1}function Iie(n,e,r){e[0]=="-"?n.setProperty(e,r??""):n[e]=r==null?"":typeof r!="number"||udt.test(e)?r:r+"px"}function q_(n,e,r,i,s){var o,a;e:if(e=="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)r&&e in r||Iie(n.style,e,"");if(r)for(e in r)i&&r[e]==i[e]||Iie(n.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(pye,"$1")),a=e.toLowerCase(),e=a in n||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=r,r?i?r.u=i.u:(r.u=bL,n.addEventListener(e,o?vN:yN,o)):n.removeEventListener(e,o?vN:yN,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&r==1?"":r))}}function Mie(n){return function(e){if(this.l){var r=this.l[e.type+n];if(e.t==null)e.t=bL++;else if(e.t<r.u)return;return r(ar.event?ar.event(e):e)}}}function vL(n,e,r,i,s,o,a,l,c,u){var d,h,f,p,m,b,y,v,w,_,x,S,C,E,T,M,I,O=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),o=[l=e.__e=r.__e]),(d=ar.__b)&&d(e);e:if(typeof O=="function")try{if(v=e.props,w="prototype"in O&&O.prototype.render,_=(d=O.contextType)&&i[d.__c],x=d?_?_.props.value:d.__:i,r.__c?y=(h=e.__c=r.__c).__=h.__E:(w?e.__c=h=new O(v,x):(e.__c=h=new jS(v,x),h.constructor=O,h.render=mdt),_&&_.sub(h),h.state||(h.state={}),h.__n=i,f=h.__d=!0,h.__h=[],h._sb=[]),w&&h.__s==null&&(h.__s=h.state),w&&O.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=El({},h.__s)),El(h.__s,O.getDerivedStateFromProps(v,h.__s))),p=h.props,m=h.state,h.__v=e,f)w&&O.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),w&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(w&&O.getDerivedStateFromProps==null&&v!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,x),e.__v==r.__v||!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,x)===!1){for(e.__v!=r.__v&&(h.props=v,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(F){F&&(F.__=e)}),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,x),w&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,m,b)})}if(h.context=x,h.props=v,h.__P=n,h.__e=!1,C=ar.__r,E=0,w){for(h.state=h.__s,h.__d=!1,C&&C(e),d=h.render(h.props,h.state,h.context),T=0;T<h._sb.length;T++)h.__h.push(h._sb[T]);h._sb=[]}else do h.__d=!1,C&&C(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++E<25);h.state=h.__s,h.getChildContext!=null&&(i=El(El({},i),h.getChildContext())),w&&!f&&h.getSnapshotBeforeUpdate!=null&&(b=h.getSnapshotBeforeUpdate(p,m)),M=d,d!=null&&d.type===YE&&d.key==null&&(M=wye(d.props.children)),l=bye(n,GE(M)?M:[M],e,r,i,s,o,a,l,c,u),h.base=e.__e,e.__u&=-161,h.__h.length&&a.push(h),y&&(h.__E=h.__=null)}catch(F){if(e.__v=null,c||o!=null)if(F.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,e.__e=l}else{for(I=o.length;I--;)yL(o[I]);wN(e)}else e.__e=r.__e,e.__k=r.__k,F.then||wN(e);ar.__e(F,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):l=e.__e=pdt(r.__e,e,r,i,s,o,a,c,u);return(d=ar.diffed)&&d(e),128&e.__u?void 0:l}function wN(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(wN)}function vye(n,e,r){for(var i=0;i<r.length;i++)wL(r[i],r[++i],r[++i]);ar.__c&&ar.__c(e,n),n.some(function(s){try{n=s.__h,s.__h=[],n.some(function(o){o.call(s)})}catch(o){ar.__e(o,s.__v)}})}function wye(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:GE(n)?n.map(wye):El({},n)}function pdt(n,e,r,i,s,o,a,l,c){var u,d,h,f,p,m,b,y=r.props||Ow,v=e.props,w=e.type;if(w=="svg"?s="http://www.w3.org/2000/svg":w=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!w&&(w?p.localName==w:p.nodeType==3)){n=p,o[u]=null;break}}if(n==null){if(w==null)return document.createTextNode(v);n=document.createElementNS(s,w,v.is&&v),l&&(ar.__m&&ar.__m(e,o),l=!1),o=null}if(w==null)y===v||l&&n.data==v||(n.data=v);else{if(o=o&&n1.call(n.childNodes),!l&&o!=null)for(y={},u=0;u<n.attributes.length;u++)y[(p=n.attributes[u]).name]=p.value;for(u in y)if(p=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=p;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;q_(n,u,null,p,s)}}for(u in v)p=v[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?b=p:l&&typeof p!="function"||y[u]===p||q_(n,u,p,y[u],s);if(d)l||h&&(d.__html==h.__html||d.__html==n.innerHTML)||(n.innerHTML=d.__html),e.__k=[];else if(h&&(n.innerHTML=""),bye(e.type=="template"?n.content:n,GE(f)?f:[f],e,r,i,w=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,a,o?o[0]:r.__k&&j0(r,0),l,c),o!=null)for(u=o.length;u--;)yL(o[u]);l||(u="value",w=="progress"&&m==null?n.removeAttribute("value"):m!=null&&(m!==n[u]||w=="progress"&&!m||w=="option"&&m!=y[u])&&q_(n,u,m,y[u],s),u="checked",b!=null&&b!=n[u]&&q_(n,u,b,y[u],s))}return n}function wL(n,e,r){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(s){ar.__e(s,r)}}function xye(n,e,r){var i,s;if(ar.unmount&&ar.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||wL(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){ar.__e(o,e)}i.base=i.__P=null}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&xye(i[s],e,r||typeof n.type!="function");r||yL(n.__e),n.__c=n.__=n.__e=void 0}function mdt(n,e,r){return this.constructor(n,r)}function gdt(n,e,r){var i,s,o,a;e==document&&(e=document.documentElement),ar.__&&ar.__(n,e),s=(i=!1)?null:e.__k,o=[],a=[],vL(e,n=e.__k=ddt(YE,null,[n]),s||Ow,Ow,e.namespaceURI,s?null:e.firstChild?n1.call(e.childNodes):null,o,s?s.__e:e.firstChild,i,a),vye(o,n,a)}function _ye(n,e,r){var i,s,o,a,l=El({},n.props);for(o in n.type&&n.type.defaultProps&&(a=n.type.defaultProps),e)o=="key"?i=e[o]:o=="ref"?s=e[o]:l[o]=e[o]===void 0&&a!=null?a[o]:e[o];return arguments.length>2&&(l.children=arguments.length>3?n1.call(arguments,2):r),uv(n.type,l,i||n.key,s||n.ref,null)}n1=mye.slice,ar={__e:function(n,e,r,i){for(var s,o,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(n)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,i||{}),a=s.__d),a)return s.__E=s}catch(l){n=l}throw n}},uye=0,dye=function(n){return n!=null&&n.constructor==null},jS.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=El({},this.state),typeof n=="function"&&(n=n(El({},r),this.props)),n&&El(r,n),n!=null&&this.__v&&(e&&this._sb.push(e),Pie(this))},jS.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Pie(this))},jS.prototype.render=YE,Uh=[],hye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fye=function(n,e){return n.__v.__b-e.__v.__b},O2.__r=0,pye=/(PointerCapture)$|Capture$/i,bL=0,yN=Mie(!1),vN=Mie(!0);function Oie(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function bdt(n){if(Array.isArray(n))return n}function ydt(n,e,r){return(e=kdt(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function vdt(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function wdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function xdt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Die(Object(r),!0).forEach(function(i){ydt(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Die(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function _dt(n,e){return bdt(n)||vdt(n,e)||Cdt(n,e)||wdt()}function Sdt(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kdt(n){var e=Sdt(n,"string");return typeof e=="symbol"?e:e+""}function D2(n){"@babel/helpers - typeof";return D2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D2(n)}function Cdt(n,e){if(n){if(typeof n=="string")return Oie(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oie(n,e):void 0}}var xN=function(e){if(D2(e)!=="object")return e;var r=_ye(e);if(r.props){var i;r.props=xdt({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(xN):xN(r.props.children))}return r},Edt=function(e){return dye(_ye(e))},Adt=function(e,r){delete r.__k,gdt(xN(e),r)};function Tdt(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var Pdt=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Tdt(Pdt);var Idt=gL({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.style,o=s===void 0?{}:s,a=!!e&&D2(e)==="object"&&!!e.node&&typeof e.node=="function",l=ji(a?e.node():e);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(u){var d=_dt(u,2),h=d[0],f=d[1];return r.tooltipEl.style(h,f)}),r.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(c),function(u){r.mouseInside=!0;var d=Sa(u),h=l.node(),f=h.offsetWidth,p=h.offsetHeight,m=[r.offsetX===null||r.offsetX===void 0?"-".concat(d[0]/f*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-d[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",d[0]+"px").style("top",d[1]+"px").style("transform","translate(".concat(m.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(c),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(c),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):Edt(e.content)?(e.tooltipEl.text(""),Adt(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function Mdt(n,e,r){var i,s=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function o(){var a,l=i.length,c,u=0,d=0,h=0;for(a=0;a<l;++a)c=i[a],u+=c.x||0,d+=c.y||0,h+=c.z||0;for(u=(u/l-n)*s,d=(d/l-e)*s,h=(h/l-r)*s,a=0;a<l;++a)c=i[a],u&&(c.x-=u),d&&(c.y-=d),h&&(c.z-=h)}return o.initialize=function(a){i=a},o.x=function(a){return arguments.length?(n=+a,o):n},o.y=function(a){return arguments.length?(e=+a,o):e},o.z=function(a){return arguments.length?(r=+a,o):r},o.strength=function(a){return arguments.length?(s=+a,o):s},o}function Odt(n){const e=+this._x.call(null,n);return Sye(this.cover(e),e,n)}function Sye(n,e,r){if(isNaN(e))return n;var i,s=n._root,o={data:r},a=n._x0,l=n._x1,c,u,d,h,f;if(!s)return n._root=o,n;for(;s.length;)if((d=e>=(c=(a+l)/2))?a=c:l=c,i=s,!(s=s[h=+d]))return i[h]=o,n;if(u=+n._x.call(null,s.data),e===u)return o.next=s,i?i[h]=o:n._root=o,n;do i=i?i[h]=new Array(2):n._root=new Array(2),(d=e>=(c=(a+l)/2))?a=c:l=c;while((h=+d)==(f=+(u>=c)));return i[f]=s,i[h]=o,n}function Ddt(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,s=-1/0;for(let o=0,a;o<e;++o)isNaN(a=+this._x.call(null,n[o]))||(r[o]=a,a<i&&(i=a),a>s&&(s=a));if(i>s)return this;this.cover(i).cover(s);for(let o=0;o<e;++o)Sye(this,r[o],n[o]);return this}function Rdt(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,s=this._root,o,a;e>n||n>=r;)switch(a=+(n<e),o=new Array(2),o[a]=s,s=o,i*=2,a){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=r,this}function Ndt(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function jdt(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Jc(n,e,r){this.node=n,this.x0=e,this.x1=r}function Bdt(n,e){var r,i=this._x0,s,o,a=this._x1,l=[],c=this._root,u,d;for(c&&l.push(new Jc(c,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=l.pop();)if(!(!(c=u.node)||(s=u.x0)>a||(o=u.x1)<i))if(c.length){var h=(s+o)/2;l.push(new Jc(c[1],h,o),new Jc(c[0],s,h)),(d=+(n>=h))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-d],l[l.length-1-d]=u)}else{var f=Math.abs(n-+this._x.call(null,c.data));f<e&&(e=f,i=n-f,a=n+f,r=c.data)}return r}function Ldt(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._x1,c,u,d,h,f;if(!r)return this;if(r.length)for(;;){if((d=c>=(u=(a+l)/2))?a=u:l=u,e=r,!(r=r[h=+d]))return this;if(!r.length)break;e[h+1&1]&&(i=e,f=h)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[h]=o:delete e[h],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[f]=r:this._root=r),this):(this._root=o,this)}function Fdt(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function $dt(){return this._root}function zdt(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Udt(n){var e=[],r,i=this._root,s,o,a;for(i&&e.push(new Jc(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.x1)&&i.length){var l=(o+a)/2;(s=i[1])&&e.push(new Jc(s,l,a)),(s=i[0])&&e.push(new Jc(s,o,l))}return this}function Wdt(n){var e=[],r=[],i;for(this._root&&e.push(new Jc(this._root,this._x0,this._x1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.x1,c=(a+l)/2;(o=s[0])&&e.push(new Jc(o,a,c)),(o=s[1])&&e.push(new Jc(o,c,l))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function qdt(n){return n[0]}function Hdt(n){return arguments.length?(this._x=n,this):this._x}function kye(n,e){var r=new xL(e??qdt,NaN,NaN);return n==null?r:r.addAll(n)}function xL(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function Rie(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Us=kye.prototype=xL.prototype;Us.copy=function(){var n=new xL(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Rie(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var s=0;s<2;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(2)}):e.target[s]=Rie(i));return n};Us.add=Odt;Us.addAll=Ddt;Us.cover=Rdt;Us.data=Ndt;Us.extent=jdt;Us.find=Bdt;Us.remove=Ldt;Us.removeAll=Fdt;Us.root=$dt;Us.size=zdt;Us.visit=Udt;Us.visitAfter=Wdt;Us.x=Hdt;function Vdt(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return Cye(this.cover(e,r,i),e,r,i,n)}function Cye(n,e,r,i,s){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var o,a=n._root,l={data:s},c=n._x0,u=n._y0,d=n._z0,h=n._x1,f=n._y1,p=n._z1,m,b,y,v,w,_,x,S,C,E,T;if(!a)return n._root=l,n;for(;a.length;)if((x=e>=(m=(c+h)/2))?c=m:h=m,(S=r>=(b=(u+f)/2))?u=b:f=b,(C=i>=(y=(d+p)/2))?d=y:p=y,o=a,!(a=a[E=C<<2|S<<1|x]))return o[E]=l,n;if(v=+n._x.call(null,a.data),w=+n._y.call(null,a.data),_=+n._z.call(null,a.data),e===v&&r===w&&i===_)return l.next=a,o?o[E]=l:n._root=l,n;do o=o?o[E]=new Array(8):n._root=new Array(8),(x=e>=(m=(c+h)/2))?c=m:h=m,(S=r>=(b=(u+f)/2))?u=b:f=b,(C=i>=(y=(d+p)/2))?d=y:p=y;while((E=C<<2|S<<1|x)===(T=(_>=y)<<2|(w>=b)<<1|v>=m));return o[T]=a,o[E]=l,n}function Gdt(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),s=new Float64Array(e);let o=1/0,a=1/0,l=1/0,c=-1/0,u=-1/0,d=-1/0;for(let h=0,f,p,m,b;h<e;++h)isNaN(p=+this._x.call(null,f=n[h]))||isNaN(m=+this._y.call(null,f))||isNaN(b=+this._z.call(null,f))||(r[h]=p,i[h]=m,s[h]=b,p<o&&(o=p),p>c&&(c=p),m<a&&(a=m),m>u&&(u=m),b<l&&(l=b),b>d&&(d=b));if(o>c||a>u||l>d)return this;this.cover(o,a,l).cover(c,u,d);for(let h=0;h<e;++h)Cye(this,r[h],i[h],s[h],n[h]);return this}function Ydt(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,s=this._y0,o=this._z0,a=this._x1,l=this._y1,c=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,l=(s=Math.floor(e))+1,c=(o=Math.floor(r))+1;else{for(var u=a-i||1,d=this._root,h,f;i>n||n>=a||s>e||e>=l||o>r||r>=c;)switch(f=(r<o)<<2|(e<s)<<1|n<i,h=new Array(8),h[f]=d,d=h,u*=2,f){case 0:a=i+u,l=s+u,c=o+u;break;case 1:i=a-u,l=s+u,c=o+u;break;case 2:a=i+u,s=l-u,c=o+u;break;case 3:i=a-u,s=l-u,c=o+u;break;case 4:a=i+u,l=s+u,o=c-u;break;case 5:i=a-u,l=s+u,o=c-u;break;case 6:a=i+u,s=l-u,o=c-u;break;case 7:i=a-u,s=l-u,o=c-u;break}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=s,this._z0=o,this._x1=a,this._y1=l,this._z1=c,this}function Kdt(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Xdt(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Fn(n,e,r,i,s,o,a){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=s,this.y1=o,this.z1=a}function Qdt(n,e,r,i){var s,o=this._x0,a=this._y0,l=this._z0,c,u,d,h,f,p,m=this._x1,b=this._y1,y=this._z1,v=[],w=this._root,_,x;for(w&&v.push(new Fn(w,o,a,l,m,b,y)),i==null?i=1/0:(o=n-i,a=e-i,l=r-i,m=n+i,b=e+i,y=r+i,i*=i);_=v.pop();)if(!(!(w=_.node)||(c=_.x0)>m||(u=_.y0)>b||(d=_.z0)>y||(h=_.x1)<o||(f=_.y1)<a||(p=_.z1)<l))if(w.length){var S=(c+h)/2,C=(u+f)/2,E=(d+p)/2;v.push(new Fn(w[7],S,C,E,h,f,p),new Fn(w[6],c,C,E,S,f,p),new Fn(w[5],S,u,E,h,C,p),new Fn(w[4],c,u,E,S,C,p),new Fn(w[3],S,C,d,h,f,E),new Fn(w[2],c,C,d,S,f,E),new Fn(w[1],S,u,d,h,C,E),new Fn(w[0],c,u,d,S,C,E)),(x=(r>=E)<<2|(e>=C)<<1|n>=S)&&(_=v[v.length-1],v[v.length-1]=v[v.length-1-x],v[v.length-1-x]=_)}else{var T=n-+this._x.call(null,w.data),M=e-+this._y.call(null,w.data),I=r-+this._z.call(null,w.data),O=T*T+M*M+I*I;if(O<i){var F=Math.sqrt(i=O);o=n-F,a=e-F,l=r-F,m=n+F,b=e+F,y=r+F,s=w.data}}return s}const Jdt=(n,e,r,i,s,o)=>Math.sqrt((n-i)**2+(e-s)**2+(r-o)**2);function Zdt(n,e,r,i){const s=[],o=n-i,a=e-i,l=r-i,c=n+i,u=e+i,d=r+i;return this.visit((h,f,p,m,b,y,v)=>{if(!h.length)do{const w=h.data;Jdt(n,e,r,this._x(w),this._y(w),this._z(w))<=i&&s.push(w)}while(h=h.next);return f>c||p>u||m>d||b<o||y<a||v<l}),s}function eht(n){if(isNaN(f=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n))||isNaN(m=+this._z.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._y0,c=this._z0,u=this._x1,d=this._y1,h=this._z1,f,p,m,b,y,v,w,_,x,S,C;if(!r)return this;if(r.length)for(;;){if((w=f>=(b=(a+u)/2))?a=b:u=b,(_=p>=(y=(l+d)/2))?l=y:d=y,(x=m>=(v=(c+h)/2))?c=v:h=v,e=r,!(r=r[S=x<<2|_<<1|w]))return this;if(!r.length)break;(e[S+1&7]||e[S+2&7]||e[S+3&7]||e[S+4&7]||e[S+5&7]||e[S+6&7]||e[S+7&7])&&(i=e,C=S)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[S]=o:delete e[S],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[C]=r:this._root=r),this):(this._root=o,this)}function tht(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function nht(){return this._root}function rht(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function iht(n){var e=[],r,i=this._root,s,o,a,l,c,u,d;for(i&&e.push(new Fn(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.y0,l=r.z0,c=r.x1,u=r.y1,d=r.z1)&&i.length){var h=(o+c)/2,f=(a+u)/2,p=(l+d)/2;(s=i[7])&&e.push(new Fn(s,h,f,p,c,u,d)),(s=i[6])&&e.push(new Fn(s,o,f,p,h,u,d)),(s=i[5])&&e.push(new Fn(s,h,a,p,c,f,d)),(s=i[4])&&e.push(new Fn(s,o,a,p,h,f,d)),(s=i[3])&&e.push(new Fn(s,h,f,l,c,u,p)),(s=i[2])&&e.push(new Fn(s,o,f,l,h,u,p)),(s=i[1])&&e.push(new Fn(s,h,a,l,c,f,p)),(s=i[0])&&e.push(new Fn(s,o,a,l,h,f,p))}return this}function sht(n){var e=[],r=[],i;for(this._root&&e.push(new Fn(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.z0,u=i.x1,d=i.y1,h=i.z1,f=(a+u)/2,p=(l+d)/2,m=(c+h)/2;(o=s[0])&&e.push(new Fn(o,a,l,c,f,p,m)),(o=s[1])&&e.push(new Fn(o,f,l,c,u,p,m)),(o=s[2])&&e.push(new Fn(o,a,p,c,f,d,m)),(o=s[3])&&e.push(new Fn(o,f,p,c,u,d,m)),(o=s[4])&&e.push(new Fn(o,a,l,m,f,p,h)),(o=s[5])&&e.push(new Fn(o,f,l,m,u,p,h)),(o=s[6])&&e.push(new Fn(o,a,p,m,f,d,h)),(o=s[7])&&e.push(new Fn(o,f,p,m,u,d,h))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function oht(n){return n[0]}function aht(n){return arguments.length?(this._x=n,this):this._x}function lht(n){return n[1]}function cht(n){return arguments.length?(this._y=n,this):this._y}function uht(n){return n[2]}function dht(n){return arguments.length?(this._z=n,this):this._z}function Eye(n,e,r,i){var s=new _L(e??oht,r??lht,i??uht,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?s:s.addAll(n)}function _L(n,e,r,i,s,o,a,l,c){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=s,this._z0=o,this._x1=a,this._y1=l,this._z1=c,this._root=void 0}function Nie(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Ei=Eye.prototype=_L.prototype;Ei.copy=function(){var n=new _L(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Nie(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var s=0;s<8;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(8)}):e.target[s]=Nie(i));return n};Ei.add=Vdt;Ei.addAll=Gdt;Ei.cover=Ydt;Ei.data=Kdt;Ei.extent=Xdt;Ei.find=Qdt;Ei.findAllWithinRadius=Zdt;Ei.remove=eht;Ei.removeAll=tht;Ei.root=nht;Ei.size=rht;Ei.visit=iht;Ei.visitAfter=sht;Ei.x=aht;Ei.y=cht;Ei.z=dht;function Fc(n){return function(){return n}}function Sc(n){return(n()-.5)*1e-6}function hht(n){return n.index}function jie(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function fht(n){var e=hht,r=f,i,s=Fc(30),o,a,l,c,u,d,h=1;n==null&&(n=[]);function f(v){return 1/Math.min(c[v.source.index],c[v.target.index])}function p(v){for(var w=0,_=n.length;w<h;++w)for(var x=0,S,C,E,T=0,M=0,I=0,O,F;x<_;++x)S=n[x],C=S.source,E=S.target,T=E.x+E.vx-C.x-C.vx||Sc(d),l>1&&(M=E.y+E.vy-C.y-C.vy||Sc(d)),l>2&&(I=E.z+E.vz-C.z-C.vz||Sc(d)),O=Math.sqrt(T*T+M*M+I*I),O=(O-o[x])/O*v*i[x],T*=O,M*=O,I*=O,E.vx-=T*(F=u[x]),l>1&&(E.vy-=M*F),l>2&&(E.vz-=I*F),C.vx+=T*(F=1-F),l>1&&(C.vy+=M*F),l>2&&(C.vz+=I*F)}function m(){if(a){var v,w=a.length,_=n.length,x=new Map(a.map((C,E)=>[e(C,E,a),C])),S;for(v=0,c=new Array(w);v<_;++v)S=n[v],S.index=v,typeof S.source!="object"&&(S.source=jie(x,S.source)),typeof S.target!="object"&&(S.target=jie(x,S.target)),c[S.source.index]=(c[S.source.index]||0)+1,c[S.target.index]=(c[S.target.index]||0)+1;for(v=0,u=new Array(_);v<_;++v)S=n[v],u[v]=c[S.source.index]/(c[S.source.index]+c[S.target.index]);i=new Array(_),b(),o=new Array(_),y()}}function b(){if(a)for(var v=0,w=n.length;v<w;++v)i[v]=+r(n[v],v,n)}function y(){if(a)for(var v=0,w=n.length;v<w;++v)o[v]=+s(n[v],v,n)}return p.initialize=function(v,...w){a=v,d=w.find(_=>typeof _=="function")||Math.random,l=w.find(_=>[1,2,3].includes(_))||2,m()},p.links=function(v){return arguments.length?(n=v,m(),p):n},p.id=function(v){return arguments.length?(e=v,p):e},p.iterations=function(v){return arguments.length?(h=+v,p):h},p.strength=function(v){return arguments.length?(r=typeof v=="function"?v:Fc(+v),b(),p):r},p.distance=function(v){return arguments.length?(s=typeof v=="function"?v:Fc(+v),y(),p):s},p}const pht=1664525,mht=1013904223,Bie=4294967296;function ght(){let n=1;return()=>(n=(pht*n+mht)%Bie)/Bie}var Lie=3;function CD(n){return n.x}function Fie(n){return n.y}function bht(n){return n.z}var yht=10,vht=Math.PI*(3-Math.sqrt(5)),wht=Math.PI*20/(9+Math.sqrt(221));function xht(n,e){e=e||2;var r=Math.min(Lie,Math.max(1,Math.round(e))),i,s=1,o=.001,a=1-Math.pow(o,1/300),l=0,c=.6,u=new Map,d=G9(p),h=Ex("tick","end"),f=ght();n==null&&(n=[]);function p(){m(),h.call("tick",i),s<o&&(d.stop(),h.call("end",i))}function m(v){var w,_=n.length,x;v===void 0&&(v=1);for(var S=0;S<v;++S)for(s+=(l-s)*a,u.forEach(function(C){C(s)}),w=0;w<_;++w)x=n[w],x.fx==null?x.x+=x.vx*=c:(x.x=x.fx,x.vx=0),r>1&&(x.fy==null?x.y+=x.vy*=c:(x.y=x.fy,x.vy=0)),r>2&&(x.fz==null?x.z+=x.vz*=c:(x.z=x.fz,x.vz=0));return i}function b(){for(var v=0,w=n.length,_;v<w;++v){if(_=n[v],_.index=v,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),_.fz!=null&&(_.z=_.fz),isNaN(_.x)||r>1&&isNaN(_.y)||r>2&&isNaN(_.z)){var x=yht*(r>2?Math.cbrt(.5+v):r>1?Math.sqrt(.5+v):v),S=v*vht,C=v*wht;r===1?_.x=x:r===2?(_.x=x*Math.cos(S),_.y=x*Math.sin(S)):(_.x=x*Math.sin(S)*Math.cos(C),_.y=x*Math.cos(S),_.z=x*Math.sin(S)*Math.sin(C))}(isNaN(_.vx)||r>1&&isNaN(_.vy)||r>2&&isNaN(_.vz))&&(_.vx=0,r>1&&(_.vy=0),r>2&&(_.vz=0))}}function y(v){return v.initialize&&v.initialize(n,f,r),v}return b(),i={tick:m,restart:function(){return d.restart(p),i},stop:function(){return d.stop(),i},numDimensions:function(v){return arguments.length?(r=Math.min(Lie,Math.max(1,Math.round(v))),u.forEach(y),i):r},nodes:function(v){return arguments.length?(n=v,b(),u.forEach(y),i):n},alpha:function(v){return arguments.length?(s=+v,i):s},alphaMin:function(v){return arguments.length?(o=+v,i):o},alphaDecay:function(v){return arguments.length?(a=+v,i):+a},alphaTarget:function(v){return arguments.length?(l=+v,i):l},velocityDecay:function(v){return arguments.length?(c=1-v,i):1-c},randomSource:function(v){return arguments.length?(f=v,u.forEach(y),i):f},force:function(v,w){return arguments.length>1?(w==null?u.delete(v):u.set(v,y(w)),i):u.get(v)},find:function(){var v=Array.prototype.slice.call(arguments),w=v.shift()||0,_=(r>1?v.shift():null)||0,x=(r>2?v.shift():null)||0,S=v.shift()||1/0,C=0,E=n.length,T,M,I,O,F,$;for(S*=S,C=0;C<E;++C)F=n[C],T=w-F.x,M=_-(F.y||0),I=x-(F.z||0),O=T*T+M*M+I*I,O<S&&($=F,S=O);return $},on:function(v,w){return arguments.length>1?(h.on(v,w),i):h.on(v)}}}function _ht(){var n,e,r,i,s,o=Fc(-30),a,l=1,c=1/0,u=.81;function d(m){var b,y=n.length,v=(e===1?kye(n,CD):e===2?Xme(n,CD,Fie):e===3?Eye(n,CD,Fie,bht):null).visitAfter(f);for(s=m,b=0;b<y;++b)r=n[b],v.visit(p)}function h(){if(n){var m,b=n.length,y;for(a=new Array(b),m=0;m<b;++m)y=n[m],a[y.index]=+o(y,m,n)}}function f(m){var b=0,y,v,w=0,_,x,S,C,E=m.length;if(E){for(_=x=S=C=0;C<E;++C)(y=m[C])&&(v=Math.abs(y.value))&&(b+=y.value,w+=v,_+=v*(y.x||0),x+=v*(y.y||0),S+=v*(y.z||0));b*=Math.sqrt(4/E),m.x=_/w,e>1&&(m.y=x/w),e>2&&(m.z=S/w)}else{y=m,y.x=y.data.x,e>1&&(y.y=y.data.y),e>2&&(y.z=y.data.z);do b+=a[y.data.index];while(y=y.next)}m.value=b}function p(m,b,y,v,w){if(!m.value)return!0;var _=[y,v,w][e-1],x=m.x-r.x,S=e>1?m.y-r.y:0,C=e>2?m.z-r.z:0,E=_-b,T=x*x+S*S+C*C;if(E*E/u<T)return T<c&&(x===0&&(x=Sc(i),T+=x*x),e>1&&S===0&&(S=Sc(i),T+=S*S),e>2&&C===0&&(C=Sc(i),T+=C*C),T<l&&(T=Math.sqrt(l*T)),r.vx+=x*m.value*s/T,e>1&&(r.vy+=S*m.value*s/T),e>2&&(r.vz+=C*m.value*s/T)),!0;if(m.length||T>=c)return;(m.data!==r||m.next)&&(x===0&&(x=Sc(i),T+=x*x),e>1&&S===0&&(S=Sc(i),T+=S*S),e>2&&C===0&&(C=Sc(i),T+=C*C),T<l&&(T=Math.sqrt(l*T)));do m.data!==r&&(E=a[m.data.index]*s/T,r.vx+=x*E,e>1&&(r.vy+=S*E),e>2&&(r.vz+=C*E));while(m=m.next)}return d.initialize=function(m,...b){n=m,i=b.find(y=>typeof y=="function")||Math.random,e=b.find(y=>[1,2,3].includes(y))||2,h()},d.strength=function(m){return arguments.length?(o=typeof m=="function"?m:Fc(+m),h(),d):o},d.distanceMin=function(m){return arguments.length?(l=m*m,d):Math.sqrt(l)},d.distanceMax=function(m){return arguments.length?(c=m*m,d):Math.sqrt(c)},d.theta=function(m){return arguments.length?(u=m*m,d):Math.sqrt(u)},d}function Sht(n,e,r,i){var s,o,a=Fc(.1),l,c;typeof n!="function"&&(n=Fc(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function u(h){for(var f=0,p=s.length;f<p;++f){var m=s[f],b=m.x-e||1e-6,y=(m.y||0)-r||1e-6,v=(m.z||0)-i||1e-6,w=Math.sqrt(b*b+y*y+v*v),_=(c[f]-w)*l[f]*h/w;m.vx+=b*_,o>1&&(m.vy+=y*_),o>2&&(m.vz+=v*_)}}function d(){if(s){var h,f=s.length;for(l=new Array(f),c=new Array(f),h=0;h<f;++h)c[h]=+n(s[h],h,s),l[h]=isNaN(c[h])?0:+a(s[h],h,s)}}return u.initialize=function(h,...f){s=h,o=f.find(p=>[1,2,3].includes(p))||2,d()},u.strength=function(h){return arguments.length?(a=typeof h=="function"?h:Fc(+h),d(),u):a},u.radius=function(h){return arguments.length?(n=typeof h=="function"?h:Fc(+h),d(),u):n},u.x=function(h){return arguments.length?(e=+h,u):e},u.y=function(h){return arguments.length?(r=+h,u):r},u.z=function(h){return arguments.length?(i=+h,u):i},u}const{abs:ay,cos:dc,sin:um,acos:kht,atan2:ly,sqrt:qu,pow:Ro}=Math;function cy(n){return n<0?-Ro(-n,1/3):Ro(n,1/3)}const Aye=Math.PI,H_=2*Aye,Hu=Aye/2,Cht=1e-6,ED=Number.MAX_SAFE_INTEGER||9007199254740991,AD=Number.MIN_SAFE_INTEGER||-9007199254740991,Eht={x:0,y:0,z:0},ut={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),qu(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const s=1-n;let o=e;if(i===0)return e[0].t=n,e[0];if(i===1){const l={x:s*o[0].x+n*o[1].x,y:s*o[0].y+n*o[1].y,t:n};return r&&(l.z=s*o[0].z+n*o[1].z),l}if(i<4){let l=s*s,c=n*n,u,d,h,f=0;i===2?(o=[o[0],o[1],o[2],Eht],u=l,d=s*n*2,h=c):i===3&&(u=l*s,d=l*n*3,h=s*c*3,f=n*c);const p={x:u*o[0].x+d*o[1].x+h*o[2].x+f*o[3].x,y:u*o[0].y+d*o[1].y+h*o[2].y+f*o[3].y,t:n};return r&&(p.z=u*o[0].z+d*o[1].z+h*o[2].z+f*o[3].z),p}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*n,y:a[l].y+(a[l+1].y-a[l].y)*n},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*n);a.splice(a.length-1,1)}return a[0].t=n,a[0]},computeWithRatios:function(n,e,r,i){const s=1-n,o=r,a=e;let l=o[0],c=o[1],u=o[2],d=o[3],h;if(l*=s,c*=n,a.length===2)return h=l+c,{x:(l*a[0].x+c*a[1].x)/h,y:(l*a[0].y+c*a[1].y)/h,z:i?(l*a[0].z+c*a[1].z)/h:!1,t:n};if(l*=s,c*=2*s,u*=n*n,a.length===3)return h=l+c+u,{x:(l*a[0].x+c*a[1].x+u*a[2].x)/h,y:(l*a[0].y+c*a[1].y+u*a[2].y)/h,z:i?(l*a[0].z+c*a[1].z+u*a[2].z)/h:!1,t:n};if(l*=s,c*=1.5*s,u*=3*s,d*=n*n*n,a.length===4)return h=l+c+u+d,{x:(l*a[0].x+c*a[1].x+u*a[2].x+d*a[3].x)/h,y:(l*a[0].y+c*a[1].y+u*a[2].y+d*a[3].y)/h,z:i?(l*a[0].z+c*a[1].z+u*a[2].z+d*a[3].z)/h:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,s=i.length,o=s-1;s>1;s--,o--){const a=[];for(let l=0,c;l<o;l++)c={x:o*(i[l+1].x-i[l].x),y:o*(i[l+1].y-i[l].y)},e&&(c.z=o*(i[l+1].z-i[l].z)),a.push(c);r.push(a),i=a}return r},between:function(n,e,r){return e<=n&&n<=r||ut.approximately(n,e)||ut.approximately(n,r)},approximately:function(n,e,r){return ay(n-e)<=(r||Cht)},length:function(n){const r=ut.Tvalues.length;let i=0;for(let s=0,o;s<r;s++)o=.5*ut.Tvalues[s]+.5,i+=ut.Cvalues[s]*ut.arcfn(o,n);return .5*i},map:function(n,e,r,i,s){const o=r-e,a=s-i,l=n-e,c=l/o;return i+a*c},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(ut.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-n.x,a=r.y-n.y,l=i*a-s*o,c=i*o+s*a;return ly(l,c)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return qu(r*r+i*i)},closest:function(n,e){let r=Ro(2,63),i,s;return n.forEach(function(o,a){s=ut.dist(e,o),s<r&&(r=s,i=a)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Ro(n,e)+Ro(1-n,e),i=r-1;return ay(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Ro(1-n,e),i=Ro(n,e)+r;return r/i},lli8:function(n,e,r,i,s,o,a,l){const c=(n*i-e*r)*(s-a)-(n-r)*(s*l-o*a),u=(n*i-e*r)*(o-l)-(e-i)*(s*l-o*a),d=(n-r)*(o-l)-(e-i)*(s-a);return d==0?!1:{x:c/d,y:u/d}},lli4:function(n,e,r,i){const s=n.x,o=n.y,a=e.x,l=e.y,c=r.x,u=r.y,d=i.x,h=i.y;return ut.lli8(s,o,a,l,c,u,d,h)},lli:function(n,e){return ut.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new Kn(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=ED,r=ED,i=AD,s=AD;return n.forEach(function(o){const a=o.bbox();e>a.x.min&&(e=a.x.min),r>a.y.min&&(r=a.y.min),i<a.x.max&&(i=a.x.max),s<a.y.max&&(s=a.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(n,e,r,i,s){if(!ut.bboxoverlap(e,i))return[];const o=[],a=[n.startcap,n.forward,n.back,n.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const d=c.intersects(u,s);d.length>0&&(d.c1=c,d.c2=u,d.s1=n,d.s2=r,o.push(d))})}),o},makeshape:function(n,e,r){const i=e.points.length,s=n.points.length,o=ut.makeline(e.points[i-1],n.points[0]),a=ut.makeline(n.points[s-1],e.points[0]),l={startcap:o,forward:n,back:e,endcap:a,bbox:ut.findbbox([o,n,e,a])};return l.intersections=function(c){return ut.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=ED,s=AD,o,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)o=r[l],a=n.get(o),a[e]<i&&(i=a[e]),a[e]>s&&(s=a[e]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,s=-ly(e.p2.y-i,e.p2.x-r),o=function(a){return{x:(a.x-r)*dc(s)-(a.y-i)*um(s),y:(a.x-r)*um(s)+(a.y-i)*dc(s)}};return n.map(o)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=ut.align(n,e),s=function(E){return 0<=E&&E<=1};if(r===2){const E=i[0].y,T=i[1].y,M=i[2].y,I=E-2*T+M;if(I!==0){const O=-qu(T*T-E*M),F=-E+T,$=-(O+F)/I,z=-(-O+F)/I;return[$,z].filter(s)}else if(T!==M&&I===0)return[(2*T-M)/(2*T-2*M)].filter(s);return[]}const o=i[0].y,a=i[1].y,l=i[2].y,c=i[3].y;let u=-o+3*a-3*l+c,d=3*o-6*a+3*l,h=-3*o+3*a,f=o;if(ut.approximately(u,0)){if(ut.approximately(d,0))return ut.approximately(h,0)?[]:[-f/h].filter(s);const E=qu(h*h-4*d*f),T=2*d;return[(E-h)/T,(-h-E)/T].filter(s)}d/=u,h/=u,f/=u;const p=(3*h-d*d)/3,m=p/3,b=(2*d*d*d-9*d*h+27*f)/27,y=b/2,v=y*y+m*m*m;let w,_,x,S,C;if(v<0){const E=-p/3,T=E*E*E,M=qu(T),I=-b/(2*M),O=I<-1?-1:I>1?1:I,F=kht(O),$=cy(M),z=2*$;return x=z*dc(F/3)-d/3,S=z*dc((F+H_)/3)-d/3,C=z*dc((F+2*H_)/3)-d/3,[x,S,C].filter(s)}else{if(v===0)return w=y<0?cy(-y):-cy(y),x=2*w-d/3,S=-w-d/3,[x,S].filter(s);{const E=qu(v);return w=cy(-y+E),_=cy(y+E),[w-_-d/3].filter(s)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],s=e-2*r+i;if(s!==0){const o=-qu(r*r-e*i),a=-e+r,l=-(o+a)/s,c=-(-o+a)/s;return[l,c]}else if(r!==i&&s===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,s){let o,a,l,c,u=0,d=0;const h=ut.compute(n,e),f=ut.compute(n,r),p=h.x*h.x+h.y*h.y;if(i?(o=qu(Ro(h.y*f.z-f.y*h.z,2)+Ro(h.z*f.x-f.z*h.x,2)+Ro(h.x*f.y-f.x*h.y,2)),a=Ro(p+h.z*h.z,3/2)):(o=h.x*f.y-h.y*f.x,a=Ro(p,3/2)),o===0||a===0)return{k:0,r:0};if(u=o/a,d=a/o,!s){const m=ut.curvature(n-.001,e,r,i,!0).k,b=ut.curvature(n+.001,e,r,i,!0).k;c=(b-u+(u-m))/2,l=(ay(b-u)+ay(u-m))/2}return{k:u,r:d,dk:c,adk:l}},inflections:function(n){if(n.length<4)return[];const e=ut.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,s=e[1].x*e[2].y,o=e[3].x*e[2].y,a=18*(-3*r+2*i+3*s-o),l=18*(3*r-i-3*s),c=18*(s-r);if(ut.approximately(a,0)){if(!ut.approximately(l,0)){let f=-c/l;if(0<=f&&f<=1)return[f]}return[]}const u=2*a;if(ut.approximately(u,0))return[];const d=l*l-4*a*c;if(d<0)return[];const h=Math.sqrt(d);return[(h-l)/u,-(l+h)/u].filter(function(f){return 0<=f&&f<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let s=0,o,a,l,c;s<i;s++)if(o=r[s],a=n[o].mid,l=e[o].mid,c=(n[o].size+e[o].size)/2,ay(a-l)>=c)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),s=e.bbox(),o=1e5,a=r||.5;if(i.x.size+i.y.size<a&&s.x.size+s.y.size<a)return[(o*(n._t1+n._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let l=n.split(.5),c=e.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(h){return ut.bboxoverlap(h.left.bbox(),h.right.bbox())});let d=[];return u.length===0||(u.forEach(function(h){d=d.concat(ut.pairiteration(h.left,h.right,a))}),d=d.filter(function(h,f){return d.indexOf(h)===f})),d},getccenter:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-e.x,a=r.y-e.y,l=i*dc(Hu)-s*um(Hu),c=i*um(Hu)+s*dc(Hu),u=o*dc(Hu)-a*um(Hu),d=o*um(Hu)+a*dc(Hu),h=(n.x+e.x)/2,f=(n.y+e.y)/2,p=(e.x+r.x)/2,m=(e.y+r.y)/2,b=h+l,y=f+c,v=p+u,w=m+d,_=ut.lli8(h,f,b,y,p,m,v,w),x=ut.dist(_,n);let S=ly(n.y-_.y,n.x-_.x),C=ly(e.y-_.y,e.x-_.x),E=ly(r.y-_.y,r.x-_.x),T;return S<E?((S>C||C>E)&&(S+=H_),S>E&&(T=E,E=S,S=T)):E<C&&C<S?(T=E,E=S,S=T):E+=H_,_.s=S,_.e=E,_.r=x,_},numberSort:function(n,e){return n-e}};class dv{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return ut.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)ut.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new dv(r)}}const{abs:uy,min:$ie,max:zie,cos:Aht,sin:Tht,acos:Pht,sqrt:dy}=Math,Iht=Math.PI;class Kn{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const p=[];r.forEach(function(m){["x","y","z"].forEach(function(b){typeof m[b]<"u"&&p.push(m[b])})}),r=p}let s=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!s&&(o===9||o===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let p=0,m=a?3:2;p<o;p+=m){var c={x:r[p],y:r[p+1]};a&&(c.z=r[p+2]),l.push(c)}const u=this.order=l.length-1,d=this.dims=["x","y"];a&&d.push("z"),this.dimlen=d.length;const h=ut.align(l,{p1:l[0],p2:l[u]}),f=ut.dist(l[0],l[u]);this._linear=h.reduce((p,m)=>p+uy(m.y),0)<f/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,s){if(typeof s>"u"&&(s=.5),s===0)return new Kn(r,r,i);if(s===1)return new Kn(e,r,r);const o=Kn.getABC(2,e,r,i,s);return new Kn(e,o.A,i)}static cubicFromPoints(e,r,i,s,o){typeof s>"u"&&(s=.5);const a=Kn.getABC(3,e,r,i,s);typeof o>"u"&&(o=ut.dist(r,a.C));const l=o*(1-s)/s,c=ut.dist(e,i),u=(i.x-e.x)/c,d=(i.y-e.y)/c,h=o*u,f=o*d,p=l*u,m=l*d,b={x:r.x-h,y:r.y-f},y={x:r.x+p,y:r.y+m},v=a.A,w={x:v.x+(b.x-v.x)/(1-s),y:v.y+(b.y-v.y)/(1-s)},_={x:v.x+(y.x-v.x)/s,y:v.y+(y.y-v.y)/s},x={x:e.x+(w.x-e.x)/s,y:e.y+(w.y-e.y)/s},S={x:i.x+(_.x-i.x)/(1-s),y:i.y+(_.y-i.y)/(1-s)};return new Kn(e,x,S,i)}static getUtils(){return ut}getUtils(){return Kn.getUtils()}static get PolyBezier(){return dv}valueOf(){return this.toString()}toString(){return ut.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,s=["M",r,i,this.order===2?"Q":"C"];for(let o=1,a=e.length;o<a;o++)s.push(e[o].x),s.push(e[o].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=ut.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=ut.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return ut.length(this.derivative.bind(this))}static getABC(e=2,r,i,s,o=.5){const a=ut.projectionratio(o,e),l=1-a,c={x:a*r.x+l*s.x,y:a*r.y+l*s.y},u=ut.abcratio(o,e);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c,S:r,E:s}}getABC(e,r){r=r||this.get(e);let i=this.points[0],s=this.points[this.order];return Kn.getABC(this.order,i,r,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,s;r<e;r++)s=r/(e-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),s=[];for(let o=0,a,l=0;o<i.length;o++)a=i[o],ut.dist(a,e)<r&&(s.push(a),l+=o/i.length);return s.length?t/=s.length:!1}project(e){const r=this.getLUT(),i=r.length-1,s=ut.closest(r,e),o=s.mpos,a=(o-1)/i,l=(o+1)/i,c=.1/i;let u=s.mdist,d=a,h=d,f;u+=1;for(let p;d<l+c;d+=c)f=this.compute(d),p=ut.dist(e,f),p<u&&(u=p,h=d);return h=h<0?0:h>1?1:h,f=this.compute(h),f.t=h,f.d=u,f}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?ut.computeWithRatios(e,this.points,this.ratios,this._3d):ut.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let s=1,o,a;s<i;s++)o=e[s],a=e[s-1],r[s]={x:(i-s)/i*o.x+s/i*a.x,y:(i-s)/i*o.y+s/i*a.y};return r[i]=e[i-1],new Kn(r)}derivative(e){return ut.compute(e,this.dpoints[0],this._3d)}dderivative(e){return ut.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new Kn(ut.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return ut.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ut.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=dy(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),s=dy(r.x*r.x+r.y*r.y+r.z*r.z),o=dy(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=s,r.y/=s,r.z/=s,i.x/=o,i.y/=o,i.z/=o;const a={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},l=dy(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const c=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(e){let r=this.points,i=[],s=[],o=0;for(s[o++]=r[0],s[o++]=r[1],s[o++]=r[2],this.order===3&&(s[o++]=r[3]);r.length>1;){i=[];for(let a=0,l,c=r.length-1;a<c;a++)l=ut.lerp(e,r[a],r[a+1]),s[o++]=l,i.push(l);r=i}return s}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),s={left:this.order===2?new Kn([i[0],i[3],i[5]]):new Kn([i[0],i[4],i[7],i[9]]),right:this.order===2?new Kn([i[5],i[4],i[2]]):new Kn([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=ut.map(0,0,1,this._t1,this._t2),s.left._t2=ut.map(e,0,1,this._t1,this._t2),s.right._t1=ut.map(e,0,1,this._t1,this._t2),s.right._t2=ut.map(1,0,1,this._t1,this._t2),r?(r=ut.map(r,e,1,0,1),s.right.split(r).left):s}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let s=function(a){return a[i]},o=this.dpoints[0].map(s);e[i]=ut.droots(o),this.order===3&&(o=this.dpoints[1].map(s),e[i]=e[i].concat(ut.droots(o))),e[i]=e[i].filter(function(a){return a>=0&&a<=1}),r=r.concat(e[i].sort(ut.numberSort))}).bind(this)),e.values=r.sort(ut.numberSort).filter(function(i,s){return r.indexOf(i)===s}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=ut.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return ut.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),s=this.normal(e),o={c:i,n:s,x:i.x+s.x*r,y:i.y+s.y*r};return this._3d&&(o.z=i.z+s.z*r),o}if(this._linear){const i=this.normal(0),s=this.points.map(function(o){const a={x:o.x+e*i.x,y:o.y+e*i.y};return o.z&&i.z&&(a.z=o.z+e*i.z),a});return[new Kn(s)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const s=ut.angle(this.points[0],this.points[3],this.points[1]),o=ut.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&o<0||s<0&&o>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),uy(Pht(i))<Iht/3}reduce(){let e,r=0,i=0,s=.01,o,a=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],e=1;e<c.length;e++)i=c[e],o=this.split(r,i),o._t1=r,o._t2=i,a.push(o),r=i;return a.forEach(function(u){for(r=0,i=0;i<=1;)for(i=r+s;i<=1+s;i+=s)if(o=u.split(r,i),!o.simple()){if(i-=s,uy(r-i)<s)return[];o=u.split(r,i),o._t1=ut.map(r,0,1,u._t1,u._t2),o._t2=ut.map(i,0,1,u._t1,u._t2),l.push(o),r=i;break}r<1&&(o=u.split(r,1),o._t1=ut.map(r,0,1,u._t1,u._t2),o._t2=u._t2,l.push(o))}),l}translate(e,r,i){i=typeof i=="number"?i:r;const s=this.order;let o=this.points.map((a,l)=>(1-l/s)*r+l/s*i);return new Kn(this.points.map((a,l)=>({x:a.x+e.x*o[l],y:a.y+e.y*o[l]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const s=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const a=i?i(0):e,l=i?i(1):e,c=[this.offset(0,10),this.offset(1,10)],u=[],d=ut.lli4(c[0],c[0].c,c[1],c[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const f=u[h*r]=ut.copy(o[h*r]);f.x+=(h?l:a)*c[h].n.x,f.y+=(h?l:a)*c[h].n.y}),i?([0,1].forEach(function(h){if(!(r===2&&h)){var f=o[h+1],p={x:f.x-d.x,y:f.y-d.y},m=i?i((h+1)/r):e;i&&!s&&(m=-m);var b=dy(p.x*p.x+p.y*p.y);p.x/=b,p.y/=b,u[h+1]={x:f.x+m*p.x,y:f.y+m*p.y}}}),new Kn(u)):([0,1].forEach(h=>{if(r===2&&h)return;const f=u[h*r],p=this.derivative(h),m={x:f.x+p.x,y:f.y+p.y};u[h+1]=ut.lli4(f,m,d,o[h+1])}),new Kn(u))}outline(e,r,i,s){if(r=r===void 0?e:r,this._linear){const S=this.normal(0),C=this.points[0],E=this.points[this.points.length-1];let T,M,I;i===void 0&&(i=e,s=r),T={x:C.x+S.x*e,y:C.y+S.y*e},I={x:E.x+S.x*i,y:E.y+S.y*i},M={x:(T.x+I.x)/2,y:(T.y+I.y)/2};const O=[T,M,I];T={x:C.x-S.x*r,y:C.y-S.y*r},I={x:E.x-S.x*s,y:E.y-S.y*s},M={x:(T.x+I.x)/2,y:(T.y+I.y)/2};const F=[I,M,T],$=ut.makeline(F[2],O[0]),z=ut.makeline(O[2],F[0]),D=[$,new Kn(O),z,new Kn(F)];return new dv(D)}const o=this.reduce(),a=o.length,l=[];let c=[],u,d=0,h=this.length();const f=typeof i<"u"&&typeof s<"u";function p(S,C,E,T,M){return function(I){const O=T/E,F=(T+M)/E,$=C-S;return ut.map(I,0,1,S+O*$,S+F*$)}}o.forEach(function(S){const C=S.length();f?(l.push(S.scale(p(e,i,h,d,C))),c.push(S.scale(p(-r,-s,h,d,C)))):(l.push(S.scale(e)),c.push(S.scale(-r))),d+=C}),c=c.map(function(S){return u=S.points,u[3]?S.points=[u[3],u[2],u[1],u[0]]:S.points=[u[2],u[1],u[0]],S}).reverse();const m=l[0].points[0],b=l[a-1].points[l[a-1].points.length-1],y=c[a-1].points[c[a-1].points.length-1],v=c[0].points[0],w=ut.makeline(y,m),_=ut.makeline(b,v),x=[w].concat(l).concat([_]).concat(c);return new dv(x)}outlineshapes(e,r,i){r=r||e;const s=this.outline(e,r).curves,o=[];for(let a=1,l=s.length;a<l/2;a++){const c=ut.makeshape(s[a],s[l-a],i);c.startcap.virtual=a>1,c.endcap.virtual=a<l/2-1,o.push(c)}return o}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof Kn&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=$ie(e.p1.x,e.p2.x),i=$ie(e.p1.y,e.p2.y),s=zie(e.p1.x,e.p2.x),o=zie(e.p1.y,e.p2.y);return ut.roots(this.points,e).filter(a=>{var l=this.get(a);return ut.between(l.x,r,s)&&ut.between(l.y,i,o)})}selfintersects(e){const r=this.reduce(),i=r.length-2,s=[];for(let o=0,a,l,c;o<i;o++)l=r.slice(o,o+1),c=r.slice(o+2),a=this.curveintersects(l,c,e),s.push(...a);return s}curveintersects(e,r,i){const s=[];e.forEach(function(a){r.forEach(function(l){a.overlaps(l)&&s.push({left:a,right:l})})});let o=[];return s.forEach(function(a){const l=ut.pairiteration(a.left,a.right,i);l.length>0&&(o=o.concat(l))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,s){const o=(s-i)/4,a=this.get(i+o),l=this.get(s-o),c=ut.dist(e,r),u=ut.dist(e,a),d=ut.dist(e,l);return uy(u-c)+uy(d-c)}_iterate(e,r){let i=0,s=1,o;do{o=0,s=1;let a=this.get(i),l,c,u,d,h=!1,f=!1,p,m=s,b=1;do if(f=h,d=u,m=(i+s)/2,l=this.get(m),c=this.get(s),u=ut.getccenter(a,l,c),u.interval={start:i,end:s},h=this._error(u,a,i,s)<=e,p=f&&!h,p||(b=s),h){if(s>=1){if(u.interval.end=b=1,d=u,s>1){let v={x:u.x+u.r*Aht(u.e),y:u.y+u.r*Tht(u.e)};u.e+=ut.angle({x:u.x,y:u.y},v,this.get(1))}break}s=s+(s-i)/2}else s=m;while(!p&&o++<100);if(o>=100)break;d=d||u,r.push(d),i=b}while(s<1);return r}}function _N(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Mht(n){if(Array.isArray(n))return n}function Oht(n){if(Array.isArray(n))return _N(n)}function Dht(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Rht(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Nht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bht(n,e){if(n==null)return{};var r,i,s=Lht(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Lht(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}function Fht(n,e){return Mht(n)||Rht(n,e)||Tye(n,e)||Nht()}function $ht(n){return Oht(n)||Dht(n)||Tye(n)||jht()}function zht(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Uht(n){var e=zht(n,"string");return typeof e=="symbol"?e:e+""}function Tye(n,e){if(n){if(typeof n=="string")return _N(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_N(n,e):void 0}}var Wht=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),o=n.reduce(function(l,c){var u=l,d=c;return s.forEach(function(h,f){var p=h.keyAccessor,m=h.isProp,b;if(m){var y=d,v=y[p],w=Bht(y,[p].map(Uht));b=v,d=w}else b=p(d,f);f+1<s.length?(u.hasOwnProperty(b)||(u[b]={}),u=u[b]):r?(u.hasOwnProperty(b)||(u[b]=[]),u[b].push(d)):u[b]=d}),l},{});r instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===s.length?Object.keys(c).forEach(function(d){return c[d]=r(c[d])}):Object.values(c).forEach(function(d){return l(d,u+1)})}(o);var a=o;return i&&(a=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===s.length?a.push({keys:u,vals:c}):Object.entries(c).forEach(function(d){var h=Fht(d,2),f=h[0],p=h[1];return l(p,[].concat($ht(u),[f]))})}(o),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a};function qht(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var Hht=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;qht(Hht);function SN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Vht(n){if(Array.isArray(n))return n}function Ght(n){if(Array.isArray(n))return SN(n)}function Uie(n,e,r){if(Pye())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var s=new(n.bind.apply(n,i));return s}function Dw(n,e,r){return(e=Zht(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Pye(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pye=function(){return!!n})()}function Yht(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Kht(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Xht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function dm(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wie(Object(r),!0).forEach(function(i){Dw(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Wie(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function hv(n,e){return Vht(n)||Kht(n,e)||Iye(n,e)||Xht()}function Go(n){return Ght(n)||Yht(n)||Iye(n)||Qht()}function Jht(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zht(n){var e=Jht(n,"string");return typeof e=="symbol"?e:e+""}function kN(n){"@babel/helpers - typeof";return kN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kN(n)}function Iye(n,e){if(n){if(typeof n=="string")return SN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?SN(n,e):void 0}}var eft=Z9(cVe);function qie(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=eft(e(i))})}function tft(n,e){var r=n.nodes,i=n.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.nodeFilter,a=o===void 0?function(){return!0}:o,l=s.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};r.forEach(function(p){return u[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),i.forEach(function(p){var m=p.source,b=p.target,y=x(m),v=x(b);if(!u.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!u.hasOwnProperty(v))throw"Missing target node with id: ".concat(v);var w=u[y],_=u[v];w.out.push(_);function x(S){return kN(S)==="object"?e(S):S}});var d=[];f(Object.values(u));var h=Object.assign.apply(Object,[{}].concat(Go(Object.entries(u).filter(function(p){var m=hv(p,2),b=m[1];return!b.skip}).map(function(p){var m=hv(p,2),b=m[0],y=m[1];return Dw({},b,y.depth)}))));return h;function f(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var x=p[v];if(m.indexOf(x)!==-1){var S=[].concat(Go(m.slice(m.indexOf(x))),[x]).map(function(C){return e(C.data)});return d.some(function(C){return C.length===S.length&&C.every(function(E,T){return E===S[T]})})||(d.push(S),c(S)),1}b>x.depth&&(x.depth=b,f(x.out,[].concat(Go(m),[x]),b+(x.skip?0:1)))},v=0,w=p.length;v<w;v++)y()}}var nft=2,Oi=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Hie=function(e,r){if(!r.isShadow){var i=En(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var o=Math.round(Math.abs(i(s)));o?s.__photons=Go(Array(o)).map(function(){return{}}):delete s.__photons})}},R2=gL({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,Hie(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Oi},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Oi},nodeColor:{default:"color",triggerUpdate:!1,onChange:Oi},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Oi},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Oi},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Oi},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Oi},linkColor:{default:"color",triggerUpdate:!1,onChange:Oi},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Oi},linkWidth:{default:1,triggerUpdate:!1,onChange:Oi},linkCurvature:{default:0,triggerUpdate:!1,onChange:Oi},linkCanvasObject:{triggerUpdate:!1,onChange:Oi},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Oi},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Oi},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Oi},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Oi},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Hie},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),s(),!e.isShadow&&o(),!e.isShadow&&a(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var l=En(e.nodeVisibility),c=En(e.nodeVal),u=En(e.nodeColor),d=En(e.nodeCanvasObjectMode),h=e.ctx,f=e.isShadow/e.globalScale,p=e.graphData.nodes.filter(l);h.save(),p.forEach(function(m){var b=d(m);if(e.nodeCanvasObject&&(b==="before"||b==="replace")&&(e.nodeCanvasObject(m,h,e.globalScale),b==="replace")){h.restore();return}var y=Math.sqrt(Math.max(0,c(m)||1))*e.nodeRelSize+f;h.beginPath(),h.arc(m.x,m.y,y,0,2*Math.PI,!1),h.fillStyle=u(m)||"rgba(31, 120, 180, 0.92)",h.fill(),e.nodeCanvasObject&&b==="after"&&e.nodeCanvasObject(m,e.ctx,e.globalScale)}),h.restore()}function s(){var l=En(e.linkVisibility),c=En(e.linkColor),u=En(e.linkWidth),d=En(e.linkLineDash),h=En(e.linkCurvature),f=En(e.linkCanvasObjectMode),p=e.ctx,m=e.isShadow*2,b=e.graphData.links.filter(l);b.forEach(C);var y=[],v=[],w=b;if(e.linkCanvasObject){var _=[],x=[];b.forEach(function(E){return({before:y,after:v,replace:_}[f(E)]||x).push(E)}),w=[].concat(Go(y),v,x),y=y.concat(_)}p.save(),y.forEach(function(E){return e.linkCanvasObject(E,p,e.globalScale)}),p.restore();var S=Wht(w,[c,u,d]);p.save(),Object.entries(S).forEach(function(E){var T=hv(E,2),M=T[0],I=T[1],O=!M||M==="undefined"?"rgba(0,0,0,0.15)":M;Object.entries(I).forEach(function(F){var $=hv(F,2),z=$[0],D=$[1],j=(z||1)/e.globalScale+m;Object.entries(D).forEach(function(N){var R=hv(N,2);R[0];var H=R[1],U=d(H[0]);p.beginPath(),H.forEach(function(K){var Y=K.source,J=K.target;if(!(!Y||!J||!Y.hasOwnProperty("x")||!J.hasOwnProperty("x"))){p.moveTo(Y.x,Y.y);var G=K.__controlPoints;G?p[G.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,Go(G).concat([J.x,J.y])):p.lineTo(J.x,J.y)}}),p.strokeStyle=O,p.lineWidth=j,p.setLineDash(U||[]),p.stroke()})})}),p.restore(),p.save(),v.forEach(function(E){return e.linkCanvasObject(E,p,e.globalScale)}),p.restore();function C(E){var T=h(E);if(!T){E.__controlPoints=null;return}var M=E.source,I=E.target;if(!(!M||!I||!M.hasOwnProperty("x")||!I.hasOwnProperty("x"))){var O=Math.sqrt(Math.pow(I.x-M.x,2)+Math.pow(I.y-M.y,2));if(O>0){var F=Math.atan2(I.y-M.y,I.x-M.x),$=O*T,z={x:(M.x+I.x)/2+$*Math.cos(F-Math.PI/2),y:(M.y+I.y)/2+$*Math.sin(F-Math.PI/2)};E.__controlPoints=[z.x,z.y]}else{var D=T*70;E.__controlPoints=[I.x,I.y-D,I.x+D,I.y]}}}}function o(){var l=1.6,c=.2,u=En(e.linkDirectionalArrowLength),d=En(e.linkDirectionalArrowRelPos),h=En(e.linkVisibility),f=En(e.linkDirectionalArrowColor||e.linkColor),p=En(e.nodeVal),m=e.ctx;m.save(),e.graphData.links.filter(h).forEach(function(b){var y=u(b);if(!(!y||y<0)){var v=b.source,w=b.target;if(!(!v||!w||!v.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var _=Math.sqrt(Math.max(0,p(v)||1))*e.nodeRelSize,x=Math.sqrt(Math.max(0,p(w)||1))*e.nodeRelSize,S=Math.min(1,Math.max(0,d(b))),C=f(b)||"rgba(0,0,0,0.28)",E=y/l/2,T=b.__controlPoints&&Uie(Kn,[v.x,v.y].concat(Go(b.__controlPoints),[w.x,w.y])),M=T?function(j){return T.get(j)}:function(j){return{x:v.x+(w.x-v.x)*j||0,y:v.y+(w.y-v.y)*j||0}},I=T?T.length():Math.sqrt(Math.pow(w.x-v.x,2)+Math.pow(w.y-v.y,2)),O=_+y+(I-_-x-y)*S,F=M(O/I),$=M((O-y)/I),z=M((O-y*(1-c))/I),D=Math.atan2(F.y-$.y,F.x-$.x)-Math.PI/2;m.beginPath(),m.moveTo(F.x,F.y),m.lineTo($.x+E*Math.cos(D),$.y+E*Math.sin(D)),m.lineTo(z.x,z.y),m.lineTo($.x-E*Math.cos(D),$.y-E*Math.sin(D)),m.fillStyle=C,m.fill()}}}),m.restore()}function a(){var l=En(e.linkDirectionalParticles),c=En(e.linkDirectionalParticleSpeed),u=En(e.linkDirectionalParticleOffset),d=En(e.linkDirectionalParticleWidth),h=En(e.linkVisibility),f=En(e.linkDirectionalParticleColor||e.linkColor),p=e.ctx;p.save(),e.graphData.links.filter(h).forEach(function(m){var b=l(m);if(!(!m.hasOwnProperty("__photons")||!m.__photons.length)){var y=m.source,v=m.target;if(!(!y||!v||!y.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var w=c(m),_=Math.abs(u(m)),x=m.__photons||[],S=Math.max(0,d(m)/2)/Math.sqrt(e.globalScale),C=f(m)||"rgba(0,0,0,0.28)";p.fillStyle=C;var E=m.__controlPoints?Uie(Kn,[y.x,y.y].concat(Go(m.__controlPoints),[v.x,v.y])):null,T=0,M=!1;x.forEach(function(I){var O=!!I.__singleHop;if(I.hasOwnProperty("__progressRatio")||(I.__progressRatio=O?0:(T+_)/b),!O&&T++,I.__progressRatio+=w,I.__progressRatio>=1)if(!O)I.__progressRatio=I.__progressRatio%1;else{M=!0;return}var F=I.__progressRatio,$=E?E.get(F):{x:y.x+(v.x-y.x)*F||0,y:y.y+(v.y-y.y)*F||0};e.linkDirectionalParticleCanvasObject?e.linkDirectionalParticleCanvasObject($.x,$.y,m,p,e.globalScale):(p.beginPath(),p.arc($.x,$.y,S,0,2*Math.PI,!1),p.fill())}),M&&(m.__photons=m.__photons.filter(function(I){return!I.__singleHop||I.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:xht().force("link",fht()).force("charge",_ht()).force("center",Mdt()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e,r){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&qie(e.graphData.nodes,En(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&qie(e.graphData.links,En(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(f){f.source=f[e.linkSource],f.target=f[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(f){return f[e.nodeId]}).links(e.graphData.links);var s=e.dagMode&&tft(e.graphData,function(f){return f[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,Go(Object.values(s||[]))),a=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*nft*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(f){return delete f[l]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var c=["rl","bu"].includes(e.dagMode),u=function(p){return(s[p[e.nodeId]]-o/2)*a*(c?-1:1)},d=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(f){return f[d]=u(f)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?Sht(function(f){var p=s[f[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-p:p)*a}).strength(function(f){return e.dagNodeFilter(f)?1:0}):null);for(var h=0;h<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);h++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function Mye(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(l,c){r.forEach(function(u){return c[u][o](l)})},triggerUpdate:!1}},linkMethod:function(o){return function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var d=[];return r.forEach(function(h){var f=a[h],p=f[o].apply(f,c);p!==f&&d.push(p)}),d.length?d[0]:this}}}}var rft=800,ift=4,sft=5,Oye=Mye("forceGraph",R2),oft=Mye(["forceGraph","shadowGraph"],R2),aft=Object.assign.apply(Object,Go(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return Dw({},n,Oye.linkProp(n))})).concat(Go(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return Dw({},n,oft.linkProp(n))})))),lft=Object.assign.apply(Object,Go(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return Dw({},n,Oye.linkMethod(n))})));function TD(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(o){o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),o.width=n.width*i,o.height=n.height*i,!e&&!r&&o.getContext("2d").scale(i,i)});var s=cl(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/s,(n.height-r)/2/s),n.needsRedraw=!0}}function Dye(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function Vie(n,e,r){n.save(),Dye(n),n.clearRect(0,0,e,r),n.restore()}var cft=gL({props:dm({width:{default:window.innerWidth,onChange:function(e,r){return TD(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return TD(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[e.nodes,e.links].every(function(s){return(s||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(s){var o=s.type,a=s.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:o,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},aft),aliases:{stopAnimation:"pauseAnimation"},methods:dm({graph2ScreenCoords:function(e,r,i){var s=cl(e.canvas);return{x:r*s.k+s.x,y:i*s.k+s.y}},screen2GraphCoords:function(e,r,i){var s=cl(e.canvas);return{x:(r-s.x)/s.k,y:(i-s.y)/s.k}},centerAt:function(e,r,i,s){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return s?e.tweenGroup.add(new bie(a()).to(o,s).easing(Of.Quadratic.Out).onUpdate(l).start()):l(o),this}return a();function a(){var c=cl(e.canvas);return{x:(e.width/2-c.x)/c.k,y:(e.height/2-c.y)/c.k}}function l(c){var u=c.x,d=c.y;e.zoom.translateTo(e.zoom.__baseElem,u===void 0?a().x:u,d===void 0?a().y:d),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?e.tweenGroup.add(new bie({k:s()}).to({k:r},i).easing(Of.Quadratic.Out).onUpdate(function(a){var l=a.k;return o(l)}).start()):o(r),this;return s();function s(){return cl(e.canvas).k}function o(a){e.zoom.scaleTo(e.zoom.__baseElem,a),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,o);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(l.x[1]-l.x[0]),(e.height-i*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(u,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=En(e.nodeVal),s=function(l){return Math.sqrt(Math.max(0,i(l)||1))*e.nodeRelSize},o=e.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:s(a)}});return o.length?{x:[bH(o,function(a){return a.x-a.r}),gH(o,function(a){return a.x+a.r})],y:[bH(o,function(a){return a.y-a.r}),gH(o,function(a){return a.y+a.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},lft),stateInit:function(){return{lastSetZoom:1,zoom:gVe(),forceGraph:new R2,shadowGraph:new R2().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new cdt,tweenGroup:new iye}},init:function(e,r){var i=this;e.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",e.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},c=function(){var h=null,f=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*f,l.y*f,1,1):null;return p&&(h=r.colorTracker.lookup(p.data)),h};ji(r.canvas).call(jWe().subject(function(){if(!r.enableNodeDrag)return null;var d=c();return d&&d.type==="Node"?d.d:null}).on("start",function(d){var h=d.subject;h.__initialDragPos={x:h.x,y:h.y,fx:h.fx,fy:h.fy},d.active||(h.fx=h.x,h.fy=h.y),r.canvas.classList.add("grabbable")}).on("drag",function(d){var h=d.subject,f=h.__initialDragPos,p=d,m=cl(r.canvas).k,b={x:f.x+(p.x-f.x)/m-h.x,y:f.y+(p.y-f.y)/m-h.y};["x","y"].forEach(function(y){return h["f".concat(y)]=h[y]=f[y]+(p[y]-f[y])/m}),!(!h.__dragged&&sft>=Math.sqrt(zze(["x","y"].map(function(y){return Math.pow(d[y]-f[y],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,h.__dragged=!0,r.onNodeDrag(h,b))}).on("end",function(d){var h=d.subject,f=h.__initialDragPos,p={x:h.x-f.x,y:h.y-f.y};f.fx===void 0&&(h.fx=void 0),f.fy===void 0&&(h.fy=void 0),delete h.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,h.__dragged&&(delete h.__dragged,r.onNodeDragEnd(h,p))})),r.zoom(r.zoom.__baseElem=ji(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(d){return!d.button&&r.enableZoomPanInteraction&&(d.type!=="wheel"||En(r.enableZoomInteraction)(d))&&(d.type==="wheel"||En(r.enablePanInteraction)(d))}).on("zoom",function(d){var h=d.transform;[o,a].forEach(function(f){Dye(f),f.translate(h.x,h.y),f.scale(h.k,h.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(dm(dm({},h),i.centerAt())),r.needsRedraw=!0}).on("end",function(d){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(dm(dm({},d.transform),i.centerAt()))}),TD(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){cl(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=ift/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Idt(s),["pointermove","pointerdown"].forEach(function(d){return s.addEventListener(d,function(h){d==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=h),!r.isPointerDragging&&h.type==="pointermove"&&r.onBackgroundClick&&(h.pressure>0||r.isPointerPressed)&&(h.pointerType==="mouse"||h.movementX===void 0||[h.movementX,h.movementY].some(function(m){return Math.abs(m)>1}))&&(r.isPointerDragging=!0);var f=p(s);l.x=h.pageX-f.left,l.y=h.pageY-f.top;function p(m){var b=m.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,v=window.pageYOffset||document.documentElement.scrollTop;return{top:b.top+v,left:b.left+y}}},{passive:!0})}),s.addEventListener("pointerup",function(d){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var h=[d,r.pointerDownEvent];requestAnimationFrame(function(){if(d.button===0)if(r.hoverObj){var f=r["on".concat(r.hoverObj.type,"Click")];f&&f.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,h);if(d.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,h)})}},{passive:!0}),s.addEventListener("contextmenu",function(d){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(d.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(a);var u=gut(function(){Vie(a,r.width,r.height),r.shadowGraph.linkWidth(function(h){return En(r.linkWidth)(h)+r.linkHoverPrecision});var d=cl(r.canvas);r.shadowGraph.globalScale(d.k).tickFrame()},rft);r.flushShadowCanvas=u.flush,(this._animationCycle=function d(){var h=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(_){return _.__photons&&_.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var f=r.isPointerDragging?null:c();if(f!==r.hoverObj){var p=r.hoverObj,m=p?p.type:null,b=f?f.type:null;if(m&&m!==b){var y=r["on".concat(m,"Hover")];y&&y(null,p.d)}if(b){var v=r["on".concat(b,"Hover")];v&&v(f.d,m===b?p.d:null)}r.tooltip.content(f&&En(r["".concat(f.type.toLowerCase(),"Label")])(f.d)||null),r.canvas.classList[(f&&r["on".concat(b,"Click")]||!f&&r.onBackgroundClick)&&En(r.showPointerCursor)(f==null?void 0:f.d)?"add":"remove"]("clickable"),r.hoverObj=f}h&&u()}if(h){Vie(o,r.width,r.height);var w=cl(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,w),r.forceGraph.globalScale(w).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,w)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(d)})()},update:function(e){}});const KE={width:ve.number,height:ve.number,graphData:ve.shape({nodes:ve.arrayOf(ve.object).isRequired,links:ve.arrayOf(ve.object).isRequired}),backgroundColor:ve.string,nodeRelSize:ve.number,nodeId:ve.string,nodeLabel:ve.oneOfType([ve.string,ve.func]),nodeVal:ve.oneOfType([ve.number,ve.string,ve.func]),nodeVisibility:ve.oneOfType([ve.bool,ve.string,ve.func]),nodeColor:ve.oneOfType([ve.string,ve.func]),nodeAutoColorBy:ve.oneOfType([ve.string,ve.func]),onNodeHover:ve.func,onNodeClick:ve.func,linkSource:ve.string,linkTarget:ve.string,linkLabel:ve.oneOfType([ve.string,ve.func]),linkVisibility:ve.oneOfType([ve.bool,ve.string,ve.func]),linkColor:ve.oneOfType([ve.string,ve.func]),linkAutoColorBy:ve.oneOfType([ve.string,ve.func]),linkWidth:ve.oneOfType([ve.number,ve.string,ve.func]),linkCurvature:ve.oneOfType([ve.number,ve.string,ve.func]),linkDirectionalArrowLength:ve.oneOfType([ve.number,ve.string,ve.func]),linkDirectionalArrowColor:ve.oneOfType([ve.string,ve.func]),linkDirectionalArrowRelPos:ve.oneOfType([ve.number,ve.string,ve.func]),linkDirectionalParticles:ve.oneOfType([ve.number,ve.string,ve.func]),linkDirectionalParticleSpeed:ve.oneOfType([ve.number,ve.string,ve.func]),linkDirectionalParticleOffset:ve.oneOfType([ve.number,ve.string,ve.func]),linkDirectionalParticleWidth:ve.oneOfType([ve.number,ve.string,ve.func]),linkDirectionalParticleColor:ve.oneOfType([ve.string,ve.func]),onLinkHover:ve.func,onLinkClick:ve.func,dagMode:ve.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:ve.number,dagNodeFilter:ve.func,onDagError:ve.func,d3AlphaMin:ve.number,d3AlphaDecay:ve.number,d3VelocityDecay:ve.number,warmupTicks:ve.number,cooldownTicks:ve.number,cooldownTime:ve.number,onEngineTick:ve.func,onEngineStop:ve.func,getGraphBbox:ve.func},Rye={zoomToFit:ve.func,onNodeRightClick:ve.func,onNodeDrag:ve.func,onNodeDragEnd:ve.func,onLinkRightClick:ve.func,linkHoverPrecision:ve.number,onBackgroundClick:ve.func,onBackgroundRightClick:ve.func,showPointerCursor:ve.oneOfType([ve.bool,ve.func]),enablePointerInteraction:ve.bool,enableNodeDrag:ve.bool},SL={showNavInfo:ve.bool,nodeOpacity:ve.number,nodeResolution:ve.number,nodeThreeObject:ve.oneOfType([ve.object,ve.string,ve.func]),nodeThreeObjectExtend:ve.oneOfType([ve.bool,ve.string,ve.func]),nodePositionUpdate:ve.func,linkOpacity:ve.number,linkResolution:ve.number,linkCurveRotation:ve.oneOfType([ve.number,ve.string,ve.func]),linkMaterial:ve.oneOfType([ve.object,ve.string,ve.func]),linkThreeObject:ve.oneOfType([ve.object,ve.string,ve.func]),linkThreeObjectExtend:ve.oneOfType([ve.bool,ve.string,ve.func]),linkPositionUpdate:ve.func,linkDirectionalArrowResolution:ve.number,linkDirectionalParticleResolution:ve.number,linkDirectionalParticleThreeObject:ve.oneOfType([ve.object,ve.string,ve.func]),forceEngine:ve.oneOf(["d3","ngraph"]),ngraphPhysics:ve.object,numDimensions:ve.oneOf([1,2,3])},uft=Object.assign({},KE,Rye,{linkLineDash:ve.oneOfType([ve.arrayOf(ve.number),ve.string,ve.func]),nodeCanvasObjectMode:ve.oneOfType([ve.string,ve.func]),nodeCanvasObject:ve.func,nodePointerAreaPaint:ve.func,linkCanvasObjectMode:ve.oneOfType([ve.string,ve.func]),linkCanvasObject:ve.func,linkPointerAreaPaint:ve.func,linkDirectionalParticleCanvasObject:ve.func,autoPauseRedraw:ve.bool,minZoom:ve.number,maxZoom:ve.number,enableZoomInteraction:ve.oneOfType([ve.bool,ve.func]),enablePanInteraction:ve.oneOfType([ve.bool,ve.func]),onZoom:ve.func,onZoomEnd:ve.func,onRenderFramePre:ve.func,onRenderFramePost:ve.func});Object.assign({},KE,Rye,SL,{enableNavigationControls:ve.bool,controlType:ve.oneOf(["trackball","orbit","fly"]),rendererConfig:ve.object,extraRenderers:ve.arrayOf(ve.shape({render:ve.func.isRequired}))});Object.assign({},KE,SL,{nodeDesc:ve.oneOfType([ve.string,ve.func]),linkDesc:ve.oneOfType([ve.string,ve.func])});Object.assign({},KE,SL,{markerAttrs:ve.object,yOffset:ve.number,glScale:ve.number});const kL=Wct(cft,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});kL.displayName="ForceGraph2D";kL.propTypes=uft;function dft(){const[n,e]=A.useState(eh),[r,i]=A.useState(()=>localStorage.getItem("authToken")||""),[s,o]=A.useState(HC),[a,l]=A.useState(""),[c,u]=A.useState(""),[d,h]=A.useState(!1),[f,p]=A.useState([]),[m,b]=A.useState(!1),[y,v]=A.useState(!1),[w,_]=A.useState(!1),[x,S]=A.useState(""),[C,E]=A.useState(""),[T,M]=A.useState(""),[I,O]=A.useState(""),[F,$]=A.useState("list"),[z,D]=A.useState(()=>EG()),[j,N]=A.useState([]),[R,H]=A.useState(null),U=A.useRef(null),K=A.useRef(null),Y=A.useRef(0),J=A.useRef(null),G=A.useRef(null),X=A.useRef(null),ae=A.useRef(!1),ge=(Ae,Se="success",W="consensus_flat")=>{const de={id:Y.current++,timestamp:Date.now(),event:Ae,type:Se,eventSource:W};p(me=>[de,...me].slice(0,200))},le=A.useRef(new Set);A.useEffect(()=>{if(f.length===0)return;const Ae=f.filter(de=>!le.current.has(de.id));if(Ae.length===0)return;Ae.forEach(de=>le.current.add(de.id));const Se=Ae.map(de=>de.event).filter(de=>"data"in de&&de.data&&typeof de.data=="object"&&"type"in de.data),W=z;Se.length>0&&NJe(Se,W,de=>{N(me=>{const pe=[...me,...de].filter((ue,ce,Ce)=>Ce.findIndex(Re=>Re.id===ue.id)===ce),ye=Date.now()/1e3-7200,Z=pe.filter(ue=>ue.timestamp>=ye);return Z.length>5e3?Z.slice(-5e3):Z})})},[f]),A.useEffect(()=>()=>{AG(z),G.current&&(G.current.destroy(),G.current=null),X.current&&(clearInterval(X.current),X.current=null),le.current.clear()},[]),A.useEffect(()=>(X.current=window.setInterval(()=>{AJe(z,3e4)},3e4),()=>{X.current&&(clearInterval(X.current),X.current=null)}),[]);const ie=async()=>{if(!w){_(!0),ge({event_type:"info",data:{id:"connection",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connecting",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info");try{const Ae=new URL(n);if(Ae.protocol!=="ws:"&&Ae.protocol!=="wss:")throw new Error("URL must use ws:// or wss:// protocol")}catch{ge({event_type:"error",data:{id:"connection-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error"),_(!1);return}if(K.current)try{K.current.disconnect()}catch{}if(U.current)try{U.current.disconnect()}catch{}try{U.current||(U.current=new p0({url:n,authToken:r||void 0,walletAddress:void 0,deviceID:s||void 0})),K.current=new Xfe(U.current.getWebSocketClient()),K.current.onStateChange(Ae=>{Ae===Pt.Connected?(h(!0),ae.current&&(console.warn("[ExplorerTestPage] Reconnected - history may be incomplete"),ae.current=!1),ge({event_type:"info",data:{id:"connection-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success")):(Ae===Pt.Disconnected||Ae===Pt.Reconnecting)&&(h(!1),b(!1),v(!1),ae.current=!0)}),U.current.isConnected()?K.current.getState()===Pt.Connected&&(h(!0),ge({event_type:"info",data:{id:"connection-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success")):await U.current.connect()}catch{ge({event_type:"error",data:{id:"connection-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error"),h(!1)}finally{_(!1)}}},Te=()=>{if(K.current)try{K.current.disconnect()}catch{}h(!1),b(!1),v(!1),ge({event_type:"info",data:{id:"disconnected",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"disconnected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info")},Ee=()=>{var Se;if(!((Se=K.current)!=null&&Se.isConnected())){ge({event_type:"error",data:{id:"subscription-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error");return}const Ae=W=>{ge(W,"success","consensus_flat")};try{const W={};a&&(W.shard_id=a),c&&(W.event_type=c),K.current.subscribeConsensusFlat(Ae,Object.keys(W).length>0?W:void 0),b(!0),ge({event_type:"info",data:{id:"subscription-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"subscribed",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success","consensus_flat")}catch{ge({event_type:"error",data:{id:"subscription-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","consensus_flat")}},V=()=>{var Ae;if((Ae=K.current)!=null&&Ae.isConnected())try{K.current.unsubscribeConsensusFlat(),b(!1),ge({event_type:"info",data:{id:"unsubscribed",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"unsubscribed",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info","consensus_flat")}catch{ge({event_type:"error",data:{id:"unsubscribe-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","consensus_flat")}},Ie=()=>{var Se;if(!((Se=K.current)!=null&&Se.isConnected())){ge({event_type:"error",data:{hash:"",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions");return}const Ae=W=>{ge(W,"success","transactions")};try{const W={};x&&(W.address=x),C&&(W.txhash=C),T&&(W.tx_types=T.split(",").map(de=>de.trim()).filter(Boolean)),I&&(W.event_types=I.split(",").map(de=>de.trim()).filter(Boolean)),a&&(W.shard_id=a),K.current.subscribeTransactions(Ae,Object.keys(W).length>0?W:void 0),v(!0),ge({event_type:"info",data:{hash:"subscription-success",status:"subscribed"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success","transactions")}catch{ge({event_type:"error",data:{hash:"subscription-error",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions")}},Ye=()=>{var Ae;if((Ae=K.current)!=null&&Ae.isConnected())try{K.current.unsubscribeTransactions(),v(!1),ge({event_type:"info",data:{hash:"unsubscribed",status:"unsubscribed"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info","transactions")}catch{ge({event_type:"error",data:{hash:"unsubscribe-error",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions")}},nt=()=>{p([]),N([]),AG(z),D(EG()),H(null),le.current.clear()},Ue=()=>{d?Te():ie()},mt=()=>{m?V():Ee()},He=()=>{y?Ye():Ie()};A.useEffect(()=>{if(F!=="timeline"){G.current&&(G.current.destroy(),G.current=null);return}if(!J.current||j.length===0)return;G.current&&(G.current.destroy(),G.current=null);const Ae=setTimeout(()=>{if(!J.current)return;const Se=jJe(j),W=Array.from(new Set(Se.map(me=>me.group||"root"))).map(me=>({id:me,content:me})),de={height:"500px",zoomable:!0,moveable:!0,selectable:!0,onSelect:me=>{me.items&&me.items.length>0&&H(me.items[0])}};G.current=new mL(J.current,Se,W,de)},0);return()=>{clearTimeout(Ae),G.current&&(G.current.destroy(),G.current=null)}},[F,j]);const[xe,Ve]=A.useState(()=>typeof window<"u"?window.innerWidth-100:800);A.useEffect(()=>{if(F!=="graph")return;const Ae=()=>{Ve(window.innerWidth-100)};return window.addEventListener("resize",Ae),()=>window.removeEventListener("resize",Ae)},[F]);const Oe=A.useMemo(()=>F!=="graph"?{nodes:[],links:[]}:BJe(j,R||void 0,5),[F,j,R]),Ne=A.useMemo(()=>R?j.find(Ae=>Ae.id===R):null,[R,j]);return g.jsxs("div",{className:"explorer-test-page",children:[g.jsxs("div",{className:"explorer-test-header",children:[g.jsx("h2",{children:"Consensus Explorer Test"}),g.jsx("p",{children:"Test the consensus_flat WebSocket channel to view flattened consensus events from Morpheum's DAG-based consensus system."})]}),g.jsx(hJe,{wsURL:n,setWsURL:e,authToken:r,setAuthToken:i,deviceID:s,setDeviceID:o,shardId:a,setShardId:l,eventType:c,setEventType:u,txAddress:x,setTxAddress:S,txHash:C,setTxHash:E,txTypes:T,setTxTypes:M,txEventTypes:I,setTxEventTypes:O}),g.jsxs("div",{className:"explorer-test-controls",children:[g.jsxs("div",{className:"control-buttons",children:[g.jsx(Uu,{onClick:Ue,disabled:w,variant:d?"secondary":"primary",children:w?"Connecting...":d?"Disconnect":"Connect"}),g.jsx(Uu,{onClick:mt,disabled:!d,variant:m?"secondary":"primary",children:m?"Unsubscribe Consensus":"Subscribe Consensus"}),g.jsx(Uu,{onClick:He,disabled:!d,variant:y?"secondary":"primary",children:y?"Unsubscribe Transactions":"Subscribe Transactions"}),g.jsx(Uu,{onClick:nt,variant:"secondary",children:"Clear Events"})]}),g.jsxs("div",{className:"connection-status",children:[g.jsx("span",{className:`status-indicator ${d?"connected":"disconnected"}`,children:d?" Connected":" Disconnected"}),m&&g.jsx("span",{className:"status-indicator subscribed",children:" Subscribed to consensus_flat"}),y&&g.jsx("span",{className:"status-indicator subscribed",children:" Subscribed to transactions"}),g.jsxs("span",{className:"event-count",children:["Events: ",f.length]}),g.jsxs("span",{className:"event-count",children:["DAG Nodes: ",j.length]})]})]}),g.jsxs("div",{className:"view-controls",children:[g.jsx(Uu,{onClick:()=>$("list"),variant:F==="list"?"primary":"secondary",children:"List View"}),g.jsx(Uu,{onClick:()=>$("timeline"),variant:F==="timeline"?"primary":"secondary",children:"Timeline View"}),g.jsxs(Uu,{onClick:()=>$("graph"),variant:F==="graph"?"primary":"secondary",disabled:j.length>100&&!R,children:["Graph View ",j.length>100&&!R?"(Select node first)":""]})]}),F==="timeline"&&g.jsxs("div",{className:"dag-timeline-container",children:[g.jsx("div",{ref:J,style:{height:"500px",border:"1px solid var(--border)"}}),j.length===0&&g.jsx("div",{className:"empty-state",children:g.jsx("p",{children:"No DAG nodes to display. Connect and subscribe to start receiving events."})})]}),F==="graph"&&g.jsx("div",{className:"dag-graph-container",children:g.jsx(A.Suspense,{fallback:g.jsx("div",{className:"loading-state",children:"Loading graph..."}),children:Oe.nodes.length>0?g.jsx(kL,{graphData:Oe,nodeLabel:Ae=>`${Ae.label}
Type: ${Ae.type}
Shard: ${Ae.shardId}`,nodeColor:Ae=>Ae.type==="vertex"?"#3b82f6":Ae.type==="tx"?"#10b981":"#f59e0b",linkDirectionalArrowLength:6,linkDirectionalArrowRelPos:1,linkColor:()=>"rgba(255, 255, 255, 0.3)",onNodeClick:Ae=>H(Ae.id),nodeCanvasObjectMode:()=>"after",nodeCanvasObject:(Ae,Se)=>{Ae.id===R&&(Se.beginPath(),Se.arc(Ae.x||0,Ae.y||0,8,0,2*Math.PI),Se.fillStyle="#f0f63b",Se.fill(),Se.strokeStyle="#f0f63b",Se.lineWidth=2,Se.stroke())},height:500,width:xe}):g.jsx("div",{className:"empty-state",children:g.jsx("p",{children:j.length===0?"No DAG nodes to display. Connect and subscribe to start receiving events.":j.length>100?"Graph view requires node selection for large datasets. Click a node in timeline view first.":"No graph data available."})})})}),F==="list"&&g.jsx(xJe,{events:f}),R&&Ne&&g.jsxs("div",{className:"dag-details-pane",children:[g.jsxs("h3",{children:["Node Details: ",R]}),g.jsxs("div",{className:"detail-section",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Type:"}),g.jsx("span",{className:"detail-value",children:Ne.nodeType})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(Ne.timestamp*1e3).toLocaleString()})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:Ne.shardId})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parents:"}),g.jsx("span",{className:"detail-value",children:Ne.parents.length})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Children:"}),g.jsx("span",{className:"detail-value",children:Ne.children.length})]}),g.jsxs("details",{className:"raw-data-details",children:[g.jsx("summary",{children:"View Raw Data"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(Ne.data,null,2)})]})]}),g.jsx("div",{style:{marginTop:"10px"},children:g.jsx(Uu,{onClick:()=>H(null),variant:"secondary",children:"Close Details"})})]})]})}const hft=A.createContext(void 0),hy="onboard_mnemonic",fy="onboard_wallet_address",fft=({children:n})=>{const[e,r]=A.useState(null),[i,s]=A.useState(null);A.useEffect(()=>{const c=localStorage.getItem(fy),u=localStorage.getItem(hy),d=localStorage.getItem("generatedAddress"),h=localStorage.getItem("mnemonic");c&&u?(r(c),s(u)):d&&h&&(r(d),s(h),localStorage.setItem(fy,d),localStorage.setItem(hy,h),localStorage.removeItem("generatedAddress"),localStorage.removeItem("mnemonic"))},[]),A.useEffect(()=>{const c=u=>{u.key===fy?r(u.newValue):u.key===hy&&s(u.newValue)};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[]);const o=A.useCallback((c,u)=>{r(c),s(u),localStorage.setItem(fy,c),localStorage.setItem(hy,u)},[]),a=A.useCallback(()=>{r(null),s(null),localStorage.removeItem(fy),localStorage.removeItem(hy)},[]),l=A.useMemo(()=>({generatedAddress:e,mnemonic:i,setGeneratedData:o,clearGeneratedData:a}),[e,i,o,a]);return g.jsx(hft.Provider,{value:l,children:n})},pft={"/":"main","/main":"main","/sdk-test":"sdk-test","/websocket-test":"websocket-test","/layout-test":"layout-test","/hooks-test":"hooks-test","/trading-test":"trading-test","/swap-test":"swap-test","/explorer-test":"explorer-test"},Gie={main:"/","sdk-test":"/sdk-test","websocket-test":"/websocket-test","layout-test":"/layout-test","hooks-test":"/hooks-test","trading-test":"/trading-test","swap-test":"/swap-test","explorer-test":"/explorer-test"};function Yie(){const n=window.location.pathname;return pft[n]||"main"}const mft=[{id:"Id8oZS95KxQ",name:"Summer Wave"},{id:"y9PTNTSpGJs",name:"Wave Ocean"},{id:"KkX9LfqeOF4",name:"Morph Lava"},{id:"bx-0YlFprqc",name:"DAG Rev."},{id:"eCHaiEjCDFM",name:"Black Swarm 1"},{id:"Tbw3w0RA0WU",name:"Lofi Leon Skyline"},{id:"tjetD2pFK4A",name:"Lofi Sinth Skyline"},{id:"aG01KIXWrbU",name:"Lofi Doom Skyline"},{id:"ZWyv_w_cFiw",name:"Deep Cybercity Japan"},{id:"wVqeChtoY_k",name:"Synthwave"},{id:"0KgxkD1u-TI",name:"City Travel"},{id:"wyxxPTFfdi8",name:"Pearl Liquid"},{id:"ytXX67Ghies",name:"Smoke Liquid"},{id:"aYEg66Egjo0",name:"Home Hollywood"},{id:"AfSWldaT-AE",name:"Mega Hollywood"},{id:"0JQkT1FxhEc",name:"GT7 Audi RS 5 Turbo DTM"},{id:"VZyzqGgEhZc",name:"Forza Fujimi Kaido"},{id:"UYJIqBZENjU",name:"RC "},{id:"BQL-CP8d1-o",name:"RC Iron Menace"},{id:"oAJLKDMihnU",name:"RC Knoebels Amusement Park"},{id:"JggE0FYV_Ys",name:"RC  "},{id:"2GVmvtVA5p8",name:"RC Unlimited"},{id:"q-70DtTlkKU",name:"RC King Kong River"},{id:"4Uq9Hk3E7hs",name:"Ballance Twilight Zone"},{id:"WCOKSsygnxM",name:"Ballance 2004 Zone"},{id:"ZP4d40DV7K0",name:"Ballance 210522 Zone"},{id:"NfxnqErfkL8",name:"Dying Light Zone"}];function Kie(){const{wasmStatus:n,isReady:e}=Pje(),[r,i]=A.useState(Yie()),[s,o]=A.useState(!1),[a,l]=A.useState("Id8oZS95KxQ"),c=A.useRef(null),u="/s0203.mp3";A.useEffect(()=>{const p=window.location.pathname,m=Gie[r];p!==m&&window.history.replaceState({page:r},"",m)},[]),A.useEffect(()=>{const p=()=>{i(Yie())};return window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p)}},[]);const d=p=>{i(p);const m=Gie[p];window.history.pushState({page:p},"",m)};A.useEffect(()=>{const p=()=>{d("websocket-test")};return window.addEventListener("navigateToWebSocketTest",p),()=>{window.removeEventListener("navigateToWebSocketTest",p)}},[]);const h=p=>{const m=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,b=p.match(m);return b&&b[2].length===11?b[2]:p},f=()=>{o(!s)};return A.useEffect(()=>{c.current&&(s?c.current.play().catch(p=>{console.error("Error playing background music:",p)}):c.current.pause())},[s]),g.jsxs(fft,{children:[g.jsxs("div",{className:`App ${s?"video-background-enabled":""}`,children:[g.jsx("audio",{ref:c,src:u,loop:!0,preload:"auto",crossOrigin:"anonymous"}),s&&g.jsxs("div",{className:"video-background-container",children:[g.jsx("iframe",{className:"video-background",src:`https://www.youtube.com/embed/${h(a)}?autoplay=1&mute=1&loop=1&playlist=${h(a)}&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1`,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"Background Video"},a),g.jsx("div",{className:"video-background-overlay"})]}),g.jsxs("div",{className:"video-background-controls",children:[g.jsx("select",{className:"video-background-select",value:a,onChange:p=>l(p.target.value),disabled:!s,title:"Select Video Background",children:mft.map(p=>g.jsx("option",{value:p.id,children:p.name},p.id))}),g.jsx("button",{className:"video-background-toggle",onClick:f,title:s?"Disable Video Background":"Enable Video Background",children:s?"":""})]}),g.jsxs("header",{className:"App-header",children:[g.jsx("h3",{children:"SDK, Testing, QA"}),g.jsxs("nav",{children:[g.jsx("button",{onClick:()=>d("main"),className:`nav-button ${r==="main"?"active":""}`,children:"Morm Signer"}),g.jsx("button",{onClick:()=>d("sdk-test"),className:`nav-button ${r==="sdk-test"?"active":""}`,children:"SDK Trade API"}),g.jsx("button",{onClick:()=>d("websocket-test"),className:`nav-button ${r==="websocket-test"?"active":""}`,children:"WebSocket Test"}),g.jsx("button",{onClick:()=>d("hooks-test"),className:`nav-button ${r==="hooks-test"?"active":""}`,children:"Hooks Test"}),g.jsx("button",{onClick:()=>d("layout-test"),className:`nav-button ${r==="layout-test"?"active":""}`,children:"Layout Test"}),g.jsx("button",{onClick:()=>d("trading-test"),className:`nav-button ${r==="trading-test"?"active":""}`,children:"Trading Test"}),g.jsx("button",{onClick:()=>d("swap-test"),className:`nav-button ${r==="swap-test"?"active":""}`,children:"Swap Test"}),g.jsx("button",{onClick:()=>d("explorer-test"),className:`nav-button ${r==="explorer-test"?"active":""}`,children:"Explorer Test"})]})]}),g.jsx("main",{className:"App-main",children:r==="sdk-test"?g.jsx(i9e,{}):r==="websocket-test"?g.jsx(f9e,{}):r==="layout-test"?g.jsx(_ze,{}):r==="hooks-test"?g.jsx(CVe,{}):r==="trading-test"?g.jsx(uJe,{}):r==="swap-test"?g.jsx(dJe,{}):r==="explorer-test"?g.jsx(dft,{}):g.jsxs(g.Fragment,{children:[g.jsx("h1",{children:"Morm SDK"}),g.jsx("p",{children:"Test WebAssembly integration for morm_signer with Agent Delegation"}),g.jsx(U7e,{status:n}),e&&g.jsxs("div",{className:"App-content gridarrangement",children:[g.jsx("div",{className:"App-section",children:g.jsx(O7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(D7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(R7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(z7e,{})})]}),n.error&&g.jsxs("div",{className:"App-error",children:[g.jsx("h3",{children:"Error Loading WASM"}),g.jsx("p",{children:n.error}),g.jsx("p",{children:"Make sure the morm_signer.wasm file is available in the public directory."})]})]})})]}),g.jsx(p9e,{position:"bottom-right",toastOptions:{duration:4e3,style:{color:"var(--foreground)",border:"1px solid var(--border)"}}})]})}const gft=()=>{var n;return typeof window>"u"?!1:((n=window.ethereum)==null?void 0:n.isRainbow)===!0},Xie=gft()?i8e({appName:"Morpheum DEX",projectId:"892c8c1d9d78f8ec09adb7799d846b78",chains:[Jm,d5],ssr:!1}):Tue({chains:[Jm,d5],connectors:[lx({})],transports:{[Jm.id]:bR(),[d5.id]:bR()}}),Qie=new gSe,bft=()=>{var n;return typeof window>"u"?!1:((n=window.ethereum)==null?void 0:n.isRainbow)===!0},yft=PD.createRoot(document.getElementById("root")),vft=()=>bft()?g.jsx(Mz,{config:Xie,children:g.jsx(w$,{client:Qie,children:g.jsx(kOe,{children:g.jsx(Kie,{})})})}):g.jsx(Mz,{config:Xie,children:g.jsx(w$,{client:Qie,children:g.jsx(Kie,{})})});yft.render(g.jsx(B.StrictMode,{children:g.jsx(vft,{})}));const wft=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),xft=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Jie=Object.freeze(Object.defineProperty({__proto__:null,default:_R},Symbol.toStringTag,{value:"Module"}));export{tt as B,Hy as H,iCe as a,Ll as b,dC as c,W2e as d,dp as e,Rl as f,Oj as g,fC as i,aC as l,oi as s};
//# sourceMappingURL=index-BCVLenj_.js.map
