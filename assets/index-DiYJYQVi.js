var Sxe=Object.defineProperty;var iF=n=>{throw TypeError(n)};var Cxe=(n,e,r)=>e in n?Sxe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var Be=(n,e,r)=>Cxe(n,typeof e!="symbol"?e+"":e,r),h6=(n,e,r)=>e.has(n)||iF("Cannot "+r);var te=(n,e,r)=>(h6(n,e,"read from private field"),r?r.call(n):e.get(n)),st=(n,e,r)=>e.has(n)?iF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r),De=(n,e,r,i)=>(h6(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Dt=(n,e,r)=>(h6(n,e,"access private method"),r);var p1=(n,e,r,i)=>({set _(s){De(n,e,s,r)},get _(){return te(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Exe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fse={exports:{}},$2={},pse={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=Symbol.for("react.element"),Axe=Symbol.for("react.portal"),Txe=Symbol.for("react.fragment"),Pxe=Symbol.for("react.strict_mode"),Ixe=Symbol.for("react.profiler"),Mxe=Symbol.for("react.provider"),Oxe=Symbol.for("react.context"),Dxe=Symbol.for("react.forward_ref"),Rxe=Symbol.for("react.suspense"),Nxe=Symbol.for("react.memo"),jxe=Symbol.for("react.lazy"),sF=Symbol.iterator;function Bxe(n){return n===null||typeof n!="object"?null:(n=sF&&n[sF]||n["@@iterator"],typeof n=="function"?n:null)}var mse={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gse=Object.assign,bse={};function L0(n,e,r){this.props=n,this.context=e,this.refs=bse,this.updater=r||mse}L0.prototype.isReactComponent={};L0.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};L0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function yse(){}yse.prototype=L0.prototype;function PN(n,e,r){this.props=n,this.context=e,this.refs=bse,this.updater=r||mse}var IN=PN.prototype=new yse;IN.constructor=PN;gse(IN,L0.prototype);IN.isPureReactComponent=!0;var oF=Array.isArray,vse=Object.prototype.hasOwnProperty,MN={current:null},wse={key:!0,ref:!0,__self:!0,__source:!0};function xse(n,e,r){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)vse.call(e,i)&&!wse.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:qw,type:n,key:o,ref:a,props:s,_owner:MN.current}}function Lxe(n,e){return{$$typeof:qw,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ON(n){return typeof n=="object"&&n!==null&&n.$$typeof===qw}function Fxe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var aF=/\/+/g;function f6(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Fxe(""+n.key):e.toString(36)}function Y_(n,e,r,i,s){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case qw:case Axe:a=!0}}if(a)return a=n,s=s(a),n=i===""?"."+f6(a,0):i,oF(s)?(r="",n!=null&&(r=n.replace(aF,"$&/")+"/"),Y_(s,e,r,"",function(u){return u})):s!=null&&(ON(s)&&(s=Lxe(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(aF,"$&/")+"/")+n)),e.push(s)),1;if(a=0,i=i===""?".":i+":",oF(n))for(var l=0;l<n.length;l++){o=n[l];var c=i+f6(o,l);a+=Y_(o,e,r,c,s)}else if(c=Bxe(n),typeof c=="function")for(n=c.call(n),l=0;!(o=n.next()).done;)o=o.value,c=i+f6(o,l++),a+=Y_(o,e,r,c,s);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function m1(n,e,r){if(n==null)return n;var i=[],s=0;return Y_(n,i,"","",function(o){return e.call(r,o,s++)}),i}function $xe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var us={current:null},K_={transition:null},zxe={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:K_,ReactCurrentOwner:MN};function _se(){throw Error("act(...) is not supported in production builds of React.")}on.Children={map:m1,forEach:function(n,e,r){m1(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return m1(n,function(){e++}),e},toArray:function(n){return m1(n,function(e){return e})||[]},only:function(n){if(!ON(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};on.Component=L0;on.Fragment=Txe;on.Profiler=Ixe;on.PureComponent=PN;on.StrictMode=Pxe;on.Suspense=Rxe;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zxe;on.act=_se;on.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=gse({},n.props),s=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=MN.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)vse.call(e,c)&&!wse.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:qw,type:n.type,key:s,ref:o,props:i,_owner:a}};on.createContext=function(n){return n={$$typeof:Oxe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Mxe,_context:n},n.Consumer=n};on.createElement=xse;on.createFactory=function(n){var e=xse.bind(null,n);return e.type=n,e};on.createRef=function(){return{current:null}};on.forwardRef=function(n){return{$$typeof:Dxe,render:n}};on.isValidElement=ON;on.lazy=function(n){return{$$typeof:jxe,_payload:{_status:-1,_result:n},_init:$xe}};on.memo=function(n,e){return{$$typeof:Nxe,type:n,compare:e===void 0?null:e}};on.startTransition=function(n){var e=K_.transition;K_.transition={};try{n()}finally{K_.transition=e}};on.unstable_act=_se;on.useCallback=function(n,e){return us.current.useCallback(n,e)};on.useContext=function(n){return us.current.useContext(n)};on.useDebugValue=function(){};on.useDeferredValue=function(n){return us.current.useDeferredValue(n)};on.useEffect=function(n,e){return us.current.useEffect(n,e)};on.useId=function(){return us.current.useId()};on.useImperativeHandle=function(n,e,r){return us.current.useImperativeHandle(n,e,r)};on.useInsertionEffect=function(n,e){return us.current.useInsertionEffect(n,e)};on.useLayoutEffect=function(n,e){return us.current.useLayoutEffect(n,e)};on.useMemo=function(n,e){return us.current.useMemo(n,e)};on.useReducer=function(n,e,r){return us.current.useReducer(n,e,r)};on.useRef=function(n){return us.current.useRef(n)};on.useState=function(n){return us.current.useState(n)};on.useSyncExternalStore=function(n,e,r){return us.current.useSyncExternalStore(n,e,r)};on.useTransition=function(){return us.current.useTransition()};on.version="18.3.1";pse.exports=on;var A=pse.exports;const B=F2(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uxe=A,Wxe=Symbol.for("react.element"),qxe=Symbol.for("react.fragment"),Hxe=Object.prototype.hasOwnProperty,Vxe=Uxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gxe={key:!0,ref:!0,__self:!0,__source:!0};function kse(n,e,r){var i,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)Hxe.call(e,i)&&!Gxe.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:Wxe,type:n,key:o,ref:a,props:s,_owner:Vxe.current}}$2.Fragment=qxe;$2.jsx=kse;$2.jsxs=kse;fse.exports=$2;var g=fse.exports,PD={},Sse={exports:{}},go={},Cse={exports:{}},Ese={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(R,H){var U=R.length;R.push(H);e:for(;0<U;){var K=U-1>>>1,Y=R[K];if(0<s(Y,H))R[K]=H,R[U]=Y,U=K;else break e}}function r(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var H=R[0],U=R.pop();if(U!==H){R[0]=U;e:for(var K=0,Y=R.length,Z=Y>>>1;K<Z;){var G=2*(K+1)-1,X=R[G],ae=G+1,be=R[ae];if(0>s(X,U))ae<Y&&0>s(be,X)?(R[K]=be,R[ae]=U,K=ae):(R[K]=X,R[G]=U,K=G);else if(ae<Y&&0>s(be,U))R[K]=be,R[ae]=U,K=ae;else break e}}return H}function s(R,H){var U=R.sortIndex-H.sortIndex;return U!==0?U:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var H=r(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=R)i(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(u)}}function x(R){if(b=!1,_(R),!m)if(r(c)!==null)m=!0,j(k);else{var H=r(u);H!==null&&N(x,H.startTime-R)}}function k(R,H){m=!1,b&&(b=!1,v(T),T=-1),p=!0;var U=f;try{for(_(H),h=r(c);h!==null&&(!(h.expirationTime>H)||R&&!O());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var Y=K(h.expirationTime<=H);H=n.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(c)&&i(c),_(H)}else i(c);h=r(c)}if(h!==null)var Z=!0;else{var G=r(u);G!==null&&N(x,G.startTime-H),Z=!1}return Z}finally{h=null,f=U,p=!1}}var C=!1,E=null,T=-1,M=5,I=-1;function O(){return!(n.unstable_now()-I<M)}function F(){if(E!==null){var R=n.unstable_now();I=R;var H=!0;try{H=E(!0,R)}finally{H?$():(C=!1,E=null)}}else C=!1}var $;if(typeof w=="function")$=function(){w(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=F,$=function(){D.postMessage(null)}}else $=function(){y(F,0)};function j(R){E=R,C||(C=!0,$())}function N(R,H){T=y(function(){R(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,j(k))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(R){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return R()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=f;f=R;try{return H()}finally{f=U}},n.unstable_scheduleCallback=function(R,H,U){var K=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,R){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,R={id:d++,callback:H,priorityLevel:R,startTime:U,expirationTime:Y,sortIndex:-1},U>K?(R.sortIndex=U,e(u,R),r(c)===null&&R===r(u)&&(b?(v(T),T=-1):b=!0,N(x,U-K))):(R.sortIndex=Y,e(c,R),m||p||(m=!0,j(k))),R},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(R){var H=f;return function(){var U=f;f=H;try{return R.apply(this,arguments)}finally{f=U}}}})(Ese);Cse.exports=Ese;var Yxe=Cse.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kxe=A,uo=Yxe;function rt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ase=new Set,pv={};function dp(n,e){Hg(n,e),Hg(n+"Capture",e)}function Hg(n,e){for(pv[n]=e,n=0;n<e.length;n++)Ase.add(e[n])}var ru=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ID=Object.prototype.hasOwnProperty,Xxe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lF={},cF={};function Qxe(n){return ID.call(cF,n)?!0:ID.call(lF,n)?!1:Xxe.test(n)?cF[n]=!0:(lF[n]=!0,!1)}function Jxe(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Zxe(n,e,r,i){if(e===null||typeof e>"u"||Jxe(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ds(n,e,r,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Si[n]=new ds(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Si[e]=new ds(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Si[n]=new ds(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Si[n]=new ds(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Si[n]=new ds(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Si[n]=new ds(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Si[n]=new ds(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Si[n]=new ds(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Si[n]=new ds(n,5,!1,n.toLowerCase(),null,!1,!1)});var DN=/[\-:]([a-z])/g;function RN(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(DN,RN);Si[e]=new ds(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(DN,RN);Si[e]=new ds(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(DN,RN);Si[e]=new ds(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Si[n]=new ds(n,1,!1,n.toLowerCase(),null,!1,!1)});Si.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Si[n]=new ds(n,1,!1,n.toLowerCase(),null,!0,!0)});function NN(n,e,r,i){var s=Si.hasOwnProperty(e)?Si[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zxe(e,r,s,i)&&(r=null),i||s===null?Qxe(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):s.mustUseProperty?n[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,i=s.attributeNamespace,r===null?n.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var mu=Kxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g1=Symbol.for("react.element"),vm=Symbol.for("react.portal"),wm=Symbol.for("react.fragment"),jN=Symbol.for("react.strict_mode"),MD=Symbol.for("react.profiler"),Tse=Symbol.for("react.provider"),Pse=Symbol.for("react.context"),BN=Symbol.for("react.forward_ref"),OD=Symbol.for("react.suspense"),DD=Symbol.for("react.suspense_list"),LN=Symbol.for("react.memo"),ed=Symbol.for("react.lazy"),Ise=Symbol.for("react.offscreen"),uF=Symbol.iterator;function kb(n){return n===null||typeof n!="object"?null:(n=uF&&n[uF]||n["@@iterator"],typeof n=="function"?n:null)}var ur=Object.assign,p6;function my(n){if(p6===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);p6=e&&e[1]||""}return`
`+p6+n}var m6=!1;function g6(n,e){if(!n||m6)return"";m6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=l);break}}}finally{m6=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?my(n):""}function e1e(n){switch(n.tag){case 5:return my(n.type);case 16:return my("Lazy");case 13:return my("Suspense");case 19:return my("SuspenseList");case 0:case 2:case 15:return n=g6(n.type,!1),n;case 11:return n=g6(n.type.render,!1),n;case 1:return n=g6(n.type,!0),n;default:return""}}function RD(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case wm:return"Fragment";case vm:return"Portal";case MD:return"Profiler";case jN:return"StrictMode";case OD:return"Suspense";case DD:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pse:return(n.displayName||"Context")+".Consumer";case Tse:return(n._context.displayName||"Context")+".Provider";case BN:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case LN:return e=n.displayName||null,e!==null?e:RD(n.type)||"Memo";case ed:e=n._payload,n=n._init;try{return RD(n(e))}catch{}}return null}function t1e(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RD(e);case 8:return e===jN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ud(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Mse(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n1e(n){var e=Mse(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function b1(n){n._valueTracker||(n._valueTracker=n1e(n))}function Ose(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=Mse(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function Lk(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ND(n,e){var r=e.checked;return ur({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function dF(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Ud(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dse(n,e){e=e.checked,e!=null&&NN(n,"checked",e,!1)}function jD(n,e){Dse(n,e);var r=Ud(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?BD(n,e.type,r):e.hasOwnProperty("defaultValue")&&BD(n,e.type,Ud(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function hF(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function BD(n,e,r){(e!=="number"||Lk(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var gy=Array.isArray;function qm(n,e,r,i){if(n=n.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<n.length;r++)s=e.hasOwnProperty("$"+n[r].value),n[r].selected!==s&&(n[r].selected=s),s&&i&&(n[r].defaultSelected=!0)}else{for(r=""+Ud(r),e=null,s=0;s<n.length;s++){if(n[s].value===r){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function LD(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return ur({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fF(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(rt(92));if(gy(r)){if(1<r.length)throw Error(rt(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:Ud(r)}}function Rse(n,e){var r=Ud(e.value),i=Ud(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function pF(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Nse(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FD(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Nse(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var y1,jse=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(y1=y1||document.createElement("div"),y1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=y1.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function mv(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var By={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r1e=["Webkit","ms","Moz","O"];Object.keys(By).forEach(function(n){r1e.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),By[e]=By[n]})});function Bse(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||By.hasOwnProperty(n)&&By[n]?(""+e).trim():e+"px"}function Lse(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Bse(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var i1e=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $D(n,e){if(e){if(i1e[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function zD(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UD=null;function FN(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var WD=null,Hm=null,Vm=null;function mF(n){if(n=Gw(n)){if(typeof WD!="function")throw Error(rt(280));var e=n.stateNode;e&&(e=H2(e),WD(n.stateNode,n.type,e))}}function Fse(n){Hm?Vm?Vm.push(n):Vm=[n]:Hm=n}function $se(){if(Hm){var n=Hm,e=Vm;if(Vm=Hm=null,mF(n),e)for(n=0;n<e.length;n++)mF(e[n])}}function zse(n,e){return n(e)}function Use(){}var b6=!1;function Wse(n,e,r){if(b6)return n(e,r);b6=!0;try{return zse(n,e,r)}finally{b6=!1,(Hm!==null||Vm!==null)&&(Use(),$se())}}function gv(n,e){var r=n.stateNode;if(r===null)return null;var i=H2(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(rt(231,e,typeof r));return r}var qD=!1;if(ru)try{var Sb={};Object.defineProperty(Sb,"passive",{get:function(){qD=!0}}),window.addEventListener("test",Sb,Sb),window.removeEventListener("test",Sb,Sb)}catch{qD=!1}function s1e(n,e,r,i,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Ly=!1,Fk=null,$k=!1,HD=null,o1e={onError:function(n){Ly=!0,Fk=n}};function a1e(n,e,r,i,s,o,a,l,c){Ly=!1,Fk=null,s1e.apply(o1e,arguments)}function l1e(n,e,r,i,s,o,a,l,c){if(a1e.apply(this,arguments),Ly){if(Ly){var u=Fk;Ly=!1,Fk=null}else throw Error(rt(198));$k||($k=!0,HD=u)}}function hp(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function qse(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function gF(n){if(hp(n)!==n)throw Error(rt(188))}function c1e(n){var e=n.alternate;if(!e){if(e=hp(n),e===null)throw Error(rt(188));return e!==n?null:n}for(var r=n,i=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return gF(s),n;if(o===i)return gF(s),e;o=o.sibling}throw Error(rt(188))}if(r.return!==i.return)r=s,i=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,i=o;break}if(l===i){a=!0,i=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,i=s;break}if(l===i){a=!0,i=o,r=s;break}l=l.sibling}if(!a)throw Error(rt(189))}}if(r.alternate!==i)throw Error(rt(190))}if(r.tag!==3)throw Error(rt(188));return r.stateNode.current===r?n:e}function Hse(n){return n=c1e(n),n!==null?Vse(n):null}function Vse(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Vse(n);if(e!==null)return e;n=n.sibling}return null}var Gse=uo.unstable_scheduleCallback,bF=uo.unstable_cancelCallback,u1e=uo.unstable_shouldYield,d1e=uo.unstable_requestPaint,Ar=uo.unstable_now,h1e=uo.unstable_getCurrentPriorityLevel,$N=uo.unstable_ImmediatePriority,Yse=uo.unstable_UserBlockingPriority,zk=uo.unstable_NormalPriority,f1e=uo.unstable_LowPriority,Kse=uo.unstable_IdlePriority,z2=null,Tl=null;function p1e(n){if(Tl&&typeof Tl.onCommitFiberRoot=="function")try{Tl.onCommitFiberRoot(z2,n,void 0,(n.current.flags&128)===128)}catch{}}var Pa=Math.clz32?Math.clz32:b1e,m1e=Math.log,g1e=Math.LN2;function b1e(n){return n>>>=0,n===0?32:31-(m1e(n)/g1e|0)|0}var v1=64,w1=4194304;function by(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Uk(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,s=n.suspendedLanes,o=n.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?i=by(l):(o&=a,o!==0&&(i=by(o)))}else a=r&~s,a!==0?i=by(a):o!==0&&(i=by(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-Pa(e),s=1<<r,i|=n[r],e&=~s;return i}function y1e(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v1e(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-Pa(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&i)&&(s[a]=y1e(l,e)):c<=e&&(n.expiredLanes|=l),o&=~l}}function VD(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Xse(){var n=v1;return v1<<=1,!(v1&4194240)&&(v1=64),n}function y6(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function Hw(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Pa(e),n[e]=r}function w1e(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var s=31-Pa(r),o=1<<s;e[s]=0,i[s]=-1,n[s]=-1,r&=~o}}function zN(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-Pa(r),s=1<<i;s&e|n[i]&e&&(n[i]|=e),r&=~s}}var Mn=0;function Qse(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Jse,UN,Zse,eoe,toe,GD=!1,x1=[],Ed=null,Ad=null,Td=null,bv=new Map,yv=new Map,rd=[],x1e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yF(n,e){switch(n){case"focusin":case"focusout":Ed=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":Td=null;break;case"pointerover":case"pointerout":bv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yv.delete(e.pointerId)}}function Cb(n,e,r,i,s,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Gw(e),e!==null&&UN(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function _1e(n,e,r,i,s){switch(e){case"focusin":return Ed=Cb(Ed,n,e,r,i,s),!0;case"dragenter":return Ad=Cb(Ad,n,e,r,i,s),!0;case"mouseover":return Td=Cb(Td,n,e,r,i,s),!0;case"pointerover":var o=s.pointerId;return bv.set(o,Cb(bv.get(o)||null,n,e,r,i,s)),!0;case"gotpointercapture":return o=s.pointerId,yv.set(o,Cb(yv.get(o)||null,n,e,r,i,s)),!0}return!1}function noe(n){var e=Vh(n.target);if(e!==null){var r=hp(e);if(r!==null){if(e=r.tag,e===13){if(e=qse(r),e!==null){n.blockedOn=e,toe(n.priority,function(){Zse(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function X_(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=YD(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);UD=i,r.target.dispatchEvent(i),UD=null}else return e=Gw(r),e!==null&&UN(e),n.blockedOn=r,!1;e.shift()}return!0}function vF(n,e,r){X_(n)&&r.delete(e)}function k1e(){GD=!1,Ed!==null&&X_(Ed)&&(Ed=null),Ad!==null&&X_(Ad)&&(Ad=null),Td!==null&&X_(Td)&&(Td=null),bv.forEach(vF),yv.forEach(vF)}function Eb(n,e){n.blockedOn===e&&(n.blockedOn=null,GD||(GD=!0,uo.unstable_scheduleCallback(uo.unstable_NormalPriority,k1e)))}function vv(n){function e(s){return Eb(s,n)}if(0<x1.length){Eb(x1[0],n);for(var r=1;r<x1.length;r++){var i=x1[r];i.blockedOn===n&&(i.blockedOn=null)}}for(Ed!==null&&Eb(Ed,n),Ad!==null&&Eb(Ad,n),Td!==null&&Eb(Td,n),bv.forEach(e),yv.forEach(e),r=0;r<rd.length;r++)i=rd[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<rd.length&&(r=rd[0],r.blockedOn===null);)noe(r),r.blockedOn===null&&rd.shift()}var Gm=mu.ReactCurrentBatchConfig,Wk=!0;function S1e(n,e,r,i){var s=Mn,o=Gm.transition;Gm.transition=null;try{Mn=1,WN(n,e,r,i)}finally{Mn=s,Gm.transition=o}}function C1e(n,e,r,i){var s=Mn,o=Gm.transition;Gm.transition=null;try{Mn=4,WN(n,e,r,i)}finally{Mn=s,Gm.transition=o}}function WN(n,e,r,i){if(Wk){var s=YD(n,e,r,i);if(s===null)T6(n,e,i,qk,r),yF(n,i);else if(_1e(s,n,e,r,i))i.stopPropagation();else if(yF(n,i),e&4&&-1<x1e.indexOf(n)){for(;s!==null;){var o=Gw(s);if(o!==null&&Jse(o),o=YD(n,e,r,i),o===null&&T6(n,e,i,qk,r),o===s)break;s=o}s!==null&&i.stopPropagation()}else T6(n,e,i,null,r)}}var qk=null;function YD(n,e,r,i){if(qk=null,n=FN(i),n=Vh(n),n!==null)if(e=hp(n),e===null)n=null;else if(r=e.tag,r===13){if(n=qse(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return qk=n,null}function roe(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h1e()){case $N:return 1;case Yse:return 4;case zk:case f1e:return 16;case Kse:return 536870912;default:return 16}default:return 16}}var wd=null,qN=null,Q_=null;function ioe(){if(Q_)return Q_;var n,e=qN,r=e.length,i,s="value"in wd?wd.value:wd.textContent,o=s.length;for(n=0;n<r&&e[n]===s[n];n++);var a=r-n;for(i=1;i<=a&&e[r-i]===s[o-i];i++);return Q_=s.slice(n,1<i?1-i:void 0)}function J_(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function _1(){return!0}function wF(){return!1}function bo(n){function e(r,i,s,o,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(r=n[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_1:wF,this.isPropagationStopped=wF,this}return ur(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_1)},persist:function(){},isPersistent:_1}),e}var F0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HN=bo(F0),Vw=ur({},F0,{view:0,detail:0}),E1e=bo(Vw),v6,w6,Ab,U2=ur({},Vw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VN,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ab&&(Ab&&n.type==="mousemove"?(v6=n.screenX-Ab.screenX,w6=n.screenY-Ab.screenY):w6=v6=0,Ab=n),v6)},movementY:function(n){return"movementY"in n?n.movementY:w6}}),xF=bo(U2),A1e=ur({},U2,{dataTransfer:0}),T1e=bo(A1e),P1e=ur({},Vw,{relatedTarget:0}),x6=bo(P1e),I1e=ur({},F0,{animationName:0,elapsedTime:0,pseudoElement:0}),M1e=bo(I1e),O1e=ur({},F0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),D1e=bo(O1e),R1e=ur({},F0,{data:0}),_F=bo(R1e),N1e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j1e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B1e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L1e(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=B1e[n])?!!e[n]:!1}function VN(){return L1e}var F1e=ur({},Vw,{key:function(n){if(n.key){var e=N1e[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=J_(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?j1e[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VN,charCode:function(n){return n.type==="keypress"?J_(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?J_(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$1e=bo(F1e),z1e=ur({},U2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kF=bo(z1e),U1e=ur({},Vw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VN}),W1e=bo(U1e),q1e=ur({},F0,{propertyName:0,elapsedTime:0,pseudoElement:0}),H1e=bo(q1e),V1e=ur({},U2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),G1e=bo(V1e),Y1e=[9,13,27,32],GN=ru&&"CompositionEvent"in window,Fy=null;ru&&"documentMode"in document&&(Fy=document.documentMode);var K1e=ru&&"TextEvent"in window&&!Fy,soe=ru&&(!GN||Fy&&8<Fy&&11>=Fy),SF=" ",CF=!1;function ooe(n,e){switch(n){case"keyup":return Y1e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aoe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xm=!1;function X1e(n,e){switch(n){case"compositionend":return aoe(e);case"keypress":return e.which!==32?null:(CF=!0,SF);case"textInput":return n=e.data,n===SF&&CF?null:n;default:return null}}function Q1e(n,e){if(xm)return n==="compositionend"||!GN&&ooe(n,e)?(n=ioe(),Q_=qN=wd=null,xm=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return soe&&e.locale!=="ko"?null:e.data;default:return null}}var J1e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EF(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!J1e[n.type]:e==="textarea"}function loe(n,e,r,i){Fse(i),e=Hk(e,"onChange"),0<e.length&&(r=new HN("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var $y=null,wv=null;function Z1e(n){voe(n,0)}function W2(n){var e=Sm(n);if(Ose(e))return n}function e_e(n,e){if(n==="change")return e}var coe=!1;if(ru){var _6;if(ru){var k6="oninput"in document;if(!k6){var AF=document.createElement("div");AF.setAttribute("oninput","return;"),k6=typeof AF.oninput=="function"}_6=k6}else _6=!1;coe=_6&&(!document.documentMode||9<document.documentMode)}function TF(){$y&&($y.detachEvent("onpropertychange",uoe),wv=$y=null)}function uoe(n){if(n.propertyName==="value"&&W2(wv)){var e=[];loe(e,wv,n,FN(n)),Wse(Z1e,e)}}function t_e(n,e,r){n==="focusin"?(TF(),$y=e,wv=r,$y.attachEvent("onpropertychange",uoe)):n==="focusout"&&TF()}function n_e(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return W2(wv)}function r_e(n,e){if(n==="click")return W2(e)}function i_e(n,e){if(n==="input"||n==="change")return W2(e)}function s_e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Oa=typeof Object.is=="function"?Object.is:s_e;function xv(n,e){if(Oa(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!ID.call(e,s)||!Oa(n[s],e[s]))return!1}return!0}function PF(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function IF(n,e){var r=PF(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=PF(r)}}function doe(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?doe(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function hoe(){for(var n=window,e=Lk();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=Lk(n.document)}return e}function YN(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function o_e(n){var e=hoe(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&doe(r.ownerDocument.documentElement,r)){if(i!==null&&YN(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=r.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!n.extend&&o>i&&(s=i,i=o,o=s),s=IF(r,o);var a=IF(r,i);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var a_e=ru&&"documentMode"in document&&11>=document.documentMode,_m=null,KD=null,zy=null,XD=!1;function MF(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;XD||_m==null||_m!==Lk(i)||(i=_m,"selectionStart"in i&&YN(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zy&&xv(zy,i)||(zy=i,i=Hk(KD,"onSelect"),0<i.length&&(e=new HN("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=_m)))}function k1(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var km={animationend:k1("Animation","AnimationEnd"),animationiteration:k1("Animation","AnimationIteration"),animationstart:k1("Animation","AnimationStart"),transitionend:k1("Transition","TransitionEnd")},S6={},foe={};ru&&(foe=document.createElement("div").style,"AnimationEvent"in window||(delete km.animationend.animation,delete km.animationiteration.animation,delete km.animationstart.animation),"TransitionEvent"in window||delete km.transitionend.transition);function q2(n){if(S6[n])return S6[n];if(!km[n])return n;var e=km[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in foe)return S6[n]=e[r];return n}var poe=q2("animationend"),moe=q2("animationiteration"),goe=q2("animationstart"),boe=q2("transitionend"),yoe=new Map,OF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jd(n,e){yoe.set(n,e),dp(e,[n])}for(var C6=0;C6<OF.length;C6++){var E6=OF[C6],l_e=E6.toLowerCase(),c_e=E6[0].toUpperCase()+E6.slice(1);Jd(l_e,"on"+c_e)}Jd(poe,"onAnimationEnd");Jd(moe,"onAnimationIteration");Jd(goe,"onAnimationStart");Jd("dblclick","onDoubleClick");Jd("focusin","onFocus");Jd("focusout","onBlur");Jd(boe,"onTransitionEnd");Hg("onMouseEnter",["mouseout","mouseover"]);Hg("onMouseLeave",["mouseout","mouseover"]);Hg("onPointerEnter",["pointerout","pointerover"]);Hg("onPointerLeave",["pointerout","pointerover"]);dp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dp("onBeforeInput",["compositionend","keypress","textInput","paste"]);dp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u_e=new Set("cancel close invalid load scroll toggle".split(" ").concat(yy));function DF(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,l1e(i,e,void 0,n),n.currentTarget=null}function voe(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;DF(s,l,u),o=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;DF(s,l,u),o=c}}}if($k)throw n=HD,$k=!1,HD=null,n}function Gn(n,e){var r=e[t8];r===void 0&&(r=e[t8]=new Set);var i=n+"__bubble";r.has(i)||(woe(e,n,2,!1),r.add(i))}function A6(n,e,r){var i=0;e&&(i|=4),woe(r,n,i,e)}var S1="_reactListening"+Math.random().toString(36).slice(2);function _v(n){if(!n[S1]){n[S1]=!0,Ase.forEach(function(r){r!=="selectionchange"&&(u_e.has(r)||A6(r,!1,n),A6(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[S1]||(e[S1]=!0,A6("selectionchange",!1,e))}}function woe(n,e,r,i){switch(roe(e)){case 1:var s=S1e;break;case 4:s=C1e;break;default:s=WN}r=s.bind(null,e,r,n),s=void 0,!qD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,r,{capture:!0,passive:s}):n.addEventListener(e,r,!0):s!==void 0?n.addEventListener(e,r,{passive:s}):n.addEventListener(e,r,!1)}function T6(n,e,r,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Vh(l),a===null)return;if(c=a.tag,c===5||c===6){i=o=a;continue e}l=l.parentNode}}i=i.return}Wse(function(){var u=o,d=FN(r),h=[];e:{var f=yoe.get(n);if(f!==void 0){var p=HN,m=n;switch(n){case"keypress":if(J_(r)===0)break e;case"keydown":case"keyup":p=$1e;break;case"focusin":m="focus",p=x6;break;case"focusout":m="blur",p=x6;break;case"beforeblur":case"afterblur":p=x6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=T1e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=W1e;break;case poe:case moe:case goe:p=M1e;break;case boe:p=H1e;break;case"scroll":p=E1e;break;case"wheel":p=G1e;break;case"copy":case"cut":case"paste":p=D1e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kF}var b=(e&4)!==0,y=!b&&n==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var w=u,_;w!==null;){_=w;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=gv(w,v),x!=null&&b.push(kv(w,x,_)))),y)break;w=w.return}0<b.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&r!==UD&&(m=r.relatedTarget||r.fromElement)&&(Vh(m)||m[iu]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Vh(m):null,m!==null&&(y=hp(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(b=xF,x="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(b=kF,x="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?f:Sm(p),_=m==null?f:Sm(m),f=new b(x,w+"leave",p,r,d),f.target=y,f.relatedTarget=_,x=null,Vh(d)===u&&(b=new b(v,w+"enter",m,r,d),b.target=_,b.relatedTarget=y,x=b),y=x,p&&m)t:{for(b=p,v=m,w=0,_=b;_;_=Hp(_))w++;for(_=0,x=v;x;x=Hp(x))_++;for(;0<w-_;)b=Hp(b),w--;for(;0<_-w;)v=Hp(v),_--;for(;w--;){if(b===v||v!==null&&b===v.alternate)break t;b=Hp(b),v=Hp(v)}b=null}else b=null;p!==null&&RF(h,f,p,b,!1),m!==null&&y!==null&&RF(h,y,m,b,!0)}}e:{if(f=u?Sm(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=e_e;else if(EF(f))if(coe)k=i_e;else{k=n_e;var C=t_e}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=r_e);if(k&&(k=k(n,u))){loe(h,k,r,d);break e}C&&C(n,f,u),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&BD(f,"number",f.value)}switch(C=u?Sm(u):window,n){case"focusin":(EF(C)||C.contentEditable==="true")&&(_m=C,KD=u,zy=null);break;case"focusout":zy=KD=_m=null;break;case"mousedown":XD=!0;break;case"contextmenu":case"mouseup":case"dragend":XD=!1,MF(h,r,d);break;case"selectionchange":if(a_e)break;case"keydown":case"keyup":MF(h,r,d)}var E;if(GN)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else xm?ooe(n,r)&&(T="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(soe&&r.locale!=="ko"&&(xm||T!=="onCompositionStart"?T==="onCompositionEnd"&&xm&&(E=ioe()):(wd=d,qN="value"in wd?wd.value:wd.textContent,xm=!0)),C=Hk(u,T),0<C.length&&(T=new _F(T,n,null,r,d),h.push({event:T,listeners:C}),E?T.data=E:(E=aoe(r),E!==null&&(T.data=E)))),(E=K1e?X1e(n,r):Q1e(n,r))&&(u=Hk(u,"onBeforeInput"),0<u.length&&(d=new _F("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}voe(h,e)})}function kv(n,e,r){return{instance:n,listener:e,currentTarget:r}}function Hk(n,e){for(var r=e+"Capture",i=[];n!==null;){var s=n,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=gv(n,r),o!=null&&i.unshift(kv(n,o,s)),o=gv(n,e),o!=null&&i.push(kv(n,o,s))),n=n.return}return i}function Hp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function RF(n,e,r,i,s){for(var o=e._reactName,a=[];r!==null&&r!==i;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,s?(c=gv(r,o),c!=null&&a.unshift(kv(r,c,l))):s||(c=gv(r,o),c!=null&&a.push(kv(r,c,l)))),r=r.return}a.length!==0&&n.push({event:e,listeners:a})}var d_e=/\r\n?/g,h_e=/\u0000|\uFFFD/g;function NF(n){return(typeof n=="string"?n:""+n).replace(d_e,`
`).replace(h_e,"")}function C1(n,e,r){if(e=NF(e),NF(n)!==e&&r)throw Error(rt(425))}function Vk(){}var QD=null,JD=null;function ZD(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e8=typeof setTimeout=="function"?setTimeout:void 0,f_e=typeof clearTimeout=="function"?clearTimeout:void 0,jF=typeof Promise=="function"?Promise:void 0,p_e=typeof queueMicrotask=="function"?queueMicrotask:typeof jF<"u"?function(n){return jF.resolve(null).then(n).catch(m_e)}:e8;function m_e(n){setTimeout(function(){throw n})}function P6(n,e){var r=e,i=0;do{var s=r.nextSibling;if(n.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){n.removeChild(s),vv(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);vv(e)}function Pd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function BF(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var $0=Math.random().toString(36).slice(2),wl="__reactFiber$"+$0,Sv="__reactProps$"+$0,iu="__reactContainer$"+$0,t8="__reactEvents$"+$0,g_e="__reactListeners$"+$0,b_e="__reactHandles$"+$0;function Vh(n){var e=n[wl];if(e)return e;for(var r=n.parentNode;r;){if(e=r[iu]||r[wl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=BF(n);n!==null;){if(r=n[wl])return r;n=BF(n)}return e}n=r,r=n.parentNode}return null}function Gw(n){return n=n[wl]||n[iu],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Sm(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(rt(33))}function H2(n){return n[Sv]||null}var n8=[],Cm=-1;function Zd(n){return{current:n}}function Kn(n){0>Cm||(n.current=n8[Cm],n8[Cm]=null,Cm--)}function Wn(n,e){Cm++,n8[Cm]=n.current,n.current=e}var Wd={},Li=Zd(Wd),Is=Zd(!1),Nf=Wd;function Vg(n,e){var r=n.type.contextTypes;if(!r)return Wd;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Ms(n){return n=n.childContextTypes,n!=null}function Gk(){Kn(Is),Kn(Li)}function LF(n,e,r){if(Li.current!==Wd)throw Error(rt(168));Wn(Li,e),Wn(Is,r)}function xoe(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(rt(108,t1e(n)||"Unknown",s));return ur({},r,i)}function Yk(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wd,Nf=Li.current,Wn(Li,n),Wn(Is,Is.current),!0}function FF(n,e,r){var i=n.stateNode;if(!i)throw Error(rt(169));r?(n=xoe(n,e,Nf),i.__reactInternalMemoizedMergedChildContext=n,Kn(Is),Kn(Li),Wn(Li,n)):Kn(Is),Wn(Is,r)}var wc=null,V2=!1,I6=!1;function _oe(n){wc===null?wc=[n]:wc.push(n)}function y_e(n){V2=!0,_oe(n)}function eh(){if(!I6&&wc!==null){I6=!0;var n=0,e=Mn;try{var r=wc;for(Mn=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}wc=null,V2=!1}catch(s){throw wc!==null&&(wc=wc.slice(n+1)),Gse($N,eh),s}finally{Mn=e,I6=!1}}return null}var Em=[],Am=0,Kk=null,Xk=0,Wo=[],qo=0,jf=null,Nc=1,jc="";function Ih(n,e){Em[Am++]=Xk,Em[Am++]=Kk,Kk=n,Xk=e}function koe(n,e,r){Wo[qo++]=Nc,Wo[qo++]=jc,Wo[qo++]=jf,jf=n;var i=Nc;n=jc;var s=32-Pa(i)-1;i&=~(1<<s),r+=1;var o=32-Pa(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Nc=1<<32-Pa(e)+s|r<<s|i,jc=o+n}else Nc=1<<o|r<<s|i,jc=n}function KN(n){n.return!==null&&(Ih(n,1),koe(n,1,0))}function XN(n){for(;n===Kk;)Kk=Em[--Am],Em[Am]=null,Xk=Em[--Am],Em[Am]=null;for(;n===jf;)jf=Wo[--qo],Wo[qo]=null,jc=Wo[--qo],Wo[qo]=null,Nc=Wo[--qo],Wo[qo]=null}var io=null,ro=null,ir=!1,ka=null;function Soe(n,e){var r=Go(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function $F(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,io=n,ro=Pd(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,io=n,ro=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=jf!==null?{id:Nc,overflow:jc}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Go(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,io=n,ro=null,!0):!1;default:return!1}}function r8(n){return(n.mode&1)!==0&&(n.flags&128)===0}function i8(n){if(ir){var e=ro;if(e){var r=e;if(!$F(n,e)){if(r8(n))throw Error(rt(418));e=Pd(r.nextSibling);var i=io;e&&$F(n,e)?Soe(i,r):(n.flags=n.flags&-4097|2,ir=!1,io=n)}}else{if(r8(n))throw Error(rt(418));n.flags=n.flags&-4097|2,ir=!1,io=n}}}function zF(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;io=n}function E1(n){if(n!==io)return!1;if(!ir)return zF(n),ir=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ZD(n.type,n.memoizedProps)),e&&(e=ro)){if(r8(n))throw Coe(),Error(rt(418));for(;e;)Soe(n,e),e=Pd(e.nextSibling)}if(zF(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(rt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){ro=Pd(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}ro=null}}else ro=io?Pd(n.stateNode.nextSibling):null;return!0}function Coe(){for(var n=ro;n;)n=Pd(n.nextSibling)}function Gg(){ro=io=null,ir=!1}function QN(n){ka===null?ka=[n]:ka.push(n)}var v_e=mu.ReactCurrentBatchConfig;function Tb(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(rt(309));var i=r.stateNode}if(!i)throw Error(rt(147,n));var s=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(rt(284));if(!r._owner)throw Error(rt(290,n))}return n}function A1(n,e){throw n=Object.prototype.toString.call(e),Error(rt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function UF(n){var e=n._init;return e(n._payload)}function Eoe(n){function e(v,w){if(n){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function r(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function i(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Dd(v,w),v.index=0,v.sibling=null,v}function o(v,w,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function l(v,w,_,x){return w===null||w.tag!==6?(w=B6(_,v.mode,x),w.return=v,w):(w=s(w,_),w.return=v,w)}function c(v,w,_,x){var k=_.type;return k===wm?d(v,w,_.props.children,x,_.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ed&&UF(k)===w.type)?(x=s(w,_.props),x.ref=Tb(v,w,_),x.return=v,x):(x=sk(_.type,_.key,_.props,null,v.mode,x),x.ref=Tb(v,w,_),x.return=v,x)}function u(v,w,_,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=L6(_,v.mode,x),w.return=v,w):(w=s(w,_.children||[]),w.return=v,w)}function d(v,w,_,x,k){return w===null||w.tag!==7?(w=xf(_,v.mode,x,k),w.return=v,w):(w=s(w,_),w.return=v,w)}function h(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=B6(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case g1:return _=sk(w.type,w.key,w.props,null,v.mode,_),_.ref=Tb(v,null,w),_.return=v,_;case vm:return w=L6(w,v.mode,_),w.return=v,w;case ed:var x=w._init;return h(v,x(w._payload),_)}if(gy(w)||kb(w))return w=xf(w,v.mode,_,null),w.return=v,w;A1(v,w)}return null}function f(v,w,_,x){var k=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:l(v,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case g1:return _.key===k?c(v,w,_,x):null;case vm:return _.key===k?u(v,w,_,x):null;case ed:return k=_._init,f(v,w,k(_._payload),x)}if(gy(_)||kb(_))return k!==null?null:d(v,w,_,x,null);A1(v,_)}return null}function p(v,w,_,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(_)||null,l(w,v,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case g1:return v=v.get(x.key===null?_:x.key)||null,c(w,v,x,k);case vm:return v=v.get(x.key===null?_:x.key)||null,u(w,v,x,k);case ed:var C=x._init;return p(v,w,_,C(x._payload),k)}if(gy(x)||kb(x))return v=v.get(_)||null,d(w,v,x,k,null);A1(w,x)}return null}function m(v,w,_,x){for(var k=null,C=null,E=w,T=w=0,M=null;E!==null&&T<_.length;T++){E.index>T?(M=E,E=null):M=E.sibling;var I=f(v,E,_[T],x);if(I===null){E===null&&(E=M);break}n&&E&&I.alternate===null&&e(v,E),w=o(I,w,T),C===null?k=I:C.sibling=I,C=I,E=M}if(T===_.length)return r(v,E),ir&&Ih(v,T),k;if(E===null){for(;T<_.length;T++)E=h(v,_[T],x),E!==null&&(w=o(E,w,T),C===null?k=E:C.sibling=E,C=E);return ir&&Ih(v,T),k}for(E=i(v,E);T<_.length;T++)M=p(E,v,T,_[T],x),M!==null&&(n&&M.alternate!==null&&E.delete(M.key===null?T:M.key),w=o(M,w,T),C===null?k=M:C.sibling=M,C=M);return n&&E.forEach(function(O){return e(v,O)}),ir&&Ih(v,T),k}function b(v,w,_,x){var k=kb(_);if(typeof k!="function")throw Error(rt(150));if(_=k.call(_),_==null)throw Error(rt(151));for(var C=k=null,E=w,T=w=0,M=null,I=_.next();E!==null&&!I.done;T++,I=_.next()){E.index>T?(M=E,E=null):M=E.sibling;var O=f(v,E,I.value,x);if(O===null){E===null&&(E=M);break}n&&E&&O.alternate===null&&e(v,E),w=o(O,w,T),C===null?k=O:C.sibling=O,C=O,E=M}if(I.done)return r(v,E),ir&&Ih(v,T),k;if(E===null){for(;!I.done;T++,I=_.next())I=h(v,I.value,x),I!==null&&(w=o(I,w,T),C===null?k=I:C.sibling=I,C=I);return ir&&Ih(v,T),k}for(E=i(v,E);!I.done;T++,I=_.next())I=p(E,v,T,I.value,x),I!==null&&(n&&I.alternate!==null&&E.delete(I.key===null?T:I.key),w=o(I,w,T),C===null?k=I:C.sibling=I,C=I);return n&&E.forEach(function(F){return e(v,F)}),ir&&Ih(v,T),k}function y(v,w,_,x){if(typeof _=="object"&&_!==null&&_.type===wm&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case g1:e:{for(var k=_.key,C=w;C!==null;){if(C.key===k){if(k=_.type,k===wm){if(C.tag===7){r(v,C.sibling),w=s(C,_.props.children),w.return=v,v=w;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ed&&UF(k)===C.type){r(v,C.sibling),w=s(C,_.props),w.ref=Tb(v,C,_),w.return=v,v=w;break e}r(v,C);break}else e(v,C);C=C.sibling}_.type===wm?(w=xf(_.props.children,v.mode,x,_.key),w.return=v,v=w):(x=sk(_.type,_.key,_.props,null,v.mode,x),x.ref=Tb(v,w,_),x.return=v,v=x)}return a(v);case vm:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(v,w.sibling),w=s(w,_.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else e(v,w);w=w.sibling}w=L6(_,v.mode,x),w.return=v,v=w}return a(v);case ed:return C=_._init,y(v,w,C(_._payload),x)}if(gy(_))return m(v,w,_,x);if(kb(_))return b(v,w,_,x);A1(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(v,w.sibling),w=s(w,_),w.return=v,v=w):(r(v,w),w=B6(_,v.mode,x),w.return=v,v=w),a(v)):r(v,w)}return y}var Yg=Eoe(!0),Aoe=Eoe(!1),Qk=Zd(null),Jk=null,Tm=null,JN=null;function ZN(){JN=Tm=Jk=null}function ej(n){var e=Qk.current;Kn(Qk),n._currentValue=e}function s8(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function Ym(n,e){Jk=n,JN=Tm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(As=!0),n.firstContext=null)}function Zo(n){var e=n._currentValue;if(JN!==n)if(n={context:n,memoizedValue:e,next:null},Tm===null){if(Jk===null)throw Error(rt(308));Tm=n,Jk.dependencies={lanes:0,firstContext:n}}else Tm=Tm.next=n;return e}var Gh=null;function tj(n){Gh===null?Gh=[n]:Gh.push(n)}function Toe(n,e,r,i){var s=e.interleaved;return s===null?(r.next=r,tj(e)):(r.next=s.next,s.next=r),e.interleaved=r,su(n,i)}function su(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var td=!1;function nj(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Poe(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Uc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Id(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,yn&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,su(n,r)}return s=i.interleaved,s===null?(e.next=e,tj(i)):(e.next=s.next,s.next=e),i.interleaved=e,su(n,r)}function Z_(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,zN(n,r)}}function WF(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function Zk(n,e,r,i){var s=n.updateQueue;td=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;a=0,d=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=n,b=l;switch(f=e,p=r,b.tag){case 1:if(m=b.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=ur({},h,f);break e;case 2:td=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Lf|=a,n.lanes=a,n.memoizedState=h}}function qF(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(rt(191,s));s.call(i)}}}var Yw={},Pl=Zd(Yw),Cv=Zd(Yw),Ev=Zd(Yw);function Yh(n){if(n===Yw)throw Error(rt(174));return n}function rj(n,e){switch(Wn(Ev,e),Wn(Cv,n),Wn(Pl,Yw),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FD(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=FD(e,n)}Kn(Pl),Wn(Pl,e)}function Kg(){Kn(Pl),Kn(Cv),Kn(Ev)}function Ioe(n){Yh(Ev.current);var e=Yh(Pl.current),r=FD(e,n.type);e!==r&&(Wn(Cv,n),Wn(Pl,r))}function ij(n){Cv.current===n&&(Kn(Pl),Kn(Cv))}var lr=Zd(0);function eS(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var M6=[];function sj(){for(var n=0;n<M6.length;n++)M6[n]._workInProgressVersionPrimary=null;M6.length=0}var ek=mu.ReactCurrentDispatcher,O6=mu.ReactCurrentBatchConfig,Bf=0,cr=null,$r=null,Zr=null,tS=!1,Uy=!1,Av=0,w_e=0;function Ti(){throw Error(rt(321))}function oj(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!Oa(n[r],e[r]))return!1;return!0}function aj(n,e,r,i,s,o){if(Bf=o,cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ek.current=n===null||n.memoizedState===null?S_e:C_e,n=r(i,s),Uy){o=0;do{if(Uy=!1,Av=0,25<=o)throw Error(rt(301));o+=1,Zr=$r=null,e.updateQueue=null,ek.current=E_e,n=r(i,s)}while(Uy)}if(ek.current=nS,e=$r!==null&&$r.next!==null,Bf=0,Zr=$r=cr=null,tS=!1,e)throw Error(rt(300));return n}function lj(){var n=Av!==0;return Av=0,n}function cl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?cr.memoizedState=Zr=n:Zr=Zr.next=n,Zr}function ea(){if($r===null){var n=cr.alternate;n=n!==null?n.memoizedState:null}else n=$r.next;var e=Zr===null?cr.memoizedState:Zr.next;if(e!==null)Zr=e,$r=n;else{if(n===null)throw Error(rt(310));$r=n,n={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Zr===null?cr.memoizedState=Zr=n:Zr=Zr.next=n}return Zr}function Tv(n,e){return typeof e=="function"?e(n):e}function D6(n){var e=ea(),r=e.queue;if(r===null)throw Error(rt(311));r.lastRenderedReducer=n;var i=$r,s=i.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,i=i.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Bf&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=i):c=c.next=h,cr.lanes|=d,Lf|=d}u=u.next}while(u!==null&&u!==o);c===null?a=i:c.next=l,Oa(i,e.memoizedState)||(As=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}if(n=r.interleaved,n!==null){s=n;do o=s.lane,cr.lanes|=o,Lf|=o,s=s.next;while(s!==n)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function R6(n){var e=ea(),r=e.queue;if(r===null)throw Error(rt(311));r.lastRenderedReducer=n;var i=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=n(o,a.action),a=a.next;while(a!==s);Oa(o,e.memoizedState)||(As=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function Moe(){}function Ooe(n,e){var r=cr,i=ea(),s=e(),o=!Oa(i.memoizedState,s);if(o&&(i.memoizedState=s,As=!0),i=i.queue,cj(Noe.bind(null,r,i,n),[n]),i.getSnapshot!==e||o||Zr!==null&&Zr.memoizedState.tag&1){if(r.flags|=2048,Pv(9,Roe.bind(null,r,i,s,e),void 0,null),oi===null)throw Error(rt(349));Bf&30||Doe(r,e,s)}return s}function Doe(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=cr.updateQueue,e===null?(e={lastEffect:null,stores:null},cr.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function Roe(n,e,r,i){e.value=r,e.getSnapshot=i,joe(e)&&Boe(n)}function Noe(n,e,r){return r(function(){joe(e)&&Boe(n)})}function joe(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!Oa(n,r)}catch{return!0}}function Boe(n){var e=su(n,1);e!==null&&Ia(e,n,1,-1)}function HF(n){var e=cl();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:n},e.queue=n,n=n.dispatch=k_e.bind(null,cr,n),[e.memoizedState,n]}function Pv(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=cr.updateQueue,e===null?(e={lastEffect:null,stores:null},cr.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function Loe(){return ea().memoizedState}function tk(n,e,r,i){var s=cl();cr.flags|=n,s.memoizedState=Pv(1|e,r,void 0,i===void 0?null:i)}function G2(n,e,r,i){var s=ea();i=i===void 0?null:i;var o=void 0;if($r!==null){var a=$r.memoizedState;if(o=a.destroy,i!==null&&oj(i,a.deps)){s.memoizedState=Pv(e,r,o,i);return}}cr.flags|=n,s.memoizedState=Pv(1|e,r,o,i)}function VF(n,e){return tk(8390656,8,n,e)}function cj(n,e){return G2(2048,8,n,e)}function Foe(n,e){return G2(4,2,n,e)}function $oe(n,e){return G2(4,4,n,e)}function zoe(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Uoe(n,e,r){return r=r!=null?r.concat([n]):null,G2(4,4,zoe.bind(null,e,n),r)}function uj(){}function Woe(n,e){var r=ea();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&oj(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function qoe(n,e){var r=ea();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&oj(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function Hoe(n,e,r){return Bf&21?(Oa(r,e)||(r=Xse(),cr.lanes|=r,Lf|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,As=!0),n.memoizedState=r)}function x_e(n,e){var r=Mn;Mn=r!==0&&4>r?r:4,n(!0);var i=O6.transition;O6.transition={};try{n(!1),e()}finally{Mn=r,O6.transition=i}}function Voe(){return ea().memoizedState}function __e(n,e,r){var i=Od(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Goe(n))Yoe(e,r);else if(r=Toe(n,e,r,i),r!==null){var s=is();Ia(r,n,i,s),Koe(r,e,i)}}function k_e(n,e,r){var i=Od(n),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Goe(n))Yoe(e,s);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,Oa(l,a)){var c=e.interleaved;c===null?(s.next=s,tj(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Toe(n,e,s,i),r!==null&&(s=is(),Ia(r,n,i,s),Koe(r,e,i))}}function Goe(n){var e=n.alternate;return n===cr||e!==null&&e===cr}function Yoe(n,e){Uy=tS=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function Koe(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,zN(n,r)}}var nS={readContext:Zo,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},S_e={readContext:Zo,useCallback:function(n,e){return cl().memoizedState=[n,e===void 0?null:e],n},useContext:Zo,useEffect:VF,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,tk(4194308,4,zoe.bind(null,e,n),r)},useLayoutEffect:function(n,e){return tk(4194308,4,n,e)},useInsertionEffect:function(n,e){return tk(4,2,n,e)},useMemo:function(n,e){var r=cl();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=cl();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=__e.bind(null,cr,n),[i.memoizedState,n]},useRef:function(n){var e=cl();return n={current:n},e.memoizedState=n},useState:HF,useDebugValue:uj,useDeferredValue:function(n){return cl().memoizedState=n},useTransition:function(){var n=HF(!1),e=n[0];return n=x_e.bind(null,n[1]),cl().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=cr,s=cl();if(ir){if(r===void 0)throw Error(rt(407));r=r()}else{if(r=e(),oi===null)throw Error(rt(349));Bf&30||Doe(i,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,VF(Noe.bind(null,i,o,n),[n]),i.flags|=2048,Pv(9,Roe.bind(null,i,o,r,e),void 0,null),r},useId:function(){var n=cl(),e=oi.identifierPrefix;if(ir){var r=jc,i=Nc;r=(i&~(1<<32-Pa(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=Av++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=w_e++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},C_e={readContext:Zo,useCallback:Woe,useContext:Zo,useEffect:cj,useImperativeHandle:Uoe,useInsertionEffect:Foe,useLayoutEffect:$oe,useMemo:qoe,useReducer:D6,useRef:Loe,useState:function(){return D6(Tv)},useDebugValue:uj,useDeferredValue:function(n){var e=ea();return Hoe(e,$r.memoizedState,n)},useTransition:function(){var n=D6(Tv)[0],e=ea().memoizedState;return[n,e]},useMutableSource:Moe,useSyncExternalStore:Ooe,useId:Voe,unstable_isNewReconciler:!1},E_e={readContext:Zo,useCallback:Woe,useContext:Zo,useEffect:cj,useImperativeHandle:Uoe,useInsertionEffect:Foe,useLayoutEffect:$oe,useMemo:qoe,useReducer:R6,useRef:Loe,useState:function(){return R6(Tv)},useDebugValue:uj,useDeferredValue:function(n){var e=ea();return $r===null?e.memoizedState=n:Hoe(e,$r.memoizedState,n)},useTransition:function(){var n=R6(Tv)[0],e=ea().memoizedState;return[n,e]},useMutableSource:Moe,useSyncExternalStore:Ooe,useId:Voe,unstable_isNewReconciler:!1};function ma(n,e){if(n&&n.defaultProps){e=ur({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function o8(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:ur({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Y2={isMounted:function(n){return(n=n._reactInternals)?hp(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=is(),s=Od(n),o=Uc(i,s);o.payload=e,r!=null&&(o.callback=r),e=Id(n,o,s),e!==null&&(Ia(e,n,s,i),Z_(e,n,s))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=is(),s=Od(n),o=Uc(i,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Id(n,o,s),e!==null&&(Ia(e,n,s,i),Z_(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=is(),i=Od(n),s=Uc(r,i);s.tag=2,e!=null&&(s.callback=e),e=Id(n,s,i),e!==null&&(Ia(e,n,i,r),Z_(e,n,i))}};function GF(n,e,r,i,s,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!xv(r,i)||!xv(s,o):!0}function Xoe(n,e,r){var i=!1,s=Wd,o=e.contextType;return typeof o=="object"&&o!==null?o=Zo(o):(s=Ms(e)?Nf:Li.current,i=e.contextTypes,o=(i=i!=null)?Vg(n,s):Wd),e=new e(r,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Y2,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=o),e}function YF(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&Y2.enqueueReplaceState(e,e.state,null)}function a8(n,e,r,i){var s=n.stateNode;s.props=r,s.state=n.memoizedState,s.refs={},nj(n);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Zo(o):(o=Ms(e)?Nf:Li.current,s.context=Vg(n,o)),s.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(o8(n,e,o,r),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Y2.enqueueReplaceState(s,s.state,null),Zk(n,r,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Xg(n,e){try{var r="",i=e;do r+=e1e(i),i=i.return;while(i);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:s,digest:null}}function N6(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function l8(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var A_e=typeof WeakMap=="function"?WeakMap:Map;function Qoe(n,e,r){r=Uc(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){iS||(iS=!0,y8=i),l8(n,e)},r}function Joe(n,e,r){r=Uc(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;r.payload=function(){return i(s)},r.callback=function(){l8(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){l8(n,e),typeof i!="function"&&(Md===null?Md=new Set([this]):Md.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function KF(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new A_e;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(r)||(s.add(r),n=z_e.bind(null,n,e,r),e.then(n,n))}function XF(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function QF(n,e,r,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Uc(-1,1),e.tag=2,Id(r,e,1))),r.lanes|=1),n)}var T_e=mu.ReactCurrentOwner,As=!1;function Xi(n,e,r,i){e.child=n===null?Aoe(e,null,r,i):Yg(e,n.child,r,i)}function JF(n,e,r,i,s){r=r.render;var o=e.ref;return Ym(e,s),i=aj(n,e,r,i,o,s),r=lj(),n!==null&&!As?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,ou(n,e,s)):(ir&&r&&KN(e),e.flags|=1,Xi(n,e,i,s),e.child)}function ZF(n,e,r,i,s){if(n===null){var o=r.type;return typeof o=="function"&&!yj(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Zoe(n,e,o,i,s)):(n=sk(r.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:xv,r(a,i)&&n.ref===e.ref)return ou(n,e,s)}return e.flags|=1,n=Dd(o,i),n.ref=e.ref,n.return=e,e.child=n}function Zoe(n,e,r,i,s){if(n!==null){var o=n.memoizedProps;if(xv(o,i)&&n.ref===e.ref)if(As=!1,e.pendingProps=i=o,(n.lanes&s)!==0)n.flags&131072&&(As=!0);else return e.lanes=n.lanes,ou(n,e,s)}return c8(n,e,r,i,s)}function eae(n,e,r){var i=e.pendingProps,s=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Im,Xs),Xs|=r;else{if(!(r&1073741824))return n=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Wn(Im,Xs),Xs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,Wn(Im,Xs),Xs|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,Wn(Im,Xs),Xs|=i;return Xi(n,e,s,r),e.child}function tae(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function c8(n,e,r,i,s){var o=Ms(r)?Nf:Li.current;return o=Vg(e,o),Ym(e,s),r=aj(n,e,r,i,o,s),i=lj(),n!==null&&!As?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,ou(n,e,s)):(ir&&i&&KN(e),e.flags|=1,Xi(n,e,r,s),e.child)}function e$(n,e,r,i,s){if(Ms(r)){var o=!0;Yk(e)}else o=!1;if(Ym(e,s),e.stateNode===null)nk(n,e),Xoe(e,r,i),a8(e,r,i,s),i=!0;else if(n===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Zo(u):(u=Ms(r)?Nf:Li.current,u=Vg(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||c!==u)&&YF(e,a,i,u),td=!1;var f=e.memoizedState;a.state=f,Zk(e,i,a,s),c=e.memoizedState,l!==i||f!==c||Is.current||td?(typeof d=="function"&&(o8(e,r,d,i),c=e.memoizedState),(l=td||GF(e,r,l,i,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=u,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Poe(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:ma(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Zo(c):(c=Ms(r)?Nf:Li.current,c=Vg(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&YF(e,a,i,c),td=!1,f=e.memoizedState,a.state=f,Zk(e,i,a,s);var m=e.memoizedState;l!==h||f!==m||Is.current||td?(typeof p=="function"&&(o8(e,r,p,i),m=e.memoizedState),(u=td||GF(e,r,u,i,f,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=c,i=u):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return u8(n,e,r,i,o,s)}function u8(n,e,r,i,s,o){tae(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&FF(e,r,!1),ou(n,e,o);i=e.stateNode,T_e.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=Yg(e,n.child,null,o),e.child=Yg(e,null,l,o)):Xi(n,e,l,o),e.memoizedState=i.state,s&&FF(e,r,!0),e.child}function nae(n){var e=n.stateNode;e.pendingContext?LF(n,e.pendingContext,e.pendingContext!==e.context):e.context&&LF(n,e.context,!1),rj(n,e.containerInfo)}function t$(n,e,r,i,s){return Gg(),QN(s),e.flags|=256,Xi(n,e,r,i),e.child}var d8={dehydrated:null,treeContext:null,retryLane:0};function h8(n){return{baseLanes:n,cachePool:null,transitions:null}}function rae(n,e,r){var i=e.pendingProps,s=lr.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Wn(lr,s&1),n===null)return i8(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Q2(a,i,0,null),n=xf(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=h8(r),e.memoizedState=d8,n):dj(e,a));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return P_e(n,e,a,i,l,s,r);if(o){o=i.fallback,a=e.mode,s=n.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Dd(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Dd(l,o):(o=xf(o,a,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=n.child.memoizedState,a=a===null?h8(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~r,e.memoizedState=d8,i}return o=n.child,n=o.sibling,i=Dd(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function dj(n,e){return e=Q2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function T1(n,e,r,i){return i!==null&&QN(i),Yg(e,n.child,null,r),n=dj(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function P_e(n,e,r,i,s,o,a){if(r)return e.flags&256?(e.flags&=-257,i=N6(Error(rt(422))),T1(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Q2({mode:"visible",children:i.children},s,0,null),o=xf(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Yg(e,n.child,null,a),e.child.memoizedState=h8(a),e.memoizedState=d8,o);if(!(e.mode&1))return T1(n,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(rt(419)),i=N6(o,i,void 0),T1(n,e,a,i)}if(l=(a&n.childLanes)!==0,As||l){if(i=oi,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,su(n,s),Ia(i,n,s,-1))}return bj(),i=N6(Error(rt(421))),T1(n,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=U_e.bind(null,n),s._reactRetry=e,null):(n=o.treeContext,ro=Pd(s.nextSibling),io=e,ir=!0,ka=null,n!==null&&(Wo[qo++]=Nc,Wo[qo++]=jc,Wo[qo++]=jf,Nc=n.id,jc=n.overflow,jf=e),e=dj(e,i.children),e.flags|=4096,e)}function n$(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),s8(n.return,e,r)}function j6(n,e,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=s)}function iae(n,e,r){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(Xi(n,e,i.children,r),i=lr.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&n$(n,r,e);else if(n.tag===19)n$(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Wn(lr,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)n=r.alternate,n!==null&&eS(n)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),j6(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&eS(n)===null){e.child=s;break}n=s.sibling,s.sibling=r,r=s,s=n}j6(e,!0,r,null,o);break;case"together":j6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nk(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ou(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),Lf|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(rt(153));if(e.child!==null){for(n=e.child,r=Dd(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=Dd(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function I_e(n,e,r){switch(e.tag){case 3:nae(e),Gg();break;case 5:Ioe(e);break;case 1:Ms(e.type)&&Yk(e);break;case 4:rj(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Wn(Qk,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Wn(lr,lr.current&1),e.flags|=128,null):r&e.child.childLanes?rae(n,e,r):(Wn(lr,lr.current&1),n=ou(n,e,r),n!==null?n.sibling:null);Wn(lr,lr.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return iae(n,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Wn(lr,lr.current),i)break;return null;case 22:case 23:return e.lanes=0,eae(n,e,r)}return ou(n,e,r)}var sae,f8,oae,aae;sae=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};f8=function(){};oae=function(n,e,r,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,Yh(Pl.current);var o=null;switch(r){case"input":s=ND(n,s),i=ND(n,i),o=[];break;case"select":s=ur({},s,{value:void 0}),i=ur({},i,{value:void 0}),o=[];break;case"textarea":s=LD(n,s),i=LD(n,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Vk)}$D(r,i);var a;r=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pv.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gn("scroll",n),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};aae=function(n,e,r,i){r!==i&&(e.flags|=4)};function Pb(n,e){if(!ir)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Pi(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function M_e(n,e,r){var i=e.pendingProps;switch(XN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(e),null;case 1:return Ms(e.type)&&Gk(),Pi(e),null;case 3:return i=e.stateNode,Kg(),Kn(Is),Kn(Li),sj(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(E1(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ka!==null&&(x8(ka),ka=null))),f8(n,e),Pi(e),null;case 5:ij(e);var s=Yh(Ev.current);if(r=e.type,n!==null&&e.stateNode!=null)oae(n,e,r,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(rt(166));return Pi(e),null}if(n=Yh(Pl.current),E1(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[wl]=e,i[Sv]=o,n=(e.mode&1)!==0,r){case"dialog":Gn("cancel",i),Gn("close",i);break;case"iframe":case"object":case"embed":Gn("load",i);break;case"video":case"audio":for(s=0;s<yy.length;s++)Gn(yy[s],i);break;case"source":Gn("error",i);break;case"img":case"image":case"link":Gn("error",i),Gn("load",i);break;case"details":Gn("toggle",i);break;case"input":dF(i,o),Gn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Gn("invalid",i);break;case"textarea":fF(i,o),Gn("invalid",i)}$D(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&C1(i.textContent,l,n),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&C1(i.textContent,l,n),s=["children",""+l]):pv.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Gn("scroll",i)}switch(r){case"input":b1(i),hF(i,o,!0);break;case"textarea":b1(i),pF(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Vk)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Nse(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(r,{is:i.is}):(n=a.createElement(r),r==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,r),n[wl]=e,n[Sv]=i,sae(n,e,!1,!1),e.stateNode=n;e:{switch(a=zD(r,i),r){case"dialog":Gn("cancel",n),Gn("close",n),s=i;break;case"iframe":case"object":case"embed":Gn("load",n),s=i;break;case"video":case"audio":for(s=0;s<yy.length;s++)Gn(yy[s],n);s=i;break;case"source":Gn("error",n),s=i;break;case"img":case"image":case"link":Gn("error",n),Gn("load",n),s=i;break;case"details":Gn("toggle",n),s=i;break;case"input":dF(n,i),s=ND(n,i),Gn("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=ur({},i,{value:void 0}),Gn("invalid",n);break;case"textarea":fF(n,i),s=LD(n,i),Gn("invalid",n);break;default:s=i}$D(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Lse(n,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jse(n,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mv(n,c):typeof c=="number"&&mv(n,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pv.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Gn("scroll",n):c!=null&&NN(n,o,c,a))}switch(r){case"input":b1(n),hF(n,i,!1);break;case"textarea":b1(n),pF(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ud(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?qm(n,!!i.multiple,o,!1):i.defaultValue!=null&&qm(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Vk)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pi(e),null;case 6:if(n&&e.stateNode!=null)aae(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(rt(166));if(r=Yh(Ev.current),Yh(Pl.current),E1(e)){if(i=e.stateNode,r=e.memoizedProps,i[wl]=e,(o=i.nodeValue!==r)&&(n=io,n!==null))switch(n.tag){case 3:C1(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&C1(i.nodeValue,r,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[wl]=e,e.stateNode=i}return Pi(e),null;case 13:if(Kn(lr),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ir&&ro!==null&&e.mode&1&&!(e.flags&128))Coe(),Gg(),e.flags|=98560,o=!1;else if(o=E1(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(rt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(rt(317));o[wl]=e}else Gg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pi(e),o=!1}else ka!==null&&(x8(ka),ka=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||lr.current&1?Ur===0&&(Ur=3):bj())),e.updateQueue!==null&&(e.flags|=4),Pi(e),null);case 4:return Kg(),f8(n,e),n===null&&_v(e.stateNode.containerInfo),Pi(e),null;case 10:return ej(e.type._context),Pi(e),null;case 17:return Ms(e.type)&&Gk(),Pi(e),null;case 19:if(Kn(lr),o=e.memoizedState,o===null)return Pi(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Pb(o,!1);else{if(Ur!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=eS(n),a!==null){for(e.flags|=128,Pb(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,n=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Wn(lr,lr.current&1|2),e.child}n=n.sibling}o.tail!==null&&Ar()>Qg&&(e.flags|=128,i=!0,Pb(o,!1),e.lanes=4194304)}else{if(!i)if(n=eS(a),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Pb(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ir)return Pi(e),null}else 2*Ar()-o.renderingStartTime>Qg&&r!==1073741824&&(e.flags|=128,i=!0,Pb(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ar(),e.sibling=null,r=lr.current,Wn(lr,i?r&1|2:r&1),e):(Pi(e),null);case 22:case 23:return gj(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Xs&1073741824&&(Pi(e),e.subtreeFlags&6&&(e.flags|=8192)):Pi(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function O_e(n,e){switch(XN(e),e.tag){case 1:return Ms(e.type)&&Gk(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Kg(),Kn(Is),Kn(Li),sj(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ij(e),null;case 13:if(Kn(lr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));Gg()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Kn(lr),null;case 4:return Kg(),null;case 10:return ej(e.type._context),null;case 22:case 23:return gj(),null;case 24:return null;default:return null}}var P1=!1,Ri=!1,D_e=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Pm(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){gr(n,e,i)}else r.current=null}function p8(n,e,r){try{r()}catch(i){gr(n,e,i)}}var r$=!1;function R_e(n,e){if(QD=Wk,n=hoe(),YN(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==o||i!==0&&h.nodeType!==3||(c=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===r&&++u===s&&(l=a),f===o&&++d===i&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(JD={focusedElem:n,selectionRange:r},Wk=!1,xt=e;xt!==null;)if(e=xt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,xt=n;else for(;xt!==null;){e=xt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,y=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:ma(e.type,b),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(x){gr(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}return m=r$,r$=!1,m}function Wy(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var o=s.destroy;s.destroy=void 0,o!==void 0&&p8(e,r,o)}s=s.next}while(s!==i)}}function K2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function m8(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function lae(n){var e=n.alternate;e!==null&&(n.alternate=null,lae(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[wl],delete e[Sv],delete e[t8],delete e[g_e],delete e[b_e])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cae(n){return n.tag===5||n.tag===3||n.tag===4}function i$(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cae(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function g8(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vk));else if(i!==4&&(n=n.child,n!==null))for(g8(n,e,r),n=n.sibling;n!==null;)g8(n,e,r),n=n.sibling}function b8(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(b8(n,e,r),n=n.sibling;n!==null;)b8(n,e,r),n=n.sibling}var mi=null,wa=!1;function Du(n,e,r){for(r=r.child;r!==null;)uae(n,e,r),r=r.sibling}function uae(n,e,r){if(Tl&&typeof Tl.onCommitFiberUnmount=="function")try{Tl.onCommitFiberUnmount(z2,r)}catch{}switch(r.tag){case 5:Ri||Pm(r,e);case 6:var i=mi,s=wa;mi=null,Du(n,e,r),mi=i,wa=s,mi!==null&&(wa?(n=mi,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):mi.removeChild(r.stateNode));break;case 18:mi!==null&&(wa?(n=mi,r=r.stateNode,n.nodeType===8?P6(n.parentNode,r):n.nodeType===1&&P6(n,r),vv(n)):P6(mi,r.stateNode));break;case 4:i=mi,s=wa,mi=r.stateNode.containerInfo,wa=!0,Du(n,e,r),mi=i,wa=s;break;case 0:case 11:case 14:case 15:if(!Ri&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&p8(r,e,a),s=s.next}while(s!==i)}Du(n,e,r);break;case 1:if(!Ri&&(Pm(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){gr(r,e,l)}Du(n,e,r);break;case 21:Du(n,e,r);break;case 22:r.mode&1?(Ri=(i=Ri)||r.memoizedState!==null,Du(n,e,r),Ri=i):Du(n,e,r);break;default:Du(n,e,r)}}function s$(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new D_e),e.forEach(function(i){var s=W_e.bind(null,n,i);r.has(i)||(r.add(i),i.then(s,s))})}}function ca(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var o=n,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:mi=l.stateNode,wa=!1;break e;case 3:mi=l.stateNode.containerInfo,wa=!0;break e;case 4:mi=l.stateNode.containerInfo,wa=!0;break e}l=l.return}if(mi===null)throw Error(rt(160));uae(o,a,s),mi=null,wa=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){gr(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dae(e,n),e=e.sibling}function dae(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ca(e,n),Ja(n),i&4){try{Wy(3,n,n.return),K2(3,n)}catch(b){gr(n,n.return,b)}try{Wy(5,n,n.return)}catch(b){gr(n,n.return,b)}}break;case 1:ca(e,n),Ja(n),i&512&&r!==null&&Pm(r,r.return);break;case 5:if(ca(e,n),Ja(n),i&512&&r!==null&&Pm(r,r.return),n.flags&32){var s=n.stateNode;try{mv(s,"")}catch(b){gr(n,n.return,b)}}if(i&4&&(s=n.stateNode,s!=null)){var o=n.memoizedProps,a=r!==null?r.memoizedProps:o,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Dse(s,o),zD(l,a);var u=zD(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Lse(s,h):d==="dangerouslySetInnerHTML"?jse(s,h):d==="children"?mv(s,h):NN(s,d,h,u)}switch(l){case"input":jD(s,o);break;case"textarea":Rse(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?qm(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?qm(s,!!o.multiple,o.defaultValue,!0):qm(s,!!o.multiple,o.multiple?[]:"",!1))}s[Sv]=o}catch(b){gr(n,n.return,b)}}break;case 6:if(ca(e,n),Ja(n),i&4){if(n.stateNode===null)throw Error(rt(162));s=n.stateNode,o=n.memoizedProps;try{s.nodeValue=o}catch(b){gr(n,n.return,b)}}break;case 3:if(ca(e,n),Ja(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{vv(e.containerInfo)}catch(b){gr(n,n.return,b)}break;case 4:ca(e,n),Ja(n);break;case 13:ca(e,n),Ja(n),s=n.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(pj=Ar())),i&4&&s$(n);break;case 22:if(d=r!==null&&r.memoizedState!==null,n.mode&1?(Ri=(u=Ri)||d,ca(e,n),Ri=u):ca(e,n),Ja(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(xt=n,d=n.child;d!==null;){for(h=xt=d;xt!==null;){switch(f=xt,p=f.child,f.tag){case 0:case 11:case 14:case 15:Wy(4,f,f.return);break;case 1:Pm(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,r=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(b){gr(i,r,b)}}break;case 5:Pm(f,f.return);break;case 22:if(f.memoizedState!==null){a$(h);continue}}p!==null?(p.return=f,xt=p):a$(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Bse("display",a))}catch(b){gr(n,n.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){gr(n,n.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ca(e,n),Ja(n),i&4&&s$(n);break;case 21:break;default:ca(e,n),Ja(n)}}function Ja(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(cae(r)){var i=r;break e}r=r.return}throw Error(rt(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(mv(s,""),i.flags&=-33);var o=i$(n);b8(n,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,l=i$(n);g8(n,l,a);break;default:throw Error(rt(161))}}catch(c){gr(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function N_e(n,e,r){xt=n,hae(n)}function hae(n,e,r){for(var i=(n.mode&1)!==0;xt!==null;){var s=xt,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||P1;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ri;l=P1;var u=Ri;if(P1=a,(Ri=c)&&!u)for(xt=s;xt!==null;)a=xt,c=a.child,a.tag===22&&a.memoizedState!==null?l$(s):c!==null?(c.return=a,xt=c):l$(s);for(;o!==null;)xt=o,hae(o),o=o.sibling;xt=s,P1=l,Ri=u}o$(n)}else s.subtreeFlags&8772&&o!==null?(o.return=s,xt=o):o$(n)}}function o$(n){for(;xt!==null;){var e=xt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ri||K2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ri)if(r===null)i.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ma(e.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qF(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qF(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&vv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Ri||e.flags&512&&m8(e)}catch(f){gr(e,e.return,f)}}if(e===n){xt=null;break}if(r=e.sibling,r!==null){r.return=e.return,xt=r;break}xt=e.return}}function a$(n){for(;xt!==null;){var e=xt;if(e===n){xt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xt=r;break}xt=e.return}}function l$(n){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{K2(4,e)}catch(c){gr(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){gr(e,s,c)}}var o=e.return;try{m8(e)}catch(c){gr(e,o,c)}break;case 5:var a=e.return;try{m8(e)}catch(c){gr(e,a,c)}}}catch(c){gr(e,e.return,c)}if(e===n){xt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xt=l;break}xt=e.return}}var j_e=Math.ceil,rS=mu.ReactCurrentDispatcher,hj=mu.ReactCurrentOwner,Qo=mu.ReactCurrentBatchConfig,yn=0,oi=null,jr=null,_i=0,Xs=0,Im=Zd(0),Ur=0,Iv=null,Lf=0,X2=0,fj=0,qy=null,Ss=null,pj=0,Qg=1/0,vc=null,iS=!1,y8=null,Md=null,I1=!1,xd=null,sS=0,Hy=0,v8=null,rk=-1,ik=0;function is(){return yn&6?Ar():rk!==-1?rk:rk=Ar()}function Od(n){return n.mode&1?yn&2&&_i!==0?_i&-_i:v_e.transition!==null?(ik===0&&(ik=Xse()),ik):(n=Mn,n!==0||(n=window.event,n=n===void 0?16:roe(n.type)),n):1}function Ia(n,e,r,i){if(50<Hy)throw Hy=0,v8=null,Error(rt(185));Hw(n,r,i),(!(yn&2)||n!==oi)&&(n===oi&&(!(yn&2)&&(X2|=r),Ur===4&&id(n,_i)),Os(n,i),r===1&&yn===0&&!(e.mode&1)&&(Qg=Ar()+500,V2&&eh()))}function Os(n,e){var r=n.callbackNode;v1e(n,e);var i=Uk(n,n===oi?_i:0);if(i===0)r!==null&&bF(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&bF(r),e===1)n.tag===0?y_e(c$.bind(null,n)):_oe(c$.bind(null,n)),p_e(function(){!(yn&6)&&eh()}),r=null;else{switch(Qse(i)){case 1:r=$N;break;case 4:r=Yse;break;case 16:r=zk;break;case 536870912:r=Kse;break;default:r=zk}r=wae(r,fae.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function fae(n,e){if(rk=-1,ik=0,yn&6)throw Error(rt(327));var r=n.callbackNode;if(Km()&&n.callbackNode!==r)return null;var i=Uk(n,n===oi?_i:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=oS(n,i);else{e=i;var s=yn;yn|=2;var o=mae();(oi!==n||_i!==e)&&(vc=null,Qg=Ar()+500,wf(n,e));do try{F_e();break}catch(l){pae(n,l)}while(!0);ZN(),rS.current=o,yn=s,jr!==null?e=0:(oi=null,_i=0,e=Ur)}if(e!==0){if(e===2&&(s=VD(n),s!==0&&(i=s,e=w8(n,s))),e===1)throw r=Iv,wf(n,0),id(n,i),Os(n,Ar()),r;if(e===6)id(n,i);else{if(s=n.current.alternate,!(i&30)&&!B_e(s)&&(e=oS(n,i),e===2&&(o=VD(n),o!==0&&(i=o,e=w8(n,o))),e===1))throw r=Iv,wf(n,0),id(n,i),Os(n,Ar()),r;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(rt(345));case 2:Mh(n,Ss,vc);break;case 3:if(id(n,i),(i&130023424)===i&&(e=pj+500-Ar(),10<e)){if(Uk(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){is(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=e8(Mh.bind(null,n,Ss,vc),e);break}Mh(n,Ss,vc);break;case 4:if(id(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var a=31-Pa(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=Ar()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*j_e(i/1960))-i,10<i){n.timeoutHandle=e8(Mh.bind(null,n,Ss,vc),i);break}Mh(n,Ss,vc);break;case 5:Mh(n,Ss,vc);break;default:throw Error(rt(329))}}}return Os(n,Ar()),n.callbackNode===r?fae.bind(null,n):null}function w8(n,e){var r=qy;return n.current.memoizedState.isDehydrated&&(wf(n,e).flags|=256),n=oS(n,e),n!==2&&(e=Ss,Ss=r,e!==null&&x8(e)),n}function x8(n){Ss===null?Ss=n:Ss.push.apply(Ss,n)}function B_e(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],o=s.getSnapshot;s=s.value;try{if(!Oa(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function id(n,e){for(e&=~fj,e&=~X2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-Pa(e),i=1<<r;n[r]=-1,e&=~i}}function c$(n){if(yn&6)throw Error(rt(327));Km();var e=Uk(n,0);if(!(e&1))return Os(n,Ar()),null;var r=oS(n,e);if(n.tag!==0&&r===2){var i=VD(n);i!==0&&(e=i,r=w8(n,i))}if(r===1)throw r=Iv,wf(n,0),id(n,e),Os(n,Ar()),r;if(r===6)throw Error(rt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Mh(n,Ss,vc),Os(n,Ar()),null}function mj(n,e){var r=yn;yn|=1;try{return n(e)}finally{yn=r,yn===0&&(Qg=Ar()+500,V2&&eh())}}function Ff(n){xd!==null&&xd.tag===0&&!(yn&6)&&Km();var e=yn;yn|=1;var r=Qo.transition,i=Mn;try{if(Qo.transition=null,Mn=1,n)return n()}finally{Mn=i,Qo.transition=r,yn=e,!(yn&6)&&eh()}}function gj(){Xs=Im.current,Kn(Im)}function wf(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,f_e(r)),jr!==null)for(r=jr.return;r!==null;){var i=r;switch(XN(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Gk();break;case 3:Kg(),Kn(Is),Kn(Li),sj();break;case 5:ij(i);break;case 4:Kg();break;case 13:Kn(lr);break;case 19:Kn(lr);break;case 10:ej(i.type._context);break;case 22:case 23:gj()}r=r.return}if(oi=n,jr=n=Dd(n.current,null),_i=Xs=e,Ur=0,Iv=null,fj=X2=Lf=0,Ss=qy=null,Gh!==null){for(e=0;e<Gh.length;e++)if(r=Gh[e],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}r.pending=i}Gh=null}return n}function pae(n,e){do{var r=jr;try{if(ZN(),ek.current=nS,tS){for(var i=cr.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}tS=!1}if(Bf=0,Zr=$r=cr=null,Uy=!1,Av=0,hj.current=null,r===null||r.return===null){Ur=1,Iv=e,jr=null;break}e:{var o=n,a=r.return,l=r,c=e;if(e=_i,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=XF(a);if(p!==null){p.flags&=-257,QF(p,a,l,o,e),p.mode&1&&KF(o,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var b=new Set;b.add(c),e.updateQueue=b}else m.add(c);break e}else{if(!(e&1)){KF(o,u,e),bj();break e}c=Error(rt(426))}}else if(ir&&l.mode&1){var y=XF(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),QF(y,a,l,o,e),QN(Xg(c,l));break e}}o=c=Xg(c,l),Ur!==4&&(Ur=2),qy===null?qy=[o]:qy.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=Qoe(o,c,e);WF(o,v);break e;case 1:l=c;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Md===null||!Md.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=Joe(o,l,e);WF(o,x);break e}}o=o.return}while(o!==null)}bae(r)}catch(k){e=k,jr===r&&r!==null&&(jr=r=r.return);continue}break}while(!0)}function mae(){var n=rS.current;return rS.current=nS,n===null?nS:n}function bj(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),oi===null||!(Lf&268435455)&&!(X2&268435455)||id(oi,_i)}function oS(n,e){var r=yn;yn|=2;var i=mae();(oi!==n||_i!==e)&&(vc=null,wf(n,e));do try{L_e();break}catch(s){pae(n,s)}while(!0);if(ZN(),yn=r,rS.current=i,jr!==null)throw Error(rt(261));return oi=null,_i=0,Ur}function L_e(){for(;jr!==null;)gae(jr)}function F_e(){for(;jr!==null&&!u1e();)gae(jr)}function gae(n){var e=vae(n.alternate,n,Xs);n.memoizedProps=n.pendingProps,e===null?bae(n):jr=e,hj.current=null}function bae(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=O_e(r,e),r!==null){r.flags&=32767,jr=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ur=6,jr=null;return}}else if(r=M_e(r,e,Xs),r!==null){jr=r;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=n}while(e!==null);Ur===0&&(Ur=5)}function Mh(n,e,r){var i=Mn,s=Qo.transition;try{Qo.transition=null,Mn=1,$_e(n,e,r,i)}finally{Qo.transition=s,Mn=i}return null}function $_e(n,e,r,i){do Km();while(xd!==null);if(yn&6)throw Error(rt(327));r=n.finishedWork;var s=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(rt(177));n.callbackNode=null,n.callbackPriority=0;var o=r.lanes|r.childLanes;if(w1e(n,o),n===oi&&(jr=oi=null,_i=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||I1||(I1=!0,wae(zk,function(){return Km(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Qo.transition,Qo.transition=null;var a=Mn;Mn=1;var l=yn;yn|=4,hj.current=null,R_e(n,r),dae(r,n),o_e(JD),Wk=!!QD,JD=QD=null,n.current=r,N_e(r),d1e(),yn=l,Mn=a,Qo.transition=o}else n.current=r;if(I1&&(I1=!1,xd=n,sS=s),o=n.pendingLanes,o===0&&(Md=null),p1e(r.stateNode),Os(n,Ar()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)s=e[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(iS)throw iS=!1,n=y8,y8=null,n;return sS&1&&n.tag!==0&&Km(),o=n.pendingLanes,o&1?n===v8?Hy++:(Hy=0,v8=n):Hy=0,eh(),null}function Km(){if(xd!==null){var n=Qse(sS),e=Qo.transition,r=Mn;try{if(Qo.transition=null,Mn=16>n?16:n,xd===null)var i=!1;else{if(n=xd,xd=null,sS=0,yn&6)throw Error(rt(331));var s=yn;for(yn|=4,xt=n.current;xt!==null;){var o=xt,a=o.child;if(xt.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xt=u;xt!==null;){var d=xt;switch(d.tag){case 0:case 11:case 15:Wy(8,d,o)}var h=d.child;if(h!==null)h.return=d,xt=h;else for(;xt!==null;){d=xt;var f=d.sibling,p=d.return;if(lae(d),d===u){xt=null;break}if(f!==null){f.return=p,xt=f;break}xt=p}}}var m=o.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}xt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,xt=a;else e:for(;xt!==null;){if(o=xt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wy(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,xt=v;break e}xt=o.return}}var w=n.current;for(xt=w;xt!==null;){a=xt;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,xt=_;else e:for(a=w;xt!==null;){if(l=xt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:K2(9,l)}}catch(k){gr(l,l.return,k)}if(l===a){xt=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,xt=x;break e}xt=l.return}}if(yn=s,eh(),Tl&&typeof Tl.onPostCommitFiberRoot=="function")try{Tl.onPostCommitFiberRoot(z2,n)}catch{}i=!0}return i}finally{Mn=r,Qo.transition=e}}return!1}function u$(n,e,r){e=Xg(r,e),e=Qoe(n,e,1),n=Id(n,e,1),e=is(),n!==null&&(Hw(n,1,e),Os(n,e))}function gr(n,e,r){if(n.tag===3)u$(n,n,r);else for(;e!==null;){if(e.tag===3){u$(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Md===null||!Md.has(i))){n=Xg(r,n),n=Joe(e,n,1),e=Id(e,n,1),n=is(),e!==null&&(Hw(e,1,n),Os(e,n));break}}e=e.return}}function z_e(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=is(),n.pingedLanes|=n.suspendedLanes&r,oi===n&&(_i&r)===r&&(Ur===4||Ur===3&&(_i&130023424)===_i&&500>Ar()-pj?wf(n,0):fj|=r),Os(n,e)}function yae(n,e){e===0&&(n.mode&1?(e=w1,w1<<=1,!(w1&130023424)&&(w1=4194304)):e=1);var r=is();n=su(n,e),n!==null&&(Hw(n,e,r),Os(n,r))}function U_e(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),yae(n,r)}function W_e(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(rt(314))}i!==null&&i.delete(e),yae(n,r)}var vae;vae=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||Is.current)As=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return As=!1,I_e(n,e,r);As=!!(n.flags&131072)}else As=!1,ir&&e.flags&1048576&&koe(e,Xk,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;nk(n,e),n=e.pendingProps;var s=Vg(e,Li.current);Ym(e,r),s=aj(null,e,i,n,s,r);var o=lj();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ms(i)?(o=!0,Yk(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nj(e),s.updater=Y2,e.stateNode=s,s._reactInternals=e,a8(e,i,n,r),e=u8(null,e,i,!0,o,r)):(e.tag=0,ir&&o&&KN(e),Xi(null,e,s,r),e=e.child),e;case 16:i=e.elementType;e:{switch(nk(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=H_e(i),n=ma(i,n),s){case 0:e=c8(null,e,i,n,r);break e;case 1:e=e$(null,e,i,n,r);break e;case 11:e=JF(null,e,i,n,r);break e;case 14:e=ZF(null,e,i,ma(i.type,n),r);break e}throw Error(rt(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ma(i,s),c8(n,e,i,s,r);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ma(i,s),e$(n,e,i,s,r);case 3:e:{if(nae(e),n===null)throw Error(rt(387));i=e.pendingProps,o=e.memoizedState,s=o.element,Poe(n,e),Zk(e,i,null,r);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Xg(Error(rt(423)),e),e=t$(n,e,i,r,s);break e}else if(i!==s){s=Xg(Error(rt(424)),e),e=t$(n,e,i,r,s);break e}else for(ro=Pd(e.stateNode.containerInfo.firstChild),io=e,ir=!0,ka=null,r=Aoe(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gg(),i===s){e=ou(n,e,r);break e}Xi(n,e,i,r)}e=e.child}return e;case 5:return Ioe(e),n===null&&i8(e),i=e.type,s=e.pendingProps,o=n!==null?n.memoizedProps:null,a=s.children,ZD(i,s)?a=null:o!==null&&ZD(i,o)&&(e.flags|=32),tae(n,e),Xi(n,e,a,r),e.child;case 6:return n===null&&i8(e),null;case 13:return rae(n,e,r);case 4:return rj(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Yg(e,null,i,r):Xi(n,e,i,r),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ma(i,s),JF(n,e,i,s,r);case 7:return Xi(n,e,e.pendingProps,r),e.child;case 8:return Xi(n,e,e.pendingProps.children,r),e.child;case 12:return Xi(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Wn(Qk,i._currentValue),i._currentValue=a,o!==null)if(Oa(o.value,a)){if(o.children===s.children&&!Is.current){e=ou(n,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=Uc(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),s8(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(rt(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),s8(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Xi(n,e,s.children,r),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Ym(e,r),s=Zo(s),i=i(s),e.flags|=1,Xi(n,e,i,r),e.child;case 14:return i=e.type,s=ma(i,e.pendingProps),s=ma(i.type,s),ZF(n,e,i,s,r);case 15:return Zoe(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ma(i,s),nk(n,e),e.tag=1,Ms(i)?(n=!0,Yk(e)):n=!1,Ym(e,r),Xoe(e,i,s),a8(e,i,s,r),u8(null,e,i,!0,n,r);case 19:return iae(n,e,r);case 22:return eae(n,e,r)}throw Error(rt(156,e.tag))};function wae(n,e){return Gse(n,e)}function q_e(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Go(n,e,r,i){return new q_e(n,e,r,i)}function yj(n){return n=n.prototype,!(!n||!n.isReactComponent)}function H_e(n){if(typeof n=="function")return yj(n)?1:0;if(n!=null){if(n=n.$$typeof,n===BN)return 11;if(n===LN)return 14}return 2}function Dd(n,e){var r=n.alternate;return r===null?(r=Go(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function sk(n,e,r,i,s,o){var a=2;if(i=n,typeof n=="function")yj(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case wm:return xf(r.children,s,o,e);case jN:a=8,s|=8;break;case MD:return n=Go(12,r,e,s|2),n.elementType=MD,n.lanes=o,n;case OD:return n=Go(13,r,e,s),n.elementType=OD,n.lanes=o,n;case DD:return n=Go(19,r,e,s),n.elementType=DD,n.lanes=o,n;case Ise:return Q2(r,s,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Tse:a=10;break e;case Pse:a=9;break e;case BN:a=11;break e;case LN:a=14;break e;case ed:a=16,i=null;break e}throw Error(rt(130,n==null?n:typeof n,""))}return e=Go(a,r,e,s),e.elementType=n,e.type=i,e.lanes=o,e}function xf(n,e,r,i){return n=Go(7,n,i,e),n.lanes=r,n}function Q2(n,e,r,i){return n=Go(22,n,i,e),n.elementType=Ise,n.lanes=r,n.stateNode={isHidden:!1},n}function B6(n,e,r){return n=Go(6,n,null,e),n.lanes=r,n}function L6(n,e,r){return e=Go(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function V_e(n,e,r,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y6(0),this.expirationTimes=y6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y6(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vj(n,e,r,i,s,o,a,l,c){return n=new V_e(n,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Go(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nj(o),n}function G_e(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vm,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function xae(n){if(!n)return Wd;n=n._reactInternals;e:{if(hp(n)!==n||n.tag!==1)throw Error(rt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ms(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(n.tag===1){var r=n.type;if(Ms(r))return xoe(n,r,e)}return e}function _ae(n,e,r,i,s,o,a,l,c){return n=vj(r,i,!0,n,s,o,a,l,c),n.context=xae(null),r=n.current,i=is(),s=Od(r),o=Uc(i,s),o.callback=e??null,Id(r,o,s),n.current.lanes=s,Hw(n,s,i),Os(n,i),n}function J2(n,e,r,i){var s=e.current,o=is(),a=Od(s);return r=xae(r),e.context===null?e.context=r:e.pendingContext=r,e=Uc(o,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Id(s,e,a),n!==null&&(Ia(n,s,a,o),Z_(n,s,a)),a}function aS(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function d$(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function wj(n,e){d$(n,e),(n=n.alternate)&&d$(n,e)}function Y_e(){return null}var kae=typeof reportError=="function"?reportError:function(n){console.error(n)};function xj(n){this._internalRoot=n}Z2.prototype.render=xj.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(rt(409));J2(n,e,null,null)};Z2.prototype.unmount=xj.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ff(function(){J2(null,n,null,null)}),e[iu]=null}};function Z2(n){this._internalRoot=n}Z2.prototype.unstable_scheduleHydration=function(n){if(n){var e=eoe();n={blockedOn:null,target:n,priority:e};for(var r=0;r<rd.length&&e!==0&&e<rd[r].priority;r++);rd.splice(r,0,n),r===0&&noe(n)}};function _j(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function eC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function h$(){}function K_e(n,e,r,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var u=aS(a);o.call(u)}}var a=_ae(e,i,n,0,null,!1,!1,"",h$);return n._reactRootContainer=a,n[iu]=a.current,_v(n.nodeType===8?n.parentNode:n),Ff(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=aS(c);l.call(u)}}var c=vj(n,0,!1,null,null,!1,!1,"",h$);return n._reactRootContainer=c,n[iu]=c.current,_v(n.nodeType===8?n.parentNode:n),Ff(function(){J2(e,c,r,i)}),c}function tC(n,e,r,i,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=aS(a);l.call(c)}}J2(e,a,n,s)}else a=K_e(r,e,n,s,i);return aS(a)}Jse=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=by(e.pendingLanes);r!==0&&(zN(e,r|1),Os(e,Ar()),!(yn&6)&&(Qg=Ar()+500,eh()))}break;case 13:Ff(function(){var i=su(n,1);if(i!==null){var s=is();Ia(i,n,1,s)}}),wj(n,1)}};UN=function(n){if(n.tag===13){var e=su(n,134217728);if(e!==null){var r=is();Ia(e,n,134217728,r)}wj(n,134217728)}};Zse=function(n){if(n.tag===13){var e=Od(n),r=su(n,e);if(r!==null){var i=is();Ia(r,n,e,i)}wj(n,e)}};eoe=function(){return Mn};toe=function(n,e){var r=Mn;try{return Mn=n,e()}finally{Mn=r}};WD=function(n,e,r){switch(e){case"input":if(jD(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var s=H2(i);if(!s)throw Error(rt(90));Ose(i),jD(i,s)}}}break;case"textarea":Rse(n,r);break;case"select":e=r.value,e!=null&&qm(n,!!r.multiple,e,!1)}};zse=mj;Use=Ff;var X_e={usingClientEntryPoint:!1,Events:[Gw,Sm,H2,Fse,$se,mj]},Ib={findFiberByHostInstance:Vh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q_e={bundleType:Ib.bundleType,version:Ib.version,rendererPackageName:Ib.rendererPackageName,rendererConfig:Ib.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mu.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Hse(n),n===null?null:n.stateNode},findFiberByHostInstance:Ib.findFiberByHostInstance||Y_e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M1.isDisabled&&M1.supportsFiber)try{z2=M1.inject(Q_e),Tl=M1}catch{}}go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X_e;go.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_j(e))throw Error(rt(200));return G_e(n,e,null,r)};go.createRoot=function(n,e){if(!_j(n))throw Error(rt(299));var r=!1,i="",s=kae;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vj(n,1,!1,null,null,r,!1,i,s),n[iu]=e.current,_v(n.nodeType===8?n.parentNode:n),new xj(e)};go.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(rt(188)):(n=Object.keys(n).join(","),Error(rt(268,n)));return n=Hse(e),n=n===null?null:n.stateNode,n};go.flushSync=function(n){return Ff(n)};go.hydrate=function(n,e,r){if(!eC(e))throw Error(rt(200));return tC(null,n,e,!0,r)};go.hydrateRoot=function(n,e,r){if(!_j(n))throw Error(rt(405));var i=r!=null&&r.hydratedSources||null,s=!1,o="",a=kae;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=_ae(e,null,n,1,r??null,s,!1,o,a),n[iu]=e.current,_v(n),i)for(n=0;n<i.length;n++)r=i[n],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Z2(e)};go.render=function(n,e,r){if(!eC(e))throw Error(rt(200));return tC(null,n,e,!1,r)};go.unmountComponentAtNode=function(n){if(!eC(n))throw Error(rt(40));return n._reactRootContainer?(Ff(function(){tC(null,null,n,!1,function(){n._reactRootContainer=null,n[iu]=null})}),!0):!1};go.unstable_batchedUpdates=mj;go.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!eC(r))throw Error(rt(200));if(n==null||n._reactInternals===void 0)throw Error(rt(38));return tC(n,e,r,!1,i)};go.version="18.3.1-next-f1338f8080-20240426";function Sae(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sae)}catch(n){console.error(n)}}Sae(),Sse.exports=go;var $a=Sse.exports;const J_e=F2($a);var f$=$a;PD.createRoot=f$.createRoot,PD.hydrateRoot=f$.hydrateRoot;var z0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Z_e={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},ld,TN,tse,eke=(tse=class{constructor(){st(this,ld,Z_e);st(this,TN,!1)}setTimeoutProvider(n){De(this,ld,n)}setTimeout(n,e){return te(this,ld).setTimeout(n,e)}clearTimeout(n){te(this,ld).clearTimeout(n)}setInterval(n,e){return te(this,ld).setInterval(n,e)}clearInterval(n){te(this,ld).clearInterval(n)}},ld=new WeakMap,TN=new WeakMap,tse),Kh=new eke;function tke(n){setTimeout(n,0)}var $f=typeof window>"u"||"Deno"in globalThis;function Qi(){}function nke(n,e){return typeof n=="function"?n(e):n}function _8(n){return typeof n=="number"&&n>=0&&n!==1/0}function Cae(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Rd(n,e){return typeof n=="function"?n(e):n}function zo(n,e){return typeof n=="function"?n(e):n}function p$(n,e){const{type:r="all",exact:i,fetchStatus:s,predicate:o,queryKey:a,stale:l}=n;if(a){if(i){if(e.queryHash!==kj(a,e.options))return!1}else if(!Mv(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||o&&!o(e))}function m$(n,e){const{exact:r,status:i,predicate:s,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(r){if(zf(e.options.mutationKey)!==zf(o))return!1}else if(!Mv(e.options.mutationKey,o))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function kj(n,e){return((e==null?void 0:e.queryKeyHashFn)||zf)(n)}function zf(n){return JSON.stringify(n,(e,r)=>k8(r)?Object.keys(r).sort().reduce((i,s)=>(i[s]=r[s],i),{}):r)}function Mv(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(r=>Mv(n[r],e[r])):!1}var rke=Object.prototype.hasOwnProperty;function Eae(n,e){if(n===e)return n;const r=g$(n)&&g$(e);if(!r&&!(k8(n)&&k8(e)))return e;const s=(r?n:Object.keys(n)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=r?u:o[u],h=n[d],f=e[d];if(h===f){l[d]=h,(r?u<s:rke.call(n,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const p=Eae(h,f);l[d]=p,p===h&&c++}return s===a&&c===s?n:l}function lS(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(n[r]!==e[r])return!1;return!0}function g$(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function k8(n){if(!b$(n))return!1;const e=n.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!b$(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function b$(n){return Object.prototype.toString.call(n)==="[object Object]"}function ike(n){return new Promise(e=>{Kh.setTimeout(e,n)})}function S8(n,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(n,e):r.structuralSharing!==!1?Eae(n,e):e}function ske(n,e,r=0){const i=[...n,e];return r&&i.length>r?i.slice(1):i}function oke(n,e,r=0){const i=[e,...n];return r&&i.length>r?i.slice(0,-1):i}var Sj=Symbol();function Aae(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Sj?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Tae(n,e){return typeof n=="function"?n(...e):!!n}var lf,cd,fg,nse,ake=(nse=class extends z0{constructor(){super();st(this,lf);st(this,cd);st(this,fg);De(this,fg,e=>{if(!$f&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,cd)||this.setEventListener(te(this,fg))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,cd))==null||e.call(this),De(this,cd,void 0))}setEventListener(e){var r;De(this,fg,e),(r=te(this,cd))==null||r.call(this),De(this,cd,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){te(this,lf)!==e&&(De(this,lf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof te(this,lf)=="boolean"?te(this,lf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},lf=new WeakMap,cd=new WeakMap,fg=new WeakMap,nse),Cj=new ake;function C8(){let n,e;const r=new Promise((s,o)=>{n=s,e=o});r.status="pending",r.catch(()=>{});function i(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},r.reject=s=>{i({status:"rejected",reason:s}),e(s)},r}var lke=tke;function cke(){let n=[],e=0,r=l=>{l()},i=l=>{l()},s=lke;const o=l=>{e?n.push(l):s(()=>{r(l)})},a=()=>{const l=n;n=[],l.length&&s(()=>{i(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var zr=cke(),pg,ud,mg,rse,uke=(rse=class extends z0{constructor(){super();st(this,pg,!0);st(this,ud);st(this,mg);De(this,mg,e=>{if(!$f&&window.addEventListener){const r=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}})}onSubscribe(){te(this,ud)||this.setEventListener(te(this,mg))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,ud))==null||e.call(this),De(this,ud,void 0))}setEventListener(e){var r;De(this,mg,e),(r=te(this,ud))==null||r.call(this),De(this,ud,e(this.setOnline.bind(this)))}setOnline(e){te(this,pg)!==e&&(De(this,pg,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return te(this,pg)}},pg=new WeakMap,ud=new WeakMap,mg=new WeakMap,rse),cS=new uke;function dke(n){return Math.min(1e3*2**n,3e4)}function Pae(n){return(n??"online")==="online"?cS.isOnline():!0}var E8=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Iae(n){let e=!1,r=0,i;const s=C8(),o=()=>s.status!=="pending",a=b=>{var y;if(!o()){const v=new E8(b);f(v),(y=n.onCancel)==null||y.call(n,v)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>Cj.isFocused()&&(n.networkMode==="always"||cS.isOnline())&&n.canRun(),d=()=>Pae(n.networkMode)&&n.canRun(),h=b=>{o()||(i==null||i(),s.resolve(b))},f=b=>{o()||(i==null||i(),s.reject(b))},p=()=>new Promise(b=>{var y;i=v=>{(o()||u())&&b(v)},(y=n.onPause)==null||y.call(n)}).then(()=>{var b;i=void 0,o()||(b=n.onContinue)==null||b.call(n)}),m=()=>{if(o())return;let b;const y=r===0?n.initialPromise:void 0;try{b=y??n.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(h).catch(v=>{var C;if(o())return;const w=n.retry??($f?0:3),_=n.retryDelay??dke,x=typeof _=="function"?_(r,v):_,k=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,v);if(e||!k){f(v);return}r++,(C=n.onFail)==null||C.call(n,r,v),ike(x).then(()=>u()?void 0:p()).then(()=>{e?f(v):m()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),s)}}var cf,ise,Mae=(ise=class{constructor(){st(this,cf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_8(this.gcTime)&&De(this,cf,Kh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??($f?1/0:5*60*1e3))}clearGcTimeout(){te(this,cf)&&(Kh.clearTimeout(te(this,cf)),De(this,cf,void 0))}},cf=new WeakMap,ise),uf,gg,Fo,df,Qr,Nw,hf,ba,pc,sse,hke=(sse=class extends Mae{constructor(e){super();st(this,ba);st(this,uf);st(this,gg);st(this,Fo);st(this,df);st(this,Qr);st(this,Nw);st(this,hf);De(this,hf,!1),De(this,Nw,e.defaultOptions),this.setOptions(e.options),this.observers=[],De(this,df,e.client),De(this,Fo,te(this,df).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,De(this,uf,v$(this.options)),this.state=e.state??te(this,uf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=te(this,Qr))==null?void 0:e.promise}setOptions(e){if(this.options={...te(this,Nw),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=v$(this.options);r.data!==void 0&&(this.setState(y$(r.data,r.dataUpdatedAt)),De(this,uf,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Fo).remove(this)}setData(e,r){const i=S8(this.state.data,e,this.options);return Dt(this,ba,pc).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(e,r){Dt(this,ba,pc).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var i,s;const r=(i=te(this,Qr))==null?void 0:i.promise;return(s=te(this,Qr))==null||s.cancel(e),r?r.then(Qi).catch(Qi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,uf))}isActive(){return this.observers.some(e=>zo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Rd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Cae(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=te(this,Qr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=te(this,Qr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),te(this,Fo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(te(this,Qr)&&(te(this,hf)?te(this,Qr).cancel({revert:!0}):te(this,Qr).cancelRetry()),this.scheduleGc()),te(this,Fo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dt(this,ba,pc).call(this,{type:"invalidate"})}async fetch(e,r){var c,u,d,h,f,p,m,b,y,v,w,_;if(this.state.fetchStatus!=="idle"&&((c=te(this,Qr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Qr))return te(this,Qr).continueRetry(),te(this,Qr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(k=>k.options.queryFn);x&&this.setOptions(x.options)}const i=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(De(this,hf,!0),i.signal)})},o=()=>{const x=Aae(this.options,r),C=(()=>{const E={client:te(this,df),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return De(this,hf,!1),this.options.persister?this.options.persister(x,C,this):x(C)},l=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,df),state:this.state,fetchFn:o};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(l,this),De(this,gg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Dt(this,ba,pc).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),De(this,Qr,Iae({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof E8&&x.revert&&this.setState({...te(this,gg),fetchStatus:"idle"}),i.abort()},onFail:(x,k)=>{Dt(this,ba,pc).call(this,{type:"failed",failureCount:x,error:k})},onPause:()=>{Dt(this,ba,pc).call(this,{type:"pause"})},onContinue:()=>{Dt(this,ba,pc).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await te(this,Qr).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(p=(f=te(this,Fo).config).onSuccess)==null||p.call(f,x,this),(b=(m=te(this,Fo).config).onSettled)==null||b.call(m,x,this.state.error,this),x}catch(x){if(x instanceof E8){if(x.silent)return te(this,Qr).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw Dt(this,ba,pc).call(this,{type:"error",error:x}),(v=(y=te(this,Fo).config).onError)==null||v.call(y,x,this),(_=(w=te(this,Fo).config).onSettled)==null||_.call(w,this.state.data,x,this),x}finally{this.scheduleGc()}}},uf=new WeakMap,gg=new WeakMap,Fo=new WeakMap,df=new WeakMap,Qr=new WeakMap,Nw=new WeakMap,hf=new WeakMap,ba=new WeakSet,pc=function(e){const r=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Oae(i.data,this.options),fetchMeta:e.meta??null};case"success":const s={...i,...y$(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return De(this,gg,e.manual?s:void 0),s;case"error":const o=e.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=r(this.state),zr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),te(this,Fo).notify({query:this,type:"updated",action:e})})},sse);function Oae(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pae(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function y$(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function v$(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,r=e!==void 0,i=r?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var vs,dn,jw,Gi,ff,bg,Cc,dd,Bw,yg,vg,pf,mf,hd,wg,Pn,vy,A8,T8,P8,I8,M8,O8,D8,Dae,ose,fke=(ose=class extends z0{constructor(e,r){super();st(this,Pn);st(this,vs);st(this,dn);st(this,jw);st(this,Gi);st(this,ff);st(this,bg);st(this,Cc);st(this,dd);st(this,Bw);st(this,yg);st(this,vg);st(this,pf);st(this,mf);st(this,hd);st(this,wg,new Set);this.options=r,De(this,vs,e),De(this,dd,null),De(this,Cc,C8()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,dn).addObserver(this),w$(te(this,dn),this.options)?Dt(this,Pn,vy).call(this):this.updateResult(),Dt(this,Pn,I8).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return R8(te(this,dn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return R8(te(this,dn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Dt(this,Pn,M8).call(this),Dt(this,Pn,O8).call(this),te(this,dn).removeObserver(this)}setOptions(e){const r=this.options,i=te(this,dn);if(this.options=te(this,vs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zo(this.options.enabled,te(this,dn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Dt(this,Pn,D8).call(this),te(this,dn).setOptions(this.options),r._defaulted&&!lS(this.options,r)&&te(this,vs).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,dn),observer:this});const s=this.hasListeners();s&&x$(te(this,dn),i,this.options,r)&&Dt(this,Pn,vy).call(this),this.updateResult(),s&&(te(this,dn)!==i||zo(this.options.enabled,te(this,dn))!==zo(r.enabled,te(this,dn))||Rd(this.options.staleTime,te(this,dn))!==Rd(r.staleTime,te(this,dn)))&&Dt(this,Pn,A8).call(this);const o=Dt(this,Pn,T8).call(this);s&&(te(this,dn)!==i||zo(this.options.enabled,te(this,dn))!==zo(r.enabled,te(this,dn))||o!==te(this,hd))&&Dt(this,Pn,P8).call(this,o)}getOptimisticResult(e){const r=te(this,vs).getQueryCache().build(te(this,vs),e),i=this.createResult(r,e);return mke(this,i)&&(De(this,Gi,i),De(this,bg,this.options),De(this,ff,te(this,dn).state)),i}getCurrentResult(){return te(this,Gi)}trackResult(e,r){return new Proxy(e,{get:(i,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&te(this,Cc).status==="pending"&&te(this,Cc).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,s))})}trackProp(e){te(this,wg).add(e)}getCurrentQuery(){return te(this,dn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=te(this,vs).defaultQueryOptions(e),i=te(this,vs).getQueryCache().build(te(this,vs),r);return i.fetch().then(()=>this.createResult(i,r))}fetch(e){return Dt(this,Pn,vy).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,Gi)))}createResult(e,r){var M;const i=te(this,dn),s=this.options,o=te(this,Gi),a=te(this,ff),l=te(this,bg),u=e!==i?e.state:te(this,jw),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const I=this.hasListeners(),O=!I&&w$(e,r),F=I&&x$(e,i,r,s);(O||F)&&(h={...h,...Oae(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:b,status:y}=h;p=h.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let I;o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(I=o.data,v=!0):I=typeof r.placeholderData=="function"?r.placeholderData((M=te(this,vg))==null?void 0:M.state.data,te(this,vg)):r.placeholderData,I!==void 0&&(y="success",p=S8(o==null?void 0:o.data,I,r),f=!0)}if(r.select&&p!==void 0&&!v)if(o&&p===(a==null?void 0:a.data)&&r.select===te(this,Bw))p=te(this,yg);else try{De(this,Bw,r.select),p=r.select(p),p=S8(o==null?void 0:o.data,p,r),De(this,yg,p),De(this,dd,null)}catch(I){De(this,dd,I)}te(this,dd)&&(m=te(this,dd),p=te(this,yg),b=Date.now(),y="error");const w=h.fetchStatus==="fetching",_=y==="pending",x=y==="error",k=_&&w,C=p!==void 0,T={status:y,fetchStatus:h.fetchStatus,isPending:_,isSuccess:y==="success",isError:x,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!_,isLoadingError:x&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&C,isStale:Ej(e,r),refetch:this.refetch,promise:te(this,Cc),isEnabled:zo(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=$=>{T.status==="error"?$.reject(T.error):T.data!==void 0&&$.resolve(T.data)},O=()=>{const $=De(this,Cc,T.promise=C8());I($)},F=te(this,Cc);switch(F.status){case"pending":e.queryHash===i.queryHash&&I(F);break;case"fulfilled":(T.status==="error"||T.data!==F.value)&&O();break;case"rejected":(T.status!=="error"||T.error!==F.reason)&&O();break}}return T}updateResult(){const e=te(this,Gi),r=this.createResult(te(this,dn),this.options);if(De(this,ff,te(this,dn).state),De(this,bg,this.options),te(this,ff).data!==void 0&&De(this,vg,te(this,dn)),lS(r,e))return;De(this,Gi,r);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!te(this,wg).size)return!0;const a=new Set(o??te(this,wg));return this.options.throwOnError&&a.add("error"),Object.keys(te(this,Gi)).some(l=>{const c=l;return te(this,Gi)[c]!==e[c]&&a.has(c)})};Dt(this,Pn,Dae).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Dt(this,Pn,I8).call(this)}},vs=new WeakMap,dn=new WeakMap,jw=new WeakMap,Gi=new WeakMap,ff=new WeakMap,bg=new WeakMap,Cc=new WeakMap,dd=new WeakMap,Bw=new WeakMap,yg=new WeakMap,vg=new WeakMap,pf=new WeakMap,mf=new WeakMap,hd=new WeakMap,wg=new WeakMap,Pn=new WeakSet,vy=function(e){Dt(this,Pn,D8).call(this);let r=te(this,dn).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Qi)),r},A8=function(){Dt(this,Pn,M8).call(this);const e=Rd(this.options.staleTime,te(this,dn));if($f||te(this,Gi).isStale||!_8(e))return;const i=Cae(te(this,Gi).dataUpdatedAt,e)+1;De(this,pf,Kh.setTimeout(()=>{te(this,Gi).isStale||this.updateResult()},i))},T8=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,dn)):this.options.refetchInterval)??!1},P8=function(e){Dt(this,Pn,O8).call(this),De(this,hd,e),!($f||zo(this.options.enabled,te(this,dn))===!1||!_8(te(this,hd))||te(this,hd)===0)&&De(this,mf,Kh.setInterval(()=>{(this.options.refetchIntervalInBackground||Cj.isFocused())&&Dt(this,Pn,vy).call(this)},te(this,hd)))},I8=function(){Dt(this,Pn,A8).call(this),Dt(this,Pn,P8).call(this,Dt(this,Pn,T8).call(this))},M8=function(){te(this,pf)&&(Kh.clearTimeout(te(this,pf)),De(this,pf,void 0))},O8=function(){te(this,mf)&&(Kh.clearInterval(te(this,mf)),De(this,mf,void 0))},D8=function(){const e=te(this,vs).getQueryCache().build(te(this,vs),this.options);if(e===te(this,dn))return;const r=te(this,dn);De(this,dn,e),De(this,jw,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Dae=function(e){zr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(te(this,Gi))}),te(this,vs).getQueryCache().notify({query:te(this,dn),type:"observerResultsUpdated"})})},ose);function pke(n,e){return zo(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function w$(n,e){return pke(n,e)||n.state.data!==void 0&&R8(n,e,e.refetchOnMount)}function R8(n,e,r){if(zo(e.enabled,n)!==!1&&Rd(e.staleTime,n)!=="static"){const i=typeof r=="function"?r(n):r;return i==="always"||i!==!1&&Ej(n,e)}return!1}function x$(n,e,r,i){return(n!==e||zo(i.enabled,n)===!1)&&(!r.suspense||n.state.status!=="error")&&Ej(n,r)}function Ej(n,e){return zo(e.enabled,n)!==!1&&n.isStaleByTime(Rd(e.staleTime,n))}function mke(n,e){return!lS(n.getCurrentResult(),e)}function _$(n){return{onFetch:(e,r)=>{var d,h,f,p,m;const i=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},v=Aae(e.options,e.fetchOptions),w=async(_,x,k)=>{if(b)return Promise.reject();if(x==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:x,direction:k?"backward":"forward",meta:e.options.meta};return y(O),O})(),T=await v(E),{maxPages:M}=e.options,I=k?oke:ske;return{pages:I(_.pages,T,M),pageParams:I(_.pageParams,x,M)}};if(s&&o.length){const _=s==="backward",x=_?gke:k$,k={pages:o,pageParams:a},C=x(i,k);l=await w(k,C,_)}else{const _=n??o.length;do{const x=c===0?a[0]??i.initialPageParam:k$(i,l);if(c>0&&x==null)break;l=await w(l,x),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function k$(n,{pages:e,pageParams:r}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,r[i],r):void 0}function gke(n,{pages:e,pageParams:r}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,r[0],r):void 0}var Lw,ml,Yi,gf,gl,Xu,ase,bke=(ase=class extends Mae{constructor(e){super();st(this,gl);st(this,Lw);st(this,ml);st(this,Yi);st(this,gf);De(this,Lw,e.client),this.mutationId=e.mutationId,De(this,Yi,e.mutationCache),De(this,ml,[]),this.state=e.state||Rae(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){te(this,ml).includes(e)||(te(this,ml).push(e),this.clearGcTimeout(),te(this,Yi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){De(this,ml,te(this,ml).filter(r=>r!==e)),this.scheduleGc(),te(this,Yi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){te(this,ml).length||(this.state.status==="pending"?this.scheduleGc():te(this,Yi).remove(this))}continue(){var e;return((e=te(this,gf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,d,h,f,p,m,b,y,v,w,_,x,k,C,E,T,M;const r=()=>{Dt(this,gl,Xu).call(this,{type:"continue"})},i={client:te(this,Lw),meta:this.options.meta,mutationKey:this.options.mutationKey};De(this,gf,Iae({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{Dt(this,gl,Xu).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{Dt(this,gl,Xu).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Yi).canRun(this)}));const s=this.state.status==="pending",o=!te(this,gf).canStart();try{if(s)r();else{Dt(this,gl,Xu).call(this,{type:"pending",variables:e,isPaused:o}),await((l=(a=te(this,Yi).config).onMutate)==null?void 0:l.call(a,e,this,i));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,i));O!==this.state.context&&Dt(this,gl,Xu).call(this,{type:"pending",context:O,variables:e,isPaused:o})}const I=await te(this,gf).start();return await((h=(d=te(this,Yi).config).onSuccess)==null?void 0:h.call(d,I,e,this.state.context,this,i)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,e,this.state.context,i)),await((b=(m=te(this,Yi).config).onSettled)==null?void 0:b.call(m,I,null,this.state.variables,this.state.context,this,i)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,I,null,e,this.state.context,i)),Dt(this,gl,Xu).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(w=te(this,Yi).config).onError)==null?void 0:_.call(w,I,e,this.state.context,this,i)),await((k=(x=this.options).onError)==null?void 0:k.call(x,I,e,this.state.context,i)),await((E=(C=te(this,Yi).config).onSettled)==null?void 0:E.call(C,void 0,I,this.state.variables,this.state.context,this,i)),await((M=(T=this.options).onSettled)==null?void 0:M.call(T,void 0,I,e,this.state.context,i)),I}finally{Dt(this,gl,Xu).call(this,{type:"error",error:I})}}finally{te(this,Yi).runNext(this)}}},Lw=new WeakMap,ml=new WeakMap,Yi=new WeakMap,gf=new WeakMap,gl=new WeakSet,Xu=function(e){const r=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zr.batch(()=>{te(this,ml).forEach(i=>{i.onMutationUpdate(e)}),te(this,Yi).notify({mutation:this,type:"updated",action:e})})},ase);function Rae(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ec,ya,Fw,lse,yke=(lse=class extends z0{constructor(e={}){super();st(this,Ec);st(this,ya);st(this,Fw);this.config=e,De(this,Ec,new Set),De(this,ya,new Map),De(this,Fw,0)}build(e,r,i){const s=new bke({client:e,mutationCache:this,mutationId:++p1(this,Fw)._,options:e.defaultMutationOptions(r),state:i});return this.add(s),s}add(e){te(this,Ec).add(e);const r=O1(e);if(typeof r=="string"){const i=te(this,ya).get(r);i?i.push(e):te(this,ya).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(te(this,Ec).delete(e)){const r=O1(e);if(typeof r=="string"){const i=te(this,ya).get(r);if(i)if(i.length>1){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}else i[0]===e&&te(this,ya).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=O1(e);if(typeof r=="string"){const i=te(this,ya).get(r),s=i==null?void 0:i.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var i;const r=O1(e);if(typeof r=="string"){const s=(i=te(this,ya).get(r))==null?void 0:i.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zr.batch(()=>{te(this,Ec).forEach(e=>{this.notify({type:"removed",mutation:e})}),te(this,Ec).clear(),te(this,ya).clear()})}getAll(){return Array.from(te(this,Ec))}find(e){const r={exact:!0,...e};return this.getAll().find(i=>m$(r,i))}findAll(e={}){return this.getAll().filter(r=>m$(e,r))}notify(e){zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return zr.batch(()=>Promise.all(e.map(r=>r.continue().catch(Qi))))}},Ec=new WeakMap,ya=new WeakMap,Fw=new WeakMap,lse);function O1(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Ac,fd,ws,Tc,nu,ok,N8,cse,vke=(cse=class extends z0{constructor(r,i){super();st(this,nu);st(this,Ac);st(this,fd);st(this,ws);st(this,Tc);De(this,Ac,r),this.setOptions(i),this.bindMethods(),Dt(this,nu,ok).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const i=this.options;this.options=te(this,Ac).defaultMutationOptions(r),lS(this.options,i)||te(this,Ac).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,ws),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&zf(i.mutationKey)!==zf(this.options.mutationKey)?this.reset():((s=te(this,ws))==null?void 0:s.state.status)==="pending"&&te(this,ws).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=te(this,ws))==null||r.removeObserver(this)}onMutationUpdate(r){Dt(this,nu,ok).call(this),Dt(this,nu,N8).call(this,r)}getCurrentResult(){return te(this,fd)}reset(){var r;(r=te(this,ws))==null||r.removeObserver(this),De(this,ws,void 0),Dt(this,nu,ok).call(this),Dt(this,nu,N8).call(this)}mutate(r,i){var s;return De(this,Tc,i),(s=te(this,ws))==null||s.removeObserver(this),De(this,ws,te(this,Ac).getMutationCache().build(te(this,Ac),this.options)),te(this,ws).addObserver(this),te(this,ws).execute(r)}},Ac=new WeakMap,fd=new WeakMap,ws=new WeakMap,Tc=new WeakMap,nu=new WeakSet,ok=function(){var i;const r=((i=te(this,ws))==null?void 0:i.state)??Rae();De(this,fd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},N8=function(r){zr.batch(()=>{var i,s,o,a,l,c,u,d;if(te(this,Tc)&&this.hasListeners()){const h=te(this,fd).variables,f=te(this,fd).context,p={client:te(this,Ac),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(i=te(this,Tc)).onSuccess)==null||s.call(i,r.data,h,f,p),(a=(o=te(this,Tc)).onSettled)==null||a.call(o,r.data,null,h,f,p)):(r==null?void 0:r.type)==="error"&&((c=(l=te(this,Tc)).onError)==null||c.call(l,r.error,h,f,p),(d=(u=te(this,Tc)).onSettled)==null||d.call(u,void 0,r.error,h,f,p))}this.listeners.forEach(h=>{h(te(this,fd))})})},cse),bl,use,wke=(use=class extends z0{constructor(e={}){super();st(this,bl);this.config=e,De(this,bl,new Map)}build(e,r,i){const s=r.queryKey,o=r.queryHash??kj(s,r);let a=this.get(o);return a||(a=new hke({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){te(this,bl).has(e.queryHash)||(te(this,bl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=te(this,bl).get(e.queryHash);r&&(e.destroy(),r===e&&te(this,bl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,bl).get(e)}getAll(){return[...te(this,bl).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(i=>p$(r,i))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(i=>p$(e,i)):r}notify(e){zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bl=new WeakMap,use),mr,pd,md,xg,_g,gd,kg,Sg,dse,xke=(dse=class{constructor(n={}){st(this,mr);st(this,pd);st(this,md);st(this,xg);st(this,_g);st(this,gd);st(this,kg);st(this,Sg);De(this,mr,n.queryCache||new wke),De(this,pd,n.mutationCache||new yke),De(this,md,n.defaultOptions||{}),De(this,xg,new Map),De(this,_g,new Map),De(this,gd,0)}mount(){p1(this,gd)._++,te(this,gd)===1&&(De(this,kg,Cj.subscribe(async n=>{n&&(await this.resumePausedMutations(),te(this,mr).onFocus())})),De(this,Sg,cS.subscribe(async n=>{n&&(await this.resumePausedMutations(),te(this,mr).onOnline())})))}unmount(){var n,e;p1(this,gd)._--,te(this,gd)===0&&((n=te(this,kg))==null||n.call(this),De(this,kg,void 0),(e=te(this,Sg))==null||e.call(this),De(this,Sg,void 0))}isFetching(n){return te(this,mr).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return te(this,pd).findAll({...n,status:"pending"}).length}getQueryData(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=te(this,mr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),r=te(this,mr).build(this,e),i=r.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&r.isStaleByTime(Rd(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return te(this,mr).findAll(n).map(({queryKey:e,state:r})=>{const i=r.data;return[e,i]})}setQueryData(n,e,r){const i=this.defaultQueryOptions({queryKey:n}),s=te(this,mr).get(i.queryHash),o=s==null?void 0:s.state.data,a=nke(e,o);if(a!==void 0)return te(this,mr).build(this,i).setData(a,{...r,manual:!0})}setQueriesData(n,e,r){return zr.batch(()=>te(this,mr).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,r)]))}getQueryState(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=te(this,mr).get(e.queryHash))==null?void 0:r.state}removeQueries(n){const e=te(this,mr);zr.batch(()=>{e.findAll(n).forEach(r=>{e.remove(r)})})}resetQueries(n,e){const r=te(this,mr);return zr.batch(()=>(r.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const r={revert:!0,...e},i=zr.batch(()=>te(this,mr).findAll(n).map(s=>s.cancel(r)));return Promise.all(i).then(Qi).catch(Qi)}invalidateQueries(n,e={}){return zr.batch(()=>(te(this,mr).findAll(n).forEach(r=>{r.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},i=zr.batch(()=>te(this,mr).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Qi)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Qi)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const r=te(this,mr).build(this,e);return r.isStaleByTime(Rd(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Qi).catch(Qi)}fetchInfiniteQuery(n){return n.behavior=_$(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Qi).catch(Qi)}ensureInfiniteQueryData(n){return n.behavior=_$(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return cS.isOnline()?te(this,pd).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,mr)}getMutationCache(){return te(this,pd)}getDefaultOptions(){return te(this,md)}setDefaultOptions(n){De(this,md,n)}setQueryDefaults(n,e){te(this,xg).set(zf(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...te(this,xg).values()],r={};return e.forEach(i=>{Mv(n,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(n,e){te(this,_g).set(zf(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...te(this,_g).values()],r={};return e.forEach(i=>{Mv(n,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(n){if(n._defaulted)return n;const e={...te(this,md).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=kj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Sj&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...te(this,md).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){te(this,mr).clear(),te(this,pd).clear()}},mr=new WeakMap,pd=new WeakMap,md=new WeakMap,xg=new WeakMap,_g=new WeakMap,gd=new WeakMap,kg=new WeakMap,Sg=new WeakMap,dse),Nae=A.createContext(void 0),jae=n=>{const e=A.useContext(Nae);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},S$=({client:n,children:e})=>(A.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),g.jsx(Nae.Provider,{value:n,children:e})),Bae=A.createContext(!1),_ke=()=>A.useContext(Bae);Bae.Provider;function kke(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Ske=A.createContext(kke()),Cke=()=>A.useContext(Ske),Eke=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Ake=n=>{A.useEffect(()=>{n.clearReset()},[n])},Tke=({result:n,errorResetBoundary:e,throwOnError:r,query:i,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&i&&(s&&n.data===void 0||Tae(r,[n.error,i])),Pke=n=>{if(n.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),i=n.staleTime;n.staleTime=typeof i=="function"?(...s)=>r(i(...s)):r(i),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},Ike=(n,e)=>n.isLoading&&n.isFetching&&!e,Mke=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,C$=(n,e,r)=>e.fetchOptimistic(n).catch(()=>{r.clearReset()});function Oke(n,e,r){var h,f,p,m,b;const i=_ke(),s=Cke(),o=jae(),a=o.defaultQueryOptions(n);(f=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=i?"isRestoring":"optimistic",Pke(a),Eke(a,s),Ake(s);const l=!o.getQueryCache().get(a.queryHash),[c]=A.useState(()=>new e(o,a)),u=c.getOptimisticResult(a),d=!i&&n.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(y=>{const v=d?c.subscribe(zr.batchCalls(y)):Qi;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),A.useEffect(()=>{c.setOptions(a)},[a,c]),Mke(a,u))throw C$(a,c,s);if(Tke({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((m=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,a,u),a.experimental_prefetchInRender&&!$f&&Ike(u,i)){const y=l?C$(a,c,s):(b=o.getQueryCache().get(a.queryHash))==null?void 0:b.promise;y==null||y.catch(Qi).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Lae(n,e){return Oke(n,fke)}function Kw(n,e){const r=jae(),[i]=A.useState(()=>new vke(r,n));A.useEffect(()=>{i.setOptions(n)},[i,n]);const s=A.useSyncExternalStore(A.useCallback(a=>i.subscribe(zr.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=A.useCallback((a,l)=>{i.mutate(a,l).catch(Qi)},[i]);if(s.error&&Tae(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const uS=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],j8=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Fae=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],$ae=[...Fae,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Dke=[...Fae,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],E$=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],A$=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],zae=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],T$=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Da(n,{includeName:e=!1}={}){if(n.type!=="function"&&n.type!=="event"&&n.type!=="error")throw new Gke(n.type);return`${n.name}(${nC(n.inputs,{includeName:e})})`}function nC(n,{includeName:e=!1}={}){return n?n.map(r=>Rke(r,{includeName:e})).join(e?", ":","):""}function Rke(n,{includeName:e}){return n.type.startsWith("tuple")?`(${nC(n.components,{includeName:e})})${n.type.slice(5)}`:n.type+(e&&n.name?` ${n.name}`:"")}function jl(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function br(n){return jl(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const Uae="2.43.2";let Mb={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:r})=>e?`${n??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Uae}`},Je=class B8 extends Error{constructor(e,r={}){var l;const i=(()=>{var c;return r.cause instanceof B8?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof B8&&r.cause.docsPath||r.docsPath,o=(l=Mb.getDocsUrl)==null?void 0:l.call(Mb,{...r,docsPath:s}),a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...i?[`Details: ${i}`]:[],...Mb.version?[`Version: ${Mb.version}`]:[]].join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Uae}walk(e){return Wae(this,e)}};function Wae(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?Wae(n.cause,e):e?null:n}class Nke extends Je{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class P$ extends Je{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class qae extends Je{constructor({data:e,params:r,size:i}){super([`Data size of ${i} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${nC(r,{includeName:!0})})`,`Data:   ${e} (${i} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=i}}class Xw extends Je{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class jke extends Je{constructor({expectedLength:e,givenLength:r,type:i}){super([`ABI encoding array length mismatch for type ${i}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Bke extends Je{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${br(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Lke extends Je{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Fke extends Je{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class I$ extends Je{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class Hae extends Je{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class $ke extends Je{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class zke extends Je{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class M$ extends Je{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class Jg extends Je{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class Vae extends Je{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class Uke extends Je{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class Wke extends Je{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Da(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Da(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let qke=class extends Je{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class dS extends Je{constructor({abiItem:e,data:r,params:i,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${nC(i,{includeName:!0})})`,`Data:   ${r} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=i,this.size=s}}class Aj extends Je{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Da(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Hke extends Je{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class Vke extends Je{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let Gae=class extends Je{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Gke extends Je{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let qd=class extends Je{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Yae=class extends Je{constructor({offset:e,position:r,size:i}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`,{name:"SliceOffsetOutOfBoundsError"})}},Kae=class extends Je{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class O$ extends Je{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} is expected to be ${r} ${i} long, but is ${e} ${i} long.`,{name:"InvalidBytesLengthError"})}}function U0(n,{dir:e,size:r=32}={}){return typeof n=="string"?Nd(n,{dir:e,size:r}):Yke(n,{dir:e,size:r})}function Nd(n,{dir:e,size:r=32}={}){if(r===null)return n;const i=n.replace("0x","");if(i.length>r*2)throw new Kae({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Yke(n,{dir:e,size:r=32}={}){if(r===null)return n;if(n.length>r)throw new Kae({size:n.length,targetSize:r,type:"bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=e==="right";i[o?s:r-s-1]=n[o?s:n.length-s-1]}return i}let Xae=class extends Je{constructor({max:e,min:r,signed:i,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Kke=class extends Je{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Xke extends Je{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Qke=class extends Je{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function _f(n,{dir:e="left"}={}){let r=typeof n=="string"?n.replace("0x",""):n,i=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=e==="left"?r.slice(i):r.slice(0,r.length-i),typeof n=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function za(n,{size:e}){if(br(n)>e)throw new Qke({givenSize:br(n),maxSize:e})}function Bl(n,e={}){const{signed:r}=e;e.size&&za(n,{size:e.size});const i=BigInt(n);if(!r)return i;const s=(n.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return i<=o?i:i-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Jke(n,e={}){let r=n;if(e.size&&(za(r,{size:e.size}),r=_f(r)),_f(r)==="0x00")return!1;if(_f(r)==="0x01")return!0;throw new Xke(r)}function Ll(n,e={}){return Number(Bl(n,e))}const Zke=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function au(n,e={}){return typeof n=="number"||typeof n=="bigint"?kt(n,e):typeof n=="string"?Zg(n,e):typeof n=="boolean"?Qae(n,e):qr(n,e)}function Qae(n,e={}){const r=`0x${Number(n)}`;return typeof e.size=="number"?(za(r,{size:e.size}),U0(r,{size:e.size})):r}function qr(n,e={}){let r="";for(let s=0;s<n.length;s++)r+=Zke[n[s]];const i=`0x${r}`;return typeof e.size=="number"?(za(i,{size:e.size}),U0(i,{dir:"right",size:e.size})):i}function kt(n,e={}){const{signed:r,size:i}=e,s=BigInt(n);let o;i?r?o=(1n<<BigInt(i)*8n-1n)-1n:o=2n**(BigInt(i)*8n)-1n:typeof n=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<a){const c=typeof n=="bigint"?"n":"";throw new Xae({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:r,size:i,value:`${n}${c}`})}const l=`0x${(r&&s<0?(1n<<BigInt(i*8))+BigInt(s):s).toString(16)}`;return i?U0(l,{size:i}):l}const eSe=new TextEncoder;function Zg(n,e={}){const r=eSe.encode(n);return qr(r,e)}const tSe=new TextEncoder;function W0(n,e={}){return typeof n=="number"||typeof n=="bigint"?rSe(n,e):typeof n=="boolean"?nSe(n,e):jl(n)?Fl(n,e):kf(n,e)}function nSe(n,e={}){const r=new Uint8Array(1);return r[0]=Number(n),typeof e.size=="number"?(za(r,{size:e.size}),U0(r,{size:e.size})):r}const ic={zero:48,nine:57,A:65,F:70,a:97,f:102};function D$(n){if(n>=ic.zero&&n<=ic.nine)return n-ic.zero;if(n>=ic.A&&n<=ic.F)return n-(ic.A-10);if(n>=ic.a&&n<=ic.f)return n-(ic.a-10)}function Fl(n,e={}){let r=n;e.size&&(za(r,{size:e.size}),r=U0(r,{dir:"right",size:e.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=D$(i.charCodeAt(l++)),u=D$(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Je(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function rSe(n,e){const r=kt(n,e);return Fl(r)}function kf(n,e={}){const r=tSe.encode(n);return typeof e.size=="number"?(za(r,{size:e.size}),U0(r,{dir:"right",size:e.size})):r}const D1=BigInt(2**32-1),R$=BigInt(32);function iSe(n,e=!1){return e?{h:Number(n&D1),l:Number(n>>R$&D1)}:{h:Number(n>>R$&D1)|0,l:Number(n&D1)|0}}function sSe(n,e=!1){const r=n.length;let i=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=iSe(n[o],e);[i[o],s[o]]=[a,l]}return[i,s]}const oSe=(n,e,r)=>n<<r|e>>>32-r,aSe=(n,e,r)=>e<<r|n>>>32-r,lSe=(n,e,r)=>e<<r-32|n>>>64-r,cSe=(n,e,r)=>n<<r-32|e>>>64-r,Vp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uSe(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Ov(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Uf(n,...e){if(!uSe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function dSe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ov(n.outputLen),Ov(n.blockLen)}function e0(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Jae(n,e){Uf(n);const r=e.outputLen;if(n.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function hSe(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function t0(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function F6(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Za(n,e){return n<<32-e|n>>>e}const fSe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pSe(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function mSe(n){for(let e=0;e<n.length;e++)n[e]=pSe(n[e]);return n}const N$=fSe?n=>n:mSe;function gSe(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function rC(n){return typeof n=="string"&&(n=gSe(n)),Uf(n),n}function bSe(...n){let e=0;for(let i=0;i<n.length;i++){const s=n[i];Uf(s),e+=s.length}const r=new Uint8Array(e);for(let i=0,s=0;i<n.length;i++){const o=n[i];r.set(o,s),s+=o.length}return r}let Tj=class{};function Zae(n){const e=i=>n().update(rC(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}function ySe(n=32){if(Vp&&typeof Vp.getRandomValues=="function")return Vp.getRandomValues(new Uint8Array(n));if(Vp&&typeof Vp.randomBytes=="function")return Uint8Array.from(Vp.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}const vSe=BigInt(0),Ob=BigInt(1),wSe=BigInt(2),xSe=BigInt(7),_Se=BigInt(256),kSe=BigInt(113),ele=[],tle=[],nle=[];for(let n=0,e=Ob,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],ele.push(2*(5*i+r)),tle.push((n+1)*(n+2)/2%64);let s=vSe;for(let o=0;o<7;o++)e=(e<<Ob^(e>>xSe)*kSe)%_Se,e&wSe&&(s^=Ob<<(Ob<<BigInt(o))-Ob);nle.push(s)}const rle=sSe(nle,!0),SSe=rle[0],CSe=rle[1],j$=(n,e,r)=>r>32?lSe(n,e,r):oSe(n,e,r),B$=(n,e,r)=>r>32?cSe(n,e,r):aSe(n,e,r);function ESe(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=j$(u,d,1)^r[l],f=B$(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=tle[a],c=j$(s,o,l),u=B$(s,o,l),d=ele[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=SSe[i],n[1]^=CSe[i]}t0(r)}let ASe=class ile extends Tj{constructor(e,r,i,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,Ov(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=hSe(this.state)}clone(){return this._cloneInto()}keccak(){N$(this.state32),ESe(this.state32,this.rounds),N$(this.state32),this.posOut=0,this.pos=0}update(e){e0(this),e=rC(e),Uf(e);const{blockLen:r,state:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){e0(this,!1),Uf(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ov(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Jae(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,t0(this.state)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new ile(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const TSe=(n,e,r)=>Zae(()=>new ASe(e,n,r)),PSe=TSe(1,136,256/8);function vi(n,e){const r=e||"hex",i=PSe(jl(n,{strict:!1})?W0(n):n);return r==="bytes"?i:au(i)}let iC=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const ISe=/^0x[a-fA-F0-9]{40}$/,$6=new iC(8192);function ho(n,e){const{strict:r=!0}=e??{},i=`${n}.${r}`;if($6.has(i))return $6.get(i);const s=ISe.test(n)?n.toLowerCase()===n?!0:r?sC(n)===n:!0:!1;return $6.set(i,s),s}const z6=new iC(8192);function sC(n,e){if(z6.has(`${n}.${e}`))return z6.get(`${n}.${e}`);const r=e?`${e}${n.toLowerCase()}`:n.substring(2).toLowerCase(),i=vi(kf(r),"bytes"),s=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)i[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(i[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const o=`0x${s.join("")}`;return z6.set(`${n}.${e}`,o),o}function ri(n,e){if(!ho(n,{strict:!1}))throw new qd({address:n});return sC(n,e)}let L$=class extends Je{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},sle=class extends Je{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},MSe=class extends Je{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const OSe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new MSe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new sle({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new L$({offset:n});const e=this.position-n;this.assertPosition(e),this.position=e},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new L$({offset:n});const e=this.position+n;this.assertPosition(e),this.position=e},inspectByte(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(n,e){const r=e??this.position;return this.assertPosition(r+n-1),this.bytes.subarray(r,r+n)},inspectUint8(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(n){const e=n??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(n){const e=n??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(n){const e=n??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(n);return this.position+=e??n,r},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const e=this.position;return this.assertPosition(n),this.position=n,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function Pj(n,{recursiveReadLimit:e=8192}={}){const r=Object.create(OSe);return r.bytes=n,r.dataView=new DataView(n.buffer??n,n.byteOffset,n.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function n0(n,e,r,{strict:i}={}){return jl(n,{strict:!1})?DSe(n,e,r,{strict:i}):lle(n,e,r,{strict:i})}function ole(n,e){if(typeof e=="number"&&e>0&&e>br(n)-1)throw new Yae({offset:e,position:"start",size:br(n)})}function ale(n,e,r){if(typeof e=="number"&&typeof r=="number"&&br(n)!==r-e)throw new Yae({offset:r,position:"end",size:br(n)})}function lle(n,e,r,{strict:i}={}){ole(n,e);const s=n.slice(e,r);return i&&ale(s,e,r),s}function DSe(n,e,r,{strict:i}={}){ole(n,e);const s=`0x${n.replace("0x","").slice((e??0)*2,(r??n.length)*2)}`;return i&&ale(s,e,r),s}function RSe(n,e={}){typeof e.size<"u"&&za(n,{size:e.size});const r=qr(n,e);return Bl(r,e)}function NSe(n,e={}){let r=n;if(typeof e.size<"u"&&(za(r,{size:e.size}),r=_f(r)),r.length>1||r[0]>1)throw new Kke(r);return!!r[0]}function Wc(n,e={}){typeof e.size<"u"&&za(n,{size:e.size});const r=qr(n,e);return Ll(r,e)}function jSe(n,e={}){let r=n;return typeof e.size<"u"&&(za(r,{size:e.size}),r=_f(r,{dir:"right"})),new TextDecoder().decode(r)}function $l(n){return typeof n[0]=="string"?q0(n):BSe(n)}function BSe(n){let e=0;for(const s of n)e+=s.length;const r=new Uint8Array(e);let i=0;for(const s of n)r.set(s,i),i+=s.length;return r}function q0(n){return`0x${n.reduce((e,r)=>e+r.replace("0x",""),"")}`}const LSe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cle=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function fp(n,e){if(n.length!==e.length)throw new Lke({expectedLength:n.length,givenLength:e.length});const r=FSe({params:n,values:e}),i=Mj(r);return i.length===0?"0x":i}function FSe({params:n,values:e}){const r=[];for(let i=0;i<n.length;i++)r.push(Ij({param:n[i],value:e[i]}));return r}function Ij({param:n,value:e}){const r=Oj(n.type);if(r){const[i,s]=r;return zSe(e,{length:i,param:{...n,type:s}})}if(n.type==="tuple")return VSe(e,{param:n});if(n.type==="address")return $Se(e);if(n.type==="bool")return WSe(e);if(n.type.startsWith("uint")||n.type.startsWith("int")){const i=n.type.startsWith("int"),[,,s="256"]=cle.exec(n.type)??[];return qSe(e,{signed:i,size:Number(s)})}if(n.type.startsWith("bytes"))return USe(e,{param:n});if(n.type==="string")return HSe(e);throw new Hke(n.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Mj(n){let e=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?e+=32:e+=br(l)}const r=[],i=[];let s=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?(r.push(kt(e+s,{size:32})),i.push(l),s+=br(l)):r.push(l)}return $l([...r,...i])}function $Se(n){if(!ho(n))throw new qd({address:n});return{dynamic:!1,encoded:Nd(n.toLowerCase())}}function zSe(n,{length:e,param:r}){const i=e===null;if(!Array.isArray(n))throw new Gae(n);if(!i&&n.length!==e)throw new jke({expectedLength:e,givenLength:n.length,type:`${r.type}[${e}]`});let s=!1;const o=[];for(let a=0;a<n.length;a++){const l=Ij({param:r,value:n[a]});l.dynamic&&(s=!0),o.push(l)}if(i||s){const a=Mj(o);if(i){const l=kt(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?$l([l,a]):l}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:$l(o.map(({encoded:a})=>a))}}function USe(n,{param:e}){const[,r]=e.type.split("bytes"),i=br(n);if(!r){let s=n;return i%32!==0&&(s=Nd(s,{dir:"right",size:Math.ceil((n.length-2)/2/32)*32})),{dynamic:!0,encoded:$l([Nd(kt(i,{size:32})),s])}}if(i!==Number.parseInt(r,10))throw new Bke({expectedSize:Number.parseInt(r,10),value:n});return{dynamic:!1,encoded:Nd(n,{dir:"right"})}}function WSe(n){if(typeof n!="boolean")throw new Je(`Invalid boolean value: "${n}" (type: ${typeof n}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Nd(Qae(n))}}function qSe(n,{signed:e,size:r=256}){if(typeof r=="number"){const i=2n**(BigInt(r)-(e?1n:0n))-1n,s=e?-i-1n:0n;if(n>i||n<s)throw new Xae({max:i.toString(),min:s.toString(),signed:e,size:r/8,value:n.toString()})}return{dynamic:!1,encoded:kt(n,{size:32,signed:e})}}function HSe(n){const e=Zg(n),r=Math.ceil(br(e)/32),i=[];for(let s=0;s<r;s++)i.push(Nd(n0(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:$l([Nd(kt(br(e),{size:32})),...i])}}function VSe(n,{param:e}){let r=!1;const i=[];for(let s=0;s<e.components.length;s++){const o=e.components[s],a=Array.isArray(n)?s:o.name,l=Ij({param:o,value:n[a]});i.push(l),l.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Mj(i):$l(i.map(({encoded:s})=>s))}}function Oj(n){const e=n.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Qw(n,e){const r=typeof e=="string"?Fl(e):e,i=Pj(r);if(br(r)===0&&n.length>0)throw new Xw;if(br(e)&&br(e)<32)throw new qae({data:typeof e=="string"?e:qr(e),params:n,size:br(e)});let s=0;const o=[];for(let a=0;a<n.length;++a){const l=n[a];i.setPosition(s);const[c,u]=Xm(i,l,{staticPosition:0});s+=u,o.push(c)}return o}function Xm(n,e,{staticPosition:r}){const i=Oj(e.type);if(i){const[s,o]=i;return YSe(n,{...e,type:o},{length:s,staticPosition:r})}if(e.type==="tuple")return JSe(n,e,{staticPosition:r});if(e.type==="address")return GSe(n);if(e.type==="bool")return KSe(n);if(e.type.startsWith("bytes"))return XSe(n,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return QSe(n,e);if(e.type==="string")return ZSe(n,{staticPosition:r});throw new Vke(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const F$=32,L8=32;function GSe(n){const e=n.readBytes(32);return[sC(qr(lle(e,-20))),32]}function YSe(n,e,{length:r,staticPosition:i}){if(!r){const a=Wc(n.readBytes(L8)),l=i+a,c=l+F$;n.setPosition(l);const u=Wc(n.readBytes(F$)),d=Dv(e);let h=0;const f=[];for(let p=0;p<u;++p){n.setPosition(c+(d?p*32:h));const[m,b]=Xm(n,e,{staticPosition:c});h+=b,f.push(m)}return n.setPosition(i+32),[f,32]}if(Dv(e)){const a=Wc(n.readBytes(L8)),l=i+a,c=[];for(let u=0;u<r;++u){n.setPosition(l+u*32);const[d]=Xm(n,e,{staticPosition:l});c.push(d)}return n.setPosition(i+32),[c,32]}let s=0;const o=[];for(let a=0;a<r;++a){const[l,c]=Xm(n,e,{staticPosition:i+s});s+=c,o.push(l)}return[o,s]}function KSe(n){return[NSe(n.readBytes(32),{size:32}),32]}function XSe(n,e,{staticPosition:r}){const[i,s]=e.type.split("bytes");if(!s){const a=Wc(n.readBytes(32));n.setPosition(r+a);const l=Wc(n.readBytes(32));if(l===0)return n.setPosition(r+32),["0x",32];const c=n.readBytes(l);return n.setPosition(r+32),[qr(c),32]}return[qr(n.readBytes(Number.parseInt(s,10),32)),32]}function QSe(n,e){const r=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),s=n.readBytes(32);return[i>48?RSe(s,{signed:r}):Wc(s,{signed:r}),32]}function JSe(n,e,{staticPosition:r}){const i=e.components.length===0||e.components.some(({name:a})=>!a),s=i?[]:{};let o=0;if(Dv(e)){const a=Wc(n.readBytes(L8)),l=r+a;for(let c=0;c<e.components.length;++c){const u=e.components[c];n.setPosition(l+o);const[d,h]=Xm(n,u,{staticPosition:l});o+=h,s[i?c:u==null?void 0:u.name]=d}return n.setPosition(r+32),[s,32]}for(let a=0;a<e.components.length;++a){const l=e.components[a],[c,u]=Xm(n,l,{staticPosition:r});s[i?a:l==null?void 0:l.name]=c,o+=u}return[s,o]}function ZSe(n,{staticPosition:e}){const r=Wc(n.readBytes(32)),i=e+r;n.setPosition(i);const s=Wc(n.readBytes(32));if(s===0)return n.setPosition(e+32),["",32];const o=n.readBytes(s,32),a=jSe(_f(o));return n.setPosition(e+32),[a,32]}function Dv(n){var i;const{type:e}=n;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(i=n.components)==null?void 0:i.some(Dv);const r=Oj(n.type);return!!(r&&Dv({...n,type:r[1]}))}const e2e=n=>vi(W0(n));function t2e(n){return e2e(n)}const n2e="1.2.3";let Ls=class F8 extends Error{constructor(e,r={}){var a;const i=r.cause instanceof F8?r.cause.details:(a=r.cause)!=null&&a.message?r.cause.message:r.details,s=r.cause instanceof F8&&r.cause.docsPath||r.docsPath,o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${n2e}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}};function gu(n,e){const r=n.exec(e);return r==null?void 0:r.groups}const ule=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,dle=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,hle=/^\(.+?\).*?$/,$$=/^tuple(?<array>(\[(\d*)\])*)$/;function $8(n){let e=n.type;if($$.test(n.type)&&"components"in n){e="(";const r=n.components.length;for(let s=0;s<r;s++){const o=n.components[s];e+=$8(o),s<r-1&&(e+=", ")}const i=gu($$,n.type);return e+=`)${(i==null?void 0:i.array)||""}`,$8({...n,type:e})}return"indexed"in n&&n.indexed&&(e=`${e} indexed`),n.name?`${e} ${n.name}`:e}function pm(n){let e="";const r=n.length;for(let i=0;i<r;i++){const s=n[i];e+=$8(s),i!==r-1&&(e+=", ")}return e}function hS(n){var e;return n.type==="function"?`function ${n.name}(${pm(n.inputs)})${n.stateMutability&&n.stateMutability!=="nonpayable"?` ${n.stateMutability}`:""}${(e=n.outputs)!=null&&e.length?` returns (${pm(n.outputs)})`:""}`:n.type==="event"?`event ${n.name}(${pm(n.inputs)})`:n.type==="error"?`error ${n.name}(${pm(n.inputs)})`:n.type==="constructor"?`constructor(${pm(n.inputs)})${n.stateMutability==="payable"?" payable":""}`:n.type==="fallback"?`fallback() external${n.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const fle=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function r2e(n){return fle.test(n)}function i2e(n){return gu(fle,n)}const ple=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function s2e(n){return ple.test(n)}function o2e(n){return gu(ple,n)}const mle=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function a2e(n){return mle.test(n)}function l2e(n){return gu(mle,n)}const gle=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function oC(n){return gle.test(n)}function c2e(n){return gu(gle,n)}const ble=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function u2e(n){return ble.test(n)}function d2e(n){return gu(ble,n)}const yle=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function h2e(n){return yle.test(n)}function f2e(n){return gu(yle,n)}const p2e=/^receive\(\) external payable$/;function m2e(n){return p2e.test(n)}const z$=new Set(["memory","indexed","storage","calldata"]),g2e=new Set(["indexed"]),z8=new Set(["calldata","memory","storage"]);class b2e extends Ls{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class y2e extends Ls{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class v2e extends Ls{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class w2e extends Ls{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class x2e extends Ls{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class _2e extends Ls{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class k2e extends Ls{constructor({param:e,type:r,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class S2e extends Ls{constructor({param:e,type:r,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class C2e extends Ls{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class H0 extends Ls{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class E2e extends Ls{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class A2e extends Ls{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class T2e extends Ls{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class P2e extends Ls{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function I2e(n,e,r){let i="";if(r)for(const s of Object.entries(r)){if(!s)continue;let o="";for(const a of s[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;i+=`(${s[0]}{${o}})`}return e?`${e}:${n}${i}`:`${n}${i}`}const U6=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function U8(n,e={}){if(a2e(n))return M2e(n,e);if(s2e(n))return O2e(n,e);if(r2e(n))return D2e(n,e);if(u2e(n))return R2e(n,e);if(h2e(n))return N2e(n);if(m2e(n))return{type:"receive",stateMutability:"payable"};throw new E2e({signature:n})}function M2e(n,e={}){const r=l2e(n);if(!r)throw new H0({signature:n,type:"function"});const i=to(r.parameters),s=[],o=i.length;for(let l=0;l<o;l++)s.push(lu(i[l],{modifiers:z8,structs:e,type:"function"}));const a=[];if(r.returns){const l=to(r.returns),c=l.length;for(let u=0;u<c;u++)a.push(lu(l[u],{modifiers:z8,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:s,outputs:a}}function O2e(n,e={}){const r=o2e(n);if(!r)throw new H0({signature:n,type:"event"});const i=to(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(lu(i[a],{modifiers:g2e,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:s}}function D2e(n,e={}){const r=i2e(n);if(!r)throw new H0({signature:n,type:"error"});const i=to(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(lu(i[a],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:s}}function R2e(n,e={}){const r=d2e(n);if(!r)throw new H0({signature:n,type:"constructor"});const i=to(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(lu(i[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:s}}function N2e(n){const e=f2e(n);if(!e)throw new H0({signature:n,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const j2e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,B2e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,L2e=/^u?int$/;function lu(n,e){var h,f;const r=I2e(n,e==null?void 0:e.type,e==null?void 0:e.structs);if(U6.has(r))return U6.get(r);const i=hle.test(n),s=gu(i?B2e:j2e,n);if(!s)throw new x2e({param:n});if(s.name&&$2e(s.name))throw new _2e({param:n,name:s.name});const o=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},l=(e==null?void 0:e.structs)??{};let c,u={};if(i){c="tuple";const p=to(s.type),m=[],b=p.length;for(let y=0;y<b;y++)m.push(lu(p[y],{structs:l}));u={components:m}}else if(s.type in l)c="tuple",u={components:l[s.type]};else if(L2e.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!vle(c))throw new v2e({type:c});if(s.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,s.modifier)))throw new k2e({param:n,type:e==null?void 0:e.type,modifier:s.modifier});if(z8.has(s.modifier)&&!z2e(c,!!s.array))throw new S2e({param:n,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...a,...u};return U6.set(r,d),d}function to(n,e=[],r="",i=0){const s=n.trim().length;for(let o=0;o<s;o++){const a=n[o],l=n.slice(o+1);switch(a){case",":return i===0?to(l,[...e,r.trim()]):to(l,e,`${r}${a}`,i);case"(":return to(l,e,`${r}${a}`,i+1);case")":return to(l,e,`${r}${a}`,i-1);default:return to(l,e,`${r}${a}`,i)}}if(r==="")return e;if(i!==0)throw new P2e({current:r,depth:i});return e.push(r.trim()),e}function vle(n){return n==="address"||n==="bool"||n==="function"||n==="string"||ule.test(n)||dle.test(n)}const F2e=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function $2e(n){return n==="address"||n==="bool"||n==="function"||n==="string"||n==="tuple"||ule.test(n)||dle.test(n)||F2e.test(n)}function z2e(n,e){return e||n==="bytes"||n==="string"||n==="tuple"}function Dj(n){const e={},r=n.length;for(let a=0;a<r;a++){const l=n[a];if(!oC(l))continue;const c=c2e(l);if(!c)throw new H0({signature:l,type:"struct"});const u=c.properties.split(";"),d=[],h=u.length;for(let f=0;f<h;f++){const m=u[f].trim();if(!m)continue;const b=lu(m,{type:"struct"});d.push(b)}if(!d.length)throw new A2e({signature:l});e[c.name]=d}const i={},s=Object.entries(e),o=s.length;for(let a=0;a<o;a++){const[l,c]=s[a];i[l]=wle(c,e)}return i}const U2e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function wle(n=[],e={},r=new Set){const i=[],s=n.length;for(let o=0;o<s;o++){const a=n[o];if(hle.test(a.type))i.push(a);else{const c=gu(U2e,a.type);if(!(c!=null&&c.type))throw new C2e({abiParameter:a});const{array:u,type:d}=c;if(d in e){if(r.has(d))throw new T2e({type:d});i.push({...a,type:`tuple${u??""}`,components:wle(e[d],e,new Set([...r,d]))})}else if(vle(d))i.push(a);else throw new y2e({type:d})}}return i}function xle(n){const e=Dj(n),r=[],i=n.length;for(let s=0;s<i;s++){const o=n[s];oC(o)||r.push(U8(o,e))}return r}function U$(n){let e;if(typeof n=="string")e=U8(n);else{const r=Dj(n),i=n.length;for(let s=0;s<i;s++){const o=n[s];if(!oC(o)){e=U8(o,r);break}}}if(!e)throw new b2e({signature:n});return e}function W$(n){const e=[];if(typeof n=="string"){const r=to(n),i=r.length;for(let s=0;s<i;s++)e.push(lu(r[s],{modifiers:z$}))}else{const r=Dj(n),i=n.length;for(let s=0;s<i;s++){const o=n[s];if(oC(o))continue;const a=to(o),l=a.length;for(let c=0;c<l;c++)e.push(lu(a[c],{modifiers:z$,structs:r}))}}if(e.length===0)throw new w2e({params:n});return e}function W2e(n){let e=!0,r="",i=0,s="",o=!1;for(let a=0;a<n.length;a++){const l=n[a];if(["(",")",","].includes(l)&&(e=!0),l==="("&&i++,l===")"&&i--,!!e){if(i===0){if(l===" "&&["event","function",""].includes(s))s="";else if(s+=l,l===")"){o=!0;break}continue}if(l===" "){n[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=l,r+=l}}if(!o)throw new Je("Unable to normalize signature.");return s}const q2e=n=>{const e=typeof n=="string"?n:hS(n);return W2e(e)};function _le(n){return t2e(q2e(n))}const aC=_le,Jw=n=>n0(_le(n),0,4);function pp(n){const{abi:e,args:r=[],name:i}=n,s=jl(i,{strict:!1}),o=e.filter(l=>s?l.type==="function"?Jw(l)===i:l.type==="event"?aC(l)===i:!1:"name"in l&&l.name===i);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return l;continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((u,d)=>{const h="inputs"in l&&l.inputs[d];return h?W8(u,h):!1})){if(a&&"inputs"in a&&a.inputs){const u=kle(l.inputs,a.inputs,r);if(u)throw new Wke({abiItem:l,type:u[0]},{abiItem:a,type:u[1]})}a=l}}return a||o[0]}function W8(n,e){const r=typeof n,i=e.type;switch(i){case"address":return ho(n,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>W8(Object.values(n)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?r==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(n)&&n.every(s=>W8(s,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function kle(n,e,r){for(const i in n){const s=n[i],o=e[i];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return kle(s.components,o.components,r[i]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?ho(r[i],{strict:!1}):a.includes("address")&&a.includes("bytes")?ho(r[i],{strict:!1}):!1)return a}}const W6="/docs/contract/decodeFunctionResult";function mp(n){const{abi:e,args:r,functionName:i,data:s}=n;let o=e[0];if(i){const l=pp({abi:e,args:r,name:i});if(!l)throw new Jg(i,{docsPath:W6});o=l}if(o.type!=="function")throw new Jg(void 0,{docsPath:W6});if(!o.outputs)throw new Vae(o.name,{docsPath:W6});const a=Qw(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const q$="/docs/contract/encodeFunctionData";function H2e(n){const{abi:e,args:r,functionName:i}=n;let s=e[0];if(i){const o=pp({abi:e,args:r,name:i});if(!o)throw new Jg(i,{docsPath:q$});s=o}if(s.type!=="function")throw new Jg(void 0,{docsPath:q$});return{abi:[s],functionName:Jw(Da(s))}}function Ua(n){const{args:e}=n,{abi:r,functionName:i}=(()=>{var l;return n.abi.length===1&&((l=n.functionName)!=null&&l.startsWith("0x"))?n:H2e(n)})(),s=r[0],o=i,a="inputs"in s&&s.inputs?fp(s.inputs,e??[]):void 0;return q0([o,a??"0x"])}class q8 extends Je{constructor({blockNumber:e,chain:r,contract:i}){super(`Chain "${r.name}" does not support contract "${i.name}".`,{metaMessages:["This could be due to any of the following:",...e&&i.blockCreated&&i.blockCreated>e?[`- The contract "${i.name}" was not deployed until block ${i.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${i.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Sle extends Je{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function V0({blockNumber:n,chain:e,contract:r}){var s;const i=(s=e==null?void 0:e.contracts)==null?void 0:s[r];if(!i)throw new q8({chain:e,contract:{name:r}});if(n&&i.blockCreated&&i.blockCreated>n)throw new q8({blockNumber:n,chain:e,contract:{name:r,blockCreated:i.blockCreated}});return i.address}function Fi(n){return typeof n=="string"?{address:n,type:"json-rpc"}:n}const V2e={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Cle={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},G2e={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Y2e(n){const{abi:e,data:r}=n,i=n0(r,0,4);if(i==="0x")throw new Xw;const o=[...e||[],Cle,G2e].find(a=>a.type==="error"&&i===Jw(Da(a)));if(!o)throw new Hae(i,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Qw(o.inputs,n0(r,4)):void 0,errorName:o.name}}const ai=(n,e,r)=>JSON.stringify(n,(i,s)=>typeof s=="bigint"?s.toString():s,r);function Ele({abiItem:n,args:e,includeFunctionName:r=!0,includeName:i=!1}){if("name"in n&&"inputs"in n&&n.inputs)return`${r?n.name:""}(${n.inputs.map((s,o)=>`${i&&s.name?`${s.name}: `:""}${typeof e[o]=="object"?ai(e[o]):e[o]}`).join(", ")})`}const K2e={gwei:9,wei:18},X2e={ether:-9,wei:9};function Ale(n,e){let r=n.toString();const i=r.startsWith("-");i&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,o]=[r.slice(0,r.length-e),r.slice(r.length-e)];return o=o.replace(/(0+)$/,""),`${i?"-":""}${s||"0"}${o?`.${o}`:""}`}function Rj(n,e="wei"){return Ale(n,K2e[e])}function Ds(n,e="wei"){return Ale(n,X2e[e])}class Q2e extends Je{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class J2e extends Je{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function H$(n){return n.reduce((e,{slot:r,value:i})=>`${e}        ${r}: ${i}
`,"")}function Z2e(n){return n.reduce((e,{address:r,...i})=>{let s=`${e}    ${r}:
`;return i.nonce&&(s+=`      nonce: ${i.nonce}
`),i.balance&&(s+=`      balance: ${i.balance}
`),i.code&&(s+=`      code: ${i.code}
`),i.state&&(s+=`      state:
`,s+=H$(i.state)),i.stateDiff&&(s+=`      stateDiff:
`,s+=H$(i.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Zw(n){const e=Object.entries(n).map(([i,s])=>s===void 0||s===!1?null:[i,s]).filter(Boolean),r=e.reduce((i,[s])=>Math.max(i,s.length),0);return e.map(([i,s])=>`  ${`${i}:`.padEnd(r+1)}  ${s}`).join(`
`)}class eCe extends Je{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Zw(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class tCe extends Je{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f}){var m;const p=Zw({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${Rj(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${Ds(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ds(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ds(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Tle extends Je{constructor({blockHash:e,blockNumber:r,blockTag:i,hash:s,index:o}){let a="Transaction";i&&o!==void 0&&(a=`Transaction at block time "${i}" at index "${o}"`),e&&o!==void 0&&(a=`Transaction at block hash "${e}" at index "${o}"`),r&&o!==void 0&&(a=`Transaction at block number "${r}" at index "${o}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class Ple extends Je{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class nCe extends Je{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class rCe extends Je{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const iCe=n=>n,Nj=n=>n;class Ile extends Je{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f,stateOverride:p}){var y;const m=r?Fi(r):void 0;let b=Zw({from:m==null?void 0:m.address,to:h,value:typeof f<"u"&&`${Rj(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${Ds(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ds(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ds(u)} gwei`,nonce:d});p&&(b+=`
${Z2e(p)}`),super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Mle extends Je{constructor(e,{abi:r,args:i,contractAddress:s,docsPath:o,functionName:a,sender:l}){const c=pp({abi:r,args:i,name:a}),u=c?Ele({abiItem:c,args:i,includeFunctionName:!1,includeName:!1}):void 0,d=c?Da(c,{includeName:!0}):void 0,h=Zw({address:s&&iCe(s),function:d,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:l});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=i,this.cause=e,this.contractAddress=s,this.functionName=a,this.sender=l}}class H8 extends Je{constructor({abi:e,data:r,functionName:i,message:s}){let o,a,l,c;if(r&&r!=="0x")try{a=Y2e({abi:e,data:r});const{abiItem:d,errorName:h,args:f}=a;if(h==="Error")c=f[0];else if(h==="Panic"){const[p]=f;c=V2e[p]}else{const p=d?Da(d,{includeName:!0}):void 0,m=d&&f?Ele({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;l=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof Hae&&(u=o.signature,l=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${i}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${i}" reverted.`,{cause:o,metaMessages:l,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=r,this.reason=c,this.signature=u}}class sCe extends Je{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class oCe extends Je{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class lC extends Je{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function jj(n){var r,i,s,o,a,l;if(!(n instanceof Je))return!1;const e=n.walk(c=>c instanceof H8);return e instanceof H8?((r=e.data)==null?void 0:r.errorName)==="HttpError"||((i=e.data)==null?void 0:i.errorName)==="ResolverError"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=e.data)==null?void 0:o.errorName)==="ResolverNotFound"||((a=e.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((l=e.data)==null?void 0:l.errorName)==="UnsupportedResolverProfile":!1}function aCe(n){const{abi:e,data:r}=n,i=n0(r,0,4),s=e.find(o=>o.type==="function"&&i===Jw(Da(o)));if(!s)throw new Uke(i,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Qw(s.inputs,n0(r,4)):void 0}}const q6="/docs/contract/encodeErrorResult";function V$(n){const{abi:e,errorName:r,args:i}=n;let s=e[0];if(r){const c=pp({abi:e,args:i,name:r});if(!c)throw new I$(r,{docsPath:q6});s=c}if(s.type!=="error")throw new I$(void 0,{docsPath:q6});const o=Da(s),a=Jw(o);let l="0x";if(i&&i.length>0){if(!s.inputs)throw new Fke(s.name,{docsPath:q6});l=fp(s.inputs,i)}return q0([a,l])}const H6="/docs/contract/encodeFunctionResult";function lCe(n){const{abi:e,functionName:r,result:i}=n;let s=e[0];if(r){const a=pp({abi:e,name:r});if(!a)throw new Jg(r,{docsPath:H6});s=a}if(s.type!=="function")throw new Jg(void 0,{docsPath:H6});if(!s.outputs)throw new Vae(s.name,{docsPath:H6});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[i];if(Array.isArray(i))return i;throw new Gae(i)})();return fp(s.outputs,o)}const cC="x-batch-gateway:true";async function cCe(n){const{data:e,ccipRequest:r}=n,{args:[i]}=aCe({abi:j8,data:e}),s=[],o=[];return await Promise.all(i.map(async(a,l)=>{try{o[l]=a.urls.includes(cC)?await cCe({data:a.data,ccipRequest:r}):await r(a),s[l]=!1}catch(c){s[l]=!0,o[l]=uCe(c)}})),lCe({abi:j8,functionName:"query",result:[s,o]})}function uCe(n){return n.name==="HttpRequestError"&&n.status?V$({abi:j8,errorName:"HttpError",args:[n.status,n.shortMessage]}):V$({abi:[Cle],errorName:"Error",args:["shortMessage"in n?n.shortMessage:n.message]})}function Ole(n){if(n.length!==66||n.indexOf("[")!==0||n.indexOf("]")!==65)return null;const e=`0x${n.slice(1,65)}`;return jl(e)?e:null}function V8(n){let e=new Uint8Array(32).fill(0);if(!n)return qr(e);const r=n.split(".");for(let i=r.length-1;i>=0;i-=1){const s=Ole(r[i]),o=s?W0(s):vi(kf(r[i]),"bytes");e=vi($l([e,o]),"bytes")}return qr(e)}function dCe(n){return`[${n.slice(2)}]`}function hCe(n){const e=new Uint8Array(32).fill(0);return n?Ole(n)||vi(kf(n)):qr(e)}function Bj(n){const e=n.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(kf(e).byteLength+2);let i=0;const s=e.split(".");for(let o=0;o<s.length;o++){let a=kf(s[o]);a.byteLength>255&&(a=kf(dCe(hCe(s[o])))),r[i]=a.length,r.set(a,i+1),i+=a.length+1}return r.byteLength!==i+1?r.slice(0,i+1):r}function Rt(n,e,r){const i=n[e.name];if(typeof i=="function")return i;const s=n[r];return typeof s=="function"?s:o=>e(n,o)}class Vy extends Je{constructor({body:e,cause:r,details:i,headers:s,status:o,url:a}){super("HTTP request failed.",{cause:r,details:i,metaMessages:[o&&`Status: ${o}`,`URL: ${Nj(a)}`,e&&`Request body: ${ai(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=o,this.url=a}}class Lj extends Je{constructor({body:e,error:r,url:i}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Nj(i)}`,`Request body: ${ai(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=i}}class G$ extends Je{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Nj(r)}`,`Request body: ${ai(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const fCe=-1;class Fs extends Je{constructor(e,{code:r,docsPath:i,metaMessages:s,name:o,shortMessage:a}){super(a,{cause:e,docsPath:i,metaMessages:s||(e==null?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof Lj?e.code:r??fCe}}class yo extends Fs{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Rv extends Fs{constructor(e){super(e,{code:Rv.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Rv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Nv extends Fs{constructor(e){super(e,{code:Nv.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Nv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class jv extends Fs{constructor(e,{method:r}={}){super(e,{code:jv.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bv extends Fs{constructor(e){super(e,{code:Bv.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Wf extends Fs{constructor(e){super(e,{code:Wf.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Wf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Hd extends Fs{constructor(e){super(e,{code:Hd.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Lv extends Fs{constructor(e){super(e,{code:Lv.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Lv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Il extends Fs{constructor(e){super(e,{code:Il.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Il,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Fv extends Fs{constructor(e){super(e,{code:Fv.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Fv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Xh extends Fs{constructor(e,{method:r}={}){super(e,{code:Xh.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class r0 extends Fs{constructor(e){super(e,{code:r0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(r0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class $v extends Fs{constructor(e){super(e,{code:$v.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty($v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class An extends yo{constructor(e){super(e,{code:An.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zv extends yo{constructor(e){super(e,{code:zv.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Uv extends yo{constructor(e,{method:r}={}){super(e,{code:Uv.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Uv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Wv extends yo{constructor(e){super(e,{code:Wv.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class qv extends yo{constructor(e){super(e,{code:qv.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class so extends yo{constructor(e){super(e,{code:so.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(so,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Hv extends yo{constructor(e){super(e,{code:Hv.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Hv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Vv extends yo{constructor(e){super(e,{code:Vv.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Gv extends yo{constructor(e){super(e,{code:Gv.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Yv extends yo{constructor(e){super(e,{code:Yv.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Kv extends yo{constructor(e){super(e,{code:Kv.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Kv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Xv extends yo{constructor(e){super(e,{code:Xv.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Qv extends yo{constructor(e){super(e,{code:Qv.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class pCe extends Fs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const mCe=3;function i0(n,{abi:e,address:r,args:i,docsPath:s,functionName:o,sender:a}){const l=n instanceof lC?n:n instanceof Je?n.walk(m=>"data"in m)||n.walk():{},{code:c,data:u,details:d,message:h,shortMessage:f}=l,p=n instanceof Xw?new sCe({functionName:o}):[mCe,Wf.code].includes(c)&&(u||d||h||f)||c===Hd.code&&d==="execution reverted"&&u?new H8({abi:e,data:typeof u=="object"?u.data:u,functionName:o,message:l instanceof Lj?d:f??h}):n;return new Mle(p,{abi:e,args:i,contractAddress:r,docsPath:s,functionName:o,sender:a})}const gCe="modulepreload",bCe=function(n){return"/"+n},Y$={},ht=function(e,r,i){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=bCe(c),c in Y$)return;Y$[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":gCe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},yCe="0.1.1";function vCe(){return yCe}let sn=class mc extends Error{static setStaticOptions(e){mc.prototype.docsOrigin=e.docsOrigin,mc.prototype.showVersion=e.showVersion,mc.prototype.version=e.version}constructor(e,r={}){const i=(()=>{var d;if(r.cause instanceof mc){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(d=r.cause)!=null&&d.message?r.cause.message:r.details})(),s=r.cause instanceof mc&&r.cause.docsPath||r.docsPath,o=r.docsOrigin??mc.prototype.docsOrigin,a=`${o}${s??""}`,l=!!(r.version??mc.prototype.showVersion),c=r.version??mc.prototype.version,u=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...i||s||l?["",i?`Details: ${i}`:void 0,s?`See: ${a}`:void 0,l?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=r.cause,this.details=i,this.docs=a,this.docsOrigin=o,this.docsPath=s,this.shortMessage=e,this.showVersion=l,this.version=c}walk(e){return Dle(this,e)}};Object.defineProperty(sn,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${vCe()}`}});sn.setStaticOptions(sn.defaultStaticOptions);function Dle(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause?Dle(n.cause,e):e?null:n}function ex(n,e){if(Mm(n)>e)throw new jCe({givenSize:Mm(n),maxSize:e})}const sc={zero:48,nine:57,A:65,F:70,a:97,f:102};function K$(n){if(n>=sc.zero&&n<=sc.nine)return n-sc.zero;if(n>=sc.A&&n<=sc.F)return n-(sc.A-10);if(n>=sc.a&&n<=sc.f)return n-(sc.a-10)}function wCe(n,e={}){const{dir:r,size:i=32}=e;if(i===0)return n;if(n.length>i)throw new BCe({size:n.length,targetSize:i,type:"Bytes"});const s=new Uint8Array(i);for(let o=0;o<i;o++){const a=r==="right";s[a?o:i-o-1]=n[a?o:n.length-o-1]}return s}function Rle(n,e={}){const{dir:r="left"}=e;let i=n,s=0;for(let o=0;o<i.length-1&&i[r==="left"?o:i.length-o-1].toString()==="0";o++)s++;return i=r==="left"?i.slice(s):i.slice(0,i.length-s),i}function uC(n,e){if(fo(n)>e)throw new WCe({givenSize:fo(n),maxSize:e})}function xCe(n,e){if(typeof e=="number"&&e>0&&e>fo(n)-1)throw new Wle({offset:e,position:"start",size:fo(n)})}function _Ce(n,e,r){if(typeof e=="number"&&typeof r=="number"&&fo(n)!==r-e)throw new Wle({offset:r,position:"end",size:fo(n)})}function Nle(n,e={}){const{dir:r,size:i=32}=e;if(i===0)return n;const s=n.replace("0x","");if(s.length>i*2)throw new qCe({size:Math.ceil(s.length/2),targetSize:i,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](i*2,"0")}`}const kCe="#__bigint";function jle(n,e,r){return JSON.stringify(n,(i,s)=>typeof s=="bigint"?s.toString()+kCe:s,r)}const SCe=new TextDecoder,CCe=new TextEncoder;function ECe(n){return n instanceof Uint8Array?n:typeof n=="string"?Ble(n):ACe(n)}function ACe(n){return n instanceof Uint8Array?n:new Uint8Array(n)}function Ble(n,e={}){const{size:r}=e;let i=n;r&&(uC(n,r),i=Hf(n,r));let s=i.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,a=new Uint8Array(o);for(let l=0,c=0;l<o;l++){const u=K$(s.charCodeAt(c++)),d=K$(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new sn(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);a[l]=u<<4|d}return a}function TCe(n,e={}){const{size:r}=e,i=CCe.encode(n);return typeof r=="number"?(ex(i,r),PCe(i,r)):i}function PCe(n,e){return wCe(n,{dir:"right",size:e})}function Mm(n){return n.length}function ICe(n,e,r,i={}){const{strict:s}=i;return n.slice(e,r)}function MCe(n,e={}){const{size:r}=e;typeof r<"u"&&ex(n,r);const i=Na(n,e);return $le(i,e)}function OCe(n,e={}){const{size:r}=e;let i=n;if(typeof r<"u"&&(ex(i,r),i=Lle(i)),i.length>1||i[0]>1)throw new NCe(i);return!!i[0]}function qc(n,e={}){const{size:r}=e;typeof r<"u"&&ex(n,r);const i=Na(n,e);return zle(i,e)}function DCe(n,e={}){const{size:r}=e;let i=n;return typeof r<"u"&&(ex(i,r),i=RCe(i)),SCe.decode(i)}function Lle(n){return Rle(n,{dir:"left"})}function RCe(n){return Rle(n,{dir:"right"})}class NCe extends sn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let jCe=class extends sn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},BCe=class extends sn{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const LCe=new TextEncoder,FCe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function $Ce(n,e={}){const{strict:r=!1}=e;if(!n)throw new X$(n);if(typeof n!="string")throw new X$(n);if(r&&!/^0x[0-9a-fA-F]*$/.test(n))throw new Q$(n);if(!n.startsWith("0x"))throw new Q$(n)}function Ra(...n){return`0x${n.reduce((e,r)=>e+r.replace("0x",""),"")}`}function zCe(n){return n instanceof Uint8Array?Na(n):Array.isArray(n)?Na(new Uint8Array(n)):n}function Fle(n,e={}){const r=`0x${Number(n)}`;return typeof e.size=="number"?(uC(r,e.size),qf(r,e.size)):r}function Na(n,e={}){let r="";for(let s=0;s<n.length;s++)r+=FCe[n[s]];const i=`0x${r}`;return typeof e.size=="number"?(uC(i,e.size),Hf(i,e.size)):i}function Ji(n,e={}){const{signed:r,size:i}=e,s=BigInt(n);let o;i?r?o=(1n<<BigInt(i)*8n-1n)-1n:o=2n**(BigInt(i)*8n)-1n:typeof n=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<a){const u=typeof n=="bigint"?"n":"";throw new Ule({max:o?`${o}${u}`:void 0,min:`${a}${u}`,signed:r,size:i,value:`${n}${u}`})}const c=`0x${(r&&s<0?BigInt.asUintN(i*8,BigInt(s)):s).toString(16)}`;return i?qf(c,i):c}function Fj(n,e={}){return Na(LCe.encode(n),e)}function qf(n,e){return Nle(n,{dir:"left",size:e})}function Hf(n,e){return Nle(n,{dir:"right",size:e})}function Ml(n,e,r,i={}){const{strict:s}=i;xCe(n,e);const o=`0x${n.replace("0x","").slice((e??0)*2,(r??n.length)*2)}`;return s&&_Ce(o,e,r),o}function fo(n){return Math.ceil((n.length-2)/2)}function $le(n,e={}){const{signed:r}=e;e.size&&uC(n,e.size);const i=BigInt(n);if(!r)return i;const s=(n.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,a=o>>1n;return i<=a?i:i-o-1n}function zle(n,e={}){const{signed:r,size:i}=e;return Number(!r&&!i?n:$le(n,e))}function UCe(n,e={}){const{strict:r=!1}=e;try{return $Ce(n,{strict:r}),!0}catch{return!1}}class Ule extends sn{constructor({max:e,min:r,signed:i,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${i?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class X$ extends sn{constructor(e){super(`Value \`${typeof e=="object"?jle(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Q$ extends sn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class WCe extends sn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Wle extends sn{constructor({offset:e,position:r,size:i}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${i}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class qCe extends sn{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function HCe(n){return{address:n.address,amount:Ji(n.amount),index:Ji(n.index),validatorIndex:Ji(n.validatorIndex)}}function qle(n){return{...typeof n.baseFeePerGas=="bigint"&&{baseFeePerGas:Ji(n.baseFeePerGas)},...typeof n.blobBaseFee=="bigint"&&{blobBaseFee:Ji(n.blobBaseFee)},...typeof n.feeRecipient=="string"&&{feeRecipient:n.feeRecipient},...typeof n.gasLimit=="bigint"&&{gasLimit:Ji(n.gasLimit)},...typeof n.number=="bigint"&&{number:Ji(n.number)},...typeof n.prevRandao=="bigint"&&{prevRandao:Ji(n.prevRandao)},...typeof n.time=="bigint"&&{time:Ji(n.time)},...n.withdrawals&&{withdrawals:n.withdrawals.map(HCe)}}}const VCe="0x82ad56cb",Hle="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",GCe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",YCe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",$j="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",V6="/docs/contract/encodeDeployData";function zj(n){const{abi:e,args:r,bytecode:i}=n;if(!r||r.length===0)return i;const s=e.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new Nke({docsPath:V6});if(!("inputs"in s))throw new P$({docsPath:V6});if(!s.inputs||s.inputs.length===0)throw new P$({docsPath:V6});const o=fp(s.inputs,r);return q0([i,o])}class Om extends Je{constructor({cause:e,message:r}={}){var s;const i=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Om,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Om,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class fS extends Je{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Ds(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(fS,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class G8 extends Je{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Ds(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(G8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Y8 extends Je{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Y8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class K8 extends Je{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(K8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class X8 extends Je{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(X8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Q8 extends Je{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Q8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class J8 extends Je{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(J8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Z8 extends Je{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Z8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class eR extends Je{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(eR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class pS extends Je{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Ds(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${Ds(i)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(pS,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class tx extends Je{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function dC(n,e){const r=(n.details||"").toLowerCase(),i=n instanceof Je?n.walk(s=>(s==null?void 0:s.code)===Om.code):n;return i instanceof Je?new Om({cause:n,message:i.details}):Om.nodeMessage.test(r)?new Om({cause:n,message:n.details}):fS.nodeMessage.test(r)?new fS({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):G8.nodeMessage.test(r)?new G8({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Y8.nodeMessage.test(r)?new Y8({cause:n,nonce:e==null?void 0:e.nonce}):K8.nodeMessage.test(r)?new K8({cause:n,nonce:e==null?void 0:e.nonce}):X8.nodeMessage.test(r)?new X8({cause:n,nonce:e==null?void 0:e.nonce}):Q8.nodeMessage.test(r)?new Q8({cause:n}):J8.nodeMessage.test(r)?new J8({cause:n,gas:e==null?void 0:e.gas}):Z8.nodeMessage.test(r)?new Z8({cause:n,gas:e==null?void 0:e.gas}):eR.nodeMessage.test(r)?new eR({cause:n}):pS.nodeMessage.test(r)?new pS({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new tx({cause:n})}function Vle(n,{docsPath:e,...r}){const i=(()=>{const s=dC(n,r);return s instanceof tx?n:s})();return new Ile(i,{docsPath:e,...r})}function hC(n,{format:e}){if(!e)return{};const r={};function i(o){const a=Object.keys(o);for(const l of a)l in n&&(r[l]=n[l]),o[l]&&typeof o[l]=="object"&&!Array.isArray(o[l])&&i(o[l])}const s=e(n||{});return i(s),r}const KCe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function nx(n,e){const r={};return typeof n.authorizationList<"u"&&(r.authorizationList=XCe(n.authorizationList)),typeof n.accessList<"u"&&(r.accessList=n.accessList),typeof n.blobVersionedHashes<"u"&&(r.blobVersionedHashes=n.blobVersionedHashes),typeof n.blobs<"u"&&(typeof n.blobs[0]!="string"?r.blobs=n.blobs.map(i=>qr(i)):r.blobs=n.blobs),typeof n.data<"u"&&(r.data=n.data),n.account&&(r.from=n.account.address),typeof n.from<"u"&&(r.from=n.from),typeof n.gas<"u"&&(r.gas=kt(n.gas)),typeof n.gasPrice<"u"&&(r.gasPrice=kt(n.gasPrice)),typeof n.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=kt(n.maxFeePerBlobGas)),typeof n.maxFeePerGas<"u"&&(r.maxFeePerGas=kt(n.maxFeePerGas)),typeof n.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=kt(n.maxPriorityFeePerGas)),typeof n.nonce<"u"&&(r.nonce=kt(n.nonce)),typeof n.to<"u"&&(r.to=n.to),typeof n.type<"u"&&(r.type=KCe[n.type]),typeof n.value<"u"&&(r.value=kt(n.value)),r}function XCe(n){return n.map(e=>({address:e.address,r:e.r?kt(BigInt(e.r)):e.r,s:e.s?kt(BigInt(e.s)):e.s,chainId:kt(e.chainId),nonce:kt(e.nonce),...typeof e.yParity<"u"?{yParity:kt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:kt(e.v)}:{}}))}function Gle(){let n=()=>{},e=()=>{};return{promise:new Promise((i,s)=>{n=i,e=s}),resolve:n,reject:e}}const G6=new Map;function Yle({fn:n,id:e,shouldSplitBatch:r,wait:i=0,sort:s}){const o=async()=>{const d=c();a();const h=d.map(({args:f})=>f);h.length!==0&&n(h).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let p=0;p<d.length;p++){const{resolve:m}=d[p];m==null||m([f[p],f])}}).catch(f=>{for(let p=0;p<d.length;p++){const{reject:m}=d[p];m==null||m(f)}})},a=()=>G6.delete(e),l=()=>c().map(({args:d})=>d),c=()=>G6.get(e)||[],u=d=>G6.set(e,[...c(),d]);return{flush:a,async schedule(d){const{promise:h,resolve:f,reject:p}=Gle();return(r==null?void 0:r([...l(),d]))&&o(),c().length>0?(u({args:d,resolve:f,reject:p}),h):(u({args:d,resolve:f,reject:p}),setTimeout(o,i),h)}}}function J$(n){if(!(!n||n.length===0))return n.reduce((e,{slot:r,value:i})=>{if(r.length!==66)throw new O$({size:r.length,targetSize:66,type:"hex"});if(i.length!==66)throw new O$({size:i.length,targetSize:66,type:"hex"});return e[r]=i,e},{})}function QCe(n){const{balance:e,nonce:r,state:i,stateDiff:s,code:o}=n,a={};if(o!==void 0&&(a.code=o),e!==void 0&&(a.balance=kt(e)),r!==void 0&&(a.nonce=kt(r)),i!==void 0&&(a.state=J$(i)),s!==void 0){if(a.state)throw new J2e;a.stateDiff=J$(s)}return a}function Uj(n){if(!n)return;const e={};for(const{address:r,...i}of n){if(!ho(r,{strict:!1}))throw new qd({address:r});if(e[r])throw new Q2e({address:r});e[r]=QCe(i)}return e}const JCe=2n**256n-1n;function G0(n){const{account:e,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=n,o=e?Fi(e):void 0;if(o&&!ho(o.address))throw new qd({address:o.address});if(s&&!ho(s))throw new qd({address:s});if(r&&r>JCe)throw new fS({maxFeePerGas:r});if(i&&r&&i>r)throw new pS({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function fC(n,e){var $,z,D,j;const{account:r=n.account,authorizationList:i,batch:s=!!(($=n.batch)!=null&&$.multicall),blockNumber:o,blockTag:a=n.experimental_blockTag??"latest",accessList:l,blobs:c,blockOverrides:u,code:d,data:h,factory:f,factoryData:p,gas:m,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:_,to:x,value:k,stateOverride:C,...E}=e,T=r?Fi(r):void 0;if(d&&(f||p))throw new Je("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&x)throw new Je("Cannot provide both `code` & `to` as parameters.");const M=d&&h,I=f&&p&&x&&h,O=M||I,F=M?Kle({code:d,data:h}):I?tEe({data:h,factory:f,factoryData:p,to:x}):h;try{G0(e);const R=(typeof o=="bigint"?kt(o):void 0)||a,H=u?qle(u):void 0,U=Uj(C),K=(j=(D=(z=n.chain)==null?void 0:z.formatters)==null?void 0:D.transactionRequest)==null?void 0:j.format,Z=(K||nx)({...hC(E,{format:K}),accessList:l,account:T,authorizationList:i,blobs:c,data:F,gas:m,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:_,to:O?void 0:x,value:k},"call");if(s&&ZCe({request:Z})&&!U&&!H)try{return await eEe(n,{...Z,blockNumber:o,blockTag:a})}catch(ae){if(!(ae instanceof Sle)&&!(ae instanceof q8))throw ae}const G=(()=>{const ae=[Z,R];return U&&H?[...ae,U,H]:U?[...ae,U]:H?[...ae,{},H]:ae})(),X=await n.request({method:"eth_call",params:G});return X==="0x"?{data:void 0}:{data:X}}catch(N){const R=nEe(N),{offchainLookup:H,offchainLookupSignature:U}=await ht(async()=>{const{offchainLookup:K,offchainLookupSignature:Y}=await import("./ccip-DmTZFcZ5.js");return{offchainLookup:K,offchainLookupSignature:Y}},[]);if(n.ccipRead!==!1&&(R==null?void 0:R.slice(0,10))===U&&x)return{data:await H(n,{data:R,to:x})};throw O&&(R==null?void 0:R.slice(0,10))==="0x101bb98d"?new oCe({factory:f}):Vle(N,{...e,account:T,chain:n.chain})}}function ZCe({request:n}){const{data:e,to:r,...i}=n;return!(!e||e.startsWith(VCe)||!r||Object.values(i).filter(s=>typeof s<"u").length>0)}async function eEe(n,e){var b;const{batchSize:r=1024,deployless:i=!1,wait:s=0}=typeof((b=n.batch)==null?void 0:b.multicall)=="object"?n.batch.multicall:{},{blockNumber:o,blockTag:a=n.experimental_blockTag??"latest",data:l,to:c}=e,u=(()=>{if(i)return null;if(e.multicallAddress)return e.multicallAddress;if(n.chain)return V0({blockNumber:o,chain:n.chain,contract:"multicall3"});throw new Sle})(),h=(typeof o=="bigint"?kt(o):void 0)||a,{schedule:f}=Yle({id:`${n.uid}.${h}`,wait:s,shouldSplitBatch(y){return y.reduce((w,{data:_})=>w+(_.length-2),0)>r*2},fn:async y=>{const v=y.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),w=Ua({abi:uS,args:[v],functionName:"aggregate3"}),_=await n.request({method:"eth_call",params:[{...u===null?{data:Kle({code:$j,data:w})}:{to:u,data:w}},h]});return mp({abi:uS,args:[v],functionName:"aggregate3",data:_||"0x"})}}),[{returnData:p,success:m}]=await f({data:l,to:c});if(!m)throw new lC({data:p});return p==="0x"?{data:void 0}:{data:p}}function Kle(n){const{code:e,data:r}=n;return zj({abi:xle(["constructor(bytes, bytes)"]),bytecode:Hle,args:[e,r]})}function tEe(n){const{data:e,factory:r,factoryData:i,to:s}=n;return zj({abi:xle(["constructor(address, bytes, address, bytes)"]),bytecode:GCe,args:[s,e,r,i]})}function nEe(n){var r;if(!(n instanceof Je))return;const e=n.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}async function ja(n,e){const{abi:r,address:i,args:s,functionName:o,...a}=e,l=Ua({abi:r,args:s,functionName:o});try{const{data:c}=await Rt(n,fC,"call")({...a,data:l,to:i});return mp({abi:r,args:s,functionName:o,data:c||"0x"})}catch(c){throw i0(c,{abi:r,address:i,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function rEe(n,e){const{blockNumber:r,blockTag:i,coinType:s,name:o,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return V0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;const h=s!=null?[V8(o),BigInt(s)]:[V8(o)];try{const f=Ua({abi:A$,functionName:"addr",args:h}),p={address:u,abi:$ae,functionName:"resolveWithGateways",args:[au(Bj(o)),f,a??[cC]],blockNumber:r,blockTag:i},b=await Rt(n,ja,"readContract")(p);if(b[0]==="0x")return null;const y=mp({abi:A$,args:h,functionName:"addr",data:b[0]});return y==="0x"||_f(y)==="0x00"?null:y}catch(f){if(l)throw f;if(jj(f))return null;throw f}}class iEe extends Je{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Db extends Je{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Wj extends Je{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class sEe extends Je{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const oEe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,aEe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,lEe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,cEe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function uEe(n){try{const e=await fetch(n,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const i=new Image;i.onload=()=>{r(!0)},i.onerror=()=>{r(!1)},i.src=n})}}function Z$(n,e){return n?n.endsWith("/")?n.slice(0,-1):n:e}function Xle({uri:n,gatewayUrls:e}){const r=lEe.test(n);if(r)return{uri:n,isOnChain:!0,isEncoded:r};const i=Z$(e==null?void 0:e.ipfs,"https://ipfs.io"),s=Z$(e==null?void 0:e.arweave,"https://arweave.net"),o=n.match(oEe),{protocol:a,subpath:l,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=a==="ipns:/"||l==="ipns/",h=a==="ipfs:/"||l==="ipfs/"||aEe.test(n);if(n.startsWith("http")&&!d&&!h){let p=n;return e!=null&&e.arweave&&(p=n.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||h)&&c)return{uri:`${i}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=n.replace(cEe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Wj({uri:n})}function Qle(n){if(typeof n!="object"||!("image"in n)&&!("image_url"in n)&&!("image_data"in n))throw new iEe({data:n});return n.image||n.image_url||n.image_data}async function dEe({gatewayUrls:n,uri:e}){try{const r=await fetch(e).then(s=>s.json());return await qj({gatewayUrls:n,uri:Qle(r)})}catch{throw new Wj({uri:e})}}async function qj({gatewayUrls:n,uri:e}){const{uri:r,isOnChain:i}=Xle({uri:e,gatewayUrls:n});if(i||await uEe(r))return r;throw new Wj({uri:e})}function hEe(n){let e=n;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,i,s]=e.split("/"),[o,a]=r.split(":"),[l,c]=i.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Db({reason:"Only EIP-155 supported"});if(!a)throw new Db({reason:"Chain ID not found"});if(!c)throw new Db({reason:"Contract address not found"});if(!s)throw new Db({reason:"Token ID not found"});if(!l)throw new Db({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:l.toLowerCase(),contractAddress:c,tokenID:s}}async function fEe(n,{nft:e}){if(e.namespace==="erc721")return ja(n,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ja(n,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new sEe({namespace:e.namespace})}async function pEe(n,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?mEe(n,{gatewayUrls:e,record:r}):qj({uri:r,gatewayUrls:e})}async function mEe(n,{gatewayUrls:e,record:r}){const i=hEe(r),s=await fEe(n,{nft:i}),{uri:o,isOnChain:a,isEncoded:l}=Xle({uri:s,gatewayUrls:e});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=l?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return qj({uri:Qle(d),gatewayUrls:e})}let c=i.tokenID;return i.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),dEe({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,c)})}async function Jle(n,e){const{blockNumber:r,blockTag:i,key:s,name:o,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return V0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(h=>o.endsWith(h)))return null;try{const h={address:u,abi:$ae,args:[au(Bj(o)),Ua({abi:E$,functionName:"text",args:[V8(o),s]}),a??[cC]],functionName:"resolveWithGateways",blockNumber:r,blockTag:i},p=await Rt(n,ja,"readContract")(h);if(p[0]==="0x")return null;const m=mp({abi:E$,functionName:"text",data:p[0]});return m===""?null:m}catch(h){if(l)throw h;if(jj(h))return null;throw h}}async function Zle(n,{blockNumber:e,blockTag:r,assetGatewayUrls:i,name:s,gatewayUrls:o,strict:a,universalResolverAddress:l}){const c=await Rt(n,Jle,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:s,universalResolverAddress:l,gatewayUrls:o,strict:a});if(!c)return null;try{return await pEe(n,{record:c,gatewayUrls:i})}catch{return null}}async function ece(n,e){const{address:r,blockNumber:i,blockTag:s,coinType:o=60n,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return V0({blockNumber:i,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:Dke,args:[r,o,a??[cC]],functionName:"reverseWithGateways",blockNumber:i,blockTag:s},h=Rt(n,ja,"readContract"),[f]=await h(d);return f||null}catch(d){if(l)throw d;if(jj(d))return null;throw d}}async function gEe(n,e){const{blockNumber:r,blockTag:i,name:s}=e,{chain:o}=n,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return V0({blockNumber:r,chain:o,contract:"ensUniversalResolver"})})(),l=o==null?void 0:o.ensTlds;if(l&&!l.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${l==null?void 0:l.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await Rt(n,ja,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[au(Bj(s))],blockNumber:r,blockTag:i});return c}async function tce(n,e){var y,v,w;const{account:r=n.account,blockNumber:i,blockTag:s="latest",blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p,...m}=e,b=r?Fi(r):void 0;try{G0(e);const x=(typeof i=="bigint"?kt(i):void 0)||s,k=(w=(v=(y=n.chain)==null?void 0:y.formatters)==null?void 0:v.transactionRequest)==null?void 0:w.format,E=(k||nx)({...hC(m,{format:k}),account:b,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),T=await n.request({method:"eth_createAccessList",params:[E,x]});return{accessList:T.accessList,gasUsed:BigInt(T.gasUsed)}}catch(_){throw Vle(_,{...e,account:b,chain:n.chain})}}function pC(n,{method:e}){var i,s;const r={};return n.transport.type==="fallback"&&((s=(i=n.transport).onResponse)==null||s.call(i,({method:o,response:a,status:l,transport:c})=>{l==="success"&&e===o&&(r[a]=c.request)})),o=>r[o]||n.request}async function bEe(n){const e=pC(n,{method:"eth_newBlockFilter"}),r=await n.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}class yEe extends Je{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const ez="/docs/contract/encodeEventTopics";function rx(n){var c;const{abi:e,eventName:r,args:i}=n;let s=e[0];if(r){const u=pp({abi:e,name:r});if(!u)throw new M$(r,{docsPath:ez});s=u}if(s.type!=="event")throw new M$(void 0,{docsPath:ez});const o=Da(s),a=aC(o);let l=[];if(i&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(h=>"indexed"in h&&h.indexed),d=Array.isArray(i)?i:Object.values(i).length>0?(u==null?void 0:u.map(h=>i[h.name]))??[]:[];d.length>0&&(l=(u==null?void 0:u.map((h,f)=>Array.isArray(d[f])?d[f].map((p,m)=>tz({param:h,value:d[f][m]})):typeof d[f]<"u"&&d[f]!==null?tz({param:h,value:d[f]}):null))??[])}return[a,...l]}function tz({param:n,value:e}){if(n.type==="string"||n.type==="bytes")return vi(W0(e));if(n.type==="tuple"||n.type.match(/^(.*)\[(\d+)?\]$/))throw new yEe(n.type);return fp([n],[e])}async function nce(n,e){const{address:r,abi:i,args:s,eventName:o,fromBlock:a,strict:l,toBlock:c}=e,u=pC(n,{method:"eth_newFilter"}),d=o?rx({abi:i,args:s,eventName:o}):void 0,h=await n.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof a=="bigint"?kt(a):a,toBlock:typeof c=="bigint"?kt(c):c,topics:d}]});return{abi:i,args:s,eventName:o,id:h,request:u(h),strict:!!l,type:"event"}}async function rce(n,{address:e,args:r,event:i,events:s,fromBlock:o,strict:a,toBlock:l}={}){const c=s??(i?[i]:void 0),u=pC(n,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(p=>rx({abi:[p],eventName:p.name,args:r}))],i&&(d=d[0]));const h=await n.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?kt(o):o,toBlock:typeof l=="bigint"?kt(l):l,...d.length?{topics:d}:{}}]});return{abi:c,args:r,eventName:i?i.name:void 0,fromBlock:o,id:h,request:u(h),strict:!!a,toBlock:l,type:"event"}}async function ice(n){const e=pC(n,{method:"eth_newPendingTransactionFilter"}),r=await n.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}function vEe(n){const e=vi(`0x${n.substring(4)}`).substring(26);return sC(`0x${e}`)}async function wEe({hash:n,signature:e}){const r=jl(n)?n:au(n),{secp256k1:i}=await ht(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>z3e);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:h,yParity:f}=e,p=Number(f??h),m=nz(p);return new i.Signature(Bl(u),Bl(d)).addRecoveryBit(m)}const a=jl(e)?e:au(e);if(br(a)!==65)throw new Error("invalid signature length");const l=Ll(`0x${a.slice(130)}`),c=nz(l);return i.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function nz(n){if(n===0||n===1)return n;if(n===27)return 0;if(n===28)return 1;throw new Error("Invalid yParityOrV value")}async function sce({hash:n,signature:e}){return vEe(await wEe({hash:n,signature:e}))}function xEe(n,e="hex"){const r=oce(n),i=Pj(new Uint8Array(r.length));return r.encode(i),e==="hex"?qr(i.bytes):i.bytes}function oce(n){return Array.isArray(n)?_Ee(n.map(e=>oce(e))):kEe(n)}function _Ee(n){const e=n.reduce((s,o)=>s+o.length,0),r=ace(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:o}of n)o(s)}}}function kEe(n){const e=typeof n=="string"?Fl(n):n,r=ace(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function ace(n){if(n<2**8)return 1;if(n<2**16)return 2;if(n<2**24)return 3;if(n<2**32)return 4;throw new Je("Length is too large.")}function SEe(n){const{chainId:e,nonce:r,to:i}=n,s=n.contractAddress??n.address,o=vi(q0(["0x05",xEe([e?kt(e):"0x",s,r?kt(r):"0x"])]));return i==="bytes"?Fl(o):o}async function lce(n){const{authorization:e,signature:r}=n;return sce({hash:SEe(e),signature:r??e})}class CEe extends Je{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f}){var m;const p=Zw({from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${Rj(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${Ds(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ds(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ds(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function EEe(n,{docsPath:e,...r}){const i=(()=>{const s=dC(n,r);return s instanceof tx?n:s})();return new CEe(i,{docsPath:e,...r})}class cce extends Je{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Hj extends Je{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class AEe extends Je{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ds(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class uce extends Je{constructor({blockHash:e,blockNumber:r}){let i="Block";e&&(i=`Block at hash "${e}"`),r&&(i=`Block at number "${r}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}const dce={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Vj(n,e){const r={...n,blockHash:n.blockHash?n.blockHash:null,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,chainId:n.chainId?Ll(n.chainId):void 0,gas:n.gas?BigInt(n.gas):void 0,gasPrice:n.gasPrice?BigInt(n.gasPrice):void 0,maxFeePerBlobGas:n.maxFeePerBlobGas?BigInt(n.maxFeePerBlobGas):void 0,maxFeePerGas:n.maxFeePerGas?BigInt(n.maxFeePerGas):void 0,maxPriorityFeePerGas:n.maxPriorityFeePerGas?BigInt(n.maxPriorityFeePerGas):void 0,nonce:n.nonce?Ll(n.nonce):void 0,to:n.to?n.to:null,transactionIndex:n.transactionIndex?Number(n.transactionIndex):null,type:n.type?dce[n.type]:void 0,typeHex:n.type?n.type:void 0,value:n.value?BigInt(n.value):void 0,v:n.v?BigInt(n.v):void 0};return n.authorizationList&&(r.authorizationList=TEe(n.authorizationList)),r.yParity=(()=>{if(n.yParity)return Number(n.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function TEe(n){return n.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function hce(n,e){const r=(n.transactions??[]).map(i=>typeof i=="string"?i:Vj(i));return{...n,baseFeePerGas:n.baseFeePerGas?BigInt(n.baseFeePerGas):null,blobGasUsed:n.blobGasUsed?BigInt(n.blobGasUsed):void 0,difficulty:n.difficulty?BigInt(n.difficulty):void 0,excessBlobGas:n.excessBlobGas?BigInt(n.excessBlobGas):void 0,gasLimit:n.gasLimit?BigInt(n.gasLimit):void 0,gasUsed:n.gasUsed?BigInt(n.gasUsed):void 0,hash:n.hash?n.hash:null,logsBloom:n.logsBloom?n.logsBloom:null,nonce:n.nonce?n.nonce:null,number:n.number?BigInt(n.number):null,size:n.size?BigInt(n.size):void 0,timestamp:n.timestamp?BigInt(n.timestamp):void 0,transactions:r,totalDifficulty:n.totalDifficulty?BigInt(n.totalDifficulty):null}}async function Ea(n,{blockHash:e,blockNumber:r,blockTag:i=n.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,h;const o=s??!1,a=r!==void 0?kt(r):void 0;let l=null;if(e?l=await n.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):l=await n.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!l)throw new uce({blockHash:e,blockNumber:r});return(((h=(d=(u=n.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||hce)(l,"getBlock")}async function Gj(n){const e=await n.request({method:"eth_gasPrice"});return BigInt(e)}async function PEe(n,e){return fce(n,e)}async function fce(n,e){var o,a;const{block:r,chain:i=n.chain,request:s}=e||{};try{const l=((o=i==null?void 0:i.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=i==null?void 0:i.fees)==null?void 0:a.defaultPriorityFee);if(typeof l=="function"){const u=r||await Rt(n,Ea,"getBlock")({}),d=await l({block:u,client:n,request:s});if(d===null)throw new Error;return d}if(typeof l<"u")return l;const c=await n.request({method:"eth_maxPriorityFeePerGas"});return Bl(c)}catch{const[l,c]=await Promise.all([r?Promise.resolve(r):Rt(n,Ea,"getBlock")({}),Rt(n,Gj,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new Hj;const u=c-l.baseFeePerGas;return u<0n?0n:u}}async function IEe(n,e){return tR(n,e)}async function tR(n,e){var f,p;const{block:r,chain:i=n.chain,request:s,type:o="eip1559"}=e||{},a=await(async()=>{var m,b;return typeof((m=i==null?void 0:i.fees)==null?void 0:m.baseFeeMultiplier)=="function"?i.fees.baseFeeMultiplier({block:r,client:n,request:s}):((b=i==null?void 0:i.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new cce;const c=10**(((f=a.toString().split(".")[1])==null?void 0:f.length)??0),u=m=>m*BigInt(Math.ceil(a*c))/BigInt(c),d=r||await Rt(n,Ea,"getBlock")({});if(typeof((p=i==null?void 0:i.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const m=await i.fees.estimateFeesPerGas({block:r,client:n,multiply:u,request:s,type:o});if(m!==null)return m}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Hj;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await fce(n,{block:d,chain:i,request:s}),b=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await Rt(n,Gj,"getGasPrice")({}))}}async function pce(n,{address:e,blockTag:r="latest",blockNumber:i}){const s=await n.request({method:"eth_getTransactionCount",params:[e,typeof i=="bigint"?kt(i):r]},{dedupe:!!i});return Ll(s)}function mce(n){const{kzg:e}=n,r=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),i=typeof n.blobs[0]=="string"?n.blobs.map(o=>Fl(o)):n.blobs,s=[];for(const o of i)s.push(Uint8Array.from(e.blobToKzgCommitment(o)));return r==="bytes"?s:s.map(o=>qr(o))}function gce(n){const{kzg:e}=n,r=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),i=typeof n.blobs[0]=="string"?n.blobs.map(a=>Fl(a)):n.blobs,s=typeof n.commitments[0]=="string"?n.commitments.map(a=>Fl(a)):n.commitments,o=[];for(let a=0;a<i.length;a++){const l=i[a],c=s[a];o.push(Uint8Array.from(e.computeBlobKzgProof(l,c)))}return r==="bytes"?o:o.map(a=>qr(a))}function MEe(n,e,r,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),c=i?4:0,u=i?0:4;n.setUint32(e+c,a,i),n.setUint32(e+u,l,i)}function OEe(n,e,r){return n&e^~n&r}function DEe(n,e,r){return n&e^n&r^e&r}class REe extends Tj{constructor(e,r,i,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.buffer=new Uint8Array(e),this.view=F6(this.buffer)}update(e){e0(this),e=rC(e),Uf(e);const{view:r,buffer:i,blockLen:s}=this,o=e.length;for(let a=0;a<o;){const l=Math.min(s-this.pos,o-a);if(l===s){const c=F6(e);for(;s<=o-a;a+=s)this.process(c,a);continue}i.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){e0(this),Jae(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,t0(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(i,0),a=0);for(let h=a;h<s;h++)r[h]=0;MEe(i,s-8,BigInt(this.length*8),o),this.process(i,0);const l=F6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)l.setUint32(4*h,d[h],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:l}=this;return e.destroyed=a,e.finished=o,e.length=s,e.pos=l,s%r&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const Ru=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),NEe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nu=new Uint32Array(64);let jEe=class extends REe{constructor(e=32){super(64,e,8,!1),this.A=Ru[0]|0,this.B=Ru[1]|0,this.C=Ru[2]|0,this.D=Ru[3]|0,this.E=Ru[4]|0,this.F=Ru[5]|0,this.G=Ru[6]|0,this.H=Ru[7]|0}get(){const{A:e,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;return[e,r,i,s,o,a,l,c]}set(e,r,i,s,o,a,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)Nu[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=Nu[h-15],p=Nu[h-2],m=Za(f,7)^Za(f,18)^f>>>3,b=Za(p,17)^Za(p,19)^p>>>10;Nu[h]=b+Nu[h-7]+m+Nu[h-16]|0}let{A:i,B:s,C:o,D:a,E:l,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const f=Za(l,6)^Za(l,11)^Za(l,25),p=d+f+OEe(l,c,u)+NEe[h]+Nu[h]|0,b=(Za(i,2)^Za(i,13)^Za(i,22))+DEe(i,s,o)|0;d=u,u=c,c=l,l=a+p|0,a=o,o=s,s=i,i=p+b|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,l,c,u,d)}roundClean(){t0(Nu)}destroy(){this.set(0,0,0,0,0,0,0,0),t0(this.buffer)}};const bce=Zae(()=>new jEe),BEe=bce;function LEe(n,e){return BEe(jl(n,{strict:!1})?W0(n):n)}function FEe(n){const{commitment:e,version:r=1}=n,i=n.to??(typeof e=="string"?"hex":"bytes"),s=LEe(e);return s.set([r],0),i==="bytes"?s:qr(s)}function $Ee(n){const{commitments:e,version:r}=n,i=n.to,s=[];for(const o of e)s.push(FEe({commitment:o,to:i,version:r}));return s}const rz=6,yce=32,Yj=4096,vce=yce*Yj,iz=vce*rz-1-1*Yj*rz;class zEe extends Je{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class UEe extends Je{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function WEe(n){const e=typeof n.data=="string"?Fl(n.data):n.data,r=br(e);if(!r)throw new UEe;if(r>iz)throw new zEe({maxSize:iz,size:r});const i=[];let s=!0,o=0;for(;s;){const a=Pj(new Uint8Array(vce));let l=0;for(;l<Yj;){const c=e.slice(o,o+(yce-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}l++,o+=31}i.push(a)}return i.map(a=>qr(a.bytes))}function qEe(n){const{data:e,kzg:r,to:i}=n,s=n.blobs??WEe({data:e}),o=n.commitments??mce({blobs:s,kzg:r,to:i}),a=n.proofs??gce({blobs:s,commitments:o,kzg:r,to:i}),l=[];for(let c=0;c<s.length;c++)l.push({blob:s[c],commitment:o[c],proof:a[c]});return l}function HEe(n){if(n.type)return n.type;if(typeof n.authorizationList<"u")return"eip7702";if(typeof n.blobs<"u"||typeof n.blobVersionedHashes<"u"||typeof n.maxFeePerBlobGas<"u"||typeof n.sidecars<"u")return"eip4844";if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")return"eip1559";if(typeof n.gasPrice<"u")return typeof n.accessList<"u"?"eip2930":"legacy";throw new eCe({transaction:n})}function VEe(n,{docsPath:e,...r}){const i=(()=>{const s=dC(n,r);return s instanceof tx?n:s})();return new tCe(i,{docsPath:e,...r})}async function Kj(n){const e=await n.request({method:"eth_chainId"},{dedupe:!0});return Ll(e)}async function wce(n,e){var T,M,I,O,F;const{account:r=n.account,accessList:i,authorizationList:s,chain:o=n.chain,blobVersionedHashes:a,blobs:l,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:b,to:y,type:v,value:w,..._}=e,x=await(async()=>{if(!r||!b||typeof m<"u")return m;const $=Fi(r),z=o?o.id:await Rt(n,Kj,"getChainId")({});return await b.consume({address:$.address,chainId:z,client:n})})();G0(e);const k=(M=(T=o==null?void 0:o.formatters)==null?void 0:T.transactionRequest)==null?void 0:M.format,E=(k||nx)({...hC(_,{format:k}),account:r?Fi(r):void 0,accessList:i,authorizationList:s,blobs:l,blobVersionedHashes:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:x,to:y,type:v,value:w},"fillTransaction");try{const $=await n.request({method:"eth_fillTransaction",params:[E]}),D=(((O=(I=o==null?void 0:o.formatters)==null?void 0:I.transaction)==null?void 0:O.format)||Vj)($.tx);delete D.blockHash,delete D.blockNumber,delete D.r,delete D.s,delete D.transactionIndex,delete D.v,delete D.yParity,D.data=D.input,D.gas&&(D.gas=e.gas??D.gas),D.gasPrice&&(D.gasPrice=e.gasPrice??D.gasPrice),D.maxFeePerBlobGas&&(D.maxFeePerBlobGas=e.maxFeePerBlobGas??D.maxFeePerBlobGas),D.maxFeePerGas&&(D.maxFeePerGas=e.maxFeePerGas??D.maxFeePerGas),D.maxPriorityFeePerGas&&(D.maxPriorityFeePerGas=e.maxPriorityFeePerGas??D.maxPriorityFeePerGas),D.nonce&&(D.nonce=e.nonce??D.nonce);const j=await(async()=>{var U,K;if(typeof((U=o==null?void 0:o.fees)==null?void 0:U.baseFeeMultiplier)=="function"){const Y=await Rt(n,Ea,"getBlock")({});return o.fees.baseFeeMultiplier({block:Y,client:n,request:e})}return((K=o==null?void 0:o.fees)==null?void 0:K.baseFeeMultiplier)??1.2})();if(j<1)throw new cce;const R=10**(((F=j.toString().split(".")[1])==null?void 0:F.length)??0),H=U=>U*BigInt(Math.ceil(j*R))/BigInt(R);return D.maxFeePerGas&&!e.maxFeePerGas&&(D.maxFeePerGas=H(D.maxFeePerGas)),D.gasPrice&&!e.gasPrice&&(D.gasPrice=H(D.gasPrice)),{raw:$.raw,transaction:{from:E.from,...D}}}catch($){throw VEe($,{...e,chain:n.chain})}}const GEe=["blobVersionedHashes","chainId","fees","gas","nonce","type"],sz=new Map,Y6=new iC(128);async function xce(n,e){var x,k,C;let r=e;r.account??(r.account=n.account),r.chain??(r.chain=n.chain),r.parameters??(r.parameters=GEe);const{account:i,chain:s,nonceManager:o,parameters:a}=r,l=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof r.chainId<"u"?r.chainId:s?s.id:(c=await Rt(n,Kj,"getChainId")({}),c))}const d=i&&Fi(i);let h=r.nonce;if(a.includes("nonce")&&typeof h>"u"&&d&&o){const E=await u();h=await o.consume({address:d.address,chainId:E,client:n})}l!=null&&l.fn&&((x=l.runAt)!=null&&x.includes("beforeFillTransaction"))&&(r=await l.fn(r,{phase:"beforeFillTransaction"}),h??(h=r.nonce));const p=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&r.kzg&&r.blobs||Y6.get(n.uid)===!1||!["fees","gas"].some(T=>a.includes(T))?!1:!!(a.includes("chainId")&&typeof r.chainId!="number"||a.includes("nonce")&&typeof h!="number"||a.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof r.gas!="bigint"))?await Rt(n,wce,"fillTransaction")({...r,nonce:h}).then(E=>{const{chainId:T,from:M,gas:I,gasPrice:O,nonce:F,maxFeePerBlobGas:$,maxFeePerGas:z,maxPriorityFeePerGas:D,type:j,...N}=E.transaction;return Y6.set(n.uid,!0),{...r,...M?{from:M}:{},...j?{type:j}:{},...typeof T<"u"?{chainId:T}:{},...typeof I<"u"?{gas:I}:{},...typeof O<"u"?{gasPrice:O}:{},...typeof F<"u"?{nonce:F}:{},...typeof $<"u"?{maxFeePerBlobGas:$}:{},...typeof z<"u"?{maxFeePerGas:z}:{},...typeof D<"u"?{maxPriorityFeePerGas:D}:{},..."nonceKey"in N&&typeof N.nonceKey<"u"?{nonceKey:N.nonceKey}:{}}}).catch(E=>{var I;const T=E;return T.name!=="TransactionExecutionError"||((I=T.walk)==null?void 0:I.call(T,O=>{const F=O;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"}))&&Y6.set(n.uid,!1),r}):r;h??(h=p.nonce),r={...p,...d?{from:d==null?void 0:d.address}:{},...h?{nonce:h}:{}};const{blobs:m,gas:b,kzg:y,type:v}=r;l!=null&&l.fn&&((k=l.runAt)!=null&&k.includes("beforeFillParameters"))&&(r=await l.fn(r,{phase:"beforeFillParameters"}));let w;async function _(){return w||(w=await Rt(n,Ea,"getBlock")({blockTag:"latest"}),w)}if(a.includes("nonce")&&typeof h>"u"&&d&&!o&&(r.nonce=await Rt(n,pce,"getTransactionCount")({address:d.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&m&&y){const E=mce({blobs:m,kzg:y});if(a.includes("blobVersionedHashes")){const T=$Ee({commitments:E,to:"hex"});r.blobVersionedHashes=T}if(a.includes("sidecars")){const T=gce({blobs:m,commitments:E,kzg:y}),M=qEe({blobs:m,commitments:E,proofs:T,to:"hex"});r.sidecars=M}}if(a.includes("chainId")&&(r.chainId=await u()),(a.includes("fees")||a.includes("type"))&&typeof v>"u")try{r.type=HEe(r)}catch{let E=sz.get(n.uid);if(typeof E>"u"){const T=await _();E=typeof(T==null?void 0:T.baseFeePerGas)=="bigint",sz.set(n.uid,E)}r.type=E?"eip1559":"legacy"}if(a.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas>"u"||typeof r.maxPriorityFeePerGas>"u"){const E=await _(),{maxFeePerGas:T,maxPriorityFeePerGas:M}=await tR(n,{block:E,chain:s,request:r});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<M)throw new AEe({maxPriorityFeePerGas:M});r.maxPriorityFeePerGas=M,r.maxFeePerGas=T}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new Hj;if(typeof r.gasPrice>"u"){const E=await _(),{gasPrice:T}=await tR(n,{block:E,chain:s,request:r,type:"legacy"});r.gasPrice=T}}return a.includes("gas")&&typeof b>"u"&&(r.gas=await Rt(n,Xj,"estimateGas")({...r,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),l!=null&&l.fn&&((C=l.runAt)!=null&&C.includes("afterFillParameters"))&&(r=await l.fn(r,{phase:"afterFillParameters"})),G0(r),delete r.parameters,r}async function Xj(n,e){var a,l,c;const{account:r=n.account,prepare:i=!0}=e,s=r?Fi(r):void 0,o=(()=>{if(Array.isArray(i))return i;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await lce({authorization:e.authorizationList[0]}).catch(()=>{throw new Je("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:h,blobs:f,blobVersionedHashes:p,blockNumber:m,blockTag:b,data:y,gas:v,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:k,nonce:C,value:E,stateOverride:T,...M}=i?await xce(n,{...e,parameters:o,to:u}):e;if(v&&e.gas!==v)return v;const O=(typeof m=="bigint"?kt(m):void 0)||b,F=Uj(T);G0(e);const $=(c=(l=(a=n.chain)==null?void 0:a.formatters)==null?void 0:l.transactionRequest)==null?void 0:c.format,D=($||nx)({...hC(M,{format:$}),account:s,accessList:d,authorizationList:h,blobs:f,blobVersionedHashes:p,data:y,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:k,nonce:C,to:u,value:E},"estimateGas");return BigInt(await n.request({method:"eth_estimateGas",params:F?[D,O??n.experimental_blockTag??"latest",F]:O?[D,O]:[D]}))}catch(u){throw EEe(u,{...e,account:s,chain:n.chain})}}async function YEe(n,e){const{abi:r,address:i,args:s,functionName:o,dataSuffix:a,...l}=e,c=Ua({abi:r,args:s,functionName:o});try{return await Rt(n,Xj,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:i,...l})}catch(u){const d=l.account?Fi(l.account):void 0;throw i0(u,{abi:r,address:i,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d==null?void 0:d.address})}}async function _ce(n,{address:e,blockNumber:r,blockTag:i=n.experimental_blockTag??"latest"}){const s=typeof r=="bigint"?kt(r):void 0,o=await n.request({method:"eth_getBalance",params:[e,s||i]});return BigInt(o)}async function KEe(n){const e=await n.request({method:"eth_blobBaseFee"});return BigInt(e)}const XEe=new Map,QEe=new Map;function JEe(n){const e=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),r=e(n,XEe),i=e(n,QEe);return{clear:()=>{r.clear(),i.clear()},promise:r,response:i}}async function ZEe(n,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const i=JEe(e),s=i.response.get();if(s&&r>0&&Date.now()-s.created.getTime()<r)return s.data;let o=i.promise.get();o||(o=n(),i.promise.set(o));try{const a=await o;return i.response.set({created:new Date,data:a}),a}finally{i.promise.clear()}}const e6e=n=>`blockNumber.${n}`;async function ix(n,{cacheTime:e=n.cacheTime}={}){const r=await ZEe(()=>n.request({method:"eth_blockNumber"}),{cacheKey:e6e(n.uid),cacheTime:e});return BigInt(r)}async function t6e(n,{blockHash:e,blockNumber:r,blockTag:i="latest"}={}){const s=r!==void 0?kt(r):void 0;let o;return e?o=await n.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await n.request({method:"eth_getBlockTransactionCountByNumber",params:[s||i]},{dedupe:!!s}),Ll(o)}async function nR(n,{address:e,blockNumber:r,blockTag:i="latest"}){const s=r!==void 0?kt(r):void 0,o=await n.request({method:"eth_getCode",params:[e,s||i]},{dedupe:!!s});if(o!=="0x")return o}function mC(n,e){if(!ho(n,{strict:!1}))throw new qd({address:n});if(!ho(e,{strict:!1}))throw new qd({address:e});return n.toLowerCase()===e.toLowerCase()}const oz="/docs/contract/decodeEventLog";function mS(n){const{abi:e,data:r,strict:i,topics:s}=n,o=i??!0,[a,...l]=s;if(!a)throw new $ke({docsPath:oz});const c=e.find(b=>b.type==="event"&&a===aC(Da(b)));if(!(c&&"name"in c)||c.type!=="event")throw new zke(a,{docsPath:oz});const{name:u,inputs:d}=c,h=d==null?void 0:d.some(b=>!("name"in b&&b.name)),f=h?[]:{},p=d.map((b,y)=>[b,y]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<p.length;b++){const[y,v]=p[b],w=l[b];if(!w)throw new Aj({abiItem:c,param:y});f[h?v:y.name||v]=n6e({param:y,value:w})}const m=d.filter(b=>!("indexed"in b&&b.indexed));if(m.length>0){if(r&&r!=="0x")try{const b=Qw(m,r);if(b)if(h)for(let y=0;y<d.length;y++)f[y]=f[y]??b.shift();else for(let y=0;y<m.length;y++)f[m[y].name]=b[y]}catch(b){if(o)throw b instanceof qae||b instanceof sle?new dS({abiItem:c,data:r,params:m,size:br(r)}):b}else if(o)throw new dS({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function n6e({param:n,value:e}){return n.type==="string"||n.type==="bytes"||n.type==="tuple"||n.type.match(/^(.*)\[(\d+)?\]$/)?e:(Qw([n],e)||[])[0]}function Qj(n){const{abi:e,args:r,logs:i,strict:s=!0}=n,o=(()=>{if(n.eventName)return Array.isArray(n.eventName)?n.eventName:[n.eventName]})();return i.map(a=>{var d;const l=e.filter(h=>h.type==="event"&&a.topics[0]===aC(h));if(l.length===0)return null;let c,u;for(const h of l)try{c=mS({...a,abi:[h],strict:!0}),u=h;break}catch{}if(!c&&!s){u=l[0];try{c=mS({...a,abi:[u],strict:!1})}catch{const h=(d=u.inputs)==null?void 0:d.some(f=>!("name"in f&&f.name));return{...a,args:h?[]:{},eventName:u.name}}}return!c||!u||o&&!o.includes(c.eventName)||!r6e({args:c.args,inputs:u.inputs,matchArgs:r})?null:{...c,...a}}).filter(Boolean)}function r6e(n){const{args:e,inputs:r,matchArgs:i}=n;if(!i)return!0;if(!e)return!1;function s(o,a,l){try{return o.type==="address"?mC(a,l):o.type==="string"||o.type==="bytes"?vi(W0(a))===l:a===l}catch{return!1}}return Array.isArray(e)&&Array.isArray(i)?i.every((o,a)=>{if(o==null)return!0;const l=r[a];return l?(Array.isArray(o)?o:[o]).some(u=>s(l,u,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).every(([o,a])=>{if(a==null)return!0;const l=r.find(u=>u.name===o);return l?(Array.isArray(a)?a:[a]).some(u=>s(l,u,e[o])):!1}):!1}function cu(n,{args:e,eventName:r}={}){return{...n,blockHash:n.blockHash?n.blockHash:null,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,blockTimestamp:n.blockTimestamp?BigInt(n.blockTimestamp):n.blockTimestamp===null?null:void 0,logIndex:n.logIndex?Number(n.logIndex):null,transactionHash:n.transactionHash?n.transactionHash:null,transactionIndex:n.transactionIndex?Number(n.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function Jj(n,{address:e,blockHash:r,fromBlock:i,toBlock:s,event:o,events:a,args:l,strict:c}={}){const u=c??!1,d=a??(o?[o]:void 0);let h=[];d&&(h=[d.flatMap(b=>rx({abi:[b],eventName:b.name,args:a?void 0:l}))],o&&(h=h[0]));let f;r?f=await n.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:r}]}):f=await n.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof i=="bigint"?kt(i):i,toBlock:typeof s=="bigint"?kt(s):s}]});const p=f.map(m=>cu(m));return d?Qj({abi:d,args:l,logs:p,strict:u}):p}async function kce(n,e){const{abi:r,address:i,args:s,blockHash:o,eventName:a,fromBlock:l,toBlock:c,strict:u}=e,d=a?pp({abi:r,name:a}):void 0,h=d?void 0:r.filter(f=>f.type==="event");return Rt(n,Jj,"getLogs")({address:i,args:s,blockHash:o,event:d,events:h,fromBlock:l,toBlock:c,strict:u})}class i6e extends Je{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function s6e(n,e){const{address:r,factory:i,factoryData:s}=e;try{const[o,a,l,c,u,d,h]=await Rt(n,ja,"readContract")({abi:o6e,address:r,functionName:"eip712Domain",factory:i,factoryData:s});return{domain:{name:a,version:l,chainId:Number(c),verifyingContract:u,salt:d},extensions:h,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new i6e({address:r}):a}}const o6e=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function a6e(n){var e;return{baseFeePerGas:n.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:n.gasUsedRatio,oldestBlock:BigInt(n.oldestBlock),reward:(e=n.reward)==null?void 0:e.map(r=>r.map(i=>BigInt(i)))}}async function l6e(n,{blockCount:e,blockNumber:r,blockTag:i="latest",rewardPercentiles:s}){const o=typeof r=="bigint"?kt(r):void 0,a=await n.request({method:"eth_feeHistory",params:[kt(e),o||i,s]},{dedupe:!!o});return a6e(a)}async function gC(n,{filter:e}){const r="strict"in e&&e.strict,i=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof i[0]=="string")return i;const s=i.map(o=>cu(o));return!("abi"in e)||!e.abi?s:Qj({abi:e.abi,logs:s,strict:r})}async function c6e(n,{filter:e}){const r=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>cu(o));return e.abi?Qj({abi:e.abi,logs:s,strict:r}):s}async function u6e({address:n,authorization:e,signature:r}){return mC(ri(n),await lce({authorization:e,signature:r}))}const R1=new iC(8192);function d6e(n,{enabled:e=!0,id:r}){if(!e||!r)return n();if(R1.get(r))return R1.get(r);const i=n().finally(()=>R1.delete(r));return R1.set(r,i),i}async function rR(n){return new Promise(e=>setTimeout(e,n))}function s0(n,{delay:e=100,retryCount:r=2,shouldRetry:i=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:l=0}={})=>{const c=async({error:u})=>{const d=typeof e=="function"?e({count:l,error:u}):e;d&&await rR(d),a({count:l+1})};try{const u=await n();s(u)}catch(u){if(l<r&&await i({count:l,error:u}))return c({error:u});o(u)}};a()})}function h6e(n,e={}){return async(r,i={})=>{var h;const{dedupe:s=!1,methods:o,retryDelay:a=150,retryCount:l=3,uid:c}={...e,...i},{method:u}=r;if((h=o==null?void 0:o.exclude)!=null&&h.includes(u))throw new Xh(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new Xh(new Error("method not supported"),{method:u});const d=s?Zg(`${c}.${ai(r)}`):void 0;return d6e(()=>s0(async()=>{try{return await n(r)}catch(f){const p=f;switch(p.code){case Rv.code:throw new Rv(p);case Nv.code:throw new Nv(p);case jv.code:throw new jv(p,{method:r.method});case Bv.code:throw new Bv(p);case Wf.code:throw new Wf(p);case Hd.code:throw new Hd(p);case Lv.code:throw new Lv(p);case Il.code:throw new Il(p);case Fv.code:throw new Fv(p);case Xh.code:throw new Xh(p,{method:r.method});case r0.code:throw new r0(p);case $v.code:throw new $v(p);case An.code:throw new An(p);case zv.code:throw new zv(p);case Uv.code:throw new Uv(p);case Wv.code:throw new Wv(p);case qv.code:throw new qv(p);case so.code:throw new so(p);case Hv.code:throw new Hv(p);case Vv.code:throw new Vv(p);case Gv.code:throw new Gv(p);case Yv.code:throw new Yv(p);case Kv.code:throw new Kv(p);case Xv.code:throw new Xv(p);case Qv.code:throw new Qv(p);case 5e3:throw new An(p);default:throw f instanceof Je?f:new pCe(p)}}},{delay:({count:f,error:p})=>{var m;if(p&&p instanceof Vy){const b=(m=p==null?void 0:p.headers)==null?void 0:m.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<f)*a},retryCount:l,shouldRetry:({error:f})=>f6e(f)}),{enabled:s,id:d})}}function f6e(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===r0.code||n.code===Wf.code:n instanceof Vy&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}function Sce(n){const e={formatters:void 0,fees:void 0,serializers:void 0,...n};function r(i){return s=>{const o=typeof s=="function"?s(i):s,a={...i,...o};return Object.assign(a,{extend:r(a)})}}return Object.assign(e,{extend:r(e)})}const p6e={"0x0":"reverted","0x1":"success"};function Cce(n,e){const r={...n,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,contractAddress:n.contractAddress?n.contractAddress:null,cumulativeGasUsed:n.cumulativeGasUsed?BigInt(n.cumulativeGasUsed):null,effectiveGasPrice:n.effectiveGasPrice?BigInt(n.effectiveGasPrice):null,gasUsed:n.gasUsed?BigInt(n.gasUsed):null,logs:n.logs?n.logs.map(i=>cu(i)):null,to:n.to?n.to:null,transactionIndex:n.transactionIndex?Ll(n.transactionIndex):null,status:n.status?p6e[n.status]:null,type:n.type?dce[n.type]||n.type:null};return n.blobGasPrice&&(r.blobGasPrice=BigInt(n.blobGasPrice)),n.blobGasUsed&&(r.blobGasUsed=BigInt(n.blobGasUsed)),r}function bC(n,{errorInstance:e=new Error("timed out"),timeout:r,signal:i}){return new Promise((s,o)=>{(async()=>{let a;try{const l=new AbortController;r>0&&(a=setTimeout(()=>{i?l.abort():o(e)},r)),s(await n({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&o(e),o(l)}finally{clearTimeout(a)}})()})}function m6e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const az=m6e();function g6e(n,e={}){return{async request(r){var f;const{body:i,fetchFn:s=e.fetchFn??fetch,onRequest:o=e.onRequest,onResponse:a=e.onResponse,timeout:l=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:d,signal:h}=c;try{const p=await bC(async({signal:b})=>{const y={...c,body:Array.isArray(i)?ai(i.map(x=>({jsonrpc:"2.0",id:x.id??az.take(),...x}))):ai({jsonrpc:"2.0",id:i.id??az.take(),...i}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:h||(l>0?b:null)},v=new Request(n,y),w=await(o==null?void 0:o(v,y))??{...y,url:n};return await s(w.url??n,w)},{errorInstance:new G$({body:i,url:n}),timeout:l,signal:!0});a&&await a(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(b){if(p.ok)throw b;m={error:m}}}if(!p.ok)throw new Vy({body:i,details:ai(m.error)||p.statusText,headers:p.headers,status:p.status,url:n});return m}catch(p){throw p instanceof Vy||p instanceof G$?p:new Vy({body:i,cause:p,url:n})}}}}const b6e=`Ethereum Signed Message:
`;function y6e(n){const e=typeof n=="string"?Zg(n):typeof n.raw=="string"?n.raw:qr(n.raw),r=Zg(`${b6e}${br(e)}`);return $l([r,e])}function Ece(n,e){return vi(y6e(n),e)}class v6e extends Je{constructor({domain:e}){super(`Invalid domain "${ai(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class w6e extends Je{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class x6e extends Je{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function _6e(n){const{domain:e,message:r,primaryType:i,types:s}=n,o=(c,u)=>{const d={...u};for(const h of c){const{name:f,type:p}=h;p==="address"&&(d[f]=d[f].toLowerCase())}return d},a=s.EIP712Domain?e?o(s.EIP712Domain,e):{}:{},l=(()=>{if(i!=="EIP712Domain")return o(s[i],r)})();return ai({domain:a,message:l,primaryType:i,types:s})}function Ace(n){const{domain:e,message:r,primaryType:i,types:s}=n,o=(a,l)=>{for(const c of a){const{name:u,type:d}=c,h=l[u],f=d.match(cle);if(f&&(typeof h=="number"||typeof h=="bigint")){const[b,y,v]=f;kt(h,{signed:y==="int",size:Number.parseInt(v,10)/8})}if(d==="address"&&typeof h=="string"&&!ho(h))throw new qd({address:h});const p=d.match(LSe);if(p){const[b,y]=p;if(y&&br(h)!==Number.parseInt(y,10))throw new qke({expectedSize:Number.parseInt(y,10),givenSize:br(h)})}const m=s[d];m&&(k6e(d),o(m,h))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new v6e({domain:e});o(s.EIP712Domain,e)}if(i!=="EIP712Domain")if(s[i])o(s[i],r);else throw new w6e({primaryType:i,types:s})}function Tce({domain:n}){return[typeof(n==null?void 0:n.name)=="string"&&{name:"name",type:"string"},(n==null?void 0:n.version)&&{name:"version",type:"string"},(typeof(n==null?void 0:n.chainId)=="number"||typeof(n==null?void 0:n.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(n==null?void 0:n.verifyingContract)&&{name:"verifyingContract",type:"address"},(n==null?void 0:n.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function k6e(n){if(n==="address"||n==="bool"||n==="string"||n.startsWith("bytes")||n.startsWith("uint")||n.startsWith("int"))throw new x6e({type:n})}function S6e(n){const{domain:e={},message:r,primaryType:i}=n,s={EIP712Domain:Tce({domain:e}),...n.types};Ace({domain:e,message:r,primaryType:i,types:s});const o=["0x1901"];return e&&o.push(C6e({domain:e,types:s})),i!=="EIP712Domain"&&o.push(Pce({data:r,primaryType:i,types:s})),vi($l(o))}function C6e({domain:n,types:e}){return Pce({data:n,primaryType:"EIP712Domain",types:e})}function Pce({data:n,primaryType:e,types:r}){const i=Ice({data:n,primaryType:e,types:r});return vi(i)}function Ice({data:n,primaryType:e,types:r}){const i=[{type:"bytes32"}],s=[E6e({primaryType:e,types:r})];for(const o of r[e]){const[a,l]=Oce({types:r,name:o.name,type:o.type,value:n[o.name]});i.push(a),s.push(l)}return fp(i,s)}function E6e({primaryType:n,types:e}){const r=au(A6e({primaryType:n,types:e}));return vi(r)}function A6e({primaryType:n,types:e}){let r="";const i=Mce({primaryType:n,types:e});i.delete(n);const s=[n,...Array.from(i).sort()];for(const o of s)r+=`${o}(${e[o].map(({name:a,type:l})=>`${l} ${a}`).join(",")})`;return r}function Mce({primaryType:n,types:e},r=new Set){const i=n.match(/^\w*/u),s=i==null?void 0:i[0];if(r.has(s)||e[s]===void 0)return r;r.add(s);for(const o of e[s])Mce({primaryType:o.type,types:e},r);return r}function Oce({types:n,name:e,type:r,value:i}){if(n[r]!==void 0)return[{type:"bytes32"},vi(Ice({data:i,primaryType:r,types:n}))];if(r==="bytes")return[{type:"bytes32"},vi(i)];if(r==="string")return[{type:"bytes32"},vi(au(i))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),o=i.map(a=>Oce({name:e,type:s,types:n,value:a}));return[{type:"bytes32"},vi(fp(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:r},i]}class T6e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const P6e={checksum:new T6e(8192)},K6=P6e.checksum;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function I6e(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function lz(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function gS(n,...e){if(!I6e(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function cz(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function M6e(n,e){gS(n);const r=e.outputLen;if(n.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function O6e(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Dce(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}const D6e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function R6e(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function N6e(n){for(let e=0;e<n.length;e++)n[e]=R6e(n[e]);return n}const uz=D6e?n=>n:N6e;function j6e(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Rce(n){return typeof n=="string"&&(n=j6e(n)),gS(n),n}let B6e=class{};function L6e(n){const e=i=>n().update(Rce(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}const N1=BigInt(2**32-1),dz=BigInt(32);function F6e(n,e=!1){return e?{h:Number(n&N1),l:Number(n>>dz&N1)}:{h:Number(n>>dz&N1)|0,l:Number(n&N1)|0}}function $6e(n,e=!1){const r=n.length;let i=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=F6e(n[o],e);[i[o],s[o]]=[a,l]}return[i,s]}const z6e=(n,e,r)=>n<<r|e>>>32-r,U6e=(n,e,r)=>e<<r|n>>>32-r,W6e=(n,e,r)=>e<<r-32|n>>>64-r,q6e=(n,e,r)=>n<<r-32|e>>>64-r,H6e=BigInt(0),Rb=BigInt(1),V6e=BigInt(2),G6e=BigInt(7),Y6e=BigInt(256),K6e=BigInt(113),Nce=[],jce=[],Bce=[];for(let n=0,e=Rb,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],Nce.push(2*(5*i+r)),jce.push((n+1)*(n+2)/2%64);let s=H6e;for(let o=0;o<7;o++)e=(e<<Rb^(e>>G6e)*K6e)%Y6e,e&V6e&&(s^=Rb<<(Rb<<BigInt(o))-Rb);Bce.push(s)}const Lce=$6e(Bce,!0),X6e=Lce[0],Q6e=Lce[1],hz=(n,e,r)=>r>32?W6e(n,e,r):z6e(n,e,r),fz=(n,e,r)=>r>32?q6e(n,e,r):U6e(n,e,r);function J6e(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=hz(u,d,1)^r[l],f=fz(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=jce[a],c=hz(s,o,l),u=fz(s,o,l),d=Nce[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=X6e[i],n[1]^=Q6e[i]}Dce(r)}let Z6e=class Fce extends B6e{constructor(e,r,i,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,lz(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=O6e(this.state)}clone(){return this._cloneInto()}keccak(){uz(this.state32),J6e(this.state32,this.rounds),uz(this.state32),this.posOut=0,this.pos=0}update(e){cz(this),e=Rce(e),gS(e);const{blockLen:r,state:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){cz(this,!1),gS(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lz(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(M6e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Dce(this.state)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new Fce(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const e5e=(n,e,r)=>L6e(()=>new Z6e(e,n,r)),t5e=e5e(1,136,256/8);function $ce(n,e={}){const{as:r=typeof n=="string"?"Hex":"Bytes"}=e,i=t5e(ECe(n));return r==="Bytes"?i:Na(i)}const n5e=/^0x[a-fA-F0-9]{40}$/;function yC(n,e={}){const{strict:r=!0}=e;if(!n5e.test(n))throw new pz({address:n,cause:new r5e});if(r){if(n.toLowerCase()===n)return;if(zce(n)!==n)throw new pz({address:n,cause:new i5e})}}function zce(n){if(K6.has(n))return K6.get(n);yC(n,{strict:!1});const e=n.substring(2).toLowerCase(),r=$ce(TCe(e),{as:"Bytes"}),i=e.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return K6.set(n,s),s}function iR(n,e={}){const{strict:r=!0}=e??{};try{return yC(n,{strict:r}),!0}catch{return!1}}class pz extends sn{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class r5e extends sn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class i5e extends sn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const s5e=/^(.*)\[([0-9]*)\]$/,o5e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Uce=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,mz=2n**256n-1n;function Qm(n,e,r){const{checksumAddress:i,staticPosition:s}=r,o=t7(e.type);if(o){const[a,l]=o;return l5e(n,{...e,type:l},{checksumAddress:i,length:a,staticPosition:s})}if(e.type==="tuple")return h5e(n,e,{checksumAddress:i,staticPosition:s});if(e.type==="address")return a5e(n,{checksum:i});if(e.type==="bool")return c5e(n);if(e.type.startsWith("bytes"))return u5e(n,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return d5e(n,e);if(e.type==="string")return f5e(n,{staticPosition:s});throw new r7(e.type)}const gz=32,sR=32;function a5e(n,e={}){const{checksum:r=!1}=e,i=n.readBytes(32);return[(o=>r?zce(o):o)(Na(ICe(i,-20))),32]}function l5e(n,e,r){const{checksumAddress:i,length:s,staticPosition:o}=r;if(!s){const c=qc(n.readBytes(sR)),u=o+c,d=u+gz;n.setPosition(u);const h=qc(n.readBytes(gz)),f=Jv(e);let p=0;const m=[];for(let b=0;b<h;++b){n.setPosition(d+(f?b*32:p));const[y,v]=Qm(n,e,{checksumAddress:i,staticPosition:d});p+=v,m.push(y)}return n.setPosition(o+32),[m,32]}if(Jv(e)){const c=qc(n.readBytes(sR)),u=o+c,d=[];for(let h=0;h<s;++h){n.setPosition(u+h*32);const[f]=Qm(n,e,{checksumAddress:i,staticPosition:u});d.push(f)}return n.setPosition(o+32),[d,32]}let a=0;const l=[];for(let c=0;c<s;++c){const[u,d]=Qm(n,e,{checksumAddress:i,staticPosition:o+a});a+=d,l.push(u)}return[l,a]}function c5e(n){return[OCe(n.readBytes(32),{size:32}),32]}function u5e(n,e,{staticPosition:r}){const[i,s]=e.type.split("bytes");if(!s){const a=qc(n.readBytes(32));n.setPosition(r+a);const l=qc(n.readBytes(32));if(l===0)return n.setPosition(r+32),["0x",32];const c=n.readBytes(l);return n.setPosition(r+32),[Na(c),32]}return[Na(n.readBytes(Number.parseInt(s,10),32)),32]}function d5e(n,e){const r=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),s=n.readBytes(32);return[i>48?MCe(s,{signed:r}):qc(s,{signed:r}),32]}function h5e(n,e,r){const{checksumAddress:i,staticPosition:s}=r,o=e.components.length===0||e.components.some(({name:c})=>!c),a=o?[]:{};let l=0;if(Jv(e)){const c=qc(n.readBytes(sR)),u=s+c;for(let d=0;d<e.components.length;++d){const h=e.components[d];n.setPosition(u+l);const[f,p]=Qm(n,h,{checksumAddress:i,staticPosition:u});l+=p,a[o?d:h==null?void 0:h.name]=f}return n.setPosition(s+32),[a,32]}for(let c=0;c<e.components.length;++c){const u=e.components[c],[d,h]=Qm(n,u,{checksumAddress:i,staticPosition:s});a[o?c:u==null?void 0:u.name]=d,l+=h}return[a,l]}function f5e(n,{staticPosition:e}){const r=qc(n.readBytes(32)),i=e+r;n.setPosition(i);const s=qc(n.readBytes(32));if(s===0)return n.setPosition(e+32),["",32];const o=n.readBytes(s,32),a=DCe(Lle(o));return n.setPosition(e+32),[a,32]}function p5e({checksumAddress:n,parameters:e,values:r}){const i=[];for(let s=0;s<e.length;s++)i.push(Zj({checksumAddress:n,parameter:e[s],value:r[s]}));return i}function Zj({checksumAddress:n=!1,parameter:e,value:r}){const i=e,s=t7(i.type);if(s){const[o,a]=s;return g5e(r,{checksumAddress:n,length:o,parameter:{...i,type:a}})}if(i.type==="tuple")return x5e(r,{checksumAddress:n,parameter:i});if(i.type==="address")return m5e(r,{checksum:n});if(i.type==="bool")return y5e(r);if(i.type.startsWith("uint")||i.type.startsWith("int")){const o=i.type.startsWith("int"),[,,a="256"]=Uce.exec(i.type)??[];return v5e(r,{signed:o,size:Number(a)})}if(i.type.startsWith("bytes"))return b5e(r,{type:i.type});if(i.type==="string")return w5e(r);throw new r7(i.type)}function e7(n){let e=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?e+=32:e+=fo(l)}const r=[],i=[];let s=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?(r.push(Ji(e+s,{size:32})),i.push(l),s+=fo(l)):r.push(l)}return Ra(...r,...i)}function m5e(n,e){const{checksum:r=!1}=e;return yC(n,{strict:r}),{dynamic:!1,encoded:qf(n.toLowerCase())}}function g5e(n,e){const{checksumAddress:r,length:i,parameter:s}=e,o=i===null;if(!Array.isArray(n))throw new I5e(n);if(!o&&n.length!==i)throw new P5e({expectedLength:i,givenLength:n.length,type:`${s.type}[${i}]`});let a=!1;const l=[];for(let c=0;c<n.length;c++){const u=Zj({checksumAddress:r,parameter:s,value:n[c]});u.dynamic&&(a=!0),l.push(u)}if(o||a){const c=e7(l);if(o){const u=Ji(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?Ra(u,c):u}}if(a)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ra(...l.map(({encoded:c})=>c))}}function b5e(n,{type:e}){const[,r]=e.split("bytes"),i=fo(n);if(!r){let s=n;return i%32!==0&&(s=Hf(s,Math.ceil((n.length-2)/2/32)*32)),{dynamic:!0,encoded:Ra(qf(Ji(i,{size:32})),s)}}if(i!==Number.parseInt(r,10))throw new qce({expectedSize:Number.parseInt(r,10),value:n});return{dynamic:!1,encoded:Hf(n)}}function y5e(n){if(typeof n!="boolean")throw new sn(`Invalid boolean value: "${n}" (type: ${typeof n}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:qf(Fle(n))}}function v5e(n,{signed:e,size:r}){if(typeof r=="number"){const i=2n**(BigInt(r)-(e?1n:0n))-1n,s=e?-i-1n:0n;if(n>i||n<s)throw new Ule({max:i.toString(),min:s.toString(),signed:e,size:r/8,value:n.toString()})}return{dynamic:!1,encoded:Ji(n,{size:32,signed:e})}}function w5e(n){const e=Fj(n),r=Math.ceil(fo(e)/32),i=[];for(let s=0;s<r;s++)i.push(Hf(Ml(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ra(Hf(Ji(fo(e),{size:32})),...i)}}function x5e(n,e){const{checksumAddress:r,parameter:i}=e;let s=!1;const o=[];for(let a=0;a<i.components.length;a++){const l=i.components[a],c=Array.isArray(n)?a:l.name,u=Zj({checksumAddress:r,parameter:l,value:n[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?e7(o):Ra(...o.map(({encoded:a})=>a))}}function t7(n){const e=n.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Jv(n){var i;const{type:e}=n;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(i=n.components)==null?void 0:i.some(Jv);const r=t7(n.type);return!!(r&&Jv({...n,type:r[1]}))}const _5e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new C5e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new S5e({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new bz({offset:n});const e=this.position-n;this.assertPosition(e),this.position=e},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new bz({offset:n});const e=this.position+n;this.assertPosition(e),this.position=e},inspectByte(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(n,e){const r=e??this.position;return this.assertPosition(r+n-1),this.bytes.subarray(r,r+n)},inspectUint8(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(n){const e=n??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(n){const e=n??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(n){const e=n??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(n);return this.position+=e??n,r},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const e=this.position;return this.assertPosition(n),this.position=n,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function k5e(n,{recursiveReadLimit:e=8192}={}){const r=Object.create(_5e);return r.bytes=n,r.dataView=new DataView(n.buffer,n.byteOffset,n.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class bz extends sn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class S5e extends sn{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class C5e extends sn{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function E5e(n,e,r={}){const{as:i="Array",checksumAddress:s=!1}=r,o=typeof e=="string"?Ble(e):e,a=k5e(o);if(Mm(o)===0&&n.length>0)throw new T5e;if(Mm(o)&&Mm(o)<32)throw new A5e({data:typeof e=="string"?e:Na(e),parameters:n,size:Mm(o)});let l=0;const c=i==="Array"?[]:{};for(let u=0;u<n.length;++u){const d=n[u];a.setPosition(l);const[h,f]=Qm(a,d,{checksumAddress:s,staticPosition:0});l+=f,i==="Array"?c.push(h):c[d.name??u]=h}return c}function n7(n,e,r){const{checksumAddress:i=!1}={};if(n.length!==e.length)throw new Hce({expectedLength:n.length,givenLength:e.length});const s=p5e({checksumAddress:i,parameters:n,values:e}),o=e7(s);return o.length===0?"0x":o}function oR(n,e){if(n.length!==e.length)throw new Hce({expectedLength:n.length,givenLength:e.length});const r=[];for(let i=0;i<n.length;i++){const s=n[i],o=e[i];r.push(oR.encode(s,o))}return Ra(...r)}(function(n){function e(r,i,s=!1){if(r==="address"){const c=i;return yC(c),qf(c.toLowerCase(),s?32:0)}if(r==="string")return Fj(i);if(r==="bytes")return i;if(r==="bool")return qf(Fle(i),s?32:1);const o=r.match(Uce);if(o){const[c,u,d="256"]=o,h=Number.parseInt(d,10)/8;return Ji(i,{size:s?32:h,signed:u==="int"})}const a=r.match(o5e);if(a){const[c,u]=a;if(Number.parseInt(u,10)!==(i.length-2)/2)throw new qce({expectedSize:Number.parseInt(u,10),value:i});return Hf(i,s?32:0)}const l=r.match(s5e);if(l&&Array.isArray(i)){const[c,u]=l,d=[];for(let h=0;h<i.length;h++)d.push(e(u,i[h],!0));return d.length===0?"0x":Ra(...d)}throw new r7(r)}n.encode=e})(oR||(oR={}));function Wce(n){return Array.isArray(n)&&typeof n[0]=="string"||typeof n=="string"?W$(n):n}class A5e extends sn{constructor({data:e,parameters:r,size:i}){super(`Data size of ${i} bytes is too small for given parameters.`,{metaMessages:[`Params: (${pm(r)})`,`Data:   ${e} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class T5e extends sn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class P5e extends sn{constructor({expectedLength:e,givenLength:r,type:i}){super(`Array length mismatch for type \`${i}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class qce extends sn{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${fo(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Hce extends sn{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class I5e extends sn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class r7 extends sn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Vce(n,e={}){const{recovered:r}=e;if(typeof n.r>"u")throw new X6({signature:n});if(typeof n.s>"u")throw new X6({signature:n});if(r&&typeof n.yParity>"u")throw new X6({signature:n});if(n.r<0n||n.r>mz)throw new B5e({value:n.r});if(n.s<0n||n.s>mz)throw new L5e({value:n.s});if(typeof n.yParity=="number"&&n.yParity!==0&&n.yParity!==1)throw new s7({value:n.yParity})}function M5e(n){return Gce(Na(n))}function Gce(n){if(n.length!==130&&n.length!==132)throw new j5e({signature:n});const e=BigInt(Ml(n,0,32)),r=BigInt(Ml(n,32,64)),i=(()=>{const s=+`0x${n.slice(130)}`;if(!Number.isNaN(s))try{return i7(s)}catch{throw new s7({value:s})}})();return typeof i>"u"?{r:e,s:r}:{r:e,s:r,yParity:i}}function O5e(n){if(!(typeof n.r>"u")&&!(typeof n.s>"u"))return D5e(n)}function D5e(n){const e=typeof n=="string"?Gce(n):n instanceof Uint8Array?M5e(n):typeof n.r=="string"?N5e(n):n.v?R5e(n):{r:n.r,s:n.s,...typeof n.yParity<"u"?{yParity:n.yParity}:{}};return Vce(e),e}function R5e(n){return{r:n.r,s:n.s,yParity:i7(n.v)}}function N5e(n){const e=(()=>{const r=n.v?Number(n.v):void 0;let i=n.yParity?Number(n.yParity):void 0;if(typeof r=="number"&&typeof i!="number"&&(i=i7(r)),typeof i!="number")throw new s7({value:n.yParity});return i})();return{r:BigInt(n.r),s:BigInt(n.s),yParity:e}}function i7(n){if(n===0||n===27)return 0;if(n===1||n===28)return 1;if(n>=35)return n%2===0?1:0;throw new F5e({value:n})}class j5e extends sn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${fo(zCe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class X6 extends sn{constructor({signature:e}){super(`Signature \`${jle(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class B5e extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class L5e extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class s7 extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class F5e extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function $5e(n,e={}){return typeof n.chainId=="string"?z5e(n):{...n,...e.signature}}function z5e(n){const{address:e,chainId:r,nonce:i}=n,s=O5e(n);return{address:e,chainId:Number(r),nonce:BigInt(i),...s}}const U5e="0x8010801080108010801080108010801080108010801080108010801080108010",W5e=Wce("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Yce(n){if(typeof n=="string"){if(Ml(n,-32)!==U5e)throw new V5e(n)}else Vce(n.authorization)}function q5e(n){Yce(n);const e=zle(Ml(n,-64,-32)),r=Ml(n,-e-64,-64),i=Ml(n,0,-e-64),[s,o,a]=E5e(W5e,r);return{authorization:$5e({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:i,...a&&a!=="0x"?{data:a,to:o}:{}}}function H5e(n){try{return Yce(n),!0}catch{return!1}}let V5e=class extends sn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function G5e(n){return n.map(e=>({...e,value:BigInt(e.value)}))}function Y5e(n){return{...n,balance:n.balance?BigInt(n.balance):void 0,nonce:n.nonce?Ll(n.nonce):void 0,storageProof:n.storageProof?G5e(n.storageProof):void 0}}async function K5e(n,{address:e,blockNumber:r,blockTag:i,storageKeys:s}){const o=i??"latest",a=r!==void 0?kt(r):void 0,l=await n.request({method:"eth_getProof",params:[e,s,a||o]});return Y5e(l)}async function X5e(n,{address:e,blockNumber:r,blockTag:i="latest",slot:s}){const o=r!==void 0?kt(r):void 0;return await n.request({method:"eth_getStorageAt",params:[e,s,o||i]})}async function o7(n,{blockHash:e,blockNumber:r,blockTag:i,hash:s,index:o,sender:a,nonce:l}){var f,p,m;const c=i||"latest",u=r!==void 0?kt(r):void 0;let d=null;if(s?d=await n.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await n.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,kt(o)]},{dedupe:!0}):typeof o=="number"?d=await n.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,kt(o)]},{dedupe:!!u}):a&&typeof l=="number"&&(d=await n.request({method:"eth_getTransactionBySenderAndNonce",params:[a,kt(l)]},{dedupe:!0})),!d)throw new Tle({blockHash:e,blockNumber:r,blockTag:c,hash:s,index:o});return(((m=(p=(f=n.chain)==null?void 0:f.formatters)==null?void 0:p.transaction)==null?void 0:m.format)||Vj)(d,"getTransaction")}async function Q5e(n,{hash:e,transactionReceipt:r}){const[i,s]=await Promise.all([Rt(n,ix,"getBlockNumber")({}),e?Rt(n,o7,"getTransaction")({hash:e}):void 0]),o=(r==null?void 0:r.blockNumber)||(s==null?void 0:s.blockNumber);return o?i-o+1n:0n}async function ak(n,{hash:e}){var s,o,a;const r=await n.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new Ple({hash:e});return(((a=(o=(s=n.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||Cce)(r,"getTransactionReceipt")}async function J5e(n,e){var w;const{account:r,authorizationList:i,allowFailure:s=!0,blockNumber:o,blockOverrides:a,blockTag:l,stateOverride:c}=e,u=e.contracts,{batchSize:d=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((w=n.batch)==null?void 0:w.multicall)=="object"?n.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(n.chain)return V0({blockNumber:o,chain:n.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let m=0,b=0;for(let _=0;_<u.length;_++){const{abi:x,address:k,args:C,functionName:E}=u[_];try{const T=Ua({abi:x,args:C,functionName:E});b+=(T.length-2)/2,d>0&&b>d&&p[m].length>0&&(m++,b=(T.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:T,target:k}]}catch(T){const M=i0(T,{abi:x,address:k,args:C,docsPath:"/docs/contract/multicall",functionName:E,sender:r});if(!s)throw M;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:k}]}}const y=await Promise.allSettled(p.map(_=>Rt(n,ja,"readContract")({...f===null?{code:$j}:{address:f},abi:uS,account:r,args:[_],authorizationList:i,blockNumber:o,blockOverrides:a,blockTag:l,functionName:"aggregate3",stateOverride:c}))),v=[];for(let _=0;_<y.length;_++){const x=y[_];if(x.status==="rejected"){if(!s)throw x.reason;for(let C=0;C<p[_].length;C++)v.push({status:"failure",error:x.reason,result:void 0});continue}const k=x.value;for(let C=0;C<k.length;C++){const{returnData:E,success:T}=k[C],{callData:M}=p[_][C],{abi:I,address:O,functionName:F,args:$}=u[v.length];try{if(M==="0x")throw new Xw;if(!T)throw new lC({data:E});const z=mp({abi:I,args:$,data:E,functionName:F});v.push(s?{result:z,status:"success"}:z)}catch(z){const D=i0(z,{abi:I,address:O,args:$,docsPath:"/docs/contract/multicall",functionName:F});if(!s)throw D;v.push({error:D,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new Je("multicall results mismatch");return v}async function aR(n,e){const{blockNumber:r,blockTag:i=n.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:a,validation:l}=e;try{const c=[];for(const f of s){const p=f.blockOverrides?qle(f.blockOverrides):void 0,m=f.calls.map(y=>{const v=y,w=v.account?Fi(v.account):void 0,_=v.abi?Ua(v):v.data,x={...v,account:w,data:v.dataSuffix?$l([_||"0x",v.dataSuffix]):_,from:v.from??(w==null?void 0:w.address)};return G0(x),nx(x)}),b=f.stateOverrides?Uj(f.stateOverrides):void 0;c.push({blockOverrides:p,calls:m,stateOverrides:b})}const d=(typeof r=="bigint"?kt(r):void 0)||i;return(await n.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:a,validation:l},d]})).map((f,p)=>({...hce(f),calls:f.calls.map((m,b)=>{var I,O;const{abi:y,args:v,functionName:w,to:_}=s[p].calls[b],x=((I=m.error)==null?void 0:I.data)??m.returnData,k=BigInt(m.gasUsed),C=(O=m.logs)==null?void 0:O.map(F=>cu(F)),E=m.status==="0x1"?"success":"failure",T=y&&E==="success"&&x!=="0x"?mp({abi:y,data:x,functionName:w}):null,M=(()=>{var $;if(E==="success")return;let F;if((($=m.error)==null?void 0:$.data)==="0x"?F=new Xw:m.error&&(F=new lC(m.error)),!!F)return i0(F,{abi:y??[],address:_??"0x",args:v,functionName:w??"<unknown>"})})();return{data:x,gasUsed:k,logs:C,status:E,...E==="success"?{result:T}:{error:M}}})}))}catch(c){const u=c,d=dC(u,{});throw d instanceof tx?u:d}}function lR(n){let e=!0,r="",i=0,s="",o=!1;for(let a=0;a<n.length;a++){const l=n[a];if(["(",")",","].includes(l)&&(e=!0),l==="("&&i++,l===")"&&i--,!!e){if(i===0){if(l===" "&&["event","function","error",""].includes(s))s="";else if(s+=l,l===")"){o=!0;break}continue}if(l===" "){n[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=l,r+=l}}if(!o)throw new sn("Unable to normalize signature.");return s}function cR(n,e){const r=typeof n,i=e.type;switch(i){case"address":return iR(n,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>cR(Object.values(n)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?r==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(n)&&n.every(s=>cR(s,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Kce(n,e,r){for(const i in n){const s=n[i],o=e[i];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Kce(s.components,o.components,r[i]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?iR(r[i],{strict:!1}):a.includes("address")&&a.includes("bytes")?iR(r[i],{strict:!1}):!1)return a}}function Xce(n,e={}){const{prepare:r=!0}=e,i=Array.isArray(n)||typeof n=="string"?U$(n):n;return{...i,...r?{hash:Dm(i)}:{}}}function vC(n,e,r){const{args:i=[],prepare:s=!0}=r??{},o=UCe(e,{strict:!1}),a=n.filter(u=>o?u.type==="function"||u.type==="error"?Qce(u)===Ml(e,0,4):u.type==="event"?Dm(u)===e:!1:"name"in u&&u.name===e);if(a.length===0)throw new bS({name:e});if(a.length===1)return{...a[0],...s?{hash:Dm(a[0])}:{}};let l;for(const u of a){if(!("inputs"in u))continue;if(!i||i.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Dm(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==i.length)continue;if(i.every((h,f)=>{const p="inputs"in u&&u.inputs[f];return p?cR(h,p):!1})){if(l&&"inputs"in l&&l.inputs){const h=Kce(u.inputs,l.inputs,i);if(h)throw new e3e({abiItem:u,type:h[0]},{abiItem:l,type:h[1]})}l=u}}const c=(()=>{if(l)return l;const[u,...d]=a;return{...u,overloads:d}})();if(!c)throw new bS({name:e});return{...c,...s?{hash:Dm(c)}:{}}}function Qce(...n){const e=(()=>{if(Array.isArray(n[0])){const[r,i]=n;return vC(r,i)}return n[0]})();return Ml(Dm(e),0,4)}function Z5e(...n){const e=(()=>{if(Array.isArray(n[0])){const[i,s]=n;return vC(i,s)}return n[0]})(),r=typeof e=="string"?e:hS(e);return lR(r)}function Dm(...n){const e=(()=>{if(Array.isArray(n[0])){const[r,i]=n;return vC(r,i)}return n[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:$ce(Fj(Z5e(e)))}class e3e extends sn{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${lR(hS(e.abiItem))}\`, and`,`\`${r.type}\` in \`${lR(hS(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class bS extends sn{constructor({name:e,data:r,type:i="item"}){const s=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${i}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function t3e(...n){var o;const[e,r]=(()=>{if(Array.isArray(n[0])){const[a,l]=n;return[r3e(a),l]}return n})(),{bytecode:i,args:s}=r;return Ra(i,(o=e.inputs)!=null&&o.length&&(s!=null&&s.length)?n7(e.inputs,s):"0x")}function n3e(n){return Xce(n)}function r3e(n){const e=n.find(r=>r.type==="constructor");if(!e)throw new bS({name:"constructor"});return e}function i3e(...n){const[e,r=[]]=(()=>{if(Array.isArray(n[0])){const[u,d,h]=n;return[yz(u,d,{args:h}),h]}const[l,c]=n;return[l,c]})(),{overloads:i}=e,s=i?yz([e,...i],e.name,{args:r}):e,o=s3e(s),a=r.length>0?n7(s.inputs,r):void 0;return a?Ra(o,a):o}function Gp(n,e={}){return Xce(n,e)}function yz(n,e,r){const i=vC(n,e,r);if(i.type!=="function")throw new bS({name:e,type:"function"});return i}function s3e(n){return Qce(n)}const o3e="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",el="0x0000000000000000000000000000000000000000",a3e="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function l3e(n,e){const{blockNumber:r,blockTag:i,calls:s,stateOverrides:o,traceAssetChanges:a,traceTransfers:l,validation:c}=e,u=e.account?Fi(e.account):void 0;if(a&&!u)throw new Je("`account` is required when `traceAssetChanges` is true");const d=u?t3e(n3e("constructor(bytes, bytes)"),{bytecode:Hle,args:[a3e,i3e(Gp("function getBalance(address)"),[u.address])]}):void 0,h=a?await Promise.all(e.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:H}=await tce(n,{account:u.address,...R,data:R.abi?Ua(R):R.data});return H.map(({address:U,storageKeys:K})=>K.length>0?U:null)})).then(R=>R.flat().filter(Boolean)):[],f=await aR(n,{blockNumber:r,blockTag:i,blocks:[...a?[{calls:[{data:d}],stateOverrides:o},{calls:h.map((R,H)=>({abi:[Gp("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:el,nonce:H})),stateOverrides:[{address:el,nonce:0}]}]:[],{calls:[...s,{}].map(R=>({...R,from:u==null?void 0:u.address})),stateOverrides:o},...a?[{calls:[{data:d}]},{calls:h.map((R,H)=>({abi:[Gp("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:el,nonce:H})),stateOverrides:[{address:el,nonce:0}]},{calls:h.map((R,H)=>({to:R,abi:[Gp("function decimals() returns (uint256)")],functionName:"decimals",from:el,nonce:H})),stateOverrides:[{address:el,nonce:0}]},{calls:h.map((R,H)=>({to:R,abi:[Gp("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:el,nonce:H})),stateOverrides:[{address:el,nonce:0}]},{calls:h.map((R,H)=>({to:R,abi:[Gp("function symbol() returns (string)")],functionName:"symbol",from:el,nonce:H})),stateOverrides:[{address:el,nonce:0}]}]:[]],traceTransfers:l,validation:c}),p=a?f[2]:f[0],[m,b,,y,v,w,_,x]=a?f:[],{calls:k,...C}=p,E=k.slice(0,-1)??[],T=(m==null?void 0:m.calls)??[],M=(b==null?void 0:b.calls)??[],I=[...T,...M].map(R=>R.status==="success"?Bl(R.data):null),O=(y==null?void 0:y.calls)??[],F=(v==null?void 0:v.calls)??[],$=[...O,...F].map(R=>R.status==="success"?Bl(R.data):null),z=((w==null?void 0:w.calls)??[]).map(R=>R.status==="success"?R.result:null),D=((x==null?void 0:x.calls)??[]).map(R=>R.status==="success"?R.result:null),j=((_==null?void 0:_.calls)??[]).map(R=>R.status==="success"?R.result:null),N=[];for(const[R,H]of $.entries()){const U=I[R];if(typeof H!="bigint"||typeof U!="bigint")continue;const K=z[R-1],Y=D[R-1],Z=j[R-1],G=R===0?{address:o3e,decimals:18,symbol:"ETH"}:{address:h[R-1],decimals:Z||K?Number(K??1):void 0,symbol:Y??void 0};N.some(X=>X.token.address===G.address)||N.push({token:G,value:{pre:U,post:H,diff:H-U}})}return{assetChanges:N,block:C,results:E}}async function c3e(n,e){const{abi:r,address:i,args:s,dataSuffix:o,functionName:a,...l}=e,c=l.account?Fi(l.account):n.account,u=Ua({abi:r,args:s,functionName:a});try{const{data:d}=await Rt(n,fC,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:i,...l,account:c}),h=mp({abi:r,args:s,functionName:a,data:d||"0x"}),f=r.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:i,args:s,dataSuffix:o,functionName:a,...l,account:c}}}catch(d){throw i0(d,{abi:r,address:i,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c==null?void 0:c.address})}}async function wC(n,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const Jce="0x6492649264926492649264926492649264926492649264926492649264926492";function u3e(n){if(Ml(n,-32)!==Jce)throw new f3e(n)}function d3e(n){const{data:e,signature:r,to:i}=n;return Ra(n7(Wce("address, bytes, bytes"),[i,e,r]),Jce)}function h3e(n){try{return u3e(n),!0}catch{return!1}}class f3e extends sn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}let Zce=class extends Tj{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,dSe(e);const i=rC(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),t0(o)}update(e){return e0(this),this.iHash.update(e),this}digestInto(e){e0(this),Uf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const eue=(n,e,r)=>new Zce(n,e).update(r).digest();eue.create=(n,e)=>new Zce(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const a7=BigInt(0),uR=BigInt(1);function sx(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function l7(n){if(!sx(n))throw new Error("Uint8Array expected")}function Zv(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}function j1(n){const e=n.toString(16);return e.length&1?"0"+e:e}function tue(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?a7:BigInt("0x"+n)}const nue=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",p3e=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function ew(n){if(l7(n),nue)return n.toHex();let e="";for(let r=0;r<n.length;r++)e+=p3e[n[r]];return e}const oc={_0:48,_9:57,A:65,F:70,a:97,f:102};function vz(n){if(n>=oc._0&&n<=oc._9)return n-oc._0;if(n>=oc.A&&n<=oc.F)return n-(oc.A-10);if(n>=oc.a&&n<=oc.f)return n-(oc.a-10)}function yS(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(nue)return Uint8Array.fromHex(n);const e=n.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){const a=vz(n.charCodeAt(o)),l=vz(n.charCodeAt(o+1));if(a===void 0||l===void 0){const c=n[o]+n[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}i[s]=a*16+l}return i}function Sf(n){return tue(ew(n))}function rue(n){return l7(n),tue(ew(Uint8Array.from(n).reverse()))}function ox(n,e){return yS(n.toString(16).padStart(e*2,"0"))}function iue(n,e){return ox(n,e).reverse()}function jo(n,e,r){let i;if(typeof e=="string")try{i=yS(e)}catch(o){throw new Error(n+" must be hex string or Uint8Array, cause: "+o)}else if(sx(e))i=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(n+" of length "+r+" expected, got "+s);return i}function vS(...n){let e=0;for(let i=0;i<n.length;i++){const s=n[i];l7(s),e+=s.length}const r=new Uint8Array(e);for(let i=0,s=0;i<n.length;i++){const o=n[i];r.set(o,s),s+=o.length}return r}const Q6=n=>typeof n=="bigint"&&a7<=n;function c7(n,e,r){return Q6(n)&&Q6(e)&&Q6(r)&&e<=n&&n<r}function Jm(n,e,r,i){if(!c7(e,r,i))throw new Error("expected valid "+n+": "+r+" <= n < "+i+", got "+e)}function m3e(n){let e;for(e=0;n>a7;n>>=uR,e+=1);return e}const xC=n=>(uR<<BigInt(n))-uR,J6=n=>new Uint8Array(n),wz=n=>Uint8Array.from(n);function g3e(n,e,r){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=J6(n),s=J6(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},l=(...h)=>r(s,i,...h),c=(h=J6(0))=>{s=l(wz([0]),h),i=l(),h.length!==0&&(s=l(wz([1]),h),i=l())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return vS(...f)};return(h,f)=>{a(),c(h);let p;for(;!(p=f(u()));)c();return a(),p}}const b3e={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||sx(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function _C(n,e,r={}){const i=(s,o,a)=>{const l=b3e[o];if(typeof l!="function")throw new Error("invalid validator function");const c=n[s];if(!(a&&c===void 0)&&!l(c,n))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(e))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return n}function xz(n){const e=new WeakMap;return(r,...i)=>{const s=e.get(r);if(s!==void 0)return s;const o=n(r,...i);return e.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ts=BigInt(0),ss=BigInt(1),Qh=BigInt(2),y3e=BigInt(3),sue=BigInt(4),oue=BigInt(5),aue=BigInt(8);function _s(n,e){const r=n%e;return r>=Ts?r:e+r}function So(n,e,r){let i=n;for(;e-- >Ts;)i*=i,i%=r;return i}function dR(n,e){if(n===Ts)throw new Error("invert: expected non-zero number");if(e<=Ts)throw new Error("invert: expected positive modulus, got "+e);let r=_s(n,e),i=e,s=Ts,o=ss;for(;r!==Ts;){const l=i/r,c=i%r,u=s-o*l;i=r,r=c,s=o,o=u}if(i!==ss)throw new Error("invert: does not exist");return _s(s,e)}function lue(n,e){const r=(n.ORDER+ss)/sue,i=n.pow(e,r);if(!n.eql(n.sqr(i),e))throw new Error("Cannot find square root");return i}function v3e(n,e){const r=(n.ORDER-oue)/aue,i=n.mul(e,Qh),s=n.pow(i,r),o=n.mul(e,s),a=n.mul(n.mul(o,Qh),s),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),e))throw new Error("Cannot find square root");return l}function w3e(n){if(n<BigInt(3))throw new Error("sqrt is not defined for small field");let e=n-ss,r=0;for(;e%Qh===Ts;)e/=Qh,r++;let i=Qh;const s=u7(n);for(;_z(s,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return lue;let o=s.pow(i,e);const a=(e+ss)/Qh;return function(c,u){if(c.is0(u))return u;if(_z(c,u)!==1)throw new Error("Cannot find square root");let d=r,h=c.mul(c.ONE,o),f=c.pow(u,e),p=c.pow(u,a);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let m=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(m++,b=c.sqr(b),m===d)throw new Error("Cannot find square root");const y=ss<<BigInt(d-m-1),v=c.pow(h,y);d=m,h=c.sqr(v),f=c.mul(f,h),p=c.mul(p,v)}return p}}function x3e(n){return n%sue===y3e?lue:n%aue===oue?v3e:w3e(n)}const _3e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function k3e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=_3e.reduce((i,s)=>(i[s]="function",i),e);return _C(n,r)}function S3e(n,e,r){if(r<Ts)throw new Error("invalid exponent, negatives unsupported");if(r===Ts)return n.ONE;if(r===ss)return e;let i=n.ONE,s=e;for(;r>Ts;)r&ss&&(i=n.mul(i,s)),s=n.sqr(s),r>>=ss;return i}function cue(n,e,r=!1){const i=new Array(e.length).fill(r?n.ZERO:void 0),s=e.reduce((a,l,c)=>n.is0(l)?a:(i[c]=a,n.mul(a,l)),n.ONE),o=n.inv(s);return e.reduceRight((a,l,c)=>n.is0(l)?a:(i[c]=n.mul(a,i[c]),n.mul(a,l)),o),i}function _z(n,e){const r=(n.ORDER-ss)/Qh,i=n.pow(e,r),s=n.eql(i,n.ONE),o=n.eql(i,n.ZERO),a=n.eql(i,n.neg(n.ONE));if(!s&&!o&&!a)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function uue(n,e){e!==void 0&&Ov(e);const r=e!==void 0?e:n.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function u7(n,e,r=!1,i={}){if(n<=Ts)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:o}=uue(n,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const l=Object.freeze({ORDER:n,isLE:r,BITS:s,BYTES:o,MASK:xC(s),ZERO:Ts,ONE:ss,create:c=>_s(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ts<=c&&c<n},is0:c=>c===Ts,isOdd:c=>(c&ss)===ss,neg:c=>_s(-c,n),eql:(c,u)=>c===u,sqr:c=>_s(c*c,n),add:(c,u)=>_s(c+u,n),sub:(c,u)=>_s(c-u,n),mul:(c,u)=>_s(c*u,n),pow:(c,u)=>S3e(l,c,u),div:(c,u)=>_s(c*dR(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>dR(c,n),sqrt:i.sqrt||(c=>(a||(a=x3e(n)),a(l,c))),toBytes:c=>r?iue(c,o):ox(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?rue(c):Sf(c)},invertBatch:c=>cue(l,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(l)}function due(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function hue(n){const e=due(n);return e+Math.ceil(e/2)}function C3e(n,e,r=!1){const i=n.length,s=due(e),o=hue(e);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const a=r?rue(n):Sf(n),l=_s(a,e-ss)+ss;return r?iue(l,s):ox(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kz=BigInt(0),hR=BigInt(1);function Z6(n,e){const r=e.negate();return n?r:e}function fue(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function e5(n,e){fue(n,e);const r=Math.ceil(e/n)+1,i=2**(n-1),s=2**n,o=xC(n),a=BigInt(n);return{windows:r,windowSize:i,mask:o,maxNumber:s,shiftBy:a}}function Sz(n,e,r){const{windowSize:i,mask:s,maxNumber:o,shiftBy:a}=r;let l=Number(n&s),c=n>>a;l>i&&(l-=o,c+=hR);const u=e*i,d=u+Math.abs(l)-1,h=l===0,f=l<0,p=e%2!==0;return{nextN:c,offset:d,isZero:h,isNeg:f,isNegF:p,offsetF:u}}function E3e(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((r,i)=>{if(!(r instanceof e))throw new Error("invalid point at index "+i)})}function A3e(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((r,i)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+i)})}const t5=new WeakMap,pue=new WeakMap;function n5(n){return pue.get(n)||1}function T3e(n,e){return{constTimeNegate:Z6,hasPrecomputes(r){return n5(r)!==1},unsafeLadder(r,i,s=n.ZERO){let o=r;for(;i>kz;)i&hR&&(s=s.add(o)),o=o.double(),i>>=hR;return s},precomputeWindow(r,i){const{windows:s,windowSize:o}=e5(i,e),a=[];let l=r,c=l;for(let u=0;u<s;u++){c=l,a.push(c);for(let d=1;d<o;d++)c=c.add(l),a.push(c);l=c.double()}return a},wNAF(r,i,s){let o=n.ZERO,a=n.BASE;const l=e5(r,e);for(let c=0;c<l.windows;c++){const{nextN:u,offset:d,isZero:h,isNeg:f,isNegF:p,offsetF:m}=Sz(s,c,l);s=u,h?a=a.add(Z6(p,i[m])):o=o.add(Z6(f,i[d]))}return{p:o,f:a}},wNAFUnsafe(r,i,s,o=n.ZERO){const a=e5(r,e);for(let l=0;l<a.windows&&s!==kz;l++){const{nextN:c,offset:u,isZero:d,isNeg:h}=Sz(s,l,a);if(s=c,!d){const f=i[u];o=o.add(h?f.negate():f)}}return o},getPrecomputes(r,i,s){let o=t5.get(i);return o||(o=this.precomputeWindow(i,r),r!==1&&t5.set(i,s(o))),o},wNAFCached(r,i,s){const o=n5(r);return this.wNAF(o,this.getPrecomputes(o,r,s),i)},wNAFCachedUnsafe(r,i,s,o){const a=n5(r);return a===1?this.unsafeLadder(r,i,o):this.wNAFUnsafe(a,this.getPrecomputes(a,r,s),i,o)},setWindowSize(r,i){fue(i,e),pue.set(r,i),t5.delete(r)}}}function P3e(n,e,r,i){E3e(r,n),A3e(i,e);const s=r.length,o=i.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const a=n.ZERO,l=m3e(BigInt(s));let c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);const u=xC(c),d=new Array(Number(u)+1).fill(a),h=Math.floor((e.BITS-1)/c)*c;let f=a;for(let p=h;p>=0;p-=c){d.fill(a);for(let b=0;b<o;b++){const y=i[b],v=Number(y>>BigInt(p)&u);d[v]=d[v].add(r[b])}let m=a;for(let b=d.length-1,y=a;b>0;b--)y=y.add(d[b]),m=m.add(y);if(f=f.add(m),p!==0)for(let b=0;b<c;b++)f=f.double()}return f}function mue(n){return k3e(n.Fp),_C(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...uue(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cz(n){n.lowS!==void 0&&Zv("lowS",n.lowS),n.prehash!==void 0&&Zv("prehash",n.prehash)}function I3e(n){const e=mue(n);_C(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:i,a:s}=e;if(r){if(!i.eql(s,i.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class M3e extends Error{constructor(e=""){super(e)}}const xc={Err:M3e,_tlv:{encode:(n,e)=>{const{Err:r}=xc;if(n<0||n>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const i=e.length/2,s=j1(i);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const o=i>127?j1(s.length/2|128):"";return j1(n)+o+s+e},decode(n,e){const{Err:r}=xc;let i=0;if(n<0||n>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[i++]!==n)throw new r("tlv.decode: wrong tlv");const s=e[i++],o=!!(s&128);let a=0;if(!o)a=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(i,i+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const d of u)a=a<<8|d;if(i+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}const l=e.subarray(i,i+a);if(l.length!==a)throw new r("tlv.decode: wrong value length");return{v:l,l:e.subarray(i+a)}}},_int:{encode(n){const{Err:e}=xc;if(n<Mc)throw new e("integer: negative integers are not allowed");let r=j1(n);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(n){const{Err:e}=xc;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Sf(n)}},toSig(n){const{Err:e,_int:r,_tlv:i}=xc,s=jo("signature",n),{v:o,l:a}=i.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:c}=i.decode(2,o),{v:u,l:d}=i.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(u)}},hexFromSig(n){const{_tlv:e,_int:r}=xc,i=e.encode(2,r.encode(n.r)),s=e.encode(2,r.encode(n.s)),o=i+s;return e.encode(48,o)}};function r5(n,e){return ew(ox(n,e))}const Mc=BigInt(0),Jr=BigInt(1);BigInt(2);const i5=BigInt(3),O3e=BigInt(4);function D3e(n){const e=I3e(n),{Fp:r}=e,i=u7(e.n,e.nBitLength),s=e.toBytes||((_,x,k)=>{const C=x.toAffine();return vS(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),o=e.fromBytes||(_=>{const x=_.subarray(1),k=r.fromBytes(x.subarray(0,r.BYTES)),C=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:k,y:C}});function a(_){const{a:x,b:k}=e,C=r.sqr(_),E=r.mul(C,_);return r.add(r.add(E,r.mul(_,x)),k)}function l(_,x){const k=r.sqr(x),C=a(_);return r.eql(k,C)}if(!l(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(e.a,i5),O3e),u=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,u)))throw new Error("bad curve params: a or b");function d(_){return c7(_,Jr,e.n)}function h(_){const{allowedPrivateKeyLengths:x,nByteLength:k,wrapPrivateKey:C,n:E}=e;if(x&&typeof _!="bigint"){if(sx(_)&&(_=ew(_)),typeof _!="string"||!x.includes(_.length))throw new Error("invalid private key");_=_.padStart(k*2,"0")}let T;try{T=typeof _=="bigint"?_:Sf(jo("private key",_,k))}catch{throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof _)}return C&&(T=_s(T,E)),Jm("private key",T,Jr,E),T}function f(_){if(!(_ instanceof b))throw new Error("ProjectivePoint expected")}const p=xz((_,x)=>{const{px:k,py:C,pz:E}=_;if(r.eql(E,r.ONE))return{x:k,y:C};const T=_.is0();x==null&&(x=T?r.ONE:r.inv(E));const M=r.mul(k,x),I=r.mul(C,x),O=r.mul(E,x);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:M,y:I}}),m=xz(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.py))return;throw new Error("bad point: ZERO")}const{x,y:k}=_.toAffine();if(!r.isValid(x)||!r.isValid(k))throw new Error("bad point: x or y not FE");if(!l(x,k))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(x,k,C){if(x==null||!r.isValid(x))throw new Error("x required");if(k==null||!r.isValid(k)||r.is0(k))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");this.px=x,this.py=k,this.pz=C,Object.freeze(this)}static fromAffine(x){const{x:k,y:C}=x||{};if(!x||!r.isValid(k)||!r.isValid(C))throw new Error("invalid affine point");if(x instanceof b)throw new Error("projective point not allowed");const E=T=>r.eql(T,r.ZERO);return E(k)&&E(C)?b.ZERO:new b(k,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const k=cue(r,x.map(C=>C.pz));return x.map((C,E)=>C.toAffine(k[E])).map(b.fromAffine)}static fromHex(x){const k=b.fromAffine(o(jo("pointHex",x)));return k.assertValidity(),k}static fromPrivateKey(x){return b.BASE.multiply(h(x))}static msm(x,k){return P3e(b,i,x,k)}_setWindowSize(x){w.setWindowSize(this,x)}assertValidity(){m(this)}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){f(x);const{px:k,py:C,pz:E}=this,{px:T,py:M,pz:I}=x,O=r.eql(r.mul(k,I),r.mul(T,E)),F=r.eql(r.mul(C,I),r.mul(M,E));return O&&F}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:k}=e,C=r.mul(k,i5),{px:E,py:T,pz:M}=this;let I=r.ZERO,O=r.ZERO,F=r.ZERO,$=r.mul(E,E),z=r.mul(T,T),D=r.mul(M,M),j=r.mul(E,T);return j=r.add(j,j),F=r.mul(E,M),F=r.add(F,F),I=r.mul(x,F),O=r.mul(C,D),O=r.add(I,O),I=r.sub(z,O),O=r.add(z,O),O=r.mul(I,O),I=r.mul(j,I),F=r.mul(C,F),D=r.mul(x,D),j=r.sub($,D),j=r.mul(x,j),j=r.add(j,F),F=r.add($,$),$=r.add(F,$),$=r.add($,D),$=r.mul($,j),O=r.add(O,$),D=r.mul(T,M),D=r.add(D,D),$=r.mul(D,j),I=r.sub(I,$),F=r.mul(D,z),F=r.add(F,F),F=r.add(F,F),new b(I,O,F)}add(x){f(x);const{px:k,py:C,pz:E}=this,{px:T,py:M,pz:I}=x;let O=r.ZERO,F=r.ZERO,$=r.ZERO;const z=e.a,D=r.mul(e.b,i5);let j=r.mul(k,T),N=r.mul(C,M),R=r.mul(E,I),H=r.add(k,C),U=r.add(T,M);H=r.mul(H,U),U=r.add(j,N),H=r.sub(H,U),U=r.add(k,E);let K=r.add(T,I);return U=r.mul(U,K),K=r.add(j,R),U=r.sub(U,K),K=r.add(C,E),O=r.add(M,I),K=r.mul(K,O),O=r.add(N,R),K=r.sub(K,O),$=r.mul(z,U),O=r.mul(D,R),$=r.add(O,$),O=r.sub(N,$),$=r.add(N,$),F=r.mul(O,$),N=r.add(j,j),N=r.add(N,j),R=r.mul(z,R),U=r.mul(D,U),N=r.add(N,R),R=r.sub(j,R),R=r.mul(z,R),U=r.add(U,R),j=r.mul(N,U),F=r.add(F,j),j=r.mul(K,U),O=r.mul(H,O),O=r.sub(O,j),j=r.mul(H,N),$=r.mul(K,$),$=r.add($,j),new b(O,F,$)}subtract(x){return this.add(x.negate())}is0(){return this.equals(b.ZERO)}wNAF(x){return w.wNAFCached(this,x,b.normalizeZ)}multiplyUnsafe(x){const{endo:k,n:C}=e;Jm("scalar",x,Mc,C);const E=b.ZERO;if(x===Mc)return E;if(this.is0()||x===Jr)return this;if(!k||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,x,b.normalizeZ);let{k1neg:T,k1:M,k2neg:I,k2:O}=k.splitScalar(x),F=E,$=E,z=this;for(;M>Mc||O>Mc;)M&Jr&&(F=F.add(z)),O&Jr&&($=$.add(z)),z=z.double(),M>>=Jr,O>>=Jr;return T&&(F=F.negate()),I&&($=$.negate()),$=new b(r.mul($.px,k.beta),$.py,$.pz),F.add($)}multiply(x){const{endo:k,n:C}=e;Jm("scalar",x,Jr,C);let E,T;if(k){const{k1neg:M,k1:I,k2neg:O,k2:F}=k.splitScalar(x);let{p:$,f:z}=this.wNAF(I),{p:D,f:j}=this.wNAF(F);$=w.constTimeNegate(M,$),D=w.constTimeNegate(O,D),D=new b(r.mul(D.px,k.beta),D.py,D.pz),E=$.add(D),T=z.add(j)}else{const{p:M,f:I}=this.wNAF(x);E=M,T=I}return b.normalizeZ([E,T])[0]}multiplyAndAddUnsafe(x,k,C){const E=b.BASE,T=(I,O)=>O===Mc||O===Jr||!I.equals(E)?I.multiplyUnsafe(O):I.multiply(O),M=T(this,k).add(T(x,C));return M.is0()?void 0:M}toAffine(x){return p(this,x)}isTorsionFree(){const{h:x,isTorsionFree:k}=e;if(x===Jr)return!0;if(k)return k(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:k}=e;return x===Jr?this:k?k(b,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return Zv("isCompressed",x),this.assertValidity(),s(b,this,x)}toHex(x=!0){return Zv("isCompressed",x),ew(this.toRawBytes(x))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const{endo:y,nBitLength:v}=e,w=T3e(b,y?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:d}}function R3e(n){const e=mue(n);return _C(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function N3e(n){const e=R3e(n),{Fp:r,n:i,nByteLength:s,nBitLength:o}=e,a=r.BYTES+1,l=2*r.BYTES+1;function c(D){return _s(D,i)}function u(D){return dR(D,i)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=D3e({...e,toBytes(D,j,N){const R=j.toAffine(),H=r.toBytes(R.x),U=vS;return Zv("isCompressed",N),N?U(Uint8Array.from([j.hasEvenY()?2:3]),H):U(Uint8Array.from([4]),H,r.toBytes(R.y))},fromBytes(D){const j=D.length,N=D[0],R=D.subarray(1);if(j===a&&(N===2||N===3)){const H=Sf(R);if(!c7(H,Jr,r.ORDER))throw new Error("Point is not on curve");const U=f(H);let K;try{K=r.sqrt(U)}catch(G){const X=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+X)}const Y=(K&Jr)===Jr;return(N&1)===1!==Y&&(K=r.neg(K)),{x:H,y:K}}else if(j===l&&N===4){const H=r.fromBytes(R.subarray(0,r.BYTES)),U=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:H,y:U}}else{const H=a,U=l;throw new Error("invalid Point, expected length of "+H+", or uncompressed "+U+", got "+j)}}});function m(D){const j=i>>Jr;return D>j}function b(D){return m(D)?c(-D):D}const y=(D,j,N)=>Sf(D.slice(j,N));class v{constructor(j,N,R){Jm("r",j,Jr,i),Jm("s",N,Jr,i),this.r=j,this.s=N,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(j){const N=s;return j=jo("compactSignature",j,N*2),new v(y(j,0,N),y(j,N,2*N))}static fromDER(j){const{r:N,s:R}=xc.toSig(jo("DER",j));return new v(N,R)}assertValidity(){}addRecoveryBit(j){return new v(this.r,this.s,j)}recoverPublicKey(j){const{r:N,s:R,recovery:H}=this,U=E(jo("msgHash",j));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const K=H===2||H===3?N+e.n:N;if(K>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=H&1?"03":"02",Z=d.fromHex(Y+r5(K,r.BYTES)),G=u(K),X=c(-U*G),ae=c(R*G),be=d.BASE.multiplyAndAddUnsafe(Z,X,ae);if(!be)throw new Error("point at infinify");return be.assertValidity(),be}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return yS(this.toDERHex())}toDERHex(){return xc.hexFromSig(this)}toCompactRawBytes(){return yS(this.toCompactHex())}toCompactHex(){const j=s;return r5(this.r,j)+r5(this.s,j)}}const w={isValidPrivateKey(D){try{return h(D),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const D=hue(e.n);return C3e(e.randomBytes(D),e.n)},precompute(D=8,j=d.BASE){return j._setWindowSize(D),j.multiply(BigInt(3)),j}};function _(D,j=!0){return d.fromPrivateKey(D).toRawBytes(j)}function x(D){if(typeof D=="bigint")return!1;if(D instanceof d)return!0;const N=jo("key",D).length,R=r.BYTES,H=R+1,U=2*R+1;if(!(e.allowedPrivateKeyLengths||s===H))return N===H||N===U}function k(D,j,N=!0){if(x(D)===!0)throw new Error("first arg must be private key");if(x(j)===!1)throw new Error("second arg must be public key");return d.fromHex(j).multiply(h(D)).toRawBytes(N)}const C=e.bits2int||function(D){if(D.length>8192)throw new Error("input is too large");const j=Sf(D),N=D.length*8-o;return N>0?j>>BigInt(N):j},E=e.bits2int_modN||function(D){return c(C(D))},T=xC(o);function M(D){return Jm("num < 2^"+o,D,Mc,T),ox(D,s)}function I(D,j,N=O){if(["recovered","canonical"].some(J=>J in N))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:H}=e;let{lowS:U,prehash:K,extraEntropy:Y}=N;U==null&&(U=!0),D=jo("msgHash",D),Cz(N),K&&(D=jo("prehashed msgHash",R(D)));const Z=E(D),G=h(j),X=[M(G),M(Z)];if(Y!=null&&Y!==!1){const J=Y===!0?H(r.BYTES):Y;X.push(jo("extraEntropy",J))}const ae=vS(...X),be=Z;function le(J){const xe=C(J);if(!p(xe))return;const ge=u(xe),V=d.BASE.multiply(xe).toAffine(),we=c(V.x);if(we===Mc)return;const ze=c(ge*c(be+we*G));if(ze===Mc)return;let et=(V.x===we?0:2)|Number(V.y&Jr),$e=ze;return U&&m(ze)&&($e=b(ze),et^=1),new v(we,$e,et)}return{seed:ae,k2sig:le}}const O={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function $(D,j,N=O){const{seed:R,k2sig:H}=I(D,j,N),U=e;return g3e(U.hash.outputLen,U.nByteLength,U.hmac)(R,H)}d.BASE._setWindowSize(8);function z(D,j,N,R=F){var et;const H=D;j=jo("msgHash",j),N=jo("publicKey",N);const{lowS:U,prehash:K,format:Y}=R;if(Cz(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(Y!==void 0&&Y!=="compact"&&Y!=="der")throw new Error("format must be compact or der");const Z=typeof H=="string"||sx(H),G=!Z&&!Y&&typeof H=="object"&&H!==null&&typeof H.r=="bigint"&&typeof H.s=="bigint";if(!Z&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let X,ae;try{if(G&&(X=new v(H.r,H.s)),Z){try{Y!=="compact"&&(X=v.fromDER(H))}catch($e){if(!($e instanceof xc.Err))throw $e}!X&&Y!=="der"&&(X=v.fromCompact(H))}ae=d.fromHex(N)}catch{return!1}if(!X||U&&X.hasHighS())return!1;K&&(j=e.hash(j));const{r:be,s:le}=X,J=E(j),xe=u(le),ge=c(J*xe),V=c(be*xe),we=(et=d.BASE.multiplyAndAddUnsafe(ae,ge,V))==null?void 0:et.toAffine();return we?c(we.x)===be:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:k,sign:$,verify:z,ProjectivePoint:d,Signature:v,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j3e(n){return{hash:n,hmac:(e,...r)=>eue(n,e,bSe(...r)),randomBytes:ySe}}function B3e(n,e){const r=i=>N3e({...n,...j3e(i)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gue=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ez=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),L3e=BigInt(0),F3e=BigInt(1),fR=BigInt(2),Az=(n,e)=>(n+e/fR)/e;function $3e(n){const e=gue,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=n*n*n%e,d=u*u*n%e,h=So(d,r,e)*d%e,f=So(h,r,e)*d%e,p=So(f,fR,e)*u%e,m=So(p,s,e)*p%e,b=So(m,o,e)*m%e,y=So(b,l,e)*b%e,v=So(y,c,e)*y%e,w=So(v,l,e)*b%e,_=So(w,r,e)*d%e,x=So(_,a,e)*m%e,k=So(x,i,e)*u%e,C=So(k,fR,e);if(!pR.eql(pR.sqr(C),n))throw new Error("Cannot find square root");return C}const pR=u7(gue,void 0,void 0,{sqrt:$3e}),bue=B3e({a:L3e,b:BigInt(7),Fp:pR,n:Ez,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Ez,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-F3e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),l=Az(o*n,e),c=Az(-i*n,e);let u=_s(n-l*r-c*s,e),d=_s(-l*i-c*o,e);const h=u>a,f=d>a;if(h&&(u=e-u),f&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:u,k2neg:f,k2:d}}}},bce),z3e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:bue},Symbol.toStringTag,{value:"Module"}));function U3e({r:n,s:e,to:r="hex",v:i,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(i&&(i===27n||i===28n||i>=35n))return i%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new bue.Signature(Bl(n),Bl(e)).toCompactHex()}${o===0?"1b":"1c"}`;return r==="hex"?a:Fl(a)}async function kC(n,e){var c,u,d,h;const{address:r,chain:i=n.chain,hash:s,erc6492VerifierAddress:o=e.universalSignatureVerifierAddress??((u=(c=i==null?void 0:i.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:a=e.multicallAddress??((h=(d=i==null?void 0:i.contracts)==null?void 0:d.multicall3)==null?void 0:h.address)}=e;if(i!=null&&i.verifyHash)return await i.verifyHash(n,e);const l=(()=>{const f=e.signature;return jl(f)?f:typeof f=="object"&&"r"in f&&"s"in f?U3e(f):qr(f)})();try{return H5e(l)?await W3e(n,{...e,multicallAddress:a,signature:l}):await q3e(n,{...e,verifierAddress:o,signature:l})}catch(f){try{if(mC(ri(r),await sce({hash:s,signature:l})))return!0}catch{}if(f instanceof Vf)return!1;throw f}}async function W3e(n,e){var y;const{address:r,blockNumber:i,blockTag:s,hash:o,multicallAddress:a}=e,{authorization:l,data:c,signature:u,to:d}=q5e(e.signature);if(await nR(n,{address:r,blockNumber:i,blockTag:s})===q0(["0xef0100",l.address]))return await H3e(n,{address:r,blockNumber:i,blockTag:s,hash:o,signature:u});const f={address:l.address,chainId:Number(l.chainId),nonce:Number(l.nonce),r:kt(l.r,{size:32}),s:kt(l.s,{size:32}),yParity:l.yParity};if(!await u6e({address:r,authorization:f}))throw new Vf;const m=await Rt(n,ja,"readContract")({...a?{address:a}:{code:$j},authorizationList:[f],abi:uS,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??r,callData:c}]:[],{allowFailure:!0,target:r,callData:Ua({abi:zae,functionName:"isValidSignature",args:[o,u]})}]]}),b=(y=m[m.length-1])==null?void 0:y.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new Vf}async function q3e(n,e){const{address:r,factory:i,factoryData:s,hash:o,signature:a,verifierAddress:l,...c}=e,u=await(async()=>!i&&!s||h3e(a)?a:d3e({data:s,signature:a,to:i}))(),d=l?{to:l,data:Ua({abi:T$,functionName:"isValidSig",args:[r,o,u]}),...c}:{data:zj({abi:T$,args:[r,o,u],bytecode:YCe}),...c},{data:h}=await Rt(n,fC,"call")(d).catch(f=>{throw f instanceof Ile?new Vf:f});if(Jke(h??"0x0"))return!0;throw new Vf}async function H3e(n,e){const{address:r,blockNumber:i,blockTag:s,hash:o,signature:a}=e;if((await Rt(n,ja,"readContract")({address:r,abi:zae,args:[o,a],blockNumber:i,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Mle?new Vf:c})).startsWith("0x1626ba7e"))return!0;throw new Vf}class Vf extends Error{}async function V3e(n,{address:e,message:r,factory:i,factoryData:s,signature:o,...a}){const l=Ece(r);return Rt(n,kC,"verifyHash")({address:e,factory:i,factoryData:s,hash:l,signature:o,...a})}async function G3e(n,e){const{address:r,factory:i,factoryData:s,signature:o,message:a,primaryType:l,types:c,domain:u,...d}=e,h=S6e({message:a,primaryType:l,types:c,domain:u});return Rt(n,kC,"verifyHash")({address:r,factory:i,factoryData:s,hash:h,signature:o,...d})}const s5=new Map,Tz=new Map;let Y3e=0;function Vd(n,e,r){const i=++Y3e,s=()=>s5.get(n)||[],o=()=>{const d=s();s5.set(n,d.filter(h=>h.id!==i))},a=()=>{const d=s();if(!d.some(f=>f.id===i))return;const h=Tz.get(n);if(d.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}o()},l=s();if(s5.set(n,[...l,{id:i,fns:e}]),l&&l.length>0)return a;const c={};for(const d in e)c[d]=(...h)=>{var p,m;const f=s();if(f.length!==0)for(const b of f)(m=(p=b.fns)[d])==null||m.call(p,...h)};const u=r(c);return typeof u=="function"&&Tz.set(n,u),a}function ax(n,{emitOnBegin:e,initialWaitTime:r,interval:i}){let s=!0;const o=()=>s=!1;return(async()=>{let l;e&&(l=await n({unpoll:o}));const c=await(r==null?void 0:r(l))??i;await rR(c);const u=async()=>{s&&(await n({unpoll:o}),await rR(i),u())};u()})(),o}function yue(n,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:i,onError:s,poll:o,pollingInterval:a=n.pollingInterval}){const l=typeof o<"u"?o:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc"));let c;return l?(()=>{const h=ai(["watchBlockNumber",n.uid,e,r,a]);return Vd(h,{onBlockNumber:i,onError:s},f=>ax(async()=>{var p;try{const m=await Rt(n,ix,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(m===c)return;if(m-c>1&&r)for(let b=c+1n;b<m;b++)f.onBlockNumber(b,c),c=b}(c===void 0||m>c)&&(f.onBlockNumber(m,c),c=m)}catch(m){(p=f.onError)==null||p.call(f,m)}},{emitOnBegin:e,interval:a}))})():(()=>{const h=ai(["watchBlockNumber",n.uid,e,r]);return Vd(h,{onBlockNumber:i,onError:s},f=>{let p=!0,m=()=>p=!1;return(async()=>{try{const b=(()=>{if(n.transport.type==="fallback"){const v=n.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return v?v.value:n.transport}return n.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(v){var _;if(!p)return;const w=Bl((_=v.result)==null?void 0:_.number);f.onBlockNumber(w,c),c=w},onError(v){var w;(w=f.onError)==null||w.call(f,v)}});m=y,p||m()}catch(b){s==null||s(b)}})(),()=>m()})})()}async function K3e(n,e){const{checkReplacement:r=!0,confirmations:i=1,hash:s,onReplaced:o,retryCount:a=6,retryDelay:l=({count:k})=>~~(1<<k)*200,timeout:c=18e4}=e,u=ai(["waitForTransactionReceipt",n.uid,s]),d=(()=>{var k;return e.pollingInterval?e.pollingInterval:(k=n.chain)!=null&&k.experimental_preconfirmationTime?n.chain.experimental_preconfirmationTime:n.pollingInterval})();let h,f,p,m=!1,b,y;const{promise:v,resolve:w,reject:_}=Gle(),x=c?setTimeout(()=>{y==null||y(),b==null||b(),_(new rCe({hash:s}))},c):void 0;return b=Vd(u,{onReplaced:o,resolve:w,reject:_},async k=>{if(p=await Rt(n,ak,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&i<=1){clearTimeout(x),k.resolve(p),b==null||b();return}y=Rt(n,yue,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(C){const E=M=>{clearTimeout(x),y==null||y(),M(),b==null||b()};let T=C;if(!m)try{if(p){if(i>1&&(!p.blockNumber||T-p.blockNumber+1n<i))return;E(()=>k.resolve(p));return}if(r&&!h&&(m=!0,await s0(async()=>{h=await Rt(n,o7,"getTransaction")({hash:s}),h.blockNumber&&(T=h.blockNumber)},{delay:l,retryCount:a}),m=!1),p=await Rt(n,ak,"getTransactionReceipt")({hash:s}),i>1&&(!p.blockNumber||T-p.blockNumber+1n<i))return;E(()=>k.resolve(p))}catch(M){if(M instanceof Tle||M instanceof Ple){if(!h){m=!1;return}try{f=h,m=!0;const I=await s0(()=>Rt(n,Ea,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:l,retryCount:a,shouldRetry:({error:$})=>$ instanceof uce});m=!1;const O=I.transactions.find(({from:$,nonce:z})=>$===f.from&&z===f.nonce);if(!O||(p=await Rt(n,ak,"getTransactionReceipt")({hash:O.hash}),i>1&&(!p.blockNumber||T-p.blockNumber+1n<i)))return;let F="replaced";O.to===f.to&&O.value===f.value&&O.input===f.input?F="repriced":O.from===O.to&&O.value===0n&&(F="cancelled"),E(()=>{var $;($=k.onReplaced)==null||$.call(k,{reason:F,replacedTransaction:f,transaction:O,transactionReceipt:p}),k.resolve(p)})}catch(I){E(()=>k.reject(I))}}else E(()=>k.reject(M))}}})}),v}function X3e(n,{blockTag:e=n.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:i=!1,onBlock:s,onError:o,includeTransactions:a,poll:l,pollingInterval:c=n.pollingInterval}){const u=typeof l<"u"?l:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")),d=a??!1;let h;return u?(()=>{const m=ai(["watchBlocks",n.uid,e,r,i,d,c]);return Vd(m,{onBlock:s,onError:o},b=>ax(async()=>{var y;try{const v=await Rt(n,Ea,"getBlock")({blockTag:e,includeTransactions:d});if(v.number!==null&&(h==null?void 0:h.number)!=null){if(v.number===h.number)return;if(v.number-h.number>1&&r)for(let w=(h==null?void 0:h.number)+1n;w<v.number;w++){const _=await Rt(n,Ea,"getBlock")({blockNumber:w,includeTransactions:d});b.onBlock(_,h),h=_}}((h==null?void 0:h.number)==null||e==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>h.number)&&(b.onBlock(v,h),h=v)}catch(v){(y=b.onError)==null||y.call(b,v)}},{emitOnBegin:i,interval:c}))})():(()=>{let m=!0,b=!0,y=()=>m=!1;return(async()=>{try{i&&Rt(n,Ea,"getBlock")({blockTag:e,includeTransactions:d}).then(_=>{m&&b&&(s(_,void 0),b=!1)}).catch(o);const v=(()=>{if(n.transport.type==="fallback"){const _=n.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return _?_.value:n.transport}return n.transport})(),{unsubscribe:w}=await v.subscribe({params:["newHeads"],async onData(_){var k;if(!m)return;const x=await Rt(n,Ea,"getBlock")({blockNumber:(k=_.result)==null?void 0:k.number,includeTransactions:d}).catch(()=>{});m&&(s(x,h),b=!1,h=x)},onError(_){o==null||o(_)}});y=w,m||y()}catch(v){o==null||o(v)}})(),()=>y()})()}function Q3e(n,e){const{abi:r,address:i,args:s,batch:o=!0,eventName:a,fromBlock:l,onError:c,onLogs:u,poll:d,pollingInterval:h=n.pollingInterval,strict:f}=e;return(typeof d<"u"?d:typeof l=="bigint"?!0:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")))?(()=>{const y=f??!1,v=ai(["watchContractEvent",i,s,o,n.uid,a,h,y,l]);return Vd(v,{onLogs:u,onError:c},w=>{let _;l!==void 0&&(_=l-1n);let x,k=!1;const C=ax(async()=>{var E;if(!k){try{x=await Rt(n,nce,"createContractEventFilter")({abi:r,address:i,args:s,eventName:a,strict:y,fromBlock:l})}catch{}k=!0;return}try{let T;if(x)T=await Rt(n,gC,"getFilterChanges")({filter:x});else{const M=await Rt(n,ix,"getBlockNumber")({});_&&_<M?T=await Rt(n,kce,"getContractEvents")({abi:r,address:i,args:s,eventName:a,fromBlock:_+1n,toBlock:M,strict:y}):T=[],_=M}if(T.length===0)return;if(o)w.onLogs(T);else for(const M of T)w.onLogs([M])}catch(T){x&&T instanceof Hd&&(k=!1),(E=w.onError)==null||E.call(w,T)}},{emitOnBegin:!0,interval:h});return async()=>{x&&await Rt(n,wC,"uninstallFilter")({filter:x}),C()}})})():(()=>{const y=f??!1,v=ai(["watchContractEvent",i,s,o,n.uid,a,h,y]);let w=!0,_=()=>w=!1;return Vd(v,{onLogs:u,onError:c},x=>((async()=>{try{const k=(()=>{if(n.transport.type==="fallback"){const T=n.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return T?T.value:n.transport}return n.transport})(),C=a?rx({abi:r,eventName:a,args:s}):[],{unsubscribe:E}=await k.subscribe({params:["logs",{address:i,topics:C}],onData(T){var I;if(!w)return;const M=T.result;try{const{eventName:O,args:F}=mS({abi:r,data:M.data,topics:M.topics,strict:f}),$=cu(M,{args:F,eventName:O});x.onLogs([$])}catch(O){let F,$;if(O instanceof dS||O instanceof Aj){if(f)return;F=O.abiItem.name,$=(I=O.abiItem.inputs)==null?void 0:I.some(D=>!("name"in D&&D.name))}const z=cu(M,{args:$?[]:{},eventName:F});x.onLogs([z])}},onError(T){var M;(M=x.onError)==null||M.call(x,T)}});_=E,w||_()}catch(k){c==null||c(k)}})(),()=>_()))})()}function J3e(n,{address:e,args:r,batch:i=!0,event:s,events:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:d=n.pollingInterval,strict:h}){const f=typeof u<"u"?u:typeof a=="bigint"?!0:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const y=ai(["watchEvent",e,r,i,n.uid,s,d,a]);return Vd(y,{onLogs:c,onError:l},v=>{let w;a!==void 0&&(w=a-1n);let _,x=!1;const k=ax(async()=>{var C;if(!x){try{_=await Rt(n,rce,"createEventFilter")({address:e,args:r,event:s,events:o,strict:p,fromBlock:a})}catch{}x=!0;return}try{let E;if(_)E=await Rt(n,gC,"getFilterChanges")({filter:_});else{const T=await Rt(n,ix,"getBlockNumber")({});w&&w!==T?E=await Rt(n,Jj,"getLogs")({address:e,args:r,event:s,events:o,fromBlock:w+1n,toBlock:T}):E=[],w=T}if(E.length===0)return;if(i)v.onLogs(E);else for(const T of E)v.onLogs([T])}catch(E){_&&E instanceof Hd&&(x=!1),(C=v.onError)==null||C.call(v,E)}},{emitOnBegin:!0,interval:d});return async()=>{_&&await Rt(n,wC,"uninstallFilter")({filter:_}),k()}})})():(()=>{let y=!0,v=()=>y=!1;return(async()=>{try{const w=(()=>{if(n.transport.type==="fallback"){const C=n.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return C?C.value:n.transport}return n.transport})(),_=o??(s?[s]:void 0);let x=[];_&&(x=[_.flatMap(E=>rx({abi:[E],eventName:E.name,args:r}))],s&&(x=x[0]));const{unsubscribe:k}=await w.subscribe({params:["logs",{address:e,topics:x}],onData(C){var T;if(!y)return;const E=C.result;try{const{eventName:M,args:I}=mS({abi:_??[],data:E.data,topics:E.topics,strict:p}),O=cu(E,{args:I,eventName:M});c([O])}catch(M){let I,O;if(M instanceof dS||M instanceof Aj){if(h)return;I=M.abiItem.name,O=(T=M.abiItem.inputs)==null?void 0:T.some($=>!("name"in $&&$.name))}const F=cu(E,{args:O?[]:{},eventName:I});c([F])}},onError(C){l==null||l(C)}});v=k,y||v()}catch(w){l==null||l(w)}})(),()=>v()})()}function Z3e(n,{batch:e=!0,onError:r,onTransactions:i,poll:s,pollingInterval:o=n.pollingInterval}){return(typeof s<"u"?s:n.transport.type!=="webSocket"&&n.transport.type!=="ipc")?(()=>{const u=ai(["watchPendingTransactions",n.uid,e,o]);return Vd(u,{onTransactions:i,onError:r},d=>{let h;const f=ax(async()=>{var p;try{if(!h)try{h=await Rt(n,ice,"createPendingTransactionFilter")({});return}catch(b){throw f(),b}const m=await Rt(n,gC,"getFilterChanges")({filter:h});if(m.length===0)return;if(e)d.onTransactions(m);else for(const b of m)d.onTransactions([b])}catch(m){(p=d.onError)==null||p.call(d,m)}},{emitOnBegin:!0,interval:o});return async()=>{h&&await Rt(n,wC,"uninstallFilter")({filter:h}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:h}=await n.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const p=f.result;i([p])},onError(f){r==null||r(f)}});d=h,u||d()}catch(h){r==null||r(h)}})(),()=>d()})()}class vue extends Je{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}async function eAe(n,{serializedTransaction:e}){return n.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}async function tAe(n,{serializedTransaction:e,throwOnReceiptRevert:r,timeout:i}){var l,c,u;const s=await n.request({method:"eth_sendRawTransactionSync",params:i?[e,kt(i)]:[e]},{retryCount:0}),a=(((u=(c=(l=n.chain)==null?void 0:l.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||Cce)(s);if(a.status==="reverted"&&r)throw new nCe({receipt:a});return a}async function nAe(n,{account:e=n.account,message:r}){if(!e)throw new vue({docsPath:"/docs/actions/wallet/signMessage"});const i=Fi(e);if(i.signMessage)return i.signMessage({message:r});const s=typeof r=="string"?Zg(r):r.raw instanceof Uint8Array?au(r.raw):r.raw;return n.request({method:"personal_sign",params:[s,i.address]},{retryCount:0})}async function rAe(n,e){const{account:r=n.account,domain:i,message:s,primaryType:o}=e;if(!r)throw new vue({docsPath:"/docs/actions/wallet/signTypedData"});const a=Fi(r),l={EIP712Domain:Tce({domain:i}),...e.types};if(Ace({domain:i,message:s,primaryType:o,types:l}),a.signTypedData)return a.signTypedData({domain:i,message:s,primaryType:o,types:l});const c=_6e({domain:i,message:s,primaryType:o,types:l});return n.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}function lx(n,e,r){const i=n[e.name];if(typeof i=="function")return i;const s=n[r];return typeof s=="function"?s:o=>e(n,o)}const lk="3.0.0",iAe=()=>`@wagmi/core@${lk}`;var wue=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},wS,xue;let bu=class mR extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return iAe()}constructor(e,r={}){var o;super(),wS.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const i=r.cause instanceof mR?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,s=r.cause instanceof mR&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...i?[`Details: ${i}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return wue(this,wS,"m",xue).call(this,this,e)}};wS=new WeakSet,xue=function n(e,r){return r!=null&&r(e)?e:e.cause?wue(this,wS,"m",n).call(this,e.cause,r):e};class Gd extends bu{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class sAe extends bu{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class oAe extends bu{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class aAe extends bu{constructor({address:e,connector:r}){super(`Account "${e}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class lAe extends bu{constructor({connectionChainId:e,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class cAe extends bu{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function uAe(n,e){var i;let r;if(typeof e.connector=="function"?r=n._internal.connectors.setup(e.connector):r=e.connector,r.uid===n.state.current)throw new sAe;try{n.setState(l=>({...l,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=e,a=await r.connect(o);return r.emitter.off("connect",n._internal.events.connect),r.emitter.on("change",n._internal.events.change),r.emitter.on("disconnect",n._internal.events.disconnect),await((i=n.storage)==null?void 0:i.setItem("recentConnectorId",r.id)),n.setState(l=>({...l,connections:new Map(l.connections).set(r.uid,{accounts:o.withCapabilities?a.accounts.map(c=>typeof c=="object"?c.address:c):a.accounts,chainId:a.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:o.withCapabilities?a.accounts.map(l=>typeof l=="object"?l:{address:l,capabilities:{}}):a.accounts,chainId:a.chainId}}catch(s){throw n.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const gR=256;let B1=gR,L1;function _ue(n=11){if(!L1||B1+n>gR*2){L1="",B1=0;for(let e=0;e<gR;e++)L1+=(256+Math.random()*256|0).toString(16).substring(1)}return L1.substring(B1,B1+++n)}function kue(n){const{batch:e,chain:r,ccipRead:i,key:s="base",name:o="Base Client",type:a="base"}=n,l=n.experimental_blockTag??(typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(r==null?void 0:r.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),d=n.pollingInterval??u,h=n.cacheTime??d,f=n.account?Fi(n.account):void 0,{config:p,request:m,value:b}=n.transport({account:f,chain:r,pollingInterval:d}),y={...p,...b},v={account:f,batch:e,cacheTime:h,ccipRead:i,chain:r,key:s,name:o,pollingInterval:d,request:m,transport:y,type:a,uid:_ue(),...l?{experimental_blockTag:l}:{}};function w(_){return x=>{const k=x(_);for(const E in v)delete k[E];const C={..._,...k};return Object.assign(C,{extend:w(C)})}}return Object.assign(v,{extend:w(v)})}function dAe(n){var h,f,p;const{scheme:e,statement:r,...i}=((h=n.match(hAe))==null?void 0:h.groups)??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:l,requestId:c,...u}=((f=n.match(fAe))==null?void 0:f.groups)??{},d=(p=n.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...i,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...l?{notBefore:new Date(l)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const hAe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,fAe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function pAe(n){const{address:e,domain:r,message:i,nonce:s,scheme:o,time:a=new Date}=n;if(r&&i.domain!==r||s&&i.nonce!==s||o&&i.scheme!==o||i.expirationTime&&a>=i.expirationTime||i.notBefore&&a<i.notBefore)return!1;try{if(!i.address||!ho(i.address,{strict:!1})||e&&!mC(i.address,e))return!1}catch{return!1}return!0}async function mAe(n,e){const{address:r,domain:i,message:s,nonce:o,scheme:a,signature:l,time:c=new Date,...u}=e,d=dAe(s);if(!d.address||!pAe({address:r,domain:i,message:d,nonce:o,scheme:a,time:c}))return!1;const f=Ece(s);return kC(n,{address:d.address,hash:f,signature:l,...u})}function gAe(n){return{call:e=>fC(n,e),createAccessList:e=>tce(n,e),createBlockFilter:()=>bEe(n),createContractEventFilter:e=>nce(n,e),createEventFilter:e=>rce(n,e),createPendingTransactionFilter:()=>ice(n),estimateContractGas:e=>YEe(n,e),estimateGas:e=>Xj(n,e),getBalance:e=>_ce(n,e),getBlobBaseFee:()=>KEe(n),getBlock:e=>Ea(n,e),getBlockNumber:e=>ix(n,e),getBlockTransactionCount:e=>t6e(n,e),getBytecode:e=>nR(n,e),getChainId:()=>Kj(n),getCode:e=>nR(n,e),getContractEvents:e=>kce(n,e),getEip712Domain:e=>s6e(n,e),getEnsAddress:e=>rEe(n,e),getEnsAvatar:e=>Zle(n,e),getEnsName:e=>ece(n,e),getEnsResolver:e=>gEe(n,e),getEnsText:e=>Jle(n,e),getFeeHistory:e=>l6e(n,e),estimateFeesPerGas:e=>IEe(n,e),getFilterChanges:e=>gC(n,e),getFilterLogs:e=>c6e(n,e),getGasPrice:()=>Gj(n),getLogs:e=>Jj(n,e),getProof:e=>K5e(n,e),estimateMaxPriorityFeePerGas:e=>PEe(n,e),fillTransaction:e=>wce(n,e),getStorageAt:e=>X5e(n,e),getTransaction:e=>o7(n,e),getTransactionConfirmations:e=>Q5e(n,e),getTransactionCount:e=>pce(n,e),getTransactionReceipt:e=>ak(n,e),multicall:e=>J5e(n,e),prepareTransactionRequest:e=>xce(n,e),readContract:e=>ja(n,e),sendRawTransaction:e=>eAe(n,e),sendRawTransactionSync:e=>tAe(n,e),simulate:e=>aR(n,e),simulateBlocks:e=>aR(n,e),simulateCalls:e=>l3e(n,e),simulateContract:e=>c3e(n,e),verifyHash:e=>kC(n,e),verifyMessage:e=>V3e(n,e),verifySiweMessage:e=>mAe(n,e),verifyTypedData:e=>G3e(n,e),uninstallFilter:e=>wC(n,e),waitForTransactionReceipt:e=>K3e(n,e),watchBlocks:e=>X3e(n,e),watchBlockNumber:e=>yue(n,e),watchContractEvent:e=>Q3e(n,e),watchEvent:e=>J3e(n,e),watchPendingTransactions:e=>Z3e(n,e)}}function Sue({key:n,methods:e,name:r,request:i,retryCount:s=3,retryDelay:o=150,timeout:a,type:l},c){const u=_ue();return{config:{key:n,methods:e,name:r,request:i,retryCount:s,retryDelay:o,timeout:a,type:l},request:h6e(i,{methods:e,retryCount:s,retryDelay:o,uid:u}),value:c}}function bAe(n,e={}){const{key:r="custom",methods:i,name:s="Custom Provider",retryDelay:o}=e;return({retryCount:a})=>Sue({key:r,methods:i,name:s,request:n.request.bind(n),retryCount:e.retryCount??a,retryDelay:o,type:"custom"})}class yAe extends Je{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function bR(n,e={}){const{batch:r,fetchFn:i,fetchOptions:s,key:o="http",methods:a,name:l="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:h}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:b=1e3,wait:y=0}=typeof r=="object"?r:{},v=e.retryCount??p,w=m??e.timeout??1e4,_=f==null?void 0:f.rpcUrls.default.http[0];if(!_)throw new yAe;const x=g6e(_,{fetchFn:i,fetchOptions:s,onRequest:c,onResponse:u,timeout:w});return Sue({key:o,methods:a,name:l,async request({method:k,params:C}){const E={method:k,params:C},{schedule:T}=Yle({id:_,wait:y,shouldSplitBatch(F){return F.length>b},fn:F=>x.request({body:F}),sort:(F,$)=>F.id-$.id}),M=async F=>r?T(F):[await x.request({body:F})],[{error:I,result:O}]=await M(E);if(h)return{error:I,result:O};if(I)throw new Lj({body:E,error:I,url:_});return O},retryCount:v,retryDelay:d,timeout:w,type:"http"},{fetchOptions:s,url:_})}}async function Cue(n,e={}){const{assertChainId:r=!0}=e;let i;if(e.connector){const{connector:d}=e;if(n.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new cAe({connector:d});const[h,f]=await Promise.all([d.getAccounts().catch(p=>{if(e.account===null)return[];throw p}),d.getChainId()]);i={accounts:h,chainId:f,connector:d}}else i=n.state.connections.get(n.state.current);if(!i)throw new oAe;const s=e.chainId??i.chainId,o=await i.connector.getChainId();if(r&&o!==s)throw new lAe({connectionChainId:s,connectorChainId:o});const a=i.connector;if(a.getClient)return a.getClient({chainId:s});const l=Fi(e.account??i.accounts[0]);if(l&&(l.address=ri(l.address)),e.account&&!i.accounts.some(d=>d.toLowerCase()===l.address.toLowerCase()))throw new aAe({address:l.address,connector:a});const c=n.chains.find(d=>d.id===s),u=await i.connector.getProvider({chainId:s});return kue({account:l,chain:c,name:"Connector Client",transport:d=>bAe(u)({...d,retryCount:0})})}async function vAe(n,e={}){var s,o;let r;if(e.connector)r=e.connector;else{const{connections:a,current:l}=n.state,c=a.get(l);r=c==null?void 0:c.connector}const i=n.state.connections;r&&(await r.disconnect(),r.emitter.off("change",n._internal.events.change),r.emitter.off("disconnect",n._internal.events.disconnect),r.emitter.on("connect",n._internal.events.connect),i.delete(r.uid)),n.setState(a=>{if(i.size===0)return{...a,connections:new Map,current:null,status:"disconnected"};const l=i.values().next().value;return{...a,connections:new Map(i),current:l.connector.uid}});{const a=n.state.current;if(!a)return;const l=(s=n.state.connections.get(a))==null?void 0:s.connector;if(!l)return;await((o=n.storage)==null?void 0:o.setItem("recentConnectorId",l.id))}}async function wAe(n,e){const{address:r,blockNumber:i,blockTag:s,chainId:o}=e,a=n.getClient({chainId:o}),c=await lx(a,_ce,"getBalance")(i?{address:r,blockNumber:i}:{address:r,blockTag:s}),u=n.chains.find(d=>d.id===o)??a.chain;return{decimals:u.nativeCurrency.decimals,symbol:u.nativeCurrency.symbol,value:c}}function Pz(n){return n.state.chainId}function Gf(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;let r,i;if(Array.isArray(n)&&Array.isArray(e)){if(r=n.length,r!==e.length)return!1;for(i=r;i--!==0;)if(!Gf(n[i],e[i]))return!1;return!0}if(typeof n.valueOf=="function"&&n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(typeof n.toString=="function"&&n.toString!==Object.prototype.toString)return n.toString()===e.toString();const s=Object.keys(n);if(r=s.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.hasOwn(e,s[i]))return!1;for(i=r;i--!==0;){const o=s[i];if(o&&!Gf(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}let o5=[];function Iz(n){const e=n.chains;return Gf(o5,e)?o5:(o5=e,e)}function xAe(n,e={}){try{return n.getClient(e)}catch{return}}function Eue(n){const e=n.state.current,r=n.state.connections.get(e),i=r==null?void 0:r.accounts,s=i==null?void 0:i[0],o=n.chains.find(l=>l.id===(r==null?void 0:r.chainId)),a=n.state.status;switch(a){case"connected":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}let F1=[];function yR(n){const e=[...n.state.connections.values()];return n.state.status==="reconnecting"||Gf(F1,e)?F1:(F1=e,e)}let $1=[];function Mz(n){const e=n.connectors;return $1.length===e.length&&$1.every((r,i)=>r===e[i])?$1:($1=e,e)}function _Ae(n,e){const{chainId:r,...i}=e,s=n.getClient({chainId:r});return lx(s,Zle,"getEnsAvatar")(i)}function kAe(n,e){const{chainId:r,...i}=e,s=n.getClient({chainId:r});return lx(s,ece,"getEnsName")(i)}function vR(n,e={}){const r=xAe(n,e);return r==null?void 0:r.extend(gAe)}let a5=!1;async function SAe(n,e={}){var u,d;if(a5)return[];a5=!0,n.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const r=[];if((u=e.connectors)!=null&&u.length)for(const h of e.connectors){let f;typeof h=="function"?f=n._internal.connectors.setup(h):f=h,r.push(f)}else r.push(...n.connectors);let i;try{i=await((d=n.storage)==null?void 0:d.getItem("recentConnectorId"))}catch{}const s={};for(const[,h]of n.state.connections)s[h.connector.id]=1;i&&(s[i]=0);const o=Object.keys(s).length>0?[...r].sort((h,f)=>(s[h.id]??10)-(s[f.id]??10)):r;let a=!1;const l=[],c=[];for(const h of o){const f=await h.getProvider().catch(()=>{});if(!f||c.some(b=>b===f)||!await h.isAuthorized())continue;const m=await h.connect({isReconnecting:!0}).catch(()=>null);m&&(h.emitter.off("connect",n._internal.events.connect),h.emitter.on("change",n._internal.events.change),h.emitter.on("disconnect",n._internal.events.disconnect),n.setState(b=>{const y=new Map(a?b.connections:new Map).set(h.uid,{accounts:m.accounts,chainId:m.chainId,connector:h});return{...b,current:a?b.current:h.uid,connections:y}}),l.push({accounts:m.accounts,chainId:m.chainId,connector:h}),c.push(f),a=!0)}return(n.state.status==="reconnecting"||n.state.status==="connecting")&&(a?n.setState(h=>({...h,status:"connected"})):n.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),a5=!1,l}async function CAe(n,e){const{account:r,connector:i,...s}=e;let o;return typeof r=="object"&&r.type==="local"?o=n.getClient():o=await Cue(n,{account:r,connector:i}),lx(o,nAe,"signMessage")({...s,...r?{account:r}:{}})}async function EAe(n,e){const{account:r,connector:i,...s}=e;let o;return typeof r=="object"&&r.type==="local"?o=n.getClient():o=await Cue(n,{account:r,connector:i}),lx(o,rAe,"signTypedData")({...s,...r?{account:r}:{}})}class Qs extends bu{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class AAe extends bu{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function TAe(n,e){var a;const{addEthereumChainParameter:r,chainId:i}=e,s=n.state.connections.get(((a=e.connector)==null?void 0:a.uid)??n.state.current);if(s){const l=s.connector;if(!l.switchChain)throw new AAe({connector:l});return await l.switchChain({addEthereumChainParameter:r,chainId:i})}const o=n.chains.find(l=>l.id===i);if(!o)throw new Gd;return n.setState(l=>({...l,chainId:i})),o}function PAe(n,e){const{onChange:r}=e;return n.subscribe(i=>i.chainId,r)}function Aue(n,e){const{onChange:r}=e;return n.subscribe(()=>Eue(n),r,{equalityFn(i,s){const{connector:o,...a}=i,{connector:l,...c}=s;return Gf(a,c)&&(o==null?void 0:o.id)===(l==null?void 0:l.id)&&(o==null?void 0:o.uid)===(l==null?void 0:l.uid)}})}function IAe(n,e){const{onChange:r}=e;return n.subscribe(()=>yR(n),r,{equalityFn:Gf})}function MAe(n,e){const{onChange:r}=e;return n._internal.connectors.subscribe((i,s)=>{r(Object.values(i),s)})}function OAe(n,e){const{onChange:r}=e;return n.subscribe(()=>vR(n),r,{equalityFn(i,s){return(i==null?void 0:i.uid)===(s==null?void 0:s.uid)}})}cx.type="injected";function cx(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=n;function i(){const c=n.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...DAe[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,a,l;return c=>({get icon(){return i().icon},get id(){return i().id},get name(){return i().name},type:cx.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&n.target&&(a||(a=this.onConnect.bind(this),u.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:h}={}){var m,b,y,v,w,_;const f=await this.getProvider();if(!f)throw new Qs;let p=[];if(d)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(v=(y=(b=(m=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:b[0])==null?void 0:y.value)==null?void 0:v.map(k=>ri(k)),p.length>0&&(p=await this.getAccounts())}catch(x){const k=x;if(k.code===An.code)throw new An(k);if(k.code===Il.code)throw k}try{!(p!=null&&p.length)&&!d&&(p=(await f.request({method:"eth_requestAccounts"})).map(C=>ri(C))),a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l));let x=await this.getChainId();if(u&&x!==u){const k=await this.switchChain({chainId:u}).catch(C=>{if(C.code===An.code)throw C;return{id:x}});x=(k==null?void 0:k.id)??x}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),n.target||await((_=c.storage)==null?void 0:_.setItem("injected.connected",!0)),{accounts:h?p.map(k=>({address:k,capabilities:{}})):p,chainId:x}}catch(x){const k=x;throw k.code===An.code?new An(k):k.code===Il.code?new Il(k):k}},async disconnect(){var d,h;const u=await this.getProvider();if(!u)throw new Qs;o&&(u.removeListener("chainChanged",o),o=void 0),l&&(u.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a));try{await bC(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=c.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),n.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Qs;return(await u.request({method:"eth_accounts"})).map(h=>ri(h))},async getChainId(){const u=await this.getProvider();if(!u)throw new Qs;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=i();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=ck(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!n.target&&!await((d=c.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const m=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",m),!!await this.getProvider()),b=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(m()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(m()),b))]))return!0}throw new Qs}return!!(await s0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var m,b,y,v;const h=await this.getProvider();if(!h)throw new Qs;const f=c.chains.find(w=>w.id===d);if(!f)throw new so(new Gd);const p=new Promise(w=>{const _=x=>{"chainId"in x&&x.chainId===d&&(c.emitter.off("change",_),w())};c.emitter.on("change",_)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:kt(d)}]}).then(async()=>{await this.getChainId()===d&&c.emitter.emit("change",{chainId:d})}),p]),f}catch(w){const _=w;if(_.code===4902||((b=(m=_==null?void 0:_.data)==null?void 0:m.originalError)==null?void 0:b.code)===4902)try{const{default:x,...k}=f.blockExplorers??{};let C;u!=null&&u.blockExplorerUrls?C=u.blockExplorerUrls:x&&(C=[x.url,...Object.values(k).map(M=>M.url)]);let E;(y=u==null?void 0:u.rpcUrls)!=null&&y.length?E=u.rpcUrls:E=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const T={blockExplorerUrls:C,chainId:kt(d),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:E};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[T]}).then(async()=>{if(await this.getChainId()===d)c.emitter.emit("change",{chainId:d});else throw new An(new Error("User rejected switch after adding network."))}),p]),f}catch(x){throw new An(x)}throw _.code===An.code?new An(_):new so(_)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((d=c.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(h=>ri(h))})},onChainChanged(u){const d=Number(u);c.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const h=Number(u.chainId);c.emitter.emit("connect",{accounts:d,chainId:h});const f=await this.getProvider();f&&(a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),l&&(d.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a))))}})}const DAe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n!=null&&n.coinbaseWalletExtension?n.coinbaseWalletExtension:ck(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return ck(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const i of r)if(e[i])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){var e,r;return(e=n==null?void 0:n.phantom)!=null&&e.ethereum?(r=n.phantom)==null?void 0:r.ethereum:ck(n,"isPhantom")}}};function ck(n,e){function r(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const i=n.ethereum;if(i!=null&&i.providers)return i.providers.find(s=>r(s));if(i&&r(i))return i}function RAe(n){if(typeof window>"u")return;const e=r=>n(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function NAe(){const n=new Set;let e=[];const r=()=>RAe(s=>{e.some(({info:o})=>o.uuid===s.info.uuid)||(e=[...e,s],n.forEach(o=>o(e,{added:[s]})))});let i=r();return{_listeners(){return n},clear(){n.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),i==null||i()},findProvider({rdns:s}){return e.find(o=>o.info.rdns===s)},getProviders(){return e},reset(){this.clear(),i==null||i(),i=r()},subscribe(s,{emitImmediately:o}={}){return n.add(s),o&&s(e,{added:e}),()=>n.delete(s)}}}const jAe=n=>(e,r,i)=>{const s=i.subscribe;return i.subscribe=(a,l,c)=>{let u=a;if(l){const d=(c==null?void 0:c.equalityFn)||Object.is;let h=a(i.getState());u=f=>{const p=a(f);if(!d(h,p)){const m=h;l(h=p,m)}},c!=null&&c.fireImmediately&&l(h,h)}return s(u)},n(e,r,i)},BAe=jAe;function LAe(n,e){let r;try{r=n()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>r.removeItem(s)}}const wR=n=>e=>{try{const r=n(e);return r instanceof Promise?r:{then(i){return wR(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return wR(i)(r)}}}},FAe=(n,e)=>(r,i,s)=>{let o={storage:LAe(()=>localStorage),partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...e},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return n((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...b)},i,s);const d=()=>{const b=o.partialize({...i()});return u.setItem(o.name,{state:b,version:o.version})},h=s.setState;s.setState=(b,y)=>{h(b,y),d()};const f=n((...b)=>{r(...b),d()},i,s);s.getInitialState=()=>f;let p;const m=()=>{var b,y;if(!u)return;a=!1,l.forEach(w=>{var _;return w((_=i())!=null?_:f)});const v=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(b=i())!=null?b:f))||void 0;return wR(u.getItem.bind(u))(o.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return[!0,o.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var _;const[x,k]=w;if(p=o.merge(k,(_=i())!=null?_:f),r(p,!0),x)return d()}).then(()=>{v==null||v(p,void 0),p=i(),a=!0,c.forEach(w=>w(p))}).catch(w=>{v==null||v(void 0,w)})};return s.persist={setOptions:b=>{o={...o,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},o.skipHydration||m(),p||f},$Ae=FAe,Oz=n=>{let e;const r=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=n(i,s,l);return l},l5=n=>n?Oz(n):Oz;var Tue={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,h||c,f),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,m){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],v=arguments.length,w,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,f),!0;case 5:return y.fn.call(y.context,d,h,f,p),!0;case 6:return y.fn.call(y.context,d,h,f,p,m),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];y.fn.apply(y.context,w)}else{var x=y.length,k;for(_=0;_<x;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,h);break;case 4:y[_].fn.call(y[_].context,d,h,f);break;default:if(!w)for(k=1,w=new Array(v-1);k<v;k++)w[k-1]=arguments[k];y[_].fn.apply(y[_].context,w)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!h||m.context===h)&&a(this,p);else{for(var b=0,y=[],v=m.length;b<v;b++)(m[b].fn!==d||f&&!m[b].once||h&&m[b].context!==h)&&y.push(m[b]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l})(Tue);var zAe=Tue.exports;const UAe=F2(zAe);let WAe=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new UAe})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const i=r[0];this._emitter.emit(e,{uid:this.uid,...i})}listenerCount(e){return this._emitter.listenerCount(e)}};function qAe(n){return new WAe(n)}function HAe(n,e){return JSON.parse(n,(r,i)=>{let s=i;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(r,s))??s})}function Dz(n,e){return n.slice(0,e).join(".")||"."}function Rz(n,e){const{length:r}=n;for(let i=0;i<r;++i)if(n[i]===e)return i+1;return 0}function VAe(n,e){const r=typeof n=="function",i=typeof e=="function",s=[],o=[];return function(l,c){if(typeof c=="object")if(s.length){const u=Rz(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=l;const d=Rz(s,c);if(d!==0)return i?e.call(this,l,c,Dz(o,d)):`[ref=${Dz(o,d)}]`}else s[0]=c,o[0]=l;return r?n.call(this,l,c):c}}function GAe(n,e,r,i){return JSON.stringify(n,VAe((s,o)=>{let a=o;return typeof a=="bigint"&&(a={__type:"bigint",value:o.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(o.entries())}),(e==null?void 0:e(s,a))??a},i),r??void 0)}function YAe(n){const{deserialize:e=HAe,key:r="wagmi",serialize:i=GAe,storage:s=Pue}=n;function o(a){return a instanceof Promise?a.then(l=>l).catch(()=>null):a}return{...s,key:r,async getItem(a,l){const c=s.getItem(`${r}.${a}`),u=await o(c);return u?e(u)??null:l??null},async setItem(a,l){const c=`${r}.${a}`;l===null?await o(s.removeItem(c)):await o(s.setItem(c,i(l)))},async removeItem(a){await o(s.removeItem(`${r}.${a}`))}}}const Pue={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function KAe(){const n=typeof window<"u"&&window.localStorage?window.localStorage:Pue;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,r){try{n.setItem(e,r)}catch{}}}}const xR=256;let z1=xR,U1;function XAe(n=11){if(!U1||z1+n>xR*2){U1="",z1=0;for(let e=0;e<xR;e++)U1+=(256+Math.random()*256|0).toString(16).substring(1)}return U1.substring(z1,z1+++n)}function Iue(n){const{multiInjectedProviderDiscovery:e=!0,storage:r=YAe({storage:KAe()}),syncConnectedChain:i=!0,ssr:s=!1,...o}=n,a=typeof window<"u"&&e?NAe():void 0,l=l5(()=>o.chains),c=l5(()=>{const k=[],C=new Set;for(const E of o.connectors??[]){const T=u(E);if(k.push(T),!s&&T.rdns){const M=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const I of M)C.add(I)}}if(!s&&a){const E=a.getProviders();for(const T of E)C.has(T.info.rdns)||k.push(u(d(T)))}return k});function u(k){var T;const C=qAe(XAe()),E={...k({emitter:C,chains:l.getState(),storage:r,transports:o.transports}),emitter:C,uid:C.uid};return C.on("connect",_),(T=E.setup)==null||T.call(E),E}function d(k){const{info:C}=k,E=k.provider;return cx({target:{...C,id:C.rdns,provider:E}})}const h=new Map;function f(k={}){const C=k.chainId??y.getState().chainId,E=l.getState().find(M=>M.id===C);if(k.chainId&&!E)throw new Gd;{const M=h.get(y.getState().chainId);if(M&&!E)return M;if(!E)throw new Gd}{const M=h.get(C);if(M)return M}let T;if(o.client)T=o.client({chain:E});else{const M=E.id,I=l.getState().map($=>$.id),O={},F=Object.entries(o);for(const[$,z]of F)if(!($==="chains"||$==="client"||$==="connectors"||$==="transports"))if(typeof z=="object")if(M in z)O[$]=z[M];else{if(I.some(j=>j in z))continue;O[$]=z}else O[$]=z;T=kue({...O,chain:E,batch:O.batch??{multicall:!0},transport:$=>o.transports[M]({...$,connectors:c})})}return h.set(C,T),T}function p(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const b="0.0.0-canary-";lk.startsWith(b)?m=Number.parseInt(lk.replace(b,""),10):m=Number.parseInt(lk.split(".")[0]??"0",10);const y=l5(BAe(r?$Ae(p,{migrate(k,C){if(C===m)return k;const E=p(),T=v(k,E.chainId);return{...E,chainId:T}},name:"store",partialize(k){return{connections:{__type:"Map",value:Array.from(k.connections.entries()).map(([C,E])=>{const{id:T,name:M,type:I,uid:O}=E.connector;return[C,{...E,connector:{id:T,name:M,type:I,uid:O}}]})},chainId:k.chainId,current:k.current}},merge(k,C){typeof k=="object"&&k&&"status"in k&&delete k.status;const E=v(k,C.chainId);return{...C,...k,chainId:E}},skipHydration:s,storage:r,version:m}):p));y.setState(p());function v(k,C){return k&&typeof k=="object"&&"chainId"in k&&typeof k.chainId=="number"&&l.getState().some(E=>E.id===k.chainId)?k.chainId:C}i&&y.subscribe(({connections:k,current:C})=>{var E;return C?(E=k.get(C))==null?void 0:E.chainId:void 0},k=>{if(l.getState().some(E=>E.id===k))return y.setState(E=>({...E,chainId:k??E.chainId}))}),a==null||a.subscribe(k=>{const C=new Set,E=new Set;for(const M of c.getState())if(C.add(M.id),M.rdns){const I=typeof M.rdns=="string"?[M.rdns]:M.rdns;for(const O of I)E.add(O)}const T=[];for(const M of k){if(E.has(M.info.rdns))continue;const I=u(d(M));C.has(I.id)||T.push(I)}r&&!y.persist.hasHydrated()||c.setState(M=>[...M,...T],!0)});function w(k){y.setState(C=>{const E=C.connections.get(k.uid);return E?{...C,connections:new Map(C.connections).set(k.uid,{accounts:k.accounts??E.accounts,chainId:k.chainId??E.chainId,connector:E.connector})}:C})}function _(k){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(C=>{const E=c.getState().find(T=>T.uid===k.uid);return E?(E.emitter.listenerCount("connect")&&E.emitter.off("connect",w),E.emitter.listenerCount("change")||E.emitter.on("change",w),E.emitter.listenerCount("disconnect")||E.emitter.on("disconnect",x),{...C,connections:new Map(C.connections).set(k.uid,{accounts:k.accounts,chainId:k.chainId,connector:E}),current:k.uid,status:"connected"}):C})}function x(k){y.setState(C=>{const E=C.connections.get(k.uid);if(E){const M=E.connector;M.emitter.listenerCount("change")&&E.connector.emitter.off("change",w),M.emitter.listenerCount("disconnect")&&E.connector.emitter.off("disconnect",x),M.emitter.listenerCount("connect")||E.connector.emitter.on("connect",_)}if(C.connections.delete(k.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const T=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:T.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:r,getClient:f,get state(){return y.getState()},setState(k){let C;typeof k=="function"?C=k(y.getState()):C=k;const E=p();typeof C!="object"&&(C=E),Object.keys(E).some(M=>!(M in C))&&(C=E),y.setState(C,!0)},subscribe(k,C,E){return y.subscribe(k,C,E?{...E,fireImmediately:E.emitImmediately}:void 0)},_internal:{mipd:a,async revalidate(){const k=y.getState(),C=k.connections;let E=k.current;for(const[,T]of C){const M=T.connector;M.isAuthorized&&await M.isAuthorized()||(C.delete(M.uid),E===M.uid&&(E=null))}y.setState(T=>({...T,connections:C,current:E}))},store:y,ssr:!!s,syncConnectedChain:i,transports:o.transports,chains:{setState(k){const C=typeof k=="function"?k(l.getState()):k;if(C.length!==0)return l.setState(C,!0)},subscribe(k){return l.subscribe(k)}},connectors:{providerDetailToConnector:d,setup:u,setState(k){return c.setState(typeof k=="function"?k(c.getState()):k,!0)},subscribe(k){return c.subscribe(k)}},events:{change:w,connect:_,disconnect:x}}}}function QAe(n,e){const{initialState:r,reconnectOnMount:i}=e;return r&&!n._internal.store.persist.hasHydrated()&&n.setState({...r,chainId:n.chains.some(s=>s.id===r.chainId)?r.chainId:n.chains[0].id,connections:i?r.connections:new Map,status:i?"reconnecting":"disconnected"}),{async onMount(){n._internal.ssr&&(await n._internal.store.persist.rehydrate(),n._internal.mipd&&n._internal.connectors.setState(s=>{var c;const o=new Set;for(const u of s??[])if(u.rdns){const d=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const h of d)o.add(h)}const a=[],l=((c=n._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of l){if(o.has(u.info.rdns))continue;const d=n._internal.connectors.providerDetailToConnector(u),h=n._internal.connectors.setup(d);a.push(h)}return[...s,...a]})),i?SAe(n):n.storage&&n.setState(s=>({...s,connections:new Map}))}}}function Mue(n){var o,a,l;const{chain:e}=n,r=e.rpcUrls.default.http[0];if(!n.transports)return[r];const i=(a=(o=n.transports)==null?void 0:o[e.id])==null?void 0:a.call(o,{chain:e});return(((l=i==null?void 0:i.value)==null?void 0:l.transports)||[i]).map(({value:c})=>(c==null?void 0:c.url)||r)}function JAe(n){const{children:e,config:r,initialState:i,reconnectOnMount:s=!0}=n,{onMount:o}=QAe(r,{initialState:i,reconnectOnMount:s});r._internal.ssr||o();const a=A.useRef(!0);return A.useEffect(()=>{if(a.current&&r._internal.ssr)return o(),()=>{a.current=!1}},[]),e}const Oue=A.createContext(void 0);function Nz(n){const{children:e,config:r}=n,i={value:r};return A.createElement(JAe,n,A.createElement(Oue.Provider,i,e))}const ZAe="3.1.0",eTe=()=>`wagmi@${ZAe}`;class tTe extends bu{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return eTe()}}class nTe extends tTe{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function rTe(n){return JSON.stringify(n,(e,r)=>iTe(r)?Object.keys(r).sort().reduce((i,s)=>(i[s]=r[s],i),{}):typeof r=="bigint"?r.toString():r)}function iTe(n){if(!jz(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!jz(r)||!r.hasOwnProperty("isPrototypeOf"))}function jz(n){return Object.prototype.toString.call(n)==="[object Object]"}function d7(n){const{_defaulted:e,behavior:r,gcTime:i,initialData:s,initialDataUpdatedAt:o,maxPages:a,meta:l,networkMode:c,queryFn:u,queryHash:d,queryKey:h,queryKeyHashFn:f,retry:p,retryDelay:m,structuralSharing:b,getPreviousPageParam:y,getNextPageParam:v,initialPageParam:w,_optimisticResults:_,enabled:x,notifyOnChangeProps:k,placeholderData:C,refetchInterval:E,refetchIntervalInBackground:T,refetchOnMount:M,refetchOnReconnect:I,refetchOnWindowFocus:O,retryOnMount:F,select:$,staleTime:z,suspense:D,throwOnError:j,config:N,connector:R,query:H,...U}=n;return U}function sTe(n){return{mutationFn(e){return uAe(n,e)},mutationKey:["connect"]}}function oTe(n){return{mutationFn(e){return vAe(n,e)},mutationKey:["disconnect"]}}function aTe(n,e={}){return{async queryFn({queryKey:r}){const{address:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("address is required");return await wAe(n,{...o,address:i})??null},queryKey:lTe(e)}}function lTe(n={}){return["balance",d7(n)]}function cTe(n,e={}){return{async queryFn({queryKey:r}){const{name:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("name is required");return _Ae(n,{...o,name:i})},queryKey:uTe(e)}}function uTe(n={}){return["ensAvatar",d7(n)]}function dTe(n,e={}){return{async queryFn({queryKey:r}){const{address:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("address is required");return kAe(n,{...o,address:i})},queryKey:hTe(e)}}function hTe(n={}){return["ensName",d7(n)]}function fTe(n){return{mutationFn(e){return CAe(n,e)},mutationKey:["signMessage"]}}function pTe(n){return{mutationFn(e){return EAe(n,e)},mutationKey:["signTypedData"]}}function mTe(n){return{mutationFn(e){return TAe(n,e)},mutationKey:["switchChain"]}}function h7(n){const e=Lae({...n,queryKeyHashFn:rTe});return e.queryKey=n.queryKey,e}function Gr(n={}){const e=n.config??A.useContext(Oue);if(!e)throw new nTe;return e}function ux(n={}){const e=Gr(n);return A.useSyncExternalStore(r=>PAe(e,{onChange:r}),()=>Pz(e),()=>Pz(e))}function Due(n={}){const{address:e,query:r={}}=n,i=Gr(n),s=ux({config:i}),o=aTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return h7({...r,...o,enabled:a})}function gTe(n,e){const{onChange:r}=e;return n._internal.chains.subscribe((i,s)=>{r(i,s)})}var Rue={exports:{}},Nue={},jue={exports:{}},Bue={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=A;function bTe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var yTe=typeof Object.is=="function"?Object.is:bTe,vTe=o0.useState,wTe=o0.useEffect,xTe=o0.useLayoutEffect,_Te=o0.useDebugValue;function kTe(n,e){var r=e(),i=vTe({inst:{value:r,getSnapshot:e}}),s=i[0].inst,o=i[1];return xTe(function(){s.value=r,s.getSnapshot=e,c5(s)&&o({inst:s})},[n,r,e]),wTe(function(){return c5(s)&&o({inst:s}),n(function(){c5(s)&&o({inst:s})})},[n]),_Te(r),r}function c5(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!yTe(n,r)}catch{return!0}}function STe(n,e){return e()}var CTe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?STe:kTe;Bue.useSyncExternalStore=o0.useSyncExternalStore!==void 0?o0.useSyncExternalStore:CTe;jue.exports=Bue;var ETe=jue.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=A,ATe=ETe;function TTe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var PTe=typeof Object.is=="function"?Object.is:TTe,ITe=ATe.useSyncExternalStore,MTe=SC.useRef,OTe=SC.useEffect,DTe=SC.useMemo,RTe=SC.useDebugValue;Nue.useSyncExternalStoreWithSelector=function(n,e,r,i,s){var o=MTe(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=DTe(function(){function c(p){if(!u){if(u=!0,d=p,p=i(p),s!==void 0&&a.hasValue){var m=a.value;if(s(m,p))return h=m}return h=p}if(m=h,PTe(d,p))return m;var b=i(p);return s!==void 0&&s(m,b)?(d=p,m):(d=p,h=b)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,i,s]);var l=ITe(n,o[0],o[1]);return OTe(function(){a.hasValue=!0,a.value=l},[l]),RTe(l),l};Rue.exports=Nue;var Lue=Rue.exports;const u5=n=>typeof n=="object"&&!Array.isArray(n);function NTe(n,e,r=e,i=Gf){const s=A.useRef([]),o=Lue.useSyncExternalStoreWithSelector(n,e,r,a=>a,(a,l)=>{if(u5(a)&&u5(l)&&s.current.length){for(const c of s.current)if(!i(a[c],l[c]))return!1;return!0}return i(a,l)});return A.useMemo(()=>{if(u5(o)){const a={...o};let l={};for(const[c,u]of Object.entries(a))l={...l,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(a,l),a}return o},[o])}function Ci(n={}){const e=Gr(n);return NTe(r=>Aue(e,{onChange:r}),()=>Eue(e))}function jTe(n={}){const e=Gr(n);return A.useSyncExternalStore(r=>gTe(e,{onChange:r}),()=>Iz(e),()=>Iz(e))}function BTe(n={}){const e=Gr(n);return A.useSyncExternalStore(r=>MAe(e,{onChange:r}),()=>Mz(e),()=>Mz(e))}function f7(n={}){const e=Gr(n),r=sTe(e),i=Kw({...n.mutation,...r});return A.useEffect(()=>e.subscribe(({status:s})=>s,(s,o)=>{o==="connected"&&s==="disconnected"&&i.reset()}),[e,i.reset]),{...i,connect:i.mutate,connectAsync:i.mutateAsync,connectors:BTe({config:e})}}function Fue(n={}){const{onConnect:e,onDisconnect:r}=n,i=Gr(n);A.useEffect(()=>Aue(i,{onChange(s,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&s.status==="connected"){const{address:a,addresses:l,chain:c,chainId:u,connector:d}=s,h=o.status==="reconnecting"||o.status===void 0;e==null||e({address:a,addresses:l,chain:c,chainId:u,connector:d,isReconnected:h})}else o.status==="connected"&&s.status==="disconnected"&&(r==null||r())}}),[i,e,r])}function LTe(n={}){const e=Gr(n);return A.useSyncExternalStore(r=>IAe(e,{onChange:r}),()=>yR(e),()=>yR(e))}function dx(n={}){const e=Gr(n),r=oTe(e),i=Kw({...n.mutation,...r});return{...i,connectors:LTe({config:e}).map(s=>s.connector),disconnect:i.mutate,disconnectAsync:i.mutateAsync}}function FTe(n={}){const{name:e,query:r={}}=n,i=Gr(n),s=ux({config:i}),o=cTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return h7({...r,...o,enabled:a})}function $Te(n={}){const{address:e,query:r={}}=n,i=Gr(n),s=ux({config:i}),o=dTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return h7({...r,...o,enabled:a})}function zTe(n={}){const e=Gr(n);return Lue.useSyncExternalStoreWithSelector(r=>OAe(e,{onChange:r}),()=>vR(e,n),()=>vR(e,n),r=>r,(r,i)=>(r==null?void 0:r.uid)===(i==null?void 0:i.uid))}function UTe(n={}){const e=Gr(n),r=fTe(e),i=Kw({...n.mutation,...r});return{...i,signMessage:i.mutate,signMessageAsync:i.mutateAsync}}function p7(n={}){const e=Gr(n),r=pTe(e),i=Kw({...n.mutation,...r});return{...i,mutate:i.mutate,mutateAsync:i.mutateAsync,signTypedData:i.mutate,signTypedDataAsync:i.mutateAsync}}function WTe(n={}){const e=Gr(n),r=mTe(e),i=Kw({...n.mutation,...r});return{...i,mutate:i.mutate,mutateAsync:i.mutateAsync,chains:jTe({config:e}),switchChain:i.mutate,switchChainAsync:i.mutateAsync}}var Bz='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',qTe={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${Bz}`,system:Bz},Nb={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},HTe={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},VTe=({borderRadius:n="large",fontStack:e="rounded",overlayBlur:r="none"})=>({blurs:{modalOverlay:HTe[r].modalOverlay},fonts:{body:qTe[e]},radii:{actionButton:Nb[n].actionButton,connectButton:Nb[n].connectButton,menuButton:Nb[n].connectButton,modal:Nb[n].modal,modalMobile:Nb[n].modalMobile}}),$ue={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},Lz=$ue.blue,zue=({accentColor:n=Lz.accentColor,accentColorForeground:e=Lz.accentColorForeground,...r}={})=>({...VTe(r),colors:{accentColor:n,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});zue.accentColors=$ue;var _R=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "ready": {
      "qr_code": {
        "step1": {
          "description": "Add Ready to your home screen for faster access to your wallet.",
          "title": "Open the Ready app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Binance Wallet extension",
          "description": "We recommend pinning Binance Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ctrl": {
      "extension": {
        "step1": {
          "title": "Install the CTRL Wallet extension",
          "description": "We recommend pinning CTRL Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "gemini": {
      "qr_code": {
        "step1": {
          "title": "Open keys.gemini.com",
          "description": "Visit keys.gemini.com on your mobile browser - no app download required."
        },
        "step2": {
          "title": "Create Your Wallet Instantly",
          "description": "Set up your smart wallet in seconds using your device's built-in authentication."
        },
        "step3": {
          "title": "Scan to Connect",
          "description": "Scan the QR code to instantly connect your wallet - it just works."
        }
      },
      "extension": {
        "step1": {
          "title": "Go to keys.gemini.com",
          "description": "No extensions or downloads needed - your wallet lives securely in the browser."
        },
        "step2": {
          "title": "One-Click Setup",
          "description": "Create your smart wallet instantly with passkey authentication - easier than any wallet out there."
        },
        "step3": {
          "title": "Connect and Go",
          "description": "Approve the connection and you're ready - the unopinionated wallet that just works."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "zilpay": {
      "qr_code": {
        "step1": {
          "title": "Open the ZilPay app",
          "description": "Add ZilPay to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "nova": {
      "qr_code": {
        "step1": {
          "title": "Open the Nova Wallet app",
          "description": "Add Nova Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    }
  }
}
`;function GTe(n,e){return Object.defineProperty(n,"__recipe__",{value:e,writable:!1}),n}var Uue=GTe;function Wue(n){var{conditions:e}=n;if(!e)throw new Error("Styles have no conditions");function r(i){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:i}}if(Array.isArray(i)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var s={};for(var o in e.responsiveArray)i[o]!=null&&(s[e.responsiveArray[o]]=i[o]);return s}return i}return Uue(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:n.conditions}]})}function YTe(n){var{conditions:e}=n;if(!e)throw new Error("Styles have no conditions");var r=Wue(n);function i(s,o){if(typeof s=="string"||typeof s=="number"||typeof s=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return o(s,e.defaultCondition)}var a=Array.isArray(s)?r(s):s,l={};for(var c in a)a[c]!=null&&(l[c]=o(a[c],c));return l}return Uue(i,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:n.conditions}]})}function KTe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XTe(n){var e=KTe(n,"string");return typeof e=="symbol"?e:String(e)}function QTe(n,e,r){return e=XTe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Fz(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function d5(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(r),!0).forEach(function(i){QTe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var JTe=n=>function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=Object.assign({},...r.map(c=>c.styles)),o=Object.keys(s),a=o.filter(c=>"mappings"in s[c]),l=c=>{var u=[],d={},h=d5({},c),f=!1;for(var p of a){var m=c[p];if(m!=null){var b=s[p];f=!0;for(var y of b.mappings)d[y]=m,h[y]==null&&delete h[y]}}var v=f?d5(d5({},d),h):c,w=function(){var k=v[_],C=s[_];try{if(C.mappings)return 1;if(typeof k=="string"||typeof k=="number")u.push(C.values[k].defaultClass);else if(Array.isArray(k))for(var E=0;E<k.length;E++){var T=k[E];if(T!=null){var M=C.responsiveArray[E];u.push(C.values[T].conditions[M])}}else for(var I in k){var O=k[I];O!=null&&u.push(C.values[O].conditions[I])}}catch(F){throw F}};for(var _ in v)w();return n(u.join(" "))};return Object.assign(l,{properties:new Set(o)})},ZTe=n=>n,ePe=function(){return JTe(ZTe)(...arguments)};function que(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=que(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function Hue(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=que(n))&&(i&&(i+=" "),i+=e);return i}var tPe="AEkVMQnvDV0B0wKWAQYBQgDpATQAoQDcAIUApwBsAOMAcACTAEUAigBRAHkAPgA/ACwANwAoAGIAHgAvACsAJQAXAC8AHAAhACIALwAVACsAEQAiAAsAGwARABgAFwA7ACoAKwAsADQAFgAtABIAHAAhAA4AHQAdABUAFgAZAA0ADgAXABAAGQAUABIEtAYQASIUOjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqft7uycM2yDPCLspA7EUOwD3LWujAKF9GAAXBCXXFgEdALkZzQT6CSBMNwmXCYgeG1ZZTOODQgATAAwAFQAOa1QAIQAOAEfuFdg98zlYypXmLgoQHV9NWD3sABMADAAVAA5rIFxAlwDD6wAbADkMxQAbFVup+3EB224cHQVbBeIC0J8CxLAKTBykZRRzGm1M9QC7DWcC4QALLTSJF8mRAoF7ARMbAL0NZwLhAAstAUhQJZFMCgMt+wUyCddpF60B10MASSsSdwIxFiEC6ye5N2sAOeEB9SUAxw7LtQEbY4EAsQUABQCK00kFG8MfBxcAqCfRAaErLQObAGcBChk+7Td0BBgXAKoBxwIhANMrEnM681CwBZA6dyc1SAX6JwVZBVivuAVpO11CEjpYQZd7k2ZfofgLEwPFByXxdyMEo0sCU1MCdRurJwGPo6U1WwNFFwSDYQkA0QarPy8jBykCOV0AawFhH3EAgx0ZAJUBSbcAJ2kXAa/FAzctIUNTAW9ZBmUCZQDxSRcDKQEFAElBAKsAXQBzACu1Bgfz7xmNfwAJIQApALMbRwHRAdsHCzGXeIHoAAoAEQA0AD0AODN3edPAEF8QXAFNCUxsOhULAqwPpgvlERUM0SrL09gANKkH6wNTB+sDUwNTB+sH6wNTB+sDUwNTA1MDUxwK8BrTwBBfD0gEbQWOBYsE1giDJkkRgQcoCNJUDXQeHEcDRQD8IyVJHDuTMwslQkwMTQMH/DZCbKd9OANHMatU9ZCiA8syTzlsAR5xEqAAKg9zHDW1Tn56R3GgCktPrrV/SWJOZwK+Oqg/+AohCZNvu3dOBj0QFyehEPMMLwGxATcN6UvUBO0GNwTFH3kZFQ/JlZgIoS3ZDOkm3y6dgFYj8Sp/BelL8DzZC0lRZA9VC2EJ3zpfgUoDHQEJIocK2Q01CGkQ7wrFZw3hEUEHNQPRSZYAoQb9Cw0dMRWxJgxiqAsFOXMG9xryC4smqxMlevgFzxodBkkBJRr7AMsu44WsWi1cGE9bBf8LISPDFKRQHA0hQLN4RBoXBxElpQKNQ2xKg1EyHo8h8jw5DWIuD1F4B/E8ARlLC308mkanRQoRzj6JPUQiRUwoBDF7LCsnhwnLD4EMtXxuAVUJHQmtDG0TLRETN8EINQcVKZcgJxEIHUaRYJYE85sD7xPNAwcFOwk9Bw8DsRwpEyoVJQUJgSDTAu820S6vAotWfAETBccPIR/bEExH3A7lCJcCYQN/JecAKRUdABMilwg/XwBbj9RTAS7HCMNqaCNwA2MU410RbweNDlMHoxwvFbsc3XDEXgeGBCifqwlXAXEJlQFbBN8IBTVXjJwgPWdPi1QYlyBdQTtd+AItDGEVm0S5h3QChw9nEhcBMQFvBzUM/QJzEekRZxCRCOeGADWxM/Q6IQRLIX8gDQojA0tsygsjJvUM9GUBnxJeAwg0OXfqZ6dgsiAX+QcVMsFBXCHtC45PyQyYGr0YPlQqGeAHuwPvGu8n5kFTBfsDnw86STPqBLkLZQiHCTsARQ6fEwfTGGYKbYzMAS2HAbOVA1ONfwJriwYzBwcAYweDBXXhABkCowifAAEAywNTADUCqQeZABUAgT0BOQMjKwEd4QKLA48ILccBkSsB7yUEF78MEQDzM25GAsOtAoBmZp4F2VQCigJFMQFJIQQBSkNNA6tt3QDXAEcGD9tDARGnRscW3z8B22snAMMA9wABMQcBPQHJAe9pALMBWwstCZ6vsQFJ5SUAfwARZwHTAoUA2QAxAHvtAU8ASQVV9QXPAktFAQ0tFCdTXQG3AxsBLwEJAHUGx4mhxQMbBGkHzwIQFxXdAu8qB7EDItsTyULBAr3aUQAyEgo0CrUKtB9f81wvAi1uPUwACh+kPsM/SgVNO087VDtPO1Q7TztUO087VDtPO1QDk7veu94KaF9BYecMog3QRMQ6RRPXYE1gLhPELbMUvRXKJVIZORq4JwEl4FUFDwAtz2YsCCg0cRe4ADspZIM9Y4IeLApHHONTjVT0LRcArUueM6sNqBsRRDwFQ3XpYiYWCgoeAmR9AmI+V0mrVzccAqHzAmiUAmYFAp+AOBcHAmY3AmYiBGoEewN/DwN+jjkCOXMTOX46Hx8CbBkCMjI4BgJtwwJtquuGL2NBJwFjANoA3QBGAQeUDIkA+ge+AAmxAncrAnaeOwJ5Rz8CeLYZWNdFqkbTAnw7AnrEAn0FAnzsBVUFHEf8SHlfIAAnEUlUSlcRE0rIAtD9AtDISyMDiEsDh+JEwZEuAvKdXP8DA6pLykwpIctNSE2rAos7AorUvRcDGT9jAbMCjjMCjlg8k30CjtUCjlh0UbBTMQZS0FSBApP3ApMIAOUAGFUaVatVzAIsFymRgjLdeGJFNzUCl5sC765YHaQAVSEClosClniYAKVZqFoFfUkANwKWsQKWSlxAXM0CmccCmWBcxl0DFQKclzm+OpkCnBICn5cCnrSGABkLLSYLAp3tAp6OALE5YTBh6wKezwKgagGlAp6bGwKeSqFjxGQjIScCJ6sCJnoCoPcCoEgCotkCocACpisCpcoCp/sAeQKn7mh4aK3/RWoYas0CrN8CrKoCrWMCrP4CVxkCVdgCsd3TAx9KbJMCsrkJArLkE2zcbV9tRFsDJckCtlg3O26MAylBArhaArlDEQK5JnNwMnDdAr0VArvWcJIDMg0CvoRx/gMzbQK+FnMec0sCw8cCwwBzfnRHMUF03AM8owM8lgM9uwLFeALGQwLGDIUCyGVNAshAAslLAskqAmSZAt3OeHVdeKp5IUvMAxifZv4CYfAZ75Ugewdejl63DQLPZwLPaCtHT87vD5sAwqkCz28BJeYDTg5+RwEC3CMC24YC0ksDUlgDU1sA/QNViICFO8cS6VxBghiCz4LKg4kC2sMC2dqEDIRFpzgDhqEAKwNkCoZtVfUAUQLfYQLetG9zAuIr7RAB8ywjAfSXAfLOgwLr7wLpbHUC6vUC6uAA9UMBtQLuhQLrmJamlv8C7jsDhdyYdXDccZ0C8v8AZQOOEpmPAvcPA5FqA5KDAveUAvnVAvhimhiap7czmxoDnX8C/vYBFwA1nxifrwMFiQOmZgOm1QDNwQMGZqGEogEFAwxFAQsBGwdpBl21YwEAtwRnuw2HHq8JABNxNQAfAy8SSQOFewFfIx0AjOsAHQDmnwObjQizBhufwQCnBRG76R09PhZ4BWg3PkArQiFCtF9xEV+8AJbFBTIAkEwZm7k7JmAyEbrPDi8YxhiJyfYFVwVYBVcFWAVjBVgFVwVYBVcFWAVXBVgFVwVYRhUI14VnAgICCmRe6SsEyQOxBi+7uwC7BKe7AOdAKRayBUY+aT5wQj9Ctl91N1/oAFgRM6sAjP7Ma8v8pudGej0mIwQrFic2NX5t32rB8RnCLGkBa9duMBcFXwVqycHJuAjPSVsAAAAKfF59i74AMz+BAAMW0QblrSMFAIzDCwMBDQDlZR09JB9KQrFCvEE4I18nYDYnOCMJwT0KRD9DPng+gT5wPnECiUK8SUI7X8tOT2pNCixrVC9qC24fX+AzOhsJZ5sKYiMrPB0mQqtCvCvMAcv8X8kOHy4JCAkifp3fajotShfJq8msCWXBy8wKYEFfD+UQoxEAk40dRUIlG6ltOc44CjM/Qz5wQj8cBwodTEdsWywtWuG8Egp97R0rQj8cXQhKCQ4zVENCNwQ7Q5wsCoEbLUI/G/UIUyIjGDAxAAWPYfBeCnFkyWALYC0jbkNgGTkCGx5gswYCaxBlTmBNEQFk52AVYJVgfWCzYEtgkWgWFwa1DtxVqbxaC0MWqwG7K83BAh8VABwDHgF5AmwvMJVSgAGKCrhHGgDkI3SOCsoNpk3qAZsCh5xPBUBfAPf3BwA0FlcMC6UMJB+6r0eAgQw0ABUTnyuCCHoC0gtLZREbANhOBnUECh5aADEAtritAJQnCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cHAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4rQCUJy07Ds4CkBh7ULtYyHRyjsOlmw/ZFUkb7AEpEFwSBh/lAccJOhCTBQ8rDDYLABEAs+AiAQIApADhAJiCCrJrOS8AFABbG8YubHYqDcEQAjskHNPhHB4LG30CewTBCqrxbAAnLQ6mLs6hHAe7CQAQOg+7GkcczaF3HgE9Kl8cLs4RGQB9q9ocAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvAk8DrsFmAEbawouzqEqD4sa4QHDAREWOwCgCzsLuxC7BBiqe9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOxjbL7ZtvgNIqLsAB7sALrsC6w5WAAq7BAAeuwJVICp/FTwVuwG+J+QAsloBvSjgo7vIAAFbAAG7AAJbAALjAAg7AA67AgAbu6VbDr/EAPQAaPuoOwMBu5UnSwDn3Rm7CBp7CKEFCv9wAN+7p7sau6OLeXIG+6mbgwASuwYbCwG8AACGAG27BgALu6c7ARo7ugihnMoBuwvtB8CpOwDhewG/AADlABW7AAb7AAm7AGmLABq7GLuOaRX7AA5rAC5LHgAGuwAXuwghAA1KAcIAt68mAcAAALQADpsAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAIPAAUOwARawAPiwAN6wANuwAZCwYWGwAVOwBumxm7ALobLgATOwMAaSsKAOFLAAI7AARSABd7BRsABtAAGLsAC/sAX7sAa/sA5IsBuwAXdgG8AAFyC6EABUoAbXYAB/sA5XsAHGseAXsoUgA5RQD+Bw0McgAoKnABpAUIXgG8XiMMCQdvS2xfKokfPBRiLTYDoQq0AdgAFgLRA24BdnJHUhQhA08CFT4BLAYDc0a8e1J6QAApADEB+wBTCtsAe5AsASsAduUNETJGAUoAVwUAAVABB4rMAHg7BCClAFoA1hUAlWg3H4sAzWuxAM/UFgjCdXMbGFYdCdEBiJCrIlNTTUgSPMKJ+QB/HDdAKSvgEZdPAHIBKSwwKUIZDwMwVQT3xe4AS2XcAGoCcQI/EXo6x3guNdUGBQAQGx0KCAwqBB8dKU5TTgi5ugAKEs0AJgABGgCGAIkAjjUA7gC0AOAAnTwAuwCrAKYAoQDyAJ8A0wCcAOsBDAEHAMAAeQBaAMsAzQEHANcA6wCIAKIBNQDjANgA1QMBByoz1NTU1LbA3M3QzkMyFwFNAVcvRwFVAWQBYwFWAUdLQ0VoDQFOFQcIAzI2DAcAIg0kJiksODo6PT09Pj8OQB5RUVFRU1NSUylUVVdWVhxdYWFgYmEjZmhwb3JycnJycnR0dHR0dHR0dHR0dnZ3dnVbAEDsAEUAlgB0AC4AYvIAigBTAFMAMwJz6QCH//LyAGAAj+wAmwBLAF4AYPn5qgCBAIEAZQBSAK0AHgCyAH8CPAI/APgA4wD6APoA5AD7AOUA5QDkAOIAKQJ3AU0BPAE6AVABOgE6AToBNQE0ATQBNAEYAVQPACsIAABNFwoWAxUWDgCKAJIAogBLAGQYAi0AcABpAJEDEgMkKgMeQT5HKQCLAksAwwJTAqAAugKSApICkgKSApICkgKHApICkgKSApICkgKSApECkQKUApwCkwKSApICkAKQApACkAKOApECcQHQApMCmwKSApICkRZ5CwD6BQOnAl0CNhcBUBA1At4RCisTAUo3E02RAXekPAFlWQD/Az1HAQAAkykeGI9qAClgAGkALgCJA5TMi/CuhFoFuisOwhEBndV0KgsEIzFsATNabAGyAN5+gH9+gH6BgoJ+g4aEfoWIhoCHgoiCiX6Kfot+jIqNfo5+j4KQfpF+kn6TfpSDlYiWgpd+2gLabOEC2GwAgmwkbKAAg2xsBEkERgRIBEsESQRPBEwERwRNBE8ETgRKBEwETwCWZmwAowOIbAC0ZgEFbADJUWxsAM9sAgxsAPZabAD2ARkA9gD0APQA9QD0A31ebNSEI2XAAPYA9AD0APUA9BxsbACJWmwA9gCJARkA9gCJAL4A6AAIAPYAiQN9XmzUhCNlwBxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN9XmzUhCNlwBxsbACJWmwBGQD2AIkA9gCJAu0A9gCJAL4CNwD3AIkDfV5s1IQjZcAcbAJDATZsAkoBOWwCS8FsbAJXbGwDnwLtA58DnwOgA6ADoAOg1IQjZcAGA31ebBxsbACJWmwBGQOfAIkDnwCJAu0DnwCJAL4CNwOfAInUhCNlwAYDfV5sHGwEPmwAiQQ/AIkGjTFtIDFs1m4DKGwDrAJsbABVWv4VMgJsbACJAmwAVAEAul5sAmxebGwAiV5sAmxebD3YAEls1gJsbEbCxxP/x5BApA0KYFA89AsjTx97EHmJQPyocItC2JnNFRCEnFU6SFTDoI0PxeRNRoNRWkpzVnWW8pTagkNmgf+jGupqZ3eu50LAFnc+OzfJwdub1AdpOy76VnijWNR/CMEevikQkFyQuLuPajxWi9chqOoMJ7qpCN4sx3LJG4Myu8kD68wC6+iAwt+pU1JEeY13rpCVkXSZfinVKn4xZpxsI3Lp8bJLrJ9ujkrIalMRBAcv/GSKEtowzcEn5XmJw2BagB8V2UWJoJHZ14SXhM7p0XeGFOuw6mlvyq99WYp5XxrO6ru9nn4RHcOkJ7hx5UqWtman7yVMLzYXQefQRUdIY70RYQE8+aAzCNSGQkXiHfnHYRMi+xczKDdZLk3AV1gzxkkSHLjBwuq8shIJ+/RAbqjqQbugFhe0rqklu432EERkM5k9y1DXzds46oLqKAx6OhPT2WiqEfhaITn7OF9Y694AmKmUvbpWp0xJqDaf3jeNJXnK6NpnGcFOmbclbARC+5+5U52ufw5b0Hh+2LrrNimvZe4eYmApRsZnJE310SqB+1xB6rSJfnV1f2D0awB18Oc0sXAFqIlgHgWiaZGdvP5CJUSsCTCQUC335+iSkwPlLJJ5lwjTSn9Lw22NbK1Tu8w+bUpHtDRDPho7Gun8aw2Jzu9i+N0Ot/kPMbLAb/rUQ82kfpk85qLDkfxLl39QPDngo72GYh/Xigbpcm1pA23D2ywt3D8GgMOao040wDqkHxOEx0OhC+ZmHiIdjK7yRbfJD2ouZbAedhD3p7s8WDmCJfNforgDYPGAXSI08fTjPZ5B37lc5VXGzc1vJmibDwBNVzXuaUzg7N5H4BxqjhJ+kz9HLUJys7bpBDYAPvbut13AwJCWd059tS8YTYgC8HwrkewBfa1LSSpmMr9uR2EekTiAMH+Mx4AGzgbquccwBDlLmRhgXL/YiLPCEb6d2k5qJ6o800qddABkpqt7NG+sc2uvHZwZs57W1AHTFM1KkMShasADAh2FvzbzJOzVDMS3ZlT2BSFKdnkZFB6JyqJbhm6XANis9TrtzJdlPVp+rl8v3nIke6Jou7m2TKu53Vounupgkz2LzrQPhhatLIG7rfF/gUKWp15X3LKt+ZvuCDSqPUigF9yJntimC1HJR7Yj/dUrLAXWrT+1tnwPJJLGKAlQ5VeNDWRKCTt2vz3rJuo4+gIt75/Mkfl/gSZblZ9r/SEeeosZXneli/xNh1WVCvkRt2RnyyjtMkMqhzXh1PVOCbILqv0r7rGYm0CHIyKdhHL90cl9E1I6eEtQTCt6RXj8M0HHrHCHLVRpNM6WIbT5BCMGVnL0o5895qSRbCJz+5I8PGMhAN/Xrj4BgIdlKqlHtBHqTJwmK169toZ2IWxNzrAbIG7zh85Q/LG2A4yBcaBel52zdunokB0lv3A7kXnTI7M6ZnfZ7nwuj5lkGhqSpW+w5CI/FmRlplBEbnZy1ZxS3DL8rf1YWhO5XivWZBSRh1gFsjjyj3qRG1cm/6ors7WsEif6WRxns1MKDZa6KrbfMQ/swIb+2nb0tqxHeii6FcgVeAjE/Xwac1owx04dJKG8R5YQgHNnEfHf0qb8WOnU0eQSjazq+IK7cSuCqYzPEUB/x+QgGZqM3dBoYvNvZVOHDkbgdilWdagqO5bkybXfLpyMPuGq8mvAAEZGbR6RwXGlW9ErOWTfnjfx6dXFJqBj0OBSGFz4lWQasNOmVJeN4SFWSLfOGB/7ehV5YuoNNROHZEG9ElVuMnqbDMMuDleOt/cN/gsWxGw128mwU8/HxkOKqdTZnI7dHka67WCTf/FmBrxpNCaKJ1GxBTCSS7MNfhNj8S4Gtotg6Z3AM9cAeVROnppUMaiV5jjudLnNqoVrKO1/FijLlAc74kxydxKX1RQuMqHR63eecYr5o6MJ+B78VsLlCrpelWh6GOrCOBIoQmIcdpJL1pwE2zzZqBkecGTdK8KMOB6r1eNRURyrz6M899TZaoS/vNOxHf+5gORU+OyYIcIW6diP25GHF6u8TNjuL/GJzCnLLXd01KrsjRa51v4+O/VIAWXESJxfxWjv628J+cWUQpoD+Yytzs3jSMRJ23/XT+vUdtUMLDQq1vnIoeg/GjWh88MT6k9dRqDaQ+vodilFgvjuNw5pJpId9mfwyYeLCGb3BmHXdfQfhfPRQaupe/f8TG4Bk3eDKlYBaEK3kZYNN2Sdxz47m/vYBxvIOKtnqplB1pebzuXmAr/MuzQCknKe653dzaWQQ7MUhWYWvzIZwLe1v0rXxImLaz+AkAu+sYikhouNF3EW6w4crZ6MuUiDbIAx8XhAfegcvW6x9BPb3/sCxGWu9YyatqExB+TSm69qIkI9IwhjrcnzME+jWBx4mNQm5WwLzUjSyY4FZ0aMF5YFlXUD4hL4XfOeYv5rDe2s2D/Cn+28fZ9UCnOQvXFMnQqfc0G+ZqOWWD9l/liqUPaNQzZjxCHpUAD8Rcc90MniQ02ugHWsUupFUvhC9usY7zNPt5F2jO7qgzhafsQSd50jgLrC6Qx6bpHbXR3WNAu1BzGmwbz+ebGmwTjdy006Y6zipP7n/OJlvSmbq+SY+nefAVKK6EBMPbce5n3IdRI8+vbxCpN53rw3TvgNds1SuMiuLGxt89L71mxPDeanGhyHvOjmO56tnVpoHalQnL6TqNuqKsHjHCIKB4pCgj4WyYPvRvYvqi5EMr7lN3MotPR/KH7JUD1lZbU0QzfbrEBJnuQiVAyAC9vwXWp2TRU1/0aapyAH2cbglEHVAdl+1rb1u147uV0td1eNoQZsqHrIMIYVPXtLk2TIU3cJE08PjoYNDpfF/IcJnYQHl6nsplczX3Rgah4NbJJHl//5scUufqsSd//kbIS406ZWoMP//+jhGUswX/5nVNz/jAj9KmXPtAmMiK+khhbn1w/mELzZMT/WxcW//y/jsHaOM/61oAW/CjYhJtY622/TtMYuP7bilBvbiT3vB9n8IcFPnwM78H0KfhYDRdY5PhWJ4jWRQzB+HT5NVZV56LG82hcQms+jOTT/c9Y9sx5rPi1/wB7f/+c5UfUCKk3iwwCuywUc2MGnAwsXf1E5hoI55x1Q/Qby+sWH8NRjavZ8VaDsdi1NUVhH86BJHX1yaFt1w1OYeL5LVmdN+5Q+KuTvXEPDzUCg6xp0HhsUhTWSe7MZMM/6rsTUb0/nbUE3YQlGGt48kT1/6cnf6yHnvHtQx9EosOXN077yyEq/jE3YTiG/5SEJmXFeocJJ1EAd6vKeK6VEdJLOZ1km/EwOnZWCQpzCLKPHxrfh4yJhGq//2dos2E/3+MOcdW5EsgIdmTQUQetzRy5fQHhDBl37XbWzsqO/cASEDjyst1/8NEROqVAxWnddQV+umJ8IrKVgKvGaTc0GsQ4s8h0Osql5QKwlddPDjJhKInyWqYUKmmlIts+FIcXZ6yM6cljbsjUG2ksSOkuIw4sYHffRNgBOLApvD6XrR6Rt0rV2Uf8IpnIUVnb9Twt91QjAaD/dStSWDxg7aYY+VXIgnuowYdOkjywa2hlgrnI6PjaU3e3UjQ5Yk5mdIJGyHnv3/P+1EkMav1yFyF+FeJE/RXnWBw+Nh0aOo6TGlKX7d+dkP9+brvr79SdtXJtcD/aXBGiMNfG6/NQniQHYQlK78FEHDqOh+bDI0o+2Ub0h53EL/vlzjrBczVEZz2bOtvIL+DIzDkk9nCWt7tlqsq3l9JMtJk3r5HG2iJ9b/X11TG6wwMAjHLQ2oasaMEsydh88QPvI+hmqIHhvalpKoKOueJR0eZ9J8G2alNOIOy98jwvbc87Ewk9d+5G/tUijTmlbjFlDKXV05HalKxaRTrucc73On7yzAPS6f2v4ogiaWyWeV73dv/MsQT5HjRrsYV9dLAcI3T+zC2qEVINyNpEhoKV+xVSuWtT4AhBfpnZ7unIM+HX3msI0HiI+P+z2PFgkjGi5PqEbG/wNIWeRUjPtDEgbbubN+I4JaDLrW9borRBDob7ZFx+JdKeFVUKVeWqb/c88Ol7DhM0suLtuEd8tkDSMTD3DFx8UphPINHMHi51hAPttXL4Ektt/lKEUG/R4qZKohHjVpAcPIMiHyWr6xR8/EWnNJvBFET76yCdk5er7ADB/1bgoImhpSiZ/omZjPKPCEeZsOwvPmXL+1vlJNeGO3TzySmGA1X6e58gLrazDM71jywM1XL8zKHN6G3kB31Y8vLtP982N975SZXk2JwDvmv7AY/aDsFFk1v+nE7/hbvuOWhBH4kuemeYozPk2K22Vx/YGiDTLU7YilpOt29u3RZMBh4UJjlTP5ItxTzWv6ebL9b+GSU1Vsm2S8LMfVfJczaBSqE8J1A4YUjpsALL7++bwCPXFhaufdpDFtBlHb9makeYbqdg9ltvK/HwF/rNE6KrtWUkEcxmTB7Iyu5TiVaIgW/YxzQhpArliIMkOoK5L7ShVtF+DYqV01mk7fwop04hQRwg4KFmr5z9nYf05VVqkSe7gfnx5bxxlQ0qEV0jiwzf064qG11iEqjHcUgDWWsDs/LEGlzX31T5KVL+7D4EoKim7HBagiqRo5JI3WfDBgpKIruWz9j/J6Hp5Q/EJbMWB8NeSMuFarNw3AEYPBJtYQO/4oD/ZgPTSQ06di0EeumX5EbrdThO+fvYEVSxLtZ3AJkee0Xn0sDwNtiiZhJjJRDuG1YRKB1vOulfd9JjHeyu+UHTmrtra/pm+8Rixh4WKiLaLOCxIbZNoWRZSyyUGLPjAaAo+SQBpfO2uruWrzFxLlpvrXJNMCWtlJDKGAnlWK5xpU2tcxXbeD+sbdfwYXt/qTwDk6UqXR/aUt099DhSNl4Nk8mXwpw+b0nvjKOG6Mg1PRXjrMUMANvNgEArv8nMJs3vj1aHi8MHz/UfJWWzkcrSpZTNBhduXlGR7i+ip/THDp5R9KRNcDKECgtwgXg4EFN5HHfikP/XvsoCkHTg+NbsD8Gl6eknk4Arwn/BWGJ0hgW0/gUKrzuGZhub7igRP3abetpIm+24xEOlWl3YKpm2qTBFvX8ddDRvm1LcwnCJuEfZx12qPY9TrntMIQsv316zvpyWnyStX8VU4j6tQk+CWlLBUCJR6MdH9Cp7g2qdn2WM9qFbREmejH09dlWEPm8hPF0L7RxwRRdiCs0DP8ewk6ApoELkKU9hckSdbnXm8UHJmaNXjxv/q0fTTpu8rnl9lN0vQCpDRbCtcz12rGRFEA7Cfg7FhZn5QFkNmv1ZURKEsiZce1nS9K7HrwpC7yJV4Xt3eAVbLJfoXHrtwG60Z8gwaSnmxoL3s2ZlRqggZN/MHo1oUS4L+GwObFI596Ld4Mvi8l+cQmF1gJpkpnDio7TuO35npaMHiWzFqPSX3qNgkIPGuX0qGYnPIVsM901Yu8oZnOZOY1TbtIdFUNKNq2dP8SJ4F/VCEzIjF0/Rh+7UrZj80tC6rognVH3mqa8eCs/lcQU1Pjj98kBmAKDbZUTwosv02UunRR3n0X6c+f73mtwB7/WbQ16gO431EtwZbNG1SM4TZPBnsQSESlsfG2JLQXx5xWf4bmQ/xcVCPISAX5897JxHKLD/Xkgu57+ABR2+MMtEbX64+MNlBHpKC7sjlWVEShf5qA+dGc59LFVlZrX/Enq9z/v+wnZ1HErmxmjJjxOA+hAjVUWgtq6ygAi/8ewJDjUMFw3zhQFtbyTLDPFd21Ji5S5QPZo9nMSxdg1+DGFSN0wlWt7XeYPbHqLfliV0J1kOhQNp0VbUPy0MS2Ms66OxtSWvaULaWHnfAA+sieVVgtjDwN3nKonWapkSKRN8BKKJQpCfqo8RQI5udhfu5s5+7vwsppmAJDgz2GNA7d43VdbV2l/SrvEu4RYslmNJmfSOVbssxAhSYy6WxpIQdDB0FVBpZ6IM8yr81QN+XLZ3n/wed/R+s6LslkxKbzzst/GkRbe6rFmtvJCwr1T44ETM+IMgOnjUO0eG6a1n2w7lwM1oFBvzMUWRkNFOvKcx3oSb5XdenZ5dXsute6nkRypBiSdAtA2fxAd8UdLOZW/MB7fZoEuFheQXijdaF8kuaRZoSeWdKOkKsGYEGaXfaDKTu0WMTcLniQs7KRCz9iK3SP+Y2xIjkfVGqFLSQ6vh+A1u6FdfwXsv1VPMfi2cxmdM+/xTgMXEyo2ZGcQ2YmPsghnYdv2+z48JpGZA4tUK1p1q2VdVxyfypXEXcrxKKtmt8UdW7sHWmKMqDuBBM3J/JUQx8eUYN4pJ5oRqvdiPHU1o/WPjiKvnlCqOdyxlxF54L9PrtLD1NejZ9aZDivVr6ZfMFK1/psVygoPIAnphcJWWb9+5IKMKmgRQULsTPZi6Bw4wP32zVEoKcHpP73CkFAqS98nSaGoWDjDJiaACJn4p5o1jq9R4Q4VcibhXF//LHP0bdf63kRVZdRbbhGe7sDQcyWS5tpkfeYHnff25WK+4FpzLlAcbaKmHdIBqOw3fImx1uqQIADH0TyHzFlqTG6nMoY81svP0T6BIyELMS8tMe+E1p6TFP6sVpZa6VNaTumufD5aj9goRa9SAmdJT4HhI2r0egj8UrgFb8L59wGLnYlzkLAiUd3m/WWIIEU61kPoEjd3gIVy/fiBcgqQqHnoXpL0SqLGdGGgn7DQeVMSYWHfjno1FngIKP9cjYaTlcRP6bZunjHP13/lbVm4awti894pTf/ZNNqr4OR+tDVie/m+rC8QpVnRbsCMPukOH87B2jM4AG6pHuXl1x9SiKdhYJVOhfo/+SCaGjUW2CoogL1FFhFGN9o+acoVLl0SXs/3vrSccmZeAF3NewFuOg/P12QYKQF+SH+KYcNnsAhIAELPBUgre/KRUJEA+KPD0MHRjv+3J/j2Z23MuJmkfy7leWcMsti8wXLSHgXFJTaksx1Woi6oljwxFVIJG12SBSZLNJDbXMYPekmiXT4FclKI35BFgqnYpKfcsr+f8HUXQoHJ9UYZ4J5YMiHHyAxg6eidhodgqJ2Htf/xYEx+G0zXchuzlt8hcAl+AT8NCQ4orFc4DerabF1enA7NTLnvtZh3FUwqIOvY7Q4DYmoDHwXTSw5UNNh6r7j0B/ezMYJMDcw4+6gCTZX4YQ+7Xs8de72vsR3cmfpxIX64/6KR1p3VX4F6vfHEzxzarh8aDH4G1DFoBBM6npXFpK+Rh+WrcFclAeAxi0PoaR9CpOxxGLSdvxKVSw8oOOanG/soKImRopN38AdcUhhM2GT/PgQeSQrG12njuJJD5Z7vWfAZmFybYLdSA91kB4aoBhoj1Z//KNIVVujqaLLRwCkbyn4vh0739C9V9iSjybeOIeSOvNs7LW1a7EUtNoKAnOGML4U8KBXpfrw73WjAszJG4Qscq+Xr3kZWR4Omm0xT6qE9y6FNSpstV4onMZSqCEJ+3VX9qjvdx5QVrM0WXxmPZxejdfnihcFAjzv5PjlTl6ickDbHe6+Lch52pjOPqk+m3RZ+bh2JSMGtFBuODbMchrpRVlt16NTQ05Ps0IDtWlUmWfP2vX8M4YDynIuOZ4Ck91+591B98Gw9fw+yQogTR8CSg0zaJu+rlBo/mr3A+1NziF+kdubz+whc857AZt6DwIBIF5+5yiaaf3ByQp1Fm3sOkZDAzwsYSQTM/Kv6idkugF63FDobDdUY3huruU+sCaBuRR+HmOowvmZoBjZHNh77SXFtmY/oOUE7ifN7nBHAo83S/xvcS6H4Ci2u/9Id62Wv6Ui+zMNLAzhfkTkVcW2BwrnYvpur0ZDlzs+ZLsmGTWvd1892t78gx1YjEJusGcxphjLkV0UfAKlekfSBVWHE2ahk4AbbRmHyL7GYdtKfdlINwrcdJuf3Cee1nfUojDQn/YmItESOFhtLzrkEv4k2XpMU9oaJQ3VUC+1INh6BE68pkHameGJm4Gvdb24Q0fXWxd9Tp3A9mzFSe4qXDGGDIV4AAGV1jIDfveknH1TwWpUT6HiQxKP3AAHJNkJeRlj/mXBmS4S1j8FK6YmpK7jyyAiRbsMCCLoJcx01fvgpMvKQRxu9IOwymconQjD56g7ksOrcOeoTbius4JnGesAS1DtgdaophYsw1wGIsMS3P7K6doE3K5czznqPQLSRRF/Ylzb5NtSKsL33SgskFNCF4khn5LWaDxI23ZRi2hzqN8uW8UzZEBYy68+VtGLSymQrXGUlr2nO2BbBIT5Vh1RmGAyDXaW0FPrpx3wv2UYdFk9tSl+906bMxCuXQaKDQP/U19UEcVGK4gmksL8lAorxQSAOwpeYX9xrZsh6yoGaL/X5O3tgQC8OM+/GvxnW9XvAtu/JxAigydfSmZfqZfg1XOcHNOpLlN8j64OZ36l5qawDBJ62YaTvxeNmm5gowCdBosgcpHOgNgwA+sknN8XmsR2IYChcafl9bGNMZ/nB5guWuvEziv6QI2bP2DtyKWG/qUjZMaxy+wASkkVGtuwGtywkTYG6MYrZBo18vYcww48G/+f+eITA/qMwbLlJC0S3+/ai2pPvkOhRRVmGTuSupaxhIk0xoXLtixCxSAn4Z3OnUS3wBqVscLI4P3GP7i/6gxYsswsVmkvDXFLhO/OKcur8flegCSKiqmVpIRvCzgbjEA0mXPn+RExXY/2OE1f/BYuWpRQY8gCDpMOYBx9Gn4tL3hihSIR1ixh2PIIT7cr2gUJbfs76EKYG52Jk0UZF/PQkBxGuFCEWXnG6ue/hTIqjTRq1sotVrKrwIGHDrITyuanUzbIYdgdEeV88K1VD82TYB2B61Ft+tB1KqHPmT9+hWoaV+iF3SuvtJqvnoLaA8wxrD56AUMULEgzO9SvBcBAfqz/dzMYzwMt/YLszDbmGe1bcHHfFMcvGql9bf/tp+Hrj4q18aNnftGjmXTfws39emn7/5IBxog9MrmftAA5Oq4awenm8HimWO72dwVlHcHmutVMdrMHw+p2vzpzT+B0iIZ+IEpplwWhClcXlxhxAsF3CHRnnaUEqq3ByQ+cqhe5SvR4SFxh/LZoQwtj8QZQGT1BzY2EMpYnUcZWQEPlwFZw+7UryK9qV8KgruYsvyMoK16KI2sN4SOblrVwhyiL8+IBZ8cpUhsJQSU7TFHAi+L2F0sn0y+FtDODlnuif2Mba8QddPZYYxjTsIgkMe3M6+7kXxUfZvbCUlyq71J1eNczGk6Vqw6rSx2K3vM+DjLxDRGzWepTO2qTT/W8S7u0QXcyFUahcB4vq8xCYTpy8iswtnyz7Kx6lgTEQJ9RqkgEIN6DOUqB0uRdeYuDa7AP7Zy9z+ZlTsmVR5vtV71m3dmdtNeWghbr5PnPJtjXAzcvZjxyV96VEx/B1TA0IEQSI50ywGuIbmAYdQg/l/rxhQLX+6uOLyFsaUt6mtjpAJkLfehnB6MlOHnNOrWLvCBqVBS07jcM+4RzLEed3f3/0Xwp92U+nataNHyEgnnuYR6PXEjRLETz0xrt3UglfK7Bn4aNlXG7cZco4lMziLv5+Mh2JCww3mz69Z9ZMRR/xv5EKJ38IFxKd9dw5CgPIXja/gzAshMbF14/qBIgNkdUQeP8YE7SrICGtiTnAKTyA9cXa3OauDHxZOdTP7yuYBzD1UcHstIO16FxF1bRUAlSkszI83YufTchU8OPnnozDl9bS0y6CnnjGwgj9M61cXcZsljjhLeT/Vq+30ScN2PcT/dOoxUDqDS38+OpCCzLDdnwHQc3ECQVIkaxmdPaZTSdfp2jjGzSdNLM5yPQsgJDl+ZnhclDQi8ltUnkqWJ323IvTZPN8rn0+EshL1cx9PiaLTzUsryn9Zp2Nt/detUAh4N/2I3dlMQqjHFxSihv0uykzflq5clMy2ZBaxoEb0/QMp03IQQus3vnZd/NOmSsmgqXqKFP3ozyDgY7RQS+npabe/hNG+5sa5FtvL8v0uYuag2NewYkcol3TOTadpuncCnDgOGpmLnTQ1PEPUN2cNsrW8LYfIv+hzfb7vod+ipXHzmbgj5Fzc6RcT/5PD7VQ8nTJBNj1urkVUx9uJvTWmqY08OC80rGDLaWXv243VB16gjt4Xtwp5H2UDR0LiKW24Ed/sOO8jl1yEU/XAb3h7ScKnCFy/V3sICrkY1D0K9fSokHIL0s5/7DLShLAPXRbV7fbv4qj6OwHC9d5PlEOX3LRpQ3P7hcSAKlIKPDM83ypz56U5+rJeo0cyUtC7wltL8wqEiNSgZsDWzACc7RFoZqhlD0+sihIBQlkQTXmvUyIOZhkQX2zqME5VRC7ms1sa3CY+odMn3mMBiTvCMKnnCxg5ZPLq4GUDB4jF8Br2K4x4sxfWjGXQatJ25I1JyrIv2Z4bP1jKw5C+B2/s0v4dGUOsaS6IPIQV3ETQ+F2fSl2BPBXHzyYN8VmwWIrKeMX9pyGWuAOVXwkxJsRBaBVzLhZDP8ONGncknL5DpTxHN32GgFWMwsc0GmL0oRDmRT8u2lvjAKUIi0MmXhIHSlFeh3Qh5pP6ap4YUd6b569ZIaHgya2AyD12cPxY0In/PBjzDctTaKJCU+xc6m9RkNLDEE8guvxtJP8sl8N9bLqw0F/qejaBlcHYqw31zYpsutQp07hsP1vhGdl4hJ1wA7OCsAHnKj9879uSHILEmuZ6vI1lT4tvnWCVKZhhYrWHW9oPKPKpbOC6FTjf/OtUvwmiXr2ykvyLzHGQeyS7BenZpL3N/CaF5T7Gkml7JXN5cj0PKaDpZVImD61FuMgFHPqSHvt4Ej4KBdAfdcoO3AjQPLwwtKsgGM+ty4lNZMBEItJSRLunG5ckrM/BeoXWoPZVvEoIzLgFQYPupMwZCXis4W2SCJ2zsefZqCj+aTfSq1FYdUj2UeJALvVTf7vuuikOE1Hit3UIAGUi/sqgMum9vw218y1FlY/9XnOji9nqhGAcMYICc7BiqLZj5N+cKEuSAuiyWbMg81ZD1lHovy/we2eaCcCv4MzEW3O0mVA/t2xdA0cxTVbXmFhn+tARDpvDz5ftLr15OAAmvo2QiAky+feVO4bGibv2nlBmBzqx0lEDfEm4UnEs11pbnwZlJ/0Y73/wBPYfTNZiJKR73TzdCW1BffiJq9bLjQmaKnU0+gN8sfe25IKSUCooQwxePDrFn3a/zUgWxvPoTYVXfobY/GV2qqTkeVDV9D8657fhY0/wiaJ5NfLxhXbE/naxs34N0hd6vxNfdm1TCnozm/NKSCThchoYgMF7Z2tzXFovRfsNVkf86JjrM60r7UIuV3bsmfrMOqzjXjN6HPBG25zCJ3QLueySbj9oFvX/HxWBqh31PBPxduCVAxMqC9HK+YL3oBZqBruoh6LKvdMqoz0PYXUBrwbiioyE8Tj5ImjJmiOOWLbAZvIZ/l9rIPljx3T5glJ2ewlfuIT5GlodQsAf/IEtmYkML5SRQGxxwW+rlZkD8belJNu09Itwx9xDULTnemVDeojdbgcd2gKGM9aO00Jivtbs7ZyOSE8IPh98GfvatD8Ud5uHcZfAfMiPSlIxd4UqeSDzuNfbKDuFepkyC/s3j9fawmhY1b9NqDi0ZS5eP35l7rL2eK5QlWLlyCmxx8AFaFiTuD2pMUxZV5mBSJuJduOaq2ZrWpu28DE8jl/hisBz7bGWH6qLF0ayWNq1Sejtcs8KQrQqJk5P9QHDYHOIolgNsMDmEaWcTelghbfFCDqWrq6YLwDWy+m68ec5nShgq2fduUBpQUuKKKgnttaUX9PRfMmxqJyU7e0RLr1bev+ge1KK0bZyhHKKDE8gQX9Vf7rNHWOxBtZcxwwGusyMpH77qWZxXsQmbgIGhtiO+gSSRCyu/ek+OFsz1HMiQH0IHV7PjJi3dszYfFp8ue9h4+AfKte4MTiehPvxNcm/T1t9vsFZx8rHN5ie77r2jzZOq/Em4Q+H9sNcZakf9HnzCc1fJixppxP8FQABmVnqa6GbJhwaka7WH7Wdoz1WxOjSNV8N9sgW5S3Ppgkut+TTCkjA+AodUOk1KIR+8G8S3WrSZG4nyqfJ6FEjXl6a/LEoRMHZUqfPRWvwqrtXYy9IUsmUGzkqi76ib4NANCe5DnyOxnFRZ9d8FdBVBjra3iNuZhJuWW5Omi/hBigqDsg0mu2AhfJDXdwyMIJ33HHHPfS2JtjegRejX11m41TbNL+Qp7mR0g9CPKTj9PIjuSycGN/YPozXI4zarXuAeLv5CHKtKcJKRbd6R2oLNiEt0T8+QIVJH7zt9ncKMgd49vV2P1AyScZ9Qzbu3m3LBnuu6dw7aE0b6r4kzVkI/GUS88mA53L/rLtntkFlZXGtIoqNP2mD3eVv08AVVPT3wJn81zpbJV9SuqZ6Pd1ge0Zz2RFHeCdV5CLPftH9V5o9+VzFu4R0QeumqDwUhXn3IyYotdJnxr1l3BqWnQVAeDBEOtPyJQx1q5+mODiClXtYeBLTWtsJ42AMBcf/IFIhpfhYO08hsg0Ik+DpQFNOKReK3o3cudkxWX0soPtI5eSFOA6yNylS+IQjrQtYQ/5s4UcixJfokumBUjpH9ofSjUTwPCapGFndfqqG5IHeMMvfg+88SXm7bNyjk6pGKzL+WxDAdqKtQ72WWVbOk3I+ueGuammmB2pvFZvqIcU/lvW3n9+r2lycnQLE4OX9R1jIgW4cDjJ3v8dAa66mVcfC7ptCr5io6mCaA9qI9T9FFWqo1ZAaMxgxAu8aXqmaOYryMND2sTUfoHvxcYK7hEiJhCLYFDx3PBhE97c2a0ub1/ePJcyJOqr7UaTAPTJ+xvZtjb/40sloY1ltRnTkWILmIP2b7S3AdXCR+YiArMUHwdncpjpyDGfzqGOUoAuaamWzAMacQtb34/M32FEgR5lUEf8fRzFrZUhzQj0fR7/6gdzdnVVvcSneLmtqJ930VCCDORY8CVdQWdo/S3PNkX3pQsPVKWIYGAMrFZoq8bQ/OJBDSXP7KSBdL3QN0Zqd393p6VFc7DnlnFiN00SY5Nux7yadeIM0Upl2rVsu8/VAI";const $z=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),zz=4;function nPe(n){let e=0;function r(){return n[e++]<<8|n[e++]}let i=r(),s=1,o=[0,1];for(let k=1;k<i;k++)o.push(s+=r());let a=r(),l=e;e+=a;let c=0,u=0;function d(){return c==0&&(u=u<<8|n[e++],c=8),u>>--c&1}const h=31,f=2**h,p=f>>>1,m=p>>1,b=f-1;let y=0;for(let k=0;k<h;k++)y=y<<1|d();let v=[],w=0,_=f;for(;;){let k=Math.floor(((y-w+1)*s-1)/_),C=0,E=i;for(;E-C>1;){let I=C+E>>>1;k<o[I]?E=I:C=I}if(C==0)break;v.push(C);let T=w+Math.floor(_*o[C]/s),M=w+Math.floor(_*o[C+1]/s)-1;for(;!((T^M)&p);)y=y<<1&b|d(),T=T<<1&b,M=M<<1&b|1;for(;T&~M&m;)y=y&p|y<<1&b>>>1|d(),T=T<<1^p,M=(M^p)<<1|p|1;w=T,_=1+M-T}let x=i-4;return v.map(k=>{switch(k-x){case 3:return x+65792+(n[l++]<<16|n[l++]<<8|n[l++]);case 2:return x+256+(n[l++]<<8|n[l++]);case 1:return x+n[l++];default:return k-1}})}function rPe(n){let e=0;return()=>n[e++]}function Vue(n){return rPe(nPe(iPe(n)))}function iPe(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,o)=>e[s.charCodeAt(0)]=o);let r=n.length,i=new Uint8Array(6*r>>3);for(let s=0,o=0,a=0,l=0;s<r;s++)l=l<<6|e[n.charCodeAt(s)],a+=6,a>=8&&(i[o++]=l>>(a-=8));return i}function sPe(n){return n&1?~n>>1:n>>1}function oPe(n,e){let r=Array(n);for(let i=0,s=0;i<n;i++)r[i]=s+=sPe(e());return r}function tw(n,e=0){let r=[];for(;;){let i=n(),s=n();if(!s)break;e+=i;for(let o=0;o<s;o++)r.push(e+o);e+=s+1}return r}function Gue(n){return nw(()=>{let e=tw(n);if(e.length)return e})}function Yue(n){let e=[];for(;;){let r=n();if(r==0)break;e.push(aPe(r,n))}for(;;){let r=n()-1;if(r<0)break;e.push(lPe(r,n))}return e.flat()}function nw(n){let e=[];for(;;){let r=n(e.length);if(!r)break;e.push(r)}return e}function Kue(n,e,r){let i=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)oPe(n,r).forEach((o,a)=>i[a].push(o));return i}function aPe(n,e){let r=1+e(),i=e(),s=nw(e);return Kue(s.length,1+n,e).flatMap((a,l)=>{let[c,...u]=a;return Array(s[l]).fill().map((d,h)=>{let f=h*i;return[c+h*r,u.map(p=>p+f)]})})}function lPe(n,e){let r=1+e();return Kue(r,1+n,e).map(s=>[s[0],s.slice(1)])}function cPe(n){let e=[],r=tw(n);return s(i([]),[]),e;function i(o){let a=n(),l=nw(()=>{let c=tw(n).map(u=>r[u]);if(c.length)return i(c)});return{S:a,B:l,Q:o}}function s({S:o,B:a},l,c){if(!(o&4&&c===l[l.length-1])){o&2&&(c=l[l.length-1]),o&1&&e.push(l);for(let u of a)for(let d of u.Q)s(u,[...l,d],c)}}}function uPe(n){return n.toString(16).toUpperCase().padStart(2,"0")}function Xue(n){return`{${uPe(n)}}`}function dPe(n){let e=[];for(let r=0,i=n.length;r<i;){let s=n.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function a0(n){let r=n.length;if(r<4096)return String.fromCodePoint(...n);let i=[];for(let s=0;s<r;)i.push(String.fromCodePoint(...n.slice(s,s+=4096)));return i.join("")}function hPe(n,e){let r=n.length,i=r-e.length;for(let s=0;i==0&&s<r;s++)i=n[s]-e[s];return i}var fPe="AEUDWAHSCGYATwDVADIAdgAiADQAFAAtABQAIQAPACcADQASAAsAGQAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAecDNACxCmIB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJEMAJpIBpob5AERSMAKNoAXqaQLRBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobPgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vLIBDAHUGVsQ8wCzfQIbGVcCHBZHAZ8CBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rpF27H7fsd/twPt4l+UW1yQYKBt2Cgy7qJpGiLcdE2P1cQSImUbqJ6ICH27H4knQMIRMrFkHu3sx6tC35Y+eLIh4e4CMKJ4DfyV+8mfta499RCAJ0xfeZR8PsoYOApva9pjGn4PhvyZS7/h5JLuhaucfjuU+Z584wwqNO4hWYmaBCcjgQPale1bjoHzMUbut/zTgxHxBnAyrdKpF4IRMASLBtD/jviyLeCgj8twWjAd3HchN/uqaeRYeHJgl7JEY9/cTrvtfybx/r3Y/NtxJ9dp+MTVmiS9bwBH73s8Di56/Ma+mTPMHq4T1yEG1fWcqr0u+hrGnJEvU1JJAm/maQSrKrazIyvSkDFkj8UUlfBq8baniTGPng6YZRL661rDNw4w/1g2figG0IhXnL7wosd/sVNo5dYSmMBTP5c7rYLjRdCwg8quwljOMPf63D8ICAL0r71XRiyFHdgwHbwfgnPOf4Lzjf2v+j+IiDHG2isp5yUnzSDyDRb4i/Vs0qHSHq8PiEQ/JnBP7PxnjN0j6gT4AVAeRx/1o9VnEUlUwvFrzJqHk9jxAw4sYxCnrxaeBdCFFKbnE7z+x54F5W7ZZsU6kx8Qocul6FoAHHy01FGL/nne61mn4+uYXfQ1Uccn+HMLKE+cZzT8BB1E3FRskOgJrRsq25rauLm8+uamXpkS/bTy6y1wDbCrW4eD532kTWrtNUmVVZOIn/C+/JR9KVR5iG9TY8iaT67ubm/whL1xbKZoqtY+a6fNxMJrg211bGYJDUkYMNWA0BMB++9zOm6Eik4roqs9CCEFW0lyAK0PbvlzvoxrZuY/OEhNW/l/63U15Od/RSvmDvXpGLiVmeGi5PDSH2bYz5o2g6wFDQ2FbZgYgTF8rPlvA1ifjZD3NLtFdXdpSIJvgKR7GpjJWG7GZGawPomIH8B5tUmtHH9LpM+/KQKunEPa1GiQkCXv4Cnm9DLORo2joicHdPDZ64obQrPZ5bgqckkj0G6/NEiPYBY4bCkL7W8G5YzsUb6GakFjykSPkT7JGeLeB6uJOGMm+x7N381BCDfbJFx0dtLgV9Q477BfL1fvitX5anV/oYfxeYl+eF5x5bB8+Ep/L2nsmd56aKF4aAD4GbJWsdKyBW22xEmAD3XdbtsMyAFoR5mOla0gEd9U/YVB7zvHGpHbQonay9Sv0bQ8iZ8piaXVrKc5AG1AmqqgaEvzHSP2Wux7aZTWh6quVDVU01JtMIVRdCFwlSbbqqhoFlyzsotQzRexFvZ/MqUSFu3OhRIuNBbufvBpdVgb8XdGJ48/lJPCZ7dsOujTTbKPSEvGXkOnG2Xdi8/nM3EMRqITd5QeU7iOjKqC7URJY6TnLsHij22xAHKnVRD5MDtBYnoGFqZGMDmXCW6Oj+BAWw14hESY/xLF6bLku06AHkiXTHPCFZ0f9YSqqo27eAhhS67OrA2Het4M9JM3jm/yRX6bYxnfmzYl5qQdHxN08FsNuWDrWd4vMUY2QD3hr8vS73SCTkFoXZR3xNzOQt8d/6HfjBmXqvrE6EGkLzK6YK2U2/ksU/iUH+LvVIsJI+ri2AL/klo+ShdDyfs5A83i2prkMs51IKR7ZcqjZJi5X3+bd8GlyWvtddxKEoEqSgEO7A8jIgf2nH0h8FjM7oB6yte3X5mpL0i/E4Rx0CotKnILJj/vJqo4VkPQ93jRtRVfaitQPqldl5xRYPq8387Z0DcnZvOeION0Ht1+P27kFLGQIcLBX4FG3sffccNHh5cPfzp9INoRtqVtdViJfg8RjnXiIz/MNqEN6zvzX3hMzyWC7oSoXIT14ubc0abPX8Rp9GVa5NI/8iv+6ela1oTncbdimRKnrbRffDR/X4nH+bgqAuHWl7hOaeXPWVzIeRl7ga+JzD4Sx3mlj/q6Ra/E2HhDf21eEzTLNGfCZsY+/yxZzQzIAuijG65ii4O/waAJCrEJaWd/DRAKMQ5678Dw5AT7RCKzdadIwd8LsD+DgPBASmWsUlf8R0k1w/2k4lO2Wpb4zMI6EJVJs0xk/wn8/fRUPqrDKhbjHR41SqgFMx5RGMPuduFwlu5lK89tW11sTqiX/5EfGs5nO+y9FKvgXKPOEmgE05EKNL6Sjb3xS40H3BVPhm0ESOZgAjZoymc8be0inDVo4JdJVf+NKd3tN/CaB7GShhH27qf95NoFZVX/6ZkR2lX+CgWrQ2INgkh+bbMz68+uJ3Clsh8HSMPEQtAt+BBE6fXDab7KIlsKxU1lIXW/KWVstpdPanJ0pdXpQinDyUQjtY7ZVcfiecRxRDMAUhHFU2cEaciQ+htiPMPx1kdvtWG9T44w3r037ljHBFJdYR0r55qvMRixtAEFJAqA4T1ES87FAx7UozXasytg8MftZYt0rjYgLe6EJ5aWvy2qscBSBQ7yehoJIA3wIIZ9ukfkyBb6qnue5ko8W50rpV4kXqWjI5nbGRXrNW0tBZHXlY48nSgcUXBHWT4GcgLZJoLlKJnV96kCYpq9eWHh7xJzkCAyrQuQ5AJ0qq/uZ3toJglNterev+Qm0KXxPg/+YbFRJdfhbp1wOnVOEYdVHTya6CtO0afhEaBhx3oHwCb5Kq6RwHDzFMl2vfjL8GwzcCoTj7wZe+UFnYDV2yKpPU9dba29gYBdNqJg/KXozO+CJTlKmlKhnqTf5doeS35DZFV+cYJQVjd+oVY/Gtc/6XPzUxb1gMqf6cEjNNoRC8AObrp+fx0cVtGu4ffC2TgXRC8zPl8moUHCB5HZ25d87mlsiiK0aNwBtcEQjRNBT/QrXbw/8aVXdKMHn9EqYEKEyxSGTpYQOaes1G1Qq8pDgqkZtlO2HRyCXpmeM7TSrRPkAh004BfisVpF6zP44n2Jvxz/gOVocNCyy9V6lkod28QM4pbaMvVJigD/w3BrsjSJrXlqc4ulBYOCceiBN4b/gHajYyupbhEt63a619Ay4wsL6a6w6B+A7TnoyE7BliWHJfzVxxIKM/W3M/J8Bx99Op863Q8eNuIMGRx++VbYfjm+VGYBA3Ap/KEu/wxBNBpJJncwHPG45V8Gh98ZIrGCc20MwijGowZbcS7d1nEgcOW5cddZpHL2XPAIRbColiheZzXTvBxZOY3iMSDSKDrICyJ/iQs1vdplVdH/JrLJsQ2jtTnfCrITIghq3KFX3qAgLWAIp8IffNSdTYptnbGfc8s+qcr3zyzyHp1aJg+jxTF4kD1ry5Wauv5V3xnOGwTFecNzXSLHBW20/pCQjk4uorD0plIhMSTc79+/r4RKPClRYTBYex1Ob5crtfvRQBBv6re/6FhtCqtduag67glqRA77/3ulblh9YRtMdDxkCyJDeNnAuCLPQFmdRRWJtH20Z8DstfJf+5oj5SSB64d0iF5/Ya4KfTWxfivj9Ap2/zbYaTo/1gO3tM6RYsCZharMBFr7Fm61mLSrQnEI4OF1gbVS4k/JE9UotOrnLJZuswoWodCSV8zbybkJSVIP7n8UaE9xCR39rJZmf27HOAPVOGc9pdkQUcRrI0qyVF9Z3j1RHDbxIfwbWzmPVjwIdPJvtmBYwEQIUsIW1S939hcVikK00ozPRI02cqhzVUNzpOxVdrwRPvlh1aIOf0xFEqD3YkGnCnFah/cFN3J2gB7N+bZSGawwkKFu1tpQMrp1W+27YNkyT0TpcFpTqgOqqLabrgcCUPxh97mREOGy4xItzQ9xSl6rq+8BZsHcrQFReS+QeMxJ3P6CnL9EP/eOLDjumLhvrcQrpPiknsofbzBv9gTP0lU+TIVwE6E7CcKfT36q+ZiEOHJ9ayf0dyUJLezAb2M8aNHwd0+OJmsVgTzRWA";const rw=44032,xS=4352,_S=4449,kS=4519,Que=19,Jue=21,l0=28,SS=Jue*l0,pPe=Que*SS,mPe=rw+pPe,gPe=xS+Que,bPe=_S+Jue,yPe=kS+l0;function wy(n){return n>>24&255}function Zue(n){return n&16777215}let kR,Uz,SR,uk;function vPe(){let n=Vue(fPe);kR=new Map(Gue(n).flatMap((e,r)=>e.map(i=>[i,r+1<<24]))),Uz=new Set(tw(n)),SR=new Map,uk=new Map;for(let[e,r]of Yue(n)){if(!Uz.has(e)&&r.length==2){let[i,s]=r,o=uk.get(i);o||(o=new Map,uk.set(i,o)),o.set(s,e)}SR.set(e,r.reverse())}}function ede(n){return n>=rw&&n<mPe}function wPe(n,e){if(n>=xS&&n<gPe&&e>=_S&&e<bPe)return rw+(n-xS)*SS+(e-_S)*l0;if(ede(n)&&e>kS&&e<yPe&&(n-rw)%l0==0)return n+(e-kS);{let r=uk.get(n);return r&&(r=r.get(e),r)?r:-1}}function tde(n){kR||vPe();let e=[],r=[],i=!1;function s(o){let a=kR.get(o);a&&(i=!0,o|=a),e.push(o)}for(let o of n)for(;;){if(o<128)e.push(o);else if(ede(o)){let a=o-rw,l=a/SS|0,c=a%SS/l0|0,u=a%l0;s(xS+l),s(_S+c),u>0&&s(kS+u)}else{let a=SR.get(o);a?r.push(...a):s(o)}if(!r.length)break;o=r.pop()}if(i&&e.length>1){let o=wy(e[0]);for(let a=1;a<e.length;a++){let l=wy(e[a]);if(l==0||o<=l){o=l;continue}let c=a-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(o=wy(e[--c]),o<=l))break}o=wy(e[a])}}return e}function xPe(n){let e=[],r=[],i=-1,s=0;for(let o of n){let a=wy(o),l=Zue(o);if(i==-1)a==0?i=l:e.push(l);else if(s>0&&s>=a)a==0?(e.push(i,...r),r.length=0,i=l):r.push(l),s=a;else{let c=wPe(i,l);c>=0?i=c:s==0&&a==0?(e.push(i),i=l):(r.push(l),s=a)}}return i>=0&&e.push(i,...r),e}function nde(n){return tde(n).map(Zue)}function _Pe(n){return xPe(tde(n))}const Wz=45,rde=".",ide=65039,sde=1,CS=n=>Array.from(n);function iw(n,e){return n.P.has(e)||n.Q.has(e)}class kPe extends Array{get is_emoji(){return!0}}let CR,ode,Jh,ER,ade,Zm,h5,mm,Oh,qz,AR;function m7(){if(CR)return;let n=Vue(tPe);const e=()=>tw(n),r=()=>new Set(e()),i=(d,h)=>h.forEach(f=>d.add(f));CR=new Map(Yue(n)),ode=r(),Jh=e(),ER=new Set(e().map(d=>Jh[d])),Jh=new Set(Jh),ade=r(),r();let s=Gue(n),o=n();const a=()=>{let d=new Set;return e().forEach(h=>i(d,s[h])),i(d,e()),d};Zm=nw(d=>{let h=nw(n).map(f=>f+96);if(h.length){let f=d>=o;h[0]-=32,h=a0(h),f&&(h=`Restricted[${h}]`);let p=a(),m=a(),b=!n();return{N:h,P:p,Q:m,M:b,R:f}}}),h5=r(),mm=new Map;let l=e().concat(CS(h5)).sort((d,h)=>d-h);l.forEach((d,h)=>{let f=n(),p=l[h]=f?l[h-f]:{V:[],M:new Map};p.V.push(d),h5.has(d)||mm.set(d,p)});for(let{V:d,M:h}of new Set(mm.values())){let f=[];for(let m of d){let b=Zm.filter(v=>iw(v,m)),y=f.find(({G:v})=>b.some(w=>v.has(w)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(m),i(y.G,b)}let p=f.flatMap(m=>CS(m.G));for(let{G:m,V:b}of f){let y=new Set(p.filter(v=>!m.has(v)));for(let v of b)h.set(v,y)}}Oh=new Set;let c=new Set;const u=d=>Oh.has(d)?c.add(d):Oh.add(d);for(let d of Zm){for(let h of d.P)u(h);for(let h of d.Q)u(h)}for(let d of Oh)!mm.has(d)&&!c.has(d)&&mm.set(d,sde);i(Oh,nde(Oh)),qz=cPe(n).map(d=>kPe.from(d)).sort(hPe),AR=new Map;for(let d of qz){let h=[AR];for(let f of d){let p=h.map(m=>{let b=m.get(f);return b||(b=new Map,m.set(f,b)),b});f===ide?h.push(...p):h=p}for(let f of h)f.V=d}}function g7(n){return(lde(n)?"":`${b7(CC([n]))} `)+Xue(n)}function b7(n){return`"${n}"`}function SPe(n){if(n.length>=4&&n[2]==Wz&&n[3]==Wz)throw new Error(`invalid label extension: "${a0(n.slice(0,4))}"`)}function CPe(n){for(let r=n.lastIndexOf(95);r>0;)if(n[--r]!==95)throw new Error("underscore allowed only at start")}function EPe(n){let e=n[0],r=$z.get(e);if(r)throw Gy(`leading ${r}`);let i=n.length,s=-1;for(let o=1;o<i;o++){e=n[o];let a=$z.get(e);if(a){if(s==o)throw Gy(`${r} + ${a}`);s=o+1,r=a}}if(s==i)throw Gy(`trailing ${r}`)}function CC(n,e=1/0,r=Xue){let i=[];APe(n[0])&&i.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,o=n.length;for(let a=0;a<o;a++){let l=n[a];lde(l)&&(i.push(a0(n.slice(s,a))),i.push(r(l)),s=a+1)}return i.push(a0(n.slice(s,o))),i.join("")}function APe(n,e){return m7(),Jh.has(n)}function lde(n){return m7(),ade.has(n)}function TPe(n){return OPe(PPe(n,_Pe,NPe))}function PPe(n,e,r){if(!n)return[];m7();let i=0;return n.split(rde).map(s=>{let o=dPe(s),a={input:o,offset:i};i+=o.length+1;try{let l=a.tokens=RPe(o,e,r),c=l.length,u;if(!c)throw new Error("empty label");let d=a.output=l.flat();if(CPe(d),!(a.emoji=c>1||l[0].is_emoji)&&d.every(f=>f<128))SPe(d),u="ASCII";else{let f=l.flatMap(p=>p.is_emoji?[]:p);if(!f.length)u="Emoji";else{if(Jh.has(d[0]))throw Gy("leading combining mark");for(let b=1;b<c;b++){let y=l[b];if(!y.is_emoji&&Jh.has(y[0]))throw Gy(`emoji + combining mark: "${a0(l[b-1])} + ${CC([y[0]])}"`)}EPe(d);let p=CS(new Set(f)),[m]=MPe(p);DPe(m,f),IPe(m,p),u=m.N}}a.type=u}catch(l){a.error=l}return a})}function IPe(n,e){let r,i=[];for(let s of e){let o=mm.get(s);if(o===sde)return;if(o){let a=o.M.get(s);if(r=r?r.filter(l=>a.has(l)):CS(a),!r.length)return}else i.push(s)}if(r){for(let s of r)if(i.every(o=>iw(s,o)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function MPe(n){let e=Zm;for(let r of n){let i=e.filter(s=>iw(s,r));if(!i.length)throw Zm.some(s=>iw(s,r))?ude(e[0],r):cde(r);if(e=i,i.length==1)break}return e}function OPe(n){return n.map(({input:e,error:r,output:i})=>{if(r){let s=r.message;throw new Error(n.length==1?s:`Invalid label ${b7(CC(e,63))}: ${s}`)}return a0(i)}).join(rde)}function cde(n){return new Error(`disallowed character: ${g7(n)}`)}function ude(n,e){let r=g7(e),i=Zm.find(s=>s.P.has(e));return i&&(r=`${i.N} ${r}`),new Error(`illegal mixture: ${n.N} + ${r}`)}function Gy(n){return new Error(`illegal placement: ${n}`)}function DPe(n,e){for(let r of e)if(!iw(n,r))throw ude(n,r);if(n.M){let r=nde(e);for(let i=1,s=r.length;i<s;i++)if(ER.has(r[i])){let o=i+1;for(let a;o<s&&ER.has(a=r[o]);o++)for(let l=i;l<o;l++)if(r[l]==a)throw new Error(`duplicate non-spacing marks: ${g7(a)}`);if(o-i>zz)throw new Error(`excessive non-spacing marks: ${b7(CC(r.slice(i-1,o)))} (${o-i}/${zz})`);i=o}}}function RPe(n,e,r){let i=[],s=[];for(n=n.slice().reverse();n.length;){let o=jPe(n);if(o)s.length&&(i.push(e(s)),s=[]),i.push(r(o));else{let a=n.pop();if(Oh.has(a))s.push(a);else{let l=CR.get(a);if(l)s.push(...l);else if(!ode.has(a))throw cde(a)}}}return s.length&&i.push(e(s)),i}function NPe(n){return n.filter(e=>e!=ide)}function jPe(n,e){let r=AR,i,s=n.length;for(;s&&(r=r.get(n[--s]),!!r);){let{V:o}=r;o&&(i=o,n.length=s)}return i}function BPe(n){return TPe(n)}function LPe(n){return BPe(n)}const eg=Sce({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),f5=Sce({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});var xl=function(){return xl=Object.assign||function(e){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},xl.apply(this,arguments)};function dde(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(r[i[s]]=n[i[s]]);return r}function FPe(n,e,r){if(r||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}var dk="right-scroll-bar-position",hk="width-before-scroll-bar",$Pe="with-scroll-bars-hidden",zPe="--removed-body-scroll-bar-size";function p5(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function UPe(n,e){var r=A.useState(function(){return{value:n,callback:e,facade:{get current(){return r.value},set current(i){var s=r.value;s!==i&&(r.value=i,r.callback(i,s))}}}})[0];return r.callback=e,r.facade}var WPe=typeof window<"u"?A.useLayoutEffect:A.useEffect,Hz=new WeakMap;function qPe(n,e){var r=UPe(null,function(i){return n.forEach(function(s){return p5(s,i)})});return WPe(function(){var i=Hz.get(r);if(i){var s=new Set(i),o=new Set(n),a=r.current;s.forEach(function(l){o.has(l)||p5(l,null)}),o.forEach(function(l){s.has(l)||p5(l,a)})}Hz.set(r,n)},[n]),r}function HPe(n){return n}function VPe(n,e){e===void 0&&(e=HPe);var r=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:n},useMedium:function(o){var a=e(o,i);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(i=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){i=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function GPe(n){n===void 0&&(n={});var e=VPe(null);return e.options=xl({async:!0,ssr:!1},n),e}var hde=function(n){var e=n.sideCar,r=dde(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return A.createElement(i,xl({},r))};hde.isSideCarExport=!0;function YPe(n,e){return n.useMedium(e),hde}var fde=GPe(),m5=function(){},EC=A.forwardRef(function(n,e){var r=A.useRef(null),i=A.useState({onScrollCapture:m5,onWheelCapture:m5,onTouchMoveCapture:m5}),s=i[0],o=i[1],a=n.forwardProps,l=n.children,c=n.className,u=n.removeScrollBar,d=n.enabled,h=n.shards,f=n.sideCar,p=n.noIsolation,m=n.inert,b=n.allowPinchZoom,y=n.as,v=y===void 0?"div":y,w=n.gapMode,_=dde(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,k=qPe([r,e]),C=xl(xl({},_),s);return A.createElement(A.Fragment,null,d&&A.createElement(x,{sideCar:fde,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:w}),a?A.cloneElement(A.Children.only(l),xl(xl({},C),{ref:k})):A.createElement(v,xl({},C,{className:c,ref:k}),l))});EC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};EC.classNames={fullWidth:hk,zeroRight:dk};var KPe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XPe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=KPe();return e&&n.setAttribute("nonce",e),n}function QPe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function JPe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var ZPe=function(){var n=0,e=null;return{add:function(r){n==0&&(e=XPe())&&(QPe(e,r),JPe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},eIe=function(){var n=ZPe();return function(e,r){A.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&r])}},pde=function(){var n=eIe(),e=function(r){var i=r.styles,s=r.dynamic;return n(i,s),null};return e},tIe={left:0,top:0,right:0,gap:0},g5=function(n){return parseInt(n||"",10)||0},nIe=function(n){var e=window.getComputedStyle(document.body),r=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[g5(r),g5(i),g5(s)]},rIe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return tIe;var e=nIe(n),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-r+e[2]-e[0])}},iIe=pde(),tg="data-scroll-locked",sIe=function(n,e,r,i){var s=n.left,o=n.top,a=n.right,l=n.gap;return r===void 0&&(r="margin"),`
  .`.concat($Pe,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(tg,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dk,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(hk,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(dk," .").concat(dk,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(hk," .").concat(hk,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(tg,`] {
    `).concat(zPe,": ").concat(l,`px;
  }
`)},Vz=function(){var n=parseInt(document.body.getAttribute(tg)||"0",10);return isFinite(n)?n:0},oIe=function(){A.useEffect(function(){return document.body.setAttribute(tg,(Vz()+1).toString()),function(){var n=Vz()-1;n<=0?document.body.removeAttribute(tg):document.body.setAttribute(tg,n.toString())}},[])},aIe=function(n){var e=n.noRelative,r=n.noImportant,i=n.gapMode,s=i===void 0?"margin":i;oIe();var o=A.useMemo(function(){return rIe(s)},[s]);return A.createElement(iIe,{styles:sIe(o,!e,s,r?"":"!important")})},TR=!1;if(typeof window<"u")try{var W1=Object.defineProperty({},"passive",{get:function(){return TR=!0,!0}});window.addEventListener("test",W1,W1),window.removeEventListener("test",W1,W1)}catch{TR=!1}var Yp=TR?{passive:!1}:!1,lIe=function(n){return n.tagName==="TEXTAREA"},mde=function(n,e){if(!(n instanceof Element))return!1;var r=window.getComputedStyle(n);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!lIe(n)&&r[e]==="visible")},cIe=function(n){return mde(n,"overflowY")},uIe=function(n){return mde(n,"overflowX")},Gz=function(n,e){var r=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=gde(n,i);if(s){var o=bde(n,i),a=o[1],l=o[2];if(a>l)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},dIe=function(n){var e=n.scrollTop,r=n.scrollHeight,i=n.clientHeight;return[e,r,i]},hIe=function(n){var e=n.scrollLeft,r=n.scrollWidth,i=n.clientWidth;return[e,r,i]},gde=function(n,e){return n==="v"?cIe(e):uIe(e)},bde=function(n,e){return n==="v"?dIe(e):hIe(e)},fIe=function(n,e){return n==="h"&&e==="rtl"?-1:1},pIe=function(n,e,r,i,s){var o=fIe(n,window.getComputedStyle(e).direction),a=o*i,l=r.target,c=e.contains(l),u=!1,d=a>0,h=0,f=0;do{var p=bde(n,l),m=p[0],b=p[1],y=p[2],v=b-y-o*m;(m||v)&&gde(n,l)&&(h+=v,f+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},q1=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Yz=function(n){return[n.deltaX,n.deltaY]},Kz=function(n){return n&&"current"in n?n.current:n},mIe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},gIe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},bIe=0,Kp=[];function yIe(n){var e=A.useRef([]),r=A.useRef([0,0]),i=A.useRef(),s=A.useState(bIe++)[0],o=A.useState(pde)[0],a=A.useRef(n);A.useEffect(function(){a.current=n},[n]),A.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var b=FPe([n.lockRef.current],(n.shards||[]).map(Kz),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var l=A.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var v=q1(b),w=r.current,_="deltaX"in b?b.deltaX:w[0]-v[0],x="deltaY"in b?b.deltaY:w[1]-v[1],k,C=b.target,E=Math.abs(_)>Math.abs(x)?"h":"v";if("touches"in b&&E==="h"&&C.type==="range")return!1;var T=Gz(E,C);if(!T)return!0;if(T?k=E:(k=E==="v"?"h":"v",T=Gz(E,C)),!T)return!1;if(!i.current&&"changedTouches"in b&&(_||x)&&(i.current=k),!k)return!0;var M=i.current||k;return pIe(M,y,b,M==="h"?_:x)},[]),c=A.useCallback(function(b){var y=b;if(!(!Kp.length||Kp[Kp.length-1]!==o)){var v="deltaY"in y?Yz(y):q1(y),w=e.current.filter(function(k){return k.name===y.type&&(k.target===y.target||y.target===k.shadowParent)&&mIe(k.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var _=(a.current.shards||[]).map(Kz).filter(Boolean).filter(function(k){return k.contains(y.target)}),x=_.length>0?l(y,_[0]):!a.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),u=A.useCallback(function(b,y,v,w){var _={name:b,delta:y,target:v,should:w,shadowParent:vIe(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(x){return x!==_})},1)},[]),d=A.useCallback(function(b){r.current=q1(b),i.current=void 0},[]),h=A.useCallback(function(b){u(b.type,Yz(b),b.target,l(b,n.lockRef.current))},[]),f=A.useCallback(function(b){u(b.type,q1(b),b.target,l(b,n.lockRef.current))},[]);A.useEffect(function(){return Kp.push(o),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Yp),document.addEventListener("touchmove",c,Yp),document.addEventListener("touchstart",d,Yp),function(){Kp=Kp.filter(function(b){return b!==o}),document.removeEventListener("wheel",c,Yp),document.removeEventListener("touchmove",c,Yp),document.removeEventListener("touchstart",d,Yp)}},[]);var p=n.removeScrollBar,m=n.inert;return A.createElement(A.Fragment,null,m?A.createElement(o,{styles:gIe(s)}):null,p?A.createElement(aIe,{gapMode:n.gapMode}):null)}function vIe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const wIe=YPe(fde,yIe);var yde=A.forwardRef(function(n,e){return A.createElement(EC,xl({},n,{ref:e,sideCar:wIe}))});yde.classNames=EC.classNames;function Xz(n){var e=n.match(/^var\((.*)\)$/);return e?e[1]:n}function xIe(n,e){var r=n;for(var i of e){if(!(i in r))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));r=r[i]}return r}function vde(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i={};for(var s in n){var o=n[s],a=[...r,s];typeof o=="string"||typeof o=="number"||o==null?i[s]=e(o,a):typeof o=="object"&&!Array.isArray(o)?i[s]=vde(o,e,a):console.warn('Skipping invalid key "'.concat(a.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"'))}return i}function Qz(n,e){var r={};if(typeof e=="object"){var i=n;vde(e,(l,c)=>{if(l!=null){var u=xIe(i,c);r[Xz(u)]=String(l)}})}else{var s=n;for(var o in s){var a=s[o];a!=null&&(r[Xz(o)]=a)}}return Object.defineProperty(r,"toString",{value:function(){return Object.keys(this).map(c=>"".concat(c,":").concat(this[c])).join(";")},writable:!1}),r}var PR={exports:{}};(function(n,e){(function(r,i){var s="1.0.41",o="",a="?",l="function",c="undefined",u="object",d="string",h="major",f="model",p="name",m="type",b="vendor",y="version",v="architecture",w="console",_="mobile",x="tablet",k="smarttv",C="wearable",E="embedded",T=500,M="Amazon",I="Apple",O="ASUS",F="BlackBerry",$="Browser",z="Chrome",D="Edge",j="Firefox",N="Google",R="Honor",H="Huawei",U="Lenovo",K="LG",Y="Microsoft",Z="Motorola",G="Nvidia",X="OnePlus",ae="Opera",be="OPPO",le="Samsung",J="Sharp",xe="Sony",ge="Xiaomi",V="Zebra",we="Facebook",ze="Chromium OS",et="Mac OS",$e=" Browser",mt=function(ee,ue){var ce={};for(var Ce in ee)ue[Ce]&&ue[Ce].length%2===0?ce[Ce]=ue[Ce].concat(ee[Ce]):ce[Ce]=ee[Ce];return ce},Ue=function(ee){for(var ue={},ce=0;ce<ee.length;ce++)ue[ee[ce].toUpperCase()]=ee[ce];return ue},Ke=function(ee,ue){return typeof ee===d?pt(ue).indexOf(pt(ee))!==-1:!1},pt=function(ee){return ee.toLowerCase()},lt=function(ee){return typeof ee===d?ee.replace(/[^\d\.]/g,o).split(".")[0]:i},Ye=function(ee,ue){if(typeof ee===d)return ee=ee.replace(/^\s\s*/,o),typeof ue===c?ee:ee.substring(0,T)},We=function(ee,ue){for(var ce=0,Ce,Me,he,Te,Se,ie;ce<ue.length&&!Se;){var re=ue[ce],se=ue[ce+1];for(Ce=Me=0;Ce<re.length&&!Se&&re[Ce];)if(Se=re[Ce++].exec(ee),Se)for(he=0;he<se.length;he++)ie=Se[++Me],Te=se[he],typeof Te===u&&Te.length>0?Te.length===2?typeof Te[1]==l?this[Te[0]]=Te[1].call(this,ie):this[Te[0]]=Te[1]:Te.length===3?typeof Te[1]===l&&!(Te[1].exec&&Te[1].test)?this[Te[0]]=ie?Te[1].call(this,ie,Te[2]):i:this[Te[0]]=ie?ie.replace(Te[1],Te[2]):i:Te.length===4&&(this[Te[0]]=ie?Te[3].call(this,ie.replace(Te[1],Te[2])):i):this[Te]=ie||i;ce+=2}},Ae=function(ee,ue){for(var ce in ue)if(typeof ue[ce]===u&&ue[ce].length>0){for(var Ce=0;Ce<ue[ce].length;Ce++)if(Ke(ue[ce][Ce],ee))return ce===a?i:ce}else if(Ke(ue[ce],ee))return ce===a?i:ce;return ue.hasOwnProperty("*")?ue["*"]:ee},W={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},de={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},me={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,ae+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[p,ae+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[p,ae]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+$]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[p,"Smart Lenovo "+$]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+$],y],[/\bfocus\/([\w\.]+)/i],[y,[p,j+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI"+$e]],[/fxios\/([\w\.-]+)/i],[y,[p,j]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+$e],y],[/samsungbrowser\/([\w\.]+)/i],[y,[p,le+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,we],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,z+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,z+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+$]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,Ae,W]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,j+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[v,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[v,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[v,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[v,/ower/,o,pt]],[/ sun4\w[;\)]/i],[[v,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[v,pt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[b,le],[m,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[b,le],[m,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[b,I],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[b,I],[m,x]],[/(macintosh);/i],[f,[b,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[b,J],[m,_]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[b,R],[m,x]],[/honor([-\w ]+)[;\)]/i],[f,[b,R],[m,_]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[b,H],[m,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[b,H],[m,_]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[b,ge],[m,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[b,ge],[m,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[b,be],[m,_]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[b,Ae,{OnePlus:["304","403","203"],"*":be}],[m,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[b,"Vivo"],[m,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[b,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[b,Z],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[b,Z],[m,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[b,K],[m,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[b,K],[m,_]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[b,U],[m,x]],[/(nokia) (t[12][01])/i],[b,f,[m,x]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[m,_],[b,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[b,N],[m,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[b,N],[m,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[b,xe],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[b,xe],[m,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[b,X],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[b,M],[m,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[b,M],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,b,[m,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[b,F],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[b,O],[m,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[b,O],[m,_]],[/(nexus 9)/i],[f,[b,"HTC"],[m,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[f,/_/g," "],[m,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[b,"TCL"],[m,x]],[/(itel) ((\w+))/i],[[b,pt],f,[m,Ae,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[b,"Acer"],[m,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[b,"Meizu"],[m,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[b,"Ulefone"],[m,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[b,"Energizer"],[m,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[b,"Cat"],[m,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[b,"Smartfren"],[m,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[b,"Nothing"],[m,_]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[b,"Archos"],[m,x]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[b,"Archos"],[m,_]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[b,f,[m,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[b,f,[m,_]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,f,[m,x]],[/(surface duo)/i],[f,[b,Y],[m,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[b,"Fairphone"],[m,_]],[/(u304aa)/i],[f,[b,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[f,[b,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[f,[b,"RCA"],[m,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[b,"Dell"],[m,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[b,"Verizon"],[m,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[b,"Barnes & Noble"],[m,x]],[/\b(tm\d{3}\w+) b/i],[f,[b,"NuVision"],[m,x]],[/\b(k88) b/i],[f,[b,"ZTE"],[m,x]],[/\b(nx\d{3}j) b/i],[f,[b,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[f,[b,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[f,[b,"Swiss"],[m,x]],[/\b((zeki)?tb.*\b) b/i],[f,[b,"Zeki"],[m,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],f,[m,x]],[/\b(ns-?\w{0,9}) b/i],[f,[b,"Insignia"],[m,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[b,"NextBook"],[m,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],f,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],f,[m,_]],[/\b(ph-1) /i],[f,[b,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[b,"Envizen"],[m,x]],[/\b(trio[-\w\. ]+) b/i],[f,[b,"MachSpeed"],[m,x]],[/\btu_(1491) b/i],[f,[b,"Rotor"],[m,x]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[b,G],[m,x]],[/(sprint) (\w+)/i],[b,f,[m,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[b,Y],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[b,V],[m,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[b,V],[m,_]],[/smart-tv.+(samsung)/i],[b,[m,k]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[b,le],[m,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,K],[m,k]],[/(apple) ?tv/i],[b,[f,I+" TV"],[m,k]],[/crkey/i],[[f,z+"cast"],[b,N],[m,k]],[/droid.+aft(\w+)( bui|\))/i],[f,[b,M],[m,k]],[/(shield \w+ tv)/i],[f,[b,G],[m,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[b,J],[m,k]],[/(bravia[\w ]+)( bui|\))/i],[f,[b,xe],[m,k]],[/(mi(tv|box)-?\w+) bui/i],[f,[b,ge],[m,k]],[/Hbbtv.*(technisat) (.*);/i],[b,f,[m,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,Ye],[f,Ye],[m,k]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[m,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,f,[m,w]],[/droid.+; (shield)( bui|\))/i],[f,[b,G],[m,w]],[/(playstation \w+)/i],[f,[b,xe],[m,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[b,Y],[m,w]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[b,le],[m,C]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[b,f,[m,C]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[b,be],[m,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[b,I],[m,C]],[/(opwwe\d{3})/i],[f,[b,X],[m,C]],[/(moto 360)/i],[f,[b,Z],[m,C]],[/(smartwatch 3)/i],[f,[b,xe],[m,C]],[/(g watch r)/i],[f,[b,K],[m,C]],[/droid.+; (wt63?0{2,3})\)/i],[f,[b,V],[m,C]],[/droid.+; (glass) \d/i],[f,[b,N],[m,C]],[/(pico) (4|neo3(?: link|pro)?)/i],[b,f,[m,C]],[/; (quest( \d| pro)?)/i],[f,[b,we],[m,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[m,E]],[/(aeobc)\b/i],[f,[b,M],[m,E]],[/(homepod).+mac os/i],[f,[b,I],[m,E]],[/windows iot/i],[[m,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,_]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,D+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[y,Ae,de]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,Ae,de],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,et],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,y],[/\(bb(10);/i],[y,[p,F]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,j+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,z+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,ze],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},oe=function(ee,ue){if(typeof ee===u&&(ue=ee,ee=i),!(this instanceof oe))return new oe(ee,ue).getResult();var ce=typeof r!==c&&r.navigator?r.navigator:i,Ce=ee||(ce&&ce.userAgent?ce.userAgent:o),Me=ce&&ce.userAgentData?ce.userAgentData:i,he=ue?mt(me,ue):me,Te=ce&&ce.userAgent==Ce;return this.getBrowser=function(){var Se={};return Se[p]=i,Se[y]=i,We.call(Se,Ce,he.browser),Se[h]=lt(Se[y]),Te&&ce&&ce.brave&&typeof ce.brave.isBrave==l&&(Se[p]="Brave"),Se},this.getCPU=function(){var Se={};return Se[v]=i,We.call(Se,Ce,he.cpu),Se},this.getDevice=function(){var Se={};return Se[b]=i,Se[f]=i,Se[m]=i,We.call(Se,Ce,he.device),Te&&!Se[m]&&Me&&Me.mobile&&(Se[m]=_),Te&&Se[f]=="Macintosh"&&ce&&typeof ce.standalone!==c&&ce.maxTouchPoints&&ce.maxTouchPoints>2&&(Se[f]="iPad",Se[m]=x),Se},this.getEngine=function(){var Se={};return Se[p]=i,Se[y]=i,We.call(Se,Ce,he.engine),Se},this.getOS=function(){var Se={};return Se[p]=i,Se[y]=i,We.call(Se,Ce,he.os),Te&&!Se[p]&&Me&&Me.platform&&Me.platform!="Unknown"&&(Se[p]=Me.platform.replace(/chrome os/i,ze).replace(/macos/i,et)),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ce},this.setUA=function(Se){return Ce=typeof Se===d&&Se.length>T?Ye(Se,T):Se,this},this.setUA(Ce),this};oe.VERSION=s,oe.BROWSER=Ue([p,y,h]),oe.CPU=Ue([v]),oe.DEVICE=Ue([f,b,m,w,_,k,x,C,E]),oe.ENGINE=oe.OS=Ue([p,y]),n.exports&&(e=n.exports=oe),e.UAParser=oe;var pe=typeof r!==c&&(r.jQuery||r.Zepto);if(pe&&!pe.ua){var ve=new oe;pe.ua=ve.getResult(),pe.ua.get=function(){return ve.getUA()},pe.ua.set=function(ee){ve.setUA(ee);var ue=ve.getResult();for(var ce in ue)pe.ua[ce]=ue[ce]}}})(typeof window=="object"?window:Exe)})(PR,PR.exports);var _Ie=PR.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const jb={newline:10,reset:27};function kIe(n){if(!Number.isSafeInteger(n))throw new Error(`integer expected: ${n}`)}function SIe(n){if(!Number.isSafeInteger(n)||n<1||n>40)throw new Error(`Invalid version=${n}. Expected number [1..40]`)}function gh(n,e){return n.toString(2).padStart(e,"0")}function Jz(n,e){const r=n%e;return r>=0?r:e+r}function fl(n,e){return new Array(n).fill(e)}function b5(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24}function Zz(n){let e=0,r=0;for(const o of n)e=Math.max(e,o.length),r+=o.length;const i=new Uint8Array(r);let s=0;for(let o=0;o<e;o++)for(const a of n)o<a.length&&(i[s++]=a[o]);return i}function CIe(){let n,e=1/0;return{add(r,i){r>=e||(n=i,e=r)},get:()=>n,score:()=>e}}function eU(n){return{has:e=>n.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const i=n.indexOf(r);if(i===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${n}`);return i})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(kIe(r),r<0||r>=n.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${n.length})`);return n[r]})}}}function tU(n){if(n.length!==32)throw new Error("expects 32 element matrix");const e=[1431655765,858993459,252645135,16711935,65535];for(let r=0;r<5;r++){const i=e[r]>>>0,s=1<<r,o=s<<1;for(let a=0;a<32;a+=o)for(let l=0;l<s;l++){const c=a+l,u=c+s,d=n[c]>>>0,h=n[u]>>>0,f=(d>>>s^h)&i;n[c]=(d^f<<s)>>>0,n[u]=(h^f)>>>0}}}const Bb=n=>1<<(n&31)>>>0,bh=(n,e)=>e===0?0:e===32?4294967295:(1<<e)-1<<n>>>0;class Ki{constructor(e,r){Be(this,"defined");Be(this,"value");Be(this,"tailMask");Be(this,"words");Be(this,"fullWords");Be(this,"height");Be(this,"width");const{height:i,width:s}=Ki.size(e);if(this.height=i,this.width=s,this.tailMask=bh(0,s&31||32),this.words=Math.ceil(s/32)|0,this.fullWords=Math.floor(s/32)|0,this.value=new Uint32Array(this.words*i),this.defined=new Uint32Array(this.value.length),r){if(r.length!==i)throw new Error(`Bitmap: data height mismatch: exp=${i} got=${r.length}`);for(let o=0;o<i;o++){const a=r[o];if(!a||a.length!==s)throw new Error(`Bitmap: data width mismatch at y=${o}: exp=${s} got=${a==null?void 0:a.length}`);for(let l=0;l<s;l++)this.set(l,o,a[l])}}}static size(e,r){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: invalid height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: invalid width=${e.width} (${typeof e.width})`);return r!==void 0&&(e={width:Math.min(e.width,r.width),height:Math.min(e.height,r.height)}),e}static fromString(e){e=e.replace(/^\n+/g,"").replace(/\n+$/g,"");const r=e.split(String.fromCharCode(jb.newline)),i=r.length;let s;const o=[];for(const a of r){const l=a.split("").map(c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)});if(s!==void 0&&l.length!==s)throw new Error(`Bitmap.fromString different row sizes: width=${s} cur=${l.length}`);s=l.length,o.push(l)}return s===void 0&&(s=0),new Ki({height:i,width:s},o)}point(e){return this.get(e.x,e.y)}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:r,y:i}=this.xy(e);return{height:this.height-i,width:this.width-r}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: invalid x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: invalid y=${e.y}`);return e.x=Jz(e.x,this.width),e.y=Jz(e.y,this.height),e}wordIndex(e,r){return r*this.words+(e>>>5)}bitIndex(e,r){return{word:this.wordIndex(e,r),bit:e&31}}isDefined(e,r){const i=this.wordIndex(e,r),s=Bb(e);return(this.defined[i]&s)!==0}get(e,r){const i=this.wordIndex(e,r),s=Bb(e);return(this.value[i]&s)!==0}maskWord(e,r,i){const{defined:s,value:o}=this;s[e]|=r,o[e]=o[e]&~r|-i&r}set(e,r,i){i!==void 0&&this.maskWord(this.wordIndex(e,r),Bb(e),i)}fillRectConst(e,r,i,s,o){if(i<=0||s<=0||o===void 0)return;const{value:a,defined:l,words:c}=this,u=e>>>5,d=e+i-1>>>5,h=e&31,f=e+i-1&31;for(let p=0;p<s;p++){const m=(r+p)*c;if(u===d){const b=bh(h,f-h+1);this.maskWord(m+u,b,o);continue}this.maskWord(m+u,bh(h,32-h),o);for(let b=u+1;b<d;b++)l[m+b]=4294967295,a[m+b]=o?4294967295:0;this.maskWord(m+d,bh(0,f+1),o)}}rectWords(e,r,i,s,o){for(let a=0;a<s;a++){const l=r+a;for(let c=0;c<i;){const u=e+c,{bit:d,word:h}=this.bitIndex(u,l),f=Math.min(32-d,i-c);o(h,u,c,a,f),c+=f}}}rect(e,r,i){const{x:s,y:o}=this.xy(e),{height:a,width:l}=Ki.size(r,this.size({x:s,y:o}));if(typeof i!="function")return this.fillRectConst(s,o,l,a,i),this;const{defined:c,value:u}=this;return this.rectWords(s,o,l,a,(d,h,f,p,m)=>{let b=0,y=u[d];for(let v=0;v<m;v++){const w=Bb(h+v),_=i({x:f+v,y:p},(y&w)!==0);_!==void 0&&(b|=w,y=y&~w|-_&w)}c[d]|=b,u[d]=y}),this}rectRead(e,r,i){const{x:s,y:o}=this.xy(e),{height:a,width:l}=Ki.size(r,this.size({x:s,y:o})),{value:c}=this;return this.rectWords(s,o,l,a,(u,d,h,f,p)=>{const m=c[u];for(let b=0;b<p;b++){const y=Bb(d+b);i({x:h+b,y:f},(m&y)!==0)}}),this}hLine(e,r,i){return this.rect(e,{width:r,height:1},i)}vLine(e,r,i){return this.rect(e,{width:1,height:r},i)}border(e=2,r){const i=this.height+2*e,s=this.width+2*e,o=new Ki({height:i,width:s});return o.rect(0,1/0,r),o.embed({x:e,y:e},this),o}embed(e,r){const{x:i,y:s}=this.xy(e),{height:o,width:a}=Ki.size(r.size(),this.size({x:i,y:s}));if(a<=0||o<=0)return this;const{value:l,defined:c}=this,{words:u,value:d}=r;for(let h=0;h<o;h++){const f=h*u;for(let p=0;p<a;){const m=i+p,{word:b,bit:y}=this.bitIndex(m,s+h),{word:v,bit:w}=r.bitIndex(p,h),_=Math.min(32-y,a-p),x=d[v],k=w&&v+1<f+u?d[v+1]:0,C=w?(x>>>w|k<<32-w)>>>0:x,E=bh(y,_),T=(C&bh(0,_))<<y>>>0;c[b]|=E,l[b]=l[b]&~E|T,p+=_}}return this}rectSlice(e,r=this.size()){const{x:i,y:s}=this.xy(e),{height:o,width:a}=Ki.size(r,this.size({x:i,y:s})),l=new Ki({height:o,width:a});return this.rectRead({x:i,y:s},{height:o,width:a},(c,u)=>{this.isDefined(i+c.x,s+c.y)&&l.set(c.x,c.y,u)}),l}transpose(){const{height:e,width:r,value:i,defined:s,words:o}=this,a=new Ki({height:r,width:e}),{words:l,value:c,defined:u,tailMask:d}=a,h=new Uint32Array(32),f=new Uint32Array(32);for(let p=0;p<e;p+=32)for(let m=0;m<o;m++){const b=Math.min(32,e-p);for(let y=0;y<b;y++){const v=this.wordIndex(32*m,p+y);h[y]=i[v],f[y]=s[v]}h.fill(0,b),f.fill(0,b),tU(h),tU(f);for(let y=0;y<32;y++){const v=m*32+y;if(v>=r)break;const w=a.wordIndex(p,v),_=p>>>5===l-1?d:4294967295;c[w]=h[y]&_,u[w]=f[y]&_}}return a}negate(){const e=this.defined.length;for(let r=0;r<e;r++)this.value[r]=~this.value[r],this.defined[r]=4294967295;return this}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`invalid scale factor: ${e}`);const{height:r,width:i}=this;return new Ki({height:e*r,width:e*i}).rect({x:0,y:0},1/0,({x:o,y:a})=>this.get(o/e|0,a/e|0))}clone(){const e=new Ki(this.size());return e.defined.set(this.defined),e.value.set(this.value),e}assertDrawn(){const{height:e,width:r,defined:i,tailMask:s,fullWords:o,words:a}=this;if(!(!e||!r))for(let l=0;l<e;l++){const c=l*a;for(let u=0;u<o;u++)if(i[c+u]!==4294967295)throw new Error("Invalid color type=undefined");if(a!==o&&(i[c+o]&s)!==s)throw new Error("Invalid color type=undefined")}}countPatternInRow(e,r,...i){if(r<=0||r>=32)throw new Error("wrong patternLen");const s=(1<<r)-1,{width:o,value:a,words:l}=this;let c=0;const u=this.wordIndex(0,e);for(let d=0,h=0;d<l;d++){const f=a[u+d],p=d===l-1&&o&31||32;for(let m=0;m<p;m++)if(h=(h<<1|f>>>m&1)&s,!(d*32+m+1<r)){for(const b of i)if(h===b){c++;break}}}return c}getRuns(e,r){const{width:i,value:s,words:o}=this;if(i===0)return;let a=0,l;const c=this.wordIndex(0,e);for(let u=0;u<o;u++){const d=s[c+u],h=u===o-1&&i&31||32;for(let f=0;f<h;f++){const p=(d&1<<f)!==0;if(p===l){a++;continue}l!==void 0&&r(a,l),l=p,a=1}}l!==void 0&&r(a,l)}popcnt(){const{height:e,width:r,words:i,fullWords:s,tailMask:o}=this;if(!e||!r)return 0;let a=0;for(let l=0;l<e;l++){const c=l*i;for(let u=0;u<s;u++)a+=b5(this.value[c+u]);i!==s&&(a+=b5(this.value[c+s]&o))}return a}countBoxes2x2(e){const{width:r,words:i}=this;if(r<2||(e|0)<0||e+1>=this.height)return 0;const s=this.wordIndex(0,e)|0,o=this.wordIndex(0,e+1)|0,l=(r&31)===0?2147483647:bh(0,r-1&31);let c=0;for(let u=0;u<i;u++){const d=this.value[s+u],h=this.value[o+u],f=~(d^h)>>>0,p=u+1<i?this.value[s+u+1]>>>0:0,m=~(d^(d>>>1|(p&1)<<31)>>>0)>>>0,b=u+1<i?this.value[o+u+1]>>>0:0,y=~(h^(h>>>1|(b&1)<<31)>>>0)>>>0;let v=(f&m&y)>>>0;u===i-1&&(v&=l),c+=b5(v)}return c}toString(){const e=String.fromCharCode(jb.newline);let r="";for(let i=0;i<this.height;i++){let s="";for(let o=0;o<this.width;o++){const a=this.get(o,i);s+=this.isDefined(o,i)?a?"X":" ":"?"}r+=s+(i+1===this.height?"":e)}return r}toRaw(){const e=Array.from({length:this.height},()=>new Array(this.width));for(let r=0;r<this.height;r++){const i=e[r];for(let s=0;s<this.width;s++)i[s]=this.get(s,r)}return e}toASCII(){const{height:e,width:r}=this;let i="";for(let s=0;s<e;s+=2){for(let o=0;o<r;o++){const a=this.get(o,s),l=s+1>=e?!0:this.get(o,s+1);!a&&!l?i+="":!a&&l?i+="":a&&!l?i+="":a&&l&&(i+=" ")}i+=String.fromCharCode(jb.newline)}return i}toTerm(){const e=String.fromCharCode(jb.reset),r=e+"[0m",i=e+"[1;47m  "+r,s=e+"[40m  "+r,o=String.fromCharCode(jb.newline);let a="";for(let l=0;l<this.height;l++){for(let c=0;c<this.width;c++){const u=this.get(c,l);a+=u?s:i}a+=o}return a}toSVG(e=!0){let r=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,i="",s;return this.rectRead(0,1/0,(o,a)=>{if(!a)return;const{x:l,y:c}=o;if(!e){r+=`<rect x="${l}" y="${c}" width="1" height="1" />`;return}let u=`M${l} ${c}`;if(s){const h=`m${l-s.x} ${c-s.y}`;h.length<=u.length&&(u=h)}const d=l<10?`H${l}`:"h-1";i+=`${u}h1v1${d}Z`,s=o}),e&&(r+=`<path d="${i}"/>`),r+="</svg>",r}toGIF(){const e=l=>[l&255,l>>>8&255],r=[...e(this.width),...e(this.height)],i=[];this.rectRead(0,1/0,(l,c)=>i.push(+(c===!0)));const s=126,o=[71,73,70,56,55,97,...r,246,0,0,255,255,255,...fl(3*127,0),44,0,0,0,0,...r,0,7],a=Math.floor(i.length/s);for(let l=0;l<a;l++)o.push(s+1,128,...i.slice(s*l,s*(l+1)).map(c=>+c));return o.push(i.length%s+1,128,...i.slice(a*s).map(l=>+l)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:r,width:i}=this.size(),s=new Uint8Array(r*i*(e?3:4));let o=0;for(let a=0;a<r;a++)for(let l=0;l<i;l++){const c=this.get(l,a)?0:255;s[o++]=c,s[o++]=c,s[o++]=c,e||(s[o++]=255)}return{height:r,width:i,data:s}}}const nU=["low","medium","quartile","high"],rU=["numeric","alphanumeric","byte","kanji","eci"],EIe=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],AIe={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},TIe={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Ni={size:{encode:n=>21+4*(n-1),decode:n=>(n-17)/4},sizeType:n=>Math.floor((n+7)/17),alignmentPatterns(n){if(n===1)return[];const e=6,r=Ni.size.encode(n)-e-1,i=r-e,s=Math.ceil(i/28);let o=Math.floor(i/s);o%2?o+=1:i%s*2>=s&&(o+=2);const a=[e];for(let l=1;l<s;l++)a.push(r-(s-l)*o);return a.push(r),a},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(n,e){const r=Ni.ECCode[n]<<3|e;let i=r;for(let s=0;s<10;s++)i=i<<1^(i>>9)*1335;return(r<<10|i)^Ni.formatMask},versionBits(n){let e=n;for(let r=0;r<12;r++)e=e<<1^(e>>11)*7973;return n<<12|e},alphabet:{numeric:eU("0123456789"),alphanumerc:eU("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(n,e){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[e][Ni.sizeType(n)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(n,e){const r=EIe[n-1],i=AIe[e][n-1],s=TIe[e][n-1],o=Math.floor(r/s)-i,a=s-r%s;return{words:i,numBlocks:s,shortBlocks:a,blockLen:o,capacity:(r-i*s)*8,total:(i+o)*s+s-a}}},y7=[(n,e)=>(n+e)%2==0,(n,e)=>e%2==0,(n,e)=>n%3==0,(n,e)=>(n+e)%3==0,(n,e)=>(Math.floor(e/2)+Math.floor(n/3))%2==0,(n,e)=>n*e%2+n*e%3==0,(n,e)=>(n*e%2+n*e%3)%2==0,(n,e)=>((n+e)%2+n*e%3)%2==0],wt={tables:(n=>{const e=fl(256,0),r=fl(256,0);for(let i=0,s=1;i<256;i++)e[i]=s,r[s]=i,s<<=1,s&256&&(s^=n);return{exp:e,log:r}})(285),exp:n=>wt.tables.exp[n],log(n){if(n===0)throw new Error(`GF.log: invalid arg=${n}`);return wt.tables.log[n]%255},mul(n,e){return n===0||e===0?0:wt.tables.exp[(wt.tables.log[n]+wt.tables.log[e])%255]},add:(n,e)=>n^e,pow:(n,e)=>wt.tables.exp[wt.tables.log[n]*e%255],inv(n){if(n===0)throw new Error(`GF.inverse: invalid arg=${n}`);return wt.tables.exp[255-wt.tables.log[n]]},polynomial(n){if(n.length==0)throw new Error("GF.polymomial: invalid length");if(n[0]!==0)return n;let e=0;for(;e<n.length-1&&n[e]==0;e++);return n.slice(e)},monomial(n,e){if(n<0)throw new Error(`GF.monomial: invalid degree=${n}`);if(e==0)return[0];let r=fl(n+1,0);return r[0]=e,wt.polynomial(r)},degree:n=>n.length-1,coefficient:(n,e)=>n[wt.degree(n)-e],mulPoly(n,e){if(n[0]===0||e[0]===0)return[0];const r=fl(n.length+e.length-1,0);for(let i=0;i<n.length;i++)for(let s=0;s<e.length;s++)r[i+s]=wt.add(r[i+s],wt.mul(n[i],e[s]));return wt.polynomial(r)},mulPolyScalar(n,e){if(e==0)return[0];if(e==1)return n;const r=fl(n.length,0);for(let i=0;i<n.length;i++)r[i]=wt.mul(n[i],e);return wt.polynomial(r)},mulPolyMonomial(n,e,r){if(e<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(r==0)return[0];const i=fl(n.length+e,0);for(let s=0;s<n.length;s++)i[s]=wt.mul(n[s],r);return wt.polynomial(i)},addPoly(n,e){if(n[0]===0)return e;if(e[0]===0)return n;let r=n,i=e;r.length>i.length&&([r,i]=[i,r]);let s=fl(i.length,0),o=i.length-r.length,a=i.slice(0,o);for(let l=0;l<a.length;l++)s[l]=a[l];for(let l=o;l<i.length;l++)s[l]=wt.add(r[l-o],i[l]);return wt.polynomial(s)},remainderPoly(n,e){const r=Array.from(n);for(let i=0;i<n.length-e.length+1;i++){const s=r[i];if(s!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(r[i+o]=wt.add(r[i+o],wt.mul(e[o],s)))}return r.slice(n.length-e.length+1,r.length)},divisorPoly(n){let e=[1];for(let r=0;r<n;r++)e=wt.mulPoly(e,[1,wt.pow(2,r)]);return e},evalPoly(n,e){if(e==0)return wt.coefficient(n,0);let r=n[0];for(let i=1;i<n.length;i++)r=wt.add(wt.mul(e,r),n[i]);return r},euclidian(n,e,r){wt.degree(n)<wt.degree(e)&&([n,e]=[e,n]);let i=n,s=e,o=[0],a=[1];for(;2*wt.degree(s)>=r;){let u=i,d=o;if(i=s,o=a,i[0]===0)throw new Error("rLast[0] === 0");s=u;let h=[0];const f=wt.inv(i[0]);for(;wt.degree(s)>=wt.degree(i)&&s[0]!==0;){const p=wt.degree(s)-wt.degree(i),m=wt.mul(s[0],f);h=wt.addPoly(h,wt.monomial(p,m)),s=wt.addPoly(s,wt.mulPolyMonomial(i,p,m))}if(h=wt.mulPoly(h,o),a=wt.addPoly(h,d),wt.degree(s)>=wt.degree(i))throw new Error(`Division failed r: ${s}, rLast: ${i}`)}const l=wt.coefficient(a,0);if(l==0)throw new Error("sigmaTilde(0) was zero");const c=wt.inv(l);return[wt.mulPolyScalar(a,c),wt.mulPolyScalar(s,c)]}};function PIe(n){return{encode(e){const r=wt.divisorPoly(n),i=Array.from(e);return i.push(...r.slice(0,-1).fill(0)),Uint8Array.from(wt.remainderPoly(i,r))},decode(e){const r=e.slice(),i=wt.polynomial(Array.from(e));let s=fl(n,0),o=!1;for(let h=0;h<n;h++){const f=wt.evalPoly(i,wt.exp(h));s[s.length-1-h]=f,f!==0&&(o=!0)}if(!o)return r;s=wt.polynomial(s);const a=wt.monomial(n,1),[l,c]=wt.euclidian(a,s,n),u=fl(wt.degree(l),0);let d=0;for(let h=1;h<256&&d<u.length;h++)wt.evalPoly(l,h)===0&&(u[d++]=wt.inv(h));if(d!==u.length)throw new Error("RS.decode: invalid errors number");for(let h=0;h<u.length;h++){const f=r.length-1-wt.log(u[h]);if(f<0)throw new Error("RS.decode: invalid error location");const p=wt.inv(u[h]);let m=1;for(let b=0;b<u.length;b++)h!==b&&(m=wt.mul(m,wt.add(1,wt.mul(u[b],p))));r[f]=wt.add(r[f],wt.mul(wt.evalPoly(c,p),wt.inv(m)))}return r}}}function IIe(n,e){const{words:r,shortBlocks:i,numBlocks:s,blockLen:o,total:a}=Ni.capacity(n,e),l=PIe(r);return{encode(c){const u=[],d=[];for(let m=0;m<s;m++){const b=m<i,y=o+(b?0:1);u.push(c.subarray(0,y)),d.push(l.encode(c.subarray(0,y))),c=c.subarray(y)}const h=Zz(u),f=Zz(d),p=new Uint8Array(h.length+f.length);return p.set(h),p.set(f,h.length),p},decode(c){if(c.length!==a)throw new Error(`interleave.decode: len(data)=${c.length}, total=${a}`);const u=[];for(let f=0;f<s;f++){const p=f<i;u.push(new Uint8Array(r+o+(p?0:1)))}let d=0;for(let f=0;f<o;f++)for(let p=0;p<s;p++)u[p][f]=c[d++];for(let f=i;f<s;f++)u[f][o]=c[d++];for(let f=o;f<o+r;f++)for(let p=0;p<s;p++){const m=p<i;u[p][f+(m?0:1)]=c[d++]}const h=[];for(const f of u)h.push(...Array.from(l.decode(f)).slice(0,-r));return Uint8Array.from(h)}}}function MIe(n,e,r,i=!1){const s=Ni.size.encode(n);let o=new Ki(s+2);const a=new Ki(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,a).embed({x:-a.width,y:0},a).embed({x:0,y:-a.height},a),o=o.rectSlice(1,s);const l=new Ki(1).rect(0,1,!0).border(1,!1).border(1,!0),c=Ni.alignmentPatterns(n);for(const u of c)for(const d of c)o.isDefined(d,u)||o.embed({x:d-2,y:u-2},l);o=o.hLine({x:0,y:6},1/0,({x:u})=>o.isDefined(u,6)?void 0:u%2==0).vLine({x:6,y:0},1/0,({y:u})=>o.isDefined(6,u)?void 0:u%2==0);{const u=Ni.formatBits(e,r),d=h=>!i&&(u>>h&1)==1;for(let h=0;h<6;h++)o.set(8,h,d(h));for(let h=6;h<8;h++)o.set(8,h+1,d(h));for(let h=8;h<15;h++)o.set(8,s-15+h,d(h));for(let h=0;h<8;h++)o.set(s-h-1,8,d(h));for(let h=8;h<9;h++)o.set(15-h-1+1,8,d(h));for(let h=9;h<15;h++)o.set(15-h-1,8,d(h));o.set(8,s-8,!i)}if(n>=7){const u=Ni.versionBits(n);for(let d=0;d<18;d+=1){const h=!i&&(u>>d&1)==1,f=Math.floor(d/3),p=d%3+s-8-3;o.set(p,f,h),o.set(f,p,h)}}return o}function OIe(n,e,r){const i=n.height,s=y7[e];let o=-1,a=i-1;for(let l=i-1;l>0;l-=2){for(l==6&&(l=5);;a+=o){for(let c=0;c<2;c+=1){const u=l-c;n.isDefined(u,a)||r(u,a,s(u,a))}if(a+o<0||a+o>=i)break}o=-o}}function DIe(n){let e="numeric";for(let r of n)if(!Ni.alphabet.numeric.has(r)&&(e="alphanumeric",!Ni.alphabet.alphanumerc.has(r)))return"byte";return e}function RIe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function iU(n,e,r,i,s=RIe){let o="",a=r.length;if(i==="numeric"){const f=Ni.alphabet.numeric.decode(r.split("")),p=f.length;for(let m=0;m<p-2;m+=3)o+=gh(f[m]*100+f[m+1]*10+f[m+2],10);p%3===1?o+=gh(f[p-1],4):p%3===2&&(o+=gh(f[p-2]*10+f[p-1],7))}else if(i==="alphanumeric"){const f=Ni.alphabet.alphanumerc.decode(r.split("")),p=f.length;for(let m=0;m<p-1;m+=2)o+=gh(f[m]*45+f[m+1],11);p%2==1&&(o+=gh(f[p-1],6))}else if(i==="byte"){const f=s(r);a=f.length,o=Array.from(f).map(p=>gh(p,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:l}=Ni.capacity(n,e),c=gh(a,Ni.lengthBits(n,i));let u=Ni.modeBits[i]+c+o;if(u.length>l)throw new Error("Capacity overflow");u+="0".repeat(Math.min(4,Math.max(0,l-u.length))),u.length%8&&(u+="0".repeat(8-u.length%8));const d="1110110000010001";for(let f=0;u.length!==l;f++)u+=d[f%d.length];const h=Uint8Array.from(u.match(/(.{8})/g).map(f=>+`0b${f}`));return IIe(n,e).encode(h)}function sU(n,e,r,i,s=!1){const o=MIe(n,e,i,s);let a=0;const l=8*r.length;if(OIe(o,i,(c,u,d)=>{let h=!1;a<l&&(h=(r[a>>>3]>>(7-a&7)&1)!==0,a++),o.set(c,u,h!==d)}),a!==l)throw new Error("QR: bytes left after draw");return o}const wde=n=>{const e=n.map(r=>r?"1":"0").join("");return{len:e.length,n:+`0b${e}`}},xde=[!0,!1,!0,!0,!0,!1,!0],_de=[!1,!1,!1,!1],H1=wde([...xde,..._de]),oU=wde([..._de,...xde]);function NIe(n){const{width:e,height:r}=n,i=n.transpose();let s=0;for(let d=0;d<r;d++)n.getRuns(d,h=>{h>=5&&(s+=3+(h-5))});for(let d=0;d<e;d++)i.getRuns(d,h=>{h>=5&&(s+=3+(h-5))});let o=0;for(let d=0;d<r-1;d++)o+=3*n.countBoxes2x2(d);let a=0;for(let d=0;d<r;d++)a+=40*n.countPatternInRow(d,H1.len,H1.n,oU.n);for(let d=0;d<e;d++)a+=40*i.countPatternInRow(d,H1.len,H1.n,oU.n);let l=0;l=n.popcnt();const c=l/(r*e)*100,u=10*Math.floor(Math.abs(c-50)/5);return s+o+a+u}function jIe(n,e,r,i){if(i===void 0){const s=CIe();for(let o=0;o<y7.length;o++)s.add(NIe(sU(n,e,r,o,!0)),o);i=s.get()}if(i===void 0)throw new Error("Cannot find mask");return sU(n,e,r,i)}function BIe(n){if(!nU.includes(n))throw new Error(`Invalid error correction mode=${n}. Expected: ${nU}`)}function LIe(n){if(!rU.includes(n))throw new Error(`Encoding: invalid mode=${n}. Expected: ${rU}`);if(n==="kanji"||n==="eci")throw new Error(`Encoding: ${n} is not supported (yet?).`)}function FIe(n){if(![0,1,2,3,4,5,6,7].includes(n)||!y7[n])throw new Error(`Invalid mask=${n}. Expected number [0..7]`)}function $Ie(n,e="raw",r={}){const i=r.ecc!==void 0?r.ecc:"medium";BIe(i);const s=r.encoding!==void 0?r.encoding:DIe(n);LIe(s),r.mask!==void 0&&FIe(r.mask);let o=r.version,a,l=new Error("Unknown error");if(o!==void 0)SIe(o),a=iU(o,i,n,s,r.textEncoder);else for(let d=1;d<=40;d++)try{a=iU(d,i,n,s,r.textEncoder),o=d;break}catch(h){l=h}if(!o||!a)throw l;let c=jIe(o,i,a,r.mask);c.assertDrawn();const u=r.border===void 0?2:r.border;if(!Number.isSafeInteger(u))throw new Error(`invalid border type=${typeof u}`);if(c=c.border(u,!1),r.scale!==void 0&&(c=c.scale(r.scale)),e==="raw")return c.toRaw();if(e==="ascii")return c.toASCII();if(e==="svg")return c.toSVG(r.optimize);if(e==="gif")return c.toGIF();if(e==="term")return c.toTerm();throw new Error(`Unknown output: ${e}`)}function zIe(n,e={}){const{errorCorrection:r,version:i}=e,s=$Ie(n,"raw",{border:0,ecc:r,scale:1,version:i});return{edgeLength:s.length,finderLength:7,grid:s,value:n}}function _l(n){const{arena:e,...r}=n;return g.jsxs(_l.Root,{...r,children:[g.jsx(_l.Finder,{}),g.jsx(_l.Cells,{}),e&&g.jsx(_l.Arena,{children:typeof e=="string"?g.jsx("img",{alt:"Arena",src:e,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):e})]})}(function(n){n.Context=A.createContext(null);function e(o){const{children:a,size:l="100%",value:c,version:u,errorCorrection:d,...h}=o,f=A.useMemo(()=>(A.Children.map(a,_=>!A.isValidElement(_)||typeof _.type=="string"?null:"displayName"in _.type&&_.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[a]),p=A.useMemo(()=>{let _=d;return f&&d==="low"&&(_="medium"),zIe(c,{errorCorrection:_,version:u})},[c,f,d,u]),m=1,b=p.edgeLength*m,y=p.finderLength*m/2,v=f?Math.floor(b/4):0,w=A.useMemo(()=>({arenaSize:v,cellSize:m,edgeSize:b,qrcode:p,finderSize:y}),[v,b,p,y]);return g.jsx(n.Context.Provider,{value:w,children:g.jsxs("svg",{...h,width:l,height:l,viewBox:`0 0 ${b} ${b}`,xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("title",{children:"QR Code"}),a]})})}n.Root=e,function(o){o.displayName="Root"}(e=n.Root||(n.Root={}));function r(o){const{className:a,fill:l,innerClassName:c,radius:u=.25}=o,{cellSize:d,edgeSize:h,finderSize:f}=A.useContext(n.Context);function p({position:m}){let b=f-(f-d)-d/2;m==="top-right"&&(b=h-f-(f-d)-d/2);let y=f-(f-d)-d/2;m==="bottom-left"&&(y=h-f-(f-d)-d/2);let v=f-d*1.5;m==="top-right"&&(v=h-f-d*1.5);let w=f-d*1.5;return m==="bottom-left"&&(w=h-f-d*1.5),g.jsxs(g.Fragment,{children:[g.jsx("rect",{className:a,stroke:l??"currentColor",fill:"transparent",x:b,y,width:d+(f-d)*2,height:d+(f-d)*2,rx:2*u*(f-d),ry:2*u*(f-d),strokeWidth:d}),g.jsx("rect",{className:c,fill:l??"currentColor",x:v,y:w,width:d*3,height:d*3,rx:2*u*d,ry:2*u*d})]})}return g.jsxs(g.Fragment,{children:[g.jsx(p,{position:"top-left"}),g.jsx(p,{position:"top-right"}),g.jsx(p,{position:"bottom-left"})]})}n.Finder=r,function(o){o.displayName="Finder"}(r=n.Finder||(n.Finder={}));function i(o){const{className:a,fill:l="currentColor",inset:c=!0,radius:u=1}=o,{arenaSize:d,cellSize:h,qrcode:f}=A.useContext(n.Context),{edgeLength:p,finderLength:m}=f,b=A.useMemo(()=>{let y="";for(let v=0;v<f.grid.length;v++){const w=f.grid[v];if(w)for(let _=0;_<w.length;_++){if(!w[_])continue;const k=p/2-d/2,C=k+d;if(v>=k&&v<=C&&_>=k&&_<=C)continue;const E=v<m&&_<m,T=v<m&&_>=p-m,M=v>=p-m&&_<m;if(E||T||M)continue;const I=c?h*.1:0,O=(h-I*2)/2,F=_*h+h/2,$=v*h+h/2,z=F-O,D=F+O,j=$-O,N=$+O,R=u*O;y+=[`M ${z+R},${j}`,`L ${D-R},${j}`,`A ${R},${R} 0 0,1 ${D},${j+R}`,`L ${D},${N-R}`,`A ${R},${R} 0 0,1 ${D-R},${N}`,`L ${z+R},${N}`,`A ${R},${R} 0 0,1 ${z},${N-R}`,`L ${z},${j+R}`,`A ${R},${R} 0 0,1 ${z+R},${j}`,"z"].join(" ")}}return y},[d,h,p,m,f.grid,c,u]);return g.jsx("path",{className:a,d:b,fill:l})}n.Cells=i,function(o){o.displayName="Cells"}(i=n.Cells||(n.Cells={}));function s(o){const{children:a}=o,{arenaSize:l,cellSize:c,edgeSize:u}=A.useContext(n.Context),d=Math.ceil(u/2-l/2),h=l+l%2,f=c/2;return g.jsx("foreignObject",{x:d,y:d,width:h,height:h,children:g.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:f,boxSizing:"border-box"},children:a})})}n.Arena=s,function(o){o.displayName="Arena"}(s=n.Arena||(n.Arena={}))})(_l||(_l={}));function UIe(n={}){let e,r,i,s;return o=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:a,withCapabilities:l,...c}={}){var u;try{const d=await this.getProvider(),h=a??((u=o.chains[0])==null?void 0:u.id);if(!h)throw new Gd;let{accounts:f,currentChainId:p}=await(async()=>{if(c.isReconnecting)return{accounts:(await d.request({method:"eth_accounts",params:[]})).map(v=>({address:ri(v)})),currentChainId:await this.getChainId()};const m=await d.request({method:"wallet_connect",params:[{capabilities:"capabilities"in c&&c.capabilities?c.capabilities:{},chainIds:[kt(h),...o.chains.filter(v=>v.id!==h).map(v=>kt(v.id))]}]});return{accounts:(await d.request({method:"eth_accounts"})).map(v=>m.accounts.find(w=>w.address===v)??{address:v}).map(v=>({address:ri(v.address),capabilities:v.capabilities??{}})),currentChainId:Number(m.chainIds[0])}})();if(r||(r=this.onAccountsChanged.bind(this),d.on("accountsChanged",r)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),s||(s=this.onDisconnect.bind(this),d.on("disconnect",s)),a&&p!==a){const m=await this.switchChain({chainId:a}).catch(b=>{if(b.code===An.code)throw b;return{id:p}});p=(m==null?void 0:m.id)??p}return{accounts:l?f:f.map(m=>m.address),chainId:p}}catch(d){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(d.message)?new An(d):d}},async disconnect(){const a=await this.getProvider();r&&(a.removeListener("accountsChanged",r),r=void 0),i&&(a.removeListener("chainChanged",i),i=void 0),s&&(a.removeListener("disconnect",s),s=void 0),a.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(l=>ri(l))},async getChainId(){const l=await(await this.getProvider()).request({method:"eth_chainId"});return Number(l)},async getProvider(){if(!e){const a=(()=>{var u;return typeof n.preference=="string"?{options:n.preference}:{...n.preference,options:((u=n.preference)==null?void 0:u.options)??"all"}})(),{createBaseAccountSDK:l}=await ht(async()=>{const{createBaseAccountSDK:u}=await Promise.resolve().then(()=>Aft);return{createBaseAccountSDK:u}},void 0);e=l({...n,appChainIds:o.chains.map(u=>u.id),preference:a}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:l}){var d,h,f,p;const c=o.chains.find(m=>m.id===l);if(!c)throw new so(new Gd);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:kt(c.id)}]}),c}catch(m){if(m.code===4902)try{let b;a!=null&&a.blockExplorerUrls?b=a.blockExplorerUrls:b=(d=c.blockExplorers)!=null&&d.default.url?[(h=c.blockExplorers)==null?void 0:h.default.url]:[];let y;(f=a==null?void 0:a.rpcUrls)!=null&&f.length?y=a.rpcUrls:y=[((p=c.rpcUrls.default)==null?void 0:p.http[0])??""];const v={blockExplorerUrls:b,chainId:kt(l),chainName:(a==null?void 0:a.chainName)??c.name,iconUrls:a==null?void 0:a.iconUrls,nativeCurrency:(a==null?void 0:a.nativeCurrency)??c.nativeCurrency,rpcUrls:y};return await u.request({method:"wallet_addEthereumChain",params:[v]}),c}catch(b){throw new An(b)}throw new so(m)}},onAccountsChanged(a){a.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:a.map(l=>ri(l))})},onChainChanged(a){const l=Number(a);o.emitter.emit("change",{chainId:l})},async onDisconnect(a){o.emitter.emit("disconnect");const l=await this.getProvider();r&&(l.removeListener("accountsChanged",r),r=void 0),i&&(l.removeListener("chainChanged",i),i=void 0),s&&(l.removeListener("disconnect",s),s=void 0)}})}v7.type="metaMask";function v7(n={}){let e,r,i,s,o,a,l,c;return u=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:v7.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&(a||(a=this.onConnect.bind(this),d.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)))},async connect({chainId:d,isReconnecting:h,withCapabilities:f}={}){const p=await this.getProvider();l||(l=this.onDisplayUri,p.on("display_uri",l));let m=[];h&&(m=await this.getAccounts().catch(()=>[]));try{let b,y;m!=null&&m.length||(n.connectAndSign||n.connectWith?(n.connectAndSign?b=await e.connectAndSign({msg:n.connectAndSign}):n.connectWith&&(y=await e.connectWith({method:n.connectWith.method,params:n.connectWith.params})),m=await this.getAccounts()):m=(await e.connect()).map(_=>ri(_)));let v=await this.getChainId();if(d&&v!==d){const w=await this.switchChain({chainId:d}).catch(_=>{if(_.code===An.code)throw _;return{id:v}});v=(w==null?void 0:w.id)??v}return l&&(p.removeListener("display_uri",l),l=void 0),b?p.emit("connectAndSign",{accounts:m,chainId:v,signResponse:b}):y&&p.emit("connectWith",{accounts:m,chainId:v,connectWithResponse:y}),a&&(p.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c)),{accounts:f?m.map(w=>({address:w,capabilities:{}})):m,chainId:v}}catch(b){const y=b;throw y.code===An.code?new An(y):y.code===Il.code?new Il(y):y}},async disconnect(){const d=await this.getProvider();o&&(d.removeListener("chainChanged",o),o=void 0),c&&(d.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a)),await e.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(f=>ri(f))},async getChainId(){const d=await this.getProvider(),h=d.getChainId()||await(d==null?void 0:d.request({method:"eth_chainId"}));return Number(h)},async getProvider(){async function d(){var b,y,v,w,_;const h=await(async()=>{const{default:x}=await ht(async()=>{const{default:k}=await import("./connectors-BkiAkXrA.js");return{default:k}},[]);return typeof x!="function"&&typeof x.default=="function"?x.default:x})(),f={};for(const x of u.chains)f[kt(x.id)]=(b=Mue({chain:x,transports:u.transports}))==null?void 0:b[0];e=new h({...n,_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,readonlyRPCMap:f,dappMetadata:{...n.dappMetadata,name:(y=n.dappMetadata)!=null&&y.name?(v=n.dappMetadata)==null?void 0:v.name:"wagmi",url:(w=n.dappMetadata)!=null&&w.url?(_=n.dappMetadata)==null?void 0:_.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:!0});const p=await e.init(),m=p!=null&&p.activeProvider?p.activeProvider:e.getProvider();if(!m)throw new Qs;return m}return r||(i||(i=d()),r=await i),r},async isAuthorized(){try{return!!(await s0(()=>bC(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var y,v;const f=await this.getProvider(),p=u.chains.find(w=>w.id===h);if(!p)throw new so(new Gd);try{return await f.request({method:"wallet_switchEthereumChain",params:[{chainId:kt(h)}]}),await m(),await b(h),p}catch(w){const _=w;if(_.code===An.code)throw new An(_);if(_.code===4902||((v=(y=_==null?void 0:_.data)==null?void 0:y.originalError)==null?void 0:v.code)===4902)try{return await f.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:x,...k}=p.blockExplorers??{};if(d!=null&&d.blockExplorerUrls)return d.blockExplorerUrls;if(x)return[x.url,...Object.values(k).map(C=>C.url)]})(),chainId:kt(h),chainName:(d==null?void 0:d.chainName)??p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??p.nativeCurrency,rpcUrls:(()=>{var x,k;return(x=d==null?void 0:d.rpcUrls)!=null&&x.length?d.rpcUrls:[((k=p.rpcUrls.default)==null?void 0:k.http[0])??""]})()}]}),await m(),await b(h),p}catch(x){const k=x;throw k.code===An.code?new An(k):new so(k)}throw new so(_)}async function m(){await s0(async()=>{const w=Ll(await f.request({method:"eth_chainId"}));if(w!==h)throw new Error("User rejected switch after adding network.");return w},{delay:50,retryCount:20})}async function b(w){await new Promise(_=>{const x=k=>{"chainId"in k&&k.chainId===w&&(u.emitter.off("change",x),_())};u.emitter.on("change",x),u.emitter.emit("change",{chainId:w})})}},async onAccountsChanged(d){if(d.length===0)if(e.isExtensionActive())this.onDisconnect();else return;else if(u.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h})}else u.emitter.emit("change",{accounts:d.map(h=>ri(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},async onConnect(d){const h=await this.getAccounts();if(h.length===0)return;const f=Number(d.chainId);u.emitter.emit("connect",{accounts:h,chainId:f});const p=await this.getProvider();a&&(p.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c))},async onDisconnect(d){const h=await this.getProvider();d&&d.code===1013&&h&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),o&&(h.removeListener("chainChanged",o),o=void 0),c&&(h.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a)))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})}})}w7.type="safe";function w7(n={}){const{shimDisconnect:e=!1}=n;let r,i;return s=>({id:"safe",name:"Safe",type:w7.type,async connect({withCapabilities:o}={}){var u;const a=await this.getProvider();if(!a)throw new Qs;const l=await this.getAccounts(),c=await this.getChainId();return i||(i=this.onDisconnect.bind(this),a.on("disconnect",i)),e&&await((u=s.storage)==null?void 0:u.removeItem("safe.disconnected")),{accounts:o?l.map(d=>({address:d,capabilities:{}})):l,chainId:c}},async disconnect(){var a;const o=await this.getProvider();if(!o)throw new Qs;i&&(o.removeListener("disconnect",i),i=void 0),e&&await((a=s.storage)==null?void 0:a.setItem("safe.disconnected",!0))},async getAccounts(){const o=await this.getProvider();if(!o)throw new Qs;return(await o.request({method:"eth_accounts"})).map(ri)},async getProvider(){if(typeof window<"u"&&(window==null?void 0:window.parent)!==window){if(!r){const{default:a}=await ht(async()=>{const{default:d}=await import("./connectors-mXb62Iam.js");return{default:d}},[]),l=new a(n),c=await bC(()=>l.safe.getInfo(),{timeout:n.unstable_getInfoTimeout??10});if(!c)throw new Error("Could not load Safe information");const u=await(async()=>{const d=await ht(()=>import("./connectors-DAWtxdNk.js"),[]);return typeof d.SafeAppProvider!="function"&&typeof d.default.SafeAppProvider=="function"?d.default.SafeAppProvider:d.SafeAppProvider})();r=new u(c,l)}return r}},async getChainId(){const o=await this.getProvider();if(!o)throw new Qs;return Number(o.chainId)},async isAuthorized(){var o;try{return e&&await((o=s.storage)==null?void 0:o.getItem("safe.disconnected"))?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){s.emitter.emit("disconnect")}})}x7.type="walletConnect";function x7(n){const e=n.isNewChainsStale??!0;let r,i;const s="eip155";let o,a,l,c,u,d;return h=>({id:"walletConnect",name:"WalletConnect",type:x7.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(l||(l=this.onConnect.bind(this),f.on("connect",l)),u||(u=this.onSessionDelete.bind(this),f.on("session_delete",u)))},async connect({chainId:f,withCapabilities:p,...m}={}){var b,y;try{const v=await this.getProvider();if(!v)throw new Qs;c||(c=this.onDisplayUri,v.on("display_uri",c));let w=f;if(!w){const C=await((b=h.storage)==null?void 0:b.getItem("state"))??{};h.chains.some(T=>T.id===C.chainId)?w=C.chainId:w=(y=h.chains[0])==null?void 0:y.id}if(!w)throw new Error("No chains found on connector.");const _=await this.isChainsStale();if(v.session&&_&&await v.disconnect(),!v.session||_){const C=h.chains.filter(E=>E.id!==w).map(E=>E.id);await v.connect({optionalChains:[w,...C],..."pairingTopic"in m?{pairingTopic:m.pairingTopic}:{}}),this.setRequestedChainsIds(h.chains.map(E=>E.id))}const x=(await v.enable()).map(C=>ri(C));let k=await this.getChainId();if(f&&k!==f){const C=await this.switchChain({chainId:f}).catch(E=>{var T;if(E.code===An.code&&((T=E.cause)==null?void 0:T.message)!=="Missing or invalid. request() method: wallet_addEthereumChain")throw E;return{id:k}});k=(C==null?void 0:C.id)??k}return c&&(v.removeListener("display_uri",c),c=void 0),l&&(v.removeListener("connect",l),l=void 0),o||(o=this.onAccountsChanged.bind(this),v.on("accountsChanged",o)),a||(a=this.onChainChanged.bind(this),v.on("chainChanged",a)),d||(d=this.onDisconnect.bind(this),v.on("disconnect",d)),u||(u=this.onSessionDelete.bind(this),v.on("session_delete",u)),{accounts:p?x.map(C=>({address:C,capabilities:{}})):x,chainId:k}}catch(v){throw/(user rejected|connection request reset)/i.test(v==null?void 0:v.message)?new An(v):v}},async disconnect(){const f=await this.getProvider();try{await(f==null?void 0:f.disconnect())}catch(p){if(!/No matching key/i.test(p.message))throw p}finally{a&&(f==null||f.removeListener("chainChanged",a),a=void 0),d&&(f==null||f.removeListener("disconnect",d),d=void 0),l||(l=this.onConnect.bind(this),f==null||f.on("connect",l)),o&&(f==null||f.removeListener("accountsChanged",o),o=void 0),u&&(f==null||f.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(p=>ri(p))},async getProvider({chainId:f}={}){var m;async function p(){const b=h.chains.map(v=>v.id);if(!b.length)return;const{EthereumProvider:y}=await ht(async()=>{const{EthereumProvider:v}=await Promise.resolve().then(()=>Tft);return{EthereumProvider:v}},void 0);return await y.init({...n,disableProviderPing:!0,optionalChains:b,projectId:n.projectId,rpcMap:Object.fromEntries(h.chains.map(v=>{const[w]=Mue({chain:v,transports:h.transports});return[v.id,w]})),showQrModal:n.showQrModal??!0})}return r||(i||(i=p()),r=await i,r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY)),f&&await((m=this.switchChain)==null?void 0:m.call(this,{chainId:f})),r},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[f,p]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&p.session?(await p.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:p}){var y,v,w;const m=await this.getProvider();if(!m)throw new Qs;const b=h.chains.find(_=>_.id===p);if(!b)throw new so(new Gd);try{await Promise.all([new Promise(x=>{const k=({chainId:C})=>{C===p&&(h.emitter.off("change",k),x())};h.emitter.on("change",k)}),m.request({method:"wallet_switchEthereumChain",params:[{chainId:kt(p)}]})]);const _=await this.getRequestedChainsIds();return this.setRequestedChainsIds([..._,p]),b}catch(_){const x=_;if(/(user rejected)/i.test(x.message))throw new An(x);try{let k;f!=null&&f.blockExplorerUrls?k=f.blockExplorerUrls:k=(y=b.blockExplorers)!=null&&y.default.url?[(v=b.blockExplorers)==null?void 0:v.default.url]:[];let C;(w=f==null?void 0:f.rpcUrls)!=null&&w.length?C=f.rpcUrls:C=[...b.rpcUrls.default.http];const E={blockExplorerUrls:k,chainId:kt(p),chainName:(f==null?void 0:f.chainName)??b.name,iconUrls:f==null?void 0:f.iconUrls,nativeCurrency:(f==null?void 0:f.nativeCurrency)??b.nativeCurrency,rpcUrls:C};await m.request({method:"wallet_addEthereumChain",params:[E]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,p]),b}catch(k){throw new An(k)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():h.emitter.emit("change",{accounts:f.map(p=>ri(p))})},onChainChanged(f){const p=Number(f);h.emitter.emit("change",{chainId:p})},async onConnect(f){const p=Number(f.chainId),m=await this.getAccounts();h.emitter.emit("connect",{accounts:m,chainId:p})},async onDisconnect(f){this.setRequestedChainsIds([]),h.emitter.emit("disconnect");const p=await this.getProvider();o&&(p.removeListener("accountsChanged",o),o=void 0),a&&(p.removeListener("chainChanged",a),a=void 0),d&&(p.removeListener("disconnect",d),d=void 0),u&&(p.removeListener("session_delete",u),u=void 0),l||(l=this.onConnect.bind(this),p.on("connect",l))},onDisplayUri(f){h.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var p,m,b;return r?((b=(m=(p=r.session)==null?void 0:p.namespaces[s])==null?void 0:m.accounts)==null?void 0:b.map(y=>Number.parseInt(y.split(":")[1]||"",10)))??[]:[]},async getRequestedChainsIds(){var f;return await((f=h.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!e)return!1;const f=h.chains.map(b=>b.id),p=this.getNamespaceChainsIds();if(p.length&&!p.some(b=>f.includes(b)))return!1;const m=await this.getRequestedChainsIds();return!f.every(b=>m.includes(b))},async setRequestedChainsIds(f){var p;await((p=h.storage)==null?void 0:p.setItem(this.requestedChainsStorageKey,f))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var ES={},WIe=768;YTe({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}});var qIe=Wue({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),IR=ePe({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),aU={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},HIe={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},VIe="_12cbo8i3 ju367v8r",GIe={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function Ei({active:n,hover:e}){return[VIe,e&&GIe[e],HIe[n]]}var kde=A.createContext(null);function YIe(){const{adapter:n}=A.useContext(kde)??{};if(!n)throw new Error("No authentication adapter found");return n}function AC(){const n=A.useContext(kde);return(n==null?void 0:n.status)??null}function Sde(){const n=AC(),{isConnected:e}=Ci();return e?n&&(n==="loading"||n==="unauthenticated")?n:"connected":"disconnected"}function Cde(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function KIe(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function XIe(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function hx(){return KIe()||XIe()}function Hr(){return Cde()||hx()}var QIe="iekbcc0",JIe={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},ZIe=({reset:n,...e})=>{if(!n)return IR(e);const r=JIe[n],i=IR(e);return Hue(QIe,r,i)},fe=B.forwardRef(({as:n="div",className:e,testId:r,...i},s)=>{const o={},a={};for(const c in i)IR.properties.has(c)?o[c]=i[c]:a[c]=i[c];const l=ZIe({reset:typeof n=="string"?n:"div",...o});return B.createElement(n,{className:Hue(l,e),...a,"data-testid":r?`rk-${r.replace(/^rk-/,"")}`:void 0,ref:s})});fe.displayName="Box";var Ede=new Map,y5=new Map;async function Ade(n){const e=y5.get(n);if(e)return e;const r=async()=>n().then(async s=>(Ede.set(n,s),s)),i=r().catch(s=>r().catch(o=>{y5.delete(n)}));return y5.set(n,i),i}async function zl(...n){return await Promise.all(n.map(e=>typeof e=="function"?Ade(e):e))}function eMe(){const[,n]=A.useReducer(e=>e+1,0);return n}function TC(n){const e=typeof n=="function"?Ede.get(n):void 0,r=eMe();return A.useEffect(()=>{typeof n=="function"&&!e&&Ade(n).then(r)},[n,e,r]),typeof n=="function"?e:n}function ki({alt:n,background:e,borderColor:r,borderRadius:i,useAsImage:s,boxShadow:o,height:a,src:l,width:c,testId:u}){const d=hx(),h=TC(l),f=h&&/^http/.test(h),[p,m]=A.useReducer(()=>!0,!1);return B.createElement(fe,{"aria-label":n,borderRadius:i,boxShadow:o,height:typeof a=="string"?a:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:e,height:typeof a=="number"?a:void 0,width:typeof c=="number"?c:void 0},width:typeof c=="string"?c:void 0,testId:u},B.createElement(fe,{...f?{"aria-hidden":!0,as:"img",onLoad:m,src:h}:{"aria-hidden":!0,as:"img",src:h},height:"full",position:"absolute",...d?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!s&&f?{opacity:p?1:0}:{}},width:"full"}),r?B.createElement(fe,{...typeof r=="object"&&"custom"in r?{style:{borderColor:r.custom}}:{borderColor:r},borderRadius:i,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var tMe="_1luule42",nMe="_1luule43",rMe=n=>A.useMemo(()=>`${n}_${Math.round(Math.random()*1e9)}`,[n]),sw=({height:n=21,width:e=21})=>{const r=rMe("spinner");return B.createElement("svg",{className:tMe,fill:"none",height:n,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Loading"),B.createElement("clipPath",{id:r},B.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),B.createElement("foreignObject",{clipPath:`url(#${r})`,height:"21",width:"21",x:"0",y:"0"},B.createElement("div",{className:nMe})))},un=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],lU=[{color:un[0],emoji:""},{color:un[1],emoji:""},{color:un[2],emoji:""},{color:un[3],emoji:""},{color:un[4],emoji:""},{color:un[0],emoji:""},{color:un[5],emoji:""},{color:un[6],emoji:""},{color:un[7],emoji:""},{color:un[8],emoji:""},{color:un[9],emoji:""},{color:un[10],emoji:""},{color:un[11],emoji:""},{color:un[12],emoji:""},{color:un[13],emoji:""},{color:un[8],emoji:""},{color:un[14],emoji:""},{color:un[0],emoji:""},{color:un[8],emoji:""},{color:un[1],emoji:""},{color:un[15],emoji:""},{color:un[16],emoji:""},{color:un[17],emoji:""},{color:un[18],emoji:""},{color:un[19],emoji:""},{color:un[1],emoji:""},{color:un[20],emoji:""},{color:un[15],emoji:""},{color:un[0],emoji:""},{color:un[17],emoji:""},{color:un[4],emoji:""},{color:un[21],emoji:""},{color:un[17],emoji:""},{color:un[8],emoji:""},{color:un[22],emoji:""}];function iMe(n){let e=0;if(n.length===0)return e;for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);e=(e<<5)-e+i,e|=0}return e}function sMe(n){const r=Math.abs(iMe((typeof n=="string"?n:"").toLowerCase())%lU.length);return lU[r??0]}var oMe=({address:n,ensImage:e,size:r})=>{const[i,s]=A.useState(!1);A.useEffect(()=>{if(e){const l=new Image;l.src=e,l.onload=()=>s(!0)}},[e]);const{color:o,emoji:a}=A.useMemo(()=>sMe(n),[n]);return e?i?B.createElement(fe,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:r,width:r}}):B.createElement(fe,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:r,width:r}},B.createElement(sw,null)):B.createElement(fe,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:o},height:r,width:r}},a)},Tde=oMe,Pde=A.createContext(Tde);function aMe({address:n,imageUrl:e,loading:r,size:i}){const s=A.useContext(Pde);return B.createElement(fe,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${i}px`,width:`${i}px`},userSelect:"none"},B.createElement(fe,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(i*.55)}px`,height:`${i}px`,transform:r?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:r?void 0:".1s",width:`${i}px`,willChange:"transform"},userSelect:"none"},B.createElement(s,{address:n,ensImage:e,size:i})),r&&B.createElement(fe,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},B.createElement(sw,{height:"100%",width:"100%"})))}var cU={defaultLocale:"en",locale:"en"},lMe=class{constructor(n){this.listeners=new Set,this.defaultLocale=cU.defaultLocale,this.enableFallback=!1,this.locale=cU.locale,this.cachedLocales=[],this.translations={};for(const[e,r]of Object.entries(n))this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(r,e)}}missingMessage(n){return`[missing: "${this.locale}.${n}" translation]`}flattenTranslation(n,e){const r={},i=(s,o)=>{for(const a of Object.keys(s)){const l=`${o}.${a}`,c=s[a];typeof c=="object"&&c!==null?i(c,l):r[l]=c}};return i(n,e),r}translateWithReplacements(n,e={}){let r=n;for(const i in e){const s=e[i];r=r.replace(`%{${i}}`,s)}return r}t(n,e,r){const i=`${this.locale}.${n}`,s=this.translations[i];if(!s){if(this.enableFallback){const o=`${this.defaultLocale}.${n}`,a=this.translations[o];if(a)return this.translateWithReplacements(a,e)}return r!=null&&r.rawKeyIfTranslationMissing?n:this.missingMessage(n)}return this.translateWithReplacements(s,e)}isLocaleCached(n){return this.cachedLocales.includes(n)}updateLocale(n){this.locale=n,this.notifyListeners()}setTranslations(n,e){this.isLocaleCached(n)||(this.cachedLocales=[...this.cachedLocales,n],this.translations={...this.translations,...this.flattenTranslation(e,n)}),this.locale=n,this.notifyListeners()}notifyListeners(){for(const n of this.listeners)n()}onChange(n){return this.listeners.add(n),()=>{this.listeners.delete(n)}}},Ho=new lMe({en:JSON.parse(_R),"en-US":JSON.parse(_R)});Ho.defaultLocale="en-US";Ho.locale="en-US";Ho.enableFallback=!0;var cMe=async n=>{switch(n){case"ar":case"ar-AR":return(await ht(async()=>{const{default:e}=await import("./ar_AR-44JUQ6EW-BMX-am0v.js");return{default:e}},[])).default;case"de":case"de-DE":return(await ht(async()=>{const{default:e}=await import("./de_DE-PYAO5YD6-BWlqPWgO.js");return{default:e}},[])).default;case"en":case"en-US":return(await ht(async()=>{const{default:e}=await Promise.resolve().then(()=>ese);return{default:e}},void 0)).default;case"es":case"es-419":return(await ht(async()=>{const{default:e}=await import("./es_419-HRGOJ6VT-D-qzxUM-.js");return{default:e}},[])).default;case"fr":case"fr-FR":return(await ht(async()=>{const{default:e}=await import("./fr_FR-IGGVC6RM-D8LpUM75.js");return{default:e}},[])).default;case"hi":case"hi-IN":return(await ht(async()=>{const{default:e}=await import("./hi_IN-XSKAA3MF-C3QUpWyP.js");return{default:e}},[])).default;case"id":case"id-ID":return(await ht(async()=>{const{default:e}=await import("./id_ID-KUOB4UAL-K9y-nRWm.js");return{default:e}},[])).default;case"ja":case"ja-JP":return(await ht(async()=>{const{default:e}=await import("./ja_JP-4WRQ63RX-Ct5pF4ug.js");return{default:e}},[])).default;case"ko":case"ko-KR":return(await ht(async()=>{const{default:e}=await import("./ko_KR-I2K7AIEP-B5gw8Mwb.js");return{default:e}},[])).default;case"ms":case"ms-MY":return(await ht(async()=>{const{default:e}=await import("./ms_MY-6VZW6Q3Z-BtFD07hR.js");return{default:e}},[])).default;case"pt":case"pt-BR":return(await ht(async()=>{const{default:e}=await import("./pt_BR-N3XOZ4SV-CvVpfsHb.js");return{default:e}},[])).default;case"ru":case"ru-RU":return(await ht(async()=>{const{default:e}=await import("./ru_RU-IITAPRET-DOj6Jzj7.js");return{default:e}},[])).default;case"th":case"th-TH":return(await ht(async()=>{const{default:e}=await import("./th_TH-3ZQCKCQE-BcHUN2Q4.js");return{default:e}},[])).default;case"tr":case"tr-TR":return(await ht(async()=>{const{default:e}=await import("./tr_TR-QUPUGMUF-CwpF6ZFn.js");return{default:e}},[])).default;case"ua":case"uk-UA":return(await ht(async()=>{const{default:e}=await import("./uk_UA-SSN6SV5E-IlYYyRC6.js");return{default:e}},[])).default;case"vi":case"vi-VN":return(await ht(async()=>{const{default:e}=await import("./vi_VN-7BUVRNYY-CZ9S75qZ.js");return{default:e}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await ht(async()=>{const{default:e}=await import("./zh_CN-HJBN674C-Baf0GEeT.js");return{default:e}},[])).default;case"zh-HK":return(await ht(async()=>{const{default:e}=await import("./zh_HK-JW3WLRKE-VztJKXL5.js");return{default:e}},[])).default;case"zh-Hant":case"zh-TW":return(await ht(async()=>{const{default:e}=await import("./zh_TW-VNNRNXY7-aWfg7Qp4.js");return{default:e}},[])).default;default:return(await ht(async()=>{const{default:e}=await Promise.resolve().then(()=>ese);return{default:e}},void 0)).default}};async function uU(n){if(Ho.isLocaleCached(n)){Ho.updateLocale(n);return}const r=await cMe(n);Ho.setTranslations(n,JSON.parse(r))}var uMe=()=>{var n;if(typeof window<"u"&&typeof navigator<"u"){if((n=navigator.languages)!=null&&n.length)return navigator.languages[0];if(navigator.language)return navigator.language}},Yr=A.createContext({i18n:Ho}),dMe=({children:n,locale:e})=>{const[r,i]=A.useState(0),s=A.useMemo(()=>uMe(),[]);A.useEffect(()=>Ho.onChange(()=>{i(l=>l+1)}),[]),A.useEffect(()=>{e&&e!==Ho.locale?uU(e):!e&&s&&s!==Ho.locale&&uU(s)},[e,s]);const o=A.useMemo(()=>({t:(l,c)=>Ho.t(l,c),i18n:Ho}),[r]);return B.createElement(Yr.Provider,{value:o},n)};function Ide(n){return n!=null}var dU={iconBackground:"#7290CC",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:n}},[])).default},v5={iconBackground:"#96bedc",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:n}},[])).default},hU={iconBackground:"#e84141",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:n}},[])).default},w5={iconBackground:"#0052ff",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:n}},[])).default},x5={iconBackground:"#814625",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:n}},[])).default},fU={iconBackground:"#000000",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:n}},[])).default},pU={iconBackground:"#ebac0e",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:n}},[])).default},mU={iconBackground:"#FCFF52",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:n}},[])).default},gU={iconBackground:"#002D74",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:n}},[])).default},hMe={iconBackground:"#A36EFD",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:n}},[])).default},ju={iconBackground:"#484c50",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:n}},[])).default},bU={iconBackground:"transparent",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:n}},[])).default},fMe={iconBackground:"#04795c",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:n}},[])).default},yU={iconBackground:"#000000",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:n}},[])).default},pMe={iconBackground:"#f9f7ec",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:n}},[])).default},mMe={iconBackground:"#000000",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:n}},[])).default},vU={iconBackground:"#7132F5",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:n}},[])).default},wU={iconBackground:"transparent",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:n}},[])).default},_5={iconBackground:"#ffffff",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:n}},[])).default},k5={iconBackground:"#ffffff",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:n}},[])).default},xU={iconBackground:"#000000",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:n}},[])).default},gMe={iconBackground:"transparent",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./monad-4KWC6TSS-DVXSkpiz.js");return{default:n}},[])).default},V1={iconBackground:"#ff5a57",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:n}},[])).default},S5={iconBackground:"#9f71ec",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:n}},[])).default},bMe={iconBackground:"#1273EA",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:n}},[])).default},yMe={iconBackground:"#000000",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:n}},[])).default},vMe={iconBackground:"#000000",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:n}},[])).default},_U={iconBackground:"#FFEEDA",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:n}},[])).default},kU={iconBackground:"#F50DB4",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:n}},[])).default},SU={iconBackground:"#f9f7ec",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:n}},[])).default},CU={iconBackground:"#000000",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:n}},[])).default},EU={iconBackground:"#f9f7ec",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:n}},[])).default},C5={iconBackground:"#000000",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:n}},[])).default},wMe={apechain:{chainId:33139,name:"ApeChain",...dU},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...dU},arbitrum:{chainId:42161,name:"Arbitrum",...v5},arbitrumGoerli:{chainId:421613,...v5},arbitrumSepolia:{chainId:421614,...v5},avalanche:{chainId:43114,...hU},avalancheFuji:{chainId:43113,...hU},base:{chainId:8453,name:"Base",...w5},baseGoerli:{chainId:84531,...w5},baseSepolia:{chainId:84532,...w5},berachain:{chainId:80094,name:"Berachain",...x5},berachainArtio:{chainId:80085,name:"Berachain Artio",...x5},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...x5},blast:{chainId:81457,name:"Blast",...fU},blastSepolia:{chainId:168587773,...fU},bsc:{chainId:56,name:"BSC",...pU},bscTestnet:{chainId:97,...pU},celo:{chainId:42220,name:"Celo",...mU},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...mU},cronos:{chainId:25,...gU},cronosTestnet:{chainId:338,...gU},degen:{chainId:666666666,name:"Degen",...hMe},flow:{chainId:747,...bU},flowTestnet:{chainId:545,...bU},gnosis:{chainId:100,name:"Gnosis",...fMe},goerli:{chainId:5,...ju},gravity:{chainId:1625,name:"Gravity",...yU},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...yU},hardhat:{chainId:31337,...pMe},holesky:{chainId:17e3,...ju},hyperevm:{chainId:999,...mMe},ink:{chainId:57073,...vU},inkSepolia:{chainId:763373,...vU},kaia:{chainId:8217,name:"Kaia",...wU},kairos:{chainId:1001,name:"Kairos",...wU},kovan:{chainId:42,...ju},linea:{chainId:59144,name:"Linea",..._5},lineaGoerli:{chainId:59140,name:"Linea Goerli",..._5},lineaSepolia:{chainId:59141,name:"Linea Sepolia",..._5},localhost:{chainId:1337,...ju},mainnet:{chainId:1,name:"Ethereum",...ju},manta:{chainId:169,name:"Manta",...k5},mantaSepolia:{chainId:3441006,...k5},mantaTestnet:{chainId:3441005,...k5},mantle:{chainId:5e3,...xU},mantleTestnet:{chainId:5001,...xU},monadTestnet:{chainId:10143,name:"Monad Testnet",...gMe},optimism:{chainId:10,name:"Optimism",...V1},optimismGoerli:{chainId:420,...V1},optimismKovan:{chainId:69,...V1},optimismSepolia:{chainId:11155420,...V1},polygon:{chainId:137,name:"Polygon",...S5},polygonAmoy:{chainId:80002,...S5},polygonMumbai:{chainId:80001,...S5},rinkeby:{chainId:4,...ju},ronin:{chainId:2020,...bMe},ropsten:{chainId:3,...ju},sanko:{chainId:1996,name:"Sanko",...yMe},scroll:{chainId:534352,..._U},scrollSepolia:{chainId:534351,..._U},sepolia:{chainId:11155111,...ju},superposition:{chainId:55244,name:"Superposition",...vMe},unichain:{chainId:130,...kU},unichainSepolia:{chainId:1301,...kU},xdc:{chainId:50,name:"XDC",...SU},xdcTestnet:{chainId:51,...SU},zetachain:{chainId:7e3,name:"ZetaChain",...CU},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...CU},zkSync:{chainId:324,name:"zkSync",...EU},zkSyncTestnet:{chainId:280,...EU},zora:{chainId:7777777,name:"Zora",...C5},zoraSepolia:{chainId:999999999,...C5},zoraTestnet:{chainId:999,...C5}},xMe=Object.fromEntries(Object.values(wMe).filter(Ide).map(({chainId:n,...e})=>[n,e])),_Me=n=>n.map(e=>{const r=xMe[e.id]??{};return{...e,name:r.name??e.name,iconUrl:e.iconUrl??r.iconUrl,iconBackground:e.iconBackground??r.iconBackground}}),_7=A.createContext({chains:[]});function kMe({children:n,initialChain:e}){const{chains:r}=Gr();return B.createElement(_7.Provider,{value:A.useMemo(()=>({chains:_Me(r),initialChainId:typeof e=="number"?e:e==null?void 0:e.id}),[r,e])},n)}var Y0=()=>A.useContext(_7).chains,SMe=()=>A.useContext(_7).initialChainId,CMe=()=>{const n=Y0();return A.useMemo(()=>{const e={};for(const r of n)e[r.id]=r;return e},[n])},Mde=A.createContext({showBalance:void 0,setShowBalance:()=>{}});function EMe({children:n}){const[e,r]=A.useState();return B.createElement(Mde.Provider,{value:{showBalance:e,setShowBalance:r}},n)}var AMe=()=>A.useContext(Mde);function TMe(){const[n,e]=A.useState(!1);return A.useEffect(()=>(e(!0),()=>{e(!1)}),[]),A.useCallback(()=>n,[n])}function Ode(){const n=Y0(),e=eg.id;return n.some(i=>i.id===e)}function PMe(n){const e=Ode(),r=s=>{try{return LPe(s)}catch{}},{data:i}=FTe({chainId:eg.id,name:n?r(n):void 0,query:{enabled:e}});return i}async function yh(n,e){if(e={headers:{},method:"get",...e,timeout:e.timeout??1e4},!n)throw new Error("rainbowFetch: Missing url argument");const r=new AbortController,i=setTimeout(()=>r.abort(),e.timeout),{body:s,params:o,headers:a,...l}=e,c=s&&typeof s=="object"?JSON.stringify(e.body):e.body,u=await fetch(`${n}${MMe(o)}`,{...l,body:c,headers:{Accept:"application/json","Content-Type":"application/json",...a},signal:r.signal});clearTimeout(i);const d=await IMe(u);if(u.ok){const{headers:p,status:m}=u;return{data:d,headers:p,status:m}}throw OMe({requestBody:s,response:u,responseBody:typeof d=="string"?{error:d}:d})}function IMe(n){const e=n.headers.get("Content-Type");return e!=null&&e.startsWith("application/json")?n.json():n.text()}function MMe(n){return n&&Object.keys(n).length?`?${new URLSearchParams(n)}`:""}function OMe({requestBody:n,response:e,responseBody:r}){const i=(r==null?void 0:r.error)||(e==null?void 0:e.statusText)||"There was an error with the request.",s=new Error(i);return s.response=e,s.responseBody=r,s.requestBody=n,s}var DMe=class{constructor(n={}){const{baseUrl:e="",...r}=n;this.baseUrl=e,this.opts=r}get(n,e){return yh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"get"})}delete(n,e){return yh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"delete"})}head(n,e){return yh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"head"})}options(n,e){return yh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"options"})}post(n,e,r){return yh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"post"})}put(n,e,r){return yh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"put"})}patch(n,e,r){return yh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"patch"})}};function RMe({baseUrl:n,headers:e,params:r,timeout:i}){return new DMe({baseUrl:n,headers:e,params:r,timeout:i})}var NMe=!!(typeof process<"u"&&typeof ES<"u"&&ES.RAINBOW_PROVIDER_API_KEY),jMe=RMe({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof process<"u"&&typeof ES<"u"&&ES.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function BMe(n,e,r={}){return[n,e,r]}function fk(n){return`rk-ens-name-${n}`}function LMe(n){try{const e=n?JSON.parse(n):null;return typeof e=="object"?e:null}catch{return null}}function FMe(n,e){if(!ho(n))return;const r=new Date,i=new Date(r.getTime()+180*6e4);localStorage.setItem(fk(n),JSON.stringify({ensName:e,expires:i.getTime()}))}function $Me(n){const e=LMe(localStorage.getItem(fk(n)));if(!e)return null;const{ensName:r,expires:i}=e;return typeof r!="string"||Number.isNaN(Number(i))||new Date().getTime()>Number(i)?(localStorage.removeItem(fk(n)),null):r}async function zMe({address:n}){const e=$Me(n);if(e)return e;const i=(await jMe.get("/v1/resolve-ens",{params:{address:n}})).data.data;return i&&FMe(n,i),i}function UMe(n){const e=Ode(),{data:r}=$Te({chainId:eg.id,address:n,query:{enabled:e}}),{data:i}=Lae({queryKey:BMe("address",n),queryFn:()=>zMe({address:n}),enabled:!e&&!!n&&NMe,staleTime:10*(60*1e3),retry:1});return r||i}function Dde({address:n,includeBalance:e}){const r=UMe(n),i=PMe(r),{data:s}=Due({address:e?n:void 0});return{ensName:r,ensAvatar:i,balance:s}}function k7(){const{chain:n}=Ci();return(n==null?void 0:n.id)??null}var Rde="rk-transactions";function WMe(n){try{const e=n?JSON.parse(n):{};return typeof e=="object"?e:{}}catch{return{}}}function AU(){return WMe(typeof localStorage<"u"?localStorage.getItem(Rde):null)}var qMe=/^0x([A-Fa-f0-9]{64})$/;function HMe(n){const e=[];return qMe.test(n.hash)||e.push("Invalid transaction hash"),typeof n.description!="string"&&e.push("Transaction must have a description"),typeof n.confirmations<"u"&&(!Number.isInteger(n.confirmations)||n.confirmations<1)&&e.push("Transaction confirmations must be a positiver integer"),e}function VMe({provider:n}){let e=AU(),r=n;const i=new Set,s=new Set,o=new Map;function a(w){r=w}function l(w,_){var x;return((x=e[w])==null?void 0:x[_])??[]}function c(w,_,x){const k=HMe(x);if(k.length>0)throw new Error(["Unable to add transaction",...k].join(`
`));f(w,_,C=>[{...x,status:"pending"},...C.filter(({hash:E})=>E!==x.hash)])}function u(w,_){f(w,_,()=>[])}function d(w,_,x,k){f(w,_,C=>C.map(E=>E.hash===x?{...E,status:k}:E))}async function h(w,_){await Promise.all(l(w,_).filter(x=>x.status==="pending").map(async x=>{const{confirmations:k,hash:C}=x,E=o.get(C);if(E)return await E;const T=r.waitForTransactionReceipt({confirmations:k,hash:C,timeout:3e5}).then(({status:M})=>{o.delete(C),M!==void 0&&(d(w,_,C,M===0||M==="reverted"?"failed":"confirmed"),b(M))}).catch(()=>{d(w,_,C,"failed")});return o.set(C,T),await T}))}function f(w,_,x){e=AU(),e[w]=e[w]??{};let k=0;const C=10,E=x(e[w][_]??[]).filter(({status:T})=>T==="pending"?!0:k++<=C);e[w][_]=E.length>0?E:void 0,p(),m(),h(w,_)}function p(){localStorage.setItem(Rde,JSON.stringify(e))}function m(){for(const w of i)w()}function b(w){for(const _ of s)_(w)}function y(w){return i.add(w),()=>{i.delete(w)}}function v(w){return s.add(w),()=>{s.delete(w)}}return{addTransaction:c,clearTransactions:u,getTransactions:l,onTransactionStatus:v,onChange:y,setProvider:a,waitForPendingTransactions:h}}var TU,Nde=B.createContext(null);function GMe({children:n}){const e=zTe(),{address:r}=Ci(),i=k7(),{refetch:s}=Due({address:r,query:{enabled:!1}}),[o]=B.useState(()=>TU??(TU=VMe({provider:e}))),a=B.useCallback(l=>{l==="success"&&s()},[s]);return B.useEffect(()=>{o.setProvider(e)},[o,e]),B.useEffect(()=>{r&&i&&o.waitForPendingTransactions(r,i)},[o,r,i]),B.useEffect(()=>{if(o&&r&&i)return o.onTransactionStatus(a)},[o,r,i,a]),B.createElement(Nde.Provider,{value:o},n)}function jde(){const n=B.useContext(Nde);if(!n)throw new Error("Transaction hooks must be used within RainbowKitProvider");return n}function Bde(){const n=jde(),{address:e}=Ci(),r=k7(),[i,s]=A.useState(()=>n&&e&&r?n.getTransactions(e,r):[]);return A.useEffect(()=>{if(n&&e&&r)return s(n.getTransactions(e,r)),n.onChange(()=>{s(n.getTransactions(e,r))})},[n,e,r]),i}var PU=n=>typeof n=="function"?n():n;function YMe(n,{extends:e}={}){const r={...Qz(aU,PU(n))};if(!e)return r;const i=Qz(aU,PU(e));return Object.fromEntries(Object.entries(r).filter(([o,a])=>a!==i[o]))}function IU(n,e={}){return Object.entries(YMe(n,e)).map(([r,i])=>`${r}:${i.replace(/[:;{}</>]/g,"")};`).join("")}var Lde={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},fx=A.createContext(Lde),Fde=A.createContext(!1);function KMe(n,e){let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{r=null,n()},e)}}var $de=()=>{const[n,e]=A.useState({height:void 0,width:void 0});return A.useEffect(()=>{const r=KMe(()=>{e({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),n},px=A.createContext({connector:null,setConnector:()=>{}});function XMe({children:n}){const[e,r]=A.useState(null);return B.createElement(px.Provider,{value:A.useMemo(()=>({connector:e,setConnector:r}),[e])},n)}var mx={COMPACT:"compact",WIDE:"wide"},PC=A.createContext(mx.WIDE);function QMe({children:n,modalSize:e}){const{width:r}=$de(),i=r&&r<WIe,{connector:s}=A.useContext(px);return B.createElement(PC.Provider,{value:i||s?mx.COMPACT:e},n)}var S7=A.createContext(!1),JMe="rk-version";function ZMe({version:n}){localStorage.setItem(JMe,n)}function eOe(){const n=A.useCallback(()=>{ZMe({version:"2.2.10"})},[]);A.useEffect(()=>{n()},[n])}function tOe(n,e){const r={};for(const i of n){const s=e(i);s&&(r[s]=i)}return r}function C7(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function nOe(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function E7(){var e,r;if(typeof navigator>"u")return"Browser";const n=(e=navigator.userAgent)==null?void 0:e.toLowerCase();return(r=navigator.brave)!=null&&r.isBrave?"Brave":(n==null?void 0:n.indexOf("edg/"))>-1?"Edge":(n==null?void 0:n.indexOf("op"))>-1?"Opera":nOe()?"Arc":(n==null?void 0:n.indexOf("chrome"))>-1?"Chrome":(n==null?void 0:n.indexOf("firefox"))>-1?"Firefox":C7()?"Safari":"Browser"}var rOe=_Ie.UAParser(),{os:A7}=rOe;function iOe(){return A7.name==="Windows"}function sOe(){return A7.name==="Mac OS"}function oOe(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(A7.name)}function T7(){return iOe()?"Windows":sOe()?"macOS":oOe()?"Linux":"Desktop"}var aOe=n=>{var r,i,s,o,a,l,c,u,d,h,f;const e=E7();return{Arc:(r=n==null?void 0:n.downloadUrls)==null?void 0:r.chrome,Brave:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.chrome,Chrome:(s=n==null?void 0:n.downloadUrls)==null?void 0:s.chrome,Edge:((o=n==null?void 0:n.downloadUrls)==null?void 0:o.edge)||((a=n==null?void 0:n.downloadUrls)==null?void 0:a.chrome),Firefox:(l=n==null?void 0:n.downloadUrls)==null?void 0:l.firefox,Opera:((c=n==null?void 0:n.downloadUrls)==null?void 0:c.opera)||((u=n==null?void 0:n.downloadUrls)==null?void 0:u.chrome),Safari:(d=n==null?void 0:n.downloadUrls)==null?void 0:d.safari,Browser:(h=n==null?void 0:n.downloadUrls)==null?void 0:h.browserExtension}[e]??((f=n==null?void 0:n.downloadUrls)==null?void 0:f.browserExtension)},lOe=n=>{var r,i,s;return(hx()?(r=n==null?void 0:n.downloadUrls)==null?void 0:r.ios:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.android)??((s=n==null?void 0:n.downloadUrls)==null?void 0:s.mobile)},cOe=n=>{var r,i,s,o,a;const e=T7();return{Windows:(r=n==null?void 0:n.downloadUrls)==null?void 0:r.windows,macOS:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.macos,Linux:(s=n==null?void 0:n.downloadUrls)==null?void 0:s.linux,Desktop:(o=n==null?void 0:n.downloadUrls)==null?void 0:o.desktop}[e]??((a=n==null?void 0:n.downloadUrls)==null?void 0:a.desktop)},zde=(n,e)=>n.some(r=>r.id===e),uOe=n=>!!n.isRainbowKitConnector,MU=n=>{var e;return!!(!n.isRainbowKitConnector&&((e=n.icon)!=null&&e.replace(/\n/g,"").startsWith("data:image"))&&n.uid&&n.name)},dOe=(n,e)=>n.id==="walletConnect"&&e?{...n,walletConnectModalConnector:e}:n,hOe=({wallets:n,recentWallets:e})=>[...e,...n.filter(r=>!zde(e,r.id))],Ude="rk-recent";function fOe(n){try{const e=n?JSON.parse(n):[];return Array.isArray(e)?e:[]}catch{return[]}}function Wde(){return typeof localStorage<"u"?fOe(localStorage.getItem(Ude)):[]}function pOe(n){return[...new Set(n)]}function mOe(n){const e=pOe([n,...Wde()]);localStorage.setItem(Ude,JSON.stringify(e))}function ow(n=!1){var x,k,C;const e=Y0(),r=SMe(),{connectAsync:i,connectors:s}=f7(),o=s,{setIsWalletConnectModalOpen:a}=phe(),l=o.map(E=>({...E,...E.rkDetails||{}}));async function c(E,T){var O,F;const M=await E.getChainId(),I=await i({...T,chainId:(T==null?void 0:T.chainId)??r??((O=e.find(({id:$})=>$===M))==null?void 0:O.id)??((F=e[0])==null?void 0:F.id),connector:E});return I&&mOe(E.id),I}async function u(E){try{a(!0),await c(E),a(!1)}catch(T){const M=T.name==="UserRejectedRequestError"||T.message==="Connection request reset. Please try again.";if(a(!1),!M)throw T}}const d=async(E,T)=>{const M=await E.getProvider();return E.id==="coinbase"?M.qrUrl:new Promise(I=>M.once("display_uri",O=>{I(T(O))}))},h=l.find(E=>E.id==="walletConnect"&&E.isWalletConnectModalConnector),f=l.filter(MU).map(E=>({...E,groupIndex:0})),p=l.filter(uOe).filter(E=>!E.isWalletConnectModalConnector).filter(E=>n?!f.some(M=>M.id===E.rdns):!0).map(E=>dOe(E,h)),m=[...f,...p],b=tOe(m,E=>E.id),v=Wde().map(E=>b[E]).filter(Boolean).slice(0,3),w=[],_=hOe({wallets:m,recentWallets:v});for(const E of _){if(!E)continue;const T=MU(E),M=zde(v,E.id);if(T){w.push({...E,iconUrl:E.icon,ready:!0,connect:c.bind(null,E),groupName:"Installed",recent:M});continue}w.push({...E,ready:E.installed??!0,connect:c.bind(null,E),desktopDownloadUrl:cOe(E),extensionDownloadUrl:aOe(E),groupName:E.groupName,mobileDownloadUrl:lOe(E),getQrCodeUri:(x=E.qrCode)!=null&&x.getUri?()=>d(E,E.qrCode.getUri):void 0,getDesktopUri:(k=E.desktop)!=null&&k.getUri?()=>d(E,E.desktop.getUri):void 0,getMobileUri:(C=E.mobile)!=null&&C.getUri?()=>{var I;return d(E,(I=E.mobile)==null?void 0:I.getUri)}:void 0,recent:M,showWalletConnectModal:E.walletConnectModalConnector?()=>u(E.walletConnectModalConnector):void 0})}return w}var qde=async()=>(await ht(async()=>{const{default:n}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:n}},[])).default,gOe=()=>zl(qde),bOe=()=>B.createElement(ki,{background:"#d0d5de",borderRadius:"10",height:"48",src:qde,width:"48"}),Hde=async()=>(await ht(async()=>{const{default:n}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:n}},[])).default,yOe=()=>zl(Hde),vOe=()=>B.createElement(ki,{background:"#d0d5de",borderRadius:"10",height:"48",src:Hde,width:"48"}),Tt=B.forwardRef(({as:n="div",children:e,className:r,color:i,display:s,font:o="body",id:a,size:l="16",style:c,tabIndex:u,textAlign:d="inherit",weight:h="regular",testId:f},p)=>B.createElement(fe,{as:n,className:r,color:i,display:s,fontFamily:o,fontSize:l,fontWeight:h,id:a,ref:p,style:c,tabIndex:u,textAlign:d,testId:f},e));Tt.displayName="Text";var wOe={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function os({disabled:n=!1,href:e,label:r,onClick:i,rel:s="noreferrer noopener",size:o="medium",target:a="_blank",testId:l,type:c="primary"}){const u=c==="primary",d=o!=="large",h=Hr(),f=n?"actionButtonSecondaryBackground":u?"accentColor":d?"actionButtonSecondaryBackground":null,{fontSize:p,height:m,paddingX:b,paddingY:y}=wOe[o],v=!h||!d;return B.createElement(fe,{...e?n?{}:{as:"a",href:e,rel:s,target:a}:{as:"button",type:"button"},onClick:n?void 0:i,...v?{borderColor:h&&!d&&!u?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!n&&Ei({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:b,paddingY:y,style:{willChange:"transform"},testId:l,textAlign:"center",transition:"transform",...f?{background:f}:{},...m?{height:m}:{}},B.createElement(Tt,{color:n?"modalTextSecondary":u?"accentColorForeground":"accentColor",size:p,weight:"bold"},r))}var xOe=()=>Hr()?B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),Yf=({"aria-label":n="Close",onClose:e})=>{const r=Hr();return B.createElement(fe,{alignItems:"center","aria-label":n,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:Ei({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},B.createElement(xOe,null))},Vde=async()=>(await ht(async()=>{const{default:n}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:n}},[])).default;function _Oe({onClose:n,onCloseModal:e}){const{i18n:r}=A.useContext(Yr),[{status:i,...s},o]=B.useState({status:"idle"}),a=YIe(),l=A.useCallback(async()=>{try{const m=await a.getNonce();o(b=>({...b,nonce:m}))}catch{o(m=>({...m,errorMessage:r.t("sign_in.message.preparing_error"),status:"idle"}))}},[a,r.t]),c=A.useRef(!1);B.useEffect(()=>{c.current||(c.current=!0,l())},[l]);const u=Hr(),{address:d,chain:h}=Ci(),{signMessageAsync:f}=UTe(),p=async()=>{try{const m=h==null?void 0:h.id,{nonce:b}=s;if(!d||!m||!b)return;o(w=>({...w,errorMessage:void 0,status:"signing"}));const y=a.createMessage({address:d,chainId:m,nonce:b});let v;try{v=await f({message:y})}catch(w){return w instanceof An?o(_=>({..._,status:"idle"})):o(_=>({..._,errorMessage:r.t("sign_in.signature.signing_error"),status:"idle"}))}o(w=>({...w,status:"verifying"}));try{if(await a.verify({message:y,signature:v})){e();return}throw new Error}catch{return o(w=>({...w,errorMessage:r.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:r.t("sign_in.signature.oops_error"),status:"idle"})}};return B.createElement(fe,{position:"relative"},B.createElement(fe,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},B.createElement(Yf,{onClose:n})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:u?"60px":"36px"}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"6":"4",style:{maxWidth:u?320:280}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"16"},B.createElement(ki,{height:40,src:Vde,width:40}),B.createElement(Tt,{color:"modalText",size:u?"20":"18",textAlign:"center",weight:"heavy"},r.t("sign_in.label"))),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"16":"12"},B.createElement(Tt,{color:"modalTextSecondary",size:u?"16":"14",textAlign:"center"},r.t("sign_in.description")),i==="idle"&&s.errorMessage?B.createElement(Tt,{color:"error",size:u?"16":"14",textAlign:"center",weight:"bold"},s.errorMessage):null)),B.createElement(fe,{alignItems:u?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},B.createElement(os,{disabled:!s.nonce||i==="signing"||i==="verifying",label:s.nonce?i==="signing"?r.t("sign_in.signature.waiting"):i==="verifying"?r.t("sign_in.signature.verifying"):r.t("sign_in.message.send"):r.t("sign_in.message.preparing"),onClick:p,size:u?"large":"medium",testId:"auth-message-button"}),u?B.createElement(os,{label:"Cancel",onClick:n,size:"large",type:"secondary"}):B.createElement(fe,{as:"button",borderRadius:"full",className:Ei({active:"shrink",hover:"grow"}),display:"block",onClick:n,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"closeButton",size:u?"16":"14",weight:"bold"},r.t("sign_in.message.cancel"))))))}function kOe(){const n=Y0(),e=ow(),r=AC()==="unauthenticated",i=A.useCallback(()=>{zl(...e.map(s=>s.iconUrl),...n.map(s=>s.iconUrl).filter(Ide)),Hr()||(gOe(),yOe()),r&&zl(Vde)},[e,n,r]);A.useEffect(()=>{i()},[i])}var Gde="WALLETCONNECT_DEEPLINK_CHOICE";function SOe({mobileUri:n,name:e}){localStorage.setItem(Gde,JSON.stringify({href:n.split("?")[0],name:e}))}function COe(){localStorage.removeItem(Gde)}var Yde=A.createContext(void 0),MR="data-rk",Kde=n=>({[MR]:n||""}),EOe=n=>{if(n&&!/^[a-zA-Z0-9_]+$/.test(n))throw new Error(`Invalid ID: ${n}`);return n?`[${MR}="${n}"]`:`[${MR}]`},AOe=()=>{const n=A.useContext(Yde);return Kde(n)},TOe=zue();function POe({appInfo:n,avatar:e,children:r,coolMode:i=!1,id:s,initialChain:o,locale:a,modalSize:l=mx.WIDE,showRecentTransactions:c=!1,theme:u=TOe}){if(kOe(),eOe(),Fue({onDisconnect:COe}),typeof u=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const d=EOe(s),h={...Lde,...n},f=e??Tde;return B.createElement(kMe,{initialChain:o},B.createElement(XMe,null,B.createElement(dMe,{locale:a},B.createElement(Fde.Provider,{value:i},B.createElement(QMe,{modalSize:l},B.createElement(S7.Provider,{value:c},B.createElement(GMe,null,B.createElement(Pde.Provider,{value:f},B.createElement(fx.Provider,{value:h},B.createElement(Yde.Provider,{value:s},B.createElement(EMe,null,B.createElement(WDe,null,u?B.createElement("div",{...Kde(s)},B.createElement("style",{dangerouslySetInnerHTML:{__html:[`${d}{${IU("lightMode"in u?u.lightMode:u)}}`,"darkMode"in u?`@media(prefers-color-scheme:dark){${d}{${IU(u.darkMode,{extends:u.lightMode})}}}`:null].join("")}}),r):r))))))))))))}var IOe="_9pm4ki5 ju367va ju367v15 ju367v8r",MOe="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",OU=(n,e)=>{const r=n.querySelectorAll("button:not(:disabled), a[href]");r.length!==0&&r[e==="end"?r.length-1:0].focus()};function OOe(n){const e=A.useRef(null);return A.useEffect(()=>{const r=document.activeElement;return()=>{var i;(i=r.focus)==null||i.call(r)}},[]),A.useEffect(()=>{if(e.current){const r=e.current.querySelector("[data-auto-focus]");r?r.focus():e.current.focus()}},[]),B.createElement(B.Fragment,null,B.createElement("div",{onFocus:A.useCallback(()=>e.current&&OU(e.current,"end"),[]),tabIndex:0}),B.createElement("div",{ref:e,style:{outline:"none"},tabIndex:-1,...n}),B.createElement("div",{onFocus:A.useCallback(()=>e.current&&OU(e.current,"start"),[]),tabIndex:0}))}var DOe=n=>n.stopPropagation();function AS({children:n,onClose:e,open:r,titleId:i}){A.useEffect(()=>{const u=d=>r&&d.key==="Escape"&&e();return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[r,e]);const[s,o]=A.useState(!0);A.useEffect(()=>{o(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const a=A.useCallback(()=>e(),[e]),l=AOe(),c=Hr();return B.createElement(B.Fragment,null,r?$a.createPortal(B.createElement(yde,{enabled:s},B.createElement(fe,{...l},B.createElement(fe,{...l,alignItems:c?"flex-end":"center","aria-labelledby":i,"aria-modal":!0,className:MOe,onClick:a,position:"fixed",role:"dialog"},B.createElement(OOe,{className:IOe,onClick:DOe,role:"document"},n)))),document.body):null)}var ROe="_1ckjpok7",NOe="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",jOe="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",BOe="_1ckjpok6 ju367vq",LOe="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",FOe="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function TS({bottomSheetOnMobile:n=!1,children:e,marginTop:r,padding:i="16",paddingBottom:s,wide:o=!1}){const a=Hr(),c=A.useContext(PC)===mx.COMPACT;return B.createElement(fe,{marginTop:r},B.createElement(fe,{className:[o?a?FOe:c?jOe:LOe:NOe,a?BOe:null,a&&n?ROe:null].join(" ")},B.createElement(fe,{padding:i,paddingBottom:s??i},e)))}var DU=["k","m","b","t"];function G1(n,e=1){return n.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function Xde(n){if(n<1)return G1(n,3);if(n<10**2)return G1(n,2);if(n<10**4)return new Intl.NumberFormat().format(Number.parseFloat(G1(n,1)));const e=10**1;let r=String(n);for(let i=DU.length-1;i>=0;i--){const s=10**((i+1)*3);if(s<=n){n=n*e/s/e,r=G1(n,1)+DU[i];break}}return r}function Qde(n){return n.length<8?n:`${n.substring(0,4)}${n.substring(n.length-4)}`}function Jde(n){if(!n)return"";const e=n.split("."),r=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${r}`}var $Oe=()=>B.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copied"),B.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),zOe=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copy"),B.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),UOe=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function WOe(){const n=jde(),{address:e}=Ci(),r=k7();return A.useCallback(()=>{if(!e||!r)throw new Error("No address or chain ID found");n.clearTransactions(e,r)},[n,e,r])}var Zde=n=>{var e,r;return(r=(e=n==null?void 0:n.blockExplorers)==null?void 0:e.default)==null?void 0:r.url},ehe=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Link"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),qOe=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Cancel"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),HOe=()=>B.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Success"),B.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),VOe=n=>{switch(n){case"pending":return sw;case"confirmed":return HOe;case"failed":return qOe;default:return sw}};function GOe({tx:n}){const e=Hr(),r=VOe(n.status),i=n.status==="failed"?"error":"accentColor",{chain:s}=Ci(),o=n.status==="confirmed"?"Confirmed":n.status==="failed"?"Failed":"Pending",a=Zde(s);return B.createElement(B.Fragment,null,B.createElement(fe,{...a?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Ei({active:"shrink"}),href:`${a}/tx/${n.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:e?"16":"14"},B.createElement(fe,{color:i},B.createElement(r,null)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:e?"3":"1"},B.createElement(fe,null,B.createElement(Tt,{color:"modalText",font:"body",size:e?"16":"14",weight:"bold"},n==null?void 0:n.description)),B.createElement(fe,null,B.createElement(Tt,{color:n.status==="pending"?"modalTextSecondary":i,font:"body",size:"14",weight:e?"medium":"regular"},o)))),a&&B.createElement(fe,{alignItems:"center",color:"modalTextDim",display:"flex"},B.createElement(ehe,null))))}var YOe=3;function KOe({address:n}){const e=Bde(),r=WOe(),{chain:i}=Ci(),s=Zde(i),o=e.slice(0,YOe),a=o.length>0,l=Hr(),{appName:c}=A.useContext(fx),{i18n:u}=A.useContext(Yr);return B.createElement(B.Fragment,null,B.createElement(fe,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:l?"8":"18"},a&&B.createElement(fe,{paddingBottom:l?"4":"0",paddingTop:"8",paddingX:l?"12":"6"},B.createElement(fe,{display:"flex",justifyContent:"space-between"},B.createElement(Tt,{color:"modalTextSecondary",size:l?"16":"14",weight:"semibold"},u.t("profile.transactions.recent.title")),B.createElement(fe,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},B.createElement(fe,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:Ei({active:"shrink"}),onClick:r,paddingX:l?"8":"12",paddingY:l?"4":"5",transition:"default",type:"button"},B.createElement(Tt,{color:"modalTextSecondary",size:l?"16":"14",weight:"semibold"},u.t("profile.transactions.clear.label")))))),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},a?o.map(d=>B.createElement(GOe,{key:d.hash,tx:d})):B.createElement(B.Fragment,null,B.createElement(fe,{padding:l?"12":"8"},B.createElement(Tt,{color:"modalTextDim",size:l?"16":"14",weight:l?"medium":"bold"},c?u.t("profile.transactions.description",{appName:c}):u.t("profile.transactions.description_fallback"))),l&&B.createElement(fe,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),s&&B.createElement(fe,{paddingBottom:"18",paddingX:l?"8":"18"},B.createElement(fe,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Ei({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${s}/address/${n}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...l?{paddingLeft:"12"}:{}},B.createElement(Tt,{color:"modalText",font:"body",size:l?"16":"14",weight:l?"semibold":"bold"},u.t("profile.explorer.label")),B.createElement(ehe,null))))}function RU({action:n,icon:e,label:r,testId:i,url:s}){const o=Hr();return B.createElement(fe,{...s?{as:"a",href:s,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:Ei({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:n,padding:o?"6":"8",style:{willChange:"transform"},testId:i,transition:"default",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},B.createElement(fe,{color:"modalText",height:"max"},e),B.createElement(fe,null,B.createElement(Tt,{color:"modalText",size:o?"12":"13",weight:"semibold"},r))))}function XOe({address:n,ensAvatar:e,ensName:r,balance:i,onClose:s,onDisconnect:o}){const a=A.useContext(S7),[l,c]=A.useState(!1),u=A.useCallback(()=>{n&&(navigator.clipboard.writeText(n),c(!0))},[n]);if(A.useEffect(()=>{if(l){const y=setTimeout(()=>{c(!1)},1500);return()=>clearTimeout(y)}},[l]),!n)return null;const d=r?Jde(r):Qde(n),h=i==null?void 0:i.formatted,f=h?Xde(Number.parseFloat(h)):void 0,p="rk_profile_title",m=Hr(),{i18n:b}=A.useContext(Yr);return B.createElement(B.Fragment,null,B.createElement(fe,{display:"flex",flexDirection:"column"},B.createElement(fe,{background:"profileForeground",padding:"16"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:m?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},B.createElement(fe,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},B.createElement(Yf,{onClose:s}))," ",B.createElement(fe,{marginTop:m?"24":"0"},B.createElement(aMe,{address:n,imageUrl:e,size:m?82:74})),B.createElement(fe,{display:"flex",flexDirection:"column",gap:m?"4":"0",textAlign:"center"},B.createElement(fe,{textAlign:"center"},B.createElement(Tt,{as:"h1",color:"modalText",id:p,size:m?"20":"18",weight:"heavy"},d)),!!i&&B.createElement(fe,{textAlign:"center"},B.createElement(Tt,{as:"h1",color:"modalTextSecondary",id:p,size:m?"16":"14",weight:"semibold"},f," ",i.symbol)))),B.createElement(fe,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},B.createElement(RU,{action:u,icon:l?B.createElement($Oe,null):B.createElement(zOe,null),label:l?b.t("profile.copy_address.copied"):b.t("profile.copy_address.label")}),B.createElement(RU,{action:o,icon:B.createElement(UOe,null),label:b.t("profile.disconnect.label"),testId:"disconnect-button"}))),a&&B.createElement(B.Fragment,null,B.createElement(fe,{background:"generalBorder",height:"1",marginTop:"-1"}),B.createElement(fe,null,B.createElement(KOe,{address:n})))))}function QOe({onClose:n,open:e}){const{address:r}=Ci(),{balance:i,ensAvatar:s,ensName:o}=Dde({address:r,includeBalance:e}),{disconnect:a}=dx();return r?B.createElement(B.Fragment,null,r&&B.createElement(AS,{onClose:n,open:e,titleId:"rk_account_modal_title"},B.createElement(TS,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(XOe,{address:r,ensAvatar:s,ensName:o,balance:i,onClose:n,onDisconnect:a})))):null}var JOe=({size:n})=>B.createElement("svg",{fill:"none",height:n,viewBox:"0 0 28 28",width:n,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),ZOe="v9horb0",P7=B.forwardRef(({children:n,currentlySelected:e=!1,onClick:r,testId:i,...s},o)=>{const a=Hr();return B.createElement(fe,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:r,ref:o,testId:i,type:"button"},B.createElement(fe,{borderRadius:"menuButton",className:[a?ZOe:void 0,!e&&Ei({active:"shrink"})],padding:a?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...s},n))});P7.displayName="MenuButton";var eDe=({chainId:n,currentChainId:e,switchChain:r,chainIconSize:i,isLoading:s,src:o,name:a,iconBackground:l,idx:c})=>{const u=Hr(),{i18n:d}=A.useContext(Yr),h=Y0(),f=e===n;return B.createElement(A.Fragment,null,B.createElement(P7,{currentlySelected:f,onClick:f?void 0:()=>r({chainId:n}),testId:`chain-option-${n}`},B.createElement(fe,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:i},o&&B.createElement(fe,{height:"full",marginRight:"8"},B.createElement(ki,{alt:a,background:l,borderRadius:"full",height:i,src:o,width:i,testId:`chain-option-${n}-icon`})),B.createElement("div",null,a??a)),f&&B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(Tt,{color:"accentColorForeground",size:"14",weight:"medium"},d.t("chains.connected")),B.createElement(fe,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),s&&B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(Tt,{color:"modalText",size:"14",weight:"medium"},d.t("chains.confirm")),B.createElement(fe,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),u&&c<h.length-1&&B.createElement(fe,{background:"generalBorderDim",height:"1",marginX:"8"}))},tDe=eDe,nDe="_18dqw9x0",rDe="_18dqw9x1";function iDe({onClose:n,open:e}){const{chainId:r}=Ci(),{chains:i}=Gr(),[s,o]=A.useState(null),{switchChain:a}=WTe({mutation:{onMutate:({chainId:m})=>{o(m)},onSuccess:()=>{s&&o(null)},onError:()=>{s&&o(null)},onSettled:()=>{n()}}}),{i18n:l}=A.useContext(Yr),{disconnect:c}=dx(),u="rk_chain_modal_title",d=Hr(),h=i.some(m=>m.id===r),f=d?"36":"28",p=Y0();return r?B.createElement(AS,{onClose:n,open:e,titleId:u},B.createElement(TS,{bottomSheetOnMobile:!0,paddingBottom:"0"},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"14"},B.createElement(fe,{display:"flex",flexDirection:"row",justifyContent:"space-between"},d&&B.createElement(fe,{width:"30"}),B.createElement(fe,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},B.createElement(Tt,{as:"h1",color:"modalText",id:u,size:d?"20":"18",weight:"heavy"},l.t("chains.title"))),B.createElement(Yf,{onClose:n})),!h&&B.createElement(fe,{marginX:"8",textAlign:d?"center":"left"},B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},l.t("chains.wrong_network"))),B.createElement(fe,{className:d?rDe:nDe,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},p.map(({iconBackground:m,iconUrl:b,id:y,name:v},w)=>B.createElement(tDe,{key:y,chainId:y,currentChainId:r,switchChain:a,chainIconSize:f,isLoading:s===y,src:b,name:v,iconBackground:m,idx:w})),!h&&B.createElement(B.Fragment,null,B.createElement(fe,{background:"generalBorderDim",height:"1",marginX:"8"}),B.createElement(P7,{onClick:()=>c(),testId:"chain-option-disconnect"},B.createElement(fe,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:f},B.createElement(fe,{alignItems:"center",color:"error",height:f,justifyContent:"center",marginRight:"8"},B.createElement(JOe,{size:Number(f)})),B.createElement("div",null,l.t("chains.disconnect"))))))))))):null}function sDe(n,e){const r={};for(const i of n){const s=e(i);s&&(r[s]||(r[s]=[]),r[s].push(i))}return r}var I7=({children:n,href:e})=>B.createElement(fe,{as:"a",color:"accentColor",href:e,rel:"noreferrer",target:"_blank"},n),M7=({children:n})=>B.createElement(Tt,{color:"modalTextSecondary",size:"12",weight:"medium"},n);function NU({compactModeEnabled:n=!1,getWallet:e}){const{disclaimer:r,learnMoreUrl:i}=A.useContext(fx),{i18n:s}=A.useContext(Yr);return B.createElement(B.Fragment,null,B.createElement(fe,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},B.createElement(fe,{marginBottom:"10"},!n&&B.createElement(Tt,{color:"modalText",size:"18",weight:"heavy"},s.t("intro.title"))),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(fe,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(bOe,null)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},s.t("intro.digital_asset.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t("intro.digital_asset.description")))),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(fe,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(vOe,null)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},s.t("intro.login.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t("intro.login.description"))))),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},B.createElement(os,{label:s.t("intro.get.label"),onClick:e}),B.createElement(fe,{as:"a",className:Ei({active:"shrink",hover:"grow"}),display:"block",href:i,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},s.t("intro.learn_more.label")))),r&&!n&&B.createElement(fe,{marginBottom:"8",marginTop:"12",textAlign:"center"},B.createElement(r,{Link:I7,Text:M7}))))}var the=()=>B.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Back"),B.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),oDe=()=>B.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Info"),B.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),aDe=({"aria-label":n="Info",onClick:e})=>{const r=Hr();return B.createElement(fe,{alignItems:"center","aria-label":n,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:Ei({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},B.createElement(oDe,null))},nhe=n=>{const e=A.useRef(null),r=A.useContext(Fde),i=TC(n);return A.useEffect(()=>{if(r&&e.current&&i)return cDe(e.current,i)},[r,i]),e},lDe=()=>{const n="_rk_coolMode",e=document.getElementById(n);if(e)return e;const r=document.createElement("div");return r.setAttribute("id",n),r.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(r),r},jU=0;function cDe(n,e){jU++;const r=[15,20,25,35,45],i=35;let s=[],o=!1,a=0,l=0;const c=lDe();function u(){const x=r[Math.floor(Math.random()*r.length)],k=Math.random()*10,C=Math.random()*25,E=Math.random()*360,T=Math.random()*35*(Math.random()<=.5?-1:1),M=l-x/2,I=a-x/2,O=Math.random()<=.5?-1:1,F=document.createElement("div");F.innerHTML=`<img src="${e}" width="${x}" height="${x}" style="border-radius: 25%">`,F.setAttribute("style",["position:absolute","will-change:transform",`top:${M}px`,`left:${I}px`,`transform:rotate(${E}deg)`].join(";")),c.appendChild(F),s.push({direction:O,element:F,left:I,size:x,speedHorz:k,speedUp:C,spinSpeed:T,spinVal:E,top:M})}function d(){for(const x of s)x.left=x.left-x.speedHorz*x.direction,x.top=x.top-x.speedUp,x.speedUp=Math.min(x.size,x.speedUp-1),x.spinVal=x.spinVal+x.spinSpeed,x.top>=Math.max(window.innerHeight,document.body.clientHeight)+x.size&&(s=s.filter(k=>k!==x),x.element.remove()),x.element.setAttribute("style",["position:absolute","will-change:transform",`top:${x.top}px`,`left:${x.left}px`,`transform:rotate(${x.spinVal}deg)`].join(";"))}let h;function f(){o&&s.length<i&&u(),d(),h=requestAnimationFrame(f)}f();const p="ontouchstart"in window||navigator.msMaxTouchPoints,m=p?"touchstart":"mousedown",b=p?"touchend":"mouseup",y=p?"touchmove":"mousemove",v=x=>{var k,C;"touches"in x?(a=(k=x.touches)==null?void 0:k[0].clientX,l=(C=x.touches)==null?void 0:C[0].clientY):(a=x.clientX,l=x.clientY)},w=x=>{v(x),o=!0},_=()=>{o=!1};return n.addEventListener(y,v,{passive:!1}),n.addEventListener(m,w),n.addEventListener(b,_),n.addEventListener("mouseleave",_),()=>{n.removeEventListener(y,v),n.removeEventListener(m,w),n.removeEventListener(b,_),n.removeEventListener("mouseleave",_);const x=setInterval(()=>{h&&s.length===0&&(cancelAnimationFrame(h),clearInterval(x),--jU===0&&c.remove())},500)}}var uDe="g5kl0l0",rhe=({as:n="button",currentlySelected:e=!1,iconBackground:r,iconUrl:i,name:s,onClick:o,ready:a,recent:l,testId:c,isRainbowKitConnector:u,...d})=>{const h=nhe(i),[f,p]=B.useState(!1),{i18n:m}=B.useContext(Yr);return B.createElement(fe,{display:"flex",flexDirection:"column",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),ref:h},B.createElement(fe,{as:n,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:e?void 0:[uDe,Ei({active:"shrink"})],disabled:e,onClick:o,padding:"5",style:{willChange:"transform"},testId:c,transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...d},B.createElement(fe,{color:e?"accentColorForeground":"modalText",disabled:!a,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},B.createElement(ki,{background:r,...!f&&u?{borderColor:"actionButtonBorder"}:{},useAsImage:!u,borderRadius:"6",height:"28",src:i,width:"28"}),B.createElement(fe,null,B.createElement(fe,{style:{marginTop:l?-2:void 0},maxWidth:"200"},s),l&&B.createElement(Tt,{color:e?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},m.t("connect.recent")))))))};rhe.displayName="ModalSelection";var dDe="rk-latest-id";function hDe(n){localStorage.setItem(dDe,n)}var E5=(n,e=1)=>{let r=n.replace("#","");r.length===3&&(r=`${r[0]}${r[0]}${r[1]}${r[1]}${r[2]}${r[2]}`);const i=Number.parseInt(r.substring(0,2),16),s=Number.parseInt(r.substring(2,4),16),o=Number.parseInt(r.substring(4,6),16);return e>1&&e<=100&&(e=e/100),`rgba(${i},${s},${o},${e})`},fDe=n=>n?[E5(n,.2),E5(n,.14),E5(n,.1)]:null,pDe=n=>/^#([0-9a-f]{3}){1,2}$/i.test(n),ihe=async()=>(await ht(async()=>{const{default:n}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:n}},[])).default,mDe=()=>zl(ihe),gDe=()=>B.createElement(ki,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:ihe,width:"48"}),she=async()=>(await ht(async()=>{const{default:n}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:n}},[])).default,ohe=()=>zl(she),bDe=()=>B.createElement(ki,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:she,width:"48"}),ahe=async()=>(await ht(async()=>{const{default:n}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:n}},[])).default,yDe=()=>zl(ahe),vDe=()=>B.createElement(ki,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:ahe,width:"48"}),lhe=async()=>(await ht(async()=>{const{default:n}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:n}},[])).default,che=()=>zl(lhe),wDe=()=>B.createElement(ki,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:lhe,width:"48"}),xDe="_1vwt0cg0",_De="_1vwt0cg2 ju367v7a ju367v7v",kDe="_1vwt0cg3",SDe="_1vwt0cg4";function uhe({ecc:n="medium",logoBackground:e,logoSize:r=50,logoUrl:i,size:s=200,uri:o}){const a="20",l=s-Number.parseInt(a,10)*2,c=TC(i);return B.createElement(fe,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:xDe,padding:a,width:"max"},B.createElement(fe,{style:{height:l,userSelect:"none",width:l},userSelect:"none"},B.createElement(_l.Root,{errorCorrection:n,size:l,value:o},B.createElement(_l.Cells,{radius:1}),B.createElement(_l.Finder,{radius:.25}),c&&B.createElement(_l.Arena,null,B.createElement("img",{alt:"Wallet Logo",src:c,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:e}})))))}var dhe=async()=>{switch(E7()){case"Arc":return(await ht(async()=>{const{default:e}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:e}},[])).default;case"Brave":return(await ht(async()=>{const{default:e}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:e}},[])).default;case"Chrome":return(await ht(async()=>{const{default:e}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:e}},[])).default;case"Edge":return(await ht(async()=>{const{default:e}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:e}},[])).default;case"Firefox":return(await ht(async()=>{const{default:e}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:e}},[])).default;case"Opera":return(await ht(async()=>{const{default:e}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:e}},[])).default;case"Safari":return(await ht(async()=>{const{default:e}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:e}},[])).default;default:return(await ht(async()=>{const{default:e}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:e}},[])).default}},CDe=()=>zl(dhe),hhe=async()=>{switch(T7()){case"Windows":return(await ht(async()=>{const{default:e}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:e}},[])).default;case"macOS":return(await ht(async()=>{const{default:e}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:e}},[])).default;case"Linux":return(await ht(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default;default:return(await ht(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default}},EDe=()=>zl(hhe);function ADe({getWalletDownload:n,compactModeEnabled:e}){const i=ow().filter(o=>o.isRainbowKitConnector).splice(0,5),{i18n:s}=A.useContext(Yr);return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},i==null?void 0:i.filter(o=>{var a;return o.extensionDownloadUrl||o.desktopDownloadUrl||o.qrCode&&((a=o.downloadUrls)==null?void 0:a.qrCode)}).map(o=>{const{downloadUrls:a,iconBackground:l,iconUrl:c,id:u,name:d,qrCode:h}=o,f=(a==null?void 0:a.qrCode)&&h,p=!!o.extensionDownloadUrl,m=(a==null?void 0:a.qrCode)&&p,b=(a==null?void 0:a.qrCode)&&!!o.desktopDownloadUrl;return B.createElement(fe,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:o.id,width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(ki,{background:l,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:c,width:"48"}),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"2"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},d),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},m?s.t("get.mobile_and_extension.description"):b?s.t("get.mobile_and_desktop.description"):f?s.t("get.mobile.description"):p?s.t("get.extension.description"):null))),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(os,{label:s.t("get.action.label"),onClick:()=>n(u),type:"secondary"})))})),B.createElement(fe,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},s.t("get.looking_for.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},e?s.t("get.looking_for.desktop.compact_description"):s.t("get.looking_for.desktop.wide_description"))))}var A5="44";function TDe({changeWalletStep:n,compactModeEnabled:e,connectionError:r,onClose:i,qrCodeUri:s,reconnect:o,wallet:a}){const{downloadUrls:l,iconBackground:c,iconUrl:u,name:d,qrCode:h,ready:f,showWalletConnectModal:p,getDesktopUri:m}=a,b=!!m,y=C7(),{i18n:v}=A.useContext(Yr),w=!!a.extensionDownloadUrl,_=(l==null?void 0:l.qrCode)&&w,x=(l==null?void 0:l.qrCode)&&!!a.desktopDownloadUrl,k=h&&s,C=async()=>{const I=await(m==null?void 0:m());window.open(I,y?"_blank":"_self")},E=p?{description:e?v.t("connect.walletconnect.description.compact"):v.t("connect.walletconnect.description.full"),label:v.t("connect.walletconnect.open.label"),onClick:()=>{i(),p()}}:k?{description:v.t("connect.secondary_action.get.description",{wallet:d}),label:v.t("connect.secondary_action.get.label"),onClick:()=>n(_||x?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:T}=$de(),M=T&&T<768;return A.useEffect(()=>{CDe(),EDe()},[]),B.createElement(fe,{display:"flex",flexDirection:"column",height:"full",width:"full"},k?B.createElement(fe,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},B.createElement(uhe,{logoBackground:c,logoSize:e?60:72,logoUrl:u,size:e?318:M?Math.max(280,Math.min(T-308,382)):382,uri:s})):B.createElement(fe,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},B.createElement(fe,{borderRadius:"10",height:A5,overflow:"hidden"},B.createElement(ki,{useAsImage:!a.isRainbowKitConnector,height:A5,src:u,width:A5})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},B.createElement(Tt,{color:"modalText",size:"18",weight:"bold"},f?v.t("connect.status.opening",{wallet:d}):w?v.t("connect.status.not_installed",{wallet:d}):v.t("connect.status.not_available",{wallet:d})),!f&&w?B.createElement(fe,{paddingTop:"20"},B.createElement(os,{href:a.extensionDownloadUrl,label:v.t("connect.secondary_action.install.label"),type:"secondary"})):null,f&&!k&&B.createElement(B.Fragment,null,B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(Tt,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},v.t("connect.status.confirm"))),B.createElement(fe,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},r?B.createElement(os,{label:v.t("connect.secondary_action.retry.label"),onClick:async()=>{b&&C(),o(a)}}):B.createElement(fe,{color:"modalTextSecondary"},B.createElement(sw,null))))))),B.createElement(fe,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},f&&E&&B.createElement(B.Fragment,null,B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},E.description),B.createElement(os,{label:E.label,onClick:E.onClick,type:"secondary"}))))}var T5=({actionLabel:n,description:e,iconAccent:r,iconBackground:i,iconUrl:s,isCompact:o,onAction:a,title:l,url:c,variant:u})=>{const d=u==="browser",h=!d&&r&&fDe(r);return B.createElement(fe,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},B.createElement(fe,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),d&&B.createElement(fe,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},B.createElement(fe,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},B.createElement(fe,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},B.createElement(ki,{borderRadius:"full",height:"200",src:s,width:"200"})),B.createElement(fe,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},B.createElement(ki,{borderRadius:"full",height:"200",src:s,width:"200"})))),!d&&h&&B.createElement(fe,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},B.createElement(fe,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${h[0]} 0%, ${h[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),B.createElement(fe,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${h[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),B.createElement(fe,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},B.createElement(fe,null,B.createElement(ki,{height:"60",src:s,width:"60",...i?{background:i,borderColor:"generalBorder",borderRadius:"10"}:null})),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},l),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},e),B.createElement(fe,{marginTop:"14",width:"max"},B.createElement(os,{href:c,label:n,onClick:a,size:"medium"})))))};function PDe({changeWalletStep:n,wallet:e}){const r=E7(),i=T7(),o=A.useContext(PC)==="compact",{desktop:a,desktopDownloadUrl:l,extension:c,extensionDownloadUrl:u,mobileDownloadUrl:d}=e,{i18n:h}=A.useContext(Yr);return A.useEffect(()=>{ohe(),che(),yDe(),mDe()},[]),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},u&&B.createElement(T5,{actionLabel:h.t("get_options.extension.download.label",{browser:r}),description:h.t("get_options.extension.description"),iconUrl:dhe,isCompact:o,onAction:()=>n(c!=null&&c.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:h.t("get_options.extension.title",{wallet:e.name,browser:r}),url:u,variant:"browser"}),l&&B.createElement(T5,{actionLabel:h.t("get_options.desktop.download.label",{platform:i}),description:h.t("get_options.desktop.description"),iconUrl:hhe,isCompact:o,onAction:()=>n(a!=null&&a.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:h.t("get_options.desktop.title",{wallet:e.name,platform:i}),url:l,variant:"desktop"}),d&&B.createElement(T5,{actionLabel:h.t("get_options.mobile.download.label",{wallet:e.name}),description:h.t("get_options.mobile.description"),iconAccent:e.iconAccent,iconBackground:e.iconBackground,iconUrl:e.iconUrl,isCompact:o,onAction:()=>{n("DOWNLOAD")},title:h.t("get_options.mobile.title",{wallet:e.name}),variant:"app"})))}function IDe({changeWalletStep:n,wallet:e}){const{downloadUrls:r,qrCode:i}=e,{i18n:s}=A.useContext(Yr);return A.useEffect(()=>{ohe(),che()},[]),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},B.createElement(fe,{style:{maxWidth:220,textAlign:"center"}},B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"semibold"},s.t("get_mobile.description"))),B.createElement(fe,{height:"full"},r!=null&&r.qrCode?B.createElement(uhe,{logoSize:0,size:268,uri:r.qrCode}):null),B.createElement(fe,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},B.createElement(os,{label:s.t("get_mobile.continue.label"),onClick:()=>n(i!=null&&i.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var Hc={connect:()=>B.createElement(gDe,null),create:()=>B.createElement(bDe,null),install:n=>B.createElement(ki,{background:n.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:n.iconUrl,width:"48"}),refresh:()=>B.createElement(vDe,null),scan:()=>B.createElement(wDe,null)};function MDe({connectWallet:n,wallet:e}){var i,s,o,a;const{i18n:r}=A.useContext(Yr);return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(s=(i=e==null?void 0:e.qrCode)==null?void 0:i.instructions)==null?void 0:s.steps.map((l,c)=>{var u;return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:c},B.createElement(fe,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(u=Hc[l.step])==null?void 0:u.call(Hc,e)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},r.t(l.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},r.t(l.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(os,{label:r.t("get_instructions.mobile.connect.label"),onClick:()=>n(e)}),B.createElement(fe,{as:"a",className:Ei({active:"shrink",hover:"grow"}),display:"block",href:(a=(o=e==null?void 0:e.qrCode)==null?void 0:o.instructions)==null?void 0:a.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},r.t("get_instructions.mobile.learn_more.label")))))}function ODe({wallet:n}){var r,i,s,o;const{i18n:e}=A.useContext(Yr);return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(i=(r=n==null?void 0:n.extension)==null?void 0:r.instructions)==null?void 0:i.steps.map((a,l)=>{var c;return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:l},B.createElement(fe,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(c=Hc[a.step])==null?void 0:c.call(Hc,n)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},e.t(a.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},e.t(a.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(os,{label:e.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),B.createElement(fe,{as:"a",className:Ei({active:"shrink",hover:"grow"}),display:"block",href:(o=(s=n==null?void 0:n.extension)==null?void 0:s.instructions)==null?void 0:o.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},e.t("get_instructions.extension.learn_more.label")))))}function DDe({connectWallet:n,wallet:e}){var i,s,o,a;const{i18n:r}=A.useContext(Yr);return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(s=(i=e==null?void 0:e.desktop)==null?void 0:i.instructions)==null?void 0:s.steps.map((l,c)=>{var u;return B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:c},B.createElement(fe,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(u=Hc[l.step])==null?void 0:u.call(Hc,e)),B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Tt,{color:"modalText",size:"14",weight:"bold"},r.t(l.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},r.t(l.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(os,{label:r.t("get_instructions.desktop.connect.label"),onClick:()=>n(e)}),B.createElement(fe,{as:"a",className:Ei({active:"shrink",hover:"grow"}),display:"block",href:(a=(o=e==null?void 0:e.desktop)==null?void 0:o.instructions)==null?void 0:a.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},r.t("get_instructions.desktop.learn_more.label")))))}function RDe({onClose:n}){const e="rk_connect_title",[r,i]=A.useState(),[s,o]=A.useState(),[a,l]=A.useState(),c=!!(s!=null&&s.qrCode)&&a,[u,d]=A.useState(!1),f=A.useContext(PC)===mx.COMPACT,{disclaimer:p}=A.useContext(fx),{i18n:m}=A.useContext(Yr),b=C7(),y=A.useRef(!1),{connector:v}=A.useContext(px),_=ow(!v).filter(G=>G.ready||!!G.extensionDownloadUrl).sort((G,X)=>G.groupIndex-X.groupIndex),x=ow(),k=sDe(_,G=>G.groupName),C=["Recommended","Other","Popular","More","Others","Installed"];A.useEffect(()=>{v&&!y.current&&($("CONNECT"),I(v),y.current=!0)},[v]);const E=G=>{var X,ae;d(!1),G.ready&&((ae=(X=G==null?void 0:G.connect)==null?void 0:X.call(G))==null||ae.catch(()=>{d(!0)}))},T=async G=>{const X=_.find(ae=>G.id===ae.id);X!=null&&X.getDesktopUri&&setTimeout(async()=>{var be;const ae=await((be=X==null?void 0:X.getDesktopUri)==null?void 0:be.call(X));ae&&window.open(ae,b?"_blank":"_self")},0)},M=async G=>{var be;const X=_.find(le=>G.id===le.id),ae=await((be=X==null?void 0:X.getQrCodeUri)==null?void 0:be.call(X));l(ae),setTimeout(()=>{o(X),$("CONNECT")},ae?0:50)},I=async G=>{hDe(G.id),G.ready&&(M(G),T(G)),E(G),i(G.id),G.ready||(o(G),$(G!=null&&G.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},O=G=>{var J;const X=x.find(xe=>G===xe.id),ae=(J=X==null?void 0:X.downloadUrls)==null?void 0:J.qrCode,be=!!(X!=null&&X.desktopDownloadUrl),le=!!(X!=null&&X.extensionDownloadUrl);o(X),$(ae&&(le||be)?"DOWNLOAD_OPTIONS":ae?"DOWNLOAD":be?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},F=()=>{i(void 0),o(void 0),l(void 0)},$=(G,X=!1)=>{X&&G==="GET"&&z==="GET"?F():!X&&G==="GET"?D("GET"):!X&&G==="CONNECT"&&D("CONNECT"),N(G)},[z,D]=A.useState("NONE"),[j,N]=A.useState("NONE");let R=null,H=null,U=null,K;A.useEffect(()=>{d(!1)},[j,s]);const Z=!!(!!(s!=null&&s.extensionDownloadUrl)&&(s!=null&&s.mobileDownloadUrl));switch(j){case"NONE":R=B.createElement(NU,{getWallet:()=>$("GET")});break;case"LEARN_COMPACT":R=B.createElement(NU,{compactModeEnabled:f,getWallet:()=>$("GET")}),H=m.t("intro.title"),U="NONE";break;case"GET":R=B.createElement(ADe,{getWalletDownload:O,compactModeEnabled:f}),H=m.t("get.title"),U=f?"LEARN_COMPACT":"NONE";break;case"CONNECT":R=s&&B.createElement(TDe,{changeWalletStep:$,compactModeEnabled:f,connectionError:u,onClose:n,qrCodeUri:a,reconnect:E,wallet:s}),H=c&&(s.name==="WalletConnect"?m.t("connect_scan.fallback_title"):m.t("connect_scan.title",{wallet:s.name})),U=f?v?null:"NONE":null,K=f?v?()=>{}:F:()=>{};break;case"DOWNLOAD_OPTIONS":R=s&&B.createElement(PDe,{changeWalletStep:$,wallet:s}),H=s&&m.t("get_options.short_title",{wallet:s.name}),U=v?"CONNECT":f?"NONE":z;break;case"DOWNLOAD":R=s&&B.createElement(IDe,{changeWalletStep:$,wallet:s}),H=s&&m.t("get_mobile.title",{wallet:s.name}),U=Z?"DOWNLOAD_OPTIONS":z;break;case"INSTRUCTIONS_MOBILE":R=s&&B.createElement(MDe,{connectWallet:I,wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":R=s&&B.createElement(ODe,{wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":R=s&&B.createElement(DDe,{connectWallet:I,wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD_OPTIONS";break}return B.createElement(fe,{display:"flex",flexDirection:"row",style:{maxHeight:f?468:504}},(f?j==="NONE":!0)&&B.createElement(fe,{className:f?SDe:kDe,display:"flex",flexDirection:"column",marginTop:"16"},B.createElement(fe,{display:"flex",justifyContent:"space-between"},f&&p&&B.createElement(fe,{marginLeft:"16",width:"28"},B.createElement(aDe,{onClick:()=>$("LEARN_COMPACT")})),f&&!p&&B.createElement(fe,{marginLeft:"16",width:"28"}),B.createElement(fe,{marginLeft:f?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},B.createElement(Tt,{as:"h1",color:"modalText",id:e,size:"18",weight:"heavy",testId:"connect-header-label"},m.t("connect.title"))),f&&B.createElement(fe,{marginRight:"16"},B.createElement(Yf,{onClose:n}))),B.createElement(fe,{className:_De,paddingBottom:"18"},Object.entries(k).map(([G,X],ae)=>X.length>0&&B.createElement(A.Fragment,{key:ae},G?B.createElement(fe,{marginBottom:"8",marginTop:"16",marginX:"6"},B.createElement(Tt,{color:G==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},C.includes(G)?m.t(`connector_group.${G.toLowerCase()}`):G)):null,B.createElement(fe,{display:"flex",flexDirection:"column",gap:"4"},X.map(be=>B.createElement(rhe,{currentlySelected:be.id===r,iconBackground:be.iconBackground,iconUrl:be.iconUrl,key:be.id,name:be.name,onClick:()=>I(be),ready:be.ready,recent:be.recent,testId:`wallet-option-${be.id}`,isRainbowKitConnector:be.isRainbowKitConnector})))))),f&&B.createElement(B.Fragment,null,B.createElement(fe,{background:"generalBorder",height:"1",marginTop:"-1"}),p?B.createElement(fe,{paddingX:"24",paddingY:"16",textAlign:"center"},B.createElement(p,{Link:I7,Text:M7})):B.createElement(fe,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},B.createElement(fe,{paddingY:"4"},B.createElement(Tt,{color:"modalTextSecondary",size:"14",weight:"medium"},m.t("connect.new_to_ethereum.description"))),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},B.createElement(fe,{className:Ei({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>$("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},B.createElement(Tt,{color:"accentColor",size:"14",weight:"bold"},m.t("connect.new_to_ethereum.learn_more.label"))))))),(f?j!=="NONE":!0)&&B.createElement(B.Fragment,null,!f&&B.createElement(fe,{background:"generalBorder",minWidth:"1",width:"1"}),B.createElement(fe,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},B.createElement(fe,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},B.createElement(fe,{width:"28"},U&&B.createElement(fe,{as:"button",className:Ei({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{U&&$(U,!0),K==null||K()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(the,null))),B.createElement(fe,{display:"flex",justifyContent:"center",style:{flexGrow:1}},H&&B.createElement(Tt,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},H)),B.createElement(Yf,{onClose:n})),B.createElement(fe,{display:"flex",flexDirection:"column",style:{minHeight:f?396:432}},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},R)))))}var NDe="_1am14412",jDe="_1am14410",BDe="_1am14413",LDe=({wallet:n})=>B.createElement("svg",{className:BDe,viewBox:"0 0 86 86",width:"86",height:"86"},B.createElement("title",null,"Loading"),B.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:NDe,style:{stroke:(n==null?void 0:n.iconAccent)||"#0D3887"}}));function fhe({onClose:n,wallet:e,connecting:r}){const{connect:i,iconBackground:s,iconUrl:o,id:a,name:l,getMobileUri:c,ready:u,shortName:d,showWalletConnectModal:h}=e,f=nhe(o),p=A.useRef(!1),{i18n:m}=A.useContext(Yr),b=A.useCallback(async()=>{if(a!=="walletConnect"&&(async()=>{const v=await(c==null?void 0:c());if(v)if(v&&SOe({mobileUri:v,name:l}),v.startsWith("http")){const w=document.createElement("a");w.href=v,w.target="_blank",w.rel="noreferrer noopener",w.click()}else window.location.href=v})(),h){h(),n==null||n();return}try{await(i==null?void 0:i())}catch{}},[i,c,h,n,l,a]);return A.useEffect(()=>{r&&!p.current&&(b(),p.current=!0)},[r,b]),B.createElement(fe,{as:"button",color:u?"modalText":"modalTextSecondary",disabled:!u,fontFamily:"body",key:a,onClick:b,ref:f,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${a}`,type:"button",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(fe,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},r?B.createElement(LDe,{wallet:e}):null,B.createElement(ki,{background:s,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),r?null:B.createElement(fe,{display:"flex",flexDirection:"column",textAlign:"center"},B.createElement(Tt,{as:"h2",color:e.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},B.createElement(fe,{as:"span",position:"relative"},d??l,!e.ready&&" (unsupported)")),e.recent&&B.createElement(Tt,{color:"accentColor",size:"12",weight:"medium"},m.t("connect.recent")))))}function FDe({onClose:n}){var p;const e="rk_connect_title",r=ow().filter(m=>m.isRainbowKitConnector),{disclaimer:i,learnMoreUrl:s}=A.useContext(fx);let o=null,a=null,l=!1,c=null;const[u,d]=A.useState("CONNECT"),{i18n:h}=A.useContext(Yr),f=hx();switch(u){case"CONNECT":{o=h.t("connect.title"),l=!0,a=B.createElement(fe,null,B.createElement(fe,{background:"profileForeground",className:jDe,display:"flex",paddingBottom:"20",paddingTop:"6",paddingX:"20",style:{gap:"calc((100% - 40px - 240px + 47px) / 4)"}},r.filter(m=>m.ready).map(m=>B.createElement(fe,{key:m.id,width:"60"},B.createElement(fhe,{onClose:n,wallet:m})))),B.createElement(fe,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},B.createElement(Tt,{color:"modalText",size:"16",weight:"bold"},h.t("intro.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"16"},h.t("intro.description")))),B.createElement(fe,{paddingTop:"32",paddingX:"20"},B.createElement(fe,{display:"flex",gap:"14",justifyContent:"center"},B.createElement(os,{label:h.t("intro.get.label"),onClick:()=>d("GET"),size:"large",type:"secondary"}),B.createElement(os,{href:s,label:h.t("intro.learn_more.label"),size:"large",type:"secondary"}))),i&&B.createElement(fe,{marginTop:"28",marginX:"32",textAlign:"center"},B.createElement(i,{Link:I7,Text:M7})));break}case"GET":{o=h.t("get.title"),c="CONNECT";const m=(p=r==null?void 0:r.filter(b=>{var y,v,w;return((y=b.downloadUrls)==null?void 0:y.ios)||((v=b.downloadUrls)==null?void 0:v.android)||((w=b.downloadUrls)==null?void 0:w.mobile)}))==null?void 0:p.splice(0,3);a=B.createElement(fe,null,B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},m.map((b,y)=>{const{downloadUrls:v,iconBackground:w,iconUrl:_,name:x}=b;return!(v!=null&&v.ios)&&!(v!=null&&v.android)&&!(v!=null&&v.mobile)?null:B.createElement(fe,{display:"flex",gap:"16",key:b.id,paddingX:"20",width:"full"},B.createElement(fe,{style:{minHeight:48,minWidth:48}},B.createElement(ki,{background:w,borderColor:"generalBorder",borderRadius:"10",height:"48",src:_,width:"48"})),B.createElement(fe,{display:"flex",flexDirection:"column",width:"full"},B.createElement(fe,{alignItems:"center",display:"flex",height:"48"},B.createElement(fe,{width:"full"},B.createElement(Tt,{color:"modalText",size:"18",weight:"bold"},x)),B.createElement(os,{href:(f?v==null?void 0:v.ios:v==null?void 0:v.android)||(v==null?void 0:v.mobile),label:h.t("get.action.label"),size:"small",type:"secondary"})),y<m.length-1&&B.createElement(fe,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),B.createElement(fe,{style:{marginBottom:"42px"}}),B.createElement(fe,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},B.createElement(fe,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},B.createElement(Tt,{color:"modalText",size:"16",weight:"bold"},h.t("get.looking_for.title")),B.createElement(Tt,{color:"modalTextSecondary",size:"16"},h.t("get.looking_for.mobile.description")))));break}}return B.createElement(fe,{display:"flex",flexDirection:"column",paddingBottom:"36"},B.createElement(fe,{background:l?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},B.createElement(fe,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},c&&B.createElement(fe,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},B.createElement(fe,{alignItems:"center",as:"button",className:Ei({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>d(c),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(the,null))),B.createElement(fe,{marginTop:"4",textAlign:"center",width:"full"},B.createElement(Tt,{as:"h1",color:"modalText",id:e,size:"20",weight:"bold"},o)),B.createElement(fe,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},B.createElement(fe,{style:{marginBottom:-20,marginTop:-20}},B.createElement(Yf,{onClose:n}))))),B.createElement(fe,{display:"flex",flexDirection:"column"},a))}var $De=({onClose:n})=>{const{connector:e}=A.useContext(px),{i18n:r}=A.useContext(Yr),i=(e==null?void 0:e.name)||"";return B.createElement(fe,null,B.createElement(fe,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},B.createElement(fe,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},B.createElement(Yf,{onClose:n})),B.createElement(fe,{width:"60"},B.createElement(fhe,{onClose:n,wallet:e,connecting:!0})),B.createElement(fe,{marginTop:"20"},B.createElement(Tt,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},r.t("connect.status.connect_mobile",{wallet:i}))),B.createElement(fe,{maxWidth:"full",marginTop:"8"},B.createElement(Tt,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},r.t("connect.status.confirm_mobile",{wallet:i})))))};function zDe({onClose:n}){const{connector:e}=A.useContext(px);return Hr()?e?B.createElement($De,{onClose:n}):B.createElement(FDe,{onClose:n}):B.createElement(RDe,{onClose:n})}function UDe({onClose:n,open:e}){const r="rk_connect_title",i=Sde(),{disconnect:s}=dx(),{isConnecting:o}=Ci(),a=B.useCallback(()=>{n(),s()},[n,s]),l=B.useCallback(()=>{o&&s(),n()},[n,s,o]);return i==="disconnected"?B.createElement(AS,{onClose:l,open:e,titleId:r},B.createElement(TS,{bottomSheetOnMobile:!0,padding:"0",wide:!0},B.createElement(zDe,{onClose:l}))):i==="unauthenticated"?B.createElement(AS,{onClose:a,open:e,titleId:r},B.createElement(TS,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(_Oe,{onClose:a,onCloseModal:n}))):null}function P5(){const[n,e]=A.useState(!1);return{closeModal:A.useCallback(()=>e(!1),[]),isModalOpen:n,openModal:A.useCallback(()=>e(!0),[])}}var K0=A.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function WDe({children:n}){const{closeModal:e,isModalOpen:r,openModal:i}=P5(),{closeModal:s,isModalOpen:o,openModal:a}=P5(),{closeModal:l,isModalOpen:c,openModal:u}=P5(),[d,h]=A.useState(!1),f=Sde(),{chainId:p}=Ci(),{chains:m}=Gr(),b=m.some(w=>w.id===p),y=A.useCallback(({keepConnectModalOpen:w=!1}={})=>{w||e(),s(),l()},[e,s,l]),v=AC()==="unauthenticated";return Fue({onConnect:()=>y({keepConnectModalOpen:v}),onDisconnect:()=>y()}),A.useEffect(()=>{v&&y()},[v,y]),B.createElement(K0.Provider,{value:A.useMemo(()=>({accountModalOpen:o,chainModalOpen:c,connectModalOpen:r,isWalletConnectModalOpen:d,openAccountModal:b&&f==="connected"?a:void 0,openChainModal:f==="connected"?u:void 0,openConnectModal:f==="disconnected"||f==="unauthenticated"?i:void 0,setIsWalletConnectModalOpen:h}),[f,o,c,r,a,u,i,b,d])},n,B.createElement(UDe,{onClose:e,open:r}),B.createElement(QOe,{onClose:s,open:o}),B.createElement(iDe,{onClose:l,open:c}))}function qDe(){const{accountModalOpen:n,chainModalOpen:e,connectModalOpen:r}=A.useContext(K0);return{accountModalOpen:n,chainModalOpen:e,connectModalOpen:r}}function HDe(){const{accountModalOpen:n,openAccountModal:e}=A.useContext(K0);return{accountModalOpen:n,openAccountModal:e}}function VDe(){const{chainModalOpen:n,openChainModal:e}=A.useContext(K0);return{chainModalOpen:n,openChainModal:e}}function phe(){const{isWalletConnectModalOpen:n,setIsWalletConnectModalOpen:e}=A.useContext(K0);return{isWalletConnectModalOpen:n,setIsWalletConnectModalOpen:e}}function GDe(){const{connectModalOpen:n,openConnectModal:e}=A.useContext(K0),{isWalletConnectModalOpen:r}=phe();return{connectModalOpen:n||r,openConnectModal:e}}var I5=()=>{};function YDe({children:n}){const e=TMe(),{address:r}=Ci(),{chainId:i}=Ci(),{chains:s}=Gr(),o=s.some(F=>F.id===i),a=CMe(),l=AC()??void 0,c=i?a[i]:void 0,u=(c==null?void 0:c.name)??void 0,d=(c==null?void 0:c.iconUrl)??void 0,h=(c==null?void 0:c.iconBackground)??void 0,f=TC(d),p=A.useContext(S7),m=Bde().some(({status:F})=>F==="pending")&&p,{showBalance:b}=AMe(),v=typeof b=="boolean"?b:b?qIe(b)[Hr()?"smallScreen":"largeScreen"]:!0,{balance:w,ensAvatar:_,ensName:x}=Dde({address:r,includeBalance:v}),k=w?`${Xde(Number.parseFloat(w.formatted))} ${w.symbol}`:void 0,{openConnectModal:C}=GDe(),{openChainModal:E}=VDe(),{openAccountModal:T}=HDe(),{accountModalOpen:M,chainModalOpen:I,connectModalOpen:O}=qDe();return B.createElement(B.Fragment,null,n({account:r?{address:r,balanceDecimals:w==null?void 0:w.decimals,balanceFormatted:w==null?void 0:w.formatted,balanceSymbol:w==null?void 0:w.symbol,displayBalance:k,displayName:x?Jde(x):Qde(r),ensAvatar:_??void 0,ensName:x??void 0,hasPendingTransactions:m}:void 0,accountModalOpen:M,authenticationStatus:l,chain:i?{hasIcon:!!d,iconBackground:h,iconUrl:f,id:i,name:u,unsupported:!o}:void 0,chainModalOpen:I,connectModalOpen:O,mounted:e(),openAccountModal:T??I5,openChainModal:E??I5,openConnectModal:C??I5}))}YDe.displayName="ConnectButton.Custom";var mhe=({appName:n,appDescription:e,appUrl:r,appIcon:i})=>({name:n,description:e??n,url:r??(typeof window<"u"?window.location.origin:""),icons:[...i?[i]:[]]});function KDe(n){return Object.fromEntries(Object.entries(n).filter(([e,r])=>r!==void 0))}function XDe(n,e){const r=[];for(const i of n)r.some(s=>s[e]===i[e])||r.push(i);return r}var QDe=(n,{projectId:e,walletConnectParameters:r,appName:i,appDescription:s,appUrl:o,appIcon:a})=>{if(!n.length)throw new Error("No wallet list was provided");for(const{wallets:p,groupName:m}of n)if(!p.length)throw new Error(`No wallets provided for group: ${m}`);let l=-1;const c=[],u=[],d=[],h=mhe({appName:i,appDescription:s,appUrl:o,appIcon:a});for(const[p,{groupName:m,wallets:b}]of n.entries())for(const y of b){l++;const v=y({projectId:e,appName:i,appIcon:a,options:{metadata:h,...r},walletConnectParameters:{metadata:h,...r}});if(v!=null&&v.iconAccent&&!pDe(v==null?void 0:v.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${v.name}`);const w={...v,groupIndex:p+1,groupName:m,index:l};typeof v.hidden=="function"?d.push(w):u.push(w)}const f=XDe([...u,...d],"id");for(const{createConnector:p,groupIndex:m,groupName:b,hidden:y,...v}of f){if(typeof y=="function"&&y())continue;const w=k=>({rkDetails:KDe({...v,groupIndex:m,groupName:b,isRainbowKitConnector:!0,...k||{}})});v.id==="walletConnect"&&c.push(p(w({isWalletConnectModalConnector:!0,showQrModal:!0})));const x=p(w());c.push(x)}return c},BU=new Map,JDe=({projectId:n,walletConnectParameters:e,rkDetailsShowQrModal:r,rkDetailsIsWalletConnectModalConnector:i})=>{let s={telemetryEnabled:!1,...e||{},projectId:n,showQrModal:!1};r&&(s={...s,showQrModal:!0}),"customStoragePrefix"in s||(s={...s,customStoragePrefix:i?"clientOne":"clientTwo"});const o=JSON.stringify(s),a=BU.get(o);if(a)return a;const l=x7(s);return BU.set(o,l),l};function ZDe({projectId:n,walletDetails:e,walletConnectParameters:r}){return i=>({...JDe({projectId:n,walletConnectParameters:r,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(i),...e})}function O7({projectId:n,walletConnectParameters:e}){const r="21fef48091f12692cad574a6f7753643";if(!n||n==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return n==="YOUR_PROJECT_ID"&&(n=r),i=>ZDe({projectId:n,walletDetails:i,walletConnectParameters:e})}function ghe(n){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const r=e.ethereum.providers;return r?r.find(i=>i[n]):e.ethereum[n]?e.ethereum:void 0}function bhe(n){const e=(r,i)=>{const[s,...o]=i.split("."),a=r[s];if(a)return o.length===0?a:e(a,o.join("."))};if(typeof window<"u")return e(window,n)}function e8e({flag:n,namespace:e}){return!!(e&&typeof bhe(e)<"u"||typeof ghe(n)<"u")}function t8e({flag:n,namespace:e}){var s;const r=typeof window<"u"?window:void 0;if(typeof r>"u")return;if(e){const o=bhe(e);if(o)return o}const i=(s=r.ethereum)==null?void 0:s.providers;{const o=ghe(n);if(o)return o}return typeof i<"u"&&i.length>0?i[0]:r.ethereum}function n8e(n){return e=>{const r=n?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:n})}:{};return i=>({...cx(r)(i),...e})}}function r8e({flag:n,namespace:e,target:r}){const i=r||t8e({flag:n,namespace:e});return n8e(i)}var yhe=({appName:n,appIcon:e})=>{const{preference:r,...i}=yhe;return{id:"baseAccount",name:"Base Account",shortName:"Base Account",rdns:"app.base.account",iconUrl:async()=>(await ht(async()=>{const{default:s}=await import("./baseAccount-44UITRK7-CsjdbWCf.js");return{default:s}},[])).default,iconAccent:"#0000FF",iconBackground:"#0000FF",installed:!0,createConnector:s=>{const o=UIe({appName:n,appLogoUrl:e,...i,preference:{telemetry:!1,...r||{}}});return a=>({...o(a),...s})}}};function i8e(n){return!(!(n!=null&&n.isMetaMask)||n.isBraveWallet&&!n._events&&!n._state||n.isApexWallet||n.isAvalanche||n.isBackpack||n.isBifrost||n.isBitKeep||n.isBitski||n.isBinance||n.isBlockWallet||n.isCoinbaseWallet||n.isDawn||n.isEnkrypt||n.isExodus||n.isFrame||n.isFrontier||n.isGamestop||n.isHyperPay||n.isImToken||n.isKuCoinWallet||n.isMathWallet||n.isNestWallet||n.isOkxWallet||n.isOKExWallet||n.isOneInchIOSWallet||n.isOneInchAndroidWallet||n.isOpera||n.isPhantom||n.isZilPay||n.isPortal||n.isxPortal||n.isRabby||n.isRainbow||n.isStatus||n.isTalisman||n.isTally||n.isTokenPocket||n.isTokenary||n.isTrust||n.isTrustWallet||n.isCTRL||n.isZeal||n.isCoin98||n.isMEWwallet||n.isSafeheron||n.isSafePal||n.isWigwam||n.isZerion||n.__seif)}var vhe=({projectId:n,walletConnectParameters:e})=>{const{...r}=vhe,i=typeof window<"u"?i8e(window.ethereum):!1,s=!i&&!Hr(),o=i||Hr();return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await ht(async()=>{const{default:a}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:a}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:i||void 0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:o?a=>a:void 0},qrCode:s?{getUri:a=>`https://metamask.app.link/wc?uri=${encodeURIComponent(a)}`,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:s?O7({projectId:n,walletConnectParameters:e}):a=>l=>{var u,d,h;const c=v7({dappMetadata:{connector:"rainbowkit",name:(u=e==null?void 0:e.metadata)==null?void 0:u.name,iconUrl:(d=e==null?void 0:e.metadata)==null?void 0:d.icons[0],url:(h=e==null?void 0:e.metadata)==null?void 0:h.url},headless:!0,checkInstallationImmediately:!1,enableAnalytics:!1,...r})(l);return{...c,...a,getChainId:async()=>{var f;try{return await c.getChainId()}catch{return((f=l.chains[0])==null?void 0:f.id)??1}}}}}},s8e=({projectId:n,walletConnectParameters:e})=>{const r=e8e({flag:"isRainbow"}),i=!r,s=o=>Cde()?o:hx()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await ht(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:i?void 0:r,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:i?s:void 0},qrCode:i?{getUri:s,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:i?O7({projectId:n,walletConnectParameters:e}):r8e({flag:"isRainbow"})}},o8e=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await ht(async()=>{const{default:n}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:n}},[])).default,installed:!(typeof window>"u")&&(window==null?void 0:window.parent)!==window,downloadUrls:{},createConnector:n=>e=>({...w7()(e),...n})}),a8e=({projectId:n,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await ht(async()=>{const{default:i}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:i}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:i=>i},createConnector:O7({projectId:n,walletConnectParameters:e})}),l8e=n=>n.reduce((r,i)=>{const s=i.id;return r[s]=bR(),r},{}),c8e=({appName:n,appDescription:e,appUrl:r,appIcon:i,wallets:s,projectId:o,walletConnectParameters:a,...l})=>{const{transports:c,chains:u,...d}=l,h=mhe({appName:n,appDescription:e,appUrl:r,appIcon:i}),f=QDe(s||[{groupName:"Popular",wallets:[o8e,s8e,yhe,vhe,a8e]}],{projectId:o,appName:n,appDescription:e,appUrl:r,appIcon:i,walletConnectParameters:{metadata:h,...a}});return Iue({connectors:f,chains:u,transports:c||l8e(u),...d})};class IC{constructor(e,r=3,i=3e4){Be(this,"baseURL");Be(this,"timeout");Be(this,"maxRetries");this.baseURL=e.replace(/\/$/,""),this.maxRetries=r,this.timeout=i}async do(e){const r=Date.now();let i=null;for(let s=1;s<=this.maxRetries;s++)try{return{...await this.doRequest(e),duration:Date.now()-r}}catch(o){if(i=o,this.isNonceError(o))throw o;if(s<this.maxRetries){const a=s*1e3;await this.delay(a)}}throw new Error(`Request failed after ${this.maxRetries} attempts: ${i==null?void 0:i.message}`)}async doRequest(e){const r=`${this.baseURL}${e.path}`,i={"Content-Type":"application/json",Accept:"application/json, */*",...e.headers},s={method:e.method,headers:i,signal:AbortSignal.timeout(this.timeout)};e.body&&e.method!=="GET"?s.body=JSON.stringify(e.body):e.method==="GET"&&(s.body=void 0);const o=await fetch(r,s);let a;const l=o.headers.get("content-type");if(l!=null&&l.includes("application/json"))try{a=await o.json()}catch{a=await o.text()}else a=await o.text();if(o.status>=400)throw new Error(`HTTP ${o.status}: ${JSON.stringify(a)}`);return{statusCode:o.status,body:a,headers:o.headers}}isNonceError(e){const r=(e==null?void 0:e.message)||"";return r.toLowerCase().includes("nonce")||r.includes("InvalidNonce")||r.includes("NonceError")}delay(e){return new Promise(r=>setTimeout(r,e))}async get(e,r){return this.do({method:"GET",path:e,headers:r})}async post(e,r,i){return this.do({method:"POST",path:e,body:r,headers:i})}async put(e,r,i){return this.do({method:"PUT",path:e,body:r,headers:i})}async delete(e,r){return this.do({method:"DELETE",path:e,headers:r})}getBaseURL(){return this.baseURL}setTimeout(e){this.timeout=e}getTimeout(){return this.timeout}}const jd=1e8;function _n(n){const e=typeof n=="string"?parseFloat(n):n;if(isNaN(e))throw new Error(`Invalid value for satoshi conversion: ${n}`);if(e<0)throw new Error(`Negative values not allowed for satoshi conversion: ${n}`);return BigInt(Math.floor(e*jd)).toString()}function It(n){const e=BigInt(n),r=BigInt(jd),i=e/r,s=e%r;return Number(i)+Number(s)/jd}function D7(n){if(n<0)throw new Error(`Negative values not allowed: ${n}`);return Math.floor(n*jd)}function OR(n){try{return BigInt(n)>=0n}catch{return!1}}function whe(n){return n.map(_n)}function xhe(n){return n.map(e=>It(typeof e=="string"?e:String(e)))}function DR(n){return`0x${(typeof n=="string"?parseInt(n,10):n).toString(16)}`}function Ft(n){if(n==null||n==="")return 0;if(typeof n=="string"||typeof n=="number")try{return It(typeof n=="string"?n:String(n))}catch{return 0}return 0}function u8e(n){if(n==null||n==="")return 0;try{if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?0:e}return typeof n=="number"?isNaN(n)?0:n:0}catch{return 0}}function PS(n){if(n==null||n==="")return BigInt(0);try{const e=typeof n=="string"?n:String(n);return e.trim()===""||isNaN(Number(e))?BigInt(0):BigInt(e)}catch{return BigInt(0)}}function d8e(n){return n===0?"":n.toFixed(6).replace(/\.?0+$/,"")}let Lb={instance:null,module:null},h8e=null;async function _he(){try{if(window.Go)console.log("wasm_exec.js already loaded");else{console.log("Loading wasm_exec.js...");const l=["/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.21.0/misc/wasm/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.20.0/misc/wasm/wasm_exec.js","https://unpkg.com/@go-wasm/wasm_exec@latest/wasm_exec.js"];let c=!1,u=null;for(const d of l)try{console.log(`Trying to load wasm_exec.js from: ${d}`),await new Promise((h,f)=>{const p=document.createElement("script");p.src=d,p.async=!0,p.onload=()=>{console.log(`Successfully loaded wasm_exec.js from: ${d}`),h()},p.onerror=()=>{f(new Error(`Failed to load from ${d}`))},document.head.appendChild(p)}),c=!0;break}catch(h){console.warn(`Failed to load from ${d}:`,h==null?void 0:h.message),u=h,document.head.querySelectorAll(`script[src="${d}"]`).forEach(p=>p.remove())}if(!c)throw new Error(`Failed to load wasm_exec.js from all sources. Last error: ${(u==null?void 0:u.message)||"Unknown error"}. Please ensure wasm_exec.js is available. You can download it from: https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js`);console.log("wasm_exec.js loaded successfully")}const n=window.Go;if(!n)throw new Error("Go runtime not available. Make sure wasm_exec.js is loaded.");console.log("Go runtime available");const e=new n;h8e=e,console.log("Go instance created");const r="/morm_signer.wasm";console.log("Loading WASM from:",r);let i;try{const l=await fetch(r);if(console.log("WASM fetch response:",{status:l.status,statusText:l.statusText,ok:l.ok,url:l.url}),!l.ok){const c=await l.text().catch(()=>"Unable to read error response");throw new Error(`Failed to load WASM from ${r}: ${l.status} ${l.statusText}. Make sure the morm_signer.wasm file is available in the public directory.`)}i=await l.arrayBuffer(),console.log("WASM file loaded successfully, size:",i.byteLength,"bytes")}catch(l){throw console.error("WASM fetch failed:",l),new Error(`Failed to fetch WASM file: ${(l==null?void 0:l.message)||l}. The file should be accessible at ${window.location.origin}${r}`)}console.log("Instantiating WASM module...");let s;try{s=await WebAssembly.instantiate(i,e.importObject),console.log("WASM module instantiated successfully")}catch(l){throw console.error("Failed to instantiate WASM:",l),new Error(`Failed to instantiate WASM module: ${(l==null?void 0:l.message)||l}. The WASM file may be corrupted or incompatible.`)}Lb.instance=s.instance,Lb.module=s.module,console.log("Running Go program...");try{e.run(Lb.instance),console.log("Go program started (run() completed)")}catch(l){throw console.error("Failed to run Go program:",l),new Error(`Failed to run Go program: ${(l==null?void 0:l.message)||l}. The WASM module may not be compatible with the current Go runtime.`)}console.log("Waiting for Go initialization and function exports...");const o=10;let a=[];for(let l=1;l<=o;l++){const c=Math.min(l*200,2e3);await new Promise(d=>setTimeout(d,c));const u=Object.keys(window).filter(d=>typeof window[d]=="function");if(a=u.filter(d=>d.startsWith("morm")||d.startsWith("derive")||d.startsWith("generate")||d.startsWith("Generate")||d.startsWith("verify")||d.startsWith("map")||d.startsWith("validate")||d==="GetSupportedSignatureTypes"||d==="IsSignatureTypeSupported"),console.log(`Attempt ${l}/${o}:`,{waitTime:`${c}ms`,allWindowFunctions:u.length,exportedFunctions:a,sampleWindowKeys:u.slice(0,20)}),a.length>0){console.log(" Go functions found!",a);break}l===o&&(console.warn(" No expected functions found. All window functions:",u.sort()),console.warn(" Check if functions are exported with different names or if there are Go runtime errors"))}if(a.length===0){const l=[],c=Object.keys(window);if(console.error("Debugging info:",{totalWindowKeys:c.length,allFunctions:c.filter(u=>typeof window[u]=="function"),hasGo:typeof window.Go=="function",wasmInstance:Lb.instance!==null,wasmModule:Lb.module!==null}),typeof window.InitWASMSigner=="function"){console.log("Found InitWASMSigner function, calling it...");try{window.InitWASMSigner(),await new Promise(d=>setTimeout(d,500));const u=Object.keys(window).filter(d=>typeof window[d]=="function"&&(d.startsWith("morm")||d.startsWith("derive")||d.startsWith("generate")||d.startsWith("Generate")||d==="GetSupportedSignatureTypes"||d==="IsSignatureTypeSupported"));u.length>0&&(console.log(" Functions found after InitWASMSigner!",u),a=u)}catch(u){console.error("Failed to call InitWASMSigner:",u)}}if(a.length===0)throw new Error(`Go functions not exported after initialization.

ROOT CAUSE: The Go main() function in main_wasm.go does not call InitWASMSigner(), which is required to export functions via js.Global().Set().

SOLUTION: The Go code needs to be fixed. In main_wasm.go, the main() function should call:
  InitWASMSigner(CreateTestnetDomain()) // or appropriate domain

Current status:
- WASM file loaded: 
- Go runtime loaded: ${typeof window.Go=="function"?"":""}
- Go program run: 
- Functions exported: 

Check the browser console for detailed debugging information.`)}return console.log("WASM module loaded and initialized successfully"),!0}catch(n){throw console.error("Failed to load WASM module:",n),new Error((n==null?void 0:n.message)||`Failed to load WASM module: ${String(n)}`)}}class f8e{constructor(){Be(this,"isInitialized",!1);Be(this,"wasmLoaded",!1)}async initialize(){try{return this.wasmLoaded=await _he(),this.isInitialized=this.wasmLoaded,this.wasmLoaded}catch(e){throw console.error("Failed to initialize MormSigner:",e),new Error((e==null?void 0:e.message)||"Failed to initialize WASM module")}}isReady(){return this.isInitialized&&this.wasmLoaded&&typeof window.mormGenerateEthereumKeypair=="function"&&typeof window.GenerateSingleSignature=="function"&&typeof window.GenerateMultisignSignatures=="function"&&typeof window.GetSupportedSignatureTypes=="function"&&typeof window.IsSignatureTypeSupported=="function"&&typeof window.deriveAddressChain=="function"}async generateAddress(e,r=0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.deriveAddress(e,r);return typeof i=="string"?{success:!0,address:i,index:r,mnemonic:e.substring(0,20)+"..."}:i&&i.error?{success:!1,error:i.error}:{success:!1,error:"Failed to derive address"}}catch(i){return console.error("Failed to generate address:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async generateAddressChain(e,r,i=0,s=!0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};if(typeof window.deriveAddressChain!="function")return{success:!1,error:"deriveAddressChain function not available. Please update WASM module."};try{const o=window.deriveAddressChain(e,r,i,s);return typeof o=="string"?o.startsWith("error: ")?{success:!1,error:o.substring(7)}:{success:!0,address:o,chainType:r,index:i,isMainnet:s}:o&&o.error?{success:!1,error:o.error}:{success:!1,error:"Failed to derive address"}}catch(o){return console.error("Failed to generate multichain address:",o),{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}async generateMnemonic(e=12){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.generateMnemonic(e);return typeof r=="string"?{success:!0,mnemonic:r}:r&&r.error?{success:!1,error:r.error}:{success:!1,error:"Failed to generate mnemonic"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async generateKeypair(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const e=window.mormGenerateEthereumKeypair();return e.error?{success:!1,error:e.error}:{success:!0,privateKey:e.privateKey,address:e.address}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async signMessage(e,r,i={}){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=(i.useEIP712,"ECDSA_LEGACY"),o=window.generateSignature(s,e,r);return typeof o=="string"?{success:!0,signature:o,message:r,options:i}:o&&o.error?{success:!1,error:o.error}:{success:!1,error:"Failed to generate signature"}}catch(s){return console.error("Failed to sign message:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async signDeposit(e,r,i,s={}){const o={...s,depositMode:!0,walletAddress:r,amount:i},a=JSON.stringify({action:"deposit",owner:r,amount:i,nonce:s.nonce||Date.now(),deadline:s.deadline||Date.now()+36e5}),l=await this.signMessage(e,a,o);return{success:l.success,signature:l.signature,message:l.message,address:r,options:l.options,error:l.error}}async signEIP712(e,r,i={}){const s={...i,useEIP712:!0};return this.signMessage(e,r,s)}async prepareAgentSign(e){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.mormPrepareAgentSign(e.owner,e.agent,e.expiresInDays,e.permissions,e.nonce);return r&&r.error?{success:!1,error:r.error}:{success:!0,typedData:r}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async signAgentApproval(e,r){const i=await this.prepareAgentSign(r);if(!i.success||!i.typedData)return i;const s=JSON.stringify({action:"agent::approve",wallet:r.owner,agent:r.agent,agentName:r.agentName||"",expiresInDays:r.expiresInDays,permissions:r.permissions,nonce:r.nonce,deadline:Date.now()+r.expiresInDays*24*60*60*1e3}),o=await this.signMessage(e,s,{useEIP712:!0});return o.success?{success:!0,typedData:i.typedData,signature:o.signature}:{success:!1,error:o.error}}async verifySignature(e,r,i){if(!this.isReady())throw new Error("MormSigner not initialized");try{const s=window.verifySignature(e,r,i);return typeof s=="boolean"?s:!1}catch(s){return console.error("Failed to verify signature:",s),!1}}mapAlgorithm(e){if(!this.isReady())return"ECDSA_LEGACY";try{return window.mapAlgorithm(e)}catch(r){return console.error("Failed to map algorithm:",r),"ECDSA_LEGACY"}}validateNonce(e,r,i){if(!this.isReady())return!1;try{const s=window.validateNonce(e,r,i);return typeof s=="boolean"?s:!1}catch(s){return console.error("Failed to validate nonce:",s),!1}}getStatus(){return{initialized:this.isInitialized,wasmLoaded:this.wasmLoaded,ready:this.isReady()}}async generateSingleSignature(e,r,i){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=window.GenerateSingleSignature(e,r,i);return s.error?{success:!1,error:s.error}:{success:!0,signature:s.signature}}catch(s){return console.error("Failed to generate single signature:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async generateMultisignSignatures(e,r,i=!1){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=window.GenerateMultisignSignatures(e,r,i);if(s.error)return{success:!1,error:s.error};let o=null;if(s.tx)try{o=JSON.parse(s.tx)}catch(a){console.warn("Failed to parse updated transaction JSON:",a)}return{success:!0,tx:o,txJSON:s.tx}}catch(s){return console.error("Failed to generate multisign signatures:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}getSupportedSignatureTypes(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{return{success:!0,types:window.GetSupportedSignatureTypes()}}catch(e){return console.error("Failed to get supported signature types:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}isSignatureTypeSupported(e){if(!this.isReady())return!1;try{return window.IsSignatureTypeSupported(e)}catch(r){return console.error("Failed to check signature type support:",r),!1}}}const jt=new f8e,p8e=6e4,LU=100,M5=24*60*60*1e3,O5=1;function Y1(n,e){const r=n.toLowerCase();return e?`${r}:${e}`:r}class R7{constructor(e){Be(this,"infoClient");Be(this,"onChainState",new Map);Be(this,"offChainNonces",new Map);Be(this,"syncTimers",new Map);this.infoClient=e}getOrCreateState(e,r){const i=Y1(e,r);let s=this.onChainState.get(i);return s||(s={confirmed:0,pending:[],lastSync:0,mu:!1},this.onChainState.set(i,s)),s}async acquireLock(e){for(;e.mu;)await new Promise(r=>setTimeout(r,10));e.mu=!0}releaseLock(e){e.mu=!1}async syncWithCore(e,r){const i=this.getOrCreateState(e,r),s=Date.now();if(!(s-i.lastSync<p8e))try{const o=await this.infoClient.getNonceStatus(e,!1),a=(o==null?void 0:o.next_nonce)!==void 0?typeof o.next_nonce=="string"?parseInt(o.next_nonce,10):o.next_nonce:0;i.confirmed=a,i.lastSync=s}catch(o){const a=Y1(e,r);console.warn(`[NonceManager] Failed to sync with core for ${a}:`,o)}}async getNonce(e,r="latest",i){const s=this.getOrCreateState(e,i);if(await this.syncWithCore(e,i),r==="latest")return s.confirmed;{const o=s.pending.length>0?Math.max(...s.pending):s.confirmed;return Math.max(s.confirmed,o)}}async validateNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{if(i||await this.syncWithCore(e,s),o.confirmed===0&&r<O5)throw new Error(`nonce too low for new account: got ${r}, minimum ${O5}`);if(o.confirmed>0&&r<=o.confirmed)throw new Error(`nonce too low: got ${r}, confirmed ${o.confirmed}`);if(o.pending.includes(r))throw new Error(`nonce already pending: ${r}`);if(o.pending.length>=LU)throw new Error(`pending nonce limit reached: max ${LU} pending nonces`);if(i){const a=e.toLowerCase(),l=this.offChainNonces.get(a);if(l){const c=l.get(r);if(c){const u=Date.now();if(u-c<M5)throw new Error(`nonce already used (off-chain): ${r}, expires in ${Math.floor((M5-(u-c))/1e3)}s`);l.delete(r)}}}o.pending.push(r),o.pending.sort((a,l)=>a-l)}finally{this.releaseLock(o)}}async commitNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{const a=o.pending.indexOf(r);if(a!==-1&&o.pending.splice(a,1),i){const l=e.toLowerCase();let c=this.offChainNonces.get(l);c||(c=new Map,this.offChainNonces.set(l,c)),c.set(r,Date.now())}else if(r===o.confirmed+1)for(o.confirmed=r;o.pending.length>0&&o.pending[0]===o.confirmed+1;){const l=o.pending.shift();o.confirmed=l}}finally{this.releaseLock(o)}}async rejectNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{const a=o.pending.indexOf(r);if(a!==-1&&o.pending.splice(a,1),i){const l=e.toLowerCase(),c=this.offChainNonces.get(l);c&&c.delete(r)}}finally{this.releaseLock(o)}}async getExpectedNextNonce(e,r=!1,i){await this.syncWithCore(e,i);const s=this.getOrCreateState(e,i),o=s.pending.length>0?Math.max(...s.pending):s.confirmed,a=Math.max(s.confirmed+1,o+1),l=a===0?O5:a;if(r)try{await this.validateNonce(e,l,!1,i)}catch(c){console.warn(`[NonceManager] Failed to reserve nonce ${l}:`,c.message)}return{next_nonce:l,reserved:r,timestamp:Date.now()}}cleanupExpiredOffChainNonces(){const e=Date.now();for(const[r,i]of this.offChainNonces.entries()){for(const[s,o]of i.entries())e-o>=M5&&i.delete(s);i.size===0&&this.offChainNonces.delete(r)}}resetNonce(e,r){const i=e.toLowerCase();if(r){const o=Y1(e,r);this.onChainState.delete(o)}else{const o=[];for(const a of this.onChainState.keys())(a===i||a.startsWith(`${i}:`))&&o.push(a);o.forEach(a=>this.onChainState.delete(a))}this.offChainNonces.delete(i);const s=this.syncTimers.get(i);s&&(clearInterval(s),this.syncTimers.delete(i))}getState(e,r){const i=Y1(e,r);return this.onChainState.get(i)}}class Cr{constructor(e){Be(this,"httpClient");Be(this,"sessionToken");this.httpClient=new IC(e.baseURL),this.sessionToken=e.sessionToken}setSessionToken(e){this.sessionToken=e}getHeaders(){const e={Accept:"application/json, */*"};return this.sessionToken&&(e.Authorization=`Bearer ${this.sessionToken}`),e}async getMarkets(){const r=(await this.httpClient.get("/market/v1/all",this.getHeaders())).body;return Array.isArray(r)?r:r&&typeof r=="object"&&"markets"in r?r.markets:[]}async getMarketsWithFilters(e,r){let i="/market/v1/all";const s=[];e&&s.push(`filter=${e}`),r&&s.push("active_only=true"),s.length>0&&(i+="?"+s.join("&"));const a=(await this.httpClient.get(i,this.getHeaders())).body;return Array.isArray(a)?a:a&&typeof a=="object"&&"markets"in a?a.markets:[]}async getMarketByID(e){return(await this.httpClient.get(`/market/v1/market/${e}`,this.getHeaders())).body}async getMarketByMoniker(e){return(await this.httpClient.get(`/market/v1/market/by-moniker/${e}`,this.getHeaders())).body}async getMarketStats(e){return(await this.httpClient.get(`/market/v1/market/${e}/stats`,this.getHeaders())).body}async getTicker(e){return this.getMarketStats(e)}async getExchangeInfo(){return(await this.httpClient.get("/market/v1/exchangeInfo",this.getHeaders())).body}async getOrderbook(e,r=!0,i=20){let s=`/clob/v1/orderbook/${e}`,o=20;i>0&&i<100&&(o=i),s+=`?depth=${o}`;const l=(await this.httpClient.get(s,this.getHeaders())).body;return r&&l&&(l.bids&&Array.isArray(l.bids)&&(l.bids=l.bids.map(([c,u])=>[It(c),It(u)])),l.asks&&Array.isArray(l.asks)&&(l.asks=l.asks.map(([c,u])=>[It(c),It(u)]))),l}async getMarketTrades(e,r){let i=`/clob/v1/trades?market_id=${e}`;r&&r>0&&(i+=`&limit=${r}`);const s=await this.httpClient.get(i,this.getHeaders());console.debug("[InfoClient] getMarketTrades response for marketId:",e,"response:",s.body);const o=s.body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:(console.warn("[InfoClient] getMarketTrades: Unexpected response structure:",s.body),[])}async getRecentTrades(e,r=100){return this.getMarketTrades(e,r)}async getTrades(e,r){let i=`/clob/v1/trades?symbol=${e}`;r&&r>0&&(i+=`&limit=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:[]}async getAggTrades(e,r,i,s){let o=`/market/v1/aggTrades?symbol=${e}`;return r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`),(await this.httpClient.get(o,this.getHeaders())).body}async getKlines(e,r,i,s,o){let a=`/clob/v1/klines?symbol=${e}&interval=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c)?c:[]}async getContinuousKlines(e,r,i,s,o,a){let l=`/market/v1/continuousKlines?pair=${e}&contractType=${r}&interval=${i}`;return s&&s>0&&(l+=`&limit=${s}`),o&&o>0&&(l+=`&startTime=${o}`),a&&a>0&&(l+=`&endTime=${a}`),(await this.httpClient.get(l,this.getHeaders())).body}async getPremiumIndex(e){let r="/market/v1/premiumIndex";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getFundingRate(e,r,i,s){let o="/market/v1/fundingRate";const a=[];e&&a.push(`symbol=${e}`),r&&r>0&&a.push(`limit=${r}`),i&&i>0&&a.push(`startTime=${i}`),s&&s>0&&a.push(`endTime=${s}`),a.length>0&&(o+="?"+a.join("&"));const c=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(c)?c:c&&typeof c=="object"&&"data"in c&&Array.isArray(c.data)?c.data:c?[c]:[]}async getFundingInfo(){const r=(await this.httpClient.get("/market/v1/fundingInfo",this.getHeaders())).body;return Array.isArray(r)?r:[]}async getDeliveryPrice(e){return(await this.httpClient.get(`/market/v1/deliveryPrice?pair=${e}`,this.getHeaders())).body}async getOpenInterest(e){return(await this.httpClient.get(`/market/v1/openInterest?symbol=${e}`,this.getHeaders())).body}async getTopLongShortPositionRatio(e,r,i,s,o){let a=`/market/v1/topLongShortPositionRatio?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getGlobalLongShortAccountRatio(e,r,i,s,o){let a=`/market/v1/globalLongShortAccountRatio?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getTicker24hr(e){let r="/market/v1/moniker/24hr";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getTickerPrice(e){let r="/market/v1/moniker/price";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getOrderbookMoniker(e){let r="/market/v1/moniker/bookTicker";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getBasis(e,r,i,s,o){let a=`/market/v1/basis?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getIndexInfo(e){let r="/market/v1/indexInfo";return e&&(r+=`?symbol=${e}`),(await this.httpClient.get(r,this.getHeaders())).body}async getAssetIndex(e){let r="/market/v1/assetIndex";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getConstituents(e){return(await this.httpClient.get(`/market/v1/constituents?symbol=${e}`,this.getHeaders())).body}async getTWAP(e,r){return(await this.httpClient.get(`/market/v1/twap?symbol=${e}&duration=${r}`,this.getHeaders())).body}async getPositions(e,r){if(!e)throw new Error("walletAddress is required for getPositions");let i=`/bucket/v1/address/${e}/positions`;r!==void 0&&(i+=`?active_only=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return Array.isArray(o)?o:o&&typeof o=="object"&&"positions"in o&&Array.isArray(o.positions)?o.positions:[]}async getBalance(e,r){let i=`/bank/v1/balance/${e}?asset=${r}`;return(await this.httpClient.get(i,this.getHeaders())).body}async getBalances(e){const i=(await this.httpClient.get(`/bank/v1/balances/${e}`,this.getHeaders())).body;return i&&typeof i=="object"&&"balances"in i&&Array.isArray(i.balances)?i.balances:[]}async getBalanceDecimal(e,r){const i=await this.getBalance(e,r);if(i&&typeof i=="object"){const s={...i};return s.balance&&(s.balance=It(s.balance)),s.available_balance&&(s.available=It(s.available_balance),s.available_balance=It(s.available_balance)),s.available&&typeof s.available=="string"&&(s.available=It(s.available)),s.locked_balance&&(s.locked=It(s.locked_balance),s.locked_balance=It(s.locked_balance)),s.locked&&typeof s.locked=="string"&&(s.locked=It(s.locked)),s}return i}async getOrders(e,r){let i=`/clob/v1/address/orders?address=${encodeURIComponent(e)}`;return r&&(i+=`&asset_pair=${encodeURIComponent(r)}`),(await this.httpClient.get(i,this.getHeaders())).body}async getOrder(e){return(await this.httpClient.get(`/clob/v1/order/${e}`,this.getHeaders())).body}async getOrderHistory(e){return(await this.httpClient.get(`/clob/v1/address/orders/history?address=${e}`,this.getHeaders())).body}async getUserTrades(e,r){let i=`/clob/v1/address/trades?address=${e}`;r&&(i+=`&asset_pair=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:[]}async getTradeHistory(e,r){return this.getUserTrades(e,r)}async getPosition(e,r){let i=`/clob/v1/address/position?address=${e}`;r&&(i+=`&asset_pair=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return o&&typeof o=="object"&&"positions"in o&&Array.isArray(o.positions)?o.positions:[]}async getBuckets(e){var i;const r=await this.httpClient.get(`/bucket/v1/address/${e}/buckets`,this.getHeaders());return(i=r.body)!=null&&i.buckets&&Array.isArray(r.body.buckets)?r.body.buckets:[]}async getBucket(e){return(await this.httpClient.get(`/bucket/v1/bucket/${e}`,this.getHeaders())).body}async getMarketData(e){return(await this.httpClient.get(`/clob/v1/market/data?asset_pair=${e}`,this.getHeaders())).body}async getMarketCandles(e,r,i){const o=(await this.httpClient.get(`/clob/v1/market/candles?asset_pair=${e}&interval=${r}&limit=${i}`,this.getHeaders())).body;return Array.isArray(o)?o:[]}async getNonceStatus(e,r=!1){let i=`/router/v1/nonce/status/${e}`;return r&&(i+="?reserve=true"),(await this.httpClient.get(i,this.getHeaders())).body}async getSupportedActions(){return(await this.httpClient.get("/router/v1/tx/supported-actions",this.getHeaders())).body}async validateAction(e){return(await this.httpClient.get(`/router/v1/tx/validate-action?action=${encodeURIComponent(e)}`,this.getHeaders())).body}async getHealthSummary(){return(await this.httpClient.get("/router/v1/health/summary",this.getHeaders())).body}async getHealthDaemons(){return(await this.httpClient.get("/router/v1/health/daemons",this.getHeaders())).body}async getHealthBucket(){return(await this.httpClient.get("/router/v1/health/bucket",this.getHeaders())).body}async getServerTime(){return(await this.httpClient.get("/router/v1/time",this.getHeaders())).body}async getMetricsTPS(){return(await this.httpClient.get("/router/v1/metrics/tps",this.getHeaders())).body}async getMetricsLatency(){return(await this.httpClient.get("/router/v1/metrics/latency",this.getHeaders())).body}}function m8e(n){var l,c,u;if(!n)return!1;const e=String(n).toLowerCase(),r=((l=n==null?void 0:n.message)==null?void 0:l.toLowerCase())||e,i=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),s=((c=i==null?void 0:i.error)==null?void 0:c.toLowerCase())||((u=i==null?void 0:i.message)==null?void 0:u.toLowerCase())||"",o=["nonce too low","nonce too high","nonce already used","nonce already pending","nonce invalid","nonce expired","nonce mismatch","invalid nonce","nonce out of order"],a=`${r} ${e} ${s}`.toLowerCase();return o.some(d=>a.includes(d))}function g8e(n){var l,c,u;if(!n)return!1;const e=String(n).toLowerCase(),r=((l=n==null?void 0:n.message)==null?void 0:l.toLowerCase())||e,i=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),s=((c=i==null?void 0:i.error)==null?void 0:c.toLowerCase())||((u=i==null?void 0:i.message)==null?void 0:u.toLowerCase())||"",o=["signature verification failed","invalid signature","unauthenticated","signature mismatch","signature invalid"],a=`${r} ${e} ${s}`.toLowerCase();return o.some(d=>a.includes(d))}function b8e(n){if(!n)return[!1,!1];const e=m8e(n),r=g8e(n);return[e,r]}function N7(n){const[e,r]=b8e(n);return e||r}const khe="6.16.0";async function j7(n){const e=Object.keys(n);return(await Promise.all(e.map(i=>Promise.resolve(n[i])))).reduce((i,s,o)=>(i[e[o]]=s,i),{})}function oo(n,e,r){for(let i in e){let s=e[i];Object.defineProperty(n,i,{enumerable:!0,value:s,writable:!1})}}function Rm(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(r=>Rm(r,e)).join(", ")+" ]";if(n instanceof Uint8Array){const r="0123456789abcdef";let i="0x";for(let s=0;s<n.length;s++)i+=r[n[s]>>4],i+=r[n[s]&15];return i}if(typeof n=="object"&&typeof n.toJSON=="function")return Rm(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const r=Object.keys(n);return r.sort(),"{ "+r.map(i=>`${Rm(i,e)}: ${Rm(n[i],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function y8e(n,e,r){let i=n;{const o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Rm(r)}`);for(const a in r){if(a==="shortMessage")continue;const l=r[a];o.push(a+"="+Rm(l))}}o.push(`code=${e}`),o.push(`version=${khe}`),o.length&&(n+=" ("+o.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return oo(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&oo(s,{shortMessage:i}),s}function bn(n,e,r,i){if(!n)throw y8e(e,r,i)}function je(n,e,r,i){bn(n,e,"INVALID_ARGUMENT",{argument:r,value:i})}const v8e=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function She(n){bn(v8e.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function MC(n,e,r){if(r==null&&(r=""),n!==e){let i=r,s="new";r&&(i+=".",s+=" "+r),bn(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Che(n,e,r){if(n instanceof Uint8Array)return r?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const i=new Uint8Array((n.length-2)/2);let s=2;for(let o=0;o<i.length;o++)i[o]=parseInt(n.substring(s,s+2),16),s+=2;return i}je(!1,"invalid BytesLike value",e||"value",n)}function Et(n,e){return Che(n,e,!1)}function gm(n,e){return Che(n,e,!0)}function Ul(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function OC(n){return Ul(n,!0)||n instanceof Uint8Array}const FU="0123456789abcdef";function yt(n){const e=Et(n);let r="0x";for(let i=0;i<e.length;i++){const s=e[i];r+=FU[(s&240)>>4]+FU[s&15]}return r}function Mr(n){return"0x"+n.map(e=>yt(e).substring(2)).join("")}function Yy(n){return Ul(n,!0)?(n.length-2)/2:Et(n).length}function B7(n,e,r){const i=Et(n);return r>i.length&&bn(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),yt(i.slice(e,r))}function w8e(n,e,r){const i=Et(n);bn(e>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),s.set(i,e-i.length),yt(s)}function Yd(n,e){return w8e(n,e)}const DC=BigInt(0),Uh=BigInt(1),Nm=9007199254740991;function x8e(n,e){let r=Un(n,"value");const i=BigInt(ao(e,"width")),s=Uh<<i-Uh;if(r<DC){r=-r,bn(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const o=(Uh<<i)-Uh;return(~r&o)+Uh}else bn(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return r}function _8e(n,e){const r=L7(n,"value"),i=BigInt(ao(e,"bits"));return r&(Uh<<i)-Uh}function Un(n,e){switch(typeof n){case"bigint":return n;case"number":return je(Number.isInteger(n),"underflow",e||"value",n),je(n>=-Nm&&n<=Nm,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(r){je(!1,`invalid BigNumberish string: ${r.message}`,e||"value",n)}}je(!1,"invalid BigNumberish value",e||"value",n)}function L7(n,e){const r=Un(n,e);return bn(r>=DC,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),r}const $U="0123456789abcdef";function Ehe(n){if(n instanceof Uint8Array){let e="0x0";for(const r of n)e+=$U[r>>4],e+=$U[r&15];return BigInt(e)}return Un(n)}function ao(n,e){switch(typeof n){case"bigint":return je(n>=-Nm&&n<=Nm,"overflow",e||"value",n),Number(n);case"number":return je(Number.isInteger(n),"underflow",e||"value",n),je(n>=-Nm&&n<=Nm,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return ao(BigInt(n),e)}catch(r){je(!1,`invalid numeric string: ${r.message}`,e||"value",n)}}je(!1,"invalid numeric value",e||"value",n)}function c0(n,e){const r=L7(n,"value");let i=r.toString(16);{const s=ao(e,"width");if(s===0&&r===DC)return"0x";for(bn(s*2>=i.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});i.length<s*2;)i="0"+i}return"0x"+i}function Pr(n,e){const r=L7(n,"value");if(r===DC)return new Uint8Array(0);let i=r.toString(16);i.length%2&&(i="0"+i);const s=new Uint8Array(i.length/2);for(let o=0;o<s.length;o++){const a=o*2;s[o]=parseInt(i.substring(a,a+2),16)}return s}function k8e(n){let e=yt(OC(n)?n:Pr(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const IS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let K1=null;function S8e(n){if(K1==null){K1={};for(let r=0;r<IS.length;r++)K1[IS[r]]=BigInt(r)}const e=K1[n];return je(e!=null,"invalid base58 value","letter",n),e}const C8e=BigInt(0),RR=BigInt(58);function E8e(n){const e=Et(n);let r=Ehe(e),i="";for(;r;)i=IS[Number(r%RR)]+i,r/=RR;for(let s=0;s<e.length&&!e[s];s++)i=IS[0]+i;return i}function A8e(n){let e=C8e;for(let r=0;r<n.length;r++)e*=RR,e+=S8e(n[r]);return e}function Cf(n,e){je(typeof n=="string","invalid string value","str",n),e!=null&&(She(e),n=n.normalize(e));let r=[];for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){i++;const o=n.charCodeAt(i);je(i<n.length&&(o&64512)===56320,"invalid surrogate pair","str",n);const a=65536+((s&1023)<<10)+(o&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function T8e(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function zU(n,e,r){let i=0;for(let s=0;s<r;s++)i=i*256+n[e+s];return i}function UU(n,e,r,i){const s=[];for(;r<e+1+i;){const o=Ahe(n,r);s.push(o.result),r+=o.consumed,bn(r<=e+1+i,"child data too short","BUFFER_OVERRUN",{buffer:n,length:i,offset:e})}return{consumed:1+i,result:s}}function Ahe(n,e){bn(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const r=i=>{bn(i<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:i})};if(n[e]>=248){const i=n[e]-247;r(e+1+i);const s=zU(n,e+1,i);return r(e+1+i+s),UU(n,e,e+1+i,i+s)}else if(n[e]>=192){const i=n[e]-192;return r(e+1+i),UU(n,e,e+1,i)}else if(n[e]>=184){const i=n[e]-183;r(e+1+i);const s=zU(n,e+1,i);r(e+1+i+s);const o=yt(n.slice(e+1+i,e+1+i+s));return{consumed:1+i+s,result:o}}else if(n[e]>=128){const i=n[e]-128;r(e+1+i);const s=yt(n.slice(e+1,e+1+i));return{consumed:1+i,result:s}}return{consumed:1,result:T8e(n[e])}}function gx(n){const e=Et(n,"data"),r=Ahe(e,0);return je(r.consumed===e.length,"unexpected junk after rlp payload","data",n),r.result}function WU(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function The(n){if(Array.isArray(n)){let i=[];if(n.forEach(function(o){i=i.concat(The(o))}),i.length<=55)return i.unshift(192+i.length),i;const s=WU(i.length);return s.unshift(247+s.length),s.concat(i)}const e=Array.prototype.slice.call(Et(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=WU(e.length);return r.unshift(183+r.length),r.concat(e)}const qU="0123456789abcdef";function Vc(n){let e="0x";for(const r of The(n))e+=qU[r>>4],e+=qU[r&15];return e}function P8e(n){const e=Et(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=yt(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}function Js(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function F7(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function Phe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Js(n.outputLen),Js(n.blockLen)}function u0(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Ihe(n,e){F7(n);const r=e.outputLen;if(n.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const D5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mhe=n=>n instanceof Uint8Array,pk=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),mk=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),tl=(n,e)=>n<<32-e|n>>>e,I8e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!I8e)throw new Error("Non little-endian hardware is not supported");const M8e=async()=>{};async function HU(n,e,r){let i=Date.now();for(let s=0;s<n;s++){r(s);const o=Date.now()-i;o>=0&&o<e||(await M8e(),i+=o)}}function O8e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function d0(n){if(typeof n=="string"&&(n=O8e(n)),!Mhe(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function D8e(...n){const e=new Uint8Array(n.reduce((i,s)=>i+s.length,0));let r=0;return n.forEach(i=>{if(!Mhe(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}class $7{clone(){return this._cloneInto()}}const R8e={}.toString;function Ohe(n,e){if(e!==void 0&&R8e.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function RC(n){const e=i=>n().update(d0(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}function N8e(n=32){if(D5&&typeof D5.getRandomValues=="function")return D5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class Dhe extends $7{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Phe(e);const i=d0(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return u0(this),this.iHash.update(e),this}digestInto(e){u0(this),F7(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const NC=(n,e,r)=>new Dhe(n,e).update(r).digest();NC.create=(n,e)=>new Dhe(n,e);function j8e(n,e,r,i){Phe(n);const s=Ohe({dkLen:32,asyncTick:10},i),{c:o,dkLen:a,asyncTick:l}=s;if(Js(o),Js(a),Js(l),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=d0(e),u=d0(r),d=new Uint8Array(a),h=NC.create(n,c),f=h._cloneInto().update(u);return{c:o,dkLen:a,asyncTick:l,DK:d,PRF:h,PRFSalt:f}}function B8e(n,e,r,i,s){return n.destroy(),e.destroy(),i&&i.destroy(),s.fill(0),r}function z7(n,e,r,i){const{c:s,dkLen:o,DK:a,PRF:l,PRFSalt:c}=j8e(n,e,r,i);let u;const d=new Uint8Array(4),h=mk(d),f=new Uint8Array(l.outputLen);for(let p=1,m=0;m<o;p++,m+=l.outputLen){const b=a.subarray(m,m+l.outputLen);h.setInt32(0,p,!1),(u=c._cloneInto(u)).update(d).digestInto(f),b.set(f.subarray(0,b.length));for(let y=1;y<s;y++){l._cloneInto(u).update(f).digestInto(f);for(let v=0;v<b.length;v++)b[v]^=f[v]}}return B8e(l,c,a,u,f)}function L8e(n,e,r,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),c=i?4:0,u=i?0:4;n.setUint32(e+c,a,i),n.setUint32(e+u,l,i)}class U7 extends $7{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=mk(this.buffer)}update(e){u0(this);const{view:r,buffer:i,blockLen:s}=this;e=d0(e);const o=e.length;for(let a=0;a<o;){const l=Math.min(s-this.pos,o-a);if(l===s){const c=mk(e);for(;s<=o-a;a+=s)this.process(c,a);continue}i.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){u0(this),Ihe(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let h=a;h<s;h++)r[h]=0;L8e(i,s-8,BigInt(this.length*8),o),this.process(i,0);const l=mk(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)l.setUint32(4*h,d[h],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:l}=this;return e.length=s,e.pos=l,e.finished=o,e.destroyed=a,s%r&&e.buffer.set(i),e}}const F8e=(n,e,r)=>n&e^~n&r,$8e=(n,e,r)=>n&e^n&r^e&r,z8e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Lu=new Uint32Array(64);class U8e extends U7{constructor(){super(64,32,8,!1),this.A=Bu[0]|0,this.B=Bu[1]|0,this.C=Bu[2]|0,this.D=Bu[3]|0,this.E=Bu[4]|0,this.F=Bu[5]|0,this.G=Bu[6]|0,this.H=Bu[7]|0}get(){const{A:e,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;return[e,r,i,s,o,a,l,c]}set(e,r,i,s,o,a,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)Lu[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=Lu[h-15],p=Lu[h-2],m=tl(f,7)^tl(f,18)^f>>>3,b=tl(p,17)^tl(p,19)^p>>>10;Lu[h]=b+Lu[h-7]+m+Lu[h-16]|0}let{A:i,B:s,C:o,D:a,E:l,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const f=tl(l,6)^tl(l,11)^tl(l,25),p=d+f+F8e(l,c,u)+z8e[h]+Lu[h]|0,b=(tl(i,2)^tl(i,13)^tl(i,22))+$8e(i,s,o)|0;d=u,u=c,c=l,l=a+p|0,a=o,o=s,s=i,i=p+b|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,l,c,u,d)}roundClean(){Lu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const X0=RC(()=>new U8e),X1=BigInt(2**32-1),NR=BigInt(32);function Rhe(n,e=!1){return e?{h:Number(n&X1),l:Number(n>>NR&X1)}:{h:Number(n>>NR&X1)|0,l:Number(n&X1)|0}}function Nhe(n,e=!1){let r=new Uint32Array(n.length),i=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:o,l:a}=Rhe(n[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const W8e=(n,e)=>BigInt(n>>>0)<<NR|BigInt(e>>>0),q8e=(n,e,r)=>n>>>r,H8e=(n,e,r)=>n<<32-r|e>>>r,V8e=(n,e,r)=>n>>>r|e<<32-r,G8e=(n,e,r)=>n<<32-r|e>>>r,Y8e=(n,e,r)=>n<<64-r|e>>>r-32,K8e=(n,e,r)=>n>>>r-32|e<<64-r,X8e=(n,e)=>e,Q8e=(n,e)=>n,jhe=(n,e,r)=>n<<r|e>>>32-r,Bhe=(n,e,r)=>e<<r|n>>>32-r,Lhe=(n,e,r)=>e<<r-32|n>>>64-r,Fhe=(n,e,r)=>n<<r-32|e>>>64-r;function J8e(n,e,r,i){const s=(e>>>0)+(i>>>0);return{h:n+r+(s/2**32|0)|0,l:s|0}}const Z8e=(n,e,r)=>(n>>>0)+(e>>>0)+(r>>>0),eRe=(n,e,r,i)=>e+r+i+(n/2**32|0)|0,tRe=(n,e,r,i)=>(n>>>0)+(e>>>0)+(r>>>0)+(i>>>0),nRe=(n,e,r,i,s)=>e+r+i+s+(n/2**32|0)|0,rRe=(n,e,r,i,s)=>(n>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(s>>>0),iRe=(n,e,r,i,s,o)=>e+r+i+s+o+(n/2**32|0)|0,Zt={fromBig:Rhe,split:Nhe,toBig:W8e,shrSH:q8e,shrSL:H8e,rotrSH:V8e,rotrSL:G8e,rotrBH:Y8e,rotrBL:K8e,rotr32H:X8e,rotr32L:Q8e,rotlSH:jhe,rotlSL:Bhe,rotlBH:Lhe,rotlBL:Fhe,add:J8e,add3L:Z8e,add3H:eRe,add4L:tRe,add4H:nRe,add5H:iRe,add5L:rRe},[sRe,oRe]=Zt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Fu=new Uint32Array(80),$u=new Uint32Array(80);class aRe extends U7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:b,Hl:y}=this;return[e,r,i,s,o,a,l,c,u,d,h,f,p,m,b,y]}set(e,r,i,s,o,a,l,c,u,d,h,f,p,m,b,y){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=s|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=b|0,this.Hl=y|0}process(e,r){for(let _=0;_<16;_++,r+=4)Fu[_]=e.getUint32(r),$u[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const x=Fu[_-15]|0,k=$u[_-15]|0,C=Zt.rotrSH(x,k,1)^Zt.rotrSH(x,k,8)^Zt.shrSH(x,k,7),E=Zt.rotrSL(x,k,1)^Zt.rotrSL(x,k,8)^Zt.shrSL(x,k,7),T=Fu[_-2]|0,M=$u[_-2]|0,I=Zt.rotrSH(T,M,19)^Zt.rotrBH(T,M,61)^Zt.shrSH(T,M,6),O=Zt.rotrSL(T,M,19)^Zt.rotrBL(T,M,61)^Zt.shrSL(T,M,6),F=Zt.add4L(E,O,$u[_-7],$u[_-16]),$=Zt.add4H(F,C,I,Fu[_-7],Fu[_-16]);Fu[_]=$|0,$u[_]=F|0}let{Ah:i,Al:s,Bh:o,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:h,El:f,Fh:p,Fl:m,Gh:b,Gl:y,Hh:v,Hl:w}=this;for(let _=0;_<80;_++){const x=Zt.rotrSH(h,f,14)^Zt.rotrSH(h,f,18)^Zt.rotrBH(h,f,41),k=Zt.rotrSL(h,f,14)^Zt.rotrSL(h,f,18)^Zt.rotrBL(h,f,41),C=h&p^~h&b,E=f&m^~f&y,T=Zt.add5L(w,k,E,oRe[_],$u[_]),M=Zt.add5H(T,v,x,C,sRe[_],Fu[_]),I=T|0,O=Zt.rotrSH(i,s,28)^Zt.rotrBH(i,s,34)^Zt.rotrBH(i,s,39),F=Zt.rotrSL(i,s,28)^Zt.rotrBL(i,s,34)^Zt.rotrBL(i,s,39),$=i&o^i&l^o&l,z=s&a^s&c^a&c;v=b|0,w=y|0,b=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=Zt.add(u|0,d|0,M|0,I|0),u=l|0,d=c|0,l=o|0,c=a|0,o=i|0,a=s|0;const D=Zt.add3L(I,F,z);i=Zt.add3H(D,M,O,$),s=D|0}({h:i,l:s}=Zt.add(this.Ah|0,this.Al|0,i|0,s|0)),{h:o,l:a}=Zt.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:c}=Zt.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=Zt.add(this.Dh|0,this.Dl|0,u|0,d|0),{h,l:f}=Zt.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=Zt.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:b,l:y}=Zt.add(this.Gh|0,this.Gl|0,b|0,y|0),{h:v,l:w}=Zt.add(this.Hh|0,this.Hl|0,v|0,w|0),this.set(i,s,o,a,l,c,u,d,h,f,p,m,b,y,v,w)}roundClean(){Fu.fill(0),$u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const W7=RC(()=>new aRe);function lRe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const VU=lRe(),GU=VU.crypto||VU.msCrypto;function cRe(n){switch(n){case"sha256":return X0.create();case"sha512":return W7.create()}je(!1,"invalid hashing algorithm name","algorithm",n)}function uRe(n,e){const r={sha256:X0,sha512:W7}[n];return je(r!=null,"invalid hmac algorithm","algorithm",n),NC.create(r,e)}function dRe(n,e,r,i,s){const o={sha256:X0,sha512:W7}[s];return je(o!=null,"invalid pbkdf2 algorithm","algorithm",s),z7(o,n,e,{c:r,dkLen:i})}function hRe(n){bn(GU!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),je(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return GU.getRandomValues(e),e}let $he=!1;const zhe=function(n,e,r){return uRe(n,e).update(r).digest()};let Uhe=zhe;function Q0(n,e,r){const i=Et(e,"key"),s=Et(r,"data");return yt(Uhe(n,i,s))}Q0._=zhe;Q0.lock=function(){$he=!0};Q0.register=function(n){if($he)throw new Error("computeHmac is locked");Uhe=n};Object.freeze(Q0);const[Whe,qhe,Hhe]=[[],[],[]],fRe=BigInt(0),Fb=BigInt(1),pRe=BigInt(2),mRe=BigInt(7),gRe=BigInt(256),bRe=BigInt(113);for(let n=0,e=Fb,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],Whe.push(2*(5*i+r)),qhe.push((n+1)*(n+2)/2%64);let s=fRe;for(let o=0;o<7;o++)e=(e<<Fb^(e>>mRe)*bRe)%gRe,e&pRe&&(s^=Fb<<(Fb<<BigInt(o))-Fb);Hhe.push(s)}const[yRe,vRe]=Nhe(Hhe,!0),YU=(n,e,r)=>r>32?Lhe(n,e,r):jhe(n,e,r),KU=(n,e,r)=>r>32?Fhe(n,e,r):Bhe(n,e,r);function wRe(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=YU(u,d,1)^r[l],f=KU(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=qhe[a],c=YU(s,o,l),u=KU(s,o,l),d=Whe[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=yRe[i],n[1]^=vRe[i]}r.fill(0)}class q7 extends $7{constructor(e,r,i,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Js(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=pk(this.state)}keccak(){wRe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){u0(this);const{blockLen:r,state:i}=this;e=d0(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){u0(this,!1),F7(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Js(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ihe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new q7(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const xRe=(n,e,r)=>RC(()=>new q7(e,n,r)),_Re=xRe(1,136,256/8);let Vhe=!1;const Ghe=function(n){return _Re(n)};let Yhe=Ghe;function ni(n){const e=Et(n,"data");return yt(Yhe(e))}ni._=Ghe;ni.lock=function(){Vhe=!0};ni.register=function(n){if(Vhe)throw new TypeError("keccak256 is locked");Yhe=n};Object.freeze(ni);const kRe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Khe=Uint8Array.from({length:16},(n,e)=>e),SRe=Khe.map(n=>(9*n+5)%16);let H7=[Khe],V7=[SRe];for(let n=0;n<4;n++)for(let e of[H7,V7])e.push(e[n].map(r=>kRe[r]));const Xhe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),CRe=H7.map((n,e)=>n.map(r=>Xhe[e][r])),ERe=V7.map((n,e)=>n.map(r=>Xhe[e][r])),ARe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),TRe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Q1=(n,e)=>n<<e|n>>>32-e;function XU(n,e,r,i){return n===0?e^r^i:n===1?e&r|~e&i:n===2?(e|~r)^i:n===3?e&i|r&~i:e^(r|~i)}const J1=new Uint32Array(16);class PRe extends U7{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:i,h3:s,h4:o}=this;return[e,r,i,s,o]}set(e,r,i,s,o){this.h0=e|0,this.h1=r|0,this.h2=i|0,this.h3=s|0,this.h4=o|0}process(e,r){for(let p=0;p<16;p++,r+=4)J1[p]=e.getUint32(r,!0);let i=this.h0|0,s=i,o=this.h1|0,a=o,l=this.h2|0,c=l,u=this.h3|0,d=u,h=this.h4|0,f=h;for(let p=0;p<5;p++){const m=4-p,b=ARe[p],y=TRe[p],v=H7[p],w=V7[p],_=CRe[p],x=ERe[p];for(let k=0;k<16;k++){const C=Q1(i+XU(p,o,l,u)+J1[v[k]]+b,_[k])+h|0;i=h,h=u,u=Q1(l,10)|0,l=o,o=C}for(let k=0;k<16;k++){const C=Q1(s+XU(m,a,c,d)+J1[w[k]]+y,x[k])+f|0;s=f,f=d,d=Q1(c,10)|0,c=a,a=C}}this.set(this.h1+l+d|0,this.h2+u+f|0,this.h3+h+s|0,this.h4+i+a|0,this.h0+o+c|0)}roundClean(){J1.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const IRe=RC(()=>new PRe);let Qhe=!1;const Jhe=function(n){return IRe(n)};let Zhe=Jhe;function J0(n){const e=Et(n,"data");return yt(Zhe(e))}J0._=Jhe;J0.lock=function(){Qhe=!0};J0.register=function(n){if(Qhe)throw new TypeError("ripemd160 is locked");Zhe=n};Object.freeze(J0);let efe=!1;const tfe=function(n,e,r,i,s){return dRe(n,e,r,i,s)};let nfe=tfe;function bx(n,e,r,i,s){const o=Et(n,"password"),a=Et(e,"salt");return yt(nfe(o,a,r,i,s))}bx._=tfe;bx.lock=function(){efe=!0};bx.register=function(n){if(efe)throw new Error("pbkdf2 is locked");nfe=n};Object.freeze(bx);let rfe=!1;const ife=function(n){return new Uint8Array(hRe(n))};let sfe=ife;function Gc(n){return sfe(n)}Gc._=ife;Gc.lock=function(){rfe=!0};Gc.register=function(n){if(rfe)throw new Error("randomBytes is locked");sfe=n};Object.freeze(Gc);const xn=(n,e)=>n<<e|n>>>32-e;function QU(n,e,r,i,s,o){let a=n[e++]^r[i++],l=n[e++]^r[i++],c=n[e++]^r[i++],u=n[e++]^r[i++],d=n[e++]^r[i++],h=n[e++]^r[i++],f=n[e++]^r[i++],p=n[e++]^r[i++],m=n[e++]^r[i++],b=n[e++]^r[i++],y=n[e++]^r[i++],v=n[e++]^r[i++],w=n[e++]^r[i++],_=n[e++]^r[i++],x=n[e++]^r[i++],k=n[e++]^r[i++],C=a,E=l,T=c,M=u,I=d,O=h,F=f,$=p,z=m,D=b,j=y,N=v,R=w,H=_,U=x,K=k;for(let Y=0;Y<8;Y+=2)I^=xn(C+R|0,7),z^=xn(I+C|0,9),R^=xn(z+I|0,13),C^=xn(R+z|0,18),D^=xn(O+E|0,7),H^=xn(D+O|0,9),E^=xn(H+D|0,13),O^=xn(E+H|0,18),U^=xn(j+F|0,7),T^=xn(U+j|0,9),F^=xn(T+U|0,13),j^=xn(F+T|0,18),M^=xn(K+N|0,7),$^=xn(M+K|0,9),N^=xn($+M|0,13),K^=xn(N+$|0,18),E^=xn(C+M|0,7),T^=xn(E+C|0,9),M^=xn(T+E|0,13),C^=xn(M+T|0,18),F^=xn(O+I|0,7),$^=xn(F+O|0,9),I^=xn($+F|0,13),O^=xn(I+$|0,18),N^=xn(j+D|0,7),z^=xn(N+j|0,9),D^=xn(z+N|0,13),j^=xn(D+z|0,18),R^=xn(K+U|0,7),H^=xn(R+K|0,9),U^=xn(H+R|0,13),K^=xn(U+H|0,18);s[o++]=a+C|0,s[o++]=l+E|0,s[o++]=c+T|0,s[o++]=u+M|0,s[o++]=d+I|0,s[o++]=h+O|0,s[o++]=f+F|0,s[o++]=p+$|0,s[o++]=m+z|0,s[o++]=b+D|0,s[o++]=y+j|0,s[o++]=v+N|0,s[o++]=w+R|0,s[o++]=_+H|0,s[o++]=x+U|0,s[o++]=k+K|0}function ng(n,e,r,i,s){let o=i+0,a=i+16*s;for(let l=0;l<16;l++)r[a+l]=n[e+(2*s-1)*16+l];for(let l=0;l<s;l++,o+=16,e+=16)QU(r,a,n,e,r,o),l>0&&(a+=16),QU(r,o,n,e+=16,r,a)}function ofe(n,e,r){const i=Ohe({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:s,r:o,p:a,dkLen:l,asyncTick:c,maxmem:u,onProgress:d}=i;if(Js(s),Js(o),Js(a),Js(l),Js(c),Js(u),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const h=128*o,f=h/4;if(s<=1||s&s-1||s>=2**(h/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=h*(s+a);if(p>u)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${u} (maxmem)`);const m=z7(X0,n,e,{c:1,dkLen:h*a}),b=pk(m),y=pk(new Uint8Array(h*s)),v=pk(new Uint8Array(h));let w=()=>{};if(d){const _=2*s*a,x=Math.max(Math.floor(_/1e4),1);let k=0;w=()=>{k++,d&&(!(k%x)||k===_)&&d(k/_)}}return{N:s,r:o,p:a,dkLen:l,blockSize32:f,V:y,B32:b,B:m,tmp:v,blockMixCb:w,asyncTick:c}}function afe(n,e,r,i,s){const o=z7(X0,n,r,{c:1,dkLen:e});return r.fill(0),i.fill(0),s.fill(0),o}function MRe(n,e,r){const{N:i,r:s,p:o,dkLen:a,blockSize32:l,V:c,B32:u,B:d,tmp:h,blockMixCb:f}=ofe(n,e,r);for(let p=0;p<o;p++){const m=l*p;for(let b=0;b<l;b++)c[b]=u[m+b];for(let b=0,y=0;b<i-1;b++)ng(c,y,c,y+=l,s),f();ng(c,(i-1)*l,u,m,s),f();for(let b=0;b<i;b++){const y=u[m+l-16]%i;for(let v=0;v<l;v++)h[v]=u[m+v]^c[y*l+v];ng(h,0,u,m,s),f()}}return afe(n,a,d,c,h)}async function ORe(n,e,r){const{N:i,r:s,p:o,dkLen:a,blockSize32:l,V:c,B32:u,B:d,tmp:h,blockMixCb:f,asyncTick:p}=ofe(n,e,r);for(let m=0;m<o;m++){const b=l*m;for(let v=0;v<l;v++)c[v]=u[b+v];let y=0;await HU(i-1,p,()=>{ng(c,y,c,y+=l,s),f()}),ng(c,(i-1)*l,u,b,s),f(),await HU(i,p,()=>{const v=u[b+l-16]%i;for(let w=0;w<l;w++)h[w]=u[b+w]^c[v*l+w];ng(h,0,u,b,s),f()})}return afe(n,a,d,c,h)}let lfe=!1,cfe=!1;const ufe=async function(n,e,r,i,s,o,a){return await ORe(n,e,{N:r,r:i,p:s,dkLen:o,onProgress:a})},dfe=function(n,e,r,i,s,o){return MRe(n,e,{N:r,r:i,p:s,dkLen:o})};let hfe=ufe,ffe=dfe;async function yx(n,e,r,i,s,o,a){const l=Et(n,"passwd"),c=Et(e,"salt");return yt(await hfe(l,c,r,i,s,o,a))}yx._=ufe;yx.lock=function(){cfe=!0};yx.register=function(n){if(cfe)throw new Error("scrypt is locked");hfe=n};Object.freeze(yx);function vx(n,e,r,i,s,o){const a=Et(n,"passwd"),l=Et(e,"salt");return yt(ffe(a,l,r,i,s,o))}vx._=dfe;vx.lock=function(){lfe=!0};vx.register=function(n){if(lfe)throw new Error("scryptSync is locked");ffe=n};Object.freeze(vx);const pfe=function(n){return cRe("sha256").update(n).digest()};let mfe=pfe,gfe=!1;function ta(n){const e=Et(n,"data");return yt(mfe(e))}ta._=pfe;ta.lock=function(){gfe=!0};ta.register=function(n){if(gfe)throw new Error("sha256 is locked");mfe=n};Object.freeze(ta);Object.freeze(ta);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bfe=BigInt(0),jC=BigInt(1),DRe=BigInt(2),BC=n=>n instanceof Uint8Array,RRe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function h0(n){if(!BC(n))throw new Error("Uint8Array expected");let e="";for(let r=0;r<n.length;r++)e+=RRe[n[r]];return e}function yfe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function G7(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function f0(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){const s=i*2,o=n.slice(s,s+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[i]=a}return r}function Ef(n){return G7(h0(n))}function Y7(n){if(!BC(n))throw new Error("Uint8Array expected");return G7(h0(Uint8Array.from(n).reverse()))}function p0(n,e){return f0(n.toString(16).padStart(e*2,"0"))}function K7(n,e){return p0(n,e).reverse()}function NRe(n){return f0(yfe(n))}function ga(n,e,r){let i;if(typeof e=="string")try{i=f0(e)}catch(o){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${o}`)}else if(BC(e))i=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(`${n} expected ${r} bytes, got ${s}`);return i}function aw(...n){const e=new Uint8Array(n.reduce((i,s)=>i+s.length,0));let r=0;return n.forEach(i=>{if(!BC(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}function jRe(n,e){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}function BRe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function LRe(n){let e;for(e=0;n>bfe;n>>=jC,e+=1);return e}function FRe(n,e){return n>>BigInt(e)&jC}const $Re=(n,e,r)=>n|(r?jC:bfe)<<BigInt(e),X7=n=>(DRe<<BigInt(n-1))-jC,R5=n=>new Uint8Array(n),JU=n=>Uint8Array.from(n);function vfe(n,e,r){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=R5(n),s=R5(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},l=(...h)=>r(s,i,...h),c=(h=R5())=>{s=l(JU([0]),h),i=l(),h.length!==0&&(s=l(JU([1]),h),i=l())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return aw(...f)};return(h,f)=>{a(),c(h);let p;for(;!(p=f(u()));)c();return a(),p}}const zRe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function wx(n,e,r={}){const i=(s,o,a)=>{const l=zRe[o];if(typeof l!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=n[s];if(!(a&&c===void 0)&&!l(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(e))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return n}const URe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:FRe,bitLen:LRe,bitMask:X7,bitSet:$Re,bytesToHex:h0,bytesToNumberBE:Ef,bytesToNumberLE:Y7,concatBytes:aw,createHmacDrbg:vfe,ensureBytes:ga,equalBytes:jRe,hexToBytes:f0,hexToNumber:G7,numberToBytesBE:p0,numberToBytesLE:K7,numberToHexUnpadded:yfe,numberToVarBytesBE:NRe,utf8ToBytes:BRe,validateObject:wx},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ii=BigInt(0),Tr=BigInt(1),Wh=BigInt(2),WRe=BigInt(3),jR=BigInt(4),ZU=BigInt(5),eW=BigInt(8);BigInt(9);BigInt(16);function ks(n,e){const r=n%e;return r>=ii?r:e+r}function qRe(n,e,r){if(r<=ii||e<ii)throw new Error("Expected power/modulo > 0");if(r===Tr)return ii;let i=Tr;for(;e>ii;)e&Tr&&(i=i*n%r),n=n*n%r,e>>=Tr;return i}function Co(n,e,r){let i=n;for(;e-- >ii;)i*=i,i%=r;return i}function BR(n,e){if(n===ii||e<=ii)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let r=ks(n,e),i=e,s=ii,o=Tr;for(;r!==ii;){const l=i/r,c=i%r,u=s-o*l;i=r,r=c,s=o,o=u}if(i!==Tr)throw new Error("invert: does not exist");return ks(s,e)}function HRe(n){const e=(n-Tr)/Wh;let r,i,s;for(r=n-Tr,i=0;r%Wh===ii;r/=Wh,i++);for(s=Wh;s<n&&qRe(s,e,n)!==n-Tr;s++);if(i===1){const a=(n+Tr)/jR;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const o=(r+Tr)/Wh;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=i,d=l.pow(l.mul(l.ONE,s),r),h=l.pow(c,o),f=l.pow(c,r);for(;!l.eql(f,l.ONE);){if(l.eql(f,l.ZERO))return l.ZERO;let p=1;for(let b=l.sqr(f);p<u&&!l.eql(b,l.ONE);p++)b=l.sqr(b);const m=l.pow(d,Tr<<BigInt(u-p-1));d=l.sqr(m),h=l.mul(h,m),f=l.mul(f,d),u=p}return h}}function VRe(n){if(n%jR===WRe){const e=(n+Tr)/jR;return function(i,s){const o=i.pow(s,e);if(!i.eql(i.sqr(o),s))throw new Error("Cannot find square root");return o}}if(n%eW===ZU){const e=(n-ZU)/eW;return function(i,s){const o=i.mul(s,Wh),a=i.pow(o,e),l=i.mul(s,a),c=i.mul(i.mul(l,Wh),a),u=i.mul(l,i.sub(c,i.ONE));if(!i.eql(i.sqr(u),s))throw new Error("Cannot find square root");return u}}return HRe(n)}const GRe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YRe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=GRe.reduce((i,s)=>(i[s]="function",i),e);return wx(n,r)}function KRe(n,e,r){if(r<ii)throw new Error("Expected power > 0");if(r===ii)return n.ONE;if(r===Tr)return e;let i=n.ONE,s=e;for(;r>ii;)r&Tr&&(i=n.mul(i,s)),s=n.sqr(s),r>>=Tr;return i}function XRe(n,e){const r=new Array(e.length),i=e.reduce((o,a,l)=>n.is0(a)?o:(r[l]=o,n.mul(o,a)),n.ONE),s=n.inv(i);return e.reduceRight((o,a,l)=>n.is0(a)?o:(r[l]=n.mul(o,r[l]),n.mul(o,a)),s),r}function wfe(n,e){const r=e!==void 0?e:n.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function QRe(n,e,r=!1,i={}){if(n<=ii)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:o}=wfe(n,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=VRe(n),l=Object.freeze({ORDER:n,BITS:s,BYTES:o,MASK:X7(s),ZERO:ii,ONE:Tr,create:c=>ks(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ii<=c&&c<n},is0:c=>c===ii,isOdd:c=>(c&Tr)===Tr,neg:c=>ks(-c,n),eql:(c,u)=>c===u,sqr:c=>ks(c*c,n),add:(c,u)=>ks(c+u,n),sub:(c,u)=>ks(c-u,n),mul:(c,u)=>ks(c*u,n),pow:(c,u)=>KRe(l,c,u),div:(c,u)=>ks(c*BR(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>BR(c,n),sqrt:i.sqrt||(c=>a(l,c)),invertBatch:c=>XRe(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>r?K7(c,o):p0(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?Y7(c):Ef(c)}});return Object.freeze(l)}function xfe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function _fe(n){const e=xfe(n);return e+Math.ceil(e/2)}function JRe(n,e,r=!1){const i=n.length,s=xfe(e),o=_fe(e);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const a=r?Ef(n):Y7(n),l=ks(a,e-Tr)+Tr;return r?K7(l,s):p0(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZRe=BigInt(0),N5=BigInt(1);function e4e(n,e){const r=(s,o)=>{const a=o.negate();return s?a:o},i=s=>{const o=Math.ceil(e/s)+1,a=2**(s-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,o){let a=n.ZERO,l=s;for(;o>ZRe;)o&N5&&(a=a.add(l)),l=l.double(),o>>=N5;return a},precomputeWindow(s,o){const{windows:a,windowSize:l}=i(o),c=[];let u=s,d=u;for(let h=0;h<a;h++){d=u,c.push(d);for(let f=1;f<l;f++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(s,o,a){const{windows:l,windowSize:c}=i(s);let u=n.ZERO,d=n.BASE;const h=BigInt(2**s-1),f=2**s,p=BigInt(s);for(let m=0;m<l;m++){const b=m*c;let y=Number(a&h);a>>=p,y>c&&(y-=f,a+=N5);const v=b,w=b+Math.abs(y)-1,_=m%2!==0,x=y<0;y===0?d=d.add(r(_,o[v])):u=u.add(r(x,o[w]))}return{p:u,f:d}},wNAFCached(s,o,a,l){const c=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&o.set(s,l(u))),this.wNAF(c,u,a)}}}function kfe(n){return YRe(n.Fp),wx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wfe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function t4e(n){const e=kfe(n);wx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:s}=e;if(r){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:n4e,hexToBytes:r4e}=URe,Zh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Zh;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const r=n[1],i=n.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:n4e(i),l:n.subarray(r+2)}},toSig(n){const{Err:e}=Zh,r=typeof n=="string"?r4e(n):n;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");const{d:s,l:o}=Zh._parseInt(r.subarray(2)),{d:a,l}=Zh._parseInt(o);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},i=e(r(n.s)),s=e(r(n.r)),o=i.length/2,a=s.length/2,l=r(o),c=r(a);return`30${r(a+o+4)}02${c}${s}02${l}${i}`}},Oc=BigInt(0),$o=BigInt(1);BigInt(2);const tW=BigInt(3);BigInt(4);function i4e(n){const e=t4e(n),{Fp:r}=e,i=e.toBytes||((m,b,y)=>{const v=b.toAffine();return aw(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),s=e.fromBytes||(m=>{const b=m.subarray(1),y=r.fromBytes(b.subarray(0,r.BYTES)),v=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:y,y:v}});function o(m){const{a:b,b:y}=e,v=r.sqr(m),w=r.mul(v,m);return r.add(r.add(w,r.mul(m,b)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return typeof m=="bigint"&&Oc<m&&m<e.n}function l(m){if(!a(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:b,nByteLength:y,wrapPrivateKey:v,n:w}=e;if(b&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=h0(m)),typeof m!="string"||!b.includes(m.length))throw new Error("Invalid key");m=m.padStart(y*2,"0")}let _;try{_=typeof m=="bigint"?m:Ef(ga("private key",m,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof m}`)}return v&&(_=ks(_,w)),l(_),_}const u=new Map;function d(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(b,y,v){if(this.px=b,this.py=y,this.pz=v,b==null||!r.isValid(b))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(v==null||!r.isValid(v))throw new Error("z required")}static fromAffine(b){const{x:y,y:v}=b||{};if(!b||!r.isValid(y)||!r.isValid(v))throw new Error("invalid affine point");if(b instanceof h)throw new Error("projective point not allowed");const w=_=>r.eql(_,r.ZERO);return w(y)&&w(v)?h.ZERO:new h(y,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const y=r.invertBatch(b.map(v=>v.pz));return b.map((v,w)=>v.toAffine(y[w])).map(h.fromAffine)}static fromHex(b){const y=h.fromAffine(s(ga("pointHex",b)));return y.assertValidity(),y}static fromPrivateKey(b){return h.BASE.multiply(c(b))}_setWindowSize(b){this._WINDOW_SIZE=b,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:b,y}=this.toAffine();if(!r.isValid(b)||!r.isValid(y))throw new Error("bad point: x or y not FE");const v=r.sqr(y),w=o(b);if(!r.eql(v,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){d(b);const{px:y,py:v,pz:w}=this,{px:_,py:x,pz:k}=b,C=r.eql(r.mul(y,k),r.mul(_,w)),E=r.eql(r.mul(v,k),r.mul(x,w));return C&&E}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:y}=e,v=r.mul(y,tW),{px:w,py:_,pz:x}=this;let k=r.ZERO,C=r.ZERO,E=r.ZERO,T=r.mul(w,w),M=r.mul(_,_),I=r.mul(x,x),O=r.mul(w,_);return O=r.add(O,O),E=r.mul(w,x),E=r.add(E,E),k=r.mul(b,E),C=r.mul(v,I),C=r.add(k,C),k=r.sub(M,C),C=r.add(M,C),C=r.mul(k,C),k=r.mul(O,k),E=r.mul(v,E),I=r.mul(b,I),O=r.sub(T,I),O=r.mul(b,O),O=r.add(O,E),E=r.add(T,T),T=r.add(E,T),T=r.add(T,I),T=r.mul(T,O),C=r.add(C,T),I=r.mul(_,x),I=r.add(I,I),T=r.mul(I,O),k=r.sub(k,T),E=r.mul(I,M),E=r.add(E,E),E=r.add(E,E),new h(k,C,E)}add(b){d(b);const{px:y,py:v,pz:w}=this,{px:_,py:x,pz:k}=b;let C=r.ZERO,E=r.ZERO,T=r.ZERO;const M=e.a,I=r.mul(e.b,tW);let O=r.mul(y,_),F=r.mul(v,x),$=r.mul(w,k),z=r.add(y,v),D=r.add(_,x);z=r.mul(z,D),D=r.add(O,F),z=r.sub(z,D),D=r.add(y,w);let j=r.add(_,k);return D=r.mul(D,j),j=r.add(O,$),D=r.sub(D,j),j=r.add(v,w),C=r.add(x,k),j=r.mul(j,C),C=r.add(F,$),j=r.sub(j,C),T=r.mul(M,D),C=r.mul(I,$),T=r.add(C,T),C=r.sub(F,T),T=r.add(F,T),E=r.mul(C,T),F=r.add(O,O),F=r.add(F,O),$=r.mul(M,$),D=r.mul(I,D),F=r.add(F,$),$=r.sub(O,$),$=r.mul(M,$),D=r.add(D,$),O=r.mul(F,D),E=r.add(E,O),O=r.mul(j,D),C=r.mul(z,C),C=r.sub(C,O),O=r.mul(z,F),T=r.mul(j,T),T=r.add(T,O),new h(C,E,T)}subtract(b){return this.add(b.negate())}is0(){return this.equals(h.ZERO)}wNAF(b){return p.wNAFCached(this,u,b,y=>{const v=r.invertBatch(y.map(w=>w.pz));return y.map((w,_)=>w.toAffine(v[_])).map(h.fromAffine)})}multiplyUnsafe(b){const y=h.ZERO;if(b===Oc)return y;if(l(b),b===$o)return this;const{endo:v}=e;if(!v)return p.unsafeLadder(this,b);let{k1neg:w,k1:_,k2neg:x,k2:k}=v.splitScalar(b),C=y,E=y,T=this;for(;_>Oc||k>Oc;)_&$o&&(C=C.add(T)),k&$o&&(E=E.add(T)),T=T.double(),_>>=$o,k>>=$o;return w&&(C=C.negate()),x&&(E=E.negate()),E=new h(r.mul(E.px,v.beta),E.py,E.pz),C.add(E)}multiply(b){l(b);let y=b,v,w;const{endo:_}=e;if(_){const{k1neg:x,k1:k,k2neg:C,k2:E}=_.splitScalar(y);let{p:T,f:M}=this.wNAF(k),{p:I,f:O}=this.wNAF(E);T=p.constTimeNegate(x,T),I=p.constTimeNegate(C,I),I=new h(r.mul(I.px,_.beta),I.py,I.pz),v=T.add(I),w=M.add(O)}else{const{p:x,f:k}=this.wNAF(y);v=x,w=k}return h.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(b,y,v){const w=h.BASE,_=(k,C)=>C===Oc||C===$o||!k.equals(w)?k.multiplyUnsafe(C):k.multiply(C),x=_(this,y).add(_(b,v));return x.is0()?void 0:x}toAffine(b){const{px:y,py:v,pz:w}=this,_=this.is0();b==null&&(b=_?r.ONE:r.inv(w));const x=r.mul(y,b),k=r.mul(v,b),C=r.mul(w,b);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x,y:k}}isTorsionFree(){const{h:b,isTorsionFree:y}=e;if(b===$o)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:y}=e;return b===$o?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),i(h,this,b)}toHex(b=!0){return h0(this.toRawBytes(b))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,p=e4e(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function s4e(n){const e=kfe(n);return wx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function o4e(n){const e=s4e(n),{Fp:r,n:i}=e,s=r.BYTES+1,o=2*r.BYTES+1;function a(D){return Oc<D&&D<r.ORDER}function l(D){return ks(D,i)}function c(D){return BR(D,i)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=i4e({...e,toBytes(D,j,N){const R=j.toAffine(),H=r.toBytes(R.x),U=aw;return N?U(Uint8Array.from([j.hasEvenY()?2:3]),H):U(Uint8Array.from([4]),H,r.toBytes(R.y))},fromBytes(D){const j=D.length,N=D[0],R=D.subarray(1);if(j===s&&(N===2||N===3)){const H=Ef(R);if(!a(H))throw new Error("Point is not on curve");const U=h(H);let K=r.sqrt(U);const Y=(K&$o)===$o;return(N&1)===1!==Y&&(K=r.neg(K)),{x:H,y:K}}else if(j===o&&N===4){const H=r.fromBytes(R.subarray(0,r.BYTES)),U=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:H,y:U}}else throw new Error(`Point of length ${j} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),p=D=>h0(p0(D,e.nByteLength));function m(D){const j=i>>$o;return D>j}function b(D){return m(D)?l(-D):D}const y=(D,j,N)=>Ef(D.slice(j,N));class v{constructor(j,N,R){this.r=j,this.s=N,this.recovery=R,this.assertValidity()}static fromCompact(j){const N=e.nByteLength;return j=ga("compactSignature",j,N*2),new v(y(j,0,N),y(j,N,2*N))}static fromDER(j){const{r:N,s:R}=Zh.toSig(ga("DER",j));return new v(N,R)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(j){return new v(this.r,this.s,j)}recoverPublicKey(j){const{r:N,s:R,recovery:H}=this,U=E(ga("msgHash",j));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const K=H===2||H===3?N+e.n:N;if(K>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=H&1?"03":"02",Z=u.fromHex(Y+p(K)),G=c(K),X=l(-U*G),ae=l(R*G),be=u.BASE.multiplyAndAddUnsafe(Z,X,ae);if(!be)throw new Error("point at infinify");return be.assertValidity(),be}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return f0(this.toDERHex())}toDERHex(){return Zh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return f0(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(D){try{return d(D),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const D=_fe(e.n);return JRe(e.randomBytes(D),e.n)},precompute(D=8,j=u.BASE){return j._setWindowSize(D),j.multiply(BigInt(3)),j}};function _(D,j=!0){return u.fromPrivateKey(D).toRawBytes(j)}function x(D){const j=D instanceof Uint8Array,N=typeof D=="string",R=(j||N)&&D.length;return j?R===s||R===o:N?R===2*s||R===2*o:D instanceof u}function k(D,j,N=!0){if(x(D))throw new Error("first arg must be private key");if(!x(j))throw new Error("second arg must be public key");return u.fromHex(j).multiply(d(D)).toRawBytes(N)}const C=e.bits2int||function(D){const j=Ef(D),N=D.length*8-e.nBitLength;return N>0?j>>BigInt(N):j},E=e.bits2int_modN||function(D){return l(C(D))},T=X7(e.nBitLength);function M(D){if(typeof D!="bigint")throw new Error("bigint expected");if(!(Oc<=D&&D<T))throw new Error(`bigint expected < 2^${e.nBitLength}`);return p0(D,e.nByteLength)}function I(D,j,N=O){if(["recovered","canonical"].some(J=>J in N))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:H}=e;let{lowS:U,prehash:K,extraEntropy:Y}=N;U==null&&(U=!0),D=ga("msgHash",D),K&&(D=ga("prehashed msgHash",R(D)));const Z=E(D),G=d(j),X=[M(G),M(Z)];if(Y!=null){const J=Y===!0?H(r.BYTES):Y;X.push(ga("extraEntropy",J))}const ae=aw(...X),be=Z;function le(J){const xe=C(J);if(!f(xe))return;const ge=c(xe),V=u.BASE.multiply(xe).toAffine(),we=l(V.x);if(we===Oc)return;const ze=l(ge*l(be+we*G));if(ze===Oc)return;let et=(V.x===we?0:2)|Number(V.y&$o),$e=ze;return U&&m(ze)&&($e=b(ze),et^=1),new v(we,$e,et)}return{seed:ae,k2sig:le}}const O={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function $(D,j,N=O){const{seed:R,k2sig:H}=I(D,j,N),U=e;return vfe(U.hash.outputLen,U.nByteLength,U.hmac)(R,H)}u.BASE._setWindowSize(8);function z(D,j,N,R=F){var V;const H=D;if(j=ga("msgHash",j),N=ga("publicKey",N),"strict"in R)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:K}=R;let Y,Z;try{if(typeof H=="string"||H instanceof Uint8Array)try{Y=v.fromDER(H)}catch(we){if(!(we instanceof Zh.Err))throw we;Y=v.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:we,s:ze}=H;Y=new v(we,ze)}else throw new Error("PARSE");Z=u.fromHex(N)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&Y.hasHighS())return!1;K&&(j=e.hash(j));const{r:G,s:X}=Y,ae=E(j),be=c(X),le=l(ae*be),J=l(G*be),xe=(V=u.BASE.multiplyAndAddUnsafe(Z,le,J))==null?void 0:V.toAffine();return xe?l(xe.x)===G:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:k,sign:$,verify:z,ProjectivePoint:u,Signature:v,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function a4e(n){return{hash:n,hmac:(e,...r)=>NC(n,e,D8e(...r)),randomBytes:N8e}}function l4e(n,e){const r=i=>o4e({...n,...a4e(i)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sfe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nW=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c4e=BigInt(1),LR=BigInt(2),rW=(n,e)=>(n+e/LR)/e;function u4e(n){const e=Sfe,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=n*n*n%e,d=u*u*n%e,h=Co(d,r,e)*d%e,f=Co(h,r,e)*d%e,p=Co(f,LR,e)*u%e,m=Co(p,s,e)*p%e,b=Co(m,o,e)*m%e,y=Co(b,l,e)*b%e,v=Co(y,c,e)*y%e,w=Co(v,l,e)*b%e,_=Co(w,r,e)*d%e,x=Co(_,a,e)*m%e,k=Co(x,i,e)*u%e,C=Co(k,LR,e);if(!FR.eql(FR.sqr(C),n))throw new Error("Cannot find square root");return C}const FR=QRe(Sfe,void 0,void 0,{sqrt:u4e}),Qu=l4e({a:BigInt(0),b:BigInt(7),Fp:FR,n:nW,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=nW,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-c4e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),l=rW(o*n,e),c=rW(-i*n,e);let u=ks(n-l*r-c*s,e),d=ks(-l*i-c*o,e);const h=u>a,f=d>a;if(h&&(u=e-u),f&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:u,k2neg:f,k2:d}}}},X0);BigInt(0);Qu.ProjectivePoint;const Cfe="0x0000000000000000000000000000000000000000",iW="0x0000000000000000000000000000000000000000000000000000000000000000",d4e=`Ethereum Signed Message:
`,sW=BigInt(0),oW=BigInt(1),$R=BigInt(2),aW=BigInt(27),lW=BigInt(28),Z1=BigInt(35),Efe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h4e=Efe/$R,f4e=Symbol.for("nodejs.util.inspect.custom"),vh={};function j5(n){return Yd(Pr(n),32)}var Cg,yl,Eg,bd;const Ro=class Ro{constructor(e,r,i,s){st(this,Cg);st(this,yl);st(this,Eg);st(this,bd);MC(e,vh,"Signature"),De(this,Cg,r),De(this,yl,i),De(this,Eg,s),De(this,bd,null)}get r(){return te(this,Cg)}set r(e){je(Yy(e)===32,"invalid r","value",e),De(this,Cg,yt(e))}get s(){return je(parseInt(te(this,yl).substring(0,3))<8,"non-canonical s; use ._s","s",te(this,yl)),te(this,yl)}set s(e){je(Yy(e)===32,"invalid s","value",e),De(this,yl,yt(e))}get _s(){return te(this,yl)}isValid(){return BigInt(te(this,yl))<=h4e}get v(){return te(this,Eg)}set v(e){const r=ao(e,"value");je(r===27||r===28,"invalid v","v",e),De(this,Eg,r)}get networkV(){return te(this,bd)}get legacyChainId(){const e=this.networkV;return e==null?null:Ro.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Et(this.s);return this.yParity&&(e[0]|=128),yt(e)}get compactSerialized(){return Mr([this.r,this.yParityAndS])}get serialized(){return Mr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=Efe-BigInt(this._s),r=55-this.v,i=new Ro(vh,this.r,j5(e),r);return this.networkV&&De(i,bd,this.networkV),i}clone(){const e=new Ro(vh,this.r,this._s,this.v);return this.networkV&&De(e,bd,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[f4e](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const r=Un(e,"v");return r==aW||r==lW?sW:(je(r>=Z1,"invalid EIP-155 v","v",e),(r-Z1)/$R)}static getChainIdV(e,r){return Un(e)*$R+BigInt(35+r-27)}static getNormalizedV(e){const r=Un(e);return r===sW||r===aW?27:r===oW||r===lW?28:(je(r>=Z1,"invalid v","v",e),r&oW?27:28)}static from(e){function r(u,d){je(u,d,"signature",e)}if(e==null)return new Ro(vh,iW,iW,27);if(typeof e=="string"){const u=Et(e,"signature");if(u.length===64){const d=yt(u.slice(0,32)),h=u.slice(32,64),f=h[0]&128?28:27;return h[0]&=127,new Ro(vh,d,yt(h),f)}if(u.length===65){const d=yt(u.slice(0,32)),h=yt(u.slice(32,64)),f=Ro.getNormalizedV(u[64]);return new Ro(vh,d,h,f)}r(!1,"invalid raw signature length")}if(e instanceof Ro)return e.clone();const i=e.r;r(i!=null,"missing r");const s=j5(i),o=function(u,d){if(u!=null)return j5(u);if(d!=null){r(Ul(d,32),"invalid yParityAndS");const h=Et(d);return h[0]&=127,yt(h)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:l}=function(u,d,h){if(u!=null){const f=Un(u);return{networkV:f>=Z1?f:void 0,v:Ro.getNormalizedV(f)}}if(d!=null)return r(Ul(d,32),"invalid yParityAndS"),{v:Et(d)[0]&128?28:27};if(h!=null){switch(ao(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Ro(vh,s,o,l);return a&&De(c,bd,a),r(e.yParity==null||ao(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Cg=new WeakMap,yl=new WeakMap,Eg=new WeakMap,bd=new WeakMap;let Ba=Ro;var Pc;const Hh=class Hh{constructor(e){st(this,Pc);je(Yy(e)===32,"invalid private key","privateKey","[REDACTED]"),De(this,Pc,yt(e))}get privateKey(){return te(this,Pc)}get publicKey(){return Hh.computePublicKey(te(this,Pc))}get compressedPublicKey(){return Hh.computePublicKey(te(this,Pc),!0)}sign(e){je(Yy(e)===32,"invalid digest length","digest",e);const r=Qu.sign(gm(e),gm(te(this,Pc)),{lowS:!0});return Ba.from({r:c0(r.r,32),s:c0(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Hh.computePublicKey(e);return yt(Qu.getSharedSecret(gm(te(this,Pc)),Et(r),!1))}static computePublicKey(e,r){let i=Et(e,"key");if(i.length===32){const o=Qu.getPublicKey(i,!!r);return yt(o)}if(i.length===64){const o=new Uint8Array(65);o[0]=4,o.set(i,1),i=o}const s=Qu.ProjectivePoint.fromHex(i);return yt(s.toRawBytes(r))}static recoverPublicKey(e,r){je(Yy(e)===32,"invalid digest length","digest",e);const i=Ba.from(r);let s=Qu.Signature.fromCompact(gm(Mr([i.r,i.s])));s=s.addRecoveryBit(i.yParity);const o=s.recoverPublicKey(gm(e));return je(o!=null,"invalid signature for digest","signature",r),"0x"+o.toHex(!1)}static addPoints(e,r,i){const s=Qu.ProjectivePoint.fromHex(Hh.computePublicKey(e).substring(2)),o=Qu.ProjectivePoint.fromHex(Hh.computePublicKey(r).substring(2));return"0x"+s.add(o).toHex(!!i)}};Pc=new WeakMap;let Ol=Hh;const p4e=BigInt(0),m4e=BigInt(36);function cW(n){n=n.toLowerCase();const e=n.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const i=Et(ni(r));for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(i[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Q7={};for(let n=0;n<10;n++)Q7[String(n)]=String(n);for(let n=0;n<26;n++)Q7[String.fromCharCode(65+n)]=String(10+n);const uW=15;function g4e(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(i=>Q7[i]).join("");for(;e.length>=uW;){let i=e.substring(0,uW);e=parseInt(i,10)%97+e.substring(i.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const b4e=function(){const n={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[r]=BigInt(e)}return n}();function y4e(n){n=n.toLowerCase();let e=p4e;for(let r=0;r<n.length;r++)e=e*m4e+b4e[n[r]];return e}function na(n){if(je(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=cW(n);return je(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){je(n.substring(2,4)===g4e(n),"bad icap checksum","address",n);let e=y4e(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return cW("0x"+e)}je(!1,"invalid address","address",n)}function v4e(n){return n&&typeof n.getAddress=="function"}async function B5(n,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(bn(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),je(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),na(r)}function Ky(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?na(n):(bn(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),B5(n,e.resolveName(n)));if(v4e(n))return B5(n,n.getAddress());if(n&&typeof n.then=="function")return B5(n,n);je(!1,"unsupported addressable value","target",n)}function L5(n,e){return{address:na(n),storageKeys:e.map((r,i)=>(je(Ul(r,32),"invalid slot",`storageKeys[${i}]`,r),r.toLowerCase()))}}function LC(n){if(Array.isArray(n))return n.map((r,i)=>Array.isArray(r)?(je(r.length===2,"invalid slot set",`value[${i}]`,r),L5(r[0],r[1])):(je(r!=null&&typeof r=="object","invalid address-slot set","value",n),L5(r.address,r.storageKeys)));je(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(r=>{const i=n[r].reduce((s,o)=>(s[o]=!0,s),{});return L5(r,Object.keys(i).sort())});return e.sort((r,i)=>r.address.localeCompare(i.address)),e}function w4e(n){return{address:na(n.address),nonce:Un(n.nonce!=null?n.nonce:0),chainId:Un(n.chainId!=null?n.chainId:0),signature:Ba.from(n.signature)}}function xx(n){let e;return typeof n=="string"?e=Ol.computePublicKey(n,!1):e=n.publicKey,na(ni("0x"+e.substring(4)).substring(26))}function x4e(n,e){return xx(Ol.recoverPublicKey(n,e))}const ei=BigInt(0),_4e=BigInt(2),k4e=BigInt(27),S4e=BigInt(28),C4e=BigInt(35),E4e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),A4e=Symbol.for("nodejs.util.inspect.custom"),F5=4096*32,gk=128;function T4e(n){return{blobToKzgCommitment:i=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Et(n.blobToKzgCommitment(yt(i)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Et(n.blobToKzgCommitment(i));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return Et(n.blobToKZGCommitment(yt(i)));je(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(i,s)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return Et(n.computeBlobProof(yt(i),yt(s)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(i,s);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return Et(n.computeBlobKZGProof(yt(i),yt(s)));je(!1,"unsupported KZG library","kzg",n)}}}function dW(n,e){let r=n.toString(16);for(;r.length<2;)r="0"+r;return r+=ta(e).substring(4),"0x"+r}function Z0(n){return n==="0x"?null:na(n)}function FC(n,e){try{return LC(n)}catch(r){je(!1,r.message,e,n)}}function P4e(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const r=[];for(let i=0;i<n.length;i++){const s=n[i];if(!Array.isArray(s))throw new Error(`authorization[${i}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${i}]: wrong length`);if(!s[1])throw new Error(`authorization[${i}]: null address`);r.push({address:Z0(s[1]),nonce:Nn(s[2],"nonce"),chainId:Nn(s[0],"chainId"),signature:Ba.from({yParity:gp(s[3],"yParity"),r:Yd(s[4],32),s:Yd(s[5],32)})})}return r}catch(r){je(!1,r.message,e,n)}}function gp(n,e){return n==="0x"?0:ao(n,e)}function Nn(n,e){if(n==="0x")return ei;const r=Un(n,e);return je(r<=E4e,"value exceeds uint size",e,r),r}function hn(n,e){const r=Un(n,"value"),i=Pr(r);return je(i.length<=32,"value too large",`tx.${e}`,r),i}function $C(n){return LC(n).map(e=>[e.address,e.storageKeys])}function I4e(n){return n.map(e=>[hn(e.chainId,"chainId"),e.address,hn(e.nonce,"nonce"),hn(e.signature.yParity,"yParity"),Pr(e.signature.r),Pr(e.signature._s)])}function M4e(n,e){je(Array.isArray(n),`invalid ${e}`,"value",n);for(let r=0;r<n.length;r++)je(Ul(n[r],32),"invalid ${ param } hash",`value[${r}]`,n[r]);return n}function O4e(n){const e=gx(n);je(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const r={type:0,nonce:gp(e[0],"nonce"),gasPrice:Nn(e[1],"gasPrice"),gasLimit:Nn(e[2],"gasLimit"),to:Z0(e[3]),value:Nn(e[4],"value"),data:yt(e[5]),chainId:ei};if(e.length===6)return r;const i=Nn(e[6],"v"),s=Nn(e[7],"r"),o=Nn(e[8],"s");if(s===ei&&o===ei)r.chainId=i;else{let a=(i-C4e)/_4e;a<ei&&(a=ei),r.chainId=a,je(a!==ei||i===k4e||i===S4e,"non-canonical legacy v","v",e[6]),r.signature=Ba.from({r:Yd(e[7],32),s:Yd(e[8],32),v:i})}return r}function D4e(n,e){const r=[hn(n.nonce,"nonce"),hn(n.gasPrice||0,"gasPrice"),hn(n.gasLimit,"gasLimit"),n.to||"0x",hn(n.value,"value"),n.data];let i=ei;if(n.chainId!=ei)i=Un(n.chainId,"tx.chainId"),je(!e||e.networkV==null||e.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const o=n.signature.legacyChainId;o!=null&&(i=o)}if(!e)return i!==ei&&(r.push(Pr(i)),r.push("0x"),r.push("0x")),Vc(r);let s=BigInt(27+e.yParity);return i!==ei?s=Ba.getChainIdV(i,e.v):BigInt(e.v)!==s&&je(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Pr(s)),r.push(Pr(e.r)),r.push(Pr(e._s)),Vc(r)}function zC(n,e){let r;try{if(r=gp(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{je(!1,"invalid yParity","yParity",e[0])}const i=Yd(e[1],32),s=Yd(e[2],32),o=Ba.from({r:i,s,yParity:r});n.signature=o}function R4e(n){const e=gx(Et(n).slice(1));je(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",yt(n));const r={type:2,chainId:Nn(e[0],"chainId"),nonce:gp(e[1],"nonce"),maxPriorityFeePerGas:Nn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Nn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Nn(e[4],"gasLimit"),to:Z0(e[5]),value:Nn(e[6],"value"),data:yt(e[7]),accessList:FC(e[8],"accessList")};return e.length===9||zC(r,e.slice(9)),r}function N4e(n,e){const r=[hn(n.chainId,"chainId"),hn(n.nonce,"nonce"),hn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(n.maxFeePerGas||0,"maxFeePerGas"),hn(n.gasLimit,"gasLimit"),n.to||"0x",hn(n.value,"value"),n.data,$C(n.accessList||[])];return e&&(r.push(hn(e.yParity,"yParity")),r.push(Pr(e.r)),r.push(Pr(e.s))),Mr(["0x02",Vc(r)])}function j4e(n){const e=gx(Et(n).slice(1));je(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",yt(n));const r={type:1,chainId:Nn(e[0],"chainId"),nonce:gp(e[1],"nonce"),gasPrice:Nn(e[2],"gasPrice"),gasLimit:Nn(e[3],"gasLimit"),to:Z0(e[4]),value:Nn(e[5],"value"),data:yt(e[6]),accessList:FC(e[7],"accessList")};return e.length===8||zC(r,e.slice(8)),r}function B4e(n,e){const r=[hn(n.chainId,"chainId"),hn(n.nonce,"nonce"),hn(n.gasPrice||0,"gasPrice"),hn(n.gasLimit,"gasLimit"),n.to||"0x",hn(n.value,"value"),n.data,$C(n.accessList||[])];return e&&(r.push(hn(e.yParity,"recoveryParam")),r.push(Pr(e.r)),r.push(Pr(e.s))),Mr(["0x01",Vc(r)])}function L4e(n){let e=gx(Et(n).slice(1)),r="3",i=null,s=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const a=e[1],l=e[2],c=e[3];je(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),je(Array.isArray(l),"invalid network format: commitments not an array","fields[2]",l),je(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),je(a.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),je(a.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<e[1].length;u++)s.push({data:a[u],commitment:l[u],proof:c[u]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",i=ao(e[1]);const a=e[2],l=e[3],c=e[4];je(i===1,`unsupported EIP-7594 network format version: ${i}`,"fields[1]",i),je(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),je(Array.isArray(l),"invalid EIP-7594 network format: commitments not an array","fields[3]",l),je(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),je(a.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),je(a.length*gk===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<a.length;u++){const d=[];for(let h=0;h<gk;h++)d.push(c[u*gk+h]);s.push({data:a[u],commitment:l[u],proof:Mr(d)})}e=e[0]}je(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",yt(n));const o={type:3,chainId:Nn(e[0],"chainId"),nonce:gp(e[1],"nonce"),maxPriorityFeePerGas:Nn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Nn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Nn(e[4],"gasLimit"),to:Z0(e[5]),value:Nn(e[6],"value"),data:yt(e[7]),accessList:FC(e[8],"accessList"),maxFeePerBlobGas:Nn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:i};s&&(o.blobs=s),je(o.to!=null,`invalid address for transaction type: ${r}`,"data",n),je(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let a=0;a<o.blobVersionedHashes.length;a++)je(Ul(o.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",n);return e.length===11||zC(o,e.slice(11)),o}function F4e(n,e,r){const i=[hn(n.chainId,"chainId"),hn(n.nonce,"nonce"),hn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(n.maxFeePerGas||0,"maxFeePerGas"),hn(n.gasLimit,"gasLimit"),n.to||Cfe,hn(n.value,"value"),n.data,$C(n.accessList||[]),hn(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),M4e(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(i.push(hn(e.yParity,"yParity")),i.push(Pr(e.r)),i.push(Pr(e.s)),r)){if(n.blobWrapperVersion!=null){const s=Pr(n.blobWrapperVersion),o=[];for(const{proof:a}of r){const l=Et(a),c=l.length/gk;for(let u=0;u<l.length;u+=c)o.push(l.subarray(u,u+c))}return Mr(["0x03",Vc([i,s,r.map(a=>a.data),r.map(a=>a.commitment),o])])}return Mr(["0x03",Vc([i,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])])}return Mr(["0x03",Vc(i)])}function $4e(n){const e=gx(Et(n).slice(1));je(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",yt(n));const r={type:4,chainId:Nn(e[0],"chainId"),nonce:gp(e[1],"nonce"),maxPriorityFeePerGas:Nn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Nn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Nn(e[4],"gasLimit"),to:Z0(e[5]),value:Nn(e[6],"value"),data:yt(e[7]),accessList:FC(e[8],"accessList"),authorizationList:P4e(e[9],"authorizationList")};return e.length===10||zC(r,e.slice(10)),r}function z4e(n,e){const r=[hn(n.chainId,"chainId"),hn(n.nonce,"nonce"),hn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(n.maxFeePerGas||0,"maxFeePerGas"),hn(n.gasLimit,"gasLimit"),n.to||"0x",hn(n.value,"value"),n.data,$C(n.accessList||[]),I4e(n.authorizationList||[])];return e&&(r.push(hn(e.yParity,"yParity")),r.push(Pr(e.r)),r.push(Pr(e.s))),Mr(["0x04",Vc(r)])}var va,Ag,Tg,Pg,Ig,Mg,Og,Dg,Rg,Ng,jg,Bg,bf,yd,vl,vd,Lg,Fg,$g,bk;const hl=class hl{constructor(){st(this,$g);st(this,va);st(this,Ag);st(this,Tg);st(this,Pg);st(this,Ig);st(this,Mg);st(this,Og);st(this,Dg);st(this,Rg);st(this,Ng);st(this,jg);st(this,Bg);st(this,bf);st(this,yd);st(this,vl);st(this,vd);st(this,Lg);st(this,Fg);De(this,va,null),De(this,Ag,null),De(this,Pg,0),De(this,Ig,ei),De(this,Mg,null),De(this,Og,null),De(this,Dg,null),De(this,Tg,"0x"),De(this,Rg,ei),De(this,Ng,ei),De(this,jg,null),De(this,Bg,null),De(this,bf,null),De(this,yd,null),De(this,vl,null),De(this,vd,null),De(this,Lg,null),De(this,Fg,null)}get type(){return te(this,va)}set type(e){switch(e){case null:De(this,va,null);break;case 0:case"legacy":De(this,va,0);break;case 1:case"berlin":case"eip-2930":De(this,va,1);break;case 2:case"london":case"eip-1559":De(this,va,2);break;case 3:case"cancun":case"eip-4844":De(this,va,3);break;case 4:case"pectra":case"eip-7702":De(this,va,4);break;default:je(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=te(this,Ag);return e==null&&this.type===3?Cfe:e}set to(e){De(this,Ag,e==null?null:na(e))}get nonce(){return te(this,Pg)}set nonce(e){De(this,Pg,ao(e,"value"))}get gasLimit(){return te(this,Ig)}set gasLimit(e){De(this,Ig,Un(e))}get gasPrice(){const e=te(this,Mg);return e==null&&(this.type===0||this.type===1)?ei:e}set gasPrice(e){De(this,Mg,e==null?null:Un(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=te(this,Og);return e??(this.type===2||this.type===3?ei:null)}set maxPriorityFeePerGas(e){De(this,Og,e==null?null:Un(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=te(this,Dg);return e??(this.type===2||this.type===3?ei:null)}set maxFeePerGas(e){De(this,Dg,e==null?null:Un(e,"maxFeePerGas"))}get data(){return te(this,Tg)}set data(e){De(this,Tg,yt(e))}get value(){return te(this,Rg)}set value(e){De(this,Rg,Un(e,"value"))}get chainId(){return te(this,Ng)}set chainId(e){De(this,Ng,Un(e))}get signature(){return te(this,jg)||null}set signature(e){De(this,jg,e==null?null:Ba.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const r=this.authorizationList;if(r){for(const i of r)if(!i.signature.isValid())return!1}return!0}get accessList(){const e=te(this,Bg)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){De(this,Bg,e==null?null:LC(e))}get authorizationList(){const e=te(this,Lg)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){De(this,Lg,e==null?null:e.map(r=>w4e(r)))}get maxFeePerBlobGas(){const e=te(this,bf);return e==null&&this.type===3?ei:e}set maxFeePerBlobGas(e){De(this,bf,e==null?null:Un(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=te(this,yd);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){je(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)je(Ul(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}De(this,yd,e)}get blobs(){return te(this,vd)==null?null:te(this,vd).map(e=>Object.assign({},e))}set blobs(e){if(e==null){De(this,vd,null);return}const r=[],i=[];for(let s=0;s<e.length;s++){const o=e[s];if(OC(o)){bn(te(this,vl),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=Et(o);if(je(a.length<=F5,"blob is too large",`blobs[${s}]`,o),a.length!==F5){const u=new Uint8Array(F5);u.set(a),a=u}const l=te(this,vl).blobToKzgCommitment(a),c=yt(te(this,vl).computeBlobKzgProof(a,l));r.push({data:yt(a),commitment:yt(l),proof:c}),i.push(dW(1,l))}else{const a=yt(o.data),l=yt(o.commitment),c=yt(o.proof);r.push({data:a,commitment:l,proof:c}),i.push(dW(1,l))}}De(this,vd,r),De(this,yd,i)}get kzg(){return te(this,vl)}set kzg(e){e==null?De(this,vl,null):De(this,vl,T4e(e))}get blobWrapperVersion(){return te(this,Fg)}set blobWrapperVersion(e){De(this,Fg,e)}get hash(){return this.signature==null?null:ni(Dt(this,$g,bk).call(this,!0,!1))}get unsignedHash(){return ni(this.unsignedSerialized)}get from(){return this.signature==null?null:x4e(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Ol.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return Dt(this,$g,bk).call(this,!0,!0)}get unsignedSerialized(){return Dt(this,$g,bk).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,s=te(this,bf)!=null||te(this,yd);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&bn(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),bn(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),bn(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):r?o.push(2):e?(o.push(1),i||o.push(0)):i?(o.push(1),o.push(2)):(s&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return hl.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[A4e](){return this.toString()}toString(){const e=[],r=s=>{let o=this[s];typeof o=="string"&&(o=JSON.stringify(o)),e.push(`${s}: ${o}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));const i=this.authorizationList;if(i){const s=[];for(const o of i){const a=[];a.push(`address: ${JSON.stringify(o.address)}`),o.nonce!=null&&a.push(`nonce: ${o.nonce}`),o.chainId!=null&&a.push(`chainId: ${o.chainId}`),o.signature&&a.push(`signature: ${o.signature.toString()}`),s.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new hl;if(typeof e=="string"){const i=Et(e);if(i[0]>=127)return hl.from(O4e(i));switch(i[0]){case 1:return hl.from(j4e(i));case 2:return hl.from(R4e(i));case 3:return hl.from(L4e(i));case 4:return hl.from($4e(i))}bn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new hl;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Ba.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(je(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),je(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(je(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),je(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};va=new WeakMap,Ag=new WeakMap,Tg=new WeakMap,Pg=new WeakMap,Ig=new WeakMap,Mg=new WeakMap,Og=new WeakMap,Dg=new WeakMap,Rg=new WeakMap,Ng=new WeakMap,jg=new WeakMap,Bg=new WeakMap,bf=new WeakMap,yd=new WeakMap,vl=new WeakMap,vd=new WeakMap,Lg=new WeakMap,Fg=new WeakMap,$g=new WeakSet,bk=function(e,r){bn(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const i=e?this.signature:null;switch(this.inferType()){case 0:return D4e(this,i);case 1:return B4e(this,i);case 2:return N4e(this,i);case 3:return F4e(this,i,r?this.blobs:null);case 4:return z4e(this,i)}bn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let MS=hl;function U4e(n){return je(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),ni(Mr(["0x05",Vc([n.chainId!=null?Pr(n.chainId):"0x",na(n.address),n.nonce!=null?Pr(n.nonce):"0x"])]))}function J7(n){return ni(Cf(n))}function W4e(n){return typeof n=="string"&&(n=Cf(n)),ni(Mr([Cf(d4e),Cf(String(n.length)),n]))}const Afe=new Uint8Array(32);Afe.fill(0);const q4e=BigInt(-1),Tfe=BigInt(0),Pfe=BigInt(1),H4e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function V4e(n){const e=Et(n),r=e.length%32;return r?Mr([e,Afe.slice(r)]):yt(e)}const G4e=c0(Pfe,32),Y4e=c0(Tfe,32),hW={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},$5=["name","version","chainId","verifyingContract","salt"];function fW(n){return function(e){return je(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const K4e={name:fW("name"),version:fW("version"),chainId:function(n){const e=Un(n,"domain.chainId");return je(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):k8e(e)},verifyingContract:function(n){try{return na(n).toLowerCase()}catch{}je(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=Et(n,"domain.salt");return je(e.length===32,'invalid domain value "salt"',"domain.salt",n),yt(e)}};function z5(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",i=parseInt(e[2]);je(i%8===0&&i!==0&&i<=256&&e[2]===String(i),"invalid numeric width","type",n);const s=_8e(H4e,r?i-1:i),o=r?(s+Pfe)*q4e:Tfe;return function(a){const l=Un(a,"value");return je(l>=o&&l<=s,`value out-of-bounds for ${n}`,"value",l),c0(r?x8e(l,256):l,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return je(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",n),function(i){const s=Et(i);return je(s.length===r,`invalid length for ${n}`,"value",i),V4e(i)}}}switch(n){case"address":return function(e){return Yd(na(e),32)};case"bool":return function(e){return e?G4e:Y4e};case"bytes":return function(e){return ni(e)};case"string":return function(e){return J7(e)}}return null}function pW(n,e){return`${n}(${e.map(({name:r,type:i})=>i+" "+r).join(",")})`}function e_(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var $w,Ic,zg,B2,Ife;const No=class No{constructor(e){st(this,B2);Be(this,"primaryType");st(this,$w);st(this,Ic);st(this,zg);De(this,Ic,new Map),De(this,zg,new Map);const r=new Map,i=new Map,s=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:u,type:d})=>{let{base:h,index:f}=e_(d);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:u,type:h+(f||"")}}),r.set(c,new Set),i.set(c,[]),s.set(c,new Set)}),De(this,$w,JSON.stringify(o));for(const c in o){const u=new Set;for(const d of o[c]){je(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),u.add(d.name);const h=e_(d.type).base;je(h!==c,`circular type reference to ${JSON.stringify(h)}`,"types",e),!z5(h)&&(je(i.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),i.get(h).push(c),r.get(c).add(h))}}const a=Array.from(i.keys()).filter(c=>i.get(c).length===0);je(a.length!==0,"missing primary type","types",e),je(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),oo(this,{primaryType:a[0]});function l(c,u){je(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const d of r.get(c))if(i.has(d)){l(d,u);for(const h of u)s.get(h).add(d)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of s){const d=Array.from(u);d.sort(),te(this,Ic).set(c,pW(c,o[c])+d.map(h=>pW(h,o[h])).join(""))}}get types(){return JSON.parse(te(this,$w))}getEncoder(e){let r=te(this,zg).get(e);return r||(r=Dt(this,B2,Ife).call(this,e),te(this,zg).set(e,r)),r}encodeType(e){const r=te(this,Ic).get(e);return je(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return ni(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,i){if(z5(e))return i(e,r);const s=e_(e).array;if(s)return je(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(a=>this._visit(s.prefix,a,i));const o=this.types[e];if(o)return o.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,r[l],i),a),{});je(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new No(e)}static getPrimaryType(e){return No.from(e).primaryType}static hashStruct(e,r,i){return No.from(r).hashStruct(e,i)}static hashDomain(e){const r=[];for(const i in e){if(e[i]==null)continue;const s=hW[i];je(s,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),r.push({name:i,type:s})}return r.sort((i,s)=>$5.indexOf(i.name)-$5.indexOf(s.name)),No.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,i){return Mr(["0x1901",No.hashDomain(e),No.from(r).hash(i)])}static hash(e,r,i){return ni(No.encode(e,r,i))}static async resolveNames(e,r,i,s){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const o={};e.verifyingContract&&!Ul(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const a=No.from(r);a.visit(i,(l,c)=>(l==="address"&&!Ul(c,20)&&(o[c]="0x"),c));for(const l in o)o[l]=await s(l);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),i=a.visit(i,(l,c)=>l==="address"&&o[c]?o[c]:c),{domain:e,value:i}}static getPayload(e,r,i){No.hashDomain(e);const s={},o=[];$5.forEach(c=>{const u=e[c];u!=null&&(s[c]=K4e[c](u),o.push({name:c,type:hW[c]}))});const a=No.from(r);r=a.types;const l=Object.assign({},r);return je(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),l.EIP712Domain=o,a.encode(i),{types:l,domain:s,primaryType:a.primaryType,message:a.visit(i,(c,u)=>{if(c.match(/^bytes(\d*)/))return yt(Et(u));if(c.match(/^u?int/))return Un(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return je(typeof u=="string","invalid string","value",u),u}je(!1,"unsupported type","type",c)})}}};$w=new WeakMap,Ic=new WeakMap,zg=new WeakMap,B2=new WeakSet,Ife=function(e){{const s=z5(e);if(s)return s}const r=e_(e).array;if(r){const s=r.prefix,o=this.getEncoder(s);return a=>{je(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let l=a.map(o);return te(this,Ic).has(s)&&(l=l.map(ni)),ni(Mr(l))}}const i=this.types[e];if(i){const s=J7(te(this,Ic).get(e));return o=>{const a=i.map(({name:l,type:c})=>{const u=this.getEncoder(c)(o[l]);return te(this,Ic).has(c)?ni(u):u});return a.unshift(s),Mr(a)}}je(!1,`unknown type: ${e}`,"type",e)};let OS=No;BigInt(0);function Mfe(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=yt(n.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=Un(n[s],`request.${s}`));const i="type,nonce".split(/,/);for(const s of i)!(s in n)||n[s]==null||(e[s]=ao(n[s],`request.${s}`));return n.accessList&&(e.accessList=LC(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(s=>OC(s)?yt(s):Object.assign({},s))),e}function wh(n,e){if(n.provider)return n.provider;bn(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function mW(n,e){let r=Mfe(e);if(r.to!=null&&(r.to=Ky(r.to,n)),r.from!=null){const i=r.from;r.from=Promise.all([n.getAddress(),Ky(i,n)]).then(([s,o])=>(je(s.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),s))}else r.from=n.getAddress();return await j7(r)}class Ofe{constructor(e){Be(this,"provider");oo(this,{provider:e||null})}async getNonce(e){return wh(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await mW(this,e)}async populateTransaction(e){const r=wh(this,"populateTransaction"),i=await mW(this,e);i.nonce==null&&(i.nonce=await this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=await this.estimateGas(i));const s=await this.provider.getNetwork();if(i.chainId!=null){const a=Un(i.chainId);je(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else i.chainId=s.chainId;const o=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||o)?je(!1,"eip-1559 transaction do not support gasPrice","tx",e):(i.type===0||i.type===1)&&o&&je(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){const a=await r.getFeeData();bn(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(i.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(i.authorizationList&&i.authorizationList.length?i.type=4:i.type=2,i.gasPrice!=null){const l=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=l,i.maxPriorityFeePerGas=l}else i.maxFeePerGas==null&&(i.maxFeePerGas=a.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(bn(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=a.gasPrice),i.type=0):bn(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(i.type===2||i.type===3||i.type===4)&&(i.maxFeePerGas==null&&(i.maxFeePerGas=a.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await j7(i)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await wh(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return wh(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return wh(this,"call").call(await this.populateCall(e))}async resolveName(e){return await wh(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=wh(this,"sendTransaction"),i=await this.populateTransaction(e);delete i.from;const s=MS.from(i);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){bn(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Ug,yk;const PL=class PL extends Ofe{constructor(r,i){super(i);st(this,Ug);Be(this,"address");oo(this,{address:r})}async getAddress(){return this.address}connect(r){return new PL(this.address,r)}async signTransaction(r){Dt(this,Ug,yk).call(this,"transactions","signTransaction")}async signMessage(r){Dt(this,Ug,yk).call(this,"messages","signMessage")}async signTypedData(r,i,s){Dt(this,Ug,yk).call(this,"typed-data","signTypedData")}};Ug=new WeakSet,yk=function(r,i){bn(!1,`VoidSigner cannot sign ${r}`,"UNSUPPORTED_OPERATION",{operation:i})};let zR=PL;var Wg;const IL=class IL extends Ofe{constructor(r,i){super(i);Be(this,"address");st(this,Wg);je(r&&typeof r.sign=="function","invalid private key","privateKey","[ REDACTED ]"),De(this,Wg,r);const s=xx(this.signingKey.publicKey);oo(this,{address:s})}get signingKey(){return te(this,Wg)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(r){return new IL(te(this,Wg),r)}async signTransaction(r){r=Mfe(r);const{to:i,from:s}=await j7({to:r.to?Ky(r.to,this):void 0,from:r.from?Ky(r.from,this):void 0});i!=null&&(r.to=i),s!=null&&(r.from=s),r.from!=null&&(je(na(r.from)===this.address,"transaction from address mismatch","tx.from",r.from),delete r.from);const o=MS.from(r);return o.signature=this.signingKey.sign(o.unsignedHash),o.serialized}async signMessage(r){return this.signMessageSync(r)}signMessageSync(r){return this.signingKey.sign(W4e(r)).serialized}authorizeSync(r){je(typeof r.address=="string","invalid address for authorizeSync","auth.address",r);const i=this.signingKey.sign(U4e(r));return Object.assign({},{address:na(r.address),nonce:Un(r.nonce||0),chainId:Un(r.chainId||0)},{signature:i})}async authorize(r){return r=Object.assign({},r,{address:await Ky(r.address,this)}),this.authorizeSync(await this.populateAuthorization(r))}async signTypedData(r,i,s){const o=await OS.resolveNames(r,i,s,async a=>{bn(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const l=await this.provider.resolveName(a);return bn(l!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),l});return this.signingKey.sign(OS.hash(o.domain,i,o.value)).serialized}};Wg=new WeakMap;let UR=IL;const DS=" !#$%&'()*+,-./<=>?@[]^_`{|}~",X4e=/^[a-z]*$/i;function gW(n,e){let r=97;return n.reduce((i,s)=>(s===e?r++:s.match(X4e)?i.push(String.fromCharCode(r)+s):(r=97,i.push(s)),i),[])}function Q4e(n,e){for(let s=DS.length-1;s>=0;s--)n=n.split(DS[s]).join(e.substring(2*s,2*s+2));const r=[],i=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,o,a,l)=>{if(a)for(let c=parseInt(a);c>=0;c--)r.push(";");else r.push(o.toLowerCase());return""});if(i)throw new Error(`leftovers: ${JSON.stringify(i)}`);return gW(gW(r,";"),":")}function J4e(n){return je(n[0]==="0","unsupported auwl data","data",n),Q4e(n.substring(1+2*DS.length),n.substring(1,1+2*DS.length))}class Z4e{constructor(e){Be(this,"locale");oo(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var qg,zw,yf,Uw,WR;class eNe extends Z4e{constructor(r,i,s){super(r);st(this,Uw);st(this,qg);st(this,zw);st(this,yf);De(this,qg,i),De(this,zw,s),De(this,yf,null)}get _data(){return te(this,qg)}_decodeWords(){return J4e(te(this,qg))}getWord(r){const i=Dt(this,Uw,WR).call(this);return je(r>=0&&r<i.length,`invalid word index: ${r}`,"index",r),i[r]}getWordIndex(r){return Dt(this,Uw,WR).call(this).indexOf(r)}}qg=new WeakMap,zw=new WeakMap,yf=new WeakMap,Uw=new WeakSet,WR=function(){if(te(this,yf)==null){const r=this._decodeWords();if(J7(r.join(`
`)+`
`)!==te(this,zw))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);De(this,yf,r)}return te(this,yf)};const tNe="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",nNe="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let U5=null;class Kf extends eNe{constructor(){super("en",tNe,nNe)}static wordlist(){return U5==null&&(U5=new Kf),U5}}function Dfe(n){return(1<<n)-1<<8-n&255}function rNe(n){return(1<<n)-1&255}function W5(n,e){She("NFKD"),e==null&&(e=Kf.wordlist());const r=e.split(n);je(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const i=new Uint8Array(Math.ceil(11*r.length/8));let s=0;for(let u=0;u<r.length;u++){let d=e.getWordIndex(r[u].normalize("NFKD"));je(d>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)d&1<<10-h&&(i[s>>3]|=1<<7-s%8),s++}const o=32*r.length/3,a=r.length/3,l=Dfe(a),c=Et(ta(i.slice(0,o/8)))[0]&l;return je(c===(i[i.length-1]&l),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),yt(i.slice(0,o/8))}function q5(n,e){je(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Kf.wordlist());const r=[0];let i=11;for(let a=0;a<n.length;a++)i>8?(r[r.length-1]<<=8,r[r.length-1]|=n[a],i-=8):(r[r.length-1]<<=i,r[r.length-1]|=n[a]>>8-i,r.push(n[a]&rNe(8-i)),i+=3);const s=n.length/4,o=parseInt(ta(n).substring(2,4),16)&Dfe(s);return r[r.length-1]<<=s,r[r.length-1]|=o>>8-s,e.join(r.map(a=>e.getWord(a)))}const H5={};class lw{constructor(e,r,i,s,o){Be(this,"phrase");Be(this,"password");Be(this,"wordlist");Be(this,"entropy");s==null&&(s=""),o==null&&(o=Kf.wordlist()),MC(e,H5,"Mnemonic"),oo(this,{phrase:i,password:s,wordlist:o,entropy:r})}computeSeed(){const e=Cf("mnemonic"+this.password,"NFKD");return bx(Cf(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,i){const s=W5(e,i);return e=q5(Et(s),i),new lw(H5,s,e,r,i)}static fromEntropy(e,r,i){const s=Et(e,"entropy"),o=q5(s,i);return new lw(H5,yt(s),o,r,i)}static entropyToPhrase(e,r){const i=Et(e,"entropy");return q5(i,r)}static phraseToEntropy(e,r){return W5(e,r)}static isValidMnemonic(e,r){try{return W5(e,r),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var fi=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},V5=function(n,e,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,r):s?s.value=r:e.set(n,r),r},vk,Io,sl;const iNe={16:10,24:12,32:14},sNe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Eo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],t_=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],oNe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],aNe=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],lNe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],cNe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],uNe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],dNe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],hNe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],fNe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],pNe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],mNe=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],gNe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],bNe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function G5(n){const e=[];for(let r=0;r<n.length;r+=4)e.push(n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]);return e}class Z7{get key(){return fi(this,vk,"f").slice()}constructor(e){if(vk.set(this,void 0),Io.set(this,void 0),sl.set(this,void 0),!(this instanceof Z7))throw Error("AES must be instanitated with `new`");V5(this,vk,new Uint8Array(e),"f");const r=iNe[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");V5(this,sl,[],"f"),V5(this,Io,[],"f");for(let d=0;d<=r;d++)fi(this,sl,"f").push([0,0,0,0]),fi(this,Io,"f").push([0,0,0,0]);const i=(r+1)*4,s=this.key.length/4,o=G5(this.key);let a;for(let d=0;d<s;d++)a=d>>2,fi(this,sl,"f")[a][d%4]=o[d],fi(this,Io,"f")[r-a][d%4]=o[d];let l=0,c=s,u;for(;c<i;){if(u=o[s-1],o[0]^=Eo[u>>16&255]<<24^Eo[u>>8&255]<<16^Eo[u&255]<<8^Eo[u>>24&255]^sNe[l]<<24,l+=1,s!=8)for(let p=1;p<s;p++)o[p]^=o[p-1];else{for(let p=1;p<s/2;p++)o[p]^=o[p-1];u=o[s/2-1],o[s/2]^=Eo[u&255]^Eo[u>>8&255]<<8^Eo[u>>16&255]<<16^Eo[u>>24&255]<<24;for(let p=s/2+1;p<s;p++)o[p]^=o[p-1]}let d=0,h,f;for(;d<s&&c<i;)h=c>>2,f=c%4,fi(this,sl,"f")[h][f]=o[d],fi(this,Io,"f")[r-h][f]=o[d++],c++}for(let d=1;d<r;d++)for(let h=0;h<4;h++)u=fi(this,Io,"f")[d][h],fi(this,Io,"f")[d][h]=pNe[u>>24&255]^mNe[u>>16&255]^gNe[u>>8&255]^bNe[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const r=fi(this,sl,"f").length-1,i=[0,0,0,0];let s=G5(e);for(let l=0;l<4;l++)s[l]^=fi(this,sl,"f")[0][l];for(let l=1;l<r;l++){for(let c=0;c<4;c++)i[c]=oNe[s[c]>>24&255]^aNe[s[(c+1)%4]>>16&255]^lNe[s[(c+2)%4]>>8&255]^cNe[s[(c+3)%4]&255]^fi(this,sl,"f")[l][c];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=fi(this,sl,"f")[r][l],o[4*l]=(Eo[s[l]>>24&255]^a>>24)&255,o[4*l+1]=(Eo[s[(l+1)%4]>>16&255]^a>>16)&255,o[4*l+2]=(Eo[s[(l+2)%4]>>8&255]^a>>8)&255,o[4*l+3]=(Eo[s[(l+3)%4]&255]^a)&255;return o}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const r=fi(this,Io,"f").length-1,i=[0,0,0,0];let s=G5(e);for(let l=0;l<4;l++)s[l]^=fi(this,Io,"f")[0][l];for(let l=1;l<r;l++){for(let c=0;c<4;c++)i[c]=uNe[s[c]>>24&255]^dNe[s[(c+3)%4]>>16&255]^hNe[s[(c+2)%4]>>8&255]^fNe[s[(c+1)%4]&255]^fi(this,Io,"f")[l][c];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=fi(this,Io,"f")[r][l],o[4*l]=(t_[s[l]>>24&255]^a>>24)&255,o[4*l+1]=(t_[s[(l+3)%4]>>16&255]^a>>16)&255,o[4*l+2]=(t_[s[(l+2)%4]>>8&255]^a>>8)&255,o[4*l+3]=(t_[s[(l+1)%4]&255]^a)&255;return o}}vk=new WeakMap,Io=new WeakMap,sl=new WeakMap;class yNe{constructor(e,r,i){if(i&&!(this instanceof i))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Z7(r)},name:{enumerable:!0,value:e}})}}var Xp=function(n,e,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,r):s?s.value=r:e.set(n,r),r},Ao=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},xy,Dh,Mo;class RS extends yNe{constructor(e,r){super("CTR",e,RS),xy.set(this,void 0),Dh.set(this,void 0),Mo.set(this,void 0),Xp(this,Mo,new Uint8Array(16),"f"),Ao(this,Mo,"f").fill(0),Xp(this,xy,Ao(this,Mo,"f"),"f"),Xp(this,Dh,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(Ao(this,Mo,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)Ao(this,Mo,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Ao(this,Mo,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Ao(this,Mo,"f")[e]===255)Ao(this,Mo,"f")[e]=0;else{Ao(this,Mo,"f")[e]++;break}}encrypt(e){var r,i;const s=new Uint8Array(e);for(let o=0;o<s.length;o++)Ao(this,Dh,"f")===16&&(Xp(this,xy,this.aes.encrypt(Ao(this,Mo,"f")),"f"),Xp(this,Dh,0,"f"),this.increment()),s[o]^=Ao(this,xy,"f")[Xp(this,Dh,(i=Ao(this,Dh,"f"),r=i++,i),"f"),r];return s}decrypt(e){return this.encrypt(e)}}xy=new WeakMap,Dh=new WeakMap,Mo=new WeakMap;function $b(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function Rfe(n){return typeof n=="string"?Cf(n,"NFKC"):gm(n)}const vNe="m/44'/60'/0'/0/0";function Nfe(n){const e=n.salt!=null?Et(n.salt,"options.salt"):Gc(32);let r=1<<17,i=8,s=1;return n.scrypt&&(n.scrypt.N&&(r=n.scrypt.N),n.scrypt.r&&(i=n.scrypt.r),n.scrypt.p&&(s=n.scrypt.p)),je(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),je(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt r parameter","options.r",i),je(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:r,r:i,p:s}}function jfe(n,e,r,i){const s=Et(r.privateKey,"privateKey"),o=i.iv!=null?Et(i.iv,"options.iv"):Gc(16);je(o.length===16,"invalid options.iv length","options.iv",i.iv);const a=i.uuid!=null?Et(i.uuid,"options.uuid"):Gc(16);je(a.length===16,"invalid options.uuid length","options.uuid",i.iv);const l=n.slice(0,16),c=n.slice(16,32),u=new RS(l,o),d=Et(u.encrypt(s)),h=ni(Mr([c,d])),f={address:r.address.substring(2).toLowerCase(),id:P8e(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:yt(o).substring(2)},ciphertext:yt(d).substring(2),kdf:"scrypt",kdfparams:{salt:yt(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(r.mnemonic){const p=i.client!=null?i.client:`ethers/${khe}`,m=r.mnemonic.path||vNe,b=r.mnemonic.locale||"en",y=n.slice(32,64),v=Et(r.mnemonic.entropy,"account.mnemonic.entropy"),w=Gc(16),_=new RS(y,w),x=Et(_.encrypt(v)),k=new Date,E="UTC--"+(k.getUTCFullYear()+"-"+$b(k.getUTCMonth()+1,2)+"-"+$b(k.getUTCDate(),2)+"T"+$b(k.getUTCHours(),2)+"-"+$b(k.getUTCMinutes(),2)+"-"+$b(k.getUTCSeconds(),2)+".0Z")+"--"+f.address;f["x-ethers"]={client:p,gethFilename:E,path:m,locale:b,mnemonicCounter:yt(w).substring(2),mnemonicCiphertext:yt(x).substring(2),version:"0.1"}}return JSON.stringify(f)}function wNe(n,e,r){r==null&&(r={});const i=Rfe(e),s=Nfe(r),o=vx(i,s.salt,s.N,s.r,s.p,64);return jfe(Et(o),s,n,r)}async function xNe(n,e,r){r==null&&(r={});const i=Rfe(e),s=Nfe(r),o=await yx(i,s.salt,s.N,s.r,s.p,64,r.progressCallback);return jfe(Et(o),s,n,r)}const Y5="m/44'/60'/0'/0/0",_Ne=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Bd=2147483648,kNe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),SNe="0123456789abcdef";function NS(n,e){let r="";for(;n;)r=SNe[n%16]+r,n=Math.trunc(n/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function qR(n){const e=Et(n),r=B7(ta(ta(e)),0,4),i=Mr([e,r]);return E8e(i)}const pl={};function Bfe(n,e,r,i){const s=new Uint8Array(37);n&Bd?(bn(i!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(Et(i),1)):s.set(Et(r));for(let a=24;a>=0;a-=8)s[33+(a>>3)]=n>>24-a&255;const o=Et(Q0("sha512",e,s));return{IL:o.slice(0,32),IR:o.slice(32)}}function Lfe(n,e){const r=e.split("/");je(r.length>0,"invalid path","path",e),r[0]==="m"&&(je(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),r.shift());let i=n;for(let s=0;s<r.length;s++){const o=r[s];if(o.match(/^[0-9]+'$/)){const a=parseInt(o.substring(0,o.length-1));je(a<Bd,"invalid path index",`path[${s}]`,o),i=i.deriveChild(Bd+a)}else if(o.match(/^[0-9]+$/)){const a=parseInt(o);je(a<Bd,"invalid path index",`path[${s}]`,o),i=i.deriveChild(a)}else je(!1,"invalid path component",`path[${s}]`,o)}return i}var Ww,HR,vf,_y;const pa=class pa extends UR{constructor(r,i,s,o,a,l,c,u,d){super(i,d);st(this,Ww);Be(this,"publicKey");Be(this,"fingerprint");Be(this,"parentFingerprint");Be(this,"mnemonic");Be(this,"chainCode");Be(this,"path");Be(this,"index");Be(this,"depth");MC(r,pl,"HDNodeWallet"),oo(this,{publicKey:i.compressedPublicKey});const h=B7(J0(ta(this.publicKey)),0,4);oo(this,{parentFingerprint:s,fingerprint:h,chainCode:o,path:a,index:l,depth:c}),oo(this,{mnemonic:u})}connect(r){return new pa(pl,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,r)}async encrypt(r,i){return await xNe(Dt(this,Ww,HR).call(this),r,{progressCallback:i})}encryptSync(r){return wNe(Dt(this,Ww,HR).call(this),r)}get extendedKey(){return bn(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),qR(Mr(["0x0488ADE4",NS(this.depth,1),this.parentFingerprint,NS(this.index,4),this.chainCode,Mr(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new cw(pl,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(r){const i=ao(r,"index");je(i<=4294967295,"invalid index","index",i);let s=this.path;s&&(s+="/"+(i&~Bd),i&Bd&&(s+="'"));const{IR:o,IL:a}=Bfe(i,this.chainCode,this.publicKey,this.privateKey),l=new Ol(c0((Ehe(a)+BigInt(this.privateKey))%kNe,32));return new pa(pl,l,this.fingerprint,yt(o),s,i,this.depth+1,this.mnemonic,this.provider)}derivePath(r){return Lfe(this,r)}static fromExtendedKey(r){const i=Pr(A8e(r));je(i.length===82||qR(i.slice(0,78))===r,"invalid extended key","extendedKey","[ REDACTED ]");const s=i[4],o=yt(i.slice(5,9)),a=parseInt(yt(i.slice(9,13)).substring(2),16),l=yt(i.slice(13,45)),c=i.slice(45,78);switch(yt(i.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const u=yt(c);return new cw(pl,xx(u),u,o,l,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new pa(pl,new Ol(c.slice(1)),o,l,null,a,s,null,null)}je(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(r,i,s){var a;r==null&&(r=""),i==null&&(i=Y5),s==null&&(s=Kf.wordlist());const o=lw.fromEntropy(Gc(16),r,s);return Dt(a=pa,vf,_y).call(a,o.computeSeed(),o).derivePath(i)}static fromMnemonic(r,i){var s;return i||(i=Y5),Dt(s=pa,vf,_y).call(s,r.computeSeed(),r).derivePath(i)}static fromPhrase(r,i,s,o){var l;i==null&&(i=""),s==null&&(s=Y5),o==null&&(o=Kf.wordlist());const a=lw.fromPhrase(r,i,o);return Dt(l=pa,vf,_y).call(l,a.computeSeed(),a).derivePath(s)}static fromSeed(r){var i;return Dt(i=pa,vf,_y).call(i,r,null)}};Ww=new WeakSet,HR=function(){const r={address:this.address,privateKey:this.privateKey},i=this.mnemonic;return this.path&&i&&i.wordlist.locale==="en"&&i.password===""&&(r.mnemonic={path:this.path,locale:"en",entropy:i.entropy}),r},vf=new WeakSet,_y=function(r,i){je(OC(r),"invalid seed","seed","[REDACTED]");const s=Et(r,"seed");je(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const o=Et(Q0("sha512",_Ne,s)),a=new Ol(yt(o.slice(0,32)));return new pa(pl,a,"0x00000000",yt(o.slice(32)),"m",0,0,i,null)},st(pa,vf);let m0=pa;class cw extends zR{constructor(r,i,s,o,a,l,c,u,d){super(i,d);Be(this,"publicKey");Be(this,"fingerprint");Be(this,"parentFingerprint");Be(this,"chainCode");Be(this,"path");Be(this,"index");Be(this,"depth");MC(r,pl,"HDNodeVoidWallet"),oo(this,{publicKey:s});const h=B7(J0(ta(s)),0,4);oo(this,{publicKey:s,fingerprint:h,parentFingerprint:o,chainCode:a,path:l,index:c,depth:u})}connect(r){return new cw(pl,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,r)}get extendedKey(){return bn(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),qR(Mr(["0x0488B21E",NS(this.depth,1),this.parentFingerprint,NS(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(r){const i=ao(r,"index");je(i<=4294967295,"invalid index","index",i);let s=this.path;s&&(s+="/"+(i&~Bd),i&Bd&&(s+="'"));const{IR:o,IL:a}=Bfe(i,this.chainCode,this.publicKey,null),l=Ol.addPoints(a,this.publicKey,!0),c=xx(l);return new cw(pl,c,l,this.fingerprint,yt(o),s,i,this.depth+1,this.provider)}derivePath(r){return Lfe(this,r)}}class bW{constructor(e){Be(this,"mnemonic");Be(this,"walletAddress");Be(this,"chainID");this.mnemonic=e.mnemonic,this.walletAddress=e.walletAddress,this.chainID=e.chainID||10900}generateTxID(){const e=Date.now(),r=Math.floor(Math.random()*1e6);return`tx-${e}-${r}`}async getPrivateKeyHex(){const e=m0.fromPhrase(this.mnemonic.trim(),"","m/44'/60'/0'/0/0");if(e.address.toLowerCase()!==this.walletAddress.toLowerCase())throw new Error(`Address mismatch: derived ${e.address} does not match ${this.walletAddress}`);const r=BigInt(e.privateKey),i=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(r===0n||r>=i)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const o=r.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(o))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return o}async signPayload(e){const r=await this.getPrivateKeyHex(),i=Math.floor(Date.now()/1e3);let s;e.deadline&&(s=parseInt(e.deadline,10));const o={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:i,payload:e};s!==void 0&&(o.deadline=s);const a=await jt.generateSingleSignature(JSON.stringify(o),r,this.walletAddress.toLowerCase());if(!a.success||!a.signature)throw new Error(a.error||"Failed to generate signature");return a.signature}async buildCompleteMessage(e,r,i=3600){const o=Math.floor(Date.now()/1e3)+i,a=await r.getNextNonce();return{...e,owner:this.walletAddress,nonce:a,deadline:o.toString()}}buildEIP712Tx(e,r,i){const s=Math.floor(Date.now()/1e3);let o;e.deadline&&(o=parseInt(e.deadline,10));const l={txhash:i||this.generateTxID(),sigType:1,threshold:1,timestamp:s,payload:e,signatures:[{signer:this.walletAddress,signature:r}]};return o!==void 0&&(l.deadline=o),l}getWalletAddress(){return this.walletAddress}getChainID(){return this.chainID}}function kl(n,e=Date.now()){if(!n)return e;if(typeof n=="object"&&n!==null&&typeof n.seconds=="number"){const i=n.seconds,s=n.nanos||0;return i*1e3+Math.floor(s/1e6)}const r=typeof n=="string"?Number(n):n;return typeof r=="number"&&!isNaN(r)&&r>0?r<9466848e5?r*1e3:r:e}function _c(n){if(!n)return Date.now();const e=typeof n=="string"?Number(n):n;return isNaN(e)||e<=0?Date.now():e<9466848e5?e*1e3:e}function yW(n){if(!n)return"";if(typeof n=="string")return n;if(typeof n=="object"&&"seconds"in n&&"nanos"in n){const e=n.seconds,r=n.nanos||0,i=e*1e3+Math.floor(r/1e6),o=new Date(i).toISOString();if(r>0){const a=r.toString().padStart(9,"0");return o.replace(/\.\d{3}Z$/,`.${a}Z`)}return o}return""}function K5(n){const r=new Date().toISOString(),i=r.match(/\.(\d{3})Z$/);if(i){const o=(parseInt(i[1])*1e6).toString().padStart(9,"0");return r.replace(/\.\d{3}Z$/,`.${o}Z`)}return r.replace(/Z$/,".000000000Z")}const UC="sys::onboard",e9="clob::change_margin_ratio",t9="clob::submit_order",jS="clob::cancel_order",BS="bucket::close_position",Ffe="bucket::update_position_leverage",n9="clob::modify_order",$fe="clob::change_leverage",r9="clob::inter_transfer",zfe="bucket::create_margin_bucket",i9="clob::swap",s9="bank::mint",o9="bank::extract_to_bucket",a9="bank::withdraw_from_bucket",l9="bank::bucket_transfer",c9="bank::transfer";var Pt=(n=>(n.Disconnected="disconnected",n.Connecting="connecting",n.Connected="connected",n.Reconnecting="reconnecting",n))(Pt||{});function Ufe(n){return n.sub_channel==="orderbook"}function Wfe(n){return n.sub_channel==="trades"}function qfe(n){return n.sub_channel==="positions"}function Hfe(n){return n.sub_channel==="orders"}function Vfe(n){return n.sub_channel==="buckets"}function Gfe(n){return n.sub_channel==="balances"}function VR(n){return n.sub_channel==="last_price"}function Yfe(n){return n.sub_channel==="price_feed"}const eb="http://localhost:8080",CNe="300px",ENe="300px",ANe="270px",Kfe="630px",u9=5e3,TNe="1",PNe=100,Xfe=20,WC="legal winner thank year wave sausage worth useful legal winner thank yellow",X5=1,vW=100,INe=1,n_=0,Q5=100,J5=1,MNe=.01,wW=0,ONe="BINANCE:BTCUSDT",DNe="5",RNe="https://s3.tradingview.com/tv.js",gc=2,Qfe=2,_d="asc",rg="desc",GR="market",Z5="limit",uw="CROSS",NNe="ISOLATED",jNe="ONE_WAY",dw="LONG",YR="SHORT",xW="symbol",_W="leverage",kW="size",SW="liquidationPrice",CW="unrealizedPnL",EW="entryPrice",AW="margin",e3="all",r_="byBucket",TW="1.5fr 1.2fr 1fr 1fr 1fr 1.2fr 1.2fr 1fr",BNe="#51cf66",LNe="#ff6b6b",FNe="Loading positions...",$Ne="No open positions",zNe="POSITIONS",UNe="All",WNe="By Bucket",t3="--",PW="symbol",IW="side",MW="quantity",OW="price",DW="filledQuantity",RW="status",zu="pending",NW="history",qNe="ORDER_STATUS_PENDING",HNe="ORDER_STATUS_OPEN",VNe="ORDER_STATUS_PARTIAL",GNe="PARTIALLY_FILLED",jW=[qNe,HNe,VNe,"PENDING","OPEN","NEW","PARTIAL",GNe],BW="#ffc107",YNe="#17a2b8",KNe="#28a745",XNe="#dc3545",QNe="#6c757d",JNe="#51cf66",ZNe="#ff6b6b",LW="1.5fr 1fr 1fr 1.2fr 1.2fr 1.2fr 1fr 1fr",eje="Loading pending orders...",tje="No pending orders",nje="No historical orders",rje="OPEN ORDERS",ije="ORDER HISTORY",sje="Wallet address required to view pending orders",oje="Pending",aje="History",lje="--",cje="Unknown";function KR(n){return!n||!Array.isArray(n)||n.length===0?[]:[...n].sort((r,i)=>{const s=_c(r.timestamp);return _c(i.timestamp)-s}).map(r=>{const i=_c(r.timestamp),s=Ft(r.quantity),o=Ft(r.price);return{time:i,size:s,price:o,is_buyer_maker:!1}})}function XR(n){let e;"position_id"in n&&n.position_id||"position_id"in n&&n.position_id?e=n.position_id:e=`${n.market_id}-${n.bucket_id||"default"}-${n.address}`;const r="average_entry_price"in n?n.average_entry_price:n.entry_price;let i;"position_side"in n&&n.position_side?i=n.position_side:"side"in n&&n.side?i=n.side==="SIDE_BUY"||n.side.toUpperCase().includes("BUY")?dw:YR:i=Ft(n.size)>=0?dw:YR;const s=Ft(n.size),o=Ft(r),a=Ft(n.mark_price),l=n.leverage?Ft(n.leverage):0;let c=0;if(n.unrealized_profit!==void 0||n.unrealized_loss!==void 0){const f=PS(n.unrealized_profit),p=PS(n.unrealized_loss),m=f-p;c=Ft(m.toString())}else"unrealized_pnl"in n&&n.unrealized_pnl!==void 0&&(c=Ft(n.unrealized_pnl));const d=Ft(n.margin_balance)||(l&&o&&s!==0?Math.abs(Math.abs(s)*o/l):0),h="margin_mode"in n&&n.margin_mode||"margin_type"in n&&n.margin_type||uw;return{positionId:e,marketId:n.market_id.toString(),symbol:n.symbol||`m-${n.market_id}`,size:Math.abs(s),entryPrice:o,markPrice:a,liquidationPrice:n.liquidation_price?Ft(n.liquidation_price):0,unrealizedPnL:c,leverage:l,margin:d,side:i,marginMode:h,bucketId:n.bucket_id?String(n.bucket_id):"",raw:n}}function QR(n){const e=n.side==="SIDE_BUY"?"BUY":"SELL";let r=n.status||"ORDER_STATUS_PENDING";r.includes("ORDER_STATUS_")&&(r=r.replace("ORDER_STATUS_",""));const i=n.time_in_force;let s=i;i&&i.includes("TIME_IN_FORCE_")&&(s=i.replace("TIME_IN_FORCE_",""));const o=h=>Ft(h),a=o(n.quantity),l=o(n.price),c=o(n.filled_quantity),u=a-c,d=kl(n.timestamp,Date.now());return{id:n.order_id,orderId:n.order_id,marketId:n.market_id||n.bucket_id,side:e,type:n.type,quantity:a,price:l,filledQuantity:c,remainingQuantity:u,status:r,timeInForce:s,createdAt:d,updatedAt:d,raw:n}}function d9(n){const e=new Date().toISOString();return{bucket_id:n.bucket_id,address:n.address,margin_type:n.margin_type.toLowerCase(),collateral_asset:"USDC",deposited_margin:"0",total_equity:n.total_equity,available_margin:n.available_margin,used_margin:n.used_margin,unrealized_profit:n.unrealized_profit,unrealized_loss:n.unrealized_loss,realized_profit:"0",realized_loss:"0",margin_ratio:"0",imr:"0",total_notional_value:"0",risk_level:"low",max_leverage:"0",correlation_offset:0,status:"active",created_at:e,updated_at:e}}function LS(n){const e=n.bucket_id||"---",r=PS(n.unrealized_profit),i=PS(n.unrealized_loss),s=r-i,o=It(s.toString()),a=Ft(n.unrealized_profit),l=Ft(n.unrealized_loss),c=u8e(n.max_leverage);return{bucketId:e,address:n.address||"",marginType:n.margin_type||"cross",collateralAsset:n.collateral_asset||"",depositedMargin:Ft(n.deposited_margin),totalEquity:Ft(n.total_equity),availableMargin:Ft(n.available_margin),usedMargin:Ft(n.used_margin),unrealizedProfit:a,unrealizedLoss:l,realizedProfit:Ft(n.realized_profit),realizedLoss:Ft(n.realized_loss),unrealizedPnL:o,marginRatio:Ft(n.margin_ratio),imr:Ft(n.imr),totalNotionalValue:Ft(n.total_notional_value),riskLevel:n.risk_level||"",maxLeverage:c,correlationOffset:n.correlation_offset||0,status:n.status||"",createdAt:yW(n.created_at),updatedAt:yW(n.updated_at),leverage:c,marginMode:n.margin_type||"cross",raw:n}}function wk(n){return n.totalEquity>0?Math.min(Math.max(n.usedMargin/n.totalEquity,0),1):0}function jm(n){const e=n.marginMode||n.marginType||"cross";return e==="ISOLATED"||e==="isolated"?"ISOLATED":"CROSS"}function h9(n){return"collateral_asset"in n}function bm(n){return n!==null&&typeof n=="object"&&typeof n.price=="number"&&typeof n.market_id=="string"&&typeof n.quantity=="number"&&typeof n.timestamp=="number"&&typeof n.is_buyer_maker=="boolean"&&typeof n.trade_id=="string"}function xk(n){return n!==null&&typeof n=="object"&&typeof n.symbol=="string"&&typeof n.mark_price=="number"&&typeof n.timestamp=="number"}class th{constructor(e){Be(this,"httpClient");Be(this,"infoClient");Be(this,"nonceManager");Be(this,"mnemonic");Be(this,"chainID");Be(this,"walletAddress");Be(this,"nonceCounter",null);Be(this,"signatureBuilder");this.httpClient=new IC(e.baseURL,e.maxRetries||3),this.infoClient=new Cr({baseURL:e.baseURL}),this.nonceManager=new R7(this.infoClient),this.mnemonic=e.mnemonic,this.chainID=e.chainID||10900}getSignatureBuilder(){if(!this.signatureBuilder){if(!this.walletAddress)throw new Error("ExchangeClient not initialized. Call initialize() first.");this.signatureBuilder=new bW({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}return this.signatureBuilder}getNonceProvider(){return{getNextNonce:()=>this.getNextNonce()}}async initialize(){await jt.initialize();const e=await jt.generateAddress(this.mnemonic,0);if(!e.success||!e.address)throw new Error(`Failed to generate wallet address: ${e.error}`);this.walletAddress=e.address,this.signatureBuilder=new bW({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}getWalletAddress(){if(!this.walletAddress)throw new Error("ExchangeClient not initialized. Call initialize() first.");return this.walletAddress}async refreshNonceFromServer(){const e=this.getWalletAddress(),r=await this.nonceManager.getExpectedNextNonce(e,!1);this.nonceCounter=r.next_nonce,console.log("[ExchangeClient] Refreshed nonce from server",{walletAddress:e,newNonce:this.nonceCounter})}async getNextNonce(){return this.nonceCounter===null&&await this.refreshNonceFromServer(),this.nonceCounter++,this.nonceCounter.toString()}buildOrderPayload(e){const r=_n(e.price),i=_n(e.quantity),s={action:t9,marketId:e.marketId,bucketId:e.bucketId,side:e.side.toUpperCase(),orderType:e.orderType.toUpperCase(),price:r,quantity:i};return e.leverage&&(s.leverage=e.leverage),e.takeProfit&&(s.takeProfit=e.takeProfit),e.stopLoss&&(s.stopLoss=e.stopLoss),s}async placeOrder(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.side||e.side.toUpperCase()!=="BUY"&&e.side.toUpperCase()!=="SELL")throw new Error("side must be BUY or SELL");if(!e.orderType||e.orderType.toUpperCase()!=="LIMIT"&&e.orderType.toUpperCase()!=="MARKET")throw new Error("orderType must be LIMIT or MARKET");if(!e.price||e.price<=0)throw new Error("price must be positive");if(!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");this.walletAddress||await this.initialize();const r=this.buildOrderPayload(e),i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=Math.floor(Date.now()/1e3)-5,l=`order-${Date.now()}-${Math.floor(Math.random()*1e6)}`,c=e.side.toUpperCase()==="BUY",u={address:this.getWalletAddress(),asset_pair:e.marketId,market_id:e.marketId,bucket_id:e.bucketId,price:s.price,size:s.quantity,is_buy:c,order_type:e.orderType.toUpperCase(),timestamp:a,client_order_id:l,nonce:s.nonce,deadline:s.deadline,signature:o,time_in_force:e.timeInForce||"GTC"};return e.leverage&&(u.leverage=e.leverage),e.takeProfit&&(u.take_profit=e.takeProfit),e.stopLoss&&(u.stop_loss=e.stopLoss),e.postOnly&&(u.post_only=!0),e.hidden&&(u.hidden=!0),e.displayQuantity&&(u.display_quantity=e.displayQuantity),e.reduceOnly&&(u.reduce_only=!0),(await this.httpClient.post("/clob/v1/order",u)).body}async cancelOrder(e){var u,d,h,f,p,m;if(!e.orderId||e.orderId==="")throw console.error("[ExchangeClient.cancelOrder] Validation failed: orderId is empty",e),new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw console.error("[ExchangeClient.cancelOrder] Validation failed: marketId is empty",e),new Error("marketId cannot be empty");console.log("[ExchangeClient.cancelOrder] Input validation passed",{orderId:e.orderId,marketId:e.marketId}),this.walletAddress?console.log("[ExchangeClient.cancelOrder] Using existing wallet",{walletAddress:this.walletAddress}):(console.log("[ExchangeClient.cancelOrder] Wallet not initialized, initializing now..."),await this.initialize(),console.log("[ExchangeClient.cancelOrder] Wallet initialized",{walletAddress:this.walletAddress}));const r=this.getWalletAddress(),i={action:jS,orderId:e.orderId,marketId:e.marketId,address:r};console.log("[ExchangeClient.cancelOrder] Payload built",{payload:i,action:jS});const s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider());console.log("[ExchangeClient.cancelOrder] Complete message built",{action:o.action,orderId:o.orderId,marketId:o.marketId,address:o.address,owner:o.owner,nonce:o.nonce,deadline:o.deadline,hasAllFields:!!(o.action&&o.orderId&&o.marketId&&o.owner&&o.nonce&&o.deadline)}),console.log("[ExchangeClient.cancelOrder] Generating signature...");const a=await s.signPayload(o);console.log("[ExchangeClient.cancelOrder] Signature generated",{signatureLength:a==null?void 0:a.length,signaturePrefix:(a==null?void 0:a.substring(0,10))+"..."});const l=s.buildEIP712Tx(o,a);console.log("[ExchangeClient.cancelOrder] EIP712Tx built",{eip712Tx:{txId:l.txId,sigType:l.sigType,threshold:l.threshold,timestamp:l.timestamp,deadline:l.deadline,payloadAction:(u=l.payload)==null?void 0:u.action,payloadOrderId:(d=l.payload)==null?void 0:d.orderId,payloadMarketId:(h=l.payload)==null?void 0:h.marketId,signaturesCount:(f=l.signatures)==null?void 0:f.length,signer:(m=(p=l.signatures)==null?void 0:p[0])==null?void 0:m.signer}});const c=this.httpClient.getBaseURL?this.httpClient.getBaseURL():"unknown";console.log("[ExchangeClient.cancelOrder] Submitting to /router/v1/tx endpoint...",{endpoint:"/router/v1/tx",baseURL:c,fullURL:`${c}/router/v1/tx`});try{const b=await this.httpClient.post("/router/v1/tx",l);return console.log("[ExchangeClient.cancelOrder] API response received",{status:b.statusCode,hasBody:!!b.body,responseBody:b.body,orderId:e.orderId}),b.body}catch(b){if(N7(b)){console.log("[ExchangeClient.cancelOrder] Nonce error detected, refreshing nonce from server",{error:b instanceof Error?b.message:String(b),orderId:e.orderId}),await this.refreshNonceFromServer();const y=this.getSignatureBuilder(),v=await y.buildCompleteMessage(i,this.getNonceProvider()),w=await y.signPayload(v),_=y.buildEIP712Tx(v,w);console.log("[ExchangeClient.cancelOrder] Retrying with refreshed nonce",v.nonce);const x=await this.httpClient.post("/router/v1/tx",_);return console.log("[ExchangeClient.cancelOrder] Retry successful",{status:x.statusCode,responseBody:x.body}),x.body}throw console.error("[ExchangeClient.cancelOrder] API call failed",{error:b,errorMessage:b instanceof Error?b.message:String(b),errorStack:b instanceof Error?b.stack:void 0,orderId:e.orderId,marketId:e.marketId,walletAddress:this.walletAddress}),b}}async modifyOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.newPrice||e.newPrice<=0)throw new Error("newPrice must be positive");if(!e.newQuantity||e.newQuantity<=0)throw new Error("newQuantity must be positive");this.walletAddress||await this.initialize();const r={action:n9,orderId:e.orderId,marketId:e.marketId,newPrice:_n(e.newPrice),newQuantity:_n(e.newQuantity)},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async changeLeverage(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(e.newLeverage===void 0)throw new Error("newLeverage must be provided");if(this.walletAddress||await this.initialize(),e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const r={action:Ffe,marketId:e.marketId,newLeverage:_n(e.newLeverage),bucketId:e.bucketId,positionId:e.positionId||""};console.log("[changeLeverage] Payload fields:",Object.keys(r).length,Object.keys(r));const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=["action","owner","marketId","newLeverage","bucketId","positionId","nonce","deadline"],a=Object.keys(s);console.log("[changeLeverage] Complete message fields:",a.length,a),console.log("[changeLeverage] Expected fields (8):",o),console.log("[changeLeverage] Complete message:",JSON.stringify(s,null,2));const l=await i.signPayload(s),c=i.buildEIP712Tx(s,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async closePosition(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Math.floor(Date.now()/1e3),s=i+300,o=await this.getNextNonce();let a;if(e.marketPrice&&e.marketPrice>0)a=e.marketPrice;else try{const m=await this.infoClient.getMarketStats(e.marketId);if(!m||!m.last_price)throw new Error("marketPrice is required and could not be fetched from ticker");a=It(m.last_price)}catch(m){throw new Error(`Failed to fetch market price: ${m instanceof Error?m.message:String(m)}`)}const l=_n(a).toString(),c=e.quantity&&e.quantity>0?_n(e.quantity).toString():"0",u={action:BS,address:r,marketId:e.marketId,closeSize:c,marketPrice:l,nonce:o,deadline:s},h=await this.getSignatureBuilder().signPayload(u),f={address:r,position_id:e.positionId,market_id:e.marketId,close_size:c,market_price:l,timestamp:i,sign_type:1,nonce:o.toString(),chain_id:this.chainID.toString(),deadline:s.toString(),signature:h};return(await this.httpClient.post("/bucket/v1/position/close",f)).body}async closePositionEIP712Tx(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(this.walletAddress||await this.initialize(),!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");if(!e.marketPrice||e.marketPrice<=0)throw new Error("marketPrice must be positive");const r=_n(e.quantity),i=_n(e.marketPrice),s={action:BS,address:this.getWalletAddress(),positionId:e.positionId,marketId:e.marketId,closeSize:r,marketPrice:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=o.buildEIP712Tx(a,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async swap(e){if(!e.fromToken||e.fromToken==="")throw new Error("fromToken cannot be empty");if(!e.toToken||e.toToken==="")throw new Error("toToken cannot be empty");if(!e.amountIn||e.amountIn<=0)throw new Error("amountIn must be positive");if(!e.minAmountOut||e.minAmountOut<=0)throw new Error("minAmountOut must be positive");this.walletAddress||await this.initialize();const r={action:i9,fromToken:e.fromToken,toToken:e.toToken,amountIn:_n(e.amountIn),minAmountOut:_n(e.minAmountOut)};e.path&&e.path.length>0&&(r.path=e.path);const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async changeMarginRatioEIP712Tx(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");this.walletAddress||await this.initialize();const r={action:e9,marketId:e.marketId,bucketId:e.bucketId,positionId:e.positionId||""},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=["action","owner","marketId","bucketId","positionId","nonce","deadline"],a=Object.keys(s);console.log("[changeMarginRatio] Complete message fields:",a.length,a),console.log("[changeMarginRatio] Expected fields (8):",o),console.log("[changeMarginRatio] Complete message:",JSON.stringify(s,null,2));const l=await i.signPayload(s),c=i.buildEIP712Tx(s,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async internTransferEIP712Tx(e){if(!e.fromAccount||e.fromAccount==="")throw new Error("fromAccount cannot be empty");if(!e.toAccount||e.toAccount==="")throw new Error("toAccount cannot be empty");if(!e.tokenAddress||e.tokenAddress==="")throw new Error("tokenAddress cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r={action:r9,fromAccount:e.fromAccount,toAccount:e.toAccount,amount:_n(e.amount),tokenAddress:e.tokenAddress,address:this.getWalletAddress()},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async bucketTransfer(e){if(!e.fromBucketId||e.fromBucketId.trim()==="")throw new Error("fromBucketId cannot be empty");if(!e.toBucketId||e.toBucketId.trim()==="")throw new Error("toBucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=_n(e.amount),s={action:l9,fromBucketId:e.fromBucketId,toBucketId:e.toBucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=["action","owner","fromBucketId","toBucketId","asset","amount","nonce","deadline"],c=Object.keys(a);if(console.log("[bucketTransfer] Initial payload:",s),console.log("[bucketTransfer] Complete message fields:",c),console.log("[bucketTransfer] Complete message:",JSON.stringify(a,null,2)),console.log("[bucketTransfer] Expected fields (8):",l),console.log("[bucketTransfer] Actual field count:",c.length,"expected:",l.length),c.length!==l.length){const p=c.filter(b=>!l.includes(b)),m=l.filter(b=>!c.includes(b));console.error("[bucketTransfer] Field count mismatch!"),p.length>0&&console.error("[bucketTransfer] Extra fields (should be removed):",p),m.length>0&&console.error("[bucketTransfer] Missing fields:",m)}const u=await o.signPayload(a),d=Math.floor(Date.now()/1e3),h={address:r,source_bucket_id:e.fromBucketId,target_bucket_id:e.toBucketId,amount:i,reason:"sdk_transfer",timestamp:d,nonce:a.nonce,deadline:a.deadline,signature:u,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bucket/v1/bucket/transfer",h)).body}async extractToBucket(e){if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=_n(e.amount),s={action:o9,bucketId:e.bucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=["action","owner","bucketId","asset","amount","nonce","deadline"],c=Object.keys(a);if(console.log("[extractToBucket] Initial payload:",s),console.log("[extractToBucket] Complete message fields:",c),console.log("[extractToBucket] Complete message:",JSON.stringify(a,null,2)),console.log("[extractToBucket] Expected fields (7):",l),console.log("[extractToBucket] Actual field count:",c.length,"expected:",l.length),c.length!==l.length){const p=c.filter(b=>!l.includes(b)),m=l.filter(b=>!c.includes(b));console.error("[extractToBucket] Field count mismatch!"),p.length>0&&console.error("[extractToBucket] Extra fields (should be removed):",p),m.length>0&&console.error("[extractToBucket] Missing fields:",m)}const u=await o.signPayload(a),d=K5(),h={address:r,bucket_id:e.bucketId,asset:e.assetId,amount:i,timestamp:d,nonce:a.nonce,deadline:a.deadline,signature:u,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bank/v1/extract-to-bucket",h)).body}async createBucket(e){if(!e.bucketType||e.bucketType.trim()==="")throw new Error("bucketType cannot be empty");if(!e.marginType||e.marginType.trim()==="")throw new Error("marginType cannot be empty");const r=e.marginType.toUpperCase();if(r!=="CROSS"&&r!=="ISOLATED")throw new Error("marginType must be 'cross' or 'isolated'");this.walletAddress||await this.initialize();const i=this.getWalletAddress(),s=K5(),o=e.asset&&e.asset.trim()!==""?e.asset:"USDC",a={action:zfe,bucketType:e.bucketType,marginType:r.toLowerCase(),asset:o};(!a.asset||typeof a.asset!="string"||a.asset.trim()==="")&&(a.asset="USDC");const l=this.getSignatureBuilder(),c=await l.buildCompleteMessage(a,this.getNonceProvider(),3600),u=["action","owner","bucketType","marginType","asset","nonce","deadline"],d=Object.keys(c),h=u.filter(b=>!d.includes(b));if(console.log("[createBucket] Initial payload:",a),console.log("[createBucket] Complete message fields:",d),console.log("[createBucket] Complete message:",JSON.stringify(c,null,2)),console.log("[createBucket] Expected fields:",u),console.log("[createBucket] Field count:",d.length,"expected:",u.length),h.length>0&&(console.error("[createBucket] Missing fields in payload:",h),console.error("[createBucket] Actual payload fields:",d)),d.length!==u.length)throw new Error(`Payload field count mismatch: expected ${u.length} fields (action, owner, bucketType, marginType, asset, nonce, deadline), but got ${d.length} fields: ${d.join(", ")}`);const f=await l.signPayload(c),p={address:i,bucket_type:e.bucketType,margin_type:r.toLowerCase(),initial_margin:e.initialMargin||"0",timestamp:s,nonce:c.nonce,deadline:c.deadline,signature:f,chain_id:this.chainID.toString()};return e.bucketId&&(p.bucket_id=e.bucketId),(await this.httpClient.post("/bucket/v1/bucket",p)).body}async withdrawFromBucket(e){if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=_n(e.amount),s={action:a9,bucketId:e.bucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=K5(),u={address:r,bucket_id:e.bucketId,asset:e.assetId,amount:i,timestamp:c,nonce:a.nonce,deadline:a.deadline,signature:l,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bank/v1/withdraw-from-bucket",u)).body}async bankMint(e){if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=_n(e.amount),i={action:s9,address:this.getWalletAddress(),asset:e.assetId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}async bankTransfer(e){if(!e.to||e.to.trim()==="")throw new Error("to address cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=_n(e.amount),i={action:c9,address:this.getWalletAddress(),to:e.to,asset:e.assetId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}}class FS{constructor(e){Be(this,"ws",null);Be(this,"state",Pt.Disconnected);Be(this,"handlers",new Map);Be(this,"reconnectTimer",null);Be(this,"reconnectAttempts",0);Be(this,"config");Be(this,"originalConfig");Be(this,"pingInterval",null);Be(this,"stateChangeHandlers",new Set);Be(this,"authState","not_required");Be(this,"pendingSubscriptions",new Map);this.originalConfig=e;const r=this.convertHTTPToWebSocketURL(e.url);this.config={url:r,authToken:e.authToken||"",walletAddress:e.walletAddress||"",deviceID:e.deviceID||"",reconnectInterval:e.reconnectInterval||5e3,maxReconnectAttempts:e.maxReconnectAttempts||10}}convertHTTPToWebSocketURL(e){if(e.startsWith("ws://")||e.startsWith("wss://")){if(e.includes("router.morpheum.io")){const r=new URL(e);if(!r.pathname||r.pathname==="/")return r.pathname="/websocket",r.toString()}return e}if(e.includes("localhost")||e.includes("127.0.0.1")){const r=e.match(/:(\d+)/);return`ws://localhost:${r?r[1]:"8080"}/websocket`}if(e.startsWith("http://")){const r=e.replace("http://","ws://");return r.includes("/websocket")?r:r.endsWith("/")?`${r}websocket`:`${r}/websocket`}if(e.startsWith("https://")){const r=e.replace("https://","wss://");return r.includes("/websocket")?r:r.endsWith("/")?`${r}websocket`:`${r}/websocket`}if(!e||e.trim()===""||e.includes("router.morpheum.io"))return"wss://router.morpheum.io/websocket";try{const r=new URL(e.startsWith("http")?e:`https://${e}`),i=r.protocol==="https:"?"wss:":"ws:",s=r.pathname&&r.pathname!=="/"?r.pathname:"",o=s.endsWith("/websocket")?s:`${s}/websocket`;return`${i}//${r.host}${o}`}catch{return console.warn(`Failed to parse URL ${e}, defaulting to router.morpheum.io/websocket`),"wss://router.morpheum.io/websocket"}}getConnectionURL(){const e=[];this.config.authToken&&e.push(`token=${encodeURIComponent(this.config.authToken)}`),"walletAddress"in this.originalConfig&&this.originalConfig.walletAddress!==void 0&&e.push(`wallet=${encodeURIComponent(this.originalConfig.walletAddress||"")}`),this.config.deviceID&&e.push(`device_id=${encodeURIComponent(this.config.deviceID)}`);const r=this.config.url.includes("?")?"&":"?";return e.length>0?`${this.config.url}${r}${e.join("&")}`:this.config.url}async connect(){if(!(this.state===Pt.Connected||this.state===Pt.Connecting))return this.setState(Pt.Connecting),new Promise((e,r)=>{let i=!1,s=!1,o=null;const a=l=>{s||(s=!0,o!==null&&(clearTimeout(o),o=null),this.setState(Pt.Disconnected),r(l))};try{const l=this.getConnectionURL();console.log("Connecting to WebSocket:",l);const c=new WebSocket(l);o=window.setTimeout(()=>{!i&&!s&&(c.close(),a(new Error(`WebSocket connection timeout after 10 seconds. Unable to connect to ${l}. Check if the server is running and accessible.`)))},1e4),c.onopen=async()=>{o!==null&&(clearTimeout(o),o=null),i=!0,this.ws=c,this.setState(Pt.Connected),this.reconnectAttempts=0,this.config.authToken?(this.authState="authenticated",console.log("[WebSocketClient] Authentication via URL token")):this.authState="not_required",this.startPing(),e()},c.onmessage=u=>{try{const d=JSON.parse(u.data);this.handleMessage(d)}catch(d){console.error("Failed to parse WebSocket message:",d)}},c.onerror=u=>{console.error("WebSocket error event:",u)},c.onclose=u=>{if(o!==null&&(clearTimeout(o),o=null),this.ws=null,this.stopPing(),this.authState="not_required",!i&&!s){const d=u.code,h=u.reason||"Unknown reason",f=u.wasClean;let p=`WebSocket connection failed. Close code: ${d}`;d===1006?p=`WebSocket connection failed (abnormal closure, code ${d}). Unable to connect to ${l}. Possible causes: Server is not running, network issue, firewall blocking connection, or incorrect URL.`:d===1002?p=`WebSocket protocol error (code ${d}). The server may not support WebSocket protocol or there's a protocol mismatch.`:d===1003?p=`WebSocket unsupported data type (code ${d}).`:d===1008?p=`WebSocket connection closed due to policy violation (code ${d}): ${h}`:d===1011?p=`WebSocket server error (code ${d}): ${h}`:d===1e3?p=`WebSocket connection closed normally (code ${d}) but before opening.`:h&&h!=="Unknown reason"&&(p+=` Reason: ${h}`),!f&&d===1006&&(p+=" This usually indicates the connection was refused or the server is unreachable."),a(new Error(p))}else i&&(this.setState(Pt.Disconnected),this.scheduleReconnect())}}catch(l){o!==null&&(clearTimeout(o),o=null);const c=l instanceof Error?l.message:String(l);a(new Error(`Failed to create WebSocket connection: ${c}`))}})}disconnect(){this.cancelReconnect(),this.stopPing(),this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear(),this.stateChangeHandlers.clear(),this.setState(Pt.Disconnected)}send(e){var r;if(this.state!==Pt.Connected||!this.ws)throw new Error("WebSocket not connected");if(this.ws.readyState!==WebSocket.OPEN){const i=this.ws.readyState===WebSocket.CONNECTING?"CONNECTING":this.ws.readyState===WebSocket.CLOSING?"CLOSING":this.ws.readyState===WebSocket.CLOSED?"CLOSED":"UNKNOWN";throw console.warn(`[WebSocketClient] WebSocket not in OPEN state (${i}), updating connection state`),this.setState(Pt.Disconnected),new Error(`WebSocket not open (state: ${i})`)}try{e.params&&typeof e.params!="object"&&(console.warn("[WebSocketClient] params must be an object, converting:",e.params),e.params={});const i=JSON.stringify(e);this.ws.send(i)}catch(i){throw console.error("[WebSocketClient] Failed to send message:",i),((r=this.ws)==null?void 0:r.readyState)!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open after send error, scheduling reconnect"),this.setState(Pt.Disconnected),this.scheduleReconnect()),i}}on(e,r){this.handlers.has(e)||this.handlers.set(e,[]),this.handlers.get(e).push(r)}off(e,r){if(!r){this.handlers.delete(e);return}const i=this.handlers.get(e);if(i){const s=i.indexOf(r);s>-1&&i.splice(s,1)}}getState(){return this.state}isConnected(){const e=this.state===Pt.Connected,r=this.ws!==null&&this.ws.readyState===WebSocket.OPEN;return e&&!r?(console.warn("[WebSocketClient] State is Connected but WebSocket is not OPEN, updating state"),this.setState(Pt.Disconnected),!1):e&&r}setState(e){const r=this.state;this.state=e,r!==e&&this.stateChangeHandlers.forEach(i=>{try{i(e)}catch(s){console.error("Error in state change handler:",s)}})}onStateChange(e){return this.stateChangeHandlers.add(e),()=>{this.stateChangeHandlers.delete(e)}}handleMessage(e){if(e.type==="ping"){try{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const o={type:"pong"};e.id&&(o.id=e.id),this.send(o)}}catch(o){console.error("[WebSocketClient] Failed to send pong:",o),this.ws&&this.ws.readyState!==WebSocket.OPEN&&(this.setState(Pt.Disconnected),this.scheduleReconnect())}return}if(e.type==="ack"&&typeof e.channel=="string"){const o=this.pendingSubscriptions.get(e.channel);o&&(clearTimeout(o.timeout),o.resolve(),this.pendingSubscriptions.delete(e.channel))}if(e.action==="subscribed"&&typeof e.channel=="string"){const o=this.pendingSubscriptions.get(e.channel);o&&(clearTimeout(o.timeout),o.resolve(),this.pendingSubscriptions.delete(e.channel))}e.is_stale===!0&&(console.warn("[WebSocketClient] Received stale data:",e),(this.handlers.get("stale")||[]).forEach(a=>{try{a(e)}catch(l){console.error("[WebSocketClient] Error in stale data handler:",l)}}));let r;if(typeof e.action=="string")if(e.action==="subscribed")typeof e.channel=="string"?r=e.channel:r="subscribed";else if(e.action==="error")r="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message);else if(e.action==="pong")r="pong";else if(e.action==="data"||e.action==="update")if(typeof e.channel=="string")r=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else r=e.action;else if(typeof e.type=="string")if(e.type==="data")if(typeof e.channel=="string")r=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else e.type==="error"?(r="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message)):e.type==="ack"?typeof e.channel=="string"?r=e.channel:r="ack":e.type==="pong"?r="pong":r=e.type;else typeof e.event=="string"?r=e.event:typeof e.channel=="string"?r=e.channel:r="message";const i=this.handlers.get(r)||[],s=this.handlers.get("*")||[];i.forEach(o=>{try{o(e)}catch(a){console.error(`[WebSocketClient] Error in handler for ${r}:`,a)}}),r!=="error"&&s.forEach(o=>{try{o(e)}catch(a){console.error("[WebSocketClient] Error in wildcard handler:",a)}})}scheduleReconnect(){if(this.reconnectAttempts>=this.config.maxReconnectAttempts){console.error("[WebSocketClient] Max reconnection attempts reached"),this.setState(Pt.Disconnected);return}this.reconnectAttempts++,this.setState(Pt.Reconnecting),this.reconnectTimer=window.setTimeout(()=>{this.connect().catch(e=>{console.error("[WebSocketClient] Reconnection failed:",e)})},this.config.reconnectInterval)}cancelReconnect(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnectAttempts=0}startPing(){this.stopPing(),this.pingInterval=window.setInterval(()=>{if(this.ws&&this.state===Pt.Connected)if(this.ws.readyState===WebSocket.OPEN)try{const e=`ping_${Date.now()}`;this.send({type:"ping",id:e})}catch(e){console.error("[WebSocketClient] Failed to send ping:",e),this.ws.readyState!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open, scheduling reconnect"),this.setState(Pt.Disconnected),this.scheduleReconnect())}else console.warn("[WebSocketClient] WebSocket not in OPEN state during ping, state:",this.ws.readyState),this.setState(Pt.Disconnected),this.scheduleReconnect()},2e4)}stopPing(){this.pingInterval!==null&&(clearInterval(this.pingInterval),this.pingInterval=null)}setAuthToken(e,r,i){this.config.authToken=e,this.config.walletAddress=r,this.config.deviceID=i,this.originalConfig.authToken=e,this.originalConfig.walletAddress=r,this.originalConfig.deviceID=i,console.log(`Auth set: address=${r}, device=${i}`)}async updateAuth(e,r,i){e!==void 0&&(this.config.authToken=e,this.originalConfig.authToken=e),r!==void 0&&(this.config.walletAddress=r,this.originalConfig.walletAddress=r),i!==void 0&&(this.config.deviceID=i,this.originalConfig.deviceID=i),this.isConnected()&&(this.disconnect(),await this.connect())}waitForSubscription(e,r=5e3){return new Promise((i,s)=>{if(!this.pendingSubscriptions.has(e)){i();return}const o=window.setTimeout(()=>{this.pendingSubscriptions.delete(e),s(new Error(`Subscription acknowledgment timeout for channel: ${e}`))},r),a=this.pendingSubscriptions.get(e);a?(a.timeout=o,a.resolve=i,a.reject=s):(clearTimeout(o),i())})}registerPendingSubscription(e){this.pendingSubscriptions.has(e)||this.pendingSubscriptions.set(e,{resolve:()=>{},reject:()=>{},timeout:0})}isReadyForSubscriptions(){const e=this.state===Pt.Connected,i=!this.config.authToken||this.authState==="authenticated";return e&&i}getAuthState(){return this.authState}}class uje{constructor(e){Be(this,"wsClient");Be(this,"multiFeedSubscriptions",new Map);Be(this,"multiFeedCallbacks",[]);Be(this,"multiFeedHandlerRegistered",!1);Be(this,"multiFeedSubscribedMarkets",new Set);this.wsClient=e}isConnected(){return this.wsClient.isConnected()}validateSymbol(e){return e===""?!0:!e||typeof e!="string"||e.trim()===""?!1:e.includes("/")}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}handleMultiFeedMessage(e){const r=e.type==="data";if((e.action==="data"||e.action==="update"||r)&&e.channel==="multi_feed"&&e.sub_channel){const s=e,o=s.sub_channel,a=this.multiFeedSubscriptions.get(o)||[],l=this.multiFeedCallbacks;let c=s.data;if(typeof c=="string")try{c=JSON.parse(c)}catch(u){console.error("Failed to parse multi-feed data field:",u);return}if(c){let u=c;const d={...s,data:u};a.forEach(h=>{try{h(u)}catch(f){console.error(`Error in multi-feed sub-channel callback for ${o}:`,f)}}),l.forEach(h=>{try{h(d)}catch(f){console.error("Error in multi-feed callback:",f)}})}}}subscribeMultiFeed(e,r,i){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const s=e!=="";if(s&&!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(i!=null&&i.symbol&&!this.validateSymbol(i.symbol))throw new Error(`Invalid symbol: ${i.symbol}. Symbol must be in format "BASE/QUOTE" (e.g., "BTC/USDC").`);if(i!=null&&i.interval&&!this.validateKlineInterval(i.interval))throw new Error(`Invalid interval: ${i.interval}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const o="multi_feed";this.multiFeedHandlerRegistered||(this.wsClient.on(o,this.handleMultiFeedMessage.bind(this)),this.multiFeedHandlerRegistered=!0),this.multiFeedCallbacks.push(r),this.wsClient.registerPendingSubscription(o);const a=s?e:"auth-only";if(!this.multiFeedSubscribedMarkets.has(a))try{const c={type:"subscribe",channel:"multi_feed",params:{}};s&&(c.params.market_id=e),i&&Object.assign(c.params,i),this.wsClient.send(c),this.multiFeedSubscribedMarkets.add(a)}catch(c){const u=this.multiFeedCallbacks.indexOf(r);throw u>-1&&this.multiFeedCallbacks.splice(u,1),c}}subscribeMultiFeedSubChannel(e,r,i,s){this.multiFeedSubscriptions.has(e)||this.multiFeedSubscriptions.set(e,[]),this.multiFeedSubscriptions.get(e).push(i);const a=r!==""?r:"auth-only";if(!this.multiFeedSubscribedMarkets.has(a)){const l=()=>{};this.subscribeMultiFeed(r,l,s)}}unsubscribeMultiFeed(e,r,i){if(i){const s=this.multiFeedCallbacks.indexOf(i);s>-1&&this.multiFeedCallbacks.splice(s,1)}else this.multiFeedCallbacks=[];if(this.multiFeedCallbacks.length===0&&(this.multiFeedSubscriptions.clear(),this.multiFeedSubscribedMarkets.clear()),this.multiFeedCallbacks.length===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"multi_feed"}),this.multiFeedSubscribedMarkets.clear()}catch(s){console.error("Failed to send unsubscribe message:",s)}}unsubscribeMultiFeedSubChannel(e,r){const i=this.multiFeedSubscriptions.get(e)||[];if(r){const s=i.indexOf(r);s>-1&&(i.splice(s,1),i.length===0?this.multiFeedSubscriptions.delete(e):this.multiFeedSubscriptions.set(e,i))}else this.multiFeedSubscriptions.delete(e)}disconnect(){this.multiFeedSubscriptions.clear(),this.multiFeedCallbacks=[],this.multiFeedHandlerRegistered=!1,this.multiFeedSubscribedMarkets.clear()}}class g0{constructor(e){Be(this,"wsClient");Be(this,"subscriptions",new Map);Be(this,"lastPriceWrappedCallbacks",new Map);Be(this,"wrappedCallbacks",new Map);Be(this,"multiplexClient");this.wsClient=new FS({url:e.url,authToken:e.authToken,walletAddress:e.walletAddress,deviceID:e.deviceID}),this.multiplexClient=new uje(this.wsClient)}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.lastPriceWrappedCallbacks.clear(),this.wrappedCallbacks.clear(),this.multiplexClient.disconnect()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,r,i){this.wsClient.setAuthToken(e,r,i)}async updateAuth(e,r,i){return this.wsClient.updateAuth(e,r,i)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,r=5e3){return this.wsClient.waitForSubscription(e,r)}getWebSocketClient(){return this.wsClient}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.error("Failed to parse router data field:",r),null}return e}extractRouterData(e){if(typeof e.action=="string"){if((e.action==="data"||e.action==="update")&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionClient] Failed to parse action-based data:",e.data),r}if(e.action==="data"||e.action==="update"){const{action:r,channel:i,...s}=e;return Object.keys(s).length>0?s:null}if(e.action==="error")return e.error?console.error("WebSocket error response:",e.error):e.message&&console.error("WebSocket error response:",e.message),null;if(e.action==="subscribed")return null}if(e.type==="data"&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionClient] Failed to parse router data:",e.data),r}if(e.type==="error")return e.error?console.error("WebSocket error response:",e.error):e.message&&console.error("WebSocket error response:",e.message),null;if(e.type==="ack")return null;if(e.channel&&!e.action&&!e.type){const{channel:r,...i}=e;return Object.keys(i).length>0?i:null}return e.action&&e.action!=="data"&&e.action!=="update"&&e.action!=="subscribed"&&e.action!=="error"?console.debug("[SubscriptionClient] Unexpected action:",e.action,"Full message:",e):e.type&&e.type!=="data"&&e.type!=="ack"&&e.type!=="error"?console.debug("[SubscriptionClient] Unexpected message type:",e.type,"Full message:",e):(e.action==="data"||e.action==="update"||e.type==="data")&&!e.data&&!e.channel&&console.warn("[SubscriptionClient] Message is data/update but missing data/channel field:",e),null}validateSymbol(e){return e===""?!0:!e||typeof e!="string"||e.trim()===""?!1:e.includes("/")}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}validateTWAPWindowSize(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}validatePrivateChannelAuth(){if(!this.isReadyForSubscriptions()){const e=this.getAuthState();if(e==="pending")throw new Error("Authentication is pending. Please wait for authentication to complete before subscribing to private channels.");if(e==="failed")throw new Error("Authentication failed. Please re-authenticate before subscribing to private channels.");{const r=this.wsClient.config;if(!r||!r.authToken)throw new Error("Authentication token is required for private channels. Please provide authToken in SubscriptionClient config.")}}}getMultiplexClient(){return this.multiplexClient}subscribeMultiFeed(e,r,i){return this.multiplexClient.subscribeMultiFeed(e,r,i)}subscribeMultiFeedSubChannel(e,r,i,s){return this.multiplexClient.subscribeMultiFeedSubChannel(e,r,i,s)}unsubscribeMultiFeed(e,r,i){return this.multiplexClient.unsubscribeMultiFeed(e,r,i)}unsubscribeMultiFeedSubChannel(e,r){return this.multiplexClient.unsubscribeMultiFeedSubChannel(e,r)}subscribeOrderbook(e,r,i=!1){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const s="orderbook";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=l=>{const c=this.extractRouterData(l);c&&(i&&c.bids&&Array.isArray(c.bids)&&(c.bids=c.bids.filter(u=>Array.isArray(u)&&u.length>=2).map(([u,d])=>[It(typeof u=="string"?u:String(u)),It(typeof d=="string"?d:String(d))])),i&&c.asks&&Array.isArray(c.asks)&&(c.asks=c.asks.filter(u=>Array.isArray(u)&&u.length>=2).map(([u,d])=>[It(u),It(d)])),r(c))};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(r,o),this.wsClient.on(s,o),this.wsClient.registerPendingSubscription(s);try{const l={type:"subscribe",channel:"orderbook",params:{market_id:e}};console.debug("[SubscriptionClient] Sending orderbook subscription:",l),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(r);const c=this.subscriptions.get(s)||[],u=c.indexOf(r);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeOrderbook(e,r){var o,a;const i="orderbook",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orderbook"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTrades(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="trades";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"trades",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTrades(e,r){var o,a;const i="trades",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"trades"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTicker(e,r){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="moniker",s="ticker";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=l=>{const c=this.extractRouterData(l);c&&r(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(r,o),this.wsClient.on(i,o);try{this.wsClient.send({type:"subscribe",channel:i,params:{market_id:e}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(r);const c=this.subscriptions.get(s)||[],u=c.indexOf(r);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeTicker(e,r){var a,l;const i="ticker",s="moniker",o=this.subscriptions.get(i)||[];if(r){const c=o.indexOf(r);if(c>-1){o.splice(c,1),this.subscriptions.set(i,o);const u=(a=this.wrappedCallbacks.get(i))==null?void 0:a.get(r);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(i).delete(r))}}else{const c=this.wrappedCallbacks.get(i);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((l=this.subscriptions.get(i))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:s})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeUserUpdates(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="positions";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"positions",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeUserUpdates(e){var s,o;const r="positions",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"positions"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeLastPrice(e,r,i=!0){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const s="last_price";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=a=>{console.debug("[SubscriptionClient] last_price message received:",a);const l=this.extractRouterData(a);if(!l){console.warn("[SubscriptionClient] Failed to extract trade data from message:",a);return}if(console.debug("[SubscriptionClient] Extracted trade data:",l),!l.price){console.warn("[SubscriptionClient] Trade data missing price field:",l);return}i&&(l.price&&(l.price=It(typeof l.price=="string"?l.price:String(l.price))),l.quantity&&(l.quantity=It(typeof l.quantity=="string"?l.quantity:String(l.quantity)))),console.debug("[SubscriptionClient] Calling callback with trade data:",l),r(l)};this.lastPriceWrappedCallbacks.set(r,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"last_price",params:{market_id:e}})}catch(a){this.lastPriceWrappedCallbacks.delete(r);const l=this.subscriptions.get(s)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(s,l)),a}}unsubscribeLastPrice(e,r){var o;const i="last_price",s=this.subscriptions.get(i)||[];if(r){const a=s.indexOf(r);if(a>-1){s.splice(a,1),this.subscriptions.set(i,s);const l=this.lastPriceWrappedCallbacks.get(r);l&&(this.wsClient.off(i,l),this.lastPriceWrappedCallbacks.delete(r))}}else s.forEach(a=>{const l=this.lastPriceWrappedCallbacks.get(a);l&&(this.wsClient.off(i,l),this.lastPriceWrappedCallbacks.delete(a))}),this.subscriptions.delete(i);if(((o=this.subscriptions.get(i))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"last_price"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeFundingRate(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="funding_rate";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"funding_rate",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeFundingRate(e,r){var o,a;const i="funding_rate",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"funding_rate"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeBuckets(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="buckets";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"buckets",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeBuckets(e){var s,o;const r="buckets",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"buckets"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeDeviation(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="deviation";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"deviation",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeDeviation(e,r){var o,a;const i="deviation",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"deviation"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeIndexPrice(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="index_price";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"index_price",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeIndexPrice(e,r){var o,a;const i="index_price",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"index_price"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeKline(e,r,i){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateKlineInterval(r))throw new Error(`Invalid interval: ${r}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const s="kline";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],i]);const o=l=>{const c=this.extractRouterData(l);c&&i(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(i,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"kline",params:{market_id:e,interval:r}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(i);const c=this.subscriptions.get(s)||[],u=c.indexOf(i);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeKline(e,r,i){var a,l;const s="kline",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);if(c>-1){o.splice(c,1),this.subscriptions.set(s,o);const u=(a=this.wrappedCallbacks.get(s))==null?void 0:a.get(i);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(s).delete(i))}}else{const c=this.wrappedCallbacks.get(s);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(s)),this.subscriptions.delete(s)}if(((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"kline"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeMarkPrice(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="mark_price";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:i,params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeMarkPrice(e,r){var o,a;const i="mark_price",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"mark_price"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribePriceFeed(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="price_feed";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"price_feed",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribePriceFeed(e,r){var o,a;const i="price_feed",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"price_feed"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTWAP(e,r,i){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateTWAPWindowSize(r))throw new Error(`Invalid window size: ${r}. Window size must be a positive number.`);const s="twap";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],i]);const o=l=>{const c=this.extractRouterData(l);c&&i(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(i,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"twap",params:{market_id:e,window_size:r}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(i);const c=this.subscriptions.get(s)||[],u=c.indexOf(i);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeTWAP(e,r,i){var a,l;const s="twap",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);if(c>-1){o.splice(c,1),this.subscriptions.set(s,o);const u=(a=this.wrappedCallbacks.get(s))==null?void 0:a.get(i);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(s).delete(i))}}else{const c=this.wrappedCallbacks.get(s);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(s)),this.subscriptions.delete(s)}if(((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"twap"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeBalances(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="balances";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"balances",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeBalances(e){var s,o;const r="balances",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"balances"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeOrders(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="orders";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"orders",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeOrders(e){var s,o;const r="orders",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orders"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}}class Jfe{constructor(e){Be(this,"wsClient");Be(this,"subscriptions",new Map);Be(this,"wrappedCallbacks",new Map);if(e instanceof FS)this.wsClient=e;else{const r=e;this.wsClient=new FS({url:r.url,authToken:r.authToken,walletAddress:r.walletAddress,deviceID:r.deviceID})}}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.wrappedCallbacks.clear()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,r,i){this.wsClient.setAuthToken(e,r,i)}async updateAuth(e,r,i){return this.wsClient.updateAuth(e,r,i)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,r=5e3){return this.wsClient.waitForSubscription(e,r)}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.error("Failed to parse router data field:",r),null}return e}extractRouterData(e){if(e.type==="data"&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionExplorer] Failed to parse router data:",e.data),r}return e.type==="error"&&e.error?(console.error("WebSocket error response:",e.error),null):(e.type==="ack"||(e.type!=="data"?console.debug("[SubscriptionExplorer] Unexpected message type:",e.type,"Full message:",e):e.data||console.warn("[SubscriptionExplorer] Message type is 'data' but missing data field:",e)),null)}subscribeConsensusFlat(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const i="consensus_flat";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],e]);const s=a=>{const l=this.extractRouterData(a);l&&e(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(e,s),this.wsClient.on(i,s),this.wsClient.registerPendingSubscription(i);try{const a={};(r==null?void 0:r.shard_id)!==void 0&&(a.shard_id=r.shard_id.toString()),r!=null&&r.event_type&&(a.event_type=r.event_type),this.wsClient.send({type:"subscribe",channel:"consensus_flat",params:Object.keys(a).length>0?a:{}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(e);const l=this.subscriptions.get(i)||[],c=l.indexOf(e);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeConsensusFlat(e){var s,o;const r="consensus_flat",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"consensus_flat"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeTransactions(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const i="transactions";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],e]);const s=a=>{const l=this.extractRouterData(a);l&&(l&&typeof l=="object"&&l.event_type?e(l):console.warn("[SubscriptionExplorer] Invalid transaction event structure:",l))};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(e,s),this.wsClient.on(i,s),this.wsClient.registerPendingSubscription(i);try{const a={};r!=null&&r.address&&(a.address=r.address),r!=null&&r.txhash&&(a.txhash=r.txhash),r!=null&&r.tx_types&&r.tx_types.length>0&&(a.tx_types=r.tx_types),(r==null?void 0:r.shard_id)!==void 0&&(a.shard_id=typeof r.shard_id=="number"?r.shard_id:parseInt(r.shard_id.toString(),10)),r!=null&&r.event_types&&r.event_types.length>0&&(a.event_types=r.event_types),this.wsClient.send({type:"subscribe",channel:"transactions",params:Object.keys(a).length>0?a:{}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(e);const l=this.subscriptions.get(i)||[],c=l.indexOf(e);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTransactions(e){var s,o;const r="transactions",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"transactions"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}}async function dje(n,e,r,i,s){const o=m0.fromPhrase(n.trim(),"","m/44'/60'/0'/0/0");if(o.address.toLowerCase()!==e.toLowerCase())throw new Error(`Address mismatch: derived ${o.address} does not match provided ${e}`);let a;try{a=new Ol(o.privateKey)}catch(x){throw new Error(`Invalid private key: cannot create signing key - ${x.message}`)}const l=xx(a.publicKey);if(l.toLowerCase()!==e.toLowerCase())throw new Error(`Private key validation failed: derived address ${l} does not match ${e}`);const c=BigInt(o.privateKey),u=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(c===0n||c>=u)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const h=c.toString(16).toLowerCase().padStart(64,"0"),f=Et("0x"+h);if(f.length!==32)throw new Error(`Invalid private key: expected 32 bytes, got ${f.length}`);if(f.every(x=>x===0))throw new Error("Invalid private key: cannot be zero");const m=BigInt("0x"+h);if(m!==c)throw new Error(`Private key encoding error: bytes do not match BigInt value. Original: ${c.toString(16)}, Reconstructed: ${m.toString(16)}`);const b=h;if(b.length!==64)throw new Error(`Invalid private key format: expected exactly 64 hex chars, got ${b.length}. This should never happen with a valid 32-byte private key.`);if(!/^[0-9a-f]{64}$/.test(b))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");const y=b,v={action:UC,owner:e.toLowerCase(),nonce:r,timestamp:i,deadline:s},w={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:i,payload:v,deadline:parseInt(s,16)};console.log("[Onboard] Signing EIP-712 typed data with generateSingleSignature:",w),console.log("[Onboard] Private key format validated:",{length:y.length,format:"64 lowercase hex chars (no 0x prefix) - matches Go's hex.EncodeToString",preview:`${y.substring(0,8)}...${y.substring(56)}`,isValidSecp256k1:!0,withinCurveOrder:c<u,notZero:c!==0n,bytesLength:f.length,fullHex:y,firstByte:y.substring(0,2),lastByte:y.substring(62,64)}),console.log("[Onboard] Calling WASM GenerateSingleSignature with:",{txJSONLength:JSON.stringify(w).length,privateKeyHexLength:y.length,privateKeyHexPreview:y,signerAddress:e.toLowerCase()});const _=await jt.generateSingleSignature(JSON.stringify(w),y,e.toLowerCase());if(console.log(_),!_.success||!_.signature)throw new Error(_.error||"Failed to generate signature");return console.log("[Onboard] signature:",_.signature),_.signature}async function hje(n){var e,r;try{const i=await dje(n.mnemonic,n.walletAddress,n.message.nonce,n.message.timestamp,n.message.deadline);console.log("[Onboard] Signature generated successfully, length:",i.length);const s={address:n.walletAddress,signature:i,nonce:n.message.nonce,timestamp:n.timestamp,deadline:n.message.deadline,action:UC};n.username&&(s.username=n.username),n.referralCode&&(s.referral_code=n.referralCode),console.log("[Onboard] Request body:",{...s,signature:i.substring(0,20)+"..."});const a=await new IC(n.baseURL).post("/auth/v1/onboard",s);if(a.statusCode===200&&a.body){const l=a.body.access_token||a.body.authToken||a.body.token||a.body.accessToken,c=a.body.refresh_token||a.body.refreshToken,u=a.body.expires_at||a.body.expiresAt||(a.body.expires_in?n.timestamp+a.body.expires_in:void 0);return l?{success:!0,authToken:l,refreshToken:c,expiresAt:u}:{success:!1,error:"Response missing authToken field"}}else{const l=((e=a.body)==null?void 0:e.message)||((r=a.body)==null?void 0:r.error)||`HTTP ${a.statusCode}: ${a.body}`,c=new Error(l);throw c.responseBody=a.body,c.statusCode=a.statusCode,c}}catch(i){throw i}}const f9={auth:{maxRetries:4,baseDelay:500,maxDelay:3e3,jitter:!0,multiplier:2},http:{maxRetries:3,baseDelay:100,maxDelay:5e3,jitter:!0,multiplier:2},nonce:{maxRetries:5,baseDelay:200,maxDelay:2e3,jitter:!0,multiplier:1.5}};function fje(n,e){let r=n.baseDelay*Math.pow(n.multiplier,e);if(r>n.maxDelay&&(r=n.maxDelay),n.jitter){const i=r*.25*Math.random();r+=i}return Math.floor(r)}function pje(n){return new Promise(e=>setTimeout(e,n))}async function qC(n,e,r=()=>!0){let i;for(let s=0;s<=n.maxRetries;s++)try{return await e()}catch(o){if(i=o,!await Promise.resolve(r(o)))throw o;if(s>=n.maxRetries)break;const l=fje(n,s);await pje(l)}throw new Error(`Operation failed after ${n.maxRetries+1} attempts: ${(i==null?void 0:i.message)||i}`)}async function p9(n,e,r,i){try{jt.isReady()||await jt.initialize();const s=await jt.generateAddress(n,0);if(!s.success||!s.address)return{success:!1,error:`Failed to generate address: ${s.error}`};const o=s.address.toLowerCase(),a=new Cr({baseURL:e}),l=new R7(a);let c=null;try{return await qC(f9.auth,async()=>{console.log(`[Onboard] Attempt starting - currentNonce: ${c}`),c===null?(c=(await l.getExpectedNextNonce(o,!1)).next_nonce,console.log(`[Onboard] First attempt: queried server, using next nonce: ${c}`)):console.log(`[Onboard] Retry attempt: using incremented nonce ${c} from previous failure`);let d=0;const h=10;for(;d<h;)try{await l.validateNonce(o,c,!0);break}catch(y){if(d++,y.message.includes("already pending")||y.message.includes("already used")){if(c=c+1,console.log(`[Onboard] Nonce ${c-1} already pending, incrementing to ${c}`),d>=h)throw new Error(`Failed to find available nonce after ${h} attempts`)}else throw y}const f=Math.floor(Date.now()/1e3),p=f+3600,m={action:UC,owner:o,nonce:DR(c),timestamp:f,deadline:DR(p)};let b;try{b=await hje({mnemonic:n,walletAddress:o,message:m,baseURL:e,username:r,referralCode:i,timestamp:f})}catch(y){if(c!==null){const v=c;try{await l.rejectNonce(o,c,!0),c=c+1,console.log(`[Onboard] Rejected nonce ${v}, incremented to nonce ${c} (will use on retry)`)}catch(w){console.warn("[Onboard] Failed to reject nonce after thrown error:",w),c=c+1,console.log(`[Onboard] Incremented nonce to ${c} (reject failed but incrementing anyway)`)}}else console.warn("[Onboard] Error thrown but currentNonce is null, cannot reject/increment");throw y.currentNonce=c,y}if(!b.success){if(c!==null){const v=c;await l.rejectNonce(o,c,!0),c=c+1,console.log(`[Onboard] Request failed with nonce ${v}, rejected and incremented to ${c} (will keep incrementing until it works)`)}const y=new Error(b.error||"Onboarding failed");throw y.onboardResult=b,y}return c!==null&&await l.commitNonce(o,c,!0),b},async d=>{var v,w,_;const h=String(d).toLowerCase(),f=((v=d==null?void 0:d.message)==null?void 0:v.toLowerCase())||h,p=(d==null?void 0:d.responseBody)||(d==null?void 0:d.onboardResult),m=((w=p==null?void 0:p.error)==null?void 0:w.toLowerCase())||((_=p==null?void 0:p.message)==null?void 0:_.toLowerCase())||"";if(`${f} ${h} ${m}`.toLowerCase().includes("nonce already pending")){if(c!==null){const x=c;c=c+1,console.log(`[Onboard] Off-chain operation: nonce ${x} already pending/used, incrementing to ${c} (server will validate)`)}else try{c=(await l.getExpectedNextNonce(o,!1)).next_nonce,console.log(`[Onboard] currentNonce was null, queried server for starting nonce: ${c}`)}catch(x){console.warn("[Onboard] Failed to query server nonce:",x),c=1}return!0}return N7(d)?(console.log('[Onboard] Nonce-consuming error detected (not "already pending"), clearing currentNonce to force re-query'),c=null,!0):!["failed to generate address","address mismatch","invalid mnemonic"].some(x=>h.includes(x))})}catch(u){if(c!==null)try{await l.rejectNonce(o,c,!0)}catch(d){console.warn("[Onboard] Failed to reject nonce during cleanup:",d)}return{success:!1,error:(u==null?void 0:u.message)||"Unknown error during onboarding"}}}catch(s){return{success:!1,error:(s==null?void 0:s.message)||"Unknown error during onboarding"}}}const mje=Object.freeze(Object.defineProperty({__proto__:null,onboardAndGetAuthToken:p9},Symbol.toStringTag,{value:"Module"}));function ig(){if(typeof window>"u")return!1;const n=window.solana;return!!(n&&n.isPhantom)}function Bc(){if(typeof window>"u")return null;const n=window.solana;return n&&n.isPhantom?n:null}async function m9(n){const e=n||Bc();if(!e)throw new Error("Phantom Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Phantom Solana wallet is not connected")}async function Zfe(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function fa(){var e;if(typeof window>"u")return null;const n=(e=window.$onekey)==null?void 0:e.solana;return n||null}async function gje(n){const e=fa();if(!e)throw new Error("OneKey Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("OneKey Solana wallet is not connected")}async function bje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function Rh(){var e,r,i,s,o;if(typeof window>"u")return!1;if(((e=window.binancew3w)==null?void 0:e.isExtension)===!0&&((r=window.binancew3w)!=null&&r.solana))return!0;const n=window.solana;if(n){if(n.isBinance===!0)return!0;const a=n.name||n.providerName;if(typeof a=="string"&&a.toLowerCase().includes("binance")||((i=window.binancew3w)==null?void 0:i.isExtension)===!0)return!0}return!!((s=window.ethereum)!=null&&s.solana||(o=window.BinanceChain)!=null&&o.solana)}function bs(){var e,r,i,s,o;if(typeof window>"u")return null;if(((e=window.binancew3w)==null?void 0:e.isExtension)===!0&&((r=window.binancew3w)!=null&&r.solana))return window.binancew3w.solana;const n=window.solana;if(n){if(n.isBinance===!0)return n;const a=n.name||n.providerName;if(typeof a=="string"&&a.toLowerCase().includes("binance")||((i=window.binancew3w)==null?void 0:i.isExtension)===!0)return n}return(s=window.ethereum)!=null&&s.solana?window.ethereum.solana:(o=window.BinanceChain)!=null&&o.solana?window.BinanceChain.solana:null}async function yje(n){const e=bs();if(!e)throw new Error("Binance Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Binance Solana wallet is not connected")}function JR(){if(typeof window>"u")return!1;const n=window.bitkeep;if(!n)return!1;const e=n.solana;return e&&typeof e.connect=="function"?(n.isBitKeep===!0||e.isBitKeep===!0,!0):!1}function ol(){if(typeof window>"u")return null;const n=window.bitkeep;if(!n)return null;const e=n.solana;return e&&typeof e.connect=="function"?e:null}async function vje(n){const e=ol();if(!e)throw new Error("Bitget Solana wallet not found");if(!(e.isConnected||typeof e.isConnected=="function"&&e.isConnected()))return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Bitget Solana wallet is not connected")}async function wje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8");return{signature:Array.from(s.signature).map(a=>a.toString(16).padStart(2,"0")).join(""),publicKey:s.publicKey.toString()}}function FW(){if(typeof window>"u")return!1;const n=window.solana;if(!n)return!1;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return!0;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return!0;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return!0}}catch{}if(n.isPhantom===!0)return!1;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u"&&n)return!0;if(i&&typeof i.isConnected=="function")try{if(i.isConnected()&&n)return!0}catch{}return!!((r==null?void 0:r.isTokenPocket)===!0&&n||n.isTokenPocket===!0||i&&typeof i=="object"&&n)}function ky(){if(typeof window>"u")return null;const n=window.solana;if(!n)return null;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return n;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return n;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return n}}catch{}if(n.isPhantom===!0)return null;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u")return n;if(i&&typeof i.isConnected=="function")try{if(i.isConnected())return n}catch{}return(r==null?void 0:r.isTokenPocket)===!0||n.isTokenPocket===!0||i&&typeof i=="object"?n:null}async function xje(n){const e=ky();if(!e)throw new Error("TokenPocket Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(!e.publicKey)throw new Error("TokenPocket Solana wallet is connected but public key is not available");return e.publicKey.toString()}async function _je(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8");return{signature:Array.from(s.signature).map(a=>a.toString(16).padStart(2,"0")).join(""),publicKey:s.publicKey.toString()}}function kje(){if(typeof window>"u")return!1;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return!0}return!1}function Nh(){if(typeof window>"u")return null;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return n}return null}async function Sje(n){const e=Nh();if(!e)throw new Error("Coinbase Wallet Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Coinbase Wallet Solana provider is connected but has no public key")}async function Cje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}async function Eje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function Aje(n){const e=Bc();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[Phantom] Solana wallet disconnected (isConnected changed)"),n("Phantom","Connection lost")),r=a},o=()=>{console.warn("[Phantom] Solana wallet disconnected (event)"),n("Phantom","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function Tje(n){const e=fa();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[OneKey] Solana wallet disconnected (isConnected changed)"),n("OneKey","Connection lost")),r=a},o=()=>{console.warn("[OneKey] Solana wallet disconnected (event)"),n("OneKey","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function Pje(n){const e=bs();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[Binance] Solana wallet disconnected (isConnected changed)"),n("Binance","Connection lost")),r=a},o=()=>{console.warn("[Binance] Solana wallet disconnected (event)"),n("Binance","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}const $W=n=>{let e;const r=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=n(i,s,l);return l},Ije=n=>n?$W(n):$W,Mje=n=>n;function Oje(n,e=Mje){const r=B.useSyncExternalStore(n.subscribe,B.useCallback(()=>e(n.getState()),[n,e]),B.useCallback(()=>e(n.getInitialState()),[n,e]));return B.useDebugValue(r),r}const zW=n=>{const e=Ije(n),r=i=>Oje(e,i);return Object.assign(r,e),r},Dje=n=>n?zW(n):zW,Dn=Dje((n,e)=>({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,selectedMarketId:null,loadingMarkets:!1,loadingOrderbooks:new Set,loadingTickers:new Set,loadingTrades:new Set,errors:new Map,setMarkets:r=>{const i=new Map,s=new Map;r.forEach(l=>{i.set(l.id,l),l.symbol&&s.set(l.symbol,l),l.moniker&&s.set(l.moniker,l)});let a=e().selectedMarketId;if(!a&&r.length>0){const u=(r.find(d=>d.active)||r[0]).market_id;u&&(a=u)}n({markets:r,marketsById:i,marketsBySymbol:s,selectedMarketId:a,lastUpdated:new Map(e().lastUpdated).set("markets",Date.now())})},setMarket:r=>{const i=e(),s=new Map(i.marketsById),o=new Map(i.marketsBySymbol);s.set(r.id,r),r.symbol&&o.set(r.symbol,r),r.moniker&&o.set(r.moniker,r);const a=i.markets.find(l=>l.id===r.id)?i.markets.map(l=>l.id===r.id?r:l):[...i.markets,r];n({markets:a,marketsById:s,marketsBySymbol:o})},getMarket:r=>e().marketsById.get(r),getMarketBySymbol:r=>e().marketsBySymbol.get(r),setSelectedMarketId:r=>{n({selectedMarketId:r})},setOrderbook:(r,i)=>{const s=e(),o=new Map(s.orderbooks);o.set(r,{...i,timestamp:Date.now()}),n({orderbooks:o,lastUpdated:new Map(s.lastUpdated).set(r,Date.now())})},getOrderbook:r=>e().orderbooks.get(r),updateOrderbook:(r,i)=>{const s=e(),o=s.orderbooks.get(r);if(o){const a={...o,...i,timestamp:Date.now()};s.setOrderbook(r,a)}else s.setOrderbook(r,{bids:i.bids||[],asks:i.asks||[],timestamp:Date.now()})},setTicker:(r,i)=>{const s=e(),o=new Map(s.tickers);o.set(r,{...i,marketId:r,timestamp:Date.now()}),n({tickers:o,lastUpdated:new Map(s.lastUpdated).set(`ticker_${r}`,Date.now())})},getTicker:r=>e().tickers.get(r),setRecentTrades:(r,i)=>{const s=e(),o=new Map(s.recentTrades);o.set(r,i),n({recentTrades:o,lastUpdated:new Map(s.lastUpdated).set(`trades_${r}`,Date.now())})},getRecentTrades:r=>e().recentTrades.get(r),setLoading:(r,i)=>{const s=e();if(r==="markets")n({loadingMarkets:i});else if(r.startsWith("orderbook_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingOrderbooks);i?a.add(o):a.delete(o),n({loadingOrderbooks:a})}else if(r.startsWith("ticker_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingTickers);i?a.add(o):a.delete(o),n({loadingTickers:a})}else if(r.startsWith("trades_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingTrades);i?a.add(o):a.delete(o),n({loadingTrades:a})}},setError:(r,i)=>{const s=e(),o=new Map(s.errors);i?o.set(r,i):o.delete(r),n({errors:o})},clearError:r=>{e().setError(r,null)},clearCache:r=>{const i=e();if(r){const s=new Map(i.orderbooks),o=new Map(i.tickers),a=new Map(i.recentTrades),l=new Map(i.lastUpdated);s.delete(r),o.delete(r),a.delete(r),l.delete(r),l.delete(`ticker_${r}`),l.delete(`trades_${r}`),n({orderbooks:s,tickers:o,recentTrades:a,lastUpdated:l})}else n({orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map})},clearAllCache:()=>{n({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,errors:new Map,selectedMarketId:null})}})),Rje=Object.freeze(Object.defineProperty({__proto__:null,ConnectionState:Pt,ExchangeClient:th,HttpClient:IC,InfoClient:Cr,NonceManager:R7,OpBankBucketTransfer:l9,OpBankExtractToBucket:o9,OpBankMint:s9,OpBankTransfer:c9,OpBankWithdrawFromBucket:a9,OpCancelOrder:jS,OpChangeLeverage:$fe,OpChangeMarginRatio:e9,OpClosePosition:BS,OpCreateMarginBucket:zfe,OpInternTransfer:r9,OpModifyOrder:n9,OpSubmitOrder:t9,OpSwap:i9,OpUpdatePositionLeverage:Ffe,OperationTypeOnboard:UC,SATOSHI_SCALE:jd,SubscriptionClient:g0,SubscriptionExplorer:Jfe,WebSocketClient:FS,calculateRiskRatio:wk,connectPhantomSolana:m9,convertMultiFeedToRawBucket:d9,fromSatoshi:It,fromSatoshiBatch:xhe,getDisplayMarginType:jm,getPhantomSolanaProvider:Bc,initWasm:_he,isLastPriceData:bm,isMarkPriceData:xk,isMultiFeedBalances:Gfe,isMultiFeedBuckets:Vfe,isMultiFeedLastPrice:VR,isMultiFeedOrderbook:Ufe,isMultiFeedOrders:Hfe,isMultiFeedPositions:qfe,isMultiFeedPriceFeed:Yfe,isMultiFeedTrades:Wfe,isPhantomSolanaAvailable:ig,isRawBucket:h9,isValidSatoshi:OR,mormSigner:jt,onboardAndGetAuthToken:p9,signSolanaMessage:Zfe,toSatoshi:_n,toSatoshiBatch:whe,toSatoshiUint64:D7,transformPosition:XR,transformRawBucketToBucket:LS,transformRawOrderToPendingOrder:QR,transformRawTradesToRecentTradeDos:KR,useMarketStore:Dn},Symbol.toStringTag,{value:"Module"}));function Nje(){const[n,e]=A.useState({loading:!0,loaded:!1,error:null}),[r,i]=A.useState({initialized:!1,wasmLoaded:!1,ready:!1});A.useEffect(()=>{(async()=>{try{e(l=>({...l,loading:!0,error:null})),await jt.initialize()?(e({loading:!1,loaded:!0,error:null}),i(jt.getStatus())):(e({loading:!1,loaded:!1,error:"Failed to load WASM module"}),i(jt.getStatus()))}catch(a){e({loading:!1,loaded:!1,error:a instanceof Error?a.message:"Unknown error"}),i(jt.getStatus())}})()},[]),A.useEffect(()=>{if(n.loaded){const o=setInterval(()=>{i(jt.getStatus())},1e3);return()=>clearInterval(o)}},[n.loaded]);const s=async()=>{e({loading:!0,loaded:!1,error:null});try{await jt.initialize()?(e({loading:!1,loaded:!0,error:null}),i(jt.getStatus())):(e({loading:!1,loaded:!1,error:"Failed to load WASM module"}),i(jt.getStatus()))}catch(o){e({loading:!1,loaded:!1,error:o instanceof Error?o.message:"Unknown error"}),i(jt.getStatus())}};return{wasmStatus:n,isReady:n.loaded&&r.ready,status:r,retry:s}}async function $S(n,e,r=0,i=!0){const s=n.trim();if(!s)return{success:!1,error:"Mnemonic phrase is required"};if(!jt.isReady())try{await jt.initialize()}catch(o){return{success:!1,error:o instanceof Error?o.message:"Failed to initialize WASM module"}}try{return e!=="ethereum"?await jt.generateAddressChain(s,e,r,i):await jt.generateAddress(s,r)}catch(o){return{success:!1,error:o instanceof Error?o.message:"Unknown error during address generation"}}}function jje(n="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about",e=0,r="ethereum",i=!0){const[s,o]=A.useState(n),[a,l]=A.useState(e),[c,u]=A.useState(r),[d,h]=A.useState(i),[f,p]=A.useState(null),[m,b]=A.useState(!1);return{mnemonic:s,setMnemonic:o,addressIndex:a,setAddressIndex:l,chainType:c,setChainType:u,isMainnet:d,setIsMainnet:h,result:f,loading:m,generateAddress:async()=>{b(!0),p(null);try{const v=await $S(s,c,a,d);p(v)}catch(v){p({success:!1,error:v instanceof Error?v.message:"Unknown error"})}finally{b(!1)}},isReady:jt.isReady()}}function Bje(){const[n,e]=A.useState("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"),[r,i]=A.useState("Hello, World!"),[s,o]=A.useState(!1),[a,l]=A.useState(0),[c,u]=A.useState(null),[d,h]=A.useState(!1);return{mnemonic:n,setMnemonic:e,message:r,setMessage:i,useEIP712:s,setUseEIP712:o,addressIndex:a,setAddressIndex:l,result:c,loading:d,signMessage:async()=>{if(!jt.isReady()){u({success:!1,error:"WASM module not ready"});return}h(!0),u(null);try{const p={addressIndex:a,useEIP712:s},m=s?await jt.signEIP712(n,r,p):await jt.signMessage(n,r,p);u(m)}catch(p){u({success:!1,error:p instanceof Error?p.message:"Unknown error"})}finally{h(!1)}},isReady:jt.isReady()}}function UW(){return typeof window>"u"?!1:!!window.okxwallet}function ZR(){var i,s,o,a;if(typeof window>"u")return!1;if((i=window.okxwallet)!=null&&i.ethereum||(s=window.ethereum)!=null&&s.isOKX)return!0;const n=!!((o=window.okxwallet)!=null&&o.solana),e=!!((a=window.okxwallet)!=null&&a.bitcoin);return!!(n&&e&&window.ethereum)}function nd(){var n;return typeof window>"u"?!1:!!((n=window.okxwallet)!=null&&n.solana)}function xa(){var n;return typeof window>"u"?!1:!!((n=window.okxwallet)!=null&&n.bitcoin)}function g9(){var i,s,o,a;if(typeof window>"u")return null;if((i=window.okxwallet)!=null&&i.ethereum)return window.okxwallet.ethereum;if((s=window.ethereum)!=null&&s.isOKX)return window.ethereum;const n=!!((o=window.okxwallet)!=null&&o.solana),e=!!((a=window.okxwallet)!=null&&a.bitcoin);return n&&e&&window.ethereum?window.ethereum:null}function Bo(){var n;return typeof window>"u"?null:(n=window.okxwallet)==null?void 0:n.solana}function epe(){var n;return typeof window>"u"?null:(n=window.okxwallet)==null?void 0:n.bitcoin}async function Lje(){const n=g9();if(!n)throw new Error("OKX Ethereum wallet not found");try{const e=await n.request({method:"eth_requestAccounts"});if(!e||e.length===0)throw new Error("No accounts found in OKX Ethereum wallet");return e[0]}catch(e){throw new Error(`Failed to get OKX Ethereum address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function Fje(n,e,r,i){const s=g9();if(!s)throw new Error("OKX Ethereum wallet not found");try{return{signature:await s.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify({domain:n,types:e,primaryType:"AgentApproval",message:r})]}),address:i}}catch(o){throw o.code===4001?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Ethereum: ${o.message||"Unknown error"}`)}}async function $je(){const n=Bo();if(!n)throw new Error("OKX Solana wallet not found");try{const e=await n.connect();if(!e||!e.publicKey)throw new Error("Failed to connect to OKX Solana wallet");return e.publicKey.toString()}catch(e){throw new Error(`Failed to get OKX Solana address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function zje(n,e){var i,s;const r=Bo();if(!r)throw new Error("OKX Solana wallet not found");try{r.isConnected||await r.connect();const o=typeof n=="string"?new TextEncoder().encode(n):n,a=await r.signMessage(o,"utf8"),c=(Array.isArray(a.signature)?a.signature:Array.from(a.signature)).map(d=>d.toString(16).padStart(2,"0")).join(""),u=((i=a.publicKey)==null?void 0:i.toString())||e||"";if(!u)throw new Error("Failed to get public key from OKX Solana wallet");return{signature:c,publicKey:u}}catch(o){throw o.code===4001||(s=o.message)!=null&&s.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Solana: ${o.message||"Unknown error"}`)}}async function WW(){const n=epe();if(!n)throw new Error("OKX Bitcoin wallet not found");try{let e;if(typeof n.requestAccounts=="function"){const r=await n.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.connect=="function"){const r=await n.connect();Array.isArray(r)?r.length>0&&(e=r[0]):r&&typeof r=="object"&&(r.address?e=r.address:Array.isArray(r.accounts)&&r.accounts.length>0&&(e=r.accounts[0]))}if(!e&&typeof n.getAccounts=="function"){const r=await n.getAccounts();r&&r.length>0&&(e=r[0])}if(!e)throw new Error("No accounts found in OKX Bitcoin wallet. Please ensure the wallet is connected and has a Bitcoin account.");return e}catch(e){throw e instanceof Error&&e.message.includes("No accounts found")?e:new Error(`Failed to get OKX Bitcoin address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function Uje(n,e){var i;const r=epe();if(!r)throw new Error("OKX Bitcoin wallet not found");try{let s=[];if(typeof r.requestAccounts=="function")s=await r.requestAccounts();else if(typeof r.connect=="function"){const l=await r.connect();Array.isArray(l)?s=l:l&&typeof l=="object"&&(l.address?s=[l.address]:Array.isArray(l.accounts)&&(s=l.accounts))}else typeof r.getAccounts=="function"&&(s=await r.getAccounts());if(!s.includes(e))throw new Error("Address not found in OKX Bitcoin wallet. Please ensure the wallet is connected and the address is available.");const o=await r.signMessage(n,e);let a=o;return o.startsWith("0x")&&(a=o.slice(2)),{signature:a,address:e}}catch(s){throw s.code===4001||(i=s.message)!=null&&i.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Bitcoin: ${s.message||"Unknown error"}`)}}function Wje(n){const e=g9();if(!e)return()=>{};const r=s=>{console.warn("[OKX] Ethereum wallet disconnected:",s),n("ethereum",s.message||"Wallet disconnected")},i=s=>{s.length===0&&(console.warn("[OKX] Ethereum wallet accounts cleared (disconnected)"),n("ethereum","Accounts cleared"))};return e.on&&(e.on("disconnect",r),e.on("accountsChanged",i)),()=>{e.removeListener&&(e.removeListener("disconnect",r),e.removeListener("accountsChanged",i))}}function qje(n){const e=Bo();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[OKX] Solana wallet disconnected (isConnected changed)"),n("solana","Connection lost")),r=a},o=()=>{console.warn("[OKX] Solana wallet disconnected (event)"),n("solana","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function Hje(n){let e=null,r=xa();return e=setInterval(()=>{const s=xa();r&&!s&&(console.warn("[OKX] Bitcoin wallet disconnected (provider no longer available)"),n("bitcoin","Provider unavailable")),r=s},2e3),()=>{e&&(clearInterval(e),e=null)}}function Vje(n){const e=[];return e.push(Wje(n)),e.push(qje(n)),e.push(Hje(n)),()=>{e.forEach(r=>r())}}function Gje(){var n,e;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.ethereum||(e=window.ethereum)!=null&&e.isOneKey)}function e4(){var n;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.solana)}function tpe(){var n;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.btc||window.$onekey&&window.unisat)}function Yje(){var n,e;return typeof window>"u"?null:(n=window.$onekey)!=null&&n.ethereum?window.$onekey.ethereum:(e=window.ethereum)!=null&&e.isOneKey?window.ethereum:null}function npe(){var n;return typeof window>"u"?null:(n=window.$onekey)!=null&&n.btc?window.$onekey.btc:window.$onekey&&window.unisat?window.unisat:null}async function Kje(n,e,r,i){const s=Yje();if(!s)throw new Error("OneKey Ethereum wallet not found");try{return{signature:await s.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify({domain:n,types:e,primaryType:"AgentApproval",message:r})]}),address:i}}catch(o){throw o.code===4001?new Error("User rejected the signature request"):new Error(`Failed to sign with OneKey Ethereum: ${o.message||"Unknown error"}`)}}async function Xje(){const n=npe();if(!n)throw new Error("OneKey Bitcoin wallet not found");try{let e;if(typeof n.requestAccounts=="function"){const r=await n.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.getAccounts=="function"){const r=await n.getAccounts();r&&r.length>0&&(e=r[0])}if(!e)throw new Error("No accounts found in OneKey Bitcoin wallet. Please ensure the wallet is connected and has a Bitcoin account.");return e}catch(e){throw e instanceof Error&&e.message.includes("No accounts found")?e:new Error(`Failed to get OneKey Bitcoin address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function Qje(n,e,r="ecdsa"){var s;const i=npe();if(!i)throw new Error("OneKey Bitcoin wallet not found");try{let o=[];if(typeof i.requestAccounts=="function"?o=await i.requestAccounts():typeof i.getAccounts=="function"&&(o=await i.getAccounts()),!o.includes(e))throw new Error("Address not found in OneKey Bitcoin wallet. Please ensure the wallet is connected and the address is available.");const a=await i.signMessage(n,r);let l=a;return a.startsWith("0x")&&(l=a.slice(2)),{signature:l,address:e}}catch(o){throw o.code===4001||(s=o.message)!=null&&s.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OneKey Bitcoin: ${o.message||"Unknown error"}`)}}function rpe(){var i,s,o,a,l,c;if(typeof window>"u")return[];const n=[],e=!!window.$onekey;return(i=window.$onekey)!=null&&i.btc?n.push({name:"OneKey",provider:window.$onekey.btc,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}):e&&window.unisat&&n.push({name:"OneKey",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),window.unisat&&!e&&n.push({name:"Unisat",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),(window.BitcoinProvider||window.XverseProvider)&&n.push({name:"Xverse",provider:window.BitcoinProvider||window.XverseProvider,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),(s=window.okxwallet)!=null&&s.bitcoin&&n.push({name:"OKX",provider:window.okxwallet.bitcoin,isAvailable:!0,supportsBIP322:!1,addressFormat:"all"}),(!!((o=window.bitkeep)!=null&&o.isBitKeep)||!!((l=(a=window.bitkeep)==null?void 0:a.ethereum)!=null&&l.isBitEthereum))&&((c=window.bitkeep)!=null&&c.unisat?n.push({name:"Bitget",provider:window.bitkeep.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}):window.unisat&&!e&&n.push({name:"Bitget",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"})),n}function sd(){const n=rpe();return n.find(e=>e.name==="OneKey")||n.find(e=>e.name==="Unisat")||n.find(e=>e.name==="Xverse")||n.find(e=>e.name==="OKX")||n.find(e=>e.name==="Bitget")||n[0]||null}function Dc(){return rpe().length>0}function Qp(){return typeof window>"u"?!1:!!window.okxwallet}function Jje(n){try{if(typeof Buffer>"u"){const e=atob(n);return Array.from(e).map(r=>r.charCodeAt(0).toString(16).padStart(2,"0")).join("")}return Buffer.from(n,"base64").toString("hex")}catch(e){throw new Error(`Failed to convert base64 to hex: ${e}`)}}function HC(n,e){return e==="base64"?Jje(n):e==="bip322"?n:n.startsWith("0x")?n.slice(2):n}async function Zje(n,e="bip137"){const r=window.unisat;if(!r)throw new Error("Unisat wallet not found");const i=await r.requestAccounts();if(i.length===0)throw new Error("No accounts found in Unisat wallet");const s=i[0];let o;return e==="bip322"?o=await r.signMessage(n,"bip322-simple"):o=await r.signMessage(n,"ecdsa"),{signature:HC(o,e==="bip322"?"bip322":"compact"),address:s,method:e,format:e==="bip322"?"bip322":"compact"}}async function e7e(n,e){const r=window.BitcoinProvider||window.XverseProvider;if(!r)throw new Error("Xverse wallet not found");const i=await r.request("signMessage",{address:e,message:n});return{signature:HC(i.signature,"base64"),address:i.address,method:"bip137",format:"compact"}}async function t7e(n,e){var o;const r=(o=window.okxwallet)==null?void 0:o.bitcoin;if(!r)throw new Error("OKX Bitcoin wallet not found");if(!(await r.connect()).includes(e))throw new Error("Address not found in OKX wallet");const s=await r.signMessage(n,e);return{signature:HC(s,"compact"),address:e,method:"bip137",format:"compact"}}async function n7e(n,e="bip137"){var a;let r=null;if((a=window.$onekey)!=null&&a.btc?r=window.$onekey.btc:window.$onekey&&window.unisat&&(r=window.unisat),!r)throw new Error("OneKey Bitcoin wallet not found");const i=await r.requestAccounts();if(i.length===0)throw new Error("No accounts found in OneKey Bitcoin wallet");const s=i[0];let o;return e==="bip322"?o=await r.signMessage(n,"bip322-simple"):o=await r.signMessage(n,"ecdsa"),{signature:HC(o,e==="bip322"?"bip322":"compact"),address:s,method:e,format:e==="bip322"?"bip322":"compact"}}async function r7e(n,e,r="bip137"){const i=JSON.stringify(n),s=sd();if(!s)throw new Error("No Bitcoin wallet found. Please install OneKey, Unisat, Xverse, or OKX wallet.");const o=r==="bip322"&&s.supportsBIP322?"bip322":"bip137";try{if(s.name==="OneKey")return await n7e(i,o);if(s.name==="Unisat")return await Zje(i,o);if(s.name==="Xverse"){if(!e){const a=await s.provider.getAccounts();if(a.length===0)throw new Error("No accounts found in Xverse wallet");e=a[0]}if(!e)throw new Error("Address is required for Xverse signing");return await e7e(i,e)}else if(s.name==="OKX"){if(!e){const a=await s.provider.connect();if(a.length===0)throw new Error("No accounts found in OKX wallet");e=a[0]}if(!e)throw new Error("Address is required for OKX signing");return await t7e(i,e)}else throw new Error(`Unsupported wallet: ${s.name}`)}catch(a){throw new Error(`Failed to sign with ${s.name}: ${a instanceof Error?a.message:"Unknown error"}`)}}async function ipe(){const n=sd();if(!n)throw new Error("No Bitcoin wallet found");try{if(n.name==="OneKey"){const e=await n.provider.requestAccounts();if(e.length===0)throw new Error("No accounts found in OneKey Bitcoin wallet");return e[0]}else if(n.name==="Unisat"){const e=await n.provider.requestAccounts();if(e.length===0)throw new Error("No accounts found in Unisat wallet");return e[0]}else if(n.name==="Xverse"){const e=await n.provider.getAccounts();if(e.length===0)throw new Error("No accounts found in Xverse wallet");return e[0]}else if(n.name==="OKX"){let e;if(typeof n.provider.requestAccounts=="function"){const r=await n.provider.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.provider.connect=="function"){const r=await n.provider.connect();Array.isArray(r)?r.length>0&&(e=r[0]):r&&typeof r=="object"&&(r.address?e=r.address:Array.isArray(r.accounts)&&r.accounts.length>0&&(e=r.accounts[0]))}if(!e)throw new Error("No accounts found in OKX wallet");return e}else throw new Error(`Unsupported wallet: ${n.name}`)}catch(e){throw new Error(`Failed to get address from ${n.name}: ${e instanceof Error?e.message:"Unknown error"}`)}}function b9(){var n,e;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.ethereum)||!!((e=window.ethereum)!=null&&e.isOneKey)||!!window.$onekey}function zS(){var n,e,r;return typeof window>"u"?!1:(!!((n=window.phantom)!=null&&n.ethereum)||!!((e=window.ethereum)!=null&&e.isPhantom))&&!(window.$onekey||(r=window.ethereum)!=null&&r.isOneKey)}function i7e(){var n;return typeof window>"u"?!1:((n=window.ethereum)==null?void 0:n.isRainbow)===!0}function uu(){var r,i,s,o;if(typeof window>"u")return!1;const n=window.ethereum;if(!n)return!1;if(n.isMetaMask===!0){if(n._metamask&&typeof n._metamask=="object"||((r=n.providerInfo)==null?void 0:r.rdns)==="io.metamask"||((i=n.providerInfo)==null?void 0:i.name)==="MetaMask"||(s=n.providerInfo)!=null&&s.uuid&&typeof n.providerInfo.uuid=="string"&&n.providerInfo.uuid.length>0)return!0;const a=!!window.okxwallet,l=Yc(),c=!!window.$onekey||n.isOneKey,u=!!((o=window.phantom)!=null&&o.ethereum)||n.isPhantom;if(!a&&!l&&!c&&!u)return!0}const e=window.solana;return(e==null?void 0:e.isMetaMask)===!0}function Yc(){var r,i,s,o,a,l,c,u;if(typeof window>"u")return!1;if(((r=window.binancew3w)==null?void 0:r.isExtension)===!0||window.BinanceChain)return!0;const n=window.ethereum;if(n!=null&&n.isBinance)return!0;if(n){const d=n.providerName||n.name||((i=n._state)==null?void 0:i.name)||(((s=n._metamask)==null?void 0:s.isUnlocked)===void 0?"Binance":null);if(typeof d=="string"&&d.toLowerCase().includes("binance"))return!0}if(n!=null&&n._postMessageToMp&&typeof n._postMessageToMp=="function"&&(n==null?void 0:n.namespace)==="eip155"||((o=window.binancew3w)==null?void 0:o.isExtension)===!0&&((a=window.binancew3w)!=null&&a.solana))return!0;const e=window.solana;if(e){if(e.isBinance===!0)return!0;const d=e.name||e.providerName;if(typeof d=="string"&&d.toLowerCase().includes("binance")||((l=window.binancew3w)==null?void 0:l.isExtension)===!0)return!0}return!!((c=window.ethereum)!=null&&c.solana||(u=window.BinanceChain)!=null&&u.solana)}function s7e(){return Yc()}async function n3(n=3e3,e=100){return typeof window>"u"?!1:Yc()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Yc())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Yc()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function qW(){var e,r;if(typeof window>"u")return null;if(((e=window.binancew3w)==null?void 0:e.isExtension)===!0){const i=window.ethereum;if(i)return i}if(window.BinanceChain)return window.BinanceChain;const n=window.ethereum;if(n){if(n.isBinance)return n;const i=n.providerName||n.name||((r=n._state)==null?void 0:r.name);if(typeof i=="string"&&i.toLowerCase().includes("binance")||n._postMessageToMp&&typeof n._postMessageToMp=="function"&&(n==null?void 0:n.namespace)==="eip155")return n}return null}function Dl(){var a,l,c;if(typeof window>"u")return!1;const n=window.bitkeep;if(!n)return!1;if(n.isBitKeep===!0||((a=n.ethereum)==null?void 0:a.isBitEthereum)===!0)return!0;const e=!!n.ethereum&&typeof n.ethereum.request=="function",r=!!n.solana&&typeof n.solana.connect=="function",i=!!n.unisat,s=!!n.tronLink;if([e,r,i,s].filter(Boolean).length>=2||((l=n.solana)==null?void 0:l.isBitKeep)===!0)return!0;if(e){const u=!!window.okxwallet,d=Yc(),h=!!window.$onekey,f=!!((c=window.phantom)!=null&&c.ethereum),p=uu();if(!u&&!d&&!h&&!f&&!p)return!0}return!1}function HW(){if(typeof window>"u")return null;const n=window.bitkeep;return!n||!Dl()?null:n.ethereum&&typeof n.ethereum.request=="function"&&(n.ethereum.isBitEthereum===!0||n.isBitKeep===!0)?n.ethereum:null}async function VW(n=3e3,e=100){return typeof window>"u"?!1:Dl()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Dl())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Dl()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function o7e(){var r;if(typeof window>"u")return!1;const n=window.bitkeep;return!!(n!=null&&n.isBitKeep||(r=n==null?void 0:n.ethereum)!=null&&r.isBitEthereum)&&(!!(n!=null&&n.unisat)||!window.$onekey&&!!window.unisat)}function Kc(){var d;if(typeof window>"u")return!1;if(typeof window.tokenpocket<"u")return!0;const n=window.ethereum;if(!n)return!1;if(n.isTokenPocket===!0||window.tp&&typeof window.tp=="object"||n.isTokenPocket!==void 0)return!0;const e=!!window.solana,r=!!window.unisat,i=e&&r,s=!!window.okxwallet,o=Yc(),a=!!window.$onekey,l=!!((d=window.phantom)!=null&&d.ethereum),c=uu(),u=Dl();return i&&!s&&!o&&!a&&!l&&!c&&!u&&n&&typeof n.request=="function",!1}function spe(){return Kc()}function ope(){if(typeof window>"u")return!1;const n=window.solana;if(!n)return!1;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return!0;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return!0;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return!0}}catch{}if(n.isPhantom===!0)return!1;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u")return!0;if(i&&typeof i.isConnected=="function")try{if(i.isConnected())return!0}catch{}return!!((r==null?void 0:r.isTokenPocket)===!0||i&&typeof i=="object")}function GW(){if(typeof window>"u")return null;const n=window.ethereum;return!n||!Kc()?null:n&&typeof n.request=="function"?n:null}async function YW(n=3e3,e=100){return typeof window>"u"?!1:Kc()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Kc())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Kc()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function Xc(){if(typeof window>"u")return!1;const n=window.ethereum;if(!n)return!1;let e=n;if(Array.isArray(n.providers)){if(e=n.providers.find(r=>r.isCoinbaseWallet),!e)return!1}else if(!n.isCoinbaseWallet)return!1;return!(!e.isCoinbaseWallet||typeof e.host!="string"||!e.host.includes("coinbase.com")||typeof e.jsonRpcUrl!="string"||!e.jsonRpcUrl.includes("coinbase.com")||e.overridesMetaMask!==!1&&e.overridesMetaMask!==void 0||!e.isWalletLink||typeof window.CoinbaseWalletProvider!="function"||typeof window.WalletLinkProvider!="function")}function KW(){if(typeof window>"u")return null;const n=window.ethereum;if(!n)return null;if(Array.isArray(n.providers)){const e=n.providers.find(r=>r.isCoinbaseWallet);if(e&&typeof e.request=="function")return e}else if(n.isCoinbaseWallet&&typeof n.request=="function")return n;return null}function ape(){if(typeof window>"u")return!1;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage||n.storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return!0}return!1}async function XW(n=3e3,e=100){return typeof window>"u"?!1:Xc()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Xc())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Xc()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function xh(){var s,o,a,l,c,u,d,h,f;if(typeof window>"u")return null;if(((s=window.phantom)!=null&&s.ethereum||(o=window.ethereum)!=null&&o.isPhantom)&&!(window.$onekey||(a=window.ethereum)!=null&&a.isOneKey))return"phantom";if((l=window.$onekey)!=null&&l.ethereum||(c=window.ethereum)!=null&&c.isOneKey||window.$onekey)return"onekey";const n=!!((u=window.okxwallet)!=null&&u.solana),e=!!((d=window.okxwallet)!=null&&d.bitcoin);if(n&&e&&window.ethereum||(h=window.okxwallet)!=null&&h.ethereum||(f=window.ethereum)!=null&&f.isOKX||window.okxwallet)return"okx";if(Dl())return"bitget";if(Kc())return"tokenpocket";const i=window.ethereum;if(i&&i.isRainbow===!0)return"rainbow";if(Xc())return"coinbase";if(Yc())return"binance";if(uu())return"metamask";if(window.ethereum){if(Dl())return"bitget";if(Kc())return"tokenpocket";if(Xc())return"coinbase";if(window.ethereum&&window.ethereum.isRainbow===!0)return"rainbow";const p=Yc(),m=Xc(),b=window.ethereum&&window.ethereum.isRainbow===!0;if(uu()&&!window.okxwallet&&!p&&!m&&!b)return"metamask";if(window.okxwallet)return"okx";if(p)return"binance";if(m)return"coinbase"}return null}function a7e(n){return n==="metamask"||n==="phantom"||n==="onekey"||n==="okx"||n==="binance"||n==="bitget"||n==="tokenpocket"||n==="coinbase"||n==="rainbow"}function l7e(n){if(n==="ethereum"){if(b9())return"OneKey";const e=nd(),r=xa();if(e&&r||ZR())return"OKX";if(Dl())return"Bitget";if(spe())return"TokenPocket";if(Xc())return"Coinbase Wallet";if(i7e())return"Rainbow";if(s7e())return"Binance";if(uu())return"MetaMask";if(zS())return"Phantom"}else if(n==="solana"){if(zS())return"Phantom";if(e4())return"OneKey";if(nd())return"OKX";if(JR())return"Bitget";if(ope())return"TokenPocket";if(ape())return"Coinbase Wallet";if(Rh())return"Binance"}else if(n==="bitcoin"){if(tpe())return"OneKey";if(xa())return"OKX";if(o7e())return"Bitget";if(Dc())return"Bitcoin Wallet"}return null}function c7e(){return typeof window>"u"?null:b9()?"OneKey":zS()?"Phantom":uu()?"MetaMask":null}const u7e="onboard_mnemonic",d7e="onboard_wallet_address",h7e="onboard_chain_type",Jp="agent_delegation_address",Zp="agent_delegation_private_key",em="agent_delegation_expires_at",_h="agent_delegation_owner_address";function f7e(n,e,r=180,i="clob::submit_order,clob::cancel_order",s="BrowserUserAgent",o,a=0,l=!0){const c=()=>{if(n!=null&&n.mnemonic)return n.mnemonic;if(typeof window<"u"){const Ae=localStorage.getItem(u7e);if(Ae)return Ae}return"abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"},u=()=>{if(n!=null&&n.chainType)return n.chainType;if(typeof window<"u"){const Ae=localStorage.getItem(h7e);if(Ae&&["ethereum","bitcoin_taproot","bitcoin_segwit","bitcoin_legacy","bitcoin_nested_segwit","solana"].includes(Ae))return Ae}return"ethereum"},d=()=>{if(n!=null&&n.walletAddress)return n.walletAddress;if(typeof window<"u"){const Ae=localStorage.getItem(d7e);if(Ae)return Ae}return""},[h,f]=A.useState(c()),[p,m]=A.useState(d()),[b,y]=A.useState(u()),[v,w]=A.useState(a),[_,x]=A.useState(l),[k,C]=A.useState(""),[E,T]=A.useState(""),[M,I]=A.useState(r),[O,F]=A.useState(i),[$,z]=A.useState(s),[D,j]=A.useState(Date.now().toString()),[N,R]=A.useState(null),[H,U]=A.useState(!1);A.useEffect(()=>{n&&(n.mnemonic&&n.mnemonic!==h&&f(n.mnemonic),n.walletAddress&&n.chainType===b&&n.walletAddress!==p&&m(n.walletAddress),n.chainType&&n.chainType!==b&&y(n.chainType))},[n==null?void 0:n.mnemonic,n==null?void 0:n.walletAddress,n==null?void 0:n.chainType,h,p,b]),A.useEffect(()=>{try{const Ae=sessionStorage.getItem(Jp),W=sessionStorage.getItem(Zp),de=sessionStorage.getItem(em),me=sessionStorage.getItem(_h);if(Ae&&W&&de){const oe=parseInt(de,10),pe=Date.now();!isNaN(oe)&&pe<oe&&(!me||!p||me.toLowerCase()===p.toLowerCase())?(C(Ae),T(W)):(sessionStorage.removeItem(Jp),sessionStorage.removeItem(Zp),sessionStorage.removeItem(em),sessionStorage.removeItem(_h))}}catch(Ae){console.warn("Failed to restore agent credentials from sessionStorage:",Ae)}},[]),A.useEffect(()=>{if(p){const Ae=sessionStorage.getItem(_h);Ae&&Ae.toLowerCase()!==p.toLowerCase()&&(sessionStorage.removeItem(Jp),sessionStorage.removeItem(Zp),sessionStorage.removeItem(em),sessionStorage.removeItem(_h),C(""),T(""))}},[p]);const K=async()=>{await Y(b,v,_)},Y=async(Ae=b,W=v,de=_)=>{U(!0);try{const me=await $S(h,Ae,W,de);me.success&&me.address?(m(me.address),Ae!==b&&y(Ae),W!==v&&w(W),de!==_&&x(de)):R({success:!1,error:me.error||"Failed to generate owner address"})}catch(me){R({success:!1,error:me instanceof Error?me.message:"Unknown error"})}finally{U(!1)}},Z=async()=>{if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}U(!0);try{const Ae=await jt.generateKeypair();if(Ae.success&&Ae.address&&Ae.privateKey){C(Ae.address),T(Ae.privateKey);try{const W=Date.now()+M*24*60*60*1e3;sessionStorage.setItem(Jp,Ae.address),sessionStorage.setItem(Zp,Ae.privateKey),sessionStorage.setItem(em,W.toString()),p&&sessionStorage.setItem(_h,p)}catch(W){console.warn("Failed to store agent credentials in sessionStorage:",W)}}else R({success:!1,error:Ae.error||"Failed to generate agent keypair"})}catch(Ae){R({success:!1,error:Ae instanceof Error?Ae.message:"Unknown error"})}finally{U(!1)}},G=async()=>{if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner and agent addresses are required"});return}U(!0),R(null);try{const Ae=O.split(",").map(de=>de.trim()).filter(de=>de.length>0),W=await jt.prepareAgentSign({owner:p,agent:k,expiresInDays:M,permissions:Ae,nonce:D,agentName:$});R(W)}catch(Ae){R({success:!1,error:Ae instanceof Error?Ae.message:"Unknown error"})}finally{U(!1)}},{address:X,isConnected:ae,connector:be}=Ci(),{signTypedDataAsync:le,isPending:J}=p7(),xe=()=>{var de;if(!ae||!be)return null;const Ae=xh();if(a7e(Ae))return Ae;const W=((de=be.name)==null?void 0:de.toLowerCase())||"";return W.includes("phantom")?"phantom":W.includes("onekey")?"onekey":W.includes("okx")?"okx":W.includes("binance")?"binance":W.includes("bitget")||W.includes("bitkeep")?"bitget":W.includes("tokenpocket")||W.includes("tp")?"tokenpocket":W.includes("coinbase")?"coinbase":W.includes("rainbow")?"rainbow":W.includes("metamask")?"metamask":null},ge=async()=>{var W,de;if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your MetaMask wallet first"});return}if(xe()!=="metamask"){const me=xh();R(me==="metamask"?{success:!1,error:'MetaMask wallet detected but not connected via wagmi. Please use the "Connect MetaMask" button first.'}:{success:!1,error:"This function is for MetaMask wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in MetaMask.`});return}U(!0),R(null);try{const me=O.split(",").map(Me=>Me.trim()).filter(Me=>Me.length>0),oe=await jt.prepareAgentSign({owner:p,agent:k,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ve,ee,ue,ce;pe.domain&&pe.types&&pe.message?(ve=pe.domain,ee=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ve=pe.domain||{},ee=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ve,types:ee,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during MetaMask signing"})}finally{U(!1)}},V=async()=>{var W,de;if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your Phantom wallet first"});return}if(xe()!=="phantom"){const me=xh();R(me==="phantom"?{success:!1,error:'Phantom wallet detected but not connected via wagmi. Please use the "Connect Phantom" button first.'}:{success:!1,error:"This function is for Phantom wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in Phantom.`});return}U(!0),R(null);try{const me=O.split(",").map(Me=>Me.trim()).filter(Me=>Me.length>0),oe=await jt.prepareAgentSign({owner:p,agent:k,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ve,ee,ue,ce;pe.domain&&pe.types&&pe.message?(ve=pe.domain,ee=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ve=pe.domain||{},ee=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ve,types:ee,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during Phantom signing"})}finally{U(!1)}},we=async()=>{var W,de;if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your OneKey wallet first"});return}if(xe()!=="onekey"){const me=xh();R(me==="onekey"?{success:!1,error:'OneKey wallet detected but not connected via wagmi. Please use the "Connect OneKey" button first.'}:{success:!1,error:"This function is for OneKey wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in OneKey.`});return}U(!0),R(null);try{const me=O.split(",").map(Me=>Me.trim()).filter(Me=>Me.length>0),oe=await jt.prepareAgentSign({owner:p,agent:k,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ve,ee,ue,ce;pe.domain&&pe.types&&pe.message?(ve=pe.domain,ee=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ve=pe.domain||{},ee=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ve,types:ee,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during OneKey signing"})}finally{U(!1)}},ze=async()=>{var W,de;if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your Bitget wallet first"});return}if(xe()!=="bitget"){const me=xh();R(me==="bitget"?{success:!1,error:'Bitget wallet detected but not connected via wagmi. Please use the "Connect Bitget" button first.'}:{success:!1,error:"This function is for Bitget wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in Bitget.`});return}U(!0),R(null);try{const me=O.split(",").map(Me=>Me.trim()).filter(Me=>Me.length>0),oe=await jt.prepareAgentSign({owner:p,agent:k,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ve,ee,ue,ce;pe.domain&&pe.types&&pe.message?(ve=pe.domain,ee=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ve=pe.domain||{},ee=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ve,types:ee,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during Bitget signing"})}finally{U(!1)}},et=async()=>{var W,de;if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your TokenPocket wallet first"});return}if(xe()!=="tokenpocket"){const me=xh();R(me==="tokenpocket"?{success:!1,error:'TokenPocket wallet detected but not connected via wagmi. Please use the "Connect TokenPocket" button first.'}:{success:!1,error:"This function is for TokenPocket wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in TokenPocket.`});return}U(!0),R(null);try{const me=O.split(",").map(Me=>Me.trim()).filter(Me=>Me.length>0),oe=await jt.prepareAgentSign({owner:p,agent:k,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ve,ee,ue,ce;pe.domain&&pe.types&&pe.message?(ve=pe.domain,ee=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ve=pe.domain||{},ee=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ve,types:ee,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during TokenPocket signing"})}finally{U(!1)}},$e=async()=>{var W,de;if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner address and agent address are required"});return}if(!ae||!X){R({success:!1,error:"Please connect your Coinbase Wallet first"});return}if(xe()!=="coinbase"){const me=xh();R(me==="coinbase"?{success:!1,error:'Coinbase Wallet detected but not connected via wagmi. Please use the "Connect Coinbase Wallet" button first.'}:{success:!1,error:"This function is for Coinbase Wallet only. Please use the appropriate button for your wallet."});return}if(X.toLowerCase()!==p.toLowerCase()){R({success:!1,error:`Connected address (${X}) does not match owner address (${p}). Please switch to the correct account in Coinbase Wallet.`});return}U(!0),R(null);try{const me=O.split(",").map(Me=>Me.trim()).filter(Me=>Me.length>0),oe=await jt.prepareAgentSign({owner:p,agent:k,expiresInDays:M,permissions:me,nonce:D,agentName:$});if(!oe.success||!oe.typedData){R(oe);return}const pe=oe.typedData;let ve,ee,ue,ce;pe.domain&&pe.types&&pe.message?(ve=pe.domain,ee=pe.types,ue=pe.primaryType||pe.primaryType||"AgentApproval",ce=pe.message):(ve=pe.domain||{},ee=pe.types||pe.Types||{},ue=pe.primaryType||pe.PrimaryType||"AgentApproval",ce=pe.message||pe.Message||pe);const Ce=await le({domain:ve,types:ee,primaryType:ue,message:ce});R({success:!0,typedData:oe.typedData,signature:Ce})}catch(me){me.code===4001||(W=me.message)!=null&&W.includes("User rejected")||(de=me.message)!=null&&de.includes("rejected")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:me instanceof Error?me.message:"Unknown error during Coinbase Wallet signing"})}finally{U(!1)}},mt=async()=>{var W,de,me;if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner address and agent address are required"});return}if(!ig()){R({success:!1,error:"Phantom Solana wallet not found. Please install Phantom wallet extension."});return}const Ae=Bc();if(!Ae){R({success:!1,error:"Phantom Solana provider not available"});return}U(!0),R(null);try{const oe=await m9(Ae);if(oe!==p){R({success:!1,error:`Connected address (${oe}) does not match owner address (${p}). Please switch to the correct account in Phantom.`});return}const pe=O.split(",").map(ue=>ue.trim()).filter(ue=>ue.length>0),ve={action:"agent_approval",owner:p,agent:k,expiresInDays:M,permissions:pe,nonce:D,agentName:$,timestamp:Math.floor(Date.now()/1e3)},ee=await Zfe(Ae,ve);R({success:!0,signature:ee.signature,typedData:ve})}catch(oe){oe.code===4001||(W=oe.message)!=null&&W.includes("User rejected")||(de=oe.message)!=null&&de.includes("rejected")||(me=oe.message)!=null&&me.includes("User cancelled")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:oe instanceof Error?oe.message:"Unknown error during Phantom Solana signing"})}finally{U(!1)}},Ue=async()=>{var Ae,W,de,me;if(!jt.isReady()){R({success:!1,error:"WASM module not ready"});return}if(!p||!k){R({success:!1,error:"Owner address and agent address are required"});return}if(!Dc()){R({success:!1,error:"Bitcoin wallet not found. Please install Unisat, Xverse, or OKX wallet extension."});return}U(!0),R(null);try{let oe=p;try{const Ce=await ipe();if(Ce!==p){R({success:!1,error:`Wallet address (${Ce}) does not match owner address (${p}). Please switch to the correct account in your Bitcoin wallet.`});return}oe=Ce}catch(Ce){console.warn("Could not get address from wallet, using owner address:",Ce)}const pe=O.split(",").map(Ce=>Ce.trim()).filter(Ce=>Ce.length>0),ve={action:"agent_approval",owner:oe,agent:k,expiresInDays:M,permissions:pe,nonce:D,agentName:$,timestamp:Math.floor(Date.now()/1e3),deadline:(Date.now()+M*24*60*60*1e3).toString(16)},ee=sd(),ue=ee!=null&&ee.supportsBIP322?"bip322":"bip137",ce=await r7e(ve,oe,ue);R({success:!0,signature:ce.signature,typedData:ve})}catch(oe){oe.code===4001||(Ae=oe.message)!=null&&Ae.includes("User rejected")||(W=oe.message)!=null&&W.includes("rejected")||(de=oe.message)!=null&&de.includes("User cancelled")||(me=oe.message)!=null&&me.includes("user reject")?R({success:!1,error:"User rejected the signature request"}):R({success:!1,error:oe instanceof Error?oe.message:"Unknown error during Bitcoin signing"})}finally{U(!1)}},Ke=async()=>{switch(b){case"ethereum":const Ae=xe();return Ae==="phantom"?V():Ae==="onekey"?we():Ae==="bitget"?ze():Ae==="tokenpocket"?et():Ae==="coinbase"?$e():ge();case"solana":return mt();case"bitcoin_taproot":case"bitcoin_segwit":case"bitcoin_legacy":case"bitcoin_nested_segwit":return Ue();default:R({success:!1,error:`Signing not yet supported for chain type: ${b}`})}},pt=ae&&xe()==="metamask"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),lt=()=>{if(b!=="solana")return!1;const Ae=Bc();return!Ae||!Ae.isConnected||!Ae.publicKey?!1:Ae.publicKey.toString()===p},Ye=()=>!(!(b==="bitcoin_taproot"||b==="bitcoin_segwit"||b==="bitcoin_legacy"||b==="bitcoin_nested_segwit")||!Dc()||!p);return{ownerMnemonic:h,setOwnerMnemonic:f,ownerAddress:p,setOwnerAddress:m,ownerChainType:b,setOwnerChainType:y,ownerAddressIndex:v,setOwnerAddressIndex:w,ownerIsMainnet:_,setOwnerIsMainnet:x,agentAddress:k,setAgentAddress:C,agentPrivateKey:E,setAgentPrivateKey:T,expiresInDays:M,setExpiresInDays:I,permissions:O,setPermissions:F,agentName:$,setAgentName:z,nonce:D,setNonce:j,result:N,loading:H||J,generateOwnerAddress:K,generateOwnerAddressForChain:Y,generateAgentKeypair:Z,prepareAgentSign:G,signAgentApproval:ge,signAgentApprovalWithPhantom:V,signAgentApprovalWithOneKey:we,signAgentApprovalWithBitget:ze,signAgentApprovalWithTokenPocket:et,signAgentApprovalWithCoinbaseWallet:$e,signAgentApprovalWithPhantomSolana:mt,signAgentApprovalWithBitcoin:Ue,signAgentApprovalForChain:Ke,clearAgentCredentials:()=>{C(""),T("");try{sessionStorage.removeItem(Jp),sessionStorage.removeItem(Zp),sessionStorage.removeItem(em),sessionStorage.removeItem(_h)}catch(Ae){console.warn("Failed to clear agent credentials from sessionStorage:",Ae)}},isMetaMaskConnected:pt,isPhantomConnected:ae&&xe()==="phantom"&&b==="ethereum"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isPhantomSolanaConnected:lt(),isOneKeyConnected:ae&&xe()==="onekey"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isOKXConnected:ae&&xe()==="okx"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isBinanceConnected:ae&&xe()==="binance"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isBitgetConnected:ae&&xe()==="bitget"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isTokenPocketConnected:ae&&xe()==="tokenpocket"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isCoinbaseWalletConnected:ae&&xe()==="coinbase"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isRainbowConnected:ae&&xe()==="rainbow"&&(X==null?void 0:X.toLowerCase())===p.toLowerCase(),isPhantomSolanaAvailable:ig(),isBitcoinWalletAvailable:Dc(),isBitcoinWalletConnected:Ye(),isReady:jt.isReady()}}function QW(n){const e=n.market_id;return{...n,id:e,symbol:n.moniker,baseAsset:n.base_asset,quoteAsset:n.quote_asset,active:n.status==="active",maxSizeLimit:40,minSizeLimit:1e-4}}function p7e(n,e){var s,o;const r=typeof n.timestamp=="string"?parseInt(n.timestamp,10)||Date.now():typeof n.timestamp=="number"?n.timestamp:Date.now(),i=(s=n.trade_type)!=null&&s.toLowerCase().includes("buy")||n.buy_order_id?"buy":(o=n.trade_type)!=null&&o.toLowerCase().includes("sell")||n.sell_order_id?"sell":"buy";return{...n,id:n.trade_id,marketId:n.market_id||e,price:n.price,size:n.quantity,side:i,timestamp:r}}function ql(n){const e=A.useRef(null),r=Dn(Y=>Y.markets),i=Dn(Y=>Y.marketsById),s=Dn(Y=>Y.orderbooks),o=Dn(Y=>Y.tickers),a=Dn(Y=>Y.recentTrades),l=Dn(Y=>Y.selectedMarketId),c=Dn(Y=>Y.loadingMarkets),u=Dn(Y=>Y.loadingOrderbooks),d=Dn(Y=>Y.loadingTickers),h=Dn(Y=>Y.loadingTrades),f=Dn(Y=>Y.errors),p=Dn(Y=>Y.setMarkets),m=Dn(Y=>Y.setMarket),b=Dn(Y=>Y.getMarket),y=Dn(Y=>Y.getMarketBySymbol),v=Dn(Y=>Y.setSelectedMarketId),w=Dn(Y=>Y.setOrderbook),_=Dn(Y=>Y.getOrderbook),x=Dn(Y=>Y.updateOrderbook),k=Dn(Y=>Y.setTicker),C=Dn(Y=>Y.getTicker),E=Dn(Y=>Y.setRecentTrades),T=Dn(Y=>Y.getRecentTrades),M=Dn(Y=>Y.setLoading),I=Dn(Y=>Y.setError),O=Dn(Y=>Y.clearError),F=Dn(Y=>Y.clearCache);A.useEffect(()=>{e.current?n.sessionToken&&e.current.setSessionToken(n.sessionToken):e.current=new Cr({baseURL:n.baseURL,sessionToken:n.sessionToken})},[n.baseURL,n.sessionToken]);const $=A.useCallback(async()=>{if(!e.current)throw new Error("InfoClient not initialized");const Y="markets";M(Y,!0),I(Y,null);try{const Z=await e.current.getMarkets(),X=(Array.isArray(Z)?Z:[]).map(ae=>{const be=ae.market_id;return{...ae,id:be,symbol:ae.moniker,baseAsset:ae.base_asset,quoteAsset:ae.quote_asset,active:ae.status==="active",maxSizeLimit:void 0,minSizeLimit:void 0}});return p(X),X}catch(Z){const G=Z instanceof Error?Z.message:"Failed to fetch markets";throw I(Y,G),Z}finally{M(Y,!1)}},[p,M,I]),z=A.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const Z=b(Y);if(Z)return Z;try{const G=await e.current.getMarketByID(Y);if(G){const X=QW(G);return m(X),X}return null}catch(G){const X=G instanceof Error?G.message:`Failed to fetch market ${Y}`;throw I(`market_${Y}`,X),G}},[b,m,I]),D=A.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const Z=y(Y);if(Z)return Z;try{const G=await e.current.getMarketByMoniker(Y);if(G){const X=QW(G);return m(X),X}return null}catch(G){const X=G instanceof Error?G.message:`Failed to fetch market ${Y}`;throw I(`market_${Y}`,X),G}},[y,m,I]),j=A.useCallback(async(Y,Z=!0,G=20)=>{if(!e.current)throw new Error("InfoClient not initialized");const X=`orderbook_${Y}`;M(X,!0),I(X,null);try{const ae=await e.current.getOrderbook(Y,Z,G);if(ae&&(ae.bids||ae.asks)){const be=J=>J.map(([xe,ge])=>[typeof xe=="string"?parseFloat(xe):xe,typeof ge=="string"?parseFloat(ge):ge]),le={bids:be(ae.bids||[]),asks:be(ae.asks||[]),timestamp:Date.now()};return w(Y,le),le}return null}catch(ae){const be=ae instanceof Error?ae.message:`Failed to fetch orderbook for market ${Y}`;throw I(X,be),ae}finally{M(X,!1)}},[w,M,I]),N=A.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const Z=`ticker_${Y}`;M(Z,!0),I(Z,null);try{const G=await e.current.getMarketStats(Y);if(G){const X={marketId:Y,...G,timestamp:Date.now()};return k(Y,X),X}return null}catch(G){const X=G instanceof Error?G.message:`Failed to fetch ticker for market ${Y}`;throw I(Z,X),G}finally{M(Z,!1)}},[k,M,I]),R=A.useCallback(async(Y,Z=100)=>{if(!e.current)throw new Error("InfoClient not initialized");const G=`trades_${Y}`;M(G,!0),I(G,null);try{const X=await e.current.getRecentTrades(Y,Z);if(X){const be=(Array.isArray(X)?X:[]).map(le=>p7e(le,Y));return E(Y,be),be}return null}catch(X){const ae=X instanceof Error?X.message:`Failed to fetch trades for market ${Y}`;throw I(G,ae),X}finally{M(G,!1)}},[E,M,I]);A.useEffect(()=>{n.autoFetchMarkets&&r.length===0&&!c&&$().catch(console.error)},[n.autoFetchMarkets,r.length,c,$]);const H=l?r.find(Y=>{var Z;return Y.market_id===l||((Z=Y.id)==null?void 0:Z.toString())===l}):null,U=H?H.moniker||H.symbol||(H.baseAsset&&H.quoteAsset?`${H.baseAsset}-${H.quoteAsset}`:null):null,K=A.useCallback(Y=>{const Z=r.find(G=>{var X;return G.market_id===Y||((X=G.id)==null?void 0:X.toString())===Y});return Z?Z.moniker||Z.symbol||(Z.baseAsset&&Z.quoteAsset?`${Z.baseAsset}/${Z.quoteAsset}`:null):null},[r]);return{markets:r,marketsById:i,orderbooks:s,tickers:o,recentTrades:a,selectedMarketId:l,selectedMarket:H,selectedMarketSymbol:U,loadingMarkets:c,loadingOrderbooks:u,loadingTickers:d,loadingTrades:h,isLoading:Y=>{if(Y==="markets")return c;if(Y.startsWith("orderbook_")){const Z=Y.split("_").slice(1).join("_");return u.has(Z)}if(Y.startsWith("ticker_")){const Z=Y.split("_").slice(1).join("_");return d.has(Z)}if(Y.startsWith("trades_")){const Z=Y.split("_").slice(1).join("_");return h.has(Z)}return!1},errors:f,getError:Y=>f.get(Y),getMarket:b,getMarketBySymbol:y,getSymbolByMarketId:K,getOrderbook:_,getTicker:C,getRecentTrades:T,fetchMarkets:$,fetchMarket:z,fetchMarketBySymbol:D,fetchOrderbook:j,fetchTicker:N,fetchRecentTrades:R,updateOrderbook:x,clearCache:F,clearError:O,setSelectedMarketId:v,infoClient:e.current}}function lpe(n){const[e,r]=A.useState(null),[i,s]=A.useState(null),[o,a]=A.useState(!1),[l,c]=A.useState(!1),[u,d]=A.useState(null),[h,f]=A.useState(GR),[p,m]=A.useState(0),[b,y]=A.useState(0),[v,w]=A.useState(0),[_,x]=A.useState(INe),[k,C]=A.useState(jNe),[E,T]=A.useState(uw),[M,I]=A.useState(0),[O,F]=A.useState(0),[$,z]=A.useState(n.marketId?String(n.marketId):"1");A.useEffect(()=>{n.marketId?z(String(n.marketId)):z("1")},[n.marketId]);const{markets:D}=ql({baseURL:n.baseURL,autoFetchMarkets:!0}),{maxSizeLimit:j,minSizeLimit:N}=A.useMemo(()=>{if(!$)return{maxSizeLimit:void 0,minSizeLimit:void 0};const ge=D.find(V=>V.market_id===$);return ge?{maxSizeLimit:ge.maxSizeLimit||40,minSizeLimit:ge.minSizeLimit||.001}:{maxSizeLimit:void 0,minSizeLimit:void 0}},[$,D]);A.useEffect(()=>{n.selectedBucketBalance!==void 0&&I(n.selectedBucketBalance)},[n.selectedBucketBalance]),A.useEffect(()=>{const ge=new th({baseURL:n.baseURL,mnemonic:n.mnemonic}),V=new Cr({baseURL:n.baseURL});r(ge),s(V),ge.initialize().then(()=>{a(!0)}).catch(we=>{console.error("Failed to initialize exchange client:",we),d({success:!1,error:`Initialization failed: ${we.message}`})})},[n.baseURL,n.mnemonic]);const R=A.useCallback(async()=>{if(!(!i||!e||!o)&&n.selectedBucketBalance===void 0)try{const ge=e.getWalletAddress(),V=await i.getBalanceDecimal(ge,"MORM");V&&V.available_balance!==void 0&&I(Ft(V.available_balance))}catch(ge){console.error("Failed to load balance:",ge)}},[i,e,o,n.selectedBucketBalance]);A.useEffect(()=>{o&&i&&e&&n.selectedBucketBalance===void 0&&R()},[o,i,e,n.selectedBucketBalance,R]);const H=A.useCallback(async()=>{if(i)try{const ge=await i.getMarketStats($);if(ge&&ge.last_price){const V=Ft(ge.last_price);F(V)}}catch(ge){console.error("Failed to load market price:",ge)}},[i,$]);A.useEffect(()=>{o&&i&&H()},[o,i,H]);const U=A.useCallback(()=>h==="market"?n.tradePrice&&n.tradePrice>0?n.tradePrice:O:v||0,[h,v,O,n.tradePrice]),K=A.useCallback(()=>M*_,[M,_]),Y=A.useCallback(()=>{let ge;if(b>0)ge=b;else{const we=K()*p/100,ze=U();if(ze<=0)return 0;ge=we/ze}return N!==void 0&&N>0&&ge<N?0:j!==void 0&&j>0&&ge>j?j:ge},[b,p,K,U,j,N]),Z=A.useCallback(()=>{const ge=Y(),V=U();return ge*V},[Y,U]),G=A.useCallback(()=>{const ge=Y(),V=U(),we=ge*V;return D7(we)},[Y,U]),X=A.useCallback(()=>{const ge=G();return _<=0?0:Math.floor(ge/_)},[G,_]),ae=A.useCallback(async()=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}const ge=Y();if(ge<=0){d({success:!1,error:"Invalid order size"});return}const V=U();if(V<=0){d({success:!1,error:h==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(h==="limit"&&!v){d({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){d({success:!1,error:"Bucket ID is required for order placement"});return}c(!0),d(null);try{const we=_n(_.toString()),ze=await e.placeOrder({marketId:$,bucketId:n.selectedBucketId,side:"BUY",orderType:h,price:V,quantity:ge,leverage:we});d({success:!0,orderId:ze.order_id,message:"Buy order placed successfully"}),await R()}catch(we){d({success:!1,error:we instanceof Error?we.message:"Unknown error"})}finally{c(!1)}},[e,o,Y,U,h,v,_,$,n.selectedBucketId,R]),be=A.useCallback(async()=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}const ge=Y();if(ge<=0){d({success:!1,error:"Invalid order size"});return}const V=U();if(V<=0){d({success:!1,error:h==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(h==="limit"&&!v){d({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){d({success:!1,error:"Bucket ID is required for order placement"});return}c(!0),d(null);try{const we=_n(_.toString()),ze=await e.placeOrder({marketId:$,bucketId:n.selectedBucketId,side:"SELL",orderType:h,price:V,quantity:ge,leverage:we});d({success:!0,orderId:ze.order_id,message:"Sell order placed successfully"}),await R()}catch(we){d({success:!1,error:we instanceof Error?we.message:"Unknown error"})}finally{c(!1)}},[e,o,Y,U,h,v,_,$,n.selectedBucketId,R]),le=A.useCallback(async(ge,V)=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}if(!$||$.trim()===""){d({success:!1,error:"Market ID is required"});return}if(ge<=0){d({success:!1,error:"Leverage must be greater than 0"});return}if(!V.bucketId||V.bucketId.trim()===""){d({success:!1,error:"Bucket ID is required"});return}c(!0),d(null);try{const we=await e.changeLeverage({marketId:$,newLeverage:ge,bucketId:V.bucketId,leverageType:V.leverageType,reason:V.reason});x(ge),d({success:!0,message:"Leverage changed successfully",orderId:we.txhash}),await R()}catch(we){d({success:!1,error:we instanceof Error?we.message:"Unknown error"})}finally{c(!1)}},[e,o,$,R]),J=A.useCallback(ge=>{const V=K(),we=V*ge/100,ze=U();let $e=ze>0?we/ze:0;if(N!==void 0&&N>0&&$e<N&&($e=0),j!==void 0&&j>0&&$e>j)if($e=j,$e>0&&V>0&&ze>0){const Ue=$e*ze/V*100;m(Math.min(100,Math.max(0,Ue)))}else m(ge);else m(ge);y($e)},[K,U,j,N]),xe=A.useCallback(ge=>{let V=isNaN(ge)||ge<0?0:ge;j!==void 0&&j>0&&V>j&&(V=j),y(V);const we=K(),ze=U();if(V>0&&we>0&&ze>0){const $e=V*ze/we*100;m(Math.min(100,Math.max(0,$e)))}else m(0)},[K,U,j]);return{orderType:h,setOrderType:f,fundPercent:p,sizeInput:b,price:v,leverage:_,positionMode:k,marginMode:E,availableBalance:M,currentPrice:O,marketId:$,isReady:o,loading:l,result:u,setFundPercent:J,setSizeInput:xe,setPrice:w,setLeverage:x,setPositionMode:C,setMarginMode:T,setMarketId:z,placeBuyOrder:ae,placeSellOrder:be,changeLeverage:le,loadBalance:R,loadMarketPrice:H,calculateSize:Y,calculateSizeUSD:Z,calculateValue:G,calculateMargin:X,getOrderPrice:U,getAvailableTradeAmount:K}}function JW(n,e){return{asks:[],bids:[],spread:0,midPrice:0,market_id:n.market_id||e||"",sequence_id:n.sequence_id||"",first_update_id:n.first_update_id||0,last_update_id:n.last_update_id||0,checksum:n.checksum||"",timestamp:n.timestamp||""}}function tm(n){return n.map(([e,r])=>[typeof e=="string"?parseFloat(e):e,typeof r=="string"?parseFloat(r):r])}function nm(n){const e=[...n].sort((i,s)=>s[0]-i[0]);let r=0;return e.map(([i,s])=>(r+=s,{price:i,size:s,cumulative:r,flash:null}))}function y9(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState([]),[a,l]=A.useState(0),[c,u]=A.useState(0),[d,h]=A.useState(""),[f,p]=A.useState(""),[m,b]=A.useState(0),[y,v]=A.useState(0),[w,_]=A.useState(""),[x,k]=A.useState(""),[C,E]=A.useState(!0),[T,M]=A.useState(null),[I,O]=A.useState(!1),[F,$]=A.useState(null),z=A.useRef(null),D=A.useRef(null),j=A.useRef(!1),N=A.useRef(null),R=A.useRef(null),H=A.useRef(null),U=A.useRef(new Map),K=A.useRef({asks:[],bids:[],spread:0,midPrice:0,market_id:"",sequence_id:"",first_update_id:0,last_update_id:0,checksum:"",timestamp:""});A.useEffect(()=>{K.current={asks:r,bids:s,spread:a,midPrice:c,market_id:d,sequence_id:f,first_update_id:m,last_update_id:y,checksum:w,timestamp:x}},[r,s,a,c,d,f,m,y,w,x]);const Y=A.useCallback((J,xe)=>{const ge=new Map,V=new Map,we=new Map,ze=new Map;J.asks.forEach(W=>{W.size>0&&ge.set(W.price,W.size)}),J.bids.forEach(W=>{W.size>0&&V.set(W.price,W.size)}),xe.asks&&xe.asks.forEach(([W,de])=>{if(typeof W!="number"||typeof de!="number"||isNaN(W)||isNaN(de)||W<=0||de<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:W,size:de});return}const me=ge.get(W)??0,oe=ge.has(W);de===0?oe&&ge.delete(W):oe?me!==de&&(ge.set(W,de),we.set(W,de>me?"up":"down")):(ge.set(W,de),we.set(W,"up"))}),xe.bids&&xe.bids.forEach(([W,de])=>{if(typeof W!="number"||typeof de!="number"||isNaN(W)||isNaN(de)||W<=0||de<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:W,size:de});return}const me=V.get(W)??0,oe=V.has(W);de===0?oe&&V.delete(W):oe?me!==de&&(V.set(W,de),ze.set(W,de>me?"up":"down")):(V.set(W,de),ze.set(W,"up"))});const et=Array.from(ge.entries()),$e=Array.from(V.entries()),mt=nm(et),Ue=nm($e),Ke=Date.now();if(mt.forEach(W=>{const de=we.get(W.price);de?(W.flash=de,U.current.set(`ask-${W.price}`,Ke)):W.flash=null}),Ue.forEach(W=>{const de=ze.get(W.price);de?(W.flash=de,U.current.set(`bid-${W.price}`,Ke)):W.flash=null}),we.size>0||ze.size>0){const W=mt.filter(me=>me.flash!==null).length,de=Ue.filter(me=>me.flash!==null).length;(W!==we.size||de!==ze.size)&&console.warn("[useOrderbook] Flash indicator mismatch:",{askChangesCount:we.size,appliedAskFlashes:W,bidChangesCount:ze.size,appliedBidFlashes:de})}const pt=n.maxDepth||100,lt=mt.slice(0,pt),Ye=Ue.slice(0,pt);let We=0,Ae=0;if(lt.length>0&&Ye.length>0){const W=lt[lt.length-1].price,de=Ye[0].price;We=W-de,Ae=(W+de)/2}return{asks:lt,bids:Ye,spread:We,midPrice:Ae,market_id:J.market_id,sequence_id:J.sequence_id,first_update_id:J.first_update_id,last_update_id:J.last_update_id,checksum:J.checksum,timestamp:J.timestamp}},[n.maxDepth]),Z=A.useCallback(async(J,xe={})=>{if(!z.current){xe.errorMessage&&console.error(xe.errorMessage);return}const{setLoadingState:ge=!1,updateMarketIdRef:V=!1}=xe;ge&&(E(!0),M(null));try{const we=await z.current.getOrderbook(J,!0);if(we&&(we.bids||we.asks)){const ze=tm(we.asks||[]),et=tm(we.bids||[]),$e=nm(ze),mt=nm(et),Ue=n.maxDepth||100,Ke=$e.slice(0,Ue),pt=mt.slice(0,Ue);let lt=0,Ye=0;if(Ke.length>0&&pt.length>0){const Ae=Ke[Ke.length-1].price,W=pt[0].price;lt=Ae-W,Ye=(Ae+W)/2}V&&(N.current=J);const We=K.current;i(Ke),o(pt),l(lt),u(Ye),h(J),p(We.sequence_id||""),b(We.first_update_id||0),v(We.last_update_id||0),_(We.checksum||""),k(We.timestamp||new Date().toISOString())}}catch(we){const ze=xe.errorMessage||(we instanceof Error?we.message:"Failed to load orderbook");ge?M(ze):console.error(ze)}finally{ge&&E(!1)}},[n.maxDepth,tm]),G=A.useCallback(async()=>{const J=K.current,xe=JW(J);i(xe.asks),o(xe.bids),l(xe.spread),u(xe.midPrice),await Z(n.marketId,{setLoadingState:!1,updateMarketIdRef:!1})},[n.marketId,Z]),X=A.useCallback(async()=>{const J=K.current,xe=JW(J,n.marketId);i(xe.asks),o(xe.bids),l(xe.spread),u(xe.midPrice),h(xe.market_id),await Z(n.marketId,{setLoadingState:!0,updateMarketIdRef:!1,errorMessage:"Failed to load orderbook"})},[n.marketId,Z]),ae=A.useCallback(async J=>{await Z(J,{setLoadingState:!1,updateMarketIdRef:!0,errorMessage:`Failed to fetch snapshot for market ${J}`}),console.log(`[useOrderbook] Fetched snapshot for market ${J} and updated orderbook`)},[Z]),be=A.useCallback((J,xe)=>{if(J.snapshot===!0||J.type==="snapshot"){const V=tm(J.asks||[]),we=tm(J.bids||[]),ze=nm(V),et=nm(we),$e=n.maxDepth||100,mt=ze.slice(0,$e),Ue=et.slice(0,$e);let Ke=0,pt=0;if(mt.length>0&&Ue.length>0){const lt=mt[mt.length-1].price,Ye=Ue[0].price;Ke=lt-Ye,pt=(lt+Ye)/2}return{asks:mt,bids:Ue,spread:Ke,midPrice:pt,market_id:J.market_id||xe.market_id,sequence_id:J.sequence_id||xe.sequence_id,first_update_id:J.first_update_id??xe.first_update_id,last_update_id:J.last_update_id??xe.last_update_id,checksum:J.checksum||xe.checksum,timestamp:J.timestamp||xe.timestamp,snapshot:J.snapshot}}else{const V=Y(xe,{bids:J.bids,asks:J.asks});return{...V,market_id:J.market_id||V.market_id,sequence_id:J.sequence_id||V.sequence_id,first_update_id:J.first_update_id??V.first_update_id,last_update_id:J.last_update_id??V.last_update_id,checksum:J.checksum||V.checksum,timestamp:J.timestamp||V.timestamp}}},[Y,n.maxDepth,tm]),le=A.useCallback(async J=>{if(!J||!J.bids&&!J.asks){console.log("[useOrderbook] Invalid data: missing bids and asks");return}if(!J.market_id||J.sequence_id===void 0){console.log("[useOrderbook] Rejected: not multi-feed format (missing market_id or sequence_id)",{hasMarketId:!!J.market_id,hasSequenceId:J.sequence_id!==void 0});return}const xe=N.current||n.marketId;J.market_id!==xe&&(console.log(`[useOrderbook] Received update for market ${J.market_id}, current market is ${xe}. Fetching snapshot...`),await ae(J.market_id));const ge={market_id:J.market_id,sequence_id:J.sequence_id,first_update_id:J.first_update_id,last_update_id:J.last_update_id,checksum:J.checksum,timestamp:J.timestamp,bids:J.bids.map(([ze,et])=>[Ft(ze),Ft(et)]),asks:J.asks.map(([ze,et])=>[Ft(ze),Ft(et)]),snapshot:J.snapshot===!0};console.log("[useOrderbook] Processing orderbook update",{marketId:ge.market_id,sequenceId:ge.sequence_id,bidsCount:ge.bids.length,asksCount:ge.asks.length,isSnapshot:ge.snapshot,bestBid:ge.bids.length>0?ge.bids[0][0]:null,bestAsk:ge.asks.length>0?ge.asks[ge.asks.length-1][0]:null});const V=K.current,we=be(ge,V);console.log("[useOrderbook] Orderbook updated successfully",{sequenceId:ge.sequence_id,bidsCount:we.bids.length,asksCount:we.asks.length,spread:we.spread,midPrice:we.midPrice,bestBid:we.bids.length>0?we.bids[0].price:null,bestAsk:we.asks.length>0?we.asks[we.asks.length-1].price:null}),i(we.asks),o(we.bids),l(we.spread),u(we.midPrice),h(we.market_id),p(we.sequence_id),b(we.first_update_id),v(we.last_update_id),_(we.checksum),k(we.timestamp)},[be,ae,n.marketId]);return A.useEffect(()=>{const J=new Cr({baseURL:n.baseURL});z.current=J,D.current=n.subscriptionClient,N.current===null&&(N.current=n.marketId);const xe=()=>{const V=D.current;if(V&&V.isConnected()){const we=N.current!==null?N.current:n.marketId;(!j.current||N.current!==we)&&(j.current&&N.current!==null&&N.current!==we&&V.unsubscribeMultiFeedSubChannel("orderbook",le),V.subscribeMultiFeedSubChannel("orderbook",we,le),j.current=!0,N.current=we)}},ge=n.subscriptionClient;if(e){ge.isConnected()?(O(!0),$(null),xe()):($("WebSocket not connected. Using HTTP polling."),O(!1),z.current&&R.current===null&&(G(),R.current=window.setInterval(()=>{G()},5e3)));const ze=ge.onStateChange(et=>{et===Pt.Connected?(O(!0),$(null),R.current!==null&&(clearInterval(R.current),R.current=null),j.current&&xe()):(et===Pt.Disconnected||et===Pt.Reconnecting)&&(O(!1),j.current=!1,$("WebSocket disconnected. Using static data."))});return()=>{const et=N.current;H.current!==null&&(clearTimeout(H.current),H.current=null),j.current=!1,N.current=null,ze&&ze(),D.current&&et!==null&&D.current.unsubscribeMultiFeedSubChannel("orderbook",le)}}else return O(!1),$(null),z.current&&R.current===null&&(G(),R.current=window.setInterval(()=>{G()},5e3)),()=>{R.current!==null&&(clearInterval(R.current),R.current=null),j.current=!1,N.current=null}},[n.baseURL,n.subscriptionClient,e]),A.useEffect(()=>{if(!z.current)return;const J=N.current;return e&&D.current&&J!==null&&J!==n.marketId&&D.current.isConnected()&&(D.current.unsubscribeMultiFeedSubChannel("orderbook",le),j.current=!1),i([]),o([]),l(0),u(0),h(n.marketId),p(""),b(0),v(0),_(""),k(""),E(!0),M(null),$(null),X(),e&&D.current&&D.current.isConnected()&&(D.current.subscribeMultiFeedSubChannel("orderbook",n.marketId,le,{precision_size:"",delta_only:!0,row_count:20}),j.current=!0),N.current=n.marketId,()=>{e&&D.current&&D.current.isConnected()&&N.current===n.marketId&&(D.current.unsubscribeMultiFeedSubChannel("orderbook",le),j.current=!1)}},[n.marketId,e,le]),A.useEffect(()=>(R.current!==null&&(clearInterval(R.current),R.current=null),(!e||!I&&e)&&z.current&&!n.disablePolling&&(G(),R.current=window.setInterval(()=>{G()},3e4)),()=>{R.current!==null&&(clearInterval(R.current),R.current=null)}),[I,e,n.marketId,n.disablePolling,G]),A.useEffect(()=>{const J=setInterval(()=>{const xe=Date.now(),ge=500;let V=!1;const we=r.map(et=>{const $e=`ask-${et.price}`,mt=U.current.get($e);return et.flash&&mt&&xe-mt>=ge?(V=!0,U.current.delete($e),{...et,flash:null}):et}),ze=s.map(et=>{const $e=`bid-${et.price}`,mt=U.current.get($e);return et.flash&&mt&&xe-mt>=ge?(V=!0,U.current.delete($e),{...et,flash:null}):et});V&&(i(we),o(ze))},100);return()=>clearInterval(J)},[r,s]),{asks:r,bids:s,spread:a,midPrice:c,market_id:d,sequence_id:f,first_update_id:m,last_update_id:y,checksum:w,timestamp:x,loading:C,error:T,isConnected:I,wsError:F,refresh:X}}function VC(n){const{getSymbolByMarketId:e}=ql({baseURL:n.baseURL,autoFetchMarkets:!0}),[r,i]=A.useState(null),[s,o]=A.useState(null),[a,l]=A.useState([]),[c,u]=A.useState(!0),[d,h]=A.useState(null),[f,p]=A.useState(!1),[m,b]=A.useState(null),y=A.useRef(null),v=A.useRef(null),w=A.useRef(!1),_=A.useRef(!1),x=A.useRef(null),k=A.useRef(null),C=A.useRef(null),E=A.useCallback(async()=>{if(!y.current){console.warn("[useTradePrice] pollRecentTrades called but infoClientRef.current is null");return}if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] pollRecentTrades called but marketId is empty"),h("Market ID is required but was not provided");return}try{const $=n.limit||100,z=await y.current.getRecentTrades(n.marketId,$);if(z&&Array.isArray(z)&&z.length>0){const D=KR(z);l(D);const N=[...z].sort((H,U)=>{const K=_c(H.timestamp);return _c(U.timestamp)-K})[0],R={market_id:n.marketId||N.market_id||"",price:Ft(N.price),quantity:Ft(N.quantity),timestamp:_c(N.timestamp),is_buyer_maker:!1,trade_id:N.trade_id||""};i(H=>(H&&typeof H.price=="number"&&(R.price>H.price?b("up"):R.price<H.price&&b("down")),setTimeout(()=>b(null),500),R))}else console.warn("[useTradePrice] Polling returned no trades or invalid data:",z),l([])}catch($){h($ instanceof Error?$.message:"Failed to load recent trades"),console.error("[useTradePrice] Failed to poll recent trades:",$)}},[n.marketId,n.limit]),T=A.useCallback(async()=>{if(y.current){if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] initializeRecentTrades called but marketId is empty"),u(!1),h("Market ID is required but was not provided");return}u(!0),h(null);try{const $=n.limit||100,z=await y.current.getRecentTrades(n.marketId,$);if(z&&Array.isArray(z)&&z.length>0){const D=KR(z);l(D);const N=[...z].sort((H,U)=>{const K=_c(H.timestamp);return _c(U.timestamp)-K})[0],R={market_id:n.marketId||N.market_id||"",price:Ft(N.price),quantity:Ft(N.quantity),timestamp:_c(N.timestamp),is_buyer_maker:!1,trade_id:N.trade_id||""};i(R)}else console.warn("[useTradePrice] Initialization returned no trades or invalid data:",z),l([])}catch($){h($ instanceof Error?$.message:"Failed to load recent trades"),console.error("Failed to initialize recent trades:",$),l([])}finally{u(!1)}}},[n.marketId,n.limit]),M=A.useCallback($=>{if(console.debug("[useTradePrice] handleLastPriceUpdate called with data:",$),!$){console.warn("[useTradePrice] handleLastPriceUpdate received null/undefined data");return}if(!$.price||$.price===""){console.warn("[useTradePrice] handleLastPriceUpdate received data without price field:",$);return}$.derived===!0&&console.debug("[useTradePrice] Received derived price update (not an actual trade), will update lastPrice but not recentTrades");const z=Ft($.price),D=Ft($.quantity);if(isNaN(z)){console.warn("[useTradePrice] Invalid price value:",$.price);return}const j=kl($.timestamp);i(N=>{bm(N)&&typeof N.price=="number"&&(z>N.price?b("up"):z<N.price&&b("down")),setTimeout(()=>b(null),500);const R={market_id:n.marketId||$.market_id||"",price:z,quantity:D,timestamp:j,is_buyer_maker:$.is_buyer_maker||!1,trade_id:$.trade_id||""};return bm(R)||console.error("[useTradePrice] Invalid LastPriceData structure:",R),console.debug("[useTradePrice] Setting lastPrice to:",R),console.debug("[useTradePrice] Type check - isLastPriceData:",bm(R)),R}),$.derived||l(N=>{const R={time:j,size:D,price:z,is_buyer_maker:$.is_buyer_maker||!1};if(N.some(Z=>Z.time===j&&Z.price===z&&Z.size===D))return console.debug("[useTradePrice] Trade already exists in recentTrades, skipping duplicate"),N;const U=[R,...N],K=n.limit||100,Y=U.slice(0,K);return console.debug("[useTradePrice] Added new trade to recentTrades:",R),Y})},[n.marketId,n.limit,e]),I=A.useCallback($=>{if(!$){console.warn("[useTradePrice] handleMarkPriceUpdate received null/undefined data");return}if($.mark_price===void 0||$.mark_price===null){console.warn("[useTradePrice] handleMarkPriceUpdate received data without mark_price field:",$);return}const z=Ft($.mark_price);if(isNaN(z)){console.warn("[useTradePrice] Invalid mark_price value:",$.mark_price);return}const D=e(n.marketId)||"",j={symbol:$.symbol||D,mark_price:z,timestamp:kl($.timestamp)};xk(j)||console.error("[useTradePrice] Invalid MarkPriceData structure:",j),o(j)},[n.marketId,e]);A.useEffect(()=>{const $=new Cr({baseURL:n.baseURL});y.current=$;const z=n.subscriptionClient;T(),v.current=z;const D=()=>{if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] Cannot subscribe: marketId is empty"),h("Market ID is required but was not provided");return}if(!z.isReadyForSubscriptions()){if(z.isConnected()&&!z.isReadyForSubscriptions()){const R=z.getAuthState();R==="pending"?console.debug("[useTradePrice] Waiting for authentication to complete..."):R==="failed"&&(console.error("[useTradePrice] Authentication failed - cannot subscribe to trade price"),h("Authentication failed - cannot subscribe to trade price"))}return}if(!w.current||!_.current){if(w.current&&v.current)try{v.current.unsubscribeMultiFeedSubChannel("last_price",M)}catch(R){console.warn("[useTradePrice] Error unsubscribing from previous last_price subscription:",R)}if(_.current&&v.current)try{v.current.unsubscribeMultiFeedSubChannel("mark_price",I)}catch(R){console.warn("[useTradePrice] Error unsubscribing from previous mark_price subscription:",R)}try{n.marketId&&(z.subscribeMultiFeedSubChannel("last_price",n.marketId,M),w.current=!0,z.subscribeMultiFeedSubChannel("mark_price",n.marketId,I),_.current=!0,console.debug("[useTradePrice] Subscribed to mark_price:",n.marketId)),u(!1)}catch(R){console.error("[useTradePrice] Failed to subscribe:",R),h(R instanceof Error?R.message:"Failed to subscribe to trade price data"),w.current=!1,_.current=!1,u(!1)}}};p(z.isConnected()),u(!1),z.isReadyForSubscriptions()&&D();const j=z.onStateChange(N=>{console.debug("[useTradePrice] WebSocket state changed to:",N),p(N===Pt.Connected),N===Pt.Connected?(console.debug("[useTradePrice] WebSocket connected - stopping polling if active"),D()):(N===Pt.Disconnected||N===Pt.Reconnecting)&&console.debug("[useTradePrice] WebSocket disconnected/reconnecting - polling effect should start polling")});return()=>{if(w.current=!1,_.current=!1,j&&j(),v.current){try{v.current.unsubscribeMultiFeedSubChannel("last_price",M)}catch(N){console.warn("[useTradePrice] Error unsubscribing during cleanup:",N)}if(n.marketId)try{v.current.unsubscribeMultiFeedSubChannel("mark_price",I)}catch(N){console.warn("[useTradePrice] Error unsubscribing mark_price during cleanup:",N)}}}},[n.subscriptionClient,n.baseURL,n.marketId,M,I]),A.useEffect(()=>{const $=n.subscriptionClient;if(y.current&&$&&v.current){if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] Cannot re-initialize: marketId is empty"),h("Market ID is required but was not provided");return}const z=e(n.marketId)||"BTC/USDC",D=k.current,j=C.current;if($.isConnected()&&D!==null&&(D!==n.marketId||j!==z))try{v.current.unsubscribeMultiFeedSubChannel("last_price",M),v.current.unsubscribeMultiFeedSubChannel("mark_price",I),w.current=!1,_.current=!1}catch(N){console.warn("[useTradePrice] Error unsubscribing from previous market:",N)}if(T(),$.isReadyForSubscriptions())try{v.current.subscribeMultiFeedSubChannel("last_price",n.marketId,M),w.current=!0,console.debug("[useTradePrice] Subscribed to last_price:",{marketId:n.marketId}),v.current.subscribeMultiFeedSubChannel("mark_price",n.marketId,I),_.current=!0,console.debug("[useTradePrice] Subscribed to mark_price:",{marketId:n.marketId})}catch(N){console.error("[useTradePrice] Failed to re-subscribe:",N),h(N instanceof Error?N.message:"Failed to subscribe to trade price data"),w.current=!1,_.current=!1}k.current=n.marketId,C.current=z}},[n.subscriptionClient,n.marketId]),A.useEffect(()=>(console.debug("[useTradePrice] Polling effect triggered - isConnected:",f,"marketId:",n.marketId,"disablePolling:",n.disablePolling),x.current!==null&&(console.debug("[useTradePrice] Clearing existing polling interval (polling effect)"),clearInterval(x.current),x.current=null),!f&&y.current&&n.disablePolling===!1?(console.debug("[useTradePrice] Starting HTTP polling (WebSocket disconnected, marketId:",n.marketId,")"),E(),x.current=window.setInterval(()=>{E()},5e3),console.debug("[useTradePrice] HTTP polling interval set up (every 5 seconds)")):!f&&!y.current?console.warn("[useTradePrice] Cannot start polling: infoClientRef.current is null (isConnected:",f,")"):f?console.debug("[useTradePrice] WebSocket connected, polling not needed"):n.disablePolling!==!1&&console.debug("[useTradePrice] Polling disabled by config (default behavior)"),()=>{x.current!==null&&(console.debug("[useTradePrice] Cleaning up polling interval (polling effect cleanup)"),clearInterval(x.current),x.current=null)}),[f,n.marketId,n.disablePolling]);const{displayPrice:O,displayTimestamp:F}=A.useMemo(()=>{const $=bm(r)&&r.price!=null,z=xk(s)&&s.mark_price!=null;if($&&z){const D=r.timestamp||0,j=s.timestamp||0;return D>=j?{displayPrice:r.price,displayTimestamp:D}:{displayPrice:s.mark_price,displayTimestamp:j}}return $?{displayPrice:r.price,displayTimestamp:r.timestamp||0}:z?{displayPrice:s.mark_price,displayTimestamp:s.timestamp||0}:{displayPrice:null,displayTimestamp:null}},[r,s]);return{lastPrice:r,markPrice:s,displayPrice:O,displayTimestamp:F,recentTrades:a,loading:c,error:d,isConnected:f,priceChange:m,refresh:T,infoClient:y.current,isLastPriceData:bm,isMarkPriceData:xk}}const i_=["funding_rate","deviation","twap"],r3=n=>{if(n)return Array.isArray(n)?n[0]:n},i3=(n,e)=>`${n}-${e}`,s3=n=>(n==null?void 0:n.isReadyForSubscriptions())??!1;function cpe(n){const e=n.historyDepth??10,r=n.marketId,[i,s]=A.useState(void 0),[o,a]=A.useState(void 0),[l,c]=A.useState(void 0),[u,d]=A.useState(!0),[h,f]=A.useState(null),[p,m]=A.useState(!1),b=A.useRef(null),y=A.useRef(new Map),v=A.useRef(null),w=A.useRef(null),_=(M,I,O)=>F=>{console.debug(`[useRates] Received ${M} message for market ${r}:`,F),O($=>{if(I===1)return F;{const z=Array.isArray($)?$:$?[$]:[];return[F,...z].slice(0,I)}})},x=A.useCallback(()=>{if(!r){console.warn("[useRates] Cannot subscribe: marketId not provided");return}const M=b.current;if(!M){console.warn("[useRates] Cannot subscribe: client not available");return}if(!s3(M)){console.warn(`[useRates] Cannot subscribe to market ${r}: client not ready`);return}if(v.current===r&&i_.every($=>{const z=i3($,r);return y.current.has(z)})){console.debug(`[useRates] Already subscribed to all rate channels for market ${r}`);return}v.current&&v.current!==r&&k(!0);const I=[];for(const F of i_){const $=i3(F,r);if(y.current.has($))continue;let z;switch(F){case"funding_rate":z=_(F,e,s);break;case"deviation":z=_(F,e,a);break;case"twap":z=_(F,e,c);break}I.push({subChannel:F,callback:z,key:$})}const O=[];for(const{subChannel:F,callback:$,key:z}of I)try{y.current.set(z,$),M.subscribeMultiFeedSubChannel(F,r,$),console.debug(`[useRates] Subscribed to ${F} for market ${r}`)}catch(D){console.error(`[useRates] Failed to subscribe to ${F} for market ${r}:`,D),y.current.delete(z),O.push(D instanceof Error?D.message:`Failed to subscribe to ${F}`)}O.length>0?f(`Failed to subscribe to some rate channels: ${O.join(", ")}`):I.length>0&&(f(null),console.debug(`[useRates] Successfully subscribed to all rate channels (${i_.join(", ")}) for market ${r}`)),v.current=r},[r,e]),k=A.useCallback((M=!1)=>{const I=v.current;if(!I)return;const O=b.current;O&&(i_.forEach(F=>{const $=i3(F,I),z=y.current.get($);if(z){try{O.unsubscribeMultiFeedSubChannel(F,z)}catch(D){console.error(`[useRates] Failed to unsubscribe ${F} for ${I}:`,D)}y.current.delete($)}}),v.current=null,M&&(s(void 0),a(void 0),c(void 0),f(null)))},[]);A.useEffect(()=>{const M=n.subscriptionClient,I=r;b.current=M,d(!1),m(M.isConnected());const O=w.current;w.current=I,O&&O!==I&&(s(void 0),a(void 0),c(void 0),f(null));const F=()=>{if(!s3(M)){M.getAuthState()==="failed"&&f("Authentication failed - cannot subscribe to rates");return}x()};s3(M)&&I&&F();const $=M.onStateChange(z=>{m(z===Pt.Connected),z===Pt.Connected&&I&&F()});return()=>{$==null||$(),k(!0)}},[n.subscriptionClient,n.baseURL,r,x,k]);const C=A.useMemo(()=>r3(i),[i]),E=A.useMemo(()=>r3(o),[o]),T=A.useMemo(()=>r3(l),[l]);return{fundingRate:i,deviation:o,twap:l,latestFundingRate:C,latestDeviation:E,latestTWAP:T,getFundingRate:A.useCallback(()=>i,[i]),getLatestFundingRate:A.useCallback(()=>C,[C]),getDeviation:A.useCallback(()=>o,[o]),getLatestDeviation:A.useCallback(()=>E,[E]),getTWAP:A.useCallback(()=>l,[l]),getLatestTWAP:A.useCallback(()=>T,[T]),loading:u,error:h,isConnected:p}}function upe(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(""),[c,u]=A.useState(!1),d=A.useRef(null),h=A.useRef(null),f=A.useRef(0),p=A.useRef(!1),m=A.useRef(null),b=A.useRef(null),y=A.useRef(n);y.current=n;const v=A.useCallback(async()=>{if(!d.current)return;const _=y.current;if(!_.walletAddress||_.walletAddress.trim()===""){l(""),i([]),o(!1);return}l("");try{const x=await qC(f9.http,()=>d.current.getPositions(_.walletAddress));if(Array.isArray(x)){const k=x.map(XR);i(C=>{if(C.length!==k.length)return k;const E=JSON.stringify(C),T=JSON.stringify(k);return E===T?C:k})}else i(k=>k.length===0?k:[])}catch(x){l(x instanceof Error?x.message:"Failed to load positions"),console.error("Failed to fetch positions after retries:",x)}finally{o(!1)}},[]),w=A.useCallback(_=>{if(_.market_id&&_.symbol){const x=XR(_);i(k=>{const C=k.findIndex(E=>E.positionId===x.positionId);if(C>=0){const E=[...k];E[C]=x;const T=JSON.stringify(k),M=JSON.stringify(E);return T===M?k:E}else return[...k,x]})}},[]);return A.useEffect(()=>{const _=new Cr({baseURL:n.baseURL,sessionToken:n.authToken});d.current=_,v();const x=n.subscriptionClient;if(e){h.current=x;const k=()=>{if(!x.isReadyForSubscriptions()){if(x.isConnected()&&!x.isReadyForSubscriptions()){const I=x.getAuthState();I==="pending"?console.debug("[usePositions] Waiting for authentication to complete..."):I==="failed"&&(console.error("[usePositions] Authentication failed - cannot subscribe to positions"),l("Authentication failed - cannot subscribe to positions"))}return}const E=n.marketId??"0",T=n.symbol??"USDC/USDC";if(!p.current||m.current!==E||b.current!==T){if(p.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("positions",w)}catch(I){console.warn("[usePositions] Error unsubscribing from previous positions subscription:",I)}try{x.subscribeMultiFeedSubChannel("positions",E,w,{symbol:T}),p.current=!0,m.current=E,b.current=T,o(!1),console.debug("[usePositions] Subscribed to positions:",{marketId:E,symbol:T})}catch(I){console.error("[usePositions] Failed to subscribe to positions:",I),l(I instanceof Error?I.message:"Failed to subscribe to positions"),p.current=!1,o(!1)}}};u(x.isConnected()),o(!1),x.isReadyForSubscriptions()&&k();const C=x.onStateChange(E=>{console.debug("[usePositions] WebSocket state changed to:",E),u(E===Pt.Connected),E===Pt.Connected?(k(),f.current!==null&&(clearInterval(f.current),f.current=0)):(E===Pt.Disconnected||E===Pt.Reconnecting)&&n.refreshInterval&&n.refreshInterval>0&&f.current===null&&(f.current=window.setInterval(()=>{v()},n.refreshInterval))});return()=>{if(C&&C(),f.current!==null&&(clearInterval(f.current),f.current=0),h.current&&p.current)try{h.current.unsubscribeMultiFeedSubChannel("positions",w)}catch(E){console.warn("[usePositions] Error unsubscribing during cleanup:",E)}p.current=!1,m.current=null,b.current=null}}else return n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>{v()},n.refreshInterval)),()=>{f.current!==null&&(clearInterval(f.current),f.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e]),{positions:r,loading:s,error:a,isConnected:c,refresh:v}}function v9(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(""),[c,u]=A.useState(!1),d=A.useRef(null),h=A.useRef(null),f=A.useRef(0),p=A.useRef(!1),m=A.useRef(null),b=A.useRef(null),y=A.useCallback(_=>{const x=h9(_)?_:d9(_);return LS(x)},[]),v=A.useCallback(async()=>{if(d.current){l("");try{if(!n.walletAddress){l("Wallet address is required"),i([]);return}const _=await d.current.getBuckets(n.walletAddress),x=Array.isArray(_)?_:[];Array.isArray(_)||console.warn("[useBuckets] getBuckets returned non-array:",_);const k=x.map(y);i(C=>{if(C.length!==k.length)return k;const E=JSON.stringify(C),T=JSON.stringify(k);return E===T?C:k})}catch(_){const x=_ instanceof Error?_.message:"Failed to load buckets";l(x),console.error("Failed to fetch buckets:",_)}finally{o(!1)}}},[n.walletAddress,y]),w=A.useCallback(_=>{if(_.buckets&&Array.isArray(_.buckets)){const x=_.buckets.map(y);i(k=>{if(k.length!==x.length)return x;const C=JSON.stringify(k),E=JSON.stringify(x);return C===E?k:x}),o(!1)}},[y]);return A.useEffect(()=>{const _=new Cr({baseURL:n.baseURL,sessionToken:n.authToken});d.current=_,v();const x=n.subscriptionClient;if(e){h.current=x;const k=()=>{if(!x.isReadyForSubscriptions()){if(x.isConnected()&&!x.isReadyForSubscriptions()){const I=x.getAuthState();I==="pending"?console.debug("[useBuckets] Waiting for authentication to complete..."):I==="failed"&&(console.error("[useBuckets] Authentication failed - cannot subscribe to buckets"),l("Authentication failed - cannot subscribe to buckets"))}return}const E=String(n.marketId??"0"),T=n.symbol??"USDC/USDC";if(!p.current||m.current!==E||b.current!==T){if(p.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("buckets",w)}catch(I){console.warn("[useBuckets] Error unsubscribing from previous buckets subscription:",I)}try{x.subscribeMultiFeedSubChannel("buckets",E,w,{symbol:T}),p.current=!0,m.current=E,b.current=T,o(!1),console.debug("[useBuckets] Subscribed to buckets:",{marketId:E,symbol:T})}catch(I){console.error("[useBuckets] Failed to subscribe to buckets:",I),l(I instanceof Error?I.message:"Failed to subscribe to buckets"),p.current=!1,o(!1)}}};u(x.isConnected()),o(!1),x.isReadyForSubscriptions()&&k();const C=x.onStateChange(E=>{console.debug("[useBuckets] WebSocket state changed to:",E),u(E===Pt.Connected),E===Pt.Connected?(k(),f.current!==null&&(clearInterval(f.current),f.current=0)):(E===Pt.Disconnected||E===Pt.Reconnecting)&&n.refreshInterval&&n.refreshInterval>0&&f.current===null&&(f.current=window.setInterval(()=>{v()},n.refreshInterval))});return()=>{if(C&&C(),f.current!==null&&(clearInterval(f.current),f.current=0),h.current&&p.current)try{h.current.unsubscribeMultiFeedSubChannel("buckets",w)}catch(E){console.warn("[useBuckets] Error unsubscribing during cleanup:",E)}p.current=!1,m.current=null,b.current=null}}else return n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>{v()},n.refreshInterval)),()=>{f.current!==null&&(clearInterval(f.current),f.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e]),{buckets:r,loading:s,error:a,isConnected:c,refresh:v}}function m7e(n){const e=n.maxDataPoints||100,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(null),[c,u]=A.useState(!1),d=A.useRef(!1),h=A.useRef(null),f=A.useRef(null),p=A.useRef(null),m=A.useCallback(b=>{if(!b){console.warn("[useKline] handleKlineUpdate received null/undefined data");return}try{const y=kl(b.open_time,Date.now()),v=kl(b.close_time,y),w=kl(b.timestamp,y),_={market_id:n.marketId,symbol:b.symbol,interval:b.interval||n.interval,open_time:y,close_time:v,open:Ft(b.open),high:Ft(b.high),low:Ft(b.low),close:Ft(b.close),volume:Ft(b.volume),trade_count:b.trade_count||0,timestamp:w,raw:b};i(x=>{const k=[...x,_];return k.length>e?k.slice(-e):k})}catch(y){console.error("[useKline] Error processing kline update:",y),l(y instanceof Error?y.message:"Failed to process kline data")}},[n.marketId,n.interval,e]);return A.useEffect(()=>{const b=n.subscriptionClient,y=()=>{if(!b.isReadyForSubscriptions()){if(b.isConnected()&&!b.isReadyForSubscriptions()){const _=b.getAuthState();_==="pending"?console.debug("[useKline] Waiting for authentication to complete..."):_==="failed"&&(console.error("[useKline] Authentication failed - cannot subscribe to kline"),l("Authentication failed - cannot subscribe to kline"))}return}if(!d.current||h.current!==n.marketId||f.current!==n.interval||p.current!==(n.symbol||"BTC/USDC")){if(d.current)try{b.unsubscribeMultiFeedSubChannel("kline",m)}catch(_){console.warn("[useKline] Error unsubscribing from previous kline subscription:",_)}try{const _=n.symbol||"BTC/USDC";b.subscribeMultiFeedSubChannel("kline",n.marketId,m,{symbol:_,interval:n.interval}),d.current=!0,h.current=n.marketId,f.current=n.interval,p.current=_,o(!1),console.debug("[useKline] Subscribed to kline:",{marketId:n.marketId,symbol:_,interval:n.interval})}catch(_){console.error("[useKline] Failed to subscribe to kline:",_),l(_ instanceof Error?_.message:"Failed to subscribe to kline data"),d.current=!1,o(!1)}}};u(b.isConnected()),o(!1),b.isReadyForSubscriptions()&&y();const v=b.onStateChange(w=>{console.debug("[useKline] WebSocket state changed to:",w),u(w===Pt.Connected),w===Pt.Connected?y():w===Pt.Disconnected||Pt.Reconnecting});return()=>{if(v&&v(),b&&d.current)try{b.unsubscribeMultiFeedSubChannel("kline",m)}catch(w){console.warn("[useKline] Error unsubscribing during cleanup:",w)}d.current=!1,h.current=null,f.current=null,p.current=null}},[n.subscriptionClient,n.marketId,n.interval,n.symbol,m]),{klineData:r,loading:s,error:a,isConnected:c}}function g7e(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}const b7e=n=>{switch(n){case"success":return w7e;case"info":return _7e;case"warning":return x7e;case"error":return k7e;default:return null}},y7e=Array(12).fill(0),v7e=({visible:n,className:e})=>B.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},B.createElement("div",{className:"sonner-spinner"},y7e.map((r,i)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),w7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),k7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),C7e=()=>{const[n,e]=B.useState(document.hidden);return B.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),n};let t4=1;class E7e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:i,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:t4++,a=this.toasts.find(c=>c.id===o),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:i}),{...c,...e,id:o,dismissible:l,title:i}):c):this.addToast({title:i,...s,dismissible:l,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=i!==void 0,a;const l=s.then(async u=>{if(a=["resolve",u],B.isValidElement(u))o=!1,this.create({id:i,type:"default",message:u});else if(T7e(u)&&!u.ok){o=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:f,...m})}else if(u instanceof Error){o=!1;const h=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:f,...m})}else if(r.success!==void 0){o=!1;const h=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"success",description:f,...m})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){o=!1;const d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,p=typeof d=="object"&&!B.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:h,...p})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(e,r)=>{const i=(r==null?void 0:r.id)||t4++;return this.create({jsx:e(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xs=new E7e,A7e=(n,e)=>{const r=(e==null?void 0:e.id)||t4++;return xs.addToast({title:n,...e,id:r}),r},T7e=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",P7e=A7e,I7e=()=>xs.toasts,M7e=()=>xs.getActiveToasts(),ft=Object.assign(P7e,{success:xs.success,info:xs.info,warning:xs.warning,error:xs.error,custom:xs.custom,message:xs.message,promise:xs.promise,dismiss:xs.dismiss,loading:xs.loading},{getHistory:I7e,getToasts:M7e});g7e("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function s_(n){return n.label!==void 0}const O7e=3,D7e="24px",R7e="16px",ZW=4e3,N7e=356,j7e=14,B7e=45,L7e=200;function nl(...n){return n.filter(Boolean).join(" ")}function F7e(n){const[e,r]=n.split("-"),i=[];return e&&i.push(e),r&&i.push(r),i}const $7e=n=>{var e,r,i,s,o,a,l,c,u;const{invert:d,toast:h,unstyled:f,interacting:p,setHeights:m,visibleToasts:b,heights:y,index:v,toasts:w,expanded:_,removeToast:x,defaultRichColors:k,closeButton:C,style:E,cancelButtonStyle:T,actionButtonStyle:M,className:I="",descriptionClassName:O="",duration:F,position:$,gap:z,expandByDefault:D,classNames:j,icons:N,closeButtonAriaLabel:R="Close toast"}=n,[H,U]=B.useState(null),[K,Y]=B.useState(null),[Z,G]=B.useState(!1),[X,ae]=B.useState(!1),[be,le]=B.useState(!1),[J,xe]=B.useState(!1),[ge,V]=B.useState(!1),[we,ze]=B.useState(0),[et,$e]=B.useState(0),mt=B.useRef(h.duration||F||ZW),Ue=B.useRef(null),Ke=B.useRef(null),pt=v===0,lt=v+1<=b,Ye=h.type,We=h.dismissible!==!1,Ae=h.className||"",W=h.descriptionClassName||"",de=B.useMemo(()=>y.findIndex(He=>He.toastId===h.id)||0,[y,h.id]),me=B.useMemo(()=>{var He;return(He=h.closeButton)!=null?He:C},[h.closeButton,C]),oe=B.useMemo(()=>h.duration||F||ZW,[h.duration,F]),pe=B.useRef(0),ve=B.useRef(0),ee=B.useRef(0),ue=B.useRef(null),[ce,Ce]=$.split("-"),Me=B.useMemo(()=>y.reduce((He,Oe,Xe)=>Xe>=de?He:He+Oe.height,0),[y,de]),he=C7e(),Te=h.invert||d,Se=Ye==="loading";ve.current=B.useMemo(()=>de*z+Me,[de,Me]),B.useEffect(()=>{mt.current=oe},[oe]),B.useEffect(()=>{G(!0)},[]),B.useEffect(()=>{const He=Ke.current;if(He){const Oe=He.getBoundingClientRect().height;return $e(Oe),m(Xe=>[{toastId:h.id,height:Oe,position:h.position},...Xe]),()=>m(Xe=>Xe.filter(dt=>dt.toastId!==h.id))}},[m,h.id]),B.useLayoutEffect(()=>{if(!Z)return;const He=Ke.current,Oe=He.style.height;He.style.height="auto";const Xe=He.getBoundingClientRect().height;He.style.height=Oe,$e(Xe),m(dt=>dt.find(ot=>ot.toastId===h.id)?dt.map(ot=>ot.toastId===h.id?{...ot,height:Xe}:ot):[{toastId:h.id,height:Xe,position:h.position},...dt])},[Z,h.title,h.description,m,h.id,h.jsx,h.action,h.cancel]);const ie=B.useCallback(()=>{ae(!0),ze(ve.current),m(He=>He.filter(Oe=>Oe.toastId!==h.id)),setTimeout(()=>{x(h)},L7e)},[h,x,m,ve]);B.useEffect(()=>{if(h.promise&&Ye==="loading"||h.duration===1/0||h.type==="loading")return;let He;return _||p||he?(()=>{if(ee.current<pe.current){const dt=new Date().getTime()-pe.current;mt.current=mt.current-dt}ee.current=new Date().getTime()})():(()=>{mt.current!==1/0&&(pe.current=new Date().getTime(),He=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),ie()},mt.current))})(),()=>clearTimeout(He)},[_,p,h,Ye,he,ie]),B.useEffect(()=>{h.delete&&(ie(),h.onDismiss==null||h.onDismiss.call(h,h))},[ie,h.delete]);function re(){var He;if(N!=null&&N.loading){var Oe;return B.createElement("div",{className:nl(j==null?void 0:j.loader,h==null||(Oe=h.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":Ye==="loading"},N.loading)}return B.createElement(v7e,{className:nl(j==null?void 0:j.loader,h==null||(He=h.classNames)==null?void 0:He.loader),visible:Ye==="loading"})}const se=h.icon||(N==null?void 0:N[Ye])||b7e(Ye);var tt,Re;return B.createElement("li",{tabIndex:0,ref:Ke,className:nl(I,Ae,j==null?void 0:j.toast,h==null||(e=h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Ye],h==null||(r=h.classNames)==null?void 0:r[Ye]),"data-sonner-toast":"","data-rich-colors":(tt=h.richColors)!=null?tt:k,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":Z,"data-promise":!!h.promise,"data-swiped":ge,"data-removed":X,"data-visible":lt,"data-y-position":ce,"data-x-position":Ce,"data-index":v,"data-front":pt,"data-swiping":be,"data-dismissible":We,"data-type":Ye,"data-invert":Te,"data-swipe-out":J,"data-swipe-direction":K,"data-expanded":!!(_||D&&Z),"data-testid":h.testId,style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${X?we:ve.current}px`,"--initial-height":D?"auto":`${et}px`,...E,...h.style},onDragEnd:()=>{le(!1),U(null),ue.current=null},onPointerDown:He=>{He.button!==2&&(Se||!We||(Ue.current=new Date,ze(ve.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(le(!0),ue.current={x:He.clientX,y:He.clientY})))},onPointerUp:()=>{var He,Oe,Xe;if(J||!We)return;ue.current=null;const dt=Number(((He=Ke.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ve=Number(((Oe=Ke.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ot=new Date().getTime()-((Xe=Ue.current)==null?void 0:Xe.getTime()),Ie=H==="x"?dt:Ve,at=Math.abs(Ie)/ot;if(Math.abs(Ie)>=B7e||at>.11){ze(ve.current),h.onDismiss==null||h.onDismiss.call(h,h),Y(H==="x"?dt>0?"right":"left":Ve>0?"down":"up"),ie(),xe(!0);return}else{var ke,_t;(ke=Ke.current)==null||ke.style.setProperty("--swipe-amount-x","0px"),(_t=Ke.current)==null||_t.style.setProperty("--swipe-amount-y","0px")}V(!1),le(!1),U(null)},onPointerMove:He=>{var Oe,Xe,dt;if(!ue.current||!We||((Oe=window.getSelection())==null?void 0:Oe.toString().length)>0)return;const ot=He.clientY-ue.current.y,Ie=He.clientX-ue.current.x;var at;const ke=(at=n.swipeDirections)!=null?at:F7e($);!H&&(Math.abs(Ie)>1||Math.abs(ot)>1)&&U(Math.abs(Ie)>Math.abs(ot)?"x":"y");let _t={x:0,y:0};const gt=St=>1/(1.5+Math.abs(St)/20);if(H==="y"){if(ke.includes("top")||ke.includes("bottom"))if(ke.includes("top")&&ot<0||ke.includes("bottom")&&ot>0)_t.y=ot;else{const St=ot*gt(ot);_t.y=Math.abs(St)<Math.abs(ot)?St:ot}}else if(H==="x"&&(ke.includes("left")||ke.includes("right")))if(ke.includes("left")&&Ie<0||ke.includes("right")&&Ie>0)_t.x=Ie;else{const St=Ie*gt(Ie);_t.x=Math.abs(St)<Math.abs(Ie)?St:Ie}(Math.abs(_t.x)>0||Math.abs(_t.y)>0)&&V(!0),(Xe=Ke.current)==null||Xe.style.setProperty("--swipe-amount-x",`${_t.x}px`),(dt=Ke.current)==null||dt.style.setProperty("--swipe-amount-y",`${_t.y}px`)}},me&&!h.jsx&&Ye!=="loading"?B.createElement("button",{"aria-label":R,"data-disabled":Se,"data-close-button":!0,onClick:Se||!We?()=>{}:()=>{ie(),h.onDismiss==null||h.onDismiss.call(h,h)},className:nl(j==null?void 0:j.closeButton,h==null||(i=h.classNames)==null?void 0:i.closeButton)},(Re=N==null?void 0:N.close)!=null?Re:S7e):null,(Ye||h.icon||h.promise)&&h.icon!==null&&((N==null?void 0:N[Ye])!==null||h.icon)?B.createElement("div",{"data-icon":"",className:nl(j==null?void 0:j.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||re():null,h.type!=="loading"?se:null):null,B.createElement("div",{"data-content":"",className:nl(j==null?void 0:j.content,h==null||(o=h.classNames)==null?void 0:o.content)},B.createElement("div",{"data-title":"",className:nl(j==null?void 0:j.title,h==null||(a=h.classNames)==null?void 0:a.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?B.createElement("div",{"data-description":"",className:nl(O,W,j==null?void 0:j.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),B.isValidElement(h.cancel)?h.cancel:h.cancel&&s_(h.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:He=>{s_(h.cancel)&&We&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,He),ie())},className:nl(j==null?void 0:j.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,B.isValidElement(h.action)?h.action:h.action&&s_(h.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:He=>{s_(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,He),!He.defaultPrevented&&ie())},className:nl(j==null?void 0:j.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function eq(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function z7e(n,e){const r={};return[n,e].forEach((i,s)=>{const o=s===1,a=o?"--mobile-offset":"--offset",l=o?R7e:D7e;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(u=>{i[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof i[u]=="number"?`${i[u]}px`:i[u]}):c(l)}),r}const U7e=B.forwardRef(function(e,r){const{id:i,invert:s,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:m,style:b,visibleToasts:y=O7e,toastOptions:v,dir:w=eq(),gap:_=j7e,icons:x,containerAriaLabel:k="Notifications"}=e,[C,E]=B.useState([]),T=B.useMemo(()=>i?C.filter(Z=>Z.toasterId===i):C.filter(Z=>!Z.toasterId),[C,i]),M=B.useMemo(()=>Array.from(new Set([o].concat(T.filter(Z=>Z.position).map(Z=>Z.position)))),[T,o]),[I,O]=B.useState([]),[F,$]=B.useState(!1),[z,D]=B.useState(!1),[j,N]=B.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=B.useRef(null),H=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=B.useRef(null),K=B.useRef(!1),Y=B.useCallback(Z=>{E(G=>{var X;return(X=G.find(ae=>ae.id===Z.id))!=null&&X.delete||xs.dismiss(Z.id),G.filter(({id:ae})=>ae!==Z.id)})},[]);return B.useEffect(()=>xs.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{E(G=>G.map(X=>X.id===Z.id?{...X,delete:!0}:X))});return}setTimeout(()=>{J_e.flushSync(()=>{E(G=>{const X=G.findIndex(ae=>ae.id===Z.id);return X!==-1?[...G.slice(0,X),{...G[X],...Z},...G.slice(X+1)]:[Z,...G]})})})}),[C]),B.useEffect(()=>{if(f!=="system"){N(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?N("dark"):N("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:G})=>{N(G?"dark":"light")})}catch{Z.addListener(({matches:X})=>{try{N(X?"dark":"light")}catch(ae){console.error(ae)}})}},[f]),B.useEffect(()=>{C.length<=1&&$(!1)},[C]),B.useEffect(()=>{const Z=G=>{var X;if(a.every(le=>G[le]||G.code===le)){var be;$(!0),(be=R.current)==null||be.focus()}G.code==="Escape"&&(document.activeElement===R.current||(X=R.current)!=null&&X.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[a]),B.useEffect(()=>{if(R.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,K.current=!1)}},[R.current]),B.createElement("section",{ref:r,"aria-label":`${k} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((Z,G)=>{var X;const[ae,be]=Z.split("-");return T.length?B.createElement("ol",{key:Z,dir:w==="auto"?eq():w,tabIndex:-1,ref:R,className:u,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":ae,"data-x-position":be,style:{"--front-toast-height":`${((X=I[0])==null?void 0:X.height)||0}px`,"--width":`${N7e}px`,"--gap":`${_}px`,...b,...z7e(d,h)},onBlur:le=>{K.current&&!le.currentTarget.contains(le.relatedTarget)&&(K.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||K.current||(K.current=!0,U.current=le.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{z||$(!1)},onDragEnd:()=>$(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},T.filter(le=>!le.position&&G===0||le.position===Z).map((le,J)=>{var xe,ge;return B.createElement($7e,{key:le.id,icons:x,index:J,toast:le,defaultRichColors:p,duration:(xe=v==null?void 0:v.duration)!=null?xe:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:s,visibleToasts:y,closeButton:(ge=v==null?void 0:v.closeButton)!=null?ge:c,interacting:z,position:Z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,closeButtonAriaLabel:v==null?void 0:v.closeButtonAriaLabel,removeToast:Y,toasts:T.filter(V=>V.position==le.position),heights:I.filter(V=>V.position==le.position),setHeights:O,expandByDefault:l,gap:_,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),kh="onboard_mnemonic",ac="onboard_wallet_address",ua="onboard_chain_type",zb="onboard_auth_token",Ub="onboard_refresh_token",Wb="onboard_expires_at";function W7e(n){const e=n.trim();return e.startsWith("0x")||e.startsWith("0X")?"ethereum":e.startsWith("bc1p")||e.startsWith("tb1p")?"bitcoin_taproot":e.startsWith("bc1q")||e.startsWith("tb1q")?"bitcoin_segwit":e.startsWith("1")||e.startsWith("m")||e.startsWith("n")?"bitcoin_legacy":e.startsWith("3")||e.startsWith("2")?"bitcoin_nested_segwit":e.length>=32&&e.length<=44?"solana":null}function yu(n){const[e,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState("ethereum"),[l,c]=A.useState(!1),[u,d]=A.useState(""),[h,f]=A.useState(void 0),[p,m]=A.useState(void 0),[b,y]=A.useState(!1),[v,w]=A.useState(null);A.useEffect(()=>{const z=localStorage.getItem(kh),D=localStorage.getItem(ac),j=localStorage.getItem(ua),N=localStorage.getItem(zb),R=localStorage.getItem(Ub),H=localStorage.getItem(Wb);if(r(z||""),s(D||""),j?["ethereum","bitcoin_taproot","bitcoin_segwit","bitcoin_legacy","bitcoin_nested_segwit","solana"].includes(j)?a(j):(a("ethereum"),localStorage.setItem(ua,"ethereum")):a("ethereum"),N&&d(N),R&&f(R),H){const U=parseInt(H,10);isNaN(U)||m(U)}},[]);const _=A.useCallback(async z=>{if(!z||z.trim()==="")return null;c(!0);try{const D=await $S(z,"ethereum",0,!0);return D.success&&D.address?D.address:(console.error("Failed to generate address:",D.error),null)}catch(D){return console.error("Error generating address:",D),null}finally{c(!1)}},[]),x=A.useCallback(async(z,D=0,j=!0)=>{if(!e||e.trim()==="")return console.warn("Cannot generate address: mnemonic not set"),null;c(!0);try{const N=await $S(e,z,D,j);return N.success&&N.address?(a(z),localStorage.setItem(ua,z),N.address):(console.error("Failed to generate address:",N.error),null)}catch(N){return console.error("Error generating address for chain:",N),null}finally{c(!1)}},[e]),k=A.useCallback(async z=>{const D=z.trim();if(D===""){r(""),s(""),a("ethereum"),localStorage.removeItem(kh),localStorage.removeItem(ac),localStorage.removeItem(ua);return}r(D),localStorage.setItem(kh,D);const j=await _(D);j?(s(j),a("ethereum"),localStorage.setItem(ac,j),localStorage.setItem(ua,"ethereum")):(s(""),a("ethereum"),localStorage.removeItem(ac),localStorage.setItem(ua,"ethereum"))},[_]),C=A.useCallback(async(z,D,j=0,N=!0)=>{const R=z.trim();if(R===""){r(""),s(""),a("ethereum"),localStorage.removeItem(kh),localStorage.removeItem(ac),localStorage.removeItem(ua);return}r(R),localStorage.setItem(kh,R);const H=await x(D,j,N);H?(s(H),a(D),localStorage.setItem(ac,H),localStorage.setItem(ua,D)):(s(""),localStorage.removeItem(ac))},[x]),E=A.useCallback((z,D,j)=>{const N=z.trim(),R=D.trim().startsWith("0x")||D.trim().startsWith("0X")?D.trim().toLowerCase():D.trim();if(r(N),s(R),localStorage.setItem(kh,N),localStorage.setItem(ac,R),j)a(j),localStorage.setItem(ua,j);else{const H=W7e(R);H&&(a(H),localStorage.setItem(ua,H))}},[]),T=A.useCallback(()=>{r(""),s(""),a("ethereum"),localStorage.removeItem(kh),localStorage.removeItem(ac),localStorage.removeItem(ua)},[]),M=A.useMemo(()=>{if(e==="")return"";const z=e.trim();if(z==="")return"";try{const D=m0.fromPhrase(z,"","m/44'/60'/0'/0/0");if(i&&D.address.toLowerCase()!==i.toLowerCase())return console.warn("Address mismatch: derived address does not match stored address"),"";const j=BigInt(D.privateKey),N=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(j===0n||j>=N)return console.error("Invalid private key: out of secp256k1 curve order"),"";const H=j.toString(16).toLowerCase().padStart(64,"0");return/^[0-9a-f]{64}$/.test(H)?H:(console.error("Invalid private key format"),"")}catch(D){return console.error("Error computing private key:",D),""}},[e,i]),I=A.useCallback(async(z,D,j,N)=>{y(!0),w(null);try{await k(z);const R=await p9(z,D,j,N);if(R.success&&R.authToken)d(R.authToken),f(R.refreshToken),m(R.expiresAt),localStorage.setItem(zb,R.authToken),R.refreshToken&&localStorage.setItem(Ub,R.refreshToken),R.expiresAt&&localStorage.setItem(Wb,R.expiresAt.toString()),ft.success("Onboarding successful",{description:"Wallet authenticated and auth token generated.",duration:5e3});else{const H=R.error||"Onboarding failed";w(H),d(""),f(void 0),m(void 0),localStorage.removeItem(zb),localStorage.removeItem(Ub),localStorage.removeItem(Wb),ft.error("Onboarding failed",{description:H,duration:6e3})}}catch(R){const H=(R==null?void 0:R.message)||"Unknown error during onboarding";w(H),d(""),f(void 0),m(void 0),localStorage.removeItem(zb),localStorage.removeItem(Ub),localStorage.removeItem(Wb),ft.error("Onboarding error",{description:H,duration:6e3})}finally{y(!1)}},[k]),O=A.useCallback(()=>{w(null)},[]),F=A.useCallback(()=>{d(""),f(void 0),m(void 0),w(null),y(!1),localStorage.removeItem(zb),localStorage.removeItem(Ub),localStorage.removeItem(Wb)},[]),$=A.useCallback(()=>{T(),F()},[T,F]);return{mnemonic:e,walletAddress:i,chainType:o,privateKey:M,authToken:u,refreshToken:h,expiresAt:p,loading:b,error:v,addressLoading:l,onboard:I,setMnemonic:k,setMnemonicWithChain:C,setAccountData:E,generateAddressForChain:x,clearAccountData:T,clearError:O,reset:F,resetAll:$}}function q7e(n={}){const{onDisconnect:e,enableOKX:r=!0,enablePhantom:i=!0,enableOneKey:s=!0,enableEthereum:o=!0}=n,a=A.useRef([]);return A.useEffect(()=>{if(!e)return;const l=[];if(r){const c=(u,d)=>{e({walletName:"OKX",chainType:u,reason:d})};l.push(Vje(c))}if(i){const c=(u,d)=>{e({walletName:"Phantom",chainType:"solana",reason:d})};l.push(Aje(c))}if(s){const c=(u,d)=>{e({walletName:"OneKey",chainType:"solana",reason:d})};l.push(Tje(c))}if(o){const c=(u,d)=>{e({walletName:"Binance",chainType:"solana",reason:d})};l.push(Pje(c))}if(o&&typeof window<"u"){const c=window.ethereum;if(c&&c.on){const u=()=>{var f,p,m;return(f=window.okxwallet)!=null&&f.ethereum||c.isOKX?"OKX":(p=window.$onekey)!=null&&p.ethereum||c.isOneKey?"OneKey":(m=window.phantom)!=null&&m.ethereum||c.isPhantom?"Phantom":window.BinanceChain||c.isBinance?"Binance":c.isMetaMask?"MetaMask":"Unknown"},d=f=>{const p=u();console.warn(`[Wallet] ${p} Ethereum wallet disconnected:`,f),e({walletName:p,chainType:"ethereum",reason:f.message||"Wallet disconnected"})},h=f=>{if(f.length===0){const p=u();console.warn(`[Wallet] ${p} Ethereum wallet accounts cleared (disconnected)`),e({walletName:p,chainType:"ethereum",reason:"Accounts cleared"})}};c.on("disconnect",d),c.on("accountsChanged",h),l.push(()=>{c.removeListener&&(c.removeListener("disconnect",d),c.removeListener("accountsChanged",h))})}}return a.current=l,()=>{l.forEach(c=>c()),a.current=[]}},[e,r,i,s,o]),{cleanup:()=>{a.current.forEach(l=>l()),a.current=[]}}}const tq=[{value:"ethereum",label:"Ethereum",description:"Ethereum addresses (0x...)",example:"0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"},{value:"bitcoin_taproot",label:"Bitcoin Taproot",description:"Bitcoin Taproot addresses (bc1p...)",example:"bc1p5d7rjq7g6rdk2yhzks9smlaqtedr4dekq08ge8ztwac36sfj9ugtg7eskl"},{value:"bitcoin_segwit",label:"Bitcoin SegWit",description:"Bitcoin SegWit addresses (bc1q...)",example:"bc1qw508d6qejxtdg4y5r3zarvary0c5xw7kv8f3t4"},{value:"bitcoin_legacy",label:"Bitcoin Legacy",description:"Bitcoin Legacy addresses (1...)",example:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},{value:"bitcoin_nested_segwit",label:"Bitcoin Nested SegWit",description:"Bitcoin Nested SegWit addresses (3...)",example:"3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy"},{value:"solana",label:"Solana",description:"Solana addresses (Base58)",example:"9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM"}];function H7e(){const{setAccountData:n}=yu(),{mnemonic:e,setMnemonic:r,addressIndex:i,setAddressIndex:s,chainType:o,setChainType:a,isMainnet:l,setIsMainnet:c,result:u,loading:d,generateAddress:h,isReady:f}=jje();A.useEffect(()=>{u!=null&&u.success&&u.address&&e&&o==="ethereum"&&n(e,u.address)},[u,e,o,n]);const p=tq.find(m=>m.value===o);return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Multichain Address Generator"}),g.jsx("p",{children:"Generate addresses from mnemonic phrases for multiple blockchain networks"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"chainType",children:"Chain Type:"}),g.jsx("select",{id:"chainType",value:o,onChange:m=>a(m.target.value),style:{marginBottom:"0.5rem"},children:tq.map(m=>g.jsxs("option",{value:m.value,children:[m.label," - ",m.description]},m.value))}),p&&g.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.25rem",padding:"0.5rem",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px"},children:[g.jsx("strong",{children:"Example:"})," ",p.example]})]}),(o.startsWith("bitcoin")||o==="solana")&&g.jsx("div",{className:"form-group",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:l,onChange:m=>c(m.target.checked),style:{marginRight:"0.5rem",cursor:"pointer"}}),l?"Mainnet":"Testnet",g.jsxs("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginLeft:"0.5rem"},children:["(",l?"Production network":"Test network",")"]})]})}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic Phrase:"}),g.jsx("textarea",{id:"mnemonic",value:e,onChange:m=>r(m.target.value),placeholder:"Enter your mnemonic phrase...",rows:3})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressIndex",children:"Address Index:"}),g.jsx("input",{id:"addressIndex",type:"number",value:i,onChange:m=>s(parseInt(m.target.value)||0),min:"0",max:"1000"}),g.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.25rem"},children:"Derivation path index (0 = first address, 1 = second address, etc.)"})]}),g.jsx("button",{className:"button",onClick:h,disabled:d||!f,style:{width:"100%",margin:"0"},children:d?"Generating...":`Generate ${(p==null?void 0:p.label)||"Address"}`}),u&&g.jsx("div",{className:`output ${u.success?"success":"error"}`,children:u.success?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{style:{fontSize:"1.1rem",display:"block",marginBottom:"0.5rem"},children:"Generated Address:"}),g.jsx("div",{style:{fontFamily:"Monaco, Menlo, Ubuntu Mono, monospace",fontSize:"0.95rem",wordBreak:"break-all",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:u.address})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"0.5rem 1rem",fontSize:"0.9rem"},children:[g.jsx("strong",{children:"Chain Type:"}),g.jsx("span",{children:(p==null?void 0:p.label)||u.chainType||"Ethereum"}),g.jsx("strong",{children:"Network:"}),g.jsx("span",{children:u.isMainnet!==void 0?u.isMainnet?"Mainnet":"Testnet":"Mainnet (default)"}),g.jsx("strong",{children:"Index:"}),g.jsx("span",{children:u.index??0}),"mnemonic"in u&&u.mnemonic&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Mnemonic:"}),g.jsx("span",{children:u.mnemonic})]})]}),g.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:[g.jsx("strong",{children:"Derivation Path:"})," ",o==="ethereum"&&g.jsxs("code",{children:["m/44'/60'/0'/0/",i]}),o==="bitcoin_taproot"&&g.jsxs("code",{children:["m/86'/0'/0'/0/",i]}),o==="bitcoin_segwit"&&g.jsxs("code",{children:["m/84'/0'/0'/0/",i]}),o==="bitcoin_legacy"&&g.jsxs("code",{children:["m/44'/0'/0'/0/",i]}),o==="bitcoin_nested_segwit"&&g.jsxs("code",{children:["m/49'/0'/0'/0/",i]}),o==="solana"&&g.jsxs("code",{children:["m/44'/501'/0'/",i,"'"]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{style:{display:"block",marginBottom:"0.5rem"},children:"Error:"}),g.jsx("div",{style:{color:"rgba(255, 107, 107, 0.9)"},children:u.error})]})}),!f&&g.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",color:"rgba(255, 193, 7, 0.9)",fontSize:"0.9rem"},children:" WASM module is loading. Please wait..."})]})}function V7e(){var f,p;const{mnemonic:n,setMnemonic:e,message:r,setMessage:i,useEIP712:s,setUseEIP712:o,addressIndex:a,setAddressIndex:l,result:c,loading:u,signMessage:d,isReady:h}=Bje();return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Message Signer"}),g.jsx("p",{children:"Sign messages with your private key"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic Phrase:"}),g.jsx("textarea",{id:"mnemonic",value:n,onChange:m=>e(m.target.value),placeholder:"Enter your mnemonic phrase...",rows:2})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"message",children:"Message to Sign:"}),g.jsx("textarea",{id:"message",value:r,onChange:m=>i(m.target.value),placeholder:"Enter message to sign...",rows:3})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressIndex",children:"Address Index:"}),g.jsx("input",{id:"addressIndex",type:"number",value:a,onChange:m=>l(parseInt(m.target.value)||0),min:"0",max:"1000"})]}),g.jsx("div",{className:"form-group",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:s,onChange:m=>o(m.target.checked),style:{marginRight:"0.5rem"}}),"Use EIP-712 Typed Data"]})}),g.jsx("button",{className:"button",onClick:d,disabled:u||!h,children:u?"Signing...":"Sign Message"}),c&&g.jsx("div",{className:`output ${c.success?"success":"error"}`,children:c.success?g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Signature:"}),g.jsx("br",{}),c.signature,g.jsx("br",{}),g.jsx("br",{}),g.jsx("strong",{children:"Details:"}),g.jsx("br",{}),"Message: ",c.message,g.jsx("br",{}),"EIP-712: ",(f=c.options)!=null&&f.useEIP712?"Yes":"No",g.jsx("br",{}),"Address Index: ",((p=c.options)==null?void 0:p.addressIndex)||0]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),c.error]})})]})}const o_={placeOrder:{label:"Place Order",action:t9,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"side",label:"Side",type:"select",options:["BUY","SELL"],required:!0},{key:"orderType",label:"Order Type",type:"select",options:["LIMIT","MARKET"],required:!0},{key:"price",label:"Price",type:"number",placeholder:"100.5",required:!0,convertToSatoshi:!0},{key:"quantity",label:"Quantity",type:"number",placeholder:"1.0",required:!0,convertToSatoshi:!0}]},cancelOrder:{label:"Cancel Order",action:jS,fields:[{key:"orderId",label:"Order ID",type:"text",required:!0},{key:"marketId",label:"Market ID",type:"text",required:!0}]},modifyOrder:{label:"Modify Order",action:n9,fields:[{key:"orderId",label:"Order ID",type:"text",required:!0},{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"newPrice",label:"New Price",type:"number",required:!0,convertToSatoshi:!0},{key:"newQuantity",label:"New Quantity",type:"number",required:!0,convertToSatoshi:!0}]},changeLeverage:{label:"Change Leverage",action:$fe,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"newLeverage",label:"New Leverage",type:"number",required:!0,convertToSatoshi:!0}]},closePosition:{label:"Close Position",action:BS,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"quantity",label:"Quantity",type:"number",required:!0,convertToSatoshi:!0},{key:"marketPrice",label:"Market Price",type:"number",required:!0,convertToSatoshi:!0}]},swap:{label:"Swap",action:i9,fields:[{key:"fromToken",label:"From Token",type:"text",required:!0},{key:"toToken",label:"To Token",type:"text",required:!0},{key:"amountIn",label:"Amount In",type:"number",required:!0,convertToSatoshi:!0},{key:"minAmountOut",label:"Min Amount Out",type:"number",required:!0,convertToSatoshi:!0}]},changeMarginRatio:{label:"Change Margin Ratio",action:e9,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"positionId",label:"Position ID",type:"text",required:!1}]},internTransfer:{label:"Internal Transfer",action:r9,fields:[{key:"fromAccount",label:"From Account",type:"text",required:!0},{key:"toAccount",label:"To Account",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0},{key:"tokenAddress",label:"Token Address",type:"text",required:!0}]},bucketTransfer:{label:"Bucket Transfer",action:l9,fields:[{key:"fromBucketId",label:"From Bucket ID",type:"text",required:!0},{key:"toBucketId",label:"To Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},extractToBucket:{label:"Extract to Bucket",action:o9,fields:[{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},withdrawFromBucket:{label:"Withdraw from Bucket",action:a9,fields:[{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},bankMint:{label:"Bank Mint",action:s9,fields:[{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},bankTransfer:{label:"Bank Transfer",action:c9,fields:[{key:"to",label:"To Address",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]}};function G7e(){const{connect:n,connectors:e,isPending:r}=f7(),{disconnect:i}=dx(),{address:s,isConnected:o}=Ci(),{signTypedDataAsync:a}=p7(),l=ux(),[c,u]=A.useState(null),[d,h]=A.useState({}),[f,p]=A.useState("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"),[m,b]=A.useState(""),[y,v]=A.useState(""),[w,_]=A.useState(""),[x,k]=A.useState([]),[C,E]=A.useState(null),[T,M]=A.useState(!1),[I,O]=A.useState(!1),F=uu(),$=zS(),z=b9(),D=e.find(J=>J.id==="injected"),j=c7e(),N=m&&s&&m.toLowerCase()===s.toLowerCase(),R=o&&N&&m;A.useEffect(()=>{if(c){const J=o_[c],xe={};J.fields.forEach(ge=>{xe[ge.key]=""}),h(xe),E(null)}},[c]);const H=()=>{const xe=Math.floor(Date.now()/1e3)+3600;_(xe.toString())},U=()=>{v(Date.now().toString())},K=async()=>{if(!f.trim()){alert("Please enter a mnemonic phrase");return}try{const{mormSigner:J}=await ht(async()=>{const{mormSigner:ge}=await Promise.resolve().then(()=>Rje);return{mormSigner:ge}},void 0);await J.initialize();const xe=await J.generateAddress(f,0);xe.success&&xe.address?b(xe.address):alert(xe.error||"Failed to generate address")}catch(J){alert(J.message||"Failed to generate address")}},Y=async()=>{var J,xe,ge;if(!F&&!$&&!z){alert("No supported wallet detected");return}try{const V=window.ethereum;let we=V;if($&&(we=((J=window.phantom)==null?void 0:J.ethereum)||((xe=window.ethereum)!=null&&xe.isPhantom?V:null)),z&&(we=((ge=window.$onekey)==null?void 0:ge.ethereum)||V),!we){alert("Wallet provider not found");return}const ze=await we.request({method:"eth_requestAccounts"});ze&&ze.length>0&&(k(ze),ze.length===1&&b(ze[0])),D&&(await n({connector:D}),await new Promise(et=>setTimeout(et,300)))}catch(V){V.code===4001?alert("User rejected the connection request"):(console.error("Error connecting wallet:",V),alert(`Failed to connect: ${V.message||"Unknown error"}`))}},Z=()=>{if(!c)throw new Error("No operation selected");const J=o_[c],xe={action:J.action};return(c==="cancelOrder"||c==="changeLeverage"||c==="changeMarginRatio"||c==="internTransfer")&&(xe.address=m),J.fields.forEach(ge=>{const V=d[ge.key];if(V===void 0||V===""){if(ge.required)throw new Error(`${ge.label} is required`);return}let we=V;ge.convertToSatoshi&&ge.type==="number"&&(we=_n(parseFloat(V))),c==="bucketTransfer"&&ge.key==="assetId"||(c==="extractToBucket"||c==="withdrawFromBucket"||c==="bankMint"||c==="bankTransfer")&&ge.key==="assetId"?xe.asset=we:c==="closePosition"?ge.key==="quantity"?xe.closeSize=we:ge.key==="marketPrice"?xe.marketPrice=we:xe[ge.key]=we:c==="placeOrder"?ge.key==="side"?xe.side=V.toUpperCase():ge.key==="orderType"?xe.orderType=V.toUpperCase():xe[ge.key]=we:xe[ge.key]=we}),xe},G=J=>{const xe={name:"Morpheum",version:"1",chainId:l,verifyingContract:"0x0000000000000000000000000000000000000000"},ge={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Message:[]};Object.keys(J).forEach(we=>{we==="action"?ge.Message.push({name:"action",type:"string"}):we==="owner"?ge.Message.push({name:"owner",type:"address"}):we==="nonce"?ge.Message.push({name:"nonce",type:"string"}):we==="deadline"?ge.Message.push({name:"deadline",type:"uint256"}):we==="address"?ge.Message.push({name:"address",type:"address"}):typeof J[we]=="string"&&J[we].startsWith("0x")?ge.Message.push({name:we,type:"address"}):typeof J[we]=="number"||/^\d+$/.test(J[we])?ge.Message.push({name:we,type:"uint256"}):ge.Message.push({name:we,type:"string"})});const V={};return Object.keys(J).forEach(we=>{we==="owner"||we==="address"||we.startsWith("0x")&&we.length===42?V[we]=J[we].toLowerCase():V[we]=J[we]}),{domain:xe,types:ge,primaryType:"Message",message:V}},X=async()=>{if(!f.trim())throw new Error("Mnemonic is required for WASM signing");const J=m0.fromPhrase(f.trim(),"","m/44'/60'/0'/0/0");if(J.address.toLowerCase()!==m.toLowerCase())throw new Error(`Address mismatch: derived ${J.address} does not match ${m}`);const xe=BigInt(J.privateKey),ge=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(xe===0n||xe>=ge)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const we=xe.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(we))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return we},ae=async()=>{var J,xe;if(!c){alert("Please select an operation first");return}if(!m){alert("Please set owner address");return}if(!y){alert("Please generate nonce");return}if(!w){alert("Please generate deadline");return}M(!0),E(null);try{const ge=Z();ge.owner=m.toLowerCase(),ge.nonce=y,ge.deadline=w;const V=G(ge),we=await a({domain:V.domain,types:V.types,primaryType:V.primaryType,message:V.message});E({success:!0,signature:we,typedData:{payload:ge,typedData:V}})}catch(ge){ge.code===4001||(J=ge.message)!=null&&J.includes("User rejected")||(xe=ge.message)!=null&&xe.includes("rejected")?E({success:!1,error:"User rejected the signature request"}):(console.error("Error signing:",ge),E({success:!1,error:ge.message||"Unknown error during signing"}))}finally{M(!1)}},be=async()=>{if(!c){alert("Please select an operation first");return}if(!m){alert("Please set owner address");return}if(!y){alert("Please generate nonce");return}if(!w){alert("Please generate deadline");return}if(!f.trim()){alert("Please enter mnemonic for WASM signing");return}if(!jt.isReady())try{if(await jt.initialize(),!jt.isReady()){alert("WASM module failed to initialize");return}}catch(J){alert(`Failed to initialize WASM: ${J.message||"Unknown error"}`);return}O(!0),E(null);try{const J=Z();J.owner=m.toLowerCase(),J.nonce=y,J.deadline=w;const xe=await X(),ge=Math.floor(Date.now()/1e3),V=parseInt(w,10),we={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:ge,payload:J,deadline:V},ze=await jt.generateSingleSignature(JSON.stringify(we),xe,m.toLowerCase());if(!ze.success||!ze.signature)throw new Error(ze.error||"Failed to generate signature");const et=G(J);E({success:!0,signature:ze.signature,typedData:{payload:J,typedData:et,eip712Tx:we}})}catch(J){console.error("Error signing with WASM:",J),E({success:!1,error:J.message||"Unknown error during WASM signing"})}finally{O(!1)}},le=c?o_[c]:null;return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Functional Signer"}),g.jsx("p",{children:"Sign EIP-712 messages for Morpheum protocol operations"}),g.jsxs("div",{className:`agent-delegation-step ${c?"connected":""}`,children:[g.jsxs("h4",{children:["Step 1: Select Operation ",c&&""]}),c?g.jsxs("div",{children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"Selected:"})," ",le==null?void 0:le.label]}),g.jsx("button",{className:"button secondary",onClick:()=>{u(null),h({}),E(null)},children:"Change Operation"})]}):g.jsx("div",{className:"agent-delegation-wallet-buttons",children:Object.entries(o_).map(([J,xe])=>g.jsx("button",{className:"button",onClick:()=>u(J),children:xe.label},J))})]}),c?g.jsxs("div",{className:`agent-delegation-step ${m&&y&&w?"connected":""}`,children:[g.jsxs("h4",{children:["Step 2: Configure Parameters"," ",m&&y&&w&&""]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"walletConnection",children:"Wallet Connection:"}),R?g.jsxs("div",{className:"agent-delegation-connected-info",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Connected:"})," ",j||"Wallet",m&&g.jsxs("div",{className:"agent-delegation-address",children:["Address: ",m]})]}),g.jsx("button",{className:"button secondary",onClick:()=>{i(),k([]),b("")},children:"Disconnect"})]}):g.jsxs("div",{children:[g.jsx("button",{className:"button",onClick:Y,disabled:r||!D,children:r?"Connecting...":"Connect Wallet"}),x.length>0&&!m&&g.jsxs("div",{style:{marginTop:"1rem"},children:[g.jsx("label",{children:"Select Address:"}),x.map(J=>g.jsx("button",{className:"button secondary",onClick:()=>b(J),style:{display:"block",marginTop:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem"},children:J},J))]})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic (for address generation):"}),g.jsx("textarea",{id:"mnemonic",value:f,onChange:J=>p(J.target.value),placeholder:"Enter mnemonic to generate address...",rows:2}),g.jsx("button",{className:"button secondary",onClick:K,style:{marginTop:"0.5rem"},children:"Generate Address from Mnemonic"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"ownerAddress",children:"Owner Address:"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"ownerAddress",type:"text",value:m,onChange:J=>b(J.target.value),placeholder:"0x...",style:{flex:1}}),g.jsx("button",{className:"button secondary",onClick:K,disabled:!f.trim(),children:"Generate"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"nonce",children:"Nonce:"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"nonce",type:"text",value:y,onChange:J=>v(J.target.value),placeholder:"Auto-generated timestamp"}),g.jsx("button",{className:"button secondary",onClick:U,children:"Generate"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"deadline",children:"Deadline (Unix timestamp):"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"deadline",type:"text",value:w,onChange:J=>_(J.target.value),placeholder:"Auto-generated (1 hour from now)"}),g.jsx("button",{className:"button secondary",onClick:H,children:"Generate"})]})]}),le&&g.jsxs(g.Fragment,{children:[g.jsx("h5",{style:{marginTop:"1.5rem",marginBottom:"1rem"},children:"Operation Parameters:"}),le.fields.map(J=>{var xe;return g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:J.key,children:[J.label,J.required&&" *"]}),J.type==="select"?g.jsxs("select",{id:J.key,value:d[J.key]||"",onChange:ge=>h({...d,[J.key]:ge.target.value}),children:[g.jsxs("option",{value:"",children:["Select ",J.label]}),(xe=J.options)==null?void 0:xe.map(ge=>g.jsx("option",{value:ge,children:ge},ge))]}):g.jsx("input",{id:J.key,type:J.type,value:d[J.key]||"",onChange:ge=>h({...d,[J.key]:ge.target.value}),placeholder:J.placeholder}),J.convertToSatoshi&&g.jsx("small",{className:"agent-delegation-small-text",children:"Will be converted to satoshi format"})]},J.key)})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 2: Configure Parameters"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please select an operation in Step 1 to continue."})]}),c&&m&&y&&w?g.jsxs("div",{className:"agent-delegation-step",children:[g.jsx("h4",{children:"Step 3: Sign Message"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[g.jsx("button",{className:"button",onClick:ae,disabled:T||I||!m||!y||!w||((le==null?void 0:le.fields.some(J=>J.required&&!d[J.key]))??!1),children:T?"Signing...":"Sign from Owner"}),g.jsx("button",{className:"button",onClick:be,disabled:T||I||!m||!y||!w||!f.trim()||((le==null?void 0:le.fields.some(J=>J.required&&!d[J.key]))??!1),children:I?"Signing...":"Sign by Agent"})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 3: Sign Message"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 2 to continue."})]}),C&&g.jsx("div",{className:`output ${C.success?"success":"error"}`,children:C.success?g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Signature:"}),g.jsx("br",{}),C.signature,g.jsx("br",{}),g.jsx("br",{}),C.typedData&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Payload & Typed Data:"}),g.jsx("br",{}),g.jsx("pre",{className:"agent-delegation-pre",children:JSON.stringify(C.typedData,null,2)})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),C.error]})})]})}function Y7e(){var Qn,ln,qs,ui,wo,oa,Rr,di,Hs,Mp,Op,Ya,Cn,Xl,_u,Ql,ku,Dp,Rp,Jn,Kr,Nr,Np,Su,uh,dh,hh,fh,Cu,jp,Ka,Jl,Eu,aa,ps,Bp,Lt,xo,_o,Au,Tu,hr,Lp,Pu,Fp,Pe,Ct,Jt,Vs,Xa;const n=yu(),{ownerAddress:e,setOwnerAddress:r,agentAddress:i,setAgentAddress:s,agentPrivateKey:o,expiresInDays:a,setExpiresInDays:l,permissions:c,setPermissions:u,agentName:d,setAgentName:h,nonce:f,setNonce:p,result:m,loading:b,generateAgentKeypair:y,clearAgentCredentials:v,isMetaMaskConnected:w,isPhantomConnected:_,isOneKeyConnected:x,isOKXConnected:k,isBinanceConnected:C,isBitgetConnected:E,isRainbowConnected:T,isReady:M}=f7e(n),{connect:I,connectors:O,isPending:F}=f7(),{disconnect:$}=dx(),{address:z,isConnected:D}=Ci(),{signTypedDataAsync:j}=p7(),N=ux(),[R,H]=A.useState([]),[U,K]=A.useState("ethereum"),[Y,Z]=A.useState(null),[G,X]=A.useState(!1),[ae,be]=A.useState(!1),le=async()=>{const Ee=z||e;if(!Ee||!i)throw new Error("Owner and agent addresses are required");const Ge=c.split(",").map(Nt=>Nt.trim()).filter(Nt=>Nt.length>0),qe=Math.floor(Date.now()/1e3)+a*24*60*60;if(jt.isReady())try{const Nt={owner:Ee.toLowerCase(),agent:i.toLowerCase(),expiresInDays:a,permissions:Ge,nonce:f||Date.now().toString(),agentName:d||""},qt=await jt.prepareAgentSign(Nt);if(qt.success&&qt.typedData&&qt.typedData.domain&&qt.typedData.types&&qt.typedData.message)return{domain:qt.typedData.domain,types:qt.typedData.types,primaryType:"AgentApproval",message:qt.typedData.message}}catch(Nt){console.warn("Failed to use mormSigner.prepareAgentSign, falling back to manual preparation:",Nt)}const Ze={name:"Morpheum",version:"",chainId:N,verifyingContract:"0x0000000000000000000000000000000000000000"},Le={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],AgentApproval:[{name:"owner",type:"address"},{name:"agent",type:"address"},{name:"agentName",type:"string"},{name:"expiresInDays",type:"uint256"},{name:"permissions",type:"string[]"},{name:"nonce",type:"string"},{name:"deadline",type:"uint256"}]},At={owner:Ee.toLowerCase(),agent:i.toLowerCase(),agentName:d||"",expiresInDays:a,permissions:Ge,nonce:f||Date.now().toString(),deadline:qe};return{domain:Ze,types:Le,primaryType:"AgentApproval",message:At}},J=async()=>{var Ge,qe,Ze,Le,At,Nt,qt,ar,hi,kn,Xr,Fr,Qa;const Ee=z||e;if(!Ee||!i){Z({success:!1,error:"Owner and agent addresses are required"});return}X(!0),Z(null);try{const _r=U==="ethereum"&&x&&pt||U==="solana"&&Te&&lt&&((Ge=fa())==null?void 0:Ge.isConnected)||U==="bitcoin"&&Se&&Ye,ms=U==="ethereum"&&k&&UW()||U==="solana"&&Te&&nd()&&((qe=Bo())==null?void 0:qe.isConnected)||U==="bitcoin"&&Se&&xa();if(ms&&U==="ethereum"&&ZR()){const Qe=await le(),Xt=await Fje(Qe.domain,Qe.types,Qe.message,Ee);Z({success:!0,signature:Xt.signature,typedData:Qe})}else if(_r&&U==="ethereum"&&pt){const Qe=await le(),Xt=await Kje(Qe.domain,Qe.types,Qe.message,Ee);Z({success:!0,signature:Xt.signature,typedData:Qe})}else if(_r&&U==="solana"&&lt){const Qe=await le(),Xt=fa();if(!Xt)throw new Error("OneKey Solana provider not found");const fr=c.split(",").map(kr=>kr.trim()).filter(kr=>kr.length>0),fn=Math.floor(Date.now()/1e3)+a*24*60*60,Ui={action:"AgentApproval",owner:Qe.message.owner||Ee,agent:Qe.message.agent||i,expiresInDays:Qe.message.expiresInDays||a,permissions:Qe.message.permissions||fr,nonce:Qe.message.nonce||f||Date.now().toString(),agentName:Qe.message.agentName||d||"",deadline:((Ze=Qe.message.deadline)==null?void 0:Ze.toString())||fn.toString()},Wi=await bje(Xt,Ui);Z({success:!0,signature:Wi.signature,typedData:Qe})}else if(ms&&U==="solana"&&nd()){const Qe=await le(),Xt=JSON.stringify(Qe.message),fr=await zje(Xt);Z({success:!0,signature:fr.signature,typedData:Qe})}else if(U==="solana"&&Te&&JR()&&((Le=ol())!=null&&Le.isConnected)){const Qe=await le(),Xt=ol();if(!Xt)throw new Error("Bitget Solana provider not found");const fr=c.split(",").map(kr=>kr.trim()).filter(kr=>kr.length>0),fn=Math.floor(Date.now()/1e3)+a*24*60*60,Ui={action:"AgentApproval",owner:Qe.message.owner||Ee,agent:Qe.message.agent||i,expiresInDays:Qe.message.expiresInDays||a,permissions:Qe.message.permissions||fr,nonce:Qe.message.nonce||f||Date.now().toString(),agentName:Qe.message.agentName||d||"",deadline:((At=Qe.message.deadline)==null?void 0:At.toString())||fn.toString()},Wi=await wje(Xt,Ui);Z({success:!0,signature:Wi.signature,typedData:Qe})}else if(U==="solana"&&Te&&FW()&&((Nt=ky())!=null&&Nt.isConnected)){const Qe=await le(),Xt=ky();if(!Xt)throw new Error("TokenPocket Solana provider not found");const fr=c.split(",").map(kr=>kr.trim()).filter(kr=>kr.length>0),fn=Math.floor(Date.now()/1e3)+a*24*60*60,Ui={action:"AgentApproval",owner:Qe.message.owner||Ee,agent:Qe.message.agent||i,expiresInDays:Qe.message.expiresInDays||a,permissions:Qe.message.permissions||fr,nonce:Qe.message.nonce||f||Date.now().toString(),agentName:Qe.message.agentName||d||"",deadline:((qt=Qe.message.deadline)==null?void 0:qt.toString())||fn.toString()},Wi=await _je(Xt,Ui);Z({success:!0,signature:Wi.signature,typedData:Qe})}else if(U==="solana"&&Te&&Rh()&&((ar=bs())!=null&&ar.isConnected)){const Qe=await le(),Xt=bs();if(!Xt)throw new Error("Binance Solana provider not found");const fr=c.split(",").map(kr=>kr.trim()).filter(kr=>kr.length>0),fn=Math.floor(Date.now()/1e3)+a*24*60*60,Ui={action:"AgentApproval",owner:Qe.message.owner||Ee,agent:Qe.message.agent||i,expiresInDays:Qe.message.expiresInDays||a,permissions:Qe.message.permissions||fr,nonce:Qe.message.nonce||f||Date.now().toString(),agentName:Qe.message.agentName||d||"",deadline:((hi=Qe.message.deadline)==null?void 0:hi.toString())||fn.toString()},Wi=await Eje(Xt,Ui);Z({success:!0,signature:Wi.signature,typedData:Qe})}else if(_r&&U==="bitcoin"&&Ye){const Qe=await le(),Xt=JSON.stringify(Qe.message);if(!Ee)throw new Error("Owner address is required for Bitcoin signing");const fr=await Qje(Xt,Ee,"ecdsa");Z({success:!0,signature:fr.signature,typedData:Qe})}else if(U==="bitcoin"&&Se&&xa()){const Qe=await le(),Xt=JSON.stringify(Qe.message);if(!Ee)throw new Error("Owner address is required for Bitcoin signing");const fr=await Uje(Xt,Ee);Z({success:!0,signature:fr.signature,typedData:Qe})}else if(U==="ethereum"&&we&&D){const Qe=await le(),Xt=await j({domain:Qe.domain,types:Qe.types,primaryType:Qe.primaryType,message:Qe.message});Z({success:!0,signature:Xt,typedData:Qe})}else if(U==="ethereum"&&et&&D){const Qe=await le(),Xt=await j({domain:Qe.domain,types:Qe.types,primaryType:Qe.primaryType,message:Qe.message});Z({success:!0,signature:Xt,typedData:Qe})}else if(U==="solana"&&Te&&$e&&((kn=Nh())!=null&&kn.isConnected)){const Qe=await le(),Xt=Nh();if(!Xt)throw new Error("Coinbase Wallet Solana provider not found");const fr=c.split(",").map(kr=>kr.trim()).filter(kr=>kr.length>0),fn=Math.floor(Date.now()/1e3)+a*24*60*60,Ui={action:"AgentApproval",owner:Qe.message.owner||Ee,agent:Qe.message.agent||i,expiresInDays:Qe.message.expiresInDays||a,permissions:Qe.message.permissions||fr,nonce:Qe.message.nonce||f||Date.now().toString(),agentName:Qe.message.agentName||d||"",deadline:((Xr=Qe.message.deadline)==null?void 0:Xr.toString())||fn.toString()},Wi=await Cje(Xt,Ui);Z({success:!0,signature:Wi.signature,typedData:Qe})}else{const Qe=await le(),Xt=await j({domain:Qe.domain,types:Qe.types,primaryType:Qe.primaryType,message:Qe.message});Z({success:!0,signature:Xt,typedData:Qe})}}catch(Yt){Yt.code===4001||(Fr=Yt.message)!=null&&Fr.includes("User rejected")||(Qa=Yt.message)!=null&&Qa.includes("rejected")?Z({success:!1,error:"User rejected the signature request"}):(console.error("Error signing:",Yt),Z({success:!1,error:Yt.message||"Unknown error during signing"}))}finally{X(!1)}},xe=uu(),ge=Dl(),V=Kc(),we=spe(),ze=ope(),et=Xc(),$e=ape(),mt=typeof window<"u"&&((Qn=window.ethereum)==null?void 0:Qn.isRainbow)===!0,Ue=typeof window<"u"&&(!!((ln=window.phantom)!=null&&ln.ethereum)||!!((qs=window.ethereum)!=null&&qs.isPhantom))&&!(window.$onekey||(ui=window.ethereum)!=null&&ui.isOneKey),Ke=typeof window<"u"&&(!!((wo=window.$onekey)!=null&&wo.ethereum)||!!((oa=window.ethereum)!=null&&oa.isOneKey)||!!window.$onekey),pt=Gje(),lt=e4(),Ye=tpe(),We=typeof window<"u"&&(!!((Rr=window.okxwallet)!=null&&Rr.ethereum)||!!((di=window.ethereum)!=null&&di.isOKX)),[Ae,W]=A.useState(()=>{var Ge;if(typeof window>"u")return!1;if(((Ge=window.binancew3w)==null?void 0:Ge.isExtension)===!0||window.BinanceChain)return!0;const Ee=window.ethereum;if(Ee!=null&&Ee.isBinance)return!0;if(Ee){const qe=Ee.providerName||Ee.name;if(typeof qe=="string"&&qe.toLowerCase().includes("binance"))return!0}return!!(Ee!=null&&Ee._postMessageToMp&&typeof Ee._postMessageToMp=="function"&&(Ee==null?void 0:Ee.namespace)==="eip155"||Rh())});A.useEffect(()=>{if(Ae)return;let Ee=!0;return n3(3e3,100).then(Ge=>{Ee&&Ge&&W(!0)}),()=>{Ee=!1}},[Ae]);const de=O.find(Ee=>{var Ge;return Ee.id==="injected"||Ee.type==="injected"||((Ge=Ee.name)==null?void 0:Ge.toLowerCase().includes("injected"))});A.useEffect(()=>{var Ge,qe,Ze,Le,At,Nt,qt,ar,hi,kn,Xr,Fr,Qa,Yt,_r;console.log("[Wallet Debug] Component mounted/updated"),console.log("[Wallet Debug] Window object:",typeof window<"u"?"available":"undefined"),console.log("[Wallet Debug] window.phantom:",window.phantom),console.log("[Wallet Debug] window.ethereum:",window.ethereum),console.log("[Wallet Debug] window.ethereum?.isMetaMask:",(Ge=window.ethereum)==null?void 0:Ge.isMetaMask),console.log("[Wallet Debug] window.ethereum?.isPhantom:",(qe=window.ethereum)==null?void 0:qe.isPhantom),console.log("[Wallet Debug] window.ethereum?.isOneKey:",(Ze=window.ethereum)==null?void 0:Ze.isOneKey),console.log("[Wallet Debug] window.ethereum?.isOKX:",(Le=window.ethereum)==null?void 0:Le.isOKX),console.log("[Wallet Debug] window.ethereum?.isBinance:",(At=window.ethereum)==null?void 0:At.isBinance),console.log("[Wallet Debug] window.binancew3w:",window.binancew3w),console.log("[Wallet Debug] window.binancew3w?.isExtension:",(Nt=window.binancew3w)==null?void 0:Nt.isExtension),console.log("[Wallet Debug] window.ethereum?.chainId:",(qt=window.ethereum)==null?void 0:qt.chainId),console.log("[Wallet Debug] window.ethereum?.networkVersion:",(ar=window.ethereum)==null?void 0:ar.networkVersion);const Ee=window.ethereum;Ee&&(console.log("[Wallet Debug] window.ethereum.providerName:",Ee.providerName||Ee.name),console.log("[Wallet Debug] window.ethereum keys:",Object.keys(Ee).filter(ko=>ko.toLowerCase().includes("binance")||ko.toLowerCase().includes("bnb")||ko==="_postMessageToMp"||ko==="_requestNormalConnect"||ko==="namespace"||ko==="providerName"||ko==="name")),console.log("[Wallet Debug] window.ethereum.namespace:",Ee.namespace),console.log("[Wallet Debug] window.ethereum._postMessageToMp:",typeof Ee._postMessageToMp)),console.log("[Wallet Debug] window.BinanceChain:",window.BinanceChain),console.log("[Wallet Debug] window.BinanceChain?.solana:",(hi=window.BinanceChain)==null?void 0:hi.solana),console.log("[Wallet Debug] window.solana:",window.solana),console.log("[Wallet Debug] window.solana?.isBinance:",(kn=window.solana)==null?void 0:kn.isBinance),console.log("[Wallet Debug] window.solana?.name:",(Xr=window.solana)==null?void 0:Xr.name),console.log("[Wallet Debug] window.binancew3w?.solana:",(Fr=window.binancew3w)==null?void 0:Fr.solana),console.log("[Wallet Debug] window.ethereum?.solana:",(Qa=window.ethereum)==null?void 0:Qa.solana),console.log("[Wallet Debug] isBinanceSolanaAvailable():",Rh()),console.log("[Wallet Debug] window.$onekey:",window.$onekey),console.log("[Wallet Debug] window.okxwallet:",window.okxwallet),console.log("[Wallet Debug] window.okxwallet?.ethereum:",(Yt=window.okxwallet)==null?void 0:Yt.ethereum),console.log("[Wallet Debug] window.okxwallet?.bitcoin:",(_r=window.okxwallet)==null?void 0:_r.bitcoin),console.log("[Wallet Debug] window.unisat:",window.unisat),console.log("[Wallet Debug] window.BitcoinProvider:",window.BitcoinProvider),console.log("[Wallet Debug] window.XverseProvider:",window.XverseProvider),console.log("[Wallet Debug] isPhantomAvailable:",Ue),console.log("[Wallet Debug] isOneKeyAvailable:",Ke),console.log("[Wallet Debug] isOKXEthereumAvailable:",We),console.log("[Wallet Debug] isBinanceAvailable:",Ae),console.log("[Wallet Debug] isBitcoinWalletAvailable():",Dc()),console.log("[Wallet Debug] isOKXWalletInstalled():",Qp()),console.log("[Wallet Debug] All connectors:",O),console.log("[Wallet Debug] Injected connector:",de),console.log("[Wallet Debug] Injected connector ID:",de==null?void 0:de.id),console.log("[Wallet Debug] Injected connector name:",de==null?void 0:de.name),console.log("[Wallet Debug] isConnecting:",F)},[O,de,Ue,Ke,We,Ae,F]);const me=e&&z&&e.toLowerCase()===z.toLowerCase();let oe=null;if(typeof window<"u")if((Hs=window.$onekey)!=null&&Hs.ethereum||(Mp=window.ethereum)!=null&&Mp.isOneKey||window.$onekey)oe="OneKey";else if((Op=window.phantom)!=null&&Op.ethereum||(Ya=window.ethereum)!=null&&Ya.isPhantom)oe="Phantom";else{const Ee=!!((Cn=window.okxwallet)!=null&&Cn.solana),Ge=!!((Xl=window.okxwallet)!=null&&Xl.bitcoin);Ee&&Ge&&window.ethereum||(_u=window.okxwallet)!=null&&_u.ethereum||(Ql=window.ethereum)!=null&&Ql.isOKX||window.okxwallet?oe="OKX":Dl()?oe="Bitget":Kc()?oe="TokenPocket":Xc()?oe="Coinbase Wallet":((ku=window.ethereum)==null?void 0:ku.isRainbow)===!0?oe="Rainbow":window.BinanceChain||(Dp=window.ethereum)!=null&&Dp.isBinance?oe="Binance":uu()&&(oe="MetaMask")}const pe=w||D&&me&&oe==="MetaMask"||e&&oe==="MetaMask"&&xe,ve=_||D&&me&&oe==="Phantom"||e&&oe==="Phantom"&&Ue,ee=x||D&&me&&oe==="OneKey"||e&&oe==="OneKey"&&Ke,ue=k||D&&me&&oe==="OKX"||e&&oe==="OKX"&&We,ce=C||D&&me&&oe==="Binance"||e&&oe==="Binance"&&Ae,Ce=E||D&&me&&oe==="Bitget"||e&&oe==="Bitget"&&ge,Me=T||D&&me&&oe==="Rainbow"||e&&oe==="Rainbow"&&mt,he=pe||ve||ee||ue||ce||Ce||Me,Te=(()=>{var Nt,qt,ar,hi;if(U!=="solana")return!1;const Ee=fa();if(Ee&&Ee.isConnected&&Ee.publicKey){const kn=Ee.publicKey.toString();if(e===kn)return!0}const Ge=Bo();if(Ge&&Ge.isConnected&&Ge.publicKey){const kn=(Nt=Ge.publicKey)==null?void 0:Nt.toString();if(kn&&e===kn)return!0}const qe=bs();if(qe&&qe.isConnected&&qe.publicKey){const kn=(qt=qe.publicKey)==null?void 0:qt.toString();if(kn&&e===kn)return!0}const Ze=ol();if(Ze&&Ze.isConnected&&Ze.publicKey){const kn=(ar=Ze.publicKey)==null?void 0:ar.toString();if(kn&&e===kn)return!0}const Le=Nh();if(Le&&Le.isConnected&&Le.publicKey){const kn=(hi=Le.publicKey)==null?void 0:hi.toString();if(kn&&e===kn)return!0}const At=Bc();if(At&&At.isConnected&&At.publicKey){const kn=At.publicKey.toString();if(e===kn)return!0}if(e&&R.length>0){const kn=!e.startsWith("0x")&&e.length>=32&&e.length<=44,Xr=R.some(Fr=>Fr===e);if(kn&&Xr)return!0}return!1})(),Se=U!=="bitcoin"||!e||!/^(bc1|[13]|[mn2])[a-zA-HJ-NP-Z0-9]{25,62}$/.test(e)?!1:sd()!==null&&Dc(),ie=(()=>{if(U!=="ethereum")return!1;if(D&&z)return!0;if(e&&R.length>0){const Ee=e.startsWith("0x")||e.startsWith("0X"),Ge=R.some(qe=>qe.toLowerCase()===e.toLowerCase());return Ee&&Ge}return!1})(),re=ie||Te||Se,se=(()=>{var Ee,Ge,qe,Ze;if(Te){const Le=fa();if(Le&&Le.isConnected&&e&&((Ee=Le.publicKey)==null?void 0:Ee.toString())===e)return"OneKey (Solana)";console.log("OKX Solana is checking");const At=Bo();if(At&&At.isConnected&&e&&((Ge=At.publicKey)==null?void 0:Ge.toString())===e)return"OKX (Solana)";console.log("Binance Solana is checking");const Nt=bs();if(Nt&&Nt.isConnected&&e&&((qe=Nt.publicKey)==null?void 0:qe.toString())===e)return"Binance (Solana)";console.log("Coinbase Wallet Solana is checking");const qt=Nh();return qt&&qt.isConnected&&e&&((Ze=qt.publicKey)==null?void 0:Ze.toString())===e?"Coinbase Wallet (Solana)":"Phantom (Solana)"}if(Se){const Le=sd();return Le?`${Le.name} (Bitcoin)`:"Bitcoin Wallet"}if(ie){if(ee||oe==="OneKey"&&Ke)return"OneKey";if(ue)return"OKX (Ethereum)";if(Ce)return"Bitget";if(Me)return"Rainbow";if(ce)return"Binance";if(pe)return"MetaMask";if(ve)return"Phantom (Ethereum)"}return null})(),tt=R.length>0||re,Re=z||(ie&&e?e:null),He=re&&(Re||(Te||Se)&&e)&&i;A.useEffect(()=>{if(i&&o)try{if(sessionStorage.getItem("agent_delegation_address")===i){be(!0);const Ge=setTimeout(()=>be(!1),5e3);return()=>clearTimeout(Ge)}}catch(Ee){console.warn("Failed to check sessionStorage:",Ee)}},[i,o]);const Oe=A.useRef(void 0);A.useEffect(()=>{if(U==="ethereum")if(D&&z){if(Oe.current!==z){const Ee=(e==null?void 0:e.toLowerCase())||"",Ge=z.toLowerCase();Ee!==Ge&&(console.log("[Connection Sync] Updating ownerAddress to match wagmiAddress:",z),r(z)),Oe.current=z}}else D&&!z&&e&&R.length>0?R.find(Ge=>Ge.toLowerCase()===e.toLowerCase())&&console.log("[Connection Sync] Wagmi connected but no address yet, keeping ownerAddress:",e):D||(Oe.current=void 0)},[D,z,r,U]);const Xe=A.useRef(D);A.useEffect(()=>{const Ee=Xe.current;U==="ethereum"&&Ee&&!D&&R.length>0&&R.some(Ze=>Ze.startsWith("0x")||Ze.startsWith("0X"))&&(H([]),e&&(e.startsWith("0x")||e.startsWith("0X"))&&r("")),Xe.current=D},[D,U]),q7e({onDisconnect:Ee=>{if(console.warn(`[Wallet Disconnect] ${Ee.walletName} ${Ee.chainType} wallet disconnected:`,Ee.reason),Ee.chainType==="ethereum"&&U==="ethereum"||Ee.chainType==="solana"&&U==="solana"||Ee.chainType==="bitcoin"&&U==="bitcoin"){H([]),r("");const qe=Ee.walletName==="OKX"?"OKX Wallet":Ee.walletName==="Phantom"?"Phantom Wallet":Ee.walletName==="OneKey"?"OneKey Wallet":Ee.walletName==="Binance"?"Binance Wallet":Ee.walletName==="MetaMask"?"MetaMask":"Wallet",Ze=Ee.reason?`

Reason: ${Ee.reason}`:"";alert(`${qe} has disconnected from the ${Ee.chainType} network.${Ze}

Please reconnect your wallet to continue.`)}},enableOKX:!0,enablePhantom:!0,enableOneKey:!0,enableEthereum:!0});const dt=A.useRef({wagmiIsConnected:!1,wagmiAddress:void 0,ownerAddress:"",connectionChainType:"",availableAddressesLength:0});A.useEffect(()=>{const Ee=dt.current;(Ee.wagmiIsConnected!==D||Ee.wagmiAddress!==z||Ee.ownerAddress!==e||Ee.connectionChainType!==U||Ee.availableAddressesLength!==R.length)&&(console.log("[Connection Debug] wagmiIsConnected:",D),console.log("[Connection Debug] wagmiAddress:",z),console.log("[Connection Debug] ownerAddress:",e),console.log("[Connection Debug] connectionChainType:",U),console.log("[Connection Debug] availableAddresses:",R),console.log("[Connection Debug] isPhantomConnected (hook):",_),console.log("[Connection Debug] isMetaMaskConnected (hook):",w),console.log("[Connection Debug] isOneKeyConnected (hook):",x),console.log("[Connection Debug] isOKXConnected (hook):",k),console.log("[Connection Debug] isBinanceConnected (hook):",C),console.log("[Connection Debug] isBitgetConnected (hook):",E),console.log("[Connection Debug] isRainbowConnected (hook):",T),console.log("[Connection Debug] detectedWallet:",oe),console.log("[Connection Debug] hasMatchingAddress:",me),console.log("[Connection Debug] isPhantomConnectedEnhanced:",ve),console.log("[Connection Debug] isWalletConnected:",he),console.log("[Connection Debug] isSolanaConnected:",Te),console.log("[Connection Debug] isBitcoinConnected:",Se),console.log("[Connection Debug] isEthereumConnected:",ie),console.log("[Connection Debug] hasWalletExtensionConnection:",re),console.log("[Connection Debug] hasWalletConnection:",tt),dt.current={wagmiIsConnected:D,wagmiAddress:z,ownerAddress:e||"",connectionChainType:U,availableAddressesLength:R.length})},[D,z,e,U,R.length,_,w,x,k,C,E]);const Ve=async()=>{if(!xe){alert("MetaMask wallet is not installed. Please install MetaMask wallet extension.");return}try{const Ee=window.ethereum;if(Ee){const Ge=await Ee.request({method:"eth_requestAccounts"});if(Ge&&Ge.length>0){const qe=Ge.filter(Ze=>Ze&&typeof Ze=="string"&&Ze.trim().length>0);qe.length>0&&(H(qe),qe.length===1&&r(qe[0]))}}de?(await I({connector:de}),await new Promise(Ge=>setTimeout(Ge,300))):alert("MetaMask connector not found. Please ensure MetaMask wallet is installed.")}catch(Ee){Ee.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to MetaMask:",Ee),alert(`Failed to connect to MetaMask: ${Ee.message||"Unknown error"}`))}},ot=async()=>{var Ee,Ge,qe,Ze,Le,At,Nt,qt,ar,hi,kn,Xr,Fr,Qa;if(console.log("[Phantom Debug] Starting connection process..."),console.log("[Phantom Debug] Connection chain type:",U),console.log("[Phantom Debug] isPhantomAvailable:",Ue),console.log("[Phantom Debug] window.phantom:",window.phantom),console.log("[Phantom Debug] window.ethereum:",window.ethereum),console.log("[Phantom Debug] window.ethereum?.isPhantom:",(Ee=window.ethereum)==null?void 0:Ee.isPhantom),U==="solana"){try{if(!ig()){alert("Phantom Solana wallet is not available. Please ensure Phantom wallet is installed and unlocked.");return}console.log("[Phantom Debug] Connecting to Solana...");const Yt=await m9();if(console.log("[Phantom Debug] Solana address received:",Yt),Yt&&typeof Yt=="string"){H([Yt]),r(Yt),console.log("[Phantom Debug] Solana connection successful"),console.log("[Phantom Debug] Solana address set:",Yt),console.log("[Phantom Debug] availableAddresses set:",[Yt]);const _r=Bc();console.log("[Phantom Debug] Solana provider state:",{exists:!!_r,isConnected:_r==null?void 0:_r.isConnected,publicKey:(Ge=_r==null?void 0:_r.publicKey)==null?void 0:Ge.toString()})}}catch(Yt){console.error("[Phantom Debug] Solana connection error:",Yt),Yt.code===4001||(qe=Yt.message)!=null&&qe.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Phantom Solana: ${Yt.message||"Unknown error"}`)}return}if(!Ue){console.error("[Phantom Debug] Phantom wallet not available"),alert("Phantom wallet is not installed. Please install Phantom wallet extension.");return}try{let Yt=(Ze=window.phantom)==null?void 0:Ze.ethereum;console.log("[Phantom Debug] phantomProvider (window.phantom.ethereum):",Yt);const _r=!!((Le=window.phantom)!=null&&Le.solana)||!!window.solana,ko=!!((At=window.phantom)!=null&&At.ethereum)||!!((Nt=window.ethereum)!=null&&Nt.isPhantom);if(window.phantom&&!Yt&&!((qt=window.ethereum)!=null&&qt.isPhantom)&&(console.warn("[Phantom Debug] Phantom detected but Ethereum provider not available"),console.warn("[Phantom Debug] Phantom might be in Solana mode"),_r&&!ko)){alert(`Phantom wallet is currently in Solana mode. Please switch to Ethereum mode in your Phantom wallet extension to connect.

To switch:
1. Open your Phantom wallet extension
2. Click on the network selector (top of the wallet)
3. Switch from Solana to Ethereum
4. Then try connecting again.`);return}if(!Yt&&window.phantom){const Qe=window.phantom;typeof Qe.request=="function"&&(Yt=Qe,console.log("[Phantom Debug] Using window.phantom as provider"))}if(!Yt&&((ar=window.ethereum)!=null&&ar.isPhantom)&&(Yt=window.ethereum,console.log("[Phantom Debug] Using window.ethereum as provider (isPhantom=true)")),!Yt){console.error("[Phantom Debug] No valid Phantom provider found"),console.error("[Phantom Debug] Available providers:",{hasWindowPhantom:!!window.phantom,hasPhantomEthereum:!!((hi=window.phantom)!=null&&hi.ethereum),hasPhantomSolana:_r,phantomHasRequest:typeof((kn=window.phantom)==null?void 0:kn.request)=="function",hasWindowEthereum:!!window.ethereum,ethereumIsPhantom:(Xr=window.ethereum)==null?void 0:Xr.isPhantom,ethereumIsMetaMask:(Fr=window.ethereum)==null?void 0:Fr.isMetaMask}),window.phantom&&_r?alert(`Phantom wallet is in Solana mode. Please switch to Ethereum mode:

1. Open your Phantom wallet extension
2. Switch from Solana to Ethereum network
3. Then try connecting again.`):alert("Phantom wallet Ethereum provider not found. Please ensure Phantom wallet is installed and switched to Ethereum mode.");return}console.log("[Phantom Debug] Using provider, requesting accounts...");let ms;try{ms=await Yt.request({method:"eth_requestAccounts"})}catch(Qe){console.error("[Phantom Debug] Error requesting Ethereum accounts:",Qe);const Xt=((Qa=Qe==null?void 0:Qe.message)==null?void 0:Qa.toLowerCase())||"",fr=Qe==null?void 0:Qe.code;if(fr===4001||Xt.includes("user rejected")||Xt.includes("rejected")){alert("User rejected the connection request.");return}if(Xt.includes("solana")||Xt.includes("ethereum")||!Yt||fr===-32602||fr===-32603){alert(`Unable to connect to Phantom Ethereum. Please ensure:

1. Phantom wallet is open and unlocked
2. Phantom is switched to Ethereum mode (not Solana)
3. You have an Ethereum account in Phantom

To switch to Ethereum mode:
- Open Phantom extension
- Click the network selector at the top
- Select Ethereum network`);return}throw Qe}if(console.log("[Phantom Debug] Accounts received:",ms),ms&&ms.length>0&&(H(ms),console.log("[Phantom Debug] Available addresses:",ms),ms.length===1&&(console.log("[Phantom Debug] Auto-selecting single address:",ms[0]),r(ms[0]))),console.log("[Phantom Debug] Waiting 200ms before wagmi connection..."),await new Promise(Qe=>setTimeout(Qe,200)),console.log("[Phantom Debug] injectedConnector:",de),console.log("[Phantom Debug] All connectors:",O),console.log("[Phantom Debug] Current wagmi state - isConnected:",D,"address:",z),console.log("[Phantom Debug] Current ownerAddress:",e),de){console.log("[Phantom Debug] Connecting via wagmi injected connector...");try{const Qe=await I({connector:de});console.log("[Phantom Debug] Wagmi connect() result:",Qe),console.log("[Phantom Debug] Wagmi connect() called"),console.log("[Phantom Debug] Waiting for wagmi state update..."),await new Promise(Xt=>setTimeout(Xt,500)),await new Promise(Xt=>setTimeout(Xt,300)),console.log("[Phantom Debug] After wait - wagmi state - isConnected:",D,"address:",z),console.log("[Phantom Debug] After wait - ownerAddress:",e),!z&&e?(console.log("[Phantom Debug] Wagmi not updated yet, but ownerAddress is set from Phantom"),console.log("[Phantom Debug] The sync effect will update when wagmi is ready")):z&&(console.log("[Phantom Debug] Wagmi address updated successfully:",z),(e==null?void 0:e.toLowerCase())!==z.toLowerCase()&&(console.log("[Phantom Debug] Syncing ownerAddress to match wagmiAddress"),r(z)))}catch(Qe){console.error("[Phantom Debug] Error connecting via wagmi:",Qe),console.warn("[Phantom Debug] Continuing with Phantom address despite wagmi error"),console.warn("[Phantom Debug] ownerAddress from Phantom:",e)}}else console.error("[Phantom Debug] Injected connector not found"),console.warn("[Phantom Debug] No wagmi connector, but we have Phantom address:",e)}catch(Yt){console.error("[Phantom Debug] Error caught:",Yt),console.error("[Phantom Debug] Error code:",Yt.code),console.error("[Phantom Debug] Error message:",Yt.message),console.error("[Phantom Debug] Error stack:",Yt.stack),Yt.code===4001?(console.log("[Phantom Debug] User rejected the connection"),alert("User rejected the connection request.")):(console.error("[Phantom Debug] Unknown error during connection"),alert(`Failed to connect to Phantom Ethereum: ${Yt.message||"Unknown error"}

Please ensure Phantom wallet is unlocked and switched to Ethereum mode.`))}},Ie=async()=>{var qe,Ze;const Ee=Qp(),Ge=Dc();if(!Ge&&!Ee){alert(`No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension.

If you have OKX or Bitget installed, ensure it's switched to Bitcoin network in the extension.`);return}if(Ee&&!Ge){alert(`OKX wallet detected, but Bitcoin provider is not available.

Please ensure:
1. OKX wallet extension is unlocked
2. OKX wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in OKX

After switching to Bitcoin network in OKX, refresh this page and try again.`);return}try{console.log("[Bitcoin Debug] Starting Bitcoin connection...");let Le;Ee&&xa()?(console.log("[Bitcoin Debug] Using OKX SDK for Bitcoin connection"),Le=await WW()):Le=await ipe(),console.log("[Bitcoin Debug] Bitcoin address received:",Le),Le&&typeof Le=="string"&&(H([Le]),r(Le),console.log("[Bitcoin Debug] Bitcoin connection successful"))}catch(Le){if(console.error("[Bitcoin Debug] Bitcoin connection error:",Le),Le.code===4001||(qe=Le.message)!=null&&qe.includes("rejected")||(Ze=Le.message)!=null&&Ze.includes("User rejected"))alert("User rejected the Bitcoin wallet connection request.");else{const At=sd(),Nt=(At==null?void 0:At.name)||"Bitcoin wallet",qt=Le.message||"Unknown error";Ee&&qt.includes("not found")||qt.includes("No Bitcoin wallet")?alert(`Failed to connect to ${Nt}: ${qt}

If using OKX wallet:
1. Ensure OKX extension is unlocked
2. Switch OKX to Bitcoin network in the extension
3. Make sure you have a Bitcoin account
4. Refresh this page and try again`):alert(`Failed to connect to ${Nt}: ${qt}

Please ensure your Bitcoin wallet is unlocked and try again.`)}}},at=async()=>{var Ee,Ge,qe;if(U==="solana"){try{if(!lt){alert("OneKey Solana wallet is not available. Please ensure OneKey wallet is installed and unlocked.");return}console.log("[OneKey Debug] Connecting to Solana...");const Ze=await gje();console.log("[OneKey Debug] Solana address received:",Ze),Ze&&typeof Ze=="string"&&(H([Ze]),r(Ze),console.log("[OneKey Debug] Solana connection successful"))}catch(Ze){console.error("[OneKey Debug] Solana connection error:",Ze),Ze.code===4001||(Ee=Ze.message)!=null&&Ee.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to OneKey Solana: ${Ze.message||"Unknown error"}`)}return}if(U==="bitcoin"){try{if(!Ye){alert("OneKey Bitcoin wallet is not available. Please ensure OneKey wallet is installed and switched to Bitcoin network.");return}console.log("[OneKey Debug] Connecting to Bitcoin...");const Ze=await Xje();console.log("[OneKey Debug] Bitcoin address received:",Ze),Ze&&typeof Ze=="string"&&(H([Ze]),r(Ze),console.log("[OneKey Debug] Bitcoin connection successful"))}catch(Ze){if(console.error("[OneKey Debug] Bitcoin connection error:",Ze),Ze.code===4001||(Ge=Ze.message)!=null&&Ge.includes("rejected"))alert("User rejected the Bitcoin connection request.");else{const Le=Ze.message||"Unknown error";alert(`Failed to connect to OneKey Bitcoin: ${Le}

Please ensure your OneKey wallet is unlocked and switched to Bitcoin network.`)}}return}if(!Ke){alert("OneKey wallet is not installed. Please install OneKey wallet extension.");return}try{const Ze=((qe=window.$onekey)==null?void 0:qe.ethereum)||window.ethereum;if(!Ze){alert("OneKey wallet provider not found. Please ensure OneKey wallet is installed and enabled.");return}const Le=await Ze.request({method:"eth_requestAccounts"});if(Le&&Le.length>0){const At=Le.filter(Nt=>Nt&&typeof Nt=="string");At.length>0&&(H(At),At.length===1&&r(At[0]))}de?(await I({connector:de}),await new Promise(At=>setTimeout(At,300))):alert("OneKey connector not found. Please ensure OneKey wallet is installed.")}catch(Ze){Ze.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to OneKey:",Ze),alert(`Failed to connect to OneKey: ${Ze.message||"Unknown error"}`))}},ke=async()=>{var Ee;if(U==="solana"){try{if(!Rh()){alert("Binance Solana wallet is not available. Please ensure Binance wallet is installed and unlocked.");return}console.log("[Binance Debug] Connecting to Solana...");const Ge=await yje();console.log("[Binance Debug] Solana address received:",Ge),Ge&&typeof Ge=="string"&&(H([Ge]),r(Ge),console.log("[Binance Debug] Solana connection successful"))}catch(Ge){console.error("[Binance Debug] Solana connection error:",Ge),Ge.code===4001||(Ee=Ge.message)!=null&&Ee.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Binance Solana: ${Ge.message||"Unknown error"}`)}return}if(!Ae)if(console.log("[Binance Debug] Not immediately available, checking with polling..."),await n3(3e3,100))W(!0),console.log("[Binance Debug] Binance wallet detected via polling!");else{alert("Binance wallet is not installed. Please install Binance wallet extension.");return}try{let Ge=qW();if(console.log("[Binance Debug] Initial provider check:",Ge?"Found":"Not found"),console.log("[Binance Debug] window.binancew3w:",window.binancew3w),console.log("[Binance Debug] window.BinanceChain:",window.BinanceChain),Ge||(console.log("[Binance Debug] Provider not immediately available, waiting..."),await n3(3e3,100)&&(Ge=qW(),W(!0),console.log("[Binance Debug] Provider found after polling:",Ge?"Yes":"No"))),!Ge){alert("Binance wallet provider not found. Please ensure Binance wallet is installed and enabled.");return}const qe=await Ge.request({method:"eth_requestAccounts"});if(qe&&qe.length>0){const Ze=qe.filter(Le=>Le&&typeof Le=="string"&&Le.trim().length>0);Ze.length>0&&(H(Ze),Ze.length===1&&r(Ze[0]))}de?(await I({connector:de}),await new Promise(Ze=>setTimeout(Ze,300))):alert("Binance connector not found. Please ensure Binance wallet is installed.")}catch(Ge){Ge.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Binance:",Ge),alert(`Failed to connect to Binance: ${Ge.message||"Unknown error"}`))}},_t=async()=>{var Ee,Ge,qe,Ze;if(U==="solana"){try{if(!JR()){alert("Bitget Solana wallet is not available. Please ensure Bitget wallet is installed and unlocked.");return}console.log("[Bitget Debug] Connecting to Solana...");const Le=await vje();console.log("[Bitget Debug] Solana address received:",Le),Le&&typeof Le=="string"&&(H([Le]),r(Le),console.log("[Bitget Debug] Solana connection successful"))}catch(Le){console.error("[Bitget Debug] Solana connection error:",Le),Le.code===4001||(Ee=Le.message)!=null&&Ee.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Bitget Solana: ${Le.message||"Unknown error"}`)}return}if(U==="bitcoin"){try{const Le=window.bitkeep,At=!!(Le!=null&&Le.isBitKeep||(Ge=Le==null?void 0:Le.ethereum)!=null&&Ge.isBitEthereum),Nt=(Le==null?void 0:Le.unisat)||At&&!window.$onekey&&window.unisat;if(!Nt){alert(`Bitget Bitcoin wallet is not available. Please ensure:
1. Bitget wallet extension is unlocked
2. Bitget wallet is switched to Bitcoin network
3. You have a Bitcoin account in Bitget

After switching to Bitcoin network in Bitget, refresh this page and try again.`);return}console.log("[Bitget Debug] Connecting to Bitcoin...");const qt=await Nt.requestAccounts();if(qt&&qt.length>0){const ar=qt[0];H(qt),r(ar),console.log("[Bitget Debug] Bitcoin connection successful:",ar)}else throw new Error("No accounts returned from Bitget Bitcoin wallet")}catch(Le){console.error("[Bitget Debug] Bitcoin connection error:",Le),Le.code===4001||(qe=Le.message)!=null&&qe.includes("rejected")||(Ze=Le.message)!=null&&Ze.includes("User rejected")?alert("User rejected the Bitcoin connection request."):alert(`Failed to connect to Bitget Bitcoin: ${Le.message||"Unknown error"}

Please ensure:
1. Bitget wallet extension is unlocked
2. Bitget wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in Bitget

After switching to Bitcoin network in Bitget, refresh this page and try again.`)}return}if(!ge)if(console.log("[Bitget Debug] Not immediately available, checking with polling..."),await VW(3e3,100))console.log("[Bitget Debug] Bitget wallet detected via polling!");else{alert("Bitget wallet is not installed. Please install Bitget wallet extension.");return}try{let Le=HW();if(console.log("[Bitget Debug] Initial provider check:",Le?"Found":"Not found"),console.log("[Bitget Debug] window.bitkeep:",window.bitkeep),Le||(console.log("[Bitget Debug] Provider not immediately available, waiting..."),await VW(3e3,100)&&(Le=HW(),console.log("[Bitget Debug] Provider found after polling:",Le?"Yes":"No"))),!Le){alert("Bitget wallet provider not found. Please ensure Bitget wallet is installed and enabled.");return}const At=await Le.request({method:"eth_requestAccounts"});if(At&&At.length>0){const Nt=At.filter(qt=>qt&&typeof qt=="string"&&qt.trim().length>0);Nt.length>0&&(H(Nt),Nt.length===1&&r(Nt[0]))}de?(await I({connector:de}),await new Promise(Nt=>setTimeout(Nt,300))):alert("Bitget connector not found. Please ensure Bitget wallet is installed.")}catch(Le){Le.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Bitget:",Le),alert(`Failed to connect to Bitget: ${Le.message||"Unknown error"}`))}},gt=async()=>{var Ee,Ge;if(U==="solana"){try{if(!FW()){alert("TokenPocket Solana wallet is not available. Please ensure TokenPocket wallet is installed and unlocked.");return}console.log("[TokenPocket Debug] Connecting to Solana...");const qe=await xje();console.log("[TokenPocket Debug] Solana address received:",qe),qe&&typeof qe=="string"&&(H([qe]),r(qe),console.log("[TokenPocket Debug] Solana connection successful"))}catch(qe){console.error("[TokenPocket Debug] Solana connection error:",qe),qe.code===4001||(Ee=qe.message)!=null&&Ee.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to TokenPocket Solana: ${qe.message||"Unknown error"}`)}return}if(!V)if(console.log("[TokenPocket Debug] Not immediately available, checking with polling..."),await YW(3e3,100))console.log("[TokenPocket Debug] TokenPocket wallet detected via polling!");else{alert("TokenPocket wallet is not installed. Please install TokenPocket wallet extension.");return}try{let qe=GW();if(console.log("[TokenPocket Debug] Initial provider check:",qe?"Found":"Not found"),console.log("[TokenPocket Debug] window.ethereum.isTokenPocket:",(Ge=window.ethereum)==null?void 0:Ge.isTokenPocket),qe||(console.log("[TokenPocket Debug] Provider not immediately available, waiting..."),await YW(3e3,100)&&(qe=GW(),console.log("[TokenPocket Debug] Provider found after polling:",qe?"Yes":"No"))),!qe){alert("TokenPocket wallet provider not found. Please ensure TokenPocket wallet is installed and enabled.");return}const Ze=await qe.request({method:"eth_requestAccounts"});if(Ze&&Ze.length>0){const Le=Ze.filter(At=>At&&typeof At=="string"&&At.trim().length>0);Le.length>0&&(H(Le),Le.length===1&&r(Le[0]))}de?(await I({connector:de}),await new Promise(Le=>setTimeout(Le,300))):alert("TokenPocket connector not found. Please ensure TokenPocket wallet is installed.")}catch(qe){qe.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to TokenPocket:",qe),alert(`Failed to connect to TokenPocket: ${qe.message||"Unknown error"}`))}},St=async()=>{if(U!=="ethereum"){alert("Rainbow Wallet only supports Ethereum network. Please switch to Ethereum chain type.");return}if(!mt){alert("Rainbow Wallet is not installed. Please install Rainbow Wallet extension.");return}try{const Ee=window.ethereum;if(!Ee){alert("Ethereum provider not found.");return}const Ge=await Ee.request({method:"eth_requestAccounts"});if(Ge&&Ge.length>0){const qe=Ge.filter(Ze=>Ze&&typeof Ze=="string"&&Ze.trim().length>0);qe.length>0&&(H(qe),qe.length===1&&r(qe[0]))}de&&(await I({connector:de}),await new Promise(qe=>setTimeout(qe,300)))}catch(Ee){Ee.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Rainbow Wallet:",Ee),alert(`Failed to connect to Rainbow Wallet: ${Ee.message||"Unknown error"}`))}},Ut=async()=>{var Ee,Ge;if(U==="solana"){try{if(!kje()){alert("Coinbase Wallet Solana wallet is not available. Please ensure Coinbase Wallet is installed and unlocked.");return}console.log("[Coinbase Wallet Debug] Connecting to Solana...");const qe=await Sje();console.log("[Coinbase Wallet Debug] Solana address received:",qe),qe&&typeof qe=="string"&&(H([qe]),r(qe),console.log("[Coinbase Wallet Debug] Solana connection successful"))}catch(qe){console.error("[Coinbase Wallet Debug] Solana connection error:",qe),qe.code===4001||(Ee=qe.message)!=null&&Ee.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Coinbase Wallet Solana: ${qe.message||"Unknown error"}`)}return}if(!et)if(console.log("[Coinbase Wallet Debug] Not immediately available, checking with polling..."),await XW(3e3,100))console.log("[Coinbase Wallet Debug] Coinbase Wallet detected via polling!");else{alert("Coinbase Wallet is not installed. Please install Coinbase Wallet extension from the official Chrome Web Store (extension ID: hnfanknocfeofbddgcijnmhnfnkdnaad).");return}try{let qe=KW();if(console.log("[Coinbase Wallet Debug] Initial provider check:",qe?"Found":"Not found"),console.log("[Coinbase Wallet Debug] window.ethereum.isCoinbaseWallet:",(Ge=window.ethereum)==null?void 0:Ge.isCoinbaseWallet),qe||(console.log("[Coinbase Wallet Debug] Provider not immediately available, waiting..."),await XW(3e3,100)&&(qe=KW(),console.log("[Coinbase Wallet Debug] Provider found after polling:",qe?"Yes":"No"))),!qe){alert("Coinbase Wallet provider not found. Please ensure Coinbase Wallet is installed and enabled. Verify you're using the official extension from the Chrome Web Store.");return}const Ze=await qe.request({method:"eth_requestAccounts"});if(Ze&&Ze.length>0){const At=Ze.filter(Nt=>Nt&&typeof Nt=="string"&&Nt.trim().length>0);At.length>0&&(H(At),At.length===1&&r(At[0]))}const Le=O.find(At=>{var Nt;return At.id==="injected"||((Nt=At.name)==null?void 0:Nt.toLowerCase().includes("coinbase"))});Le?(await I({connector:Le}),await new Promise(At=>setTimeout(At,300))):console.warn("Coinbase Wallet connector not found. Please ensure Coinbase Wallet is installed.")}catch(qe){qe.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Coinbase Wallet:",qe),alert(`Failed to connect to Coinbase Wallet: ${qe.message||"Unknown error"}`))}},zt=async()=>{var Ee,Ge,qe,Ze;if(!UW()){alert("OKX wallet is not installed. Please install OKX wallet extension.");return}try{let Le,At=[];if(U==="ethereum"){const qt=nd(),ar=xa(),hi=qt&&ar,kn=ZR();if(!kn)if(hi&&window.ethereum)console.log("[OKX Debug] Multi-chain OKX detected, using window.ethereum as OKX provider");else{alert(`OKX Ethereum provider is not available. Please ensure:
1. OKX wallet extension is installed and unlocked
2. OKX wallet is switched to Ethereum network
3. You have an Ethereum account in OKX

If OKX is detected for Solana/Bitcoin but Ethereum provider is missing, please switch OKX wallet to Ethereum network in the extension.`);return}console.log("[OKX Debug] Connecting to OKX Ethereum using OKX SDK..."),console.log("[OKX Debug] Multi-chain detection:",{hasOKXSolana:qt,hasOKXBitcoin:ar,hasOKXMultiChain:hi}),console.log("[OKX Debug] Ethereum provider check:",{hasOKXEthereum:kn,hasOkxwalletEthereum:!!((Ee=window.okxwallet)!=null&&Ee.ethereum),hasEthereumIsOKX:!!((Ge=window.ethereum)!=null&&Ge.isOKX),hasWindowEthereum:!!window.ethereum});try{Le=await Lje(),At=[Le]}catch(Xr){if(hi&&window.ethereum){console.log("[OKX Debug] OKX SDK method failed, trying window.ethereum directly...");const Fr=await window.ethereum.request({method:"eth_requestAccounts"});if(Fr&&Fr.length>0)Le=Fr[0],At=[Fr];else throw new Error("No accounts returned from OKX Ethereum wallet")}else throw Xr}de&&(await I({connector:de}),await new Promise(Xr=>setTimeout(Xr,300)))}else if(U==="solana"){if(!nd()){alert("OKX Solana provider is not available. Please ensure OKX wallet is installed and switched to Solana network.");return}console.log("[OKX Debug] Connecting to OKX Solana using OKX SDK..."),Le=await $je(),At=[Le]}else if(U==="bitcoin"){if(!xa()){alert(`OKX Bitcoin provider is not available. Please ensure:
1. OKX wallet extension is unlocked
2. OKX wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in OKX

After switching to Bitcoin network in OKX, refresh this page and try again.`);return}console.log("[OKX Debug] Connecting to OKX Bitcoin using OKX SDK..."),Le=await WW(),At=[Le]}else{alert(`Unsupported chain type: ${U}`);return}const Nt=At.filter(qt=>!!(qt&&typeof qt=="string"&&qt.trim().length>0));if(Nt.length>0)H(Nt),Le&&typeof Le=="string"&&r(Le),console.log(`[OKX Debug] Successfully connected to OKX ${U}:`,Le);else throw new Error("No addresses returned from OKX wallet")}catch(Le){if(Le.code===4001||(qe=Le.message)!=null&&qe.includes("rejected")||(Ze=Le.message)!=null&&Ze.includes("User rejected"))alert("User rejected the OKX connection request.");else{console.error(`[OKX Debug] Error connecting to OKX ${U}:`,Le);const At=Le.message||"Unknown error";alert(`Failed to connect to OKX ${U}: ${At}

Please ensure:
1. OKX wallet extension is installed and unlocked
2. OKX wallet is switched to ${U} network
3. You have a ${U} account in OKX
4. Try refreshing the page and connecting again`)}}},tn=()=>{const Ee=Ke||We||Ae||xe||Ue||typeof window<"u"&&window.ethereum,Ge=ig()||e4()||nd()||Rh(),qe=Dc()||Qp()||Ye;return Ee||Ge||qe},Wt={OneKey:at,OKX:zt,Bitget:_t,TokenPocket:gt,"Coinbase Wallet":Ut,Rainbow:St,Binance:ke,MetaMask:Ve,Phantom:ot,"Bitcoin Wallet":Ie},nt=()=>{const Ee=l7e(U);if(!Ee)return null;if(Ee==="Bitcoin Wallet"&&U==="bitcoin"){const qe=sd(),Ze=(qe==null?void 0:qe.name)||"Bitcoin Wallet",Le=Wt["Bitcoin Wallet"];if(Le)return{wallet:Ze,handler:Le}}const Ge=Wt[Ee];return Ge?{wallet:Ee,handler:Ge}:null},an=async()=>{const Ee=nt();if(!Ee){U==="ethereum"?alert("No Ethereum wallet detected. Please install MetaMask, Phantom, OneKey, OKX, Bitget, or Binance wallet."):U==="solana"?alert("No Solana wallet detected. Please install Phantom, OneKey, OKX, Bitget, or Binance wallet extension for Solana support."):U==="bitcoin"&&(Qp()?alert("OKX wallet detected, but Bitcoin provider is not available. Please switch OKX wallet to Bitcoin network in the extension, then refresh this page."):alert("No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension."));return}await Ee.handler()};return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Agent Delegation"}),g.jsx("p",{children:"Approve an agent private key to act on behalf of the owner wallet"}),g.jsxs("div",{className:`agent-delegation-step ${tt?"connected":""}`,children:[g.jsxs("h4",{children:["Step 1: Connect Wallet ",re&&(Re||(Te||Se)&&e)&&""]}),tt?R.length>0&&!re?g.jsxs("div",{children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"Connected:"})," ",se||"Wallet"]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressSelect",children:"Select an address to use:"}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:R.filter(Ee=>Ee&&typeof Ee=="string").map(Ee=>g.jsx("button",{className:`button ${(e==null?void 0:e.toLowerCase())===(Ee==null?void 0:Ee.toLowerCase())?"":"secondary"}`,onClick:()=>r(Ee),style:{textAlign:"left",justifyContent:"flex-start",fontFamily:"monospace",fontSize:"0.9rem"},children:Ee},Ee))})]}),g.jsx("button",{className:"button secondary",onClick:async()=>{if(U==="solana"){const Ee=fa();if(Ee&&Ee.isConnected)try{await Ee.disconnect()}catch(Le){console.error("Error disconnecting OneKey Solana:",Le)}const Ge=Bc();if(Ge&&Ge.isConnected)try{await Ge.disconnect()}catch(Le){console.error("Error disconnecting Phantom Solana:",Le)}const qe=Bo();if(qe&&qe.isConnected)try{await qe.disconnect()}catch(Le){console.error("Error disconnecting OKX Solana:",Le)}const Ze=bs();if(Ze&&Ze.isConnected)try{await Ze.disconnect()}catch(Le){console.error("Error disconnecting Binance Solana:",Le)}}else U==="ethereum"&&$();H([]),r("")},style:{marginTop:"1rem"},children:"Disconnect"})]}):g.jsxs("div",{className:"agent-delegation-connected-info",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Connected:"})," ",se||(Se?((Rp=sd())==null?void 0:Rp.name)||"Bitcoin Wallet":null),Te&&g.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.9rem",opacity:.8},children:"(Solana)"}),Se&&g.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.9rem",opacity:.8},children:"(Bitcoin)"}),(Re||(Te||Se)&&e)&&g.jsxs("div",{className:"agent-delegation-address",children:["Address: ",Re||e]})]}),g.jsx("button",{className:"button secondary",onClick:async()=>{if(U==="solana"||Te){const Ee=Bc();if(Ee&&Ee.isConnected)try{await Ee.disconnect()}catch(Ze){console.error("Error disconnecting Phantom Solana:",Ze)}const Ge=Bo();if(Ge&&Ge.isConnected)try{await Ge.disconnect()}catch(Ze){console.error("Error disconnecting OKX Solana:",Ze)}const qe=bs();if(qe&&qe.isConnected)try{await qe.disconnect()}catch(Ze){console.error("Error disconnecting Binance Solana:",Ze)}}else U==="bitcoin"||Se?console.log("[Bitcoin Debug] Disconnecting Bitcoin wallet"):$();H([]),r("")},children:"Disconnect"})]}):g.jsx("div",{children:tn()?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[g.jsx("label",{htmlFor:"connectionChainType",style:{marginBottom:"0.5rem",display:"block"},children:g.jsx("strong",{children:"Select Chain Type:"})}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[g.jsx("button",{className:`button ${U==="ethereum"?"":"secondary"}`,onClick:()=>K("ethereum"),style:{flex:1,minWidth:"100px"},children:"Ethereum"}),(ig()||lt||nd()||Rh())&&g.jsx("button",{className:`button ${U==="solana"?"":"secondary"}`,onClick:()=>K("solana"),style:{flex:1,minWidth:"100px"},children:"Solana"}),(Dc()||Qp())&&g.jsx("button",{className:`button ${U==="bitcoin"?"":"secondary"}`,onClick:()=>K("bitcoin"),style:{flex:1,minWidth:"100px"},children:"Bitcoin"})]}),g.jsx("small",{className:"agent-delegation-small-text",style:{display:"block",marginTop:"0.5rem"},children:U==="ethereum"?"Connect to Ethereum network (MetaMask, Phantom Ethereum, OneKey, OKX, Binance)":U==="solana"?"Connect to Solana network (Phantom Solana, OneKey Solana, OKX Solana, Binance Solana)":"Connect to Bitcoin network (OneKey, Unisat, Xverse, OKX). If using OKX, ensure it's switched to Bitcoin network."})]}),g.jsx("div",{className:"agent-delegation-wallet-buttons",children:(()=>{var Ge;const Ee=nt();return Ee?g.jsx("button",{className:"button",onClick:an,disabled:F||U==="ethereum"&&!de,children:F?"Connecting...":`Connect ${Ee.wallet}${U!=="ethereum"?` (${U.charAt(0).toUpperCase()+U.slice(1)})`:""}`}):U==="ethereum"?g.jsx("p",{className:"agent-delegation-error-message",children:"No Ethereum wallet detected. Please install MetaMask, Phantom, OneKey, OKX, Rainbow, or Binance wallet."}):U==="solana"?g.jsx("p",{className:"agent-delegation-error-message",children:"No Solana wallet detected. Please install Phantom, OneKey, OKX, Bitget, or Binance wallet extension for Solana support."}):U==="bitcoin"?g.jsx("p",{className:"agent-delegation-error-message",children:Qp()||(Ge=window.bitkeep)!=null&&Ge.isBitKeep?"Wallet detected, but Bitcoin provider is not available. Please switch your wallet to Bitcoin network in the extension, then refresh this page.":"No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension."}):null})()})]}):g.jsxs("div",{className:"agent-delegation-wallet-buttons",children:[g.jsx("p",{className:"agent-delegation-error-message",style:{marginBottom:"1rem"},children:g.jsx("strong",{children:"No wallet detected"})}),g.jsx("p",{className:"agent-delegation-error-message",children:"Please install a compatible wallet extension to continue:"}),g.jsxs("ul",{style:{textAlign:"left",marginTop:"0.5rem",marginBottom:"1rem"},children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Ethereum:"})," MetaMask, Phantom, OneKey, OKX, Rainbow, Bitget, or Binance wallet"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Solana:"})," Phantom, OneKey, OKX, Bitget, or Binance wallet"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Bitcoin:"})," OneKey, OKX, Bitget, Unisat, or Xverse wallet"]})]}),g.jsx("p",{className:"agent-delegation-small-text",style:{marginTop:"0.5rem"},children:"After installing a wallet, refresh this page to connect."})]})})]}),re&&(Re||(Te||Se)&&e)?g.jsxs("div",{className:`agent-delegation-step ${He?"connected":""}`,children:[g.jsxs("h4",{children:["Step 2: Configure Agent Delegation ",He&&""]}),ae&&g.jsx("div",{style:{padding:"0.75rem",marginBottom:"1rem",background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"8px",color:"rgba(76, 175, 80, 0.9)",fontSize:"0.9rem"},children:" Agent credentials restored from previous session"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"ownerAddress",children:"Owner Address:"}),g.jsx("input",{id:"ownerAddress",type:"text",value:Re||e,readOnly:!0,style:{fontFamily:"monospace",fontSize:"0.9rem",backgroundColor:"rgba(255, 255, 255, 0.05)",cursor:"not-allowed"}}),g.jsxs("small",{className:"agent-delegation-small-text",children:["This address is from your connected ",se||"wallet"," extension",Te?" (Solana)":Se?" (Bitcoin)":Re?" (Ethereum)":"","."]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentAddress",children:"Agent Address:"}),g.jsxs("div",{className:"agent-delegation-input-group",children:[g.jsx("input",{id:"agentAddress",type:"text",value:i,onChange:Ee=>s(Ee.target.value),placeholder:"0x...",className:"agent-delegation-input-flex"}),g.jsx("button",{className:"button secondary agent-delegation-button-compact",onClick:y,disabled:b||!M,children:"Generate Keypair"})]})]}),o&&g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentPrivateKey",children:"Agent Private Key (save securely):"}),g.jsx("input",{id:"agentPrivateKey",type:"text",value:o,readOnly:!0,className:"agent-delegation-private-key"}),g.jsxs("div",{style:{marginTop:"0.5rem"},children:[g.jsx("button",{className:"button secondary",onClick:()=>{v(),be(!1)},style:{fontSize:"0.85rem",padding:"0.5rem 1rem"},children:"Clear Agent Credentials"}),g.jsx("small",{className:"agent-delegation-small-text",style:{display:"block",marginTop:"0.5rem"},children:"Credentials are stored in browser session storage and will be cleared when browser closes."})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentName",children:"Agent Name (optional):"}),g.jsx("input",{id:"agentName",type:"text",value:d,onChange:Ee=>h(Ee.target.value),placeholder:"enter you agent name"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"expiresInDays",children:"Expires In Days:"}),g.jsx("input",{id:"expiresInDays",type:"number",value:a,onChange:Ee=>l(parseInt(Ee.target.value)||180),min:"1",max:"365"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"permissions",children:"Permissions (comma-separated):"}),g.jsx("input",{id:"permissions",type:"text",value:c,onChange:Ee=>u(Ee.target.value),placeholder:"clob::submit_order,clob::cancel_order"}),g.jsx("small",{className:"agent-delegation-small-text",children:"Example: clob::submit_order, clob::cancel_order, clob::modify_order"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"nonce",children:"Nonce:"}),g.jsx("input",{id:"nonce",type:"text",value:f,onChange:Ee=>p(Ee.target.value),placeholder:Date.now().toString()})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 2: Configure Agent Delegation"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:tt&&!re?"Please select an address in Step 1 to continue.":"Please connect a wallet extension in Step 1 to continue."})]}),He?g.jsxs("div",{className:"agent-delegation-step",children:[g.jsx("h4",{children:"Step 3: Prepare and Sign Agent Approval"}),g.jsxs("div",{className:"agent-delegation-button-group",children:[w&&g.jsx("button",{className:"button",onClick:J,disabled:G||!z||!i,children:G?"Signing with MetaMask...":"Sign Agent Approval (MetaMask)"}),(_||U==="solana"&&Te&&!((Jn=fa())!=null&&Jn.isConnected)&&!((Kr=Bo())!=null&&Kr.isConnected)&&!((Nr=ol())!=null&&Nr.isConnected)&&!((Np=bs())!=null&&Np.isConnected))&&g.jsx("button",{className:"button",onClick:J,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with Phantom...":U==="solana"?"Sign Agent Approval (Phantom Solana)":"Sign Agent Approval (Phantom)"}),(x||U==="solana"&&Te&&((Su=fa())==null?void 0:Su.isConnected)||U==="bitcoin"&&Se&&Ye)&&g.jsx("button",{className:"button",onClick:J,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with OneKey...":U==="solana"?"Sign Agent Approval (OneKey Solana)":U==="bitcoin"?"Sign Agent Approval (OneKey Bitcoin)":"Sign Agent Approval (OneKey)"}),U==="solana"&&Te&&((uh=ol())==null?void 0:uh.isConnected)&&g.jsx("button",{className:"button",onClick:J,disabled:G||!i||!e,children:G?"Signing with Bitget...":"Sign Agent Approval (Bitget Solana)"}),U==="solana"&&Te&&((dh=bs())==null?void 0:dh.isConnected)&&g.jsx("button",{className:"button",onClick:J,disabled:G||!i||!e,children:G?"Signing with Binance...":"Sign Agent Approval (Binance Solana)"}),(k||U==="solana"&&Te&&((hh=Bo())==null?void 0:hh.isConnected)&&!((fh=ol())!=null&&fh.isConnected)&&!((Cu=bs())!=null&&Cu.isConnected)||U==="bitcoin"&&Se&&xa())&&g.jsx("button",{className:"button",onClick:J,disabled:G||!z&&U==="ethereum"||!i||!e,children:G?"Signing with OKX...":`Sign Agent Approval (OKX${U==="ethereum"?"":` ${U}`})`}),C&&g.jsx("button",{className:"button",onClick:J,disabled:G||!z||!i,children:G?"Signing with Binance...":"Sign Agent Approval (Binance)"}),E&&g.jsx("button",{className:"button",onClick:J,disabled:G||!z||!i,children:G?"Signing with Bitget...":"Sign Agent Approval (Bitget)"}),T&&g.jsx("button",{className:"button",onClick:J,disabled:G||!z||!i,children:G?"Signing with Rainbow...":"Sign Agent Approval (Rainbow)"}),(U==="ethereum"&&we&&D||U==="solana"&&Te&&ze&&((jp=ky())==null?void 0:jp.isConnected))&&g.jsx("button",{className:"button",onClick:J,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with TokenPocket...":`Sign Agent Approval (TokenPocket${U==="ethereum"?"":` ${U}`})`}),(U==="ethereum"&&et&&D||U==="solana"&&Te&&$e&&((Ka=Nh())==null?void 0:Ka.isConnected))&&g.jsx("button",{className:"button",onClick:J,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with Coinbase Wallet...":`Sign Agent Approval (Coinbase Wallet${U==="ethereum"?"":` ${U}`})`}),!w&&!(_||U==="solana"&&Te&&!((Jl=fa())!=null&&Jl.isConnected)&&!((Eu=Bo())!=null&&Eu.isConnected)&&!((aa=ol())!=null&&aa.isConnected)&&!((ps=bs())!=null&&ps.isConnected))&&!(x||U==="solana"&&Te&&((Bp=fa())!=null&&Bp.isConnected)||U==="bitcoin"&&Se&&Ye)&&!(U==="solana"&&Te&&((Lt=ol())!=null&&Lt.isConnected))&&!(U==="solana"&&Te&&((xo=bs())!=null&&xo.isConnected))&&!(k||U==="solana"&&Te&&((_o=Bo())!=null&&_o.isConnected)&&!((Au=ol())!=null&&Au.isConnected)&&!((Tu=bs())!=null&&Tu.isConnected)||U==="bitcoin"&&Se&&xa())&&!C&&!E&&!T&&!(U==="ethereum"&&we&&D||U==="solana"&&Te&&ze&&((hr=ky())!=null&&hr.isConnected))&&!(U==="ethereum"&&et&&D||U==="solana"&&Te&&$e&&((Lp=Nh())!=null&&Lp.isConnected))&&g.jsx("button",{className:"button",onClick:J,disabled:G||!i||!e||U==="ethereum"&&!z&&!Re,children:G?"Signing...":`Sign Agent Approval${se?` (${se})`:""}`})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 3: Prepare and Sign Agent Approval"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 1 (connect wallet) and Step 2 (configure addresses) to continue."})]}),(m||Y)&&g.jsx("div",{className:`output ${(Pu=m||Y)!=null&&Pu.success?"success":"error"}`,children:(Fp=m||Y)!=null&&Fp.success?g.jsxs(g.Fragment,{children:[((Pe=m||Y)==null?void 0:Pe.signature)&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Agent Approval Signature:"}),g.jsx("br",{}),(Ct=m||Y)==null?void 0:Ct.signature,g.jsx("br",{}),g.jsx("br",{})]}),((Jt=m||Y)==null?void 0:Jt.typedData)&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"EIP-712 Typed Data:"}),g.jsx("br",{}),g.jsx("pre",{className:"agent-delegation-pre",children:JSON.stringify((Vs=m||Y)==null?void 0:Vs.typedData,null,2)}),g.jsx("br",{}),g.jsx("strong",{children:"Usage:"}),g.jsx("br",{}),"Signature received from wallet. The typed data structure is shown above."]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),(Xa=m||Y)==null?void 0:Xa.error]})})]})}function K7e({status:n}){const e=()=>n.loading?"loading":n.loaded?"success":n.error?"error":"loading",r=()=>n.loading?"Loading WASM...":n.loaded?"WASM Ready":n.error?"WASM Error":"Unknown";return g.jsxs("div",{className:"App-section",children:[g.jsx("h3",{children:"WASM Status"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[g.jsx("span",{className:`status ${e()}`,children:r()}),n.loading&&g.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"Initializing WebAssembly module..."}),n.loaded&&g.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"morm_signer.wasm loaded successfully"}),n.error&&g.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:n.error})]})]})}function bp(n,e=2,r=2,i="0.00"){return n==null||isNaN(n)?i:n.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:r})}function US(n){return n==null||isNaN(n)?"--":bp(n,2,2,"--")}function sg(n){return n==null||isNaN(n)?"--":bp(n,2,8,"--")}function WS(n){return n==null||isNaN(n)?"0.000":bp(n,3,3,"0.000")}function X7e(n){return n==null||isNaN(n)?"0":bp(n,3,8,"0")}function Q7e(n){return n==null||isNaN(n)?"0.00":bp(n,2,2,"0.00")}function J7e(n){return n==null||isNaN(n)?"0.00":bp(n,2,2,"0.00")}function nr(n){return n==null||isNaN(n)?"0.00":bp(n,2,2,"0.00")}function hw(n){return n==null||isNaN(n)?"0%":`${(n*100).toFixed(2)}%`}function Z7e(n){if(n==null)return"0";if(typeof n=="string"){const e=n.trim();if(e===""||isNaN(Number(e)))return"0";const r=e.includes(".")?Math.floor(Number(e)).toString():e;try{return It(r).toFixed(8).replace(/\.?0+$/,"")}catch{return"0"}}if(typeof n=="number"){if(isNaN(n)||!isFinite(n))return"0";const e=Math.floor(n).toString();try{return It(e).toFixed(8).replace(/\.?0+$/,"")}catch{return"0"}}return"0"}function jh(n){if(n==null||typeof n=="string"&&(n.trim()===""||isNaN(Number(n))))return"--";try{const r=Z7e(n).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")}catch{return"--"}}function dpe(n,e="--"){if(n==null)return e;try{return(typeof n=="string"||typeof n=="number"?It(typeof n=="string"?n:String(n)):0).toFixed(2).replace(/\.?0+$/,"")}catch{return e}}function o3(n,e="0%"){if(n==null)return e;if(typeof n=="string"){const r=n.trim();if(r===""||isNaN(Number(r)))return e;const i=r.includes(".")?Math.floor(Number(r)).toString():r;try{const s=It(i);return hw(s)}catch{return e}}if(typeof n=="number"){if(isNaN(n)||!isFinite(n))return e;const r=Math.floor(n).toString();try{const i=It(r);return hw(i)}catch{return e}}return e}function nq(n){return isNaN(n)?"0":n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toFixed(2)}function e9e(n,e=6,r=4,i="--"){return!n||typeof n!="string"?i:n.length<=e+r?n:`${n.slice(0,e)}...${n.slice(-r)}`}const yp="https://router.morpheum.io",nh="wss://router.morpheum.io/websocket",GC="ios-device-1234567890",t9e=({isRunning:n,onClick:e})=>g.jsx("button",{onClick:e,disabled:n,style:{color:"#fff",backgroundColor:n?"#ccc":"#007bff",cursor:n?"not-allowed":"pointer"},children:n?"Running Tests...":"Run All Tests"}),n9e=({mnemonic:n,baseURL:e,onboardLoading:r,isRunning:i,onOnboard:s})=>{const o=r||i||!n||n.trim()==="";return g.jsx("button",{onClick:()=>{n&&n.trim()!==""&&s(n,e)},disabled:o,style:{color:o?"#ccc":"#fff",backgroundColor:o?"#ccc":"#28a745",cursor:o?"not-allowed":"pointer"},children:r?"Running Authentication Flow...":"Authentication Flow"})},r9e=({isRunning:n,onClick:e})=>g.jsx("button",{onClick:e,disabled:n,style:{color:n?"#ccc":"#fff",backgroundColor:n?"#ccc":"#dc3545",cursor:n?"not-allowed":"pointer"},children:"Clear Results"}),i9e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#17a2b8",cursor:i?"not-allowed":"pointer"},children:e?"Running Utility Tests...":"Utility Test"})},s9e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#6f42c1",cursor:i?"not-allowed":"pointer"},children:e?"Running Info Client Tests...":"Info Client Test"})},o9e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#fd7e14",cursor:i?"not-allowed":"pointer"},children:e?"Running Wallet Specific Tests...":"Wallet Specific Test"})},a9e=({mnemonic:n,isRunning:e,isLoading:r,onClick:i})=>{const s=n&&n.trim()!=="",o=r||e||!s;return g.jsx("button",{onClick:()=>{s&&i()},disabled:o,style:{color:o?"#ccc":"#fff",backgroundColor:o?"#ccc":"#e83e8c",cursor:o?"not-allowed":"pointer"},title:s?"":"Mnemonic is required for Exchange Client tests",children:r?"Running Exchange Client Tests...":"Exchange Client Test"})},l9e=({onClick:n})=>g.jsx("button",{onClick:n,className:"sdk-test-button-dismiss",children:"Dismiss"}),c9e=({result:n})=>g.jsxs("div",{className:`sdk-test-result-item ${n.success?"success":"error"}`,children:[g.jsxs("div",{className:"sdk-test-result-content",children:[g.jsxs("div",{className:"sdk-test-result-message",children:[n.success?"":""," ",n.message]}),n.error&&g.jsxs("div",{className:"sdk-test-result-error",children:["Error: ",n.error]}),n.data&&g.jsxs("details",{className:"sdk-test-result-data",children:[g.jsx("summary",{children:"View Data"}),g.jsx("pre",{children:JSON.stringify(n.data,null,2)})]})]}),g.jsx("div",{className:"sdk-test-result-timestamp",children:new Date(n.timestamp).toLocaleTimeString()})]}),u9e=({sectionName:n,isExpanded:e,onToggle:r})=>g.jsxs("h2",{className:"sdk-test-section-header",onClick:r,children:[g.jsx("span",{children:n}),g.jsx("span",{className:"sdk-test-section-chevron",children:e?"":""})]});function d9e(){var lt,Ye,We,Ae;const[n,e]=A.useState(yp),[r,i]=A.useState(""),[s,o]=A.useState(""),[a,l]=A.useState(""),[c,u]=A.useState(GC),[d,h]=A.useState({}),[f,p]=A.useState(!1),[m,b]=A.useState(!1),[y,v]=A.useState(!1),[w,_]=A.useState(!1),[x,k]=A.useState(!1),[C,E]=A.useState(!1),[T,M]=A.useState(new Set),I=A.useRef(null),O=A.useRef(null),F=A.useRef(n),$=A.useRef([]),z=A.useRef(""),{markets:D,fetchMarkets:j}=ql({baseURL:n,sessionToken:s,autoFetchMarkets:!1}),{mnemonic:N,walletAddress:R,authToken:H,error:U,clearError:K,setMnemonic:Y}=yu();A.useEffect(()=>{N||Y(WC)},[N,Y]);const Z=A.useRef(N||"");A.useEffect(()=>{Z.current=N||""},[N]);const G=A.useMemo(()=>new g0({url:nh,authToken:s||a||void 0,walletAddress:R||void 0,deviceID:c||void 0}),[s,a,R,c]),{buckets:X,loading:ae,error:be,refresh:le}=v9({subscriptionClient:G,baseURL:n,authToken:s||a,walletAddress:R,refreshInterval:0,useWebSocket:!1,marketId:"0"});A.useEffect(()=>{H&&(l(H),localStorage.setItem("authToken",H))},[H]),A.useEffect(()=>{a&&a.trim()!==""&&localStorage.setItem("authToken",a)},[a]);const J=A.useRef(f);A.useEffect(()=>{J.current===!0&&f===!1&&setTimeout(()=>{const W=Object.values(d).flatMap(pe=>pe.results),de=W.filter(pe=>pe.success).length,me=W.length,oe=me-de;me>0&&(oe===0?ft.success("All tests passed",{description:`${me} test(s) completed successfully.`,duration:5e3}):ft.warning("Tests completed with failures",{description:`${de}/${me} tests passed. ${oe} test(s) failed.`,duration:6e3}))},100),J.current=f},[f,d]),A.useEffect(()=>{const W=localStorage.getItem("authToken");W&&!a&&l(W)},[]);const xe=D.length>0?(((lt=D.find(W=>W.active))==null?void 0:lt.market_id)??D[0].market_id)||(((We=(Ye=D.find(W=>W.active))==null?void 0:Ye.id)==null?void 0:We.toString())??((Ae=D[0].id)==null?void 0:Ae.toString())??""):null,ge=xe??r;A.useEffect(()=>{xe&&r!==xe&&i(xe)},[xe]),A.useEffect(()=>{F.current=n},[n]);const V=(W,de)=>{h(me=>{const oe=me[W]||{name:W,results:[]};return{...me,[W]:{...oe,results:[...oe.results,de]}}})},we=()=>{h({}),M(new Set)},ze=W=>{M(de=>{const me=new Set(de);return me.has(W)?me.delete(W):me.add(W),me})};A.useEffect(()=>{const W=Object.keys(d).filter(de=>d[de].results.length>0);W.length>0&&M(de=>{const me=new Set(de);return W.forEach(oe=>me.add(oe)),me})},[d]);const et=()=>{const W="Utilities";V(W,{success:!0,message:"Testing utility functions...",timestamp:Date.now()});try{const de=_n(1);V(W,{success:de==="100000000",message:`toSatoshi(1.0) = ${de}`,data:{expected:"100000000",got:de},timestamp:Date.now()});const me=_n("1.5");V(W,{success:me==="150000000",message:`toSatoshi("1.5") = ${me}`,data:{expected:"150000000",got:me},timestamp:Date.now()});const oe=It("100000000");V(W,{success:oe===1,message:`fromSatoshi("100000000") = ${oe}`,data:{expected:1,got:oe},timestamp:Date.now()});const pe="64999999999986700000000",ve=It(pe),ee=649999999999867,ue=ve===ee;V(W,{success:ue,message:`fromSatoshi("${pe}") = ${ve}`,data:{expected:ee,got:ve,difference:Math.abs(ve-ee),isPrecise:ue},timestamp:Date.now()});const ce="64999999999986700000000",Ce=Ft(ce),Me=649999999999867,he=Ce===Me;V(W,{success:he,message:`toNumberFromSatoshi("${ce}") = ${Ce}`,data:{expected:Me,got:Ce,difference:Math.abs(Ce-Me),isPrecise:he},timestamp:Date.now()});const Te=D7(1);V(W,{success:Te===1e8,message:`toSatoshiUint64(1.0) = ${Te}`,data:{expected:1e8,got:Te},timestamp:Date.now()});const Se=OR("100000000"),ie=OR("abc");V(W,{success:Se&&!ie,message:`isValidSatoshi tests: "100000000"=${Se}, "abc"=${ie}`,data:{valid1:Se,valid2:ie},timestamp:Date.now()});const re=[1,1.5,2],se=whe(re),tt=xhe(se);V(W,{success:tt.length===3,message:`Batch conversion: ${re.length} items`,data:{input:re,satoshi:se,decimal:tt},timestamp:Date.now()}),V(W,{success:jd===1e8,message:`SATOSHI_SCALE = ${jd}`,data:{expected:1e8,got:jd},timestamp:Date.now()});const Re="64999999999986700000000",He=DR(Re);V(W,{success:He.startsWith("0x"),message:`int64ToHex("${Re}") = ${He}`,data:{input:Re,output:He,isValidHex:He.startsWith("0x")},timestamp:Date.now()});const Oe="64999999999986700000000",Xe=jh(Oe);V(W,{success:Xe!=="--"&&Xe.length>0,message:`formatPriceFromSatoshi("${Oe}") = ${Xe}`,data:{input:Oe,output:Xe,isValid:Xe!=="--"&&Xe.length>0},timestamp:Date.now()});const dt="86755123000",Ve=dpe(dt);V(W,{success:Ve!=="--"&&Ve.length>0,message:`formatLeverage("${dt}") = ${Ve}`,data:{input:dt,output:Ve,isValid:Ve!=="--"&&Ve.length>0},timestamp:Date.now()});const ot=649999999999867,Ie={minimumFractionDigits:gc,maximumFractionDigits:Qfe},at=ot.toLocaleString("en-US",Ie);V(W,{success:at.length>0&&at.includes("649"),message:`number_x.toLocaleString("en-US", currencyFormatOptions) = ${at}`,data:{input:ot,output:at,currencyFormatOptions:Ie,isValid:at.length>0},timestamp:Date.now()})}catch(de){V(W,{success:!1,message:"Utility test error",error:de.message,timestamp:Date.now()})}},$e=async(W="Authentication")=>{if(!R||R.trim()===""){V(W,{success:!1,message:"Authentication skipped: Wallet address required",timestamp:Date.now()});return}if(!jt.isReady()){V(W,{success:!1,message:"Authentication failed: mormSigner not loaded. Please initialize mormSigner first for address generation.",timestamp:Date.now()});return}try{V(W,{success:!0,message:"Starting authentication (onboarding) with ethers.js EIP-712 signing...",timestamp:Date.now()});const{onboardAndGetAuthToken:de}=await ht(async()=>{const{onboardAndGetAuthToken:oe}=await Promise.resolve().then(()=>mje);return{onboardAndGetAuthToken:oe}},void 0);if(V(W,{success:!0,message:"Calling onboardAndGetAuthToken (handles nonce, EIP-712 signing with ethers.js, and API request)...",timestamp:Date.now()}),!N)throw new Error("Mnemonic is required for authentication");const me=await de(N,F.current);if(!me.success||!me.authToken)throw new Error(me.error||"Onboarding failed");l(me.authToken),localStorage.setItem("authToken",me.authToken),V(W,{success:!0,message:"AUTHENTICATION SUCCESSFUL!",data:{walletAddress:R,authToken:me.authToken.substring(0,32)+"...",refreshToken:me.refreshToken,expiresAt:me.expiresAt},timestamp:Date.now()})}catch(de){const me=de.message||String(de);V(W,{success:!1,message:`Authentication failed: ${me}`,error:me,timestamp:Date.now()})}},mt=async()=>{var pe;const W="Wallet Specific";O.current=new Cr({baseURL:F.current}),s&&O.current&&O.current.setSessionToken(s),V(W,{success:!0,message:"Waiting for wallet address to be available...",timestamp:Date.now()});const de=5e3,me=200;let oe=0;for(;!R||R.trim()==="";){if(oe>=de){V(W,{success:!1,message:"Timeout: Wallet address not available after 5 seconds",error:"Wallet address is required for wallet-specific tests. Please ensure mnemonic is provided.",timestamp:Date.now()});return}await new Promise(ve=>setTimeout(ve,me)),oe+=me}if(!R||R.trim()===""){V(W,{success:!1,message:"Wallet address is required for wallet-specific tests",error:"Wallet address not available",timestamp:Date.now()});return}V(W,{success:!0,message:`Wallet address available: ${R.substring(0,10)}...`,timestamp:Date.now()});try{V(W,{success:!0,message:`Testing getBalance() for asset "MORM" at address ${R.substring(0,10)}...`,timestamp:Date.now()});try{const ee=await O.current.getBalance(R,"MORM"),ue=(ee==null?void 0:ee.balance)||"N/A",ce=typeof ue=="string"?ue:JSON.stringify(ue);V(W,{success:!!ee,message:`getBalance() - GET /bank/v1/balance/{address} | Asset: MORM | Balance: ${ce} (raw satoshi format)`,data:{balance:ee,asset:"MORM",walletAddress:R.substring(0,10)+"...",note:"Balance is returned in satoshi format (raw integer string). Use getBalanceDecimal() for decimal format."},timestamp:Date.now()})}catch(ee){V(W,{success:!1,message:'getBalance() failed for asset "MORM" (may require authentication)',error:ee.message,data:{asset:"MORM",walletAddress:R.substring(0,10)+"...",endpoint:"GET /bank/v1/balance/{address}"},timestamp:Date.now()})}V(W,{success:!0,message:`Testing getBalance() for asset "USDC" at address ${R.substring(0,10)}...`,timestamp:Date.now()});try{const ee=await O.current.getBalance(R,"USDC"),ue=(ee==null?void 0:ee.balance)||"N/A",ce=typeof ue=="string"?ue:JSON.stringify(ue);V(W,{success:!!ee,message:`getBalance() - GET /bank/v1/balance/{address} | Asset: USDC | Balance: ${ce} (raw satoshi format)`,data:{balance:ee,asset:"USDC",walletAddress:R.substring(0,10)+"...",note:"Balance is returned in satoshi format (raw integer string). Use getBalanceDecimal() for decimal format."},timestamp:Date.now()})}catch(ee){V(W,{success:!1,message:'getBalance() failed for asset "USDC" (may require authentication)',error:ee.message,data:{asset:"USDC",walletAddress:R.substring(0,10)+"...",endpoint:"GET /bank/v1/balance/{address}"},timestamp:Date.now()})}try{const ee=await O.current.getBalanceDecimal(R,"USDC");V(W,{success:!!ee,message:"getBalanceDecimal() - GET /bank/v1/balance/{address}",data:ee,timestamp:Date.now()})}catch(ee){V(W,{success:!1,message:"getBalanceDecimal() failed",error:ee.message,timestamp:Date.now()})}try{const ee=await O.current.getBalances(R);V(W,{success:!!ee,message:"getBalances() - GET /bank/v1/balances/{address}",data:ee,timestamp:Date.now()})}catch(ee){V(W,{success:!1,message:"getBalances() failed (may require authentication)",error:ee.message,timestamp:Date.now()})}try{const ee=await O.current.getPositions(R);V(W,{success:Array.isArray(ee),message:`getPositions() - GET /bucket/v1/address/{address}/positions returned ${Array.isArray(ee)?ee.length:0} positions`,data:ee,timestamp:Date.now()})}catch(ee){V(W,{success:!1,message:"getPositions() failed",error:ee.message,timestamp:Date.now()})}let ve=[];try{const ee=await O.current.getOrders(R);ve=(ee==null?void 0:ee.orders)||[];const ue=ee&&(Array.isArray(ve)||ee.total_count!==void 0);V(W,{success:ue,message:`getOrders() - GET /clob/v1/address/orders?address={address} returned ${Array.isArray(ve)?ve.length:0} orders (total_count: ${(ee==null?void 0:ee.total_count)??"N/A"})`,data:{orders:Array.isArray(ve)?ve.slice(0,3):ve,total_count:ee==null?void 0:ee.total_count,timestamp:ee==null?void 0:ee.timestamp},timestamp:Date.now()})}catch(ee){V(W,{success:!1,message:"getOrders() failed",error:ee.message,timestamp:Date.now()})}if(Array.isArray(ve)&&ve.length>0){const ee=ve[0],ue=(ee==null?void 0:ee.orderId)||(ee==null?void 0:ee.order_id)||(ee==null?void 0:ee.id);if(ue){V(W,{success:!0,message:`Testing getOrder() for order ID: ${ue.substring(0,16)}... (from getOrders result)`,timestamp:Date.now()});try{const ce=await O.current.getOrder(ue);V(W,{success:!!ce,message:`getOrder() - GET /clob/v1/order/{orderID} | Order ID: ${ue.substring(0,16)}...`,data:{order:ce,orderId:ue,source:"First order from getOrders() result"},timestamp:Date.now()})}catch(ce){V(W,{success:!1,message:`getOrder() failed for order ID: ${ue.substring(0,16)}...`,error:ce.message,data:{orderId:ue,endpoint:"GET /clob/v1/order/{orderID}"},timestamp:Date.now()})}}else V(W,{success:!1,message:"getOrder() test skipped: No valid order ID found in getOrders() result",error:"Order ID not found in order object",data:{order:ee,availableFields:Object.keys(ee||{})},timestamp:Date.now()})}else V(W,{success:!0,message:"getOrder() test skipped: No orders available from getOrders() (need at least 1 order)",data:{ordersCount:ve.length,note:"getOrder() test requires at least one order from getOrders()"},timestamp:Date.now()});try{const ee=await O.current.getOrderHistory(R),ue=Array.isArray(ee)?ee:(ee==null?void 0:ee.orders)||[],ce=ee&&(Array.isArray(ue)||ee.orders!==void 0);V(W,{success:ce,message:`getOrderHistory() - GET /clob/v1/address/orders/history?address={address} returned ${Array.isArray(ue)?ue.length:0} orders`,data:Array.isArray(ue)?ue.slice(0,3):ee,timestamp:Date.now()})}catch(ee){V(W,{success:!1,message:"getOrderHistory() failed",error:ee.message,timestamp:Date.now()})}try{const ee=await O.current.getTradeHistory(R),ue=Array.isArray(ee)?ee:[],ce=Array.isArray(ue);V(W,{success:ce,message:`getTradeHistory() - GET /clob/v1/address/trades?address={address} returned ${ue.length} trades`,data:ue.slice(0,3),timestamp:Date.now()})}catch(ee){V(W,{success:!1,message:"getTradeHistory() failed",error:ee.message,timestamp:Date.now()})}try{const ee=await O.current.getBuckets(R);if(V(W,{success:Array.isArray(ee)||ee!==void 0,message:`getBuckets() - GET /bucket/v1/address/{address}/buckets returned ${Array.isArray(ee)?ee.length:"data"}`,data:Array.isArray(ee)?ee.slice(0,3):ee,timestamp:Date.now()}),Array.isArray(ee)&&ee.length>0){const ce=ee[0].bucket_id;if(ce)try{const Ce=await O.current.getBucket(ce);V(W,{success:!!Ce,message:`getBucket() - GET /bucket/v1/bucket/{bucket_id} (${ce.substring(0,16)}...)`,data:Ce,timestamp:Date.now()})}catch(Ce){V(W,{success:!1,message:`getBucket(${ce.substring(0,16)}...) failed`,error:Ce.message,timestamp:Date.now()})}}}catch(ee){V(W,{success:!1,message:"getBuckets() failed",error:ee.message,timestamp:Date.now()})}V(W,{success:!0,message:"Testing useBuckets hook...",timestamp:Date.now()});try{if(await le(),V(W,{success:!be&&!ae,message:`useBuckets hook: ${X.length} buckets loaded`,data:{buckets:X.slice(0,3),loading:ae,error:be,totalBuckets:X.length},timestamp:Date.now()}),X.length>0){const ue=(pe=X[0].bucketId)==null?void 0:pe.toString();if(ue)try{const ce=await O.current.getBucket(ue);V(W,{success:!!ce,message:`getBucket() - GET /bucket/v1/bucket/{bucket_id} via hook bucket ID (${ue.substring(0,16)}...)`,data:ce,timestamp:Date.now()})}catch(ce){V(W,{success:!1,message:"getBucket() via hook bucket ID failed",error:ce.message,timestamp:Date.now()})}}}catch(ee){V(W,{success:!1,message:"useBuckets hook test failed",error:ee.message,timestamp:Date.now()})}}catch(ve){V(W,{success:!1,message:"Wallet Specific test error",error:ve.message,timestamp:Date.now()})}},Ue=async()=>{var de,me,oe,pe,ve;const W="InfoClient";O.current=new Cr({baseURL:F.current}),s&&O.current&&O.current.setSessionToken(s);try{V(W,{success:!0,message:"Testing getMarkets()...",timestamp:Date.now()});const ee=await j();$.current=Array.isArray(ee)?ee:[];const ue=Array.isArray(ee)?ee.length:0,ce=ue>0?ee.find(he=>he.active||he.status==="active")??ee[0]:null,Ce=(ce==null?void 0:ce.market_id)??((de=ce==null?void 0:ce.id)==null?void 0:de.toString())??null;if(V(W,{success:Array.isArray(ee)&&ue>0,message:`getMarkets() - GET /market/v1/all returned ${ue} markets${Ce?` | Using market ID: ${Ce} (${(ce==null?void 0:ce.moniker)||(ce==null?void 0:ce.symbol)||"auto-selected"})`:""}`,data:{count:ue,defaultMarketId:Ce,defaultMarket:ce?{id:ce.id,market_id:ce.market_id,moniker:ce.moniker,symbol:ce.symbol,active:ce.active,status:ce.status}:null,markets:ee.slice(0,5)},timestamp:Date.now()}),Ce){i(Ce),z.current=Ce;const he=(ce==null?void 0:ce.moniker)||(ce==null?void 0:ce.symbol)||(ce!=null&&ce.baseAsset&&(ce!=null&&ce.quoteAsset)?`${ce.baseAsset}-${ce.quoteAsset}`:"Unknown");V(W,{success:!0,message:`Markets loaded: ${ue} | Auto-selected: ${he} (ID: ${Ce.substring(0,10)}...)`,data:{selectedMarketId:Ce,count:ue,market:ce},timestamp:Date.now()}),V(W,{success:!0,message:"Waiting 1.5s for market selection to take effect...",timestamp:Date.now()}),await new Promise(Te=>setTimeout(Te,1500)),V(W,{success:!0,message:`Market ID ready: ${Ce}`,data:{marketId:Ce},timestamp:Date.now()}),V(W,{success:!0,message:`Proceeding with market: ${he}`,timestamp:Date.now()})}const Me=Ce||ge||r;if(Me){V(W,{success:!0,message:`Testing getOrderbook(${Me}, true)...`,timestamp:Date.now()});try{const he=await O.current.getOrderbook(Me,!0);V(W,{success:!!he&&(!!he.bids||!!he.asks),message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} with decimal conversion",data:{bids:(me=he==null?void 0:he.bids)==null?void 0:me.slice(0,3),asks:(oe=he==null?void 0:he.asks)==null?void 0:oe.slice(0,3)},timestamp:Date.now()});const Te=await O.current.getOrderbook(Me,!1);V(W,{success:!!Te&&(!!Te.bids||!!Te.asks),message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} raw satoshi format",data:{bids:(pe=Te==null?void 0:Te.bids)==null?void 0:pe.slice(0,2),asks:(ve=Te==null?void 0:Te.asks)==null?void 0:ve.slice(0,2)},timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} failed",error:he.message,timestamp:Date.now()})}V(W,{success:!0,message:`Testing getTicker(${Me})...`,timestamp:Date.now()});try{const he=await O.current.getTicker(Me);V(W,{success:!!he,message:"getTicker() - GET /market/v1/market/{marketId}/stats",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getTicker() - GET /market/v1/market/{marketId}/stats failed",error:he.message,timestamp:Date.now()})}V(W,{success:!0,message:`Testing getRecentTrades(${Me}, 10)...`,timestamp:Date.now()});try{const he=await O.current.getRecentTrades(Me,10);V(W,{success:Array.isArray(he),message:`getRecentTrades() - GET /clob/v1/trades?market_id={marketId} returned ${Array.isArray(he)?he.length:0} trades`,data:he==null?void 0:he.slice(0,3),timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getRecentTrades() - GET /clob/v1/trades?market_id={marketId} failed",error:he.message,timestamp:Date.now()})}}else V(W,{success:!1,message:"Skipping market-specific tests: No market ID available",error:"Please ensure markets are loaded and a market is selected",timestamp:Date.now()});V(W,{success:!0,message:"Testing router/v1 endpoints...",timestamp:Date.now()});try{const he=await O.current.getSupportedActions();V(W,{success:Array.isArray(he==null?void 0:he.actions)||(he==null?void 0:he.actions)!==void 0,message:"getSupportedActions() - GET /router/v1/tx/supported-actions",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getSupportedActions() - GET /router/v1/tx/supported-actions failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.validateAction("clob::submit_order");V(W,{success:(he==null?void 0:he.valid)!==void 0||he!==void 0,message:'validateAction() - GET /router/v1/tx/validate-action ("clob::submit_order")',data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"validateAction() - GET /router/v1/tx/validate-action failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getHealthSummary();V(W,{success:!!he,message:"getHealthSummary() - GET /router/v1/health/summary",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getHealthSummary() - GET /router/v1/health/summary failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getHealthDaemons();V(W,{success:!!he,message:"getHealthDaemons() - GET /router/v1/health/daemons",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getHealthDaemons() - GET /router/v1/health/daemons failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getServerTime();V(W,{success:!!he&&(he.serverTime!==void 0||he!==void 0),message:"getServerTime() - GET /router/v1/time",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getServerTime() - GET /router/v1/time failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getMetricsTPS();V(W,{success:!!he,message:"getMetricsTPS() - GET /router/v1/metrics/tps",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getMetricsTPS() - GET /router/v1/metrics/tps failed",error:he.message,timestamp:Date.now()})}try{const he=await O.current.getMetricsLatency();V(W,{success:!!he,message:"getMetricsLatency() - GET /router/v1/metrics/latency",data:he,timestamp:Date.now()})}catch(he){V(W,{success:!1,message:"getMetricsLatency() - GET /router/v1/metrics/latency failed",error:he.message,timestamp:Date.now()})}}catch(ee){V(W,{success:!1,message:"InfoClient test error",error:ee.message,timestamp:Date.now()})}},Ke=async()=>{var pe,ve,ee;const W="ExchangeClient";if(!N){V(W,{success:!1,message:"Mnemonic required for ExchangeClient tests",error:"No mnemonic provided",timestamp:Date.now()});return}let de=r||ge||z.current||"";if(!de||de.trim()===""){if($.current&&$.current.length>0){const ue=$.current.find(ce=>ce.active||ce.status==="active")??$.current[0];ue&&(de=ue.market_id??((pe=ue.id)==null?void 0:pe.toString())??"",z.current=de,V(W,{success:!0,message:`Market ID not in state, using from fetched markets ref: ${de.substring(0,16)}...`,data:{source:"fetchedMarketsRef",marketId:de,market:{moniker:ue.moniker,symbol:ue.symbol,active:ue.active}},timestamp:Date.now()}))}else if(D&&D.length>0){const ue=D.find(ce=>ce.active||ce.status==="active")??D[0];ue&&(de=ue.market_id??((ve=ue.id)==null?void 0:ve.toString())??"",V(W,{success:!0,message:`Market ID not in state, using from markets state: ${de.substring(0,16)}...`,data:{source:"markets state",marketId:de,market:{moniker:ue.moniker,symbol:ue.symbol,active:ue.active}},timestamp:Date.now()}))}}if(!de||de.trim()===""){V(W,{success:!1,message:"Market ID required from page or loaded markets",error:`Please enter or select a market ID in the configuration section, or ensure markets are loaded first. Debug: marketId="${r||"(empty)"}", effectiveMarketId="${ge||"(empty)"}", fetchedMarketIdRef="${z.current||"(empty)"}", fetchedMarketsRef.length=${$.current.length}, markets.length=${D.length}`,data:{marketId:r||"(empty)",effectiveMarketId:ge||"(empty)",defaultMarketId:xe||"(empty)",fetchedMarketIdRef:z.current||"(empty)",fetchedMarketsRefCount:$.current.length,marketsCount:D.length,marketsAvailable:D.length>0||$.current.length>0},timestamp:Date.now()});return}const me=R||"";if(!me||me.trim()===""){V(W,{success:!1,message:"Wallet address required from page",error:"Wallet address should be generated from mnemonic or entered manually. Please ensure mnemonic is valid.",timestamp:Date.now()});return}const oe=r?"page state (marketId)":ge?"page state (effectiveMarketId)":"loaded markets array";V(W,{success:!0,message:`Using market ID from ${oe}: ${de.substring(0,16)}...`,data:{marketId:de,source:oe},timestamp:Date.now()}),V(W,{success:!0,message:`Using wallet address from page: ${me.substring(0,10)}...`,data:{walletAddress:me},timestamp:Date.now()}),(s||a)&&V(W,{success:!0,message:`Using signing tokens: ${s?"Session Token":""} ${a?"Auth Token":""}`,data:{hasSessionToken:!!s,hasAuthToken:!!a},timestamp:Date.now()}),I.current=new th({baseURL:F.current,mnemonic:Z.current});try{V(W,{success:!0,message:"Initializing ExchangeClient...",timestamp:Date.now()}),await I.current.initialize();const ue=I.current.getWalletAddress();if(ue.toLowerCase()!==me.toLowerCase()){V(W,{success:!1,message:"Wallet address mismatch",error:`ExchangeClient wallet (${ue}) does not match page wallet (${me})`,timestamp:Date.now()});return}V(W,{success:!0,message:`ExchangeClient initialized successfully (Wallet: ${ue.substring(0,10)}...)`,data:{walletAddress:ue,marketId:de,verified:!0},timestamp:Date.now()});const ce=de;V(W,{success:!0,message:`Using market ID as string: ${ce}`,data:{marketId:ce},timestamp:Date.now()});let Ce=null;V(W,{success:!0,message:"Testing placeOrder with validation for btc-usdc-perp market...",timestamp:Date.now()});let Me=[];try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const Se=await O.current.getBuckets(ue);Me=Array.isArray(Se)?Se:[],V(W,{success:!0,message:`Fetched ${Me.length} bucket(s) for order test`,timestamp:Date.now()})}catch(Se){V(W,{success:!1,message:"Failed to fetch buckets for order test",error:Se.message,timestamp:Date.now()})}let he=null;try{const ie=($.current.length>0?$.current:D).find(re=>{const se=(re.moniker||"").toLowerCase(),tt=(re.symbol||"").toLowerCase();return se.includes("btc-usdc-perp")||se.includes("btcusdcperp")||tt.includes("btc-usdc-perp")||tt.includes("btcusdcperp")||re.baseAsset&&re.quoteAsset&&re.baseAsset.toLowerCase()==="btc"&&re.quoteAsset.toLowerCase()==="usdc"});ie?(he=ie.market_id||((ee=ie.id)==null?void 0:ee.toString())||null,V(W,{success:!!he,message:`Found btc-usdc-perp market: ${he==null?void 0:he.substring(0,16)}...`,data:{marketId:he,moniker:ie.moniker,symbol:ie.symbol},timestamp:Date.now()})):V(W,{success:!1,message:"btc-usdc-perp market not found in available markets",error:"Please ensure btc-usdc-perp market is available",timestamp:Date.now()})}catch(Se){V(W,{success:!1,message:"Failed to find btc-usdc-perp market",error:Se.message,timestamp:Date.now()})}if(he)try{let Se=null;if(Me.length>0){const ie=Me[0];Se=ie.bucket_id||ie.id||ie.bucketId||null}if(!Se)V(W,{success:!1,message:"Default bucket not available for balance validation",error:"No buckets found",timestamp:Date.now()});else{V(W,{success:!0,message:"Step 1: Loading default bucket balance and checking available margin...",timestamp:Date.now()});const ie=1.01,re=100,se=10500,tt=_n(re.toString()),Re=ie*se/re;let He=0,Oe=0,Xe=0,dt=0;try{if(!O.current)throw new Error("InfoClient not initialized");const nt=await O.current.getBucket(Se);Xe=It(nt.available_margin||"0"),Oe=It(nt.deposited_margin||"0"),dt=It(nt.total_equity||"0"),He=Xe,V(W,{success:!0,message:"Step 1: Default bucket balance loaded",data:{availableMargin:Xe.toFixed(2),depositedMargin:Oe.toFixed(2),totalEquity:dt.toFixed(2),requiredMargin:Re.toFixed(2),raw:nt},timestamp:Date.now()}),V(W,{success:!0,message:`Step 1: Validating sufficient available margin (required: ${Re.toFixed(2)} USDC, available: ${Xe.toFixed(2)} USDC)...`,timestamp:Date.now()});const an=Xe>=Re;if(V(W,{success:an,message:`Step 1: Margin validation ${an?"PASSED":"FAILED"}`,data:{availableMargin:Xe.toFixed(2),requiredMargin:Re.toFixed(2),marginDifference:(Xe-Re).toFixed(2),hasSufficientMargin:an,orderQuantity:`${ie.toFixed(2)} BTC`,orderPrice:`${se.toFixed(2)} USDC/BTC`,orderLeverage:re.toFixed(2),calculation:`(${ie.toFixed(2)} BTC * ${se.toFixed(2)} USDC/BTC) / ${re.toFixed(2)} = ${Re.toFixed(2)} USDC`},timestamp:Date.now()}),!an)throw V(W,{success:!1,message:`Step 1: Insufficient available margin. Required: ${Re.toFixed(2)} USDC, Available: ${Xe.toFixed(2)} USDC`,error:`Available margin (${Xe.toFixed(2)} USDC) is less than required margin (${Re.toFixed(2)} USDC)`,data:{availableMargin:Xe.toFixed(2),requiredMargin:Re.toFixed(2),shortfall:(Re-Xe).toFixed(2)},timestamp:Date.now()}),new Error(`Insufficient available margin: ${Xe.toFixed(2)} USDC available, ${Re.toFixed(2)} USDC required`);V(W,{success:!0,message:"Step 1: Sufficient margin available. Proceeding to place order...",data:{availableMargin:Xe.toFixed(2),requiredMargin:Re.toFixed(2),marginRemaining:(Xe-Re).toFixed(2)},timestamp:Date.now()})}catch(nt){throw V(W,{success:!1,message:"Step 1: Failed to load or validate bucket balance",error:nt.message,timestamp:Date.now()}),nt}V(W,{success:!0,message:`Step 2: Preparing to place order - Quantity: ${ie.toFixed(2)} BTC, Leverage: ${re}x, Price: ${se.toFixed(2)} USDC/BTC...`,timestamp:Date.now()}),V(W,{success:!0,message:"Step 2.1: Re-checking default bucket available margin before placing order...",timestamp:Date.now()});let Ve=0;try{if(!O.current)throw new Error("InfoClient not initialized");const nt=await O.current.getBucket(Se);Ve=It(nt.available_margin||"0"),V(W,{success:!0,message:`Step 2.1: Current available margin: ${Ve.toFixed(2)} USDC`,data:{currentAvailableMargin:Ve.toFixed(2),requiredMargin:Re.toFixed(2),previousAvailableMargin:Xe.toFixed(2),raw:nt},timestamp:Date.now()});const an=Ve>=Re;if(V(W,{success:an,message:`Step 2.1: Margin check ${an?"PASSED":"FAILED"}`,data:{currentAvailableMargin:Ve.toFixed(2),requiredMargin:Re.toFixed(2),marginDifference:(Ve-Re).toFixed(2),stillHasSufficientMargin:an},timestamp:Date.now()}),!an)throw V(W,{success:!1,message:`Step 2.1: Insufficient available margin. Required: ${Re.toFixed(2)} USDC, Available: ${Ve.toFixed(2)} USDC`,error:`Available margin (${Ve.toFixed(2)} USDC) is less than required margin (${Re.toFixed(2)} USDC)`,data:{currentAvailableMargin:Ve.toFixed(2),requiredMargin:Re.toFixed(2),shortfall:(Re-Ve).toFixed(2)},timestamp:Date.now()}),new Error(`Insufficient available margin: ${Ve.toFixed(2)} USDC available, ${Re.toFixed(2)} USDC required`);V(W,{success:!0,message:"Step 2.1: Sufficient margin confirmed. Proceeding with order placement...",data:{currentAvailableMargin:Ve.toFixed(2),requiredMargin:Re.toFixed(2),marginRemaining:(Ve-Re).toFixed(2)},timestamp:Date.now()})}catch(nt){throw V(W,{success:!1,message:"Step 2.1: Failed to validate available margin before order placement",error:nt.message,timestamp:Date.now()}),nt}if(V(W,{success:!0,message:`Step 2.2: Placing order - Quantity: ${ie.toFixed(2)} BTC, Leverage: ${re}x, Price: ${se.toFixed(2)} USDC/BTC...`,timestamp:Date.now()}),!X||X.length===0)throw new Error("No buckets available. Please create a bucket first.");const Ie=X[0].bucketId;if(!Ie)throw new Error("Bucket ID not found in bucket data");let at=null,ke=null;const _t={marketId:he,bucketId:Ie,side:"buy",orderType:"LIMIT",price:se,quantity:ie,timeInForce:"GTC",leverage:tt},gt={maxRetries:10,baseDelay:500,maxDelay:2e3,jitter:!0,multiplier:1.5};let St=0;try{at=await qC(gt,async()=>{if(St++,St>1&&V(W,{success:!0,message:`Step 2.2: Retrying order placement (attempt ${St}/${gt.maxRetries+1})...`,data:{attemptCount:St},timestamp:Date.now()}),!I.current)throw new Error("ExchangeClient not initialized");const nt=await I.current.placeOrder(_t),an=(nt==null?void 0:nt.order_id)||null;if(!nt||!an)throw new Error("Order placed but order_id not found in response");return nt},async nt=>{if(N7(nt)){V(W,{success:!1,message:`Step 2.2: Nonce error detected (attempt ${St}/${gt.maxRetries+1}): ${(nt==null?void 0:nt.message)||String(nt)}`,data:{error:(nt==null?void 0:nt.message)||String(nt),errorType:"nonce error",attemptCount:St,willRetry:St<=gt.maxRetries},timestamp:Date.now()});try{if(!I.current)throw new Error("ExchangeClient not initialized");await I.current.refreshNonceFromServer(),V(W,{success:!0,message:"Step 2.2: Refreshed nonce from server, will retry...",timestamp:Date.now()})}catch(Qn){V(W,{success:!1,message:"Step 2.2: Failed to refresh nonce from server",error:(Qn==null?void 0:Qn.message)||String(Qn),timestamp:Date.now()})}return!0}return V(W,{success:!1,message:"Step 2.2: Failed to place order (non-retryable error)",error:(nt==null?void 0:nt.message)||String(nt),data:{error:(nt==null?void 0:nt.message)||String(nt),isNonceError:!1},timestamp:Date.now()}),!1}),ke=(at==null?void 0:at.order_id)||null,V(W,{success:!!at&&!!ke,message:`Step 2.2: Order placed successfully${St>1?` (after ${St-1} retry${St>2?"ies":""})`:""}. Order ID: ${ke==null?void 0:ke.substring(0,16)}...`,data:{orderResult:at,orderId:ke,requestBody:_t,attemptCount:St},timestamp:Date.now()})}catch(nt){throw V(W,{success:!1,message:`Step 2.2: Failed to place order after ${St} attempt${St>1?"s":""}`,error:(nt==null?void 0:nt.message)||String(nt),data:{error:(nt==null?void 0:nt.message)||String(nt),attemptCount:St,maxRetriesReached:St>gt.maxRetries},timestamp:Date.now()}),nt}if(!at||!ke)throw new Error(`Failed to place order after ${St} attempts`);if(await new Promise(nt=>setTimeout(nt,1500)),ke){V(W,{success:!0,message:"Step 3: Validating pending order details...",timestamp:Date.now()});try{if(!O.current)throw new Error("InfoClient not initialized");const nt=await O.current.getOrder(ke);if(nt){const an=It(nt.price||"0"),Qn=It(nt.quantity||"0"),ln=It(nt.leverage||"0"),qs=nt.side||"",ui=nt.market_id||"",wo=Math.abs(an-se)<.01,oa=Math.abs(Qn-ie)<.01,Rr=Math.abs(ln-re)<.01,di=ui===he,Hs=qs.toUpperCase().includes("BUY");V(W,{success:wo&&oa&&Rr&&di&&Hs,message:`Step 3: Order validation ${wo&&oa&&Rr&&di&&Hs?"PASSED":"FAILED"}`,data:{orderId:ke,expectedPrice:se.toFixed(2),actualPrice:an.toFixed(2),priceValid:wo,expectedQuantity:`${ie.toFixed(2)} BTC`,actualQuantity:`${Qn.toFixed(2)} BTC`,quantityValid:oa,expectedLeverage:re.toFixed(2),actualLeverage:ln.toFixed(2),leverageValid:Rr,expectedMarketId:he,actualMarketId:ui,marketIdValid:di,expectedSide:"buy",actualSide:qs,sideValid:Hs,orderStatus:nt.status,rawOrder:nt},timestamp:Date.now()}),wo||V(W,{success:!1,message:`Order price mismatch: Expected ${se.toFixed(2)}, got ${an.toFixed(2)}`,timestamp:Date.now()}),oa||V(W,{success:!1,message:`Order quantity mismatch: Expected ${ie.toFixed(2)} BTC, got ${Qn.toFixed(2)} BTC`,timestamp:Date.now()}),Rr||V(W,{success:!1,message:`Order leverage mismatch: Expected ${re.toFixed(2)}, got ${ln.toFixed(2)}`,timestamp:Date.now()}),di||V(W,{success:!1,message:`Order market ID mismatch: Expected ${he}, got ${ui}`,timestamp:Date.now()}),Hs||V(W,{success:!1,message:`Order side mismatch: Expected buy, got ${qs}`,timestamp:Date.now()})}else V(W,{success:!1,message:"Step 3: Failed to retrieve pending order",error:"Order not found",timestamp:Date.now()})}catch(nt){V(W,{success:!1,message:"Step 3: Failed to validate pending order",error:nt.message,timestamp:Date.now()})}}V(W,{success:!0,message:"Step 4: Loading default bucket USDC balance after placing order...",timestamp:Date.now()});let Ut=0;try{if(!O.current)throw new Error("InfoClient not initialized");const nt=await O.current.getBucket(Se);Ut=It(nt.available_margin||"0"),V(W,{success:!0,message:`Step 4: Default bucket USDC balance after: ${Ut.toFixed(2)} USDC`,data:{balance:Ut,raw:nt},timestamp:Date.now()})}catch(nt){throw V(W,{success:!1,message:"Step 4: Failed to load bucket balance after order",error:nt.message,timestamp:Date.now()}),nt}V(W,{success:!0,message:"Step 5: Validating bucket balance change...",timestamp:Date.now()});const zt=Ve-Ut,tn=Re,Wt=Math.abs(zt-tn)<.01;V(W,{success:Wt,message:`Step 5: Bucket balance validation ${Wt?"PASSED":"FAILED"}`,data:{availableMarginBeforeOrder:Ve.toFixed(2),availableMarginAfterOrder:Ut.toFixed(2),marginReserved:zt.toFixed(2),expectedMarginReserved:tn.toFixed(2),marginReservedValid:Wt,orderQuantity:`${ie.toFixed(2)} BTC`,orderPrice:`${se.toFixed(2)} USDC/BTC`,orderLeverage:re.toFixed(2),calculation:`(${ie.toFixed(2)} BTC * ${se.toFixed(2)} USDC/BTC) / ${re.toFixed(2)} = ${tn.toFixed(2)} USDC`,note:"Using available margin from Step 2.1 as baseline (most recent before order placement)"},timestamp:Date.now()}),Wt||V(W,{success:!1,message:`Bucket balance change mismatch: Expected margin reserved ${tn.toFixed(2)} USDC, actual change ${zt.toFixed(2)} USDC`,error:`Expected available margin to decrease by ${tn.toFixed(2)} USDC, but decreased by ${zt.toFixed(2)} USDC`,timestamp:Date.now()}),V(W,{success:Wt,message:`Place order validation test ${Wt?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{orderId:ke,marketId:he,orderQuantity:`${ie.toFixed(2)} BTC`,orderLeverage:`${re}x`,orderPrice:`${se.toFixed(2)} USDC`,availableMarginBeforeOrder:`${Ve.toFixed(2)} USDC`,availableMarginAfterOrder:`${Ut.toFixed(2)} USDC`,marginReserved:`${zt.toFixed(2)} USDC`,expectedMarginReserved:`${tn.toFixed(2)} USDC`,validationPassed:Wt},timestamp:Date.now()})}}catch(Se){V(W,{success:!1,message:"Place order validation test failed",error:Se.message,timestamp:Date.now()})}if(de){if(!X||X.length===0){V(W,{success:!1,message:"placeOrder() - No buckets available. Please create a bucket first.",error:"Bucket ID is required for order placement",timestamp:Date.now()});return}const ie=X[0].bucketId;if(!ie){V(W,{success:!1,message:"placeOrder() - Bucket ID not found in bucket data",error:"Bucket ID is required for order placement",timestamp:Date.now()});return}const re=1,se=_n(re.toString()),tt={marketId:ce,bucketId:ie,side:"buy",orderType:"LIMIT",price:40010.8778,quantity:.01,timeInForce:"GTC",leverage:se};V(W,{success:!0,message:`Testing placeOrder() (submit order) for market ${de}...`,data:{requestBody:tt,endpoint:"POST /clob/v1/order",note:"Price and quantity are decimal numbers, converted to satoshi strings in buildOrderPayload(). Leverage is already in satoshi format.",leverage:{decimal:re,satoshi:se}},timestamp:Date.now()});try{const Re=await I.current.placeOrder(tt);Re?(Ce=Re.order_id||null,Ce?V(W,{success:!0,message:`placeOrder() - POST /clob/v1/order executed successfully. Order ID: ${Ce.substring(0,16)}...`,data:{orderResult:Re,orderId:Ce,requestBody:tt,endpoint:"POST /clob/v1/order"},timestamp:Date.now()}):V(W,{success:!0,message:"placeOrder() - POST /clob/v1/order executed successfully (orderId not found in response)",data:{orderResult:Re,requestBody:tt,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})):V(W,{success:!1,message:"placeOrder() - POST /clob/v1/order returned empty response",data:{requestBody:tt,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})}catch(Re){V(W,{success:!1,message:"placeOrder() - POST /clob/v1/order failed",error:Re.message,data:{requestBody:tt,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping placeOrder() test: No market ID available",timestamp:Date.now()});if(de&&Ce){V(W,{success:!0,message:`Testing cancelOrder() for order ${Ce.substring(0,16)}...`,timestamp:Date.now()});try{const Se=await I.current.cancelOrder({orderId:Ce,marketId:ce});V(W,{success:!!Se,message:"cancelOrder() - POST /router/v1/tx executed successfully",data:Se,timestamp:Date.now()})}catch(Se){V(W,{success:!1,message:"cancelOrder() - POST /router/v1/tx failed",error:Se.message,timestamp:Date.now()})}}else de?Ce||V(W,{success:!0,message:"Skipping cancelOrder() test: No order ID available (placeOrder may have failed or orderId not in response)",timestamp:Date.now()}):V(W,{success:!0,message:"Skipping cancelOrder() test: No market ID available",timestamp:Date.now()});if(de){V(W,{success:!0,message:`Testing closePosition() for market ${de}...`,timestamp:Date.now()});try{let Se=!1,ie=0,re;try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const se=await O.current.getPositions(ue),tt=Array.isArray(se)?se.find(Re=>(Re.market_id||Re.marketId)===de):null;if(tt)if(Se=!0,re=tt.position_id||tt.positionId,tt.mark_price)ie=It(tt.mark_price||"0");else{const Re=await O.current.getTicker(de);Re&&Re.last_price&&(ie=It(typeof Re.last_price=="string"?Re.last_price:String(Re.last_price)))}}catch(se){V(W,{success:!0,message:`Position check failed (will attempt close anyway): ${se.message}`,timestamp:Date.now()})}if(!Se)V(W,{success:!0,message:"No open position found for this market. Skipping closePosition() test.",data:{marketId:de,note:"closePosition() requires an open position to test"},timestamp:Date.now()});else if(!re)V(W,{success:!1,message:"closePosition() - positionId is required but not found in position data",timestamp:Date.now()});else{const se=await I.current.closePosition({positionId:re,marketId:ce,marketPrice:ie>0?ie:void 0,quantity:void 0});V(W,{success:!!se,message:"closePosition() - POST /bucket/v1/position/close executed successfully",data:{closeResult:se,note:"quantity=undefined means close full position (closeSize=0 in request)"},timestamp:Date.now()})}}catch(Se){V(W,{success:!1,message:"closePosition() - POST /bucket/v1/position/close failed (may not have open position)",error:Se.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping closePosition() test: No market ID available",timestamp:Date.now()});V(W,{success:!0,message:"Fetching buckets for bucket operation tests...",timestamp:Date.now()});let Te=[];try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const Se=await O.current.getBuckets(ue);Te=Array.isArray(Se)?Se:[],V(W,{success:!0,message:`Found ${Te.length} bucket(s) for testing`,data:{bucketCount:Te.length,buckets:Te.slice(0,3).map(ie=>({bucketId:ie.bucket_id||ie.id||ie.bucketId,availableMargin:ie.available_margin||ie.availableMargin}))},timestamp:Date.now()})}catch(Se){V(W,{success:!1,message:"Failed to fetch buckets for testing",error:Se.message,timestamp:Date.now()})}if(Te.length>0){const Se=Te[0],ie=Se.bucket_id||Se.id||Se.bucketId;if(ie){V(W,{success:!0,message:"Testing extractToBucket() (1 USD = 100000000 satoshi)...",timestamp:Date.now()});try{const re=await I.current.extractToBucket({bucketId:ie,assetId:"USDC",amount:1});V(W,{success:!!re,message:"extractToBucket() - POST /bank/v1/extract-to-bucket executed successfully",data:re,timestamp:Date.now()})}catch(re){V(W,{success:!1,message:"extractToBucket() - POST /bank/v1/extract-to-bucket failed",error:re.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping extractToBucket() test: No valid bucket ID found",timestamp:Date.now()})}else V(W,{success:!0,message:"Skipping extractToBucket() test: No buckets available",timestamp:Date.now()});if(Te.length>0){const Se=Te[0],ie=Se.bucket_id||Se.id||Se.bucketId;if(ie){V(W,{success:!0,message:"Testing bucket to spot wallet transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(W,{success:!0,message:"Step 1: Loading bucket USDC balance before transfer...",timestamp:Date.now()});let re=0;try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const ke=await O.current.getBucket(ie);re=It(ke.available_margin||"0"),V(W,{success:!0,message:`Step 1: Bucket USDC balance before: ${re.toFixed(2)} USDC`,data:{balance:re,raw:ke},timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 1: Failed to load bucket balance",error:ke.message,timestamp:Date.now()}),ke}V(W,{success:!0,message:"Step 2: Loading spot wallet USDC balance before transfer...",timestamp:Date.now()});let se=0;try{const ke=await O.current.getBalanceDecimal(ue,"USDC");se=It(ke.available_balance||"0"),V(W,{success:!0,message:`Step 2: Spot wallet USDC balance before: ${se.toFixed(2)} USDC`,data:{balance:se,raw:ke},timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 2: Failed to load spot wallet balance",error:ke.message,timestamp:Date.now()}),ke}const tt=10,Re=_n(tt.toString());V(W,{success:!0,message:`Step 3: Transferring ${tt.toFixed(2)} USDC (${Re} satoshi) from bucket to spot wallet...`,timestamp:Date.now()});try{const ke=await I.current.withdrawFromBucket({bucketId:ie,assetId:"USDC",amount:tt});V(W,{success:!!ke,message:"Step 3: Transfer executed successfully",data:ke,timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 3: Transfer failed",error:ke.message,timestamp:Date.now()}),ke}await new Promise(ke=>setTimeout(ke,1e3)),V(W,{success:!0,message:"Step 4: Loading bucket USDC balance after transfer...",timestamp:Date.now()});let He=0;try{const ke=await O.current.getBucket(ie);He=It(ke.available_margin||"0"),V(W,{success:!0,message:`Step 4: Bucket USDC balance after: ${He.toFixed(2)} USDC`,data:{balance:He,raw:ke},timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 4: Failed to load bucket balance after transfer",error:ke.message,timestamp:Date.now()}),ke}V(W,{success:!0,message:"Step 5: Loading spot wallet USDC balance after transfer...",timestamp:Date.now()});let Oe=0;try{const ke=await O.current.getBalanceDecimal(ue,"USDC");Oe=It(ke.available_balance||"0"),V(W,{success:!0,message:`Step 5: Spot wallet USDC balance after: ${Oe.toFixed(2)} USDC`,data:{balance:Oe,raw:ke},timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 5: Failed to load spot wallet balance after transfer",error:ke.message,timestamp:Date.now()}),ke}V(W,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Xe=re-He,dt=Oe-se,Ve=tt,ot=tt,Ie=Math.abs(Xe-Ve)<.01,at=Math.abs(dt-ot)<.01;V(W,{success:Ie&&at,message:`Step 6: Validation ${Ie&&at?"PASSED":"FAILED"}`,data:{bucketBalanceBefore:re.toFixed(2),bucketBalanceAfter:He.toFixed(2),bucketBalanceDecrease:Xe.toFixed(2),expectedBucketDecrease:Ve.toFixed(2),bucketDecreaseValid:Ie,walletBalanceBefore:se.toFixed(2),walletBalanceAfter:Oe.toFixed(2),walletBalanceIncrease:dt.toFixed(2),expectedWalletIncrease:ot.toFixed(2),walletIncreaseValid:at,transferAmount:tt.toFixed(2)},timestamp:Date.now()}),Ie||V(W,{success:!1,message:`Validation failed: Bucket balance decrease (${Xe.toFixed(2)}) does not match expected (${Ve.toFixed(2)})`,error:`Expected bucket to decrease by ${Ve.toFixed(2)} USDC, but decreased by ${Xe.toFixed(2)} USDC`,timestamp:Date.now()}),at||V(W,{success:!1,message:`Validation failed: Wallet balance increase (${dt.toFixed(2)}) does not match expected (${ot.toFixed(2)})`,error:`Expected wallet to increase by ${ot.toFixed(2)} USDC, but increased by ${dt.toFixed(2)} USDC`,timestamp:Date.now()}),V(W,{success:Ie&&at,message:`Bucket to spot wallet transfer test ${Ie&&at?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${tt.toFixed(2)} USDC`,bucketBalanceBefore:`${re.toFixed(2)} USDC`,bucketBalanceAfter:`${He.toFixed(2)} USDC`,bucketBalanceChange:`${Xe.toFixed(2)} USDC`,walletBalanceBefore:`${se.toFixed(2)} USDC`,walletBalanceAfter:`${Oe.toFixed(2)} USDC`,walletBalanceChange:`${dt.toFixed(2)} USDC`,validationPassed:Ie&&at},timestamp:Date.now()})}catch(re){V(W,{success:!1,message:"Bucket to spot wallet transfer test failed",error:re.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping bucket to spot wallet transfer test: No valid bucket ID found",timestamp:Date.now()})}else V(W,{success:!0,message:"Skipping bucket to spot wallet transfer test: No buckets available",timestamp:Date.now()});if(Te.length>=2){const Se=Te[0],ie=Te[1],re=Se.bucket_id||Se.id||Se.bucketId,se=ie.bucket_id||ie.id||ie.bucketId;if(re&&se){V(W,{success:!0,message:"Testing bucket to bucket transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(W,{success:!0,message:"Step 1: Loading source bucket USDC balance before transfer...",timestamp:Date.now()});let tt=0;try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const gt=await O.current.getBucket(re);tt=It(gt.available_margin||"0"),V(W,{success:!0,message:`Step 1: Source bucket USDC balance before: ${tt.toFixed(2)} USDC`,data:{balance:tt,raw:gt},timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 1: Failed to load source bucket balance",error:gt.message,timestamp:Date.now()}),gt}V(W,{success:!0,message:"Step 2: Loading target bucket USDC balance before transfer...",timestamp:Date.now()});let Re=0;try{const gt=await O.current.getBucket(se);Re=It(gt.available_margin||"0"),V(W,{success:!0,message:`Step 2: Target bucket USDC balance before: ${Re.toFixed(2)} USDC`,data:{balance:Re,raw:gt},timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 2: Failed to load target bucket balance",error:gt.message,timestamp:Date.now()}),gt}const He=10,Oe=_n(He.toString());V(W,{success:!0,message:`Step 3: Transferring ${He.toFixed(2)} USDC (${Oe} satoshi) from source bucket to target bucket...`,timestamp:Date.now()});try{const gt=await I.current.bucketTransfer({fromBucketId:re,toBucketId:se,assetId:"USDC",amount:He});V(W,{success:!!gt,message:"Step 3: Transfer executed successfully",data:gt,timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 3: Transfer failed",error:gt.message,timestamp:Date.now()}),gt}await new Promise(gt=>setTimeout(gt,1e3)),V(W,{success:!0,message:"Step 4: Loading source bucket USDC balance after transfer...",timestamp:Date.now()});let Xe=0;try{const gt=await O.current.getBucket(re);Xe=It(gt.available_margin||"0"),V(W,{success:!0,message:`Step 4: Source bucket USDC balance after: ${Xe.toFixed(2)} USDC`,data:{balance:Xe,raw:gt},timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 4: Failed to load source bucket balance after transfer",error:gt.message,timestamp:Date.now()}),gt}V(W,{success:!0,message:"Step 5: Loading target bucket USDC balance after transfer...",timestamp:Date.now()});let dt=0;try{const gt=await O.current.getBucket(se);dt=It(gt.available_margin||"0"),V(W,{success:!0,message:`Step 5: Target bucket USDC balance after: ${dt.toFixed(2)} USDC`,data:{balance:dt,raw:gt},timestamp:Date.now()})}catch(gt){throw V(W,{success:!1,message:"Step 5: Failed to load target bucket balance after transfer",error:gt.message,timestamp:Date.now()}),gt}V(W,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Ve=tt-Xe,ot=dt-Re,Ie=He,at=He,ke=Math.abs(Ve-Ie)<.01,_t=Math.abs(ot-at)<.01;V(W,{success:ke&&_t,message:`Step 6: Validation ${ke&&_t?"PASSED":"FAILED"}`,data:{sourceBucketBalanceBefore:tt.toFixed(2),sourceBucketBalanceAfter:Xe.toFixed(2),sourceBucketBalanceDecrease:Ve.toFixed(2),expectedSourceDecrease:Ie.toFixed(2),sourceDecreaseValid:ke,targetBucketBalanceBefore:Re.toFixed(2),targetBucketBalanceAfter:dt.toFixed(2),targetBucketBalanceIncrease:ot.toFixed(2),expectedTargetIncrease:at.toFixed(2),targetIncreaseValid:_t,transferAmount:He.toFixed(2)},timestamp:Date.now()}),ke||V(W,{success:!1,message:`Validation failed: Source bucket balance decrease (${Ve.toFixed(2)}) does not match expected (${Ie.toFixed(2)})`,error:`Expected source bucket to decrease by ${Ie.toFixed(2)} USDC, but decreased by ${Ve.toFixed(2)} USDC`,timestamp:Date.now()}),_t||V(W,{success:!1,message:`Validation failed: Target bucket balance increase (${ot.toFixed(2)}) does not match expected (${at.toFixed(2)})`,error:`Expected target bucket to increase by ${at.toFixed(2)} USDC, but increased by ${ot.toFixed(2)} USDC`,timestamp:Date.now()}),V(W,{success:ke&&_t,message:`Bucket to bucket transfer test ${ke&&_t?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${He.toFixed(2)} USDC`,sourceBucketBalanceBefore:`${tt.toFixed(2)} USDC`,sourceBucketBalanceAfter:`${Xe.toFixed(2)} USDC`,sourceBucketBalanceChange:`${Ve.toFixed(2)} USDC`,targetBucketBalanceBefore:`${Re.toFixed(2)} USDC`,targetBucketBalanceAfter:`${dt.toFixed(2)} USDC`,targetBucketBalanceChange:`${ot.toFixed(2)} USDC`,validationPassed:ke&&_t},timestamp:Date.now()})}catch(tt){V(W,{success:!1,message:"Bucket to bucket transfer test failed",error:tt.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping bucket to bucket transfer test: Invalid bucket IDs",timestamp:Date.now()})}else V(W,{success:!0,message:"Skipping bucket to bucket transfer test: Need at least 2 buckets (found "+Te.length+")",timestamp:Date.now()});if(Te.length>0){const Se=Te[0],ie=Se.bucket_id||Se.id||Se.bucketId;if(ie){V(W,{success:!0,message:"Testing spot wallet to bucket default transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(W,{success:!0,message:"Step 1: Loading spot wallet USDC balance before transfer...",timestamp:Date.now()});let re=0;try{if(O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s),!O.current)throw new Error("Failed to initialize InfoClient");const ke=await O.current.getBalanceDecimal(ue,"USDC");re=It(ke.available_balance||"0"),V(W,{success:!0,message:`Step 1: Spot wallet USDC balance before: ${re.toFixed(2)} USDC`,data:{balance:re,raw:ke},timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 1: Failed to load spot wallet balance",error:ke.message,timestamp:Date.now()}),ke}V(W,{success:!0,message:"Step 2: Loading default bucket USDC balance before transfer...",timestamp:Date.now()});let se=0;try{O.current||(O.current=new Cr({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const ke=await O.current.getBucket(ie);se=It(ke.available_margin||"0"),V(W,{success:!0,message:`Step 2: Default bucket USDC balance before: ${se.toFixed(2)} USDC`,data:{balance:se,raw:ke},timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 2: Failed to load bucket balance",error:ke.message,timestamp:Date.now()}),ke}const tt=10,Re=_n(tt.toString());V(W,{success:!0,message:`Step 3: Transferring ${tt.toFixed(2)} USDC (${Re} satoshi) from spot wallet to default bucket...`,timestamp:Date.now()});try{const ke=await I.current.extractToBucket({bucketId:ie,assetId:"USDC",amount:tt});V(W,{success:!!ke,message:"Step 3: Transfer executed successfully",data:ke,timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 3: Transfer failed",error:ke.message,timestamp:Date.now()}),ke}await new Promise(ke=>setTimeout(ke,1e3)),V(W,{success:!0,message:"Step 4: Loading spot wallet USDC balance after transfer...",timestamp:Date.now()});let He=0;try{const ke=await O.current.getBalanceDecimal(ue,"USDC");He=It(ke.available_balance||"0"),V(W,{success:!0,message:`Step 4: Spot wallet USDC balance after: ${He.toFixed(2)} USDC`,data:{balance:He,raw:ke},timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 4: Failed to load spot wallet balance after transfer",error:ke.message,timestamp:Date.now()}),ke}V(W,{success:!0,message:"Step 5: Loading default bucket USDC balance after transfer...",timestamp:Date.now()});let Oe=0;try{const ke=await O.current.getBucket(ie);Oe=It(ke.available_margin||"0"),V(W,{success:!0,message:`Step 5: Default bucket USDC balance after: ${Oe.toFixed(2)} USDC`,data:{balance:Oe,raw:ke},timestamp:Date.now()})}catch(ke){throw V(W,{success:!1,message:"Step 5: Failed to load bucket balance after transfer",error:ke.message,timestamp:Date.now()}),ke}V(W,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Xe=re-He,dt=Oe-se,Ve=tt,ot=tt,Ie=Math.abs(Xe-Ve)<.01,at=Math.abs(dt-ot)<.01;V(W,{success:Ie&&at,message:`Step 6: Validation ${Ie&&at?"PASSED":"FAILED"}`,data:{walletBalanceBefore:re.toFixed(2),walletBalanceAfter:He.toFixed(2),walletBalanceDecrease:Xe.toFixed(2),expectedWalletDecrease:Ve.toFixed(2),walletDecreaseValid:Ie,bucketBalanceBefore:se.toFixed(2),bucketBalanceAfter:Oe.toFixed(2),bucketBalanceIncrease:dt.toFixed(2),expectedBucketIncrease:ot.toFixed(2),bucketIncreaseValid:at,transferAmount:tt.toFixed(2)},timestamp:Date.now()}),Ie||V(W,{success:!1,message:`Validation failed: Wallet balance decrease (${Xe.toFixed(2)}) does not match expected (${Ve.toFixed(2)})`,error:`Expected wallet to decrease by ${Ve.toFixed(2)} USDC, but decreased by ${Xe.toFixed(2)} USDC`,timestamp:Date.now()}),at||V(W,{success:!1,message:`Validation failed: Bucket balance increase (${dt.toFixed(2)}) does not match expected (${ot.toFixed(2)})`,error:`Expected bucket to increase by ${ot.toFixed(2)} USDC, but increased by ${dt.toFixed(2)} USDC`,timestamp:Date.now()}),V(W,{success:Ie&&at,message:`Spot wallet to bucket transfer test ${Ie&&at?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${tt.toFixed(2)} USDC`,walletBalanceBefore:`${re.toFixed(2)} USDC`,walletBalanceAfter:`${He.toFixed(2)} USDC`,walletBalanceChange:`${Xe.toFixed(2)} USDC`,bucketBalanceBefore:`${se.toFixed(2)} USDC`,bucketBalanceAfter:`${Oe.toFixed(2)} USDC`,bucketBalanceChange:`${dt.toFixed(2)} USDC`,validationPassed:Ie&&at},timestamp:Date.now()})}catch(re){V(W,{success:!1,message:"Spot wallet to bucket transfer test failed",error:re.message,timestamp:Date.now()})}}else V(W,{success:!0,message:"Skipping spot wallet to bucket transfer test: No valid default bucket ID found",timestamp:Date.now()})}else V(W,{success:!0,message:"Skipping spot wallet to bucket transfer test: No buckets available",timestamp:Date.now()});V(W,{success:!0,message:"Testing createBucket() (create new margin bucket)...",timestamp:Date.now()});try{V(W,{success:!0,message:"Step 1: Getting current bucket count before creation...",timestamp:Date.now()});let Se=[],ie=0;try{if(!O.current)throw new Error("InfoClient not initialized");Se=await O.current.getBuckets(ue),ie=Array.isArray(Se)?Se.length:0,V(W,{success:!0,message:`Step 1: Current bucket count: ${ie}`,data:{bucketCount:ie,buckets:Array.isArray(Se)?Se.slice(0,3).map(Re=>({bucketId:Re.bucket_id||Re.id||Re.bucketId,marginType:Re.margin_type||Re.marginType,collateralAsset:Re.collateral_asset||Re.collateralAsset})):[]},timestamp:Date.now()})}catch(Re){throw V(W,{success:!1,message:"Step 1: Failed to get current buckets",error:Re.message,timestamp:Date.now()}),Re}V(W,{success:!0,message:"Step 2: Creating cross margin USDC bucket...",timestamp:Date.now()});let re=null,se=null;try{if(re=await I.current.createBucket({bucketType:"USDC",marginType:"cross"}),!re||!re.success)throw new Error((re==null?void 0:re.message)||"Failed to create bucket");se=re.bucket_id||null,V(W,{success:!!re&&!!se,message:`Step 2: Cross margin USDC bucket created successfully. Bucket ID: ${se==null?void 0:se.substring(0,16)}...`,data:{createResult:re,bucketId:se,bucketType:"USDC",marginType:"cross"},timestamp:Date.now()})}catch(Re){V(W,{success:!1,message:"Step 2: Failed to create cross margin USDC bucket",error:Re.message,timestamp:Date.now()})}if(se&&await new Promise(Re=>setTimeout(Re,2e3)),se){V(W,{success:!0,message:"Step 3: Validating bucket was created...",timestamp:Date.now()});try{if(!O.current)throw new Error("InfoClient not initialized");const Re=await O.current.getBuckets(ue),He=Array.isArray(Re)?Re.length:0,Oe=Array.isArray(Re)?Re.find(Ve=>(Ve.bucket_id||Ve.id||Ve.bucketId)===se):null,Xe=!!Oe,dt=He>ie;V(W,{success:Xe&&dt,message:`Step 3: Bucket validation ${Xe&&dt?"PASSED":"FAILED"}`,data:{bucketCountBefore:ie,bucketCountAfter:He,bucketCountIncreased:dt,createdBucketId:se,bucketFound:Xe,createdBucket:Oe?{bucketId:Oe.bucket_id,marginType:Oe.margin_type,collateralAsset:Oe.collateral_asset}:null},timestamp:Date.now()}),Xe||V(W,{success:!1,message:`Validation failed: Created bucket (${se==null?void 0:se.substring(0,16)}...) not found in bucket list`,error:"Bucket was created but not found in subsequent query",timestamp:Date.now()}),dt||V(W,{success:!1,message:`Validation failed: Bucket count did not increase (before: ${ie}, after: ${He})`,error:"Bucket count should increase after creation",timestamp:Date.now()})}catch(Re){V(W,{success:!1,message:"Step 3: Failed to validate bucket creation",error:Re.message,timestamp:Date.now()})}}V(W,{success:!0,message:"Step 4: Testing isolated margin USDC bucket creation...",timestamp:Date.now()});let tt=null;try{const Re=await I.current.createBucket({bucketType:"USDC",marginType:"isolated"});if(!Re||!Re.success)throw new Error((Re==null?void 0:Re.message)||"Failed to create isolated bucket");tt=Re.bucket_id||null,V(W,{success:!!Re&&!!tt,message:`Step 4: Isolated margin USDC bucket created successfully. Bucket ID: ${tt==null?void 0:tt.substring(0,16)}...`,data:{createResult:Re,bucketId:tt,bucketType:"USDC",marginType:"isolated"},timestamp:Date.now()})}catch(Re){V(W,{success:!1,message:"Step 4: Failed to create isolated margin USDC bucket",error:Re.message,timestamp:Date.now()})}V(W,{success:!0,message:`Create bucket test ${se&&tt?"COMPLETED SUCCESSFULLY":"COMPLETED WITH SOME FAILURES"}`,data:{crossMarginBucketId:se,isolatedMarginBucketId:tt,bucketCountBefore:ie,testsPerformed:["createBucket (cross margin USDC)","createBucket (isolated margin USDC)"]},timestamp:Date.now()})}catch(Se){V(W,{success:!1,message:"Create bucket test failed",error:Se.message,timestamp:Date.now()})}V(W,{success:!0,message:"ExchangeClient tests completed",data:{walletAddress:ue,marketId:ce,sessionToken:s?"present":"not set",authToken:a?"present":"not set",methodsTested:["placeOrder","cancelOrder","closePosition","extractToBucket","withdrawFromBucket","bucketTransfer","createBucket"]},timestamp:Date.now()})}catch(ue){V(W,{success:!1,message:"ExchangeClient test error",error:ue.message,timestamp:Date.now()})}},pt=async()=>{if(!f){p(!0),we(),ft.info("Running tests",{description:"Starting comprehensive SDK test suite..."});try{et(),await Ue(),await $e("Authentication"),await mt(),N&&await Ke()}catch(W){V("General",{success:!1,message:"Test suite error",error:W.message,timestamp:Date.now()}),ft.error("Test suite error",{description:W.message||"An unexpected error occurred during testing.",duration:6e3})}finally{p(!1)}}};return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"SDK QA"}),g.jsx("p",{children:"Comprehensive test suite for all SDK APIs"}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"sdk-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:W=>e(W.target.value),className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:W=>{const de=W.target.value;de&&i(de)},className:"sdk-test-config-select",children:D.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),D.map(W=>{var pe;const de=W.market_id??((pe=W.id)==null?void 0:pe.toString())??"",me=W.moniker?W.moniker:W.symbol?W.symbol:W.baseAsset&&W.quoteAsset?`${W.baseAsset}-${W.quoteAsset}`:`Market ID: ${de}`,oe=W.active?" [ACTIVE]":"";return g.jsxs("option",{value:de,children:[me," - ID: ",de,oe]},de)})]})}),D.length>0&&g.jsx("small",{className:`sdk-test-config-hint ${r===xe?"info":"warning"}`,children:r===xe?` Auto-selected default market (ID: ${xe==null?void 0:xe.substring(0,16)}...)`:` Manual selection (ID: ${r==null?void 0:r.substring(0,16)}...)`})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic (for ExchangeClient):",g.jsx("input",{type:"text",value:N||"",onChange:W=>Y(W.target.value),placeholder:"Optional",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Session Token (for authenticated InfoClient):",g.jsx("input",{type:"text",value:s,onChange:W=>o(W.target.value),disabled:!!(s&&s.trim()!==""),placeholder:"Optional",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Auth Token:",g.jsx("input",{type:"text",value:a,onChange:W=>l(W.target.value),disabled:!!(H&&H.trim()!==""),placeholder:H?"Auto-filled from onboarding":'Optional - Use "Onboard" button to generate',className:"sdk-test-config-input"}),H&&g.jsx("small",{className:"sdk-test-config-hint success",children:" Auto-filled from onboarding"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:R||"",disabled:!!(N&&N.trim()!==""),onChange:()=>{},placeholder:"automatic (from mnemonic)",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Device ID:",g.jsx("input",{type:"text",value:c,onChange:W=>u(W.target.value),className:"sdk-test-config-input"})]})}),g.jsxs("div",{className:"control-box",children:[g.jsx(t9e,{isRunning:f,onClick:pt}),g.jsx(n9e,{mnemonic:N||"",baseURL:n,onboardLoading:m,isRunning:f,onOnboard:async(W,de)=>{if(W&&W.trim()!==""){b(!0);try{await $e("Authentication")}catch(me){console.error("Authentication test error:",me)}finally{b(!1)}}else ft.warning("Mnemonic required",{description:"Please enter a mnemonic first to run authentication flow."})}}),g.jsx(i9e,{isRunning:f,isLoading:y,onClick:()=>{v(!0);try{et()}catch(W){console.error("Utility test error:",W)}finally{setTimeout(()=>{v(!1)},100)}}}),g.jsx(s9e,{isRunning:f,isLoading:w,onClick:async()=>{_(!0);try{await Ue()}catch(W){console.error("Info Client test error:",W)}finally{_(!1)}}}),g.jsx(o9e,{isRunning:f,isLoading:x,onClick:async()=>{k(!0);try{await mt()}catch(W){console.error("Wallet Specific test error:",W)}finally{k(!1)}}}),g.jsx(a9e,{mnemonic:N||"",isRunning:f,isLoading:C,onClick:async()=>{if(N&&N.trim()!==""){E(!0);try{await Ke()}catch(W){console.error("Exchange Client test error:",W)}finally{E(!1)}}else ft.warning("Mnemonic required",{description:"Please enter a mnemonic first to run Exchange Client tests."})}}),g.jsx(r9e,{isRunning:f,onClick:we})]})]}),H&&g.jsxs("span",{className:"sdk-test-status success",children:[" Auth Token: ",H.substring(0,20),"..."]}),U&&g.jsxs("span",{className:"sdk-test-status error",children:[" Onboard Error: ",U,g.jsx(l9e,{onClick:K})]})]}),g.jsx("div",{className:"sdk-test-results",children:Object.entries(d).map(([W,de])=>{const me=T.has(W);return g.jsxs("div",{className:"sdk-test-section",children:[g.jsx(u9e,{sectionName:W,isExpanded:me,onToggle:()=>ze(W)}),me&&g.jsx("div",{className:"sdk-test-section-content",children:de.results.map((oe,pe)=>g.jsx(c9e,{result:oe},pe))})]},W)})}),Object.keys(d).length===0&&!f&&g.jsx("div",{className:"sdk-test-empty-state",children:'Click "Run All Tests" to start testing the SDK APIs'})]})}const h9e=({isConnected:n,isConnecting:e,onConnect:r,onDisconnect:i})=>g.jsxs("div",{className:"config-actions",children:[g.jsx("button",{className:"nav-button",onClick:r,disabled:n||e,style:{backgroundColor:n?"#ccc":e?"#ffc107":"#28a745",color:"white",cursor:n||e?"not-allowed":"pointer"},children:e?" Connecting...":n?" Connected":"Connect"}),e&&g.jsx("span",{style:{color:"#666",fontSize:"0.9rem"},children:"Connection in progress... Check messages below for details"}),g.jsx("button",{className:"nav-button",onClick:i,disabled:!n,style:{backgroundColor:n?"#dc3545":"#ccc",cursor:n?"pointer":"not-allowed"},children:"Disconnect"})]}),f9e=({onClick:n})=>g.jsx("button",{onClick:n,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear"}),Ii=({channel:n,isSubscribed:e,isConnected:r,disabled:i=!1,subscribeLabel:s,unsubscribeLabel:o,onSubscribe:a,onUnsubscribe:l,variant:c="public"})=>{const u=!r||i,d=e?"#dc3545":c==="private"?"#28a745":"#007bff";return g.jsx("button",{onClick:e?l:a,disabled:u,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",backgroundColor:d,color:"white",border:"none",borderRadius:"4px",cursor:u?"not-allowed":"pointer"},children:e?o:s})},p9e=({steps:n})=>n.length===0?null:g.jsxs("div",{className:"connection-steps-container",children:[g.jsx("h2",{children:"Connection Steps"}),g.jsx("div",{className:"connection-steps-list",children:n.map((e,r)=>g.jsxs("div",{className:`connection-step-item ${e.status==="error"?"error":e.status==="success"?"success":e.status==="in-progress"?"in-progress":"pending"}`,children:[g.jsx("span",{className:"connection-step-icon",children:e.status==="error"?"":e.status==="success"?"":e.status==="in-progress"?"":""}),g.jsxs("div",{className:"connection-step-content",children:[g.jsxs("div",{className:"connection-step-title",children:["Step ",e.step,": ",e.message]}),e.details&&g.jsx("div",{className:"connection-step-details",children:JSON.stringify(e.details,null,2)}),g.jsx("div",{className:"connection-step-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]})]},r))})]}),m9e=({wsURL:n,onWsURLChange:e,marketId:r,onMarketIdChange:i,markets:s,symbol:o,onSymbolChange:a,klineInterval:l,onKlineIntervalChange:c,twapWindowSize:u,onTwapWindowSizeChange:d,authToken:h,onAuthTokenChange:f,walletAddress:p,deviceID:m,onDeviceIDChange:b,isConnected:y,isConnecting:v,onConnect:w,onDisconnect:_})=>g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["WebSocket URL:",g.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),className:"config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:x=>i(x.target.value),className:"config-select",children:s.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),s.map(x=>{var T;const k=x.market_id??((T=x.market_id)==null?void 0:T.toString())??"",C=x.moniker?x.moniker:x.symbol?x.symbol:x.baseAsset&&x.quoteAsset?`${x.baseAsset}-${x.quoteAsset}`:`Market ID: ${k}`,E=x.active?" [ACTIVE]":"";return g.jsxs("option",{value:k,children:[C," - ID: ",k,E]},k)})]})})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Symbol (for funding_rate, deviation, index_price, mark_price, price_feed, twap):",g.jsx("input",{type:"text",value:o,onChange:x=>a(x.target.value),placeholder:"e.g., BTC/USDT or BTC/USDC",className:"config-input"}),o&&!o.includes("/")&&g.jsx("small",{className:"config-error",children:' Symbol must be in format "BASE/QUOTE" (e.g., "BTC/USDC")'})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Kline Interval:",g.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"config-select",children:[g.jsx("option",{value:"1m",children:"1 minute"}),g.jsx("option",{value:"5m",children:"5 minutes"}),g.jsx("option",{value:"15m",children:"15 minutes"}),g.jsx("option",{value:"1h",children:"1 hour"}),g.jsx("option",{value:"4h",children:"4 hours"}),g.jsx("option",{value:"1d",children:"1 day"})]})]})}),g.jsx("div",{children:g.jsxs("label",{children:["TWAP Window Size (seconds):",g.jsx("input",{type:"number",value:u,onChange:x=>d(x.target.value),placeholder:"e.g., 300 for 5 minutes",min:"1",className:"config-input"}),u&&(isNaN(Number(u))||Number(u)<=0)&&g.jsx("small",{className:"config-error",children:" Window size must be a positive number"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Auth Token (for private channels):",g.jsx("input",{type:"text",value:h,onChange:x=>f(x.target.value),placeholder:"Required for user_updates (auto-filled from SDK Test Page)",className:"config-input"}),h&&g.jsx("small",{className:"config-hint",children:" Auto-filled from SDK Test Page"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:p||"",disabled:!0,placeholder:"Auto-filled from useOnboard hook",className:`config-input-disabled ${p?"has-value":""}`}),p&&g.jsx("small",{className:"config-hint",children:" Auto-filled from useOnboard hook"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Device ID:",g.jsx("input",{type:"text",value:m,onChange:x=>b(x.target.value),className:"config-input"})]})})]}),g.jsx(h9e,{isConnected:y,isConnecting:v,onConnect:w,onDisconnect:_})]}),g9e=({data:n})=>g.jsxs("div",{className:"funding-rate-details",children:[g.jsx("strong",{className:"funding-rate-title",children:"Funding Rate Details:"}),g.jsxs("div",{className:"funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",n.symbol??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Rate:"})," ",n.funding_rate?parseFloat(String(n.funding_rate)).toFixed(6):"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",n.mark_price??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",n.index_price??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Premium Rate:"})," ",n.premium_rate??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"EMA Funding Rate:"})," ",n.ema_funding_rate??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Next Funding Time:"})," ",n.next_funding_time_unix?new Date(n.next_funding_time_unix*1e3).toLocaleString():"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Interval:"})," ",n.funding_interval_seconds?`${n.funding_interval_seconds}s`:"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Valid:"})," ",n.is_valid!==void 0?n.is_valid?"Yes":"No":"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Stale:"})," ",g.jsx("span",{className:`funding-rate-stale ${n.is_stale?"":"valid"}`,children:n.is_stale!==void 0?n.is_stale?"Yes":"No":"N/A"})]}),n.option_type&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Option Type:"})," ",n.option_type]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Strike Price:"})," ",n.strike_price??"N/A"]})]})]})]}),b9e=({positions:n})=>!n||n.length===0?null:g.jsxs("div",{className:"positions-container",children:[g.jsxs("strong",{className:"positions-title",children:["Positions (",n.length,"):"]}),g.jsx("div",{className:"positions-grid",children:n.map((e,r)=>{const i=e.size||0,s=i>=0?"LONG":"SHORT";return g.jsxs("div",{className:"position-card",children:[g.jsx("div",{className:"position-symbol",children:e.symbol||`Market ${e.marketId||e.market_id||"N/A"}`}),g.jsxs("div",{className:"position-details",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Side:"})," ",g.jsx("span",{className:s==="LONG"?"position-side-long":"position-side-short",children:s})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Size:"})," ",Math.abs(i).toFixed(8)]}),e.entryPrice!==void 0||e.entry_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Entry Price:"})," ",(e.entryPrice||e.entry_price||0).toFixed(8)]}):null,e.markPrice!==void 0||e.mark_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",(e.markPrice||e.mark_price||0).toFixed(8)]}):null,e.liquidationPrice!==void 0||e.liquidation_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Liquidation Price:"})," ",(e.liquidationPrice||e.liquidation_price||0).toFixed(8)]}):null,e.unrealizedPnL!==void 0||e.unrealized_pnl!==void 0||e.pnl!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Unrealized PnL:"})," ",g.jsx("span",{className:(e.unrealizedPnL||e.unrealized_pnl||e.pnl||0)>=0?"position-pnl-positive":"position-pnl-negative",children:(e.unrealizedPnL||e.unrealized_pnl||e.pnl||0).toFixed(8)})]}):null,e.leverage!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Leverage:"})," ",e.leverage,"x"]}):null,e.margin!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Margin:"})," ",e.margin.toFixed(8)]}):null,e.marginMode!==void 0||e.margin_mode!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Margin Mode:"})," ",e.marginMode||e.margin_mode||"N/A"]}):null]})]},r)})})]}),y9e=({message:n})=>{const{channel:e,data:r,type:i,step:s,timestamp:o}=n,a=e==="funding_rate"&&typeof r=="object"&&r!==null,l=e==="user_updates"&&typeof r=="object"&&r!==null&&Array.isArray(r.positions)&&r.positions.length>0,c=a||l;return g.jsx("div",{className:`message-item ${i}`,children:g.jsx("div",{className:"message-header",children:g.jsxs("div",{className:"message-content",children:[g.jsxs("div",{className:"message-title",children:[g.jsxs("span",{children:["[",e,"]"]}),s&&g.jsxs("span",{className:"message-step",children:["(",s,")"]}),g.jsx("span",{children:new Date(o).toLocaleTimeString()})]}),a&&g.jsx(g9e,{data:r}),l&&g.jsx(b9e,{positions:r.positions}),!c&&g.jsxs("div",{className:"message-body",children:[typeof r=="string"?r:JSON.stringify(r).substring(0,20),"..."]}),typeof r!="string"&&g.jsxs("details",{children:[g.jsx("summary",{className:"raw-data-summary",children:"View Raw Data"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(r,null,2)})]})]})})})},v9e=({messages:n,isPrivate:e=!1,emptyMessage:r})=>{const i=e?"No messages yet. Connect with auth token and subscribe to user updates.":"No messages yet. Connect and subscribe to channels to see updates.";return g.jsx("div",{className:`messages-container ${e?"private":"public"}`,children:n.length===0?g.jsx("div",{className:`messages-empty ${e?"private":""}`,children:r||i}):n.map(s=>g.jsx(y9e,{message:s},s.id))})},rq=({title:n,isPrivate:e=!1,messages:r,onClearMessages:i,children:s,emptyMessage:o})=>g.jsxs("div",{className:"channel-section",children:[g.jsxs("div",{className:"channel-header",children:[g.jsx("h2",{className:"channel-title",children:n}),g.jsx(f9e,{onClick:i})]}),g.jsxs("div",{className:"channel-content",children:[g.jsx("div",{className:"channel-buttons-container",children:s}),g.jsx(v9e,{messages:r,isPrivate:e,emptyMessage:o}),e&&g.jsxs("div",{className:"private-note",children:[g.jsx("strong",{children:"Note:"})," Private channels require authentication. Enter your auth token in the configuration above."]})]})]});function w9e(){var Me,he,Te,Se;const[n,e]=A.useState(nh),[r,i]=A.useState(()=>localStorage.getItem("authToken")||""),[s,o]=A.useState(GC),[a,l]=A.useState(""),[c,u]=A.useState("BTC/USDC"),[d,h]=A.useState("1m"),[f,p]=A.useState("300"),[m,b]=A.useState(!1),[y,v]=A.useState([]),[w,_]=A.useState([]),[x,k]=A.useState(new Set),[C,E]=A.useState([]),[T,M]=A.useState(!1),I=A.useRef(null),O=A.useRef(0),F=yp,{walletAddress:$,authToken:z}=yu(),{markets:D}=ql({baseURL:F,sessionToken:"",autoFetchMarkets:!0}),j=D.length>0?(((Me=D.find(ie=>ie.active))==null?void 0:Me.market_id)??D[0].market_id)||(((Te=(he=D.find(ie=>ie.active))==null?void 0:he.id)==null?void 0:Te.toString())??((Se=D[0].id)==null?void 0:Se.toString())??""):null;A.useEffect(()=>{j&&!a&&l(j)},[j]),A.useEffect(()=>{z&&i(z)},[z]),A.useEffect(()=>{const ie=se=>{se.key==="authToken"&&se.newValue&&i(se.newValue)};window.addEventListener("storage",ie);const re=setInterval(()=>{const se=localStorage.getItem("authToken");se&&se!==r&&i(se)},1e3);return()=>{window.removeEventListener("storage",ie),clearInterval(re)}},[r]),A.useEffect(()=>{r&&r.trim()!==""&&localStorage.setItem("authToken",r)},[r]);const N=(ie,re,se,tt,Re)=>{const He={id:O.current++,timestamp:Date.now(),channel:ie,data:re,type:se,step:Re};tt?_(Oe=>[...Oe.slice(-99),He]):v(Oe=>[...Oe.slice(-99),He])},R=(ie,re,se,tt)=>{E(Re=>[...Re,{step:ie,status:re,message:se,timestamp:Date.now(),details:tt}])},H=()=>{E([])},U=async()=>{var Re;if((Re=I.current)!=null&&Re.isConnected()){N("connection","Already connected","info",!1);return}if(M(!0),H(),R("1","in-progress","Validating configuration..."),N("connection","Starting connection process...","debug",!1,"Step 1: Validation"),!n||!n.trim()){R("1","error","WebSocket URL is required"),N("connection","Error: WebSocket URL is required","error",!1,"Step 1: Validation"),M(!1);return}try{const He=new URL(n);if(He.protocol!=="ws:"&&He.protocol!=="wss:")throw new Error("URL must use ws:// or wss:// protocol");R("1","success",`URL format valid: ${n}`),N("connection",`URL validated: ${n}`,"debug",!1,"Step 1: Validation")}catch(He){R("1","error",`Invalid URL format: ${He.message}`),N("connection",`Error: Invalid URL format - ${He.message}`,"error",!1,"Step 1: Validation"),M(!1);return}R("2","in-progress","Building connection URL with parameters...");const ie=[];r&&ie.push(`token=${encodeURIComponent(r)}`),$&&ie.push(`wallet=${encodeURIComponent($)}`),s&&ie.push(`device_id=${encodeURIComponent(s)}`);const re=n.includes("?")?"&":"?",se=ie.length>0?`${n}${re}${ie.join("&")}`:n;if(R("2","success",`Connection URL: ${se}`),N("connection",`Connection URL: ${se}`,"debug",!1,"Step 2: URL Construction"),ie.length>0?N("connection",`Query parameters: ${ie.join(", ")}`,"debug",!1,"Step 2: URL Construction"):N("connection","No query parameters (authToken, walletAddress, deviceID)","warning",!1,"Step 2: URL Construction"),R("3","in-progress","Cleaning up existing connection..."),I.current)try{I.current.disconnect(),R("3","success","Previous connection cleaned up"),N("connection","Previous connection cleaned up","debug",!1,"Step 3: Cleanup")}catch{R("3","success","No previous connection to clean up"),N("connection","No previous connection found","debug",!1,"Step 3: Cleanup")}else R("3","success","No previous connection to clean up");R("4","in-progress","Creating SubscriptionClient instance...");try{I.current=new g0({url:n,authToken:r||void 0,walletAddress:$||void 0,deviceID:s||void 0}),R("4","success","SubscriptionClient created"),N("connection","SubscriptionClient instance created","debug",!1,"Step 4: Client Creation"),N("connection",`Config: ${JSON.stringify({url:n,hasToken:!!r,hasWallet:!!$,deviceID:s},null,2)}`,"debug",!1,"Step 4: Client Creation")}catch(He){R("4","error",`Failed to create client: ${He.message}`),N("connection",`Error creating client: ${He.message}`,"error",!1,"Step 4: Client Creation"),M(!1);return}R("5","in-progress","Initiating WebSocket connection..."),N("connection","Initiating WebSocket handshake...","debug",!1,"Step 5: Connection"),N("connection","Browser will attempt to upgrade HTTP connection to WebSocket","debug",!1,"Step 5: Connection");const tt=Date.now();try{await I.current.connect();const He=Date.now()-tt,Oe=I.current.isConnected(),Xe=I.current.getState();N("connection",`Connection attempt completed in ${He}ms`,"debug",!1,"Step 5: Connection"),N("connection",`Connection state: ${Xe}`,"debug",!1,"Step 5: Connection"),b(Oe),Oe?(R("5","success",`WebSocket connected successfully (${He}ms)`),N("connection"," WebSocket connected successfully!","success",!1,"Step 5: Connection"),N("connection",`Connection established in ${He}ms`,"success",!1,"Step 5: Connection")):(R("5","error","Connection completed but state is not connected"),N("connection"," Connection attempt completed but state is not connected","error",!1,"Step 5: Connection"),N("connection",`Current state: ${Xe}`,"error",!1,"Step 5: Connection"))}catch(He){const Oe=Date.now()-tt,Xe=He.message||String(He);let dt="",Ve=null,ot=null;const Ie=Xe.match(/code\s+(\d+)/i);Ie&&(Ve=parseInt(Ie[1],10));const at=Xe.match(/\b(40[0-9]|50[0-9])\b/);if(at&&(ot=parseInt(at[1],10)),Ve!==null)switch(Ve){case 1006:dt=`WebSocket Close Code 1006 (Abnormal Closure)
The connection was closed abnormally. Possible causes:
- Server is not running or unreachable
- Wrong URL or port
- Network connectivity issues
- Firewall blocking the connection
- DNS resolution failure
- SSL/TLS handshake failure (for wss://)`;break;case 1002:dt=`WebSocket Close Code 1002 (Protocol Error)
The server encountered a protocol error. Possible causes:
- Server does not support WebSocket protocol
- Protocol version mismatch
- Invalid WebSocket handshake`;break;case 1003:dt=`WebSocket Close Code 1003 (Unsupported Data Type)
The server received data in an unsupported format.`;break;case 1008:dt=`WebSocket Close Code 1008 (Policy Violation)
Connection closed due to policy violation. Possible causes:
- Authentication failed (missing or invalid token)
- Authorization failed (insufficient permissions)
- Rate limiting or quota exceeded
- Server policy restrictions`;break;case 1011:dt=`WebSocket Close Code 1011 (Server Error)
Server encountered an internal error. Check server logs for details.`;break;case 1e3:dt=`WebSocket Close Code 1000 (Normal Closure)
Connection closed normally but before opening. This may indicate:
- Server rejected the connection immediately
- Connection timeout`;break;case 1001:dt=`WebSocket Close Code 1001 (Going Away)
Server is going away or restarting.`;break;case 1007:dt=`WebSocket Close Code 1007 (Invalid Data)
Server received invalid data format.`;break;case 1009:dt=`WebSocket Close Code 1009 (Message Too Big)
Message size exceeds server limits.`;break;case 1010:dt=`WebSocket Close Code 1010 (Extension Error)
Server could not negotiate required extensions.`;break;case 1012:dt=`WebSocket Close Code 1012 (Service Restart)
Service is restarting.`;break;case 1013:dt=`WebSocket Close Code 1013 (Try Again Later)
Service temporarily unavailable, try again later.`;break;case 1014:dt=`WebSocket Close Code 1014 (Bad Gateway)
Server acting as gateway received invalid response.`;break;case 1015:dt=`WebSocket Close Code 1015 (TLS Handshake)
TLS handshake failure (for secure WebSocket connections).`;break;default:dt=`WebSocket Close Code ${Ve}
Connection closed with this close code. Check WebSocket specification for details.`}else if(ot!==null)switch(ot){case 401:dt=`HTTP 401 (Unauthorized)
Authentication failed. Possible causes:
- Missing or invalid JWT token
- Token expired
- Server requires authentication but no token provided
- Token signature verification failed
Note: If server uses JWT auth, you must provide a valid token in the authToken field.`;break;case 403:dt=`HTTP 403 (Forbidden)
Access denied. Possible causes:
- Insufficient permissions
- Account restrictions
- IP address blocked`;break;case 404:dt=`HTTP 404 (Not Found)
WebSocket endpoint not found. Check the WebSocket URL.`;break;case 500:case 502:case 503:case 504:dt=`HTTP ${ot} (Server Error)
Server error occurred. Check server logs for details.`;break;default:dt=`HTTP ${ot}
Connection failed with this HTTP status code.`}else Xe.includes("abnormal closure")||Xe.toLowerCase().includes("abnormal")?dt=`Abnormal Connection Closure
The server closed the connection abnormally. Possible causes:
- Server is not running
- Wrong URL or port
- Network connectivity issues
- Firewall blocking the connection`:Xe.includes("protocol error")||Xe.toLowerCase().includes("protocol")?dt=`WebSocket Protocol Error
The server may not support WebSocket connections or there's a protocol mismatch.`:Xe.includes("policy violation")||Xe.toLowerCase().includes("policy")?dt=`Policy Violation
Connection closed due to policy violation. Check authentication requirements.`:Xe.includes("server error")||Xe.toLowerCase().includes("server error")?dt=`Server Error
Server returned an error. Check server logs for details.`:Xe.includes("Unauthorized")||Xe.includes("unauthorized")||Xe.includes("401")?dt=`Authentication Failed
Possible causes:
- Missing or invalid JWT token (if server requires authentication)
- Token expired
- Server is in production mode requiring JWT authentication
Note: If server uses JWT auth, you must provide a valid token in the authToken field.`:Xe.includes("timeout")||Xe.toLowerCase().includes("timeout")?dt=`Connection Timeout
The connection attempt timed out. Possible causes:
- Server is not responding
- Network latency is too high
- Firewall blocking the connection`:(Xe.includes("network")||Xe.toLowerCase().includes("network"))&&(dt=`Network Error
Network-related issue detected. Check:
- Internet connection
- Firewall settings
- Proxy configuration`);let ke=`Connection failed: ${Xe}`;if(Ve!==null&&(ke+=` (Close Code: ${Ve})`),ot!==null&&(ke+=` (HTTP Status: ${ot})`),R("5","error",ke),N("connection",` Connection error: ${Xe}`,"error",!1,"Step 5: Connection"),Ve!==null||ot!==null){const _t={};Ve!==null&&(_t.closeCode=Ve),ot!==null&&(_t.httpStatusCode=ot),N("connection",`Extracted error info: ${JSON.stringify(_t,null,2)}`,"debug",!1,"Step 5: Connection")}dt&&N("connection",`Error details:
${dt}`,"error",!1,"Step 5: Connection"),N("connection",`Connection failed after ${Oe}ms`,"error",!1,"Step 5: Connection"),N("connection",`Full error: ${JSON.stringify(He,Object.getOwnPropertyNames(He),2)}`,"error",!1,"Step 5: Connection"),b(!1)}finally{M(!1)}},K=()=>{if(I.current)try{I.current.disconnect(),b(!1),k(new Set),N("connection","WebSocket disconnected","info",!1)}catch(ie){N("connection",`Disconnect error: ${ie.message}`,"error",!1)}},Y=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("orderbook","Not connected. Please connect first.","error",!1);return}if(!a){N("orderbook","Please select a market first","error",!1);return}const ie=se=>{N("orderbook",se,"success",!1)};try{I.current.subscribeOrderbook(a,ie,!0),k(se=>new Set([...se,"orderbook"])),N("orderbook",`Subscribed to orderbook for market ${a}`,"success",!1)}catch(se){N("orderbook",`Subscription error: ${se.message}`,"error",!1)}},Z=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribeOrderbook(a),k(re=>{const se=new Set(re);return se.delete("orderbook"),se}),N("orderbook","Unsubscribed from orderbook","info",!1)}catch(re){N("orderbook",`Unsubscribe error: ${re.message}`,"error",!1)}},G=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("trades","Not connected. Please connect first.","error",!1);return}if(!a){N("trades","Please select a market first","error",!1);return}const ie=se=>{N("trades",se,"success",!1)};try{I.current.subscribeTrades(a,ie),k(se=>new Set([...se,"trades"])),N("trades",`Subscribed to trades for market ${a}`,"success",!1)}catch(se){N("trades",`Subscription error: ${se.message}`,"error",!1)}},X=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribeTrades(a),k(re=>{const se=new Set(re);return se.delete("trades"),se}),N("trades","Unsubscribed from trades","info",!1)}catch(re){N("trades",`Unsubscribe error: ${re.message}`,"error",!1)}},ae=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("ticker","Not connected. Please connect first.","error",!1);return}if(!a){N("ticker","Please select a market first","error",!1);return}const ie=se=>{N("ticker",se,"success",!1)};try{I.current.subscribeTicker(a,ie),k(se=>new Set([...se,"ticker"])),N("ticker",`Subscribed to ticker for market ${a}`,"success",!1)}catch(se){N("ticker",`Subscription error: ${se.message}`,"error",!1)}},be=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribeTicker(a),k(re=>{const se=new Set(re);return se.delete("ticker"),se}),N("ticker","Unsubscribed from ticker","info",!1)}catch(re){N("ticker",`Unsubscribe error: ${re.message}`,"error",!1)}},le=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("last_price","Not connected. Please connect first.","error",!1);return}if(!a){N("last_price","Please select a market first","error",!1);return}const ie=se=>{N("last_price",se,"success",!1)};try{I.current.subscribeLastPrice(a,ie,!0),k(se=>new Set([...se,"last_price"])),N("last_price",`Subscribed to last price for market ${a}`,"success",!1)}catch(se){N("last_price",`Subscription error: ${se.message}`,"error",!1)}},J=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribeLastPrice(a),k(re=>{const se=new Set(re);return se.delete("last_price"),se}),N("last_price","Unsubscribed from last price","info",!1)}catch(re){N("last_price",`Unsubscribe error: ${re.message}`,"error",!1)}},xe=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("user_updates","Not connected. Please connect first.","error",!0);return}if(!$){N("user_updates","Wallet address required for position updates (positions channel)","error",!0);return}const ie=se=>{N("user_updates",se,"success",!0)};try{I.current.subscribeUserUpdates(ie),k(se=>new Set([...se,"user_updates"])),N("user_updates","Subscribed to user updates (positions, orders, etc.)","success",!0)}catch(se){N("user_updates",`Subscription error: ${se.message}`,"error",!0)}},ge=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected())try{I.current.unsubscribeUserUpdates(),k(re=>{const se=new Set(re);return se.delete("user_updates"),se}),N("user_updates","Unsubscribed from user updates","info",!0)}catch(re){N("user_updates",`Unsubscribe error: ${re.message}`,"error",!0)}},V=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("funding_rate","Not connected. Please connect first.","error",!1);return}if(!a){N("funding_rate","Please select a market first","error",!1);return}const ie=se=>{N("funding_rate",se,"success",!1)};try{I.current.subscribeFundingRate(a,ie),k(se=>new Set([...se,"funding_rate"])),N("funding_rate",`Subscribed to funding rate for market ${a}`,"success",!1)}catch(se){N("funding_rate",`Subscription error: ${se.message}`,"error",!1)}},we=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribeFundingRate(a),k(re=>{const se=new Set(re);return se.delete("funding_rate"),se}),N("funding_rate","Unsubscribed from funding rate","info",!1)}catch(re){N("funding_rate",`Unsubscribe error: ${re.message}`,"error",!1)}},ze=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("buckets","Not connected. Please connect first.","error",!0);return}if(!$){N("buckets","Wallet address required for buckets subscription","error",!0);return}const ie=se=>{N("buckets",se,"success",!0)};try{I.current.subscribeBuckets(ie),k(se=>new Set([...se,"buckets"])),N("buckets","Subscribed to buckets","success",!0)}catch(se){N("buckets",`Subscription error: ${se.message}`,"error",!0)}},et=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected())try{I.current.unsubscribeBuckets(),k(re=>{const se=new Set(re);return se.delete("buckets"),se}),N("buckets","Unsubscribed from buckets","info",!0)}catch(re){N("buckets",`Unsubscribe error: ${re.message}`,"error",!0)}},$e=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("deviation","Not connected. Please connect first.","error",!1);return}if(!a){N("deviation","Please select a market first","error",!1);return}const ie=se=>{N("deviation",se,"success",!1)};try{I.current.subscribeDeviation(a,ie),k(se=>new Set([...se,"deviation"])),N("deviation",`Subscribed to deviation for market ${a}`,"success",!1)}catch(se){N("deviation",`Subscription error: ${se.message}`,"error",!1)}},mt=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribeDeviation(a),k(re=>{const se=new Set(re);return se.delete("deviation"),se}),N("deviation","Unsubscribed from deviation","info",!1)}catch(re){N("deviation",`Unsubscribe error: ${re.message}`,"error",!1)}},Ue=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("index_price","Not connected. Please connect first.","error",!1);return}if(!a){N("index_price","Please select a market first","error",!1);return}const ie=se=>{N("index_price",se,"success",!1)};try{I.current.subscribeIndexPrice(a,ie),k(se=>new Set([...se,"index_price"])),N("index_price",`Subscribed to index price for market ${a}`,"success",!1)}catch(se){N("index_price",`Subscription error: ${se.message}`,"error",!1)}},Ke=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribeIndexPrice(a),k(re=>{const se=new Set(re);return se.delete("index_price"),se}),N("index_price","Unsubscribed from index price","info",!1)}catch(re){N("index_price",`Unsubscribe error: ${re.message}`,"error",!1)}},pt=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("kline","Not connected. Please connect first.","error",!1);return}if(!a){N("kline","Please select a market first","error",!1);return}if(!d){N("kline","Please select an interval first","error",!1);return}const ie=se=>{N("kline",se,"success",!1)};try{I.current.subscribeKline(a,d,ie),k(se=>new Set([...se,"kline"])),N("kline",`Subscribed to kline for market ${a} with interval ${d}`,"success",!1)}catch(se){N("kline",`Subscription error: ${se.message}`,"error",!1)}},lt=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&!(!a||!d))try{I.current.unsubscribeKline(a,d),k(re=>{const se=new Set(re);return se.delete("kline"),se}),N("kline","Unsubscribed from kline","info",!1)}catch(re){N("kline",`Unsubscribe error: ${re.message}`,"error",!1)}},Ye=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("mark_price","Not connected. Please connect first.","error",!1);return}if(!a){N("mark_price","Please select a market first","error",!1);return}const ie=se=>{N("mark_price",se,"success",!1)};try{I.current.subscribeMarkPrice(a,ie),k(se=>new Set([...se,"mark_price"])),N("mark_price",`Subscribed to mark price for market ${a}`,"success",!1)}catch(se){N("mark_price",`Subscription error: ${se.message}`,"error",!1)}},We=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribeMarkPrice(a),k(re=>{const se=new Set(re);return se.delete("mark_price"),se}),N("mark_price","Unsubscribed from mark price","info",!1)}catch(re){N("mark_price",`Unsubscribe error: ${re.message}`,"error",!1)}},Ae=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("price_feed","Not connected. Please connect first.","error",!1);return}if(!a){N("price_feed","Please select a market first","error",!1);return}const ie=se=>{N("price_feed",se,"success",!1)};try{I.current.subscribePriceFeed(a,ie),k(se=>new Set([...se,"price_feed"])),N("price_feed",`Subscribed to price feed for market ${a}`,"success",!1)}catch(se){N("price_feed",`Subscription error: ${se.message}`,"error",!1)}},W=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&a)try{I.current.unsubscribePriceFeed(a),k(re=>{const se=new Set(re);return se.delete("price_feed"),se}),N("price_feed","Unsubscribed from price feed","info",!1)}catch(re){N("price_feed",`Unsubscribe error: ${re.message}`,"error",!1)}},de=()=>{var re;if(!((re=I.current)!=null&&re.isConnected())){N("twap","Not connected. Please connect first.","error",!1);return}if(!a){N("twap","Please select a market first","error",!1);return}if(!f||isNaN(Number(f))||Number(f)<=0){N("twap","Please enter a valid window size (positive number in seconds)","error",!1);return}const ie=se=>{N("twap",se,"success",!1)};try{I.current.subscribeTWAP(a,Number(f),ie),k(se=>new Set([...se,"twap"])),N("twap",`Subscribed to TWAP for market ${a} with window size ${f}s`,"success",!1)}catch(se){N("twap",`Subscription error: ${se.message}`,"error",!1)}},me=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&!(!a||!f))try{I.current.unsubscribeTWAP(a,Number(f)),k(re=>{const se=new Set(re);return se.delete("twap"),se}),N("twap","Unsubscribed from TWAP","info",!1)}catch(re){N("twap",`Unsubscribe error: ${re.message}`,"error",!1)}},oe=()=>{if(!I.current){N("multi_feed","SubscriptionClient not initialized. Please connect first.","error",!1);return}if(!I.current.isConnected()){N("multi_feed","Not connected. Please connect first.","error",!1);return}if(!a){N("multi_feed","Please select a market first","error",!1);return}if(!c){N("multi_feed","Please enter a symbol first","error",!1);return}if(typeof I.current.subscribeMultiFeed!="function"){N("multi_feed","subscribeMultiFeed method not available. Please check SDK version.","error",!1),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const ie=re=>{const se=re.sub_channel||"unknown";Ufe(re)?console.debug("Orderbook update:",re.data.bids.length,"bids"):Wfe(re)?console.debug("Trade:",re.data.trade_id,re.data.price):qfe(re)?console.debug("Position update:",re.data.symbol,re.data.size):Hfe(re)?console.debug("Order update:",re.data.order_id,re.data.status):Vfe(re)?console.debug("Buckets update:",re.data.total_buckets):Gfe(re)&&console.debug("Balances update:",re.data.count,"assets"),N(`multi_feed:${se}`,re,"success",se==="balances"||se==="buckets"||se==="orders"||se==="positions")};try{I.current.subscribeMultiFeed(a,ie,{symbol:c,interval:d||"1m"}),k(re=>new Set([...re,"multi_feed"])),N("multi_feed",`Subscribed to multi-feed for market ${a}, symbol ${c}`,"success",!1)}catch(re){N("multi_feed",`Subscription error: ${re.message}`,"error",!1)}},pe=()=>{var ie;if((ie=I.current)!=null&&ie.isConnected()&&!(!a||!c))try{I.current.unsubscribeMultiFeed(a,c),k(re=>{const se=new Set(re);return se.delete("multi_feed"),se}),N("multi_feed","Unsubscribed from multi-feed","info",!1)}catch(re){N("multi_feed",`Unsubscribe error: ${re.message}`,"error",!1)}},ve=()=>{if(!I.current){N("balances","SubscriptionClient not initialized. Please connect first.","error",!0);return}if(!I.current.isConnected()){N("balances","Not connected. Please connect first.","error",!0);return}if(!$){N("balances","Wallet address required for balances subscription","error",!0);return}if(typeof I.current.subscribeBalances!="function"){N("balances","subscribeBalances method not available. Please check SDK version.","error",!0),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const ie=re=>{N("balances",re,"success",!0)};try{I.current.subscribeBalances(ie),k(re=>new Set([...re,"balances"])),N("balances","Subscribed to balances","success",!0)}catch(re){N("balances",`Subscription error: ${re.message}`,"error",!0)}},ee=()=>{if(I.current&&I.current.isConnected()){if(typeof I.current.unsubscribeBalances!="function"){N("balances","unsubscribeBalances method not available. Please check SDK version.","error",!0);return}try{I.current.unsubscribeBalances(),k(ie=>{const re=new Set(ie);return re.delete("balances"),re}),N("balances","Unsubscribed from balances","info",!0)}catch(ie){N("balances",`Unsubscribe error: ${ie.message}`,"error",!0)}}},ue=()=>{if(!I.current){N("orders","SubscriptionClient not initialized. Please connect first.","error",!0);return}if(!I.current.isConnected()){N("orders","Not connected. Please connect first.","error",!0);return}if(!$){N("orders","Wallet address required for orders subscription","error",!0);return}if(typeof I.current.subscribeOrders!="function"){N("orders","subscribeOrders method not available. Please check SDK version.","error",!0),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const ie=re=>{N("orders",re,"success",!0)};try{I.current.subscribeOrders(ie),k(re=>new Set([...re,"orders"])),N("orders","Subscribed to orders","success",!0)}catch(re){N("orders",`Subscription error: ${re.message}`,"error",!0)}},ce=()=>{if(I.current&&I.current.isConnected()){if(typeof I.current.unsubscribeOrders!="function"){N("orders","unsubscribeOrders method not available. Please check SDK version.","error",!0);return}try{I.current.unsubscribeOrders(),k(ie=>{const re=new Set(ie);return re.delete("orders"),re}),N("orders","Unsubscribed from orders","info",!0)}catch(ie){N("orders",`Unsubscribe error: ${ie.message}`,"error",!0)}}},Ce=ie=>{ie?_([]):v([])};return A.useEffect(()=>()=>{if(I.current)try{I.current.disconnect()}catch{}},[]),g.jsxs("div",{className:"ws-test-page",children:[g.jsx("h1",{children:"WebSocket QA"}),g.jsx("p",{children:"Test WebSocket subscriptions for public and private channels"}),g.jsx(p9e,{steps:C}),g.jsx(m9e,{wsURL:n,onWsURLChange:e,marketId:a,onMarketIdChange:l,markets:D,symbol:c,onSymbolChange:u,klineInterval:d,onKlineIntervalChange:h,twapWindowSize:f,onTwapWindowSizeChange:p,authToken:r,onAuthTokenChange:i,walletAddress:$,deviceID:s,onDeviceIDChange:o,isConnected:m,isConnecting:T,onConnect:U,onDisconnect:K}),g.jsxs("div",{className:"ws-test-page-layout",children:[g.jsxs(rq,{title:"WebSocket Public",isPrivate:!1,messages:y,onClearMessages:()=>Ce(!1),children:[g.jsxs("div",{className:"channel-buttons-row",children:[g.jsx(Ii,{channel:"orderbook",isSubscribed:x.has("orderbook"),isConnected:m,subscribeLabel:"Subscribe Orderbook",unsubscribeLabel:"Unsubscribe Orderbook",onSubscribe:Y,onUnsubscribe:Z}),g.jsx(Ii,{channel:"trades",isSubscribed:x.has("trades"),isConnected:m,subscribeLabel:"Subscribe Trades",unsubscribeLabel:"Unsubscribe Trades",onSubscribe:G,onUnsubscribe:X}),g.jsx(Ii,{channel:"ticker",isSubscribed:x.has("ticker"),isConnected:m,subscribeLabel:"Subscribe Ticker",unsubscribeLabel:"Unsubscribe Ticker",onSubscribe:ae,onUnsubscribe:be}),g.jsx(Ii,{channel:"last_price",isSubscribed:x.has("last_price"),isConnected:m,subscribeLabel:"Subscribe Last Price",unsubscribeLabel:"Unsubscribe Last Price",onSubscribe:le,onUnsubscribe:J}),g.jsx(Ii,{channel:"funding_rate",isSubscribed:x.has("funding_rate"),isConnected:m,subscribeLabel:"Subscribe Funding Rate",unsubscribeLabel:"Unsubscribe Funding Rate",onSubscribe:V,onUnsubscribe:we}),g.jsx(Ii,{channel:"deviation",isSubscribed:x.has("deviation"),isConnected:m,subscribeLabel:"Subscribe Deviation",unsubscribeLabel:"Unsubscribe Deviation",onSubscribe:$e,onUnsubscribe:mt}),g.jsx(Ii,{channel:"index_price",isSubscribed:x.has("index_price"),isConnected:m,subscribeLabel:"Subscribe Index Price",unsubscribeLabel:"Unsubscribe Index Price",onSubscribe:Ue,onUnsubscribe:Ke}),g.jsx(Ii,{channel:"kline",isSubscribed:x.has("kline"),isConnected:m,subscribeLabel:"Subscribe Kline",unsubscribeLabel:"Unsubscribe Kline",onSubscribe:pt,onUnsubscribe:lt})]}),g.jsxs("div",{className:"channel-buttons-row",children:[g.jsx(Ii,{channel:"mark_price",isSubscribed:x.has("mark_price"),isConnected:m,subscribeLabel:"Subscribe Mark Price",unsubscribeLabel:"Unsubscribe Mark Price",onSubscribe:Ye,onUnsubscribe:We}),g.jsx(Ii,{channel:"price_feed",isSubscribed:x.has("price_feed"),isConnected:m,subscribeLabel:"Subscribe Price Feed",unsubscribeLabel:"Unsubscribe Price Feed",onSubscribe:Ae,onUnsubscribe:W}),g.jsx(Ii,{channel:"twap",isSubscribed:x.has("twap"),isConnected:m,subscribeLabel:"Subscribe TWAP",unsubscribeLabel:"Unsubscribe TWAP",onSubscribe:de,onUnsubscribe:me}),g.jsx(Ii,{channel:"multi_feed",isSubscribed:x.has("multi_feed"),isConnected:m,subscribeLabel:"Subscribe Multi-Feed",unsubscribeLabel:"Unsubscribe Multi-Feed",onSubscribe:oe,onUnsubscribe:pe})]}),g.jsx("small",{className:"private-note-text-block",style:{marginTop:"10px"},children:"Multi-Feed: Unified channel streaming all sub-channels (orderbook, trades, positions, balances, orders, buckets, etc.) Requires market ID and symbol. Authenticated sub-channels (balances, orders, positions, buckets) require wallet address."})]}),g.jsxs(rq,{title:"WebSocket Private",isPrivate:!0,messages:w,onClearMessages:()=>Ce(!0),children:[g.jsx(Ii,{channel:"user_updates",isSubscribed:x.has("user_updates"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe User Updates",unsubscribeLabel:"Unsubscribe User Updates",onSubscribe:xe,onUnsubscribe:ge,variant:"private"}),g.jsx("small",{className:"private-note-text",children:"Position updates (positions channel): Requires wallet address. Returns user positions."}),g.jsx(Ii,{channel:"buckets",isSubscribed:x.has("buckets"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Buckets",unsubscribeLabel:"Unsubscribe Buckets",onSubscribe:ze,onUnsubscribe:et,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Buckets: User's margin buckets (requires wallet address)"}),g.jsx(Ii,{channel:"balances",isSubscribed:x.has("balances"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Balances",unsubscribeLabel:"Unsubscribe Balances",onSubscribe:ve,onUnsubscribe:ee,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Balances: User's spot balances (USDC, MORM, BTC, etc.) - requires wallet address"}),g.jsx(Ii,{channel:"orders",isSubscribed:x.has("orders"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Orders",unsubscribeLabel:"Unsubscribe Orders",onSubscribe:ue,onUnsubscribe:ce,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Orders: User's open orders - requires wallet address"})]})]})]})}const x9e=({...n})=>g.jsx(U7e,{...n,className:"toaster",expand:!0,richColors:!1,closeButton:!1,toastOptions:{duration:4e3,classNames:{toast:"toast",title:"toast-title",description:"toast-description",actionButton:"toast-action-button",cancelButton:"toast-cancel-button",closeButton:"toast-close-button"}}}),_9e=async n=>{try{return await navigator.clipboard.writeText(n),!0}catch{try{const r=document.createElement("textarea");return r.value=n,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),!0}catch(r){return console.error("Failed to copy to clipboard:",r),!1}}},yi=n=>({label:"Copy",onClick:async()=>{await _9e(n)?ft.success("Error message copied to clipboard"):ft.error("Failed to copy error message")}});function hpe(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(""),[c,u]=A.useState(0),[d,h]=A.useState(!1),f=A.useRef(null),p=A.useRef(null),m=A.useRef(0),b=A.useRef(!0),y=A.useRef(!1),v=A.useRef(n);v.current=n;const w=A.useCallback(C=>{const E=h9(C)?C:d9(C);return LS(E)},[]),_=A.useCallback(async()=>{if(!f.current)return;const C=v.current;if(!C.walletAddress||C.walletAddress.trim()===""){u(0);return}try{const E=await f.current.getBalance(C.walletAddress,"USDC"),T=Ft(E.available_balance);u(T)}catch(E){console.warn("Failed to fetch spot wallet balance (USDC):",E),u(0)}},[]),x=A.useCallback(async()=>{if(!f.current)return;const C=v.current;if(!C.walletAddress||C.walletAddress.trim()===""){l("Wallet address is required"),i([]),o(!1),b.current=!1;return}l(""),b.current&&o(!0);try{console.log("[useBucketCollections] [fetchCollections] Starting fetch...",{walletAddress:C.walletAddress,useWebSocket:e,isSubscribed:y.current}),_(),console.log("[useBucketCollections] [fetchCollections] Calling getBuckets API...");const E=await f.current.getBuckets(C.walletAddress);console.log("[useBucketCollections] [fetchCollections] Raw API response:",{response:E,responseType:typeof E,isArray:Array.isArray(E),responseLength:Array.isArray(E)?E.length:"N/A"});const T=Array.isArray(E)?E:[];console.log("[useBucketCollections] [fetchCollections] Buckets data after normalization:",{bucketsData:T,bucketsDataLength:T.length,bucketsDataTypes:T.map((I,O)=>({index:O,type:typeof I,hasBucketId:!!(I!=null&&I.bucket_id),bucketId:I==null?void 0:I.bucket_id}))}),console.log(`[useBucketCollections] [fetchCollections] About to transform ${T.length} buckets:`,T);const M=T.map(LS);i(M),(!e||!y.current)&&(b.current=!1,o(!1))}catch(E){const T=E instanceof Error?E.message:"Failed to load bucket collections";l(T),console.error("[useBucketCollections] [fetchCollections] Failed to fetch bucket collections:",{error:E,errorMessage:T,walletAddress:C.walletAddress,stack:E instanceof Error?E.stack:void 0}),(!e||!y.current)&&(b.current=!1,o(!1))}},[_,e]),k=A.useCallback(C=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] WebSocket data received:",{data:C,hasBuckets:!!C.buckets,bucketsIsArray:Array.isArray(C.buckets),bucketsLength:Array.isArray(C.buckets)?C.buckets.length:0}),C.buckets&&Array.isArray(C.buckets)){console.log("[useBucketCollections] [handleBucketsUpdate] Transforming WebSocket buckets:",C.buckets);const E=C.buckets.map(w);console.log("[useBucketCollections] [handleBucketsUpdate] Transformed collections:",E);const T=E.filter(M=>M.bucketId&&M.bucketId.trim()!==""&&M.status!=="dormant");if(T.length!==E.length){const M=E.length-T.length,I=E.filter(F=>!F.bucketId||F.bucketId.trim()===""),O=E.filter(F=>F.bucketId&&F.bucketId.trim()!==""&&F.status==="dormant");console.warn(`[useBucketCollections] [handleBucketsUpdate] WebSocket: Filtered out ${M} collections (${I.length} with empty bucketId, ${O.length} with status "dormant")`,{filteredByBucketId:I,filteredByStatus:O})}console.log("[useBucketCollections] [handleBucketsUpdate] Setting collections from WebSocket:",{validCollectionsCount:T.length,validCollections:T}),i(M=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] Previous collections:",{prevCount:M.length,prev:M}),M.length!==T.length)return T;const I=JSON.stringify(M),O=JSON.stringify(T);return I===O?M:T}),b.current&&(b.current=!1,o(!1))}},[w]);return A.useEffect(()=>{if(!n.walletAddress||n.walletAddress.trim()===""){if(o(!1),l("Wallet address is required"),i([]),p.current&&y.current){try{p.current.unsubscribeMultiFeedSubChannel("buckets",k)}catch(T){console.warn("[useBucketCollections] Error unsubscribing during cleanup:",T)}y.current=!1}m.current!==null&&(clearInterval(m.current),m.current=0);return}const C=new Cr({baseURL:n.baseURL,sessionToken:n.authToken});f.current=C,b.current=!0,y.current=!1,console.log("[useBucketCollections] [useEffect] Initializing, calling fetchCollections..."),x();const E=n.subscriptionClient;if(e){p.current=E;const T=()=>{if(!E.isReadyForSubscriptions()){if(E.isConnected()&&!E.isReadyForSubscriptions()){const $=E.getAuthState();$==="pending"?console.debug("[useBucketCollections] Waiting for authentication to complete..."):$==="failed"&&(console.error("[useBucketCollections] Authentication failed - cannot subscribe to buckets"),l("Authentication failed. Please re-authenticate."))}return}const I=String(n.marketId??"0"),O=n.symbol??"USDC/USDC";if(!y.current){if(y.current&&p.current)try{p.current.unsubscribeMultiFeedSubChannel("buckets",k)}catch($){console.warn("[useBucketCollections] Error unsubscribing from previous buckets subscription:",$)}try{E.subscribeMultiFeedSubChannel("buckets",I,k,{symbol:O}),y.current=!0,o(!1),console.debug("[useBucketCollections] Subscribed to buckets:",{marketId:I,symbol:O})}catch($){console.error("[useBucketCollections] Failed to subscribe to buckets:",$),l($ instanceof Error?$.message:"Failed to subscribe to buckets"),y.current=!1,o(!1)}}};h(E.isConnected()),o(!1),E.isReadyForSubscriptions()&&T();const M=E.onStateChange(I=>{console.debug("[useBucketCollections] WebSocket state changed to:",I),h(I===Pt.Connected),I===Pt.Connected?(T(),m.current!==null&&(clearInterval(m.current),m.current=0)):I===Pt.Disconnected&&n.refreshInterval&&n.refreshInterval>0&&m.current===null&&(m.current=window.setInterval(()=>{x()},n.refreshInterval))});return()=>{if(M&&M(),p.current&&y.current)try{p.current.unsubscribeMultiFeedSubChannel("buckets",k)}catch(I){console.warn("[useBucketCollections] Error unsubscribing during cleanup:",I)}m.current!==null&&(clearInterval(m.current),m.current=0),y.current=!1}}else return n.refreshInterval&&n.refreshInterval>0&&(m.current=window.setInterval(()=>{x()},n.refreshInterval)),()=>{m.current!==null&&(clearInterval(m.current),m.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e,k]),A.useEffect(()=>{console.log("[useBucketCollections] [useEffect] Hook state changed, returning:",{collectionsCount:r.length,collections:r,loading:s,error:a,spotWalletBalance:c})},[r,s,a,c]),{collections:r,loading:s,error:a,refreshBucketBalance:x,refreshSpotWalletBalance:_,spotWalletBalance:c,isConnected:d}}function k9e(n,e,r){return e!==n?g.jsx("span",{style:{fontSize:"0.7rem",opacity:.5,marginLeft:"0.25rem"},children:""}):g.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:r==="asc"?"":""})}function tb({message:n="Loading..."}){return g.jsx("div",{className:"message loading",children:n})}function nb({error:n}){return g.jsxs("div",{className:"message error",children:["Error: ",n]})}function Qc({message:n}){return g.jsx("div",{className:"message empty",children:n})}function fpe({message:n}){return g.jsx("div",{className:"message warning",children:n})}function w9({isConnected:n,connectedText:e=" LIVE",disconnectedText:r=" OFFLINE"}){return g.jsx("div",{className:"status-indicator",children:g.jsx("span",{className:`status-dot ${n?"connected":"disconnected"}`,children:n?e:r})})}function rb({title:n,children:e}){return g.jsxs("div",{className:"layout-header",children:[g.jsx("div",{className:"layout-header-title",children:n}),e&&g.jsx("div",{className:"layout-header-actions",children:e})]})}function ti({field:n,currentSortField:e,sortDirection:r,onSort:i,children:s,center:o=!1}){return g.jsxs("div",{className:`table-header-cell ${o?"left":"right"}`,onClick:()=>i(n),children:[s,k9e(n,e,r)]})}function n4({children:n,center:e=!1}){return g.jsx("div",{className:`table-header-cell ${e?"left":"right"}`,children:n})}function S9e({onClick:n,disabled:e}){return console.log("[CancelButton] Rendering",{disabled:e,hasOnClick:!!n}),g.jsx("button",{onClick:r=>{console.log("[CancelButton] Button clicked",{disabled:e,event:r}),!e&&n?n(r):console.warn("[CancelButton] Click ignored - button is disabled",{disabled:e})},onMouseDown:r=>{console.log("[CancelButton] Mouse down",{disabled:e,event:r})},className:"btn btn-danger",disabled:e,style:{pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"},children:"Cancel"})}function C9e({onClick:n}){return g.jsx("button",{onClick:n,className:"btn btn-success",children:"Close"})}function E9e({onConfirm:n,label:e="Slide to confirm",confirmThreshold:r=90,disabled:i=!1,icon:s}){const[o,a]=A.useState(0),[l,c]=A.useState(!1),u=A.useRef(null),d=A.useRef(null),h=p=>{i||(p.preventDefault(),c(!0))};A.useEffect(()=>{if(!l)return;const p=b=>{if(!u.current||i)return;const y=u.current.getBoundingClientRect(),v=b.clientX-y.left,w=y.width,_=Math.max(0,Math.min(100,v/w*100));a(_)},m=()=>{i||(o>=r?(n(),setTimeout(()=>{a(0)},200)):a(0),c(!1))};return document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)}},[l,o,r,n,i]);const f=o>=r;return g.jsxs("div",{ref:u,className:`slider-confirm-bar ${i?"disabled":""} ${l?"dragging":""}`,children:[g.jsx("div",{className:`slider-confirm-bar-progress ${f?"confirmed":"default"} ${l?"no-transition":""}`,style:{width:`${o}%`}}),g.jsx("div",{className:"slider-confirm-bar-label",children:f?"Release to confirm":e}),g.jsx("div",{ref:d,onMouseDown:h,className:`slider-confirm-bar-thumb ${i?"disabled":""} ${l?"dragging":""} ${f?"confirmed":""}`,style:{left:`${o}%`},children:s?g.jsx("span",{className:`slider-confirm-bar-thumb-icon ${f?"confirmed":""}`,children:s}):g.jsx("span",{className:`slider-confirm-bar-thumb-arrow ${f?"confirmed":""}`,children:""})})]})}function ppe({isOpen:n,value:e,min:r,max:i,onConfirm:s,onCancel:o}){const[a,l]=A.useState("");if(A.useEffect(()=>{n&&l(e.toString())},[n,e]),!n)return null;const c=y=>{const v=a==="0"?y:a+y;parseFloat(v)<=i&&l(v)},u=()=>{a.includes(".")||l(a+".")},d=()=>{a.length>1?l(a.slice(0,-1)):l("0")},h=()=>{l("0")},f=()=>{const y=parseFloat(a)||0,v=Math.max(r,Math.min(i,y));s(v)},p=parseFloat(a)||0,m=p>=r&&p<=i,b=g.jsx("div",{className:"modal-overlay",onClick:o,style:{zIndex:1e4},children:g.jsxs("div",{className:"modal-content number-pad-content",onClick:y=>y.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Enter Amount"})}),g.jsxs("div",{className:"modal-body",children:[g.jsxs("div",{className:"number-pad-display",children:[g.jsx("div",{className:"number-pad-display-value",children:nr(p)}),g.jsxs("div",{className:"number-pad-display-range",children:["Min: ",nr(r)," | Max: ",nr(i)]}),!m&&p>0&&g.jsxs("div",{className:"number-pad-display-error",children:["Value must be between ",nr(r)," and"," ",nr(i)]})]}),g.jsxs("div",{className:"number-pad-grid",children:[g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"1"),children:"1"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"2"),children:"2"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"3"),children:"3"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"4"),children:"4"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"5"),children:"5"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"6"),children:"6"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"7"),children:"7"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"8"),children:"8"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"9"),children:"9"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:u,children:"."}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"0"),children:"0"}),g.jsx("button",{type:"button",className:"number-pad-button number-pad-button-action",onClick:d,children:""})]}),g.jsxs("div",{className:"number-pad-actions",children:[g.jsx("button",{type:"button",className:"number-pad-action-button",onClick:h,children:"Clear"}),g.jsx("button",{type:"button",className:"number-pad-action-button number-pad-action-button-max",onClick:()=>{l(i.toString())},children:"Max"})]})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Cancel"}),g.jsx("button",{onClick:f,className:"btn btn-primary",disabled:!m,children:"Confirm"})]})]})});return typeof document<"u"?$a.createPortal(b,document.body):null}function A9e({isOpen:n,currentLeverage:e,tempLeverage:r,maxRatio:i,onLeverageChange:s,onConfirm:o,onCancel:a}){if(!n)return null;const l=g.jsx("div",{className:"modal-overlay",onClick:a,children:g.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Select Leverage"})}),g.jsxs("div",{className:"modal-body",children:[g.jsxs("div",{className:"leverage-max-ratio",children:[g.jsx("div",{className:"leverage-max-ratio-label",children:"Maximum Ratio"}),g.jsxs("div",{className:"leverage-max-ratio-value",children:[i,"x"]})]}),g.jsxs("div",{className:"leverage-slider-container",children:[g.jsx("input",{type:"range",min:X5,max:vW,value:r,onChange:c=>s(parseInt(c.target.value)),className:"filled-slider",style:{"--slider-progress":`${(r-X5)/(vW-X5)*100}%`}}),g.jsxs("div",{className:"leverage-slider-labels",children:[g.jsx("span",{children:"1x"}),g.jsxs("span",{className:"leverage-current-value",children:[r,"x"]}),g.jsx("span",{children:"100x"})]})]})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:a,className:"btn btn-secondary",children:"Cancel"}),g.jsx("button",{onClick:o,className:"btn btn-primary",children:"Confirm"})]})]})});return typeof document<"u"?$a.createPortal(l,document.body):null}function T9e({isOpen:n,fromValue:e,toValue:r,options:i,bucketsData:s,transferAmount:o,createBucketAmount:a,createBucketType:l,createMarginType:c,transferMarginType:u,onFromChange:d,onToChange:h,onTransferAmountChange:f,onCreateBucketAmountChange:p,onCreateBucketTypeChange:m,onCreateMarginTypeChange:b,onTransferMarginTypeChange:y,onConfirm:v,onCancel:w,spotWalletBalance:_=0,activeTab:x,onActiveTabChange:k,isTransferring:C=!1,onOpen:E,collections:T}){const[M,I]=A.useState("transfer"),O=x??M,F=k??I,$=A.useRef(!1),[z,D]=A.useState(!1),[j,N]=A.useState("transfer"),[R,H]=A.useState(!1);A.useEffect(()=>{n&&!$.current&&E&&E(),$.current=n,n||H(!1)},[n,E,O]);const U=A.useMemo(()=>e==="spot-wallet"?null:s.find(J=>J.bucketId===e),[s,e]);A.useMemo(()=>{var xe;if(e==="spot-wallet"||!T)return null;const J=T.find(ge=>ge.bucketId===e);return((xe=J==null?void 0:J.marginType)==null?void 0:xe.toLowerCase())||null},[T,e]);const K=A.useMemo(()=>e==="spot-wallet"?_:(U==null?void 0:U.totalEquity)||0,[e,_,U]),Y=10,Z=Math.max(Y,K);if(B.useEffect(()=>{if(e&&Z>0){const J=O==="transfer"?o:a;J>Z?O==="transfer"?f(Z):p(Z):J<Y&&Z>=Y&&(O==="transfer"?f(Y):p(Y))}},[e,Z,O,o,a,f,p]),!n)return null;const G=e&&r&&o>=Y&&o<=Z,X=e&&a>=Y&&a<=Z&&l&&c,ae=g.jsx("div",{className:"modal-overlay",onClick:w,children:g.jsxs("div",{className:"modal-content transfer-modal-content",onClick:J=>J.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Transfer Funds"})}),g.jsxs("div",{className:"transfer-modal-tabs",children:[g.jsx("button",{className:`transfer-tab ${O==="transfer"?"active":""}`,onClick:()=>F("transfer"),type:"button",disabled:C,children:"Transfer"}),g.jsx("button",{className:`transfer-tab ${O==="create"?"active":""}`,onClick:()=>F("create"),type:"button",disabled:C,children:"Create Bucket"})]}),g.jsx("div",{className:"modal-body",children:O==="transfer"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"From"}),g.jsxs("select",{value:e,onChange:J=>d(J.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select source bucket"}),i.map(J=>g.jsx("option",{value:J.value,children:J.label},J.value))]})]}),e&&g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"To"}),g.jsxs("select",{value:r,onChange:J=>h(J.target.value),className:"transfer-select",disabled:!e,children:[g.jsx("option",{value:"",children:"Select destination bucket"}),i.filter(J=>J.value!==e).map(J=>g.jsx("option",{value:J.value,children:J.label},J.value))]})]}),e&&Z>=Y?g.jsxs("div",{className:"transfer-field-group",children:[g.jsxs("div",{className:"transfer-amount-header",children:[g.jsx("label",{className:"transfer-field-label",children:"Amount"}),g.jsxs("div",{className:"transfer-available-balance",children:["Available: ",nr(K)]})]}),g.jsx("div",{className:"transfer-amount-display",onClick:()=>{N("transfer"),D(!0)},style:{cursor:"pointer"},children:g.jsx("span",{className:"transfer-amount-value",children:nr(o)})}),g.jsxs("div",{className:"transfer-amount-container",children:[g.jsx("input",{type:"range",min:Y,max:Z,step:.01,value:o,onChange:J=>f(parseFloat(J.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(o-Y)/(Z-Y)*100}%`}}),g.jsxs("div",{className:"transfer-amount-labels",children:[g.jsx("span",{children:nr(Y)}),g.jsx("span",{children:nr(Z)})]})]})]}):e?g.jsx("div",{className:"transfer-field-group",children:g.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",nr(Y)]})}):null]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"From"}),g.jsxs("select",{value:e,onChange:J=>d(J.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select source bucket"}),i.map(J=>g.jsx("option",{value:J.value,children:J.label},J.value))]})]}),g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"Bucket Type"}),g.jsxs("select",{value:l,onChange:J=>m(J.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select bucket type"}),g.jsx("option",{value:"USDC",children:"USDC"}),g.jsx("option",{value:"USDT",children:"USDT"})]})]}),g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"Margin Type"}),g.jsxs("select",{value:c,onChange:J=>b(J.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select margin type"}),g.jsx("option",{value:"cross",children:"Cross Margin"}),g.jsx("option",{value:"isolated",children:"Isolated Margin"})]})]}),e&&Z>=Y?g.jsxs("div",{className:"transfer-field-group",children:[g.jsxs("div",{className:"transfer-amount-header",children:[g.jsx("label",{className:"transfer-field-label",children:"Amount"}),g.jsxs("div",{className:"transfer-available-balance",children:["Available: ",nr(K)]})]}),g.jsx("div",{className:"transfer-amount-display",onClick:()=>{N("create"),D(!0)},style:{cursor:"pointer"},children:g.jsx("span",{className:"transfer-amount-value",children:nr(a)})}),g.jsxs("div",{className:"transfer-amount-container",children:[g.jsx("input",{type:"range",min:Y,max:Z,step:.01,value:a,onChange:J=>p(parseFloat(J.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(a-Y)/(Z-Y)*100}%`}}),g.jsxs("div",{className:"transfer-amount-labels",children:[g.jsx("span",{children:nr(Y)}),g.jsx("span",{children:nr(Z)})]})]})]}):e?g.jsx("div",{className:"transfer-field-group",children:g.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",nr(Y)]})}):null]})}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:w,className:"btn btn-secondary",disabled:C,children:"Cancel"}),g.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[g.jsx("div",{className:"slider-confirm-container",style:{position:"absolute",top:0,left:0,right:0,opacity:R?0:1,visibility:R?"hidden":"visible",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:R?"none":"auto"},children:g.jsx(E9e,{onConfirm:()=>{H(!0)},label:"Slide to confirm",disabled:C||(O==="transfer"?!G:!X),icon:g.jsx("img",{src:"/bconfirm.svg"})})}),g.jsx("button",{onClick:()=>{v(O==="transfer"?{type:"transfer",from:e,to:r,amount:o}:{type:"create",from:e,bucketType:l,marginType:c,amount:a})},className:"btn btn-primary",disabled:C||(O==="transfer"?!G:!X),style:{position:"absolute",top:0,right:0,opacity:R?1:0,visibility:R?"visible":"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:R?"auto":"none",width:"100%",height:"100%",color:"black"},children:C?"Processing...":"Confirm"})]})]})]})}),be=j==="transfer"?o:a,le=J=>{j==="transfer"?f(J):p(J),D(!1)};return g.jsxs(g.Fragment,{children:[typeof document<"u"?$a.createPortal(ae,document.body):null,g.jsx(ppe,{isOpen:z,value:be,min:Y,max:Z,onConfirm:le,onCancel:()=>D(!1)})]})}function P9e({baseURL:n=eb,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=CNe,refreshInterval:a=u9,onBucketSelect:l}){const{collections:c,loading:u,error:d,spotWalletBalance:h,isConnected:f,refreshBucketBalance:p}=hpe({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),[m,b]=A.useState(null),[y,v]=A.useState("desc"),[w,_]=A.useState(""),[x,k]=A.useState(!1),[C,E]=A.useState(""),[T,M]=A.useState(""),[I,O]=A.useState(10),[F,$]=A.useState(10),[z,D]=A.useState(""),[j,N]=A.useState("cross"),[R,H]=A.useState("cross"),[U,K]=A.useState("transfer"),[Y,Z]=A.useState(!1),[G,X]=A.useState("non-zero"),ae=A.useRef(null),be=A.useRef(0),le=A.useMemo(()=>{let Ue=c.filter(Ke=>Ke&&Ke.bucketId&&typeof Ke.bucketId=="string"&&Ke.bucketId.trim()!=="");return G==="non-zero"?Ue=Ue.filter(Ke=>(Ke.totalEquity||0)>0):G==="dormant"?Ue=Ue.filter(Ke=>{var pt;return((pt=Ke.status)==null?void 0:pt.toLowerCase())==="dormant"}):G==="active"&&(Ue=Ue.filter(Ke=>{var pt;return((pt=Ke.status)==null?void 0:pt.toLowerCase())==="active"})),m?[...Ue].sort((Ke,pt)=>{let lt=0,Ye=0;switch(m){case"marginType":lt=jm(Ke),Ye=jm(pt);break;case"usedMargin":lt=Ke.usedMargin||0,Ye=pt.usedMargin||0;break;case"totalEquity":lt=Ke.totalEquity||0,Ye=pt.totalEquity||0;break;case"riskRatio":lt=wk(Ke),Ye=wk(pt);break;case"bucketId":lt=Ke.bucketId||"",Ye=pt.bucketId||"";break}if(typeof lt=="string"&&typeof Ye=="string")return y==="asc"?lt.localeCompare(Ye):Ye.localeCompare(lt);const We=Number(lt),Ae=Number(Ye);return y==="asc"?We-Ae:Ae-We}):Ue},[c,m,y,G]),J=(Ue,Ke)=>{const pt=Ue.toLowerCase(),lt=Ke.toUpperCase();return le.find(Ye=>{var pe,ve;const We=(pe=jm(Ye))==null?void 0:pe.toLowerCase(),Ae=(ve=Ye.collateralAsset)==null?void 0:ve.toUpperCase(),W=Ye.status.toLowerCase()==="dormant",de=(Ye.totalEquity||0)<=0;return(W||de)&&We===pt&&(lt?Ae===lt:!0)})||null},xe=Ue=>{m===Ue?v(y==="asc"?"desc":"asc"):(b(Ue),v("desc"))},ge=(Ue,Ke)=>{l&&l(Ue,Ke),_(Ue)},V=()=>{k(!0),E(""),M(""),O(10),$(10),D(""),N("cross"),H("cross"),K("transfer")},we=()=>{k(!1),E(""),M(""),O(10),$(10),D(""),N("cross"),H("cross"),K("transfer")},ze=()=>{X(Ue=>{switch(Ue){case"non-zero":return"active";case"active":return"dormant";case"dormant":return"all";case"all":return"non-zero";default:return"non-zero"}})};A.useEffect(()=>{if(!s||!n){ae.current=null;return}const Ue=new th({baseURL:n,mnemonic:s});Ue.initialize().then(()=>{ae.current=Ue}).catch(Ke=>{const pt=Ke instanceof Error?Ke.message:"Failed to initialize exchange client";console.error("Failed to initialize ExchangeClient:",Ke),ft.error("Exchange client initialization failed",{description:pt,action:yi(pt)}),ae.current=null})},[s,n]);const et=async Ue=>{if(!s){const lt="Mnemonic is required to perform transfers. Please provide a mnemonic to enable transfer functionality.";ft.error("Mnemonic required",{description:lt,action:yi(lt)});return}const Ke=ae.current;if(!Ke){const lt="Exchange client is still initializing. Please wait a moment and try again.";ft.error("Exchange client not ready",{description:lt,action:yi(lt)});return}Z(!0);const pt=ft.loading("Processing transfer...",{description:"Please wait while the transfer is being processed"});be.current=typeof pt=="number"?pt:0;try{const lt="USDC";let Ye,We="";if(Ue.type==="transfer"){const{from:Ae,to:W,amount:de}=Ue;if(Ae==="spot-wallet"&&W==="spot-wallet")throw new Error("Cannot transfer from spot wallet to spot wallet");if(Ae==="spot-wallet"){if(!W||W==="spot-wallet")throw new Error("Please select a destination bucket");if(Ye=await Ke.extractToBucket({bucketId:W,assetId:lt,amount:de}),!Ye.success){const oe=Ye.error_message||"Failed to transfer to bucket";be.current!==0&&(ft.dismiss(be.current),be.current=0),ft.error("Transfer failed",{description:oe,action:yi(oe)});return}const me=Ye.txhash||"";We=`Successfully transferred ${nr(de)} from Spot Wallet to ${W}${me?`
TxHash: ${me}`:""}`}else if(W==="spot-wallet"){Ye=await Ke.withdrawFromBucket({bucketId:Ae,assetId:lt,amount:de});const me=Ye.txhash||"";We=`Successfully transferred ${nr(de)} from ${Ae} to Spot Wallet${me?`
TxHash: ${me}`:""}`}else{if(!W)throw new Error("Please select a destination bucket");Ye=await Ke.bucketTransfer({fromBucketId:Ae,toBucketId:W,assetId:lt,amount:de});const me=Ye.txhash||"";We=`Successfully transferred ${nr(de)} from ${Ae} to ${W}${me?`
TxHash: ${me}`:""}`}}else{const{from:Ae,bucketType:W,marginType:de,amount:me}=Ue,oe=J(de,W);let pe;if(oe)pe=oe.bucketId,console.log(`[BucketCollection] Using existing ${de} ${W} bucket: ${pe}`),We=`Using existing ${de} margin bucket (${W}): ${pe}`;else{const ve=await Ke.createBucket({bucketType:W,marginType:de});if(!ve.success)throw new Error(ve.message||"Failed to create bucket");pe=ve.bucket_id,console.log(`[BucketCollection] Created new ${de} ${W} bucket: ${pe}`),We=`Successfully created ${de} margin bucket (${W})`}if(me>0&&Ae==="spot-wallet"){const ve=await Ke.extractToBucket({bucketId:pe,assetId:W,amount:me});if(!ve.success)throw new Error(`${oe?"Bucket found":"Bucket created"} but failed to transfer funds: ${ve.error_message||"Unknown error"}`);const ee=ve.txhash||"";We=`${oe?"Using existing":"Successfully created"} ${de} margin bucket (${W}) and transferred ${nr(me)}${ee?`
TxHash: ${ee}`:""}`}else if(me>0&&Ae!=="spot-wallet"){const ve=await Ke.bucketTransfer({fromBucketId:Ae,toBucketId:pe,assetId:W,amount:me});if(!ve.success)throw new Error(`${oe?"Bucket found":"Bucket created"} but failed to transfer funds: ${ve.message||"Unknown error"}`);const ee=ve.txhash||"";We=`${oe?"Using existing":"Successfully created"} ${de} margin bucket (${W}) and transferred ${nr(me)}${ee?`
TxHash: ${ee}`:""}`}}console.log("Transfer successful:",Ye),be.current!==0&&(ft.dismiss(be.current),be.current=0),ft.success("Transfer completed",{description:We}),k(!1),E(""),M(""),O(10),$(10),D(""),N("cross"),H("cross"),await new Promise(Ae=>setTimeout(Ae,1e3)),p()}catch(lt){be.current!==0&&(ft.dismiss(be.current),be.current=0);const Ye=lt instanceof Error?lt.message:"Transfer failed";ft.error("Transfer failed",{description:Ye,action:yi(Ye)}),console.error("Transfer error:",lt)}finally{Z(!1)}},$e=A.useMemo(()=>{const Ue=le.map(Ke=>({value:Ke.bucketId,label:`${Ke.bucketId} (${nr(Ke.totalEquity)})`}));return[{value:"spot-wallet",label:`Spot Wallet (${nr(h)})`},...Ue]},[le,h]),mt=A.useMemo(()=>le.map(Ue=>({bucketId:Ue.bucketId,totalEquity:Ue.totalEquity})),[le]);return!i||i.trim()===""?g.jsx(fpe,{message:"Wallet address required to view bucket collections"}):u&&!x&&c.length===0?g.jsx(tb,{message:"Loading bucket collections..."}):d?g.jsx(nb,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(rb,{title:"BUCKET COLLECTIONS",children:[g.jsx("div",{onClick:ze,className:"btn-tab",title:G==="non-zero"?"Click to show active buckets":G==="active"?"Click to show dormant buckets":G==="dormant"?"Click to show all buckets":"Click to show non-zero balance buckets",children:g.jsx("span",{children:G==="all"?"All":G==="non-zero"?"Non-Zero":G==="dormant"?"Dormant":"Active"})}),g.jsxs("div",{onClick:V,className:"btn-tab",children:[g.jsx("img",{src:"/transfer-repu.svg"}),g.jsx("span",{children:"Transfer"})]}),!f&&g.jsxs("div",{onClick:async()=>{p&&await p()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh bucket collections",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container shrinkable",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[g.jsx(ti,{field:"bucketId",currentSortField:m,sortDirection:y,onSort:xe,left:!0,children:"Bucket ID"}),g.jsx(ti,{field:"marginType",currentSortField:m,sortDirection:y,onSort:xe,children:"Margin Type"}),g.jsx(ti,{field:"usedMargin",currentSortField:m,sortDirection:y,onSort:xe,children:"Used Margin"}),g.jsx(ti,{field:"totalEquity",currentSortField:m,sortDirection:y,onSort:xe,children:"Total Equity"}),g.jsx(ti,{field:"riskRatio",currentSortField:m,sortDirection:y,onSort:xe,left:!1,children:"Risk Ratio"})]}),le.length===0?g.jsx(Qc,{message:c.length===0?"No bucket collections found. Make sure your wallet address is correct and has buckets.":`Filtered out all ${c.length} collections (invalid data structure)`}):le.map((Ue,Ke)=>{const pt=wk(Ue),lt=jm(Ue);return g.jsxs("div",{onClick:()=>ge(Ue.bucketId,Ue.availableMargin),className:`table-row clickable ${Ke%2===0?"even":""} ${w===Ue.bucketId?"selected":""}`,style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[g.jsx("div",{className:"table-cell primary",children:Ue.bucketId||"---"}),g.jsx("div",{className:"table-cell",children:lt.toUpperCase()}),g.jsx("div",{className:"table-cell right monospace",children:nr(Ue.usedMargin||0)}),g.jsx("div",{className:"table-cell right monospace",children:nr(Ue.totalEquity||0)}),g.jsx("div",{className:"table-cell right monospace",style:{color:pt>.5?"#ff6b6b":"#51cf66",fontWeight:500},children:hw(pt)})]},`collection-${Ue.bucketId}-${Ke}`)})]}),g.jsx(T9e,{isOpen:x,fromValue:C,toValue:T,options:$e,bucketsData:mt,transferAmount:I,createBucketAmount:F,createBucketType:z,createMarginType:j,transferMarginType:R,onFromChange:E,onToChange:M,onTransferAmountChange:O,onCreateBucketAmountChange:$,onCreateBucketTypeChange:D,onCreateMarginTypeChange:N,onTransferMarginTypeChange:H,onConfirm:et,onCancel:we,spotWalletBalance:h,activeTab:U,onActiveTabChange:K,isTransferring:Y,onOpen:p,collections:le.map(Ue=>({bucketId:Ue.bucketId,marginType:Ue.marginType}))})]})}const I9e=B.memo(P9e);function M9e({title:n="Dummy Component",message:e="This is a dummy component",height:r}){const[i,s]=A.useState(0);return g.jsxs("div",{className:"layout-container",style:{height:r},children:[g.jsx("div",{className:"layout-header",children:g.jsx("div",{className:"layout-header-title",children:n})}),g.jsxs("div",{style:{padding:"1rem",flex:1},children:[g.jsx("p",{className:"color-text-secondary",children:e}),g.jsxs("div",{style:{marginTop:"1rem"},children:[g.jsxs("p",{className:"color-text-primary",children:["Count: ",i]}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[g.jsx("button",{className:"btn btn-success",onClick:()=>s(i+1),children:"Increment"}),g.jsx("button",{className:"btn btn-danger",onClick:()=>s(0),children:"Reset"})]})]})]})]})}const O9e=B.memo(M9e);function a3(n){return n.orderId}function x9(n){const e=n.useWebSocket!==!1,[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(null),[c,u]=A.useState(!1),d=A.useRef(null),h=A.useRef(null),f=A.useRef(!1),p=A.useRef(!1),m=A.useRef(n.walletAddress),b=A.useRef(n);b.current=n;const y=A.useCallback(async()=>{if(!d.current)return;const w=b.current;if(!w.walletAddress||w.walletAddress.trim()===""){l(null),i([]),o(!1);return}l(null);try{const x=(await qC(f9.http,()=>d.current.getOrders(w.walletAddress))).orders||[];if(x.length>0){const k=x.map(QR);i(C=>{if(C.length!==k.length)return k;const E=JSON.stringify(C),T=JSON.stringify(k);return E===T?C:k})}else i(k=>k.length===0?k:[])}catch(_){const x=_ instanceof Error?_.message:"Failed to load orders";l(x),console.error("Failed to fetch orders after retries:",_)}finally{o(!1)}},[]),v=A.useCallback(w=>{let _=[];if("orders"in w&&Array.isArray(w.orders))_=w.orders;else if("order_id"in w)_=[w];else{console.warn("Received invalid order data, skipping:",w);return}i(x=>{const k=new Map;x.forEach(M=>{const I=a3(M);I&&k.set(I,M)});for(const M of _){if(!M||typeof M!="object"||!("order_id"in M)||typeof M.order_id!="string"||M.order_id.length===0){console.warn("Received invalid order data, skipping:",M);continue}const I=QR(M),O=a3(I);if(!O){console.warn("Received order without ID, skipping:",I);continue}const F=I.status.toUpperCase();F==="FILLED"||F==="CANCELLED"||F==="REJECTED"||F==="EXPIRED"||F==="CLOSED"||F==="DONE"?k.delete(O):k.set(O,I)}const C=Array.from(k.values()).filter(M=>a3(M)!==void 0);if(x.length!==C.length)return C;const E=JSON.stringify(x),T=JSON.stringify(C);return E===T?x:C})},[]);return A.useEffect(()=>{if(n.walletAddress!==m.current&&(p.current=!1,m.current=n.walletAddress),!n.walletAddress||n.walletAddress.trim()===""){o(!1),l(null),i([]),h.current&&(h.current.disconnect(),h.current=null),p.current=!1;return}const w=new Cr({baseURL:n.baseURL,sessionToken:n.authToken});d.current=w,p.current||y().finally(()=>{p.current=!0});const _=n.subscriptionClient;if(e){h.current=_;const x=()=>{if(!_.isReadyForSubscriptions()){if(_.isConnected()&&!_.isReadyForSubscriptions()){const M=_.getAuthState();M==="pending"?console.debug("[usePendingOrders] Waiting for authentication to complete..."):M==="failed"&&(console.error("[usePendingOrders] Authentication failed - cannot subscribe to orders"),l("Authentication failed - cannot subscribe to orders"))}return}const C=n.marketId??"0",E="USDC/USDC";if(!f.current||n.marketId!==void 0&&n.marketId!==C){if(f.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("orders",v)}catch(M){console.warn("[usePendingOrders] Error unsubscribing from previous orders subscription:",M)}try{_.subscribeMultiFeedSubChannel("orders",C,v,{symbol:E}),f.current=!0,o(!1),console.debug("[usePendingOrders] Subscribed to orders:",{marketId:C,symbol:E})}catch(M){console.error("[usePendingOrders] Failed to subscribe to orders:",M),l(M instanceof Error?M.message:"Failed to subscribe to orders"),f.current=!1,o(!1)}}};u(_.isConnected()),o(!1),_.isReadyForSubscriptions()&&x();const k=_.onStateChange(C=>{console.debug("[usePendingOrders] WebSocket state changed to:",C),u(C===Pt.Connected),C===Pt.Connected?x():C===Pt.Disconnected||Pt.Reconnecting});return()=>{if(k&&k(),h.current&&f.current)try{h.current.unsubscribeMultiFeedSubChannel("orders",v)}catch(C){console.warn("[usePendingOrders] Error unsubscribing during cleanup:",C)}f.current=!1}}else return()=>{}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.marketId,e]),{orders:r,loading:s,error:a,isConnected:c,refresh:y}}function D9e({baseURL:n=eb,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=ANe,refreshInterval:a=u9}){const{orders:l,loading:c,error:u,isConnected:d,refresh:h}=x9({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),f=A.useRef(null),p=A.useRef(0),[m,b]=A.useState(null),{getSymbolByMarketId:y}=ql({baseURL:n,sessionToken:r,autoFetchMarkets:!1}),[v,w]=A.useState(zu),[_,x]=A.useState(null),[k,C]=A.useState(rg),E=A.useMemo(()=>l.filter(D=>{const j=D.status.toUpperCase(),N=j.startsWith("ORDER_STATUS_")?j:`ORDER_STATUS_${j}`;return v===zu?jW.some(R=>j===R.toUpperCase()||N===R.toUpperCase()):!jW.some(R=>j===R.toUpperCase()||N===R.toUpperCase())}),[l,v]),T=A.useMemo(()=>_?[...E].sort((D,j)=>{let N=0,R=0;switch(_){case PW:N=y(D.marketId)||`m-${D.marketId}`,R=y(j.marketId)||`m-${j.marketId}`;break;case IW:N=D.side,R=j.side;break;case MW:N=D.quantity,R=j.quantity;break;case OW:N=D.price,R=j.price;break;case DW:N=D.filledQuantity||0,R=j.filledQuantity||0;break;case RW:N=D.status,R=j.status;break}if(typeof N=="string"&&typeof R=="string")return k===_d?N.localeCompare(R):R.localeCompare(N);const H=Number(N),U=Number(R);return isNaN(H)||isNaN(U)?0:k===_d?H-U:U-H}):E,[E,_,k]),M=D=>{_===D?C(k===_d?rg:_d):(x(D),C(rg))},I=D=>D.side,O=D=>{const j=(D||"").toUpperCase(),N={PENDING:{short:"P",full:"Pending",color:BW},OPEN:{short:"O",full:"Open",color:YNe},FILLED:{short:"F",full:"Filled",color:KNe},CANCELLED:{short:"C",full:"Canceled",color:XNe},PARTIAL:{short:"PF",full:"Partially Filled",color:BW}};return N[j]?N[j]:{short:"?",full:D||cje,color:QNe}},F=D=>D===dw||D==="BUY"?JNe:ZNe,$=D=>!D||typeof D!="string"?lje:D.replace("ORDER_TYPE_",""),z=async D=>{var H;const j=D.orderId,N=D.marketId;if(!j){const U="Cannot cancel order without a valid order ID.";ft.error("Order ID is missing",{description:U,action:yi(U)});return}if(!N){const U="Cannot cancel order without a valid market ID.";ft.error("Market ID is missing",{description:U,action:yi(U)});return}if(!s){const U=`Please provide the 'mnemonic' prop to the PendingOrders component. Order ID: ${j}`;ft.error("Mnemonic required",{description:U,duration:5e3,action:yi(U)});return}if(typeof s!="string"||s.trim()===""){const U=`The mnemonic prop is empty or invalid. Please provide a valid mnemonic. Order ID: ${j}`;ft.error("Invalid mnemonic",{description:U,duration:5e3,action:yi(U)});return}if(m){ft.info("Cancellation in progress",{description:"Please wait for the current cancellation to complete."});return}b(j);const R=ft.loading("Canceling order...",{description:`Canceling order ${j}`});p.current=typeof R=="number"?R:0;try{f.current||(f.current=new th({baseURL:n,mnemonic:s.trim()}),await f.current.initialize());const U=await f.current.cancelOrder({orderId:j,marketId:N}),K=U.success===!0||U.result.success===!0||U&&!U.error&&!U.message;p.current!==0&&(ft.dismiss(p.current),p.current=0);const Y=U.txhash;if(K)ft.success("Order canceled successfully",{description:`Order ${j} has been canceled. TX: ${Y}`}),h&&await h();else{const Z=(U==null?void 0:U.error)||(U==null?void 0:U.message)||((H=U==null?void 0:U.response)==null?void 0:H.error)||"Failed to cancel order";throw new Error(Z)}}catch(U){p.current!==0&&(ft.dismiss(p.current),p.current=0);const Y=`${U instanceof Error?U.message:"Unknown error occurred"}. Order ID: ${j}`;ft.error("Failed to cancel order",{description:Y,duration:6e3,action:yi(Y)})}finally{b(null)}};return!i||i.trim()===""?g.jsx(fpe,{message:sje}):c?g.jsx(tb,{message:eje}):u?g.jsx(nb,{error:u}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(rb,{title:v===zu?rje:ije,children:[g.jsxs("div",{className:"btn-tab",children:[g.jsx("span",{style:{fontSize:"0.7rem"},children:""}),g.jsx("span",{children:"Current Symbol"})]}),g.jsxs("div",{onClick:()=>w(v===zu?NW:zu),className:`btn-tab ${v===NW?"active":""}`,children:[g.jsx("img",{src:"/transfer-net.svg"}),g.jsx("span",{children:v===zu?aje:oje})]}),!d&&g.jsxs("div",{onClick:async()=>{h&&await h()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh orders",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container shrinkable",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:LW},children:[g.jsx(ti,{field:PW,currentSortField:_,sortDirection:k,onSort:M,children:"Symbol"}),g.jsx(ti,{field:IW,currentSortField:_,sortDirection:k,onSort:M,children:"Side"}),g.jsx(n4,{center:!0,children:"Type"}),g.jsx(ti,{field:MW,currentSortField:_,sortDirection:k,onSort:M,children:"Quantity"}),g.jsx(ti,{field:OW,currentSortField:_,sortDirection:k,onSort:M,children:"Price"}),g.jsx(ti,{field:DW,currentSortField:_,sortDirection:k,onSort:M,children:"Filled"}),g.jsx(ti,{field:RW,currentSortField:_,sortDirection:k,onSort:M,children:"Status"}),g.jsx(n4,{center:!0,children:"Actions"})]}),T.length===0?g.jsx(Qc,{message:v===zu?tje:nje}):T.map((D,j)=>{const N=I(D),R=F(N),{short:H,full:U,color:K}=O(D.status),Y=y(D.marketId)||`m-${D.marketId}`;return g.jsxs("div",{className:`table-row ${j%2===0?"even":""}`,style:{gridTemplateColumns:LW},children:[g.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:g.jsx("span",{children:Y})}),g.jsx("div",{className:"table-cell center",style:{color:R,fontWeight:500},children:N}),g.jsx("div",{className:"table-cell center",children:$(D.type)}),g.jsx("div",{className:"table-cell right monospace",children:D.quantity}),g.jsx("div",{className:"table-cell right monospace",children:D.price}),g.jsxs("div",{className:"table-cell right monospace",children:[D.filledQuantity," / ",D.quantity]}),g.jsx("div",{className:"table-cell center",style:{color:K,fontWeight:600,cursor:"help",fontSize:"0.9rem"},title:U,children:H}),g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:v===zu?g.jsxs(g.Fragment,{children:[(!s||s.trim()==="")&&g.jsx("span",{style:{fontSize:"0.7rem",color:"#ffc107",cursor:"help"},title:"Mnemonic required to cancel orders",children:""}),g.jsx(S9e,{onClick:Z=>{Z.preventDefault(),Z.stopPropagation(),!s||s.trim()===""||m===D.orderId||!!m||z(D)},disabled:!s||s.trim()===""||m===D.orderId||!!m})]}):g.jsx("span",{className:"color-text-dim",children:""})})]},`order-${D.orderId}`)})]})]})}const R9e=B.memo(D9e);function N9e({baseURL:n=eb,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=ENe,refreshInterval:a=u9,selectedBucketId:l=null}){const{positions:c,loading:u,error:d,isConnected:h,refresh:f}=upe({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),p=A.useRef(null);A.useEffect(()=>{if(!s||!n){p.current=null;return}const T=new th({baseURL:n,mnemonic:s});T.initialize().then(()=>{p.current=T}).catch(M=>{const I=M instanceof Error?M.message:"Failed to initialize exchange client";console.error("Failed to initialize ExchangeClient:",M),ft.error("Exchange client initialization failed",{description:I,action:yi(I)}),p.current=null})},[s,n]);const[m,b]=A.useState(e3),[y,v]=A.useState(null),[w,_]=A.useState(rg),x=A.useMemo(()=>{let T=[...c];return m===r_&&l&&(T=T.filter(M=>{const I=M.bucketId.toString(),O=l.toString();return I===O})),y?T.sort((M,I)=>{let O=0,F=0;switch(y){case xW:O=M.symbol||"",F=I.symbol||"";break;case _W:try{O=M.leverage??0,F=I.leverage??0}catch{O=0,F=0}break;case kW:O=M.size||0,F=I.size||0;break;case SW:O=M.liquidationPrice||0,F=I.liquidationPrice||0;break;case CW:O=M.unrealizedPnL||0,F=I.unrealizedPnL||0;break;case EW:O=M.entryPrice||0,F=I.entryPrice||0;break;case AW:O=M.margin||0,F=I.margin||0;break}if(typeof O=="string"&&typeof F=="string")return w===_d?O.localeCompare(F):F.localeCompare(O);const $=Number(O),z=Number(F);return w===_d?$-z:z-$}):T},[c,y,w,l,m]),k=T=>{y===T?_(w===_d?rg:_d):(v(T),_(rg))},C=A.useRef(0),E=async T=>{if(!s){const I="Please provide the 'mnemonic' prop to enable position closing.";ft.error("Mnemonic required",{description:I,action:yi(I)});return}if(!p.current){const I="Please wait for the exchange client to initialize.";ft.error("Exchange client not ready",{description:I,action:yi(I)});return}const M=ft.loading("Closing position...",{description:`Closing ${T.side} position for ${T.symbol} (Size: ${WS(T.size)})`});C.current=typeof M=="number"?M:0;try{const I=await p.current.closePosition({positionId:T.positionId,marketId:T.marketId,marketPrice:T.markPrice,quantity:T.size});C.current!==0&&(ft.dismiss(C.current),C.current=0),ft.success("Position closed successfully",{description:`${T.side} position for ${T.symbol} has been closed. tx: ${I.txhash}`,duration:5e3}),f&&await f()}catch(I){C.current!==0&&(ft.dismiss(C.current),C.current=0);const O=I instanceof Error?I.message:"Unknown error occurred";ft.error("Failed to close position",{description:O,duration:6e3,action:yi(O)}),console.error("Failed to close position:",I)}};return u?g.jsx(tb,{message:FNe}):d?g.jsx(nb,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(rb,{title:`${zNe} ${m===r_&&l?`(Bucket ${l})`:""}`,children:[g.jsx("div",{onClick:()=>{b(e3),v(null)},className:`btn-tab ${m===e3?"active":""}`,children:UNe}),g.jsxs("div",{onClick:()=>{b(r_),v(null)},className:`btn-tab ${m===r_?"active":""}`,children:[g.jsx("img",{src:"/bucket-g.svg"}),g.jsx("span",{children:WNe})]}),!h&&g.jsxs("div",{onClick:async()=>{f&&await f()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh positions",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:TW},children:[g.jsx(ti,{field:xW,currentSortField:y,sortDirection:w,onSort:k,left:!0,children:"Symbol"}),g.jsx(ti,{field:_W,currentSortField:y,sortDirection:w,onSort:k,children:"Leverage"}),g.jsx(ti,{field:kW,currentSortField:y,sortDirection:w,onSort:k,children:"Size"}),g.jsx(ti,{field:SW,currentSortField:y,sortDirection:w,onSort:k,children:"Liq. Price"}),g.jsx(ti,{field:CW,currentSortField:y,sortDirection:w,onSort:k,children:"P/L"}),g.jsx(ti,{field:EW,currentSortField:y,sortDirection:w,onSort:k,children:"Entry Price"}),g.jsx(ti,{field:AW,currentSortField:y,sortDirection:w,onSort:k,children:"Margin"}),g.jsx(n4,{center:!0,children:"Actions"})]}),x.length===0?g.jsx(Qc,{message:$Ne}):x.map((T,M)=>{const I=T.side===dw,O=(T.unrealizedPnL||0)>=0?BNe:LNe,F=dpe(T.leverage,t3);return g.jsxs("div",{className:`table-row ${M%2===0?"even":""}`,style:{gridTemplateColumns:TW},children:[g.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:g.jsx("span",{children:T.symbol})}),g.jsx("div",{className:"color-buy",style:{fontWeight:500},children:` ${I?dw:YR}  ${F===t3?t3:F}x @ ${T.marginMode||uw}`}),g.jsx("div",{className:"color-buy right monospace",children:WS(T.size)}),g.jsx("div",{className:"table-cell right monospace",children:US(T.liquidationPrice)}),g.jsx("div",{className:"table-cell right monospace",style:{color:O,fontWeight:500},children:J7e(T.unrealizedPnL)}),g.jsx("div",{className:"table-cell right monospace",children:US(T.entryPrice)}),g.jsx("div",{className:"table-cell right monospace",children:Q7e(T.margin)}),g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsx(C9e,{onClick:()=>E(T)})})]},`position-${T.marketId}-${M}`)})]})]})}const j9e=B.memo(N9e),mpe=A.createContext(null),_9=({children:n,defaultWsURL:e=nh,defaultAuthToken:r,defaultWalletAddress:i,defaultDeviceID:s})=>{const[o,a]=A.useState(!1),[l,c]=A.useState(!1),[u,d]=A.useState(Pt.Disconnected),[h,f]=A.useState(null),[p,m]=A.useState(e),[b,y]=A.useState(r),[v,w]=A.useState(i),[_,x]=A.useState(s),k=A.useRef(new g0({url:e,authToken:r,walletAddress:i,deviceID:s})),C=A.useRef(e),E=A.useRef(null),T=A.useRef(new Map),M=A.useRef(new Map);A.useEffect(()=>{if(C.current!==p){E.current&&(E.current(),E.current=null),k.current.disconnect(),T.current.clear();const Z=new g0({url:p,authToken:b,walletAddress:v,deviceID:_});k.current=Z,C.current=p}if(o){if(!E.current){const Z=k.current.onStateChange(G=>{d(G),c(G===Pt.Connected),G===Pt.Connected&&f(null)});E.current=Z}k.current.isConnected()||k.current.connect().then(()=>{console.debug("[SubscriptionContext] Connected to WebSocket"),f(null)}).catch(Z=>{const G=Z instanceof Error?Z:new Error(String(Z));console.error("[SubscriptionContext] Failed to connect:",G),f(G)})}else E.current&&(E.current(),E.current=null),k.current.isConnected()&&k.current.disconnect(),T.current.clear(),M.current.clear(),d(Pt.Disconnected),c(!1),f(null);return()=>{E.current&&(E.current(),E.current=null),k.current.isConnected()&&k.current.disconnect()}},[o,p,b,v,_]),A.useEffect(()=>{k.current&&o&&b&&v&&_&&k.current.setAuthToken(b,v,_)},[o,b,v,_]);const I=A.useCallback((K,Y,Z,G)=>{if(!k.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!K||typeof K!="string"){console.warn("[SubscriptionContext] Invalid marketId:",K);return}if(Y!=null&&Y!==""&&(typeof Y!="string"||!Y.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty string or in format BASE/QUOTE):",Y);return}const X=ae=>{try{ae&&ae.sub_channel&&T.current.set(ae.sub_channel,ae),Z(ae)}catch(be){console.error("[SubscriptionContext] Error in multi-feed callback:",be)}};try{const ae={};Y&&Y!==""&&(ae.symbol=Y),G&&(ae.interval=G),k.current.subscribeMultiFeed(K,X,Object.keys(ae).length>0?ae:void 0)}catch(ae){const be=ae instanceof Error?ae:new Error(String(ae));console.error("[SubscriptionContext] Subscription error:",be),f(be)}},[]),O=A.useCallback((K,Y,Z,G,X)=>{if(!k.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!K||typeof K!="string"){console.warn("[SubscriptionContext] Invalid marketId:",K);return}if(Y!=null&&Y!==""&&(typeof Y!="string"||!Y.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty string or in format BASE/QUOTE):",Y);return}if(!Z||typeof Z!="string"){console.warn("[SubscriptionContext] Invalid subChannel:",Z);return}const ae=be=>{try{Z==="orderbook"&&console.log("[SubscriptionContext] Orderbook data received",{marketId:K,hasPayload:!!be,payloadType:typeof be,hasPayloadData:!!(be!=null&&be.data)});const le=(be==null?void 0:be.data)??be;if(Z==="orderbook"&&console.log("[SubscriptionContext] Orderbook data extracted",{marketId:K,hasData:!!le,dataType:typeof le,isObject:typeof le=="object",hasMarketId:!!(le!=null&&le.market_id),hasSequenceId:(le==null?void 0:le.sequence_id)!==void 0,hasBids:!!(le!=null&&le.bids),hasAsks:!!(le!=null&&le.asks),bidsCount:Array.isArray(le==null?void 0:le.bids)?le.bids.length:0,asksCount:Array.isArray(le==null?void 0:le.asks)?le.asks.length:0}),le&&typeof le=="object"){const J={sub_channel:Z,data:le,type:"data",channel:"multi_feed",market_id:K};T.current.set(Z,J)}Z==="orderbook"&&console.log("[SubscriptionContext] Calling orderbook callback with data",{marketId:K,hasData:!!le}),G(le),Z==="orderbook"&&console.log("[SubscriptionContext] Orderbook callback completed",{marketId:K})}catch(le){console.error(`[SubscriptionContext] Error in sub-channel callback for ${Z}:`,le)}};M.current.set(G,ae);try{const be={};Y&&Y!==""&&(be.symbol=Y),X&&(be.interval=X),k.current.subscribeMultiFeedSubChannel(Z,K,ae,Object.keys(be).length>0?be:void 0);const le=T.current.get(Z);le&&le.data&&setTimeout(()=>{try{G(le.data)}catch(J){console.error(`[SubscriptionContext] Error sending retained data for ${Z}:`,J)}},0)}catch(be){const le=be instanceof Error?be:new Error(String(be));console.error("[SubscriptionContext] Subscription error:",le),f(le)}},[]),F=A.useCallback((K,Y,Z)=>{if(k.current)try{k.current.unsubscribeMultiFeed(K,Y,Z)}catch(G){const X=G instanceof Error?G:new Error(String(G));console.error("[SubscriptionContext] Unsubscribe error:",X),f(X)}},[]),$=A.useCallback((K,Y)=>{if(k.current)try{if(Y){const Z=M.current.get(Y);if(!Z){console.warn(`[SubscriptionContext] Cannot unsubscribe: callback not found in wrapped callbacks for sub-channel ${K}. Ensure you're using the same callback reference that was used for subscription.`);return}k.current.unsubscribeMultiFeedSubChannel(K,Z),M.current.delete(Y)}else k.current.unsubscribeMultiFeedSubChannel(K)}catch(Z){const G=Z instanceof Error?Z:new Error(String(Z));console.error("[SubscriptionContext] Unsubscribe error:",G),f(G)}},[]),z=A.useCallback(()=>{a(K=>!K)},[]),D=A.useCallback(K=>{a(K)},[]),j=A.useCallback(K=>T.current.get(K)||null,[]),N=A.useCallback(()=>new Map(T.current),[]),R=A.useCallback(K=>{K?T.current.delete(K):T.current.clear()},[]),H=A.useCallback(()=>{f(null)},[]),U=A.useMemo(()=>({client:k.current,isEnabled:o,isConnected:l,connectionState:u,error:h,toggleEnabled:z,setEnabled:D,clearError:H,getRetainedData:j,getAllRetainedData:N,clearRetainedData:R,wsURL:p,setWsURL:m,authToken:b,setAuthToken:y,walletAddress:v,setWalletAddress:w,deviceID:_,setDeviceID:x,subscribeMultiFeedWithRetention:I,subscribeSubChannelWithRetention:O,unsubscribeMultiFeed:F,unsubscribeSubChannel:$}),[o,l,u,h,z,D,H,j,N,R,p,b,v,_,I,O,F,$]);return g.jsx(mpe.Provider,{value:U,children:n})},Kd=()=>{const n=A.useContext(mpe);if(!n)throw new Error("useSubscription must be used within SubscriptionProvider");return n};function B9e({baseURL:n=eb,selectedMarketId:e,height:r,onMarketSelect:i,favorites:s=[],onFavoriteToggle:o}){const{markets:a,tickers:l,selectedMarketId:c,setSelectedMarketId:u,getSymbolByMarketId:d}=ql({baseURL:n,autoFetchMarkets:!0}),{subscribeSubChannelWithRetention:h,unsubscribeSubChannel:f,isConnected:p,getRetainedData:m,client:b}=Kd(),[y,v]=A.useState(new Set(s)),[w,_]=A.useState("1H"),[x,k]=A.useState(null),C=A.useRef(null),E=A.useRef(null),T=e||c||null,{latestFundingRate:M}=cpe({subscriptionClient:b,baseURL:n,marketId:T||"",historyDepth:1}),I=A.useMemo(()=>{if(!(M!=null&&M.funding_rate))return null;try{return Ft(M.funding_rate)}catch(G){return console.error("[TickerBar] Error converting funding rate:",G),null}},[M]),O=A.useMemo(()=>{if(!(M!=null&&M.mark_price))return null;try{return Ft(M.mark_price)}catch(G){return console.error("[TickerBar] Error converting mark_price:",G),null}},[M]),F=A.useMemo(()=>x!==null?x:O,[x,O]),$=A.useMemo(()=>{const G=new Set(y);return s.forEach(X=>G.add(X)),G},[s,y]),z=A.useMemo(()=>a.map(G=>{var ge,V;const X=((ge=G.market_id)==null?void 0:ge.toString())||((V=G.id)==null?void 0:V.toString())||"",ae=l.get(X),be=G.moniker||G.symbol||(G.baseAsset&&G.quoteAsset?`${G.baseAsset}/${G.quoteAsset}`:"Unknown"),le=!G.active||!(ae!=null&&ae.lastPrice)||typeof ae.lastPrice=="string"&&ae.lastPrice==="0";let J=null;ae!=null&&ae.lastPrice&&(typeof ae.lastPrice=="string"?J=parseFloat(ae.lastPrice):J=ae.lastPrice);let xe=null;return ae!=null&&ae.priceChangePercent24h&&(typeof ae.priceChangePercent24h=="string"?xe=parseFloat(ae.priceChangePercent24h):xe=ae.priceChangePercent24h),{marketId:X,symbol:be,price:J,priceChangePercent:xe,isClosed:le,isFavorite:$.has(X)}}).filter(G=>G.marketId),[a,l,$]),D=A.useMemo(()=>T?a.find(G=>{var X,ae;return((X=G.market_id)==null?void 0:X.toString())===T||((ae=G.id)==null?void 0:ae.toString())===T}):null,[a,T]),j=A.useMemo(()=>T?l.get(T):null,[l,T]),N=A.useMemo(()=>D?D.moniker||D.symbol||(D.baseAsset&&D.quoteAsset?`${D.baseAsset}/${D.quoteAsset}`:"Unknown"):"Select Market",[D]),R=A.useMemo(()=>{if(!D)return"";const G=D.baseAsset||"",X=D.quoteAsset||"";return G&&X?`${G} to ${X}`:D.moniker||D.symbol||""},[D]),H=A.useMemo(()=>j!=null&&j.lastPrice?typeof j.lastPrice=="string"?parseFloat(j.lastPrice):j.lastPrice:null,[j]),U=A.useMemo(()=>j!=null&&j.priceChangePercent24h?typeof j.priceChangePercent24h=="string"?parseFloat(j.priceChangePercent24h):j.priceChangePercent24h:null,[j]);A.useEffect(()=>{var be;if(!T||!p){k(null);return}const G=d(T);if(!G){k(null);return}const X=m("price_feed");if(X&&Yfe(X)&&((be=X.data)!=null&&be.price))try{const le=Ft(X.data.price);k(le)}catch(le){console.error("[TickerBar] Error processing retained price_feed:",le)}const ae=le=>{try{if(le&&typeof le=="object"&&le.price){const J=Ft(le.price);k(J)}}catch(J){console.error("[TickerBar] Error processing price_feed update:",J)}};E.current=ae;try{h(T,G,"price_feed",ae)}catch(le){console.error("[TickerBar] Failed to subscribe to price_feed:",le)}return()=>{if(E.current){try{f("price_feed",E.current)}catch(le){console.error("[TickerBar] Failed to unsubscribe from price_feed:",le)}E.current=null}}},[T,p,d,h,f,m]);const K=G=>{i?i(G):u(G)},Y=(G,X)=>{X.stopPropagation();const ae=new Set($);ae.has(G)?ae.delete(G):ae.add(G),v(ae),o&&o(G)},Z=G=>{var be;const X=((be=G.split("/")[0])==null?void 0:be.toUpperCase())||"";return{BTC:"",ETH:"",EUR:"",USD:"$",USDC:"$",USDT:"$"}[X]||X.charAt(0)||"?"};return g.jsxs("div",{className:"ticker-bar-container",style:r?{height:r}:void 0,children:[g.jsx("div",{className:"ticker-bar-top",ref:C,children:g.jsx("div",{className:"ticker-bar-scroll",children:z.map((G,X)=>g.jsxs(B.Fragment,{children:[g.jsxs("div",{className:`ticker-item ${G.marketId===T?"active":""}`,onClick:()=>K(G.marketId),children:[g.jsx("span",{className:"ticker-favorite-star",onClick:ae=>Y(G.marketId,ae),style:{cursor:"pointer",opacity:G.isFavorite?1:.3},children:""}),g.jsx("span",{className:"ticker-asset-icon",children:Z(G.symbol)}),g.jsx("span",{className:"ticker-symbol",children:G.symbol}),g.jsx("span",{className:"ticker-value",children:G.isClosed?g.jsx("span",{className:"ticker-closed",children:"CLOSED"}):G.price!==null?sg(G.price):"--"})]}),X<z.length-1&&g.jsx("div",{className:"ticker-separator"})]},G.marketId))})}),g.jsxs("div",{className:"ticker-bar-bottom",children:[g.jsxs("div",{className:"ticker-detail-left",children:[g.jsx("div",{className:"ticker-detail-icon-large",children:D?Z(N):"?"}),g.jsxs("div",{className:"ticker-detail-symbol-group",children:[g.jsx("div",{className:"ticker-detail-symbol-row",children:g.jsx("span",{className:"ticker-detail-symbol",children:N})}),g.jsx("div",{className:"ticker-detail-description",children:R})]}),g.jsxs("div",{className:"ticker-detail-price-group",children:[g.jsx("div",{className:"ticker-detail-price",children:H!==null?sg(H):"--"}),U!==null&&g.jsxs("div",{className:`ticker-detail-change ${U>=0?"positive":"negative"}`,children:[U>=0?"+":"",hw(U/100)]})]})]}),g.jsxs("div",{className:"ticker-detail-metrics",children:[g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Oracle Price",children:"Oracle Price"}),g.jsx("span",{className:"ticker-metric-value",children:F!==null?sg(F):"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Long)",children:"Open Interest (L)"}),g.jsx("span",{className:"ticker-metric-value",children:j!=null&&j.volume?(()=>{const G=typeof j.volume=="string"?parseFloat(j.volume):j.volume;return`${nq(G)} / 20.0M USDC`})():"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Short)",children:"Open Interest (S)"}),g.jsx("span",{className:"ticker-metric-value",children:j!=null&&j.volume?(()=>{const G=typeof j.volume=="string"?parseFloat(j.volume):j.volume;return`${nq(G)} / 20.0M USDC`})():"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Skew",children:"Skew"}),g.jsx("span",{className:"ticker-metric-value",children:"50%/50%"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Funding Rate",children:"Funding Rate"}),g.jsx("span",{className:`ticker-metric-value ${I!==null&&I<0?"negative":I!==null&&I>0?"positive":""}`,children:I!==null?hw(I):"--"})]})]}),g.jsxs("div",{className:"ticker-detail-right",children:[g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Holding (Long)",children:"Holding (L)"}),g.jsx("span",{className:"ticker-metric-value positive",children:"0.0012%"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Holding (Short)",children:"Holding (S)"}),g.jsx("span",{className:"ticker-metric-value negative",children:"0.0021%"})]})]}),g.jsx("div",{className:"ticker-timeframe-selector",children:g.jsxs("select",{className:"ticker-timeframe-select",value:w,onChange:G=>_(G.target.value),children:[g.jsx("option",{value:"1H",children:"1H"}),g.jsx("option",{value:"4H",children:"4H"}),g.jsx("option",{value:"1D",children:"1D"}),g.jsx("option",{value:"1W",children:"1W"}),g.jsx("option",{value:"1M",children:"1M"})]})})]})]})}const L9e=B.memo(B9e),F9e=A.forwardRef(function({baseURL:e=eb,mnemonic:r=WC,marketId:i,marketSymbol:s,selectedBucketBalance:o,selectedBucketId:a,onLeverageClick:l,onNumberCalculatorClick:c,authToken:u,walletAddress:d},h){const{client:f}=Kd(),{selectedMarketId:p,selectedMarketSymbol:m}=ql({baseURL:e,autoFetchMarkets:!0}),b=i||p||"",y=s||m||"",{lastPrice:v}=VC({subscriptionClient:f,baseURL:e,marketId:b}),w=(v==null?void 0:v.price)||0,_=A.useRef(0),x=A.useRef(0),k=A.useRef(!1),{collections:C,spotWalletBalance:E}=hpe({subscriptionClient:f,baseURL:e,walletAddress:d||"",authToken:u||"",useWebSocket:!!d&&!!u}),T=A.useMemo(()=>!a||!C.length?null:C.find(Ve=>Ve.bucketId===a)||null,[C,a]),{orderType:M,setOrderType:I,fundPercent:O,sizeInput:F,price:$,leverage:z,marginMode:D,availableBalance:j,currentPrice:N,isReady:R,loading:H,result:U,setFundPercent:K,setSizeInput:Y,setPrice:Z,setMarginMode:G,setLeverage:X,placeBuyOrder:ae,placeSellOrder:be,changeLeverage:le,calculateValue:J,calculateMargin:xe,calculateSizeUSD:ge,getOrderPrice:V,getAvailableTradeAmount:we}=lpe({baseURL:e,mnemonic:r,marketId:b,marketSymbol:y,selectedBucketBalance:o,selectedBucketId:a||void 0,tradePrice:w}),ze=A.useMemo(()=>V(),[V,M,$,N]),et=A.useMemo(()=>we(),[we,j,z]),$e=A.useMemo(()=>J(),[J,F,O,j,ze,z]),mt=A.useMemo(()=>xe(),[xe,z,$e]),Ue=A.useMemo(()=>It(String($e)),[$e]),Ke=A.useMemo(()=>It(String(mt)),[mt]),pt=A.useMemo(()=>({minimumFractionDigits:gc,maximumFractionDigits:Qfe}),[]),lt=A.useMemo(()=>N.toFixed(gc),[N]),Ye=A.useMemo(()=>{const Ve=C.reduce((ot,Ie)=>ot+Ie.totalEquity,0);return E+Ve},[C,E]),We=A.useMemo(()=>Ye.toLocaleString("en-US",pt),[Ye,pt]),Ae=A.useMemo(()=>E.toLocaleString("en-US",pt),[E,pt]),W=A.useMemo(()=>T?T.totalEquity.toLocaleString("en-US",pt):"--",[T,pt]),de=A.useMemo(()=>T?T.totalEquity.toLocaleString("en-US",pt):"--",[T,pt]),me=A.useMemo(()=>T?T.unrealizedPnL.toLocaleString("en-US",pt):"--",[T,pt]),oe=A.useMemo(()=>T?(T.marginRatio*100).toFixed(gc)+"%":"--",[T]),pe=A.useMemo(()=>T?T.usedMargin.toLocaleString("en-US",pt):"--",[T,pt]),ve=A.useMemo(()=>T?`${T.leverage.toFixed(gc)}x`:"--",[T]),ee=A.useMemo(()=>e9e(a||null),[a]);A.useEffect(()=>{if(T){const Ve=jm(T);(Ve===uw||Ve===NNe)&&G(Ve)}},[T,G]);const ue=A.useCallback(()=>{I(GR)},[I]),ce=A.useCallback(()=>{I(Z5)},[I]),Ce=A.useCallback(()=>{K(Math.min(Q5,O+J5))},[O,K]),Me=A.useCallback(()=>{K(Math.max(n_,O-J5))},[O,K]),he=A.useCallback(Ve=>{const ot=parseInt(Ve.target.value);K(ot)},[K]),Te=A.useCallback(Ve=>{Z(parseFloat(Ve.target.value))},[Z]),[Se,ie]=A.useState(!1),[re,se]=A.useState(""),tt=A.useCallback(Ve=>{const ot=Ve.target.value;se(ot);const Ie=parseFloat(ot),at=isNaN(Ie)?0:Math.round(Ie*1e6)/1e6;Y(at)},[Y]),Re=A.useCallback(()=>{ie(!0),se(d8e(F))},[F]),He=A.useCallback(()=>{ie(!1);const Ve=parseFloat(re);Y(Ve),se("")},[re,Y]),Oe=A.useCallback(()=>{const Ve=ft.loading("Submit transaction...",{description:"Placing buy order"});_.current=typeof Ve=="number"?Ve:0,ae()},[ae]),Xe=A.useCallback(()=>{const Ve=ft.loading("Submit transaction...",{description:"Placing sell order"});_.current=typeof Ve=="number"?Ve:0,be()},[be]),dt=A.useCallback(async(Ve,ot)=>{k.current=!0;const Ie=ft.loading("Changing leverage...",{description:`Updating leverage to ${Ve}x`});x.current=typeof Ie=="number"?Ie:0;try{const at=(ot==null?void 0:ot.leverageType)||(D===uw?"cross":"isolated"),ke=(ot==null?void 0:ot.bucketId)||a||"";await le(Ve,{...ot,bucketId:ke,leverageType:at})}catch(at){k.current=!1,x.current!==0&&(ft.dismiss(x.current),x.current=0);const ke=at instanceof Error?at.message:"Unknown error";ft.error("Leverage Change Failed",{description:ke,action:yi(ke)})}},[le,D,a]);return A.useImperativeHandle(h,()=>({leverage:z,setLeverage:X,calculateMaxRatio:Ve=>{const Ie=ge();return j>0&&Ie>0?(Ie/j).toFixed(gc):Ve.toFixed(gc)},changeLeverage:dt,setPrice:Ve=>{const ot=typeof Ve=="number"?Ve:parseFloat(Ve);isNaN(ot)||Z(ot)},setSizeInput:Ve=>{Y(Ve)},getSizeInput:()=>F,getAvailableTradeAmount:()=>et}),[z,X,ge,V,j,dt,Z,Y,F,et]),A.useEffect(()=>{if(U)if(k.current)if(k.current=!1,x.current!==0&&(ft.dismiss(x.current),x.current=0),U.success){const Ve=U.orderId?`Transaction: ${U.orderId}`:U.message||"Leverage changed successfully";ft.success("Leverage Changed Successfully",{description:Ve})}else U.error&&ft.error("Leverage Change Failed",{description:U.error,action:yi(U.error||"")});else if(_.current!==0&&(ft.dismiss(_.current),_.current=0),U.success){const Ve=U.orderId?`Order ID: ${U.orderId}`:U.message||"Order placed successfully";ft.success("Order Placed Successfully",{description:Ve})}else U.error&&ft.error("Order Failed",{description:U.error,action:yi(U.error||"")})},[U]),g.jsxs("div",{className:"component",children:[g.jsx("h2",{children:y}),g.jsxs("div",{className:"trade-op-config",children:[g.jsxs("div",{className:"trade-op-badge",children:[g.jsx("span",{className:"trade-op-badge-label",children:D}),g.jsx("span",{className:"trade-op-info-icon",children:"i"})]}),g.jsxs("div",{className:"trade-op-badge",onClick:l,style:{cursor:"pointer"},children:[g.jsxs("span",{className:"trade-op-badge-label",children:[z,"x"]}),g.jsx("span",{className:"trade-op-info-icon",children:"i"})]})]}),g.jsxs("div",{className:"trade-op-order-type-selector",children:[g.jsx("button",{onClick:ue,className:`btn-toggle ${M===GR?"active":""}`,children:"MARKET"}),g.jsx("button",{onClick:ce,className:`btn-toggle ${M===Z5?"active":""}`,children:"LIMIT"})]}),M===Z5&&g.jsx("div",{className:"trade-op-form-group",children:g.jsxs("div",{className:"trade-op-form-row",children:[g.jsx("label",{htmlFor:"price",className:"trade-op-label",children:"Price:"}),g.jsx("input",{id:"price",type:"number",value:$,onChange:Te,placeholder:lt,step:MNe,min:wW})]})}),g.jsxs("div",{className:"trade-op-form-group",children:[g.jsxs("div",{className:"trade-op-form-row",style:{marginBottom:"0.5rem"},children:[g.jsx("label",{htmlFor:"size",className:"trade-op-label",children:"Size:"}),g.jsx("span",{className:"trade-op-icon",onClick:c,children:g.jsx("img",{src:"cal.svg"})}),g.jsxs("div",{className:"trade-op-size-controls",children:[g.jsx("input",{id:"size",type:"number",step:"0.000001",value:Se?re:F,onChange:tt,onFocus:Re,onBlur:He,placeholder:"0",min:wW,max:et,className:"trade-op-input"}),g.jsxs("div",{className:"trade-op-size-buttons",children:[g.jsx("button",{onClick:Ce,className:"btn-small",children:""}),g.jsx("button",{onClick:Me,className:"btn-small",children:""})]})]})]}),g.jsx("input",{type:"range",min:n_,max:Q5,value:O,onChange:he,step:J5,style:{width:"100%","--slider-progress":`${(O-n_)/(Q5-n_)*100}%`},className:"filled-slider"}),g.jsxs("div",{className:"trade-op-slider-labels",children:[g.jsx("span",{children:"0"}),g.jsx("span",{children:"20"}),g.jsx("span",{children:"40"}),g.jsx("span",{children:"60"}),g.jsx("span",{children:"80"}),g.jsx("span",{children:"100"})]})]}),g.jsxs("div",{className:"trade-op-action-panel",children:[g.jsxs("div",{children:[g.jsx("div",{className:"trade-op-panel-title buy",children:"LONG"}),g.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),g.jsx("button",{onClick:Oe,disabled:H||!R||$e<=0,className:"btn-buy",children:H?"PLACING...":"BUY LONG"}),g.jsxs("div",{className:"trade-op-panel-details",children:[g.jsxs("div",{children:["Value ",Ue.toFixed(2)]}),g.jsxs("div",{children:["Margin ",Ke.toFixed(2)]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"trade-op-panel-title sell",children:"SHORT"}),g.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),g.jsx("button",{onClick:Xe,disabled:H||!R||$e<=0,className:"btn-sell",children:H?"PLACING...":"SELL SHORT"}),g.jsxs("div",{className:"trade-op-panel-details",children:[g.jsxs("div",{children:["Value ",Ue.toFixed(gc)]}),g.jsxs("div",{children:["Margin ",Ke.toFixed(gc)]})]})]})]}),g.jsxs("div",{className:"trade-op-info-panel",children:[g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Account Equity:"}),g.jsxs("span",{className:"trade-op-info-value",children:[We," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Spot:"}),g.jsxs("span",{className:"trade-op-info-value",children:[Ae," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsxs("span",{className:"trade-op-info-label",children:[a||"Bucket",":"]}),g.jsxs("span",{className:"trade-op-info-value",children:[W," USDC"]})]}),g.jsx("div",{className:"trade-op-info-row",children:g.jsxs("span",{className:"trade-op-info-label",children:["Bucket Overview: ",ee]})}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Balance:"}),g.jsxs("span",{className:"trade-op-info-value",children:[de," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Unrealized PNL:"}),g.jsxs("span",{className:"trade-op-info-value",children:[me," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Cross Margin Ratio:"}),g.jsx("span",{className:"trade-op-info-value",children:oe})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Maintenance Margin:"}),g.jsxs("span",{className:"trade-op-info-value",children:[pe," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Cross Account Leverage:"}),g.jsx("span",{className:"trade-op-info-value",children:ve})]})]})]})});function $9e({baseURL:n=eb,subscriptionClient:e,marketId:r=TNe,limit:i=PNe}){const{lastPrice:s,displayPrice:o,recentTrades:a,loading:l,error:c,isConnected:u,priceChange:d}=VC({subscriptionClient:e,baseURL:n,marketId:r,limit:i}),h=A.useRef(null),f=A.useRef(""),p=A.useRef(null),m=A.useCallback(()=>{const T=h.current;if(!T)return;const M=T.parentElement;if(!M)return;const I=T.textContent||"";if(!I)return;const O=window.getComputedStyle(M),F=parseFloat(O.paddingLeft)+parseFloat(O.paddingRight),$=M.clientWidth-F;let z=12,D=48,j=z;const N=document.createElement("div");for(N.style.position="absolute",N.style.visibility="hidden",N.style.whiteSpace="nowrap",N.style.fontFamily=window.getComputedStyle(T).fontFamily,N.style.fontWeight=window.getComputedStyle(T).fontWeight,document.body.appendChild(N);z<=D;){const H=Math.floor((z+D)/2);N.style.fontSize=`${H}px`,N.textContent=I,N.offsetWidth<=$?(j=H,z=H+1):D=H-1}document.body.removeChild(N);const R=parseFloat(window.getComputedStyle(T).fontSize);Math.abs(R-j)>.5&&(T.style.fontSize=`${j}px`)},[]);A.useEffect(()=>{if(o==null)return;const T=sg(o);if(T===f.current)return;f.current=T,p.current!==null&&clearTimeout(p.current),p.current=window.setTimeout(()=>{m()},150);let M;const I=()=>{clearTimeout(M),M=window.setTimeout(()=>{p.current!==null&&clearTimeout(p.current),p.current=window.setTimeout(()=>{m()},150)},100)};return window.addEventListener("resize",I),()=>{p.current!==null&&clearTimeout(p.current),clearTimeout(M),window.removeEventListener("resize",I)}},[o,m]);const b=A.useCallback(T=>{if(!T||isNaN(T)||T<=0)return"Invalid";let M=T;M<9466848e5&&(M=M*1e3);const I=new Date(M);return isNaN(I.getTime())?"Invalid":I.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[]),y=A.useCallback(T=>T?"#51cf66":"#ff6b6b",[]),v=A.useCallback(T=>T?"BUY":"SELL",[]),w=A.useCallback(T=>T?"":"",[]);if(l)return g.jsx(tb,{message:"Loading trade price..."});if(c)return g.jsx(nb,{error:c});if(o==null)return g.jsx(Qc,{message:"No trade data available"});const _=s&&s.is_buyer_maker!==void 0,x=_?y(s.is_buyer_maker):"#888",k=_?v(s.is_buyer_maker):"N/A",C=_?w(s.is_buyer_maker):"",E=d==="up"?"flash-price-up":d==="down"?"flash-price-down":"";return g.jsxs("div",{className:"layout-container trade-price-container",children:[g.jsx(rb,{title:g.jsx(w9,{isConnected:u}),children:g.jsx("div",{children:"Last Trade Price"})}),g.jsxs("div",{className:`trade-price-main ${E}`,children:[g.jsx("div",{ref:h,className:"trade-price-value",style:{color:x},children:sg(o)}),g.jsxs("div",{className:"trade-price-side",style:{color:x},children:[g.jsx("span",{children:C}),g.jsx("span",{children:k})]})]}),g.jsx("div",{className:"trade-price-trades-table",children:l?g.jsx("div",{className:"message",children:"Loading trades..."}):a.length===0?g.jsx("div",{className:"message",children:"No trades available"}):g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Time"}),g.jsx("th",{className:"right",children:"Size"}),g.jsx("th",{className:"right",children:"Price"})]})}),g.jsx("tbody",{children:a.map(T=>{const M=T.is_buyer_maker?"#51cf66":"#ff6b6b";return g.jsxs("tr",{children:[g.jsx("td",{children:b(T.time)}),g.jsx("td",{className:"right",children:X7e(T.size)}),g.jsx("td",{className:"right price",style:{color:M},children:sg(T.price)})]},`${T.time}-${T.price}-${T.size}`)})})]})})]})}const z9e=B.memo($9e),gpe=({level:n,index:e,isLast:r,depthPercent:i,formatPrice:s,formatSize:o,onPriceClick:a})=>{const l=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-ask":"",c=()=>{a&&a(n.price)};return g.jsxs("div",{className:`orderbook-level ask ${l}`,style:{borderBottom:r?"none":void 0},children:[g.jsx("div",{className:"orderbook-depth-bar ask",style:{width:`${i}%`}}),g.jsx("div",{className:"orderbook-level-content ask",onClick:c,style:{cursor:a?"pointer":"default"},title:a?"Click to set price":void 0,children:s(n.price)}),g.jsx("div",{className:"orderbook-level-content right",children:o(n.size)}),g.jsx("div",{className:"orderbook-depth-indicator",children:g.jsx("div",{className:"orderbook-depth-line ask"})})]})},bpe=({level:n,index:e,isLast:r,depthPercent:i,formatPrice:s,formatSize:o,onPriceClick:a})=>{const l=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-bid":"",c=()=>{a&&a(n.price)};return g.jsxs("div",{className:`orderbook-level bid ${l}`,style:{borderBottom:r?"none":void 0},children:[g.jsx("div",{className:"orderbook-depth-bar bid",style:{width:`${i}%`}}),g.jsx("div",{className:"orderbook-level-content bid",onClick:c,style:{cursor:a?"pointer":"default"},title:a?"Click to set price":void 0,children:s(n.price)}),g.jsx("div",{className:"orderbook-level-content right",children:o(n.size)}),g.jsx("div",{className:"orderbook-depth-indicator",children:g.jsx("div",{className:"orderbook-depth-line bid"})})]})};function U9e({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i=Xfe,height:s=Kfe,onPriceClick:o}){var M,I;const{asks:a,bids:l,spread:c,midPrice:u,loading:d,error:h,isConnected:f,wsError:p}=y9({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i}),m=A.useRef(null),b=A.useRef(null),y=A.useRef(null),v=A.useRef(0),w=A.useRef(0);A.useEffect(()=>{const O=a.length!==v.current,F=l.length!==w.current;if(!(!O&&!F))return v.current=a.length,w.current=l.length,y.current!==null&&cancelAnimationFrame(y.current),y.current=requestAnimationFrame(()=>{if(m.current&&O){const $=m.current;$.scrollTop=$.scrollHeight}if(b.current&&F){const $=b.current;$.scrollTop=0}y.current=null}),()=>{y.current!==null&&(cancelAnimationFrame(y.current),y.current=null)}},[a.length,l.length]);const _=a.length>0?((M=a[a.length-1])==null?void 0:M.cumulative)??0:0,x=l.length>0?((I=l[l.length-1])==null?void 0:I.cumulative)??0:0,k=A.useMemo(()=>Math.max(_,x),[_,x]),C=US,E=WS,T=A.useCallback(O=>k===0?0:O/k*100,[k]);return d?g.jsx(tb,{message:"Loading orderbook..."}):h?g.jsx(nb,{error:h}):g.jsxs("div",{className:"layout-container",style:{height:s},children:[p&&(a.length>0||l.length>0)&&g.jsxs("div",{className:"orderbook-ws-warning",children:[g.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),g.jsx("span",{className:"orderbook-ws-warning-text",children:p})]}),g.jsx(rb,{title:g.jsx(w9,{isConnected:f}),children:g.jsxs("div",{children:["Depth: ",i]})}),u&&g.jsxs("div",{className:"orderbook-mid-price",children:[g.jsx("div",{className:"orderbook-mid-price-value",children:C(u)}),c!==void 0&&g.jsxs("div",{className:"orderbook-mid-price-spread",children:["Spread: ",C(c)]})]}),g.jsxs("div",{className:"orderbook-content",children:[g.jsxs("div",{className:"orderbook-section",ref:m,children:[a.map((O,F)=>{const $=T(O.cumulative);return g.jsx(gpe,{level:O,index:F,isLast:F===a.length-1,depthPercent:$,formatPrice:C,formatSize:E,onPriceClick:o},`ask-${O.price}-${F}`)}),a.length===0&&g.jsx(Qc,{message:"No ask orders"})]}),g.jsxs("div",{className:"orderbook-section bids",ref:b,children:[l.map((O,F)=>{const $=T(O.cumulative);return g.jsx(bpe,{level:O,index:F,isLast:F===l.length-1,depthPercent:$,formatPrice:C,formatSize:E,onPriceClick:o},`bid-${O.price}-${F}`)}),l.length===0&&g.jsx(Qc,{message:"No bid orders"})]})]}),g.jsx(ype,{totalBids:x,totalAsks:_})]})}const ype=B.memo(({totalBids:n,totalAsks:e})=>{const r=n+e,i=r>0?`${(n/r*100).toFixed(0)}%`:"0%",s=r>0?`${(e/r*100).toFixed(0)}%`:"0%";return g.jsxs("div",{className:"orderbook-footer",children:[g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar bid"}),g.jsx("span",{className:"color-text-muted",children:i})]}),g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar ask"}),g.jsx("span",{className:"color-text-muted",children:s})]})]})});ype.displayName="FooterSummary";B.memo(U9e);function W9e(n,e,r,i){const s=a=>{const l=1-a;return 3*l*l*a*n+3*l*a*a*r+a*a*a},o=a=>{const l=1-a;return 3*l*l*a*e+3*l*a*a*i+a*a*a};return a=>{if(a<=0)return 0;if(a>=1)return 1;let l=0,c=1,u=.5;for(let d=0;d<12;d++){const h=s(u);if(Math.abs(h-a)<1e-4)break;h<a?l=u:c=u,u=(l+c)/2}return o(u)}}function q9e({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i=Xfe,height:s=Kfe,onPriceClick:o}){var H,U;const{asks:a,bids:l,spread:c,loading:u,error:d,isConnected:h,wsError:f}=y9({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i}),p=A.useRef(null),m=A.useRef(null),b=A.useRef(null),y=A.useRef(null),v=A.useRef(!1),w=A.useRef(null),_=A.useRef(null),x=A.useRef(!1),k=A.useRef(0),C=a.length>0?((H=a[a.length-1])==null?void 0:H.cumulative)??0:0,E=l.length>0?((U=l[l.length-1])==null?void 0:U.cumulative)??0:0,T=A.useMemo(()=>Math.max(C,E),[C,E]),M=US,I=WS,O=A.useCallback(K=>T===0?0:K/T*100,[T]),F=A.useCallback((K,Y,Z)=>{if(v.current)return;v.current=!0;const G=Z,X=Y-G,ae=300,be=performance.now(),le=be+ae,J=W9e(.57,.4,.55,1.17),xe=ge=>{if(ge>=le){K.scrollTop=Math.max(0,Y),v.current=!1,k.current=performance.now(),y.current&&(cancelAnimationFrame(y.current),y.current=null);return}const V=ge-be,we=Math.min(V/ae,1),ze=J(we),et=G+X*ze;K.scrollTop=Math.max(0,et),y.current=requestAnimationFrame(xe)};y.current=requestAnimationFrame(xe)},[]),$=A.useCallback((K=0)=>{if(v.current||performance.now()-k.current<500||!p.current||!m.current)return;const G=p.current,ae=m.current.clientHeight;if(ae===0)return;const be=ae/2,le=20.83333;if(a.length*le<=be||c<=0||a.length===0||l.length===0)return;if(!b.current){if(K<3){_.current&&clearTimeout(_.current);const Ue=50*(K+1);_.current=window.setTimeout(()=>{_.current=null,$(K+1)},Ue)}return}const xe=b.current,ge=xe.offsetTop,V=xe.offsetHeight;if(V===0){if(K<3){_.current&&clearTimeout(_.current);const Ue=50*(K+1);_.current=window.setTimeout(()=>{_.current=null,$(K+1)},Ue)}return}const we=ge+V/2,ze=ae/2,et=we-ze-le,$e=G.scrollTop;Math.abs(et-$e)>1&&F(G,Math.max(0,et),$e)},[a.length,c,F]);A.useEffect(()=>{const K=()=>{x.current&&(x.current=!1,$())};return window.addEventListener("mouseup",K),()=>{window.removeEventListener("mouseup",K)}},[$]),A.useEffect(()=>{if(!p.current||!m.current)return;const K=requestAnimationFrame(()=>{requestAnimationFrame(()=>{$()})});return()=>{cancelAnimationFrame(K),y.current&&(cancelAnimationFrame(y.current),y.current=null),w.current&&(clearTimeout(w.current),w.current=null),_.current&&(clearTimeout(_.current),_.current=null),v.current=!1}},[a.length,l.length,c,T,$]);const z=A.useCallback(()=>{v.current&&y.current&&(cancelAnimationFrame(y.current),y.current=null,v.current=!1),w.current&&(clearTimeout(w.current),w.current=null)},[]),D=A.useCallback(K=>{const Y=K.currentTarget,Z=Y.offsetWidth-Y.clientWidth;if(Z>0){const G=Y.getBoundingClientRect();K.clientX-G.left>Y.clientWidth-Z-5&&(x.current=!0,z())}},[z]),j=A.useCallback(()=>{x.current&&z()},[z]),N=A.useCallback(()=>{x.current&&(x.current=!1,$())},[$]),R=A.useCallback(()=>{z(),w.current&&clearTimeout(w.current),x.current||(w.current=window.setTimeout(()=>{w.current=null,$()},150))},[$,z]);return u?g.jsx(tb,{message:"Loading orderbook..."}):d?g.jsx(nb,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:s},children:[f&&(a.length>0||l.length>0)&&g.jsxs("div",{className:"orderbook-ws-warning",children:[g.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),g.jsx("span",{className:"orderbook-ws-warning-text",children:f})]}),g.jsx(rb,{title:g.jsx(w9,{isConnected:h}),children:g.jsxs("div",{children:["Depth: ",i]})}),g.jsx("div",{className:"orderbook-content",ref:m,children:g.jsxs("div",{className:"orderbook-section",ref:p,onScroll:R,onMouseDown:D,onMouseMove:j,onMouseUp:N,onMouseLeave:N,children:[a.map((K,Y)=>{const Z=O(K.cumulative);return g.jsx(gpe,{level:K,index:Y,isLast:Y===a.length-1&&l.length===0,depthPercent:Z,formatPrice:M,formatSize:I,onPriceClick:o},`ask-${K.price}-${Y}`)}),c>0&&a.length>0&&l.length>0&&g.jsxs("div",{className:"orderbook-mid-price-spread",ref:b,children:["Spread: ",M(c)]}),l.map((K,Y)=>{const Z=O(K.cumulative);return g.jsx(bpe,{level:K,index:Y,isLast:Y===l.length-1,depthPercent:Z,formatPrice:M,formatSize:I,onPriceClick:o},`bid-${K.price}-${Y}`)}),a.length===0&&l.length===0&&g.jsx(Qc,{message:"No orders"}),a.length===0&&l.length>0&&g.jsx(Qc,{message:"No ask orders"}),l.length===0&&a.length>0&&g.jsx(Qc,{message:"No bid orders"})]})}),g.jsx(vpe,{totalBids:E,totalAsks:C})]})}const vpe=B.memo(({totalBids:n,totalAsks:e})=>{const r=n+e,i=r>0?`${(n/r*100).toFixed(0)}%`:"0%",s=r>0?`${(e/r*100).toFixed(0)}%`:"0%";return g.jsxs("div",{className:"orderbook-footer",children:[g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar bid"}),g.jsx("span",{className:"color-text-muted",children:i})]}),g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar ask"}),g.jsx("span",{className:"color-text-muted",children:s})]})]})});vpe.displayName="FooterSummary";const H9e=B.memo(q9e);function k9({top:n,left:e,width:r,height:i}){const s=`translate(${e}px,${n}px)`;return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:`${r}px`,height:`${i}px`,position:"absolute"}}function wpe({top:n,left:e,width:r,height:i}){return{top:`${n}px`,left:`${e}px`,width:`${r}px`,height:`${i}px`,position:"absolute"}}function iq(n){return n*100+"%"}function V9e(n,e,r,i){return n+r>i?e:r}function xpe(n,e,r){return n<0?e:r}function G9e(n){return Math.max(0,n)}function qS(n){return Math.max(0,n)}var S9=(n,e,r)=>{const{left:i,height:s,width:o}=e,a=n.top-(s-n.height);return{left:i,width:o,height:xpe(a,n.height,s),top:qS(a)}},C9=(n,e,r)=>{const{top:i,left:s,height:o,width:a}=e;return{top:i,height:o,width:V9e(n.left,n.width,a,r),left:G9e(s)}},E9=(n,e,r)=>{const{top:i,height:s,width:o}=e,a=n.left+n.width-o;return a<0?{height:s,width:n.left+n.width,top:qS(i),left:0}:{height:s,width:o,top:qS(i),left:a}},A9=(n,e,r)=>{const{top:i,left:s,height:o,width:a}=e;return{width:a,left:s,height:xpe(i,n.height,o),top:qS(i)}},Y9e=(n,e,r)=>S9(n,C9(n,e,r)),K9e=(n,e,r)=>S9(n,E9(n,e)),X9e=(n,e,r)=>A9(n,C9(n,e,r)),Q9e=(n,e,r)=>A9(n,E9(n,e)),J9e={n:S9,ne:Y9e,e:C9,se:X9e,s:A9,sw:Q9e,w:E9,nw:K9e};function Z9e(n,e,r,i){const s=J9e[n];return s?s(e,{...e,...r},i):r}var _pe={type:"transform",scale:1,calcStyle(n){return k9(n)},calcDragPosition(n,e,r,i){return{left:n-r,top:e-i}}},eBe={type:"absolute",scale:1,calcStyle(n){return wpe(n)},calcDragPosition(n,e,r,i){return{left:n-r,top:e-i}}};function tBe(n){return{type:"transform",scale:n,calcStyle(e){return k9(e)},calcDragPosition(e,r,i,s){return{left:(e-i)/n,top:(r-s)/n}}}}var nBe=_pe,rBe={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},iBe={enabled:!0,bounded:!1,threshold:3},sBe={enabled:!0,handles:["se"]},oBe={enabled:!1,defaultItem:{w:1,h:1}};function YC(n,e){return!(n.i===e.i||n.x+n.w<=e.x||n.x>=e.x+e.w||n.y+n.h<=e.y||n.y>=e.y+e.h)}function Aa(n,e){for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0&&YC(i,e))return i}}function kpe(n,e){return n.filter(r=>YC(r,e))}function Spe(n,e){return e==="horizontal"?Epe(n):e==="vertical"?Cpe(n):[...n]}function Cpe(n){return[...n].sort((e,r)=>e.y!==r.y?e.y-r.y:e.x-r.x)}function Epe(n){return[...n].sort((e,r)=>e.x!==r.x?e.x-r.x:e.y-r.y)}function ib(n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0){const s=i.y+i.h;s>e&&(e=s)}}return e}function Bh(n,e){for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0&&i.i===e)return i}}function T9(n){return n.filter(e=>e.static===!0)}function Xd(n){return{i:n.i,x:n.x,y:n.y,w:n.w,h:n.h,minW:n.minW,maxW:n.maxW,minH:n.minH,maxH:n.maxH,moved:!!n.moved,static:!!n.static,isDraggable:n.isDraggable,isResizable:n.isResizable,resizeHandles:n.resizeHandles,isBounded:n.isBounded}}function La(n){const e=new Array(n.length);for(let r=0;r<n.length;r++){const i=n[r];i!==void 0&&(e[r]=Xd(i))}return e}function aBe(n,e){const r=new Array(n.length);for(let i=0;i<n.length;i++){const s=n[i];s!==void 0&&(e.i===s.i?r[i]=e:r[i]=s)}return r}function lBe(n,e,r){let i=Bh(n,e);return i?(i=r(Xd(i)),[aBe(n,i),i]):[[...n],null]}function P9(n,e){const r=T9(n);for(let i=0;i<n.length;i++){const s=n[i];if(s!==void 0)if(s.x+s.w>e.cols&&(s.x=e.cols-s.w),s.x<0&&(s.x=0,s.w=e.cols),!s.static)r.push(s);else for(;Aa(r,s);)s.y++}return n}function ef(n,e,r,i,s,o,a,l,c){if(e.static&&e.isDraggable!==!0)return[...n];if(e.y===i&&e.x===r)return[...n];const u=e.x,d=e.y;typeof r=="number"&&(e.x=r),typeof i=="number"&&(e.y=i),e.moved=!0;let h=Spe(n,a);(a==="vertical"&&typeof i=="number"?d>=i:a==="horizontal"&&typeof r=="number"?u>=r:!1)&&(h=h.reverse());const p=kpe(h,e),m=p.length>0;if(m&&c)return La(n);if(m&&o)return e.x=u,e.y=d,e.moved=!1,n;let b=[...n];for(let y=0;y<p.length;y++){const v=p[y];v!==void 0&&(v.moved||(v.static?b=sq(b,v,e,s,a):b=sq(b,e,v,s,a)))}return b}function sq(n,e,r,i,s,o){const a=s==="horizontal",l=s==="vertical",c=e.static;if(i){i=!1;const h={x:a?Math.max(e.x-r.w,0):r.x,y:l?Math.max(e.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},f=Aa(n,h),p=f!==void 0&&f.y+f.h>e.y,m=f!==void 0&&e.x+e.w>f.x;if(!f)return ef(n,r,a?h.x:void 0,l?h.y:void 0,i,c,s);if(p&&l)return ef(n,r,void 0,r.y+1,i,c,s);if(p&&s===null)return e.y=r.y,r.y=r.y+r.h,[...n];if(m&&a)return ef(n,e,r.x,void 0,i,c,s)}const u=a?r.x+1:void 0,d=l?r.y+1:void 0;return u===void 0&&d===void 0?[...n]:ef(n,r,u,d,i,c,s)}function cBe(n){return n.filter(e=>e.static)}var uBe={x:"w",y:"h"};function r4(n,e,r,i){const s=uBe[i];e[i]+=1;const o=n.findIndex(a=>a.i===e.i);for(let a=o+1;a<n.length;a++){const l=n[a];if(l!==void 0&&!l.static){if(l.y>e.y+e.h)break;YC(e,l)&&r4(n,l,r+e[s],i)}}e[i]=r}function dBe(n,e,r,i,s,o,a){const l=r==="vertical",c=r==="horizontal";if(l)for(typeof a=="number"?e.y=Math.min(a,e.y):e.y=Math.min(ib(n),e.y);e.y>0&&!Aa(n,e);)e.y--;else if(c)for(;e.x>0&&!Aa(n,e);)e.x--;let u;for(;(u=Aa(n,e))!==void 0&&!(r===null&&o);)if(c?r4(s,e,u.x+u.w,"x"):r4(s,e,u.y+u.h,"y"),c&&e.x+e.w>i)for(e.x=i-e.w,e.y++;e.x>0&&!Aa(n,e);)e.x--;return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function Rc(n,e,r,i){const s=cBe(n);let o=ib(s);const a=Spe(n,e),l=new Array(n.length);for(let c=0;c<a.length;c++){const u=a[c];if(u===void 0)continue;let d=Xd(u);d.static||(d=dBe(s,d,e,r,a,i,o),o=Math.max(o,d.y+d.h),s.push(d));const h=n.indexOf(u);l[h]=d,d.moved=!1}return l}function I9(n,e,r,i){const s=i==="x"?"w":"h";e[i]+=1;const o=n.findIndex(a=>a.i===e.i);for(let a=o+1;a<n.length;a++){const l=n[a];if(l!==void 0&&!l.static){if(l.y>e.y+e.h)break;YC(e,l)&&I9(n,l,r+e[s],i)}}e[i]=r}function hBe(n,e,r,i){for(e.y=Math.min(i,e.y);e.y>0&&!Aa(n,e);)e.y--;let s;for(;(s=Aa(n,e))!==void 0;)I9(r,e,s.y+s.h,"y");return e.y=Math.max(e.y,0),e}function fBe(n,e,r,i){for(;e.x>0&&!Aa(n,e);)e.x--;let s;for(;(s=Aa(n,e))!==void 0;)if(I9(i,e,s.x+s.w,"x"),e.x+e.w>r)for(e.x=r-e.w,e.y++;e.x>0&&!Aa(n,e);)e.x--;return e.x=Math.max(e.x,0),e}var Ape={type:"vertical",allowOverlap:!1,compact(n,e){const r=T9(n);let i=ib(r);const s=Cpe(n),o=new Array(n.length);for(let a=0;a<s.length;a++){const l=s[a];if(l===void 0)continue;let c=Xd(l);c.static||(c=hBe(r,c,s,i),i=Math.max(i,c.y+c.h),r.push(c));const u=n.indexOf(l);o[u]=c,c.moved=!1}return o},onMove(n,e,r,i,s){const o=La(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},Tpe={type:"horizontal",allowOverlap:!1,compact(n,e){const r=T9(n),i=Epe(n),s=new Array(n.length);for(let o=0;o<i.length;o++){const a=i[o];if(a===void 0)continue;let l=Xd(a);l.static||(l=fBe(r,l,e,i),r.push(l));const c=n.indexOf(a);s[c]=l,l.moved=!1}return s},onMove(n,e,r,i,s){const o=La(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},oq={type:null,allowOverlap:!1,compact(n,e){return La(n)},onMove(n,e,r,i,s){const o=La(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},pBe={...Ape,allowOverlap:!0,compact(n,e){return La(n)}},mBe={...Tpe,allowOverlap:!0,compact(n,e){return La(n)}};function M9(n,e=!1,r=!1){let i;return e?n==="vertical"?i=pBe:n==="horizontal"?i=mBe:i=oq:n==="vertical"?i=Ape:n==="horizontal"?i=Tpe:i=oq,r?{...i,preventCollision:r}:i}function Ppe(n){return Object.keys(n).sort((r,i)=>n[r]-n[i])}function aq(n,e){const r=Ppe(n);let i=r[0];if(i===void 0)throw new Error("No breakpoints defined");for(let s=1;s<r.length;s++){const o=r[s];if(o===void 0)continue;const a=n[o];e>a&&(i=o)}return i}function lq(n,e){const r=e[n];if(r===void 0)throw new Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(n)} is missing!`);return r}function l3(n,e,r,i,s,o){const a=n[r];if(a)return La(a);let l=n[i];const c=Ppe(e),u=c.slice(c.indexOf(r));for(let h=0;h<u.length;h++){const f=u[h];if(f===void 0)continue;const p=n[f];if(p){l=p;break}}const d=La(l||[]);return Rc(P9(d,{cols:s}),o,s)}function a_(n,e){if(Array.isArray(n))return n;const r=n,i=r[e];if(i!==void 0)return i;const s=Object.keys(r);for(const o of s){const a=r[o];if(a!==void 0)return a}return[10,10]}function KC(n){const{margin:e,containerPadding:r,containerWidth:i,cols:s}=n;return(i-e[0]*(s-1)-r[0]*2)/s}function HS(n,e,r){return Number.isFinite(n)?Math.round(e*n+Math.max(0,n-1)*r):n}function Sh(n,e,r,i,s,o,a){const{margin:l,containerPadding:c,rowHeight:u}=n,d=KC(n);let h,f,p,m;return a?(h=Math.round(a.width),f=Math.round(a.height)):(h=HS(i,d,l[0]),f=HS(s,u,l[1])),o?(p=Math.round(o.top),m=Math.round(o.left)):a?(p=Math.round(a.top),m=Math.round(a.left)):(p=Math.round((u+l[1])*r+c[1]),m=Math.round((d+l[0])*e+c[0])),{top:p,left:m,width:h,height:f}}function _k(n,e,r,i,s){const{margin:o,containerPadding:a,cols:l,rowHeight:c,maxRows:u}=n,d=KC(n);let h=Math.round((r-a[0])/(d+o[0])),f=Math.round((e-a[1])/(c+o[1]));return h=Sl(h,0,l-i),f=Sl(f,0,u-s),{x:h,y:f}}function gBe(n,e,r,i,s,o){const{margin:a,maxRows:l,cols:c,rowHeight:u}=n,d=KC(n),h=Math.round((e+a[0])/(d+a[0])),f=Math.round((r+a[1])/(u+a[1]));let p=Sl(h,0,c-i),m=Sl(f,0,l-s);return(o==="sw"||o==="w"||o==="nw")&&(p=Sl(h,0,c)),(o==="nw"||o==="n"||o==="ne")&&(m=Sl(f,0,l)),{w:p,h:m}}function Sl(n,e,r){return Math.max(Math.min(n,r),e)}var XC={exports:{}},Ipe={},Mpe={exports:{}},bBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yBe=bBe,vBe=yBe;function Ope(){}function Dpe(){}Dpe.resetWarningCache=Ope;var wBe=function(){function n(i,s,o,a,l,c){if(c!==vBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Dpe,resetWarningCache:Ope};return r.PropTypes=r,r};Mpe.exports=wBe();var _x=Mpe.exports;const _e=F2(_x);var i4={exports:{}};function Rpe(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=Rpe(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function cq(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=Rpe(n))&&(i&&(i+=" "),i+=e);return i}i4.exports=cq,i4.exports.clsx=cq;var xBe=i4.exports,vr={},Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.dontSetMe=EBe;Hl.findInArray=_Be;Hl.int=CBe;Hl.isFunction=kBe;Hl.isNum=SBe;function _Be(n,e){for(let r=0,i=n.length;r<i;r++)if(e.apply(e,[n[r],r,n]))return n[r]}function kBe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function SBe(n){return typeof n=="number"&&!isNaN(n)}function CBe(n){return parseInt(n,10)}function EBe(n,e,r){if(n[e])return new Error(`Invalid prop ${e} passed to ${r} - do not set this, set it on the child.`)}var vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.browserPrefixToKey=jpe;vp.browserPrefixToStyle=ABe;vp.default=void 0;vp.getPrefix=Npe;const c3=["Moz","Webkit","O","ms"];function Npe(){var r,i;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(i=(r=window.document)==null?void 0:r.documentElement)==null?void 0:i.style;if(!e||n in e)return"";for(let s=0;s<c3.length;s++)if(jpe(n,c3[s])in e)return c3[s];return""}function jpe(n,e){return e?`${e}${TBe(n)}`:n}function ABe(n,e){return e?`-${e.toLowerCase()}-${n}`:n}function TBe(n){let e="",r=!0;for(let i=0;i<n.length;i++)r?(e+=n[i].toUpperCase(),r=!1):n[i]==="-"?r=!0:e+=n[i];return e}vp.default=Npe();Object.defineProperty(vr,"__esModule",{value:!0});vr.addClassName=Fpe;vr.addEvent=IBe;vr.addUserSelectStyles=zBe;vr.createCSSTransform=BBe;vr.createSVGTransform=LBe;vr.getTouch=FBe;vr.getTouchIdentifier=$Be;vr.getTranslation=O9;vr.innerHeight=RBe;vr.innerWidth=NBe;vr.matchesSelector=Lpe;vr.matchesSelectorAndParentsTo=PBe;vr.offsetXYFromParent=jBe;vr.outerHeight=OBe;vr.outerWidth=DBe;vr.removeClassName=$pe;vr.removeEvent=MBe;vr.scheduleRemoveUserSelectStyles=UBe;var lo=Hl,uq=Bpe(vp);function Bpe(n,e){if(typeof WeakMap=="function")var r=new WeakMap,i=new WeakMap;return(Bpe=function(s,o){if(!o&&s&&s.__esModule)return s;var a,l,c={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return c;if(a=o?i:r){if(a.has(s))return a.get(s);a.set(s,c)}for(const u in s)u!=="default"&&{}.hasOwnProperty.call(s,u)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,u))&&(l.get||l.set)?a(c,u,l):c[u]=s[u]);return c})(n,e)}let l_="";function Lpe(n,e){return l_||(l_=(0,lo.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,lo.isFunction)(n[r])})),(0,lo.isFunction)(n[l_])?n[l_](e):!1}function PBe(n,e,r){let i=n;do{if(Lpe(i,e))return!0;if(i===r)return!1;i=i.parentNode}while(i);return!1}function IBe(n,e,r,i){if(!n)return;const s={capture:!0,...i};n.addEventListener?n.addEventListener(e,r,s):n.attachEvent?n.attachEvent("on"+e,r):n["on"+e]=r}function MBe(n,e,r,i){if(!n)return;const s={capture:!0,...i};n.removeEventListener?n.removeEventListener(e,r,s):n.detachEvent?n.detachEvent("on"+e,r):n["on"+e]=null}function OBe(n){let e=n.clientHeight;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,lo.int)(r.borderTopWidth),e+=(0,lo.int)(r.borderBottomWidth),e}function DBe(n){let e=n.clientWidth;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,lo.int)(r.borderLeftWidth),e+=(0,lo.int)(r.borderRightWidth),e}function RBe(n){let e=n.clientHeight;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,lo.int)(r.paddingTop),e-=(0,lo.int)(r.paddingBottom),e}function NBe(n){let e=n.clientWidth;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,lo.int)(r.paddingLeft),e-=(0,lo.int)(r.paddingRight),e}function jBe(n,e,r){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(n.clientX+e.scrollLeft-s.left)/r,a=(n.clientY+e.scrollTop-s.top)/r;return{x:o,y:a}}function BBe(n,e){const r=O9(n,e,"px");return{[(0,uq.browserPrefixToKey)("transform",uq.default)]:r}}function LBe(n,e){return O9(n,e,"")}function O9(n,e,r){let{x:i,y:s}=n,o=`translate(${i}${r},${s}${r})`;if(e){const a=`${typeof e.x=="string"?e.x:e.x+r}`,l=`${typeof e.y=="string"?e.y:e.y+r}`;o=`translate(${a}, ${l})`+o}return o}function FBe(n,e){return n.targetTouches&&(0,lo.findInArray)(n.targetTouches,r=>e===r.identifier)||n.changedTouches&&(0,lo.findInArray)(n.changedTouches,r=>e===r.identifier)}function $Be(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function zBe(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&Fpe(n.body,"react-draggable-transparent-selection")}function UBe(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{dq(n)}):dq(n)}function dq(n){if(n)try{if(n.body&&$pe(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Fpe(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(n.className+=` ${e}`)}function $pe(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.canDragX=HBe;Vl.canDragY=VBe;Vl.createCoreData=YBe;Vl.createDraggableData=KBe;Vl.getBoundPosition=WBe;Vl.getControlPosition=GBe;Vl.snapToGrid=qBe;var Gs=Hl,Bm=vr;function WBe(n,e,r){if(!n.props.bounds)return[e,r];let{bounds:i}=n.props;i=typeof i=="string"?i:XBe(i);const s=D9(n);if(typeof i=="string"){const{ownerDocument:o}=s,a=o.defaultView;let l;if(i==="parent"?l=s.parentNode:l=s.getRootNode().querySelector(i),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const c=l,u=a.getComputedStyle(s),d=a.getComputedStyle(c);i={left:-s.offsetLeft+(0,Gs.int)(d.paddingLeft)+(0,Gs.int)(u.marginLeft),top:-s.offsetTop+(0,Gs.int)(d.paddingTop)+(0,Gs.int)(u.marginTop),right:(0,Bm.innerWidth)(c)-(0,Bm.outerWidth)(s)-s.offsetLeft+(0,Gs.int)(d.paddingRight)-(0,Gs.int)(u.marginRight),bottom:(0,Bm.innerHeight)(c)-(0,Bm.outerHeight)(s)-s.offsetTop+(0,Gs.int)(d.paddingBottom)-(0,Gs.int)(u.marginBottom)}}return(0,Gs.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,Gs.isNum)(i.bottom)&&(r=Math.min(r,i.bottom)),(0,Gs.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,Gs.isNum)(i.top)&&(r=Math.max(r,i.top)),[e,r]}function qBe(n,e,r){const i=Math.round(e/n[0])*n[0],s=Math.round(r/n[1])*n[1];return[i,s]}function HBe(n){return n.props.axis==="both"||n.props.axis==="x"}function VBe(n){return n.props.axis==="both"||n.props.axis==="y"}function GBe(n,e,r){const i=typeof e=="number"?(0,Bm.getTouch)(n,e):null;if(typeof e=="number"&&!i)return null;const s=D9(r),o=r.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Bm.offsetXYFromParent)(i||n,o,r.props.scale)}function YBe(n,e,r){const i=!(0,Gs.isNum)(n.lastX),s=D9(n);return i?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:r,x:e,y:r}:{node:s,deltaX:e-n.lastX,deltaY:r-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:r}}function KBe(n,e){const r=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/r,y:n.state.y+e.deltaY/r,deltaX:e.deltaX/r,deltaY:e.deltaY/r,lastX:n.state.x,lastY:n.state.y}}function XBe(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function D9(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var QC={},JC={};Object.defineProperty(JC,"__esModule",{value:!0});JC.default=QBe;function QBe(){}Object.defineProperty(QC,"__esModule",{value:!0});QC.default=void 0;var u3=zpe(A),Hi=R9(_x),JBe=R9($a),Mi=vr,Uu=Vl,d3=Hl,qb=R9(JC);function R9(n){return n&&n.__esModule?n:{default:n}}function zpe(n,e){if(typeof WeakMap=="function")var r=new WeakMap,i=new WeakMap;return(zpe=function(s,o){if(!o&&s&&s.__esModule)return s;var a,l,c={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return c;if(a=o?i:r){if(a.has(s))return a.get(s);a.set(s,c)}for(const u in s)u!=="default"&&{}.hasOwnProperty.call(s,u)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,u))&&(l.get||l.set)?a(c,u,l):c[u]=s[u]);return c})(n,e)}function Vi(n,e,r){return(e=ZBe(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function ZBe(n){var e=eLe(n,"string");return typeof e=="symbol"?e:e+""}function eLe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const da={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Wu=da.mouse,ZC=class extends u3.Component{constructor(){super(...arguments),Vi(this,"dragging",!1),Vi(this,"lastX",NaN),Vi(this,"lastY",NaN),Vi(this,"touchIdentifier",null),Vi(this,"mounted",!1),Vi(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=r;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,Mi.matchesSelectorAndParentsTo)(e.target,this.props.handle,r)||this.props.cancel&&(0,Mi.matchesSelectorAndParentsTo)(e.target,this.props.cancel,r))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const s=(0,Mi.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Uu.getControlPosition)(e,s,this);if(o==null)return;const{x:a,y:l}=o,c=(0,Uu.createCoreData)(this,a,l);(0,qb.default)("DraggableCore: handleDragStart: %j",c),(0,qb.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Mi.addUserSelectStyles)(i),this.dragging=!0,this.lastX=a,this.lastY=l,(0,Mi.addEvent)(i,Wu.move,this.handleDrag),(0,Mi.addEvent)(i,Wu.stop,this.handleDragStop))}),Vi(this,"handleDrag",e=>{const r=(0,Uu.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:i,y:s}=r;if(Array.isArray(this.props.grid)){let l=i-this.lastX,c=s-this.lastY;if([l,c]=(0,Uu.snapToGrid)(this.props.grid,l,c),!l&&!c)return;i=this.lastX+l,s=this.lastY+c}const o=(0,Uu.createCoreData)(this,i,s);if((0,qb.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=i,this.lastY=s}),Vi(this,"handleDragStop",e=>{if(!this.dragging)return;const r=(0,Uu.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:i,y:s}=r;if(Array.isArray(this.props.grid)){let c=i-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Uu.snapToGrid)(this.props.grid,c,u),i=this.lastX+c,s=this.lastY+u}const o=(0,Uu.createCoreData)(this,i,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Mi.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,qb.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,qb.default)("DraggableCore: Removing handlers"),(0,Mi.removeEvent)(l.ownerDocument,Wu.move,this.handleDrag),(0,Mi.removeEvent)(l.ownerDocument,Wu.stop,this.handleDragStop))}),Vi(this,"onMouseDown",e=>(Wu=da.mouse,this.handleDragStart(e))),Vi(this,"onMouseUp",e=>(Wu=da.mouse,this.handleDragStop(e))),Vi(this,"onTouchStart",e=>(Wu=da.touch,this.handleDragStart(e))),Vi(this,"onTouchEnd",e=>(Wu=da.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Mi.addEvent)(e,da.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:r}=e;(0,Mi.removeEvent)(r,da.mouse.move,this.handleDrag),(0,Mi.removeEvent)(r,da.touch.move,this.handleDrag),(0,Mi.removeEvent)(r,da.mouse.stop,this.handleDragStop),(0,Mi.removeEvent)(r,da.touch.stop,this.handleDragStop),(0,Mi.removeEvent)(e,da.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Mi.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){var e,r,i;return(e=this.props)!=null&&e.nodeRef?(i=(r=this.props)==null?void 0:r.nodeRef)==null?void 0:i.current:JBe.default.findDOMNode(this)}render(){return u3.cloneElement(u3.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};QC.default=ZC;Vi(ZC,"displayName","DraggableCore");Vi(ZC,"propTypes",{allowAnyClick:Hi.default.bool,allowMobileScroll:Hi.default.bool,children:Hi.default.node.isRequired,disabled:Hi.default.bool,enableUserSelectHack:Hi.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Hi.default.arrayOf(Hi.default.number),handle:Hi.default.string,cancel:Hi.default.string,nodeRef:Hi.default.object,onStart:Hi.default.func,onDrag:Hi.default.func,onStop:Hi.default.func,onMouseDown:Hi.default.func,scale:Hi.default.number,className:d3.dontSetMe,style:d3.dontSetMe,transform:d3.dontSetMe});Vi(ZC,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),n.default=void 0;var e=h(A),r=d(_x),i=d($a),s=xBe,o=vr,a=Vl,l=Hl,c=d(QC),u=d(JC);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,w){if(typeof WeakMap=="function")var _=new WeakMap,x=new WeakMap;return(h=function(k,C){if(!C&&k&&k.__esModule)return k;var E,T,M={__proto__:null,default:k};if(k===null||typeof k!="object"&&typeof k!="function")return M;if(E=C?x:_){if(E.has(k))return E.get(k);E.set(k,M)}for(const I in k)I!=="default"&&{}.hasOwnProperty.call(k,I)&&((T=(E=Object.defineProperty)&&Object.getOwnPropertyDescriptor(k,I))&&(T.get||T.set)?E(M,I,T):M[I]=k[I]);return M})(v,w)}function f(){return f=Object.assign?Object.assign.bind():function(v){for(var w=1;w<arguments.length;w++){var _=arguments[w];for(var x in _)({}).hasOwnProperty.call(_,x)&&(v[x]=_[x])}return v},f.apply(null,arguments)}function p(v,w,_){return(w=m(w))in v?Object.defineProperty(v,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[w]=_,v}function m(v){var w=b(v,"string");return typeof w=="symbol"?w:w+""}function b(v,w){if(typeof v!="object"||!v)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var x=_.call(v,w);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(v)}class y extends e.Component{static getDerivedStateFromProps(w,_){let{position:x}=w,{prevPropsPosition:k}=_;return x&&(!k||x.x!==k.x||x.y!==k.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:x,prevPropsPosition:k}),{x:x.x,y:x.y,prevPropsPosition:{...x}}):null}constructor(w){super(w),p(this,"onDragStart",(_,x)=>{if((0,u.default)("Draggable: onDragStart: %j",x),this.props.onStart(_,(0,a.createDraggableData)(this,x))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(_,x)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",x);const k=(0,a.createDraggableData)(this,x),C={x:k.x,y:k.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:M}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[I,O]=(0,a.getBoundPosition)(this,C.x,C.y);C.x=I,C.y=O,C.slackX=this.state.slackX+(T-C.x),C.slackY=this.state.slackY+(M-C.y),k.x=C.x,k.y=C.y,k.deltaX=C.x-this.state.x,k.deltaY=C.y-this.state.y}if(this.props.onDrag(_,k)===!1)return!1;this.setState(C)}),p(this,"onDragStop",(_,x)=>{if(!this.state.dragging||this.props.onStop(_,(0,a.createDraggableData)(this,x))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",x);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:T,y:M}=this.props.position;C.x=T,C.y=M}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var w,_;return((_=(w=this.props)==null?void 0:w.nodeRef)==null?void 0:_.current)??i.default.findDOMNode(this)}render(){const{axis:w,bounds:_,children:x,defaultPosition:k,defaultClassName:C,defaultClassNameDragging:E,defaultClassNameDragged:T,position:M,positionOffset:I,scale:O,...F}=this.props;let $={},z=null;const j=!!!M||this.state.dragging,N=M||k,R={x:(0,a.canDragX)(this)&&j?this.state.x:N.x,y:(0,a.canDragY)(this)&&j?this.state.y:N.y};this.state.isElementSVG?z=(0,o.createSVGTransform)(R,I):$=(0,o.createCSSTransform)(R,I);const H=(0,s.clsx)(x.props.className||"",C,{[E]:this.state.dragging,[T]:this.state.dragged});return e.createElement(c.default,f({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(x),{className:H,style:{...x.props.style,...$},transform:z}))}}n.default=y,p(y,"displayName","Draggable"),p(y,"propTypes",{...c.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(y,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ipe);const{default:Upe,DraggableCore:tLe}=Ipe;XC.exports=Upe;XC.exports.default=Upe;var nLe=XC.exports.DraggableCore=tLe,rLe=XC.exports,N9={exports:{}},kx={},j9={};j9.__esModule=!0;j9.cloneElement=cLe;var iLe=sLe(A);function sLe(n){return n&&n.__esModule?n:{default:n}}function hq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function fq(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(r),!0).forEach(function(i){oLe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function oLe(n,e,r){return e=aLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function aLe(n){var e=lLe(n,"string");return typeof e=="symbol"?e:String(e)}function lLe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cLe(n,e){return e.style&&n.props.style&&(e.style=fq(fq({},n.props.style),e.style)),e.className&&n.props.className&&(e.className=n.props.className+" "+e.className),iLe.default.cloneElement(n,e)}var Sx={};Sx.__esModule=!0;Sx.resizableProps=void 0;var Qt=uLe(_x);function uLe(n){return n&&n.__esModule?n:{default:n}}var dLe={axis:Qt.default.oneOf(["both","x","y","none"]),className:Qt.default.string,children:Qt.default.element.isRequired,draggableOpts:Qt.default.shape({allowAnyClick:Qt.default.bool,cancel:Qt.default.string,children:Qt.default.node,disabled:Qt.default.bool,enableUserSelectHack:Qt.default.bool,offsetParent:Qt.default.node,grid:Qt.default.arrayOf(Qt.default.number),handle:Qt.default.string,nodeRef:Qt.default.object,onStart:Qt.default.func,onDrag:Qt.default.func,onStop:Qt.default.func,onMouseDown:Qt.default.func,scale:Qt.default.number}),height:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=r[0];if(s.axis==="both"||s.axis==="y"){var o;return(o=Qt.default.number).isRequired.apply(o,r)}return Qt.default.number.apply(Qt.default,r)},handle:Qt.default.oneOfType([Qt.default.node,Qt.default.func]),handleSize:Qt.default.arrayOf(Qt.default.number),lockAspectRatio:Qt.default.bool,maxConstraints:Qt.default.arrayOf(Qt.default.number),minConstraints:Qt.default.arrayOf(Qt.default.number),onResizeStop:Qt.default.func,onResizeStart:Qt.default.func,onResize:Qt.default.func,resizeHandles:Qt.default.arrayOf(Qt.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Qt.default.number,width:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=r[0];if(s.axis==="both"||s.axis==="x"){var o;return(o=Qt.default.number).isRequired.apply(o,r)}return Qt.default.number.apply(Qt.default,r)}};Sx.resizableProps=dLe;kx.__esModule=!0;kx.default=void 0;var Hb=gLe(A),hLe=rLe,fLe=j9,pLe=Sx,mLe=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Wpe(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Wpe=function(s){return s?r:e})(n)}function gLe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Wpe(e);if(r&&r.has(n))return r.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=s?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=n[o]}return i.default=n,r&&r.set(n,i),i}function s4(){return s4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},s4.apply(this,arguments)}function bLe(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function pq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function h3(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pq(Object(r),!0).forEach(function(i){yLe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):pq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function yLe(n,e,r){return e=vLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function vLe(n){var e=wLe(n,"string");return typeof e=="symbol"?e:String(e)}function wLe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xLe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,o4(n,e)}function o4(n,e){return o4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},o4(n,e)}var B9=function(n){xLe(e,n);function e(){for(var i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o))||this,i.handleRefs={},i.lastHandleRect=null,i.slack=null,i}var r=e.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(s,o){var a=this.props,l=a.minConstraints,c=a.maxConstraints,u=a.lockAspectRatio;if(!l&&!c&&!u)return[s,o];if(u){var d=this.props.width/this.props.height,h=s-this.props.width,f=o-this.props.height;Math.abs(h)>Math.abs(f*d)?o=s/d:s=o*d}var p=s,m=o,b=this.slack||[0,0],y=b[0],v=b[1];return s+=y,o+=v,l&&(s=Math.max(l[0],s),o=Math.max(l[1],o)),c&&(s=Math.min(c[0],s),o=Math.min(c[1],o)),this.slack=[y+(p-s),v+(m-o)],[s,o]},r.resizeHandler=function(s,o){var a=this;return function(l,c){var u=c.node,d=c.deltaX,h=c.deltaY;s==="onResizeStart"&&a.resetData();var f=(a.props.axis==="both"||a.props.axis==="x")&&o!=="n"&&o!=="s",p=(a.props.axis==="both"||a.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!f&&!p)){var m=o[0],b=o[o.length-1],y=u.getBoundingClientRect();if(a.lastHandleRect!=null){if(b==="w"){var v=y.left-a.lastHandleRect.left;d+=v}if(m==="n"){var w=y.top-a.lastHandleRect.top;h+=w}}a.lastHandleRect=y,b==="w"&&(d=-d),m==="n"&&(h=-h);var _=a.props.width+(f?d/a.props.transformScale:0),x=a.props.height+(p?h/a.props.transformScale:0),k=a.runConstraints(_,x);_=k[0],x=k[1];var C=_!==a.props.width||x!==a.props.height,E=typeof a.props[s]=="function"?a.props[s]:null,T=s==="onResize"&&!C;E&&!T&&(l.persist==null||l.persist(),E(l,{node:u,size:{width:_,height:x},handle:o})),s==="onResizeStop"&&a.resetData()}}},r.renderResizeHandle=function(s,o){var a=this.props.handle;if(!a)return Hb.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+s,ref:o});if(typeof a=="function")return a(s,o);var l=typeof a.type=="string",c=h3({ref:o},l?{}:{handleAxis:s});return Hb.cloneElement(a,c)},r.render=function(){var s=this,o=this.props,a=o.children,l=o.className,c=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var u=o.resizeHandles;o.transformScale;var d=bLe(o,mLe);return(0,fLe.cloneElement)(a,h3(h3({},d),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(a.props.children,u.map(function(h){var f,p=(f=s.handleRefs[h])!=null?f:s.handleRefs[h]=Hb.createRef();return Hb.createElement(hLe.DraggableCore,s4({},c,{nodeRef:p,key:"resizableHandle-"+h,onStop:s.resizeHandler("onResizeStop",h),onStart:s.resizeHandler("onResizeStart",h),onDrag:s.resizeHandler("onResize",h)}),s.renderResizeHandle(h,p))}))}))},e}(Hb.Component);kx.default=B9;B9.propTypes=pLe.resizableProps;B9.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var eE={};eE.__esModule=!0;eE.default=void 0;var f3=ELe(A),_Le=qpe(_x),kLe=qpe(kx),SLe=Sx,CLe=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function qpe(n){return n&&n.__esModule?n:{default:n}}function Hpe(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Hpe=function(s){return s?r:e})(n)}function ELe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Hpe(e);if(r&&r.has(n))return r.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=s?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=n[o]}return i.default=n,r&&r.set(n,i),i}function a4(){return a4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},a4.apply(this,arguments)}function mq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function VS(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(r),!0).forEach(function(i){ALe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ALe(n,e,r){return e=TLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function TLe(n){var e=PLe(n,"string");return typeof e=="symbol"?e:String(e)}function PLe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ILe(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function MLe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,l4(n,e)}function l4(n,e){return l4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},l4(n,e)}var Vpe=function(n){MLe(e,n);function e(){for(var i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o))||this,i.state={width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height},i.onResize=function(l,c){var u=c.size;i.props.onResize?(l.persist==null||l.persist(),i.setState(u,function(){return i.props.onResize&&i.props.onResize(l,c)})):i.setState(u)},i}e.getDerivedStateFromProps=function(s,o){return o.propsWidth!==s.width||o.propsHeight!==s.height?{width:s.width,height:s.height,propsWidth:s.width,propsHeight:s.height}:null};var r=e.prototype;return r.render=function(){var s=this.props,o=s.handle,a=s.handleSize;s.onResize;var l=s.onResizeStart,c=s.onResizeStop,u=s.draggableOpts,d=s.minConstraints,h=s.maxConstraints,f=s.lockAspectRatio,p=s.axis;s.width,s.height;var m=s.resizeHandles,b=s.style,y=s.transformScale,v=ILe(s,CLe);return f3.createElement(kLe.default,{axis:p,draggableOpts:u,handle:o,handleSize:a,height:this.state.height,lockAspectRatio:f,maxConstraints:h,minConstraints:d,onResizeStart:l,onResize:this.onResize,onResizeStop:c,resizeHandles:m,transformScale:y,width:this.state.width},f3.createElement("div",a4({},v,{style:VS(VS({},b),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(f3.Component);eE.default=Vpe;Vpe.propTypes=VS(VS({},SLe.resizableProps),{},{children:_Le.default.element});N9.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var OLe=N9.exports.Resizable=kx.default;N9.exports.ResizableBox=eE.default;function Gpe(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=Gpe(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function L9(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=Gpe(n))&&(i&&(i+=" "),i+=e);return i}function Ype(n){return function(r,i,s,o,a,l,c){return n(r,i,c)}}function tE(n){return function(r,i,s,o){if(!r||!i||typeof r!="object"||typeof i!="object")return n(r,i,s,o);var a=o.get(r),l=o.get(i);if(a&&l)return a===i&&l===r;o.set(r,i),o.set(i,r);var c=n(r,i,s,o);return o.delete(r),o.delete(i),c}}function Kpe(n,e){var r={};for(var i in n)r[i]=n[i];for(var i in e)r[i]=e[i];return r}function gq(n){return n.constructor===Object||n.constructor==null}function bq(n){return typeof n.then=="function"}function nE(n,e){return n===e||n!==n&&e!==e}var DLe="[object Arguments]",RLe="[object Boolean]",NLe="[object Date]",jLe="[object RegExp]",BLe="[object Map]",LLe="[object Number]",FLe="[object Object]",$Le="[object Set]",zLe="[object String]",yq=Object.prototype.toString;function rE(n){var e=n.areArraysEqual,r=n.areDatesEqual,i=n.areMapsEqual,s=n.areObjectsEqual,o=n.areRegExpsEqual,a=n.areSetsEqual,l=n.createIsNestedEqual,c=l(u);function u(d,h,f){if(d===h)return!0;if(!d||!h||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;if(gq(d)&&gq(h))return s(d,h,c,f);var p=Array.isArray(d),m=Array.isArray(h);if(p||m)return p===m&&e(d,h,c,f);var b=yq.call(d);return b!==yq.call(h)?!1:b===NLe?r(d,h,c,f):b===jLe?o(d,h,c,f):b===BLe?i(d,h,c,f):b===$Le?a(d,h,c,f):b===FLe||b===DLe?bq(d)||bq(h)?!1:s(d,h,c,f):b===RLe||b===LLe||b===zLe?nE(d.valueOf(),h.valueOf()):!1}return u}function Xpe(n,e,r,i){var s=n.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r(n[s],e[s],s,s,n,e,i))return!1;return!0}var ULe=tE(Xpe);function Qpe(n,e){return nE(n.valueOf(),e.valueOf())}function Jpe(n,e,r,i){var s=n.size===e.size;if(!s)return!1;if(!n.size)return!0;var o={},a=0;return n.forEach(function(l,c){if(s){var u=!1,d=0;e.forEach(function(h,f){!u&&!o[d]&&(u=r(c,f,a,d,n,e,i)&&r(l,h,c,f,n,e,i))&&(o[d]=!0),d++}),a++,s=u}}),s}var WLe=tE(Jpe),qLe="_owner",HLe=Object.prototype.hasOwnProperty;function Zpe(n,e,r,i){var s=Object.keys(n),o=s.length;if(Object.keys(e).length!==o)return!1;for(var a;o-- >0;){if(a=s[o],a===qLe){var l=!!n.$$typeof,c=!!e.$$typeof;if((l||c)&&l!==c)return!1}if(!HLe.call(e,a)||!r(n[a],e[a],a,a,n,e,i))return!1}return!0}var VLe=tE(Zpe);function eme(n,e){return n.source===e.source&&n.flags===e.flags}function tme(n,e,r,i){var s=n.size===e.size;if(!s)return!1;if(!n.size)return!0;var o={};return n.forEach(function(a,l){if(s){var c=!1,u=0;e.forEach(function(d,h){!c&&!o[u]&&(c=r(a,d,l,h,n,e,i))&&(o[u]=!0),u++}),s=c}}),s}var GLe=tE(tme),nme=Object.freeze({areArraysEqual:Xpe,areDatesEqual:Qpe,areMapsEqual:Jpe,areObjectsEqual:Zpe,areRegExpsEqual:eme,areSetsEqual:tme,createIsNestedEqual:Ype}),rme=Object.freeze({areArraysEqual:ULe,areDatesEqual:Qpe,areMapsEqual:WLe,areObjectsEqual:VLe,areRegExpsEqual:eme,areSetsEqual:GLe,createIsNestedEqual:Ype}),YLe=rE(nme);function od(n,e){return YLe(n,e,void 0)}rE(Kpe(nme,{createIsNestedEqual:function(){return nE}}));rE(rme);rE(Kpe(rme,{createIsNestedEqual:function(){return nE}}));function vq(n){const{children:e,cols:r,containerWidth:i,margin:s,containerPadding:o,rowHeight:a,maxRows:l,isDraggable:c,isResizable:u,isBounded:d,static:h,useCSSTransforms:f=!0,usePercentages:p=!1,transformScale:m=1,droppingPosition:b,className:y="",style:v,handle:w="",cancel:_="",x,y:k,w:C,h:E,minW:T=1,maxW:M=1/0,minH:I=1,maxH:O=1/0,i:F,resizeHandles:$,resizeHandle:z,onDragStart:D,onDrag:j,onDragStop:N,onResizeStart:R,onResize:H,onResizeStop:U}=n,[K,Y]=A.useState(!1),[Z,G]=A.useState(!1),X=A.useRef(null),ae=A.useRef({left:0,top:0}),be=A.useRef({top:0,left:0,width:0,height:0}),le=A.useRef(void 0),J=A.useMemo(()=>({cols:r,containerPadding:o,containerWidth:i,margin:s,maxRows:l,rowHeight:a}),[r,o,i,s,l,a]),xe=A.useCallback(ve=>{if(f)return k9(ve);const ee=wpe(ve);return p?{...ee,left:iq(ve.left/i),width:iq(ve.width/i)}:ee},[f,p,i]),ge=A.useCallback((ve,{node:ee})=>{if(!D)return;const{offsetParent:ue}=ee;if(!ue)return;const ce=ue.getBoundingClientRect(),Ce=ee.getBoundingClientRect(),Me=Ce.left/m,he=ce.left/m,Te=Ce.top/m,Se=ce.top/m,ie={left:Me-he+ue.scrollLeft,top:Te-Se+ue.scrollTop};ae.current=ie,Y(!0);const{x:re,y:se}=_k(J,ie.top,ie.left,C,E);D(F,re,se,{e:ve,node:ee,newPosition:ie})},[D,m,J,C,E,F]),V=A.useCallback((ve,{node:ee,deltaX:ue,deltaY:ce})=>{if(!j||!K)return;let Ce=ae.current.top+ce,Me=ae.current.left+ue;if(d){const{offsetParent:ie}=ee;if(ie){const re=ie.clientHeight-HS(E,a,s[1]);Ce=Sl(Ce,0,re);const se=KC(J),tt=i-HS(C,se,s[0]);Me=Sl(Me,0,tt)}}const he={top:Ce,left:Me};ae.current=he;const{x:Te,y:Se}=_k(J,Ce,Me,C,E);j(F,Te,Se,{e:ve,node:ee,newPosition:he})},[j,K,d,E,a,s,J,i,C,F]),we=A.useCallback((ve,{node:ee})=>{if(!N||!K)return;const{left:ue,top:ce}=ae.current,Ce={top:ce,left:ue};Y(!1),ae.current={left:0,top:0};const{x:Me,y:he}=_k(J,ce,ue,C,E);N(F,Me,he,{e:ve,node:ee,newPosition:Ce})},[N,K,J,C,E,F]),ze=A.useCallback((ve,{node:ee,size:ue,handle:ce},Ce,Me)=>{const he=Me==="onResizeStart"?R:Me==="onResize"?H:U;if(!he)return;let Te;ee?Te=Z9e(ce,Ce,ue,i):Te={...ue,top:Ce.top,left:Ce.left},be.current=Te;let{w:Se,h:ie}=gBe(J,Te.width,Te.height,x,k,ce);Se=Sl(Se,Math.max(T,1),M),ie=Sl(ie,I,O),he(F,Se,ie,{e:ve.nativeEvent,node:ee,size:Te,handle:ce})},[R,H,U,i,J,x,k,T,M,I,O,F]),et=A.useCallback((ve,ee)=>{G(!0);const ue=Sh(J,x,k,C,E),ce={...ee,handle:ee.handle};ze(ve,ce,ue,"onResizeStart")},[ze,J,x,k,C,E]),$e=A.useCallback((ve,ee)=>{const ue=Sh(J,x,k,C,E),ce={...ee,handle:ee.handle};ze(ve,ce,ue,"onResize")},[ze,J,x,k,C,E]),mt=A.useCallback((ve,ee)=>{G(!1),be.current={top:0,left:0,width:0,height:0};const ue=Sh(J,x,k,C,E),ce={...ee,handle:ee.handle};ze(ve,ce,ue,"onResizeStop")},[ze,J,x,k,C,E]);A.useEffect(()=>{if(!b)return;const ve=X.current;if(!ve)return;const ee=le.current||{left:0,top:0},ue=K&&(b.left!==ee.left||b.top!==ee.top);if(K){if(ue){const ce=b.left-ae.current.left,Ce=b.top-ae.current.top,Me={node:ve,deltaX:ce,deltaY:Ce,lastX:ae.current.left,lastY:ae.current.top,x:b.left,y:b.top};V(b.e,Me)}}else{const ce={node:ve,deltaX:b.left,deltaY:b.top,lastX:0,lastY:0,x:b.left,y:b.top};ge(b.e,ce)}le.current=b},[b,K,ge,V]);const Ue=Sh(J,x,k,C,E,K?ae.current:null,Z?be.current:null),Ke=B.Children.only(e),pt=Sh(J,0,0,r,0).width,lt=Sh(J,0,0,T,I),Ye=Sh(J,0,0,M,O),We=[lt.width,lt.height],Ae=[Math.min(Ye.width,pt),Math.min(Ye.height,1/0)],W=Ke.props,de=W.className,me=W.style;let oe=B.cloneElement(Ke,{ref:X,className:L9("react-grid-item",de,y,{static:h,resizing:Z,"react-draggable":c,"react-draggable-dragging":K,dropping:!!b,cssTransforms:f}),style:{...v,...me,...xe(Ue)}});const pe=z;return oe=g.jsx(OLe,{draggableOpts:{disabled:!u},className:u?void 0:"react-resizable-hide",width:Ue.width,height:Ue.height,minConstraints:We,maxConstraints:Ae,onResizeStart:et,onResize:$e,onResizeStop:mt,transformScale:m,resizeHandles:$,handle:pe,children:oe}),oe=g.jsx(nLe,{disabled:!c,onStart:ge,onDrag:V,onStop:we,handle:w,cancel:".react-resizable-handle"+(_?","+_:""),scale:m,nodeRef:X,children:oe}),oe}var lc=()=>{},wq="react-grid-layout",ime=!1;try{ime=/firefox/i.test(navigator.userAgent)}catch{}function KLe(n,e){const r=B.Children.toArray(n),i=B.Children.toArray(e);if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++){const o=r[s],a=i[s];if((o==null?void 0:o.key)!==(a==null?void 0:a.key))return!1}return!0}function xq(n,e,r,i,s){const o=[],a=new Set;B.Children.forEach(e,c=>{if(!B.isValidElement(c)||c.key===null)return;const u=String(c.key);a.add(u);const d=n.find(h=>h.i===u);if(d)o.push(Xd(d));else{const f=c.props["data-grid"];f?o.push({i:u,x:f.x??0,y:f.y??0,w:f.w??1,h:f.h??1,minW:f.minW,maxW:f.maxW,minH:f.minH,maxH:f.maxH,static:f.static,isDraggable:f.isDraggable,isResizable:f.isResizable,resizeHandles:f.resizeHandles,isBounded:f.isBounded}):o.push({i:u,x:0,y:ib(o),w:1,h:1})}});const l=P9(o,{cols:r});return Rc(l,i,r,s)}function XLe(n){const{children:e,width:r,gridConfig:i,dragConfig:s,resizeConfig:o,dropConfig:a,positionStrategy:l=nBe,compactor:c,layout:u=[],droppingItem:d,autoSize:h=!0,className:f="",style:p={},innerRef:m,onLayoutChange:b=lc,onDragStart:y=lc,onDrag:v=lc,onDragStop:w=lc,onResizeStart:_=lc,onResize:x=lc,onResizeStop:k=lc,onDrop:C=lc,onDropDragOver:E=lc}=n,T=A.useMemo(()=>({...rBe,...i}),[i]),M=A.useMemo(()=>({...iBe,...s}),[s]),I=A.useMemo(()=>({...sBe,...o}),[o]),O=A.useMemo(()=>({...oBe,...a}),[a]),{cols:F,rowHeight:$,maxRows:z,margin:D,containerPadding:j}=T,{enabled:N,bounded:R,handle:H,cancel:U}=M,{enabled:K,handles:Y,handleComponent:Z}=I,{enabled:G,defaultItem:X}=O,ae=c??M9("vertical"),be=ae.type,le=ae.allowOverlap,J=ae.preventCollision??!1,xe=A.useMemo(()=>d??{i:"__dropping-elem__",...X},[d,X]),ge=l.type==="transform",V=l.scale,we=j??D,[ze,et]=A.useState(!1),[$e,mt]=A.useState(()=>xq(u,e,F,be,le)),[Ue,Ke]=A.useState(null),[pt,lt]=A.useState(!1),[Ye,We]=A.useState(null),[Ae,W]=A.useState(),de=A.useRef(null),me=A.useRef(null),oe=A.useRef(null),pe=A.useRef(0),ve=A.useRef($e),ee=A.useRef(u),ue=A.useRef(e),ce=A.useRef(be);A.useEffect(()=>{et(!0),od($e,u)||b($e)},[]),A.useEffect(()=>{if(Ue)return;const Ie=!od(u,ee.current),at=!KLe(e,ue.current),ke=be!==ce.current;if(Ie||at||ke){const gt=xq(Ie?u:$e,e,F,be,le);mt(gt)}ee.current=u,ue.current=e,ce.current=be},[u,e,F,be,le,Ue,$e]),A.useEffect(()=>{!Ue&&!od($e,ve.current)&&(ve.current=$e,b($e))},[$e,Ue,b]);const Ce=A.useMemo(()=>{if(!h)return;const Ie=ib($e),at=we[1];return Ie*$+(Ie-1)*D[1]+at*2+"px"},[h,$e,$,D,we]),Me=A.useCallback((Ie,at,ke,_t)=>{const gt=Bh($e,Ie);if(!gt)return;const St={w:gt.w,h:gt.h,x:gt.x,y:gt.y,i:Ie};de.current=Xd(gt),oe.current=$e,Ke(St),y($e,gt,gt,null,_t.e,_t.node)},[$e,y]),he=A.useCallback((Ie,at,ke,_t)=>{const gt=de.current,St=Bh($e,Ie);if(!St)return;const Ut={w:St.w,h:St.h,x:St.x,y:St.y,i:Ie},zt=ef($e,St,at,ke,!0,J,be,F,le);v(zt,gt,St,Ut,_t.e,_t.node),mt(le?zt:Rc(zt,be,F)),Ke(Ut)},[$e,J,be,F,le,v]),Te=A.useCallback((Ie,at,ke,_t)=>{if(!Ue)return;const gt=de.current,St=Bh($e,Ie);if(!St)return;const Ut=ef($e,St,at,ke,!0,J,be,F,le),zt=le?Ut:Rc(Ut,be,F);w(zt,gt,St,null,_t.e,_t.node);const tn=oe.current;de.current=null,oe.current=null,Ke(null),mt(zt),tn&&!od(tn,zt)&&b(zt)},[Ue,$e,J,be,F,le,w,b]),Se=A.useCallback((Ie,at,ke,_t)=>{const gt=Bh($e,Ie);gt&&(me.current=Xd(gt),oe.current=$e,lt(!0),_($e,gt,gt,null,_t.e,_t.node))},[$e,_]),ie=A.useCallback((Ie,at,ke,_t)=>{const gt=me.current,{handle:St}=_t;let Ut=!1,zt,tn;const[Wt,nt]=lBe($e,Ie,ln=>(zt=ln.x,tn=ln.y,["sw","w","nw","n","ne"].includes(St)&&(["sw","nw","w"].includes(St)&&(zt=ln.x+(ln.w-at),at=ln.x!==zt&&zt<0?ln.w:at,zt=zt<0?0:zt),["ne","n","nw"].includes(St)&&(tn=ln.y+(ln.h-ke),ke=ln.y!==tn&&tn<0?ln.h:ke,tn=tn<0?0:tn),Ut=!0),J&&!le&&kpe($e,{...ln,w:at,h:ke,x:zt??ln.x,y:tn??ln.y}).filter(ui=>ui.i!==ln.i).length>0&&(tn=ln.y,ke=ln.h,zt=ln.x,at=ln.w,Ut=!1),ln.w=at,ln.h=ke,ln));if(!nt)return;let an=Wt;Ut&&zt!==void 0&&tn!==void 0&&(an=ef(Wt,nt,zt,tn,!0,J,be,F,le));const Qn={w:nt.w,h:nt.h,x:nt.x,y:nt.y,i:Ie,static:!0};x(an,gt,nt,Qn,_t.e,_t.node),mt(le?an:Rc(an,be,F)),Ke(Qn)},[$e,J,le,be,F,x]),re=A.useCallback((Ie,at,ke,_t)=>{const gt=me.current,St=Bh($e,Ie),Ut=le?$e:Rc($e,be,F);k(Ut,gt,St??null,null,_t.e,_t.node);const zt=oe.current;me.current=null,oe.current=null,Ke(null),lt(!1),mt(Ut),zt&&!od(zt,Ut)&&b(Ut)},[$e,le,be,F,k,b]),se=A.useCallback(()=>{const Ie=Rc($e.filter(at=>at.i!==xe.i),be,F,le);mt(Ie),We(null),Ke(null),W(void 0)},[$e,xe.i,be,F,le]),tt=A.useCallback(Ie=>{var zt;if(Ie.preventDefault(),Ie.stopPropagation(),ime&&!((zt=Ie.nativeEvent.target)!=null&&zt.classList.contains(wq)))return!1;const at=E(Ie);if(at===!1)return Ye&&se(),!1;const ke={...xe,...at},_t=Ie.currentTarget.getBoundingClientRect(),gt=Ie.clientX-_t.left,St=Ie.clientY-_t.top,Ut={left:gt/V,top:St/V,e:Ie.nativeEvent};if(Ye)Ae&&(Ae.left!==gt||Ae.top!==St)&&W(Ut);else{const Wt=_k({cols:F,margin:D,maxRows:z,rowHeight:$,containerWidth:r,containerPadding:we},St,gt,ke.w,ke.h);We(g.jsx("div",{},ke.i)),W(Ut),mt([...$e,{...ke,x:Wt.x,y:Wt.y,static:!1,isDraggable:!0}])}},[Ye,Ae,xe,E,se,V,F,D,z,$,r,we,$e]),Re=A.useCallback(Ie=>{Ie.preventDefault(),Ie.stopPropagation(),pe.current--,pe.current===0&&se()},[se]),He=A.useCallback(Ie=>{Ie.preventDefault(),Ie.stopPropagation(),pe.current++},[]),Oe=A.useCallback(Ie=>{Ie.preventDefault(),Ie.stopPropagation();const at=$e.find(ke=>ke.i===xe.i);pe.current=0,se(),C($e,at,Ie.nativeEvent)},[$e,xe.i,se,C]),Xe=A.useCallback((Ie,at)=>{if(!Ie||!Ie.key)return null;const ke=Bh($e,String(Ie.key));if(!ke)return null;const _t=typeof ke.isDraggable=="boolean"?ke.isDraggable:!ke.static&&N,gt=typeof ke.isResizable=="boolean"?ke.isResizable:!ke.static&&K,St=ke.resizeHandles||[...Y],Ut=_t&&R&&ke.isBounded!==!1,zt=Z;return g.jsx(vq,{containerWidth:r,cols:F,margin:D,containerPadding:we,maxRows:z,rowHeight:$,cancel:U,handle:H,onDragStart:Me,onDrag:he,onDragStop:Te,onResizeStart:Se,onResize:ie,onResizeStop:re,isDraggable:_t,isResizable:gt,isBounded:Ut,useCSSTransforms:ge&&ze,usePercentages:!ze,transformScale:V,w:ke.w,h:ke.h,x:ke.x,y:ke.y,i:ke.i,minH:ke.minH,minW:ke.minW,maxH:ke.maxH,maxW:ke.maxW,static:ke.static,droppingPosition:at?Ae:void 0,resizeHandles:St,resizeHandle:zt,children:Ie},ke.i)},[$e,r,F,D,we,z,$,U,H,Me,he,Te,Se,ie,re,N,K,R,ge,ze,V,Ae,Y,Z]),dt=()=>Ue?g.jsx(vq,{w:Ue.w,h:Ue.h,x:Ue.x,y:Ue.y,i:Ue.i,className:`react-grid-placeholder ${pt?"placeholder-resizing":""}`,containerWidth:r,cols:F,margin:D,containerPadding:we,maxRows:z,rowHeight:$,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:ge,transformScale:V,children:g.jsx("div",{})}):null,Ve=L9(wq,f),ot={height:Ce,...p};return g.jsxs("div",{ref:m,className:Ve,style:ot,onDrop:G?Oe:void 0,onDragLeave:G?Re:void 0,onDragEnter:G?He:void 0,onDragOver:G?tt:void 0,children:[B.Children.map(e,Ie=>B.isValidElement(Ie)?Xe(Ie):null),G&&Ye&&Xe(Ye,!0),dt()]})}var QLe={lg:1200,md:996,sm:768,xs:480,xxs:0},JLe={lg:12,md:10,sm:6,xs:4,xxs:2},p3=()=>{};function ZLe(n,e,r,i,s){const o=[];B.Children.forEach(e,l=>{if(!B.isValidElement(l)||l.key===null)return;const c=String(l.key),u=n.find(d=>d.i===c);if(u)o.push({...u,i:c});else{const h=l.props["data-grid"];h?o.push({i:c,x:h.x??0,y:h.y??0,w:h.w??1,h:h.h??1,minW:h.minW,maxW:h.maxW,minH:h.minH,maxH:h.maxH,static:h.static,isDraggable:h.isDraggable,isResizable:h.isResizable,resizeHandles:h.resizeHandles,isBounded:h.isBounded}):o.push({i:c,x:0,y:ib(o),w:1,h:1})}});const a=P9(o,{cols:r});return Rc(a,i,r,s)}function eFe(n){const{children:e,width:r,breakpoint:i,breakpoints:s=QLe,cols:o=JLe,layouts:a={},rowHeight:l=150,maxRows:c=1/0,margin:u=[10,10],containerPadding:d=null,compactor:h,onBreakpointChange:f=p3,onLayoutChange:p=p3,onWidthChange:m=p3,...b}=n,y=h??M9("vertical"),v=y.type,w=y.allowOverlap,_=A.useMemo(()=>i??aq(s,r),[]),x=A.useMemo(()=>lq(_,o),[_,o]),k=A.useMemo(()=>l3(a,s,_,_,x,v),[]),[C,E]=A.useState(_),[T,M]=A.useState(x),[I,O]=A.useState(k),[F,$]=A.useState(a),z=A.useRef(r),D=A.useRef(i),j=A.useRef(s),N=A.useRef(o),R=A.useRef(a),H=A.useRef(v);A.useEffect(()=>{if(!od(a,R.current)){const G=l3(a,s,C,C,T,v);O(G),$(a),R.current=a}},[a,s,C,T,v]),A.useEffect(()=>{if(v!==H.current){const G=Rc(La(I),v,T,w),X={...F,[C]:G};O(G),$(X),p(G,X),H.current=v}},[v,I,T,w,F,C,p]),A.useEffect(()=>{const G=r!==z.current,X=i!==D.current,ae=!od(s,j.current),be=!od(o,N.current);if(G||X||ae||be){const le=i??aq(s,r),J=lq(le,o),xe=C;if(xe!==le||ae||be){const we={...F};we[xe]||(we[xe]=La(I));let ze=l3(we,s,le,xe,J,v);ze=ZLe(ze,e,J,v,w),we[le]=ze,E(le),M(J),O(ze),$(we),f(le,J),p(ze,we)}const ge=a_(u,le),V=d?a_(d,le):null;m(r,ge,J,V),z.current=r,D.current=i,j.current=s,N.current=o}},[r,i,s,o,C,T,I,F,e,v,w,u,d,f,p,m]);const U=A.useCallback(G=>{const X={...F,[C]:G};O(G),$(X),p(G,X)},[F,C,p]),K=A.useMemo(()=>a_(u,C),[u,C]),Y=A.useMemo(()=>d===null?null:a_(d,C),[d,C]),Z=A.useMemo(()=>({cols:T,rowHeight:l,maxRows:c,margin:K,containerPadding:Y}),[T,l,c,K,Y]);return g.jsx(XLe,{...b,width:r,gridConfig:Z,compactor:y,onLayoutChange:U,layout:I,children:e})}function sme(n){const{children:e,width:r,breakpoint:i,breakpoints:s,cols:o,layouts:a,onBreakpointChange:l,onLayoutChange:c,onWidthChange:u,rowHeight:d,maxRows:h,margin:f,containerPadding:p,droppingItem:m,compactType:b,preventCollision:y=!1,allowOverlap:v=!1,verticalCompact:w,isDraggable:_=!0,isBounded:x=!1,draggableHandle:k,draggableCancel:C,isResizable:E=!0,resizeHandles:T=["se"],resizeHandle:M,isDroppable:I=!1,useCSSTransforms:O=!0,transformScale:F=1,autoSize:$,className:z,style:D,innerRef:j,onDragStart:N,onDrag:R,onDragStop:H,onResizeStart:U,onResize:K,onResizeStop:Y,onDrop:Z,onDropDragOver:G}=n;let X=b===void 0?"vertical":b;w===!1&&(X=null);const ae={enabled:_,bounded:x,handle:k,cancel:C},be={enabled:E,handles:T,handleComponent:M},le={enabled:I};let J;O?F!==1?J=tBe(F):J=_pe:J=eBe;const xe=M9(X,v,y);return g.jsx(eFe,{width:r,breakpoint:i,breakpoints:s,cols:o,layouts:a,rowHeight:d,maxRows:h,margin:f,containerPadding:p,compactor:xe,dragConfig:ae,resizeConfig:be,dropConfig:le,positionStrategy:J,droppingItem:m,autoSize:$,className:z,style:D,innerRef:j,onBreakpointChange:l,onLayoutChange:c,onWidthChange:u,onDragStart:N,onDrag:R,onDragStop:H,onResizeStart:U,onResize:K,onResizeStop:Y,onDrop:Z,onDropDragOver:G,children:e})}sme.displayName="ResponsiveReactGridLayout";var tFe=sme,nFe="react-grid-layout";function rFe(n){function e(r){const{measureBeforeMount:i=!1,className:s,style:o,...a}=r,[l,c]=A.useState(1280),[u,d]=A.useState(!1),h=A.useRef(null),f=A.useRef(null);return A.useEffect(()=>{d(!0),f.current=new ResizeObserver(m=>{if(h.current instanceof HTMLElement&&m[0]){const y=m[0].contentRect.width;c(y)}});const p=h.current;return p instanceof HTMLElement&&f.current.observe(p),()=>{var m;p instanceof HTMLElement&&f.current&&f.current.unobserve(p),(m=f.current)==null||m.disconnect()}},[]),i&&!u?g.jsx("div",{className:L9(s,nFe),style:o,ref:h}):g.jsx(n,{innerRef:h,className:s,style:o,...a,width:l})}return e.displayName=`WidthProvider(${n.displayName||n.name||"Component"})`,e}const Xy=[[0,4,8,16],[8,4,2,16],[0,40,3,27],[0,20,3,20],[3,20,7,13],[3,33,7,8],[3,41,7,6],[3,47,2,16],[0,0,10,4]],iFe=[[0,4,8,16],[8,4,2,16],[9,20,3,27],[0,20,3,20],[3,20,6,13],[0,40,9,7],[3,33,6,7],[10,4,2,16],[0,0,12,4]],sFe=[[0,4,8,16],[8,4,2,16],[0,20,3,27],[10,4,2,20],[3,20,7,13],[3,33,9,7],[3,40,9,12],[0,47,3,19],[0,0,12,4]],oFe=[[0,48,8,16],[5,4,2,20],[3,4,2,20],[7,4,3,20],[0,24,10,12],[0,64,10,8],[0,36,10,12],[0,4,3,20],[0,0,10,4]],aFe=[[0,64,8,16],[5,4,2,20],[0,24,2,20],[7,4,3,20],[2,24,8,20],[0,80,10,8],[0,4,5,20],[0,44,3,20],[0,0,10,4]],_q=0,lFe=8;function cFe(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():""}function uFe(n,e){return Math.floor(Math.random()*(e-n+1))+n}function dFe(n){const e=Math.ceil(Math.random()*4)+1;return{x:uFe(0,5)*2%12,y:Math.floor(n/6)*e,w:2,h:e,i:n.toString(),static:Math.random()<.05}}function hFe(n,e){const[r,i,s,o]=e;return{x:r,y:i,w:s,h:o,i:n.toString(),static:!0}}function Qy(n,e){const r=n.length,i=[];for(let s=0;s<r;s++)s<n.length?i.push(hFe(s,n[s])):i.push(dFe(s));return i}function fFe(n,e){const r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r){const o=n[s],a=e[s];if(!o||!a){if(o!==a)return!1;continue}if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++){const c=o[l],u=a[l];if(c.x!==u.x||c.y!==u.y||c.w!==u.w||c.h!==u.h)return!1}}return!0}function m3(n,e){const r={};for(const i in n){const s=n[i];s&&(r[i]=s.map(o=>({...o,static:e})))}return r}const pFe=rFe(tFe),L2=class L2 extends B.Component{constructor(r){super(r);Be(this,"isUpdatingLayout",!1);Be(this,"domCache",null);Be(this,"lastLayoutKey","");Be(this,"handleResponsiveLayoutChange",(r,i)=>{const s=Array.isArray(r)?r:[r],o=i;this.onLayoutChange(s,o)});Be(this,"generateNewLayout",()=>{const r=Qy(Xy),i=this.props.allStatic??this.state.allStatic,s=r.map(o=>({...o,static:i}));this.domCache=null,this.lastLayoutKey="",this.setState({layouts:{lg:s}})});this.state={currentBreakpoint:"lg",compactType:r.compactType??"vertical",mounted:!1,layouts:{lg:r.initialLayout||Qy(Xy)},allStatic:r.allStatic??!0},this.onBreakpointChange=this.onBreakpointChange.bind(this),this.onCompactTypeChange=this.onCompactTypeChange.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.onNewLayout=this.onNewLayout.bind(this),this.onToggleStatic=this.onToggleStatic.bind(this)}componentDidMount(){this.setState({mounted:!0},()=>{this.props.onMount&&this.props.onMount()})}generateDOM(){const r=this.state.layouts.lg||[],{slotContent:i=[]}=this.props,s=this.props.allStatic??this.state.allStatic,o=`${r.length}-${s}-${i.length}`;if(this.domCache&&this.lastLayoutKey===o)return this.domCache;const a=[];for(let l=0;l<r.length;l++){const c=r[l],u=l>=_q&&l<=lFe,d=l-_q,h=u&&i[d]?i[d]:null,f=c.static??s;a.push(g.jsx("div",{className:f?"static":"",children:h?g.jsx("div",{className:"external-slot-content",children:h}):f?g.jsxs("span",{className:"text",title:"This item is static and cannot be removed or resized.",children:["Static - ",l]}):g.jsx("span",{className:"text",children:l})},c.i||l.toString()))}return this.domCache=a,this.lastLayoutKey=o,a}onBreakpointChange(r){this.setState({currentBreakpoint:r})}onCompactTypeChange(){if(this.props.onCompactTypeChange)this.props.onCompactTypeChange();else{const{compactType:r}=this.state,i=r==="horizontal"?"vertical":r==="vertical"?null:"horizontal";this.setState({compactType:i})}}onLayoutChange(r,i){if(this.isUpdatingLayout){this.props.onLayoutChange(r,i);return}const s=this.props.allStatic??this.state.allStatic;if(s){this.props.onLayoutChange(r,i);return}const o=m3(i,s);!fFe(this.state.layouts,o)&&(this.domCache=null,this.lastLayoutKey="",this.isUpdatingLayout=!0,this.setState({layouts:o},()=>{this.isUpdatingLayout=!1})),this.props.onLayoutChange(r,o)}onNewLayout(){this.props.onNewLayout?this.props.onNewLayout():this.generateNewLayout()}onToggleStatic(){if(this.props.onToggleStatic)this.props.onToggleStatic();else{const r=!this.state.allStatic,i=m3(this.state.layouts,r);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:r,layouts:i})}}componentDidUpdate(r){if(r.compactType!==this.props.compactType&&this.props.compactType!==void 0&&this.setState({compactType:this.props.compactType}),r.allStatic!==this.props.allStatic&&this.props.allStatic!==void 0){const i=m3(this.state.layouts,this.props.allStatic);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:this.props.allStatic,layouts:i})}r.slotContent!==this.props.slotContent&&(this.domCache=null,this.lastLayoutKey="")}render(){const{cols:r}=this.props,i=r||L2.defaultProps.cols||{},s=this.props.compactType??this.state.compactType;return g.jsxs("div",{children:[g.jsxs("div",{children:["Current Breakpoint: ",this.state.currentBreakpoint," (",i[this.state.currentBreakpoint]," columns)"]}),g.jsxs("div",{children:["Compaction type: ",cFe(s)||"No Compaction"]}),g.jsx(pFe,{...this.props,layouts:this.state.layouts,onBreakpointChange:this.onBreakpointChange,onLayoutChange:this.handleResponsiveLayoutChange,measureBeforeMount:!1,useCSSTransforms:this.state.mounted,compactType:s,preventCollision:!s,children:this.generateDOM()})]})}};Be(L2,"defaultProps",{className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},initialLayout:Qy(Xy)});let c4=L2;function $n(n){var e=n.width,r=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(r<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:r}}function Af(n,e){return n.width===e.width&&n.height===e.height}var mFe=function(){function n(e){var r=this;this._resolutionListener=function(){return r._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var r=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){r._observers=r._observers.filter(function(s){return s!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(r){return r.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function gFe(n){return new mFe(n)}var bFe=function(){function n(e,r,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=$n({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=r??function(o){return o},this._allowResizeObserver=(s=i==null?void 0:i.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,r;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(r=this._devicePixelRatioObservable)===null||r===void 0||r.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return $n({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=$n(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(r){return r!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(r){return r!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var r=this.bitmapSize;Af(r,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(r,e))},n.prototype._emitBitmapSizeChanged=function(e,r){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,r)})},n.prototype._suggestNewBitmapSize=function(e){var r=this._suggestedBitmapSize,i=$n(this._transformBitmapSize(e,this._canvasElementClientSize)),s=Af(this.bitmapSize,i)?null:i;r===null&&s===null||r!==null&&s!==null&&Af(r,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(r,s))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,r){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,r)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}vFe().then(function(r){return r?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var r=kq(this._canvasElement);if(r===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=gFe(r),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,r;if(this._canvasElement!==null){var i=kq(this._canvasElement);if(i!==null){var s=(r=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&r!==void 0?r:i.devicePixelRatio,o=this._canvasElement.getClientRects(),a=o[0]!==void 0?wFe(o[0],s):$n({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(a)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(r){var i=r.find(function(a){return a.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var s=i.devicePixelContentBoxSize[0],o=$n({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(o)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function yFe(n,e){return new bFe(n,e.transform,e.options)}function kq(n){return n.ownerDocument.defaultView}function vFe(){return new Promise(function(n){var e=new ResizeObserver(function(r){n(r.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function wFe(n,e){return $n({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var xFe=function(){function n(e,r,i){if(r.width===0||r.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=r,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function Xf(n,e){var r=n.canvasElementClientSize;if(r.width===0||r.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var s=n.canvasElement.getContext("2d",e);return s===null?null:new xFe(s,r,i)}/*!
 * @license
 * TradingView Lightweight Charts v5.0.9
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const ome={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Sq,Cq;function b0(n,e){const r={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(r)}function ame(n,e,r,i){n.beginPath();const s=n.lineWidth%2?.5:0;n.moveTo(r,e+s),n.lineTo(i,e+s),n.stroke()}function gi(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function Ns(n){if(n===void 0)throw new Error("Value is undefined");return n}function ut(n){if(n===null)throw new Error("Value is null");return n}function kd(n){return ut(Ns(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(Sq||(Sq={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(Cq||(Cq={}));let Or=class{constructor(){this.t=[]}i(e,r,i){const s={h:e,l:r,o:i===!0};this.t.push(s)}_(e){const r=this.t.findIndex(i=>e===i.h);r>-1&&this.t.splice(r,1)}u(e){this.t=this.t.filter(r=>r.l!==e)}p(e,r,i){const s=[...this.t];this.t=this.t.filter(o=>!o.o),s.forEach(o=>o.h(e,r,i))}v(){return this.t.length>0}m(){this.t=[]}};function co(n,...e){for(const r of e)for(const i in r)r[i]!==void 0&&Object.prototype.hasOwnProperty.call(r,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof r[i]!="object"||n[i]===void 0||Array.isArray(r[i])?n[i]=r[i]:co(n[i],r[i]));return n}function y0(n){return typeof n=="number"&&isFinite(n)}function fw(n){return typeof n=="number"&&n%1==0}function Cx(n){return typeof n=="string"}function c_(n){return typeof n=="boolean"}function Lc(n){const e=n;if(!e||typeof e!="object")return e;let r,i,s;for(i in r=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(s=e[i],r[i]=s&&typeof s=="object"?Lc(s):s);return r}function _Fe(n){return n!==null}function kFe(n){return n===null?void 0:n}const lme="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function GS(n,e,r){return e===void 0&&(e=lme),`${r=r!==void 0?`${r} `:""}${n}px ${e}`}let SFe=class{constructor(e){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=e}N(){const e=this.M,r=this.F(),i=this.W();return e.P===r&&e.T===i||(e.P=r,e.T=i,e.k=GS(r,i),e.A=2.5/12*r,e.V=e.A,e.B=r/12*e.C,e.I=r/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function g3(n){return n<0?0:n>255?255:Math.round(n)||0}function Eq(n){return .199*n[0]+.687*n[1]+.114*n[2]}let CFe=class{constructor(e,r){this.q=new Map,this.Y=e,r&&(this.q=r)}j(e,r){if(e==="transparent")return e;const i=this.K(e),s=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${r*s})`}X(e){const r=this.K(e);return{Z:`rgb(${r[0]}, ${r[1]}, ${r[2]})`,G:Eq(r)>160?"black":"white"}}J(e){return Eq(this.K(e))}tt(e,r,i){const[s,o,a,l]=this.K(e),[c,u,d,h]=this.K(r),f=[g3(s+i*(c-s)),g3(o+i*(u-o)),g3(a+i*(d-a)),(p=l+i*(h-l),p<=0||p>1?Math.min(Math.max(p,0),1):Math.round(1e4*p)/1e4)];var p;return`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${f[3]})`}K(e){const r=this.q.get(e);if(r)return r;const i=function(a){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=a;const c=window.getComputedStyle(l).color;return document.body.removeChild(l),c}(e),s=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!s){if(this.Y.length)for(const a of this.Y){const l=a(e);if(l)return this.q.set(e,l),l}throw new Error(`Failed to parse color: ${e}`)}const o=[parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),s[4]?parseFloat(s[4]):1];return this.q.set(e,o),o}},EFe=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,r,i){this.it.forEach(s=>{s.nt(e,r,i)})}};class Ex{nt(e,r,i){e.useBitmapCoordinateSpace(s=>this.et(s,r,i))}}let AFe=class extends Ex{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const s=this.rt.lt,o=this.rt,a=Math.max(1,Math.floor(r))%2/2,l=c=>{e.beginPath();for(let u=s.to-1;u>=s.from;--u){const d=o.ot[u],h=Math.round(d._t*r)+a,f=d.ut*i,p=c*i+a;e.moveTo(h,f),e.arc(h,f,p,0,2*Math.PI)}e.fill()};o.ct>0&&(e.fillStyle=o.dt,l(o.ft+o.ct)),e.fillStyle=o.vt,l(o.ft)}};function TFe(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const PFe={from:0,to:1};let IFe=class{constructor(e,r,i){this.Mt=new EFe,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=r,this.Pt=i,this.Mt.st(this.bt)}yt(e){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const e=this.Pt.Dt();e.length!==this.bt.length&&(this.St=e.map(TFe),this.bt=this.St.map(r=>{const i=new AFe;return i.ht(r),i}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.Vt(),r=this.Pt.Bt(),i=this.Ct.It(),s=this.O.Et();this.kt(),r.forEach((o,a)=>{const l=this.St[a],c=o.At(i),u=o.zt();!e&&c!==null&&o.Vt()&&u!==null?(l.vt=c.Lt,l.ft=c.ft,l.ct=c.Ot,l.ot[0].gt=c.gt,l.ot[0].ut=o.Ft().Nt(c.gt,u.Wt),l.dt=c.Ht??this.O.Ut(l.ot[0].ut/o.Ft().$t()),l.ot[0].wt=i,l.ot[0]._t=s.qt(i),l.lt=PFe):l.lt=null})}},MFe=class extends Ex{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null)return;const o=this.Yt.jt.Vt,a=this.Yt.Kt.Vt;if(!o&&!a)return;const l=Math.round(this.Yt._t*i),c=Math.round(this.Yt.ut*s);e.lineCap="butt",o&&l>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*i),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,b0(e,this.Yt.jt.Xt),function(u,d,h,f){u.beginPath();const p=u.lineWidth%2?.5:0;u.moveTo(d+p,h),u.lineTo(d+p,f),u.stroke()}(e,l,0,r.height)),a&&c>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*s),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,b0(e,this.Yt.Kt.Xt),ame(e,c,0,r.width))}},OFe=class{constructor(e,r){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new MFe(this.Zt),this.Jt=e,this.Pt=r}yt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),r=this.Pt.Qt().N().crosshair,i=this.Zt;if(r.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=e&&this.Jt.ti(this.Pt),i.jt.Vt=e&&this.Jt.ii(),i.Kt.ct=r.horzLine.width,i.Kt.Xt=r.horzLine.style,i.Kt.R=r.horzLine.color,i.jt.ct=r.vertLine.width,i.jt.Xt=r.vertLine.style,i.jt.R=r.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}};function iE(n,e,r,i,s,o){n.save(),n.globalCompositeOperation="copy",n.fillStyle=o,n.fillRect(e,r,i,s),n.restore()}function Aq(n,e,r,i,s,o){n.beginPath(),n.roundRect?n.roundRect(e,r,i,s,o):(n.lineTo(e+i-o[1],r),o[1]!==0&&n.arcTo(e+i,r,e+i,r+o[1],o[1]),n.lineTo(e+i,r+s-o[2]),o[2]!==0&&n.arcTo(e+i,r+s,e+i-o[2],r+s,o[2]),n.lineTo(e+o[3],r+s),o[3]!==0&&n.arcTo(e,r+s,e,r+s-o[3],o[3]),n.lineTo(e,r+o[0]),o[0]!==0&&n.arcTo(e,r,e+o[0],r,o[0]))}function Tq(n,e,r,i,s,o,a=0,l=[0,0,0,0],c=""){if(n.save(),!a||!c||c===o)return Aq(n,e,r,i,s,l),n.fillStyle=o,n.fill(),void n.restore();const u=a/2;var d;Aq(n,e+u,r+u,i-a,s-a,(d=-u,l.map(h=>h===0?h:h+d))),o!=="transparent"&&(n.fillStyle=o,n.fill()),c!=="transparent"&&(n.lineWidth=a,n.strokeStyle=c,n.closePath(),n.stroke()),n.restore()}function cme(n,e,r,i,s,o,a){n.save(),n.globalCompositeOperation="copy";const l=n.createLinearGradient(0,0,0,s);l.addColorStop(0,o),l.addColorStop(1,a),n.fillStyle=l,n.fillRect(e,r,i,s),n.restore()}class Pq{constructor(e,r){this.ht(e,r)}ht(e,r){this.Yt=e,this.ei=r}$t(e,r){return this.Yt.Vt?e.P+e.A+e.V:0}nt(e,r,i,s){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const o=this.Yt.R,a=this.ei.Z,l=e.useBitmapCoordinateSpace(c=>{const u=c.context;u.font=r.k;const d=this.hi(c,r,i,s),h=d.ai;return d.li?Tq(u,h.oi,h._i,h.ui,h.ci,a,h.di,[h.ft,0,0,h.ft],a):Tq(u,h.fi,h._i,h.ui,h.ci,a,h.di,[0,h.ft,h.ft,0],a),this.Yt.pi&&(u.fillStyle=o,u.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.Yt.Mi&&(u.fillStyle=r.D,u.fillRect(d.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),d});e.useMediaCoordinateSpace(({context:c})=>{const u=l.xi;c.font=r.k,c.textAlign=l.li?"right":"left",c.textBaseline="middle",c.fillStyle=o,c.fillText(this.Yt.ri,u.Ci,(u._i+u.Si)/2+u.Pi)})}hi(e,r,i,s){const{context:o,bitmapSize:a,mediaSize:l,horizontalPixelRatio:c,verticalPixelRatio:u}=e,d=this.Yt.pi||!this.Yt.yi?r.C:0,h=this.Yt.ki?r.S:0,f=r.A+this.ei.Ti,p=r.V+this.ei.Ri,m=r.B,b=r.I,y=this.Yt.ri,v=r.P,w=i.Di(o,y),_=Math.ceil(i.Vi(o,y)),x=v+f+p,k=r.S+m+b+_+d,C=Math.max(1,Math.floor(u));let E=Math.round(x*u);E%2!=C%2&&(E+=1);const T=h>0?Math.max(1,Math.floor(h*c)):0,M=Math.round(k*c),I=Math.round(d*c),O=this.ei.Bi??this.ei.Ii,F=Math.round(O*u)-Math.floor(.5*u),$=Math.floor(F+C/2-E/2),z=$+E,D=s==="right",j=D?l.width-h:h,N=D?a.width-T:T;let R,H,U;return D?(R=N-M,H=N-I,U=j-d-m-h):(R=N+M,H=N+I,U=j+d+m),{li:D,ai:{_i:$,mi:F,Si:z,ui:M,ci:E,ft:2*c,di:T,oi:R,fi:N,wi:H,gi:C,bi:a.width},xi:{_i:$/u,Si:z/u,Ci:U,Pi:w}}}}class sE{constructor(e){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(e||Pq)(this.Ai,this.Ei),this.Oi=new(e||Pq)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(e,r=!1){return Math.max(this.Li.$t(e,r),this.Oi.$t(e,r))}Fi(){return this.Ei.Bi||0}Wi(e){this.Ei.Bi=e}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(e){return this.Ni(),this.Ai.pi=this.Ai.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class DFe extends sE{constructor(e,r,i){super(),this.Jt=e,this.Yi=r,this.ji=i}qi(e,r,i){if(e.Vt=!1,this.Jt.N().mode===2)return;const s=this.Jt.N().horzLine;if(!s.labelVisible)return;const o=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||o===null)return;const a=this.Yi.Xi().X(s.labelBackgroundColor);i.Z=a.Z,e.R=a.G;const l=2/12*this.Yi.P();i.Ti=l,i.Ri=l;const c=this.ji(this.Yi);i.Ii=c.Ii,e.ri=this.Yi.Zi(c.gt,o),e.Vt=!0}}const RFe=/[1-9]/g;let ume=class{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,r){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=e.useMediaCoordinateSpace(({context:f})=>(f.font=r.k,Math.round(r.Gi.Vi(f,ut(this.Yt).ri,RFe))));if(i<=0)return;const s=r.Ji,o=i+2*s,a=o/2,l=this.Yt.Qi;let c=this.Yt.Ii,u=Math.floor(c-a)+.5;u<0?(c+=Math.abs(0-u),u=Math.floor(c-a)+.5):u+o>l&&(c-=Math.abs(l-(u+o)),u=Math.floor(c-a)+.5);const d=u+o,h=Math.ceil(0+r.S+r.C+r.A+r.P+r.V);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:m})=>{const b=ut(this.Yt);f.fillStyle=b.Z;const y=Math.round(u*p),v=Math.round(0*m),w=Math.round(d*p),_=Math.round(h*m),x=Math.round(2*p);if(f.beginPath(),f.moveTo(y,v),f.lineTo(y,_-x),f.arcTo(y,_,y+x,_,x),f.lineTo(w-x,_),f.arcTo(w,_,w,_-x,x),f.lineTo(w,v),f.fill(),b.pi){const k=Math.round(b.Ii*p),C=v,E=Math.round((C+r.C)*m);f.fillStyle=b.R;const T=Math.max(1,Math.floor(p)),M=Math.floor(.5*p);f.fillRect(k-M,C,T,E-C)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=ut(this.Yt),m=0+r.S+r.C+r.A+r.P/2;f.font=r.k,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.R;const b=r.Gi.Di(f,"Apr0");f.translate(u+s,m+b),f.fillText(p.ri,0,0)})}};class NFe{constructor(e,r,i){this.xt=!0,this.Gt=new ume,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=e,this.ts=r,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,this.Ct.N().mode===2)return;const r=this.Ct.N().vertLine;if(!r.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;e.Qi=i.Qi();const s=this.ji();if(s===null)return;e.Ii=s.Ii;const o=i.ss(this.Ct.It());e.ri=i.ns(ut(o)),e.Vt=!0;const a=this.ts.Xi().X(r.labelBackgroundColor);e.Z=a.Z,e.R=a.G,e.pi=i.N().ticksVisible}}let dme=class{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Ft(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}};var Iq;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(Iq||(Iq={}));class jFe extends dme{constructor(e,r){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.Ps=r,this.ys=((s,o)=>a=>{const l=o(),c=s();if(a===ut(this.Pt).ks())return{gt:c,Ii:l};{const u=ut(a.zt());return{gt:a.Ts(l,u),Ii:l}}})(()=>this.ds,()=>this.Ss);const i=((s,o)=>()=>{const a=this.ts.Et().Rs(s()),l=o();return a&&Number.isFinite(l)?{wt:a,Ii:l}:null})(()=>this.fs,()=>this.si());this.Ds=new NFe(this,e,i)}N(){return this.Ps}Vs(e,r){this.xs=e,this.Cs=r}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(e,r,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,r,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(e){let r=this.gs.get(e);r||(r=new OFe(this,e),this.gs.set(e,r));let i=this.Ms.get(e);return i||(i=new IFe(this.ts,this,e),this.Ms.set(e,i)),[r,i]}ti(e){return e===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(e,r){this.ps&&this.Pt===e||this.vs.clear();const i=[];return this.Pt===e&&i.push(this.Hs(this.vs,r,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(e=>{var r,i;(r=this.gs.get(e))==null||r.yt(),(i=this.Ms.get(e))==null||i.yt()}),this.vs.forEach(e=>e.yt()),this.Ds.yt()}qs(e){return e&&!e.ks().Ki()?e.ks():null}zs(e,r,i){this.Ys(e,r,i)&&this.Ns()}Ys(e,r,i){const s=this.bs,o=this.Ss,a=this.ds,l=this.fs,c=this.Pt,u=this.qs(i);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.Et().qt(e),this.Pt=i;const d=u!==null?u.zt():null;return u!==null&&d!==null?(this.ds=r,this.Ss=u.Nt(r,d)):(this.ds=NaN,this.Ss=NaN),s!==this.bs||o!==this.Ss||l!==this.fs||a!==this.ds||c!==this.Pt}Os(){const e=this.ts.js().map(i=>i.Xs().Ks()).filter(_Fe),r=e.length===0?null:Math.max(...e);this.fs=r!==null?r:NaN}Hs(e,r,i){let s=e.get(r);return s===void 0&&(s=new DFe(this,r,i),e.set(r,s)),s}}function oE(n){return n==="left"||n==="right"}let ys=class u4{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,r){const i=function(s,o){return s===void 0?o:{tn:Math.max(s.tn,o.tn),sn:s.sn||o.sn}}(this.Zs.get(e),r);this.Zs.set(e,i)}nn(){return this.Js}en(e){const r=this.Zs.get(e);return r===void 0?{tn:this.Js}:{tn:Math.max(this.Js,r.tn),sn:r.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Wt:e}]}_n(e){this.un(),this.Gs.push({an:5,Wt:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Wt:e})}fn(e){this.hn(),this.Gs.push({an:3,Wt:e})}pn(){return this.Gs}vn(e){for(const r of e.Gs)this.mn(r);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((r,i)=>{this.Qs(i,r)})}static wn(){return new u4(2)}static gn(){return new u4(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Wt);break;case 2:this.dn(e.Wt);break;case 3:this.fn(e.Wt);break;case 4:this.cn();break;case 5:this._n(e.Wt);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(r=>r.an===5);e!==-1&&this.Gs.splice(e,1)}};class hme{formatTickmarks(e){return e.map(r=>this.format(r))}}const Mq=".";function Fc(n,e){if(!y0(n))return"n/a";if(!fw(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}let aE=class extends hme{constructor(e,r){if(super(),r||(r=1),y0(e)&&fw(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=r,this.bn()}format(e){const r=e<0?"":"";return e=Math.abs(e),r+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const r=this.Yi/this.Mn;let i=Math.floor(e),s="";const o=this.xn!==void 0?this.xn:NaN;if(r>1){let a=+(Math.round(e*r)-i*r).toFixed(this.xn);a>=r&&(a-=r,i+=1),s=Mq+Fc(+a.toFixed(this.xn)*this.Mn,o)}else i=Math.round(i*r)/r,o>0&&(s=Mq+Fc(0,o));return i.toFixed(0)+s}};class fme extends aE{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class BFe extends hme{constructor(e){super(),this.Cn=e}format(e){let r="";return e<0&&(r="-",e=-e),e<995?r+this.Pn(e):e<999995?r+this.Pn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),r+this.Pn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),r+this.Pn(e/1e9)+"B")}Pn(e){let r;const i=Math.pow(10,this.Cn);return r=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),r.replace(/(\.[1-9]*)0+$/,(s,o)=>o)}}const LFe=/[2-9]/g;class YS{constructor(e=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(e,r,i){return this.In(e,r,i).width}Di(e,r,i){const s=this.In(e,r,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}In(e,r,i){const s=i||LFe,o=String(r).replace(s,"0");if(this.Dn.has(o))return Ns(this.Dn.get(o)).En;if(this.yn===this.Vn){const l=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(l),this.Tn++,this.yn--}e.save(),e.textBaseline="middle";const a=e.measureText(o);return e.restore(),a.width===0&&r.length||(this.Dn.set(o,{En:a,An:this.kn}),this.Rn[this.kn]=o,this.yn++,this.kn++),a}}class FFe{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,r,i){this.zn=e,this.M=r,this.Ln=i}nt(e){this.M!==null&&this.zn!==null&&this.zn.nt(e,this.M,this.On,this.Ln)}}class pme{constructor(e,r,i){this.Fn=e,this.On=new YS(50),this.Wn=r,this.O=i,this.F=-1,this.Gt=new FFe(this.On)}Tt(){const e=this.O.Hn(this.Wn);if(e===null)return null;const r=e.Un(this.Wn)?e.$n():this.Wn.Ft();if(r===null)return null;const i=e.qn(r);if(i==="overlay")return null;const s=this.O.Yn();return s.P!==this.F&&(this.F=s.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),s,i),this.Gt}}let $Fe=class extends Ex{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,r){var a;if(!((a=this.Yt)!=null&&a.Vt))return null;const{ut:i,ct:s,Kn:o}=this.Yt;return r>=i-s-7&&r<=i+s+7?{Xn:this.Yt,Kn:o}:null}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null||this.Yt.Vt===!1)return;const o=Math.round(this.Yt.ut*s);o<0||o>r.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*i),b0(e,this.Yt.Xt),ame(e,o,0,r.width))}};class F9{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new $Fe,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class zFe extends F9{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Ft(),r=e.ie().ie;if(r!==2&&r!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const s=this.Jn.zt();s!==null&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(s.Wt,s.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class UFe extends Ex{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:i}){const s=this.Yt;if(s===null)return;const o=Math.max(1,Math.floor(r)),a=o%2/2,l=Math.round(s.ne.x*r)+a,c=s.ne.y*i;e.fillStyle=s.ee,e.beginPath();const u=Math.max(2,1.5*s.re)*r;e.arc(l,c,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.he,e.beginPath(),e.arc(l,c,s.ft*r,0,2*Math.PI,!1),e.fill(),e.lineWidth=o,e.strokeStyle=s.ae,e.beginPath(),e.arc(l,c,s.ft*r+o/2,0,2*Math.PI,!1),e.stroke()}}const WFe=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class qFe{constructor(e){this.Gt=new UFe,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const e=performance.now(),r=this.we-e;if(r>0)return void(r<650&&(this.we+=2600));this.me=e,this.we=e+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().Et(),r=e.Pe(),i=this.ge.zt();if(r===null||i===null)return;const s=this.ge.ye(!0);if(s.ke||!r.Te(s.Re))return;const o={x:e.qt(s.Re),y:this.ge.Ft().Nt(s.gt,i.Wt)},a=s.R,l=this.ge.N().lineWidth,c=this.De(this.Ve(),a);this.Gt.ht({ee:a,re:l,he:c.he,ae:c.ae,ft:c.ft,ne:o})}Ce(){const e=this.Gt.se();if(e!==null){const r=this.De(this.Ve(),e.ee);e.he=r.he,e.ae=r.ae,e.ft=r.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(e,r,i,s){const o=i+(s-i)*r;return this.ge.Qt().Xi().j(e,o)}De(e,r){const i=e%2600/2600;let s;for(const u of WFe)if(i>=u.le&&i<=u.oe){s=u;break}gi(s!==void 0,"Last price animation internal logic error");const o=(i-s.le)/(s.oe-s.le);return{he:this.Be(r,o,s.ce,s.de),ae:this.Be(r,o,s.fe,s.pe),ft:(a=o,l=s._e,c=s.ue,l+(c-l)*a)};var a,l,c}}class HFe extends F9{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const r=this.Jn.N();if(!r.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ye(r.priceLineSource===0);i.ke||(e.Vt=!0,e.ut=i.Ii,e.R=this.Jn.Ie(i.R),e.ct=r.priceLineWidth,e.Xt=r.priceLineStyle)}}let VFe=class extends sE{constructor(e){super(),this.Jt=e}qi(e,r,i){e.Vt=!1,r.Vt=!1;const s=this.Jt;if(!s.Vt())return;const o=s.N(),a=o.lastValueVisible,l=s.Ee()!=="",c=o.seriesLastValueMode===0,u=s.ye(!1);if(u.ke)return;a&&(e.ri=this.Ae(u,a,c),e.Vt=e.ri.length!==0),(l||c)&&(r.ri=this.ze(u,a,l,c),r.Vt=r.ri.length>0);const d=s.Ie(u.R),h=this.Jt.Qt().Xi().X(d);i.Z=h.Z,i.Ii=u.Ii,r.Ht=s.Qt().Ut(u.Ii/s.Ft().$t()),e.Ht=d,e.R=h.G,r.R=h.G}ze(e,r,i,s){let o="";const a=this.Jt.Ee();return i&&a.length!==0&&(o+=`${a} `),r&&s&&(o+=this.Jt.Ft().Le()?e.Oe:e.Ne),o.trim()}Ae(e,r,i){return r?i?this.Jt.Ft().Le()?e.Ne:e.Oe:e.ri:""}};function Oq(n,e,r,i){const s=Number.isFinite(e),o=Number.isFinite(r);return s&&o?n(e,r):s||o?s?e:r:i}class as{constructor(e,r){this.Fe=e,this.We=r}He(e){return e!==null&&this.Fe===e.Fe&&this.We===e.We}Ue(){return new as(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(e){return e===null?this:new as(Oq(Math.min,this.$e(),e.$e(),-1/0),Oq(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!y0(e)||this.We-this.Fe===0)return;const r=.5*(this.We+this.Fe);let i=this.We-r,s=this.Fe-r;i*=e,s*=e,this.We=r+i,this.Fe=r+s}Ke(e){y0(e)&&(this.We+=e,this.Fe+=e)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(e){return e===null?null:new as(e.minValue,e.maxValue)}}class KS{constructor(e,r){this.Ge=e,this.Je=r||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return e===null?null:new KS(as.Ze(e.priceRange),e.margins)}}class GFe extends F9{constructor(e,r){super(e),this.ir=r}te(){const e=this.Zn;e.Vt=!1;const r=this.ir.N();if(!this.Jn.Vt()||!r.lineVisible)return;const i=this.ir.sr();i!==null&&(e.Vt=!0,e.ut=i,e.R=r.color,e.ct=r.lineWidth,e.Xt=r.lineStyle,e.Kn=this.ir.N().id)}}class YFe extends sE{constructor(e,r){super(),this.ge=e,this.ir=r}qi(e,r,i){e.Vt=!1,r.Vt=!1;const s=this.ir.N(),o=s.axisLabelVisible,a=s.title!=="",l=this.ge;if(!o||!l.Vt())return;const c=this.ir.sr();if(c===null)return;a&&(r.ri=s.title,r.Vt=!0),r.Ht=l.Qt().Ut(c/l.Ft().$t()),e.ri=this.nr(s.price),e.Vt=!0;const u=this.ge.Qt().Xi().X(s.axisLabelColor||s.color);i.Z=u.Z;const d=s.axisLabelTextColor||u.G;e.R=d,r.R=d,i.Ii=c}nr(e){const r=this.ge.zt();return r===null?"":this.ge.Ft().Zi(e,r.Wt)}}class KFe{constructor(e,r){this.ge=e,this.Ps=r,this.er=new GFe(e,this),this.Fn=new YFe(e,this),this.rr=new pme(this.Fn,e,e.Qt())}hr(e){co(this.Ps,e),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const e=this.ge,r=e.Ft();if(e.Qt().Et().Ki()||r.Ki())return null;const i=e.zt();return i===null?null:r.Nt(this.Ps.price,i.Wt)}}class XFe extends dme{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const QFe={Bar:(n,e,r,i)=>{const s=e.upColor,o=e.downColor,a=ut(n(r,i)),l=kd(a.Wt[0])<=kd(a.Wt[3]);return{cr:a.R??(l?s:o)}},Candlestick:(n,e,r,i)=>{const s=e.upColor,o=e.downColor,a=e.borderUpColor,l=e.borderDownColor,c=e.wickUpColor,u=e.wickDownColor,d=ut(n(r,i)),h=kd(d.Wt[0])<=kd(d.Wt[3]);return{cr:d.R??(h?s:o),dr:d.Ht??(h?a:l),pr:d.vr??(h?c:u)}},Custom:(n,e,r,i)=>({cr:ut(n(r,i)).R??e.color}),Area:(n,e,r,i)=>{const s=ut(n(r,i));return{cr:s.vt??e.lineColor,vt:s.vt??e.lineColor,mr:s.mr??e.topColor,wr:s.wr??e.bottomColor}},Baseline:(n,e,r,i)=>{const s=ut(n(r,i));return{cr:s.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:s.gr??e.topLineColor,Mr:s.Mr??e.bottomLineColor,br:s.br??e.topFillColor1,Sr:s.Sr??e.topFillColor2,Cr:s.Cr??e.bottomFillColor1,Pr:s.Pr??e.bottomFillColor2}},Line:(n,e,r,i)=>{const s=ut(n(r,i));return{cr:s.R??e.color,vt:s.R??e.color}},Histogram:(n,e,r,i)=>({cr:ut(n(r,i)).R??e.color})};class JFe{constructor(e){this.yr=(r,i)=>i!==void 0?i.Wt:this.ge.Xs().kr(r),this.ge=e,this.Tr=QFe[e.Rr()]}Dr(e,r){return this.Tr(this.yr,this.ge.N(),e,r)}}function mme(n,e,r,i,s=0,o=e.length){let a=o-s;for(;0<a;){const l=a>>1,c=s+l;i(e[c],r)===n?(s=c+1,a-=l+1):a=l}return s}const v0=mme.bind(null,!0),gme=mme.bind(null,!1);var Dq;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(Dq||(Dq={}));const qu=30;class ZFe{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(e){return this.Nr(e,0)!==null}kr(e){return this.Fr(e)}Fr(e,r=0){const i=this.Nr(e,r);return i===null?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(e,r,i){if(this.Ki())return null;let s=null;for(const o of i)s=u_(s,this.$r(e,r,o));return s}ht(e){this.Ir.clear(),this.Br.clear(),this.Vr=e,this.Er=e.map(r=>r.Re)}qr(){return this.Er}Or(e){return this.Vr[e].Re}Wr(e){return this.Vr[e]}Nr(e,r){const i=this.Yr(e);if(i===null&&r!==0)switch(r){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return i}jr(e){let r=this.Xr(e);return r>0&&(r-=1),r!==this.Vr.length&&this.Or(r)<e?r:null}Kr(e){const r=this.Zr(e);return r!==this.Vr.length&&e<this.Or(r)?r:null}Yr(e){const r=this.Xr(e);return r===this.Vr.length||e<this.Vr[r].Re?null:r}Xr(e){return v0(this.Vr,e,(r,i)=>r.Re<i)}Zr(e){return gme(this.Vr,e,(r,i)=>r.Re>i)}Gr(e,r,i){let s=null;for(let o=e;o<r;o++){const a=this.Vr[o].Wt[i];Number.isNaN(a)||(s===null?s={Jr:a,Qr:a}:(a<s.Jr&&(s.Jr=a),a>s.Qr&&(s.Qr=a)))}return s}$r(e,r,i){if(this.Ki())return null;let s=null;const o=ut(this.Lr()),a=ut(this.Ks()),l=Math.max(e,o),c=Math.min(r,a),u=Math.ceil(l/qu)*qu,d=Math.max(u,Math.floor(c/qu)*qu);{const f=this.Xr(l),p=this.Zr(Math.min(c,u,r));s=u_(s,this.Gr(f,p,i))}let h=this.Br.get(i);h===void 0&&(h=new Map,this.Br.set(i,h));for(let f=Math.max(u+1,l);f<d;f+=qu){const p=Math.floor(f/qu);let m=h.get(p);if(m===void 0){const b=this.Xr(p*qu),y=this.Zr((p+1)*qu-1);m=this.Gr(b,y,i),h.set(p,m)}s=u_(s,m)}{const f=this.Xr(d),p=this.Zr(c);s=u_(s,this.Gr(f,p,i))}return s}}function u_(n,e){return n===null?e:e===null?n:{Jr:Math.min(n.Jr,e.Jr),Qr:Math.max(n.Qr,e.Qr)}}const XS={setLineStyle:b0};class e$e{constructor(e){this.th=e}nt(e,r,i){this.th.draw(e,XS)}ih(e,r,i){var s,o;(o=(s=this.th).drawBackground)==null||o.call(s,e,XS)}}class t$e{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const r=new e$e(e);return this.Dn={nh:e,eh:r},r}rh(){var e,r;return((r=(e=this.sh).zOrder)==null?void 0:r.call(e))??"normal"}}class bme{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,r;(r=(e=this.ah).updateAllViews)==null||r.call(e)}Fs(){var i,s,o;const e=((s=(i=this.ah).paneViews)==null?void 0:s.call(i))??[];if(((o=this.hh)==null?void 0:o.nh)===e)return this.hh.eh;const r=e.map(a=>new t$e(a));return this.hh={nh:e,eh:r},r}jn(e,r){var i,s;return((s=(i=this.ah).hitTest)==null?void 0:s.call(i,e,r))??null}}let n$e=class extends bme{us(){return[]}};class r$e{constructor(e){this.th=e}nt(e,r,i){this.th.draw(e,XS)}ih(e,r,i){var s,o;(o=(s=this.th).drawBackground)==null||o.call(s,e,XS)}}class Rq{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const r=new r$e(e);return this.Dn={nh:e,eh:r},r}rh(){var e,r;return((r=(e=this.sh).zOrder)==null?void 0:r.call(e))??"normal"}}function yme(n){var e,r,i;return{ri:n.text(),Ii:n.coordinate(),Bi:(e=n.fixedCoordinate)==null?void 0:e.call(n),R:n.textColor(),Z:n.backColor(),Vt:((r=n.visible)==null?void 0:r.call(n))??!0,pi:((i=n.tickVisible)==null?void 0:i.call(n))??!0}}class i$e{constructor(e,r){this.Gt=new ume,this._h=e,this.uh=r}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...yme(this._h)}),this.Gt}}class s$e extends sE{constructor(e,r){super(),this._h=e,this.Yi=r}qi(e,r,i){const s=yme(this._h);i.Z=s.Z,e.R=s.R;const o=2/12*this.Yi.P();i.Ti=o,i.Ri=o,i.Ii=s.Ii,i.Bi=s.Bi,e.ri=s.ri,e.Vt=s.Vt,e.pi=s.pi}}class o$e extends bme{constructor(e,r){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=r}cs(){var s,o,a;const e=((o=(s=this.ah).timeAxisViews)==null?void 0:o.call(s))??[];if(((a=this.dh)==null?void 0:a.nh)===e)return this.dh.eh;const r=this.ge.Qt().Et(),i=e.map(l=>new i$e(l,r));return this.dh={nh:e,eh:i},i}Ws(){var s,o,a;const e=((o=(s=this.ah).priceAxisViews)==null?void 0:o.call(s))??[];if(((a=this.fh)==null?void 0:a.nh)===e)return this.fh.eh;const r=this.ge.Ft(),i=e.map(l=>new s$e(l,r));return this.fh={nh:e,eh:i},i}wh(){var i,s,o;const e=((s=(i=this.ah).priceAxisPaneViews)==null?void 0:s.call(i))??[];if(((o=this.ph)==null?void 0:o.nh)===e)return this.ph.eh;const r=e.map(a=>new Rq(a));return this.ph={nh:e,eh:r},r}gh(){var i,s,o;const e=((s=(i=this.ah).timeAxisPaneViews)==null?void 0:s.call(i))??[];if(((o=this.mh)==null?void 0:o.nh)===e)return this.mh.eh;const r=e.map(a=>new Rq(a));return this.mh={nh:e,eh:r},r}Mh(e,r){var i,s;return((s=(i=this.ah).autoscaleInfo)==null?void 0:s.call(i,e,r))??null}}function b3(n,e,r,i){n.forEach(s=>{e(s).forEach(o=>{o.rh()===r&&i.push(o)})})}function y3(n){return n.Fs()}function a$e(n){return n.wh()}function l$e(n){return n.gh()}const c$e=["Area","Line","Baseline"];class lE extends XFe{constructor(e,r,i,s,o){super(e),this.Yt=new ZFe,this.er=new HFe(this),this.bh=[],this.Sh=new zFe(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=r;const a=new VFe(this);this.vs=[a],this.rr=new pme(a,this,e),c$e.includes(this.kh)&&(this.xh=new qFe(this)),this.Th(),this.sh=s(this,this.Qt(),o)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(e){return this.Ps.priceLineColor||e}ye(e){const r={ke:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return r;const s=this.Qt().Et().Pe(),o=this.zt();if(s===null||o===null)return r;let a,l;if(e){const h=this.Yt.Ar();if(h===null)return r;a=h,l=h.Re}else{const h=this.Yt.Fr(s.bi(),-1);if(h===null||(a=this.Yt.kr(h.Re),a===null))return r;l=h.Re}const c=a.Wt[3],u=this.Rh().Dr(l,{Wt:a}),d=i.Nt(c,o.Wt);return{ke:!1,gt:c,ri:i.Zi(c,o.Wt),Oe:i.Dh(c),Ne:i.Vh(c,o.Wt),R:u.cr,Ii:d,Re:l}}Rh(){return this.Ch!==null||(this.Ch=new JFe(this)),this.Ch}N(){return this.Ps}hr(e){const r=e.priceScaleId;r!==void 0&&r!==this.Ps.priceScaleId&&this.Qt().Bh(this,r),co(this.Ps,e),e.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(e,r){this.Yt.ht(e),this.sh.yt("data"),this.xh!==null&&(r&&r.zh?this.xh.be():e.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(e){const r=new KFe(this,e);return this.bh.push(r),this.Qt().Eh(this),r}Nh(e){const r=this.bh.indexOf(e);r!==-1&&this.bh.splice(r,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const e=this.Wh();return e===null?null:{Wt:e.Wt[3],Hh:e.wt}}Wh(){const e=this.Qt().Et().Pe();if(e===null)return null;const r=e.Uh();return this.Yt.Fr(r,1)}Xs(){return this.Yt}$h(e){const r=this.Yt.kr(e);return r===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:r.Wt[0],Yh:r.Wt[1],jh:r.Wt[2],Kh:r.Wt[3]}:r.Wt[3]}Xh(e){const r=[];b3(this.yh,y3,"top",r);const i=this.xh;return i!==null&&i.Vt()&&(this.Ph===null&&i.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),i.Se(),r.unshift(i)),r}Fs(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const r=this.bh.map(i=>i.lr());return e.push(...r),b3(this.yh,y3,"normal",e),e}Jh(){return this.Qh(y3,"bottom")}ta(e){return this.Qh(a$e,e)}ia(e){return this.Qh(l$e,e)}sa(e,r){return this.yh.map(i=>i.jn(e,r)).filter(i=>i!==null)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Ws(e,r){if(r!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const s of this.bh)i.push(s.ur());return this.yh.forEach(s=>{i.push(...s.Ws())}),i}cs(){const e=[];return this.yh.forEach(r=>{e.push(...r.cs())}),e}Mh(e,r){if(this.Ps.autoscaleInfoProvider!==void 0){const i=this.Ps.autoscaleInfoProvider(()=>{const s=this.na(e,r);return s===null?null:s.Xe()});return KS.Ze(i)}return this.na(e,r)}nh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}ea(){return this.ra}Ns(){var e;this.sh.yt();for(const r of this.vs)r.yt();for(const r of this.bh)r.yt();this.er.yt(),this.Sh.yt(),(e=this.xh)==null||e.yt(),this.yh.forEach(r=>r.Ns())}Ft(){return ut(super.Ft())}At(e){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const r=this.Yt.kr(e);return r===null?null:{gt:r.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(e)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(e){this.yh.push(new o$e(e,this))}ua(e){this.yh=this.yh.filter(r=>r.oh()!==e)}ca(){if(this.kh==="Custom")return e=>this.sh.da(e)}fa(){if(this.kh==="Custom")return e=>this.sh.pa(e)}va(){return this.Yt.qr()}Gh(){return!oE(this.Ft().ma())}na(e,r){if(!fw(e)||!fw(r)||this.Yt.Ki())return null;const i=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],s=this.Yt.Ur(e,r,i);let o=s!==null?new as(s.Jr,s.Qr):null,a=null;if(this.Rr()==="Histogram"){const l=this.Ps.base,c=new as(l,l);o=o!==null?o.vn(c):c}return this.yh.forEach(l=>{const c=l.Mh(e,r);if(c!=null&&c.priceRange){const u=new as(c.priceRange.minValue,c.priceRange.maxValue);o=o!==null?o.vn(u):u}c!=null&&c.margins&&(a=c.margins)}),new KS(o,a)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(e){switch(this.kh){case"Line":case"Area":case"Baseline":{const r=this.Ps.crosshairMarkerBackgroundColor;if(r.length!==0)return r}}return this.Rh().Dr(e).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.ra={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(r=>r.map(e))};break}case"volume":this.ra=new BFe(this.Ps.priceFormat.precision);break;case"percent":this.ra=new fme(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new aE(e,this.Ps.priceFormat.minMove*e)}}this.es!==null&&this.es.wa()}Qh(e,r){const i=[];return b3(this.yh,e,r,i),i}}const u$e=[3],d$e=[0,1,2,3];class h$e{constructor(e){this.Ps=e}ga(e,r,i){let s=e;if(this.Ps.mode===0)return s;const o=i.ks(),a=o.zt();if(a===null)return s;const l=o.Nt(e,a),c=i.Ma().filter(d=>d instanceof lE).reduce((d,h)=>{if(i.Un(h)||!h.Vt())return d;const f=h.Ft(),p=h.Xs();if(f.Ki()||!p.Te(r))return d;const m=p.kr(r);if(m===null)return d;const b=kd(h.zt()),y=this.Ps.mode===3?d$e:u$e;return d.concat(y.map(v=>f.Nt(m.Wt[v],b.Wt)))},[]);if(c.length===0)return s;c.sort((d,h)=>Math.abs(d-l)-Math.abs(h-l));const u=c[0];return s=o.Ts(u,a),s}}function Jy(n,e,r){return Math.min(Math.max(n,e),r)}function d_(n,e,r){return e-n<=r}class f$e extends Ex{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null)return;const o=Math.max(1,Math.floor(i));e.lineWidth=o,function(a,l){a.save(),a.lineWidth%2&&a.translate(.5,.5),l(),a.restore()}(e,()=>{const a=ut(this.Yt);if(a.ba){e.strokeStyle=a.Sa,b0(e,a.xa),e.beginPath();for(const l of a.Ca){const c=Math.round(l.Pa*i);e.moveTo(c,-o),e.lineTo(c,r.height+o)}e.stroke()}if(a.ya){e.strokeStyle=a.ka,b0(e,a.Ta),e.beginPath();for(const l of a.Ra){const c=Math.round(l.Pa*s);e.moveTo(-o,c),e.lineTo(r.width+o,c)}e.stroke()}})}}class p$e{constructor(e){this.Gt=new f$e,this.xt=!0,this.Pt=e}yt(){this.xt=!0}Tt(){if(this.xt){const e=this.Pt.Qt().N().grid,r={ya:e.horzLines.visible,ba:e.vertLines.visible,ka:e.horzLines.color,Sa:e.vertLines.color,Ta:e.horzLines.style,xa:e.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map(i=>({Pa:i.coord}))};this.Gt.ht(r),this.xt=!1}return this.Gt}}class m$e{constructor(e){this.sh=new p$e(e)}lr(){return this.sh}}const v3={Va:4,Ba:1e-4};function Lm(n,e){const r=100*(n-e)/e;return e<0?-r:r}function g$e(n,e){const r=Lm(n.$e(),e),i=Lm(n.qe(),e);return new as(r,i)}function Zy(n,e){const r=100*(n-e)/e+100;return e<0?-r:r}function b$e(n,e){const r=Zy(n.$e(),e),i=Zy(n.qe(),e);return new as(r,i)}function QS(n,e){const r=Math.abs(n);if(r<1e-15)return 0;const i=Math.log10(r+e.Ba)+e.Va;return n<0?-i:i}function ev(n,e){const r=Math.abs(n);if(r<1e-15)return 0;const i=Math.pow(10,r-e.Va)-e.Ba;return n<0?-i:i}function Vb(n,e){if(n===null)return null;const r=QS(n.$e(),e),i=QS(n.qe(),e);return new as(r,i)}function Fm(n,e){if(n===null)return null;const r=ev(n.$e(),e),i=ev(n.qe(),e);return new as(r,i)}function w3(n){if(n===null)return v3;const e=Math.abs(n.qe()-n.$e());if(e>=1||e<1e-15)return v3;const r=Math.ceil(Math.abs(Math.log10(e))),i=v3.Va+r;return{Va:i,Ba:1/Math.pow(10,i)}}class x3{constructor(e,r){if(this.Ia=e,this.Ea=r,function(i){if(i<0)return!1;if(i>1e18)return!0;for(let s=i;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let i=this.Ia;i!==1;){if(i%2==0)this.Aa.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),i/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(e,r,i){const s=this.Ia===0?0:1/this.Ia;let o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-r)))),a=0,l=this.Ea[0];for(;;){const h=d_(o,s,1e-14)&&o>s+1e-14,f=d_(o,i*l,1e-14),p=d_(o,1,1e-14);if(!(h&&f&&p))break;o/=l,l=this.Ea[++a%this.Ea.length]}if(o<=s+1e-14&&(o=s),o=Math.max(1,o),this.Aa.length>0&&(c=o,u=1,d=1e-14,Math.abs(c-u)<d))for(a=0,l=this.Aa[0];d_(o,i*l,1e-14)&&o>s+1e-14;)o/=l,l=this.Aa[++a%this.Aa.length];var c,u,d;return o}}let Nq=class{constructor(e,r,i,s){this.La=[],this.Yi=e,this.Ia=r,this.Oa=i,this.Na=s}za(e,r){if(e<r)throw new Error("high < low");const i=this.Yi.$t(),s=(e-r)*this.Fa()/i,o=new x3(this.Ia,[2,2.5,2]),a=new x3(this.Ia,[2,2,2.5]),l=new x3(this.Ia,[2.5,2,2]),c=[];return c.push(o.za(e,r,s),a.za(e,r,s),l.za(e,r,s)),function(u){if(u.length<1)throw Error("array is empty");let d=u[0];for(let h=1;h<u.length;++h)u[h]<d&&(d=u[h]);return d}(c)}Wa(){const e=this.Yi,r=e.zt();if(r===null)return void(this.La=[]);const i=e.$t(),s=this.Oa(i-1,r),o=this.Oa(0,r),a=this.Yi.N().entireTextOnly?this.Ha()/2:0,l=a,c=i-1-a,u=Math.max(s,o),d=Math.min(s,o);if(u===d)return void(this.La=[]);const h=this.za(u,d);if(this.Ua(r,h,u,d,l,c),e.$a()&&this.qa(h,d,u)){const m=this.Yi.Ya();this.ja(r,h,l,c,m,2*m)}const f=this.La.map(m=>m.Ka),p=this.Yi.Xa(f);for(let m=0;m<this.La.length;m++)this.La[m].Za=p[m]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(e,r,i,s,o,a){const l=this.La,c=this.Yi;let u=i%r;u+=u<0?r:0;const d=i>=s?1:-1;let h=null,f=0;for(let p=i-u;p>s;p-=r){const m=this.Na(p,e,!0);h!==null&&Math.abs(m-h)<this.Fa()||m<o||m>a||(f<l.length?(l[f].Pa=m,l[f].Za=c.Ga(p),l[f].Ka=p):l.push({Pa:m,Za:c.Ga(p),Ka:p}),f++,h=m,c.Ja()&&(r=this.za(p*d,s)))}l.length=f}ja(e,r,i,s,o,a){const l=this.La,c=this.Qa(e,i,o,a),u=this.Qa(e,s,-a,-o),d=this.Na(0,e,!0)-this.Na(r,e,!0);l.length>0&&l[0].Pa-c.Pa<d/2&&l.shift(),l.length>0&&u.Pa-l[l.length-1].Pa<d/2&&l.pop(),l.unshift(c),l.push(u)}Qa(e,r,i,s){const o=(i+s)/2,a=this.Oa(r+i,e),l=this.Oa(r+s,e),c=Math.min(a,l),u=Math.max(a,l),d=Math.max(.1,this.za(u,c)),h=this.Oa(r+o,e),f=h-h%d,p=this.Na(f,e,!0);return{Za:this.Yi.Ga(f),Pa:p,Ka:f}}qa(e,r,i){let s=kd(this.Yi.Qe());return this.Yi.Ja()&&(s=Fm(s,this.Yi.tl())),s.$e()-r<e&&i-s.qe()<e}};function vme(n){return n.slice().sort((e,r)=>ut(e.hs())-ut(r.hs()))}var jq;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(jq||(jq={}));const Bq=new fme,Lq=new aE(100,1);class y$e{constructor(e,r,i,s,o){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new Or,this.ul=new Or,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=Lq,this.wl=w3(null),this.gl=e,this.Ps=r,this.Ml=i,this.bl=s,this.Sl=o,this.xl=new Nq(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(e){if(co(this.Ps,e),this.wa(),e.mode!==void 0&&this.yl({ie:e.mode}),e.scaleMargins!==void 0){const r=Ns(e.scaleMargins.top),i=Ns(e.scaleMargins.bottom);if(r<0||r>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${r}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(r+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${r+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(e){const r=this.ie();let i=null;e.sn!==void 0&&(this.Ps.autoScale=e.sn),e.ie!==void 0&&(this.Ps.mode=e.ie,e.ie!==2&&e.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),r.ie===1&&e.ie!==r.ie&&(function(o,a){if(o===null)return!1;const l=ev(o.$e(),a),c=ev(o.qe(),a);return isFinite(l)&&isFinite(c)}(this.Ge,this.wl)?(i=Fm(this.Ge,this.wl),i!==null&&this.Bl(i)):this.Ps.autoScale=!0),e.ie===1&&e.ie!==r.ie&&(i=Vb(this.Ge,this.wl),i!==null&&this.Bl(i));const s=r.ie!==this.Ps.mode;s&&(r.ie===2||this.Le())&&this.wa(),s&&(r.ie===3||this.Dl())&&this.wa(),e.Vl!==void 0&&r.Vl!==e.Vl&&(this.Ps.invertScale=e.Vl,this.Il()),this.ul.p(r,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(e){this.il!==e&&(this.il=e,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const e=this.$t()-this.Ll()-this.Ol();return this.sl=e,e}Qe(){return this.Nl(),this.Ge}Bl(e,r){const i=this.Ge;(r||i===null&&e!==null||i!==null&&!i.He(e))&&(this.pl=null,this.Ge=e)}Fl(e){this.Bl(e),this.Wl(e!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(e){return this.Vl()?e:this.$t()-1-e}Nt(e,r){return this.Le()?e=Lm(e,r):this.Dl()&&(e=Zy(e,r)),this.Pl(e,r)}Ul(e,r,i){this.Nl();const s=this.Ol(),o=ut(this.Qe()),a=o.$e(),l=o.qe(),c=this.zl()-1,u=this.Vl(),d=c/(l-a),h=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.$l();for(let m=h;m<f;m++){const b=e[m],y=b.gt;if(isNaN(y))continue;let v=y;p!==null&&(v=p(b.gt,r));const w=s+d*(v-a),_=u?w:this.il-1-w;b.ut=_}}ql(e,r,i){this.Nl();const s=this.Ol(),o=ut(this.Qe()),a=o.$e(),l=o.qe(),c=this.zl()-1,u=this.Vl(),d=c/(l-a),h=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.$l();for(let m=h;m<f;m++){const b=e[m];let y=b.qh,v=b.Yh,w=b.jh,_=b.Kh;p!==null&&(y=p(b.qh,r),v=p(b.Yh,r),w=p(b.jh,r),_=p(b.Kh,r));let x=s+d*(y-a),k=u?x:this.il-1-x;b.Yl=k,x=s+d*(v-a),k=u?x:this.il-1-x,b.jl=k,x=s+d*(w-a),k=u?x:this.il-1-x,b.Kl=k,x=s+d*(_-a),k=u?x:this.il-1-x,b.Xl=k}}Ts(e,r){const i=this.Cl(e,r);return this.Zl(i,r)}Zl(e,r){let i=e;return this.Le()?i=function(s,o){return o<0&&(s=-s),s/100*o+o}(i,r):this.Dl()&&(i=function(s,o){return s-=100,o<0&&(s=-s),s/100*o+o}(i,r)),i}Ma(){return this.cl}Dt(){return this.fl||(this.fl=vme(this.cl)),this.fl}Gl(e){this.cl.indexOf(e)===-1&&(this.cl.push(e),this.wa(),this.Jl())}Ql(e){const r=this.cl.indexOf(e);if(r===-1)throw new Error("source is not attached to scale");this.cl.splice(r,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let e=null;for(const r of this.cl){const i=r.zt();i!==null&&(e===null||i.Hh<e.Hh)&&(e=i)}return e===null?null:e.Wt}Vl(){return this.Ps.invertScale}Da(){const e=this.zt()===null;if(this.pl!==null&&(e||this.pl.io===e))return this.pl.Da;this.xl.Wa();const r=this.xl.Da();return this.pl={Da:r,io:e},this._l.p(),r}so(){return this._l}no(e){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-e,this.nl=ut(this.Qe()).Ue()))}eo(e){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(e=this.il-e)<0&&(e=0);let r=(this.vl+.2*(this.il-1))/(e+.2*(this.il-1));const i=ut(this.nl).Ue();r=Math.max(r,.1),i.je(r),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(e){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=e,this.nl=ut(this.Qe()).Ue()))}ao(e){if(this.Tl()||this.ml===null)return;const r=ut(this.Qe()).Ye()/(this.zl()-1);let i=e-this.ml;this.Vl()&&(i*=-1);const s=i*r,o=ut(this.nl).Ue();o.Ke(s),this.Bl(o,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(e,r){switch(this.Ps.mode){case 2:return this.oo(Lm(e,r));case 3:return this.ea().format(Zy(e,r));default:return this.nr(e)}}Ga(e){switch(this.Ps.mode){case 2:return this.oo(e);case 3:return this.ea().format(e);default:return this.nr(e)}}Xa(e){switch(this.Ps.mode){case 2:return this._o(e);case 3:return this.ea().formatTickmarks(e);default:return this.uo(e)}}Dh(e){return this.nr(e,ut(this.dl).ea())}Vh(e,r){return e=Lm(e,r),this.oo(e,Bq)}co(){return this.cl}do(e){this.el={hl:e,rl:!1}}Ns(){this.cl.forEach(e=>e.Ns())}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let e=1/0;this.dl=null;for(const i of this.cl)i.hs()<e&&(e=i.hs(),this.dl=i);let r=100;this.dl!==null&&(r=Math.round(this.dl.nh())),this.ra=Lq,this.Le()?(this.ra=Bq,r=100):this.Dl()?(this.ra=new aE(100,1),r=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new Nq(this,r,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(e){this.al=e}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(e,r){if(this.Nl(),this.Ki())return 0;e=this.Ja()&&e?QS(e,this.wl):e;const i=ut(this.Qe()),s=this.Ol()+(this.zl()-1)*(e-i.$e())/i.Ye();return this.Hl(s)}Cl(e,r){if(this.Nl(),this.Ki())return 0;const i=this.Hl(e),s=ut(this.Qe()),o=s.$e()+s.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?ev(o,this.wl):o}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const e=this.el.hl;if(e===null)return;let r=null;const i=this.co();let s=0,o=0;for(const c of i){if(!c.Vt())continue;const u=c.zt();if(u===null)continue;const d=c.Mh(e.Uh(),e.bi());let h=d&&d.Qe();if(h!==null){switch(this.Ps.mode){case 1:h=Vb(h,this.wl);break;case 2:h=g$e(h,u.Wt);break;case 3:h=b$e(h,u.Wt)}if(r=r===null?h:r.vn(ut(h)),d!==null){const f=d.tr();f!==null&&(s=Math.max(s,f.above),o=Math.max(o,f.below))}}}if(this.$a()&&(s=Math.max(s,this.Ya()),o=Math.max(o,this.Ya())),s===this.ll&&o===this.ol||(this.ll=s,this.ol=o,this.pl=null,this.kl()),r!==null){if(r.$e()===r.qe()){const c=5*this.fo();this.Ja()&&(r=Fm(r,this.wl)),r=new as(r.$e()-c,r.qe()+c),this.Ja()&&(r=Vb(r,this.wl))}if(this.Ja()){const c=Fm(r,this.wl),u=w3(c);if(a=u,l=this.wl,a.Va!==l.Va||a.Ba!==l.Ba){const d=this.nl!==null?Fm(this.nl,this.wl):null;this.wl=u,r=Vb(c,u),d!==null&&(this.nl=Vb(d,u))}}this.Bl(r)}else this.Ge===null&&(this.Bl(new as(-.5,.5)),this.wl=w3(null));var a,l}$l(){return this.Le()?Lm:this.Dl()?Zy:this.Ja()?e=>QS(e,this.wl):null}vo(e,r,i){return r===void 0?(i===void 0&&(i=this.ea()),i.format(e)):r(e)}mo(e,r,i){return r===void 0?(i===void 0&&(i=this.ea()),i.formatTickmarks(e)):r(e)}nr(e,r){return this.vo(e,this.bl.priceFormatter,r)}uo(e,r){const i=this.bl.priceFormatter;return this.mo(e,this.bl.tickmarksPriceFormatter??(i?s=>s.map(i):void 0),r)}oo(e,r){return this.vo(e,this.bl.percentageFormatter,r)}_o(e,r){const i=this.bl.percentageFormatter;return this.mo(e,this.bl.tickmarksPercentageFormatter??(i?s=>s.map(i):void 0),r)}}function Fq(n){return n instanceof lE}class $q{constructor(e,r){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new Or,this.yh=[],this.uh=e,this.ts=r,this.Co=new m$e(this);const i=r.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(e){if(e.leftPriceScale&&this.Po.hr(e.leftPriceScale),e.rightPriceScale&&this.ko.hr(e.rightPriceScale),e.localization&&(this.Po.wa(),this.ko.wa()),e.overlayPriceScales){const r=Array.from(this.wo.values());for(const i of r){const s=ut(i[0].Ft());s.hr(e.overlayPriceScales),e.localization&&s.wa()}}}Do(e){switch(e){case"left":return this.Po;case"right":return this.ko}return this.wo.has(e)?Ns(this.wo.get(e))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach(e=>{e.m&&e.m()}),this.yh=this.yh.filter(e=>{const r=e.oh();return r.detached&&r.detached(),!1}),this.xo.p()}Bo(){return this.bo}Io(e){this.bo=e}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(e){this.Mo=e,this.Ao()}Al(e){this.il=e,this.Po.Al(e),this.ko.Al(e),this.cl.forEach(r=>{if(this.Un(r)){const i=r.Ft();i!==null&&i.Al(e)}}),this.Ao()}zo(e){this.So=e}Lo(){return this.So}Oo(){return this.cl.filter(Fq)}Ma(){return this.cl}Un(e){const r=e.Ft();return r===null||this.Po!==r&&this.ko!==r}Gl(e,r,i){this.No(e,r,i?e.hs():this.cl.length)}Ql(e,r){const i=this.cl.indexOf(e);gi(i!==-1,"removeDataSource: invalid data source"),this.cl.splice(i,1),r||this.cl.forEach((a,l)=>a.ls(l));const s=ut(e.Ft()).ma();if(this.wo.has(s)){const a=Ns(this.wo.get(s)),l=a.indexOf(e);l!==-1&&(a.splice(l,1),a.length===0&&this.wo.delete(s))}const o=e.Ft();o&&o.Ma().indexOf(e)>=0&&(o.Ql(e),this.Fo(o)),this.fl=null}qn(e){return e===this.Po?"left":e===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(e,r){e.no(r)}$o(e,r){e.eo(r),this.Ao()}qo(e){e.ro()}Yo(e,r){e.ho(r)}jo(e,r){e.ao(r),this.Ao()}Ko(e){e.lo()}Ao(){this.cl.forEach(e=>{e.Ns()})}ks(){let e=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?e=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?e=this.Po:this.cl.length!==0&&(e=this.cl[0].Ft()),e===null&&(e=this.ko),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.ko:this.ts.N().leftPriceScale.visible&&(e=this.Po),e}Fo(e){e!==null&&e.Tl()&&this.Xo(e)}Zo(e){const r=this.uh.Pe();e.yl({sn:!0}),r!==null&&e.do(r),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach(e=>{this.Un(e)&&this.Fo(e.Ft())}),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=vme(this.cl)),this.fl}Qo(e,r){r=Jy(r,0,this.cl.length-1);const i=this.cl.indexOf(e);gi(i!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(r,0,e),this.cl.forEach((s,o)=>s.ls(o)),this.fl=null;for(const s of[this.Po,this.ko])s.Jl(),s.wa();this.ts.ar()}Bt(){return this.Dt().filter(Fq)}t_(){return this.xo}i_(){return this.Co}_a(e){this.yh.push(new n$e(e))}ua(e){this.yh=this.yh.filter(r=>r.oh()!==e),e.detached&&e.detached(),this.ts.ar()}s_(){return this.yh}sa(e,r){return this.yh.map(i=>i.jn(e,r)).filter(i=>i!==null)}Xo(e){const r=e.co();if(r&&r.length>0&&!this.uh.Ki()){const i=this.uh.Pe();i!==null&&e.do(i)}e.Ns()}No(e,r,i){let s=this.Do(r);if(s===null&&(s=this.yo(r,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,e),!oE(r)){const o=this.wo.get(r)||[];o.push(e),this.wo.set(r,o)}e.ls(i),s.Gl(e),e._s(s),this.Fo(s),this.fl=null}To(e,r,i){r.ie!==i.ie&&this.Xo(e)}yo(e,r){const i={visible:!0,autoScale:!0,...Lc(r)},s=new y$e(e,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return s.Al(this.$t()),s}}function h_(n){return{n_:n.n_,e_:{Kn:n.r_.externalId},h_:n.r_.cursorStyle}}function v$e(n,e,r,i){for(const s of n){const o=s.Tt(i);if(o!==null&&o.jn){const a=o.jn(e,r);if(a!==null)return{a_:s,e_:a}}}return null}function w$e(n){return n.Fs!==void 0}function wme(n,e,r){const i=[n,...n.Dt()],s=function(o,a,l){var f;let c,u;for(const p of o){const m=((f=p.sa)==null?void 0:f.call(p,a,l))??[];for(const b of m)d=b.zOrder,h=c==null?void 0:c.zOrder,(!h||d==="top"&&h!=="top"||d==="normal"&&h==="bottom")&&(c=b,u=p)}var d,h;return c&&u?{r_:c,n_:u}:null}(i,e,r);if((s==null?void 0:s.r_.zOrder)==="top")return h_(s);for(const o of i){if(s&&s.n_===o&&s.r_.zOrder!=="bottom"&&!s.r_.isBackground)return h_(s);if(w$e(o)){const a=v$e(o.Fs(n),e,r,n);if(a!==null)return{n_:o,a_:a.a_,e_:a.e_}}if(s&&s.n_===o&&s.r_.zOrder!=="bottom"&&s.r_.isBackground)return h_(s)}return s!=null&&s.r_?h_(s):null}class x$e{constructor(e,r,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=e,this.o_=r,this.Vn=i}__(e){const r=e.time,i=this.o_.cacheKey(r),s=this.Dn.get(i);if(s!==void 0)return s.u_;if(this.yn===this.Vn){const a=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Ns(a)),this.Tn++,this.yn--}const o=this.l_(e);return this.Dn.set(i,{u_:o,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,o}}class tv{constructor(e,r){gi(e<=r,"right should be >= left"),this.c_=e,this.d_=r}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(e){return this.c_<=e&&e<=this.d_}He(e){return this.c_===e.Uh()&&this.d_===e.bi()}}function zq(n,e){return n===null||e===null?n===e:n.He(e)}class _$e{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(e){this.v_=e,this.Dn=null}w_(e,r){this.g_(r),this.Dn=null;for(let i=r;i<e.length;++i){const s=e[i];let o=this.p_.get(s.timeWeight);o===void 0&&(o=[],this.p_.set(s.timeWeight,o)),o.push({index:i,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}M_(e,r,i,s,o){const a=Math.ceil(r/e);return this.Dn!==null&&this.Dn.b_===a&&o===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:o,x_:i,Da:this.C_(a,i,s),b_:a}),this.Dn.Da}g_(e){if(e===0)return void this.p_.clear();const r=[];this.p_.forEach((i,s)=>{e<=i[0].index?r.push(s):i.splice(v0(i,e,o=>o.index<e),1/0)});for(const i of r)this.p_.delete(i)}C_(e,r,i){let s=[];const o=a=>!r||i.has(a.index);for(const a of Array.from(this.p_.keys()).sort((l,c)=>c-l)){if(!this.p_.get(a))continue;const l=s;s=[];const c=l.length;let u=0;const d=Ns(this.p_.get(a)),h=d.length;let f=1/0,p=-1/0;for(let m=0;m<h;m++){const b=d[m],y=b.index;for(;u<c;){const v=l[u],w=v.index;if(!(w<y&&o(v))){f=w;break}u++,s.push(v),p=w,f=1/0}if(f-y>=e&&y-p>=e&&o(b))s.push(b),p=y;else if(this.v_)return l}for(;u<c;u++)o(l[u])&&s.push(l[u])}return s}}class og{constructor(e){this.P_=e}y_(){return this.P_===null?null:new tv(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new og(null)}}function k$e(n,e){return n.weight>e.weight?n:e}class S$e{constructor(e,r,i,s){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new _$e,this.B_=new Map,this.I_=og.T_(),this.E_=!0,this.A_=new Or,this.z_=new Or,this.L_=new Or,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=r,this.bl=i,this.U_=r.rightOffset,this.q_=r.barSpacing,this.ts=e,this.Y_(r),this.o_=s,this.j_(),this.V_.m_(r.uniformDistribution),this.K_()}N(){return this.Ps}X_(e){co(this.bl,e),this.Z_(),this.j_()}hr(e,r){co(this.Ps,e),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),e.barSpacing!==void 0&&this.ts.dn(e.barSpacing),e.rightOffset!==void 0&&this.ts.fn(e.rightOffset),this.Y_(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ts.dn(e.barSpacing??this.q_),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(e){var r;return((r=this.D_[e])==null?void 0:r.time)??null}ss(e){return this.D_[e]??null}Q_(e,r){if(this.D_.length<1)return null;if(this.o_.key(e)>this.o_.key(this.D_[this.D_.length-1].time))return r?this.D_.length-1:null;const i=v0(this.D_,this.o_.key(e),(s,o)=>this.o_.key(s.time)<o);return this.o_.key(e)<this.o_.key(this.D_[i].time)?r?i:null:i}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const e=this.Pe();if(e===null)return null;const r={from:e.Uh(),to:e.bi()};return this.eu(r)}eu(e){const r=Math.round(e.from),i=Math.round(e.to),s=ut(this.ru()),o=ut(this.hu());return{from:ut(this.ss(Math.max(s,r))),to:ut(this.ss(Math.min(o,i)))}}au(e){return{from:ut(this.Q_(e.from,!0)),to:ut(this.Q_(e.to,!0))}}Qi(){return this.Mo}Eo(e){if(!isFinite(e)||e<=0||this.Mo===e)return;const r=this.su(),i=this.Mo;if(this.Mo=e,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&i!==0){const s=this.q_*e/i;this.q_=s}if(this.Ps.fixLeftEdge&&r!==null&&r.Uh()<=0){const s=i-e;this.U_-=Math.round(s/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(e){if(this.Ki()||!fw(e))return 0;const r=this._u()+this.U_-e;return this.Mo-(r+.5)*this.q_-1}uu(e,r){const i=this._u(),s=r===void 0?0:r.from,o=r===void 0?e.length:r.to;for(let a=s;a<o;a++){const l=e[a].wt,c=i+this.U_-l,u=this.Mo-(c+.5)*this.q_-1;e[a]._t=u}}cu(e,r){const i=Math.ceil(this.du(e));return r&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(e){this.E_=!0,this.U_=e,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(e){const r=this.q_;if(this.wu(e),this.Ps.rightOffsetPixels!==void 0&&r!==0){const i=this.U_*r/this.q_;this.U_=i}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const e=this.q_,r=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(r/e),s=ut(this.Pe()),o=Math.max(s.Uh(),s.Uh()-i),a=Math.max(s.bi(),s.bi()-i),l=this.V_.M_(e,r,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),c=this.ru()+i,u=this.hu()-i,d=this.Mu(),h=this.Ps.fixLeftEdge||d,f=this.Ps.fixRightEdge||d;let p=0;for(const m of l){if(!(o<=m.index&&m.index<=a))continue;let b;p<this.H_.length?(b=this.H_[p],b.coord=this.qt(m.index),b.label=this.bu(m),b.weight=m.weight):(b={needAlignCoordinate:!1,coord:this.qt(m.index),label:this.bu(m),weight:m.weight},this.H_.push(b)),this.q_>r/2&&!d?b.needAlignCoordinate=!1:b.needAlignCoordinate=h&&m.index<=c||f&&m.index>=u,p++}return this.H_.length=p,this.N_=this.H_,this.H_}Su(){let e;this.E_=!0,this.dn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(e)}xu(e){this.E_=!0,this.R_=e,this.ou(),this.G_()}Cu(e,r){const i=this.du(e),s=this.mu(),o=s+r*(s/10);this.dn(o),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(e)))}no(e){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=e,this.Pu()))}eo(e){if(this.O_===null)return;const r=Jy(this.Mo-e,0,this.Mo),i=Jy(this.Mo-ut(this.vl),0,this.Mo);r!==0&&i!==0&&this.dn(this.O_.mu*r/i)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(e){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=e,this.Pu()))}ao(e){if(this.ml===null)return;const r=(this.ml-e)/this.mu();this.U_=ut(this.O_).gu+r,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(e,r=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(r)||r<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,s=performance.now();this.ts._n({Ru:o=>(o-s)/r>=1,Du:o=>{const a=(o-s)/r;return a>=1?e:i+(e-i)*a}})}yt(e,r){this.E_=!0,this.D_=e,this.V_.w_(e,r),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(e,r){const i=e.f_(),s=r&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-s)/i),this.U_=e.bi()-this._u(),r&&(this.U_=s?s/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const e=this.ru(),r=this.hu();e!==null&&r!==null&&this.Eu(new tv(e,r),!0)}zu(e){const r=new tv(e.from,e.to);this.Eu(r)}ns(e){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(e.originalTime):this.o_.formatHorzItem(e.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const e=this.ts.js();for(const r of e)for(const i of r.va())this.F_.set(i,!0);this.W_++}Mu(){const e=this.ts.N().handleScroll,r=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||r.axisDoubleClickReset.time||r.axisPressedMouseMove.time||r.mouseWheel||r.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(e){return(this.Mo-1-e)/this.q_}du(e){const r=this.Lu(e),i=this._u()+this.U_-r;return Math.round(1e6*i)/1e6}wu(e){const r=this.q_;this.q_=e,this.lu(),r!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(og.T_());const e=this._u(),r=this.Mo/this.q_,i=this.U_+e,s=new tv(i-r+1,i);this.Nu(new og(s))}lu(){const e=Jy(this.q_,this.Fu(),this.Wu());this.q_!==e&&(this.q_=e,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const e=this.Hu();e!==null&&this.U_<e&&(this.U_=e,this.E_=!0);const r=this.Uu();this.U_>r&&(this.U_=r,this.E_=!0)}Hu(){const e=this.ru(),r=this.R_;return e===null||r===null?null:e-r-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(e){let r=this.B_.get(e.weight);return r===void 0&&(r=new x$e(i=>this.$u(i),this.o_),this.B_.set(e.weight,r)),r.__(e)}$u(e){return this.o_.formatTickmark(e,this.bl)}Nu(e){const r=this.I_;this.I_=e,zq(r.y_(),this.I_.y_())||this.A_.p(),zq(r.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const e=this.ru();if(e===null)return;const r=this.Pe();if(r===null)return;const i=r.Uh()-e;if(i<0){const s=this.U_-i-1;this.fn(s)}this.lu()}J_(){this.ou(),this.lu()}fu(e){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(e)||!1}pu(e){const r=function*(s){const o=Math.round(s),a=o<s;let l=1;for(;;)a?(yield o+l,yield o-l):(yield o-l,yield o+l),l++}(e),i=this.hu();for(;i;){const s=r.next().value;if(this.F_.get(s))return s;if(s<0||s>i)break}return e}Y_(e){if(e.rightOffsetPixels!==void 0){const r=e.rightOffsetPixels/(e.barSpacing||this.q_);this.ts.fn(r)}}}var Uq,Wq,qq,Hq,Vq;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(Uq||(Uq={}));class C$e{constructor(e,r,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new Or,this.Xu=new Or,this.Zu=null,this.Gu=e,this.Ps=r,this.o_=i,this.Sl=new CFe(this.Ps.layout.colorParsers),this.Ju=new SFe(this),this.uh=new S$e(this,r.timeScale,this.Ps.localization,i),this.Ct=new jFe(this,r.crosshair),this.Qu=new h$e(r.crosshair),r.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(ys.gn())}ar(){this.rc(ys.wn())}Zh(){this.rc(new ys(1))}Eh(e){const r=this.hc(e);this.rc(r)}ac(){return this.ju}lc(e){var i,s,o,a;if(((i=this.ju)==null?void 0:i.n_)===(e==null?void 0:e.n_)&&((o=(s=this.ju)==null?void 0:s.e_)==null?void 0:o.Kn)===((a=e==null?void 0:e.e_)==null?void 0:a.Kn))return;const r=this.ju;this.ju=e,r!==null&&this.Eh(r.n_),e!==null&&e.n_!==(r==null?void 0:r.n_)&&this.Eh(e.n_)}N(){return this.Ps}hr(e){co(this.Ps,e),this.qu.forEach(r=>r.Ro(e)),e.timeScale!==void 0&&this.uh.hr(e.timeScale),e.localization!==void 0&&this.uh.X_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(e,r,i=0){const s=this.qu[i];if(s===void 0)return;if(e==="left")return co(this.Ps,{leftPriceScale:r}),s.Ro({leftPriceScale:r}),this.Ku.p(),void this.Ih();if(e==="right")return co(this.Ps,{rightPriceScale:r}),s.Ro({rightPriceScale:r}),this.Ku.p(),void this.Ih();const o=this._c(e,i);o!==null&&(o.Ft.hr(r),this.Ku.p())}_c(e,r){const i=this.qu[r];if(i===void 0)return null;const s=i.Do(e);return s!==null?{Us:i,Ft:s}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(e,r){e.Al(r),this.vu()}Eo(e){this.Mo=e,this.uh.Eo(this.Mo),this.qu.forEach(r=>r.Eo(e)),this.vu()}fc(e){this.qu.length!==1&&(gi(e>=0&&e<this.qu.length,"Invalid pane index"),this.qu.splice(e,1),this.Ih())}vc(e,r){if(this.qu.length<2)return;gi(e>=0&&e<this.qu.length,"Invalid pane index");const i=this.qu[e],s=this.qu.reduce((h,f)=>h+f.Bo(),0),o=this.qu.reduce((h,f)=>h+f.$t(),0),a=o-30*(this.qu.length-1);r=Math.min(a,Math.max(30,r));const l=s/o,c=i.$t();i.Io(r*l);let u=r-c,d=this.qu.length-1;for(const h of this.qu)if(h!==i){const f=Math.min(a,Math.max(30,h.$t()-u/d));u-=h.$t()-f,d-=1;const p=f*l;h.Io(p)}this.Ih()}mc(e,r){gi(e>=0&&e<this.qu.length&&r>=0&&r<this.qu.length,"Invalid pane index");const i=this.qu[e],s=this.qu[r];this.qu[e]=s,this.qu[r]=i,this.Ih()}wc(e,r){if(gi(e>=0&&e<this.qu.length&&r>=0&&r<this.qu.length,"Invalid pane index"),e===r)return;const[i]=this.qu.splice(e,1);this.qu.splice(r,0,i),this.Ih()}Uo(e,r,i){e.Uo(r,i)}$o(e,r,i){e.$o(r,i),this.Ah(),this.rc(this.gc(e,2))}qo(e,r){e.qo(r),this.rc(this.gc(e,2))}Yo(e,r,i){r.Tl()||e.Yo(r,i)}jo(e,r,i){r.Tl()||(e.jo(r,i),this.Ah(),this.rc(this.gc(e,2)))}Ko(e,r){r.Tl()||(e.Ko(r),this.rc(this.gc(e,2)))}Zo(e,r){e.Zo(r),this.rc(this.gc(e,2))}Mc(e){this.uh.no(e)}bc(e,r){const i=this.Et();if(i.Ki()||r===0)return;const s=i.Qi();e=Math.max(1,Math.min(e,s)),i.Cu(e,r),this.vu()}Sc(e){this.xc(0),this.Cc(e),this.Pc()}yc(e){this.uh.eo(e),this.vu()}kc(){this.uh.ro(),this.ar()}xc(e){this.uh.ho(e)}Cc(e){this.uh.ao(e),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(e,r,i,s,o){this.Ct.Vs(e,r);let a=NaN,l=this.uh.cu(e,!0);const c=this.uh.Pe();c!==null&&(l=Math.min(Math.max(c.Uh(),l),c.bi()));const u=s.ks(),d=u.zt();if(d!==null&&(a=u.Ts(r,d)),a=this.Qu.ga(a,l,s),this.Ct.As(l,a,s),this.Zh(),!o){const h=wme(s,e,r);this.lc(h&&{n_:h.n_,e_:h.e_,h_:h.h_||null}),this.Xu.p(this.Ct.It(),{x:e,y:r},i)}}Rc(e,r,i){const s=i.ks(),o=s.zt(),a=s.Nt(e,ut(o)),l=this.uh.Q_(r,!0),c=this.uh.qt(ut(l));this.Tc(c,a,null,i,!0)}Dc(e){this.uc().Ls(),this.Zh(),e||this.Xu.p(null,null,null)}Ah(){const e=this.Ct.Us();if(e!==null){const r=this.Ct.Is(),i=this.Ct.Es();this.Tc(r,i,null,e)}this.Ct.Ns()}Vc(e,r,i){const s=this.uh.Rs(0);r!==void 0&&i!==void 0&&this.uh.yt(r,i);const o=this.uh.Rs(0),a=this.uh._u(),l=this.uh.Pe();if(l!==null&&s!==null&&o!==null){const c=l.Te(a),u=this.o_.key(s)>this.o_.key(o),d=e!==null&&e>a&&!u,h=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,f=c&&(i!==void 0||h)&&this.uh.N().shiftVisibleRangeOnNewBar;if(d&&!f){const p=e-a;this.uh.fn(this.uh.gu()-p)}}this.uh.xu(e)}Lh(e){e!==null&&e.Jo()}Hn(e){if(function(i){return i instanceof $q}(e))return e;const r=this.qu.find(i=>i.Dt().includes(e));return r===void 0?null:r}vu(){this.qu.forEach(e=>e.Jo()),this.Ah()}m(){this.qu.forEach(e=>e.m()),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(e,r){const i=this.tc(r);this.Ec(e,i),this.Yu.push(e),this.Yu.length===1?this.Ih():this.ar()}Ac(e){const r=this.Hn(e),i=this.Yu.indexOf(e);gi(i!==-1,"Series not found");const s=ut(r);this.Yu.splice(i,1),s.Ql(e),e.m&&e.m(),this.uh.K_(),this.zc(s)}Bh(e,r){const i=ut(this.Hn(e));i.Ql(e,!0),i.Gl(e,r,!0)}Au(){const e=ys.wn();e.rn(),this.rc(e)}Lc(e){const r=ys.wn();r.ln(e),this.rc(r)}cn(){const e=ys.wn();e.cn(),this.rc(e)}dn(e){const r=ys.wn();r.dn(e),this.rc(r)}fn(e){const r=ys.wn();r.fn(e),this.rc(r)}_n(e){const r=ys.wn();r._n(e),this.rc(r)}hn(){const e=ys.wn();e.hn(),this.rc(e)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(e,r){if(gi(r>=0,"Index should be greater or equal to 0"),r===this.Fc(e))return;const i=ut(this.Hn(e));i.Ql(e);const s=this.tc(r);this.Ec(e,s),i.Ma().length===0&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(e){const r=this.ec,i=this.sc;if(r===i)return r;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Zu===null||this.Zu.mr!==i||this.Zu.wr!==r)this.Zu={mr:i,wr:r,Hc:new Map};else{const o=this.Zu.Hc.get(e);if(o!==void 0)return o}const s=this.Sl.tt(i,r,e/100);return this.Zu.Hc.set(e,s),s}Uc(e){return this.qu.indexOf(e)}Xi(){return this.Sl}$c(){return this.qc()}qc(e){const r=new $q(this.uh,this);this.qu.push(r);const i=e??this.qu.length-1,s=ys.gn();return s.Qs(i,{tn:0,sn:!0}),this.rc(s),r}tc(e){return gi(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.qu.length,e))<this.qu.length?this.qu[e]:this.qc(e)}Fc(e){return this.qu.findIndex(r=>r.Oo().includes(e))}gc(e,r){const i=new ys(r);if(e!==null){const s=this.qu.indexOf(e);i.Qs(s,{tn:r})}return i}hc(e,r){return r===void 0&&(r=2),this.gc(this.Hn(e),r)}rc(e){this.Gu&&this.Gu(e),this.qu.forEach(r=>r.i_().lr().yt())}Ec(e,r){const i=e.N().priceScaleId,s=i!==void 0?i:this.Oc();r.Gl(e,s),oE(s)||e.hr(e.N())}nc(e){const r=this.Ps.layout;return r.background.type==="gradient"?e===0?r.background.topColor:r.background.bottomColor:r.background.color}zc(e){!e.Lo()&&e.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(e),1)}}function xme(n){if(n>=1)return 0;let e=0;for(;e<8;e++){const r=Math.round(n);if(Math.abs(r-n)<1e-8)return e;n*=10}return e}function d4(n){return!y0(n)&&!Cx(n)}function _me(n){return y0(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(Wq||(Wq={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(qq||(qq={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(Hq||(Hq={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(Vq||(Vq={}));const Gq=n=>n.getUTCFullYear();function E$e(n,e,r){return e.replace(/yyyy/g,(i=>Fc(Gq(i),4))(n)).replace(/yy/g,(i=>Fc(Gq(i)%100,2))(n)).replace(/MMMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(n,r)).replace(/MMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(n,r)).replace(/MM/g,(i=>Fc((s=>s.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>Fc((s=>s.getUTCDate())(i),2))(n))}class kme{constructor(e="yyyy-MM-dd",r="default"){this.Yc=e,this.jc=r}__(e){return E$e(e,this.Yc,this.jc)}}class A$e{constructor(e){this.Kc=e||"%h:%m:%s"}__(e){return this.Kc.replace("%h",Fc(e.getUTCHours(),2)).replace("%m",Fc(e.getUTCMinutes(),2)).replace("%s",Fc(e.getUTCSeconds(),2))}}const T$e={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class P$e{constructor(e={}){const r={...T$e,...e};this.Qc=new kme(r.Xc,r.Jc),this.td=new A$e(r.Zc),this.sd=r.Gc}__(e){return`${this.Qc.__(e)}${this.sd}${this.td.__(e)}`}}function f_(n){return 60*n*60*1e3}function _3(n){return 60*n*1e3}const p_=[{nd:(Yq=1,1e3*Yq),ed:10},{nd:_3(1),ed:20},{nd:_3(5),ed:21},{nd:_3(30),ed:22},{nd:f_(1),ed:30},{nd:f_(3),ed:31},{nd:f_(6),ed:32},{nd:f_(12),ed:33}];var Yq;function Kq(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let r=p_.length-1;r>=0;--r)if(Math.floor(e.getTime()/p_[r].nd)!==Math.floor(n.getTime()/p_[r].nd))return p_[r].ed;return 0}function k3(n){let e=n;if(Cx(n)&&(e=$9(n)),!d4(e))throw new Error("time must be of type BusinessDay");const r=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{rd:Math.round(r.getTime()/1e3),hd:e}}function Xq(n){if(!_me(n))throw new Error("time must be of type isUTCTimestamp");return{rd:n}}function $9(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Qq(n){Cx(n.time)&&(n.time=$9(n.time))}let Jq=class{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(r){r.forEach(Qq)}(e):Qq(e)}createConverterToInternalObj(e){return ut(function(r){return r.length===0?null:d4(r[0].time)||Cx(r[0].time)?k3:Xq}(e))}key(e){return typeof e=="object"&&"rd"in e?e.rd:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const r=e;return r.hd===void 0?new Date(1e3*r.rd).getTime():new Date(Date.UTC(r.hd.year,r.hd.month-1,r.hd.day)).getTime()}convertHorzItemToInternal(e){return _me(r=e)?Xq(r):d4(r)?k3(r):k3($9(r));var r}updateFormatter(e){if(!this.Ps)return;const r=e.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new P$e({Xc:r,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:e.locale}):this.ad=new kme(r,e.locale)}formatHorzItem(e){const r=e;return this.ad.__(new Date(1e3*r.rd))}formatTickmark(e,r){const i=function(o,a,l){switch(o){case 0:case 10:return a?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return a?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),s=this.Ps.timeScale;if(s.tickMarkFormatter!==void 0){const o=s.tickMarkFormatter(e.originalTime,i,r.locale);if(o!==null)return o}return function(o,a,l){const c={};switch(a){case 0:c.year="numeric";break;case 1:c.month="short";break;case 2:c.day="numeric";break;case 3:c.hour12=!1,c.hour="2-digit",c.minute="2-digit";break;case 4:c.hour12=!1,c.hour="2-digit",c.minute="2-digit",c.second="2-digit"}const u=o.hd===void 0?new Date(1e3*o.rd):new Date(Date.UTC(o.hd.year,o.hd.month-1,o.hd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,c)}(e.time,i,r.locale)}maxTickMarkWeight(e){let r=e.reduce(k$e,e[0]).weight;return r>30&&r<50&&(r=30),r}fillWeightsForPoints(e,r){(function(i,s=0){if(i.length===0)return;let o=s===0?null:i[s-1].time.rd,a=o!==null?new Date(1e3*o):null,l=0;for(let c=s;c<i.length;++c){const u=i[c],d=new Date(1e3*u.time.rd);a!==null&&(u.timeWeight=Kq(d,a)),l+=u.time.rd-(o||u.time.rd),o=u.time.rd,a=d}if(s===0&&i.length>1){const c=Math.ceil(l/(i.length-1)),u=new Date(1e3*(i[0].time.rd-c));i[0].timeWeight=Kq(new Date(1e3*i[0].time.rd),u)}})(e,r)}static ld(e){return co({localization:{dateFormat:"dd MMM 'yy"}},e??{})}};const w0=typeof window<"u";function Zq(){return!!w0&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function S3(){return!!w0&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function h4(n){return n+n%2}function I$e(n){w0&&window.chrome!==void 0&&n.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class cE{constructor(e,r,i){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!S3(),this.Ld=s=>{this.Od(s)},this.Nd=s=>{if(this.Fd(s)){const o=this.Wd(s);if(++this.dd,this.fd&&this.dd>1){const{Hd:a}=this.Ud(rl(s),this.pd);a<30&&!this.Sd&&this.$d(o,this.Yd.qd),this.jd()}}else{const o=this.Wd(s);if(++this.od,this._d&&this.od>1){const{Hd:a}=this.Ud(rl(s),this.ud);a<5&&!this.bd&&this.Kd(o,this.Yd.Xd),this.Zd()}}},this.Gd=e,this.Yd=r,this.Ps=i,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(e){this.yd&&this.yd();const r=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",r)},this.Gd.addEventListener("mousemove",r),this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(e){if(this.Id||this.gd!==null||this.Fd(e))return;const r=this.Wd(e);this.Kd(r,this.Yd.nf),this.zd=!0}ef(e){const r=C3(e.changedTouches,ut(this.Ad));if(r===null||(this.Ed=m_(e),this.Rd!==null)||this.Bd)return;this.Vd=!0;const i=this.Ud(rl(r),ut(this.gd)),{rf:s,hf:o,Hd:a}=i;if(this.Md||!(a<5)){if(!this.Md){const l=.5*s,c=o>=l&&!this.Ps.af(),u=l>o&&!this.Ps.lf();c||u||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const l=this.Wd(e,r);this.$d(l,this.Yd._f),rm(e)}}}uf(e){if(e.button!==0)return;const r=this.Ud(rl(e),ut(this.wd)),{Hd:i}=r;if(i>=5&&(this.bd=!0,this.Zd()),this.bd){const s=this.Wd(e);this.Kd(s,this.Yd.cf)}}Ud(e,r){const i=Math.abs(r._t-e._t),s=Math.abs(r.ut-e.ut);return{rf:i,hf:s,Hd:i+s}}df(e){let r=C3(e.changedTouches,ut(this.Ad));if(r===null&&e.touches.length===0&&(r=e.changedTouches[0]),r===null)return;this.Ad=null,this.Ed=m_(e),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const i=this.Wd(e,r);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:s}=this.Ud(rl(r),this.pd);s<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&rm(e));this.dd===0&&rm(e),e.touches.length===0&&this.md&&(this.md=!1,rm(e))}Od(e){if(e.button!==0)return;const r=this.Wd(e);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),Zq()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(e))if(this.Kd(r,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:i}=this.Ud(rl(e),this.ud);i<5&&!this.bd&&this.Kd(r,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(r,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(e){if(this.Ad!==null)return;const r=e.changedTouches[0];this.Ad=r.identifier,this.Ed=m_(e);const i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=rl(r),this.Td&&(this.Td(),this.Td=null);{const o=this.ef.bind(this),a=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",o),i.removeEventListener("touchend",a)},i.addEventListener("touchmove",o,{passive:!1}),i.addEventListener("touchend",a,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,e),240)}const s=this.Wd(e,r);this.$d(s,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=rl(r))}bf(e){if(e.button!==0)return;const r=this.Gd.ownerDocument.documentElement;Zq()&&r.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=rl(e),this.kd&&(this.kd(),this.kd=null);{const s=this.uf.bind(this),o=this.Od.bind(this);this.kd=()=>{r.removeEventListener("mousemove",s),r.removeEventListener("mouseup",o)},r.addEventListener("mousemove",s),r.addEventListener("mouseup",o)}if(this.Id=!0,this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=rl(e))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const e=this.Gd.ownerDocument,r=i=>{this.Yd.xf&&(i.composed&&this.Gd.contains(i.composedPath()[0])||i.target&&this.Gd.contains(i.target)||this.Yd.xf())};this.Cd=()=>{e.removeEventListener("touchstart",r)},this.xd=()=>{e.removeEventListener("mousedown",r)},e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0})}S3()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),I$e(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",()=>{},{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",e=>this.Rf(e.touches),{passive:!0}),this.Gd.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const r=eH(e.touches[0],e.touches[1])/this.Dd;this.Yd.kf(this.Rd,r),rm(e)}},{passive:!1}),this.Gd.addEventListener("touchend",e=>{this.Rf(e.touches)}))}Rf(e){e.length===1&&(this.Vd=!1),e.length!==2||this.Vd||this.md?this.Df():this.Vf(e)}Vf(e){const r=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(e[0].clientX-r.left+(e[1].clientX-r.left))/2,ut:(e[0].clientY-r.top+(e[1].clientY-r.top))/2},this.Dd=eH(e[0],e[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(e){if(this.yd&&this.yd(),this.Fd(e)||!this.zd)return;const r=this.Wd(e);this.Kd(r,this.Yd.Bf),this.zd=!S3()}gf(e){const r=C3(e.touches,ut(this.Ad));if(r===null)return;const i=this.Wd(e,r);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:m_(e)<this.Ed+500}$d(e,r){r&&r.call(this.Yd,e)}Kd(e,r){r&&r.call(this.Yd,e)}Wd(e,r){const i=r||e,s=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Ef:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Af:e.type,zf:i.target,a_:e.view,Lf:()=>{e.type!=="touchstart"&&rm(e)}}}}function eH(n,e){const r=n.clientX-e.clientX,i=n.clientY-e.clientY;return Math.sqrt(r*r+i*i)}function rm(n){n.cancelable&&n.preventDefault()}function rl(n){return{_t:n.pageX,ut:n.pageY}}function m_(n){return n.timeStamp||performance.now()}function C3(n,e){for(let r=0;r<n.length;++r)if(n[r].identifier===e)return n[r];return null}class M$e{constructor(e,r,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=e,this.Uf=e.$f()[r],this.qf=e.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return $n({width:this.Uf.Gf().width,height:1})}Jf(){return $n({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(e,r,i){const s=this.Jf();e.fillStyle=this.Hf.N().layout.panes.separatorColor,e.fillRect(r,i,s.width,s.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const e=document.createElement("div"),r=e.style;r.position="fixed",r.display="none",r.zIndex="49",r.top="0",r.left="0",r.width="100%",r.height="100%",r.cursor="row-resize",this.jf.appendChild(e);const i=document.createElement("div"),s=i.style;s.position="absolute",s.zIndex="50",s.top="-4px",s.height="9px",s.width="100%",s.backgroundColor="",s.cursor="row-resize",this.jf.appendChild(i);const o={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new cE(i,o,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:e}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(e){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(e){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(e){if(this.Of===null)return;const r=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=r/(this.Uf.Gf().height+this.qf.Gf().height),s=30*i;r<=2*s||(this.Wf={lp:e.pageY,op:this.Uf.ap().Bo(),_p:r-s,up:r,cp:i,dp:s},this.Of.tp.style.display="block")}rp(e){const r=this.Wf;if(r===null)return;const i=(e.pageY-r.lp)*r.cp,s=Jy(r.op+i,r.dp,r._p);this.Uf.ap().Io(s),this.qf.ap().Io(r.up-s),this.Hf.Qt().Ih()}hp(e){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function E3(n,e){return n.fp-e.fp}function A3(n,e,r){const i=(n.fp-e.fp)/(n.wt-e.wt);return Math.sign(i)*Math.min(Math.abs(i),r)}class O$e{constructor(e,r,i,s){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=e,this.xp=r,this.Cp=i,this.Mn=s}Pp(e,r){if(this.pp!==null){if(this.pp.wt===r)return void(this.pp.fp=e);if(Math.abs(this.pp.fp-e)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:r,fp:e}}le(e,r){if(this.pp===null||this.vp===null||r-this.pp.wt>50)return;let i=0;const s=A3(this.pp,this.vp,this.xp),o=E3(this.pp,this.vp),a=[s],l=[o];if(i+=o,this.mp!==null){const u=A3(this.vp,this.mp,this.xp);if(Math.sign(u)===Math.sign(s)){const d=E3(this.vp,this.mp);if(a.push(u),l.push(d),i+=d,this.wp!==null){const h=A3(this.mp,this.wp,this.xp);if(Math.sign(h)===Math.sign(s)){const f=E3(this.mp,this.wp);a.push(h),l.push(f),i+=f}}}}let c=0;for(let u=0;u<a.length;++u)c+=l[u]/i*a[u];Math.abs(c)<this.Sp||(this.gp={fp:e,wt:r},this.bp=c,this.Mp=function(u,d){const h=Math.log(d);return Math.log(1*h/-u)/h}(Math.abs(c),this.Cp))}Du(e){const r=ut(this.gp),i=e-r.wt;return r.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(e){return this.gp===null||this.yp(e)===this.Mp}yp(e){const r=e-ut(this.gp).wt;return Math.min(r,this.Mp)}}class D$e{constructor(e,r){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=e,this.Vp=r,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function Qf(n,e){const r=ut(n.ownerDocument).createElement("canvas");n.appendChild(r);const i=yFe(r,{options:{allowResizeObserver:!0},transform:(s,o)=>({width:Math.max(s.width,o.width),height:Math.max(s.height,o.height)})});return i.resizeCanvasElement(e),i}function Jf(n){var e;n.width=1,n.height=1,(e=n.getContext("2d"))==null||e.clearRect(0,0,1,1)}function f4(n,e,r,i){n.ih&&n.ih(e,r,i)}function kk(n,e,r,i){n.nt(e,r,i)}function p4(n,e,r,i){const s=n(r,i);for(const o of s){const a=o.Tt(i);a!==null&&e(a)}}function T3(n,e){return r=>{var i,s;return function(o){return o.Ft!==void 0}(r)?(((i=r.Ft())==null?void 0:i.ma())??"")!==e?[]:((s=r.ta)==null?void 0:s.call(r,n))??[]:[]}}function tH(n,e,r,i){if(!n.length)return;let s=0;const o=n[0].$t(i,!0);let a=e===1?r/2-(n[0].Fi()-o/2):n[0].Fi()-o/2-r/2;a=Math.max(0,a);for(let l=1;l<n.length;l++){const c=n[l],u=n[l-1],d=u.$t(i,!1),h=c.Fi(),f=u.Fi();if(e===1?h>f-d:h<f+d){const p=f-d*e;c.Wi(p);const m=p-e*d/2;if((e===1?m<0:m>r)&&a>0){const b=e===1?-1-m:m-r,y=Math.min(b,a);for(let v=s;v<n.length;v++)n[v].Wi(n[v].Fi()+e*y);a-=y}}else s=l,a=e===1?f-d-h:h-(f+d)}}class nH{constructor(e,r,i,s){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new YS(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=e,this.Ps=r,this.Ml=r.layout,this.Ju=i,this.jp=s==="left",this.Kp=T3("normal",s),this.Xp=T3("top",s),this.Zp=T3("bottom",s),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=Qf(this.jf,$n({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const o=this.Gp.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Jp=Qf(this.jf,$n({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const a=this.Jp.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const l={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new cE(this.Jp.canvasElement,l,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Jf(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Jf(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const e=this.Ju.N();return this.Wp!==e.k&&(this.Fp.Bn(),this.Wp=e.k),e}nv(){if(this.Yi===null)return 0;let e=0;const r=this.sv(),i=ut(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));i.save();const s=this.Yi.Da();i.font=this.ev(),s.length>0&&(e=Math.max(this.Fp.Vi(i,s[0].Za),this.Fp.Vi(i,s[s.length-1].Za)));const o=this.rv();for(let u=o.length;u--;){const d=this.Fp.Vi(i,o[u].ri());d>e&&(e=d)}const a=this.Yi.zt();if(a!==null&&this.Op!==null&&(l=this.Ps.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const u=this.Yi.Ts(1,a),d=this.Yi.Ts(this.Op.height-2,a);e=Math.max(e,this.Fp.Vi(i,this.Yi.Zi(Math.floor(Math.min(u,d))+.11111111111111,a)),this.Fp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(u,d))-.11111111111111,a)))}var l;i.restore();const c=e||34;return h4(Math.ceil(r.S+r.C+r.B+r.I+5+c))}hv(e){this.Op!==null&&Af(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`)}av(){return ut(this.Op).width}_s(e){this.Yi!==e&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=e,e.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const e=this.Pt.ap();this.Pt.qp().Qt().Zo(e,ut(this.Ft()))}lv(e){if(this.Op===null)return;const r={colorSpace:this.Pt.qp().N().layout.colorSpace};if(e!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const s=Xf(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o),this.uv(o)}),this.Pt.cv(s,this.Zp),this.dv(s),this.Pt.cv(s,this.Kp),this.fv(s))}this.Jp.applySuggestedBitmapSize();const i=Xf(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e.drawImage(a,r,i)}}yt(){var e;(e=this.Yi)==null||e.Da()}ep(e){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,r.Uo(i,this.Yi,e.localY)}rp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap(),s=this.Yi;r.$o(i,s,e.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),r=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,e.qo(r,i))}hp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,r.qo(i,this.Yi)}tv(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(e){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(e){this.vv(0)}rv(){const e=[],r=this.Yi===null?void 0:this.Yi;return(i=>{for(let s=0;s<i.length;++s){const o=i[s].Ws(this.Pt.ap(),r);for(let a=0;a<o.length;a++)e.push(o[a])}})(this.Pt.ap().Dt()),e}_v({context:e,bitmapSize:r}){const{width:i,height:s}=r,o=this.Pt.ap().Qt(),a=o.$(),l=o.Wc();a===l?iE(e,0,0,i,s,a):cme(e,0,0,i,s,a,l)}uv({context:e,bitmapSize:r,horizontalPixelRatio:i}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const s=Math.max(1,Math.floor(this.sv().S*i));let o;o=this.jp?r.width-s:0,e.fillRect(o,0,s,r.height)}dv(e){if(this.Op===null||this.Yi===null)return;const r=this.Yi.Da(),i=this.Yi.N(),s=this.sv(),o=this.jp?this.Op.width-s.C:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:c})=>{a.fillStyle=i.borderColor;const u=Math.max(1,Math.floor(c)),d=Math.floor(.5*c),h=Math.round(s.C*l);a.beginPath();for(const f of r)a.rect(Math.floor(o*l),Math.round(f.Pa*c)-d,h,u);a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{a.font=this.ev(),a.fillStyle=i.textColor??this.Ml.textColor,a.textAlign=this.jp?"right":"left",a.textBaseline="middle";const l=this.jp?Math.round(o-s.B):Math.round(o+s.C+s.B),c=r.map(u=>this.Fp.Di(a,u.Za));for(let u=r.length;u--;){const d=r[u];a.fillText(d.Za,l,d.Pa+c[u])}})}ov(){if(this.Op===null||this.Yi===null)return;let e=this.Op.height/2;const r=[],i=this.Yi.Dt().slice(),s=this.Pt.ap(),o=this.sv();this.Yi===s.$n()&&this.Pt.ap().Dt().forEach(c=>{s.Un(c)&&i.push(c)});const a=this.Yi.Ma()[0],l=this.Yi;i.forEach(c=>{const u=c.Ws(s,l);u.forEach(d=>{d.Wi(null),d.Hi()&&r.push(d)}),a===c&&u.length>0&&(e=u[0].Ii())}),r.forEach(c=>c.Wi(c.Ii())),this.Yi.N().alignLabels&&this.mv(r,o,e)}mv(e,r,i){if(this.Op===null)return;const s=e.filter(a=>a.Ii()<=i),o=e.filter(a=>a.Ii()>i);s.sort((a,l)=>l.Ii()-a.Ii()),s.length&&o.length&&o.push(s[0]),o.sort((a,l)=>a.Ii()-l.Ii());for(const a of e){const l=Math.floor(a.$t(r)/2),c=a.Ii();c>-l&&c<l&&a.Wi(l),c>this.Op.height-l&&c<this.Op.height+l&&a.Wi(this.Op.height-l)}tH(s,1,this.Op.height,r),tH(o,-1,this.Op.height,r)}fv(e){if(this.Op===null)return;const r=this.rv(),i=this.sv(),s=this.jp?"right":"left";r.forEach(o=>{o.Ui()&&o.Tt(ut(this.Yi)).nt(e,i,this.Fp,s)})}pv(e){if(this.Op===null||this.Yi===null)return;const r=this.Pt.qp().Qt(),i=[],s=this.Pt.ap(),o=r.uc().Ws(s,this.Yi);o.length&&i.push(o);const a=this.sv(),l=this.jp?"right":"left";i.forEach(c=>{c.forEach(u=>{u.Tt(ut(this.Yi)).nt(e,a,this.Fp,l)})})}vv(e){this.jf.style.cursor=e===1?"ns-resize":"default"}_l(){const e=this.nv();this.Hp<e&&this.Pt.qp().Qt().Ih(),this.Hp=e}ev(){return GS(this.Ml.fontSize,this.Ml.fontFamily)}}function R$e(n,e){var r;return((r=n.Jh)==null?void 0:r.call(n,e))??[]}function rH(n,e){var r;return((r=n.Fs)==null?void 0:r.call(n,e))??[]}function iH(n,e){var r;return((r=n.us)==null?void 0:r.call(n,e))??[]}function N$e(n,e){var r;return((r=n.Xh)==null?void 0:r.call(n,e))??[]}class z9{constructor(e,r){this.Op=$n({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new Or,this.Cv=new Or,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=e,this.Vv=r,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=Qf(i,$n({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const s=this.Gp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jp=Qf(i,$n({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const o=this.Jp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new cE(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Jf(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Jf(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return ut(this.Vv)}Lv(e){var r;this.Vv!==null&&this.Vv.t_().u(this),this.Vv=e,this.Vv!==null&&this.Vv.t_().i(z9.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new D$e(this.Iv,this.Vp),this.Mv.yt()):((r=this.Mv)==null||r.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const e=this.Vv.Wo();this.wv._s(ut(e))}if(this.gv!==null){const e=this.Vv.Ho();this.gv._s(ut(e))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(e){this.Vv&&this.Vv.Io(e)}sf(e){if(!this.Vv)return;this.Fv();const r=e.localX,i=e.localY;this.Wv(r,i,e)}Sf(e){this.Fv(),this.Hv(),this.Wv(e.localX,e.localY,e)}nf(e){if(!this.Vv)return;this.Fv();const r=e.localX,i=e.localY;this.Wv(r,i,e)}mf(e){this.Vv!==null&&(this.Fv(),this.Uv(e))}Xd(e){this.Vv!==null&&this.$v(this.Cv,e)}qd(e){this.Xd(e)}cf(e){this.Fv(),this.qv(e),this.Wv(e.localX,e.localY,e)}vf(e){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(e))}pf(e){this.Vv!==null&&this.Uv(e)}If(e){if(this.yv=!0,this.kv===null){const r={x:e.localX,y:e.localY};this.jv(r,r,e)}}Bf(e){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(e,r){if(!this.Vp.N().handleScale.pinch)return;const i=5*(r-this.Pv);this.Pv=r,this.ts().bc(e._t,i)}Mf(e){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const r=this.ts().uc();this.kv!==null&&r.Vt()&&(this.Rv={x:r.si(),y:r.ni()},this.kv={x:e.localX,y:e.localY})}_f(e){if(this.Vv===null)return;const r=e.localX,i=e.localY;if(this.kv===null)this.qv(e);else{this.Tv=!1;const s=ut(this.Rv),o=s.x+(r-this.kv.x),a=s.y+(i-this.kv.y);this.Wv(o,a,e)}}ff(e){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(e)}jn(e,r){const i=this.Vv;return i===null?null:wme(i,e,r)}Jv(e,r){ut(r==="left"?this.wv:this.gv).hv($n({width:e,height:this.Op.height}))}Gf(){return this.Op}hv(e){Af(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.Iv.style.width=e.width+"px",this.Iv.style.height=e.height+"px")}Qv(){const e=ut(this.Vv);e.Fo(e.Wo()),e.Fo(e.Ho());for(const r of e.Ma())if(e.Un(r)){const i=r.Ft();i!==null&&e.Fo(i),r.Ns()}for(const r of e.s_())r.Ns()}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e!==null&&e.drawImage(a,r,i)}}lv(e){if(e===0||this.Vv===null)return;e>1&&this.Qv(),this.wv!==null&&this.wv.lv(e),this.gv!==null&&this.gv.lv(e);const r={colorSpace:this.Vp.N().layout.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const s=Xf(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o)}),this.Vv&&(this.tm(s,R$e),this.im(s),this.tm(s,rH),this.tm(s,iH)))}this.Jp.applySuggestedBitmapSize();const i=Xf(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.sm(i),this.tm(i,N$e),this.tm(i,iH))}nm(){return this.wv}rm(){return this.gv}cv(e,r){this.tm(e,r)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(e){this.$v(this.xv,e)}$v(e,r){const i=r.localX,s=r.localY;e.v()&&e.p(this.ts().Et().cu(i),{x:i,y:s},r)}_v({context:e,bitmapSize:r}){const{width:i,height:s}=r,o=this.ts(),a=o.$(),l=o.Wc();a===l?iE(e,0,0,i,s,l):cme(e,0,0,i,s,a,l)}im(e){const r=ut(this.Vv),i=r.i_().lr().Tt(r);i!==null&&i.nt(e,!1)}sm(e){this.hm(e,rH,kk,this.ts().uc())}tm(e,r){const i=ut(this.Vv),s=i.Dt(),o=i.s_();for(const a of o)this.hm(e,r,f4,a);for(const a of s)this.hm(e,r,f4,a);for(const a of o)this.hm(e,r,kk,a);for(const a of s)this.hm(e,r,kk,a)}hm(e,r,i,s){const o=ut(this.Vv),a=o.Qt().ac(),l=a!==null&&a.n_===s,c=a!==null&&l&&a.e_!==void 0?a.e_.Xn:void 0;p4(r,u=>i(u,e,l,c),s,o)}Ov(){if(this.Vv===null)return;const e=this.Vp,r=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;r||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const s=e.Qt().Bc();r&&this.wv===null&&(this.wv=new nH(this,e.N(),s,"left"),this.Ev.appendChild(this.wv.Zf())),i&&this.gv===null&&(this.gv=new nH(this,e.N(),s,"right"),this.Av.appendChild(this.gv.Zf()))}am(e){return e.Ef&&this.yv||this.kv!==null}lm(e){return Math.max(0,Math.min(e,this.Op.width-1))}om(e){return Math.max(0,Math.min(e,this.Op.height-1))}Wv(e,r,i){this.ts().Tc(this.lm(e),this.om(r),i,ut(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(e,r,i){this.kv=e,this.Tv=!1,this.Wv(r.x,r.y,i);const s=this.ts().uc();this.Rv={x:s.si(),y:s.ni()}}ts(){return this.Vp.Qt()}Yv(e){if(!this.Sv)return;const r=this.ts(),i=this.ap();if(r.Ko(i,i.ks()),this.bv=null,this.Sv=!1,r.Pc(),this.Dv!==null){const s=performance.now(),o=r.Et();this.Dv.le(o.gu(),s),this.Dv.Ru(s)||r._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ut(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(e){if(this.Vv===null)return;const r=this.ts(),i=r.Et();if(i.Ki())return;const s=this.Vp.N(),o=s.handleScroll,a=s.kineticScroll;if((!o.pressedMouseMove||e.Ef)&&(!o.horzTouchDrag&&!o.vertTouchDrag||!e.Ef))return;const l=this.Vv.ks(),c=performance.now();if(this.bv!==null||this.am(e)||(this.bv={x:e.clientX,y:e.clientY,rd:c,_m:e.localX,um:e.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==e.clientX||this.bv.y!==e.clientY)){if(e.Ef&&a.touch||!e.Ef&&a.mouse){const u=i.mu();this.Dv=new O$e(.2/u,7/u,.997,15/u),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;l.Ki()||r.Yo(this.Vv,l,e.localY),r.xc(e.localX),this.Sv=!0}this.Sv&&(l.Ki()||r.jo(this.Vv,l,e.localY),r.Cc(e.localX),this.Dv!==null&&this.Dv.Pp(i.gu(),c))}}class sH{constructor(e,r,i,s,o){this.xt=!0,this.Op=$n({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=e==="left",this.Ju=i.Bc,this.Ps=r,this.dm=s,this.fm=o,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=Qf(this.jf,$n({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Jf(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(e){Af(this.Op,e)||(this.Op=e,this.Gp.resizeCanvasElement(e),this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.xt=!0)}lv(e){if(e<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const r=Xf(this.Gp,{colorSpace:this.Ps.layout.colorSpace});r!==null&&r.useBitmapCoordinateSpace(i=>{this._v(i),this.uv(i)})}Jf(){return this.Gp.bitmapSize}Qf(e,r,i){const s=this.Jf();s.width>0&&s.height>0&&e.drawImage(this.Gp.canvasElement,r,i)}uv({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.dm())return;e.fillStyle=this.Ps.timeScale.borderColor;const o=Math.floor(this.Ju.N().S*i),a=Math.floor(this.Ju.N().S*s),l=this.jp?r.width-o:0;e.fillRect(l,0,o,a)}_v({context:e,bitmapSize:r}){iE(e,0,0,r.width,r.height,this.fm())}}function U9(n){return e=>{var r;return((r=e.ia)==null?void 0:r.call(e,n))??[]}}const j$e=U9("normal"),B$e=U9("top"),L$e=U9("bottom");class F$e{constructor(e,r){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=$n({width:0,height:0}),this.gm=new Or,this.Fp=new YS(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=e,this.o_=r,this.Ps=e.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=Qf(this.Sm,$n({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=Qf(this.Sm,$n({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const s=this.Jp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new cE(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Jf(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Jf(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(e){if(this.wm)return;this.wm=!0;const r=this.Vp.Qt();!r.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&r.Mc(e.localX)}Mf(e){this.Sf(e)}xf(){const e=this.Vp.Qt();!e.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&e.kc())}cf(e){const r=this.Vp.Qt();!r.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&r.yc(e.localX)}_f(e){this.cf(e)}vf(){this.wm=!1;const e=this.Vp.Qt();e.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||e.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(e,r,i){Af(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.gm.p(e)),this.pm!==null&&this.pm.hv($n({width:r,height:e.height})),this.vm!==null&&this.vm.hv($n({width:i,height:e.height}))}Tm(){const e=this.Rm();return Math.ceil(e.S+e.C+e.P+e.A+e.V+e.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e.drawImage(a,r,i)}}lv(e){if(e===0)return;const r={colorSpace:this.Ps.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const s=Xf(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o),this.uv(o),this.Vm(s,L$e)}),this.dv(s),this.Vm(s,j$e)),this.pm!==null&&this.pm.lv(e),this.vm!==null&&this.vm.lv(e)}this.Jp.applySuggestedBitmapSize();const i=Xf(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,B$e))}Vm(e,r){const i=this.Vp.Qt().js();for(const s of i)p4(r,o=>f4(o,e,!1,void 0),s,void 0);for(const s of i)p4(r,o=>kk(o,e,!1,void 0),s,void 0)}_v({context:e,bitmapSize:r}){iE(e,0,0,r.width,r.height,this.Vp.Qt().Wc())}uv({context:e,bitmapSize:r,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){e.fillStyle=this.Im();const s=Math.max(1,Math.floor(this.Rm().S*i));e.fillRect(0,0,r.width,s)}}dv(e){const r=this.Vp.Qt().Et(),i=r.Da();if(!i||i.length===0)return;const s=this.o_.maxTickMarkWeight(i),o=this.Rm(),a=r.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:c,verticalPixelRatio:u})=>{l.strokeStyle=this.Im(),l.fillStyle=this.Im();const d=Math.max(1,Math.floor(c)),h=Math.floor(.5*c);l.beginPath();const f=Math.round(o.C*u);for(let p=i.length;p--;){const m=Math.round(i[p].coord*c);l.rect(m-h,0,d,f)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const c=o.S+o.C+o.A+o.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this.ev();for(const u of i)if(u.weight<s){const d=u.needAlignCoordinate?this.Em(l,u.coord,u.label):u.coord;l.fillText(u.label,d,c)}this.Vp.N().timeScale.allowBoldLabels&&(l.font=this.Am());for(const u of i)if(u.weight>=s){const d=u.needAlignCoordinate?this.Em(l,u.coord,u.label):u.coord;l.fillText(u.label,d,c)}})}Em(e,r,i){const s=this.Fp.Vi(e,i),o=s/2,a=Math.floor(r-o)+.5;return a<0?r+=Math.abs(0-a):a+s>this.Op.width&&(r-=Math.abs(this.Op.width-(a+s))),r}Bm(e,r){const i=this.Rm();for(const s of e)for(const o of s.cs())o.Tt().nt(r,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return GS(this.F(),this.Ps.fontFamily)}Am(){return GS(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new YS,Dm:0});const e=this.M,r=this.ev();if(e.k!==r){const i=this.F();e.P=i,e.k=r,e.A=3*i/12,e.V=3*i/12,e.Ji=9*i/12,e.L=0,e.Dm=4*i/12,e.Gi.Bn()}return this.M}vv(e){this.jf.style.cursor=e===1?"ew-resize":"default"}xm(){const e=this.Vp.Qt(),r=e.N();r.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),r.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const i={Bc:this.Vp.Qt().Bc()},s=()=>r.leftPriceScale.borderVisible&&e.Et().N().borderVisible,o=()=>e.Wc();r.leftPriceScale.visible&&this.pm===null&&(this.pm=new sH("left",r,i,s,o),this.Mm.appendChild(this.pm.Zf())),r.rightPriceScale.visible&&this.vm===null&&(this.vm=new sH("right",r,i,s,o),this.bm.appendChild(this.vm.Zf()))}}var hse;const $$e=!!w0&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!w0&&((hse=navigator==null?void 0:navigator.userAgentData)!=null&&hse.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class z$e{constructor(e,r,i){var s;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new Or,this.Cv=new Or,this.Xu=new Or,this.Um=null,this.$m=null,this.Dp=e,this.Ps=r,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(s=this.kp).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),P3(this.Ps)&&this.Km(!0),this.ts=new C$e(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new F$e(this,this.o_),this.qm.appendChild(this.Zm.Zf());const o=r.autoSize&&this.Gm();let a=this.Ps.width,l=this.Ps.height;if(o||a===0||l===0){const c=e.getBoundingClientRect();a=a||c.width,l=l||c.height}this.Jm(a,l),this.Qm(),e.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const e of this.zm)this.qm.removeChild(e.Zf()),e.Xv().u(this),e.Zv().u(this),e.m();this.zm=[];for(const e of this.Lm)this.sw(e);this.Lm=[],ut(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(e,r,i=!1){if(this.il===r&&this.Mo===e)return;const s=function(l){const c=Math.floor(l.width),u=Math.floor(l.height);return $n({width:c-c%2,height:u-u%2})}($n({width:e,height:r}));this.il=s.height,this.Mo=s.width;const o=this.il+"px",a=this.Mo+"px";ut(this.kp).style.height=o,ut(this.kp).style.width=a,this.qm.style.height=o,this.qm.style.width=a,i?this.ew(ys.gn(),performance.now()):this.ts.Ih()}lv(e){e===void 0&&(e=ys.gn());for(let r=0;r<this.zm.length;r++)this.zm[r].lv(e.en(r).tn);this.Ps.timeScale.visible&&this.Zm.lv(e.nn())}hr(e){var s;const r=P3(this.Ps);this.ts.hr(e);const i=P3(this.Ps);i!==r&&this.Km(i),(s=e.layout)!=null&&s.panes&&this.rw(),this.tw(),this.hw(e)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(e=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const r=this.lw(null),i=document.createElement("canvas");i.width=r.width,i.height=r.height;const s=ut(i.getContext("2d"));return this.lw(s,e),i}ow(e){return e==="left"&&!this._w()||e==="right"&&!this.uw()||this.zm.length===0?0:ut(e==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(e){this.$m=e,this.$m?this.ip().style.setProperty("cursor",e):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(e){return Ns(this.zm[e]).Gf()}rw(){this.Lm.forEach(e=>{e.yt()})}hw(e){(e.autoSize!==void 0||!this.Um||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Um&&this.Gm(),e.autoSize===!1&&this.Um!==null&&this.nw(),e.autoSize||e.width===void 0&&e.height===void 0||this.Jm(e.width||this.Mo,e.height||this.il))}lw(e,r){let i=0,s=0;const o=this.zm[0],a=(c,u)=>{let d=0;for(let h=0;h<this.zm.length;h++){const f=this.zm[h],p=ut(c==="left"?f.nm():f.rm()),m=p.Jf();if(e!==null&&p.Qf(e,u,d,r),d+=m.height,h<this.zm.length-1){const b=this.Lm[h],y=b.Jf();e!==null&&b.Qf(e,u,d),d+=y.height}}};this._w()&&(a("left",0),i+=ut(o.nm()).Jf().width);for(let c=0;c<this.zm.length;c++){const u=this.zm[c],d=u.Jf();if(e!==null&&u.Qf(e,i,s,r),s+=d.height,c<this.zm.length-1){const h=this.Lm[c],f=h.Jf();e!==null&&h.Qf(e,i,s),s+=f.height}}i+=o.Jf().width,this.uw()&&(a("right",i),i+=ut(o.rm()).Jf().width);const l=(c,u,d)=>{ut(c==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(ut(e),u,d)};if(this.Ps.timeScale.visible){const c=this.Zm.Jf();if(e!==null){let u=0;this._w()&&(l("left",u,s),u=ut(o.nm()).Jf().width),this.Zm.Qf(e,u,s,r),u+=c.width,this.uw()&&l("right",u,s)}s+=c.height}return $n({width:i,height:s})}mw(){let e=0,r=0,i=0;for(const y of this.zm)this._w()&&(r=Math.max(r,ut(y.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(i=Math.max(i,ut(y.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),e+=y.Bo();r=h4(r),i=h4(i);const s=this.Mo,o=this.il,a=Math.max(s-r-i,0),l=1*this.Lm.length,c=this.Ps.timeScale.visible;let u=c?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var d;u=(d=u)+d%2;const h=l+u,f=o<h?0:o-h,p=f/e;let m=0;const b=window.devicePixelRatio||1;for(let y=0;y<this.zm.length;++y){const v=this.zm[y];v.Lv(this.ts.$s()[y]);let w=0,_=0;_=y===this.zm.length-1?Math.ceil((f-m)*b)/b:Math.round(v.Bo()*p*b)/b,w=Math.max(_,2),m+=w,v.hv($n({width:a,height:w})),this._w()&&v.Jv(r,"left"),this.uw()&&v.Jv(i,"right"),v.ap()&&this.ts.dc(v.ap(),w)}this.Zm.km($n({width:c?a:0,height:u}),c?r:0,c?i:0),this.ts.Eo(a),this.Nm!==r&&(this.Nm=r),this.Fm!==i&&(this.Fm=i)}Km(e){e?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return $$e?1/window.devicePixelRatio:1}jm(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const r=this.ww(e),i=r*e.deltaX/100,s=-r*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.Ps.handleScale.mouseWheel){const o=Math.sign(s)*Math.min(1,Math.abs(s)),a=e.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(a,o)}i!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(e,r){var s;const i=e.nn();i===3&&this.gw(),i!==3&&i!==2||(this.Mw(e),this.bw(e,r),this.Zm.yt(),this.zm.forEach(o=>{o.Nv()}),((s=this.Wm)==null?void 0:s.nn())===3&&(this.Wm.vn(e),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,r),e=this.Wm,this.Wm=null)),this.lv(e)}bw(e,r){for(const i of e.pn())this.mn(i,r)}Mw(e){const r=this.ts.$s();for(let i=0;i<r.length;i++)e.en(i).sn&&r[i].Go()}mn(e,r){const i=this.ts.Et();switch(e.an){case 0:i.Au();break;case 1:i.zu(e.Wt);break;case 2:i.dn(e.Wt);break;case 3:i.fn(e.Wt);break;case 4:i.Su();break;case 5:e.Wt.Ru(r)||i.fn(e.Wt.Du(r))}}Gu(e){this.Wm!==null?this.Wm.vn(e):this.Wm=e,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame(r=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const i=this.Wm;this.Wm=null,this.ew(i,r);for(const s of i.pn())if(s.an===5&&!s.Wt.Ru(r)){this.Qt()._n(s.Wt);break}}}))}gw(){this.Qm()}sw(e){this.qm.removeChild(e.Zf()),e.m()}Qm(){const e=this.ts.$s(),r=e.length,i=this.zm.length;for(let s=r;s<i;s++){const o=Ns(this.zm.pop());this.qm.removeChild(o.Zf()),o.Xv().u(this),o.Zv().u(this),o.m();const a=this.Lm.pop();a!==void 0&&this.sw(a)}for(let s=i;s<r;s++){const o=new z9(this,e[s]);if(o.Xv().i(this.Sw.bind(this,o),this),o.Zv().i(this.xw.bind(this,o),this),this.zm.push(o),s>0){const a=new M$e(this,s-1,s);this.Lm.push(a),this.qm.insertBefore(a.Zf(),this.Zm.Zf())}this.qm.insertBefore(o.Zf(),this.Zm.Zf())}for(let s=0;s<r;s++){const o=e[s],a=this.zm[s];a.ap()!==o?a.Lv(o):a.zv()}this.tw(),this.mw()}Cw(e,r,i,s){var h;const o=new Map;e!==null&&this.ts.js().forEach(f=>{const p=f.Xs().Fr(e);p!==null&&o.set(f,p)});let a;if(e!==null){const f=(h=this.ts.Et().ss(e))==null?void 0:h.originalTime;f!==void 0&&(a=f)}const l=this.Qt().ac(),c=l!==null&&l.n_ instanceof lE?l.n_:void 0,u=l!==null&&l.e_!==void 0?l.e_.Kn:void 0,d=this.Pw(s);return{yw:a,Re:e??void 0,kw:r??void 0,Tw:d!==-1?d:void 0,Rw:c,Dw:o,Vw:u,Bw:i??void 0}}Pw(e){let r=-1;if(e)r=this.zm.indexOf(e);else{const i=this.Qt().uc().Us();i!==null&&(r=this.Qt().$s().indexOf(i))}return r}Sw(e,r,i,s){this.xv.p(()=>this.Cw(r,i,s,e))}xw(e,r,i,s){this.Cv.p(()=>this.Cw(r,i,s,e))}Xm(e,r,i){var s;this.dw(((s=this.Qt().ac())==null?void 0:s.h_)??null),this.Xu.p(()=>this.Cw(e,r,i))}tw(){const e=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=e}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver(e=>{const r=e[e.length-1];r&&this.Jm(r.contentRect.width,r.contentRect.height)}),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function P3(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function U$e(n){return n.open===void 0&&n.value===void 0}function W$e(n){return function(e){return e.open!==void 0}(n)||function(e){return e.value!==void 0}(n)}function oH(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.color!==void 0&&(o.R=r.color),o}function q$e(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.lineColor!==void 0&&(o.vt=r.lineColor),r.topColor!==void 0&&(o.mr=r.topColor),r.bottomColor!==void 0&&(o.wr=r.bottomColor),o}function H$e(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.topLineColor!==void 0&&(o.gr=r.topLineColor),r.bottomLineColor!==void 0&&(o.Mr=r.bottomLineColor),r.topFillColor1!==void 0&&(o.br=r.topFillColor1),r.topFillColor2!==void 0&&(o.Sr=r.topFillColor2),r.bottomFillColor1!==void 0&&(o.Cr=r.bottomFillColor1),r.bottomFillColor2!==void 0&&(o.Pr=r.bottomFillColor2),o}function V$e(n,e,r,i){const s={Re:e,wt:n,Wt:[r.open,r.high,r.low,r.close],yw:i};return r.color!==void 0&&(s.R=r.color),s}function G$e(n,e,r,i){const s={Re:e,wt:n,Wt:[r.open,r.high,r.low,r.close],yw:i};return r.color!==void 0&&(s.R=r.color),r.borderColor!==void 0&&(s.Ht=r.borderColor),r.wickColor!==void 0&&(s.vr=r.wickColor),s}function Y$e(n,e,r,i,s){const o=Ns(s)(r),a=Math.max(...o),l=Math.min(...o),c=o[o.length-1],u=[c,a,l,c],{time:d,color:h,...f}=r;return{Re:e,wt:n,Wt:u,yw:i,se:f,R:h}}function Gb(n){return n.Wt!==void 0}function aH(n,e){return e.customValues!==void 0&&(n.Iw=e.customValues),n}function Ch(n){return(e,r,i,s,o,a)=>function(l,c){return c?c(l):U$e(l)}(i,a)?aH({wt:e,Re:r,yw:s},i):aH(n(e,r,i,s,o),i)}function lH(n){return{Candlestick:Ch(G$e),Bar:Ch(V$e),Area:Ch(q$e),Baseline:Ch(H$e),Histogram:Ch(oH),Line:Ch(oH),Custom:Ch(Y$e)}[n]}function cH(n){return{Re:0,Ew:new Map,Hh:n}}function uH(n,e){if(n!==void 0&&n.length!==0)return{Aw:e.key(n[0].wt),zw:e.key(n[n.length-1].wt)}}function dH(n){let e;return n.forEach(r=>{e===void 0&&(e=r.yw)}),Ns(e)}class K$e{constructor(e){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=e}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(e,r){let i=this.Lw.size!==0,s=!1;const o=this.Ow.get(e);if(o!==void 0)if(this.Ow.size===1)i=!1,s=!0,this.Lw.clear();else for(const c of this.Fw)c.pointData.Ew.delete(e)&&(s=!0);let a=[];if(r.length!==0){const c=r.map(p=>p.time),u=this.o_.createConverterToInternalObj(r),d=lH(e.Rr()),h=e.ca(),f=e.fa();a=r.map((p,m)=>{const b=u(p.time),y=this.o_.key(b);let v=this.Lw.get(y);v===void 0&&(v=cH(b),this.Lw.set(y,v),s=!0);const w=d(b,v.Re,p,c[m],h,f);return v.Ew.set(e,w),w})}i&&this.Hw(),this.Uw(e,a);let l=-1;if(s){const c=[];this.Lw.forEach(u=>{c.push({timeWeight:0,time:u.Hh,pointData:u,originalTime:dH(u.Ew)})}),c.sort((u,d)=>this.o_.key(u.time)-this.o_.key(d.time)),l=this.$w(c)}return this.qw(e,l,function(c,u,d){const h=uH(c,d),f=uH(u,d);if(h!==void 0&&f!==void 0)return{Yw:!1,zh:h.zw>=f.zw&&h.Aw>=f.Aw}}(this.Ow.get(e),o,this.o_))}Ac(e){return this.Ww(e,[])}jw(e,r,i){const s=r;(function(y){y.yw===void 0&&(y.yw=y.time)})(s),this.o_.preprocessData(r);const o=this.o_.createConverterToInternalObj([r])(r.time),a=this.Nw.get(e);if(!i&&a!==void 0&&this.o_.key(o)<this.o_.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${o}`);let l=this.Lw.get(this.o_.key(o));if(i&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const c=l===void 0;l===void 0&&(l=cH(o),this.Lw.set(this.o_.key(o),l));const u=lH(e.Rr()),d=e.ca(),h=e.fa(),f=u(o,l.Re,r,s.yw,d,h);l.Ew.set(e,f),i?this.Kw(e,f,l.Re):this.Xw(e,f);const p={zh:Gb(f),Yw:i};if(!c)return this.qw(e,-1,p);const m={timeWeight:0,time:l.Hh,pointData:l,originalTime:dH(l.Ew)},b=v0(this.Fw,this.o_.key(m.time),(y,v)=>this.o_.key(y.time)<v);this.Fw.splice(b,0,m);for(let y=b;y<this.Fw.length;++y)g_(this.Fw[y].pointData,y);return this.o_.fillWeightsForPoints(this.Fw,b),this.qw(e,b,p)}Zw(e,r){const i=this.Ow.get(e);if(i===void 0||r<=0)return[[],this.Gw()];r=Math.min(r,i.length);const s=i.splice(-r).reverse();i.length===0?this.Nw.delete(e):this.Nw.set(e,i[i.length-1].wt);for(const o of s){const a=this.Lw.get(this.o_.key(o.wt));if(a&&(a.Ew.delete(e),a.Ew.size===0)){this.Lw.delete(this.o_.key(a.Hh)),this.Fw.splice(a.Re,1);for(let l=a.Re;l<this.Fw.length;++l)g_(this.Fw[l].pointData,l)}}return[s,this.qw(e,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(e,r){let i=this.Ow.get(e);i===void 0&&(i=[],this.Ow.set(e,i));const s=i.length!==0?i[i.length-1]:null;s===null||this.o_.key(r.wt)>this.o_.key(s.wt)?Gb(r)&&i.push(r):Gb(r)?i[i.length-1]=r:i.splice(-1,1),this.Nw.set(e,r.wt)}Kw(e,r,i){const s=this.Ow.get(e);if(s===void 0)return;const o=v0(s,i,(a,l)=>a.Re<l);Gb(r)?s[o]=r:s.splice(o,1)}Uw(e,r){r.length!==0?(this.Ow.set(e,r.filter(Gb)),this.Nw.set(e,r[r.length-1].wt)):(this.Ow.delete(e),this.Nw.delete(e))}Hw(){for(const e of this.Fw)e.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(e.time))}$w(e){let r=-1;for(let i=0;i<this.Fw.length&&i<e.length;++i){const s=this.Fw[i],o=e[i];if(this.o_.key(s.time)!==this.o_.key(o.time)){r=i;break}o.timeWeight=s.timeWeight,g_(o.pointData,i)}if(r===-1&&this.Fw.length!==e.length&&(r=Math.min(this.Fw.length,e.length)),r===-1)return-1;for(let i=r;i<e.length;++i)g_(e[i].pointData,i);return this.o_.fillWeightsForPoints(e,r),this.Fw=e,r}Jw(){if(this.Ow.size===0)return null;let e=0;return this.Ow.forEach(r=>{r.length!==0&&(e=Math.max(e,r[r.length-1].Re))}),e}qw(e,r,i){const s=this.Gw();if(r!==-1)this.Ow.forEach((o,a)=>{s.Oo.set(a,{se:o,Qw:a===e?i:void 0})}),this.Ow.has(e)||s.Oo.set(e,{se:[],Qw:i}),s.Et.tg=this.Fw,s.Et.ig=r;else{const o=this.Ow.get(e);s.Oo.set(e,{se:o||[],Qw:i})}return s}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function g_(n,e){n.Re=e,n.Ew.forEach(r=>{r.Re=e})}function X$e(n,e){return n.wt<e}function Q$e(n,e){return e<n.wt}function J$e(n,e,r){const i=e.Uh(),s=e.bi(),o=v0(n,i,X$e),a=gme(n,s,Q$e);if(!r)return{from:o,to:a};let l=o,c=a;return o>0&&o<n.length&&n[o].wt>=i&&(l=o-1),a>0&&a<n.length&&n[a-1].wt<=s&&(c=a+1),{from:l,to:c}}class Z$e{constructor(e,r,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=e,this.Qn=r,this.ag=i}yt(e){this.sg=!0,e==="data"&&(this.ng=!0),e==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map(e=>({...e,...this.Jn.Rh().Dr(e.wt)}))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const e=this.Jn.Ft(),r=this.Qn.Et();if(this.ug(),r.Ki()||e.Ki())return;const i=r.Pe();if(i===null||this.Jn.Xs().zr()===0)return;const s=this.Jn.zt();s!==null&&(this.hg=J$e(this.rg,i,this.ag),this.fg(e,r,s.Wt),this.pg())}}class eze{constructor(e,r){this.vg=e,this.Yi=r}nt(e,r,i){this.vg.draw(e,this.Yi,r,i)}}class tze extends Z$e{constructor(e,r,i){super(e,r,!1),this.sh=i,this.og=new eze(this.sh.renderer(),s=>{const o=e.zt();return o===null?null:e.Ft().Nt(s,o.Wt)})}da(e){return this.sh.priceValueBuilder(e)}pa(e){return this.sh.isWhitespace(e)}cg(){const e=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(r=>({wt:r.Re,_t:NaN,...e.Dr(r.Re),mg:r.se}))}fg(e,r){r.uu(this.rg,kFe(this.hg))}pg(){this.sh.update({bars:this.rg.map(nze),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function nze(n){return{x:n._t,time:n.wt,originalData:n.mg,barColor:n.cr}}const rze={color:"#2196f3"},ize=(n,e,r)=>{const i=kd(r);return new tze(n,e,i)};function W9(n){const e={value:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(e.customValues=n.Iw),e}function hH(n){const e=W9(n);return n.R!==void 0&&(e.color=n.R),e}function sze(n){const e=W9(n);return n.vt!==void 0&&(e.lineColor=n.vt),n.mr!==void 0&&(e.topColor=n.mr),n.wr!==void 0&&(e.bottomColor=n.wr),e}function oze(n){const e=W9(n);return n.gr!==void 0&&(e.topLineColor=n.gr),n.Mr!==void 0&&(e.bottomLineColor=n.Mr),n.br!==void 0&&(e.topFillColor1=n.br),n.Sr!==void 0&&(e.topFillColor2=n.Sr),n.Cr!==void 0&&(e.bottomFillColor1=n.Cr),n.Pr!==void 0&&(e.bottomFillColor2=n.Pr),e}function Sme(n){const e={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(e.customValues=n.Iw),e}function aze(n){const e=Sme(n);return n.R!==void 0&&(e.color=n.R),e}function lze(n){const e=Sme(n),{R:r,Ht:i,vr:s}=n;return r!==void 0&&(e.color=r),i!==void 0&&(e.borderColor=i),s!==void 0&&(e.wickColor=s),e}function Sk(n){return{Area:sze,Line:hH,Baseline:oze,Histogram:hH,Bar:aze,Candlestick:lze,Custom:cze}[n]}function cze(n){const e=n.yw;return{...n.se,time:e}}const uze={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},dze={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},hze={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:lme,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},I3={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},fze={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function fH(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:hze,crosshair:uze,grid:dze,overlayPriceScales:{...I3},leftPriceScale:{...I3,visible:!1},rightPriceScale:{...I3,visible:!0},timeScale:fze,localization:{locale:w0?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Cme{constructor(e,r,i){this.Hf=e,this.wg=r,this.gg=i??0}applyOptions(e){this.Hf.Qt().oc(this.wg,e,this.gg)}options(){return this.Yi().N()}width(){return oE(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Fl(new as(e.from,e.to))}getVisibleRange(){let e,r,i=this.Yi().Qe();if(i===null)return null;if(this.Yi().Ja()){const s=this.Yi().fo(),o=xme(s);i=Fm(i,this.Yi().tl()),e=Number((Math.round(i.$e()/s)*s).toFixed(o)),r=Number((Math.round(i.qe()/s)*s).toFixed(o))}else e=i.$e(),r=i.qe();return{from:e,to:r}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return ut(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class pze{constructor(e,r,i,s){this.Hf=e,this.Pt=i,this.Mg=r,this.bg=s}getHeight(){return this.Pt.$t()}setHeight(e){const r=this.Hf.Qt(),i=r.Uc(this.Pt);r.vc(i,e)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(e){this.Pt.Io(e),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(e){const r=this.paneIndex();r!==e&&(gi(e>=0&&e<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(r,e))}getSeries(){return this.Pt.Oo().map(e=>this.Mg(e))??[]}getHTMLElement(){const e=this.Hf.$f();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].Zf():null}attachPrimitive(e){this.Pt._a(e),e.attached&&e.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(e){this.Pt.ua(e)}priceScale(e){if(this.Pt.Do(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new Cme(this.Hf,e,this.paneIndex())}setPreserveEmptyPane(e){this.Pt.zo(e)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(e,r={},i=0){return this.bg.addCustomSeries(e,r,i)}addSeries(e,r={}){return this.bg.addSeries(e,r,this.paneIndex())}}const mze={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class pH{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}Sg(){return this.ir}}class gze{constructor(e,r,i,s,o,a){this.xg=new Or,this.Jn=e,this.Cg=r,this.Pg=i,this.o_=o,this.bg=s,this.yg=a}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(e){const r=this.Jn.zt();return r===null?null:this.Jn.Ft().Nt(e,r.Wt)}coordinateToPrice(e){const r=this.Jn.zt();return r===null?null:this.Jn.Ft().Ts(e,r.Wt)}barsInLogicalRange(e){if(e===null)return null;const r=new og(new tv(e.from,e.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;const s=i.Fr(r.Uh(),1),o=i.Fr(r.bi(),-1),a=ut(i.Lr()),l=ut(i.Ks());if(s!==null&&o!==null&&s.Re>o.Re)return{barsBefore:e.from-a,barsAfter:l-e.to};const c={barsBefore:s===null||s.Re===a?e.from-a:s.Re-a,barsAfter:o===null||o.Re===l?l-e.to:l-o.Re};return s!==null&&o!==null&&(c.from=s.yw,c.to=o.yw),c}setData(e){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,e),this.Tg("full")}update(e,r=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,e,r),this.Tg("update")}pop(e=1){const r=this.Cg.Dg(this.Jn,e);r.length!==0&&this.Tg("update");const i=Sk(this.seriesType());return r.map(s=>i(s))}dataByIndex(e,r){const i=this.Jn.Xs().Fr(e,r);return i===null?null:Sk(this.seriesType())(i)}data(){const e=Sk(this.seriesType());return this.Jn.Xs().Hr().map(r=>e(r))}subscribeDataChanged(e){this.xg.i(e)}unsubscribeDataChanged(e){this.xg._(e)}applyOptions(e){this.Jn.hr(e)}options(){return Lc(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(e){const r=co(Lc(mze),e),i=this.Jn.Oh(r);return new pH(i)}removePriceLine(e){this.Jn.Nh(e.Sg())}priceLines(){return this.Jn.Fh().map(e=>new pH(e))}seriesType(){return this.Jn.Rr()}lastValueData(e){const r=this.Jn.ye(e);return r.ke?{noData:!0}:{noData:!1,price:r.gt,color:r.R}}attachPrimitive(e){this.Jn._a(e),e.attached&&e.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(e){this.Jn.ua(e),e.detached&&e.detached(),this.Jn.Qt().Ih()}getPane(){const e=this.Jn,r=ut(this.Jn.Qt().Hn(e));return this.yg(r)}moveToPane(e){this.Jn.Qt().Nc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return e===null?-1:e.Oo().indexOf(this.Jn)}setSeriesOrder(e){const r=this.Jn.Qt().Hn(this.Jn);r!==null&&r.Qo(this.Jn,e)}Tg(e){this.xg.v()&&this.xg.p(e)}}class bze{constructor(e,r,i){this.Vg=new Or,this.z_=new Or,this.gm=new Or,this.ts=e,this.uh=e.Et(),this.Zm=r,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(e,r){r?this.uh.Tu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const e=this.uh.nu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const r={from:this.o_.convertHorzItemToInternal(e.from),to:this.o_.convertHorzItemToInternal(e.to)},i=this.uh.au(r);this.ts.Lc(i)}getVisibleLogicalRange(){const e=this.uh.su();return e===null?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){gi(e.from<=e.to,"The from index cannot be after the to index."),this.ts.Lc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(e){const r=this.ts.Et();return r.Ki()?null:r.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.cu(e)}timeToIndex(e,r){const i=this.o_.convertHorzItemToInternal(e);return this.uh.Q_(i,r)}timeToCoordinate(e){const r=this.timeToIndex(e,!1);return r===null?null:this.uh.qt(r)}coordinateToTime(e){const r=this.ts.Et(),i=r.cu(e),s=r.ss(i);return s===null?null:s.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(e){this.Vg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.Vg._(e)}subscribeVisibleLogicalRangeChange(e){this.z_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.z_._(e)}subscribeSizeChange(e){this.gm.i(e)}unsubscribeSizeChange(e){this.gm._(e)}applyOptions(e){this.uh.hr(e)}options(){return{...Lc(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(e){this.gm.p(e.width,e.height)}}function mH(n){return function(e){if(c_(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:s}=e.handleScale;c_(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),c_(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const r=e.handleScroll;c_(r)&&(e.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})}(n),n}class yze{constructor(e,r,i){this.Ag=new Map,this.zg=new Map,this.Lg=new Or,this.Og=new Or,this.Ng=new Or,this.qu=new WeakMap,this.Fg=new K$e(r);const s=i===void 0?Lc(fH()):co(Lc(fH()),mH(i));this.Wg=r,this.Hf=new z$e(e,s,r),this.Hf.Xv().i(a=>{this.Lg.v()&&this.Lg.p(this.Hg(a()))},this),this.Hf.Zv().i(a=>{this.Og.v()&&this.Og.p(this.Hg(a()))},this),this.Hf.cc().i(a=>{this.Ng.v()&&this.Ng.p(this.Hg(a()))},this);const o=this.Hf.Qt();this.Ug=new bze(o,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(e,r,i){this.autoSizeActive()||this.Hf.Jm(e,r,i)}addCustomSeries(e,r={},i=0){const s=(o=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...rze,...o.defaultOptions()},$g:ize,qg:o}))(kd(e));return this.Yg(s,r,i)}addSeries(e,r={},i=0){return this.Yg(e,r,i)}removeSeries(e){const r=Ns(this.Ag.get(e)),i=this.Fg.Ac(r);this.Hf.Qt().Ac(r),this.jg(i),this.Ag.delete(e),this.zg.delete(r)}kg(e,r){this.jg(this.Fg.Ww(e,r))}Rg(e,r,i){this.jg(this.Fg.jw(e,r,i))}Dg(e,r){const[i,s]=this.Fg.Zw(e,r);return i.length!==0&&this.jg(s),i}subscribeClick(e){this.Lg.i(e)}unsubscribeClick(e){this.Lg._(e)}subscribeCrosshairMove(e){this.Ng.i(e)}unsubscribeCrosshairMove(e){this.Ng._(e)}subscribeDblClick(e){this.Og.i(e)}unsubscribeDblClick(e){this.Og._(e)}priceScale(e,r=0){return new Cme(this.Hf,e,r)}timeScale(){return this.Ug}applyOptions(e){this.Hf.hr(mH(e))}options(){return this.Hf.N()}takeScreenshot(e=!1,r=!1){let i,s;try{r||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),s=this.Hf.aw(e)}finally{r||i===void 0||this.Hf.Qt().hr({crosshair:{mode:i}})}return s}addPane(e=!1){const r=this.Hf.Qt().$c();return r.zo(e),this.Kg(r)}removePane(e){this.Hf.Qt().fc(e)}swapPanes(e,r){this.Hf.Qt().mc(e,r)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map(e=>this.Kg(e))}paneSize(e=0){const r=this.Hf.pw(e);return{height:r.height,width:r.width}}setCrosshairPosition(e,r,i){const s=this.Ag.get(i);if(s===void 0)return;const o=this.Hf.Qt().Hn(s);o!==null&&this.Hf.Qt().Rc(e,r,o)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(e,r={},i=0){gi(e.$g!==void 0),function(c){if(c===void 0||c.type==="custom")return;const u=c;u.minMove!==void 0&&u.precision===void 0&&(u.precision=xme(u.minMove))}(r.priceFormat),e.type==="Candlestick"&&function(c){c.borderColor!==void 0&&(c.borderUpColor=c.borderColor,c.borderDownColor=c.borderColor),c.wickColor!==void 0&&(c.wickUpColor=c.wickColor,c.wickDownColor=c.wickColor)}(r);const s=co(Lc(ome),Lc(e.defaultOptions),r),o=e.$g,a=new lE(this.Hf.Qt(),e.type,s,o,e.qg);this.Hf.Qt().Ic(a,i);const l=new gze(a,this,this,this,this.Wg,c=>this.Kg(c));return this.Ag.set(l,a),this.zg.set(a,l),l}jg(e){const r=this.Hf.Qt();r.Vc(e.Et._u,e.Et.tg,e.Et.ig),e.Oo.forEach((i,s)=>s.ht(i.se,i.Qw)),r.Et().K_(),r.vu()}Xg(e){return Ns(this.zg.get(e))}Hg(e){const r=new Map;e.Dw.forEach((s,o)=>{const a=o.Rr(),l=Sk(a)(s);if(a!=="Custom")gi(W$e(l));else{const c=o.fa();gi(!c||c(l)===!1)}r.set(this.Xg(o),l)});const i=e.Rw!==void 0&&this.zg.has(e.Rw)?this.Xg(e.Rw):void 0;return{time:e.yw,logical:e.Re,point:e.kw,paneIndex:e.Tw,hoveredSeries:i,hoveredObjectId:e.Vw,seriesData:r,sourceEvent:e.Bw}}Kg(e){let r=this.qu.get(e);return r||(r=new pze(this.Hf,i=>this.Xg(i),e,this),this.qu.set(e,r)),r}}function vze(n){if(Cx(n)){const e=document.getElementById(n);return gi(e!==null,`Cannot find element in DOM with id=${n}`),e}return n}function wze(n,e,r){const i=vze(n),s=new yze(i,e,r);return e.setOptions(s.options()),s}function xze(n,e){return wze(n,new Jq,Jq.ld(e))}({...ome});const _ze=A.forwardRef(({initialData:n=[],symbol:e="BTC/USDC",height:r=500,showVolume:i=!0},s)=>{const o=A.useRef(null),a=A.useRef(null),l=A.useRef(null),c=A.useRef(null),[u,d]=A.useState(null),h=b=>{if(b==null)return console.warn("[KlineChart] Invalid price: undefined or null"),0;if(typeof b=="number")return isNaN(b)||!isFinite(b)||b<0?(console.warn("[KlineChart] Invalid price number:",b),0):b;if(typeof b=="string"){if(b.trim()==="")return console.warn("[KlineChart] Invalid price: empty string"),0;try{const y=It(b);return isNaN(y)||!isFinite(y)||y<0?(console.warn("[KlineChart] Invalid price after conversion:",b,"->",y),0):y}catch(y){return console.error("[KlineChart] Error parsing price:",b,y),0}}return console.warn("[KlineChart] Invalid price type:",typeof b,b),0},f=b=>{if(b.open===void 0||b.open===null||b.high===void 0||b.high===null||b.low===void 0||b.low===null||b.close===void 0||b.close===null)return console.warn("[KlineChart] Missing required OHLC fields:",b),null;const y=Math.floor((b.open_time||b.close_time||Date.now())/1e3),v=h(b.open),w=h(b.high),_=h(b.low),x=h(b.close);if(v<=0||w<=0||_<=0||x<=0)return console.warn("[KlineChart] Invalid kline data - non-positive prices detected:",{original:b,parsed:{open:v,high:w,low:_,close:x}}),null;const k=Math.max(v,w,_,x),C=Math.min(v,w,_,x);return(w!==k||_!==C)&&console.warn("[KlineChart] Kline data corrected - high/low were not extremes:",{original:{high:w,low:_},corrected:{high:k,low:C}}),{time:y,open:v,high:k,low:C,close:x}},p=b=>{if(!b.volume)return null;const y=Math.floor((b.open_time||b.close_time||Date.now())/1e3);let v;if(typeof b.volume=="number"){if(isNaN(b.volume)||!isFinite(b.volume)||b.volume<0)return console.warn("[KlineChart] Invalid volume number:",b.volume),null;v=b.volume}else if(typeof b.volume=="string"&&b.volume.trim()!=="")try{if(v=It(b.volume),isNaN(v)||!isFinite(v)||v<0)return console.warn("[KlineChart] Invalid volume after conversion:",b.volume,"->",v),null}catch(k){return console.error("[KlineChart] Error converting volume from satoshi:",b.volume,k),null}else return console.warn("[KlineChart] Invalid volume type:",typeof b.volume,b.volume),null;const w=h(b.close),_=h(b.open);if(w<=0||_<=0)return console.warn("[KlineChart] Invalid prices for volume color calculation:",{open:_,close:w}),null;const x=w>=_;return{time:y,value:v,color:x?"#26a69a80":"#ef535080"}},m=b=>{if(!l.current){console.warn("[KlineChart] updateChart called before chart is initialized");return}if(!b||typeof b!="object"){console.warn("[KlineChart] Invalid kline update data:",b);return}try{const y=f(b);if(!y){console.warn("[KlineChart] Failed to convert kline to bar, skipping update");return}const v=i?p(b):null;l.current.update(y),d(y.close),i&&c.current&&v&&c.current.update(v)}catch(y){console.error("[KlineChart] Error updating chart:",y)}};return A.useImperativeHandle(s,()=>({updateChart:m})),A.useEffect(()=>{if(!o.current)return;if(a.current){try{a.current.remove()}catch(_){console.warn("[KlineChart] Error removing existing chart:",_)}a.current=null,l.current=null,c.current=null}let b=null,y=null,v=null;const w=()=>{if(!o.current)return;const _=o.current,x=_.clientWidth||_.offsetWidth,k=r||500;if(!x||x<100){console.warn("[KlineChart] Container not ready, waiting for layout...",{clientWidth:_.clientWidth,offsetWidth:_.offsetWidth}),y=requestAnimationFrame(w);return}if(k<=0){console.warn("[KlineChart] Invalid height:",k);return}let C,E=null;try{b=xze(_,{width:x,height:k,layout:{background:{color:"#1e1e1e"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2a2e39"},timeScale:{borderColor:"#2a2e39",timeVisible:!0,secondsVisible:!1}}),typeof b.addCandlestickSeries=="function"?C=b.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}):C=b.addSeries("Candlestick",{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),i&&(typeof b.addHistogramSeries=="function"?E=b.addHistogramSeries({color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}):E=b.addSeries("Histogram",{color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}))}catch(T){console.error("[KlineChart] Error creating chart or series:",T);return}if(n.length>0&&C)try{C.setData(n),d(n[n.length-1].close)}catch(T){console.error("[KlineChart] Error setting initial data:",T)}a.current=b,l.current=C,c.current=E,v=()=>{if(o.current&&a.current){const T=o.current.clientWidth||o.current.offsetWidth;T>0&&a.current.applyOptions({width:T})}},window.addEventListener("resize",v)};return w(),()=>{if(y!==null&&cancelAnimationFrame(y),v&&window.removeEventListener("resize",v),b)try{b.remove()}catch(_){console.error("[KlineChart] Error removing chart:",_)}a.current=null,l.current=null,c.current=null}},[r,i]),A.useEffect(()=>{if(l.current&&n.length>0)try{l.current.setData(n),d(n[n.length-1].close)}catch(b){console.error("[KlineChart] Error setting initial data:",b)}},[n]),g.jsxs("div",{style:{position:"relative",width:"100%"},children:[g.jsx("div",{style:{marginBottom:"0.5rem",fontSize:"1.2rem",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:g.jsxs("span",{children:[e," Live Kline Chart",u!==null&&` - Current: $${u.toFixed(2)}`]})}),g.jsx("div",{ref:o,style:{position:"relative",width:"100%"}})]})});_ze.displayName="KlineChart";function Eme(){const n=document.getElementById("tradingview-widget-script");n&&n.parentNode&&n.parentNode.removeChild(n)}function kze(){return new Promise((n,e)=>{if(typeof window.TradingView<"u"){n();return}Eme();const r=document.createElement("script");r.id="tradingview-widget-script",r.src=RNe,r.async=!0,r.onload=()=>{typeof window.TradingView<"u"?n():e(new Error("TradingView script loaded but TradingView object not found"))},r.onerror=()=>{e(new Error("Failed to load TradingView script"))},document.head.appendChild(r)})}function Sze(n){if(typeof window.TradingView>"u")throw new Error("TradingView is not loaded. Call loadTradingViewScript() first.");const e={autosize:n.autosize!==!1,symbol:n.symbol,interval:n.interval,timezone:n.timezone||"Etc/UTC",theme:"dark",style:"1",locale:n.locale||"en",toolbar_bg:"#1a1a1a",enable_publishing:n.enablePublishing||!1,hide_top_toolbar:n.hideTopToolbar||!1,hide_legend:n.hideLegend||!1,save_image:!1,container_id:n.containerId,hide_volume:n.hideVolume||!1,studies:n.studies||["RSI@tv-basicstudies","MASimple@tv-basicstudies"]};return new window.TradingView.widget(e)}function Cze(){return`tradingview-widget-container-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Eze({symbol:n=ONe,interval:e=DNe,isCollapsed:r=!1,className:i=""}){const s=A.useRef(null),o=A.useRef(null),a=A.useRef(Cze());return A.useEffect(()=>{if(r||!s.current)return;s.current&&(s.current.id=a.current);let l=!0;return kze().then(()=>{if(!l||!s.current)return;const c={symbol:n,interval:e,containerId:a.current};o.current=Sze(c)}).catch(c=>{console.error("Failed to load TradingView widget:",c)}),()=>{l=!1,o.current&&(o.current=null)}},[n,e,r]),A.useEffect(()=>()=>{Eme()},[]),r?g.jsx("div",{className:`tradingview-widget-container ${i}`}):g.jsx("div",{className:`tradingview-widget-wrapper ${i}`,children:g.jsx("div",{ref:s,id:a.current,className:"tradingview-widget-container"})})}function Aze({data:n,columns:e,maxItems:r,onItemClick:i,onItemDoubleClick:s,selectedIndex:o,onSelectionChange:a,emptyMessage:l="No items",className:c="",rowHeight:u=20,showHeader:d=!0,resizableColumns:h=!1}){const[f,p]=A.useState(null),[m,b]=A.useState(new Map),[y,v]=A.useState(null),[w,_]=A.useState("asc"),x=A.useRef(null),k=A.useRef(0),C=A.useRef(0),E=A.useMemo(()=>r&&r>0?n.slice(0,r):n,[n,r]),T=A.useMemo(()=>e.map(D=>{const j=m.get(D.key);return j?`${j}px`:D.width?typeof D.width=="number"?`${D.width}px`:D.width:"1fr"}).join(" "),[e,m]),M=A.useMemo(()=>{if(!y)return E;const D=e.find(j=>j.key===y);return!D||!D.sortable?E:[...E].sort((j,N)=>{const R=j[y],H=N[y];if(R===H)return 0;const U=R<H?-1:R>H?1:0;return w==="asc"?U:-U})},[E,y,w,e]),I=D=>{D.sortable&&(y===D.key?_(w==="asc"?"desc":"asc"):(v(D.key),_("asc")))},O=(D,j,N)=>{D.preventDefault(),D.stopPropagation(),p(j),k.current=D.clientX,C.current=N};A.useEffect(()=>{if(!f)return;const D=N=>{const R=N.clientX-k.current,H=Math.max(50,C.current+R),U=e.find(K=>K.key===f);U&&(U.maxWidth&&(H=Math.min(H,U.maxWidth)),U.minWidth&&(H=Math.max(H,U.minWidth))),b(K=>{const Y=new Map(K);return Y.set(f,H),Y})},j=()=>{p(null)};return document.addEventListener("mousemove",D),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",j)}},[f,e]);const F=D=>{const j=m.get(D.key);return j||(typeof D.width=="number"?D.width:150)},$=(D,j)=>{a==null||a(j),i==null||i(D,j)},z=(D,j)=>{s==null||s(D,j)};return g.jsxs("div",{className:`list-view-mac ${c}`,children:[d&&g.jsx("div",{ref:x,className:"list-view-mac-header",style:{gridTemplateColumns:T},children:e.map((D,j)=>{const N=y===D.key,R=F(D);return g.jsxs("div",{className:`list-view-mac-header-cell ${D.sortable?"sortable":""} ${D.align||"left"}`,style:{width:h?`${R}px`:void 0},onClick:()=>I(D),children:[g.jsx("span",{className:"list-view-mac-header-label",children:D.label}),N&&g.jsx("span",{className:"list-view-mac-sort-indicator",children:w==="asc"?"":""}),h&&j<e.length-1&&g.jsx("div",{className:"list-view-mac-resize-handle",onMouseDown:H=>O(H,D.key,R)})]},D.key)})}),g.jsx("div",{className:"list-view-mac-body",children:M.length===0?g.jsx("div",{className:"list-view-mac-empty",children:l}):M.map((D,j)=>{const N=o===j;return g.jsx("div",{className:`list-view-mac-row ${N?"selected":""}`,style:{gridTemplateColumns:T,height:`${u}px`},onClick:()=>$(D,j),onDoubleClick:()=>z(D,j),children:e.map(R=>{const H=F(R);return g.jsx("div",{className:`list-view-mac-cell ${R.align||"left"}`,style:{width:h?`${H}px`:void 0},children:R.render?R.render(D,j):String(D[R.key]??"")},R.key)})},j)})}),r&&n.length>r&&g.jsxs("div",{className:"list-view-mac-footer",children:["Showing ",r," of ",n.length," items"]})]})}function Tze(n){var Me;const[e,r]=A.useState("vertical"),[i,s]=A.useState(!0),[o,a]=A.useState(!1),[l,c]=A.useState("--"),[u,d]=A.useState(void 0),[h,f]=A.useState(!1),[p,m]=A.useState(10),[b,y]=A.useState(!1),[v,w]=A.useState(0),[_,x]=A.useState(0),[k,C]=A.useState("default"),E=A.useRef(null),T=A.useRef(null),M=A.useRef(!1),[I,O]=A.useState(!1),F=A.useRef(!1),$=A.useRef(yp),z=A.useRef(nh),D=A.useRef([]),j=$.current,N=z.current,R=A.useMemo(()=>Qy(k==="default"?Xy:k==="widthfit"?iFe:k==="rightTrade"?sFe:k==="testTrade"?oFe:aFe),[k]),[H,U]=A.useState(()=>Qy(Xy));A.useEffect(()=>{U(R),D.current=R,O(!1),F.current=!1},[R]);const[K,Y]=A.useState(()=>localStorage.getItem("authToken")||""),{markets:Z,selectedMarketId:G,selectedMarketSymbol:X,setSelectedMarketId:ae,loadingMarkets:be,getError:le}=ql({baseURL:j,sessionToken:K,autoFetchMarkets:!0}),{client:J,toggleEnabled:xe}=Kd(),{mnemonic:ge,walletAddress:V,authToken:we,setMnemonic:ze}=yu();A.useEffect(()=>{ge||ze(WC)},[ge,ze]),A.useEffect(()=>{D.current=H},[H]),A.useEffect(()=>{we&&(Y(we),localStorage.setItem("authToken",we))},[we]);const{setAuthToken:et,setWalletAddress:$e}=Kd();A.useEffect(()=>{et(K||void 0)},[K,et]),A.useEffect(()=>{$e(V||void 0)},[V,$e]);const mt=A.useRef(!1);A.useEffect(()=>{K&&K.trim()!==""&&!mt.current&&localStorage.getItem("authToken")!==K&&localStorage.setItem("authToken",K),mt.current=!1},[K]),A.useEffect(()=>{const he=Se=>{Se.key==="authToken"&&Se.newValue&&(mt.current=!0,Y(Se.newValue))};window.addEventListener("storage",he);const Te=setInterval(()=>{const Se=localStorage.getItem("authToken");Y(ie=>Se&&Se!==ie?(mt.current=!0,Se):ie)},5e3);return()=>{window.removeEventListener("storage",he),clearInterval(Te)}},[]);const Ue=A.useCallback(()=>{O(!0)},[]);A.useEffect(()=>{I&&!be&&Z.length>0&&G&&!F.current&&(F.current=!0,setTimeout(()=>{xe()},100))},[I,be,Z.length,G,xe]);const Ke=A.useMemo(()=>{var he,Te,Se,ie;return Z.length>0?((he=Z.find(re=>re.active))==null?void 0:he.market_id)??Z[0].market_id??((Se=(Te=Z.find(re=>re.active))==null?void 0:Te.id)==null?void 0:Se.toString())??((ie=Z[0].id)==null?void 0:ie.toString())??null:null},[Z]),pt=A.useCallback((he,Te)=>{if(i)return;const Se=D.current,ie=he;if(Se.length!==ie.length){M.current=!0,D.current=ie,U(ie);return}let re=!1;for(let se=0;se<Se.length;se++){const tt=Se[se],Re=ie[se];if(tt.x!==Re.x||tt.y!==Re.y||tt.w!==Re.w||tt.h!==Re.h||tt.i!==Re.i){re=!0;break}}re&&(M.current=!0,D.current=ie,U(ie))},[i]),lt=A.useCallback(()=>{r(he=>he==="horizontal"?"vertical":he==="vertical"?null:"horizontal")},[]),Ye=A.useCallback(()=>{a(he=>!he)},[]);A.useEffect(()=>(o?document.body.classList.add("full-width-screen"):document.body.classList.remove("full-width-screen"),()=>{document.body.classList.remove("full-width-screen")}),[o]);const We=A.useCallback(()=>{s(he=>!he),i&&(M.current=!1)},[i]),Ae=A.useCallback(()=>{E.current&&(M.current=!1,E.current.generateNewLayout())},[]),W=A.useCallback(async()=>{try{const Te=`[
${H.slice().sort((Se,ie)=>{const re=Se,se=ie,tt=parseInt(re.i,10),Re=parseInt(se.i,10);return tt-Re}).map(Se=>{const ie=Se;return`  [${ie.x}, ${ie.y}, ${ie.w}, ${ie.h}]`}).join(`,
`)},
]`;await navigator.clipboard.writeText(Te),alert("Layout matrix copied to clipboard!")}catch(he){console.error("Failed to copy layout matrix:",he),alert("Failed to copy layout matrix to clipboard")}},[H]),de=A.useMemo(()=>H.map(function(he){const Te=he;return g.jsxs("div",{className:"layoutItem",children:[g.jsx("b",{children:Te.i}),": [",Te.x,", ",Te.y,", ",Te.w,", ",Te.h,"]"]},Te.i)}),[H]),me=G||"",oe=30,pe=10,ve=12,ee=A.useMemo(()=>{if(H.length===0)return{};const he={};for(let Te=0;Te<=6;Te++){const Se=H.find(ie=>ie.i===Te.toString());if(Se){const ie=Se,re=ie.h*oe+(ie.h-1)*pe,se=ie.w/ve*100;he[Te]={width:`${se}%`,height:`${re}px`}}}return he},[H]),ue=A.useCallback(he=>{T.current&&T.current.setPrice(he)},[]),ce=A.useMemo(()=>{var he,Te,Se,ie,re,se;return[g.jsx(Eze,{symbol:"BINANCE:BTCUSDT",interval:"5",isCollapsed:!1},"tv"),g.jsx(H9e,{baseURL:j,subscriptionClient:J,marketId:me,maxDepth:20,height:(he=ee[1])==null?void 0:he.height,onPriceClick:ue},`clobx-${me}`),g.jsx(z9e,{baseURL:j,subscriptionClient:J,marketId:me},`price-${me}`),g.jsx(F9e,{ref:T,baseURL:j,mnemonic:ge,marketId:me,selectedBucketBalance:u,selectedBucketId:l,authToken:K,walletAddress:V,onLeverageClick:()=>{T.current&&m(T.current.leverage),f(!0)},onNumberCalculatorClick:()=>{if(T.current){const tt=T.current.getSizeInput(),Re=T.current.getAvailableTradeAmount();w(tt),x(Re),y(!0)}}},`trade-${me}`),g.jsx(R9e,{baseURL:j,subscriptionClient:J,authToken:K,walletAddress:V,mnemonic:ge,height:(Te=ee[4])==null?void 0:Te.height,refreshInterval:5e3},`order-${me}`),g.jsx(j9e,{baseURL:j,subscriptionClient:J,authToken:K,walletAddress:V,mnemonic:ge,height:(Se=ee[5])==null?void 0:Se.height,refreshInterval:5e3,selectedBucketId:l},`pos-${me}`),g.jsx(I9e,{baseURL:j,subscriptionClient:J,mnemonic:ge,authToken:K,walletAddress:V,height:(ie=ee[6])==null?void 0:ie.height,refreshInterval:5e3,onBucketSelect:(tt,Re)=>{c(tt),d(Re)}},`bucket-${me}`),g.jsx(O9e,{title:"Dummy Component",message:"This is a dummy component",height:(re=ee[7])==null?void 0:re.height},`clobclassic-${me}`),g.jsx(L9e,{baseURL:j,selectedMarketId:me,height:(se=ee[8])==null?void 0:se.height},`ticker-${me}`)]},[j,N,K,V,me,X,ee,l,u,ue]);if(be)return g.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:g.jsx("div",{children:"Loading markets..."})});const Ce=le("markets");return Ce?g.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:g.jsxs("div",{children:["Error loading markets: ",Ce]})}):Z.length===0||!G?g.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:g.jsx("div",{children:"No markets available."})}):g.jsxs("div",{className:"App-content-row",children:[g.jsxs("div",{className:"App-section",children:[g.jsx("h3",{style:{marginTop:"0",marginBottom:"0.75rem"},children:"Configuration"}),g.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",flexWrap:"wrap"},children:[g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Market:"}),g.jsx("select",{value:G||"",onChange:he=>{const Te=he.target.value;Te&&ae(Te)},style:{width:"100%",padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:Z.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),Z.map(he=>{var re;const Te=he.market_id??((re=he.id)==null?void 0:re.toString())??"",Se=he.moniker?he.moniker:he.symbol?he.symbol:he.baseAsset&&he.quoteAsset?`${he.baseAsset}-${he.quoteAsset}`:`Market ID: ${Te}`,ie=he.active?" [ACTIVE]":"";return g.jsxs("option",{value:Te,children:[Se," - ID: ",Te,ie]},Te)})]})}),Z.length>0&&g.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:G===Ke?"#51cf66":"#ff9f43"},children:G===Ke?` Auto-selected default market (ID: ${Ke==null?void 0:Ke.substring(0,16)}...)`:` Manual selection (ID: ${G==null?void 0:G.substring(0,16)}...)`})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Mnemonic (for wallet address):"}),g.jsx("input",{type:"text",value:ge||"",onChange:he=>ze(he.target.value),placeholder:"Enter mnemonic to generate wallet address",style:{width:"100%",padding:"0.5rem",fontSize:"1rem",border:"1px solid #ccc",backgroundColor:"white",color:"#333"}})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Wallet Address:"}),g.jsx("input",{type:"text",value:V||"",disabled:!!(ge&&ge.trim()!==""),placeholder:"automatic (from mnemonic via useOnboard)",style:{width:"100%",padding:"0.5rem",fontSize:"1rem",border:"1px solid #ccc",backgroundColor:V?"#e7f3ff":"#f5f5f5",color:"#333"}}),V&&g.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:"#28a745"},children:" Auto-generated from mnemonic via useOnboard hook"})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Layout Type:"}),g.jsxs("select",{value:k,onChange:he=>{const Te=he.target.value;C(Te)},style:{width:"100%",padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:[g.jsx("option",{value:"default",children:"Default Predefined Layouts"}),g.jsx("option",{value:"widthfit",children:"Width Fit"}),g.jsx("option",{value:"rightTrade",children:"Right Trade"}),g.jsx("option",{value:"testTrade",children:"Test Trade"}),g.jsx("option",{value:"triPanel",children:"Tri Panel"})]})]})]}),g.jsx("h3",{children:"Layout Controls"}),g.jsx("button",{onClick:Ae,style:{marginRight:"0.5rem"},children:"Generate New Layout"}),g.jsx("button",{onClick:We,style:{marginRight:"0.5rem"},children:i?"Enable Dragging":"Disable Dragging"}),g.jsx("button",{onClick:lt,style:{marginRight:"0.5rem"},children:"Change Compaction Type"}),g.jsx("button",{onClick:Ye,children:"Full Width Screen"}),g.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.9em",color:"#fff"},children:["Compaction type:"," ",e?e.charAt(0).toUpperCase()+e.slice(1):"No Compaction"]})]}),g.jsx(c4,{ref:E,onLayoutChange:pt,slotContent:ce,compactType:e,allStatic:i,onCompactTypeChange:lt,onToggleStatic:We,onNewLayout:Ae,initialLayout:R,onMount:Ue},k),g.jsxs("div",{className:"overview-layout layoutJSON",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[g.jsxs("span",{children:["Displayed as ",g.jsx("code",{children:"[x, y, w, h]"}),":"]}),g.jsx("button",{onClick:W,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",borderRadius:"4px",border:"1px solid #313131",backgroundColor:"#ccc",color:"black",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:he=>{he.currentTarget.style.color="white",he.currentTarget.style.backgroundColor="#0056b3"},onMouseOut:he=>{he.currentTarget.style.color="black",he.currentTarget.style.backgroundColor="#ccc"},children:"Copy"})]}),g.jsx("div",{className:"columns",children:de})]}),g.jsx(A9e,{isOpen:h,currentLeverage:((Me=T.current)==null?void 0:Me.leverage)||10,tempLeverage:p,maxRatio:T.current?T.current.calculateMaxRatio(p):p.toFixed(2),onLeverageChange:m,onConfirm:async()=>{if(!l||l==="--"||l.trim()===""){ft.error("Bucket Required",{description:"Please select a bucket before changing leverage."});return}if(T.current){f(!1);try{await T.current.changeLeverage(p,{bucketId:l})}catch{T.current&&m(T.current.leverage)}}else f(!1)},onCancel:()=>{T.current&&m(T.current.leverage),f(!1)}}),g.jsx(ppe,{isOpen:b,value:v,min:0,max:_,onConfirm:he=>{T.current&&T.current.setSizeInput(he),y(!1)},onCancel:()=>{y(!1)}})]})}function Pze(){return g.jsx(_9,{defaultWsURL:nh,children:g.jsx(Tze,{})})}function Ize({isConnected:n,label:e,className:r=""}){return g.jsx("span",{className:`hooks-test-status-badge ${n?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"} ${r}`,children:e||(n?"WS Connected":"WS Disconnected")})}function Mze({isEnabled:n,isConnected:e,connectionState:r,retainedDataCount:i,onToggle:s}){return g.jsxs("div",{className:"App-section hooks-test-websocket-section",children:[g.jsxs("div",{className:"hooks-test-websocket-controls",children:[g.jsxs("button",{onClick:s,className:`hooks-test-websocket-button ${n?"hooks-test-websocket-button-enabled":"hooks-test-websocket-button-disabled"}`,children:[n?"Disable":"Enable"," Connect WebSocket"]}),g.jsxs("span",{className:`hooks-test-connection-status ${n?"hooks-test-connection-status-enabled":"hooks-test-connection-status-disabled"} ${e?"hooks-test-connection-status-connected":"hooks-test-connection-status-disconnected"}`,children:[e?" Connected":" Disconnected"," (",r,")"]})]}),n&&g.jsxs("div",{className:"hooks-test-websocket-info",children:["WebSocket is enabled. Hooks will receive real-time updates via multi-feed channel.",i>0&&g.jsxs("span",{className:"hooks-test-retained-data-info",children:["Retained data: ",i," sub-channels"]})]})]})}function al({title:n,isConnected:e,statusBadges:r=[],actions:i=[],className:s=""}){return g.jsxs("div",{className:`hooks-test-section-header-flex ${s}`,children:[g.jsx("h2",{className:"hooks-test-section-header-title",children:n}),g.jsxs("div",{className:"hooks-test-status-group",children:[e!==void 0&&g.jsx(Ize,{isConnected:e}),r.map((o,a)=>g.jsx("span",{children:o},a)),i.map((o,a)=>g.jsx("span",{children:o},a))]})]})}function Oze({item:n,displayFields:e,originalIndex:r,rowWidth:i,color:s,onItemClick:o}){return g.jsxs("div",{className:"data-flow-row",onClick:()=>{o&&o(n)},style:{width:`${i}px`,background:s},children:[g.jsx("div",{className:"data-flow-row-header",children:n.timestamp?new Date(n.timestamp).toLocaleTimeString():`#${r+1}`}),g.jsx("div",{className:"data-flow-row-fields",children:e.map((a,l)=>g.jsxs("div",{className:"data-flow-field",children:[g.jsxs("span",{className:"data-flow-field-label",children:[a.label,":"]}),g.jsx("span",{className:"data-flow-field-value",children:a.value})]},l))}),g.jsx("div",{className:"data-flow-row-footer",children:"Click to view RAW data"})]})}function im({data:n,maxVisible:e=10,maxDataPoints:r=100,height:i=400,width:s=1080,rowWidth:o=280,onItemClick:a,getValue:l,color:c="#2196F3"}){const u=A.useRef(null),d=A.useRef(null),h=A.useRef(0),[f,p]=A.useState(!1),[m,b]=A.useState(0),y=20,v=800,w=A.useMemo(()=>!n||n.length===0?[]:n.length<=r?n:n.slice(-r),[n,r]),_=x=>{const k=[];if(x.timestamp!==void 0&&k.push({label:"Time",value:new Date(x.timestamp).toLocaleTimeString()}),x.market_id!==void 0&&k.push({label:"Market",value:String(x.market_id)}),x.symbol!==void 0&&k.push({label:"Symbol",value:String(x.symbol)}),x.open!==void 0){const C=Number(x.open);k.push({label:"Open",value:isNaN(C)?String(x.open):C.toFixed(4)})}if(x.close!==void 0){const C=Number(x.close);k.push({label:"Close",value:isNaN(C)?String(x.close):C.toFixed(4)})}if(x.high!==void 0){const C=Number(x.high);k.push({label:"High",value:isNaN(C)?String(x.high):C.toFixed(4)})}if(x.low!==void 0){const C=Number(x.low);k.push({label:"Low",value:isNaN(C)?String(x.low):C.toFixed(4)})}if(x.volume!==void 0){const C=Number(x.volume);k.push({label:"Volume",value:isNaN(C)?String(x.volume):C.toFixed(2)})}if(x.price!==void 0){const C=Number(x.price);k.push({label:"Price",value:isNaN(C)?String(x.price):C.toFixed(4)})}if(x.mark_price!==void 0){const C=Number(x.mark_price);k.push({label:"Mark Price",value:isNaN(C)?String(x.mark_price):C.toFixed(4)})}if(x.last_price!==void 0){const C=Number(x.last_price);k.push({label:"Last Price",value:isNaN(C)?String(x.last_price):C.toFixed(4)})}if(x.size!==void 0){const C=Number(x.size);k.push({label:"Size",value:isNaN(C)?String(x.size):C.toFixed(4)})}if(x.entryPrice!==void 0){const C=Number(x.entryPrice);k.push({label:"Entry",value:isNaN(C)?String(x.entryPrice):C.toFixed(4)})}if(x.unrealizedPnL!==void 0){const C=Number(x.unrealizedPnL);k.push({label:"PnL",value:isNaN(C)?String(x.unrealizedPnL):C.toFixed(4)})}if(x.orderId!==void 0&&k.push({label:"Order ID",value:String(x.orderId)}),x.status!==void 0&&k.push({label:"Status",value:String(x.status)}),x.bucketId!==void 0&&k.push({label:"Bucket ID",value:String(x.bucketId)}),x.maxLeverage!==void 0&&k.push({label:"Max Lev",value:String(x.maxLeverage)}),x.value!==void 0&&k.length===0){const C=Number(x.value);k.push({label:"Value",value:isNaN(C)?String(x.value):C.toFixed(4)})}return k.length===0&&k.push({label:"Data",value:"Click to view"}),k.slice(0,6)};return A.useEffect(()=>{if(!d.current||!u.current)return;const x=w.length;if(x===0){b(0),h.current=0;return}const E=u.current.offsetWidth-20*2,T=x*o+(x-1)*y;if(T>E){const I=T-E;b(-I)}else b(0);const M=w.length>h.current;h.current=w.length,M&&d.current&&requestAnimationFrame(()=>{d.current&&d.current.offsetWidth})},[w.length,o,y,s]),A.useEffect(()=>{d.current&&(d.current.style.transition=f?"none":`transform ${v}ms ease-out`,d.current.style.transform=`translateX(${m}px)`)},[m,f,v]),g.jsxs("div",{ref:u,className:"data-flow-container",style:{width:`${s}px`,height:`${i}px`},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[g.jsx("div",{ref:d,className:"data-flow-rows-wrapper",style:{gap:`${y}px`},children:w.map((x,k)=>{const C=_(x),E=k;return g.jsx(Oze,{item:x,displayFields:C,originalIndex:E,rowWidth:o,color:c,onItemClick:a},`${E}-${x.timestamp||Date.now()}-${x.id||JSON.stringify(x)}`)})}),f&&g.jsx("div",{className:"data-flow-paused-indicator",children:"Paused"})]})}function Dze({data:n,isOpen:e,onClose:r,title:i="Data Details"}){return A.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),A.useEffect(()=>{const s=o=>{o.key==="Escape"&&e&&r()};return e&&window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[e,r]),e?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"data-modal-overlay",onClick:r}),g.jsxs("div",{className:"data-modal",onClick:s=>s.stopPropagation(),children:[g.jsx("h3",{className:"data-modal-title",children:i}),g.jsx("pre",{className:"data-modal-content",children:JSON.stringify(n,null,2)}),g.jsx("button",{className:"data-modal-close-button",onClick:r,children:"Close"})]})]}):null}function Ck(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Rze(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Ame(n){let e,r,i;n.length!==2?(e=Ck,r=(l,c)=>Ck(n(l),c),i=(l,c)=>n(l)-c):(e=n===Ck||n===Rze?n:Nze,r=n,i=n);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&i(l[h-1],c)>-i(l[h],c)?h-1:h}return{left:s,center:a,right:o}}function Nze(){return 0}function jze(n){return n===null?NaN:+n}const Bze=Ame(Ck),Lze=Bze.right;Ame(jze).center;class gH extends Map{constructor(e,r=zze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,s]of e)this.set(i,s)}get(e){return super.get(bH(this,e))}has(e){return super.has(bH(this,e))}set(e,r){return super.set(Fze(this,e),r)}delete(e){return super.delete($ze(this,e))}}function bH({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function Fze({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function $ze({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function zze(n){return n!==null&&typeof n=="object"?n.valueOf():n}const Uze=Math.sqrt(50),Wze=Math.sqrt(10),qze=Math.sqrt(2);function JS(n,e,r){const i=(e-n)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=Uze?10:o>=Wze?5:o>=qze?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/a,l=Math.round(n*u),c=Math.round(e*u),l/u<n&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*a,l=Math.round(n/u),c=Math.round(e/u),l*u<n&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?JS(n,e,r*2):[l,c,u]}function Hze(n,e,r){if(e=+e,n=+n,r=+r,!(r>0))return[];if(n===e)return[n];const i=e<n,[s,o,a]=i?JS(e,n,r):JS(n,e,r);if(!(o>=s))return[];const l=o-s+1,c=new Array(l);if(i)if(a<0)for(let u=0;u<l;++u)c[u]=(o-u)/-a;else for(let u=0;u<l;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(s+u)/-a;else for(let u=0;u<l;++u)c[u]=(s+u)*a;return c}function m4(n,e,r){return e=+e,n=+n,r=+r,JS(n,e,r)[2]}function Vze(n,e,r){e=+e,n=+n,r=+r;const i=e<n,s=i?m4(e,n,r):m4(n,e,r);return(i?-1:1)*(s<0?1/-s:s)}function yH(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function vH(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function Gze(n,e,r){n=+n,e=+e,r=(s=arguments.length)<2?(e=n,n=0,1):s<3?1:+r;for(var i=-1,s=Math.max(0,Math.ceil((e-n)/r))|0,o=new Array(s);++i<s;)o[i]=n+i*r;return o}function Yze(n,e){let r=0;for(let i of n)(i=+i)&&(r+=i);return r}function Kze(n){return n}var M3=1,O3=2,g4=3,Sy=4,wH=1e-6;function Xze(n){return"translate("+n+",0)"}function Qze(n){return"translate(0,"+n+")"}function Jze(n){return e=>+n(e)}function Zze(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),r=>+n(r)+e}function eUe(){return!this.__axis}function Tme(n,e){var r=[],i=null,s=null,o=6,a=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=n===M3||n===Sy?-1:1,d=n===Sy||n===O3?"x":"y",h=n===M3||n===g4?Xze:Qze;function f(p){var m=i??(e.ticks?e.ticks.apply(e,r):e.domain()),b=s??(e.tickFormat?e.tickFormat.apply(e,r):Kze),y=Math.max(o,0)+l,v=e.range(),w=+v[0]+c,_=+v[v.length-1]+c,x=(e.bandwidth?Zze:Jze)(e.copy(),c),k=p.selection?p.selection():p,C=k.selectAll(".domain").data([null]),E=k.selectAll(".tick").data(m,e).order(),T=E.exit(),M=E.enter().append("g").attr("class","tick"),I=E.select("line"),O=E.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(M),I=I.merge(M.append("line").attr("stroke","currentColor").attr(d+"2",u*o)),O=O.merge(M.append("text").attr("fill","currentColor").attr(d,u*y).attr("dy",n===M3?"0em":n===g4?"0.71em":"0.32em")),p!==k&&(C=C.transition(p),E=E.transition(p),I=I.transition(p),O=O.transition(p),T=T.transition(p).attr("opacity",wH).attr("transform",function(F){return isFinite(F=x(F))?h(F+c):this.getAttribute("transform")}),M.attr("opacity",wH).attr("transform",function(F){var $=this.parentNode.__axis;return h(($&&isFinite($=$(F))?$:x(F))+c)})),T.remove(),C.attr("d",n===Sy||n===O3?a?"M"+u*a+","+w+"H"+c+"V"+_+"H"+u*a:"M"+c+","+w+"V"+_:a?"M"+w+","+u*a+"V"+c+"H"+_+"V"+u*a:"M"+w+","+c+"H"+_),E.attr("opacity",1).attr("transform",function(F){return h(x(F)+c)}),I.attr(d+"2",u*o),O.attr(d,u*y).text(b),k.filter(eUe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===O3?"start":n===Sy?"end":"middle"),k.each(function(){this.__axis=x})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(i=p==null?null:Array.from(p),f):i&&i.slice()},f.tickFormat=function(p){return arguments.length?(s=p,f):s},f.tickSize=function(p){return arguments.length?(o=a=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(a=+p,f):a},f.tickPadding=function(p){return arguments.length?(l=+p,f):l},f.offset=function(p){return arguments.length?(c=+p,f):c},f}function xH(n){return Tme(g4,n)}function tUe(n){return Tme(Sy,n)}var nUe={value:()=>{}};function Ax(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Ek(r)}function Ek(n){this._=n}function rUe(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Ek.prototype=Ax.prototype={constructor:Ek,on:function(n,e){var r=this._,i=rUe(n+"",r),s,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((s=(n=i[o]).type)&&(s=iUe(r[s],n.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(s=(n=i[o]).type)r[s]=_H(r[s],n.name,e);else if(e==null)for(s in r)r[s]=_H(r[s],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new Ek(n)},call:function(n,e){if((s=arguments.length-2)>0)for(var r=new Array(s),i=0,s,o;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],i=0,s=o.length;i<s;++i)o[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,o=i.length;s<o;++s)i[s].value.apply(e,r)}};function iUe(n,e){for(var r=0,i=n.length,s;r<i;++r)if((s=n[r]).name===e)return s.value}function _H(n,e,r){for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n[i]=nUe,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}var b4="http://www.w3.org/1999/xhtml";const kH={svg:"http://www.w3.org/2000/svg",xhtml:b4,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function uE(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),kH.hasOwnProperty(e)?{space:kH[e],local:n}:n}function sUe(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===b4&&e.documentElement.namespaceURI===b4?e.createElement(n):e.createElementNS(r,n)}}function oUe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Pme(n){var e=uE(n);return(e.local?oUe:sUe)(e)}function aUe(){}function q9(n){return n==null?aUe:function(){return this.querySelector(n)}}function lUe(n){typeof n!="function"&&(n=q9(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=new Array(a),c,u,d=0;d<a;++d)(c=o[d])&&(u=n.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new ls(i,this._parents)}function Ime(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function cUe(){return[]}function Mme(n){return n==null?cUe:function(){return this.querySelectorAll(n)}}function uUe(n){return function(){return Ime(n.apply(this,arguments))}}function dUe(n){typeof n=="function"?n=uUe(n):n=Mme(n);for(var e=this._groups,r=e.length,i=[],s=[],o=0;o<r;++o)for(var a=e[o],l=a.length,c,u=0;u<l;++u)(c=a[u])&&(i.push(n.call(c,c.__data__,u,a)),s.push(c));return new ls(i,s)}function Ome(n){return function(){return this.matches(n)}}function Dme(n){return function(e){return e.matches(n)}}var hUe=Array.prototype.find;function fUe(n){return function(){return hUe.call(this.children,n)}}function pUe(){return this.firstElementChild}function mUe(n){return this.select(n==null?pUe:fUe(typeof n=="function"?n:Dme(n)))}var gUe=Array.prototype.filter;function bUe(){return Array.from(this.children)}function yUe(n){return function(){return gUe.call(this.children,n)}}function vUe(n){return this.selectAll(n==null?bUe:yUe(typeof n=="function"?n:Dme(n)))}function wUe(n){typeof n!="function"&&(n=Ome(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=[],c,u=0;u<a;++u)(c=o[u])&&n.call(c,c.__data__,u,o)&&l.push(c);return new ls(i,this._parents)}function Rme(n){return new Array(n.length)}function xUe(){return new ls(this._enter||this._groups.map(Rme),this._parents)}function ZS(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}ZS.prototype={constructor:ZS,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function _Ue(n){return function(){return n}}function kUe(n,e,r,i,s,o){for(var a=0,l,c=e.length,u=o.length;a<u;++a)(l=e[a])?(l.__data__=o[a],i[a]=l):r[a]=new ZS(n,o[a]);for(;a<c;++a)(l=e[a])&&(s[a]=l)}function SUe(n,e,r,i,s,o,a){var l,c,u=new Map,d=e.length,h=o.length,f=new Array(d),p;for(l=0;l<d;++l)(c=e[l])&&(f[l]=p=a.call(c,c.__data__,l,e)+"",u.has(p)?s[l]=c:u.set(p,c));for(l=0;l<h;++l)p=a.call(n,o[l],l,o)+"",(c=u.get(p))?(i[l]=c,c.__data__=o[l],u.delete(p)):r[l]=new ZS(n,o[l]);for(l=0;l<d;++l)(c=e[l])&&u.get(f[l])===c&&(s[l]=c)}function CUe(n){return n.__data__}function EUe(n,e){if(!arguments.length)return Array.from(this,CUe);var r=e?SUe:kUe,i=this._parents,s=this._groups;typeof n!="function"&&(n=_Ue(n));for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var d=i[u],h=s[u],f=h.length,p=AUe(n.call(d,d&&d.__data__,u,i)),m=p.length,b=l[u]=new Array(m),y=a[u]=new Array(m),v=c[u]=new Array(f);r(d,h,b,y,v,p,e);for(var w=0,_=0,x,k;w<m;++w)if(x=b[w]){for(w>=_&&(_=w+1);!(k=y[_])&&++_<m;);x._next=k||null}}return a=new ls(a,i),a._enter=l,a._exit=c,a}function AUe(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function TUe(){return new ls(this._exit||this._groups.map(Rme),this._parents)}function PUe(n,e,r){var i=this.enter(),s=this,o=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?o.remove():r(o),i&&s?i.merge(s).order():s}function IUe(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,s=r.length,o=i.length,a=Math.min(s,o),l=new Array(s),c=0;c<a;++c)for(var u=r[c],d=i[c],h=u.length,f=l[c]=new Array(h),p,m=0;m<h;++m)(p=u[m]||d[m])&&(f[m]=p);for(;c<s;++c)l[c]=r[c];return new ls(l,this._parents)}function MUe(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],s=i.length-1,o=i[s],a;--s>=0;)(a=i[s])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function OUe(n){n||(n=DUe);function e(h,f){return h&&f?n(h.__data__,f.__data__):!h-!f}for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o){for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d=0;d<l;++d)(u=a[d])&&(c[d]=u);c.sort(e)}return new ls(s,this._parents).order()}function DUe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function RUe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function NUe(){return Array.from(this)}function jUe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length;s<o;++s){var a=i[s];if(a)return a}return null}function BUe(){let n=0;for(const e of this)++n;return n}function LUe(){return!this.node()}function FUe(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],o=0,a=s.length,l;o<a;++o)(l=s[o])&&n.call(l,l.__data__,o,s);return this}function $Ue(n){return function(){this.removeAttribute(n)}}function zUe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function UUe(n,e){return function(){this.setAttribute(n,e)}}function WUe(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function qUe(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function HUe(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function VUe(n,e){var r=uE(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?zUe:$Ue:typeof e=="function"?r.local?HUe:qUe:r.local?WUe:UUe)(r,e))}function Nme(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function GUe(n){return function(){this.style.removeProperty(n)}}function YUe(n,e,r){return function(){this.style.setProperty(n,e,r)}}function KUe(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function XUe(n,e,r){return arguments.length>1?this.each((e==null?GUe:typeof e=="function"?KUe:YUe)(n,e,r??"")):x0(this.node(),n)}function x0(n,e){return n.style.getPropertyValue(e)||Nme(n).getComputedStyle(n,null).getPropertyValue(e)}function QUe(n){return function(){delete this[n]}}function JUe(n,e){return function(){this[n]=e}}function ZUe(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function eWe(n,e){return arguments.length>1?this.each((e==null?QUe:typeof e=="function"?ZUe:JUe)(n,e)):this.node()[n]}function jme(n){return n.trim().split(/^|\s+/)}function H9(n){return n.classList||new Bme(n)}function Bme(n){this._node=n,this._names=jme(n.getAttribute("class")||"")}Bme.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Lme(n,e){for(var r=H9(n),i=-1,s=e.length;++i<s;)r.add(e[i])}function Fme(n,e){for(var r=H9(n),i=-1,s=e.length;++i<s;)r.remove(e[i])}function tWe(n){return function(){Lme(this,n)}}function nWe(n){return function(){Fme(this,n)}}function rWe(n,e){return function(){(e.apply(this,arguments)?Lme:Fme)(this,n)}}function iWe(n,e){var r=jme(n+"");if(arguments.length<2){for(var i=H9(this.node()),s=-1,o=r.length;++s<o;)if(!i.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?rWe:e?tWe:nWe)(r,e))}function sWe(){this.textContent=""}function oWe(n){return function(){this.textContent=n}}function aWe(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function lWe(n){return arguments.length?this.each(n==null?sWe:(typeof n=="function"?aWe:oWe)(n)):this.node().textContent}function cWe(){this.innerHTML=""}function uWe(n){return function(){this.innerHTML=n}}function dWe(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function hWe(n){return arguments.length?this.each(n==null?cWe:(typeof n=="function"?dWe:uWe)(n)):this.node().innerHTML}function fWe(){this.nextSibling&&this.parentNode.appendChild(this)}function pWe(){return this.each(fWe)}function mWe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gWe(){return this.each(mWe)}function bWe(n){var e=typeof n=="function"?n:Pme(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function yWe(){return null}function vWe(n,e){var r=typeof n=="function"?n:Pme(n),i=e==null?yWe:typeof e=="function"?e:q9(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function wWe(){var n=this.parentNode;n&&n.removeChild(this)}function xWe(){return this.each(wWe)}function _We(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function kWe(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function SWe(n){return this.select(n?kWe:_We)}function CWe(n){return arguments.length?this.property("__data__",n):this.node().__data__}function EWe(n){return function(e){n.call(this,e,this.__data__)}}function AWe(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function TWe(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,s=e.length,o;r<s;++r)o=e[r],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function PWe(n,e,r){return function(){var i=this.__on,s,o=EWe(e);if(i){for(var a=0,l=i.length;a<l;++a)if((s=i[a]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=r),s.value=e;return}}this.addEventListener(n.type,o,r),s={type:n.type,name:n.name,value:e,listener:o,options:r},i?i.push(s):this.__on=[s]}}function IWe(n,e,r){var i=AWe(n+""),s,o=i.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(s=0,d=l[c];s<o;++s)if((a=i[s]).type===d.type&&a.name===d.name)return d.value}return}for(l=e?PWe:TWe,s=0;s<o;++s)this.each(l(i[s],e,r));return this}function $me(n,e,r){var i=Nme(n),s=i.CustomEvent;typeof s=="function"?s=new s(e,r):(s=i.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),n.dispatchEvent(s)}function MWe(n,e){return function(){return $me(this,n,e)}}function OWe(n,e){return function(){return $me(this,n,e.apply(this,arguments))}}function DWe(n,e){return this.each((typeof e=="function"?OWe:MWe)(n,e))}function*RWe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length,a;s<o;++s)(a=i[s])&&(yield a)}var V9=[null];function ls(n,e){this._groups=n,this._parents=e}function Tx(){return new ls([[document.documentElement]],V9)}function NWe(){return this}ls.prototype=Tx.prototype={constructor:ls,select:lUe,selectAll:dUe,selectChild:mUe,selectChildren:vUe,filter:wUe,data:EUe,enter:xUe,exit:TUe,join:PUe,merge:IUe,selection:NWe,order:MUe,sort:OUe,call:RUe,nodes:NUe,node:jUe,size:BUe,empty:LUe,each:FUe,attr:VUe,style:XUe,property:eWe,classed:iWe,text:lWe,html:hWe,raise:pWe,lower:gWe,append:bWe,insert:vWe,remove:xWe,clone:SWe,datum:CWe,on:IWe,dispatch:DWe,[Symbol.iterator]:RWe};function ji(n){return typeof n=="string"?new ls([[document.querySelector(n)]],[document.documentElement]):new ls([[n]],V9)}function jWe(n){let e;for(;e=n.sourceEvent;)n=e;return n}function _a(n,e){if(n=jWe(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}}return[n.pageX,n.pageY]}function BWe(n){return typeof n=="string"?new ls([document.querySelectorAll(n)],[document.documentElement]):new ls([Ime(n)],V9)}const LWe={passive:!1},pw={capture:!0,passive:!1};function D3(n){n.stopImmediatePropagation()}function ag(n){n.preventDefault(),n.stopImmediatePropagation()}function zme(n){var e=n.document.documentElement,r=ji(n).on("dragstart.drag",ag,pw);"onselectstart"in e?r.on("selectstart.drag",ag,pw):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ume(n,e){var r=n.document.documentElement,i=ji(n).on("dragstart.drag",null);e&&(i.on("click.drag",ag,pw),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const b_=n=>()=>n;function y4(n,{sourceEvent:e,subject:r,target:i,identifier:s,active:o,x:a,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}y4.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function FWe(n){return!n.ctrlKey&&!n.button}function $We(){return this.parentNode}function zWe(n,e){return e??{x:n.x,y:n.y}}function UWe(){return navigator.maxTouchPoints||"ontouchstart"in this}function WWe(){var n=FWe,e=$We,r=zWe,i=UWe,s={},o=Ax("start","drag","end"),a=0,l,c,u,d,h=0;function f(x){x.on("mousedown.drag",p).filter(i).on("touchstart.drag",y).on("touchmove.drag",v,LWe).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(x,k){if(!(d||!n.call(this,x,k))){var C=_(this,e.call(this,x,k),x,k,"mouse");C&&(ji(x.view).on("mousemove.drag",m,pw).on("mouseup.drag",b,pw),zme(x.view),D3(x),u=!1,l=x.clientX,c=x.clientY,C("start",x))}}function m(x){if(ag(x),!u){var k=x.clientX-l,C=x.clientY-c;u=k*k+C*C>h}s.mouse("drag",x)}function b(x){ji(x.view).on("mousemove.drag mouseup.drag",null),Ume(x.view,u),ag(x),s.mouse("end",x)}function y(x,k){if(n.call(this,x,k)){var C=x.changedTouches,E=e.call(this,x,k),T=C.length,M,I;for(M=0;M<T;++M)(I=_(this,E,x,k,C[M].identifier,C[M]))&&(D3(x),I("start",x,C[M]))}}function v(x){var k=x.changedTouches,C=k.length,E,T;for(E=0;E<C;++E)(T=s[k[E].identifier])&&(ag(x),T("drag",x,k[E]))}function w(x){var k=x.changedTouches,C=k.length,E,T;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<C;++E)(T=s[k[E].identifier])&&(D3(x),T("end",x,k[E]))}function _(x,k,C,E,T,M){var I=o.copy(),O=_a(M||C,k),F,$,z;if((z=r.call(x,new y4("beforestart",{sourceEvent:C,target:f,identifier:T,active:a,x:O[0],y:O[1],dx:0,dy:0,dispatch:I}),E))!=null)return F=z.x-O[0]||0,$=z.y-O[1]||0,function D(j,N,R){var H=O,U;switch(j){case"start":s[T]=D,U=a++;break;case"end":delete s[T],--a;case"drag":O=_a(R||N,k),U=a;break}I.call(j,x,new y4(j,{sourceEvent:N,subject:z,target:f,identifier:T,active:U,x:O[0]+F,y:O[1]+$,dx:O[0]-H[0],dy:O[1]-H[1],dispatch:I}),E)}}return f.filter=function(x){return arguments.length?(n=typeof x=="function"?x:b_(!!x),f):n},f.container=function(x){return arguments.length?(e=typeof x=="function"?x:b_(x),f):e},f.subject=function(x){return arguments.length?(r=typeof x=="function"?x:b_(x),f):r},f.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:b_(!!x),f):i},f.on=function(){var x=o.on.apply(o,arguments);return x===o?f:x},f.clickDistance=function(x){return arguments.length?(h=(x=+x)*x,f):Math.sqrt(h)},f}function G9(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function Wme(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function Px(){}var mw=.7,e2=1/mw,lg="\\s*([+-]?\\d+)\\s*",gw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qWe=/^#([0-9a-f]{3,8})$/,HWe=new RegExp(`^rgb\\(${lg},${lg},${lg}\\)$`),VWe=new RegExp(`^rgb\\(${Rl},${Rl},${Rl}\\)$`),GWe=new RegExp(`^rgba\\(${lg},${lg},${lg},${gw}\\)$`),YWe=new RegExp(`^rgba\\(${Rl},${Rl},${Rl},${gw}\\)$`),KWe=new RegExp(`^hsl\\(${gw},${Rl},${Rl}\\)$`),XWe=new RegExp(`^hsla\\(${gw},${Rl},${Rl},${gw}\\)$`),SH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G9(Px,Zf,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:CH,formatHex:CH,formatHex8:QWe,formatHsl:JWe,formatRgb:EH,toString:EH});function CH(){return this.rgb().formatHex()}function QWe(){return this.rgb().formatHex8()}function JWe(){return qme(this).formatHsl()}function EH(){return this.rgb().formatRgb()}function Zf(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=qWe.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?AH(e):r===3?new Ps(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?y_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?y_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=HWe.exec(n))?new Ps(e[1],e[2],e[3],1):(e=VWe.exec(n))?new Ps(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=GWe.exec(n))?y_(e[1],e[2],e[3],e[4]):(e=YWe.exec(n))?y_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=KWe.exec(n))?IH(e[1],e[2]/100,e[3]/100,1):(e=XWe.exec(n))?IH(e[1],e[2]/100,e[3]/100,e[4]):SH.hasOwnProperty(n)?AH(SH[n]):n==="transparent"?new Ps(NaN,NaN,NaN,0):null}function AH(n){return new Ps(n>>16&255,n>>8&255,n&255,1)}function y_(n,e,r,i){return i<=0&&(n=e=r=NaN),new Ps(n,e,r,i)}function ZWe(n){return n instanceof Px||(n=Zf(n)),n?(n=n.rgb(),new Ps(n.r,n.g,n.b,n.opacity)):new Ps}function v4(n,e,r,i){return arguments.length===1?ZWe(n):new Ps(n,e,r,i??1)}function Ps(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}G9(Ps,v4,Wme(Px,{brighter(n){return n=n==null?e2:Math.pow(e2,n),new Ps(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?mw:Math.pow(mw,n),new Ps(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ps(Tf(this.r),Tf(this.g),Tf(this.b),t2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TH,formatHex:TH,formatHex8:eqe,formatRgb:PH,toString:PH}));function TH(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function eqe(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function PH(){const n=t2(this.opacity);return`${n===1?"rgb(":"rgba("}${Tf(this.r)}, ${Tf(this.g)}, ${Tf(this.b)}${n===1?")":`, ${n})`}`}function t2(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Tf(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function tf(n){return n=Tf(n),(n<16?"0":"")+n.toString(16)}function IH(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new Ca(n,e,r,i)}function qme(n){if(n instanceof Ca)return new Ca(n.h,n.s,n.l,n.opacity);if(n instanceof Px||(n=Zf(n)),!n)return new Ca;if(n instanceof Ca)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,s=Math.min(e,r,i),o=Math.max(e,r,i),a=NaN,l=o-s,c=(o+s)/2;return l?(e===o?a=(r-i)/l+(r<i)*6:r===o?a=(i-e)/l+2:a=(e-r)/l+4,l/=c<.5?o+s:2-o-s,a*=60):l=c>0&&c<1?0:a,new Ca(a,l,c,n.opacity)}function tqe(n,e,r,i){return arguments.length===1?qme(n):new Ca(n,e,r,i??1)}function Ca(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}G9(Ca,tqe,Wme(Px,{brighter(n){return n=n==null?e2:Math.pow(e2,n),new Ca(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?mw:Math.pow(mw,n),new Ca(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,s=2*r-i;return new Ps(R3(n>=240?n-240:n+120,s,i),R3(n,s,i),R3(n<120?n+240:n-120,s,i),this.opacity)},clamp(){return new Ca(MH(this.h),v_(this.s),v_(this.l),t2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=t2(this.opacity);return`${n===1?"hsl(":"hsla("}${MH(this.h)}, ${v_(this.s)*100}%, ${v_(this.l)*100}%${n===1?")":`, ${n})`}`}}));function MH(n){return n=(n||0)%360,n<0?n+360:n}function v_(n){return Math.max(0,Math.min(1,n||0))}function R3(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const Y9=n=>()=>n;function nqe(n,e){return function(r){return n+r*e}}function rqe(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function iqe(n){return(n=+n)==1?Hme:function(e,r){return r-e?rqe(e,r,n):Y9(isNaN(e)?r:e)}}function Hme(n,e){var r=e-n;return r?nqe(n,r):Y9(isNaN(n)?e:n)}const n2=function n(e){var r=iqe(e);function i(s,o){var a=r((s=v4(s)).r,(o=v4(o)).r),l=r(s.g,o.g),c=r(s.b,o.b),u=Hme(s.opacity,o.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return i.gamma=n,i}(1);function sqe(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,i=e.slice(),s;return function(o){for(s=0;s<r;++s)i[s]=n[s]*(1-o)+e[s]*o;return i}}function oqe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function aqe(n,e){var r=e?e.length:0,i=n?Math.min(r,n.length):0,s=new Array(i),o=new Array(r),a;for(a=0;a<i;++a)s[a]=K9(n[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(l){for(a=0;a<i;++a)o[a]=s[a](l);return o}}function lqe(n,e){var r=new Date;return n=+n,e=+e,function(i){return r.setTime(n*(1-i)+e*i),r}}function Sa(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}function cqe(n,e){var r={},i={},s;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in n?r[s]=K9(n[s],e[s]):i[s]=e[s];return function(o){for(s in r)i[s]=r[s](o);return i}}var w4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N3=new RegExp(w4.source,"g");function uqe(n){return function(){return n}}function dqe(n){return function(e){return n(e)+""}}function Vme(n,e){var r=w4.lastIndex=N3.lastIndex=0,i,s,o,a=-1,l=[],c=[];for(n=n+"",e=e+"";(i=w4.exec(n))&&(s=N3.exec(e));)(o=s.index)>r&&(o=e.slice(r,o),l[a]?l[a]+=o:l[++a]=o),(i=i[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:Sa(i,s)})),r=N3.lastIndex;return r<e.length&&(o=e.slice(r),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?dqe(c[0].x):uqe(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function K9(n,e){var r=typeof e,i;return e==null||r==="boolean"?Y9(e):(r==="number"?Sa:r==="string"?(i=Zf(e))?(e=i,n2):Vme:e instanceof Zf?n2:e instanceof Date?lqe:oqe(e)?sqe:Array.isArray(e)?aqe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cqe:Sa)(n,e)}function hqe(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}var OH=180/Math.PI,x4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gme(n,e,r,i,s,o){var a,l,c;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(c=n*r+e*i)&&(r-=n*c,i-=e*c),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,c/=l),n*i<e*r&&(n=-n,e=-e,c=-c,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(e,n)*OH,skewX:Math.atan(c)*OH,scaleX:a,scaleY:l}}var w_;function fqe(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?x4:Gme(e.a,e.b,e.c,e.d,e.e,e.f)}function pqe(n){return n==null||(w_||(w_=document.createElementNS("http://www.w3.org/2000/svg","g")),w_.setAttribute("transform",n),!(n=w_.transform.baseVal.consolidate()))?x4:(n=n.matrix,Gme(n.a,n.b,n.c,n.d,n.e,n.f))}function Yme(n,e,r,i){function s(u){return u.length?u.pop()+" ":""}function o(u,d,h,f,p,m){if(u!==h||d!==f){var b=p.push("translate(",null,e,null,r);m.push({i:b-4,x:Sa(u,h)},{i:b-2,x:Sa(d,f)})}else(h||f)&&p.push("translate("+h+e+f+r)}function a(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(s(h)+"rotate(",null,i)-2,x:Sa(u,d)})):d&&h.push(s(h)+"rotate("+d+i)}function l(u,d,h,f){u!==d?f.push({i:h.push(s(h)+"skewX(",null,i)-2,x:Sa(u,d)}):d&&h.push(s(h)+"skewX("+d+i)}function c(u,d,h,f,p,m){if(u!==h||d!==f){var b=p.push(s(p)+"scale(",null,",",null,")");m.push({i:b-4,x:Sa(u,h)},{i:b-2,x:Sa(d,f)})}else(h!==1||f!==1)&&p.push(s(p)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=n(u),d=n(d),o(u.translateX,u.translateY,d.translateX,d.translateY,h,f),a(u.rotate,d.rotate,h,f),l(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(p){for(var m=-1,b=f.length,y;++m<b;)h[(y=f[m]).i]=y.x(p);return h.join("")}}}var mqe=Yme(fqe,"px, ","px)","deg)"),gqe=Yme(pqe,", ",")",")"),bqe=1e-12;function DH(n){return((n=Math.exp(n))+1/n)/2}function yqe(n){return((n=Math.exp(n))-1/n)/2}function vqe(n){return((n=Math.exp(2*n))-1)/(n+1)}const wqe=function n(e,r,i){function s(o,a){var l=o[0],c=o[1],u=o[2],d=a[0],h=a[1],f=a[2],p=d-l,m=h-c,b=p*p+m*m,y,v;if(b<bqe)v=Math.log(f/u)/e,y=function(E){return[l+E*p,c+E*m,u*Math.exp(e*E*v)]};else{var w=Math.sqrt(b),_=(f*f-u*u+i*b)/(2*u*r*w),x=(f*f-u*u-i*b)/(2*f*r*w),k=Math.log(Math.sqrt(_*_+1)-_),C=Math.log(Math.sqrt(x*x+1)-x);v=(C-k)/e,y=function(E){var T=E*v,M=DH(k),I=u/(r*w)*(M*vqe(e*T+k)-yqe(k));return[l+I*p,c+I*m,u*M/DH(e*T+k)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return s.rho=function(o){var a=Math.max(.001,+o),l=a*a,c=l*l;return n(a,l,c)},s}(Math.SQRT2,2,4);var _0=0,Cy=0,Yb=0,Kme=1e3,r2,Ey,i2=0,ep=0,dE=0,bw=typeof performance=="object"&&performance.now?performance:Date,Xme=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function X9(){return ep||(Xme(xqe),ep=bw.now()+dE)}function xqe(){ep=0}function s2(){this._call=this._time=this._next=null}s2.prototype=Q9.prototype={constructor:s2,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?X9():+r)+(e==null?0:+e),!this._next&&Ey!==this&&(Ey?Ey._next=this:r2=this,Ey=this),this._call=n,this._time=r,_4()},stop:function(){this._call&&(this._call=null,this._time=1/0,_4())}};function Q9(n,e,r){var i=new s2;return i.restart(n,e,r),i}function _qe(){X9(),++_0;for(var n=r2,e;n;)(e=ep-n._time)>=0&&n._call.call(void 0,e),n=n._next;--_0}function RH(){ep=(i2=bw.now())+dE,_0=Cy=0;try{_qe()}finally{_0=0,Sqe(),ep=0}}function kqe(){var n=bw.now(),e=n-i2;e>Kme&&(dE-=e,i2=n)}function Sqe(){for(var n,e=r2,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:r2=r);Ey=n,_4(i)}function _4(n){if(!_0){Cy&&(Cy=clearTimeout(Cy));var e=n-ep;e>24?(n<1/0&&(Cy=setTimeout(RH,n-bw.now()-dE)),Yb&&(Yb=clearInterval(Yb))):(Yb||(i2=bw.now(),Yb=setInterval(kqe,Kme)),_0=1,Xme(RH))}}function NH(n,e,r){var i=new s2;return e=e==null?0:+e,i.restart(s=>{i.stop(),n(s+e)},e,r),i}var Cqe=Ax("start","end","cancel","interrupt"),Eqe=[],Qme=0,jH=1,k4=2,Ak=3,BH=4,S4=5,Tk=6;function hE(n,e,r,i,s,o){var a=n.__transition;if(!a)n.__transition={};else if(r in a)return;Aqe(n,r,{name:e,index:i,group:s,on:Cqe,tween:Eqe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Qme})}function J9(n,e){var r=Wa(n,e);if(r.state>Qme)throw new Error("too late; already scheduled");return r}function Gl(n,e){var r=Wa(n,e);if(r.state>Ak)throw new Error("too late; already running");return r}function Wa(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Aqe(n,e,r){var i=n.__transition,s;i[e]=r,r.timer=Q9(o,0,r.time);function o(u){r.state=jH,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var d,h,f,p;if(r.state!==jH)return c();for(d in i)if(p=i[d],p.name===r.name){if(p.state===Ak)return NH(a);p.state===BH?(p.state=Tk,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[d]):+d<e&&(p.state=Tk,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[d])}if(NH(function(){r.state===Ak&&(r.state=BH,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=k4,r.on.call("start",n,n.__data__,r.index,r.group),r.state===k4){for(r.state=Ak,s=new Array(f=r.tween.length),d=0,h=-1;d<f;++d)(p=r.tween[d].value.call(n,n.__data__,r.index,r.group))&&(s[++h]=p);s.length=h+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=S4,1),h=-1,f=s.length;++h<f;)s[h].call(n,d);r.state===S4&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=Tk,r.timer.stop(),delete i[e];for(var u in i)return;delete n.__transition}}function Pk(n,e){var r=n.__transition,i,s,o=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((i=r[a]).name!==e){o=!1;continue}s=i.state>k4&&i.state<S4,i.state=Tk,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[a]}o&&delete n.__transition}}function Tqe(n){return this.each(function(){Pk(this,n)})}function Pqe(n,e){var r,i;return function(){var s=Gl(this,n),o=s.tween;if(o!==r){i=r=o;for(var a=0,l=i.length;a<l;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}s.tween=i}}function Iqe(n,e,r){var i,s;if(typeof r!="function")throw new Error;return function(){var o=Gl(this,n),a=o.tween;if(a!==i){s=(i=a).slice();for(var l={name:e,value:r},c=0,u=s.length;c<u;++c)if(s[c].name===e){s[c]=l;break}c===u&&s.push(l)}o.tween=s}}function Mqe(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=Wa(this.node(),r).tween,s=0,o=i.length,a;s<o;++s)if((a=i[s]).name===n)return a.value;return null}return this.each((e==null?Pqe:Iqe)(r,n,e))}function Z9(n,e,r){var i=n._id;return n.each(function(){var s=Gl(this,i);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return Wa(s,i).value[e]}}function Jme(n,e){var r;return(typeof e=="number"?Sa:e instanceof Zf?n2:(r=Zf(e))?(e=r,n2):Vme)(n,e)}function Oqe(n){return function(){this.removeAttribute(n)}}function Dqe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Rqe(n,e,r){var i,s=r+"",o;return function(){var a=this.getAttribute(n);return a===s?null:a===i?o:o=e(i=a,r)}}function Nqe(n,e,r){var i,s=r+"",o;return function(){var a=this.getAttributeNS(n.space,n.local);return a===s?null:a===i?o:o=e(i=a,r)}}function jqe(n,e,r){var i,s,o;return function(){var a,l=r(this),c;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),c=l+"",a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l)))}}function Bqe(n,e,r){var i,s,o;return function(){var a,l=r(this),c;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),c=l+"",a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l)))}}function Lqe(n,e){var r=uE(n),i=r==="transform"?gqe:Jme;return this.attrTween(n,typeof e=="function"?(r.local?Bqe:jqe)(r,i,Z9(this,"attr."+n,e)):e==null?(r.local?Dqe:Oqe)(r):(r.local?Nqe:Rqe)(r,i,e))}function Fqe(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function $qe(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function zqe(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&$qe(n,o)),r}return s._value=e,s}function Uqe(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Fqe(n,o)),r}return s._value=e,s}function Wqe(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=uE(n);return this.tween(r,(i.local?zqe:Uqe)(i,e))}function qqe(n,e){return function(){J9(this,n).delay=+e.apply(this,arguments)}}function Hqe(n,e){return e=+e,function(){J9(this,n).delay=e}}function Vqe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?qqe:Hqe)(e,n)):Wa(this.node(),e).delay}function Gqe(n,e){return function(){Gl(this,n).duration=+e.apply(this,arguments)}}function Yqe(n,e){return e=+e,function(){Gl(this,n).duration=e}}function Kqe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Gqe:Yqe)(e,n)):Wa(this.node(),e).duration}function Xqe(n,e){if(typeof e!="function")throw new Error;return function(){Gl(this,n).ease=e}}function Qqe(n){var e=this._id;return arguments.length?this.each(Xqe(e,n)):Wa(this.node(),e).ease}function Jqe(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Gl(this,n).ease=r}}function Zqe(n){if(typeof n!="function")throw new Error;return this.each(Jqe(this._id,n))}function eHe(n){typeof n!="function"&&(n=Ome(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=[],c,u=0;u<a;++u)(c=o[u])&&n.call(c,c.__data__,u,o)&&l.push(c);return new du(i,this._parents,this._name,this._id)}function tHe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=e[l],u=r[l],d=c.length,h=a[l]=new Array(d),f,p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<i;++l)a[l]=e[l];return new du(a,this._parents,this._name,this._id)}function nHe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function rHe(n,e,r){var i,s,o=nHe(e)?J9:Gl;return function(){var a=o(this,n),l=a.on;l!==i&&(s=(i=l).copy()).on(e,r),a.on=s}}function iHe(n,e){var r=this._id;return arguments.length<2?Wa(this.node(),r).on.on(n):this.each(rHe(r,n,e))}function sHe(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function oHe(){return this.on("end.remove",sHe(this._id))}function aHe(n){var e=this._name,r=this._id;typeof n!="function"&&(n=q9(n));for(var i=this._groups,s=i.length,o=new Array(s),a=0;a<s;++a)for(var l=i[a],c=l.length,u=o[a]=new Array(c),d,h,f=0;f<c;++f)(d=l[f])&&(h=n.call(d,d.__data__,f,l))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,hE(u[f],e,r,f,u,Wa(d,r)));return new du(o,this._parents,e,r)}function lHe(n){var e=this._name,r=this._id;typeof n!="function"&&(n=Mme(n));for(var i=this._groups,s=i.length,o=[],a=[],l=0;l<s;++l)for(var c=i[l],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=n.call(d,d.__data__,h,c),p,m=Wa(d,r),b=0,y=f.length;b<y;++b)(p=f[b])&&hE(p,e,r,b,f,m);o.push(f),a.push(d)}return new du(o,a,e,r)}var cHe=Tx.prototype.constructor;function uHe(){return new cHe(this._groups,this._parents)}function dHe(n,e){var r,i,s;return function(){var o=x0(this,n),a=(this.style.removeProperty(n),x0(this,n));return o===a?null:o===r&&a===i?s:s=e(r=o,i=a)}}function Zme(n){return function(){this.style.removeProperty(n)}}function hHe(n,e,r){var i,s=r+"",o;return function(){var a=x0(this,n);return a===s?null:a===i?o:o=e(i=a,r)}}function fHe(n,e,r){var i,s,o;return function(){var a=x0(this,n),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(n),x0(this,n))),a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l))}}function pHe(n,e){var r,i,s,o="style."+e,a="end."+o,l;return function(){var c=Gl(this,n),u=c.on,d=c.value[o]==null?l||(l=Zme(e)):void 0;(u!==r||s!==d)&&(i=(r=u).copy()).on(a,s=d),c.on=i}}function mHe(n,e,r){var i=(n+="")=="transform"?mqe:Jme;return e==null?this.styleTween(n,dHe(n,i)).on("end.style."+n,Zme(n)):typeof e=="function"?this.styleTween(n,fHe(n,i,Z9(this,"style."+n,e))).each(pHe(this._id,n)):this.styleTween(n,hHe(n,i,e),r).on("end.style."+n,null)}function gHe(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function bHe(n,e,r){var i,s;function o(){var a=e.apply(this,arguments);return a!==s&&(i=(s=a)&&gHe(n,a,r)),i}return o._value=e,o}function yHe(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,bHe(n,e,r??""))}function vHe(n){return function(){this.textContent=n}}function wHe(n){return function(){var e=n(this);this.textContent=e??""}}function xHe(n){return this.tween("text",typeof n=="function"?wHe(Z9(this,"text",n)):vHe(n==null?"":n+""))}function _He(n){return function(e){this.textContent=n.call(this,e)}}function kHe(n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&_He(s)),e}return i._value=n,i}function SHe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,kHe(n))}function CHe(){for(var n=this._name,e=this._id,r=ege(),i=this._groups,s=i.length,o=0;o<s;++o)for(var a=i[o],l=a.length,c,u=0;u<l;++u)if(c=a[u]){var d=Wa(c,e);hE(c,n,r,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new du(i,this._parents,n,r)}function EHe(){var n,e,r=this,i=r._id,s=r.size();return new Promise(function(o,a){var l={value:a},c={value:function(){--s===0&&o()}};r.each(function(){var u=Gl(this,i),d=u.on;d!==n&&(e=(n=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),u.on=e}),s===0&&o()})}var AHe=0;function du(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function ege(){return++AHe}var cc=Tx.prototype;du.prototype={constructor:du,select:aHe,selectAll:lHe,selectChild:cc.selectChild,selectChildren:cc.selectChildren,filter:eHe,merge:tHe,selection:uHe,transition:CHe,call:cc.call,nodes:cc.nodes,node:cc.node,size:cc.size,empty:cc.empty,each:cc.each,on:iHe,attr:Lqe,attrTween:Wqe,style:mHe,styleTween:yHe,text:xHe,textTween:SHe,remove:oHe,tween:Mqe,delay:Vqe,duration:Kqe,ease:Qqe,easeVarying:Zqe,end:EHe,[Symbol.iterator]:cc[Symbol.iterator]};function THe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var PHe={time:null,delay:0,duration:250,ease:THe};function IHe(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function MHe(n){var e,r;n instanceof du?(e=n._id,n=n._name):(e=ege(),(r=PHe).time=X9(),n=n==null?null:n+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var a=i[o],l=a.length,c,u=0;u<l;++u)(c=a[u])&&hE(c,n,e,u,a,r||IHe(c,e));return new du(i,this._parents,n,e)}Tx.prototype.interrupt=Tqe;Tx.prototype.transition=MHe;function OHe(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return tge(this.cover(e,r),e,r,n)}function tge(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var s,o=n._root,a={data:i},l=n._x0,c=n._y0,u=n._x1,d=n._y1,h,f,p,m,b,y,v,w;if(!o)return n._root=a,n;for(;o.length;)if((b=e>=(h=(l+u)/2))?l=h:u=h,(y=r>=(f=(c+d)/2))?c=f:d=f,s=o,!(o=o[v=y<<1|b]))return s[v]=a,n;if(p=+n._x.call(null,o.data),m=+n._y.call(null,o.data),e===p&&r===m)return a.next=o,s?s[v]=a:n._root=a,n;do s=s?s[v]=new Array(4):n._root=new Array(4),(b=e>=(h=(l+u)/2))?l=h:u=h,(y=r>=(f=(c+d)/2))?c=f:d=f;while((v=y<<1|b)===(w=(m>=f)<<1|p>=h));return s[w]=o,s[v]=a,n}function DHe(n){var e,r,i=n.length,s,o,a=new Array(i),l=new Array(i),c=1/0,u=1/0,d=-1/0,h=-1/0;for(r=0;r<i;++r)isNaN(s=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e))||(a[r]=s,l[r]=o,s<c&&(c=s),s>d&&(d=s),o<u&&(u=o),o>h&&(h=o));if(c>d||u>h)return this;for(this.cover(c,u).cover(d,h),r=0;r<i;++r)tge(this,a[r],l[r],n[r]);return this}function RHe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,s=this._x1,o=this._y1;if(isNaN(r))s=(r=Math.floor(n))+1,o=(i=Math.floor(e))+1;else{for(var a=s-r||1,l=this._root,c,u;r>n||n>=s||i>e||e>=o;)switch(u=(e<i)<<1|n<r,c=new Array(4),c[u]=l,l=c,a*=2,u){case 0:s=r+a,o=i+a;break;case 1:r=s-a,o=i+a;break;case 2:s=r+a,i=o-a;break;case 3:r=s-a,i=o-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=s,this._y1=o,this}function NHe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function jHe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Zi(n,e,r,i,s){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=s}function BHe(n,e,r){var i,s=this._x0,o=this._y0,a,l,c,u,d=this._x1,h=this._y1,f=[],p=this._root,m,b;for(p&&f.push(new Zi(p,s,o,d,h)),r==null?r=1/0:(s=n-r,o=e-r,d=n+r,h=e+r,r*=r);m=f.pop();)if(!(!(p=m.node)||(a=m.x0)>d||(l=m.y0)>h||(c=m.x1)<s||(u=m.y1)<o))if(p.length){var y=(a+c)/2,v=(l+u)/2;f.push(new Zi(p[3],y,v,c,u),new Zi(p[2],a,v,y,u),new Zi(p[1],y,l,c,v),new Zi(p[0],a,l,y,v)),(b=(e>=v)<<1|n>=y)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-b],f[f.length-1-b]=m)}else{var w=n-+this._x.call(null,p.data),_=e-+this._y.call(null,p.data),x=w*w+_*_;if(x<r){var k=Math.sqrt(r=x);s=n-k,o=e-k,d=n+k,h=e+k,i=p.data}}return i}function LHe(n){if(isNaN(d=+this._x.call(null,n))||isNaN(h=+this._y.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._y0,c=this._x1,u=this._y1,d,h,f,p,m,b,y,v;if(!r)return this;if(r.length)for(;;){if((m=d>=(f=(a+c)/2))?a=f:c=f,(b=h>=(p=(l+u)/2))?l=p:u=p,e=r,!(r=r[y=b<<1|m]))return this;if(!r.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(i=e,v=y)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[y]=o:delete e[y],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[v]=r:this._root=r),this):(this._root=o,this)}function FHe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function $He(){return this._root}function zHe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function UHe(n){var e=[],r,i=this._root,s,o,a,l,c;for(i&&e.push(new Zi(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.y0,l=r.x1,c=r.y1)&&i.length){var u=(o+l)/2,d=(a+c)/2;(s=i[3])&&e.push(new Zi(s,u,d,l,c)),(s=i[2])&&e.push(new Zi(s,o,d,u,c)),(s=i[1])&&e.push(new Zi(s,u,a,l,d)),(s=i[0])&&e.push(new Zi(s,o,a,u,d))}return this}function WHe(n){var e=[],r=[],i;for(this._root&&e.push(new Zi(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.x1,u=i.y1,d=(a+c)/2,h=(l+u)/2;(o=s[0])&&e.push(new Zi(o,a,l,d,h)),(o=s[1])&&e.push(new Zi(o,d,l,c,h)),(o=s[2])&&e.push(new Zi(o,a,h,d,u)),(o=s[3])&&e.push(new Zi(o,d,h,c,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function qHe(n){return n[0]}function HHe(n){return arguments.length?(this._x=n,this):this._x}function VHe(n){return n[1]}function GHe(n){return arguments.length?(this._y=n,this):this._y}function nge(n,e,r){var i=new eB(e??qHe,r??VHe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function eB(n,e,r,i,s,o){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=s,this._y1=o,this._root=void 0}function LH(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var hs=nge.prototype=eB.prototype;hs.copy=function(){var n=new eB(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=LH(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var s=0;s<4;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(4)}):e.target[s]=LH(i));return n};hs.add=OHe;hs.addAll=DHe;hs.cover=RHe;hs.data=NHe;hs.extent=jHe;hs.find=BHe;hs.remove=LHe;hs.removeAll=FHe;hs.root=$He;hs.size=zHe;hs.visit=UHe;hs.visitAfter=WHe;hs.x=HHe;hs.y=GHe;function YHe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function o2(n,e){if((r=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function k0(n){return n=o2(Math.abs(n)),n?n[1]:NaN}function KHe(n,e){return function(r,i){for(var s=r.length,o=[],a=0,l=n[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),o.push(r.substring(s-=l,s+l)),!((c+=l+1)>i));)l=n[a=(a+1)%n.length];return o.reverse().join(e)}}function XHe(n){return function(e){return e.replace(/[0-9]/g,function(r){return n[+r]})}}var QHe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a2(n){if(!(e=QHe.exec(n)))throw new Error("invalid format: "+n);var e;return new tB({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}a2.prototype=tB.prototype;function tB(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}tB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JHe(n){e:for(var e=n.length,r=1,i=-1,s;r<e;++r)switch(n[r]){case".":i=s=r;break;case"0":i===0&&(i=r),s=r;break;default:if(!+n[r])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(s+1):n}var rge;function ZHe(n,e){var r=o2(n,e);if(!r)return n+"";var i=r[0],s=r[1],o=s-(rge=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+o2(n,Math.max(0,e+o-1))[0]}function FH(n,e){var r=o2(n,e);if(!r)return n+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const $H={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:YHe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>FH(n*100,e),r:FH,s:ZHe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function zH(n){return n}var UH=Array.prototype.map,WH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eVe(n){var e=n.grouping===void 0||n.thousands===void 0?zH:KHe(UH.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",s=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?zH:XHe(UH.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function u(h){h=a2(h);var f=h.fill,p=h.align,m=h.sign,b=h.symbol,y=h.zero,v=h.width,w=h.comma,_=h.precision,x=h.trim,k=h.type;k==="n"?(w=!0,k="g"):$H[k]||(_===void 0&&(_=12),x=!0,k="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var C=b==="$"?r:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",E=b==="$"?i:/[%p]/.test(k)?a:"",T=$H[k],M=/[defgprs%]/.test(k);_=_===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(O){var F=C,$=E,z,D,j;if(k==="c")$=T(O)+$,O="";else{O=+O;var N=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),_),x&&(O=JHe(O)),N&&+O==0&&m!=="+"&&(N=!1),F=(N?m==="("?m:l:m==="-"||m==="("?"":m)+F,$=(k==="s"?WH[8+rge/3]:"")+$+(N&&m==="("?")":""),M){for(z=-1,D=O.length;++z<D;)if(j=O.charCodeAt(z),48>j||j>57){$=(j===46?s+O.slice(z+1):O.slice(z))+$,O=O.slice(0,z);break}}}w&&!y&&(O=e(O,1/0));var R=F.length+O.length+$.length,H=R<v?new Array(v-R+1).join(f):"";switch(w&&y&&(O=e(H+O,H.length?v-$.length:1/0),H=""),p){case"<":O=F+O+$+H;break;case"=":O=F+H+O+$;break;case"^":O=H.slice(0,R=H.length>>1)+F+O+$+H.slice(R);break;default:O=H+F+O+$;break}return o(O)}return I.toString=function(){return h+""},I}function d(h,f){var p=u((h=a2(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(k0(f)/3)))*3,b=Math.pow(10,-m),y=WH[8+m/3];return function(v){return p(b*v)+y}}return{format:u,formatPrefix:d}}var x_,ige,sge;tVe({thousands:",",grouping:[3],currency:["$",""]});function tVe(n){return x_=eVe(n),ige=x_.format,sge=x_.formatPrefix,x_}function nVe(n){return Math.max(0,-k0(Math.abs(n)))}function rVe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(k0(e)/3)))*3-k0(Math.abs(n)))}function iVe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,k0(e)-k0(n))+1}function nB(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const qH=Symbol("implicit");function rB(){var n=new gH,e=[],r=[],i=qH;function s(o){let a=n.get(o);if(a===void 0){if(i!==qH)return i;n.set(o,a=e.push(o)-1)}return r[a%r.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new gH;for(const a of o)n.has(a)||n.set(a,e.push(a)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return rB(e,r).unknown(i)},nB.apply(s,arguments),s}function oge(){var n=rB().unknown(void 0),e=n.domain,r=n.range,i=0,s=1,o,a,l=!1,c=0,u=0,d=.5;delete n.unknown;function h(){var f=e().length,p=s<i,m=p?s:i,b=p?i:s;o=(b-m)/Math.max(1,f-c+u*2),l&&(o=Math.floor(o)),m+=(b-m-o*(f-c))*d,a=o*(1-c),l&&(m=Math.round(m),a=Math.round(a));var y=Gze(f).map(function(v){return m+o*v});return r(p?y.reverse():y)}return n.domain=function(f){return arguments.length?(e(f),h()):e()},n.range=function(f){return arguments.length?([i,s]=f,i=+i,s=+s,h()):[i,s]},n.rangeRound=function(f){return[i,s]=f,i=+i,s=+s,l=!0,h()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(f){return arguments.length?(l=!!f,h()):l},n.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},n.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},n.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},n.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},n.copy=function(){return oge(e(),[i,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},nB.apply(h(),arguments)}function sVe(n){return function(){return n}}function oVe(n){return+n}var HH=[0,1];function $m(n){return n}function C4(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:sVe(isNaN(e)?NaN:.5)}function aVe(n,e){var r;return n>e&&(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function lVe(n,e,r){var i=n[0],s=n[1],o=e[0],a=e[1];return s<i?(i=C4(s,i),o=r(a,o)):(i=C4(i,s),o=r(o,a)),function(l){return o(i(l))}}function cVe(n,e,r){var i=Math.min(n.length,e.length)-1,s=new Array(i),o=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)s[a]=C4(n[a],n[a+1]),o[a]=r(e[a],e[a+1]);return function(l){var c=Lze(n,l,1,i)-1;return o[c](s[c](l))}}function uVe(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function dVe(){var n=HH,e=HH,r=K9,i,s,o,a=$m,l,c,u;function d(){var f=Math.min(n.length,e.length);return a!==$m&&(a=aVe(n[0],n[f-1])),l=f>2?cVe:lVe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(c||(c=l(n.map(i),e,r)))(i(a(f)))}return h.invert=function(f){return a(s((u||(u=l(e,n.map(i),Sa)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,oVe),d()):n.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=hqe,d()},h.clamp=function(f){return arguments.length?(a=f?!0:$m,d()):a!==$m},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return i=f,s=p,d()}}function hVe(){return dVe()($m,$m)}function fVe(n,e,r,i){var s=Vze(n,e,r),o;switch(i=a2(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(o=rVe(s,a))&&(i.precision=o),sge(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=iVe(s,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=nVe(s))&&(i.precision=o-(i.type==="%")*2);break}}return ige(i)}function pVe(n){var e=n.domain;return n.ticks=function(r){var i=e();return Hze(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var s=e();return fVe(s[0],s[s.length-1],r??10,i)},n.nice=function(r){r==null&&(r=10);var i=e(),s=0,o=i.length-1,a=i[s],l=i[o],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=s,s=o,o=u);d-- >0;){if(u=m4(a,l,r),u===c)return i[s]=a,i[o]=l,e(i);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return n},n}function age(){var n=hVe();return n.copy=function(){return uVe(n,age())},nB.apply(n,arguments),pVe(n)}function mVe(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const gVe=mVe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),__=n=>()=>n;function bVe(n,{sourceEvent:e,target:r,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function $c(n,e,r){this.k=n,this.x=e,this.y=r}$c.prototype={constructor:$c,scale:function(n){return n===1?this:new $c(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new $c(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var iB=new $c(1,0,0);ul.prototype=$c.prototype;function ul(n){for(;!n.__zoom;)if(!(n=n.parentNode))return iB;return n.__zoom}function j3(n){n.stopImmediatePropagation()}function Kb(n){n.preventDefault(),n.stopImmediatePropagation()}function yVe(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function vVe(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function VH(){return this.__zoom||iB}function wVe(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function xVe(){return navigator.maxTouchPoints||"ontouchstart"in this}function _Ve(n,e,r){var i=n.invertX(e[0][0])-r[0][0],s=n.invertX(e[1][0])-r[1][0],o=n.invertY(e[0][1])-r[0][1],a=n.invertY(e[1][1])-r[1][1];return n.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function kVe(){var n=yVe,e=vVe,r=_Ve,i=wVe,s=xVe,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=wqe,u=Ax("start","zoom","end"),d,h,f,p=500,m=150,b=0,y=10;function v(z){z.property("__zoom",VH).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",I).filter(s).on("touchstart.zoom",O).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(z,D,j,N){var R=z.selection?z.selection():z;R.property("__zoom",VH),z!==R?k(z,D,j,N):R.interrupt().each(function(){C(this,arguments).event(N).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},v.scaleBy=function(z,D,j,N){v.scaleTo(z,function(){var R=this.__zoom.k,H=typeof D=="function"?D.apply(this,arguments):D;return R*H},j,N)},v.scaleTo=function(z,D,j,N){v.transform(z,function(){var R=e.apply(this,arguments),H=this.__zoom,U=j==null?x(R):typeof j=="function"?j.apply(this,arguments):j,K=H.invert(U),Y=typeof D=="function"?D.apply(this,arguments):D;return r(_(w(H,Y),U,K),R,a)},j,N)},v.translateBy=function(z,D,j,N){v.transform(z,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),a)},null,N)},v.translateTo=function(z,D,j,N,R){v.transform(z,function(){var H=e.apply(this,arguments),U=this.__zoom,K=N==null?x(H):typeof N=="function"?N.apply(this,arguments):N;return r(iB.translate(K[0],K[1]).scale(U.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof j=="function"?-j.apply(this,arguments):-j),H,a)},N,R)};function w(z,D){return D=Math.max(o[0],Math.min(o[1],D)),D===z.k?z:new $c(D,z.x,z.y)}function _(z,D,j){var N=D[0]-j[0]*z.k,R=D[1]-j[1]*z.k;return N===z.x&&R===z.y?z:new $c(z.k,N,R)}function x(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function k(z,D,j,N){z.on("start.zoom",function(){C(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(N).end()}).tween("zoom",function(){var R=this,H=arguments,U=C(R,H).event(N),K=e.apply(R,H),Y=j==null?x(K):typeof j=="function"?j.apply(R,H):j,Z=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),G=R.__zoom,X=typeof D=="function"?D.apply(R,H):D,ae=c(G.invert(Y).concat(Z/G.k),X.invert(Y).concat(Z/X.k));return function(be){if(be===1)be=X;else{var le=ae(be),J=Z/le[2];be=new $c(J,Y[0]-le[0]*J,Y[1]-le[1]*J)}U.zoom(null,be)}})}function C(z,D,j){return!j&&z.__zooming||new E(z,D)}function E(z,D){this.that=z,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,D),this.taps=0}E.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,D){return this.mouse&&z!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var D=ji(this.that).datum();u.call(z,this.that,new bVe(z,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),D)}};function T(z,...D){if(!n.apply(this,arguments))return;var j=C(this,D).event(z),N=this.__zoom,R=Math.max(o[0],Math.min(o[1],N.k*Math.pow(2,i.apply(this,arguments)))),H=_a(z);if(j.wheel)(j.mouse[0][0]!==H[0]||j.mouse[0][1]!==H[1])&&(j.mouse[1]=N.invert(j.mouse[0]=H)),clearTimeout(j.wheel);else{if(N.k===R)return;j.mouse=[H,N.invert(H)],Pk(this),j.start()}Kb(z),j.wheel=setTimeout(U,m),j.zoom("mouse",r(_(w(N,R),j.mouse[0],j.mouse[1]),j.extent,a));function U(){j.wheel=null,j.end()}}function M(z,...D){if(f||!n.apply(this,arguments))return;var j=z.currentTarget,N=C(this,D,!0).event(z),R=ji(z.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",Z,!0),H=_a(z,j),U=z.clientX,K=z.clientY;zme(z.view),j3(z),N.mouse=[H,this.__zoom.invert(H)],Pk(this),N.start();function Y(G){if(Kb(G),!N.moved){var X=G.clientX-U,ae=G.clientY-K;N.moved=X*X+ae*ae>b}N.event(G).zoom("mouse",r(_(N.that.__zoom,N.mouse[0]=_a(G,j),N.mouse[1]),N.extent,a))}function Z(G){R.on("mousemove.zoom mouseup.zoom",null),Ume(G.view,N.moved),Kb(G),N.event(G).end()}}function I(z,...D){if(n.apply(this,arguments)){var j=this.__zoom,N=_a(z.changedTouches?z.changedTouches[0]:z,this),R=j.invert(N),H=j.k*(z.shiftKey?.5:2),U=r(_(w(j,H),N,R),e.apply(this,D),a);Kb(z),l>0?ji(this).transition().duration(l).call(k,U,N,z):ji(this).call(v.transform,U,N,z)}}function O(z,...D){if(n.apply(this,arguments)){var j=z.touches,N=j.length,R=C(this,D,z.changedTouches.length===N).event(z),H,U,K,Y;for(j3(z),U=0;U<N;++U)K=j[U],Y=_a(K,this),Y=[Y,this.__zoom.invert(Y),K.identifier],R.touch0?!R.touch1&&R.touch0[2]!==Y[2]&&(R.touch1=Y,R.taps=0):(R.touch0=Y,H=!0,R.taps=1+!!d);d&&(d=clearTimeout(d)),H&&(R.taps<2&&(h=Y[0],d=setTimeout(function(){d=null},p)),Pk(this),R.start())}}function F(z,...D){if(this.__zooming){var j=C(this,D).event(z),N=z.changedTouches,R=N.length,H,U,K,Y;for(Kb(z),H=0;H<R;++H)U=N[H],K=_a(U,this),j.touch0&&j.touch0[2]===U.identifier?j.touch0[0]=K:j.touch1&&j.touch1[2]===U.identifier&&(j.touch1[0]=K);if(U=j.that.__zoom,j.touch1){var Z=j.touch0[0],G=j.touch0[1],X=j.touch1[0],ae=j.touch1[1],be=(be=X[0]-Z[0])*be+(be=X[1]-Z[1])*be,le=(le=ae[0]-G[0])*le+(le=ae[1]-G[1])*le;U=w(U,Math.sqrt(be/le)),K=[(Z[0]+X[0])/2,(Z[1]+X[1])/2],Y=[(G[0]+ae[0])/2,(G[1]+ae[1])/2]}else if(j.touch0)K=j.touch0[0],Y=j.touch0[1];else return;j.zoom("touch",r(_(U,K,Y),j.extent,a))}}function $(z,...D){if(this.__zooming){var j=C(this,D).event(z),N=z.changedTouches,R=N.length,H,U;for(j3(z),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),H=0;H<R;++H)U=N[H],j.touch0&&j.touch0[2]===U.identifier?delete j.touch0:j.touch1&&j.touch1[2]===U.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(U=_a(U,this),Math.hypot(h[0]-U[0],h[1]-U[1])<y)){var K=ji(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return v.wheelDelta=function(z){return arguments.length?(i=typeof z=="function"?z:__(+z),v):i},v.filter=function(z){return arguments.length?(n=typeof z=="function"?z:__(!!z),v):n},v.touchable=function(z){return arguments.length?(s=typeof z=="function"?z:__(!!z),v):s},v.extent=function(z){return arguments.length?(e=typeof z=="function"?z:__([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),v):e},v.scaleExtent=function(z){return arguments.length?(o[0]=+z[0],o[1]=+z[1],v):[o[0],o[1]]},v.translateExtent=function(z){return arguments.length?(a[0][0]=+z[0][0],a[1][0]=+z[1][0],a[0][1]=+z[0][1],a[1][1]=+z[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(z){return arguments.length?(r=z,v):r},v.duration=function(z){return arguments.length?(l=+z,v):l},v.interpolate=function(z){return arguments.length?(c=z,v):c},v.on=function(){var z=u.on.apply(u,arguments);return z===u?v:z},v.clickDistance=function(z){return arguments.length?(b=(z=+z)*z,v):Math.sqrt(b)},v.tapDistance=function(z){return arguments.length?(y=+z,v):y},v}function sm({data:n,height:e=150,width:r=900,maxBars:i=60,getTimestamp:s=o=>o.timestamp||Date.now()}){const o=A.useRef(null),a=A.useRef(null),[l,c]=A.useState([]),u=A.useCallback(d=>s(d),[s]);return A.useEffect(()=>{if(n.length===0){c([]);return}const d=Date.now(),h=new Map;n.forEach(p=>{const m=u(p);if(!m||isNaN(m)||!isFinite(m))return;const b=Math.floor((d-m)/1e3);if(b>=0&&b<i){const y=h.get(b)||0;h.set(b,y+1)}});const f=[];for(let p=i-1;p>=0;p--)f.push({time:p,count:h.get(p)||0});c(f)},[n,i,u]),A.useEffect(()=>{if(!o.current||l.length===0)return;const d=ji(o.current);d.selectAll("*").remove();const h={top:20,right:20,bottom:40,left:50},f=r-h.left-h.right,p=e-h.top-h.bottom,m=d.append("g").attr("transform",`translate(${h.left}, ${h.top})`),b=oge().domain(l.map((w,_)=>_.toString())).range([0,f]).padding(.1),v=age().domain([0,5]).range([p,0]).nice();return m.append("g").attr("transform",`translate(0, ${p})`).call(xH(b).tickValues(b.domain().filter((w,_)=>_%Math.ceil(i/10)===0)).tickFormat(w=>{var C;const _=parseInt(w||"0"),x=((C=l[_])==null?void 0:C.time)||0;return x===0?"now":x<60?`-${x}s`:`-${Math.floor(x/60)}m`})).selectAll("text").attr("class","data-rate-axis-text"),m.append("g").call(tUe(v).ticks(5)).selectAll("text").attr("class","data-rate-axis-text"),m.append("text").attr("class","data-rate-y-axis-label").attr("transform","rotate(-90)").attr("y",-35).attr("x",-p/2).attr("text-anchor","middle").text("Data Points/sec"),m.selectAll("rect").data(l).enter().append("rect").attr("x",(w,_)=>b(_.toString())||0).attr("y",w=>v(w.count)).attr("width",b.bandwidth()).attr("height",w=>p-v(w.count)).attr("fill",w=>w.count>=3.5?"#4CAF50":w.count>=2?"#FF9800":w.count>0?"#F44336":"#E0E0E0").attr("rx",2).style("opacity",.8).on("mouseover",function(w,_){var M;ji(this).style("opacity",1),a.current&&a.current.remove();const k=ji("body").append("div").attr("class","data-rate-tooltip").style("opacity",0),C=(M=o.current)==null?void 0:M.getBoundingClientRect(),[E,T]=_a(w,o.current);C?(k.style("left",`${C.left+E+10}px`).style("top",`${C.top+T-10}px`).text(`${_.count} data points ${_.time===0?"now":`${_.time}s ago`}`).transition().duration(200).style("opacity",1),a.current=k):k.remove()}).on("mouseout",function(){ji(this).style("opacity",.8),a.current&&(a.current.transition().duration(200).style("opacity",0).remove(),a.current=null)}),m.append("g").attr("class","grid").attr("transform",`translate(0, ${p})`).call(xH(b).tickSize(-p).tickValues(b.domain().filter((w,_)=>_%Math.ceil(i/10)===0)).tickFormat(()=>"")).selectAll("line").attr("class","data-rate-grid-line"),()=>{a.current&&(a.current.remove(),a.current=null),BWe(".data-rate-tooltip").remove()}},[l,r,e,i]),g.jsxs("div",{className:"data-rate-histogram-container",children:[g.jsx("h4",{className:"data-rate-histogram-title",children:"Data Rate (points/second)"}),g.jsx("svg",{ref:o,className:"data-rate-histogram-svg",width:r,height:e})]})}const SVe=n=>{switch(n){case"orderbook":return"hooks-test-subchannel-orderbook";case"trades":return"hooks-test-subchannel-trades";case"positions":return"hooks-test-subchannel-positions";case"orders":return"hooks-test-subchannel-orders";case"buckets":return"hooks-test-subchannel-buckets";case"balances":return"hooks-test-subchannel-balances";default:return"hooks-test-subchannel-default"}};function GH({messages:n,maxDisplay:e,onMessageClick:r}){return n.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No multi-feed messages received yet"}):g.jsx("div",{className:"hooks-test-multifeed-messages-container",children:g.jsx("div",{className:"hooks-test-multifeed-messages-list",children:n.map((i,s)=>g.jsxs("div",{className:`hooks-test-multifeed-message-item ${s%2===0?"hooks-test-multifeed-message-item-even":"hooks-test-multifeed-message-item-odd"}`,onClick:()=>r(i,`Multi-Feed: ${i.sub_channel}`),children:[g.jsxs("div",{className:"hooks-test-multifeed-message-header",children:[g.jsx("span",{className:`hooks-test-multifeed-message-subchannel ${SVe(i.sub_channel)}`,children:i.sub_channel}),i.sequence_id&&g.jsxs("span",{className:"hooks-test-multifeed-message-sequence",children:["Seq: ",i.sequence_id]})]}),g.jsxs("div",{className:"hooks-test-multifeed-message-info",children:["Market: ",i.market_id||"N/A",i.first_sequence_id&&` | First SQ-ID: ${i.first_sequence_id}`,i.last_sequence_id&&` | Last SQ-ID: ${i.last_sequence_id}`,i.checksum&&` | Checksum: ${i.checksum.substring(0,8)}...`]}),g.jsxs("div",{className:"hooks-test-multifeed-message-preview",children:[JSON.stringify(i.data).substring(0,100),"..."]})]},s))})})}function CVe({buckets:n,orderPlacementMnemonic:e,setOrderPlacementMnemonic:r,orderPlacementBucketId:i,setOrderPlacementBucketId:s,orderPlacementSide:o,setOrderPlacementSide:a,orderPlacementOrderType:l,setOrderPlacementOrderType:c,orderPlacementPrice:u,setOrderPlacementPrice:d,orderPlacementQuantity:h,setOrderPlacementQuantity:f,orderPlacementLeverage:p,setOrderPlacementLeverage:m,isReady:b,loading:y,result:v,handlePlaceOrder:w,handleRandomize:_}){return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Mnemonic:",g.jsx("input",{type:"text",className:"hooks-test-input",value:e,onChange:x=>r(x.target.value),placeholder:"Enter mnemonic"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Bucket ID:",g.jsxs("select",{className:"hooks-test-select",value:i,onChange:x=>s(x.target.value),children:[g.jsx("option",{value:"",children:"Select a bucket..."}),n.map(x=>g.jsxs("option",{value:x.bucketId,children:[x.bucketId," (",x.collateralAsset,")"]},x.bucketId))]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Side:",g.jsxs("select",{className:"hooks-test-select",value:o,onChange:x=>a(x.target.value),children:[g.jsx("option",{value:"buy",children:"Buy"}),g.jsx("option",{value:"sell",children:"Sell"})]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Order Type:",g.jsxs("select",{className:"hooks-test-select",value:l,onChange:x=>c(x.target.value),children:[g.jsx("option",{value:"market",children:"Market"}),g.jsx("option",{value:"limit",children:"Limit"})]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Price:",g.jsx("input",{type:"number",className:"hooks-test-input",value:u||"",onChange:x=>d(parseFloat(x.target.value)||0),placeholder:"Enter price",step:"0.01",disabled:l==="market"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Quantity:",g.jsx("input",{type:"number",className:"hooks-test-input",value:h||"",onChange:x=>f(parseFloat(x.target.value)||0),placeholder:"Enter quantity",step:"0.001"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Leverage:",g.jsx("input",{type:"number",className:"hooks-test-input",value:p||"",onChange:x=>m(parseFloat(x.target.value)||1),placeholder:"Enter leverage",min:"1",step:"0.1"})]})})]}),g.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[g.jsx("button",{className:"hooks-test-button",onClick:w,disabled:!b||y||!i||h<=0,style:{flex:1,padding:"20px",fontSize:"18px",fontWeight:"bold"},children:y?"Placing Order...":o==="buy"?"Place Buy Order":"Place Sell Order"}),g.jsx("button",{className:"hooks-test-button",onClick:_,disabled:n.length===0,style:{padding:"20px",fontSize:"18px",fontWeight:"bold",minWidth:"120px"},children:"Random"})]}),v&&g.jsx("div",{className:"hooks-test-error-box",style:{marginTop:"15px",backgroundColor:v.success?"#d4edda":"#f8d7da",color:v.success?"#155724":"#721c24"},children:v.success?g.jsxs("div",{children:[g.jsx("strong",{children:"Success!"}),v.message&&g.jsx("div",{children:v.message}),v.orderId&&g.jsxs("div",{children:["Order ID: ",v.orderId]})]}):g.jsxs("div",{children:[g.jsx("strong",{children:"Error:"})," ",v.error]})})]})}function EVe({buckets:n,selectedMarketId:e}){const{client:r}=Kd(),{walletAddress:i,authToken:s}=yu(),{orders:o,loading:a,error:l,refresh:c}=x9({subscriptionClient:r,baseURL:yp,authToken:s,walletAddress:i,useWebSocket:!0,refreshInterval:0,marketId:e?String(e):void 0});A.useEffect(()=>{c()},[c,e]);const u=A.useMemo(()=>o.filter(h=>{const f=h.status.toUpperCase();return f==="OPEN"||f==="PENDING"||f==="PARTIAL"}),[o]),d=A.useMemo(()=>[{key:"orderId",label:"Order ID",width:200,render:h=>g.jsx("span",{style:{fontFamily:"monospace",fontSize:"12px"},children:h.orderId})},{key:"side",label:"Side",width:80,align:"center",render:h=>g.jsx("span",{style:{color:h.side==="BUY"||h.side==="LONG"?"#4CAF50":"#F44336",fontWeight:"bold"},children:h.side})},{key:"price",label:"Entry Price",width:120,align:"right",render:h=>g.jsx("span",{children:h.price.toFixed(2)})},{key:"filledQuantity",label:"Filled Size",width:120,align:"right",render:h=>g.jsx("span",{children:h.filledQuantity.toFixed(4)})}],[]);return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("div",{style:{marginTop:"20px"},children:a?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orders..."}):l?g.jsxs("div",{className:"hooks-test-loading-state",style:{color:"#F44336"},children:["Error: ",l]}):u.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No open orders found"}):g.jsx(Aze,{data:u,columns:d,maxItems:10,emptyMessage:"No open orders",rowHeight:24,showHeader:!0})}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{className:"hooks-test-button",disabled:!e||n.length===0||u.length===0,style:{width:"100%",padding:"20px",fontSize:"18px",fontWeight:"bold"},children:"Cancel Open Orders"})})]})}function AVe({buckets:n,selectedMarketId:e}){return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID:",g.jsx("input",{type:"text",className:"hooks-test-input",value:e?String(e):"",readOnly:!0,placeholder:"Select market from dropdown above"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Bucket ID:",g.jsxs("select",{className:"hooks-test-select",defaultValue:"",children:[g.jsx("option",{value:"",children:"Select a bucket..."}),n.map(r=>g.jsxs("option",{value:r.bucketId,children:[r.bucketId," (",r.collateralAsset,")"]},r.bucketId))]})]})})]}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{className:"hooks-test-button",disabled:!e||n.length===0,style:{width:"100%",padding:"20px",fontSize:"18px",fontWeight:"bold"},children:"Close Position"})}),g.jsx("div",{className:"hooks-test-loading-state",style:{marginTop:"20px",textAlign:"left"},children:"Position Close functionality coming soon..."})]})}function TVe({isReady:n,loading:e,result:r,selectedMarketId:i,buckets:s,markPrice:o,lastPrice:a,orderPlacementMnemonic:l,setOrderPlacementMnemonic:c,orderPlacementBucketId:u,setOrderPlacementBucketId:d,orderPlacementSide:h,setOrderPlacementSide:f,orderPlacementOrderType:p,setOrderPlacementOrderType:m,orderPlacementPrice:b,setOrderPlacementPrice:y,orderPlacementQuantity:v,setOrderPlacementQuantity:w,orderPlacementLeverage:_,setOrderPlacementLeverage:x,handlePlaceOrder:k,handleRandomize:C,getOrderPrice:E,calculateSize:T}){const[M,I]=A.useState("order-placement"),O=i?String(i):"0",F=A.useMemo(()=>{E();const $=T(),z=_n(_.toString());return{marketId:O,bucketId:u||"(required)",side:h,orderType:p,price:b,quantity:$>0?$:v||0,leverage:z}},[O,u,h,p,b,v,_,E,T]);return g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Order Operations",statusBadges:[g.jsx("span",{className:`hooks-test-status-badge ${n?"hooks-test-status-badge-success":"hooks-test-status-badge-warning"}`,children:n?"Ready":"Initializing..."},"ready-status")]}),g.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"start"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{className:"hooks-test-multifeed-tabs",children:[g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="order-placement"?"active":""}`,onClick:()=>I("order-placement"),children:"Order Placement"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="cancel-opens"?"active":""}`,onClick:()=>I("cancel-opens"),children:"Cancel Opens"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="position-close"?"active":""}`,onClick:()=>I("position-close"),children:"Position Close"})]}),M==="order-placement"&&g.jsx(CVe,{buckets:s,orderPlacementMnemonic:l,setOrderPlacementMnemonic:c,orderPlacementBucketId:u,setOrderPlacementBucketId:d,orderPlacementSide:h,setOrderPlacementSide:f,orderPlacementOrderType:p,setOrderPlacementOrderType:m,orderPlacementPrice:b,setOrderPlacementPrice:y,orderPlacementQuantity:v,setOrderPlacementQuantity:w,orderPlacementLeverage:_,setOrderPlacementLeverage:x,isReady:n,loading:e,result:r,handlePlaceOrder:k,handleRandomize:C}),M==="cancel-opens"&&g.jsx(EVe,{buckets:s,selectedMarketId:i}),M==="position-close"&&g.jsx(AVe,{buckets:s,selectedMarketId:i})]}),g.jsxs("div",{style:{flex:1},children:[g.jsx("h3",{className:"hooks-test-section-header",style:{marginTop:0},children:"Config JSON"}),g.jsx("div",{className:"hooks-test-result-data",children:g.jsx("pre",{className:"data-modal-content",children:JSON.stringify(F,null,2)})})]})]})]})}const YH=5e3,KH=20,PVe="1m",IVe=["orderbook","trades","positions","orders","buckets","balances"];function MVe(){const[n,e]=A.useState(yp),[r,i]=A.useState(nh),[s,o]=A.useState(GC),[a,l]=A.useState(100),[c,u]=A.useState(10),{walletAddress:d,authToken:h,error:f}=yu(),{markets:p,selectedMarketId:m,setSelectedMarketId:b,fetchMarkets:y,loadingMarkets:v,getMarket:w}=ql({baseURL:n,sessionToken:h,autoFetchMarkets:!0}),[_,x]=A.useState("0"),[k,C]=A.useState("1m"),[E,T]=A.useState("0"),[M,I]=A.useState("BTC/USDC"),[O,F]=A.useState("0"),[$,z]=A.useState("0"),[D,j]=A.useState(WC),[N,R]=A.useState(""),[H,U]=A.useState("buy"),[K,Y]=A.useState("market"),[Z,G]=A.useState(0),[X,ae]=A.useState(0),[be,le]=A.useState(1);A.useEffect(()=>{if(m){const Pe=String(m);x(Pe),T(Pe),F(Pe),z(Pe),Te([]),ie([]),Re(new Map);const Jt=w(m||"");Jt&&I(Jt.symbol||`${Jt.baseAsset}/${Jt.quoteAsset}`)}},[m,w]);const[J,xe]=A.useState(null),[ge,V]=A.useState("Data Details"),[we,ze]=A.useState(!1),{client:et,isEnabled:$e,isConnected:mt,connectionState:Ue,toggleEnabled:Ke,getRetainedData:pt,getAllRetainedData:lt,wsURL:Ye,setWsURL:We,authToken:Ae,setAuthToken:W,walletAddress:de,setWalletAddress:me,deviceID:oe,setDeviceID:pe,subscribeMultiFeedWithRetention:ve,unsubscribeMultiFeed:ee}=Kd(),{klineData:ue,loading:ce,error:Ce,isConnected:Me}=m7e({subscriptionClient:et,marketId:_,interval:k,maxDataPoints:a});A.useEffect(()=>{const Pe=[];r!==Ye&&Pe.push(()=>We(r)),h!==Ae&&Pe.push(()=>W(h)),d!==de&&Pe.push(()=>me(d)),s!==oe&&Pe.push(()=>pe(s)),Pe.forEach(Ct=>Ct())},[r,Ye,We,h,Ae,W,d,de,me,s,oe,pe]);const[he,Te]=A.useState([]),[Se,ie]=A.useState([]),[re,se]=A.useState(!1),[tt,Re]=A.useState(new Map),[He,Oe]=A.useState("recent"),[Xe,dt]=A.useState(null),[Ve,ot]=A.useState(!0),[Ie,at]=A.useState(null),{markPrice:ke,error:_t}=VC({subscriptionClient:et,baseURL:n,marketId:E,disablePolling:!0}),gt=re,[St,Ut]=A.useState([]),[zt,tn]=A.useState([]);A.useEffect(()=>{Xe&&Ut(Pe=>{const Ct=[...Pe,{...Xe,value:Xe.price,timestamp:Xe.timestamp,arrivalTime:Date.now()}];return Ct.length>a?Ct.slice(-a):Ct})},[Xe,a]),A.useEffect(()=>{ke&&tn(Pe=>{const Ct=[...Pe,{...ke,value:ke.mark_price,timestamp:ke.timestamp,arrivalTime:Date.now()}];return Ct.length>a?Ct.slice(-a):Ct})},[ke,a]);const{buckets:Wt,loading:nt,error:an,refresh:Qn}=v9({subscriptionClient:et,baseURL:n,authToken:h,walletAddress:d,refreshInterval:0,useWebSocket:!0,marketId:"0"}),{positions:ln,loading:qs,error:ui,isConnected:wo,refresh:oa}=upe({subscriptionClient:et,baseURL:n,authToken:h,walletAddress:d,useWebSocket:!0,refreshInterval:0}),{orders:Rr,loading:di,error:Hs,isConnected:Mp,refresh:Op}=x9({subscriptionClient:et,baseURL:n,authToken:h,walletAddress:d,deviceID:s,useWebSocket:!0,refreshInterval:0}),{asks:Ya,bids:Cn,spread:Xl,midPrice:_u,loading:Ql,error:ku,isConnected:Dp,refresh:Rp}=y9({subscriptionClient:et,baseURL:n,marketId:O,disablePolling:!0}),{latestFundingRate:Jn,latestDeviation:Kr,latestTWAP:Nr,loading:Np,error:Su,isConnected:uh}=cpe({subscriptionClient:et,baseURL:n,marketId:$}),{setOrderType:dh,setSizeInput:hh,setPrice:fh,setLeverage:Cu,isReady:jp,loading:Ka,result:Jl,placeBuyOrder:Eu,placeSellOrder:aa,getOrderPrice:ps,calculateSize:Bp}=lpe({baseURL:n,mnemonic:D,marketId:m?String(m):"0",selectedBucketId:N,tradePrice:(ke==null?void 0:ke.mark_price)||(Xe==null?void 0:Xe.price)||void 0}),Lt=A.useMemo(()=>{var Ct,Jt;return Jn||Kr||Nr?{marketId:$,fundingRate:Jn?{latest:Jn,fundingRate:o3((typeof Jn.funding_rate=="string",Jn.funding_rate)),markPrice:jh((typeof Jn.mark_price=="string",Jn.mark_price)),indexPrice:jh((typeof Jn.index_price=="string",Jn.index_price)),premiumRate:o3((typeof Jn.premium_rate=="string",Jn.premium_rate)),symbol:Jn.symbol||"N/A",formattedTimestamp:Jn.timestamp?new Date(kl(Jn.timestamp)).toLocaleString():null}:null,deviation:Kr?{latest:Kr,deviationBps:Kr.deviation_bps,deviationPercent:o3(Kr.deviation_percent),lastPrice:jh(Kr.last_price),markPrice:jh(Kr.mark_price),indexPrice:jh(Kr.index_price),direction:Kr.direction||"N/A",symbol:Kr.symbol||"N/A",formattedTimestamp:Kr.timestamp?new Date(kl(Kr.timestamp)).toLocaleString():null}:null,twap:Nr?{latest:Nr,twapValue:jh((typeof Nr.twap_value=="string",Nr.twap_value)),windowSize:((Ct=Nr.window_size)==null?void 0:Ct.toString())||"N/A",sampleCount:((Jt=Nr.sample_count)==null?void 0:Jt.toString())||"N/A",calculationMethod:Nr.calculation_method||"N/A",startTime:Nr.start_time?new Date(Nr.start_time*1e3).toLocaleString():"N/A",endTime:Nr.end_time?new Date(Nr.end_time*1e3).toLocaleString():"N/A",symbol:Nr.symbol||"N/A"}:null}:null},[$,Jn,Kr,Nr]),xo=A.useMemo(()=>m?String(m):O,[m,O]),_o=A.useMemo(()=>M||"BTC/USDC",[M]),Au=A.useCallback(Pe=>{if(IVe.includes(Pe.sub_channel)?ie(Ct=>[...Ct,Pe].slice(-100)):Te(Ct=>[...Ct,Pe].slice(-20)),Re(Ct=>{const Jt=new Map(Ct),Vs=Jt.get(Pe.sub_channel)||0;return Jt.set(Pe.sub_channel,Vs+1),Jt}),VR(Pe))try{const Ct=Pe.data,Jt={market_id:Ct.market_id,price:Ft(Ct.price),quantity:Ft(Ct.quantity),timestamp:kl(Ct.timestamp),is_buyer_maker:Ct.is_buyer_maker,trade_id:Ct.trade_id};dt(Jt),ot(!1),at(null)}catch(Ct){console.error("[HooksTestPage] Error processing last_price from multi-feed:",Ct),at(Ct instanceof Error?Ct.message:"Failed to process last_price")}},[]);A.useEffect(()=>{se(mt&&$e)},[mt,$e]);const Tu=A.useMemo(()=>k||PVe,[k]);A.useEffect(()=>{if(!xo||!_o||!et||!$e){$e||(Te([]),ie([]),Re(new Map));return}if(!mt){console.debug("[HooksTestPage] Client not connected yet, waiting...");return}const Pe=pt("last_price");if(Pe&&VR(Pe))try{const Jt={market_id:Pe.data.market_id,price:Ft(Pe.data.price),quantity:Ft(Pe.data.quantity),timestamp:kl(Pe.data.timestamp),is_buyer_maker:Pe.data.is_buyer_maker,trade_id:Pe.data.trade_id};dt(Jt),ot(!1),at(null)}catch(Jt){console.error("[HooksTestPage] Error processing retained last_price:",Jt),at(Jt instanceof Error?Jt.message:"Failed to process retained last_price")}console.debug("[HooksTestPage] Subscribing to multi-feed with:",{marketId:xo,symbol:_o,interval:Tu});let Ct=!1;try{if(ve(xo,_o,Au,Tu),et){const Jt=setTimeout(()=>{Ct||(console.warn("[HooksTestPage] Multi-feed subscription acknowledgment timeout"),at("Multi-feed subscription acknowledgment timeout"),ot(!1))},YH);et.waitForSubscription("multi_feed",YH).then(()=>{Ct=!0,clearTimeout(Jt),console.debug("[HooksTestPage] Multi-feed subscription acknowledged by server"),ot(!1),at(null)}).catch(Vs=>{Ct=!0,clearTimeout(Jt),console.warn("[HooksTestPage] Multi-feed subscription acknowledgment error:",Vs),at("Multi-feed subscription acknowledgment failed"),ot(!1)})}}catch(Jt){console.error("[HooksTestPage] Failed to subscribe to multi-feed:",Jt),at(Jt instanceof Error?Jt.message:"Failed to subscribe"),ot(!1)}return()=>{if(et&&xo&&_o)try{ee(xo,_o,Au)}catch(Jt){console.error("[HooksTestPage] Error unsubscribing from multi-feed:",Jt)}}},[xo,_o,et,$e,mt,Tu,Au,ve,ee,pt]);const hr=(Pe,Ct)=>{const Jt=Pe.raw||Pe.message||Pe.data||Pe;xe(Jt),V(Ct),ze(!0)},Lp=A.useCallback(()=>{ze(!1)},[]);A.useEffect(()=>{dh(K)},[K,dh]),A.useEffect(()=>{hh(X)},[X,hh]),A.useEffect(()=>{fh(Z)},[Z,fh]),A.useEffect(()=>{Cu(be)},[be,Cu]);const Pu=A.useCallback(async()=>{H==="buy"?await Eu():await aa()},[H,Eu,aa]),Fp=A.useCallback(()=>{if(Wt.length>0){const Xa=Wt[Math.floor(Math.random()*Wt.length)];R(Xa.bucketId)}const Pe=Math.random()<.5?"buy":"sell";U(Pe);const Ct=Math.random()<.5?"market":"limit";if(Y(Ct),Ct==="market")G(0);else{const Xa=Math.floor(Math.random()*80001)+1e4;G(Xa)}const Jt=Math.random()*(1.5-.01)+.01;ae(parseFloat(Jt.toFixed(3)));const Vs=Math.floor(Math.random()*10)+1;le(Vs)},[Wt]);return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"Hooks Test QA"}),g.jsx("p",{children:"realtime monitor of data flow and block"}),g.jsx(Mze,{isEnabled:$e,isConnected:mt,connectionState:Ue,retainedDataCount:lt().size,onToggle:Ke}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{className:"hooks-test-section-header",children:"Shared Configuration"}),g.jsxs("div",{className:"hooks-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["API Base URL:",g.jsx("input",{type:"text",className:"hooks-test-input",value:n,onChange:Pe=>e(Pe.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["WebSocket URL:",g.jsx("input",{type:"text",className:"hooks-test-input",value:r,onChange:Pe=>i(Pe.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Wallet Address (from useOnboard):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:d||"",readOnly:!0,placeholder:"Set via useOnboard hook"}),f&&g.jsx("div",{className:"hooks-test-error-message",children:f})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Auth Token (from useOnboard):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:h||"",readOnly:!0,placeholder:"Set via useOnboard hook"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market Selection:",g.jsxs("select",{className:"hooks-test-select",value:m||"",onChange:Pe=>{const Ct=Pe.target.value;Ct&&b(Ct)},children:[g.jsx("option",{value:"",children:"Select a market..."}),p.map(Pe=>g.jsxs("option",{value:String(Pe.market_id),children:[Pe.symbol||`${Pe.baseAsset}/${Pe.quoteAsset}`," ","(ID: ",Pe.market_id,")"]},Pe.market_id))]}),v&&g.jsx("div",{className:"hooks-test-info-message",children:"Loading markets..."}),!v&&p.length===0&&g.jsx("button",{className:"hooks-test-button hooks-test-button-with-margin",onClick:()=>y(),children:"Fetch Markets"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Device ID:",g.jsx("input",{type:"text",className:"hooks-test-input",value:s,onChange:Pe=>o(Pe.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Max Data Points (Memory):",g.jsx("input",{type:"number",className:"hooks-test-input",value:a,onChange:Pe=>l(Math.max(10,parseInt(Pe.target.value)||100)),min:"10"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Max Visible Rectangles:",g.jsx("input",{type:"number",className:"hooks-test-input",value:c,onChange:Pe=>u(Math.max(1,parseInt(Pe.target.value)||10)),min:"1"})]})})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Kline Hook",isConnected:Me,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[ue.length," data points"]},"data-points")]}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:_,onChange:Pe=>x(Pe.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Interval:",g.jsxs("select",{className:"hooks-test-select",value:k,onChange:Pe=>C(Pe.target.value),children:[g.jsx("option",{value:"1m",children:"1m"}),g.jsx("option",{value:"5m",children:"5m"}),g.jsx("option",{value:"15m",children:"15m"}),g.jsx("option",{value:"1h",children:"1h"}),g.jsx("option",{value:"4h",children:"4h"}),g.jsx("option",{value:"1d",children:"1d"})]})]})})]}),Ce&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Ce]}),ce&&ue.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading kline data..."}):ue.length===0?g.jsx("div",{className:"hooks-test-empty-state",children:"No kline data available"}):g.jsxs(g.Fragment,{children:[g.jsx(im,{data:ue,maxVisible:c,maxDataPoints:a,getValue:Pe=>Pe.close||Pe.high||100,onItemClick:Pe=>hr(Pe,"Kline Data")}),g.jsx(sm,{data:ue,getTimestamp:Pe=>{let Ct=Pe.timestamp||Pe.open_time||Date.now();return Ct<9466848e5&&(Ct=Ct*1e3),Ct}})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Mark Price Hook",isConnected:gt}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:E,onChange:Pe=>T(Pe.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Mark price subscription uses marketId (not symbol). Can be manually overridden if needed."})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Symbol (for display only, auto-updated from selected market):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:M,onChange:Pe=>I(Pe.target.value),placeholder:"BTC/USDC"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Symbol is only used for display in mark price data, not for subscription."})]})})]}),_t&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",_t]}),zt.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No mark price data available"}):g.jsxs(g.Fragment,{children:[g.jsx(im,{data:zt,maxVisible:c,maxDataPoints:a,getValue:Pe=>Pe.value||Pe.mark_price||100,onItemClick:Pe=>hr(Pe,"Mark Price Data")}),g.jsx(sm,{data:zt,getTimestamp:Pe=>Pe.arrivalTime||Pe.timestamp||Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Last Price Hook",isConnected:gt}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:E,onChange:Pe=>T(Pe.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})})}),Ie&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Ie]}),Ve&&St.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading last price data..."}):St.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No last price data available"}):g.jsxs(g.Fragment,{children:[g.jsx(im,{data:St,maxVisible:c,maxDataPoints:a,getValue:Pe=>Pe.value||Pe.price||100,onItemClick:Pe=>hr(Pe,"Last Price Data")}),g.jsx(sm,{data:St,getTimestamp:Pe=>Pe.arrivalTime||Pe.timestamp||Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Bucket Hook (Addressed)",statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Wt.length," buckets"]},"buckets-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>Qn(),disabled:nt,children:nt?"Loading...":"Refresh"},"refresh")]}),an&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",an]}),nt&&Wt.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading buckets..."}):Wt.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No buckets found"}):g.jsxs(g.Fragment,{children:[g.jsx(im,{data:Wt,maxVisible:c,maxDataPoints:a,getValue:Pe=>Pe.totalMargin||Pe.unrealizedPnL||100,onItemClick:Pe=>hr(Pe,"Bucket Data")}),g.jsx(sm,{data:Wt,getTimestamp:Pe=>Pe.createdAt?new Date(Pe.createdAt).getTime():Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Position Hook (Addressed)",isConnected:wo,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[ln.length," positions"]},"positions-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>oa(),disabled:qs,children:qs?"Loading...":"Refresh"},"refresh")]}),ui&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",ui]}),qs&&ln.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading positions..."}):ln.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No positions found"}):g.jsxs(g.Fragment,{children:[g.jsx(im,{data:ln,maxVisible:c,maxDataPoints:a,getValue:Pe=>Pe.size||Pe.margin||100,onItemClick:Pe=>hr(Pe,"Position Data")}),g.jsx(sm,{data:ln,getTimestamp:Pe=>Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Order Hook (Addressed)",isConnected:Mp,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Rr.length," orders"]},"orders-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>Op(),disabled:di,children:di?"Loading...":"Refresh"},"refresh")]}),Hs&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Hs]}),di&&Rr.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orders..."}):Rr.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No orders found"}):g.jsxs(g.Fragment,{children:[g.jsx(im,{data:Rr,maxVisible:c,maxDataPoints:a,getValue:Pe=>Pe.quantity||Pe.price||100,onItemClick:Pe=>hr(Pe,"Order Data")}),g.jsx(sm,{data:Rr,getTimestamp:Pe=>Pe.createdAt?typeof Pe.createdAt=="number"?Pe.createdAt:new Date(Pe.createdAt).getTime():Pe.updatedAt?typeof Pe.updatedAt=="number"?Pe.updatedAt:new Date(Pe.updatedAt).getTime():Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Orderbook Hook",isConnected:Dp,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Cn.length+Ya.length," levels"]},"levels-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>Rp(),disabled:Ql,children:Ql?"Loading...":"Refresh"},"refresh")]}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:O,onChange:Pe=>F(Pe.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})})}),ku&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",ku]}),Ql&&Cn.length===0&&Ya.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orderbook..."}):Cn.length===0&&Ya.length===0?g.jsx("div",{className:"hooks-test-empty-state",children:"No orderbook data available"}):g.jsxs("div",{className:"hooks-test-orderbook-container",children:[g.jsxs("div",{className:"hooks-test-orderbook-grid",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"hooks-test-orderbook-section-title hooks-test-orderbook-section-title-bids",children:["Bids (",Cn.length,")"]}),g.jsx("div",{className:"hooks-test-orderbook-levels-container",children:Cn.slice(0,KH).map((Pe,Ct)=>g.jsxs("div",{className:`hooks-test-orderbook-level-row ${Ct%2===0?"hooks-test-orderbook-level-row-even":"hooks-test-orderbook-level-row-odd"}`,onClick:()=>hr({raw:Pe},"Orderbook Bid Level"),children:[g.jsx("span",{children:Pe.price.toFixed(8)}),g.jsx("span",{children:Pe.size.toFixed(8)}),g.jsx("span",{children:Pe.cumulative.toFixed(8)})]},Ct))})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"hooks-test-orderbook-section-title hooks-test-orderbook-section-title-asks",children:["Asks (",Ya.length,")"]}),g.jsx("div",{className:"hooks-test-orderbook-levels-container",children:Ya.slice(0,KH).map((Pe,Ct)=>g.jsxs("div",{className:`hooks-test-orderbook-level-row ${Ct%2===0?"hooks-test-orderbook-level-row-even":"hooks-test-orderbook-level-row-odd"}`,onClick:()=>hr({raw:Pe},"Orderbook Ask Level"),children:[g.jsx("span",{children:Pe.price.toFixed(8)}),g.jsx("span",{children:Pe.size.toFixed(8)}),g.jsx("span",{children:Pe.cumulative.toFixed(8)})]},Ct))})]})]}),Xl!==void 0&&g.jsxs("div",{className:"hooks-test-orderbook-spread-info",children:[g.jsx("strong",{children:"Spread:"})," ",Xl.toFixed(8)," |"," ",g.jsx("strong",{children:"Mid Price:"})," ",(_u==null?void 0:_u.toFixed(8))||"N/A"]})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Rates Hook (Funding Rate, Deviation, TWAP)",isConnected:uh,statusBadges:[],actions:[]}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",value:$,onChange:Pe=>{const Ct=Pe.target.value.trim();z(Ct||"0")},placeholder:"0",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`}),g.jsx("div",{className:"hooks-test-helper-text",children:"Subscribe to a single market. Can be manually overridden if needed."})]})})}),Su&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Su]}),Np&&!Lt?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading rates..."}):Lt?g.jsxs("div",{className:"hooks-test-funding-rate-list",children:[Lt.fundingRate&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>hr({data:Lt.fundingRate.latest},`Funding Rate - Market ${Lt.marketId}`),role:"button",tabIndex:0,onKeyDown:Pe=>{(Pe.key==="Enter"||Pe.key===" ")&&(Pe.preventDefault(),hr({data:Lt.fundingRate.latest},`Funding Rate - Market ${Lt.marketId}`))},"aria-label":`View funding rate details for market ${Lt.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Lt.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," Funding Rate"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Lt.fundingRate.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Rate:"})," ",Lt.fundingRate.fundingRate]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",Lt.fundingRate.markPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",Lt.fundingRate.indexPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Premium Rate:"})," ",Lt.fundingRate.premiumRate]}),Lt.fundingRate.formattedTimestamp&&g.jsxs("div",{children:[g.jsx("strong",{children:"Timestamp:"})," ",Lt.fundingRate.formattedTimestamp]})]})}),Lt.deviation&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>hr({data:Lt.deviation.latest},`Deviation - Market ${Lt.marketId}`),role:"button",tabIndex:0,onKeyDown:Pe=>{(Pe.key==="Enter"||Pe.key===" ")&&(Pe.preventDefault(),hr({data:Lt.deviation.latest},`Deviation - Market ${Lt.marketId}`))},"aria-label":`View deviation details for market ${Lt.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Lt.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," Deviation"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Lt.deviation.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Deviation (BPS):"})," ",Lt.deviation.deviationBps]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Deviation (%):"})," ",Lt.deviation.deviationPercent]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Last Price:"})," ",Lt.deviation.lastPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",Lt.deviation.markPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",Lt.deviation.indexPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Direction:"})," ",Lt.deviation.direction]}),Lt.deviation.formattedTimestamp&&g.jsxs("div",{children:[g.jsx("strong",{children:"Timestamp:"})," ",Lt.deviation.formattedTimestamp]})]})}),Lt.twap&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>hr({data:Lt.twap.latest},`TWAP - Market ${Lt.marketId}`),role:"button",tabIndex:0,onKeyDown:Pe=>{(Pe.key==="Enter"||Pe.key===" ")&&(Pe.preventDefault(),hr({data:Lt.twap.latest},`TWAP - Market ${Lt.marketId}`))},"aria-label":`View TWAP details for market ${Lt.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Lt.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," TWAP"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Lt.twap.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"TWAP Value:"})," ",Lt.twap.twapValue]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Window Size:"})," ",Lt.twap.windowSize]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Sample Count:"})," ",Lt.twap.sampleCount]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Calculation Method:"})," ",Lt.twap.calculationMethod]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Start Time:"})," ",Lt.twap.startTime]}),g.jsxs("div",{children:[g.jsx("strong",{children:"End Time:"})," ",Lt.twap.endTime]})]})})]}):g.jsx("div",{className:"hooks-test-empty-state",children:"No rates data available"})]}),g.jsx(TVe,{isReady:jp,loading:Ka,result:Jl,selectedMarketId:m,buckets:Wt,markPrice:ke,lastPrice:Xe,orderPlacementMnemonic:D,setOrderPlacementMnemonic:j,orderPlacementBucketId:N,setOrderPlacementBucketId:R,orderPlacementSide:H,setOrderPlacementSide:U,orderPlacementOrderType:K,setOrderPlacementOrderType:Y,orderPlacementPrice:Z,setOrderPlacementPrice:G,orderPlacementQuantity:X,setOrderPlacementQuantity:ae,orderPlacementLeverage:be,setOrderPlacementLeverage:le,handlePlaceOrder:Pu,handleRandomize:Fp,getOrderPrice:ps,calculateSize:Bp}),g.jsxs("div",{className:"App-section",children:[g.jsx(al,{title:"Multi-Feed Channel",isConnected:re,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[he.length+Se.length," messages"]},"messages-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>{Te([]),ie([]),Re(new Map)},children:"Clear"},"clear")]}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (from Market Selection):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:xo,readOnly:!0,placeholder:"Select market from dropdown above"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Symbol:",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:_o,readOnly:!0,placeholder:"BTC/USDC"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Symbol is controlled by Trade Price Symbol above"})]})})]}),tt.size>0&&g.jsx("div",{className:"hooks-test-multifeed-stats-container",children:g.jsx("div",{className:"hooks-test-multifeed-badges-container",children:Array.from(tt.entries()).map(([Pe,Ct])=>g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info hooks-test-multifeed-badge-clickable",onClick:()=>{const Vs=[...he,...Se].filter(Xa=>Xa.sub_channel===Pe).reverse();Vs.length>0&&hr({raw:Vs},`Multi-Feed: ${Pe}`)},children:[Pe,": ",Ct]},Pe))})}),g.jsxs("div",{className:"hooks-test-multifeed-tabs",children:[g.jsx("button",{className:`hooks-test-multifeed-tab ${He==="recent"?"active":""}`,onClick:()=>Oe("recent"),children:"Recent Messages (Last 20)"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${He==="colored"?"active":""}`,onClick:()=>Oe("colored"),children:"Colored Messages (Last 100)"})]}),He==="recent"?g.jsx(GH,{messages:[...he].reverse(),maxDisplay:20,onMessageClick:hr}):g.jsx(GH,{messages:[...Se].reverse(),maxDisplay:100,onMessageClick:hr})]}),g.jsx(Dze,{data:J,isOpen:we,onClose:Lp,title:ge})]})}function OVe(){return g.jsx(_9,{children:g.jsx(MVe,{})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ix(n){return n+.5|0}const Sd=(n,e,r)=>Math.max(Math.min(n,r),e);function Ay(n){return Sd(Ix(n*2.55),0,255)}function Ld(n){return Sd(Ix(n*255),0,255)}function kc(n){return Sd(Ix(n/2.55)/100,0,1)}function XH(n){return Sd(Ix(n*100),0,100)}const To={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},E4=[..."0123456789ABCDEF"],DVe=n=>E4[n&15],RVe=n=>E4[(n&240)>>4]+E4[n&15],k_=n=>(n&240)>>4===(n&15),NVe=n=>k_(n.r)&&k_(n.g)&&k_(n.b)&&k_(n.a);function jVe(n){var e=n.length,r;return n[0]==="#"&&(e===4||e===5?r={r:255&To[n[1]]*17,g:255&To[n[2]]*17,b:255&To[n[3]]*17,a:e===5?To[n[4]]*17:255}:(e===7||e===9)&&(r={r:To[n[1]]<<4|To[n[2]],g:To[n[3]]<<4|To[n[4]],b:To[n[5]]<<4|To[n[6]],a:e===9?To[n[7]]<<4|To[n[8]]:255})),r}const BVe=(n,e)=>n<255?e(n):"";function LVe(n){var e=NVe(n)?DVe:RVe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+BVe(n.a,e):void 0}const FVe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lge(n,e,r){const i=e*Math.min(r,1-r),s=(o,a=(o+n/30)%12)=>r-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function $Ve(n,e,r){const i=(s,o=(s+n/60)%6)=>r-r*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function zVe(n,e,r){const i=lge(n,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)i[s]*=1-e-r,i[s]+=e;return i}function UVe(n,e,r,i,s){return n===s?(e-r)/i+(e<r?6:0):e===s?(r-n)/i+2:(n-e)/i+4}function sB(n){const r=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(r,i,s),a=Math.min(r,i,s),l=(o+a)/2;let c,u,d;return o!==a&&(d=o-a,u=l>.5?d/(2-o-a):d/(o+a),c=UVe(r,i,s,d,o),c=c*60+.5),[c|0,u||0,l]}function oB(n,e,r,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,r,i)).map(Ld)}function aB(n,e,r){return oB(lge,n,e,r)}function WVe(n,e,r){return oB(zVe,n,e,r)}function qVe(n,e,r){return oB($Ve,n,e,r)}function cge(n){return(n%360+360)%360}function HVe(n){const e=FVe.exec(n);let r=255,i;if(!e)return;e[5]!==i&&(r=e[6]?Ay(+e[5]):Ld(+e[5]));const s=cge(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=WVe(s,o,a):e[1]==="hsv"?i=qVe(s,o,a):i=aB(s,o,a),{r:i[0],g:i[1],b:i[2],a:r}}function VVe(n,e){var r=sB(n);r[0]=cge(r[0]+e),r=aB(r),n.r=r[0],n.g=r[1],n.b=r[2]}function GVe(n){if(!n)return;const e=sB(n),r=e[0],i=XH(e[1]),s=XH(e[2]);return n.a<255?`hsla(${r}, ${i}%, ${s}%, ${kc(n.a)})`:`hsl(${r}, ${i}%, ${s}%)`}const QH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},JH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function YVe(){const n={},e=Object.keys(JH),r=Object.keys(QH);let i,s,o,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],s=0;s<r.length;s++)o=r[s],l=l.replace(o,QH[o]);o=parseInt(JH[a],16),n[l]=[o>>16&255,o>>8&255,o&255]}return n}let S_;function KVe(n){S_||(S_=YVe(),S_.transparent=[0,0,0,0]);const e=S_[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const XVe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QVe(n){const e=XVe.exec(n);let r=255,i,s,o;if(e){if(e[7]!==i){const a=+e[7];r=e[8]?Ay(a):Sd(a*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?Ay(i):Sd(i,0,255)),s=255&(e[4]?Ay(s):Sd(s,0,255)),o=255&(e[6]?Ay(o):Sd(o,0,255)),{r:i,g:s,b:o,a:r}}}function JVe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${kc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const B3=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,om=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ZVe(n,e,r){const i=om(kc(n.r)),s=om(kc(n.g)),o=om(kc(n.b));return{r:Ld(B3(i+r*(om(kc(e.r))-i))),g:Ld(B3(s+r*(om(kc(e.g))-s))),b:Ld(B3(o+r*(om(kc(e.b))-o))),a:n.a+r*(e.a-n.a)}}function C_(n,e,r){if(n){let i=sB(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*r,e===0?360:1)),i=aB(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function uge(n,e){return n&&Object.assign(e||{},n)}function ZH(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ld(n[3]))):(e=uge(n,{r:0,g:0,b:0,a:1}),e.a=Ld(e.a)),e}function eGe(n){return n.charAt(0)==="r"?QVe(n):HVe(n)}class yw{constructor(e){if(e instanceof yw)return e;const r=typeof e;let i;r==="object"?i=ZH(e):r==="string"&&(i=jVe(e)||KVe(e)||eGe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=uge(this._rgb);return e&&(e.a=kc(e.a)),e}set rgb(e){this._rgb=ZH(e)}rgbString(){return this._valid?JVe(this._rgb):void 0}hexString(){return this._valid?LVe(this._rgb):void 0}hslString(){return this._valid?GVe(this._rgb):void 0}mix(e,r){if(e){const i=this.rgb,s=e.rgb;let o;const a=r===o?.5:r,l=2*a-1,c=i.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;o=1-u,i.r=255&u*i.r+o*s.r+.5,i.g=255&u*i.g+o*s.g+.5,i.b=255&u*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,r){return e&&(this._rgb=ZVe(this._rgb,e._rgb,r)),this}clone(){return new yw(this.rgb)}alpha(e){return this._rgb.a=Ld(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Ix(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return C_(this._rgb,2,e),this}darken(e){return C_(this._rgb,2,-e),this}saturate(e){return C_(this._rgb,1,e),this}desaturate(e){return C_(this._rgb,1,-e),this}rotate(e){return VVe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function uc(){}const tGe=(()=>{let n=0;return()=>n++})();function qn(n){return n==null}function sr(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function js(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function il(n,e){return js(n)?n:e}function en(n,e){return typeof n>"u"?e:n}const nGe=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,dge=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Rn(n,e,r){if(n&&typeof n.call=="function")return n.apply(r,e)}function In(n,e,r,i){let s,o,a;if(sr(n))for(o=n.length,s=0;s<o;s++)e.call(r,n[s],s);else if(rn(n))for(a=Object.keys(n),o=a.length,s=0;s<o;s++)e.call(r,n[a[s]],a[s])}function l2(n,e){let r,i,s,o;if(!n||!e||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;++r)if(s=n[r],o=e[r],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function c2(n){if(sr(n))return n.map(c2);if(rn(n)){const e=Object.create(null),r=Object.keys(n),i=r.length;let s=0;for(;s<i;++s)e[r[s]]=c2(n[r[s]]);return e}return n}function hge(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function rGe(n,e,r,i){if(!hge(n))return;const s=e[n],o=r[n];rn(s)&&rn(o)?vw(s,o,i):e[n]=c2(o)}function vw(n,e,r){const i=sr(e)?e:[e],s=i.length;if(!rn(n))return n;r=r||{};const o=r.merger||rGe;let a;for(let l=0;l<s;++l){if(a=i[l],!rn(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)o(c[u],n,a,r)}return n}function nv(n,e){return vw(n,e,{merger:iGe})}function iGe(n,e,r){if(!hge(n))return;const i=e[n],s=r[n];rn(i)&&rn(s)?nv(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=c2(s))}const eV={"":n=>n,x:n=>n.x,y:n=>n.y};function sGe(n){const e=n.split("."),r=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}function oGe(n){const e=sGe(n);return r=>{for(const i of e){if(i==="")break;r=r&&r[i]}return r}}function ww(n,e){return(eV[e]||(eV[e]=oGe(e)))(n)}function lB(n){return n.charAt(0).toUpperCase()+n.slice(1)}const po=n=>typeof n<"u",Rs=n=>typeof n=="function",tV=(n,e)=>{if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0};function aGe(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Sn=Math.PI,wi=2*Sn,lGe=wi+Sn,u2=Number.POSITIVE_INFINITY,cB=Sn/180,xi=Sn/2,Uo=Sn/4,d2=Sn*2/3,fge=Math.log10,S0=Math.sign;function rv(n,e,r){return Math.abs(n-e)<r}function nV(n){const e=Math.round(n);n=rv(n,e,n/1e3)?e:n;const r=Math.pow(10,Math.floor(fge(n))),i=n/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function cGe(n){const e=[],r=Math.sqrt(n);let i;for(i=1;i<r;i++)n%i===0&&(e.push(i),e.push(n/i));return r===(r|0)&&e.push(r),e.sort((s,o)=>s-o).pop(),e}function uGe(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function tp(n){return!uGe(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function dGe(n,e){const r=Math.round(n);return r-e<=n&&r+e>=n}function hGe(n,e,r){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][r],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function si(n){return n*(Sn/180)}function pge(n){return n*(180/Sn)}function rV(n){if(!js(n))return;let e=1,r=0;for(;Math.round(n*e)/e!==n;)e*=10,r++;return r}function A4(n,e){const r=e.x-n.x,i=e.y-n.y,s=Math.sqrt(r*r+i*i);let o=Math.atan2(i,r);return o<-.5*Sn&&(o+=wi),{angle:o,distance:s}}function C0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function fGe(n,e){return(n-e+lGe)%wi-Sn}function Ju(n){return(n%wi+wi)%wi}function h2(n,e,r,i){const s=Ju(n),o=Ju(e),a=Ju(r),l=Ju(o-s),c=Ju(a-s),u=Ju(s-o),d=Ju(s-a);return s===o||s===a||i&&o===a||l>c&&u<d}function Yo(n,e,r){return Math.max(e,Math.min(r,n))}function pGe(n){return Yo(n,-32768,32767)}function Ty(n,e,r,i=1e-6){return n>=Math.min(e,r)-i&&n<=Math.max(e,r)+i}function uB(n,e,r){r=r||(a=>n[a]<e);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,r(o)?s=o:i=o;return{lo:s,hi:i}}const nf=(n,e,r,i)=>uB(n,r,i?s=>{const o=n[s][e];return o<r||o===r&&n[s+1][e]===r}:s=>n[s][e]<r),mGe=(n,e,r)=>uB(n,r,i=>n[i][e]>=r);function gGe(n,e,r){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>r;)s--;return i>0||s<n.length?n.slice(i,s):n}const mge=["push","pop","shift","splice","unshift"];function bGe(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),mge.forEach(r=>{const i="_onData"+lB(r),s=n[r];Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return n._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...o)}),a}})})}function iV(n,e){const r=n._chartjs;if(!r)return;const i=r.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(mge.forEach(o=>{delete n[o]}),delete n._chartjs)}function yGe(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const gge=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function bge(n,e){let r=[],i=!1;return function(...s){r=s,i||(i=!0,gge.call(window,()=>{i=!1,n.apply(e,r)}))}}function vGe(n,e){let r;return function(...i){return e?(clearTimeout(r),r=setTimeout(n,e,i)):n.apply(this,i),e}}const dB=n=>n==="start"?"left":n==="end"?"right":"center",Di=(n,e,r)=>n==="start"?e:n==="end"?r:(e+r)/2,wGe=(n,e,r,i)=>n===(i?"left":"right")?r:n==="center"?(e+r)/2:e;function xGe(n,e,r){const i=e.length;let s=0,o=i;if(n._sorted){const{iScale:a,vScale:l,_parsed:c}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:p,maxDefined:m}=a.getUserBounds();if(p){if(s=Math.min(nf(c,d,h).lo,r?i:nf(e,d,a.getPixelForValue(h)).lo),u){const b=c.slice(0,s+1).reverse().findIndex(y=>!qn(y[l.axis]));s-=Math.max(0,b)}s=Yo(s,0,i-1)}if(m){let b=Math.max(nf(c,a.axis,f,!0).hi+1,r?0:nf(e,d,a.getPixelForValue(f),!0).hi+1);if(u){const y=c.slice(b-1).findIndex(v=>!qn(v[l.axis]));b+=Math.max(0,y)}o=Yo(b,s,i)-s}else o=i-s}return{start:s,count:o}}function _Ge(n){const{xScale:e,yScale:r,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,s),o}const E_=n=>n===0||n===1,sV=(n,e,r)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*wi/r)),oV=(n,e,r)=>Math.pow(2,-10*n)*Math.sin((n-e)*wi/r)+1,iv={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*xi)+1,easeOutSine:n=>Math.sin(n*xi),easeInOutSine:n=>-.5*(Math.cos(Sn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>E_(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>E_(n)?n:sV(n,.075,.3),easeOutElastic:n=>E_(n)?n:oV(n,.075,.3),easeInOutElastic(n){return E_(n)?n:n<.5?.5*sV(n*2,.1125,.45):.5+.5*oV(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-iv.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?iv.easeInBounce(n*2)*.5:iv.easeOutBounce(n*2-1)*.5+.5};function hB(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function aV(n){return hB(n)?n:new yw(n)}function L3(n){return hB(n)?n:new yw(n).saturate(.5).darken(.1).hexString()}const kGe=["x","y","borderWidth","radius","tension"],SGe=["color","borderColor","backgroundColor"];function CGe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:SGe},numbers:{type:"number",properties:kGe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function EGe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const lV=new Map;function AGe(n,e){e=e||{};const r=n+JSON.stringify(e);let i=lV.get(r);return i||(i=new Intl.NumberFormat(n,e),lV.set(r,i)),i}function fB(n,e,r){return AGe(e,r).format(n)}const TGe={values(n){return sr(n)?n:""+n},numeric(n,e,r){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),o=PGe(n,r)}const a=fge(Math.abs(o)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),fB(n,i,c)}};function PGe(n,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&n!==Math.floor(n)&&(r=n-Math.floor(n)),r}var yge={formatters:TGe};function IGe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yge.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const np=Object.create(null),T4=Object.create(null);function sv(n,e){if(!e)return n;const r=e.split(".");for(let i=0,s=r.length;i<s;++i){const o=r[i];n=n[o]||(n[o]=Object.create(null))}return n}function F3(n,e,r){return typeof e=="string"?vw(sv(n,e),r):vw(sv(n,""),e)}class MGe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>L3(s.backgroundColor),this.hoverBorderColor=(i,s)=>L3(s.borderColor),this.hoverColor=(i,s)=>L3(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return F3(this,e,r)}get(e){return sv(this,e)}describe(e,r){return F3(T4,e,r)}override(e,r){return F3(np,e,r)}route(e,r,i,s){const o=sv(this,e),a=sv(this,i),l="_"+r;Object.defineProperties(o,{[l]:{value:o[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=a[s];return rn(c)?Object.assign({},u,c):en(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var yr=new MGe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[CGe,EGe,IGe]);function OGe(n){return!n||qn(n.size)||qn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function cV(n,e,r,i,s){let o=e[s];return o||(o=e[s]=n.measureText(s).width,r.push(s)),o>i&&(i=o),i}function Eh(n,e,r){const i=n.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*i)/i+s}function uV(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function P4(n,e,r,i){vge(n,e,r,i,null)}function vge(n,e,r,i,s){let o,a,l,c,u,d,h,f;const p=e.pointStyle,m=e.rotation,b=e.radius;let y=(m||0)*cB;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(r,i),n.rotate(y),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),p){default:s?n.ellipse(r,i,s/2,b,0,0,wi):n.arc(r,i,b,0,wi),n.closePath();break;case"triangle":d=s?s/2:b,n.moveTo(r+Math.sin(y)*d,i-Math.cos(y)*b),y+=d2,n.lineTo(r+Math.sin(y)*d,i-Math.cos(y)*b),y+=d2,n.lineTo(r+Math.sin(y)*d,i-Math.cos(y)*b),n.closePath();break;case"rectRounded":u=b*.516,c=b-u,a=Math.cos(y+Uo)*c,h=Math.cos(y+Uo)*(s?s/2-u:c),l=Math.sin(y+Uo)*c,f=Math.sin(y+Uo)*(s?s/2-u:c),n.arc(r-h,i-l,u,y-Sn,y-xi),n.arc(r+f,i-a,u,y-xi,y),n.arc(r+h,i+l,u,y,y+xi),n.arc(r-f,i+a,u,y+xi,y+Sn),n.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*b,d=s?s/2:c,n.rect(r-d,i-c,2*d,2*c);break}y+=Uo;case"rectRot":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+f,i-a),n.lineTo(r+h,i+l),n.lineTo(r-f,i+a),n.closePath();break;case"crossRot":y+=Uo;case"cross":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a);break;case"star":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a),y+=Uo,h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a);break;case"line":a=s?s/2:Math.cos(y)*b,l=Math.sin(y)*b,n.moveTo(r-a,i-l),n.lineTo(r+a,i+l);break;case"dash":n.moveTo(r,i),n.lineTo(r+Math.cos(y)*(s?s/2:b),i+Math.sin(y)*b);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function xw(n,e,r){return r=r||.5,!e||n&&n.x>e.left-r&&n.x<e.right+r&&n.y>e.top-r&&n.y<e.bottom+r}function fE(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function pE(n){n.restore()}function DGe(n,e,r,i,s){if(!e)return n.lineTo(r.x,r.y);if(s==="middle"){const o=(e.x+r.x)/2;n.lineTo(o,e.y),n.lineTo(o,r.y)}else s==="after"!=!!i?n.lineTo(e.x,r.y):n.lineTo(r.x,e.y);n.lineTo(r.x,r.y)}function RGe(n,e,r,i){if(!e)return n.lineTo(r.x,r.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function NGe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),qn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function jGe(n,e,r,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),a=e-o.actualBoundingBoxLeft,l=e+o.actualBoundingBoxRight,c=r-o.actualBoundingBoxAscent,u=r+o.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,d),n.lineTo(l,d),n.stroke()}}function BGe(n,e){const r=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=r}function _w(n,e,r,i,s,o={}){const a=sr(e)?e:[e],l=o.strokeWidth>0&&o.strokeColor!=="";let c,u;for(n.save(),n.font=s.string,NGe(n,o),c=0;c<a.length;++c)u=a[c],o.backdrop&&BGe(n,o.backdrop),l&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),qn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(u,r,i,o.maxWidth)),n.fillText(u,r,i,o.maxWidth),jGe(n,r,i,u,o),i+=Number(s.lineHeight);n.restore()}function f2(n,e){const{x:r,y:i,w:s,h:o,radius:a}=e;n.arc(r+a.topLeft,i+a.topLeft,a.topLeft,1.5*Sn,Sn,!0),n.lineTo(r,i+o-a.bottomLeft),n.arc(r+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,Sn,xi,!0),n.lineTo(r+s-a.bottomRight,i+o),n.arc(r+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,xi,0,!0),n.lineTo(r+s,i+a.topRight),n.arc(r+s-a.topRight,i+a.topRight,a.topRight,0,-xi,!0),n.lineTo(r+a.topLeft,i)}const LGe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FGe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $Ge(n,e){const r=(""+n).match(LGe);if(!r||r[1]==="normal")return e*1.2;switch(n=+r[2],r[3]){case"px":return n;case"%":n/=100;break}return e*n}const zGe=n=>+n||0;function wge(n,e){const r={},i=rn(e),s=i?Object.keys(e):e,o=rn(n)?i?a=>en(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of s)r[a]=zGe(o(a));return r}function UGe(n){return wge(n,{top:"y",right:"x",bottom:"y",left:"x"})}function cg(n){return wge(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $i(n){const e=UGe(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wr(n,e){n=n||{},e=e||yr.font;let r=en(n.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let i=en(n.style,e.style);i&&!(""+i).match(FGe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:en(n.family,e.family),lineHeight:$Ge(en(n.lineHeight,e.lineHeight),r),size:r,style:i,weight:en(n.weight,e.weight),string:""};return s.string=OGe(s),s}function A_(n,e,r,i){let s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&a!==void 0)return a}function WGe(n,e,r){const{min:i,max:s}=n,o=dge(e,(s-i)/2),a=(l,c)=>r&&l===0?0:l+c;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function wp(n,e){return Object.assign(Object.create(n),e)}function pB(n,e=[""],r,i,s=()=>n[0]){const o=r||n;typeof i>"u"&&(i=Sge("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:l=>pB([l,...n],e,o,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return _ge(l,c,()=>QGe(c,e,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return hV(l).includes(c)},ownKeys(l){return hV(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function E0(n,e,r,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:r,_stack:new Set,_descriptors:xge(n,i),setContext:o=>E0(n,o,r,i),override:o=>E0(n.override(o),e,r,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete n[a],!0},get(o,a,l){return _ge(o,a,()=>HGe(o,a,l))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(o,a,l){return n[a]=l,delete o[a],!0}})}function xge(n,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:r,indexable:i,isScriptable:Rs(r)?r:()=>r,isIndexable:Rs(i)?i:()=>i}}const qGe=(n,e)=>n?n+lB(e):e,mB=(n,e)=>rn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _ge(n,e,r){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=r();return n[e]=i,i}function HGe(n,e,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;let l=i[e];return Rs(l)&&a.isScriptable(e)&&(l=VGe(e,l,n,r)),sr(l)&&l.length&&(l=GGe(e,l,n,a.isIndexable)),mB(e,l)&&(l=E0(l,s,o&&o[e],a)),l}function VGe(n,e,r,i){const{_proxy:s,_context:o,_subProxy:a,_stack:l}=r;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(o,a||i);return l.delete(n),mB(n,c)&&(c=gB(s._scopes,s,n,c)),c}function GGe(n,e,r,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=r;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(rn(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=gB(u,s,n,d);e.push(E0(h,o,a&&a[n],l))}}return e}function kge(n,e,r){return Rs(n)?n(e,r):n}const YGe=(n,e)=>n===!0?e:typeof n=="string"?ww(e,n):void 0;function KGe(n,e,r,i,s){for(const o of e){const a=YGe(r,o);if(a){n.add(a);const l=kge(a._fallback,r,s);if(typeof l<"u"&&l!==r&&l!==i)return l}else if(a===!1&&typeof i<"u"&&r!==i)return null}return!1}function gB(n,e,r,i){const s=e._rootScopes,o=kge(e._fallback,r,i),a=[...n,...s],l=new Set;l.add(i);let c=dV(l,a,r,o||r,i);return c===null||typeof o<"u"&&o!==r&&(c=dV(l,a,o,c,i),c===null)?!1:pB(Array.from(l),[""],s,o,()=>XGe(e,r,i))}function dV(n,e,r,i,s){for(;r;)r=KGe(n,e,r,i,s);return r}function XGe(n,e,r){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return sr(s)&&rn(r)?r:s||{}}function QGe(n,e,r,i){let s;for(const o of e)if(s=Sge(qGe(o,n),r),typeof s<"u")return mB(n,s)?gB(r,i,n,s):s}function Sge(n,e){for(const r of e){if(!r)continue;const i=r[n];if(typeof i<"u")return i}}function hV(n){let e=n._keys;return e||(e=n._keys=JGe(n._scopes)),e}function JGe(n){const e=new Set;for(const r of n)for(const i of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const ZGe=Number.EPSILON||1e-14,A0=(n,e)=>e<n.length&&!n[e].skip&&n[e],Cge=n=>n==="x"?"y":"x";function eYe(n,e,r,i){const s=n.skip?e:n,o=e,a=r.skip?e:r,l=C0(o,s),c=C0(a,o);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=i*u,f=i*d;return{previous:{x:o.x-h*(a.x-s.x),y:o.y-h*(a.y-s.y)},next:{x:o.x+f*(a.x-s.x),y:o.y+f*(a.y-s.y)}}}function tYe(n,e,r){const i=n.length;let s,o,a,l,c,u=A0(n,0);for(let d=0;d<i-1;++d)if(c=u,u=A0(n,d+1),!(!c||!u)){if(rv(e[d],0,ZGe)){r[d]=r[d+1]=0;continue}s=r[d]/e[d],o=r[d+1]/e[d],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(a=3/Math.sqrt(l),r[d]=s*a*e[d],r[d+1]=o*a*e[d])}}function nYe(n,e,r="x"){const i=Cge(r),s=n.length;let o,a,l,c=A0(n,0);for(let u=0;u<s;++u){if(a=l,l=c,c=A0(n,u+1),!l)continue;const d=l[r],h=l[i];a&&(o=(d-a[r])/3,l[`cp1${r}`]=d-o,l[`cp1${i}`]=h-o*e[u]),c&&(o=(c[r]-d)/3,l[`cp2${r}`]=d+o,l[`cp2${i}`]=h+o*e[u])}}function rYe(n,e="x"){const r=Cge(e),i=n.length,s=Array(i).fill(0),o=Array(i);let a,l,c,u=A0(n,0);for(a=0;a<i;++a)if(l=c,c=u,u=A0(n,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[r]-c[r])/d:0}o[a]=l?u?S0(s[a-1])!==S0(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}tYe(n,s,o),nYe(n,o,e)}function T_(n,e,r){return Math.max(Math.min(n,r),e)}function iYe(n,e){let r,i,s,o,a,l=xw(n[0],e);for(r=0,i=n.length;r<i;++r)a=o,o=l,l=r<i-1&&xw(n[r+1],e),o&&(s=n[r],a&&(s.cp1x=T_(s.cp1x,e.left,e.right),s.cp1y=T_(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=T_(s.cp2x,e.left,e.right),s.cp2y=T_(s.cp2y,e.top,e.bottom)))}function sYe(n,e,r,i,s){let o,a,l,c;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")rYe(n,s);else{let u=i?n[n.length-1]:n[0];for(o=0,a=n.length;o<a;++o)l=n[o],c=eYe(u,l,n[Math.min(o+1,a-(i?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&iYe(n,r)}function bB(){return typeof window<"u"&&typeof document<"u"}function yB(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function p2(n,e,r){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[r])):i=n,i}const mE=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function oYe(n,e){return mE(n).getPropertyValue(e)}const aYe=["top","right","bottom","left"];function Pf(n,e,r){const i={};r=r?"-"+r:"";for(let s=0;s<4;s++){const o=aYe[s];i[o]=parseFloat(n[e+"-"+o+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const lYe=(n,e,r)=>(n>0||e>0)&&(!r||!r.shadowRoot);function cYe(n,e){const r=n.touches,i=r&&r.length?r[0]:n,{offsetX:s,offsetY:o}=i;let a=!1,l,c;if(lYe(s,o,n.target))l=s,c=o;else{const u=e.getBoundingClientRect();l=i.clientX-u.left,c=i.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Lh(n,e){if("native"in n)return n;const{canvas:r,currentDevicePixelRatio:i}=e,s=mE(r),o=s.boxSizing==="border-box",a=Pf(s,"padding"),l=Pf(s,"border","width"),{x:c,y:u,box:d}=cYe(n,r),h=a.left+(d&&l.left),f=a.top+(d&&l.top);let{width:p,height:m}=e;return o&&(p-=a.width+l.width,m-=a.height+l.height),{x:Math.round((c-h)/p*r.width/i),y:Math.round((u-f)/m*r.height/i)}}function uYe(n,e,r){let i,s;if(e===void 0||r===void 0){const o=n&&yB(n);if(!o)e=n.clientWidth,r=n.clientHeight;else{const a=o.getBoundingClientRect(),l=mE(o),c=Pf(l,"border","width"),u=Pf(l,"padding");e=a.width-u.width-c.width,r=a.height-u.height-c.height,i=p2(l.maxWidth,o,"clientWidth"),s=p2(l.maxHeight,o,"clientHeight")}}return{width:e,height:r,maxWidth:i||u2,maxHeight:s||u2}}const Cd=n=>Math.round(n*10)/10;function dYe(n,e,r,i){const s=mE(n),o=Pf(s,"margin"),a=p2(s.maxWidth,n,"clientWidth")||u2,l=p2(s.maxHeight,n,"clientHeight")||u2,c=uYe(n,e,r);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const f=Pf(s,"border","width"),p=Pf(s,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-o.width),d=Math.max(0,i?u/i:d-o.height),u=Cd(Math.min(u,a,c.maxWidth)),d=Cd(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Cd(u/2)),(e!==void 0||r!==void 0)&&i&&c.height&&d>c.height&&(d=c.height,u=Cd(Math.floor(d*i))),{width:u,height:d}}function fV(n,e,r){const i=e||1,s=Cd(n.height*i),o=Cd(n.width*i);n.height=Cd(n.height),n.width=Cd(n.width);const a=n.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(n.currentDevicePixelRatio=i,a.height=s,a.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const hYe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};bB()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function pV(n,e){const r=oYe(n,e),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Fh(n,e,r,i){return{x:n.x+r*(e.x-n.x),y:n.y+r*(e.y-n.y)}}function fYe(n,e,r,i){return{x:n.x+r*(e.x-n.x),y:i==="middle"?r<.5?n.y:e.y:i==="after"?r<1?n.y:e.y:r>0?e.y:n.y}}function pYe(n,e,r,i){const s={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},a=Fh(n,s,r),l=Fh(s,o,r),c=Fh(o,e,r),u=Fh(a,l,r),d=Fh(l,c,r);return Fh(u,d,r)}const mYe=function(n,e){return{x(r){return n+n+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,i){return r-i},leftForLtr(r,i){return r-i}}},gYe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ug(n,e,r){return n?mYe(e,r):gYe()}function Ege(n,e){let r,i;(e==="ltr"||e==="rtl")&&(r=n.canvas.style,i=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Age(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Tge(n){return n==="angle"?{between:h2,compare:fGe,normalize:Ju}:{between:Ty,compare:(e,r)=>e-r,normalize:e=>e}}function mV({start:n,end:e,count:r,loop:i,style:s}){return{start:n%r,end:e%r,loop:i&&(e-n+1)%r===0,style:s}}function bYe(n,e,r){const{property:i,start:s,end:o}=r,{between:a,normalize:l}=Tge(i),c=e.length;let{start:u,end:d,loop:h}=n,f,p;if(h){for(u+=c,d+=c,f=0,p=c;f<p&&a(l(e[u%c][i]),s,o);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:n.style}}function yYe(n,e,r){if(!r)return[n];const{property:i,start:s,end:o}=r,a=e.length,{compare:l,between:c,normalize:u}=Tge(i),{start:d,end:h,loop:f,style:p}=bYe(n,e,r),m=[];let b=!1,y=null,v,w,_;const x=()=>c(s,_,v)&&l(s,_)!==0,k=()=>l(o,v)===0||c(o,_,v),C=()=>b||x(),E=()=>!b||k();for(let T=d,M=d;T<=h;++T)w=e[T%a],!w.skip&&(v=u(w[i]),v!==_&&(b=c(v,s,o),y===null&&C()&&(y=l(v,s)===0?T:M),y!==null&&E()&&(m.push(mV({start:y,end:T,loop:f,count:a,style:p})),y=null),M=T,_=v));return y!==null&&m.push(mV({start:y,end:h,loop:f,count:a,style:p})),m}function vYe(n,e){const r=[],i=n.segments;for(let s=0;s<i.length;s++){const o=yYe(i[s],n.points,e);o.length&&r.push(...o)}return r}function wYe(n,e,r,i){let s=0,o=e-1;if(r&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,r&&(o+=s);o>s&&n[o%e].skip;)o--;return o%=e,{start:s,end:o}}function xYe(n,e,r,i){const s=n.length,o=[];let a=e,l=n[e],c;for(c=e+1;c<=r;++c){const u=n[c%s];u.skip||u.stop?l.skip||(i=!1,o.push({start:e%s,end:(c-1)%s,loop:i}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&o.push({start:e%s,end:a%s,loop:i}),o}function _Ye(n,e){const r=n.points,i=n.options.spanGaps,s=r.length;if(!s)return[];const o=!!n._loop,{start:a,end:l}=wYe(r,s,o,i);if(i===!0)return gV(n,[{start:a,end:l,loop:o}],r,e);const c=l<a?l+s:l,u=!!n._fullLoop&&a===0&&l===s-1;return gV(n,xYe(r,a,c,u),r,e)}function gV(n,e,r,i){return!i||!i.setContext||!r?e:kYe(n,e,r,i)}function kYe(n,e,r,i){const s=n._chart.getContext(),o=bV(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,c=r.length,u=[];let d=o,h=e[0].start,f=h;function p(m,b,y,v){const w=l?-1:1;if(m!==b){for(m+=c;r[m%c].skip;)m-=w;for(;r[b%c].skip;)b+=w;m%c!==b%c&&(u.push({start:m%c,end:b%c,loop:y,style:v}),d=v,h=b%c)}}for(const m of e){h=l?h:m.start;let b=r[h%c],y;for(f=h+1;f<=m.end;f++){const v=r[f%c];y=bV(i.setContext(wp(s,{type:"segment",p0:b,p1:v,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),SYe(y,d)&&p(h,f-1,m.loop,d),b=v,d=y}h<f-1&&p(h,f-1,m.loop,d)}return u}function bV(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function SYe(n,e){if(!e)return!1;const r=[],i=function(s,o){return hB(o)?(r.includes(o)||r.push(o),r.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function P_(n,e,r){return n.options.clip?n[r]:e[r]}function CYe(n,e){const{xScale:r,yScale:i}=n;return r&&i?{left:P_(r,e,"left"),right:P_(r,e,"right"),top:P_(i,e,"top"),bottom:P_(i,e,"bottom")}:e}function EYe(n,e){const r=e._clip;if(r.disabled)return!1;const i=CYe(e,n.chartArea);return{left:r.left===!1?0:i.left-(r.left===!0?0:r.left),right:r.right===!1?n.width:i.right+(r.right===!0?0:r.right),top:r.top===!1?0:i.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?n.height:i.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AYe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,i,s){const o=r.listeners[s],a=r.duration;o.forEach(l=>l({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(i-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=gge.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,l=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(o[a]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),r+=o.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let i=r.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,i)),i}listen(e,r,i){this._getAnims(e).listeners[r].push(i)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const i=r.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bc=new AYe;const yV="transparent",TYe={boolean(n,e,r){return r>.5?e:n},color(n,e,r){const i=aV(n||yV),s=i.valid&&aV(e||yV);return s&&s.valid?s.mix(i,r).hexString():e},number(n,e,r){return n+(e-n)*r}};class PYe{constructor(e,r,i,s){const o=r[i];s=A_([e.to,s,o,e.from]);const a=A_([e.from,o,s]);this._active=!0,this._fn=e.fn||TYe[e.type||typeof a],this._easing=iv[e.easing]||iv.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=A_([e.to,r,s,e.from]),this._from=A_([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,l=this._to;let c;if(this._active=o!==l&&(a||r<i),!this._active){this._target[s]=l,this._notify(!0);return}if(r<0){this._target[s]=o;return}c=r/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,i)=>{e.push({res:r,rej:i})})}_notify(e){const r=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][r]()}}class vB{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!rn(e))return;const r=Object.keys(yr.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!rn(o))return;const a={};for(const l of r)a[l]=o[l];(sr(o.properties)&&o.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,r){const i=r.options,s=MYe(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&IYe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,r){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),a=Object.keys(r),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,r));continue}const d=r[u];let h=o[u];const f=i.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}o[u]=h=new PYe(f,e,u,d),s.push(h)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const i=this._createAnimations(e,r);if(i.length)return bc.add(this._chart,i),!0}}function IYe(n,e){const r=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&r.push(o.wait())}return Promise.all(r)}function MYe(n,e){if(!e)return;let r=n.options;if(!r){n.options=e;return}return r.$shared&&(n.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function vV(n,e){const r=n&&n.options||{},i=r.reverse,s=r.min===void 0?e:0,o=r.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function OYe(n,e,r){if(r===!1)return!1;const i=vV(n,r),s=vV(e,r);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function DYe(n){let e,r,i,s;return rn(n)?(e=n.top,r=n.right,i=n.bottom,s=n.left):e=r=i=s=n,{top:e,right:r,bottom:i,left:s,disabled:n===!1}}function Pge(n,e){const r=[],i=n._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)r.push(i[s].index);return r}function wV(n,e,r,i={}){const s=n.keys,o=i.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===r){if(d=!0,i.all)continue;break}u=n.values[c],js(u)&&(o||e===0||S0(e)===S0(u))&&(e+=u)}return!d&&!i.all?0:e}function RYe(n,e){const{iScale:r,vScale:i}=e,s=r.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[o]:n[d]};return l}function $3(n,e){const r=n&&n.options.stacked;return r||r===void 0&&e.stack!==void 0}function NYe(n,e,r){return`${n.id}.${e.id}.${r.stack||r.type}`}function jYe(n){const{min:e,max:r,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function BYe(n,e,r){const i=n[e]||(n[e]={});return i[r]||(i[r]={})}function xV(n,e,r,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(r&&o>0||!r&&o<0)return s.index}return null}function _V(n,e){const{chart:r,_cachedMeta:i}=n,s=r._stacks||(r._stacks={}),{iScale:o,vScale:a,index:l}=i,c=o.axis,u=a.axis,d=NYe(o,a,i),h=e.length;let f;for(let p=0;p<h;++p){const m=e[p],{[c]:b,[u]:y}=m,v=m._stacks||(m._stacks={});f=v[u]=BYe(s,d,b),f[l]=y,f._top=xV(f,a,!0,i.type),f._bottom=xV(f,a,!1,i.type);const w=f._visualValues||(f._visualValues={});w[l]=y}}function z3(n,e){const r=n.scales;return Object.keys(r).filter(i=>r[i].axis===e).shift()}function LYe(n,e){return wp(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function FYe(n,e,r){return wp(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Xb(n,e){const r=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][r]===void 0)return;delete o[i][r],o[i]._visualValues!==void 0&&o[i]._visualValues[r]!==void 0&&delete o[i]._visualValues[r]}}}const U3=n=>n==="reset"||n==="none",kV=(n,e)=>e?n:Object.assign({},n),$Ye=(n,e,r)=>n&&!e.hidden&&e._stacked&&{keys:Pge(r,!0),values:null};class dg{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$3(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Xb(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,o=r.xAxisID=en(i.xAxisID,z3(e,"x")),a=r.yAxisID=en(i.yAxisID,z3(e,"y")),l=r.rAxisID=en(i.rAxisID,z3(e,"r")),c=r.indexAxis,u=r.iAxisID=s(c,o,a,l),d=r.vAxisID=s(c,a,o,l);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&iV(this._data,this),e._stacked&&Xb(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(rn(r)){const s=this._cachedMeta;this._data=RYe(r,s)}else if(i!==r){if(i){iV(i,this);const s=this._cachedMeta;Xb(s),s._parsed=[]}r&&Object.isExtensible(r)&&bGe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=r._stacked;r._stacked=$3(r.vScale,r),r.stack!==i.stack&&(s=!0,Xb(r),r.stack=i.stack),this._resyncElements(e),(s||o!==r._stacked)&&(_V(this,r._parsed),r._stacked=$3(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,l=o.axis;let c=e===0&&r===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],d,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{sr(s[e])?f=this.parseArrayData(i,s,e,r):rn(s[e])?f=this.parseObjectData(i,s,e,r):f=this.parsePrimitiveData(i,s,e,r);const p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<r;++d)i._parsed[d+e]=h=f[d],c&&(p()&&(c=!1),u=h);i._sorted=c}a&&_V(this,f)}parsePrimitiveData(e,r,i,s){const{iScale:o,vScale:a}=e,l=o.axis,c=a.axis,u=o.getLabels(),d=o===a,h=new Array(s);let f,p,m;for(f=0,p=s;f<p;++f)m=f+i,h[f]={[l]:d||o.parse(u[m],m),[c]:a.parse(r[m],m)};return h}parseArrayData(e,r,i,s){const{xScale:o,yScale:a}=e,l=new Array(s);let c,u,d,h;for(c=0,u=s;c<u;++c)d=c+i,h=r[d],l[c]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(e,r,i,s){const{xScale:o,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,h,f,p;for(d=0,h=s;d<h;++d)f=d+i,p=r[f],u[d]={x:o.parse(ww(p,l),f),y:a.parse(ww(p,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){const s=this.chart,o=this._cachedMeta,a=r[e.axis],l={keys:Pge(s,!0),values:r._stacks[e.axis]._visualValues};return wV(l,a,o.index,{mode:i})}updateRangeFromParsed(e,r,i,s){const o=i[r.axis];let a=o===null?NaN:o;const l=s&&i._stacks[r.axis];s&&l&&(s.values=l,a=wV(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,a=s.length,l=this._getOtherScale(e),c=$Ye(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=jYe(l);let f,p;function m(){p=s[f];const b=p[l.axis];return!js(p[e.axis])||d>b||h<b}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(u,e,p,c),o));++f);if(o){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][e.axis],js(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=DYe(en(this.options.clip,OYe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],o=r.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,o,l,c),d=l;d<l+c;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(e,o))}for(d=0;d<a.length;++d)a[d].draw(e,o)}getStyle(e,r){const i=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=FYe(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=LYe(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){const s=r==="active",o=this._cachedDataOpts,a=e+"-"+r,l=o[a],c=this.enableOptionSharing&&po(i);if(l)return kV(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(yr.elements[e]),m=()=>this.getContext(i,s,r),b=u.resolveNamedOptions(f,p,m,h);return b.$shared&&(b.$shared=c,o[a]=Object.freeze(kV(b,c))),b}_resolveAnimations(e,r,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,i,r))}const u=new vB(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||U3(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const i=this.resolveDataElementOptions(e,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(e,r,i,s){U3(s)?Object.assign(e,i):this._resolveAnimations(r,s).update(e,i)}updateSharedOptions(e,r,i){e&&!U3(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,s){e.active=s;const o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,i=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,r,i=!0){const s=this._cachedMeta,o=s.data,a=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(o),l=e;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,r),i&&this.updateElements(o,e,r,"reset")}updateElements(e,r,i,s){}_removeElements(e,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,r);i._stacked&&Xb(i,s)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,i,s]=e;this[r](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Be(dg,"defaults",{}),Be(dg,"datasetElementType",null),Be(dg,"dataElementType",null);function zYe(n,e,r){let i=1,s=1,o=0,a=0;if(e<wi){const l=n,c=l+e,u=Math.cos(l),d=Math.sin(l),h=Math.cos(c),f=Math.sin(c),p=(_,x,k)=>h2(_,l,c,!0)?1:Math.max(x,x*r,k,k*r),m=(_,x,k)=>h2(_,l,c,!0)?-1:Math.min(x,x*r,k,k*r),b=p(0,u,h),y=p(xi,d,f),v=m(Sn,u,h),w=m(Sn+xi,d,f);i=(b-v)/2,s=(y-w)/2,o=-(b+v)/2,a=-(y+w)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}class Py extends dg{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=c=>+i[c];if(rn(i[e])){const{key:c="value"}=this._parsing;o=u=>+ww(i[u],c)}let a,l;for(a=e,l=e+r;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return si(this.options.rotation-90)}_getCircumference(){return si(this.options.circumference)}_getRotationExtents(){let e=wi,r=-wi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),r=Math.max(r,o+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(nGe(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:b}=zYe(h,d,c),y=(i.width-a)/f,v=(i.height-a)/p,w=Math.max(Math.min(y,v)/2,0),_=dge(this.options.radius,w),x=Math.max(_*c,0),k=(_-x)/this._getVisibleDatasetWeightTotal();this.offsetX=m*_,this.offsetY=b*_,s.total=this.calculateTotal(),this.outerRadius=_-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*u,0),this.updateElements(o,0,o.length,e)}_circumference(e,r){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/wi)}updateElements(e,r,i,s){const o=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&u.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(r,s);let v=this._getRotation(),w;for(w=0;w<r;++w)v+=this._circumference(w,o);for(w=r;w<r+i;++w){const _=this._circumference(w,o),x=e[w],k={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+_,circumference:_,outerRadius:m,innerRadius:p};y&&(k.options=b||this.resolveDataElementOptions(w,x.active?"active":s)),v+=_,this.updateElement(x,w,k,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let i=0,s;for(s=0;s<r.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?wi*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=fB(r._parsed[e],i.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let r=0;const i=this.chart;let s,o,a,l,c;if(!e){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,s=e.length;i<s;++i){const o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(en(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Be(Py,"id","doughnut"),Be(Py,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Be(Py,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Be(Py,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:i,borderRadius:a&&(l||h.borderRadius),index:u}}):[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}});class Ik extends dg{getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:i[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled;let{start:o,count:a}=xGe(r,i,s);if(this._drawStart=o,this._drawCount=a,_Ge(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,s){const o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,s),h=this.getSharedOptions(d),f=this.includeOptions(s,h),p=a.axis,m=l.axis,{spanGaps:b,segment:y}=this.options,v=tp(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||s==="none";let _=r>0&&this.getParsed(r-1);for(let x=r;x<r+i;++x){const k=e[x],C=this.getParsed(x),E=w?k:{},T=qn(C[m]),M=E[p]=a.getPixelForValue(C[p],x),I=E[m]=o||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,C,c):C[m],x);E.skip=isNaN(M)||isNaN(I)||T,E.stop=x>0&&Math.abs(C[p]-_[p])>v,y&&(E.parsed=C,E.raw=u.data[x]),f&&(E.options=h||this.resolveDataElementOptions(x,k.active?"active":s)),w||this.updateElement(k,x,E,s),_=C}this.updateSharedOptions(h,s,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}}Be(Ik,"id","scatter"),Be(Ik,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Be(Ik,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Ah(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wB{constructor(e){Be(this,"options");this.options=e||{}}static override(e){Object.assign(wB.prototype,e)}init(){}formats(){return Ah()}parse(){return Ah()}format(){return Ah()}add(){return Ah()}diff(){return Ah()}startOf(){return Ah()}endOf(){return Ah()}}var UYe={_date:wB};function WYe(n,e,r,i){const{controller:s,data:o,_sorted:a}=n,l=s._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&o.length){const u=l._reversePixels?mGe:nf;if(i){if(s._sharedOptions){const d=o[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(o,e,r-h),p=u(o,e,r+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(o,e,r);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=n,p=f.slice(0,d.lo+1).reverse().findIndex(b=>!qn(b[h.axis]));d.lo-=Math.max(0,p);const m=f.slice(d.hi).findIndex(b=>!qn(b[h.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:o.length-1}}function gE(n,e,r,i,s){const o=n.getSortedVisibleDatasetMetas(),a=r[e];for(let l=0,c=o.length;l<c;++l){const{index:u,data:d}=o[l],{lo:h,hi:f}=WYe(o[l],e,a,s);for(let p=h;p<=f;++p){const m=d[p];m.skip||i(m,u,p)}}}function qYe(n){const e=n.indexOf("x")!==-1,r=n.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,a=r?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function W3(n,e,r,i,s){const o=[];return!s&&!n.isPointInArea(e)||gE(n,r,e,function(l,c,u){!s&&!xw(l,n.chartArea,0)||l.inRange(e.x,e.y,i)&&o.push({element:l,datasetIndex:c,index:u})},!0),o}function HYe(n,e,r,i){let s=[];function o(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],i),{angle:h}=A4(a,{x:e.x,y:e.y});h2(h,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return gE(n,r,e,o),s}function VYe(n,e,r,i,s,o){let a=[];const l=qYe(r);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(e.x,e.y,s);if(i&&!p)return;const m=d.getCenterPoint(s);if(!(!!o||n.isPointInArea(m))&&!p)return;const y=l(e,m);y<c?(a=[{element:d,datasetIndex:h,index:f}],c=y):y===c&&a.push({element:d,datasetIndex:h,index:f})}return gE(n,r,e,u),a}function q3(n,e,r,i,s,o){return!o&&!n.isPointInArea(e)?[]:r==="r"&&!i?HYe(n,e,r,s):VYe(n,e,r,i,s,o)}function SV(n,e,r,i,s){const o=[],a=r==="x"?"inXRange":"inYRange";let l=!1;return gE(n,r,e,(c,u,d)=>{c[a]&&c[a](e[r],s)&&(o.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,s))}),i&&!l?[]:o}var GYe={modes:{index(n,e,r,i){const s=Lh(e,n),o=r.axis||"x",a=r.includeInvisible||!1,l=r.intersect?W3(n,s,o,i,a):q3(n,s,o,!1,i,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(n,e,r,i){const s=Lh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;let l=r.intersect?W3(n,s,o,i,a):q3(n,s,o,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,u=n.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(n,e,r,i){const s=Lh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;return W3(n,s,o,i,a)},nearest(n,e,r,i){const s=Lh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;return q3(n,s,o,r.intersect,i,a)},x(n,e,r,i){const s=Lh(e,n);return SV(n,s,"x",r.intersect,i)},y(n,e,r,i){const s=Lh(e,n);return SV(n,s,"y",r.intersect,i)}}};const Ige=["left","top","right","bottom"];function Qb(n,e){return n.filter(r=>r.pos===e)}function CV(n,e){return n.filter(r=>Ige.indexOf(r.pos)===-1&&r.box.axis===e)}function Jb(n,e){return n.sort((r,i)=>{const s=e?i:r,o=e?r:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function YYe(n){const e=[];let r,i,s,o,a,l;for(r=0,i=(n||[]).length;r<i;++r)s=n[r],{position:o,options:{stack:a,stackWeight:l=1}}=s,e.push({index:r,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:l});return e}function KYe(n){const e={};for(const r of n){const{stack:i,pos:s,stackWeight:o}=r;if(!i||!Ige.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function XYe(n,e){const r=KYe(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,a,l;for(o=0,a=n.length;o<a;++o){l=n[o];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*i:c&&e.availableWidth,l.height=s):(l.width=i,l.height=d?d*s:c&&e.availableHeight)}return r}function QYe(n){const e=YYe(n),r=Jb(e.filter(u=>u.box.fullSize),!0),i=Jb(Qb(e,"left"),!0),s=Jb(Qb(e,"right")),o=Jb(Qb(e,"top"),!0),a=Jb(Qb(e,"bottom")),l=CV(e,"x"),c=CV(e,"y");return{fullSize:r,leftAndTop:i.concat(o),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:Qb(e,"chartArea"),vertical:i.concat(s).concat(c),horizontal:o.concat(a).concat(l)}}function EV(n,e,r,i){return Math.max(n[r],e[r])+Math.max(n[i],e[i])}function Mge(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function JYe(n,e,r,i){const{pos:s,box:o}=r,a=n.maxPadding;if(!rn(s)){r.size&&(n[s]-=r.size);const h=i[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?o.height:o.width),r.size=h.size/h.count,n[s]+=r.size}o.getPadding&&Mge(a,o.getPadding());const l=Math.max(0,e.outerWidth-EV(a,n,"left","right")),c=Math.max(0,e.outerHeight-EV(a,n,"top","bottom")),u=l!==n.w,d=c!==n.h;return n.w=l,n.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function ZYe(n){const e=n.maxPadding;function r(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=r("top"),n.x+=r("left"),r("right"),r("bottom")}function eKe(n,e){const r=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(e[a],r[a])}),o}return i(n?["left","right"]:["top","bottom"])}function Iy(n,e,r,i){const s=[];let o,a,l,c,u,d;for(o=0,a=n.length,u=0;o<a;++o){l=n[o],c=l.box,c.update(l.width||e.w,l.height||e.h,eKe(l.horizontal,e));const{same:h,other:f}=JYe(e,r,l,i);u|=h&&s.length,d=d||f,c.fullSize||s.push(l)}return u&&Iy(s,e,r,i)||d}function I_(n,e,r,i,s){n.top=r,n.left=e,n.right=e+i,n.bottom=r+s,n.width=i,n.height=s}function AV(n,e,r,i){const s=r.padding;let{x:o,y:a}=e;for(const l of n){const c=l.box,u=i[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=e.w*d,f=u.size||c.height;po(u.start)&&(a=u.start),c.fullSize?I_(c,s.left,a,r.outerWidth-s.right-s.left,f):I_(c,e.left+u.placed,a,h,f),u.start=a,u.placed+=h,a=c.bottom}else{const h=e.h*d,f=u.size||c.width;po(u.start)&&(o=u.start),c.fullSize?I_(c,o,s.top,f,r.outerHeight-s.bottom-s.top):I_(c,o,e.top+u.placed,f,h),u.start=o,u.placed+=h,o=c.right}}e.x=o,e.y=a}var Ko={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},n.boxes.push(e)},removeBox(n,e){const r=n.boxes?n.boxes.indexOf(e):-1;r!==-1&&n.boxes.splice(r,1)},configure(n,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(n,e,r,i){if(!n)return;const s=$i(n.options.layout.padding),o=Math.max(e-s.width,0),a=Math.max(r-s.height,0),l=QYe(n.boxes),c=l.vertical,u=l.horizontal;In(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=c.reduce((b,y)=>y.box.options&&y.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},s);Mge(f,$i(i));const p=Object.assign({maxPadding:f,w:o,h:a,x:s.left,y:s.top},s),m=XYe(c.concat(u),h);Iy(l.fullSize,p,h,m),Iy(c,p,h,m),Iy(u,p,h,m)&&Iy(c,p,h,m),ZYe(p),AV(l.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,AV(l.rightAndBottom,p,h,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},In(l.chartArea,b=>{const y=b.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Oge{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,i){}removeEventListener(e,r,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,i,s){return r=Math.max(0,r||e.width),i=i||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):i)}}isAttached(e){return!0}updateConfig(e){}}class tKe extends Oge{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mk="$chartjs",nKe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},TV=n=>n===null||n==="";function rKe(n,e){const r=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Mk]={initial:{height:i,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",TV(s)){const o=pV(n,"width");o!==void 0&&(n.width=o)}if(TV(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=pV(n,"height");o!==void 0&&(n.height=o)}return n}const Dge=hYe?{passive:!0}:!1;function iKe(n,e,r){n&&n.addEventListener(e,r,Dge)}function sKe(n,e,r){n&&n.canvas&&n.canvas.removeEventListener(e,r,Dge)}function oKe(n,e){const r=nKe[n.type]||n.type,{x:i,y:s}=Lh(n,e);return{type:r,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function m2(n,e){for(const r of n)if(r===e||r.contains(e))return!0}function aKe(n,e,r){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||m2(l.addedNodes,i),a=a&&!m2(l.removedNodes,i);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function lKe(n,e,r){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||m2(l.removedNodes,i),a=a&&!m2(l.addedNodes,i);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const kw=new Map;let PV=0;function Rge(){const n=window.devicePixelRatio;n!==PV&&(PV=n,kw.forEach((e,r)=>{r.currentDevicePixelRatio!==n&&e()}))}function cKe(n,e){kw.size||window.addEventListener("resize",Rge),kw.set(n,e)}function uKe(n){kw.delete(n),kw.size||window.removeEventListener("resize",Rge)}function dKe(n,e,r){const i=n.canvas,s=i&&yB(i);if(!s)return;const o=bge((l,c)=>{const u=s.clientWidth;r(l,c),u<s.clientWidth&&r()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||o(u,d)});return a.observe(s),cKe(n,o),a}function H3(n,e,r){r&&r.disconnect(),e==="resize"&&uKe(n)}function hKe(n,e,r){const i=n.canvas,s=bge(o=>{n.ctx!==null&&r(oKe(o,n))},n);return iKe(i,e,s),s}class fKe extends Oge{acquireContext(e,r){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(rKe(e,r),i):null}releaseContext(e){const r=e.canvas;if(!r[Mk])return!1;const i=r[Mk].initial;["height","width"].forEach(o=>{const a=i[o];qn(a)?r.removeAttribute(o):r.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{r.style[o]=s[o]}),r.width=r.width,delete r[Mk],!0}addEventListener(e,r,i){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:aKe,detach:lKe,resize:dKe}[r]||hKe;s[r]=a(e,r,i)}removeEventListener(e,r){const i=e.$proxies||(e.$proxies={}),s=i[r];if(!s)return;({attach:H3,detach:H3,resize:H3}[r]||sKe)(e,r,s),i[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,i,s){return dYe(e,r,i,s)}isAttached(e){const r=e&&yB(e);return!!(r&&r.isConnected)}}function pKe(n){return!bB()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?tKe:fKe}var G_;let $s=(G_=class{constructor(){Be(this,"x");Be(this,"y");Be(this,"active",!1);Be(this,"options");Be(this,"$animations")}tooltipPosition(e){const{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}hasValue(){return tp(this.x)&&tp(this.y)}getProps(e,r){const i=this.$animations;if(!r||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},Be(G_,"defaults",{}),Be(G_,"defaultRoutes"),G_);function mKe(n,e){const r=n.options.ticks,i=gKe(n),s=Math.min(r.maxTicksLimit||i,i),o=r.major.enabled?yKe(e):[],a=o.length,l=o[0],c=o[a-1],u=[];if(a>s)return vKe(e,u,o,a/s),u;const d=bKe(o,e,s);if(a>0){let h,f;const p=a>1?Math.round((c-l)/(a-1)):null;for(M_(e,u,d,qn(p)?0:l-p,l),h=0,f=a-1;h<f;h++)M_(e,u,d,o[h],o[h+1]);return M_(e,u,d,c,qn(p)?e.length:c+p),u}return M_(e,u,d),u}function gKe(n){const e=n.options.offset,r=n._tickSize(),i=n._length/r+(e?0:1),s=n._maxLength/r;return Math.floor(Math.min(i,s))}function bKe(n,e,r){const i=wKe(n),s=e.length/r;if(!i)return Math.max(s,1);const o=cGe(i);for(let a=0,l=o.length-1;a<l;a++){const c=o[a];if(c>s)return c}return Math.max(s,1)}function yKe(n){const e=[];let r,i;for(r=0,i=n.length;r<i;r++)n[r].major&&e.push(r);return e}function vKe(n,e,r,i){let s=0,o=r[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===o&&(e.push(n[a]),s++,o=r[s*i])}function M_(n,e,r,i,s){const o=en(i,0),a=Math.min(en(s,n.length),n.length);let l=0,c,u,d;for(r=Math.ceil(r),s&&(c=s-i,r=c/Math.floor(c/r)),d=o;d<0;)l++,d=Math.round(o+l*r);for(u=Math.max(o,0);u<a;u++)u===d&&(e.push(n[u]),l++,d=Math.round(o+l*r))}function wKe(n){const e=n.length;let r,i;if(e<2)return!1;for(i=n[0],r=1;r<e;++r)if(n[r]-n[r-1]!==i)return!1;return i}const xKe=n=>n==="left"?"right":n==="right"?"left":n,IV=(n,e,r)=>e==="top"||e==="left"?n[e]+r:n[e]-r,MV=(n,e)=>Math.min(e||n,n);function OV(n,e){const r=[],i=n.length/e,s=n.length;let o=0;for(;o<s;o+=i)r.push(n[Math.floor(o)]);return r}function _Ke(n,e,r){const i=n.ticks.length,s=Math.min(e,i-1),o=n._startPixel,a=n._endPixel,l=1e-6;let c=n.getPixelForTick(s),u;if(!(r&&(i===1?u=Math.max(c-o,a-c):e===0?u=(n.getPixelForTick(1)-c)/2:u=(c-n.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<o-l||c>a+l)))return c}function kKe(n,e){In(n,r=>{const i=r.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete r.data[i[o]];i.splice(0,s)}})}function Zb(n){return n.drawTicks?n.tickLength:0}function DV(n,e){if(!n.display)return 0;const r=Wr(n.font,e),i=$i(n.padding);return(sr(n.text)?n.text.length:1)*r.lineHeight+i.height}function SKe(n,e){return wp(n,{scale:e,type:"scale"})}function CKe(n,e,r){return wp(n,{tick:r,index:e,type:"tick"})}function EKe(n,e,r){let i=dB(n);return(r&&e!=="right"||!r&&e==="right")&&(i=xKe(i)),i}function AKe(n,e,r,i){const{top:s,left:o,bottom:a,right:l,chart:c}=n,{chartArea:u,scales:d}=c;let h=0,f,p,m;const b=a-s,y=l-o;if(n.isHorizontal()){if(p=Di(i,o,l),rn(r)){const v=Object.keys(r)[0],w=r[v];m=d[v].getPixelForValue(w)+b-e}else r==="center"?m=(u.bottom+u.top)/2+b-e:m=IV(n,r,e);f=l-o}else{if(rn(r)){const v=Object.keys(r)[0],w=r[v];p=d[v].getPixelForValue(w)-y+e}else r==="center"?p=(u.left+u.right)/2-y+e:p=IV(n,r,e);m=Di(i,a,s),h=r==="left"?-xi:xi}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class sb extends $s{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:i,_suggestedMax:s}=this;return e=il(e,Number.POSITIVE_INFINITY),r=il(r,Number.NEGATIVE_INFINITY),i=il(i,Number.POSITIVE_INFINITY),s=il(s,Number.NEGATIVE_INFINITY),{min:il(e,i),max:il(r,s),minDefined:js(e),maxDefined:js(r)}}getMinMax(e){let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:r,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),o||(i=Math.max(i,a.max));return r=o&&r>i?i:r,i=s&&r>i?r:i,{min:il(r,il(i,r)),max:il(i,il(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rn(this.options.beforeUpdate,[this])}update(e,r,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=WGe(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?OV(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=mKe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,i;this.isHorizontal()?(r=this.left,i=this.right):(r=this.top,i=this.bottom,e=!e),this._startPixel=r,this._endPixel=i,this._reversePixels=e,this._length=i-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rn(this.options.afterUpdate,[this])}beforeSetDimensions(){Rn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Rn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=Rn(r.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Rn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,i=MV(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,o=r.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!r.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Yo(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/i:p/(i-1),h+6>l&&(l=p/(i-(e.offset?.5:1)),c=this.maxHeight-Zb(e.grid)-r.padding-DV(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),a=pge(Math.min(Math.asin(Yo((d.highest.height+6)/l,-1,1)),Math.asin(Yo(c/u,-1,1))-Math.asin(Yo(f/u,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Rn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=DV(s,r.options.font);if(l?(e.width=this.maxWidth,e.height=Zb(o)+c):(e.height=this.maxHeight,e.width=Zb(o)+c),i.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,m=si(this.labelRotation),b=Math.cos(m),y=Math.sin(m);if(l){const v=i.mirror?0:y*h.width+b*f.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=i.mirror?0:b*h.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(u,d,y,b)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,i,s){const{ticks:{align:o,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?u?(f=s*e.width,p=i*r.height):(f=i*e.height,p=s*r.width):o==="start"?p=r.width:o==="end"?f=e.width:o!=="inner"&&(f=e.width/2,p=r.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+a)*this.width/(this.width-h),0)}else{let d=r.height/2,h=e.height/2;o==="start"?(d=0,h=e.height):o==="end"&&(d=r.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,i;for(r=0,i=e.length;r<i;r++)qn(e[r].label)&&(e.splice(r,1),i--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let i=this.ticks;r<i.length&&(i=OV(i,r)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,i){const{ctx:s,_longestTextCache:o}=this,a=[],l=[],c=Math.floor(r/MV(r,i));let u=0,d=0,h,f,p,m,b,y,v,w,_,x,k;for(h=0;h<r;h+=c){if(m=e[h].label,b=this._resolveTickFontOptions(h),s.font=y=b.string,v=o[y]=o[y]||{data:{},gc:[]},w=b.lineHeight,_=x=0,!qn(m)&&!sr(m))_=cV(s,v.data,v.gc,_,m),x=w;else if(sr(m))for(f=0,p=m.length;f<p;++f)k=m[f],!qn(k)&&!sr(k)&&(_=cV(s,v.data,v.gc,_,k),x+=w);a.push(_),l.push(x),u=Math.max(_,u),d=Math.max(x,d)}kKe(o,r);const C=a.indexOf(u),E=l.indexOf(d),T=M=>({width:a[M]||0,height:l[M]||0});return{first:T(0),last:T(r-1),widest:T(C),highest:T(E),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return pGe(this._alignToPixels?Eh(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const i=r[e];return i.$context||(i.$context=CKe(this.getContext(),e,i))}return this.$context||(this.$context=SKe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=si(this.labelRotation),i=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,l=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*i>l*s?l/i:c/s:c*s<l*i?c/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:l}=s,c=o.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Zb(o),p=[],m=l.setContext(this.getContext()),b=m.display?m.width:0,y=b/2,v=function(j){return Eh(i,j,b)};let w,_,x,k,C,E,T,M,I,O,F,$;if(a==="top")w=v(this.bottom),E=this.bottom-f,M=w-y,O=v(e.top)+y,$=e.bottom;else if(a==="bottom")w=v(this.top),O=e.top,$=v(e.bottom)-y,E=w+y,M=this.top+f;else if(a==="left")w=v(this.right),C=this.right-f,T=w-y,I=v(e.left)+y,F=e.right;else if(a==="right")w=v(this.left),I=e.left,F=v(e.right)-y,C=w+y,T=this.left+f;else if(r==="x"){if(a==="center")w=v((e.top+e.bottom)/2+.5);else if(rn(a)){const j=Object.keys(a)[0],N=a[j];w=v(this.chart.scales[j].getPixelForValue(N))}O=e.top,$=e.bottom,E=w+y,M=E+f}else if(r==="y"){if(a==="center")w=v((e.left+e.right)/2);else if(rn(a)){const j=Object.keys(a)[0],N=a[j];w=v(this.chart.scales[j].getPixelForValue(N))}C=w-y,T=C-f,I=e.left,F=e.right}const z=en(s.ticks.maxTicksLimit,h),D=Math.max(1,Math.ceil(h/z));for(_=0;_<h;_+=D){const j=this.getContext(_),N=o.setContext(j),R=l.setContext(j),H=N.lineWidth,U=N.color,K=R.dash||[],Y=R.dashOffset,Z=N.tickWidth,G=N.tickColor,X=N.tickBorderDash||[],ae=N.tickBorderDashOffset;x=_Ke(this,_,c),x!==void 0&&(k=Eh(i,x,H),u?C=T=I=F=k:E=M=O=$=k,p.push({tx1:C,ty1:E,tx2:T,ty2:M,x1:I,y1:O,x2:F,y2:$,width:H,color:U,borderDash:K,borderDashOffset:Y,tickWidth:Z,tickColor:G,tickBorderDash:X,tickBorderDashOffset:ae}))}return this._ticksLength=h,this._borderValue=w,p}_computeLabelItems(e){const r=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=o,f=Zb(i.grid),p=f+d,m=h?-d:p,b=-si(this.labelRotation),y=[];let v,w,_,x,k,C,E,T,M,I,O,F,$="middle";if(s==="top")C=this.bottom-m,E=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+m,E=this._getXAxisLabelAlignment();else if(s==="left"){const D=this._getYAxisLabelAlignment(f);E=D.textAlign,k=D.x}else if(s==="right"){const D=this._getYAxisLabelAlignment(f);E=D.textAlign,k=D.x}else if(r==="x"){if(s==="center")C=(e.top+e.bottom)/2+p;else if(rn(s)){const D=Object.keys(s)[0],j=s[D];C=this.chart.scales[D].getPixelForValue(j)+p}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")k=(e.left+e.right)/2-p;else if(rn(s)){const D=Object.keys(s)[0],j=s[D];k=this.chart.scales[D].getPixelForValue(j)}E=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(c==="start"?$="top":c==="end"&&($="bottom"));const z=this._getLabelSizes();for(v=0,w=l.length;v<w;++v){_=l[v],x=_.label;const D=o.setContext(this.getContext(v));T=this.getPixelForTick(v)+o.labelOffset,M=this._resolveTickFontOptions(v),I=M.lineHeight,O=sr(x)?x.length:1;const j=O/2,N=D.color,R=D.textStrokeColor,H=D.textStrokeWidth;let U=E;a?(k=T,E==="inner"&&(v===w-1?U=this.options.reverse?"left":"right":v===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?u==="near"||b!==0?F=-O*I+I/2:u==="center"?F=-z.highest.height/2-j*I+I:F=-z.highest.height+I/2:u==="near"||b!==0?F=I/2:u==="center"?F=z.highest.height/2-j*I:F=z.highest.height-O*I,h&&(F*=-1),b!==0&&!D.showLabelBackdrop&&(k+=I/2*Math.sin(b))):(C=T,F=(1-O)*I/2);let K;if(D.showLabelBackdrop){const Y=$i(D.backdropPadding),Z=z.heights[v],G=z.widths[v];let X=F-Y.top,ae=0-Y.left;switch($){case"middle":X-=Z/2;break;case"bottom":X-=Z;break}switch(E){case"center":ae-=G/2;break;case"right":ae-=G;break;case"inner":v===w-1?ae-=G:v>0&&(ae-=G/2);break}K={left:ae,top:X,width:G+Y.width,height:Z+Y.height,color:D.backdropColor}}y.push({label:x,font:M,textOffset:F,options:{rotation:b,color:N,strokeColor:R,strokeWidth:H,textAlign:U,textBaseline:$,translation:[k,C],backdrop:K}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-si(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),l=e+o,c=a.widest.width;let u,d;return r==="left"?s?(d=this.right+o,i==="near"?u="left":i==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,i==="near"?u="right":i==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?s?(d=this.left+o,i==="near"?u="right":i==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,i==="near"?u="left":i==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:i,top:s,width:o,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(i,s,o,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const l=(c,u,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(r.display)for(o=0,a=s.length;o<a;++o){const c=s[o];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Eh(e,this.left,a)-a/2,d=Eh(e,this.right,l)+l/2,h=f=c):(h=Eh(e,this.top,a)-a/2,f=Eh(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=o.width,r.strokeStyle=o.color,r.beginPath(),r.moveTo(u,h),r.lineTo(d,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&fE(i,s);const o=this.getLabelItems(e);for(const a of o){const l=a.options,c=a.font,u=a.label,d=a.textOffset;_w(i,u,0,d,c,l)}s&&pE(i)}drawTitle(){const{ctx:e,options:{position:r,title:i,reverse:s}}=this;if(!i.display)return;const o=Wr(i.font),a=$i(i.padding),l=i.align;let c=o.lineHeight/2;r==="bottom"||r==="center"||rn(r)?(c+=a.bottom,sr(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=AKe(this,c,r,l);_w(e,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:f,textAlign:EKe(l,r,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,i=en(e.grid&&e.grid.z,-1),s=en(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==sb.prototype.draw?[{z:r,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Wr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class O_{constructor(e,r,i){this.type=e,this.scope=r,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let i;IKe(r)&&(i=this.register(r));const s=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,TKe(e,a,i),this.override&&yr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,i=e.id,s=this.scope;i in r&&delete r[i],s&&i in yr[s]&&(delete yr[s][i],this.override&&delete np[i])}}function TKe(n,e,r){const i=vw(Object.create(null),[r?yr.get(r):{},yr.get(e),n.defaults]);yr.set(e,i),n.defaultRoutes&&PKe(e,n.defaultRoutes),n.descriptors&&yr.describe(e,n.descriptors)}function PKe(n,e){Object.keys(e).forEach(r=>{const i=r.split("."),s=i.pop(),o=[n].concat(i).join("."),a=e[r].split("."),l=a.pop(),c=a.join(".");yr.route(o,s,c,l)})}function IKe(n){return"id"in n&&"defaults"in n}class MKe{constructor(){this.controllers=new O_(dg,"datasets",!0),this.elements=new O_($s,"elements"),this.plugins=new O_(Object,"plugins"),this.scales=new O_(sb,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,i){[...r].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):In(s,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,r,i){const s=lB(e);Rn(i["before"+s],[],i),r[e](i),Rn(i["after"+s],[],i)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const i=this._typedRegistries[r];if(i.isForType(e))return i}return this.plugins}_get(e,r,i){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var dl=new MKe;class OKe{constructor(){this._init=void 0}notify(e,r,i,s){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(o,e,r,i);return r==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,i,s){s=s||{};for(const o of e){const a=o.plugin,l=a[i],c=[r,s,o.options];if(Rn(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){qn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const i=e&&e.config,s=en(i.options&&i.options.plugins,{}),o=DKe(i);return s===!1&&!r?[]:NKe(e,o,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(r,i),e,"stop"),this._notify(s(i,r),e,"start")}}function DKe(n){const e={},r=[],i=Object.keys(dl.plugins.items);for(let o=0;o<i.length;o++)r.push(dl.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function RKe(n,e){return!e&&n===!1?null:n===!0?{}:n}function NKe(n,{plugins:e,localIds:r},i,s){const o=[],a=n.getContext();for(const l of e){const c=l.id,u=RKe(i[c],s);u!==null&&o.push({plugin:l,options:jKe(n.config,{plugin:l,local:r[c]},u,a)})}return o}function jKe(n,{plugin:e,local:r},i,s){const o=n.pluginScopeKeys(e),a=n.getOptionScopes(i,o);return r&&e.defaults&&a.push(e.defaults),n.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function I4(n,e){const r=yr.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function BKe(n,e){let r=n;return n==="_index_"?r=e:n==="_value_"&&(r=e==="x"?"y":"x"),r}function LKe(n,e){return n===e?"_index_":"_value_"}function RV(n){if(n==="x"||n==="y"||n==="r")return n}function FKe(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function M4(n,...e){if(RV(n))return n;for(const r of e){const i=r.axis||FKe(r.position)||n.length>1&&RV(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function NV(n,e,r){if(r[e+"AxisID"]===n)return{axis:e}}function $Ke(n,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(r.length)return NV(n,"x",r[0])||NV(n,"y",r[0])}return{}}function zKe(n,e){const r=np[n.type]||{scales:{}},i=e.scales||{},s=I4(n.type,e),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!rn(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=M4(a,l,$Ke(a,n),yr.scales[l.type]),u=LKe(c,s),d=r.scales||{};o[a]=nv(Object.create(null),[{axis:c},l,d[c],d[u]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||I4(l,e),d=(np[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=BKe(h,c),p=a[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),nv(o[p],[{axis:f},i[p],d[h]])})}),Object.keys(o).forEach(a=>{const l=o[a];nv(l,[yr.scales[l.type],yr.scale])}),o}function Nge(n){const e=n.options||(n.options={});e.plugins=en(e.plugins,{}),e.scales=zKe(n,e)}function jge(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function UKe(n){return n=n||{},n.data=jge(n.data),Nge(n),n}const jV=new Map,Bge=new Set;function D_(n,e){let r=jV.get(n);return r||(r=e(),jV.set(n,r),Bge.add(r)),r}const ey=(n,e,r)=>{const i=ww(e,r);i!==void 0&&n.add(i)};class WKe{constructor(e){this._config=UKe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jge(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Nge(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return D_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return D_(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return D_(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,i=this.type;return D_(`${i}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const i=this._scopeCache;let s=i.get(e);return(!s||r)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,r,i){const{options:s,type:o}=this,a=this._cachedScopes(e,i),l=a.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(h=>ey(c,e,h))),d.forEach(h=>ey(c,s,h)),d.forEach(h=>ey(c,np[o]||{},h)),d.forEach(h=>ey(c,yr,h)),d.forEach(h=>ey(c,T4,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Bge.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,np[r]||{},yr.datasets[r]||{},{type:r},yr,T4]}resolveNamedOptions(e,r,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:l}=BV(this._resolverCache,e,s);let c=a;if(HKe(a,r)){o.$shared=!1,i=Rs(i)?i():i;const u=this.createResolver(e,i,l);c=E0(a,i,u)}for(const u of r)o[u]=c[u];return o}createResolver(e,r,i=[""],s){const{resolver:o}=BV(this._resolverCache,e,i);return rn(r)?E0(o,r,void 0,s):o}}function BV(n,e,r){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=r.join();let o=i.get(s);return o||(o={resolver:pB(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,o)),o}const qKe=n=>rn(n)&&Object.getOwnPropertyNames(n).some(e=>Rs(n[e]));function HKe(n,e){const{isScriptable:r,isIndexable:i}=xge(n);for(const s of e){const o=r(s),a=i(s),l=(a||o)&&n[s];if(o&&(Rs(l)||qKe(l))||a&&sr(l))return!0}return!1}var VKe="4.5.1";const GKe=["top","bottom","left","right","chartArea"];function LV(n,e){return n==="top"||n==="bottom"||GKe.indexOf(n)===-1&&e==="x"}function FV(n,e){return function(r,i){return r[n]===i[n]?r[e]-i[e]:r[n]-i[n]}}function $V(n){const e=n.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Rn(r&&r.onComplete,[n],e)}function YKe(n){const e=n.chart,r=e.options.animation;Rn(r&&r.onProgress,[n],e)}function Lge(n){return bB()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ok={},zV=n=>{const e=Lge(n);return Object.values(Ok).filter(r=>r.canvas===e).pop()};function KKe(n,e,r){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=e){const a=n[s];delete n[s],(r>0||o>e)&&(n[o+r]=a)}}}function XKe(n,e,r,i){return!r||n.type==="mouseout"?null:i?e:n}var Ku;let If=(Ku=class{static register(...e){dl.add(...e),UV()}static unregister(...e){dl.remove(...e),UV()}constructor(e,r){const i=this.config=new WKe(r),s=Lge(e),o=zV(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||pKe(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=tGe(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OKe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vGe(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Ok[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}bc.listen(this,"complete",$V),bc.listen(this,"progress",YKe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return qn(e)?r&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return dl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uV(this.canvas,this.ctx),this}stop(){return bc.stop(this),this}resize(e,r){bc.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,o),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,fV(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Rn(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};In(r,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let o=[];r&&(o=o.concat(Object.keys(r).map(a=>{const l=r[a],c=M4(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),In(o,a=>{const l=a.options,c=l.id,u=M4(c,l),d=en(l.type,a.dtype);(l.position===void 0||LV(l.position,u)!==LV(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in i&&i[c].type===d)h=i[c];else{const f=dl.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,e)}),In(s,(a,l)=>{a||delete i[l]}),In(i,a=>{Ko.configure(this,a,a.options),Ko.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(FV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,s)=>{r.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){const o=r[i];let a=this.getDatasetMeta(i);const l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=o.indexAxis||I4(l,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=dl.getController(l),{datasetElementType:u,dataElementType:d}=yr.datasets[l];Object.assign(c,{dataElementType:dl.getElement(d),datasetElementType:u&&dl.getElement(u)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){In(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||In(o,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(FV("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){In(this.scales,e=>{Ko.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!tV(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of r){const a=i==="_removeElements"?-o:o;KKe(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=o=>new Set(e.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!tV(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ko.update(this,this.width,this.height,e);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],In(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Rs(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bc.has(this)?this.attached&&!bc.running(this)&&bc.start(this):(this.draw(),$V({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=EYe(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&fE(r,s),e.controller.draw(),s&&pE(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return xw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,s){const o=GYe.modes[r];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=wp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(e,r){const i=this.getDatasetMeta(e);i.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);po(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(o,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),bc.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),uV(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Ok[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),e[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};In(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){In(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},In(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){const s=i?"set":"remove";let o,a,l,c;for(r==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],i=e.map(({datasetIndex:o,index:a})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!l2(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,i){const s=this.options.hover,o=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(r,e),l=i?e:o(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,r){const i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,r,i){const{_active:s=[],options:o}=this,a=r,l=this._getActiveElements(e,s,i,a),c=aGe(e),u=XKe(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Rn(o.onHover,[e,l,this],this),c&&Rn(o.onClick,[e,l,this],this));const d=!l2(l,s);return(d||r)&&(this._active=l,this._updateHoverStyles(l,s,r)),this._lastEvent=u,d}_getActiveElements(e,r,i,s){if(e.type==="mouseout")return[];if(!i)return r;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}},Be(Ku,"defaults",yr),Be(Ku,"instances",Ok),Be(Ku,"overrides",np),Be(Ku,"registry",dl),Be(Ku,"version",VKe),Be(Ku,"getChart",zV),Ku);function UV(){return In(If.instances,n=>n._plugins.invalidate())}function Fge(n,e,r=e){n.lineCap=en(r.borderCapStyle,e.borderCapStyle),n.setLineDash(en(r.borderDash,e.borderDash)),n.lineDashOffset=en(r.borderDashOffset,e.borderDashOffset),n.lineJoin=en(r.borderJoinStyle,e.borderJoinStyle),n.lineWidth=en(r.borderWidth,e.borderWidth),n.strokeStyle=en(r.borderColor,e.borderColor)}function QKe(n,e,r){n.lineTo(r.x,r.y)}function JKe(n){return n.stepped?DGe:n.tension||n.cubicInterpolationMode==="monotone"?RGe:QKe}function $ge(n,e,r={}){const i=n.length,{start:s=0,end:o=i-1}=r,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(o,l),d=s<a&&o<a||s>l&&o>l;return{count:i,start:c,loop:e.loop,ilen:u<c&&!d?i+u-c:u-c}}function ZKe(n,e,r,i){const{points:s,options:o}=e,{count:a,start:l,loop:c,ilen:u}=$ge(s,r,i),d=JKe(o);let{move:h=!0,reverse:f}=i||{},p,m,b;for(p=0;p<=u;++p)m=s[(l+(f?u-p:p))%a],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):d(n,b,m,f,o.stepped),b=m);return c&&(m=s[(l+(f?u:0))%a],d(n,b,m,f,o.stepped)),!!c}function eXe(n,e,r,i){const s=e.points,{count:o,start:a,ilen:l}=$ge(s,r,i),{move:c=!0,reverse:u}=i||{};let d=0,h=0,f,p,m,b,y,v;const w=x=>(a+(u?l-x:x))%o,_=()=>{b!==y&&(n.lineTo(d,y),n.lineTo(d,b),n.lineTo(d,v))};for(c&&(p=s[w(0)],n.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=s[w(f)],p.skip)continue;const x=p.x,k=p.y,C=x|0;C===m?(k<b?b=k:k>y&&(y=k),d=(h*d+x)/++h):(_(),n.lineTo(x,k),m=C,h=0,b=y=k),v=k}_()}function O4(n){const e=n.options,r=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?eXe:ZKe}function tXe(n){return n.stepped?fYe:n.tension||n.cubicInterpolationMode==="monotone"?pYe:Fh}function nXe(n,e,r,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,i)&&s.closePath()),Fge(n,e.options),n.stroke(s)}function rXe(n,e,r,i){const{segments:s,options:o}=e,a=O4(e);for(const l of s)Fge(n,o,l.style),n.beginPath(),a(n,e,l,{start:r,end:r+i-1})&&n.closePath(),n.stroke()}const iXe=typeof Path2D=="function";function sXe(n,e,r,i){iXe&&!e.options.segment?nXe(n,e,r,i):rXe(n,e,r,i)}class My extends $s{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;sYe(this._points,i,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_Ye(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,i=e.length;return i&&r[e[i-1].end]}interpolate(e,r){const i=this.options,s=e[r],o=this.points,a=vYe(this,{property:r,start:s,end:s});if(!a.length)return;const l=[],c=tXe(i);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],p=o[h],m=o[f];if(p===m){l.push(p);continue}const b=Math.abs((s-p[r])/(m[r]-p[r])),y=c(p,m,b,i.stepped);y[r]=e[r],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,r,i){return O4(this)(e,this,r,i)}path(e,r,i){const s=this.segments,o=O4(this);let a=this._loop;r=r||0,i=i||this.points.length-r;for(const l of s)a&=o(e,this,l,{start:r,end:r+i-1});return!!a}draw(e,r,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),sXe(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Be(My,"id","line"),Be(My,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Be(My,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Be(My,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function WV(n,e,r,i){const s=n.options,{[r]:o}=n.getProps([r],i);return Math.abs(e-o)<s.radius+s.hitRadius}class Dk extends $s{constructor(r){super();Be(this,"parsed");Be(this,"skip");Be(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,s){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(r,i){return WV(this,r,"x",i)}inYRange(r,i){return WV(this,r,"y",i)}getCenterPoint(r){const{x:i,y:s}=this.getProps(["x","y"],r);return{x:i,y:s}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);const s=i&&r.borderWidth||0;return(i+s)*2}draw(r,i){const s=this.options;this.skip||s.radius<.1||!xw(this,i,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,P4(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Be(Dk,"id","point"),Be(Dk,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Be(Dk,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const qV=(n,e)=>{let{boxHeight:r=e,boxWidth:i=e}=n;return n.usePointStyle&&(r=Math.min(r,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(e,r)}},oXe=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;let HV=class extends $s{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,i){this.maxWidth=e,this.maxHeight=r,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Rn(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(i=>e.filter(i,this.chart.data))),e.sort&&(r=r.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Wr(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=qV(i,o);let u,d;r.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,o,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let h=e;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,b)=>{const y=i+r/2+o.measureText(m.text).width;(b===0||u[u.length-1]+y+2*l>a)&&(h+=d,u[u.length-(b>0?0:1)]=0,p+=d,f++),c[b]={left:0,top:p,row:f,width:y,height:s},u[u.length-1]+=y+l}),h}_fitCols(e,r,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let h=l,f=0,p=0,m=0,b=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:w,itemHeight:_}=aXe(i,r,o,y,s);v>0&&p+_+2*l>d&&(h+=f+l,u.push({width:f,height:p}),m+=f+l,b++,f=p=0),c[v]={left:m,top:p,col:b,width:w,height:_},f=Math.max(f,w),p+=_+l}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:s},rtl:o}}=this,a=ug(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=Di(i,this.left+s,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Di(i,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Di(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Di(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;fE(e,this),this._draw(),pE(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:i,ctx:s}=this,{align:o,labels:a}=e,l=yr.color,c=ug(e.rtl,this.left,this.width),u=Wr(a.font),{padding:d}=a,h=u.size,f=h/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:m,boxHeight:b,itemHeight:y}=qV(a,h),v=function(C,E,T){if(isNaN(m)||m<=0||isNaN(b)||b<0)return;s.save();const M=en(T.lineWidth,1);if(s.fillStyle=en(T.fillStyle,l),s.lineCap=en(T.lineCap,"butt"),s.lineDashOffset=en(T.lineDashOffset,0),s.lineJoin=en(T.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=en(T.strokeStyle,l),s.setLineDash(en(T.lineDash,[])),a.usePointStyle){const I={radius:b*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:M},O=c.xPlus(C,m/2),F=E+f;vge(s,I,O,F,a.pointStyleWidth&&m)}else{const I=E+Math.max((h-b)/2,0),O=c.leftForLtr(C,m),F=cg(T.borderRadius);s.beginPath(),Object.values(F).some($=>$!==0)?f2(s,{x:O,y:I,w:m,h:b,radius:F}):s.rect(O,I,m,b),s.fill(),M!==0&&s.stroke()}s.restore()},w=function(C,E,T){_w(s,T.text,C,E+y/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},_=this.isHorizontal(),x=this._computeTitleHeight();_?p={x:Di(o,this.left+d,this.right-i[0]),y:this.top+d+x,line:0}:p={x:this.left+d,y:Di(o,this.top+x+d,this.bottom-r[0].height),line:0},Ege(this.ctx,e.textDirection);const k=y+d;this.legendItems.forEach((C,E)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const T=s.measureText(C.text).width,M=c.textAlign(C.textAlign||(C.textAlign=a.textAlign)),I=m+f+T;let O=p.x,F=p.y;c.setWidth(this.width),_?E>0&&O+I+d>this.right&&(F=p.y+=k,p.line++,O=p.x=Di(o,this.left+d,this.right-i[p.line])):E>0&&F+k>this.bottom&&(O=p.x=O+r[p.line].width+d,p.line++,F=p.y=Di(o,this.top+x+d,this.bottom-r[p.line].height));const $=c.x(O);if(v($,F,C),O=wGe(M,O+m+f,_?O+I:this.right,e.rtl),w(c.x(O),F,C),_)p.x+=I+d;else if(typeof C.text!="string"){const z=u.lineHeight;p.y+=zge(C,z)+d}else p.y+=k}),Age(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,i=Wr(r.font),s=$i(r.padding);if(!r.display)return;const o=ug(e.rtl,this.left,this.width),a=this.ctx,l=r.position,c=i.size/2,u=s.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Di(e.align,h,this.right-f);else{const m=this.columnSizes.reduce((b,y)=>Math.max(b,y.height),0);d=u+Di(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=Di(l,h,h+f);a.textAlign=o.textAlign(dB(l)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=i.string,_w(a,r.text,p,d,i)}_computeTitleHeight(){const e=this.options.title,r=Wr(e.font),i=$i(e.padding);return e.display?r.lineHeight+i.height:0}_getLegendItemAt(e,r){let i,s,o;if(Ty(e,this.left,this.right)&&Ty(r,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Ty(e,s.left,s.left+s.width)&&Ty(r,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const r=this.options;if(!uXe(e.type,r))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=oXe(s,i);s&&!o&&Rn(r.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&Rn(r.onHover,[e,i,this],this)}else i&&Rn(r.onClick,[e,i,this],this)}};function aXe(n,e,r,i,s){const o=lXe(i,n,e,r),a=cXe(s,i,e.lineHeight);return{itemWidth:o,itemHeight:a}}function lXe(n,e,r,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),e+r.size/2+i.measureText(s).width}function cXe(n,e,r){let i=n;return typeof e.text!="string"&&(i=zge(e,r)),i}function zge(n,e){const r=n.text?n.text.length:0;return e*r}function uXe(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var dXe={id:"legend",_element:HV,start(n,e,r){const i=n.legend=new HV({ctx:n.ctx,options:r,chart:n});Ko.configure(n,i,r),Ko.addBox(n,i)},stop(n){Ko.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,r){const i=n.legend;Ko.configure(n,i,r),i.options=r},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,r){const i=e.datasetIndex,s=r.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=$i(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Uge extends $s{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=sr(i.text)?i.text.length:1;this._padding=$i(i.padding);const o=s*Wr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:i,bottom:s,right:o,options:a}=this,l=a.align;let c=0,u,d,h;return this.isHorizontal()?(d=Di(l,i,o),h=r+e,u=o-i):(a.position==="left"?(d=i+e,h=Di(l,s,r),c=Sn*-.5):(d=o-e,h=Di(l,r,s),c=Sn*.5),u=s-r),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const i=Wr(r.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(o);_w(e,r.text,0,0,i,{color:r.color,maxWidth:c,rotation:u,textAlign:dB(r.align),textBaseline:"middle",translation:[a,l]})}}function hXe(n,e){const r=new Uge({ctx:n.ctx,options:e,chart:n});Ko.configure(n,r,e),Ko.addBox(n,r),n.titleBlock=r}var fXe={id:"title",_element:Uge,start(n,e,r){hXe(n,r)},stop(n){const e=n.titleBlock;Ko.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,r){const i=n.titleBlock;Ko.configure(n,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Oy={average(n){if(!n.length)return!1;let e,r,i=new Set,s=0,o=0;for(e=0,r=n.length;e<r;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),s+=c.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:s/o}},nearest(n,e){if(!n.length)return!1;let r=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,a,l;for(o=0,a=n.length;o<a;++o){const c=n[o].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=C0(e,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,i=c.y}return{x:r,y:i}}};function ll(n,e){return e&&(sr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function yc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function pXe(n,e){const{element:r,datasetIndex:i,index:s}=e,o=n.getDatasetMeta(i).controller,{label:a,value:l}=o.getLabelAndValue(s);return{chart:n,label:a,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:r}}function VV(n,e){const r=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:a,boxHeight:l}=e,c=Wr(e.bodyFont),u=Wr(e.titleFont),d=Wr(e.footerFont),h=o.length,f=s.length,p=i.length,m=$i(e.padding);let b=m.height,y=0,v=i.reduce((x,k)=>x+k.before.length+k.lines.length+k.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,h&&(b+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const x=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=p*x+(v-p)*c.lineHeight+(v-1)*e.bodySpacing}f&&(b+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let w=0;const _=function(x){y=Math.max(y,r.measureText(x).width+w)};return r.save(),r.font=u.string,In(n.title,_),r.font=c.string,In(n.beforeBody.concat(n.afterBody),_),w=e.displayColors?a+2+e.boxPadding:0,In(i,x=>{In(x.before,_),In(x.lines,_),In(x.after,_)}),w=0,r.font=d.string,In(n.footer,_),r.restore(),y+=m.width,{width:y,height:b}}function mXe(n,e){const{y:r,height:i}=e;return r<i/2?"top":r>n.height-i/2?"bottom":"center"}function gXe(n,e,r,i){const{x:s,width:o}=i,a=r.caretSize+r.caretPadding;if(n==="left"&&s+o+a>e.width||n==="right"&&s-o-a<0)return!0}function bXe(n,e,r,i){const{x:s,width:o}=r,{width:a,chartArea:{left:l,right:c}}=n;let u="center";return i==="center"?u=s<=(l+c)/2?"left":"right":s<=o/2?u="left":s>=a-o/2&&(u="right"),gXe(u,n,e,r)&&(u="center"),u}function GV(n,e,r){const i=r.yAlign||e.yAlign||mXe(n,r);return{xAlign:r.xAlign||e.xAlign||bXe(n,e,r,i),yAlign:i}}function yXe(n,e){let{x:r,width:i}=n;return e==="right"?r-=i:e==="center"&&(r-=i/2),r}function vXe(n,e,r){let{y:i,height:s}=n;return e==="top"?i+=r:e==="bottom"?i-=s+r:i-=s/2,i}function YV(n,e,r,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=n,{xAlign:l,yAlign:c}=r,u=s+o,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=cg(a);let m=yXe(e,l);const b=vXe(e,c,u);return c==="center"?l==="left"?m+=u:l==="right"&&(m-=u):l==="left"?m-=Math.max(d,f)+s:l==="right"&&(m+=Math.max(h,p)+s),{x:Yo(m,0,i.width-e.width),y:Yo(b,0,i.height-e.height)}}function R_(n,e,r){const i=$i(r.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function KV(n){return ll([],yc(n))}function wXe(n,e,r){return wp(n,{tooltip:e,tooltipItems:r,type:"tooltip"})}function XV(n,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?n.override(r):n}const Wge={beforeTitle:uc,title(n){if(n.length>0){const e=n[0],r=e.chart.data.labels,i=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return r[e.dataIndex]}return""},afterTitle:uc,beforeBody:uc,beforeLabel:uc,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const r=n.formattedValue;return qn(r)||(e+=r),e},labelColor(n){const r=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const r=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:uc,afterBody:uc,beforeFooter:uc,footer:uc,afterFooter:uc};function gs(n,e,r,i){const s=n[e].call(r,i);return typeof s>"u"?Wge[e].call(r,i):s}class D4 extends $s{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new vB(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=wXe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:i}=r,s=gs(i,"beforeTitle",this,e),o=gs(i,"title",this,e),a=gs(i,"afterTitle",this,e);let l=[];return l=ll(l,yc(s)),l=ll(l,yc(o)),l=ll(l,yc(a)),l}getBeforeBody(e,r){return KV(gs(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:i}=r,s=[];return In(e,o=>{const a={before:[],lines:[],after:[]},l=XV(i,o);ll(a.before,yc(gs(l,"beforeLabel",this,o))),ll(a.lines,gs(l,"label",this,o)),ll(a.after,yc(gs(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,r){return KV(gs(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:i}=r,s=gs(i,"beforeFooter",this,e),o=gs(i,"footer",this,e),a=gs(i,"afterFooter",this,e);let l=[];return l=ll(l,yc(s)),l=ll(l,yc(o)),l=ll(l,yc(a)),l}_createItems(e){const r=this._active,i=this.chart.data,s=[],o=[],a=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(pXe(this.chart,r[c]));return e.filter&&(l=l.filter((d,h,f)=>e.filter(d,h,f,i))),e.itemSort&&(l=l.sort((d,h)=>e.itemSort(d,h,i))),In(l,d=>{const h=XV(e.callbacks,d);s.push(gs(h,"labelColor",this,d)),o.push(gs(h,"labelPointStyle",this,d)),a.push(gs(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,r){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const l=Oy[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=VV(this,i),u=Object.assign({},l,c),d=GV(this.chart,i,u),h=YV(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,s){const o=this.getCaretPosition(e,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(e,r,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=cg(l),{x:f,y:p}=e,{width:m,height:b}=r;let y,v,w,_,x,k;return o==="center"?(x=p+b/2,s==="left"?(y=f,v=y-a,_=x+a,k=x-a):(y=f+m,v=y+a,_=x-a,k=x+a),w=y):(s==="left"?v=f+Math.max(c,d)+a:s==="right"?v=f+m-Math.max(u,h)-a:v=this.caretX,o==="top"?(_=p,x=_-a,y=v-a,w=v+a):(_=p+b,x=_+a,y=v+a,w=v-a),k=_),{x1:y,x2:v,x3:w,y1:_,y2:x,y3:k}}drawTitle(e,r,i){const s=this.title,o=s.length;let a,l,c;if(o){const u=ug(i.rtl,this.x,this.width);for(e.x=R_(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Wr(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===o&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,r,i,s,o){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=o,d=Wr(o.bodyFont),h=R_(this,"left",o),f=s.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,m=r.y+p;if(o.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,v=m+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,P4(e,b,y,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,P4(e,b,y,v)}else{e.lineWidth=rn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),v=cg(a.borderRadius);Object.values(v).some(w=>w!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,f2(e,{x:b,y:m,w:u,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),f2(e,{x:y,y:m+1,w:u-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(b,m,u,c),e.strokeRect(b,m,u,c),e.fillStyle=a.backgroundColor,e.fillRect(y,m+1,u-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=i,h=Wr(i.bodyFont);let f=h.lineHeight,p=0;const m=ug(i.rtl,this.x,this.width),b=function(T){r.fillText(T,m.x(e.x+p),e.y+f/2),e.y+=f+o},y=m.textAlign(a);let v,w,_,x,k,C,E;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,e.x=R_(this,y,i),r.fillStyle=i.bodyColor,In(this.beforeBody,b),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,x=0,C=s.length;x<C;++x){for(v=s[x],w=this.labelTextColors[x],r.fillStyle=w,In(v.before,b),_=v.lines,l&&_.length&&(this._drawColorBox(r,e,x,m,i),f=Math.max(h.lineHeight,c)),k=0,E=_.length;k<E;++k)b(_[k]),f=h.lineHeight;In(v.after,b)}p=0,f=h.lineHeight,In(this.afterBody,b),e.y-=o}drawFooter(e,r,i){const s=this.footer,o=s.length;let a,l;if(o){const c=ug(i.rtl,this.x,this.width);for(e.x=R_(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=Wr(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,r,i,s){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=cg(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(l+h,c),a==="top"&&this.drawCaret(e,r,i,s),r.lineTo(l+u-f,c),r.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&o==="right"&&this.drawCaret(e,r,i,s),r.lineTo(l+u,c+d-m),r.quadraticCurveTo(l+u,c+d,l+u-m,c+d),a==="bottom"&&this.drawCaret(e,r,i,s),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&o==="left"&&this.drawCaret(e,r,i,s),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=Oy[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=VV(this,e),c=Object.assign({},a,this._size),u=GV(r,e,c),d=YV(e,c,u,r);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=$i(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,r),Ege(e,r.textDirection),o.y+=a.top,this.drawTitle(o,e,r),this.drawBody(o,e,r),this.drawFooter(o,e,r),Age(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const i=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!l2(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(e,o,r,i),l=this._positionChanged(a,e),c=r||!l2(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:i,caretY:s,options:o}=this,a=Oy[o.position].call(this,e,r);return a!==!1&&(i!==a.x||s!==a.y)}}Be(D4,"positioners",Oy);var xXe={id:"tooltip",_element:D4,positioners:Oy,afterInit(n,e,r){r&&(n.tooltip=new D4({chart:n,options:r}))},beforeUpdate(n,e,r){n.tooltip&&n.tooltip.initialize(r)},reset(n,e,r){n.tooltip&&n.tooltip.initialize(r)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",r)}},afterEvent(n,e){if(n.tooltip){const r=e.replay;n.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Wge},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _Xe=(n,e,r,i)=>(typeof e=="string"?(r=n.push(e)-1,i.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function kXe(n,e,r,i){const s=n.indexOf(e);if(s===-1)return _Xe(n,e,r,i);const o=n.lastIndexOf(e);return s!==o?r:s}const SXe=(n,e)=>n===null?null:Yo(Math.round(n),0,e);function QV(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class R4 extends sb{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(qn(e))return null;const i=this.getLabels();return r=isFinite(r)&&i[r]===e?r:kXe(i,e,en(r,e),this._addedLabels),SXe(r,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,r=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&r===o.length-1?o:o.slice(e,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return QV.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Be(R4,"id","category"),Be(R4,"defaults",{ticks:{callback:QV}});function CXe(n,e){const r=[],{bounds:s,step:o,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=n,p=o||1,m=d-1,{min:b,max:y}=e,v=!qn(a),w=!qn(l),_=!qn(u),x=(y-b)/(h+1);let k=nV((y-b)/m/p)*p,C,E,T,M;if(k<1e-14&&!v&&!w)return[{value:b},{value:y}];M=Math.ceil(y/k)-Math.floor(b/k),M>m&&(k=nV(M*k/m/p)*p),qn(c)||(C=Math.pow(10,c),k=Math.ceil(k*C)/C),s==="ticks"?(E=Math.floor(b/k)*k,T=Math.ceil(y/k)*k):(E=b,T=y),v&&w&&o&&dGe((l-a)/o,k/1e3)?(M=Math.round(Math.min((l-a)/k,d)),k=(l-a)/M,E=a,T=l):_?(E=v?a:E,T=w?l:T,M=u-1,k=(T-E)/M):(M=(T-E)/k,rv(M,Math.round(M),k/1e3)?M=Math.round(M):M=Math.ceil(M));const I=Math.max(rV(k),rV(E));C=Math.pow(10,qn(c)?I:c),E=Math.round(E*C)/C,T=Math.round(T*C)/C;let O=0;for(v&&(f&&E!==a?(r.push({value:a}),E<a&&O++,rv(Math.round((E+O*k)*C)/C,a,JV(a,x,n))&&O++):E<a&&O++);O<M;++O){const F=Math.round((E+O*k)*C)/C;if(w&&F>l)break;r.push({value:F})}return w&&f&&T!==l?r.length&&rv(r[r.length-1].value,l,JV(l,x,n))?r[r.length-1].value=l:r.push({value:l}):(!w||T===l)&&r.push({value:T}),r}function JV(n,e,{horizontal:r,minRotation:i}){const s=si(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+n).length;return Math.min(e/o,a)}class EXe extends sb{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return qn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=c=>s=r?s:c,l=c=>o=i?o:c;if(e){const c=S0(s),u=S0(o);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===o){let c=o===0?1:Math.abs(o*.05);l(o+c),e||a(s-c)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},o=this._range||this,a=CXe(s,o);return e.bounds==="ticks"&&hGe(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-r)/Math.max(e.length-1,1)/2;r-=s,i+=s}this._startValue=r,this._endValue=i,this._valueRange=i-r}getLabelForValue(e){return fB(e,this.chart.options.locale,this.options.ticks.format)}}class N4 extends EXe{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=js(e)?e:0,this.max=js(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,i=si(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Be(N4,"id","linear"),Be(N4,"defaults",{ticks:{callback:yge.formatters.numeric}});const bE={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Es=Object.keys(bE);function ZV(n,e){return n-e}function eG(n,e){if(qn(e))return null;const r=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),js(a)||(a=typeof i=="string"?r.parse(a,i):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(tp(o)||o===!0)?r.startOf(a,"isoWeek",o):r.startOf(a,s)),+a)}function tG(n,e,r,i){const s=Es.length;for(let o=Es.indexOf(n);o<s-1;++o){const a=bE[Es[o]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(l*a.size))<=i)return Es[o]}return Es[s-1]}function AXe(n,e,r,i,s){for(let o=Es.length-1;o>=Es.indexOf(r);o--){const a=Es[o];if(bE[a].common&&n._adapter.diff(s,i,a)>=e-1)return a}return Es[r?Es.indexOf(r):0]}function TXe(n){for(let e=Es.indexOf(n)+1,r=Es.length;e<r;++e)if(bE[Es[e]].common)return Es[e]}function nG(n,e,r){if(!r)n[e]=!0;else if(r.length){const{lo:i,hi:s}=uB(r,e),o=r[i]>=e?r[i]:r[s];n[o]=!0}}function PXe(n,e,r,i){const s=n._adapter,o=+s.startOf(e[0].value,i),a=e[e.length-1].value;let l,c;for(l=o;l<=a;l=+s.add(l,1,i))c=r[l],c>=0&&(e[c].major=!0);return e}function rG(n,e,r){const i=[],s={},o=e.length;let a,l;for(a=0;a<o;++a)l=e[a],s[l]=a,i.push({value:l,major:!1});return o===0||!r?i:PXe(n,i,s,r)}class g2 extends sb{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const i=e.time||(e.time={}),s=this._adapter=new UYe._date(e.adapters.date);s.init(r),nv(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:eG(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=js(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=js(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){const e=this.options,r=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,l=gGe(s,o,a);return this._unit=r.unit||(i.autoSkip?tG(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):AXe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:TXe(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),rG(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=Yo(r,0,a),i=Yo(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||tG(o.minUnit,r,i,this._getLabelCapacity(r)),l=en(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,u=tp(c)||c===!0,d={};let h=r,f,p;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":a),e.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+e.add(f,l,a),p++)nG(d,f,m);return(f===i||s.bounds==="ticks"||p===1)&&nG(d,f,m),Object.keys(d).sort(ZV).map(b=>+b)}getLabelForValue(e){const r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,o=this._unit,a=r||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,r,i,s){const o=this.options,a=o.ticks.callback;if(a)return Rn(a,[e,r,i],this);const l=o.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=i[r],p=u&&h&&f&&f.major;return this._adapter.format(e,s||(p?h:d))}generateTickLabels(e){let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,i=this.ctx.measureText(e).width,s=si(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*a,h:i*a+l*o}}_getLabelCapacity(e){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(e,0,rG(this,[e],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,i;if(e.length)return e;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)e.push(eG(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yGe(e.sort(ZV))}}Be(g2,"id","time"),Be(g2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function N_(n,e,r){let i=0,s=n.length-1,o,a,l,c;r?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=nf(n,"pos",e)),{pos:o,time:l}=n[i],{pos:a,time:c}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=nf(n,"time",e)),{time:o,pos:l}=n[i],{time:a,pos:c}=n[s]);const u=a-o;return u?l+(c-l)*(e-o)/u:l}class iG extends g2{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=N_(r,this.min),this._tableRange=N_(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:i}=this,s=[],o=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=r&&u<=i&&s.push(u);if(s.length<2)return[{time:r,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&o.push({time:u,pos:a/(l-1)});return o}_generate(){const e=this.min,r=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(r)||i.length===1)&&i.push(r),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),i=this.getLabelTimestamps();return r.length&&i.length?e=this.normalize(r.concat(i)):e=r.length?r:i,e=this._cache.all=e,e}getDecimalForValue(e){return(N_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return N_(this._table,i*this._tableRange+this._minPos,!0)}}Be(iG,"id","timeseries"),Be(iG,"defaults",g2.defaults);const qge="label";function sG(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function IXe(n,e){const r=n.options;r&&e&&Object.assign(r,e)}function Hge(n,e){n.labels=e}function Vge(n,e,r=qge){const i=[];n.datasets=e.map(s=>{const o=n.datasets.find(a=>a[r]===s[r]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function MXe(n,e=qge){const r={labels:[],datasets:[]};return Hge(r,n.labels),Vge(r,n.datasets,e),r}function OXe(n,e){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=n,p=A.useRef(null),m=A.useRef(null),b=()=>{p.current&&(m.current=new If(p.current,{type:a,data:MXe(l,o),options:c&&{...c},plugins:u}),sG(e,m.current))},y=()=>{sG(e,null),m.current&&(m.current.destroy(),m.current=null)};return A.useEffect(()=>{!s&&m.current&&c&&IXe(m.current,c)},[s,c]),A.useEffect(()=>{!s&&m.current&&Hge(m.current.config.data,l.labels)},[s,l.labels]),A.useEffect(()=>{!s&&m.current&&l.datasets&&Vge(m.current.config.data,l.datasets,o)},[s,l.datasets]),A.useEffect(()=>{m.current&&(s?(y(),setTimeout(b)):m.current.update(h))},[s,c,l.labels,l.datasets,h]),A.useEffect(()=>{m.current&&(y(),setTimeout(b))},[a]),A.useEffect(()=>(b(),()=>y()),[]),g.jsx("canvas",{ref:p,role:"img",height:r,width:i,...f,children:d})}const DXe=A.forwardRef(OXe);function RXe(n,e){return If.register(e),A.forwardRef((r,i)=>g.jsx(DXe,{...r,ref:i,type:n}))}const NXe=RXe("scatter",Ik);/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const oG={modes:{point(n,e){return Rk(n,e,{intersect:!0})},nearest(n,e,r){return LXe(n,e,r)},x(n,e,r){return Rk(n,e,{intersect:r.intersect,axis:"x"})},y(n,e,r){return Rk(n,e,{intersect:r.intersect,axis:"y"})}}};function xB(n,e,r){return(oG.modes[r.mode]||oG.modes.nearest)(n,e,r)}function jXe(n,e,r){return r!=="x"&&r!=="y"?n.inRange(e.x,e.y,"x",!0)||n.inRange(e.x,e.y,"y",!0):n.inRange(e.x,e.y,r,!0)}function BXe(n,e,r){return r==="x"?{x:n.x,y:e.y}:r==="y"?{x:e.x,y:n.y}:e}function Rk(n,e,r){return n.filter(i=>r.intersect?i.inRange(e.x,e.y):jXe(i,e,r.axis))}function LXe(n,e,r){let i=Number.POSITIVE_INFINITY;return Rk(n,e,r).reduce((s,o)=>{const a=o.getCenterPoint(),l=BXe(e,a,r.axis),c=C0(e,l);return c<i?(s=[o],i=c):c===i&&s.push(o),s},[]).sort((s,o)=>s._index-o._index).slice(0,1)}function xp(n,e,r){const i=Math.cos(r),s=Math.sin(r),o=e.x,a=e.y;return{x:o+i*(n.x-o)-s*(n.y-a),y:a+s*(n.x-o)+i*(n.y-a)}}const FXe=(n,e)=>e>n||n.length>e.length&&n.slice(0,e.length)===e,rf=.001,yE=(n,e,r)=>Math.min(r,Math.max(e,n)),Gge=(n,e)=>n.value>=n.start-e&&n.value<=n.end+e;function $Xe(n,e,r){for(const i of Object.keys(n))n[i]=yE(n[i],e,r);return n}function zXe(n,e,r,i){return!n||!e||r<=0?!1:Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)<=Math.pow(r+i,2)}function Yge(n,{x:e,y:r,x2:i,y2:s},o,{borderWidth:a,hitTolerance:l}){const c=(a+l)/2,u=n.x>=e-c-rf&&n.x<=i+c+rf,d=n.y>=r-c-rf&&n.y<=s+c+rf;return o==="x"?u:(o==="y"||u)&&d}function Kge(n,{rect:e,center:r},i,{rotation:s,borderWidth:o,hitTolerance:a}){const l=xp(n,r,si(-s));return Yge(l,e,i,{borderWidth:o,hitTolerance:a})}function _p(n,e){const{centerX:r,centerY:i}=n.getProps(["centerX","centerY"],e);return{x:r,y:i}}function UXe(n,e,r,i=!0){const s=r.split(".");let o=0;for(const a of e.split(".")){const l=s[o++];if(parseInt(a,10)<parseInt(l,10))break;if(FXe(l,a)){if(i)throw new Error(`${n} v${r} is not supported. v${e} or newer is required.`);return!1}}return!0}const Xge=n=>typeof n=="string"&&n.endsWith("%"),Qge=n=>parseFloat(n)/100,Jge=n=>yE(Qge(n),0,1),ty=(n,e)=>({x:n,y:e,x2:n,y2:e,width:0,height:0}),WXe={box:n=>ty(n.centerX,n.centerY),doughnutLabel:n=>ty(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>ty(n.centerX,n.centerY),line:n=>ty(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>ty(n.centerX,n.centerY)};function _B(n,e){return e==="start"?0:e==="end"?n:Xge(e)?Jge(e)*n:n/2}function Qd(n,e,r=!0){return typeof e=="number"?e:Xge(e)?(r?Jge(e):Qge(e))*n:n}function qXe(n,e){const{x:r,width:i}=n,s=e.textAlign;return s==="center"?r+i/2:s==="end"||s==="right"?r+i:r}function Zge(n,e,{borderWidth:r,position:i,xAdjust:s,yAdjust:o},a){const l=rn(a),c=e.width+(l?a.width:0)+r,u=e.height+(l?a.height:0)+r,d=kB(i),h=aG(n.x,c,s,d.x),f=aG(n.y,u,o,d.y);return{x:h,y:f,x2:h+c,y2:f+u,width:c,height:u,centerX:h+c/2,centerY:f+u/2}}function kB(n,e="center"){return rn(n)?{x:en(n.x,e),y:en(n.y,e)}:(n=en(n,e),{x:n,y:n})}const e0e=(n,e)=>n&&n.autoFit&&e<1;function t0e(n,e){const r=n.font,i=sr(r)?r:[r];return e0e(n,e)?i.map(function(s){const o=Wr(s);return o.size=Math.floor(s.size*e),o.lineHeight=s.lineHeight,Wr(o)}):i.map(s=>Wr(s))}function n0e(n){return n&&(po(n.xValue)||po(n.yValue))}function aG(n,e,r=0,i){return n-_B(e,i)+r}function ob(n,e,r){const i=r.init;if(i){if(i===!0)return i0e(e,r)}else return;return HXe(n,e,r)}function r0e(n,e,r){let i=!1;return e.forEach(s=>{Rs(n[s])?(i=!0,r[s]=n[s]):po(r[s])&&delete r[s]}),i}function i0e(n,e){const r=e.type||"line";return WXe[r](n)}function HXe(n,e,r){const i=Rn(r.init,[{chart:n,properties:e,options:r}]);if(i===!0)return i0e(e,r);if(rn(i))return i}const V3=new Map,VXe=n=>isNaN(n)||n<=0,GXe=n=>n.reduce(function(e,r){return e+=r.string,e},"");function vE(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function wE(n,{x:e,y:r},i){i&&(n.translate(e,r),n.rotate(si(i)),n.translate(-e,-r))}function hu(n,e){if(e&&e.borderWidth)return n.lineCap=e.borderCapStyle||"butt",n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.lineJoin=e.borderJoinStyle||"miter",n.lineWidth=e.borderWidth,n.strokeStyle=e.borderColor,!0}function ab(n,e){n.shadowColor=e.backgroundShadowColor,n.shadowBlur=e.shadowBlur,n.shadowOffsetX=e.shadowOffsetX,n.shadowOffsetY=e.shadowOffsetY}function xE(n,e){const r=e.content;if(vE(r))return{width:Qd(r.width,e.width),height:Qd(r.height,e.height)};const i=t0e(e),s=e.textStrokeWidth,o=sr(r)?r:[r],a=o.join()+GXe(i)+s+(n._measureText?"-spriting":"");return V3.has(a)||V3.set(a,QXe(n,o,i,s)),V3.get(a)}function s0e(n,e,r){const{x:i,y:s,width:o,height:a}=e;n.save(),ab(n,r);const l=hu(n,r);n.fillStyle=r.backgroundColor,n.beginPath(),f2(n,{x:i,y:s,w:o,h:a,radius:$Xe(cg(r.borderRadius),0,Math.min(o,a)/2)}),n.closePath(),n.fill(),l&&(n.shadowColor=r.borderShadowColor,n.stroke()),n.restore()}function o0e(n,e,r,i){const s=r.content;if(vE(s)){n.save(),n.globalAlpha=eQe(r.opacity,s.style.opacity),n.drawImage(s,e.x,e.y,e.width,e.height),n.restore();return}const o=sr(s)?s:[s],a=t0e(r,i),l=r.color,c=sr(l)?l:[l],u=qXe(e,r),d=e.y+r.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=r.textAlign,YXe(n,r)&&JXe(n,{x:u,y:d},o,a),ZXe(n,{x:u,y:d},o,{fonts:a,colors:c}),n.restore()}function YXe(n,e){if(e.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=e.textStrokeWidth,n.strokeStyle=e.textStrokeColor,!0}function KXe(n,e,r,i){const{radius:s,options:o}=e,a=o.pointStyle,l=o.rotation;let c=(l||0)*cB;if(vE(a)){n.save(),n.translate(r,i),n.rotate(c),n.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),n.restore();return}VXe(s)||XXe(n,{x:r,y:i,radius:s,rotation:l,style:a,rad:c})}function XXe(n,{x:e,y:r,radius:i,rotation:s,style:o,rad:a}){let l,c,u,d;switch(n.beginPath(),o){default:n.arc(e,r,i,0,wi),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(a)*i,r-Math.cos(a)*i),a+=d2,n.lineTo(e+Math.sin(a)*i,r-Math.cos(a)*i),a+=d2,n.lineTo(e+Math.sin(a)*i,r-Math.cos(a)*i),n.closePath();break;case"rectRounded":d=i*.516,u=i-d,l=Math.cos(a+Uo)*u,c=Math.sin(a+Uo)*u,n.arc(e-l,r-c,d,a-Sn,a-xi),n.arc(e+c,r-l,d,a-xi,a),n.arc(e+l,r+c,d,a,a+xi),n.arc(e-c,r+l,d,a+xi,a+Sn),n.closePath();break;case"rect":if(!s){u=Math.SQRT1_2*i,n.rect(e-u,r-u,2*u,2*u);break}a+=Uo;case"rectRot":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+c,r-l),n.lineTo(e+l,r+c),n.lineTo(e-c,r+l),n.closePath();break;case"crossRot":a+=Uo;case"cross":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l);break;case"star":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l),a+=Uo,l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l);break;case"line":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(a)*i,r+Math.sin(a)*i);break}n.fill()}function QXe(n,e,r,i){n.save();const s=e.length;let o=0,a=i;for(let l=0;l<s;l++){const c=r[Math.min(l,r.length-1)];n.font=c.string;const u=e[l];o=Math.max(o,n.measureText(u).width+i),a+=c.lineHeight}return n.restore(),{width:o,height:a}}function JXe(n,{x:e,y:r},i,s){n.beginPath();let o=0;i.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=c.lineHeight;n.font=c.string,n.strokeText(a,e,r+u/2+o),o+=u}),n.stroke()}function ZXe(n,{x:e,y:r},i,{fonts:s,colors:o}){let a=0;i.forEach(function(l,c){const u=o[Math.min(c,o.length-1)],d=s[Math.min(c,s.length-1)],h=d.lineHeight;n.beginPath(),n.font=d.string,n.fillStyle=u,n.fillText(l,e,r+h/2+a),a+=h,n.fill()})}function eQe(n,e){const r=tp(n)?n:e;return tp(r)?yE(r,0,1):1}const a0e=["left","bottom","top","right"];function tQe(n,e){const{pointX:r,pointY:i,options:s}=e,o=s.callout,a=o&&o.display&&oQe(e,o);if(!a||lQe(e,o,a))return;if(n.save(),n.beginPath(),!hu(n,o))return n.restore();const{separatorStart:c,separatorEnd:u}=nQe(e,a),{sideStart:d,sideEnd:h}=iQe(e,a,c);(o.margin>0||s.borderWidth===0)&&(n.moveTo(c.x,c.y),n.lineTo(u.x,u.y)),n.moveTo(d.x,d.y),n.lineTo(h.x,h.y);const f=xp({x:r,y:i},e.getCenterPoint(),si(-e.rotation));n.lineTo(f.x,f.y),n.stroke(),n.restore()}function nQe(n,e){const{x:r,y:i,x2:s,y2:o}=n,a=rQe(n,e);let l,c;return e==="left"||e==="right"?(l={x:r+a,y:i},c={x:l.x,y:o}):(l={x:r,y:i+a},c={x:s,y:l.y}),{separatorStart:l,separatorEnd:c}}function rQe(n,e){const{width:r,height:i,options:s}=n,o=s.callout.margin+s.borderWidth/2;return e==="right"?r+o:e==="bottom"?i+o:-o}function iQe(n,e,r){const{y:i,width:s,height:o,options:a}=n,l=a.callout.start,c=sQe(e,a.callout);let u,d;return e==="left"||e==="right"?(u={x:r.x,y:i+Qd(o,l)},d={x:u.x+c,y:u.y}):(u={x:r.x+Qd(s,l),y:r.y},d={x:u.x,y:u.y+c}),{sideStart:u,sideEnd:d}}function sQe(n,e){const r=e.side;return n==="left"||n==="top"?-r:r}function oQe(n,e){const r=e.position;return a0e.includes(r)?r:aQe(n,e)}function aQe(n,e){const{x:r,y:i,x2:s,y2:o,width:a,height:l,pointX:c,pointY:u,centerX:d,centerY:h,rotation:f}=n,p={x:d,y:h},m=e.start,b=Qd(a,m),y=Qd(l,m),v=[r,r+b,r+b,s],w=[i+y,o,i,o],_=[];for(let x=0;x<4;x++){const k=xp({x:v[x],y:w[x]},p,si(f));_.push({position:a0e[x],distance:C0(k,{x:c,y:u})})}return _.sort((x,k)=>x.distance-k.distance)[0].position}function lQe(n,e,r){const{pointX:i,pointY:s}=n,o=e.margin;let a=i,l=s;return r==="left"?a+=o:r==="right"?a-=o:r==="top"?l+=o:r==="bottom"&&(l-=o),n.inRange(a,l)}const lG={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function T0(n,e,r){return e=typeof e=="number"?e:n.parse(e),js(e)?n.getPixelForValue(e):r}function rp(n,e,r){const i=e[r];if(i||r==="scaleID")return i;const s=r.charAt(0),o=Object.values(n).filter(a=>a.axis&&a.axis===s);return o.length?o[0].id:s}function l0e(n,e){if(n){const r=n.options.reverse,i=T0(n,e.min,r?e.end:e.start),s=T0(n,e.max,r?e.start:e.end);return{start:i,end:s}}}function c0e(n,e){const{chartArea:r,scales:i}=n,s=i[rp(i,e,"xScaleID")],o=i[rp(i,e,"yScaleID")];let a=r.width/2,l=r.height/2;return s&&(a=T0(s,e.xValue,s.left+s.width/2)),o&&(l=T0(o,e.yValue,o.top+o.height/2)),{x:a,y:l}}function SB(n,e){const r=n.scales,i=r[rp(r,e,"xScaleID")],s=r[rp(r,e,"yScaleID")];if(!i&&!s)return{};let{left:o,right:a}=i||n.chartArea,{top:l,bottom:c}=s||n.chartArea;const u=cG(i,{min:e.xMin,max:e.xMax,start:o,end:a});o=u.start,a=u.end;const d=cG(s,{min:e.yMin,max:e.yMax,start:c,end:l});return l=d.start,c=d.end,{x:o,y:l,x2:a,y2:c,width:a-o,height:c-l,centerX:o+(a-o)/2,centerY:l+(c-l)/2}}function u0e(n,e){if(!n0e(e)){const r=SB(n,e);let i=e.radius;(!i||isNaN(i))&&(i=Math.min(r.width,r.height)/2,e.radius=i);const s=i*2,o=r.centerX+e.xAdjust,a=r.centerY+e.yAdjust;return{x:o-i,y:a-i,x2:o+i,y2:a+i,centerX:o,centerY:a,width:s,height:s,radius:i}}return uQe(n,e)}function cQe(n,e){const{scales:r,chartArea:i}=n,s=r[e.scaleID],o={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return s?dQe(s,o,e):hQe(r,o,e),o}function d0e(n,e){const r=SB(n,e);return r.initProperties=ob(n,r,e),r.elements=[{type:"label",optionScope:"label",properties:mQe(n,r,e),initProperties:r.initProperties}],r}function uQe(n,e){const r=c0e(n,e),i=e.radius*2;return{x:r.x-e.radius+e.xAdjust,y:r.y-e.radius+e.yAdjust,x2:r.x+e.radius+e.xAdjust,y2:r.y+e.radius+e.yAdjust,centerX:r.x+e.xAdjust,centerY:r.y+e.yAdjust,radius:e.radius,width:i,height:i}}function cG(n,e){const r=l0e(n,e)||e;return{start:Math.min(r.start,r.end),end:Math.max(r.start,r.end)}}function dQe(n,e,r){const i=T0(n,r.value,NaN),s=T0(n,r.endValue,i);n.isHorizontal()?(e.x=i,e.x2=s):(e.y=i,e.y2=s)}function hQe(n,e,r){for(const i of Object.keys(lG)){const s=n[rp(n,r,i)];if(s){const{min:o,max:a,start:l,end:c,startProp:u,endProp:d}=lG[i],h=l0e(s,{min:r[o],max:r[a],start:s[l],end:s[c]});e[u]=h.start,e[d]=h.end}}}function fQe({properties:n,options:e},r,i,s){const{x:o,x2:a,width:l}=n;return h0e({start:o,end:a,borderWidth:e.borderWidth},{position:i.x,padding:{start:s.left,end:s.right},adjust:e.label.xAdjust,size:r.width})}function pQe({properties:n,options:e},r,i,s){const{y:o,y2:a,height:l}=n;return h0e({start:o,end:a,borderWidth:e.borderWidth},{position:i.y,padding:{start:s.top,end:s.bottom},adjust:e.label.yAdjust,size:r.height})}function h0e(n,e){const{start:r,end:i,borderWidth:s}=n,{position:o,padding:{start:a,end:l},adjust:c}=e,u=i-s-r-a-l-e.size;return r+s/2+c+_B(u,o)}function mQe(n,e,r){const i=r.label;i.backgroundColor="transparent",i.callout.display=!1;const s=kB(i.position),o=$i(i.padding),a=xE(n.ctx,i),l=fQe({properties:e,options:r},a,s,o),c=pQe({properties:e,options:r},a,s,o),u=a.width+o.width,d=a.height+o.height;return{x:l,y:c,x2:l+u,y2:c+d,width:u,height:d,centerX:l+u/2,centerY:c+d/2,rotation:i.rotation}}const j4=["enter","leave"],CB=j4.concat("click");function gQe(n,e,r){e.listened=r0e(r,CB,e.listeners),e.moveListened=!1,j4.forEach(i=>{Rs(r[i])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(i=>{!e.listened&&Rs(i.click)&&(e.listened=!0),e.moveListened||j4.forEach(s=>{Rs(i[s])&&(e.listened=!0,e.moveListened=!0)})})}function bQe(n,e,r){if(n.listened)switch(e.type){case"mousemove":case"mouseout":return yQe(n,e,r);case"click":return vQe(n,e,r)}}function yQe(n,e,r){if(!n.moveListened)return;let i;e.type==="mousemove"?i=xB(n.visibleElements,e,r.interaction):i=[];const s=n.hovered;n.hovered=i;const o={state:n,event:e};let a=uG(o,"leave",s,i);return uG(o,"enter",i,s)||a}function uG({state:n,event:e},r,i,s){let o;for(const a of i)s.indexOf(a)<0&&(o=f0e(a.options[r]||n.listeners[r],a,e)||o);return o}function vQe(n,e,r){const i=n.listeners,s=xB(n.visibleElements,e,r.interaction);let o;for(const a of s)o=f0e(a.options.click||i.click,a,e)||o;return o}function f0e(n,e,r){return Rn(n,[e.$context,r])===!0}const b2=["afterDraw","beforeDraw"];function wQe(n,e,r){const i=e.visibleElements;e.hooked=r0e(r,b2,e.hooks),e.hooked||i.forEach(s=>{e.hooked||b2.forEach(o=>{Rs(s.options[o])&&(e.hooked=!0)})})}function dG(n,e,r){if(n.hooked){const i=e.options[r]||n.hooks[r];return Rn(i,[e.$context])}}function xQe(n,e,r){const i=EQe(n.scales,e,r);let s=hG(e,i,"min","suggestedMin");s=hG(e,i,"max","suggestedMax")||s,s&&Rs(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function _Qe(n,e){for(const r of n)SQe(r,e)}function hG(n,e,r,i){if(js(e[r])&&!kQe(n.options,r,i)){const s=n[r]!==e[r];return n[r]=e[r],s}}function kQe(n,e,r){return po(n[e])||po(n[r])}function SQe(n,e){for(const r of["scaleID","xScaleID","yScaleID"]){const i=rp(e,n,r);i&&!e[i]&&CQe(n,r)&&console.warn(`No scale found with id '${i}' for annotation '${n.id}'`)}}function CQe(n,e){if(e==="scaleID")return!0;const r=e.charAt(0);for(const i of["Min","Max","Value"])if(po(n[r+i]))return!0;return!1}function EQe(n,e,r){const i=e.axis,s=e.id,o=i+"ScaleID",a={min:en(e.min,Number.NEGATIVE_INFINITY),max:en(e.max,Number.POSITIVE_INFINITY)};for(const l of r)l.scaleID===s?fG(l,e,["value","endValue"],a):rp(n,l,o)===s&&fG(l,e,[i+"Min",i+"Max",i+"Value"],a);return a}function fG(n,e,r,i){for(const s of r){const o=n[s];if(po(o)){const a=e.parse(o);i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}}}class lb extends $s{inRange(e,r,i,s){const{x:o,y:a}=xp({x:e,y:r},this.getCenterPoint(s),si(-this.options.rotation));return Yge({x:o,y:a},this.getProps(["x","y","x2","y2"],s),i,this.options)}getCenterPoint(e){return _p(this,e)}draw(e){e.save(),wE(e,this.getCenterPoint(),this.options.rotation),s0e(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){return d0e(e,r)}}lb.id="boxAnnotation";lb.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};lb.defaultRoutes={borderColor:"color",backgroundColor:"color"};lb.descriptors={label:{_fallback:!0}};class _E extends $s{inRange(e,r,i,s){return Kge({x:e,y:r},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},i,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return _p(this,e)}draw(e){const r=this.options;!r.display||!r.content||(OQe(e,this),e.save(),wE(e,this.getCenterPoint(),this.rotation),o0e(e,this,r,this._fitRatio),e.restore())}resolveElementProperties(e,r){const i=AQe(e,r);if(!i)return{};const{controllerMeta:s,point:o,radius:a}=PQe(e,r,i);let l=xE(e.ctx,r);const c=IQe(l,a);e0e(r,c)&&(l={width:l.width*c,height:l.height*c});const{position:u,xAdjust:d,yAdjust:h}=r,f=Zge(o,l,{borderWidth:0,position:u,xAdjust:d,yAdjust:h});return{initProperties:ob(e,f,r),...f,...s,rotation:r.rotation,_fitRatio:c}}}_E.id="doughnutLabelAnnotation";_E.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};_E.defaultRoutes={};function AQe(n,e){return n.getSortedVisibleDatasetMetas().reduce(function(r,i){const s=i.controller;return s instanceof Py&&TQe(n,e,i.data)&&(!r||s.innerRadius<r.controller.innerRadius)&&s.options.circumference>=90?i:r},void 0)}function TQe(n,e,r){if(!e.autoHide)return!0;for(let i=0;i<r.length;i++)if(!r[i].hidden&&n.getDataVisibility(i))return!0}function PQe({chartArea:n},e,r){const{left:i,top:s,right:o,bottom:a}=n,{innerRadius:l,offsetX:c,offsetY:u}=r.controller,d=(i+o)/2+c,h=(s+a)/2+u,f={left:Math.max(d-l,i),right:Math.min(d+l,o),top:Math.max(h-l,s),bottom:Math.min(h+l,a)},p={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},m=e.spacing+e.borderWidth/2,b=l-m,y=p.y>h,v=y?s+m:a-m,w=MQe(v,d,h,b);return{controllerMeta:{_centerX:d,_centerY:h,_radius:b,_counterclockwise:y,...w},point:p,radius:Math.min(l,Math.min(f.right-f.left,f.bottom-f.top)/2)}}function IQe({width:n,height:e},r){const i=Math.sqrt(Math.pow(n,2)+Math.pow(e,2));return r*2/i}function MQe(n,e,r,i){const s=Math.pow(r-n,2),o=Math.pow(i,2),a=e*-2,l=Math.pow(e,2)+s-o,c=Math.pow(a,2)-4*l;if(c<=0)return{_startAngle:0,_endAngle:wi};const u=(-a-Math.sqrt(c))/2,d=(-a+Math.sqrt(c))/2;return{_startAngle:A4({x:e,y:r},{x:u,y:n}).angle,_endAngle:A4({x:e,y:r},{x:d,y:n}).angle}}function OQe(n,e){const{_centerX:r,_centerY:i,_radius:s,_startAngle:o,_endAngle:a,_counterclockwise:l,options:c}=e;n.save();const u=hu(n,c);n.fillStyle=c.backgroundColor,n.beginPath(),n.arc(r,i,s,o,a,l),n.closePath(),n.fill(),u&&n.stroke(),n.restore()}class Mx extends $s{inRange(e,r,i,s){return Kge({x:e,y:r},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},i,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return _p(this,e)}draw(e){const r=this.options,i=!po(this._visible)||this._visible;!r.display||!r.content||!i||(e.save(),wE(e,this.getCenterPoint(),this.rotation),tQe(e,this),s0e(e,this,r),o0e(e,DQe(this),r),e.restore())}resolveElementProperties(e,r){let i;if(n0e(r))i=c0e(e,r);else{const{centerX:l,centerY:c}=SB(e,r);i={x:l,y:c}}const s=$i(r.padding),o=xE(e.ctx,r),a=Zge(i,o,r,s);return{initProperties:ob(e,a,r),pointX:i.x,pointY:i.y,...a,rotation:r.rotation}}}Mx.id="labelAnnotation";Mx.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Mx.defaultRoutes={borderColor:"color"};function DQe({x:n,y:e,width:r,height:i,options:s}){const o=s.borderWidth/2,a=$i(s.padding);return{x:n+a.left+o,y:e+a.top+o,width:r-a.left-a.right-s.borderWidth,height:i-a.top-a.bottom-s.borderWidth}}const EB=(n,e,r)=>({x:n.x+r*(e.x-n.x),y:n.y+r*(e.y-n.y)}),B4=(n,e,r)=>EB(e,r,Math.abs((n-e.y)/(r.y-e.y))).x,pG=(n,e,r)=>EB(e,r,Math.abs((n-e.x)/(r.x-e.x))).y,Dy=n=>n*n,RQe=(n,e,{x:r,y:i,x2:s,y2:o},a)=>a==="y"?{start:Math.min(i,o),end:Math.max(i,o),value:e}:{start:Math.min(r,s),end:Math.max(r,s),value:n},mG=(n,e,r,i)=>(1-i)*(1-i)*n+2*(1-i)*i*e+i*i*r,L4=(n,e,r,i)=>({x:mG(n.x,e.x,r.x,i),y:mG(n.y,e.y,r.y,i)}),gG=(n,e,r,i)=>2*(1-i)*(e-n)+2*i*(r-e),bG=(n,e,r,i)=>-Math.atan2(gG(n.x,e.x,r.x,i),gG(n.y,e.y,r.y,i))+.5*Sn;class Ox extends $s{inRange(e,r,i,s){const o=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y"){const a={mouseX:e,mouseY:r},{path:l,ctx:c}=this;if(l){hu(c,this.options),c.lineWidth+=this.options.hitTolerance;const{chart:d}=this.$context,h=e*d.currentDevicePixelRatio,f=r*d.currentDevicePixelRatio,p=c.isPointInStroke(l,h,f)||F4(this,a,s);return c.restore(),p}const u=Dy(o);return LQe(this,a,u,s)||F4(this,a,s)}return NQe(this,{mouseX:e,mouseY:r},i,{hitSize:o,useFinalPosition:s})}getCenterPoint(e){return _p(this,e)}draw(e){const{x:r,y:i,x2:s,y2:o,cp:a,options:l}=this;if(e.save(),!hu(e,l))return e.restore();ab(e,l);const c=Math.sqrt(Math.pow(s-r,2)+Math.pow(o-i,2));if(l.curve&&a)return VQe(e,this,a,c),e.restore();const{startOpts:u,endOpts:d,startAdjust:h,endAdjust:f}=p0e(this),p=Math.atan2(o-i,s-r);e.translate(r,i),e.rotate(p),e.beginPath(),e.moveTo(0+h,0),e.lineTo(c-f,0),e.shadowColor=l.borderShadowColor,e.stroke(),$4(e,0,h,u),$4(e,c,-f,d),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){const i=cQe(e,r),{x:s,y:o,x2:a,y2:l}=i,c=jQe(i,e.chartArea),u=c?BQe({x:s,y:o},{x:a,y:l},e.chartArea):{x:s,y:o,x2:a,y2:l,width:Math.abs(a-s),height:Math.abs(l-o)};if(u.centerX=(a+s)/2,u.centerY=(l+o)/2,u.initProperties=ob(e,u,r),r.curve){const h={x:u.x,y:u.y},f={x:u.x2,y:u.y2};u.cp=HQe(u,r,C0(h,f))}const d=FQe(e,u,r.label);return d._visible=c,u.elements=[{type:"label",optionScope:"label",properties:d,initProperties:u.initProperties}],u}}Ox.id="lineAnnotation";const yG={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};Ox.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},yG),fill:!1,length:12,start:Object.assign({},yG),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},Mx.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Ox.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};Ox.defaultRoutes={borderColor:"color"};function NQe(n,{mouseX:e,mouseY:r},i,{hitSize:s,useFinalPosition:o}){const a=RQe(e,r,n.getProps(["x","y","x2","y2"],o),i);return Gge(a,s)||F4(n,{mouseX:e,mouseY:r},o,i)}function jQe({x:n,y:e,x2:r,y2:i},{top:s,right:o,bottom:a,left:l}){return!(n<l&&r<l||n>o&&r>o||e<s&&i<s||e>a&&i>a)}function vG({x:n,y:e},r,{top:i,right:s,bottom:o,left:a}){return n<a&&(e=pG(a,{x:n,y:e},r),n=a),n>s&&(e=pG(s,{x:n,y:e},r),n=s),e<i&&(n=B4(i,{x:n,y:e},r),e=i),e>o&&(n=B4(o,{x:n,y:e},r),e=o),{x:n,y:e}}function BQe(n,e,r){const{x:i,y:s}=vG(n,e,r),{x:o,y:a}=vG(e,n,r);return{x:i,y:s,x2:o,y2:a,width:Math.abs(o-i),height:Math.abs(a-s)}}function LQe(n,{mouseX:e,mouseY:r},i=rf,s){const{x:o,y:a,x2:l,y2:c}=n.getProps(["x","y","x2","y2"],s),u=l-o,d=c-a,h=Dy(u)+Dy(d),f=h===0?-1:((e-o)*u+(r-a)*d)/h;let p,m;return f<0?(p=o,m=a):f>1?(p=l,m=c):(p=o+f*u,m=a+f*d),Dy(e-p)+Dy(r-m)<=i}function F4(n,{mouseX:e,mouseY:r},i,s){const o=n.label;return o.options.display&&o.inRange(e,r,s,i)}function FQe(n,e,r){const i=r.borderWidth,s=$i(r.padding),o=xE(n.ctx,r),a=o.width+s.width+i,l=o.height+s.height+i;return zQe(e,r,{width:a,height:l,padding:s},n.chartArea)}function $Qe(n){const{x:e,y:r,x2:i,y2:s}=n,o=Math.atan2(s-r,i-e);return o>Sn/2?o-Sn:o<Sn/-2?o+Sn:o}function zQe(n,e,r,i){const{width:s,height:o,padding:a}=r,{xAdjust:l,yAdjust:c}=e,u={x:n.x,y:n.y},d={x:n.x2,y:n.y2},h=e.rotation==="auto"?$Qe(n):si(e.rotation),f=UQe(s,o,h),p=WQe(n,e,{labelSize:f,padding:a},i),m=n.cp?L4(u,n.cp,d,p):EB(u,d,p),b={size:f.w,min:i.left,max:i.right,padding:a.left},y={size:f.h,min:i.top,max:i.bottom,padding:a.top},v=xG(m.x,b)+l,w=xG(m.y,y)+c;return{x:v-s/2,y:w-o/2,x2:v+s/2,y2:w+o/2,centerX:v,centerY:w,pointX:m.x,pointY:m.y,width:s,height:o,rotation:pge(h)}}function UQe(n,e,r){const i=Math.cos(r),s=Math.sin(r);return{w:Math.abs(n*i)+Math.abs(e*s),h:Math.abs(n*s)+Math.abs(e*i)}}function WQe(n,e,r,i){let s;const o=qQe(n,i);return e.position==="start"?s=wG({w:n.x2-n.x,h:n.y2-n.y},r,e,o):e.position==="end"?s=1-wG({w:n.x-n.x2,h:n.y-n.y2},r,e,o):s=_B(1,e.position),s}function wG(n,e,r,i){const{labelSize:s,padding:o}=e,a=n.w*i.dx,l=n.h*i.dy,c=a>0&&(s.w/2+o.left-i.x)/a,u=l>0&&(s.h/2+o.top-i.y)/l;return yE(Math.max(c,u),0,.25)}function qQe(n,e){const{x:r,x2:i,y:s,y2:o}=n,a=Math.min(s,o)-e.top,l=Math.min(r,i)-e.left,c=e.bottom-Math.max(s,o),u=e.right-Math.max(r,i);return{x:Math.min(l,u),y:Math.min(a,c),dx:l<=u?1:-1,dy:a<=c?1:-1}}function xG(n,e){const{size:r,min:i,max:s,padding:o}=e,a=r/2;return r>s-i?(s+i)/2:(i>=n-o-a&&(n=i+o+a),s<=n+o+a&&(n=s-o-a),n)}function p0e(n){const e=n.options,r=e.arrowHeads&&e.arrowHeads.start,i=e.arrowHeads&&e.arrowHeads.end;return{startOpts:r,endOpts:i,startAdjust:_G(n,r),endAdjust:_G(n,i)}}function _G(n,e){if(!e||!e.display)return 0;const{length:r,width:i}=e,s=n.options.borderWidth/2,o={x:r,y:i+s};return Math.abs(B4(0,o,{x:0,y:s}))}function $4(n,e,r,i){if(!i||!i.display)return;const{length:s,width:o,fill:a,backgroundColor:l,borderColor:c}=i,u=Math.abs(e-s)+r;n.beginPath(),ab(n,i),hu(n,i),n.moveTo(u,-o),n.lineTo(e+r,0),n.lineTo(u,o),a===!0?(n.fillStyle=l||c,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=i.borderShadowColor,n.stroke()}function HQe(n,e,r){const{x:i,y:s,x2:o,y2:a,centerX:l,centerY:c}=n,u=Math.atan2(a-s,o-i),d=kB(e.controlPoint,0),h={x:l+Qd(r,d.x,!1),y:c+Qd(r,d.y,!1)};return xp(h,{x:l,y:c},u)}function kG(n,{x:e,y:r},{angle:i,adjust:s},o){!o||!o.display||(n.save(),n.translate(e,r),n.rotate(i),$4(n,0,-s,o),n.restore())}function VQe(n,e,r,i){const{x:s,y:o,x2:a,y2:l,options:c}=e,{startOpts:u,endOpts:d,startAdjust:h,endAdjust:f}=p0e(e),p={x:s,y:o},m={x:a,y:l},b=bG(p,r,m,0),y=bG(p,r,m,1)-Sn,v=L4(p,r,m,h/i),w=L4(p,r,m,1-f/i),_=new Path2D;n.beginPath(),_.moveTo(v.x,v.y),_.quadraticCurveTo(r.x,r.y,w.x,w.y),n.shadowColor=c.borderShadowColor,n.stroke(_),e.path=_,e.ctx=n,kG(n,v,{angle:b,adjust:h},u),kG(n,w,{angle:y,adjust:f},d)}class Dx extends $s{inRange(e,r,i,s){const o=this.options.rotation,a=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y")return GQe({x:e,y:r},this.getProps(["width","height","centerX","centerY"],s),o,a);const{x:l,y:c,x2:u,y2:d}=this.getProps(["x","y","x2","y2"],s),h=i==="y"?{start:c,end:d}:{start:l,end:u},f=xp({x:e,y:r},this.getCenterPoint(s),si(-o));return f[i]>=h.start-a-rf&&f[i]<=h.end+a+rf}getCenterPoint(e){return _p(this,e)}draw(e){const{width:r,height:i,centerX:s,centerY:o,options:a}=this;e.save(),wE(e,this.getCenterPoint(),a.rotation),ab(e,this.options),e.beginPath(),e.fillStyle=a.backgroundColor;const l=hu(e,a);e.ellipse(s,o,i/2,r/2,Sn/2,0,2*Sn),e.fill(),l&&(e.shadowColor=a.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){return d0e(e,r)}}Dx.id="ellipseAnnotation";Dx.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},lb.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Dx.defaultRoutes={borderColor:"color",backgroundColor:"color"};Dx.descriptors={label:{_fallback:!0}};function GQe(n,e,r,i){const{width:s,height:o,centerX:a,centerY:l}=e,c=s/2,u=o/2;if(c<=0||u<=0)return!1;const d=si(r||0),h=Math.cos(d),f=Math.sin(d),p=Math.pow(h*(n.x-a)+f*(n.y-l),2),m=Math.pow(f*(n.x-a)-h*(n.y-l),2);return p/Math.pow(c+i,2)+m/Math.pow(u+i,2)<=1.0001}class kE extends $s{inRange(e,r,i,s){const{x:o,y:a,x2:l,y2:c,width:u}=this.getProps(["x","y","x2","y2","width"],s),d=(this.options.borderWidth+this.options.hitTolerance)/2;return i!=="x"&&i!=="y"?zXe({x:e,y:r},this.getCenterPoint(s),u/2,d):Gge(i==="y"?{start:a,end:c,value:r}:{start:o,end:l,value:e},d)}getCenterPoint(e){return _p(this,e)}draw(e){const r=this.options,i=r.borderWidth;if(r.radius<.1)return;e.save(),e.fillStyle=r.backgroundColor,ab(e,r);const s=hu(e,r);KXe(e,this,this.centerX,this.centerY),s&&!vE(r.pointStyle)&&(e.shadowColor=r.borderShadowColor,e.stroke()),e.restore(),r.borderWidth=i}resolveElementProperties(e,r){const i=u0e(e,r);return i.initProperties=ob(e,i,r),i}}kE.id="pointAnnotation";kE.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};kE.defaultRoutes={borderColor:"color",backgroundColor:"color"};class SE extends $s{inRange(e,r,i,s){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&KQe(this.elements,e,r,s);const o=xp({x:e,y:r},this.getCenterPoint(s),si(-this.options.rotation)),a=this.elements.map(u=>i==="y"?u.bY:u.bX),l=Math.min(...a),c=Math.max(...a);return o[i]>=l&&o[i]<=c}getCenterPoint(e){return _p(this,e)}draw(e){const{elements:r,options:i}=this;e.save(),e.beginPath(),e.fillStyle=i.backgroundColor,ab(e,i);const s=hu(e,i);let o=!0;for(const a of r)o?(e.moveTo(a.x,a.y),o=!1):e.lineTo(a.x,a.y);e.closePath(),e.fill(),s&&(e.shadowColor=i.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,r){const i=u0e(e,r),{sides:s,rotation:o}=r,a=[],l=2*Sn/s;let c=o*cB;for(let u=0;u<s;u++,c+=l){const d=YQe(i,r,c);d.initProperties=ob(e,i,r),a.push(d)}return i.elements=a,i}}SE.id="polygonAnnotation";SE.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};SE.defaultRoutes={borderColor:"color",backgroundColor:"color"};function YQe({centerX:n,centerY:e},{radius:r,borderWidth:i,hitTolerance:s},o){const a=(i+s)/2,l=Math.sin(o),c=Math.cos(o),u={x:n+l*r,y:e-c*r};return{type:"point",optionScope:"point",properties:{x:u.x,y:u.y,centerX:u.x,centerY:u.y,bX:n+l*(r+a),bY:e-c*(r+a)}}}function KQe(n,e,r,i){let s=!1,o=n[n.length-1].getProps(["bX","bY"],i);for(const a of n){const l=a.getProps(["bX","bY"],i);l.bY>r!=o.bY>r&&e<(o.bX-l.bX)*(r-l.bY)/(o.bY-l.bY)+l.bX&&(s=!s),o=l}return s}const Fd={box:lb,doughnutLabel:_E,ellipse:Dx,label:Mx,line:Ox,point:kE,polygon:SE};Object.keys(Fd).forEach(n=>{yr.describe(`elements.${Fd[n].id}`,{_fallback:"plugins.annotation.common"})});const XQe={update:Object.assign},QQe=CB.concat(b2),SG=(n,e)=>rn(e)?U4(n,e):n,z4=n=>n==="color"||n==="font";function AB(n="line"){return Fd[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function JQe(n,e,r,i){const s=eJe(n,r.animations,i),o=e.annotations,a=rJe(e.elements,o);for(let l=0;l<o.length;l++){const c=o[l],u=m0e(a,l,c.type),d=c.setContext(nJe(n,u,a,c)),h=u.resolveElementProperties(n,d);h.skip=ZQe(h),"elements"in h&&(tJe(u,h.elements,d,s),delete h.elements),po(u.x)||Object.assign(u,h),Object.assign(u,h.initProperties),h.options=g0e(d),s.update(u,h)}}function ZQe(n){return isNaN(n.x)||isNaN(n.y)}function eJe(n,e,r){return r==="reset"||r==="none"||r==="resize"?XQe:new vB(n,e)}function tJe(n,e,r,i){const s=n.elements||(n.elements=[]);s.length=e.length;for(let o=0;o<e.length;o++){const a=e[o],l=a.properties,c=m0e(s,o,a.type,a.initProperties),u=r[a.optionScope].override(a);l.options=g0e(u),i.update(c,l)}}function m0e(n,e,r,i){const s=Fd[AB(r)];let o=n[e];return(!o||!(o instanceof s))&&(o=n[e]=new s,Object.assign(o,i)),o}function g0e(n){const e=Fd[AB(n.type)],r={};r.id=n.id,r.type=n.type,r.drawTime=n.drawTime,Object.assign(r,U4(n,e.defaults),U4(n,e.defaultRoutes));for(const i of QQe)r[i]=n[i];return r}function U4(n,e){const r={};for(const i of Object.keys(e)){const s=e[i],o=n[i];z4(i)&&sr(o)?r[i]=o.map(a=>SG(a,s)):r[i]=SG(o,s)}return r}function nJe(n,e,r,i){return e.$context||(e.$context=Object.assign(Object.create(n.getContext()),{element:e,get elements(){return r.filter(s=>s&&s.options)},id:i.id,type:"annotation"}))}function rJe(n,e){const r=e.length,i=n.length;if(i<r){const s=r-i;n.splice(i,0,...new Array(s))}else i>r&&n.splice(r,i-r);return n}var iJe="3.1.0";const Zu=new Map,CG=n=>n.type!=="doughnutLabel",sJe=CB.concat(b2);var oJe={id:"annotation",version:iJe,beforeRegister(){UXe("chart.js","4.0",If.version)},afterRegister(){If.register(Fd)},afterUnregister(){If.unregister(Fd)},beforeInit(n){Zu.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,e,r){const i=Zu.get(n),s=i.annotations=[];let o=r.annotations;rn(o)?Object.keys(o).forEach(a=>{const l=o[a];rn(l)&&(l.id=a,s.push(l))}):sr(o)&&s.push(...o),_Qe(s.filter(CG),n.scales)},afterDataLimits(n,e){const r=Zu.get(n);xQe(n,e.scale,r.annotations.filter(CG).filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(n,e,r){const i=Zu.get(n);gQe(n,i,r),JQe(n,i,r,e.mode),i.visibleElements=i.elements.filter(s=>!s.skip&&s.options.display),wQe(n,i,r)},beforeDatasetsDraw(n,e,r){ny(n,"beforeDatasetsDraw",r.clip)},afterDatasetsDraw(n,e,r){ny(n,"afterDatasetsDraw",r.clip)},beforeDatasetDraw(n,e,r){ny(n,e.index,r.clip)},beforeDraw(n,e,r){ny(n,"beforeDraw",r.clip)},afterDraw(n,e,r){ny(n,"afterDraw",r.clip)},beforeEvent(n,e,r){const i=Zu.get(n);bQe(i,e.event,r)&&(e.changed=!0)},afterDestroy(n){Zu.delete(n)},getAnnotations(n){const e=Zu.get(n);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(n,e,r){return xB(n,e,r)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!sJe.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,e)=>`elements.${Fd[AB(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:z4,_fallback:!0},_indexable:z4}},additionalOptionScopes:[""]};function ny(n,e,r){const{ctx:i,chartArea:s}=n,o=Zu.get(n);r&&fE(i,s);const a=aJe(o.visibleElements,e).sort((l,c)=>l.element.options.z-c.element.options.z);for(const l of a)lJe(i,s,o,l);r&&pE(i)}function aJe(n,e){const r=[];for(const i of n)if(i.options.drawTime===e&&r.push({element:i,main:!0}),i.elements&&i.elements.length)for(const s of i.elements)s.options.display&&s.options.drawTime===e&&r.push({element:s});return r}function lJe(n,e,r,i){const s=i.element;i.main?(dG(r,s,"beforeDraw"),s.draw(n,e),dG(r,s,"afterDraw")):s.draw(n,e)}If.register(R4,N4,Dk,My,fXe,xXe,dXe,oJe);const cJe=({minPrice:n,maxPrice:e,orders:r,pendingOrders:i=[],onAddOrder:s,onRemoveOrder:o,currentPrice:a,markPrice:l})=>{const c=A.useRef(null),[u,d]=A.useState(null),h=A.useMemo(()=>{const m=[...r,...i];return m.length>0?Math.max(...m.map(b=>b.amount),.1):.1},[r,i]),f=A.useMemo(()=>{const m=r.map(y=>({x:y.amount,y:y.price,id:y.id,side:y.side,isPending:!1})),b=i.map(y=>({x:y.amount,y:y.price,id:y.id,side:y.side,isPending:!0}));return{transition:{show:{animations:{colors:{from:"transparent"},y:{type:"number",from:0,easing:"easeOutQuart"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},y:{type:"number",to:0,easing:"easeInExpo"}}}},animation:{duration:500},datasets:[{label:"New Long Orders",data:m.filter(y=>{const v=r.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="long"||(v==null?void 0:v.side)==="buy"||!(v!=null&&v.side)}),backgroundColor:"#a1f2f7",borderColor:"green",borderWidth:2,pointRadius:13,pointHoverRadius:10},{label:"New Short Orders",data:m.filter(y=>{const v=r.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="short"||(v==null?void 0:v.side)==="sell"}),backgroundColor:"#a1f2f7",borderColor:"red",borderWidth:2,pointRadius:13,pointHoverRadius:10},{label:"Open Longs",data:b.filter(y=>{const v=i.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="long"||(v==null?void 0:v.side)==="buy"}),backgroundColor:"rgba(40, 167, 69, 0.8)",borderColor:"#fff",borderWidth:2,borderDash:[3,3],pointRadius:6,pointHoverRadius:10},{label:"Open Shorts",data:b.filter(y=>{const v=i.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="short"||(v==null?void 0:v.side)==="sell"}),backgroundColor:"rgba(220, 53, 69, 0.8)",borderColor:"#fff",borderWidth:2,borderDash:[3,3],pointRadius:6,pointHoverRadius:10}]}},[r,i]),p=A.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,backgroundColor:"#1a1a1a",plugins:{legend:{display:!0,position:"top",labels:{color:"#fff",font:{size:12}}},tooltip:{enabled:!0,callbacks:{label:m=>{const b=m.raw,y=[...r,...i].find(v=>v.id===b.id);return y?[`Price: ${y.price.toFixed(2)} USDC`,`Amount: ${y.amount.toFixed(4)} BTC`,y.isPending?`Pending ${y.side==="long"||y.side==="buy"?"Long":"Short"}`:""].filter(Boolean):`Price: ${b.y.toFixed(2)}, Amount: ${b.x.toFixed(4)}`}}},annotation:{annotations:{...a!==null&&a>=n&&a<=e?{currentPriceLine:{type:"line",xMin:0,xMax:h,yMin:a,yMax:a,borderColor:"#00ff00",borderWidth:2,borderDash:[5,5],label:{display:!0,content:`Current: ${a.toLocaleString()}`,position:"end",backgroundColor:"rgba(0, 255, 0, 0.8)",color:"#000",font:{size:12,weight:"bold",family:"monospace"},padding:{left:5,right:5,top:2,bottom:2}},xScaleID:"x",yScaleID:"y"}}:{},...l!==null&&l>=n&&l<=e?{markPriceLine:{type:"line",xMin:0,xMax:h,yMin:l,yMax:l,borderColor:"#ff0000",borderWidth:2,label:{display:!0,content:`Mark Price: ${l.toLocaleString()}`,position:"start",backgroundColor:"rgba(255, 0, 0, 0.8)",color:"#fff",font:{size:12,weight:"bold",family:"monospace"},padding:{left:5,right:5,top:2,bottom:2}},xScaleID:"x",yScaleID:"y",arrowHeads:{start:{enabled:!1,fill:!1,length:0,width:0},end:{enabled:!0,fill:!0,length:15,width:10,backgroundColor:"#ff0000",borderColor:"#ff0000",borderWidth:2}}}}:{}}}},scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:"Amount (BTC)",color:"#fff",font:{size:14,weight:"bold"}},min:0,max:h,ticks:{color:"#888",font:{size:12,family:"monospace"},callback:function(m){return Number(m).toFixed(4)}},grid:{color:"#333"}},y:{type:"linear",title:{display:!0,text:"Price (USDC)",color:"#fff",font:{size:14,weight:"bold"}},min:n,max:e,ticks:{color:"#888",font:{size:12,family:"monospace"},callback:function(m){return Number(m).toLocaleString()}},grid:{color:"#333"}}},onClick:(m,b)=>{if(!c.current)return;const y=c.current,v=y.canvas;if(!v)return;const w=v.getBoundingClientRect(),_=m.native;if(!_)return;const x=_.clientX-w.left,k=_.clientY-w.top,C=y.scales.x,E=y.scales.y,T=C.getValueForPixel(x),M=E.getValueForPixel(k);if(T==null||M===null||M===void 0)return;const O=[...r,...i].find(F=>{const $=C.getPixelForValue(F.amount),z=E.getPixelForValue(F.price);return Math.sqrt(Math.pow(x-$,2)+Math.pow(k-z,2))<=12});if(O)o(O.id);else{const F=Math.max(n,Math.min(e,M)),$=Math.max(.001,Math.min(1,T));s(F,$)}},onHover:(m,b)=>{if(!c.current)return;const y=c.current,v=y.canvas;if(!v)return;const w=v.getBoundingClientRect(),_=m.native;if(!_)return;const x=_.clientX-w.left,k=_.clientY-w.top,C=[...r,...i],E=y.scales.x,T=y.scales.y,M=C.find(I=>{const O=E.getPixelForValue(I.amount),F=T.getPixelForValue(I.price);return Math.sqrt(Math.pow(x-O,2)+Math.pow(k-F,2))<=10});d((M==null?void 0:M.id)||null)}}),[n,e,h,r,i,s,o,a,l]);return g.jsx("div",{className:"price-amount-chart-container",children:g.jsx("div",{className:`price-amount-chart-wrapper ${u?"price-amount-chart-pointer":""}`,children:g.jsx(NXe,{ref:c,data:f,options:p})})})},uJe=({isOpen:n,onClose:e,minPrice:r,maxPrice:i,onMinPriceChange:s,onMaxPriceChange:o,markPrice:a,hasManualPriceChange:l,onResetToAuto:c,orderMode:u,onOrderModeChange:d,curveIntensity:h,onCurveIntensityChange:f,roundingStep:p,onRoundingStepChange:m})=>{const b=k=>Math.round(k/1.5/p)*p,y=k=>Math.round(k*1.5/p)*p;if(!n)return null;const v=(a==null?void 0:a.mark_price)??null,w=a!==null&&v!==null,_=w?b(v):null,x=w?y(v):null;return typeof document<"u"?$a.createPortal(g.jsx("div",{className:"modal-overlay",onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:g.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),style:{background:"rgba(20, 20, 30, 0.95)",borderRadius:"12px",padding:0,minWidth:"400px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"},children:[g.jsx("div",{className:"modal-header",style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:g.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:600,color:"rgba(255, 255, 255, 0.9)"},children:"Price Range Configuration"})}),g.jsx("div",{className:"modal-body",style:{padding:"2rem 1.5rem"},children:g.jsxs("div",{className:"trading-test-price-range-controls",children:[g.jsxs("div",{children:[g.jsxs("label",{children:["Rounding Step ($):",g.jsx("input",{type:"number",value:p,onChange:k=>m(Math.max(1,parseFloat(k.target.value)||100)),min:1,step:10,className:"trading-test-input"})]}),g.jsxs("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:["Prices will be rounded to the nearest $",p]})]}),g.jsxs("div",{children:[g.jsxs("label",{children:["Min Price (USDC):",g.jsx("input",{type:"number",value:r,onChange:k=>{s(parseFloat(k.target.value)||1e4)},min:1e3,max:i-1e3,className:"trading-test-input",disabled:!w,title:w?`Auto-managed by mark price (mark price / 1.5, rounded to $${p})`:"Enter min price manually"})]}),w&&_!==null&&v!==null&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:l?g.jsxs(g.Fragment,{children:["Manual override (Auto:"," ",v.toLocaleString()," / 1.5 ="," ",_.toLocaleString(),")"]}):g.jsxs(g.Fragment,{children:["Auto: ",v.toLocaleString()," / 1.5 ="," ",r.toLocaleString()]})})]}),g.jsxs("div",{children:[g.jsxs("label",{children:["Max Price (USDC):",g.jsx("input",{type:"number",value:i,onChange:k=>{o(parseFloat(k.target.value)||1e5)},min:r+1e3,max:1e6,className:"trading-test-input",disabled:!w,title:w?`Auto-managed by mark price (mark price  1.5, rounded to $${p})`:"Enter max price manually"})]}),w&&v!==null&&x!==null&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:l?g.jsxs(g.Fragment,{children:["Manual override (Auto:"," ",v.toLocaleString(),"  1.5 ="," ",x.toLocaleString(),")"]}):g.jsxs(g.Fragment,{children:["Auto: ",v.toLocaleString(),"  1.5 ="," ",i.toLocaleString()]})}),!w&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:"Mark price not available. Enter prices manually."})]}),g.jsx("div",{children:g.jsxs("label",{children:["Order Mode:",g.jsxs("select",{value:u,onChange:k=>d(k.target.value),className:"trading-test-select",children:[g.jsx("option",{value:"random",children:"Random"}),g.jsx("option",{value:"curve",children:"Curve (Buy more at lower prices)"})]})]})}),u==="curve"&&g.jsx("div",{children:g.jsxs("label",{children:["Curve Intensity: ",h,g.jsx("input",{type:"range",value:h,onChange:k=>f(parseFloat(k.target.value)),min:1,max:5,step:.5,className:"trading-test-range"}),g.jsx("small",{children:"Higher = more aggressive buying at lower prices"})]})})]})}),g.jsxs("div",{className:"modal-footer",style:{padding:"1rem 1.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",gap:"1rem"},children:[l&&w&&g.jsx("button",{onClick:c,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(77, 171, 247, 0.2)",color:"rgba(255, 255, 255, 0.9)",cursor:"pointer"},children:"Reset to Auto"}),g.jsx("div",{style:{display:"flex",gap:"1rem",marginLeft:"auto"},children:g.jsx("button",{onClick:e,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)",cursor:"pointer"},children:"Close"})})]})]})}),document.body):null},dJe=({isOpen:n,onClose:e,testResults:r,onClearResults:i})=>{if(!n)return null;const s=r.filter(a=>a.success).length,o=r.filter(a=>!a.success).length;return typeof document<"u"?$a.createPortal(g.jsx("div",{className:"test-results-modal-overlay",onClick:e,children:g.jsxs("div",{className:"test-results-modal-content",onClick:a=>a.stopPropagation(),children:[g.jsx("div",{className:"test-results-modal-header",children:g.jsx("h3",{children:"Batch Transaction Results"})}),g.jsxs("div",{className:"test-results-modal-body",children:[g.jsxs("div",{className:"test-results-modal-summary",children:[g.jsxs("div",{className:"test-results-modal-summary-text",children:[g.jsx("strong",{children:"Total:"})," ",r.length," |"," ",g.jsx("strong",{className:"success",children:"Success:"})," ",s," |"," ",g.jsx("strong",{className:"error",children:"Failed:"})," ",o]}),g.jsx("button",{onClick:i,className:"test-results-modal-clear-button",children:"Clear Results"})]}),g.jsx("div",{className:"test-results-modal-list",children:r.length===0?g.jsx("div",{className:"test-results-modal-empty",children:"No results to display"}):r.slice(-20).map((a,l)=>g.jsx("div",{className:`test-results-modal-item ${a.success?"success":"error"}`,children:g.jsxs("div",{className:"test-results-modal-item-content",children:[g.jsx("div",{className:"test-results-modal-item-header",children:g.jsxs("strong",{className:`test-results-modal-item-title ${a.success?"success":"error"}`,children:[a.success?"":""," Order @"," ",a.order.price.toFixed(2)," USDC"]})}),g.jsxs("div",{className:"test-results-modal-item-details",children:[g.jsxs("span",{children:["Amount: ",a.order.amount.toFixed(4)," BTC"]}),a.order.orderId&&g.jsxs("span",{children:["Order ID: ",a.order.orderId.substring(0,16),"..."]})]}),a.error&&g.jsxs("span",{className:"test-results-modal-error-text",children:["Error: ",a.error]})]})},l))})]}),g.jsx("div",{className:"test-results-modal-footer",children:g.jsx("button",{onClick:e,className:"test-results-modal-close-button",children:"Close"})})]})}),document.body):null},hJe=({onClick:n,disabled:e,orderMode:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-primary",style:{backgroundColor:e?"#ccc":"#007bff",cursor:e?"not-allowed":"pointer"},children:["Submit Test Orders (",r==="random"?"Random":"Curve-Based",")"]}),fJe=({onClick:n,disabled:e,orderCount:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-success",style:{backgroundColor:e?"#ccc":"#28a745",cursor:e?"not-allowed":"pointer"},children:["Submit Chart Orders (",r," orders)"]}),pJe=({onClick:n,disabled:e})=>g.jsx("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-secondary",style:{cursor:e?"not-allowed":"pointer"},children:"Reset Chart"}),mJe=({onClick:n,disabled:e,pendingCount:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-info",style:{backgroundColor:e?"#ccc":"#17a2b8",cursor:e?"not-allowed":"pointer"},children:["Load Pending Orders ",r>0&&`(${r})`]}),G3=({onClick:n,disabled:e,filter:r})=>{const i=r==="long"?"Cancel All Long":r==="short"?"Cancel All Short":"Cancel All Orders";return g.jsx("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-danger",style:{backgroundColor:e?"#ccc":"#dc3545",cursor:e?"not-allowed":"pointer"},children:i})};function gJe(){var Ae,W,de,me;const[n,e]=A.useState(yp),[r,i]=A.useState(""),[s,o]=A.useState(""),[a,l]=A.useState(""),[c,u]=A.useState(1e4),[d,h]=A.useState(1e5),[f,p]=A.useState(null),[m,b]=A.useState("random"),[y,v]=A.useState(2),[w,_]=A.useState("long"),[x,k]=A.useState([]),[C,E]=A.useState([]),[T,M]=A.useState([]),[I,O]=A.useState(!1),[F,$]=A.useState(!1),[z,D]=A.useState(100),[j,N]=A.useState(!1),R=A.useRef(null),H=A.useRef(null),U=A.useRef(n),K=A.useRef(0),{markets:Y}=ql({baseURL:n,sessionToken:"",autoFetchMarkets:!0}),{mnemonic:Z,walletAddress:G,authToken:X,setMnemonic:ae}=yu(),{client:be}=Kd(),{markPrice:le}=VC({subscriptionClient:be,baseURL:n,marketId:r||"",disablePolling:!0}),{buckets:J}=v9({subscriptionClient:be,baseURL:n,authToken:a||"",walletAddress:G||"",refreshInterval:0,useWebSocket:!1,marketId:"0"}),[xe,ge]=A.useState(!1);A.useEffect(()=>{if(le!=null&&le.mark_price&&!xe){const oe=le.mark_price;if(!isNaN(oe)&&oe>1e3){const pe=Math.round(oe*1.5/z)*z,ve=Math.round(oe/1.5/z)*z;ve>0&&pe>ve&&(u(ve),h(pe))}}},[le==null?void 0:le.mark_price,xe,z]),A.useEffect(()=>{Z&&o(Z),X&&l(X)},[Z,X]);const{setAuthToken:V,setWalletAddress:we}=Kd();A.useEffect(()=>{V(a||void 0)},[a,V]),A.useEffect(()=>{we(G||void 0)},[G,we]);const ze=Y.length>0?(((Ae=Y.find(oe=>oe.active))==null?void 0:Ae.market_id)??Y[0].market_id)||(((de=(W=Y.find(oe=>oe.active))==null?void 0:W.id)==null?void 0:de.toString())??((me=Y[0].id)==null?void 0:me.toString())??""):null;A.useEffect(()=>{ze&&!r&&i(ze)},[ze]),A.useEffect(()=>{U.current=n},[n]),A.useEffect(()=>{s&&s.trim()!==""&&(R.current=new th({baseURL:U.current,mnemonic:s}),R.current.initialize().catch(oe=>{console.error("Failed to initialize ExchangeClient:",oe)}))},[s,n]),A.useEffect(()=>{H.current=new Cr({baseURL:U.current})},[n]),A.useEffect(()=>{if(!r||!H.current)return;const oe=async()=>{try{const ve=await H.current.getTicker(r);if(ve!=null&&ve.last_price){const ee=typeof ve.last_price=="string"?parseFloat(ve.last_price):ve.last_price;p(ee)}}catch(ve){console.error("Failed to fetch current price:",ve)}};oe();const pe=setInterval(oe,5e3);return()=>clearInterval(pe)},[r]);const et=A.useCallback(oe=>{const pe=[];for(let ve=0;ve<oe;ve++){const ee=c+Math.random()*(d-c),ue=.001+Math.random()*.01;pe.push({price:ee,amount:ue})}return pe.sort((ve,ee)=>ve.price-ee.price)},[c,d]),$e=A.useCallback(oe=>{const pe=[],ve=d-c;for(let ee=0;ee<oe;ee++){const ue=Math.random(),ce=Math.pow(ue,y),Ce=c+ce*ve,he=.001+(d-Ce)/ve*.02;pe.push({price:Ce,amount:he})}return pe.sort((ee,ue)=>ee.price-ue.price)},[c,d,y]),mt=A.useCallback(async()=>{if(!R.current||!r||!G){ft.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}if(!J||J.length===0){ft.error("No buckets available",{description:"Please create a bucket first before placing orders."});return}const pe=J[0].bucketId;if(!pe){ft.error("Bucket ID not found",{description:"Bucket ID is required for order placement."});return}O(!0);const ve=[];try{const ue=m==="random"?et(10):$e(10),ce=ft.info("Submitting test orders",{description:`Submitting ${ue.length} ${m} orders...`});K.current=typeof ce=="number"?ce:0;for(const Me of ue){try{const Te=_n("1"),Se=await R.current.placeOrder({marketId:r,bucketId:pe,side:w==="long"?"buy":"sell",orderType:"LIMIT",price:Me.price,quantity:Me.amount,timeInForce:"GTC",leverage:Te});ve.push({success:!0,order:{price:Me.price,amount:Me.amount,orderId:Se==null?void 0:Se.order_id},timestamp:Date.now()})}catch(he){ve.push({success:!1,order:{price:Me.price,amount:Me.amount},error:he.message,timestamp:Date.now()})}await new Promise(he=>setTimeout(he,200))}M(Me=>[...Me,...ve]),K.current!==0&&(ft.dismiss(K.current),K.current=0);const Ce=ve.filter(Me=>Me.success).length;ft.success("Test orders submitted",{description:`${Ce}/${ve.length} orders placed successfully.`}),N(!0)}catch(ee){K.current!==0&&(ft.dismiss(K.current),K.current=0),ft.error("Test submission failed",{description:ee.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,m,w,et,$e,J]),Ue=A.useCallback(async()=>{if(!R.current||!r||!G){ft.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}if(x.length===0){ft.warning("No chart orders",{description:"Please add orders to the chart first."});return}if(!J||J.length===0){ft.error("No buckets available",{description:"Please create a bucket first before placing orders."});return}const pe=J[0].bucketId;if(!pe){ft.error("Bucket ID not found",{description:"Bucket ID is required for order placement."});return}O(!0);const ve=[];try{const ee=ft.info("Submitting chart orders",{description:`Submitting ${x.length} chart orders...`});K.current=typeof ee=="number"?ee:0;for(const ce of x){try{const Me=_n("1"),he=await R.current.placeOrder({marketId:r,bucketId:pe,side:ce.side==="short"||ce.side==="sell"?"sell":"buy",orderType:"LIMIT",price:ce.price,quantity:ce.amount,timeInForce:"GTC",leverage:Me});ve.push({success:!0,order:{price:ce.price,amount:ce.amount,orderId:he==null?void 0:he.order_id},timestamp:Date.now()})}catch(Ce){ve.push({success:!1,order:{price:ce.price,amount:ce.amount},error:Ce.message,timestamp:Date.now()})}await new Promise(Ce=>setTimeout(Ce,200))}M(ce=>[...ce,...ve]),K.current!==0&&(ft.dismiss(K.current),K.current=0);const ue=ve.filter(ce=>ce.success).length;ft.success("Chart orders submitted",{description:`${ue}/${ve.length} orders placed successfully.`}),k([]),Ye(),N(!0)}catch(ee){K.current!==0&&(ft.dismiss(K.current),K.current=0),ft.error("Chart order submission failed",{description:ee.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,x,J]),Ke=A.useCallback(()=>{k([]),ft.info("Chart reset",{description:"All chart orders have been cleared."})},[]),pt=A.useCallback((oe,pe)=>{const ve={price:oe,amount:pe,id:`chart-${Date.now()}-${Math.random()}`,side:w};k(ee=>[...ee,ve])},[w]),lt=A.useCallback(oe=>{k(pe=>pe.filter(ve=>ve.id!==oe)),E(pe=>pe.filter(ve=>ve.id!==oe))},[]),Ye=A.useCallback(async()=>{if(!H.current||!G||!r){ft.error("Setup required",{description:"Please ensure wallet address and market ID are configured."});return}try{ft.info("Loading pending orders...");const oe=await H.current.getOrders(G),pe=(oe==null?void 0:oe.orders)||[];console.log(oe);const ve=pe.filter(ee=>{const ue=ee.market_id,ce=(ee.status||"").toUpperCase();return ue===r&&["ORDER_STATUS_PENDING","ORDER_STATUS_OPEN","PENDING","OPEN","NEW","PARTIALLY_FILLED"].includes(ce)}).map(ee=>{const Ce=(ee.side||"").toUpperCase().includes("BUY")?"long":"short";return{price:It(ee.price),amount:It(ee.quantity),id:`pending-${ee.order_id}`,side:Ce,orderId:ee.order_id,isPending:!0}});E(ve),ft.success("Pending orders loaded",{description:`Loaded ${ve.length} pending orders.`})}catch(oe){ft.error("Failed to load pending orders",{description:oe.message||"Unknown error occurred"})}},[G,r]),We=A.useCallback(async oe=>{if(!R.current||!H.current||!r||!G){ft.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}try{const pe=await H.current.getOrders(G),ee=((pe==null?void 0:pe.orders)||[]).filter(Ce=>{const Me=Ce.market_id,he=(Ce.status||"").toUpperCase();if(Me!==r||!["ORDER_STATUS_PENDING","ORDER_STATUS_OPEN","PENDING","OPEN","NEW","PARTIALLY_FILLED"].includes(he))return!1;if(oe==="all")return!0;const Se=(Ce.side||"").toUpperCase(),ie=Se.includes("BUY"),re=Se.includes("SELL");return oe==="long"?ie:oe==="short"?re:!1});if(ee.length===0){ft.info("No orders to cancel",{description:`No ${oe} pending orders found.`});return}O(!0),ft.info("Canceling orders",{description:`Canceling ${ee.length} ${oe} orders...`});let ue=0,ce=0;for(const Ce of ee){try{const Me=Ce.order_id;await R.current.cancelOrder({orderId:Me,marketId:r}),ue++}catch(Me){ce++,console.error("Failed to cancel order:",Me)}await new Promise(Me=>setTimeout(Me,100))}await Ye(),ft.success("Orders canceled",{description:`${ue} orders canceled successfully${ce>0?`, ${ce} failed`:""}.`})}catch(pe){ft.error("Failed to cancel orders",{description:pe.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,Ye]);return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"Trading QA"}),g.jsx("p",{children:"Advanced trading test with price range, interactive chart, and multiple submission modes"}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"trading-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:oe=>e(oe.target.value),className:"trading-test-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:oe=>i(oe.target.value),className:"trading-test-select",children:Y.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),Y.map(oe=>{var ee;const pe=oe.market_id??((ee=oe.id)==null?void 0:ee.toString())??"",ve=oe.moniker?oe.moniker:oe.symbol?oe.symbol:`Market ID: ${pe}`;return g.jsx("option",{value:pe,children:ve},pe)})]})})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic:",g.jsx("input",{type:"text",value:s,onChange:oe=>{o(oe.target.value),ae(oe.target.value)},placeholder:"Enter mnemonic",className:"trading-test-input"})]})}),f&&g.jsxs("div",{className:"trading-test-price-display",children:[g.jsx("strong",{children:"Current Price:"})," ",f.toLocaleString()," ","USDC"]})]})]}),g.jsxs("div",{className:"trading-test-tabs",children:[g.jsx("button",{className:`trading-test-tab ${w==="long"?"active":""}`,onClick:()=>_("long"),children:"Long (Buy)"}),g.jsx("button",{className:`trading-test-tab ${w==="short"?"active":""}`,onClick:()=>_("short"),children:"Short (Sell)"})]}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Interactive Price-Amount Chart"}),g.jsx("div",{className:"trading-test-chart-controls",children:g.jsxs("div",{className:"trading-test-chart-info",children:[g.jsxs("span",{children:["Orders on chart: ",x.length]}),g.jsxs("span",{onClick:()=>$(!0),style:{cursor:"pointer",textDecoration:"underline"},title:"Click to configure price range",children:["Price range: ",c.toLocaleString()," -"," ",d.toLocaleString()," USDC"]})]})}),g.jsx(cJe,{minPrice:c,maxPrice:d,orders:x,pendingOrders:C,onAddOrder:pt,onRemoveOrder:lt,currentPrice:f,markPrice:le!=null&&le.mark_price?le.mark_price:null}),g.jsxs("div",{className:"price-amount-chart-instructions",children:[g.jsx("p",{children:"Click on the chart to add orders. Click on existing orders to remove them."}),g.jsx("p",{children:"Y-axis: Price (USDC) | X-axis: Amount (BTC)"})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Order Submission"}),g.jsxs("div",{className:"trading-test-submission-buttons",children:[g.jsx(pJe,{onClick:Ke,disabled:x.length===0}),g.jsx(hJe,{onClick:mt,disabled:I||!r||!G,orderMode:m}),g.jsx(fJe,{onClick:Ue,disabled:I||x.length===0||!r||!G,orderCount:x.length})]}),g.jsx("h2",{children:"Pending Orders Management"}),g.jsxs("div",{className:"trading-test-pending-orders-controls",children:[g.jsx(mJe,{onClick:Ye,disabled:!r||!G,pendingCount:C.length}),g.jsxs("div",{className:"trading-test-cancel-buttons",children:[g.jsx(G3,{onClick:()=>We("long"),disabled:I||!r||!G,filter:"long"}),g.jsx(G3,{onClick:()=>We("short"),disabled:I||!r||!G,filter:"short"}),g.jsx(G3,{onClick:()=>We("all"),disabled:I||!r||!G,filter:"all"})]})]})]}),T.length>0&&g.jsxs("div",{className:"trading-test-results",style:{display:"none"},children:[g.jsx("h2",{children:"Test Results"}),g.jsxs("div",{className:"trading-test-results-summary",children:[g.jsxs("div",{children:["Total: ",T.length," | Success:"," ",T.filter(oe=>oe.success).length," | Failed:"," ",T.filter(oe=>!oe.success).length]}),g.jsx("button",{onClick:()=>M([]),className:"trading-test-button-secondary",children:"Clear Results"})]}),g.jsx("div",{className:"trading-test-results-list",children:T.slice(-20).map((oe,pe)=>g.jsx("div",{className:`trading-test-result-item ${oe.success?"success":"error"}`,children:g.jsxs("div",{children:[g.jsxs("strong",{children:[oe.success?"":""," Order @"," ",oe.order.price.toFixed(2)," USDC"]}),g.jsxs("span",{children:["Amount: ",oe.order.amount.toFixed(4)," BTC"]}),oe.order.orderId&&g.jsxs("span",{children:["Order ID: ",oe.order.orderId.substring(0,16),"..."]}),oe.error&&g.jsx("span",{className:"error-text",children:oe.error})]})},pe))})]}),g.jsx(uJe,{isOpen:F,onClose:()=>$(!1),minPrice:c,maxPrice:d,onMinPriceChange:oe=>{u(oe),ge(!0)},onMaxPriceChange:oe=>{h(oe),ge(!0)},markPrice:le||null,hasManualPriceChange:xe,onResetToAuto:()=>{if(le!=null&&le.mark_price){const oe=le.mark_price;if(!isNaN(oe)&&oe>1e3){ge(!1);const pe=Math.round(oe*1.5/z)*z,ve=Math.round(oe/1.5/z)*z;ve>0&&pe>ve&&(u(ve),h(pe))}}},orderMode:m,onOrderModeChange:b,curveIntensity:y,onCurveIntensityChange:v,roundingStep:z,onRoundingStepChange:D}),g.jsx(dJe,{isOpen:j,onClose:()=>N(!1),testResults:T,onClearResults:()=>{M([]),N(!1)}})]})}function bJe(){return g.jsx(_9,{defaultWsURL:nh,children:g.jsx(gJe,{})})}const j_=[{symbol:"ETH",name:"Ethereum",address:"ETH",decimals:18},{symbol:"BTC",name:"Bitcoin",address:"BTC",decimals:8},{symbol:"USDC",name:"USD Coin",address:"USDC",decimals:6},{symbol:"USDT",name:"Tether",address:"USDT",decimals:6},{symbol:"DAI",name:"Dai Stablecoin",address:"DAI",decimals:18}];function yJe(){const[n,e]=A.useState(yp),[r,i]=A.useState(j_[0]),[s,o]=A.useState(j_[2]),[a,l]=A.useState(""),[c,u]=A.useState(""),[d,h]=A.useState(!1),[f,p]=A.useState(!1),[m,b]=A.useState(!1),[y,v]=A.useState(.5),[w,_]=A.useState(null),[x,k]=A.useState(""),C=A.useRef(null),E=A.useRef(n),{mnemonic:T,walletAddress:M,setMnemonic:I}=yu();A.useEffect(()=>{E.current=n},[n]),A.useEffect(()=>{T&&T.trim()!==""&&(C.current=new th({baseURL:E.current,mnemonic:T}),C.current.initialize().catch(D=>{console.error("Failed to initialize ExchangeClient:",D)}))},[T,n]),A.useEffect(()=>{if(a&&parseFloat(a)>0&&r&&s){const j=parseFloat(a)*1;u(j.toFixed(6)),k(`1 ${r.symbol} = ${1 .toFixed(4)} ${s.symbol}`),_(.1)}else u(""),k(""),_(null)},[a,r,s]);const O=A.useCallback(()=>{const D=r;i(s),o(D);const j=a;l(c),u(j)},[r,s,a,c]),F=A.useCallback(async()=>{if(!C.current||!r||!s||!a){ft.error("Setup required",{description:"Please ensure mnemonic and swap details are configured."});return}if(parseFloat(a)<=0){ft.error("Invalid amount",{description:"Please enter a valid amount to swap."});return}if(!M){ft.error("Wallet required",{description:"Please connect your wallet first."});return}b(!0);try{const D=parseFloat(a),N=parseFloat(c)*(1-y/100),R=ft.info("Swapping tokens",{description:`Swapping ${a} ${r.symbol} for ${s.symbol}...`});await C.current.swap({fromToken:r.address,toToken:s.address,amountIn:D,minAmountOut:N}),ft.dismiss(R),ft.success("Swap successful",{description:`Successfully swapped ${a} ${r.symbol} for ${s.symbol}`}),l(""),u("")}catch(D){ft.error("Swap failed",{description:D.message||"Unknown error occurred"})}finally{b(!1)}},[r,s,a,c,y,M]),$=A.useMemo(()=>!!r&&!!s&&!!a&&parseFloat(a)>0&&!!M&&!m&&r.symbol!==s.symbol,[r,s,a,M,m]),z=D=>({ETH:"",BTC:"",USDC:"$",USDT:"$",DAI:""})[D]||"";return g.jsxs("div",{className:"App-content-row",children:[g.jsxs("div",{className:"swap-test-header",children:[g.jsx("h1",{children:"Swap"}),g.jsx("p",{className:"swap-test-subtitle",children:"Swap anytime, anywhere"})]}),g.jsxs("div",{className:"App-section swap-config-section",children:[g.jsx("h3",{children:"Configuration"}),g.jsxs("div",{className:"swap-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:D=>e(D.target.value),className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic:",g.jsx("input",{type:"text",value:T||"",onChange:D=>I(D.target.value),placeholder:"Enter mnemonic",className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:M||"",disabled:!0,placeholder:"Auto-generated from mnemonic",className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Slippage Tolerance (%):",g.jsx("input",{type:"number",value:y,onChange:D=>v(parseFloat(D.target.value)||.5),min:"0",max:"50",step:"0.1",className:"swap-input"})]})})]})]}),g.jsxs("div",{className:"swap-container",children:[g.jsxs("div",{className:"swap-card",children:[g.jsxs("div",{className:"swap-token-section",children:[g.jsx("div",{className:"swap-token-label",children:"Sell"}),g.jsxs("div",{className:"swap-token-input-group",children:[g.jsx("input",{type:"number",className:"swap-amount-input",placeholder:"0",value:a,onChange:D=>l(D.target.value),min:"0",step:"any"}),g.jsxs("div",{className:"swap-token-selector-wrapper",children:[g.jsx("button",{className:"swap-token-selector",onClick:()=>{h(!d),p(!1)},children:r?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"swap-token-icon",children:z(r.symbol)}),g.jsx("span",{className:"swap-token-symbol",children:r.symbol}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Select token"}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]})}),d&&g.jsx("div",{className:"swap-token-dropdown",children:j_.map(D=>g.jsxs("button",{className:"swap-token-option",onClick:()=>{D.address===(s==null?void 0:s.address)?O():(i(D),h(!1))},children:[g.jsx("span",{className:"swap-token-icon",children:z(D.symbol)}),g.jsxs("div",{className:"swap-token-option-info",children:[g.jsx("span",{className:"swap-token-option-symbol",children:D.symbol}),g.jsx("span",{className:"swap-token-option-name",children:D.name})]})]},D.address))})]})]}),a&&parseFloat(a)>0&&g.jsxs("div",{className:"swap-token-value",children:["$",(parseFloat(a)*1).toFixed(2)]})]}),g.jsx("div",{className:"swap-button-container",children:g.jsx("button",{className:"swap-button-middle",onClick:O,"aria-label":"Swap tokens",children:g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M4 6L8 2L12 6M12 10L8 14L4 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),g.jsxs("div",{className:"swap-token-section",children:[g.jsx("div",{className:"swap-token-label",children:"Buy"}),g.jsxs("div",{className:"swap-token-input-group",children:[g.jsx("input",{type:"number",className:"swap-amount-input",placeholder:"0",value:c,onChange:D=>u(D.target.value),min:"0",step:"any",readOnly:!0}),g.jsxs("div",{className:"swap-token-selector-wrapper",children:[g.jsx("button",{className:"swap-token-selector",onClick:()=>{p(!f),h(!1)},children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"swap-token-icon",children:z(s.symbol)}),g.jsx("span",{className:"swap-token-symbol",children:s.symbol}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Select token"}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]})}),f&&g.jsx("div",{className:"swap-token-dropdown",children:j_.map(D=>g.jsxs("button",{className:"swap-token-option",onClick:()=>{D.address===(r==null?void 0:r.address)?O():(o(D),p(!1))},children:[g.jsx("span",{className:"swap-token-icon",children:z(D.symbol)}),g.jsxs("div",{className:"swap-token-option-info",children:[g.jsx("span",{className:"swap-token-option-symbol",children:D.symbol}),g.jsx("span",{className:"swap-token-option-name",children:D.name})]})]},D.address))})]})]}),c&&parseFloat(c)>0&&g.jsxs("div",{className:"swap-token-value",children:["$",(parseFloat(c)*1).toFixed(2)]})]}),x&&g.jsxs("div",{className:"swap-info",children:[g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Exchange Rate"}),g.jsx("span",{children:x})]}),w!==null&&g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Price Impact"}),g.jsxs("span",{className:w>1?"swap-warning":"",children:[w.toFixed(2),"%"]})]}),g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Slippage Tolerance"}),g.jsxs("span",{children:[y,"%"]})]})]}),g.jsx("button",{className:"swap-button-primary",onClick:F,disabled:!$,children:M?m?"Swapping...":(r==null?void 0:r.symbol)===(s==null?void 0:s.symbol)?"Select different tokens":!a||parseFloat(a)<=0?"Enter amount":"Swap":"Connect Wallet"})]}),g.jsx("div",{className:"swap-footer",children:g.jsx("p",{children:"Buy and sell crypto on 16+ networks including"})})]})]})}const Hu=({onClick:n,disabled:e=!1,variant:r="primary",children:i})=>g.jsx("button",{className:`explorer-button ${r}`,onClick:n,disabled:e,children:i}),vJe=({wsURL:n,setWsURL:e,authToken:r,setAuthToken:i,deviceID:s,setDeviceID:o,shardId:a,setShardId:l,eventType:c,setEventType:u,txAddress:d,setTxAddress:h,txHash:f,setTxHash:p,txTypes:m,setTxTypes:b,txEventTypes:y,setTxEventTypes:v})=>g.jsxs("div",{className:"config-section",children:[g.jsx("h3",{children:"Configuration"}),g.jsxs("div",{className:"config-grid",children:[g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"ws-url",children:"WebSocket URL"}),g.jsx("input",{id:"ws-url",type:"text",value:n,onChange:w=>e(w.target.value),placeholder:"ws://localhost:8080/ws"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"auth-token",children:"Auth Token (optional)"}),g.jsx("input",{id:"auth-token",type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"JWT token"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"device-id",children:"Device ID"}),g.jsx("input",{id:"device-id",type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"device-id"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"shard-id",children:"Shard ID (optional filter)"}),g.jsx("input",{id:"shard-id",type:"text",value:a,onChange:w=>l(w.target.value),placeholder:"e.g., 1, 2, 3"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"event-type",children:"Event Type (optional filter for consensus_flat)"}),g.jsx("input",{id:"event-type",type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"e.g., new_vertex, new_tx, validator_update"})]})]}),g.jsxs("div",{className:"config-section-divider",children:[g.jsx("h4",{children:"Transaction Channel Filters"}),g.jsxs("div",{className:"config-grid",children:[g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-address",children:"Address (optional filter)"}),g.jsx("input",{id:"tx-address",type:"text",value:d,onChange:w=>h(w.target.value),placeholder:"0x..."})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-hash",children:"Transaction Hash (optional filter)"}),g.jsx("input",{id:"tx-hash",type:"text",value:f,onChange:w=>p(w.target.value),placeholder:"0x..."})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-types",children:"Transaction Types (optional filter)"}),g.jsx("input",{id:"tx-types",type:"text",value:m,onChange:w=>b(w.target.value),placeholder:"e.g., order, transfer, deposit (comma-separated)"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-event-types",children:"Event Types (optional filter)"}),g.jsx("input",{id:"tx-event-types",type:"text",value:y,onChange:w=>v(w.target.value),placeholder:"e.g., new_tx, tx_confirmed (comma-separated)"})]})]})]})]}),wJe=({message:n})=>{const{event:e,timestamp:r,type:i,eventSource:s}=n,o=u=>"data"in u&&u.data&&typeof u.data=="object"&&("hash"in u.data||"txhash"in u.data),a=u=>"data"in u&&u.data&&typeof u.data=="object"&&"type"in u.data,l=()=>{if(o(e))return g.jsx(CJe,{event:e});if(a(e)){const{data:u}=e;switch(u.type){case"vertex":return g.jsx(xJe,{data:u});case"tx":return g.jsx(_Je,{data:u});case"unconfirmed_tx":return g.jsx(kJe,{data:u});case"validator":return g.jsx(SJe,{data:u});default:return g.jsx(EG,{data:u})}}return g.jsx(EG,{data:e})},c=o(e)?e.source_shard||"unknown":e.source_shard;return g.jsxs("div",{className:`consensus-event-item ${i}`,children:[g.jsx("div",{className:"event-header",children:g.jsxs("div",{className:"event-meta",children:[g.jsx("span",{className:"event-type-badge",children:e.event_type}),s&&g.jsx("span",{className:"event-source-badge",children:s}),g.jsx("span",{className:"event-time",children:new Date(r).toLocaleString()}),g.jsxs("span",{className:"event-shard",children:["Shard: ",c]})]})}),g.jsxs("div",{className:"event-body",children:[a(e)&&g.jsxs("div",{className:"event-data-type",children:[g.jsx("strong",{children:"Data Type:"})," ",e.data.type]}),l(),g.jsxs("details",{className:"raw-data-details",children:[g.jsx("summary",{children:"View Raw JSON"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(e,null,2)})]})]})]})},xJe=({data:n})=>g.jsxs("div",{className:"event-details vertex-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"ID:"}),g.jsx("span",{className:"detail-value",children:n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]}),n.parent_ids&&n.parent_ids.length>0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parent IDs:"}),g.jsx("span",{className:"detail-value",children:n.parent_ids.join(", ")})]}),n.tx_count!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Count:"}),g.jsx("span",{className:"detail-value",children:n.tx_count})]}),n.state_root&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"State Root:"}),g.jsx("span",{className:"detail-value",children:n.state_root})]}),n.qc_achieved!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"QC Achieved:"}),g.jsx("span",{className:"detail-value",children:n.qc_achieved?"Yes":"No"})]}),n.qc_vote_count!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"QC Vote Count:"}),g.jsx("span",{className:"detail-value",children:n.qc_vote_count})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),_Je=({data:n})=>g.jsxs("div",{className:"event-details tx-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Hash:"}),g.jsx("span",{className:"detail-value",children:n.txhash||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]}),n.from_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"From:"}),g.jsx("span",{className:"detail-value",children:n.from_address})]}),n.to_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"To:"}),g.jsx("span",{className:"detail-value",children:n.to_address})]}),n.amount&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Amount:"}),g.jsx("span",{className:"detail-value",children:n.amount})]}),n.tx_type&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Type:"}),g.jsx("span",{className:"detail-value",children:n.tx_type})]}),n.nonce!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Nonce:"}),g.jsx("span",{className:"detail-value",children:n.nonce})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),kJe=({data:n})=>g.jsxs("div",{className:"event-details unconfirmed-tx-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Hash:"}),g.jsx("span",{className:"detail-value",children:n.txhash||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value status-pending",children:n.status})]}),n.from_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"From:"}),g.jsx("span",{className:"detail-value",children:n.from_address})]}),n.to_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"To:"}),g.jsx("span",{className:"detail-value",children:n.to_address})]}),n.amount&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Amount:"}),g.jsx("span",{className:"detail-value",children:n.amount})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),SJe=({data:n})=>g.jsxs("div",{className:"event-details validator-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Validator ID:"}),g.jsx("span",{className:"detail-value",children:n.validator_id||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.validator_status||n.status})]}),n.voting_power!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Voting Power:"}),g.jsx("span",{className:"detail-value",children:n.voting_power})]}),n.public_key&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Public Key:"}),g.jsx("span",{className:"detail-value public-key",children:n.public_key})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),CJe=({event:n})=>{const{data:e}=n;return g.jsxs("div",{className:"event-details transaction-event-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Hash:"}),g.jsx("span",{className:"detail-value",children:e.hash||e.txhash||"N/A"})]}),e.vertex_hash&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Vertex Hash:"}),g.jsx("span",{className:"detail-value",children:e.vertex_hash})]}),e.status&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:e.status})]}),e.shard_id!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:e.shard_id})]}),e.dag_depth!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"DAG Depth:"}),g.jsx("span",{className:"detail-value",children:e.dag_depth})]}),e.consensus_round!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Consensus Round:"}),g.jsx("span",{className:"detail-value",children:e.consensus_round})]}),e.code!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Code:"}),g.jsx("span",{className:"detail-value",children:e.code})]}),e.info&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Info:"}),g.jsx("span",{className:"detail-value",children:e.info})]}),e.raw_log&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Raw Log:"}),g.jsx("span",{className:"detail-value",children:e.raw_log})]}),e.transaction_index!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Transaction Index:"}),g.jsx("span",{className:"detail-value",children:e.transaction_index})]}),e.consensus_version&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Consensus Version:"}),g.jsx("span",{className:"detail-value",children:e.consensus_version})]}),e.parent_vertices&&e.parent_vertices.length>0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parent Vertices:"}),g.jsx("span",{className:"detail-value",children:e.parent_vertices.join(", ")})]}),n.event_time&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Event Time:"}),g.jsx("span",{className:"detail-value",children:typeof n.event_time=="number"?new Date(n.event_time*1e3).toLocaleString():typeof n.event_time=="object"&&"seconds"in n.event_time?new Date(n.event_time.seconds*1e3).toLocaleString():"N/A"})]})]})},EG=({data:n})=>g.jsxs("div",{className:"event-details generic-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"ID:"}),g.jsx("span",{className:"detail-value",children:n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Type:"}),g.jsx("span",{className:"detail-value",children:n.type})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]})]}),EJe=({isOpen:n,onClose:e,event:r})=>(A.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),A.useEffect(()=>{const i=s=>{s.key==="Escape"&&n&&e()};return n&&window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[n,e]),!n||!r?null:typeof document<"u"?$a.createPortal(g.jsx("div",{className:"event-modal-overlay",onClick:e,children:g.jsxs("div",{className:"event-modal",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"event-modal-header",children:[g.jsx("h3",{className:"event-modal-title",children:"Event Details"}),g.jsx("button",{className:"event-modal-close-button",onClick:e,children:""})]}),g.jsx("div",{className:"event-modal-body",children:g.jsx(wJe,{message:r})})]})}),document.body):null),AJe=n=>{if("data"in n&&n.data&&typeof n.data=="object"){const e=n.data;if("hash"in e&&e.hash)return e.hash;if("txhash"in e&&e.txhash)return e.txhash;if("id"in e&&e.id)return e.id}if("data"in n&&n.data&&typeof n.data=="object"){const e=n.data;if("id"in e&&e.id)return e.id;if("txhash"in e&&e.txhash)return e.txhash}return"N/A"},TJe=({events:n})=>{const[e,r]=A.useState(null),[i,s]=A.useState(!1),o=l=>{r(l),s(!0)},a=()=>{s(!1),r(null)};return n.length===0?g.jsx("div",{className:"consensus-event-list empty",children:g.jsx("p",{children:"No events received yet. Connect and subscribe to start receiving consensus events."})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"consensus-event-list",children:[g.jsx("div",{className:"event-list-header",children:g.jsxs("h3",{children:["Consensus Events (",n.length,")"]})}),g.jsxs("div",{className:"event-list-table",children:[g.jsxs("div",{className:"event-list-table-header",children:[g.jsx("div",{className:"event-list-table-cell hash-column",children:"Hash"}),g.jsx("div",{className:"event-list-table-cell time-column",children:"Time"}),g.jsx("div",{className:"event-list-table-cell type-column",children:"Type"})]}),g.jsx("div",{className:"event-list-table-body",children:n.map(l=>{const c=AJe(l.event),u=new Date(l.timestamp).toLocaleString(),d=l.event.event_type||"unknown";return g.jsxs("div",{className:"event-list-table-row",onClick:()=>o(l),children:[g.jsx("div",{className:"event-list-table-cell hash-column",title:c,children:c.length>20?`${c.substring(0,20)}...`:c}),g.jsx("div",{className:"event-list-table-cell time-column",children:u}),g.jsx("div",{className:"event-list-table-cell type-column",children:g.jsx("span",{className:`event-type-badge ${l.type}`,children:d})})]},l.id)})})]})]}),g.jsx(EJe,{isOpen:i,onClose:a,event:e})]})};function PJe(n){return n.type==="vertex"}function AG(n){return n.type==="tx"}function IJe(n){return n.type==="unconfirmed_tx"}function TG(){return{vertexMap:new Map,txMap:new Map,parentToChildren:new Map,orphanMap:new Map}}function PG(n){n.vertexMap.clear(),n.txMap.clear(),n.parentToChildren.clear(),n.orphanMap.clear()}const MJe=3e4,OJe=1e3;function DJe(n,e){var r;for(const[i,s]of e.orphanMap.entries())(r=s.parent_ids)!=null&&r.includes(n.id)&&(e.parentToChildren.has(n.id)||e.parentToChildren.set(n.id,new Set),e.parentToChildren.get(n.id).add(i),e.orphanMap.delete(i));if(n.parent_ids&&n.parent_ids.length>0&&!n.parent_ids.every(s=>e.vertexMap.has(s))){if(e.orphanMap.size>=OJe){const s=e.orphanMap.keys().next().value;s&&(e.orphanMap.delete(s),console.warn(`[dagUtils] Orphan buffer full, evicted: ${s}`))}e.orphanMap.set(n.id,n),console.warn(`[dagUtils] Orphaned vertex detected: ${n.id}`)}}function RJe(n,e=MJe){for(const[r]of n.orphanMap.entries())console.warn(`[dagUtils] Orphan timeout: ${r} - marking as missing parent`),n.orphanMap.delete(r)}const NJe=3e4;function jJe(n,e,r){const i=NJe;let s=null;for(const[o,a]of r.vertexMap.entries()){if(a.shardId!==n.shard_id)continue;const l=Math.abs(a.timestamp-e);l<i&&(!s||l<s.timeDiff)&&(s={vertexId:o,timeDiff:l})}return(s==null?void 0:s.vertexId)||null}function BJe(n,e){const{data:r,event_time:i}=n;if(PJe(r)){const s=r.parent_ids||[],o={id:r.id,type:"vertex",timestamp:i||r.timestamp,parents:s,children:[],data:r,shardId:r.shard_id};e.vertexMap.set(r.id,o),s.forEach(l=>{e.parentToChildren.has(l)||e.parentToChildren.set(l,new Set),e.parentToChildren.get(l).add(r.id)});const a=e.parentToChildren.get(r.id);return a&&(o.children=Array.from(a)),DJe(r,e),o}else if(AG(r)||IJe(r)){const s={id:r.id||r.txhash||`tx-${Date.now()}`,type:AG(r)?"tx":"unconfirmed_tx",timestamp:i||r.timestamp,parents:[],children:[],data:r,shardId:r.shard_id};e.txMap.set(s.id,s);const o=jJe(r,s.timestamp,e);if(o){const a=e.vertexMap.get(o);a&&(s.vertexId=o,s.parents=a.parents)}return s}return null}function LJe(n){for(const e of[...n.vertexMap.values(),...n.txMap.values()]){const r=n.parentToChildren.get(e.id);e.children=r?Array.from(r):[]}}function FJe(n,e){const r=BJe(n,e);return r?(LJe(e),{id:r.id,timestamp:r.timestamp,parents:r.parents,children:r.children,data:r.data,nodeType:r.type,shardId:r.shardId}):null}class $Je{constructor(e=500){Be(this,"timeoutId",null);Be(this,"accumulatedMessages",[]);Be(this,"waitMs");this.waitMs=e}add(e,r,i){this.accumulatedMessages.push(...e),this.timeoutId!==null&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{const s=this.accumulatedMessages.map(o=>FJe(o,r)).filter(o=>o!==null);this.accumulatedMessages=[],i(s),this.timeoutId=null},this.waitMs)}cancel(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.accumulatedMessages=[]}}const zJe=new $Je(500);function UJe(n,e,r){zJe.add(n,e,r)}function WJe(n){const e=new Map,r=i=>{if(e.has(i.id))return e.get(i.id);if(i.parents.length===0)return e.set(i.id,"root"),"root";const o=i.parents.map(a=>{const l=n.find(c=>c.id===a);return l?e.get(a)||r(l):null}).filter(a=>a!==null).join("-")||"root";return e.set(i.id,o),o};return n.map(i=>{const s=r(i),o=i.nodeType==="vertex"?"V":i.nodeType==="tx"?"TX":"UTX",a=i.id.length>8?i.id.slice(0,8)+"...":i.id;return{id:i.id,content:`${o} ${a}`,start:new Date(i.timestamp*1e3),group:s,title:`${i.nodeType} | Parents: ${i.parents.length} | Children: ${i.children.length} | Shard: ${i.shardId}`,className:`dag-node-${i.nodeType}`}})}function qJe(n,e,r=5){if(!e)return n.length>100?{nodes:[],links:[]}:{nodes:n.map(c=>({id:c.id,label:`${c.nodeType==="vertex"?"V":"TX"} ${c.id.slice(0,8)}`,type:c.nodeType,shardId:c.shardId})),links:n.flatMap(c=>c.children.map(u=>({source:c.id,target:u})))};const i=new Set,s=[{id:e,depth:0}],o=[],a=[],l=new Set;for(;s.length>0;){const{id:c,depth:u}=s.shift();if(i.has(c)||u>r)continue;i.add(c);const d=n.find(h=>h.id===c);if(d){if(!l.has(c)){const h=d.nodeType==="vertex"?"V":"TX",f=d.id.length>8?d.id.slice(0,8)+"...":d.id;o.push({id:d.id,label:`${h} ${f}`,type:d.nodeType,shardId:d.shardId}),l.add(c)}d.children.forEach(h=>{a.push({source:c,target:h}),i.has(h)||s.push({id:h,depth:u+1})}),d.parents.forEach(h=>{if(a.push({source:h,target:c}),!l.has(h)){const f=n.find(p=>p.id===h);if(f){const p=f.nodeType==="vertex"?"V":"TX",m=f.id.length>8?f.id.slice(0,8)+"...":f.id;o.push({id:f.id,label:`${p} ${m}`,type:f.nodeType,shardId:f.shardId}),l.add(h)}}i.has(h)||s.push({id:h,depth:u+1})})}}return{nodes:o,links:a}}/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.5.0
 * @date    2025-12-12T13:44:42.806Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function fs(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var HJe=`.vis .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Must be displayed above for example selected Timeline items */
  z-index: 10;
}

.vis-active {
  box-shadow: 0 0 10px #86d5f8;
}
`;fs(HJe);var VJe=`/* override some bootstrap styles screwing up the timelines css */

.vis [class*="span"] {
  min-height: 0;
  width: auto;
}
`;fs(VJe);var GJe=`div.vis-configuration {
  position: relative;
  display: block;
  float: left;
  font-size: 12px;
}

div.vis-configuration-wrapper {
  display: block;
  width: 700px;
}

div.vis-configuration-wrapper::after {
  clear: both;
  content: "";
  display: block;
}

div.vis-configuration.vis-config-option-container {
  display: block;
  width: 495px;
  background-color: #ffffff;
  border: 2px solid #f7f8fa;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
}

div.vis-configuration.vis-config-button {
  display: block;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
  background-color: #f7f8fa;
  border: 2px solid #ceced0;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
  cursor: pointer;
  margin-bottom: 30px;
}

div.vis-configuration.vis-config-button.hover {
  background-color: #4588e6;
  border: 2px solid #214373;
  color: #ffffff;
}

div.vis-configuration.vis-config-item {
  display: block;
  float: left;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
}

div.vis-configuration.vis-config-item.vis-config-s2 {
  left: 10px;
  background-color: #f7f8fa;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s3 {
  left: 20px;
  background-color: #e4e9f0;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s4 {
  left: 30px;
  background-color: #cfd8e6;
  padding-left: 5px;
  border-radius: 3px;
}

div.vis-configuration.vis-config-header {
  font-size: 18px;
  font-weight: bold;
}

div.vis-configuration.vis-config-label {
  width: 120px;
  height: 25px;
  line-height: 25px;
}

div.vis-configuration.vis-config-label.vis-config-s3 {
  width: 110px;
}
div.vis-configuration.vis-config-label.vis-config-s4 {
  width: 100px;
}

div.vis-configuration.vis-config-colorBlock {
  top: 1px;
  width: 30px;
  height: 19px;
  border: 1px solid #444444;
  border-radius: 2px;
  padding: 0px;
  margin: 0px;
  cursor: pointer;
}

input.vis-configuration.vis-config-checkbox {
  left: -5px;
}

input.vis-configuration.vis-config-rangeinput {
  position: relative;
  top: -5px;
  width: 60px;
  /*height:13px;*/
  padding: 1px;
  margin: 0;
  pointer-events: none;
}

input.vis-configuration.vis-config-range {
  /*removes default webkit styles*/
  -webkit-appearance: none;

  /*fix for FF unable to apply focus style bug */
  border: 0px solid white;
  background-color: rgba(0, 0, 0, 0);

  /*required for proper track sizing in FF*/
  width: 300px;
  height: 20px;
}
input.vis-configuration.vis-config-range::-webkit-slider-runnable-track {
  width: 300px;
  height: 5px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  border: 1px solid #14334b;
  height: 17px;
  width: 17px;
  border-radius: 50%;
  background: #3876c2; /* Old browsers */
  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #3876c2),
    color-stop(100%, #385380)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */
  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */
  box-shadow: #111927 0px 0px 1px 0px;
  margin-top: -7px;
}
input.vis-configuration.vis-config-range:focus {
  outline: none;
}
input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {
  background: #9d9d9d; /* Old browsers */
  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #9d9d9d),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */
}

input.vis-configuration.vis-config-range::-moz-range-track {
  width: 300px;
  height: 10px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-moz-range-thumb {
  border: none;
  height: 16px;
  width: 16px;

  border-radius: 50%;
  background: #385380;
}

/*hide the outline behind the border*/
input.vis-configuration.vis-config-range:-moz-focusring {
  outline: 1px solid white;
  outline-offset: -1px;
}

input.vis-configuration.vis-config-range::-ms-track {
  width: 300px;
  height: 5px;

  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */
  background: transparent;

  /*leave room for the larger thumb to overflow with a transparent border */
  border-color: transparent;
  border-width: 6px 0;

  /*remove default tick marks*/
  color: transparent;
}
input.vis-configuration.vis-config-range::-ms-fill-lower {
  background: #777;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-fill-upper {
  background: #ddd;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-thumb {
  border: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #385380;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-lower {
  background: #888;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-upper {
  background: #ccc;
}

.vis-configuration-popup {
  position: absolute;
  background: rgba(57, 76, 89, 0.85);
  border: 2px solid #f2faff;
  line-height: 30px;
  height: 30px;
  width: 150px;
  text-align: center;
  color: #ffffff;
  font-size: 14px;
  border-radius: 4px;
  -webkit-transition: opacity 0.3s ease-in-out;
  -moz-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}
.vis-configuration-popup:after,
.vis-configuration-popup:before {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.vis-configuration-popup:after {
  border-color: rgba(136, 183, 213, 0);
  border-left-color: rgba(57, 76, 89, 0.85);
  border-width: 8px;
  margin-top: -8px;
}
.vis-configuration-popup:before {
  border-color: rgba(194, 225, 245, 0);
  border-left-color: #f2faff;
  border-width: 12px;
  margin-top: -12px;
}
`;fs(GJe);var YJe=`div.vis-tooltip {
  position: absolute;
  visibility: hidden;
  padding: 5px;
  white-space: nowrap;

  font-family: verdana;
  font-size: 14px;
  color: #000000;
  background-color: #f5f4ed;

  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #808074;

  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
  pointer-events: none;

  z-index: 5;
}
`;fs(YJe);var KJe=`.vis-timeline {
  /*
  -webkit-transition: height .4s ease-in-out;
  transition:         height .4s ease-in-out;
  */
}

.vis-panel {
  /*
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
  */
}

.vis-axis {
  /*
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
  */
}

/* TODO: get animation working nicely

.vis-item {
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
}

.vis-item.line {
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
}
/**/
`;fs(KJe);var XJe=`.vis-current-time {
  background-color: #ff7f6e;
  width: 2px;
  z-index: 1;
  pointer-events: none;
}

.vis-rolling-mode-btn {
  height: 40px;
  width: 40px;
  position: absolute;
  top: 7px;
  right: 20px;
  border-radius: 50%;
  font-size: 28px;
  cursor: pointer;
  opacity: 0.8;
  color: white;
  font-weight: bold;
  text-align: center;
  background: #3876c2;
}
.vis-rolling-mode-btn:before {
  content: "\\26F6";
}

.vis-rolling-mode-btn:hover {
  opacity: 1;
}
`;fs(XJe);var QJe=`.vis-custom-time {
  background-color: #6e94ff;
  width: 2px;
  cursor: move;
  z-index: 1;
}

.vis-custom-time > .vis-custom-time-marker {
  background-color: inherit;
  color: white;
  font-size: 12px;
  white-space: nowrap;
  padding: 3px 5px;
  top: 0px;
  cursor: initial;
  z-index: inherit;
}
`;fs(QJe);var JJe=`.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {
  position: absolute;
  width: 100%;
  height: 0;
  border-bottom: 1px solid;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {
  border-color: #bfbfbf;
}

.vis-data-axis .vis-y-axis.vis-major {
  width: 100%;
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-major.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-minor {
  position: absolute;
  width: 100%;
  color: #bebebe;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-minor.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title {
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
  bottom: 20px;
  text-align: center;
}

.vis-data-axis .vis-y-axis.vis-title.vis-measure {
  padding: 0;
  margin: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title.vis-left {
  bottom: 0;
  -webkit-transform-origin: left top;
  -moz-transform-origin: left top;
  -ms-transform-origin: left top;
  -o-transform-origin: left top;
  transform-origin: left bottom;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.vis-data-axis .vis-y-axis.vis-title.vis-right {
  bottom: 0;
  -webkit-transform-origin: right bottom;
  -moz-transform-origin: right bottom;
  -ms-transform-origin: right bottom;
  -o-transform-origin: right bottom;
  transform-origin: right bottom;
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  transform: rotate(90deg);
}

.vis-legend {
  background-color: rgba(247, 252, 255, 0.65);
  padding: 5px;
  border: 1px solid #b3b3b3;
  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);
}

.vis-legend-text {
  /*font-size: 10px;*/
  white-space: nowrap;
  display: inline-block;
}
`;fs(JJe);var ZJe=`.vis-item {
  position: absolute;
  color: #1a1a1a;
  border-color: #97b0f8;
  border-width: 1px;
  background-color: #d5ddf6;
  display: inline-block;
  z-index: 1;
  /*overflow: hidden;*/
}

.vis-item.vis-selected {
  border-color: #ffc200;
  background-color: #fff785;

  /* z-index must be higher than the z-index of custom time bar and current time bar */
  z-index: 2;
}

.vis-editable.vis-selected {
  cursor: move;
}

.vis-item.vis-point.vis-selected {
  background-color: #fff785;
}

.vis-item.vis-box {
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-point {
  background: none;
}

.vis-item.vis-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}

.vis-item.vis-range {
  border-style: solid;
  border-radius: 2px;
  box-sizing: border-box;
}

.vis-item.vis-background {
  border: none;
  background-color: rgba(213, 221, 246, 0.4);
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

.vis-item .vis-item-overflow {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

.vis-item-visible-frame {
  white-space: nowrap;
}

.vis-item.vis-range .vis-item-content {
  position: relative;
  display: inline-block;
}

.vis-item.vis-background .vis-item-content {
  position: absolute;
  display: inline-block;
}

.vis-item.vis-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item .vis-item-content {
  white-space: nowrap;
  box-sizing: border-box;
  padding: 5px;
}

.vis-item .vis-onUpdateTime-tooltip {
  position: absolute;
  background: #4f81bd;
  color: white;
  width: 200px;
  text-align: center;
  white-space: nowrap;
  padding: 5px;
  border-radius: 1px;
  transition: 0.4s;
  -o-transition: 0.4s;
  -moz-transition: 0.4s;
  -webkit-transition: 0.4s;
}

.vis-item .vis-delete,
.vis-item .vis-delete-rtl {
  position: absolute;
  top: 0px;
  width: 24px;
  height: 24px;
  box-sizing: border-box;
  padding: 0px 5px;
  cursor: pointer;

  -webkit-transition: background 0.2s linear;
  -moz-transition: background 0.2s linear;
  -ms-transition: background 0.2s linear;
  -o-transition: background 0.2s linear;
  transition: background 0.2s linear;
}

.vis-item .vis-delete {
  right: -24px;
}

.vis-item .vis-delete-rtl {
  left: -24px;
}

.vis-item .vis-delete:after,
.vis-item .vis-delete-rtl:after {
  content: "\\00D7"; /* MULTIPLICATION SIGN */
  color: red;
  font-family: arial, sans-serif;
  font-size: 22px;
  font-weight: bold;

  -webkit-transition: color 0.2s linear;
  -moz-transition: color 0.2s linear;
  -ms-transition: color 0.2s linear;
  -o-transition: color 0.2s linear;
  transition: color 0.2s linear;
}

.vis-item .vis-delete:hover,
.vis-item .vis-delete-rtl:hover {
  background: red;
}

.vis-item .vis-delete:hover:after,
.vis-item .vis-delete-rtl:hover:after {
  color: white;
}

.vis-item .vis-drag-center {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0px;
  cursor: move;
}

.vis-item.vis-range .vis-drag-left {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  left: -4px;

  cursor: w-resize;
}

.vis-item.vis-range .vis-drag-right {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  right: -4px;

  cursor: e-resize;
}

.vis-range.vis-item.vis-readonly .vis-drag-left,
.vis-range.vis-item.vis-readonly .vis-drag-right {
  cursor: auto;
}

.vis-item.vis-cluster {
  vertical-align: center;
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-cluster-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item.vis-cluster-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}
`;fs(ZJe);var eZe=`.vis-itemset {
  position: relative;
  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-itemset .vis-background,
.vis-itemset .vis-foreground {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: visible;
}

.vis-axis {
  position: absolute;
  width: 100%;
  height: 0;
  left: 0;
  z-index: 1;
}

.vis-foreground .vis-group {
  position: relative;
  box-sizing: border-box;
  border-bottom: 1px solid #bfbfbf;
}

.vis-foreground .vis-group:last-child {
  border-bottom: none;
}

.vis-nesting-group {
  cursor: pointer;
}

.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {
  background: #f5f5f5;
}
.vis-label.vis-nested-group.vis-group-level-0 {
  background-color: #ffffff;
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-left: 0;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-right: 0;
}
.vis-label.vis-nested-group.vis-group-level-1 {
  background-color: rgba(0, 0, 0, 0.05);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-left: 15px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-right: 15px;
}
.vis-label.vis-nested-group.vis-group-level-2 {
  background-color: rgba(0, 0, 0, 0.1);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-left: 30px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-right: 30px;
}
.vis-label.vis-nested-group.vis-group-level-3 {
  background-color: rgba(0, 0, 0, 0.15);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-left: 45px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-right: 45px;
}
.vis-label.vis-nested-group.vis-group-level-4 {
  background-color: rgba(0, 0, 0, 0.2);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-left: 60px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-right: 60px;
}
.vis-label.vis-nested-group.vis-group-level-5 {
  background-color: rgba(0, 0, 0, 0.25);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-left: 75px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-right: 75px;
}
.vis-label.vis-nested-group.vis-group-level-6 {
  background-color: rgba(0, 0, 0, 0.3);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-left: 90px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-right: 90px;
}
.vis-label.vis-nested-group.vis-group-level-7 {
  background-color: rgba(0, 0, 0, 0.35);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-left: 105px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-right: 105px;
}
.vis-label.vis-nested-group.vis-group-level-8 {
  background-color: rgba(0, 0, 0, 0.4);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-left: 120px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-right: 120px;
}
.vis-label.vis-nested-group.vis-group-level-9 {
  background-color: rgba(0, 0, 0, 0.45);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-left: 135px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-right: 135px;
}
/* default takes over beginning with level-10 (thats why we add .vis-nested-group
  to the selectors above, to have higher specifity than these rules for the defaults) */
.vis-label.vis-nested-group {
  background-color: rgba(0, 0, 0, 0.5);
}
.vis-ltr .vis-label.vis-nested-group .vis-inner {
  padding-left: 150px;
}
.vis-rtl .vis-label.vis-nested-group .vis-inner {
  padding-right: 150px;
}

.vis-group-level-unknown-but-gte1 {
  border: 1px solid red;
}

/* expanded/collapsed indicators */
.vis-label.vis-nesting-group:before,
.vis-label.vis-nesting-group:before {
  display: inline-block;
  width: 15px;
}
.vis-label.vis-nesting-group.expanded:before {
  content: "\\25BC";
}
.vis-label.vis-nesting-group.collapsed:before {
  content: "\\25B6";
}
.vis-rtl .vis-label.vis-nesting-group.collapsed:before {
  content: "\\25C0";
}
/* compensate missing expanded/collapsed indicator, but only at levels > 0 */
.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-left: 15px;
}
.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-right: 15px;
}

.vis-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
`;fs(eZe);var tZe=`.vis-labelset {
  position: relative;

  overflow: hidden;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  position: relative;
  left: 0;
  top: 0;
  width: 100%;
  color: #4d4d4d;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  border-bottom: 1px solid #bfbfbf;
}

.vis-labelset .vis-label.draggable {
  cursor: pointer;
}

.vis-group-is-dragging {
  background: rgba(0, 0, 0, 0.1);
}

.vis-labelset .vis-label:last-child {
  border-bottom: none;
}

.vis-labelset .vis-label .vis-inner {
  display: inline-block;
  padding: 5px;
}

.vis-labelset .vis-label .vis-inner.vis-hidden {
  padding: 0;
}
`;fs(tZe);var nZe=`.vis-panel {
  position: absolute;

  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border: 1px #bfbfbf;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right {
  border-top-style: solid;
  border-bottom-style: solid;
  overflow: hidden;
}

.vis-left.vis-panel.vis-vertical-scroll,
.vis-right.vis-panel.vis-vertical-scroll {
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}

.vis-left.vis-panel.vis-vertical-scroll {
  direction: rtl;
}

.vis-left.vis-panel.vis-vertical-scroll .vis-content {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll .vis-content {
  direction: rtl;
}

.vis-panel.vis-center,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border-left-style: solid;
  border-right-style: solid;
}

.vis-background {
  overflow: hidden;
}

.vis-panel > .vis-content {
  position: relative;
}

.vis-panel .vis-shadow {
  position: absolute;
  width: 100%;
  height: 1px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items
  z-index: 1;
  */
}

.vis-panel .vis-shadow.vis-top {
  top: -1px;
  left: 0;
}

.vis-panel .vis-shadow.vis-bottom {
  bottom: -1px;
  left: 0;
}
`;fs(nZe);var rZe=`.vis-graph-group0 {
  fill: #4f81bd;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #4f81bd;
}

.vis-graph-group1 {
  fill: #f79646;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #f79646;
}

.vis-graph-group2 {
  fill: #8c51cf;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8c51cf;
}

.vis-graph-group3 {
  fill: #75c841;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #75c841;
}

.vis-graph-group4 {
  fill: #ff0100;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff0100;
}

.vis-graph-group5 {
  fill: #37d8e6;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #37d8e6;
}

.vis-graph-group6 {
  fill: #042662;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #042662;
}

.vis-graph-group7 {
  fill: #00ff26;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #00ff26;
}

.vis-graph-group8 {
  fill: #ff00ff;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff00ff;
}

.vis-graph-group9 {
  fill: #8f3938;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8f3938;
}

.vis-timeline .vis-fill {
  fill-opacity: 0.1;
  stroke: none;
}

.vis-timeline .vis-bar {
  fill-opacity: 0.5;
  stroke-width: 1px;
}

.vis-timeline .vis-point {
  stroke-width: 2px;
  fill-opacity: 1;
}

.vis-timeline .vis-legend-background {
  stroke-width: 1px;
  fill-opacity: 0.9;
  fill: #ffffff;
  stroke: #c2c2c2;
}

.vis-timeline .vis-outline {
  stroke-width: 1px;
  fill-opacity: 1;
  fill: #ffffff;
  stroke: #e5e5e5;
}

.vis-timeline .vis-icon-fill {
  fill-opacity: 0.3;
  stroke: none;
}
`;fs(rZe);var iZe=`.vis-time-axis {
  position: relative;
  overflow: hidden;
}

.vis-time-axis.vis-foreground {
  top: 0;
  left: 0;
  width: 100%;
}

.vis-time-axis.vis-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.vis-time-axis .vis-text {
  position: absolute;
  color: #4d4d4d;
  padding: 3px;
  overflow: hidden;
  box-sizing: border-box;

  white-space: nowrap;
}

.vis-time-axis .vis-text.vis-measure {
  position: absolute;
  padding-left: 0;
  padding-right: 0;
  margin-left: 0;
  margin-right: 0;
  visibility: hidden;
}

.vis-time-axis .vis-grid.vis-vertical {
  position: absolute;
  border-left: 1px solid;
}

.vis-time-axis .vis-grid.vis-vertical-rtl {
  position: absolute;
  border-right: 1px solid;
}

.vis-time-axis .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-time-axis .vis-grid.vis-major {
  border-color: #bfbfbf;
}
`;fs(iZe);var sZe=`.vis-timeline {
  position: relative;
  border: 1px solid #bfbfbf;
  overflow: hidden;
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.vis-loading-screen {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
`;fs(sZe);var IG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qa(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var W4={exports:{}},Nk={exports:{}},oZe=Nk.exports,MG;function Ha(){return MG||(MG=1,function(n,e){(function(r,i){n.exports=i()})(oZe,function(){var r;function i(){return r.apply(null,arguments)}function s(S){r=S}function o(S){return S instanceof Array||Object.prototype.toString.call(S)==="[object Array]"}function a(S){return S!=null&&Object.prototype.toString.call(S)==="[object Object]"}function l(S,P){return Object.prototype.hasOwnProperty.call(S,P)}function c(S){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(S).length===0;var P;for(P in S)if(l(S,P))return!1;return!0}function u(S){return S===void 0}function d(S){return typeof S=="number"||Object.prototype.toString.call(S)==="[object Number]"}function h(S){return S instanceof Date||Object.prototype.toString.call(S)==="[object Date]"}function f(S,P){var L=[],q,Q=S.length;for(q=0;q<Q;++q)L.push(P(S[q],q));return L}function p(S,P){for(var L in P)l(P,L)&&(S[L]=P[L]);return l(P,"toString")&&(S.toString=P.toString),l(P,"valueOf")&&(S.valueOf=P.valueOf),S}function m(S,P,L,q){return NL(S,P,L,q,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(S){return S._pf==null&&(S._pf=b()),S._pf}var v;Array.prototype.some?v=Array.prototype.some:v=function(S){var P=Object(this),L=P.length>>>0,q;for(q=0;q<L;q++)if(q in P&&S.call(this,P[q],q,P))return!0;return!1};function w(S){var P=null,L=!1,q=S._d&&!isNaN(S._d.getTime());if(q&&(P=y(S),L=v.call(P.parsedDateParts,function(Q){return Q!=null}),q=P.overflow<0&&!P.empty&&!P.invalidEra&&!P.invalidMonth&&!P.invalidWeekday&&!P.weekdayMismatch&&!P.nullInput&&!P.invalidFormat&&!P.userInvalidated&&(!P.meridiem||P.meridiem&&L),S._strict&&(q=q&&P.charsLeftOver===0&&P.unusedTokens.length===0&&P.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(S))S._isValid=q;else return q;return S._isValid}function _(S){var P=m(NaN);return S!=null?p(y(P),S):y(P).userInvalidated=!0,P}var x=i.momentProperties=[],k=!1;function C(S,P){var L,q,Q,ye=x.length;if(u(P._isAMomentObject)||(S._isAMomentObject=P._isAMomentObject),u(P._i)||(S._i=P._i),u(P._f)||(S._f=P._f),u(P._l)||(S._l=P._l),u(P._strict)||(S._strict=P._strict),u(P._tzm)||(S._tzm=P._tzm),u(P._isUTC)||(S._isUTC=P._isUTC),u(P._offset)||(S._offset=P._offset),u(P._pf)||(S._pf=y(P)),u(P._locale)||(S._locale=P._locale),ye>0)for(L=0;L<ye;L++)q=x[L],Q=P[q],u(Q)||(S[q]=Q);return S}function E(S){C(this,S),this._d=new Date(S._d!=null?S._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),k===!1&&(k=!0,i.updateOffset(this),k=!1)}function T(S){return S instanceof E||S!=null&&S._isAMomentObject!=null}function M(S){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+S)}function I(S,P){var L=!0;return p(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,S),L){var q=[],Q,ye,Ne,vt=arguments.length;for(ye=0;ye<vt;ye++){if(Q="",typeof arguments[ye]=="object"){Q+=`
[`+ye+"] ";for(Ne in arguments[0])l(arguments[0],Ne)&&(Q+=Ne+": "+arguments[0][Ne]+", ");Q=Q.slice(0,-2)}else Q=arguments[ye];q.push(Q)}M(S+`
Arguments: `+Array.prototype.slice.call(q).join("")+`
`+new Error().stack),L=!1}return P.apply(this,arguments)},P)}var O={};function F(S,P){i.deprecationHandler!=null&&i.deprecationHandler(S,P),O[S]||(M(P),O[S]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function $(S){return typeof Function<"u"&&S instanceof Function||Object.prototype.toString.call(S)==="[object Function]"}function z(S){var P,L;for(L in S)l(S,L)&&(P=S[L],$(P)?this[L]=P:this["_"+L]=P);this._config=S,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(S,P){var L=p({},S),q;for(q in P)l(P,q)&&(a(S[q])&&a(P[q])?(L[q]={},p(L[q],S[q]),p(L[q],P[q])):P[q]!=null?L[q]=P[q]:delete L[q]);for(q in S)l(S,q)&&!l(P,q)&&a(S[q])&&(L[q]=p({},L[q]));return L}function j(S){S!=null&&this.set(S)}var N;Object.keys?N=Object.keys:N=function(S){var P,L=[];for(P in S)l(S,P)&&L.push(P);return L};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function H(S,P,L){var q=this._calendar[S]||this._calendar.sameElse;return $(q)?q.call(P,L):q}function U(S,P,L){var q=""+Math.abs(S),Q=P-q.length,ye=S>=0;return(ye?L?"+":"":"-")+Math.pow(10,Math.max(0,Q)).toString().substr(1)+q}var K=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Z={},G={};function X(S,P,L,q){var Q=q;typeof q=="string"&&(Q=function(){return this[q]()}),S&&(G[S]=Q),P&&(G[P[0]]=function(){return U(Q.apply(this,arguments),P[1],P[2])}),L&&(G[L]=function(){return this.localeData().ordinal(Q.apply(this,arguments),S)})}function ae(S){return S.match(/\[[\s\S]/)?S.replace(/^\[|\]$/g,""):S.replace(/\\/g,"")}function be(S){var P=S.match(K),L,q;for(L=0,q=P.length;L<q;L++)G[P[L]]?P[L]=G[P[L]]:P[L]=ae(P[L]);return function(Q){var ye="",Ne;for(Ne=0;Ne<q;Ne++)ye+=$(P[Ne])?P[Ne].call(Q,S):P[Ne];return ye}}function le(S,P){return S.isValid()?(P=J(P,S.localeData()),Z[P]=Z[P]||be(P),Z[P](S)):S.localeData().invalidDate()}function J(S,P){var L=5;function q(Q){return P.longDateFormat(Q)||Q}for(Y.lastIndex=0;L>=0&&Y.test(S);)S=S.replace(Y,q),Y.lastIndex=0,L-=1;return S}var xe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ge(S){var P=this._longDateFormat[S],L=this._longDateFormat[S.toUpperCase()];return P||!L?P:(this._longDateFormat[S]=L.match(K).map(function(q){return q==="MMMM"||q==="MM"||q==="DD"||q==="dddd"?q.slice(1):q}).join(""),this._longDateFormat[S])}var V="Invalid date";function we(){return this._invalidDate}var ze="%d",et=/\d{1,2}/;function $e(S){return this._ordinal.replace("%d",S)}var mt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ue(S,P,L,q){var Q=this._relativeTime[L];return $(Q)?Q(S,P,L,q):Q.replace(/%d/i,S)}function Ke(S,P){var L=this._relativeTime[S>0?"future":"past"];return $(L)?L(P):L.replace(/%s/i,P)}var pt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function lt(S){return typeof S=="string"?pt[S]||pt[S.toLowerCase()]:void 0}function Ye(S){var P={},L,q;for(q in S)l(S,q)&&(L=lt(q),L&&(P[L]=S[q]));return P}var We={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ae(S){var P=[],L;for(L in S)l(S,L)&&P.push({unit:L,priority:We[L]});return P.sort(function(q,Q){return q.priority-Q.priority}),P}var W=/\d/,de=/\d\d/,me=/\d{3}/,oe=/\d{4}/,pe=/[+-]?\d{6}/,ve=/\d\d?/,ee=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,ce=/\d{1,3}/,Ce=/\d{1,4}/,Me=/[+-]?\d{1,6}/,he=/\d+/,Te=/[+-]?\d+/,Se=/Z|[+-]\d\d:?\d\d/gi,ie=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[+-]?\d+(\.\d{1,3})?/,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,tt=/^[1-9]\d?/,Re=/^([1-9]\d|\d)/,He;He={};function Oe(S,P,L){He[S]=$(P)?P:function(q,Q){return q&&L?L:P}}function Xe(S,P){return l(He,S)?He[S](P._strict,P._locale):new RegExp(dt(S))}function dt(S){return Ve(S.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(P,L,q,Q,ye){return L||q||Q||ye}))}function Ve(S){return S.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ot(S){return S<0?Math.ceil(S)||0:Math.floor(S)}function Ie(S){var P=+S,L=0;return P!==0&&isFinite(P)&&(L=ot(P)),L}var at={};function ke(S,P){var L,q=P,Q;for(typeof S=="string"&&(S=[S]),d(P)&&(q=function(ye,Ne){Ne[P]=Ie(ye)}),Q=S.length,L=0;L<Q;L++)at[S[L]]=q}function _t(S,P){ke(S,function(L,q,Q,ye){Q._w=Q._w||{},P(L,Q._w,Q,ye)})}function gt(S,P,L){P!=null&&l(at,S)&&at[S](P,L._a,L,S)}function St(S){return S%4===0&&S%100!==0||S%400===0}var Ut=0,zt=1,tn=2,Wt=3,nt=4,an=5,Qn=6,ln=7,qs=8;X("Y",0,0,function(){var S=this.year();return S<=9999?U(S,4):"+"+S}),X(0,["YY",2],0,function(){return this.year()%100}),X(0,["YYYY",4],0,"year"),X(0,["YYYYY",5],0,"year"),X(0,["YYYYYY",6,!0],0,"year"),Oe("Y",Te),Oe("YY",ve,de),Oe("YYYY",Ce,oe),Oe("YYYYY",Me,pe),Oe("YYYYYY",Me,pe),ke(["YYYYY","YYYYYY"],Ut),ke("YYYY",function(S,P){P[Ut]=S.length===2?i.parseTwoDigitYear(S):Ie(S)}),ke("YY",function(S,P){P[Ut]=i.parseTwoDigitYear(S)}),ke("Y",function(S,P){P[Ut]=parseInt(S,10)});function ui(S){return St(S)?366:365}i.parseTwoDigitYear=function(S){return Ie(S)+(Ie(S)>68?1900:2e3)};var wo=Rr("FullYear",!0);function oa(){return St(this.year())}function Rr(S,P){return function(L){return L!=null?(Hs(this,S,L),i.updateOffset(this,P),this):di(this,S)}}function di(S,P){if(!S.isValid())return NaN;var L=S._d,q=S._isUTC;switch(P){case"Milliseconds":return q?L.getUTCMilliseconds():L.getMilliseconds();case"Seconds":return q?L.getUTCSeconds():L.getSeconds();case"Minutes":return q?L.getUTCMinutes():L.getMinutes();case"Hours":return q?L.getUTCHours():L.getHours();case"Date":return q?L.getUTCDate():L.getDate();case"Day":return q?L.getUTCDay():L.getDay();case"Month":return q?L.getUTCMonth():L.getMonth();case"FullYear":return q?L.getUTCFullYear():L.getFullYear();default:return NaN}}function Hs(S,P,L){var q,Q,ye,Ne,vt;if(!(!S.isValid()||isNaN(L))){switch(q=S._d,Q=S._isUTC,P){case"Milliseconds":return void(Q?q.setUTCMilliseconds(L):q.setMilliseconds(L));case"Seconds":return void(Q?q.setUTCSeconds(L):q.setSeconds(L));case"Minutes":return void(Q?q.setUTCMinutes(L):q.setMinutes(L));case"Hours":return void(Q?q.setUTCHours(L):q.setHours(L));case"Date":return void(Q?q.setUTCDate(L):q.setDate(L));case"FullYear":break;default:return}ye=L,Ne=S.month(),vt=S.date(),vt=vt===29&&Ne===1&&!St(ye)?28:vt,Q?q.setUTCFullYear(ye,Ne,vt):q.setFullYear(ye,Ne,vt)}}function Mp(S){return S=lt(S),$(this[S])?this[S]():this}function Op(S,P){if(typeof S=="object"){S=Ye(S);var L=Ae(S),q,Q=L.length;for(q=0;q<Q;q++)this[L[q].unit](S[L[q].unit])}else if(S=lt(S),$(this[S]))return this[S](P);return this}function Ya(S,P){return(S%P+P)%P}var Cn;Array.prototype.indexOf?Cn=Array.prototype.indexOf:Cn=function(S){var P;for(P=0;P<this.length;++P)if(this[P]===S)return P;return-1};function Xl(S,P){if(isNaN(S)||isNaN(P))return NaN;var L=Ya(P,12);return S+=(P-L)/12,L===1?St(S)?29:28:31-L%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1}),X("MMM",0,0,function(S){return this.localeData().monthsShort(this,S)}),X("MMMM",0,0,function(S){return this.localeData().months(this,S)}),Oe("M",ve,tt),Oe("MM",ve,de),Oe("MMM",function(S,P){return P.monthsShortRegex(S)}),Oe("MMMM",function(S,P){return P.monthsRegex(S)}),ke(["M","MM"],function(S,P){P[zt]=Ie(S)-1}),ke(["MMM","MMMM"],function(S,P,L,q){var Q=L._locale.monthsParse(S,q,L._strict);Q!=null?P[zt]=Q:y(L).invalidMonth=S});var _u="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ql="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ku=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Dp=se,Rp=se;function Jn(S,P){return S?o(this._months)?this._months[S.month()]:this._months[(this._months.isFormat||ku).test(P)?"format":"standalone"][S.month()]:o(this._months)?this._months:this._months.standalone}function Kr(S,P){return S?o(this._monthsShort)?this._monthsShort[S.month()]:this._monthsShort[ku.test(P)?"format":"standalone"][S.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Nr(S,P,L){var q,Q,ye,Ne=S.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],q=0;q<12;++q)ye=m([2e3,q]),this._shortMonthsParse[q]=this.monthsShort(ye,"").toLocaleLowerCase(),this._longMonthsParse[q]=this.months(ye,"").toLocaleLowerCase();return L?P==="MMM"?(Q=Cn.call(this._shortMonthsParse,Ne),Q!==-1?Q:null):(Q=Cn.call(this._longMonthsParse,Ne),Q!==-1?Q:null):P==="MMM"?(Q=Cn.call(this._shortMonthsParse,Ne),Q!==-1?Q:(Q=Cn.call(this._longMonthsParse,Ne),Q!==-1?Q:null)):(Q=Cn.call(this._longMonthsParse,Ne),Q!==-1?Q:(Q=Cn.call(this._shortMonthsParse,Ne),Q!==-1?Q:null))}function Np(S,P,L){var q,Q,ye;if(this._monthsParseExact)return Nr.call(this,S,P,L);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),q=0;q<12;q++){if(Q=m([2e3,q]),L&&!this._longMonthsParse[q]&&(this._longMonthsParse[q]=new RegExp("^"+this.months(Q,"").replace(".","")+"$","i"),this._shortMonthsParse[q]=new RegExp("^"+this.monthsShort(Q,"").replace(".","")+"$","i")),!L&&!this._monthsParse[q]&&(ye="^"+this.months(Q,"")+"|^"+this.monthsShort(Q,""),this._monthsParse[q]=new RegExp(ye.replace(".",""),"i")),L&&P==="MMMM"&&this._longMonthsParse[q].test(S))return q;if(L&&P==="MMM"&&this._shortMonthsParse[q].test(S))return q;if(!L&&this._monthsParse[q].test(S))return q}}function Su(S,P){if(!S.isValid())return S;if(typeof P=="string"){if(/^\d+$/.test(P))P=Ie(P);else if(P=S.localeData().monthsParse(P),!d(P))return S}var L=P,q=S.date();return q=q<29?q:Math.min(q,Xl(S.year(),L)),S._isUTC?S._d.setUTCMonth(L,q):S._d.setMonth(L,q),S}function uh(S){return S!=null?(Su(this,S),i.updateOffset(this,!0),this):di(this,"Month")}function dh(){return Xl(this.year(),this.month())}function hh(S){return this._monthsParseExact?(l(this,"_monthsRegex")||Cu.call(this),S?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Dp),this._monthsShortStrictRegex&&S?this._monthsShortStrictRegex:this._monthsShortRegex)}function fh(S){return this._monthsParseExact?(l(this,"_monthsRegex")||Cu.call(this),S?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Rp),this._monthsStrictRegex&&S?this._monthsStrictRegex:this._monthsRegex)}function Cu(){function S(Ht,cn){return cn.length-Ht.length}var P=[],L=[],q=[],Q,ye,Ne,vt;for(Q=0;Q<12;Q++)ye=m([2e3,Q]),Ne=Ve(this.monthsShort(ye,"")),vt=Ve(this.months(ye,"")),P.push(Ne),L.push(vt),q.push(vt),q.push(Ne);P.sort(S),L.sort(S),q.sort(S),this._monthsRegex=new RegExp("^("+q.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+L.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+P.join("|")+")","i")}function jp(S,P,L,q,Q,ye,Ne){var vt;return S<100&&S>=0?(vt=new Date(S+400,P,L,q,Q,ye,Ne),isFinite(vt.getFullYear())&&vt.setFullYear(S)):vt=new Date(S,P,L,q,Q,ye,Ne),vt}function Ka(S){var P,L;return S<100&&S>=0?(L=Array.prototype.slice.call(arguments),L[0]=S+400,P=new Date(Date.UTC.apply(null,L)),isFinite(P.getUTCFullYear())&&P.setUTCFullYear(S)):P=new Date(Date.UTC.apply(null,arguments)),P}function Jl(S,P,L){var q=7+P-L,Q=(7+Ka(S,0,q).getUTCDay()-P)%7;return-Q+q-1}function Eu(S,P,L,q,Q){var ye=(7+L-q)%7,Ne=Jl(S,q,Q),vt=1+7*(P-1)+ye+Ne,Ht,cn;return vt<=0?(Ht=S-1,cn=ui(Ht)+vt):vt>ui(S)?(Ht=S+1,cn=vt-ui(S)):(Ht=S,cn=vt),{year:Ht,dayOfYear:cn}}function aa(S,P,L){var q=Jl(S.year(),P,L),Q=Math.floor((S.dayOfYear()-q-1)/7)+1,ye,Ne;return Q<1?(Ne=S.year()-1,ye=Q+ps(Ne,P,L)):Q>ps(S.year(),P,L)?(ye=Q-ps(S.year(),P,L),Ne=S.year()+1):(Ne=S.year(),ye=Q),{week:ye,year:Ne}}function ps(S,P,L){var q=Jl(S,P,L),Q=Jl(S+1,P,L);return(ui(S)-q+Q)/7}X("w",["ww",2],"wo","week"),X("W",["WW",2],"Wo","isoWeek"),Oe("w",ve,tt),Oe("ww",ve,de),Oe("W",ve,tt),Oe("WW",ve,de),_t(["w","ww","W","WW"],function(S,P,L,q){P[q.substr(0,1)]=Ie(S)});function Bp(S){return aa(S,this._week.dow,this._week.doy).week}var Lt={dow:0,doy:6};function xo(){return this._week.dow}function _o(){return this._week.doy}function Au(S){var P=this.localeData().week(this);return S==null?P:this.add((S-P)*7,"d")}function Tu(S){var P=aa(this,1,4).week;return S==null?P:this.add((S-P)*7,"d")}X("d",0,"do","day"),X("dd",0,0,function(S){return this.localeData().weekdaysMin(this,S)}),X("ddd",0,0,function(S){return this.localeData().weekdaysShort(this,S)}),X("dddd",0,0,function(S){return this.localeData().weekdays(this,S)}),X("e",0,0,"weekday"),X("E",0,0,"isoWeekday"),Oe("d",ve),Oe("e",ve),Oe("E",ve),Oe("dd",function(S,P){return P.weekdaysMinRegex(S)}),Oe("ddd",function(S,P){return P.weekdaysShortRegex(S)}),Oe("dddd",function(S,P){return P.weekdaysRegex(S)}),_t(["dd","ddd","dddd"],function(S,P,L,q){var Q=L._locale.weekdaysParse(S,q,L._strict);Q!=null?P.d=Q:y(L).invalidWeekday=S}),_t(["d","e","E"],function(S,P,L,q){P[q]=Ie(S)});function hr(S,P){return typeof S!="string"?S:isNaN(S)?(S=P.weekdaysParse(S),typeof S=="number"?S:null):parseInt(S,10)}function Lp(S,P){return typeof S=="string"?P.weekdaysParse(S)%7||7:isNaN(S)?null:S}function Pu(S,P){return S.slice(P,7).concat(S.slice(0,P))}var Fp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ct="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Jt=se,Vs=se,Xa=se;function Ee(S,P){var L=o(this._weekdays)?this._weekdays:this._weekdays[S&&S!==!0&&this._weekdays.isFormat.test(P)?"format":"standalone"];return S===!0?Pu(L,this._week.dow):S?L[S.day()]:L}function Ge(S){return S===!0?Pu(this._weekdaysShort,this._week.dow):S?this._weekdaysShort[S.day()]:this._weekdaysShort}function qe(S){return S===!0?Pu(this._weekdaysMin,this._week.dow):S?this._weekdaysMin[S.day()]:this._weekdaysMin}function Ze(S,P,L){var q,Q,ye,Ne=S.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],q=0;q<7;++q)ye=m([2e3,1]).day(q),this._minWeekdaysParse[q]=this.weekdaysMin(ye,"").toLocaleLowerCase(),this._shortWeekdaysParse[q]=this.weekdaysShort(ye,"").toLocaleLowerCase(),this._weekdaysParse[q]=this.weekdays(ye,"").toLocaleLowerCase();return L?P==="dddd"?(Q=Cn.call(this._weekdaysParse,Ne),Q!==-1?Q:null):P==="ddd"?(Q=Cn.call(this._shortWeekdaysParse,Ne),Q!==-1?Q:null):(Q=Cn.call(this._minWeekdaysParse,Ne),Q!==-1?Q:null):P==="dddd"?(Q=Cn.call(this._weekdaysParse,Ne),Q!==-1||(Q=Cn.call(this._shortWeekdaysParse,Ne),Q!==-1)?Q:(Q=Cn.call(this._minWeekdaysParse,Ne),Q!==-1?Q:null)):P==="ddd"?(Q=Cn.call(this._shortWeekdaysParse,Ne),Q!==-1||(Q=Cn.call(this._weekdaysParse,Ne),Q!==-1)?Q:(Q=Cn.call(this._minWeekdaysParse,Ne),Q!==-1?Q:null)):(Q=Cn.call(this._minWeekdaysParse,Ne),Q!==-1||(Q=Cn.call(this._weekdaysParse,Ne),Q!==-1)?Q:(Q=Cn.call(this._shortWeekdaysParse,Ne),Q!==-1?Q:null))}function Le(S,P,L){var q,Q,ye;if(this._weekdaysParseExact)return Ze.call(this,S,P,L);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),q=0;q<7;q++){if(Q=m([2e3,1]).day(q),L&&!this._fullWeekdaysParse[q]&&(this._fullWeekdaysParse[q]=new RegExp("^"+this.weekdays(Q,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[q]=new RegExp("^"+this.weekdaysShort(Q,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[q]=new RegExp("^"+this.weekdaysMin(Q,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[q]||(ye="^"+this.weekdays(Q,"")+"|^"+this.weekdaysShort(Q,"")+"|^"+this.weekdaysMin(Q,""),this._weekdaysParse[q]=new RegExp(ye.replace(".",""),"i")),L&&P==="dddd"&&this._fullWeekdaysParse[q].test(S))return q;if(L&&P==="ddd"&&this._shortWeekdaysParse[q].test(S))return q;if(L&&P==="dd"&&this._minWeekdaysParse[q].test(S))return q;if(!L&&this._weekdaysParse[q].test(S))return q}}function At(S){if(!this.isValid())return S!=null?this:NaN;var P=di(this,"Day");return S!=null?(S=hr(S,this.localeData()),this.add(S-P,"d")):P}function Nt(S){if(!this.isValid())return S!=null?this:NaN;var P=(this.day()+7-this.localeData()._week.dow)%7;return S==null?P:this.add(S-P,"d")}function qt(S){if(!this.isValid())return S!=null?this:NaN;if(S!=null){var P=Lp(S,this.localeData());return this.day(this.day()%7?P:P-7)}else return this.day()||7}function ar(S){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Xr.call(this),S?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Jt),this._weekdaysStrictRegex&&S?this._weekdaysStrictRegex:this._weekdaysRegex)}function hi(S){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Xr.call(this),S?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vs),this._weekdaysShortStrictRegex&&S?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function kn(S){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Xr.call(this),S?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xa),this._weekdaysMinStrictRegex&&S?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xr(){function S(qi,rc){return rc.length-qi.length}var P=[],L=[],q=[],Q=[],ye,Ne,vt,Ht,cn;for(ye=0;ye<7;ye++)Ne=m([2e3,1]).day(ye),vt=Ve(this.weekdaysMin(Ne,"")),Ht=Ve(this.weekdaysShort(Ne,"")),cn=Ve(this.weekdays(Ne,"")),P.push(vt),L.push(Ht),q.push(cn),Q.push(vt),Q.push(Ht),Q.push(cn);P.sort(S),L.sort(S),q.sort(S),Q.sort(S),this._weekdaysRegex=new RegExp("^("+Q.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+L.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+P.join("|")+")","i")}function Fr(){return this.hours()%12||12}function Qa(){return this.hours()||24}X("H",["HH",2],0,"hour"),X("h",["hh",2],0,Fr),X("k",["kk",2],0,Qa),X("hmm",0,0,function(){return""+Fr.apply(this)+U(this.minutes(),2)}),X("hmmss",0,0,function(){return""+Fr.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),X("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),X("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)});function Yt(S,P){X(S,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),P)})}Yt("a",!0),Yt("A",!1);function _r(S,P){return P._meridiemParse}Oe("a",_r),Oe("A",_r),Oe("H",ve,Re),Oe("h",ve,tt),Oe("k",ve,tt),Oe("HH",ve,de),Oe("hh",ve,de),Oe("kk",ve,de),Oe("hmm",ee),Oe("hmmss",ue),Oe("Hmm",ee),Oe("Hmmss",ue),ke(["H","HH"],Wt),ke(["k","kk"],function(S,P,L){var q=Ie(S);P[Wt]=q===24?0:q}),ke(["a","A"],function(S,P,L){L._isPm=L._locale.isPM(S),L._meridiem=S}),ke(["h","hh"],function(S,P,L){P[Wt]=Ie(S),y(L).bigHour=!0}),ke("hmm",function(S,P,L){var q=S.length-2;P[Wt]=Ie(S.substr(0,q)),P[nt]=Ie(S.substr(q)),y(L).bigHour=!0}),ke("hmmss",function(S,P,L){var q=S.length-4,Q=S.length-2;P[Wt]=Ie(S.substr(0,q)),P[nt]=Ie(S.substr(q,2)),P[an]=Ie(S.substr(Q)),y(L).bigHour=!0}),ke("Hmm",function(S,P,L){var q=S.length-2;P[Wt]=Ie(S.substr(0,q)),P[nt]=Ie(S.substr(q))}),ke("Hmmss",function(S,P,L){var q=S.length-4,Q=S.length-2;P[Wt]=Ie(S.substr(0,q)),P[nt]=Ie(S.substr(q,2)),P[an]=Ie(S.substr(Q))});function ko(S){return(S+"").toLowerCase().charAt(0)==="p"}var ms=/[ap]\.?m?\.?/i,Qe=Rr("Hours",!0);function Xt(S,P,L){return S>11?L?"pm":"PM":L?"am":"AM"}var fr={calendar:R,longDateFormat:xe,invalidDate:V,ordinal:ze,dayOfMonthOrdinalParse:et,relativeTime:mt,months:_u,monthsShort:Ql,week:Lt,weekdays:Fp,weekdaysMin:Ct,weekdaysShort:Pe,meridiemParse:ms},fn={},Ui={},Wi;function kr(S,P){var L,q=Math.min(S.length,P.length);for(L=0;L<q;L+=1)if(S[L]!==P[L])return L;return q}function ML(S){return S&&S.toLowerCase().replace("_","-")}function zye(S){for(var P=0,L,q,Q,ye;P<S.length;){for(ye=ML(S[P]).split("-"),L=ye.length,q=ML(S[P+1]),q=q?q.split("-"):null;L>0;){if(Q=i1(ye.slice(0,L).join("-")),Q)return Q;if(q&&q.length>=L&&kr(ye,q)>=L-1)break;L--}P++}return Wi}function Uye(S){return!!(S&&S.match("^[^/\\\\]*$"))}function i1(S){var P=null,L;if(fn[S]===void 0&&n&&n.exports&&Uye(S))try{P=Wi._abbr,L=qa,L("./locale/"+S),Iu(P)}catch{fn[S]=null}return fn[S]}function Iu(S,P){var L;return S&&(u(P)?L=Zl(S):L=JE(S,P),L?Wi=L:typeof console<"u"&&console.warn&&console.warn("Locale "+S+" not found. Did you forget to load it?")),Wi._abbr}function JE(S,P){if(P!==null){var L,q=fr;if(P.abbr=S,fn[S]!=null)F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),q=fn[S]._config;else if(P.parentLocale!=null)if(fn[P.parentLocale]!=null)q=fn[P.parentLocale]._config;else if(L=i1(P.parentLocale),L!=null)q=L._config;else return Ui[P.parentLocale]||(Ui[P.parentLocale]=[]),Ui[P.parentLocale].push({name:S,config:P}),null;return fn[S]=new j(D(q,P)),Ui[S]&&Ui[S].forEach(function(Q){JE(Q.name,Q.config)}),Iu(S),fn[S]}else return delete fn[S],null}function Wye(S,P){if(P!=null){var L,q,Q=fr;fn[S]!=null&&fn[S].parentLocale!=null?fn[S].set(D(fn[S]._config,P)):(q=i1(S),q!=null&&(Q=q._config),P=D(Q,P),q==null&&(P.abbr=S),L=new j(P),L.parentLocale=fn[S],fn[S]=L),Iu(S)}else fn[S]!=null&&(fn[S].parentLocale!=null?(fn[S]=fn[S].parentLocale,S===Iu()&&Iu(S)):fn[S]!=null&&delete fn[S]);return fn[S]}function Zl(S){var P;if(S&&S._locale&&S._locale._abbr&&(S=S._locale._abbr),!S)return Wi;if(!o(S)){if(P=i1(S),P)return P;S=[S]}return zye(S)}function qye(){return N(fn)}function ZE(S){var P,L=S._a;return L&&y(S).overflow===-2&&(P=L[zt]<0||L[zt]>11?zt:L[tn]<1||L[tn]>Xl(L[Ut],L[zt])?tn:L[Wt]<0||L[Wt]>24||L[Wt]===24&&(L[nt]!==0||L[an]!==0||L[Qn]!==0)?Wt:L[nt]<0||L[nt]>59?nt:L[an]<0||L[an]>59?an:L[Qn]<0||L[Qn]>999?Qn:-1,y(S)._overflowDayOfYear&&(P<Ut||P>tn)&&(P=tn),y(S)._overflowWeeks&&P===-1&&(P=ln),y(S)._overflowWeekday&&P===-1&&(P=qs),y(S).overflow=P),S}var Hye=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gye=/Z|[+-]\d\d(?::?\d\d)?/,s1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],e6=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yye=/^\/?Date\((-?\d+)/i,Kye=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xye={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function OL(S){var P,L,q=S._i,Q=Hye.exec(q)||Vye.exec(q),ye,Ne,vt,Ht,cn=s1.length,qi=e6.length;if(Q){for(y(S).iso=!0,P=0,L=cn;P<L;P++)if(s1[P][1].exec(Q[1])){Ne=s1[P][0],ye=s1[P][2]!==!1;break}if(Ne==null){S._isValid=!1;return}if(Q[3]){for(P=0,L=qi;P<L;P++)if(e6[P][1].exec(Q[3])){vt=(Q[2]||" ")+e6[P][0];break}if(vt==null){S._isValid=!1;return}}if(!ye&&vt!=null){S._isValid=!1;return}if(Q[4])if(Gye.exec(Q[4]))Ht="Z";else{S._isValid=!1;return}S._f=Ne+(vt||"")+(Ht||""),n6(S)}else S._isValid=!1}function Qye(S,P,L,q,Q,ye){var Ne=[Jye(S),Ql.indexOf(P),parseInt(L,10),parseInt(q,10),parseInt(Q,10)];return ye&&Ne.push(parseInt(ye,10)),Ne}function Jye(S){var P=parseInt(S,10);return P<=49?2e3+P:P<=999?1900+P:P}function Zye(S){return S.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function eve(S,P,L){if(S){var q=Pe.indexOf(S),Q=new Date(P[0],P[1],P[2]).getDay();if(q!==Q)return y(L).weekdayMismatch=!0,L._isValid=!1,!1}return!0}function tve(S,P,L){if(S)return Xye[S];if(P)return 0;var q=parseInt(L,10),Q=q%100,ye=(q-Q)/100;return ye*60+Q}function DL(S){var P=Kye.exec(Zye(S._i)),L;if(P){if(L=Qye(P[4],P[3],P[2],P[5],P[6],P[7]),!eve(P[1],L,S))return;S._a=L,S._tzm=tve(P[8],P[9],P[10]),S._d=Ka.apply(null,S._a),S._d.setUTCMinutes(S._d.getUTCMinutes()-S._tzm),y(S).rfc2822=!0}else S._isValid=!1}function nve(S){var P=Yye.exec(S._i);if(P!==null){S._d=new Date(+P[1]);return}if(OL(S),S._isValid===!1)delete S._isValid;else return;if(DL(S),S._isValid===!1)delete S._isValid;else return;S._strict?S._isValid=!1:i.createFromInputFallback(S)}i.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(S){S._d=new Date(S._i+(S._useUTC?" UTC":""))});function $p(S,P,L){return S??P??L}function rve(S){var P=new Date(i.now());return S._useUTC?[P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate()]:[P.getFullYear(),P.getMonth(),P.getDate()]}function t6(S){var P,L,q=[],Q,ye,Ne;if(!S._d){for(Q=rve(S),S._w&&S._a[tn]==null&&S._a[zt]==null&&ive(S),S._dayOfYear!=null&&(Ne=$p(S._a[Ut],Q[Ut]),(S._dayOfYear>ui(Ne)||S._dayOfYear===0)&&(y(S)._overflowDayOfYear=!0),L=Ka(Ne,0,S._dayOfYear),S._a[zt]=L.getUTCMonth(),S._a[tn]=L.getUTCDate()),P=0;P<3&&S._a[P]==null;++P)S._a[P]=q[P]=Q[P];for(;P<7;P++)S._a[P]=q[P]=S._a[P]==null?P===2?1:0:S._a[P];S._a[Wt]===24&&S._a[nt]===0&&S._a[an]===0&&S._a[Qn]===0&&(S._nextDay=!0,S._a[Wt]=0),S._d=(S._useUTC?Ka:jp).apply(null,q),ye=S._useUTC?S._d.getUTCDay():S._d.getDay(),S._tzm!=null&&S._d.setUTCMinutes(S._d.getUTCMinutes()-S._tzm),S._nextDay&&(S._a[Wt]=24),S._w&&typeof S._w.d<"u"&&S._w.d!==ye&&(y(S).weekdayMismatch=!0)}}function ive(S){var P,L,q,Q,ye,Ne,vt,Ht,cn;P=S._w,P.GG!=null||P.W!=null||P.E!=null?(ye=1,Ne=4,L=$p(P.GG,S._a[Ut],aa(Vn(),1,4).year),q=$p(P.W,1),Q=$p(P.E,1),(Q<1||Q>7)&&(Ht=!0)):(ye=S._locale._week.dow,Ne=S._locale._week.doy,cn=aa(Vn(),ye,Ne),L=$p(P.gg,S._a[Ut],cn.year),q=$p(P.w,cn.week),P.d!=null?(Q=P.d,(Q<0||Q>6)&&(Ht=!0)):P.e!=null?(Q=P.e+ye,(P.e<0||P.e>6)&&(Ht=!0)):Q=ye),q<1||q>ps(L,ye,Ne)?y(S)._overflowWeeks=!0:Ht!=null?y(S)._overflowWeekday=!0:(vt=Eu(L,q,Q,ye,Ne),S._a[Ut]=vt.year,S._dayOfYear=vt.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function n6(S){if(S._f===i.ISO_8601){OL(S);return}if(S._f===i.RFC_2822){DL(S);return}S._a=[],y(S).empty=!0;var P=""+S._i,L,q,Q,ye,Ne,vt=P.length,Ht=0,cn,qi;for(Q=J(S._f,S._locale).match(K)||[],qi=Q.length,L=0;L<qi;L++)ye=Q[L],q=(P.match(Xe(ye,S))||[])[0],q&&(Ne=P.substr(0,P.indexOf(q)),Ne.length>0&&y(S).unusedInput.push(Ne),P=P.slice(P.indexOf(q)+q.length),Ht+=q.length),G[ye]?(q?y(S).empty=!1:y(S).unusedTokens.push(ye),gt(ye,q,S)):S._strict&&!q&&y(S).unusedTokens.push(ye);y(S).charsLeftOver=vt-Ht,P.length>0&&y(S).unusedInput.push(P),S._a[Wt]<=12&&y(S).bigHour===!0&&S._a[Wt]>0&&(y(S).bigHour=void 0),y(S).parsedDateParts=S._a.slice(0),y(S).meridiem=S._meridiem,S._a[Wt]=sve(S._locale,S._a[Wt],S._meridiem),cn=y(S).era,cn!==null&&(S._a[Ut]=S._locale.erasConvertYear(cn,S._a[Ut])),t6(S),ZE(S)}function sve(S,P,L){var q;return L==null?P:S.meridiemHour!=null?S.meridiemHour(P,L):(S.isPM!=null&&(q=S.isPM(L),q&&P<12&&(P+=12),!q&&P===12&&(P=0)),P)}function ove(S){var P,L,q,Q,ye,Ne,vt=!1,Ht=S._f.length;if(Ht===0){y(S).invalidFormat=!0,S._d=new Date(NaN);return}for(Q=0;Q<Ht;Q++)ye=0,Ne=!1,P=C({},S),S._useUTC!=null&&(P._useUTC=S._useUTC),P._f=S._f[Q],n6(P),w(P)&&(Ne=!0),ye+=y(P).charsLeftOver,ye+=y(P).unusedTokens.length*10,y(P).score=ye,vt?ye<q&&(q=ye,L=P):(q==null||ye<q||Ne)&&(q=ye,L=P,Ne&&(vt=!0));p(S,L||P)}function ave(S){if(!S._d){var P=Ye(S._i),L=P.day===void 0?P.date:P.day;S._a=f([P.year,P.month,L,P.hour,P.minute,P.second,P.millisecond],function(q){return q&&parseInt(q,10)}),t6(S)}}function lve(S){var P=new E(ZE(RL(S)));return P._nextDay&&(P.add(1,"d"),P._nextDay=void 0),P}function RL(S){var P=S._i,L=S._f;return S._locale=S._locale||Zl(S._l),P===null||L===void 0&&P===""?_({nullInput:!0}):(typeof P=="string"&&(S._i=P=S._locale.preparse(P)),T(P)?new E(ZE(P)):(h(P)?S._d=P:o(L)?ove(S):L?n6(S):cve(S),w(S)||(S._d=null),S))}function cve(S){var P=S._i;u(P)?S._d=new Date(i.now()):h(P)?S._d=new Date(P.valueOf()):typeof P=="string"?nve(S):o(P)?(S._a=f(P.slice(0),function(L){return parseInt(L,10)}),t6(S)):a(P)?ave(S):d(P)?S._d=new Date(P):i.createFromInputFallback(S)}function NL(S,P,L,q,Q){var ye={};return(P===!0||P===!1)&&(q=P,P=void 0),(L===!0||L===!1)&&(q=L,L=void 0),(a(S)&&c(S)||o(S)&&S.length===0)&&(S=void 0),ye._isAMomentObject=!0,ye._useUTC=ye._isUTC=Q,ye._l=L,ye._i=S,ye._f=P,ye._strict=q,lve(ye)}function Vn(S,P,L,q){return NL(S,P,L,q,!1)}var uve=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var S=Vn.apply(null,arguments);return this.isValid()&&S.isValid()?S<this?this:S:_()}),dve=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var S=Vn.apply(null,arguments);return this.isValid()&&S.isValid()?S>this?this:S:_()});function jL(S,P){var L,q;if(P.length===1&&o(P[0])&&(P=P[0]),!P.length)return Vn();for(L=P[0],q=1;q<P.length;++q)(!P[q].isValid()||P[q][S](L))&&(L=P[q]);return L}function hve(){var S=[].slice.call(arguments,0);return jL("isBefore",S)}function fve(){var S=[].slice.call(arguments,0);return jL("isAfter",S)}var pve=function(){return Date.now?Date.now():+new Date},_b=["year","quarter","month","week","day","hour","minute","second","millisecond"];function mve(S){var P,L=!1,q,Q=_b.length;for(P in S)if(l(S,P)&&!(Cn.call(_b,P)!==-1&&(S[P]==null||!isNaN(S[P]))))return!1;for(q=0;q<Q;++q)if(S[_b[q]]){if(L)return!1;parseFloat(S[_b[q]])!==Ie(S[_b[q]])&&(L=!0)}return!0}function gve(){return this._isValid}function bve(){return la(NaN)}function o1(S){var P=Ye(S),L=P.year||0,q=P.quarter||0,Q=P.month||0,ye=P.week||P.isoWeek||0,Ne=P.day||0,vt=P.hour||0,Ht=P.minute||0,cn=P.second||0,qi=P.millisecond||0;this._isValid=mve(P),this._milliseconds=+qi+cn*1e3+Ht*6e4+vt*1e3*60*60,this._days=+Ne+ye*7,this._months=+Q+q*3+L*12,this._data={},this._locale=Zl(),this._bubble()}function a1(S){return S instanceof o1}function r6(S){return S<0?Math.round(-1*S)*-1:Math.round(S)}function yve(S,P,L){var q=Math.min(S.length,P.length),Q=Math.abs(S.length-P.length),ye=0,Ne;for(Ne=0;Ne<q;Ne++)Ie(S[Ne])!==Ie(P[Ne])&&ye++;return ye+Q}function BL(S,P){X(S,0,0,function(){var L=this.utcOffset(),q="+";return L<0&&(L=-L,q="-"),q+U(~~(L/60),2)+P+U(~~L%60,2)})}BL("Z",":"),BL("ZZ",""),Oe("Z",ie),Oe("ZZ",ie),ke(["Z","ZZ"],function(S,P,L){L._useUTC=!0,L._tzm=i6(ie,S)});var vve=/([\+\-]|\d\d)/gi;function i6(S,P){var L=(P||"").match(S),q,Q,ye;return L===null?null:(q=L[L.length-1]||[],Q=(q+"").match(vve)||["-",0,0],ye=+(Q[1]*60)+Ie(Q[2]),ye===0?0:Q[0]==="+"?ye:-ye)}function s6(S,P){var L,q;return P._isUTC?(L=P.clone(),q=(T(S)||h(S)?S.valueOf():Vn(S).valueOf())-L.valueOf(),L._d.setTime(L._d.valueOf()+q),i.updateOffset(L,!1),L):Vn(S).local()}function o6(S){return-Math.round(S._d.getTimezoneOffset())}i.updateOffset=function(){};function wve(S,P,L){var q=this._offset||0,Q;if(!this.isValid())return S!=null?this:NaN;if(S!=null){if(typeof S=="string"){if(S=i6(ie,S),S===null)return this}else Math.abs(S)<16&&!L&&(S=S*60);return!this._isUTC&&P&&(Q=o6(this)),this._offset=S,this._isUTC=!0,Q!=null&&this.add(Q,"m"),q!==S&&(!P||this._changeInProgress?zL(this,la(S-q,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?q:o6(this)}function xve(S,P){return S!=null?(typeof S!="string"&&(S=-S),this.utcOffset(S,P),this):-this.utcOffset()}function _ve(S){return this.utcOffset(0,S)}function kve(S){return this._isUTC&&(this.utcOffset(0,S),this._isUTC=!1,S&&this.subtract(o6(this),"m")),this}function Sve(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var S=i6(Se,this._i);S!=null?this.utcOffset(S):this.utcOffset(0,!0)}return this}function Cve(S){return this.isValid()?(S=S?Vn(S).utcOffset():0,(this.utcOffset()-S)%60===0):!1}function Eve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ave(){if(!u(this._isDSTShifted))return this._isDSTShifted;var S={},P;return C(S,this),S=RL(S),S._a?(P=S._isUTC?m(S._a):Vn(S._a),this._isDSTShifted=this.isValid()&&yve(S._a,P.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tve(){return this.isValid()?!this._isUTC:!1}function Pve(){return this.isValid()?this._isUTC:!1}function LL(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ive=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Mve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function la(S,P){var L=S,q=null,Q,ye,Ne;return a1(S)?L={ms:S._milliseconds,d:S._days,M:S._months}:d(S)||!isNaN(+S)?(L={},P?L[P]=+S:L.milliseconds=+S):(q=Ive.exec(S))?(Q=q[1]==="-"?-1:1,L={y:0,d:Ie(q[tn])*Q,h:Ie(q[Wt])*Q,m:Ie(q[nt])*Q,s:Ie(q[an])*Q,ms:Ie(r6(q[Qn]*1e3))*Q}):(q=Mve.exec(S))?(Q=q[1]==="-"?-1:1,L={y:ph(q[2],Q),M:ph(q[3],Q),w:ph(q[4],Q),d:ph(q[5],Q),h:ph(q[6],Q),m:ph(q[7],Q),s:ph(q[8],Q)}):L==null?L={}:typeof L=="object"&&("from"in L||"to"in L)&&(Ne=Ove(Vn(L.from),Vn(L.to)),L={},L.ms=Ne.milliseconds,L.M=Ne.months),ye=new o1(L),a1(S)&&l(S,"_locale")&&(ye._locale=S._locale),a1(S)&&l(S,"_isValid")&&(ye._isValid=S._isValid),ye}la.fn=o1.prototype,la.invalid=bve;function ph(S,P){var L=S&&parseFloat(S.replace(",","."));return(isNaN(L)?0:L)*P}function FL(S,P){var L={};return L.months=P.month()-S.month()+(P.year()-S.year())*12,S.clone().add(L.months,"M").isAfter(P)&&--L.months,L.milliseconds=+P-+S.clone().add(L.months,"M"),L}function Ove(S,P){var L;return S.isValid()&&P.isValid()?(P=s6(P,S),S.isBefore(P)?L=FL(S,P):(L=FL(P,S),L.milliseconds=-L.milliseconds,L.months=-L.months),L):{milliseconds:0,months:0}}function $L(S,P){return function(L,q){var Q,ye;return q!==null&&!isNaN(+q)&&(F(P,"moment()."+P+"(period, number) is deprecated. Please use moment()."+P+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ye=L,L=q,q=ye),Q=la(L,q),zL(this,Q,S),this}}function zL(S,P,L,q){var Q=P._milliseconds,ye=r6(P._days),Ne=r6(P._months);S.isValid()&&(q=q??!0,Ne&&Su(S,di(S,"Month")+Ne*L),ye&&Hs(S,"Date",di(S,"Date")+ye*L),Q&&S._d.setTime(S._d.valueOf()+Q*L),q&&i.updateOffset(S,ye||Ne))}var Dve=$L(1,"add"),Rve=$L(-1,"subtract");function UL(S){return typeof S=="string"||S instanceof String}function Nve(S){return T(S)||h(S)||UL(S)||d(S)||Bve(S)||jve(S)||S===null||S===void 0}function jve(S){var P=a(S)&&!c(S),L=!1,q=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Q,ye,Ne=q.length;for(Q=0;Q<Ne;Q+=1)ye=q[Q],L=L||l(S,ye);return P&&L}function Bve(S){var P=o(S),L=!1;return P&&(L=S.filter(function(q){return!d(q)&&UL(S)}).length===0),P&&L}function Lve(S){var P=a(S)&&!c(S),L=!1,q=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Q,ye;for(Q=0;Q<q.length;Q+=1)ye=q[Q],L=L||l(S,ye);return P&&L}function Fve(S,P){var L=S.diff(P,"days",!0);return L<-6?"sameElse":L<-1?"lastWeek":L<0?"lastDay":L<1?"sameDay":L<2?"nextDay":L<7?"nextWeek":"sameElse"}function $ve(S,P){arguments.length===1&&(arguments[0]?Nve(arguments[0])?(S=arguments[0],P=void 0):Lve(arguments[0])&&(P=arguments[0],S=void 0):(S=void 0,P=void 0));var L=S||Vn(),q=s6(L,this).startOf("day"),Q=i.calendarFormat(this,q)||"sameElse",ye=P&&($(P[Q])?P[Q].call(this,L):P[Q]);return this.format(ye||this.localeData().calendar(Q,this,Vn(L)))}function zve(){return new E(this)}function Uve(S,P){var L=T(S)?S:Vn(S);return this.isValid()&&L.isValid()?(P=lt(P)||"millisecond",P==="millisecond"?this.valueOf()>L.valueOf():L.valueOf()<this.clone().startOf(P).valueOf()):!1}function Wve(S,P){var L=T(S)?S:Vn(S);return this.isValid()&&L.isValid()?(P=lt(P)||"millisecond",P==="millisecond"?this.valueOf()<L.valueOf():this.clone().endOf(P).valueOf()<L.valueOf()):!1}function qve(S,P,L,q){var Q=T(S)?S:Vn(S),ye=T(P)?P:Vn(P);return this.isValid()&&Q.isValid()&&ye.isValid()?(q=q||"()",(q[0]==="("?this.isAfter(Q,L):!this.isBefore(Q,L))&&(q[1]===")"?this.isBefore(ye,L):!this.isAfter(ye,L))):!1}function Hve(S,P){var L=T(S)?S:Vn(S),q;return this.isValid()&&L.isValid()?(P=lt(P)||"millisecond",P==="millisecond"?this.valueOf()===L.valueOf():(q=L.valueOf(),this.clone().startOf(P).valueOf()<=q&&q<=this.clone().endOf(P).valueOf())):!1}function Vve(S,P){return this.isSame(S,P)||this.isAfter(S,P)}function Gve(S,P){return this.isSame(S,P)||this.isBefore(S,P)}function Yve(S,P,L){var q,Q,ye;if(!this.isValid())return NaN;if(q=s6(S,this),!q.isValid())return NaN;switch(Q=(q.utcOffset()-this.utcOffset())*6e4,P=lt(P),P){case"year":ye=l1(this,q)/12;break;case"month":ye=l1(this,q);break;case"quarter":ye=l1(this,q)/3;break;case"second":ye=(this-q)/1e3;break;case"minute":ye=(this-q)/6e4;break;case"hour":ye=(this-q)/36e5;break;case"day":ye=(this-q-Q)/864e5;break;case"week":ye=(this-q-Q)/6048e5;break;default:ye=this-q}return L?ye:ot(ye)}function l1(S,P){if(S.date()<P.date())return-l1(P,S);var L=(P.year()-S.year())*12+(P.month()-S.month()),q=S.clone().add(L,"months"),Q,ye;return P-q<0?(Q=S.clone().add(L-1,"months"),ye=(P-q)/(q-Q)):(Q=S.clone().add(L+1,"months"),ye=(P-q)/(Q-q)),-(L+ye)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Kve(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xve(S){if(!this.isValid())return null;var P=S!==!0,L=P?this.clone().utc():this;return L.year()<0||L.year()>9999?le(L,P?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?P?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",le(L,"Z")):le(L,P?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qve(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var S="moment",P="",L,q,Q,ye;return this.isLocal()||(S=this.utcOffset()===0?"moment.utc":"moment.parseZone",P="Z"),L="["+S+'("]',q=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Q="-MM-DD[T]HH:mm:ss.SSS",ye=P+'[")]',this.format(L+q+Q+ye)}function Jve(S){S||(S=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var P=le(this,S);return this.localeData().postformat(P)}function Zve(S,P){return this.isValid()&&(T(S)&&S.isValid()||Vn(S).isValid())?la({to:this,from:S}).locale(this.locale()).humanize(!P):this.localeData().invalidDate()}function ewe(S){return this.from(Vn(),S)}function twe(S,P){return this.isValid()&&(T(S)&&S.isValid()||Vn(S).isValid())?la({from:this,to:S}).locale(this.locale()).humanize(!P):this.localeData().invalidDate()}function nwe(S){return this.to(Vn(),S)}function WL(S){var P;return S===void 0?this._locale._abbr:(P=Zl(S),P!=null&&(this._locale=P),this)}var qL=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(S){return S===void 0?this.localeData():this.locale(S)});function HL(){return this._locale}var c1=1e3,zp=60*c1,u1=60*zp,VL=(365*400+97)*24*u1;function Up(S,P){return(S%P+P)%P}function GL(S,P,L){return S<100&&S>=0?new Date(S+400,P,L)-VL:new Date(S,P,L).valueOf()}function YL(S,P,L){return S<100&&S>=0?Date.UTC(S+400,P,L)-VL:Date.UTC(S,P,L)}function rwe(S){var P,L;if(S=lt(S),S===void 0||S==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?YL:GL,S){case"year":P=L(this.year(),0,1);break;case"quarter":P=L(this.year(),this.month()-this.month()%3,1);break;case"month":P=L(this.year(),this.month(),1);break;case"week":P=L(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":P=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":P=L(this.year(),this.month(),this.date());break;case"hour":P=this._d.valueOf(),P-=Up(P+(this._isUTC?0:this.utcOffset()*zp),u1);break;case"minute":P=this._d.valueOf(),P-=Up(P,zp);break;case"second":P=this._d.valueOf(),P-=Up(P,c1);break}return this._d.setTime(P),i.updateOffset(this,!0),this}function iwe(S){var P,L;if(S=lt(S),S===void 0||S==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?YL:GL,S){case"year":P=L(this.year()+1,0,1)-1;break;case"quarter":P=L(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":P=L(this.year(),this.month()+1,1)-1;break;case"week":P=L(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":P=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":P=L(this.year(),this.month(),this.date()+1)-1;break;case"hour":P=this._d.valueOf(),P+=u1-Up(P+(this._isUTC?0:this.utcOffset()*zp),u1)-1;break;case"minute":P=this._d.valueOf(),P+=zp-Up(P,zp)-1;break;case"second":P=this._d.valueOf(),P+=c1-Up(P,c1)-1;break}return this._d.setTime(P),i.updateOffset(this,!0),this}function swe(){return this._d.valueOf()-(this._offset||0)*6e4}function owe(){return Math.floor(this.valueOf()/1e3)}function awe(){return new Date(this.valueOf())}function lwe(){var S=this;return[S.year(),S.month(),S.date(),S.hour(),S.minute(),S.second(),S.millisecond()]}function cwe(){var S=this;return{years:S.year(),months:S.month(),date:S.date(),hours:S.hours(),minutes:S.minutes(),seconds:S.seconds(),milliseconds:S.milliseconds()}}function uwe(){return this.isValid()?this.toISOString():null}function dwe(){return w(this)}function hwe(){return p({},y(this))}function fwe(){return y(this).overflow}function pwe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr"),X("NN",0,0,"eraAbbr"),X("NNN",0,0,"eraAbbr"),X("NNNN",0,0,"eraName"),X("NNNNN",0,0,"eraNarrow"),X("y",["y",1],"yo","eraYear"),X("y",["yy",2],0,"eraYear"),X("y",["yyy",3],0,"eraYear"),X("y",["yyyy",4],0,"eraYear"),Oe("N",a6),Oe("NN",a6),Oe("NNN",a6),Oe("NNNN",Cwe),Oe("NNNNN",Ewe),ke(["N","NN","NNN","NNNN","NNNNN"],function(S,P,L,q){var Q=L._locale.erasParse(S,q,L._strict);Q?y(L).era=Q:y(L).invalidEra=S}),Oe("y",he),Oe("yy",he),Oe("yyy",he),Oe("yyyy",he),Oe("yo",Awe),ke(["y","yy","yyy","yyyy"],Ut),ke(["yo"],function(S,P,L,q){var Q;L._locale._eraYearOrdinalRegex&&(Q=S.match(L._locale._eraYearOrdinalRegex)),L._locale.eraYearOrdinalParse?P[Ut]=L._locale.eraYearOrdinalParse(S,Q):P[Ut]=parseInt(S,10)});function mwe(S,P){var L,q,Q,ye=this._eras||Zl("en")._eras;for(L=0,q=ye.length;L<q;++L){switch(typeof ye[L].since){case"string":Q=i(ye[L].since).startOf("day"),ye[L].since=Q.valueOf();break}switch(typeof ye[L].until){case"undefined":ye[L].until=1/0;break;case"string":Q=i(ye[L].until).startOf("day").valueOf(),ye[L].until=Q.valueOf();break}}return ye}function gwe(S,P,L){var q,Q,ye=this.eras(),Ne,vt,Ht;for(S=S.toUpperCase(),q=0,Q=ye.length;q<Q;++q)if(Ne=ye[q].name.toUpperCase(),vt=ye[q].abbr.toUpperCase(),Ht=ye[q].narrow.toUpperCase(),L)switch(P){case"N":case"NN":case"NNN":if(vt===S)return ye[q];break;case"NNNN":if(Ne===S)return ye[q];break;case"NNNNN":if(Ht===S)return ye[q];break}else if([Ne,vt,Ht].indexOf(S)>=0)return ye[q]}function bwe(S,P){var L=S.since<=S.until?1:-1;return P===void 0?i(S.since).year():i(S.since).year()+(P-S.offset)*L}function ywe(){var S,P,L,q=this.localeData().eras();for(S=0,P=q.length;S<P;++S)if(L=this.clone().startOf("day").valueOf(),q[S].since<=L&&L<=q[S].until||q[S].until<=L&&L<=q[S].since)return q[S].name;return""}function vwe(){var S,P,L,q=this.localeData().eras();for(S=0,P=q.length;S<P;++S)if(L=this.clone().startOf("day").valueOf(),q[S].since<=L&&L<=q[S].until||q[S].until<=L&&L<=q[S].since)return q[S].narrow;return""}function wwe(){var S,P,L,q=this.localeData().eras();for(S=0,P=q.length;S<P;++S)if(L=this.clone().startOf("day").valueOf(),q[S].since<=L&&L<=q[S].until||q[S].until<=L&&L<=q[S].since)return q[S].abbr;return""}function xwe(){var S,P,L,q,Q=this.localeData().eras();for(S=0,P=Q.length;S<P;++S)if(L=Q[S].since<=Q[S].until?1:-1,q=this.clone().startOf("day").valueOf(),Q[S].since<=q&&q<=Q[S].until||Q[S].until<=q&&q<=Q[S].since)return(this.year()-i(Q[S].since).year())*L+Q[S].offset;return this.year()}function _we(S){return l(this,"_erasNameRegex")||l6.call(this),S?this._erasNameRegex:this._erasRegex}function kwe(S){return l(this,"_erasAbbrRegex")||l6.call(this),S?this._erasAbbrRegex:this._erasRegex}function Swe(S){return l(this,"_erasNarrowRegex")||l6.call(this),S?this._erasNarrowRegex:this._erasRegex}function a6(S,P){return P.erasAbbrRegex(S)}function Cwe(S,P){return P.erasNameRegex(S)}function Ewe(S,P){return P.erasNarrowRegex(S)}function Awe(S,P){return P._eraYearOrdinalRegex||he}function l6(){var S=[],P=[],L=[],q=[],Q,ye,Ne,vt,Ht,cn=this.eras();for(Q=0,ye=cn.length;Q<ye;++Q)Ne=Ve(cn[Q].name),vt=Ve(cn[Q].abbr),Ht=Ve(cn[Q].narrow),P.push(Ne),S.push(vt),L.push(Ht),q.push(Ne),q.push(vt),q.push(Ht);this._erasRegex=new RegExp("^("+q.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+P.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+S.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+L.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100}),X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function d1(S,P){X(0,[S,S.length],0,P)}d1("gggg","weekYear"),d1("ggggg","weekYear"),d1("GGGG","isoWeekYear"),d1("GGGGG","isoWeekYear"),Oe("G",Te),Oe("g",Te),Oe("GG",ve,de),Oe("gg",ve,de),Oe("GGGG",Ce,oe),Oe("gggg",Ce,oe),Oe("GGGGG",Me,pe),Oe("ggggg",Me,pe),_t(["gggg","ggggg","GGGG","GGGGG"],function(S,P,L,q){P[q.substr(0,2)]=Ie(S)}),_t(["gg","GG"],function(S,P,L,q){P[q]=i.parseTwoDigitYear(S)});function Twe(S){return KL.call(this,S,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Pwe(S){return KL.call(this,S,this.isoWeek(),this.isoWeekday(),1,4)}function Iwe(){return ps(this.year(),1,4)}function Mwe(){return ps(this.isoWeekYear(),1,4)}function Owe(){var S=this.localeData()._week;return ps(this.year(),S.dow,S.doy)}function Dwe(){var S=this.localeData()._week;return ps(this.weekYear(),S.dow,S.doy)}function KL(S,P,L,q,Q){var ye;return S==null?aa(this,q,Q).year:(ye=ps(S,q,Q),P>ye&&(P=ye),Rwe.call(this,S,P,L,q,Q))}function Rwe(S,P,L,q,Q){var ye=Eu(S,P,L,q,Q),Ne=Ka(ye.year,0,ye.dayOfYear);return this.year(Ne.getUTCFullYear()),this.month(Ne.getUTCMonth()),this.date(Ne.getUTCDate()),this}X("Q",0,"Qo","quarter"),Oe("Q",W),ke("Q",function(S,P){P[zt]=(Ie(S)-1)*3});function Nwe(S){return S==null?Math.ceil((this.month()+1)/3):this.month((S-1)*3+this.month()%3)}X("D",["DD",2],"Do","date"),Oe("D",ve,tt),Oe("DD",ve,de),Oe("Do",function(S,P){return S?P._dayOfMonthOrdinalParse||P._ordinalParse:P._dayOfMonthOrdinalParseLenient}),ke(["D","DD"],tn),ke("Do",function(S,P){P[tn]=Ie(S.match(ve)[0])});var XL=Rr("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear"),Oe("DDD",ce),Oe("DDDD",me),ke(["DDD","DDDD"],function(S,P,L){L._dayOfYear=Ie(S)});function jwe(S){var P=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return S==null?P:this.add(S-P,"d")}X("m",["mm",2],0,"minute"),Oe("m",ve,Re),Oe("mm",ve,de),ke(["m","mm"],nt);var Bwe=Rr("Minutes",!1);X("s",["ss",2],0,"second"),Oe("s",ve,Re),Oe("ss",ve,de),ke(["s","ss"],an);var Lwe=Rr("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)}),X(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),X(0,["SSS",3],0,"millisecond"),X(0,["SSSS",4],0,function(){return this.millisecond()*10}),X(0,["SSSSS",5],0,function(){return this.millisecond()*100}),X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Oe("S",ce,W),Oe("SS",ce,de),Oe("SSS",ce,me);var Mu,QL;for(Mu="SSSS";Mu.length<=9;Mu+="S")Oe(Mu,he);function Fwe(S,P){P[Qn]=Ie(("0."+S)*1e3)}for(Mu="S";Mu.length<=9;Mu+="S")ke(Mu,Fwe);QL=Rr("Milliseconds",!1),X("z",0,0,"zoneAbbr"),X("zz",0,0,"zoneName");function $we(){return this._isUTC?"UTC":""}function zwe(){return this._isUTC?"Coordinated Universal Time":""}var it=E.prototype;it.add=Dve,it.calendar=$ve,it.clone=zve,it.diff=Yve,it.endOf=iwe,it.format=Jve,it.from=Zve,it.fromNow=ewe,it.to=twe,it.toNow=nwe,it.get=Mp,it.invalidAt=fwe,it.isAfter=Uve,it.isBefore=Wve,it.isBetween=qve,it.isSame=Hve,it.isSameOrAfter=Vve,it.isSameOrBefore=Gve,it.isValid=dwe,it.lang=qL,it.locale=WL,it.localeData=HL,it.max=dve,it.min=uve,it.parsingFlags=hwe,it.set=Op,it.startOf=rwe,it.subtract=Rve,it.toArray=lwe,it.toObject=cwe,it.toDate=awe,it.toISOString=Xve,it.inspect=Qve,typeof Symbol<"u"&&Symbol.for!=null&&(it[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),it.toJSON=uwe,it.toString=Kve,it.unix=owe,it.valueOf=swe,it.creationData=pwe,it.eraName=ywe,it.eraNarrow=vwe,it.eraAbbr=wwe,it.eraYear=xwe,it.year=wo,it.isLeapYear=oa,it.weekYear=Twe,it.isoWeekYear=Pwe,it.quarter=it.quarters=Nwe,it.month=uh,it.daysInMonth=dh,it.week=it.weeks=Au,it.isoWeek=it.isoWeeks=Tu,it.weeksInYear=Owe,it.weeksInWeekYear=Dwe,it.isoWeeksInYear=Iwe,it.isoWeeksInISOWeekYear=Mwe,it.date=XL,it.day=it.days=At,it.weekday=Nt,it.isoWeekday=qt,it.dayOfYear=jwe,it.hour=it.hours=Qe,it.minute=it.minutes=Bwe,it.second=it.seconds=Lwe,it.millisecond=it.milliseconds=QL,it.utcOffset=wve,it.utc=_ve,it.local=kve,it.parseZone=Sve,it.hasAlignedHourOffset=Cve,it.isDST=Eve,it.isLocal=Tve,it.isUtcOffset=Pve,it.isUtc=LL,it.isUTC=LL,it.zoneAbbr=$we,it.zoneName=zwe,it.dates=I("dates accessor is deprecated. Use date instead.",XL),it.months=I("months accessor is deprecated. Use month instead",uh),it.years=I("years accessor is deprecated. Use year instead",wo),it.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",xve),it.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ave);function Uwe(S){return Vn(S*1e3)}function Wwe(){return Vn.apply(null,arguments).parseZone()}function JL(S){return S}var wn=j.prototype;wn.calendar=H,wn.longDateFormat=ge,wn.invalidDate=we,wn.ordinal=$e,wn.preparse=JL,wn.postformat=JL,wn.relativeTime=Ue,wn.pastFuture=Ke,wn.set=z,wn.eras=mwe,wn.erasParse=gwe,wn.erasConvertYear=bwe,wn.erasAbbrRegex=kwe,wn.erasNameRegex=_we,wn.erasNarrowRegex=Swe,wn.months=Jn,wn.monthsShort=Kr,wn.monthsParse=Np,wn.monthsRegex=fh,wn.monthsShortRegex=hh,wn.week=Bp,wn.firstDayOfYear=_o,wn.firstDayOfWeek=xo,wn.weekdays=Ee,wn.weekdaysMin=qe,wn.weekdaysShort=Ge,wn.weekdaysParse=Le,wn.weekdaysRegex=ar,wn.weekdaysShortRegex=hi,wn.weekdaysMinRegex=kn,wn.isPM=ko,wn.meridiem=Xt;function h1(S,P,L,q){var Q=Zl(),ye=m().set(q,P);return Q[L](ye,S)}function ZL(S,P,L){if(d(S)&&(P=S,S=void 0),S=S||"",P!=null)return h1(S,P,L,"month");var q,Q=[];for(q=0;q<12;q++)Q[q]=h1(S,q,L,"month");return Q}function c6(S,P,L,q){typeof S=="boolean"?(d(P)&&(L=P,P=void 0),P=P||""):(P=S,L=P,S=!1,d(P)&&(L=P,P=void 0),P=P||"");var Q=Zl(),ye=S?Q._week.dow:0,Ne,vt=[];if(L!=null)return h1(P,(L+ye)%7,q,"day");for(Ne=0;Ne<7;Ne++)vt[Ne]=h1(P,(Ne+ye)%7,q,"day");return vt}function qwe(S,P){return ZL(S,P,"months")}function Hwe(S,P){return ZL(S,P,"monthsShort")}function Vwe(S,P,L){return c6(S,P,L,"weekdays")}function Gwe(S,P,L){return c6(S,P,L,"weekdaysShort")}function Ywe(S,P,L){return c6(S,P,L,"weekdaysMin")}Iu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(S){var P=S%10,L=Ie(S%100/10)===1?"th":P===1?"st":P===2?"nd":P===3?"rd":"th";return S+L}}),i.lang=I("moment.lang is deprecated. Use moment.locale instead.",Iu),i.langData=I("moment.langData is deprecated. Use moment.localeData instead.",Zl);var ec=Math.abs;function Kwe(){var S=this._data;return this._milliseconds=ec(this._milliseconds),this._days=ec(this._days),this._months=ec(this._months),S.milliseconds=ec(S.milliseconds),S.seconds=ec(S.seconds),S.minutes=ec(S.minutes),S.hours=ec(S.hours),S.months=ec(S.months),S.years=ec(S.years),this}function eF(S,P,L,q){var Q=la(P,L);return S._milliseconds+=q*Q._milliseconds,S._days+=q*Q._days,S._months+=q*Q._months,S._bubble()}function Xwe(S,P){return eF(this,S,P,1)}function Qwe(S,P){return eF(this,S,P,-1)}function tF(S){return S<0?Math.floor(S):Math.ceil(S)}function Jwe(){var S=this._milliseconds,P=this._days,L=this._months,q=this._data,Q,ye,Ne,vt,Ht;return S>=0&&P>=0&&L>=0||S<=0&&P<=0&&L<=0||(S+=tF(u6(L)+P)*864e5,P=0,L=0),q.milliseconds=S%1e3,Q=ot(S/1e3),q.seconds=Q%60,ye=ot(Q/60),q.minutes=ye%60,Ne=ot(ye/60),q.hours=Ne%24,P+=ot(Ne/24),Ht=ot(nF(P)),L+=Ht,P-=tF(u6(Ht)),vt=ot(L/12),L%=12,q.days=P,q.months=L,q.years=vt,this}function nF(S){return S*4800/146097}function u6(S){return S*146097/4800}function Zwe(S){if(!this.isValid())return NaN;var P,L,q=this._milliseconds;if(S=lt(S),S==="month"||S==="quarter"||S==="year")switch(P=this._days+q/864e5,L=this._months+nF(P),S){case"month":return L;case"quarter":return L/3;case"year":return L/12}else switch(P=this._days+Math.round(u6(this._months)),S){case"week":return P/7+q/6048e5;case"day":return P+q/864e5;case"hour":return P*24+q/36e5;case"minute":return P*1440+q/6e4;case"second":return P*86400+q/1e3;case"millisecond":return Math.floor(P*864e5)+q;default:throw new Error("Unknown unit "+S)}}function tc(S){return function(){return this.as(S)}}var rF=tc("ms"),exe=tc("s"),txe=tc("m"),nxe=tc("h"),rxe=tc("d"),ixe=tc("w"),sxe=tc("M"),oxe=tc("Q"),axe=tc("y"),lxe=rF;function cxe(){return la(this)}function uxe(S){return S=lt(S),this.isValid()?this[S+"s"]():NaN}function mh(S){return function(){return this.isValid()?this._data[S]:NaN}}var dxe=mh("milliseconds"),hxe=mh("seconds"),fxe=mh("minutes"),pxe=mh("hours"),mxe=mh("days"),gxe=mh("months"),bxe=mh("years");function yxe(){return ot(this.days()/7)}var nc=Math.round,Wp={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vxe(S,P,L,q,Q){return Q.relativeTime(P||1,!!L,S,q)}function wxe(S,P,L,q){var Q=la(S).abs(),ye=nc(Q.as("s")),Ne=nc(Q.as("m")),vt=nc(Q.as("h")),Ht=nc(Q.as("d")),cn=nc(Q.as("M")),qi=nc(Q.as("w")),rc=nc(Q.as("y")),Ou=ye<=L.ss&&["s",ye]||ye<L.s&&["ss",ye]||Ne<=1&&["m"]||Ne<L.m&&["mm",Ne]||vt<=1&&["h"]||vt<L.h&&["hh",vt]||Ht<=1&&["d"]||Ht<L.d&&["dd",Ht];return L.w!=null&&(Ou=Ou||qi<=1&&["w"]||qi<L.w&&["ww",qi]),Ou=Ou||cn<=1&&["M"]||cn<L.M&&["MM",cn]||rc<=1&&["y"]||["yy",rc],Ou[2]=P,Ou[3]=+S>0,Ou[4]=q,vxe.apply(null,Ou)}function xxe(S){return S===void 0?nc:typeof S=="function"?(nc=S,!0):!1}function _xe(S,P){return Wp[S]===void 0?!1:P===void 0?Wp[S]:(Wp[S]=P,S==="s"&&(Wp.ss=P-1),!0)}function kxe(S,P){if(!this.isValid())return this.localeData().invalidDate();var L=!1,q=Wp,Q,ye;return typeof S=="object"&&(P=S,S=!1),typeof S=="boolean"&&(L=S),typeof P=="object"&&(q=Object.assign({},Wp,P),P.s!=null&&P.ss==null&&(q.ss=P.s-1)),Q=this.localeData(),ye=wxe(this,!L,q,Q),L&&(ye=Q.pastFuture(+this,ye)),Q.postformat(ye)}var d6=Math.abs;function qp(S){return(S>0)-(S<0)||+S}function f1(){if(!this.isValid())return this.localeData().invalidDate();var S=d6(this._milliseconds)/1e3,P=d6(this._days),L=d6(this._months),q,Q,ye,Ne,vt=this.asSeconds(),Ht,cn,qi,rc;return vt?(q=ot(S/60),Q=ot(q/60),S%=60,q%=60,ye=ot(L/12),L%=12,Ne=S?S.toFixed(3).replace(/\.?0+$/,""):"",Ht=vt<0?"-":"",cn=qp(this._months)!==qp(vt)?"-":"",qi=qp(this._days)!==qp(vt)?"-":"",rc=qp(this._milliseconds)!==qp(vt)?"-":"",Ht+"P"+(ye?cn+ye+"Y":"")+(L?cn+L+"M":"")+(P?qi+P+"D":"")+(Q||q||S?"T":"")+(Q?rc+Q+"H":"")+(q?rc+q+"M":"")+(S?rc+Ne+"S":"")):"P0D"}var pn=o1.prototype;pn.isValid=gve,pn.abs=Kwe,pn.add=Xwe,pn.subtract=Qwe,pn.as=Zwe,pn.asMilliseconds=rF,pn.asSeconds=exe,pn.asMinutes=txe,pn.asHours=nxe,pn.asDays=rxe,pn.asWeeks=ixe,pn.asMonths=sxe,pn.asQuarters=oxe,pn.asYears=axe,pn.valueOf=lxe,pn._bubble=Jwe,pn.clone=cxe,pn.get=uxe,pn.milliseconds=dxe,pn.seconds=hxe,pn.minutes=fxe,pn.hours=pxe,pn.days=mxe,pn.weeks=yxe,pn.months=gxe,pn.years=bxe,pn.humanize=kxe,pn.toISOString=f1,pn.toString=f1,pn.toJSON=f1,pn.locale=WL,pn.localeData=HL,pn.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",f1),pn.lang=qL,X("X",0,0,"unix"),X("x",0,0,"valueOf"),Oe("x",Te),Oe("X",re),ke("X",function(S,P,L){L._d=new Date(parseFloat(S)*1e3)}),ke("x",function(S,P,L){L._d=new Date(Ie(S))});//! moment.js
return i.version="2.30.1",s(Vn),i.fn=it,i.min=hve,i.max=fve,i.now=pve,i.utc=m,i.unix=Uwe,i.months=qwe,i.isDate=h,i.locale=Iu,i.invalid=_,i.duration=la,i.isMoment=T,i.weekdays=Vwe,i.parseZone=Wwe,i.localeData=Zl,i.isDuration=a1,i.monthsShort=Hwe,i.weekdaysMin=Ywe,i.defineLocale=JE,i.updateLocale=Wye,i.locales=qye,i.weekdaysShort=Gwe,i.normalizeUnits=lt,i.relativeTimeRounding=xxe,i.relativeTimeThreshold=_xe,i.calendarFormat=Fve,i.prototype=it,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})}(Nk)),Nk.exports}var aZe=W4.exports,OG;function lZe(){return OG||(OG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(aZe,function(r){//! moment.js locale configuration
function i(o,a,l,c){var u={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[o+" Tage",o+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[o+" Monate",o+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[o+" Jahre",o+" Jahren"]};return a?u[l][0]:u[l][1]}var s=r.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:i,mm:"%d Minuten",h:i,hh:"%d Stunden",d:i,dd:i,w:i,ww:"%d Wochen",M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})}()),W4.exports}lZe();var q4={exports:{}},cZe=q4.exports,DG;function uZe(){return DG||(DG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(cZe,function(r){//! moment.js locale configuration
var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),o=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,l=r.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return l})}()),q4.exports}uZe();var H4={exports:{}},dZe=H4.exports,RG;function hZe(){return RG||(RG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(dZe,function(r){//! moment.js locale configuration
var i=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,s=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,o=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,a=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],l=r.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:i,monthsShortStrictRegex:s,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(c,u){switch(u){case"D":return c+(c===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return c+(c===1?"er":"e");case"w":case"W":return c+(c===1?"re":"e")}},week:{dow:1,doy:4}});return l})}()),H4.exports}hZe();var V4={exports:{}},fZe=V4.exports,NG;function pZe(){return NG||(NG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(fZe,function(r){//! moment.js locale configuration
var i=r.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return i})}()),V4.exports}pZe();var G4={exports:{}},mZe=G4.exports,jG;function gZe(){return jG||(jG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(mZe,function(r){//! moment.js locale configuration
var i=r.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(s,o){return o[1]===""?1:parseInt(o[1]||s,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(s){return s===""},meridiem:function(s,o,a){return s<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(s){return s.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(s){return this.week()!==s.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(s,o){switch(o){case"y":return s===1?"":s+"";case"d":case"D":case"DDD":return s+"";default:return s}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return i})}()),G4.exports}gZe();var Y4={exports:{}},bZe=Y4.exports,BG;function yZe(){return BG||(BG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(bZe,function(r){//! moment.js locale configuration
var i="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),s="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),o=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,l=r.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(c){return c+(c===1||c===8||c>=20?"ste":"de")},week:{dow:1,doy:4}});return l})}()),Y4.exports}yZe();var K4={exports:{}},vZe=K4.exports,LG;function wZe(){return LG||(LG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(vZe,function(r){//! moment.js locale configuration
var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),s="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),o=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function a(u){return u%10<5&&u%10>1&&~~(u/10)%10!==1}function l(u,d,h){var f=u+" ";switch(h){case"ss":return f+(a(u)?"sekundy":"sekund");case"m":return d?"minuta":"minut";case"mm":return f+(a(u)?"minuty":"minut");case"h":return d?"godzina":"godzin";case"hh":return f+(a(u)?"godziny":"godzin");case"ww":return f+(a(u)?"tygodnie":"tygodni");case"MM":return f+(a(u)?"miesice":"miesicy");case"yy":return f+(a(u)?"lata":"lat")}}var c=r.defineLocale("pl",{months:function(u,d){return u?/D MMMM/.test(d)?s[u.month()]:i[u.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:l,m:l,mm:l,h:l,hh:l,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:l,M:"miesic",MM:l,y:"rok",yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return c})}()),K4.exports}wZe();var X4={exports:{}},xZe=X4.exports,FG;function _Ze(){return FG||(FG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(xZe,function(r){//! moment.js locale configuration
function i(l,c){var u=l.split("_");return c%10===1&&c%100!==11?u[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?u[1]:u[2]}function s(l,c,u){var d={ss:c?"__":"__",mm:c?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return u==="m"?c?"":"":l+" "+i(d[u],+l)}var o=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],a=r.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:o,longMonthsParse:o,shortMonthsParse:o,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},lastWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:s,m:s,mm:s,h:"",hh:s,d:"",dd:s,w:"",ww:s,M:"",MM:s,y:"",yy:s},meridiemParse:/|||/i,isPM:function(l){return/^(|)$/.test(l)},meridiem:function(l,c,u){return l<4?"":l<12?"":l<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(l,c){switch(c){case"M":case"d":case"DDD":return l+"-";case"D":return l+"-";case"w":case"W":return l+"-";default:return l}},week:{dow:1,doy:4}});return a})}()),X4.exports}_Ze();var Q4={exports:{}},kZe=Q4.exports,$G;function SZe(){return $G||($G=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(kZe,function(r){//! moment.js locale configuration
var i={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},s=r.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(o,a,l){return o<12?l?"":"":l?"s":"S"},meridiemParse:/||s|S/,isPM:function(o){return o==="s"||o==="S"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(o,a){switch(a){case"d":case"D":case"Do":case"DD":return o;default:if(o===0)return o+"'nc";var l=o%10,c=o%100-l,u=o>=100?100:null;return o+(i[l]||i[c]||i[u])}},week:{dow:1,doy:7}});return s})}()),Q4.exports}SZe();var J4={exports:{}},CZe=J4.exports,zG;function EZe(){return zG||(zG=1,function(n,e){(function(r,i){i(typeof qa=="function"?Ha():r.moment)})(CZe,function(r){//! moment.js locale configuration
function i(c,u){var d=c.split("_");return u%10===1&&u%100!==11?d[0]:u%10>=2&&u%10<=4&&(u%100<10||u%100>=20)?d[1]:d[2]}function s(c,u,d){var h={ss:u?"__":"__",mm:u?"__":"__",hh:u?"__":"__",dd:"__",MM:"__",yy:"__"};return d==="m"?u?"":"":d==="h"?u?"":"":c+" "+i(h[d],+c)}function o(c,u){var d={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},h;return c===!0?d.nominative.slice(1,7).concat(d.nominative.slice(0,1)):c?(h=/(\[[]\]) ?dddd/.test(u)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(u)?"genitive":"nominative",d[h][c.day()]):d.nominative}function a(c){return function(){return c+""+(this.hours()===11?"":"")+"] LT"}}var l=r.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:o,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:a("[ "),nextDay:a("[ "),lastDay:a("[ "),nextWeek:a("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[] dddd [").call(this);case 1:case 2:case 4:return a("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:s,m:s,mm:s,h:"",hh:s,d:"",dd:s,M:"",MM:s,y:"",yy:s},meridiemParse:/|||/,isPM:function(c){return/^(|)$/.test(c)},meridiem:function(c,u,d){return c<4?"":c<12?"":c<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(c,u){switch(u){case"M":case"d":case"DDD":case"w":case"W":return c+"-";case"D":return c+"-";default:return c}},week:{dow:1,doy:7}});return l})}()),J4.exports}EZe();var UG={},ry,WG;function wr(){if(WG)return ry;WG=1;var n=function(e){return e&&e.Math===Math&&e};return ry=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof IG=="object"&&IG)||n(typeof ry=="object"&&ry)||function(){return this}()||Function("return this")(),ry}var Y3,qG;function mn(){return qG||(qG=1,Y3=function(n){try{return!!n()}catch{return!0}}),Y3}var K3,HG;function Rx(){if(HG)return K3;HG=1;var n=mn();return K3=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),K3}var X3,VG;function CE(){if(VG)return X3;VG=1;var n=Rx(),e=Function.prototype,r=e.apply,i=e.call;return X3=typeof Reflect=="object"&&Reflect.apply||(n?i.bind(r):function(){return i.apply(r,arguments)}),X3}var Q3,GG;function vn(){if(GG)return Q3;GG=1;var n=Rx(),e=Function.prototype,r=e.call,i=n&&e.bind.bind(r,r);return Q3=n?i:function(s){return function(){return r.apply(s,arguments)}},Q3}var J3,YG;function Yl(){if(YG)return J3;YG=1;var n=vn(),e=n({}.toString),r=n("".slice);return J3=function(i){return r(e(i),8,-1)},J3}var Z3,KG;function TB(){if(KG)return Z3;KG=1;var n=Yl(),e=vn();return Z3=function(r){if(n(r)==="Function")return e(r)},Z3}var eA,XG;function li(){if(XG)return eA;XG=1;var n=typeof document=="object"&&document.all;return eA=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},eA}var tA={},nA,QG;function Dr(){if(QG)return nA;QG=1;var n=mn();return nA=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),nA}var rA,JG;function zs(){if(JG)return rA;JG=1;var n=Rx(),e=Function.prototype.call;return rA=n?e.bind(e):function(){return e.apply(e,arguments)},rA}var iA={},ZG;function EE(){if(ZG)return iA;ZG=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!n.call({1:2},1);return iA.f=r?function(s){var o=e(this,s);return!!o&&o.enumerable}:n,iA}var sA,eY;function Nx(){return eY||(eY=1,sA=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),sA}var oA,tY;function AE(){if(tY)return oA;tY=1;var n=vn(),e=mn(),r=Yl(),i=Object,s=n("".split);return oA=e(function(){return!i("z").propertyIsEnumerable(0)})?function(o){return r(o)==="String"?s(o,""):i(o)}:i,oA}var aA,nY;function jx(){return nY||(nY=1,aA=function(n){return n==null}),aA}var lA,rY;function vu(){if(rY)return lA;rY=1;var n=jx(),e=TypeError;return lA=function(r){if(n(r))throw new e("Can't call method on "+r);return r},lA}var cA,iY;function Va(){if(iY)return cA;iY=1;var n=AE(),e=vu();return cA=function(r){return n(e(r))},cA}var uA,sY;function zi(){if(sY)return uA;sY=1;var n=li();return uA=function(e){return typeof e=="object"?e!==null:n(e)},uA}var dA,oY;function Hn(){return oY||(oY=1,dA={}),dA}var hA,aY;function vo(){if(aY)return hA;aY=1;var n=Hn(),e=wr(),r=li(),i=function(s){return r(s)?s:void 0};return hA=function(s,o){return arguments.length<2?i(n[s])||i(e[s]):n[s]&&n[s][o]||e[s]&&e[s][o]},hA}var fA,lY;function Xn(){if(lY)return fA;lY=1;var n=vn();return fA=n({}.isPrototypeOf),fA}var pA,cY;function cb(){if(cY)return pA;cY=1;var n=wr(),e=n.navigator,r=e&&e.userAgent;return pA=r?String(r):"",pA}var mA,uY;function Bx(){if(uY)return mA;uY=1;var n=wr(),e=cb(),r=n.process,i=n.Deno,s=r&&r.versions||i&&i.version,o=s&&s.v8,a,l;return o&&(a=o.split("."),l=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!l&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(l=+a[1]))),mA=l,mA}var gA,dY;function ub(){if(dY)return gA;dY=1;var n=Bx(),e=mn(),r=wr(),i=r.String;return gA=!!Object.getOwnPropertySymbols&&!e(function(){var s=Symbol("symbol detection");return!i(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&n&&n<41}),gA}var bA,hY;function b0e(){if(hY)return bA;hY=1;var n=ub();return bA=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bA}var yA,fY;function Lx(){if(fY)return yA;fY=1;var n=vo(),e=li(),r=Xn(),i=b0e(),s=Object;return yA=i?function(o){return typeof o=="symbol"}:function(o){var a=n("Symbol");return e(a)&&r(a.prototype,s(o))},yA}var vA,pY;function db(){if(pY)return vA;pY=1;var n=String;return vA=function(e){try{return n(e)}catch{return"Object"}},vA}var wA,mY;function Kl(){if(mY)return wA;mY=1;var n=li(),e=db(),r=TypeError;return wA=function(i){if(n(i))return i;throw new r(e(i)+" is not a function")},wA}var xA,gY;function PB(){if(gY)return xA;gY=1;var n=Kl(),e=jx();return xA=function(r,i){var s=r[i];return e(s)?void 0:n(s)},xA}var _A,bY;function AZe(){if(bY)return _A;bY=1;var n=zs(),e=li(),r=zi(),i=TypeError;return _A=function(s,o){var a,l;if(o==="string"&&e(a=s.toString)&&!r(l=n(a,s))||e(a=s.valueOf)&&!r(l=n(a,s))||o!=="string"&&e(a=s.toString)&&!r(l=n(a,s)))return l;throw new i("Can't convert object to primitive value")},_A}var kA={exports:{}},SA,yY;function hb(){return yY||(yY=1,SA=!0),SA}var CA,vY;function TZe(){if(vY)return CA;vY=1;var n=wr(),e=Object.defineProperty;return CA=function(r,i){try{e(n,r,{value:i,configurable:!0,writable:!0})}catch{n[r]=i}return i},CA}var wY;function IB(){if(wY)return kA.exports;wY=1;var n=hb(),e=wr(),r=TZe(),i="__core-js_shared__",s=kA.exports=e[i]||r(i,{});return(s.versions||(s.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),kA.exports}var EA,xY;function fb(){if(xY)return EA;xY=1;var n=IB();return EA=function(e,r){return n[e]||(n[e]=r||{})},EA}var AA,_Y;function Us(){if(_Y)return AA;_Y=1;var n=vu(),e=Object;return AA=function(r){return e(n(r))},AA}var TA,kY;function ci(){if(kY)return TA;kY=1;var n=vn(),e=Us(),r=n({}.hasOwnProperty);return TA=Object.hasOwn||function(s,o){return r(e(s),o)},TA}var PA,SY;function TE(){if(SY)return PA;SY=1;var n=vn(),e=0,r=Math.random(),i=n(1.1.toString);return PA=function(s){return"Symbol("+(s===void 0?"":s)+")_"+i(++e+r,36)},PA}var IA,CY;function Lr(){if(CY)return IA;CY=1;var n=wr(),e=fb(),r=ci(),i=TE(),s=ub(),o=b0e(),a=n.Symbol,l=e("wks"),c=o?a.for||a:a&&a.withoutSetter||i;return IA=function(u){return r(l,u)||(l[u]=s&&r(a,u)?a[u]:c("Symbol."+u)),l[u]},IA}var MA,EY;function y0e(){if(EY)return MA;EY=1;var n=zs(),e=zi(),r=Lx(),i=PB(),s=AZe(),o=Lr(),a=TypeError,l=o("toPrimitive");return MA=function(c,u){if(!e(c)||r(c))return c;var d=i(c,l),h;if(d){if(u===void 0&&(u="default"),h=n(d,c,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),s(c,u)},MA}var OA,AY;function MB(){if(AY)return OA;AY=1;var n=y0e(),e=Lx();return OA=function(r){var i=n(r,"string");return e(i)?i:i+""},OA}var DA,TY;function v0e(){if(TY)return DA;TY=1;var n=wr(),e=zi(),r=n.document,i=e(r)&&e(r.createElement);return DA=function(s){return i?r.createElement(s):{}},DA}var RA,PY;function w0e(){if(PY)return RA;PY=1;var n=Dr(),e=mn(),r=v0e();return RA=!n&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),RA}var IY;function PE(){if(IY)return tA;IY=1;var n=Dr(),e=zs(),r=EE(),i=Nx(),s=Va(),o=MB(),a=ci(),l=w0e(),c=Object.getOwnPropertyDescriptor;return tA.f=n?c:function(d,h){if(d=s(d),h=o(h),l)try{return c(d,h)}catch{}if(a(d,h))return i(!e(r.f,d,h),d[h])},tA}var NA,MY;function PZe(){if(MY)return NA;MY=1;var n=mn(),e=li(),r=/#|\.prototype\./,i=function(c,u){var d=o[s(c)];return d===l?!0:d===a?!1:e(u)?n(u):!!u},s=i.normalize=function(c){return String(c).replace(r,".").toLowerCase()},o=i.data={},a=i.NATIVE="N",l=i.POLYFILL="P";return NA=i,NA}var jA,OY;function Fx(){if(OY)return jA;OY=1;var n=TB(),e=Kl(),r=Rx(),i=n(n.bind);return jA=function(s,o){return e(s),o===void 0?s:r?i(s,o):function(){return s.apply(o,arguments)}},jA}var BA={},LA,DY;function x0e(){if(DY)return LA;DY=1;var n=Dr(),e=mn();return LA=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),LA}var FA,RY;function wu(){if(RY)return FA;RY=1;var n=zi(),e=String,r=TypeError;return FA=function(i){if(n(i))return i;throw new r(e(i)+" is not an object")},FA}var NY;function ra(){if(NY)return BA;NY=1;var n=Dr(),e=w0e(),r=x0e(),i=wu(),s=MB(),o=TypeError,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c="enumerable",u="configurable",d="writable";return BA.f=n?r?function(f,p,m){if(i(f),p=s(p),i(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var b=l(f,p);b&&b[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:b[u],enumerable:c in m?m[c]:b[c],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(i(f),p=s(p),i(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new o("Accessors not supported");return"value"in m&&(f[p]=m.value),f},BA}var $A,jY;function pb(){if(jY)return $A;jY=1;var n=Dr(),e=ra(),r=Nx();return $A=n?function(i,s,o){return e.f(i,s,r(1,o))}:function(i,s,o){return i[s]=o,i},$A}var zA,BY;function Ot(){if(BY)return zA;BY=1;var n=wr(),e=CE(),r=TB(),i=li(),s=PE().f,o=PZe(),a=Hn(),l=Fx(),c=pb(),u=ci(),d=function(h){var f=function(p,m,b){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,b)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return zA=function(h,f){var p=h.target,m=h.global,b=h.stat,y=h.proto,v=m?n:b?n[p]:n[p]&&n[p].prototype,w=m?a:a[p]||c(a,p,{})[p],_=w.prototype,x,k,C,E,T,M,I,O,F;for(E in f)x=o(m?E:p+(b?".":"#")+E,h.forced),k=!x&&v&&u(v,E),M=w[E],k&&(h.dontCallGetSet?(F=s(v,E),I=F&&F.value):I=v[E]),T=k&&I?I:f[E],!(!x&&!y&&typeof M==typeof T)&&(h.bind&&k?O=l(T,n):h.wrap&&k?O=d(T):y&&i(T)?O=r(T):O=T,(h.sham||T&&T.sham||M&&M.sham)&&c(O,"sham",!0),c(w,E,O),y&&(C=p+"Prototype",u(a,C)||c(a,C,{}),c(a[C],E,T),h.real&&_&&(x||!_[E])&&c(_,E,T)))},zA}var UA,LY;function rh(){if(LY)return UA;LY=1;var n=Yl();return UA=Array.isArray||function(r){return n(r)==="Array"},UA}var WA,FY;function IZe(){if(FY)return WA;FY=1;var n=Math.ceil,e=Math.floor;return WA=Math.trunc||function(i){var s=+i;return(s>0?e:n)(s)},WA}var qA,$Y;function mb(){if($Y)return qA;$Y=1;var n=IZe();return qA=function(e){var r=+e;return r!==r||r===0?0:n(r)},qA}var HA,zY;function _0e(){if(zY)return HA;zY=1;var n=mb(),e=Math.min;return HA=function(r){var i=n(r);return i>0?e(i,9007199254740991):0},HA}var VA,UY;function Ga(){if(UY)return VA;UY=1;var n=_0e();return VA=function(e){return n(e.length)},VA}var GA,WY;function OB(){if(WY)return GA;WY=1;var n=TypeError,e=9007199254740991;return GA=function(r){if(r>e)throw n("Maximum allowed index exceeded");return r},GA}var YA,qY;function IE(){if(qY)return YA;qY=1;var n=Dr(),e=ra(),r=Nx();return YA=function(i,s,o){n?e.f(i,s,r(0,o)):i[s]=o},YA}var KA,HY;function DB(){if(HY)return KA;HY=1;var n=Lr(),e=n("toStringTag"),r={};return r[e]="z",KA=String(r)==="[object z]",KA}var XA,VY;function ih(){if(VY)return XA;VY=1;var n=DB(),e=li(),r=Yl(),i=Lr(),s=i("toStringTag"),o=Object,a=r(function(){return arguments}())==="Arguments",l=function(c,u){try{return c[u]}catch{}};return XA=n?r:function(c){var u,d,h;return c===void 0?"Undefined":c===null?"Null":typeof(d=l(u=o(c),s))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},XA}var QA,GY;function MZe(){if(GY)return QA;GY=1;var n=vn(),e=li(),r=IB(),i=n(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(s){return i(s)}),QA=r.inspectSource,QA}var JA,YY;function k0e(){if(YY)return JA;YY=1;var n=vn(),e=mn(),r=li(),i=ih(),s=vo(),o=MZe(),a=function(){},l=s("Reflect","construct"),c=/^\s*(?:class|function)\b/,u=n(c.exec),d=!c.test(a),h=function(m){if(!r(m))return!1;try{return l(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(i(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(c,o(m))}catch{return!0}};return f.sham=!0,JA=!l||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,JA}var ZA,KY;function OZe(){if(KY)return ZA;KY=1;var n=rh(),e=k0e(),r=zi(),i=Lr(),s=i("species"),o=Array;return ZA=function(a){var l;return n(a)&&(l=a.constructor,e(l)&&(l===o||n(l.prototype))?l=void 0:r(l)&&(l=l[s],l===null&&(l=void 0))),l===void 0?o:l},ZA}var eT,XY;function ME(){if(XY)return eT;XY=1;var n=OZe();return eT=function(e,r){return new(n(e))(r===0?0:r)},eT}var tT,QY;function $x(){if(QY)return tT;QY=1;var n=mn(),e=Lr(),r=Bx(),i=e("species");return tT=function(s){return r>=51||!n(function(){var o=[],a=o.constructor={};return a[i]=function(){return{foo:1}},o[s](Boolean).foo!==1})},tT}var JY;function S0e(){if(JY)return UG;JY=1;var n=Ot(),e=mn(),r=rh(),i=zi(),s=Us(),o=Ga(),a=OB(),l=IE(),c=ME(),u=$x(),d=Lr(),h=Bx(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var y=[];return y[f]=!1,y.concat()[0]!==y}),m=function(y){if(!i(y))return!1;var v=y[f];return v!==void 0?!!v:r(y)},b=!p||!u("concat");return n({target:"Array",proto:!0,arity:1,forced:b},{concat:function(v){var w=s(this),_=c(w,0),x=0,k,C,E,T,M;for(k=-1,E=arguments.length;k<E;k++)if(M=k===-1?w:arguments[k],m(M))for(T=o(M),a(x+T),C=0;C<T;C++,x++)C in M&&l(_,x,M[C]);else a(x+1),l(_,x++,M);return _.length=x,_}}),UG}var ZY={},eK={},nT,tK;function ia(){if(tK)return nT;tK=1;var n=ih(),e=String;return nT=function(r){if(n(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},nT}var rT={},iT,nK;function OE(){if(nK)return iT;nK=1;var n=mb(),e=Math.max,r=Math.min;return iT=function(i,s){var o=n(i);return o<0?e(o+s,0):r(o,s)},iT}var sT,rK;function RB(){if(rK)return sT;rK=1;var n=Va(),e=OE(),r=Ga(),i=function(s){return function(o,a,l){var c=n(o),u=r(c);if(u===0)return!s&&-1;var d=e(l,u),h;if(s&&a!==a){for(;u>d;)if(h=c[d++],h!==h)return!0}else for(;u>d;d++)if((s||d in c)&&c[d]===a)return s||d||0;return!s&&-1}};return sT={includes:i(!0),indexOf:i(!1)},sT}var oT,iK;function zx(){return iK||(iK=1,oT={}),oT}var aT,sK;function C0e(){if(sK)return aT;sK=1;var n=vn(),e=ci(),r=Va(),i=RB().indexOf,s=zx(),o=n([].push);return aT=function(a,l){var c=r(a),u=0,d=[],h;for(h in c)!e(s,h)&&e(c,h)&&o(d,h);for(;l.length>u;)e(c,h=l[u++])&&(~i(d,h)||o(d,h));return d},aT}var lT,oK;function NB(){return oK||(oK=1,lT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),lT}var cT,aK;function Ux(){if(aK)return cT;aK=1;var n=C0e(),e=NB();return cT=Object.keys||function(i){return n(i,e)},cT}var lK;function jB(){if(lK)return rT;lK=1;var n=Dr(),e=x0e(),r=ra(),i=wu(),s=Va(),o=Ux();return rT.f=n&&!e?Object.defineProperties:function(l,c){i(l);for(var u=s(c),d=o(c),h=d.length,f=0,p;h>f;)r.f(l,p=d[f++],u[p]);return l},rT}var uT,cK;function DZe(){if(cK)return uT;cK=1;var n=vo();return uT=n("document","documentElement"),uT}var dT,uK;function DE(){if(uK)return dT;uK=1;var n=fb(),e=TE(),r=n("keys");return dT=function(i){return r[i]||(r[i]=e(i))},dT}var hT,dK;function Wx(){if(dK)return hT;dK=1;var n=wu(),e=jB(),r=NB(),i=zx(),s=DZe(),o=v0e(),a=DE(),l=">",c="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(w){return c+d+l+w+c+"/"+d+l},m=function(w){w.write(p("")),w.close();var _=w.parentWindow.Object;return w=null,_},b=function(){var w=o("iframe"),_="java"+d+":",x;return w.style.display="none",s.appendChild(w),w.src=String(_),x=w.contentWindow.document,x.open(),x.write(p("document.F=Object")),x.close(),x.F},y,v=function(){try{y=new ActiveXObject("htmlfile")}catch{}v=typeof document<"u"?document.domain&&y?m(y):b():m(y);for(var w=r.length;w--;)delete v[u][r[w]];return v()};return i[h]=!0,hT=Object.create||function(_,x){var k;return _!==null?(f[u]=n(_),k=new f,f[u]=null,k[h]=_):k=v(),x===void 0?k:e.f(k,x)},hT}var fT={},hK;function RE(){if(hK)return fT;hK=1;var n=C0e(),e=NB(),r=e.concat("length","prototype");return fT.f=Object.getOwnPropertyNames||function(s){return n(s,r)},fT}var pT={},mT,fK;function gb(){if(fK)return mT;fK=1;var n=vn();return mT=n([].slice),mT}var pK;function E0e(){if(pK)return pT;pK=1;var n=Yl(),e=Va(),r=RE().f,i=gb(),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(a){try{return r(a)}catch{return i(s)}};return pT.f=function(l){return s&&n(l)==="Window"?o(l):r(e(l))},pT}var gT={},mK;function NE(){return mK||(mK=1,gT.f=Object.getOwnPropertySymbols),gT}var bT,gK;function qx(){if(gK)return bT;gK=1;var n=pb();return bT=function(e,r,i,s){return s&&s.enumerable?e[r]=i:n(e,r,i),e},bT}var yT,bK;function BB(){if(bK)return yT;bK=1;var n=ra();return yT=function(e,r,i){return n.f(e,r,i)},yT}var vT={},yK;function jE(){if(yK)return vT;yK=1;var n=Lr();return vT.f=n,vT}var wT,vK;function dr(){if(vK)return wT;vK=1;var n=Hn(),e=ci(),r=jE(),i=ra().f;return wT=function(s){var o=n.Symbol||(n.Symbol={});e(o,s)||i(o,s,{value:r.f(s)})},wT}var xT,wK;function A0e(){if(wK)return xT;wK=1;var n=zs(),e=vo(),r=Lr(),i=qx();return xT=function(){var s=e("Symbol"),o=s&&s.prototype,a=o&&o.valueOf,l=r("toPrimitive");o&&!o[l]&&i(o,l,function(c){return n(a,this)},{arity:1})},xT}var _T,xK;function RZe(){if(xK)return _T;xK=1;var n=DB(),e=ih();return _T=n?{}.toString:function(){return"[object "+e(this)+"]"},_T}var kT,_K;function kp(){if(_K)return kT;_K=1;var n=DB(),e=ra().f,r=pb(),i=ci(),s=RZe(),o=Lr(),a=o("toStringTag");return kT=function(l,c,u,d){var h=u?l:l&&l.prototype;h&&(i(h,a)||e(h,a,{configurable:!0,value:c}),d&&!n&&r(h,"toString",s))},kT}var ST,kK;function NZe(){if(kK)return ST;kK=1;var n=wr(),e=li(),r=n.WeakMap;return ST=e(r)&&/native code/.test(String(r)),ST}var CT,SK;function Hx(){if(SK)return CT;SK=1;var n=NZe(),e=wr(),r=zi(),i=pb(),s=ci(),o=IB(),a=DE(),l=zx(),c="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(w){return p(w)?f(w):h(w,{})},b=function(w){return function(_){var x;if(!r(_)||(x=f(_)).type!==w)throw new u("Incompatible receiver, "+w+" required");return x}};if(n||o.state){var y=o.state||(o.state=new d);y.get=y.get,y.has=y.has,y.set=y.set,h=function(w,_){if(y.has(w))throw new u(c);return _.facade=w,y.set(w,_),_},f=function(w){return y.get(w)||{}},p=function(w){return y.has(w)}}else{var v=a("state");l[v]=!0,h=function(w,_){if(s(w,v))throw new u(c);return _.facade=w,i(w,v,_),_},f=function(w){return s(w,v)?w[v]:{}},p=function(w){return s(w,v)}}return CT={set:h,get:f,has:p,enforce:m,getterFor:b},CT}var ET,CK;function sh(){if(CK)return ET;CK=1;var n=Fx(),e=vn(),r=AE(),i=Us(),s=Ga(),o=ME(),a=e([].push),l=function(c){var u=c===1,d=c===2,h=c===3,f=c===4,p=c===6,m=c===7,b=c===5||p;return function(y,v,w,_){for(var x=i(y),k=r(x),C=s(k),E=n(v,w),T=0,M=_||o,I=u?M(y,C):d||m?M(y,0):void 0,O,F;C>T;T++)if((b||T in k)&&(O=k[T],F=E(O,T,x),c))if(u)I[T]=F;else if(F)switch(c){case 3:return!0;case 5:return O;case 6:return T;case 2:a(I,O)}else switch(c){case 4:return!1;case 7:a(I,O)}return p?-1:h||f?f:I}};return ET={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)},ET}var EK;function jZe(){if(EK)return eK;EK=1;var n=Ot(),e=wr(),r=zs(),i=vn(),s=hb(),o=Dr(),a=ub(),l=mn(),c=ci(),u=Xn(),d=wu(),h=Va(),f=MB(),p=ia(),m=Nx(),b=Wx(),y=Ux(),v=RE(),w=E0e(),_=NE(),x=PE(),k=ra(),C=jB(),E=EE(),T=qx(),M=BB(),I=fb(),O=DE(),F=zx(),$=TE(),z=Lr(),D=jE(),j=dr(),N=A0e(),R=kp(),H=Hx(),U=sh().forEach,K=O("hidden"),Y="Symbol",Z="prototype",G=H.set,X=H.getterFor(Y),ae=Object[Z],be=e.Symbol,le=be&&be[Z],J=e.RangeError,xe=e.TypeError,ge=e.QObject,V=x.f,we=k.f,ze=w.f,et=E.f,$e=i([].push),mt=I("symbols"),Ue=I("op-symbols"),Ke=I("wks"),pt=!ge||!ge[Z]||!ge[Z].findChild,lt=function(ee,ue,ce){var Ce=V(ae,ue);Ce&&delete ae[ue],we(ee,ue,ce),Ce&&ee!==ae&&we(ae,ue,Ce)},Ye=o&&l(function(){return b(we({},"a",{get:function(){return we(this,"a",{value:7}).a}})).a!==7})?lt:we,We=function(ee,ue){var ce=mt[ee]=b(le);return G(ce,{type:Y,tag:ee,description:ue}),o||(ce.description=ue),ce},Ae=function(ue,ce,Ce){ue===ae&&Ae(Ue,ce,Ce),d(ue);var Me=f(ce);return d(Ce),c(mt,Me)?(Ce.enumerable?(c(ue,K)&&ue[K][Me]&&(ue[K][Me]=!1),Ce=b(Ce,{enumerable:m(0,!1)})):(c(ue,K)||we(ue,K,m(1,b(null))),ue[K][Me]=!0),Ye(ue,Me,Ce)):we(ue,Me,Ce)},W=function(ue,ce){d(ue);var Ce=h(ce),Me=y(Ce).concat(ve(Ce));return U(Me,function(he){(!o||r(me,Ce,he))&&Ae(ue,he,Ce[he])}),ue},de=function(ue,ce){return ce===void 0?b(ue):W(b(ue),ce)},me=function(ue){var ce=f(ue),Ce=r(et,this,ce);return this===ae&&c(mt,ce)&&!c(Ue,ce)?!1:Ce||!c(this,ce)||!c(mt,ce)||c(this,K)&&this[K][ce]?Ce:!0},oe=function(ue,ce){var Ce=h(ue),Me=f(ce);if(!(Ce===ae&&c(mt,Me)&&!c(Ue,Me))){var he=V(Ce,Me);return he&&c(mt,Me)&&!(c(Ce,K)&&Ce[K][Me])&&(he.enumerable=!0),he}},pe=function(ue){var ce=ze(h(ue)),Ce=[];return U(ce,function(Me){!c(mt,Me)&&!c(F,Me)&&$e(Ce,Me)}),Ce},ve=function(ee){var ue=ee===ae,ce=ze(ue?Ue:h(ee)),Ce=[];return U(ce,function(Me){c(mt,Me)&&(!ue||c(ae,Me))&&$e(Ce,mt[Me])}),Ce};return a||(be=function(){if(u(le,this))throw new xe("Symbol is not a constructor");var ue=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ce=$(ue),Ce=function(Me){var he=this===void 0?e:this;he===ae&&r(Ce,Ue,Me),c(he,K)&&c(he[K],ce)&&(he[K][ce]=!1);var Te=m(1,Me);try{Ye(he,ce,Te)}catch(Se){if(!(Se instanceof J))throw Se;lt(he,ce,Te)}};return o&&pt&&Ye(ae,ce,{configurable:!0,set:Ce}),We(ce,ue)},le=be[Z],T(le,"toString",function(){return X(this).tag}),T(be,"withoutSetter",function(ee){return We($(ee),ee)}),E.f=me,k.f=Ae,C.f=W,x.f=oe,v.f=w.f=pe,_.f=ve,D.f=function(ee){return We(z(ee),ee)},o&&(M(le,"description",{configurable:!0,get:function(){return X(this).description}}),s||T(ae,"propertyIsEnumerable",me,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:be}),U(y(Ke),function(ee){j(ee)}),n({target:Y,stat:!0,forced:!a},{useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),n({target:"Object",stat:!0,forced:!a,sham:!o},{create:de,defineProperty:Ae,defineProperties:W,getOwnPropertyDescriptor:oe}),n({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),N(),R(be,Y),F[K]=!0,eK}var AK={},AT,TK;function T0e(){if(TK)return AT;TK=1;var n=ub();return AT=n&&!!Symbol.for&&!!Symbol.keyFor,AT}var PK;function BZe(){if(PK)return AK;PK=1;var n=Ot(),e=vo(),r=ci(),i=ia(),s=fb(),o=T0e(),a=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!o},{for:function(c){var u=i(c);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,l[d]=u,d}}),AK}var IK={},MK;function LZe(){if(MK)return IK;MK=1;var n=Ot(),e=ci(),r=Lx(),i=db(),s=fb(),o=T0e(),a=s("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!o},{keyFor:function(c){if(!r(c))throw new TypeError(i(c)+" is not a symbol");if(e(a,c))return a[c]}}),IK}var OK={},TT,DK;function FZe(){if(DK)return TT;DK=1;var n=vn(),e=rh(),r=li(),i=Yl(),s=ia(),o=n([].push);return TT=function(a){if(r(a))return a;if(e(a)){for(var l=a.length,c=[],u=0;u<l;u++){var d=a[u];typeof d=="string"?o(c,d):(typeof d=="number"||i(d)==="Number"||i(d)==="String")&&o(c,s(d))}var h=c.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var b=0;b<h;b++)if(c[b]===p)return m}}},TT}var RK;function P0e(){if(RK)return OK;RK=1;var n=Ot(),e=vo(),r=CE(),i=zs(),s=vn(),o=mn(),a=li(),l=Lx(),c=gb(),u=FZe(),d=ub(),h=String,f=e("JSON","stringify"),p=s(/./.exec),m=s("".charAt),b=s("".charCodeAt),y=s("".replace),v=s(1.1.toString),w=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,k=!d||o(function(){var M=e("Symbol")("stringify detection");return f([M])!=="[null]"||f({a:M})!=="{}"||f(Object(M))!=="{}"}),C=o(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),E=function(M,I){var O=c(arguments),F=u(I);if(!(!a(F)&&(M===void 0||l(M))))return O[1]=function($,z){if(a(F)&&(z=i(F,this,h($),z)),!l(z))return z},r(f,null,O)},T=function(M,I,O){var F=m(O,I-1),$=m(O,I+1);return p(_,M)&&!p(x,$)||p(x,M)&&!p(_,F)?"\\u"+v(b(M,0),16):M};return f&&n({target:"JSON",stat:!0,arity:3,forced:k||C},{stringify:function(I,O,F){var $=c(arguments),z=r(k?E:f,null,$);return C&&typeof z=="string"?y(z,w,T):z}}),OK}var NK={},jK;function $Ze(){if(jK)return NK;jK=1;var n=Ot(),e=ub(),r=mn(),i=NE(),s=Us(),o=!e||r(function(){i.f(1)});return n({target:"Object",stat:!0,forced:o},{getOwnPropertySymbols:function(l){var c=i.f;return c?c(s(l)):[]}}),NK}var BK;function I0e(){return BK||(BK=1,jZe(),BZe(),LZe(),P0e(),$Ze()),ZY}var LK={},FK;function M0e(){if(FK)return LK;FK=1;var n=dr();return n("asyncDispose"),LK}var $K={},zK;function zZe(){if(zK)return $K;zK=1;var n=dr();return n("asyncIterator"),$K}var UK={},WK;function O0e(){if(WK)return UK;WK=1;var n=dr();return n("dispose"),UK}var qK={},HK;function UZe(){if(HK)return qK;HK=1;var n=dr();return n("hasInstance"),qK}var VK={},GK;function WZe(){if(GK)return VK;GK=1;var n=dr();return n("isConcatSpreadable"),VK}var YK={},KK;function D0e(){if(KK)return YK;KK=1;var n=dr();return n("iterator"),YK}var XK={},QK;function qZe(){if(QK)return XK;QK=1;var n=dr();return n("match"),XK}var JK={},ZK;function HZe(){if(ZK)return JK;ZK=1;var n=dr();return n("matchAll"),JK}var eX={},tX;function VZe(){if(tX)return eX;tX=1;var n=dr();return n("replace"),eX}var nX={},rX;function GZe(){if(rX)return nX;rX=1;var n=dr();return n("search"),nX}var iX={},sX;function YZe(){if(sX)return iX;sX=1;var n=dr();return n("species"),iX}var oX={},aX;function KZe(){if(aX)return oX;aX=1;var n=dr();return n("split"),oX}var lX={},cX;function R0e(){if(cX)return lX;cX=1;var n=dr(),e=A0e();return n("toPrimitive"),e(),lX}var uX={},dX;function XZe(){if(dX)return uX;dX=1;var n=vo(),e=dr(),r=kp();return e("toStringTag"),r(n("Symbol"),"Symbol"),uX}var hX={},fX;function QZe(){if(fX)return hX;fX=1;var n=dr();return n("unscopables"),hX}var pX={},mX;function JZe(){if(mX)return pX;mX=1;var n=wr(),e=kp();return e(n.JSON,"JSON",!0),pX}var PT,gX;function ZZe(){if(gX)return PT;gX=1,S0e(),I0e(),M0e(),zZe(),O0e(),UZe(),WZe(),D0e(),qZe(),HZe(),VZe(),GZe(),YZe(),KZe(),R0e(),XZe(),QZe(),JZe();var n=Hn();return PT=n.Symbol,PT}var bX={},IT,yX;function Vx(){return yX||(yX=1,IT=function(){}),IT}var MT,vX;function bb(){return vX||(vX=1,MT={}),MT}var OT,wX;function eet(){if(wX)return OT;wX=1;var n=Dr(),e=ci(),r=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=e(r,"name"),o=s&&(function(){}).name==="something",a=s&&(!n||n&&i(r,"name").configurable);return OT={EXISTS:s,PROPER:o,CONFIGURABLE:a},OT}var DT,xX;function N0e(){if(xX)return DT;xX=1;var n=mn();return DT=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),DT}var RT,_X;function BE(){if(_X)return RT;_X=1;var n=ci(),e=li(),r=Us(),i=DE(),s=N0e(),o=i("IE_PROTO"),a=Object,l=a.prototype;return RT=s?a.getPrototypeOf:function(c){var u=r(c);if(n(u,o))return u[o];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?l:null},RT}var NT,kX;function j0e(){if(kX)return NT;kX=1;var n=mn(),e=li(),r=zi(),i=Wx(),s=BE(),o=qx(),a=Lr(),l=hb(),c=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=s(s(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||n(function(){var m={};return d[c].call(m)!==m});return p?d={}:l&&(d=i(d)),e(d[c])||o(d,c,function(){return this}),NT={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},NT}var jT,SX;function tet(){if(SX)return jT;SX=1;var n=j0e().IteratorPrototype,e=Wx(),r=Nx(),i=kp(),s=bb(),o=function(){return this};return jT=function(a,l,c,u){var d=l+" Iterator";return a.prototype=e(n,{next:r(+!u,c)}),i(a,d,!1,!0),s[d]=o,a},jT}var BT,CX;function net(){if(CX)return BT;CX=1;var n=vn(),e=Kl();return BT=function(r,i,s){try{return n(e(Object.getOwnPropertyDescriptor(r,i)[s]))}catch{}},BT}var LT,EX;function ret(){if(EX)return LT;EX=1;var n=zi();return LT=function(e){return n(e)||e===null},LT}var FT,AX;function iet(){if(AX)return FT;AX=1;var n=ret(),e=String,r=TypeError;return FT=function(i){if(n(i))return i;throw new r("Can't set "+e(i)+" as a prototype")},FT}var $T,TX;function set(){if(TX)return $T;TX=1;var n=net(),e=zi(),r=vu(),i=iet();return $T=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,o={},a;try{a=n(Object.prototype,"__proto__","set"),a(o,[]),s=o instanceof Array}catch{}return function(c,u){return r(c),i(u),e(c)&&(s?a(c,u):c.__proto__=u),c}}():void 0),$T}var zT,PX;function LB(){if(PX)return zT;PX=1;var n=Ot(),e=zs(),r=hb(),i=eet(),s=li(),o=tet(),a=BE(),l=set(),c=kp(),u=pb(),d=qx(),h=Lr(),f=bb(),p=j0e(),m=i.PROPER,b=i.CONFIGURABLE,y=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,w=h("iterator"),_="keys",x="values",k="entries",C=function(){return this};return zT=function(E,T,M,I,O,F,$){o(M,T,I);var z=function(G){if(G===O&&H)return H;if(!v&&G&&G in N)return N[G];switch(G){case _:return function(){return new M(this,G)};case x:return function(){return new M(this,G)};case k:return function(){return new M(this,G)}}return function(){return new M(this)}},D=T+" Iterator",j=!1,N=E.prototype,R=N[w]||N["@@iterator"]||O&&N[O],H=!v&&R||z(O),U=T==="Array"&&N.entries||R,K,Y,Z;if(U&&(K=a(U.call(new E)),K!==Object.prototype&&K.next&&(!r&&a(K)!==y&&(l?l(K,y):s(K[w])||d(K,w,C)),c(K,D,!0,!0),r&&(f[D]=C))),m&&O===x&&R&&R.name!==x&&(!r&&b?u(N,"name",x):(j=!0,H=function(){return e(R,this)})),O)if(Y={values:z(x),keys:F?H:z(_),entries:z(k)},$)for(Z in Y)(v||j||!(Z in N))&&d(N,Z,Y[Z]);else n({target:T,proto:!0,forced:v||j},Y);return(!r||$)&&N[w]!==H&&d(N,w,H,{name:O}),f[T]=H,Y},zT}var UT,IX;function FB(){return IX||(IX=1,UT=function(n,e){return{value:n,done:e}}),UT}var WT,MX;function oh(){if(MX)return WT;MX=1;var n=Va(),e=Vx(),r=bb(),i=Hx(),s=ra().f,o=LB(),a=FB(),l=hb(),c=Dr(),u="Array Iterator",d=i.set,h=i.getterFor(u);WT=o(Array,"Array",function(p,m){d(this,{type:u,target:n(p),index:0,kind:m})},function(){var p=h(this),m=p.target,b=p.index++;if(!m||b>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(b,!1);case"values":return a(m[b],!1)}return a([b,m[b]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!l&&c&&f.name!=="values")try{s(f,"name",{value:"values"})}catch{}return WT}var qT,OX;function oet(){return OX||(OX=1,qT={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),qT}var DX;function ah(){if(DX)return bX;DX=1,oh();var n=oet(),e=wr(),r=kp(),i=bb();for(var s in n)r(e[s],s),i[s]=i.Array;return bX}var HT,RX;function B0e(){if(RX)return HT;RX=1;var n=ZZe();return ah(),HT=n,HT}var VT,NX;function aet(){return NX||(NX=1,VT=B0e()),VT}var cet=aet(),uet=Bt(cet),jX={},BX;function det(){if(BX)return jX;BX=1;var n=Ot(),e=rh(),r=k0e(),i=zi(),s=OE(),o=Ga(),a=Va(),l=IE(),c=Lr(),u=$x(),d=gb(),h=u("slice"),f=c("species"),p=Array,m=Math.max;return n({target:"Array",proto:!0,forced:!h},{slice:function(y,v){var w=a(this),_=o(w),x=s(y,_),k=s(v===void 0?_:v,_),C,E,T;if(e(w)&&(C=w.constructor,r(C)&&(C===p||e(C.prototype))?C=void 0:i(C)&&(C=C[f],C===null&&(C=void 0)),C===p||C===void 0))return d(w,x,k);for(E=new(C===void 0?p:C)(m(k-x,0)),T=0;x<k;x++,T++)x in w&&l(E,T,w[x]);return E.length=T,E}}),jX}var GT,LX;function xr(){if(LX)return GT;LX=1;var n=wr(),e=Hn();return GT=function(r,i){var s=e[r+"Prototype"],o=s&&s[i];if(o)return o;var a=n[r],l=a&&a.prototype;return l&&l[i]},GT}var YT,FX;function het(){if(FX)return YT;FX=1,det();var n=xr();return YT=n("Array","slice"),YT}var KT,$X;function fet(){if($X)return KT;$X=1;var n=Xn(),e=het(),r=Array.prototype;return KT=function(i){var s=i.slice;return i===r||n(r,i)&&s===r.slice?e:s},KT}var XT,zX;function pet(){if(zX)return XT;zX=1;var n=fet();return XT=n,XT}var QT,UX;function met(){return UX||(UX=1,QT=pet()),QT}var get=met(),yb=Bt(get),WX={},JT,qX;function L0e(){if(qX)return JT;qX=1;var n=vo(),e=vn(),r=RE(),i=NE(),s=wu(),o=e([].concat);return JT=n("Reflect","ownKeys")||function(l){var c=r.f(s(l)),u=i.f;return u?o(c,u(l)):c},JT}var HX;function bet(){if(HX)return WX;HX=1;var n=Ot(),e=L0e();return n({target:"Reflect",stat:!0},{ownKeys:e}),WX}var ZT,VX;function yet(){if(VX)return ZT;VX=1,bet();var n=Hn();return ZT=n.Reflect.ownKeys,ZT}var eP,GX;function vet(){if(GX)return eP;GX=1;var n=yet();return eP=n,eP}var tP,YX;function wet(){return YX||(YX=1,tP=vet()),tP}var xet=wet(),F0e=Bt(xet),KX={},XX;function _et(){if(XX)return KX;XX=1;var n=Ot(),e=rh();return n({target:"Array",stat:!0},{isArray:e}),KX}var nP,QX;function ket(){if(QX)return nP;QX=1,_et();var n=Hn();return nP=n.Array.isArray,nP}var rP,JX;function Cet(){if(JX)return rP;JX=1;var n=ket();return rP=n,rP}var iP,ZX;function Eet(){return ZX||(ZX=1,iP=Cet()),iP}var Aet=Eet(),nn=Bt(Aet),eQ={},tQ;function Tet(){if(tQ)return eQ;tQ=1;var n=Ot(),e=sh().map,r=$x(),i=r("map");return n({target:"Array",proto:!0,forced:!i},{map:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),eQ}var sP,nQ;function Pet(){if(nQ)return sP;nQ=1,Tet();var n=xr();return sP=n("Array","map"),sP}var oP,rQ;function Iet(){if(rQ)return oP;rQ=1;var n=Xn(),e=Pet(),r=Array.prototype;return oP=function(i){var s=i.map;return i===r||n(r,i)&&s===r.map?e:s},oP}var aP,iQ;function Met(){if(iQ)return aP;iQ=1;var n=Iet();return aP=n,aP}var lP,sQ;function Oet(){return sQ||(sQ=1,lP=Met()),lP}var Det=Oet(),Tn=Bt(Det),oQ={},aQ;function Ret(){if(aQ)return oQ;aQ=1;var n=Ot(),e=Us(),r=Ux(),i=mn(),s=i(function(){r(1)});return n({target:"Object",stat:!0,forced:s},{keys:function(a){return r(e(a))}}),oQ}var cP,lQ;function Net(){if(lQ)return cP;lQ=1,Ret();var n=Hn();return cP=n.Object.keys,cP}var uP,cQ;function jet(){if(cQ)return uP;cQ=1;var n=Net();return uP=n,uP}var dP,uQ;function Bet(){return uQ||(uQ=1,dP=jet()),dP}var Let=Bet(),Vr=Bt(Let),dQ={},hQ;function Fet(){if(hQ)return dQ;hQ=1;var n=Ot(),e=vn(),r=Date,i=e(r.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return i(new r)}}),dQ}var hP,fQ;function $et(){if(fQ)return hP;fQ=1,Fet();var n=Hn();return hP=n.Date.now,hP}var fP,pQ;function zet(){if(pQ)return fP;pQ=1;var n=$et();return fP=n,fP}var pP,mQ;function Uet(){return mQ||(mQ=1,pP=zet()),pP}var Wet=Uet(),Zs=Bt(Wet),gQ={},mP,bQ;function qet(){if(bQ)return mP;bQ=1;var n=vn(),e=Kl(),r=zi(),i=ci(),s=gb(),o=Rx(),a=Function,l=n([].concat),c=n([].join),u={},d=function(h,f,p){if(!i(u,f)){for(var m=[],b=0;b<f;b++)m[b]="a["+b+"]";u[f]=a("C,a","return new C("+c(m,",")+")")}return u[f](h,p)};return mP=o?a.bind:function(f){var p=e(this),m=p.prototype,b=s(arguments,1),y=function(){var w=l(b,s(arguments));return this instanceof y?d(p,w.length,w):p.apply(f,w)};return r(m)&&(y.prototype=m),y},mP}var yQ;function Het(){if(yQ)return gQ;yQ=1;var n=Ot(),e=qet();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),gQ}var gP,vQ;function Vet(){if(vQ)return gP;vQ=1,Het();var n=xr();return gP=n("Function","bind"),gP}var bP,wQ;function Get(){if(wQ)return bP;wQ=1;var n=Xn(),e=Vet(),r=Function.prototype;return bP=function(i){var s=i.bind;return i===r||n(r,i)&&s===r.bind?e:s},bP}var yP,xQ;function Yet(){if(xQ)return yP;xQ=1;var n=Get();return yP=n,yP}var vP,_Q;function Ket(){return _Q||(_Q=1,vP=Yet()),vP}var Xet=Ket(),Fe=Bt(Xet),kQ={},wP,SQ;function vb(){if(SQ)return wP;SQ=1;var n=mn();return wP=function(e,r){var i=[][e];return!!i&&n(function(){i.call(null,r||function(){return 1},1)})},wP}var xP,CQ;function Qet(){if(CQ)return xP;CQ=1;var n=sh().forEach,e=vb(),r=e("forEach");return xP=r?[].forEach:function(s){return n(this,s,arguments.length>1?arguments[1]:void 0)},xP}var EQ;function Jet(){if(EQ)return kQ;EQ=1;var n=Ot(),e=Qet();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),kQ}var _P,AQ;function Zet(){if(AQ)return _P;AQ=1,Jet();var n=xr();return _P=n("Array","forEach"),_P}var kP,TQ;function ett(){if(TQ)return kP;TQ=1;var n=Zet();return kP=n,kP}var SP,PQ;function ttt(){if(PQ)return SP;PQ=1;var n=ih(),e=ci(),r=Xn(),i=ett(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return SP=function(a){var l=a.forEach;return a===s||r(s,a)&&l===s.forEach||e(o,n(a))?i:l},SP}var CP,IQ;function ntt(){return IQ||(IQ=1,CP=ttt()),CP}var rtt=ntt(),bt=Bt(rtt),MQ={},OQ;function itt(){if(OQ)return MQ;OQ=1;var n=Ot(),e=vn(),r=rh(),i=e([].reverse),s=[1,2];return n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),i(this)}}),MQ}var EP,DQ;function stt(){if(DQ)return EP;DQ=1,itt();var n=xr();return EP=n("Array","reverse"),EP}var AP,RQ;function ott(){if(RQ)return AP;RQ=1;var n=Xn(),e=stt(),r=Array.prototype;return AP=function(i){var s=i.reverse;return i===r||n(r,i)&&s===r.reverse?e:s},AP}var TP,NQ;function att(){if(NQ)return TP;NQ=1;var n=ott();return TP=n,TP}var PP,jQ;function ltt(){return jQ||(jQ=1,PP=att()),PP}var ctt=ltt(),utt=Bt(ctt),BQ={},IP,LQ;function dtt(){if(LQ)return IP;LQ=1;var n=Dr(),e=rh(),r=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();return IP=s?function(o,a){if(e(o)&&!i(o,"length").writable)throw new r("Cannot set read only .length");return o.length=a}:function(o,a){return o.length=a},IP}var MP,FQ;function $0e(){if(FQ)return MP;FQ=1;var n=db(),e=TypeError;return MP=function(r,i){if(!delete r[i])throw new e("Cannot delete property "+n(i)+" of "+n(r))},MP}var $Q;function htt(){if($Q)return BQ;$Q=1;var n=Ot(),e=Us(),r=OE(),i=mb(),s=Ga(),o=dtt(),a=OB(),l=ME(),c=IE(),u=$0e(),d=$x(),h=d("splice"),f=Math.max,p=Math.min;return n({target:"Array",proto:!0,forced:!h},{splice:function(b,y){var v=e(this),w=s(v),_=r(b,w),x=arguments.length,k,C,E,T,M,I;for(x===0?k=C=0:x===1?(k=0,C=w-_):(k=x-2,C=p(f(i(y),0),w-_)),a(w+k-C),E=l(v,C),T=0;T<C;T++)M=_+T,M in v&&c(E,T,v[M]);if(E.length=C,k<C){for(T=_;T<w-C;T++)M=T+C,I=T+k,M in v?v[I]=v[M]:u(v,I);for(T=w;T>w-C+k;T--)u(v,T-1)}else if(k>C)for(T=w-C;T>_;T--)M=T+C-1,I=T+k-1,M in v?v[I]=v[M]:u(v,I);for(T=0;T<k;T++)v[T+_]=arguments[T+2];return o(v,w-C+k),E}}),BQ}var OP,zQ;function ftt(){if(zQ)return OP;zQ=1,htt();var n=xr();return OP=n("Array","splice"),OP}var DP,UQ;function ptt(){if(UQ)return DP;UQ=1;var n=Xn(),e=ftt(),r=Array.prototype;return DP=function(i){var s=i.splice;return i===r||n(r,i)&&s===r.splice?e:s},DP}var RP,WQ;function mtt(){if(WQ)return RP;WQ=1;var n=ptt();return RP=n,RP}var NP,qQ;function gtt(){return qQ||(qQ=1,NP=mtt()),NP}var btt=gtt(),ts=Bt(btt),HQ={},jP,VQ;function ytt(){if(VQ)return jP;VQ=1;var n=Dr(),e=vn(),r=zs(),i=mn(),s=Ux(),o=NE(),a=EE(),l=Us(),c=AE(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return jP=!u||i(function(){if(n&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),b="abcdefghijklmnopqrst";return f[m]=7,b.split("").forEach(function(y){p[y]=y}),u({},f)[m]!==7||s(u({},p)).join("")!==b})?function(p,m){for(var b=l(p),y=arguments.length,v=1,w=o.f,_=a.f;y>v;)for(var x=c(arguments[v++]),k=w?h(s(x),w(x)):s(x),C=k.length,E=0,T;C>E;)T=k[E++],(!n||r(_,x,T))&&(b[T]=x[T]);return b}:u,jP}var GQ;function vtt(){if(GQ)return HQ;GQ=1;var n=Ot(),e=ytt();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),HQ}var BP,YQ;function wtt(){if(YQ)return BP;YQ=1,vtt();var n=Hn();return BP=n.Object.assign,BP}var LP,KQ;function xtt(){if(KQ)return LP;KQ=1;var n=wtt();return LP=n,LP}var FP,XQ;function _tt(){return XQ||(XQ=1,FP=xtt()),FP}var ktt=_tt(),fu=Bt(ktt),QQ={},JQ;function Stt(){if(JQ)return QQ;JQ=1;var n=Ot(),e=RB().includes,r=mn(),i=Vx(),s=r(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:s},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),i("includes"),QQ}var $P,ZQ;function Ctt(){if(ZQ)return $P;ZQ=1,Stt();var n=xr();return $P=n("Array","includes"),$P}var eJ={},zP,tJ;function Ett(){if(tJ)return zP;tJ=1;var n=zi(),e=Yl(),r=Lr(),i=r("match");return zP=function(s){var o;return n(s)&&((o=s[i])!==void 0?!!o:e(s)==="RegExp")},zP}var UP,nJ;function Att(){if(nJ)return UP;nJ=1;var n=Ett(),e=TypeError;return UP=function(r){if(n(r))throw new e("The method doesn't accept regular expressions");return r},UP}var WP,rJ;function Ttt(){if(rJ)return WP;rJ=1;var n=Lr(),e=n("match");return WP=function(r){var i=/./;try{"/./"[r](i)}catch{try{return i[e]=!1,"/./"[r](i)}catch{}}return!1},WP}var iJ;function Ptt(){if(iJ)return eJ;iJ=1;var n=Ot(),e=vn(),r=Att(),i=vu(),s=ia(),o=Ttt(),a=e("".indexOf);return n({target:"String",proto:!0,forced:!o("includes")},{includes:function(c){return!!~a(s(i(this)),s(r(c)),arguments.length>1?arguments[1]:void 0)}}),eJ}var qP,sJ;function Itt(){if(sJ)return qP;sJ=1,Ptt();var n=xr();return qP=n("String","includes"),qP}var HP,oJ;function Mtt(){if(oJ)return HP;oJ=1;var n=Xn(),e=Ctt(),r=Itt(),i=Array.prototype,s=String.prototype;return HP=function(o){var a=o.includes;return o===i||n(i,o)&&a===i.includes?e:typeof o=="string"||o===s||n(s,o)&&a===s.includes?r:a},HP}var VP,aJ;function Ott(){if(aJ)return VP;aJ=1;var n=Mtt();return VP=n,VP}var GP,lJ;function Dtt(){return lJ||(lJ=1,GP=Ott()),GP}var Rtt=Dtt(),P0=Bt(Rtt),cJ={},uJ;function Ntt(){if(uJ)return cJ;uJ=1;var n=Ot(),e=mn(),r=Us(),i=BE(),s=N0e(),o=e(function(){i(1)});return n({target:"Object",stat:!0,forced:o,sham:!s},{getPrototypeOf:function(l){return i(r(l))}}),cJ}var YP,dJ;function jtt(){if(dJ)return YP;dJ=1,Ntt();var n=Hn();return YP=n.Object.getPrototypeOf,YP}var KP,hJ;function Btt(){if(hJ)return KP;hJ=1;var n=jtt();return KP=n,KP}var XP,fJ;function Ltt(){return fJ||(fJ=1,XP=Btt()),XP}var Ftt=Ltt(),pJ=Bt(Ftt),QP,mJ;function $tt(){if(mJ)return QP;mJ=1,S0e();var n=xr();return QP=n("Array","concat"),QP}var JP,gJ;function ztt(){if(gJ)return JP;gJ=1;var n=Xn(),e=$tt(),r=Array.prototype;return JP=function(i){var s=i.concat;return i===r||n(r,i)&&s===r.concat?e:s},JP}var ZP,bJ;function Utt(){if(bJ)return ZP;bJ=1;var n=ztt();return ZP=n,ZP}var eI,yJ;function Wtt(){return yJ||(yJ=1,eI=Utt()),eI}var qtt=Wtt(),Er=Bt(qtt),vJ={},wJ;function Htt(){if(wJ)return vJ;wJ=1;var n=Ot(),e=sh().filter,r=$x(),i=r("filter");return n({target:"Array",proto:!0,forced:!i},{filter:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),vJ}var tI,xJ;function Vtt(){if(xJ)return tI;xJ=1,Htt();var n=xr();return tI=n("Array","filter"),tI}var nI,_J;function Gtt(){if(_J)return nI;_J=1;var n=Xn(),e=Vtt(),r=Array.prototype;return nI=function(i){var s=i.filter;return i===r||n(r,i)&&s===r.filter?e:s},nI}var rI,kJ;function Ytt(){if(kJ)return rI;kJ=1;var n=Gtt();return rI=n,rI}var iI,SJ;function Ktt(){return SJ||(SJ=1,iI=Ytt()),iI}var Xtt=Ktt(),$t=Bt(Xtt),CJ={},sI,EJ;function z0e(){if(EJ)return sI;EJ=1;var n=Dr(),e=mn(),r=vn(),i=BE(),s=Ux(),o=Va(),a=EE().f,l=r(a),c=r([].push),u=n&&e(function(){var h=Object.create(null);return h[2]=2,!l(h,2)}),d=function(h){return function(f){for(var p=o(f),m=s(p),b=u&&i(p)===null,y=m.length,v=0,w=[],_;y>v;)_=m[v++],(!n||(b?_ in p:l(p,_)))&&c(w,h?[_,p[_]]:p[_]);return w}};return sI={entries:d(!0),values:d(!1)},sI}var AJ;function Qtt(){if(AJ)return CJ;AJ=1;var n=Ot(),e=z0e().values;return n({target:"Object",stat:!0},{values:function(i){return e(i)}}),CJ}var oI,TJ;function Jtt(){if(TJ)return oI;TJ=1,Qtt();var n=Hn();return oI=n.Object.values,oI}var aI,PJ;function Ztt(){if(PJ)return aI;PJ=1;var n=Jtt();return aI=n,aI}var lI,IJ;function ent(){return IJ||(IJ=1,lI=Ztt()),lI}var tnt=ent(),$B=Bt(tnt),MJ={},cI,OJ;function zB(){return OJ||(OJ=1,cI=`	
\v\f\r \u2028\u2029\uFEFF`),cI}var uI,DJ;function U0e(){if(DJ)return uI;DJ=1;var n=vn(),e=vu(),r=ia(),i=zB(),s=n("".replace),o=RegExp("^["+i+"]+"),a=RegExp("(^|[^"+i+"])["+i+"]+$"),l=function(c){return function(u){var d=r(e(u));return c&1&&(d=s(d,o,"")),c&2&&(d=s(d,a,"$1")),d}};return uI={start:l(1),end:l(2),trim:l(3)},uI}var dI,RJ;function nnt(){if(RJ)return dI;RJ=1;var n=wr(),e=mn(),r=vn(),i=ia(),s=U0e().trim,o=zB(),a=n.parseInt,l=n.Symbol,c=l&&l.iterator,u=/^[+-]?0x/i,d=r(u.exec),h=a(o+"08")!==8||a(o+"0x16")!==22||c&&!e(function(){a(Object(c))});return dI=h?function(p,m){var b=s(i(p));return a(b,m>>>0||(d(u,b)?16:10))}:a,dI}var NJ;function rnt(){if(NJ)return MJ;NJ=1;var n=Ot(),e=nnt();return n({global:!0,forced:parseInt!==e},{parseInt:e}),MJ}var hI,jJ;function int(){if(jJ)return hI;jJ=1,rnt();var n=Hn();return hI=n.parseInt,hI}var fI,BJ;function snt(){if(BJ)return fI;BJ=1;var n=int();return fI=n,fI}var pI,LJ;function ont(){return LJ||(LJ=1,pI=snt()),pI}var ant=ont(),eo=Bt(ant),FJ={},$J;function lnt(){if($J)return FJ;$J=1;var n=Ot(),e=TB(),r=RB().indexOf,i=vb(),s=e([].indexOf),o=!!s&&1/s([1],1,-0)<0,a=o||!i("indexOf");return n({target:"Array",proto:!0,forced:a},{indexOf:function(c){var u=arguments.length>1?arguments[1]:void 0;return o?s(this,c,u)||0:r(this,c,u)}}),FJ}var mI,zJ;function cnt(){if(zJ)return mI;zJ=1,lnt();var n=xr();return mI=n("Array","indexOf"),mI}var gI,UJ;function unt(){if(UJ)return gI;UJ=1;var n=Xn(),e=cnt(),r=Array.prototype;return gI=function(i){var s=i.indexOf;return i===r||n(r,i)&&s===r.indexOf?e:s},gI}var bI,WJ;function dnt(){if(WJ)return bI;WJ=1;var n=unt();return bI=n,bI}var yI,qJ;function hnt(){return qJ||(qJ=1,yI=dnt()),yI}var fnt=hnt(),jn=Bt(fnt),HJ={},VJ;function pnt(){if(VJ)return HJ;VJ=1;var n=Ot(),e=z0e().entries;return n({target:"Object",stat:!0},{entries:function(i){return e(i)}}),HJ}var vI,GJ;function mnt(){if(GJ)return vI;GJ=1,pnt();var n=Hn();return vI=n.Object.entries,vI}var wI,YJ;function gnt(){if(YJ)return wI;YJ=1;var n=mnt();return wI=n,wI}var xI,KJ;function bnt(){return KJ||(KJ=1,xI=gnt()),xI}var ynt=bnt(),vnt=Bt(ynt),XJ={},QJ;function wnt(){if(QJ)return XJ;QJ=1;var n=Ot(),e=Dr(),r=Wx();return n({target:"Object",stat:!0,sham:!e},{create:r}),XJ}var _I,JJ;function xnt(){if(JJ)return _I;JJ=1,wnt();var n=Hn(),e=n.Object;return _I=function(i,s){return e.create(i,s)},_I}var kI,ZJ;function _nt(){if(ZJ)return kI;ZJ=1;var n=xnt();return kI=n,kI}var SI,eZ;function knt(){return eZ||(eZ=1,SI=_nt()),SI}var Snt=knt(),Gx=Bt(Snt),tZ={},CI,nZ;function W0e(){if(nZ)return CI;nZ=1;var n=mb(),e=ia(),r=vu(),i=RangeError;return CI=function(o){var a=e(r(this)),l="",c=n(o);if(c<0||c===1/0)throw new i("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(a+=a))c&1&&(l+=a);return l},CI}var EI,rZ;function Cnt(){if(rZ)return EI;rZ=1;var n=vn(),e=_0e(),r=ia(),i=W0e(),s=vu(),o=n(i),a=n("".slice),l=Math.ceil,c=function(u){return function(d,h,f){var p=r(s(d)),m=e(h),b=p.length,y=f===void 0?" ":r(f),v,w;return m<=b||y===""?p:(v=m-b,w=o(y,l(v/y.length)),w.length>v&&(w=a(w,0,v)),u?p+w:w+p)}};return EI={start:c(!1),end:c(!0)},EI}var AI,iZ;function Ent(){if(iZ)return AI;iZ=1;var n=vn(),e=mn(),r=Cnt().start,i=RangeError,s=isFinite,o=Math.abs,a=Date.prototype,l=a.toISOString,c=n(a.getTime),u=n(a.getUTCDate),d=n(a.getUTCFullYear),h=n(a.getUTCHours),f=n(a.getUTCMilliseconds),p=n(a.getUTCMinutes),m=n(a.getUTCMonth),b=n(a.getUTCSeconds);return AI=e(function(){return l.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){l.call(new Date(NaN))})?function(){if(!s(c(this)))throw new i("Invalid time value");var v=this,w=d(v),_=f(v),x=w<0?"-":w>9999?"+":"";return x+r(o(w),x?6:4,0)+"-"+r(m(v)+1,2,0)+"-"+r(u(v),2,0)+"T"+r(h(v),2,0)+":"+r(p(v),2,0)+":"+r(b(v),2,0)+"."+r(_,3,0)+"Z"}:l,AI}var sZ;function Ant(){if(sZ)return tZ;sZ=1;var n=Ot(),e=zs(),r=Us(),i=y0e(),s=Ent(),o=Yl(),a=mn(),l=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:l},{toJSON:function(u){var d=r(this),h=i(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&o(d)==="Date"?e(s,d):d.toISOString()}}),tZ}var TI,oZ;function Tnt(){if(oZ)return TI;oZ=1,Ant(),P0e();var n=Hn(),e=CE();return n.JSON||(n.JSON={stringify:JSON.stringify}),TI=function(i,s,o){return e(n.JSON.stringify,null,arguments)},TI}var PI,aZ;function Pnt(){if(aZ)return PI;aZ=1;var n=Tnt();return PI=n,PI}var II,lZ;function Int(){return lZ||(lZ=1,II=Pnt()),II}var Mnt=Int(),Cs=Bt(Mnt),cZ={},uZ={},MI,dZ;function q0e(){if(dZ)return MI;dZ=1;var n=wr(),e=cb(),r=Yl(),i=function(s){return e.slice(0,s.length)===s};return MI=function(){return i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":r(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),MI}var OI,hZ;function Ont(){if(hZ)return OI;hZ=1;var n=TypeError;return OI=function(e,r){if(e<r)throw new n("Not enough arguments");return e},OI}var DI,fZ;function H0e(){if(fZ)return DI;fZ=1;var n=wr(),e=CE(),r=li(),i=q0e(),s=cb(),o=gb(),a=Ont(),l=n.Function,c=/MSIE .\./.test(s)||i==="BUN"&&function(){var u=n.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return DI=function(u,d){var h=d?2:1;return c?function(f,p){var m=a(arguments.length,1)>h,b=r(f)?f:l(f),y=m?o(arguments,h):[],v=m?function(){e(b,this,y)}:b;return d?u(v,p):u(v)}:u},DI}var pZ;function Dnt(){if(pZ)return uZ;pZ=1;var n=Ot(),e=wr(),r=H0e(),i=r(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==i},{setInterval:i}),uZ}var mZ={},gZ;function Rnt(){if(gZ)return mZ;gZ=1;var n=Ot(),e=wr(),r=H0e(),i=r(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==i},{setTimeout:i}),mZ}var bZ;function V0e(){return bZ||(bZ=1,Dnt(),Rnt()),cZ}var RI,yZ;function Nnt(){if(yZ)return RI;yZ=1,V0e();var n=Hn();return RI=n.setTimeout,RI}var NI,vZ;function jnt(){return vZ||(vZ=1,NI=Nnt()),NI}var Bnt=jnt(),Bi=Bt(Bnt),wZ={},jI,xZ;function Lnt(){if(xZ)return jI;xZ=1;var n=Us(),e=OE(),r=Ga();return jI=function(s){for(var o=n(this),a=r(o),l=arguments.length,c=e(l>1?arguments[1]:void 0,a),u=l>2?arguments[2]:void 0,d=u===void 0?a:e(u,a);d>c;)o[c++]=s;return o},jI}var _Z;function Fnt(){if(_Z)return wZ;_Z=1;var n=Ot(),e=Lnt(),r=Vx();return n({target:"Array",proto:!0},{fill:e}),r("fill"),wZ}var BI,kZ;function $nt(){if(kZ)return BI;kZ=1,Fnt();var n=xr();return BI=n("Array","fill"),BI}var LI,SZ;function znt(){if(SZ)return LI;SZ=1;var n=Xn(),e=$nt(),r=Array.prototype;return LI=function(i){var s=i.fill;return i===r||n(r,i)&&s===r.fill?e:s},LI}var FI,CZ;function Unt(){if(CZ)return FI;CZ=1;var n=znt();return FI=n,FI}var $I,EZ;function Wnt(){return EZ||(EZ=1,$I=Unt()),$I}var qnt=Wnt(),G0e=Bt(qnt),zI={exports:{}},AZ;function Hnt(){return AZ||(AZ=1,function(n){n.exports=e;function e(i){if(i)return r(i)}function r(i){for(var s in e.prototype)i[s]=e.prototype[s];return i}e.prototype.on=e.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},e.prototype.once=function(i,s){function o(){this.off(i,o),s.apply(this,arguments)}return o.fn=s,this.on(i,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+i];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,l=0;l<o.length;l++)if(a=o[l],a===s||a.fn===s){o.splice(l,1);break}return o.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),o=this._callbacks["$"+i],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(o){o=o.slice(0);for(var a=0,l=o.length;a<l;++a)o[a].apply(this,s)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length}}(zI)),zI.exports}var Vnt=Hnt(),UB=Bt(Vnt);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Fa(){return Fa=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Fa.apply(this,arguments)}function sa(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function B_(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Z4;typeof Object.assign!="function"?Z4=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(s!=null)for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])}return r}:Z4=Object.assign;var ip=Z4,TZ=["","webkit","Moz","MS","ms","o"],Gnt=typeof document>"u"?{style:{}}:document.createElement("div"),Ynt="function",zm=Math.round,sp=Math.abs,WB=Date.now;function LE(n,e){for(var r,i,s=e[0].toUpperCase()+e.slice(1),o=0;o<TZ.length;){if(r=TZ[o],i=r?r+s:e,i in n)return i;o++}}var Jc;typeof window>"u"?Jc={}:Jc=window;var Y0e=LE(Gnt.style,"touchAction"),K0e=Y0e!==void 0;function Knt(){if(!K0e)return!1;var n={},e=Jc.CSS&&Jc.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return n[r]=e?Jc.CSS.supports("touch-action",r):!0}),n}var X0e="compute",Q0e="auto",eN="manipulation",Mf="none",Sw="pan-x",Cw="pan-y",L_=Knt(),Xnt=/mobile|tablet|ip(ad|hone|od)|android/i,J0e="ontouchstart"in Jc,Qnt=LE(Jc,"PointerEvent")!==void 0,Jnt=J0e&&Xnt.test(navigator.userAgent),Yx="touch",Znt="pen",qB="mouse",ert="kinect",trt=25,cs=1,Sp=2,Br=4,Bs=8,y2=1,Kx=2,Xx=4,Qx=8,I0=16,Nl=Kx|Xx,Of=Qx|I0,Z0e=Nl|Of,ebe=["x","y"],v2=["clientX","clientY"];function Zc(n,e,r){var i;if(n)if(n.forEach)n.forEach(e,r);else if(n.length!==void 0)for(i=0;i<n.length;)e.call(r,n[i],i,n),i++;else for(i in n)n.hasOwnProperty(i)&&e.call(r,n[i],i,n)}function FE(n,e){return typeof n===Ynt?n.apply(e&&e[0]||void 0,e):n}function sf(n,e){return n.indexOf(e)>-1}function nrt(n){if(sf(n,Mf))return Mf;var e=sf(n,Sw),r=sf(n,Cw);return e&&r?Mf:e||r?e?Sw:Cw:sf(n,eN)?eN:Q0e}var tbe=function(){function n(r,i){this.manager=r,this.set(i)}var e=n.prototype;return e.set=function(i){i===X0e&&(i=this.compute()),K0e&&this.manager.element.style&&L_[i]&&(this.manager.element.style[Y0e]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return Zc(this.manager.recognizers,function(s){FE(s.options.enable,[s])&&(i=i.concat(s.getTouchAction()))}),nrt(i.join(" "))},e.preventDefaults=function(i){var s=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){s.preventDefault();return}var a=this.actions,l=sf(a,Mf)&&!L_[Mf],c=sf(a,Cw)&&!L_[Cw],u=sf(a,Sw)&&!L_[Sw];if(l){var d=i.pointers.length===1,h=i.distance<2,f=i.deltaTime<250;if(d&&h&&f)return}if(!(u&&c)&&(l||c&&o&Nl||u&&o&Of))return this.preventSrc(s)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},n}();function HB(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function nbe(n){var e=n.length;if(e===1)return{x:zm(n[0].clientX),y:zm(n[0].clientY)};for(var r=0,i=0,s=0;s<e;)r+=n[s].clientX,i+=n[s].clientY,s++;return{x:zm(r/e),y:zm(i/e)}}function PZ(n){for(var e=[],r=0;r<n.pointers.length;)e[r]={clientX:zm(n.pointers[r].clientX),clientY:zm(n.pointers[r].clientY)},r++;return{timeStamp:WB(),pointers:e,center:nbe(e),deltaX:n.deltaX,deltaY:n.deltaY}}function w2(n,e,r){r||(r=ebe);var i=e[r[0]]-n[r[0]],s=e[r[1]]-n[r[1]];return Math.sqrt(i*i+s*s)}function tN(n,e,r){r||(r=ebe);var i=e[r[0]]-n[r[0]],s=e[r[1]]-n[r[1]];return Math.atan2(s,i)*180/Math.PI}function rbe(n,e){return n===e?y2:sp(n)>=sp(e)?n<0?Kx:Xx:e<0?Qx:I0}function rrt(n,e){var r=e.center,i=n.offsetDelta||{},s=n.prevDelta||{},o=n.prevInput||{};(e.eventType===cs||o.eventType===Br)&&(s=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=n.offsetDelta={x:r.x,y:r.y}),e.deltaX=s.x+(r.x-i.x),e.deltaY=s.y+(r.y-i.y)}function ibe(n,e,r){return{x:e/n||0,y:r/n||0}}function irt(n,e){return w2(e[0],e[1],v2)/w2(n[0],n[1],v2)}function srt(n,e){return tN(e[1],e[0],v2)+tN(n[1],n[0],v2)}function ort(n,e){var r=n.lastInterval||e,i=e.timeStamp-r.timeStamp,s,o,a,l;if(e.eventType!==Bs&&(i>trt||r.velocity===void 0)){var c=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=ibe(i,c,u);o=d.x,a=d.y,s=sp(d.x)>sp(d.y)?d.x:d.y,l=rbe(c,u),n.lastInterval=e}else s=r.velocity,o=r.velocityX,a=r.velocityY,l=r.direction;e.velocity=s,e.velocityX=o,e.velocityY=a,e.direction=l}function art(n,e){var r=n.session,i=e.pointers,s=i.length;r.firstInput||(r.firstInput=PZ(e)),s>1&&!r.firstMultiple?r.firstMultiple=PZ(e):s===1&&(r.firstMultiple=!1);var o=r.firstInput,a=r.firstMultiple,l=a?a.center:o.center,c=e.center=nbe(i);e.timeStamp=WB(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=tN(l,c),e.distance=w2(l,c),rrt(r,e),e.offsetDirection=rbe(e.deltaX,e.deltaY);var u=ibe(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=sp(u.x)>sp(u.y)?u.x:u.y,e.scale=a?irt(a.pointers,i):1,e.rotation=a?srt(a.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,ort(r,e);var d=n.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,HB(f,d)&&(d=f),e.target=d}function lrt(n,e,r){var i=r.pointers.length,s=r.changedPointers.length,o=e&cs&&i-s===0,a=e&(Br|Bs)&&i-s===0;r.isFirst=!!o,r.isFinal=!!a,o&&(n.session={}),r.eventType=e,art(n,r),n.emit("hammer.input",r),n.recognize(r),n.session.prevInput=r}function Ew(n){return n.trim().split(/\s+/g)}function ov(n,e,r){Zc(Ew(e),function(i){n.addEventListener(i,r,!1)})}function av(n,e,r){Zc(Ew(e),function(i){n.removeEventListener(i,r,!1)})}function IZ(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var wb=function(){function n(r,i){var s=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){FE(r.options.enable,[r])&&s.handler(o)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ov(this.element,this.evEl,this.domHandler),this.evTarget&&ov(this.target,this.evTarget,this.domHandler),this.evWin&&ov(IZ(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&av(this.element,this.evEl,this.domHandler),this.evTarget&&av(this.target,this.evTarget,this.domHandler),this.evWin&&av(IZ(this.element),this.evWin,this.domHandler)},n}();function op(n,e,r){if(n.indexOf&&!r)return n.indexOf(e);for(var i=0;i<n.length;){if(r&&n[i][r]==e||!r&&n[i]===e)return i;i++}return-1}var crt={pointerdown:cs,pointermove:Sp,pointerup:Br,pointercancel:Bs,pointerout:Bs},urt={2:Yx,3:Znt,4:qB,5:ert},sbe="pointerdown",obe="pointermove pointerup pointercancel";Jc.MSPointerEvent&&!Jc.PointerEvent&&(sbe="MSPointerDown",obe="MSPointerMove MSPointerUp MSPointerCancel");var abe=function(n){sa(e,n);function e(){var i,s=e.prototype;return s.evEl=sbe,s.evWin=obe,i=n.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(s){var o=this.store,a=!1,l=s.type.toLowerCase().replace("ms",""),c=crt[l],u=urt[s.pointerType]||s.pointerType,d=u===Yx,h=op(o,s.pointerId,"pointerId");c&cs&&(s.button===0||d)?h<0&&(o.push(s),h=o.length-1):c&(Br|Bs)&&(a=!0),!(h<0)&&(o[h]=s,this.callback(this.manager,c,{pointers:o,changedPointers:[s],pointerType:u,srcEvent:s}),a&&o.splice(h,1))},e}(wb);function Aw(n){return Array.prototype.slice.call(n,0)}function VB(n,e,r){for(var i=[],s=[],o=0;o<n.length;){var a=e?n[o][e]:n[o];op(s,a)<0&&i.push(n[o]),s[o]=a,o++}return r&&(e?i=i.sort(function(l,c){return l[e]>c[e]}):i=i.sort()),i}var drt={touchstart:cs,touchmove:Sp,touchend:Br,touchcancel:Bs},hrt="touchstart touchmove touchend touchcancel",GB=function(n){sa(e,n);function e(){var i;return e.prototype.evTarget=hrt,i=n.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(s){var o=drt[s.type],a=frt.call(this,s,o);a&&this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:Yx,srcEvent:s})},e}(wb);function frt(n,e){var r=Aw(n.touches),i=this.targetIds;if(e&(cs|Sp)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var s,o,a=Aw(n.changedTouches),l=[],c=this.target;if(o=r.filter(function(u){return HB(u.target,c)}),e===cs)for(s=0;s<o.length;)i[o[s].identifier]=!0,s++;for(s=0;s<a.length;)i[a[s].identifier]&&l.push(a[s]),e&(Br|Bs)&&delete i[a[s].identifier],s++;if(l.length)return[VB(o.concat(l),"identifier",!0),l]}var prt={mousedown:cs,mousemove:Sp,mouseup:Br},mrt="mousedown",grt="mousemove mouseup",YB=function(n){sa(e,n);function e(){var i,s=e.prototype;return s.evEl=mrt,s.evWin=grt,i=n.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(s){var o=prt[s.type];o&cs&&s.button===0&&(this.pressed=!0),o&Sp&&s.which!==1&&(o=Br),this.pressed&&(o&Br&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[s],changedPointers:[s],pointerType:qB,srcEvent:s}))},e}(wb),brt=2500,MZ=25;function OZ(n){var e=n.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},s=this.lastTouches;this.lastTouches.push(i);var o=function(){var l=s.indexOf(i);l>-1&&s.splice(l,1)};setTimeout(o,brt)}}function yrt(n,e){n&cs?(this.primaryTouch=e.changedPointers[0].identifier,OZ.call(this,e)):n&(Br|Bs)&&OZ.call(this,e)}function vrt(n){for(var e=n.srcEvent.clientX,r=n.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var s=this.lastTouches[i],o=Math.abs(e-s.x),a=Math.abs(r-s.y);if(o<=MZ&&a<=MZ)return!0}return!1}var lbe=function(){var n=function(e){sa(r,e);function r(s,o){var a;return a=e.call(this,s,o)||this,a.handler=function(l,c,u){var d=u.pointerType===Yx,h=u.pointerType===qB;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)yrt.call(B_(B_(a)),c,u);else if(h&&vrt.call(B_(B_(a)),u))return;a.callback(l,c,u)}},a.touch=new GB(a.manager,a.handler),a.mouse=new YB(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(wb);return n}();function wrt(n){var e,r=n.options.inputClass;return r?e=r:Qnt?e=abe:Jnt?e=GB:J0e?e=lbe:e=YB,new e(n,lrt)}function Um(n,e,r){return Array.isArray(n)?(Zc(n,r[e],r),!0):!1}var jk=1,Jo=2,M0=4,$d=8,eu=$d,Tw=16,Cl=32,xrt=1;function _rt(){return xrt++}function F_(n,e){var r=e.manager;return r?r.get(n):n}function DZ(n){return n&Tw?"cancel":n&$d?"end":n&M0?"move":n&Jo?"start":""}var Jx=function(){function n(r){r===void 0&&(r={}),this.options=Fa({enable:!0},r),this.id=_rt(),this.manager=null,this.state=jk,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(i){return ip(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(Um(i,"recognizeWith",this))return this;var s=this.simultaneous;return i=F_(i,this),s[i.id]||(s[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return Um(i,"dropRecognizeWith",this)?this:(i=F_(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(Um(i,"requireFailure",this))return this;var s=this.requireFail;return i=F_(i,this),op(s,i)===-1&&(s.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(Um(i,"dropRequireFailure",this))return this;i=F_(i,this);var s=op(this.requireFail,i);return s>-1&&this.requireFail.splice(s,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var s=this,o=this.state;function a(l){s.manager.emit(l,i)}o<$d&&a(s.options.event+DZ(o)),a(s.options.event),i.additionalEvent&&a(i.additionalEvent),o>=$d&&a(s.options.event+DZ(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=Cl},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(Cl|jk)))return!1;i++}return!0},e.recognize=function(i){var s=ip({},i);if(!FE(this.options.enable,[this,s])){this.reset(),this.state=Cl;return}this.state&(eu|Tw|Cl)&&(this.state=jk),this.state=this.process(s),this.state&(Jo|M0|$d|Tw)&&this.tryEmit(s)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},n}(),nN=function(n){sa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,Fa({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,s.pTime=!1,s.pCenter=!1,s._timer=null,s._input=null,s.count=0,s}var r=e.prototype;return r.getTouchAction=function(){return[eN]},r.process=function(s){var o=this,a=this.options,l=s.pointers.length===a.pointers,c=s.distance<a.threshold,u=s.deltaTime<a.time;if(this.reset(),s.eventType&cs&&this.count===0)return this.failTimeout();if(c&&u&&l){if(s.eventType!==Br)return this.failTimeout();var d=this.pTime?s.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||w2(this.pCenter,s.center)<a.posThreshold;this.pTime=s.timeStamp,this.pCenter=s.center,!h||!d?this.count=1:this.count+=1,this._input=s;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=eu,o.tryEmit()},a.interval),Jo):eu}return Cl},r.failTimeout=function(){var s=this;return this._timer=setTimeout(function(){s.state=Cl},this.options.interval),Cl},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===eu&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Jx),O0=function(n){sa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,Fa({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(s){var o=this.options.pointers;return o===0||s.pointers.length===o},r.process=function(s){var o=this.state,a=s.eventType,l=o&(Jo|M0),c=this.attrTest(s);return l&&(a&Bs||!c)?o|Tw:l||c?a&Br?o|$d:o&Jo?o|M0:Jo:Cl},e}(Jx);function cbe(n){return n===I0?"down":n===Qx?"up":n===Kx?"left":n===Xx?"right":""}var KB=function(n){sa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,Fa({event:"pan",threshold:10,pointers:1,direction:Z0e},i))||this,s.pX=null,s.pY=null,s}var r=e.prototype;return r.getTouchAction=function(){var s=this.options.direction,o=[];return s&Nl&&o.push(Cw),s&Of&&o.push(Sw),o},r.directionTest=function(s){var o=this.options,a=!0,l=s.distance,c=s.direction,u=s.deltaX,d=s.deltaY;return c&o.direction||(o.direction&Nl?(c=u===0?y2:u<0?Kx:Xx,a=u!==this.pX,l=Math.abs(s.deltaX)):(c=d===0?y2:d<0?Qx:I0,a=d!==this.pY,l=Math.abs(s.deltaY))),s.direction=c,a&&l>o.threshold&&c&o.direction},r.attrTest=function(s){return O0.prototype.attrTest.call(this,s)&&(this.state&Jo||!(this.state&Jo)&&this.directionTest(s))},r.emit=function(s){this.pX=s.deltaX,this.pY=s.deltaY;var o=cbe(s.direction);o&&(s.additionalEvent=this.options.event+o),n.prototype.emit.call(this,s)},e}(O0),ube=function(n){sa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,Fa({event:"swipe",threshold:10,velocity:.3,direction:Nl|Of,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return KB.prototype.getTouchAction.call(this)},r.attrTest=function(s){var o=this.options.direction,a;return o&(Nl|Of)?a=s.overallVelocity:o&Nl?a=s.overallVelocityX:o&Of&&(a=s.overallVelocityY),n.prototype.attrTest.call(this,s)&&o&s.offsetDirection&&s.distance>this.options.threshold&&s.maxPointers===this.options.pointers&&sp(a)>this.options.velocity&&s.eventType&Br},r.emit=function(s){var o=cbe(s.offsetDirection);o&&this.manager.emit(this.options.event+o,s),this.manager.emit(this.options.event,s)},e}(O0),dbe=function(n){sa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,Fa({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Mf]},r.attrTest=function(s){return n.prototype.attrTest.call(this,s)&&(Math.abs(s.scale-1)>this.options.threshold||this.state&Jo)},r.emit=function(s){if(s.scale!==1){var o=s.scale<1?"in":"out";s.additionalEvent=this.options.event+o}n.prototype.emit.call(this,s)},e}(O0),hbe=function(n){sa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,Fa({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Mf]},r.attrTest=function(s){return n.prototype.attrTest.call(this,s)&&(Math.abs(s.rotation)>this.options.threshold||this.state&Jo)},e}(O0),fbe=function(n){sa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,Fa({event:"press",pointers:1,time:251,threshold:9},i))||this,s._timer=null,s._input=null,s}var r=e.prototype;return r.getTouchAction=function(){return[Q0e]},r.process=function(s){var o=this,a=this.options,l=s.pointers.length===a.pointers,c=s.distance<a.threshold,u=s.deltaTime>a.time;if(this._input=s,!c||!l||s.eventType&(Br|Bs)&&!u)this.reset();else if(s.eventType&cs)this.reset(),this._timer=setTimeout(function(){o.state=eu,o.tryEmit()},a.time);else if(s.eventType&Br)return eu;return Cl},r.reset=function(){clearTimeout(this._timer)},r.emit=function(s){this.state===eu&&(s&&s.eventType&Br?this.manager.emit(this.options.event+"up",s):(this._input.timeStamp=WB(),this.manager.emit(this.options.event,this._input)))},e}(Jx),pbe={domEvents:!1,touchAction:X0e,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},RZ=[[hbe,{enable:!1}],[dbe,{enable:!1},["rotate"]],[ube,{direction:Nl}],[KB,{direction:Nl},["swipe"]],[nN],[nN,{event:"doubletap",taps:2},["tap"]],[fbe]],krt=1,NZ=2;function jZ(n,e){var r=n.element;if(r.style){var i;Zc(n.options.cssProps,function(s,o){i=LE(r.style,o),e?(n.oldCssProps[i]=r.style[i],r.style[i]=s):r.style[i]=n.oldCssProps[i]||""}),e||(n.oldCssProps={})}}function Srt(n,e){var r=document.createEvent("Event");r.initEvent(n,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var BZ=function(){function n(r,i){var s=this;this.options=ip({},pbe,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=wrt(this),this.touchAction=new tbe(this,this.options.touchAction),jZ(this,!0),Zc(this.options.recognizers,function(o){var a=s.add(new o[0](o[1]));o[2]&&a.recognizeWith(o[2]),o[3]&&a.requireFailure(o[3])},this)}var e=n.prototype;return e.set=function(i){return ip(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?NZ:krt},e.recognize=function(i){var s=this.session;if(!s.stopped){this.touchAction.preventDefaults(i);var o,a=this.recognizers,l=s.curRecognizer;(!l||l&&l.state&eu)&&(s.curRecognizer=null,l=null);for(var c=0;c<a.length;)o=a[c],s.stopped!==NZ&&(!l||o===l||o.canRecognizeWith(l))?o.recognize(i):o.reset(),!l&&o.state&(Jo|M0|$d)&&(s.curRecognizer=o,l=o),c++}},e.get=function(i){if(i instanceof Jx)return i;for(var s=this.recognizers,o=0;o<s.length;o++)if(s[o].options.event===i)return s[o];return null},e.add=function(i){if(Um(i,"add",this))return this;var s=this.get(i.options.event);return s&&this.remove(s),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(Um(i,"remove",this))return this;var s=this.get(i);if(i){var o=this.recognizers,a=op(o,s);a!==-1&&(o.splice(a,1),this.touchAction.update())}return this},e.on=function(i,s){if(i===void 0||s===void 0)return this;var o=this.handlers;return Zc(Ew(i),function(a){o[a]=o[a]||[],o[a].push(s)}),this},e.off=function(i,s){if(i===void 0)return this;var o=this.handlers;return Zc(Ew(i),function(a){s?o[a]&&o[a].splice(op(o[a],s),1):delete o[a]}),this},e.emit=function(i,s){this.options.domEvents&&Srt(i,s);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){s.type=i,s.preventDefault=function(){s.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](s),a++}},e.destroy=function(){this.element&&jZ(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),Crt={touchstart:cs,touchmove:Sp,touchend:Br,touchcancel:Bs},Ert="touchstart",Art="touchstart touchmove touchend touchcancel",Trt=function(n){sa(e,n);function e(){var i,s=e.prototype;return s.evTarget=Ert,s.evWin=Art,i=n.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(s){var o=Crt[s.type];if(o===cs&&(this.started=!0),!!this.started){var a=Prt.call(this,s,o);o&(Br|Bs)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:Yx,srcEvent:s})}},e}(wb);function Prt(n,e){var r=Aw(n.touches),i=Aw(n.changedTouches);return e&(Br|Bs)&&(r=VB(r.concat(i),"identifier",!0)),[r,i]}function mbe(n,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var s=new Error("get-stack-trace"),o=s&&s.stack?s.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,i,o),n.apply(this,arguments)}}var gbe=mbe(function(n,e,r){for(var i=Object.keys(e),s=0;s<i.length;)(!r||r&&n[i[s]]===void 0)&&(n[i[s]]=e[i[s]]),s++;return n},"extend","Use `assign`."),Irt=mbe(function(n,e){return gbe(n,e,!0)},"merge","Use `assign`.");function Mrt(n,e,r){var i=e.prototype,s;s=n.prototype=Object.create(i),s.constructor=n,s._super=i,r&&ip(s,r)}function LZ(n,e){return function(){return n.apply(e,arguments)}}var XB=function(){var n=function(r,i){return i===void 0&&(i={}),new BZ(r,Fa({recognizers:RZ.concat()},i))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=Z0e,n.DIRECTION_DOWN=I0,n.DIRECTION_LEFT=Kx,n.DIRECTION_RIGHT=Xx,n.DIRECTION_UP=Qx,n.DIRECTION_HORIZONTAL=Nl,n.DIRECTION_VERTICAL=Of,n.DIRECTION_NONE=y2,n.DIRECTION_DOWN=I0,n.INPUT_START=cs,n.INPUT_MOVE=Sp,n.INPUT_END=Br,n.INPUT_CANCEL=Bs,n.STATE_POSSIBLE=jk,n.STATE_BEGAN=Jo,n.STATE_CHANGED=M0,n.STATE_ENDED=$d,n.STATE_RECOGNIZED=eu,n.STATE_CANCELLED=Tw,n.STATE_FAILED=Cl,n.Manager=BZ,n.Input=wb,n.TouchAction=tbe,n.TouchInput=GB,n.MouseInput=YB,n.PointerEventInput=abe,n.TouchMouseInput=lbe,n.SingleTouchInput=Trt,n.Recognizer=Jx,n.AttrRecognizer=O0,n.Tap=nN,n.Pan=KB,n.Swipe=ube,n.Pinch=dbe,n.Rotate=hbe,n.Press=fbe,n.on=ov,n.off=av,n.each=Zc,n.merge=Irt,n.extend=gbe,n.bindFn=LZ,n.assign=ip,n.inherit=Mrt,n.bindFn=LZ,n.prefixed=LE,n.toArray=Aw,n.inArray=op,n.uniqueArray=VB,n.splitStr=Ew,n.boolOrFn=FE,n.hasParent=HB,n.addEventListeners=ov,n.removeEventListeners=av,n.defaults=ip({},pbe,{preset:RZ}),n}();XB.defaults;const QB=uet("DELETE");function bbe(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return JB({},n,...r)}function JB(){const n=x2(...arguments);return vbe(n),n}function x2(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return x2(JB(e[0],e[1]),...yb(e).call(e,2));const i=e[0],s=e[1];if(i instanceof Date&&s instanceof Date)return i.setTime(s.getTime()),i;for(const o of F0e(s))Object.prototype.propertyIsEnumerable.call(s,o)&&(s[o]===QB?delete i[o]:i[o]!==null&&s[o]!==null&&typeof i[o]=="object"&&typeof s[o]=="object"&&!nn(i[o])&&!nn(s[o])?i[o]=x2(i[o],s[o]):i[o]=ybe(s[o]));return i}function ybe(n){return nn(n)?Tn(n).call(n,e=>ybe(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):x2({},n):n}function vbe(n){for(const e of Vr(n))n[e]===QB?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&vbe(n[e])}function Ort(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return Drt(e.length?e:[Zs()])}function Drt(n){let[e,r,i]=Rrt(n),s=1;const o=()=>{const a=2091639*e+s*23283064365386963e-26;return e=r,r=i,i=a-(s=a|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=n,o.version="0.9",o}function Rrt(){const n=Nrt();let e=n(" "),r=n(" "),i=n(" ");for(let s=0;s<arguments.length;s++)e-=n(s<0||arguments.length<=s?void 0:arguments[s]),e<0&&(e+=1),r-=n(s<0||arguments.length<=s?void 0:arguments[s]),r<0&&(r+=1),i-=n(s<0||arguments.length<=s?void 0:arguments[s]),i<0&&(i+=1);return[e,r,i]}function Nrt(){let n=4022871197;return function(e){const r=e.toString();for(let i=0;i<r.length;i++){n+=r.charCodeAt(i);let s=.02519603282416938*n;n=s>>>0,s-=n,s*=n,n=s>>>0,s-=n,n+=s*4294967296}return(n>>>0)*23283064365386963e-26}}function jrt(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const ZB=typeof window<"u"?window.Hammer||XB:function(){return jrt()};function El(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=ZB(this._dom.overlay);r.on("tap",Fe(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];bt(i).call(i,s=>{r.on(s,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=s=>{Brt(s.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=s=>{("key"in s?s.key==="Escape":s.keyCode===27)&&this.deactivate()}}UB(El.prototype);El.current=null;El.prototype.destroy=function(){this.deactivate();for(const r of utt(n=ts(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;r()}};El.prototype.activate=function(){El.current&&El.current.deactivate(),El.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};El.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};El.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function Brt(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const Lrt=/^\/?Date\((-?\d+)/i,Frt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$rt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,zrt=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Urt=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function lv(n){return n instanceof Number||typeof n=="number"}function wbe(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(wbe(e),n.removeChild(e))}}function no(n){return n instanceof String||typeof n=="string"}function rN(n){return typeof n=="object"&&n!==null}function Wrt(n){if(n instanceof Date)return!0;if(no(n)){if(Lrt.exec(n))return!0;if(!isNaN(Date.parse(n)))return!0}return!1}function ap(n,e,r,i){let s=!1;i===!0&&(s=e[r]===null&&n[r]!==void 0),s?delete n[r]:n[r]=e[r]}function xbe(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const i in n)if(e[i]!==void 0)if(e[i]===null||typeof e[i]!="object")ap(n,e,i,r);else{const s=n[i],o=e[i];rN(s)&&rN(o)&&xbe(s,o,r)}}const qrt=fu;function Hrt(n,e){if(!nn(n))throw new Error("Array with property names expected as first argument");for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];for(const o of i)for(let a=0;a<n.length;a++){const l=n[a];o&&Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e}function Vrt(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(nn(r))throw new TypeError("Arrays are not supported by deepExtend");for(let s=0;s<n.length;s++){const o=n[s];if(Object.prototype.hasOwnProperty.call(r,o))if(r[o]&&r[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?Pw(e[o],r[o],!1,i):ap(e,r,o,i);else{if(nn(r[o]))throw new TypeError("Arrays are not supported by deepExtend");ap(e,r,o,i)}}return e}function Grt(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(nn(r))throw new TypeError("Arrays are not supported by deepExtend");for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&!P0(n).call(n,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Pw(e[s],r[s]):ap(e,r,s,i);else if(nn(r[s])){e[s]=[];for(let o=0;o<r[s].length;o++)e[s].push(r[s][o])}else ap(e,r,s,i);return e}function Pw(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||r===!0)if(typeof e[o]=="object"&&e[o]!==null&&pJ(e[o])===Object.prototype)n[o]===void 0?n[o]=Pw({},e[o],r):typeof n[o]=="object"&&n[o]!==null&&pJ(n[o])===Object.prototype?Pw(n[o],e[o],r):ap(n,e,o,i);else if(nn(e[o])){var s;n[o]=yb(s=e[o]).call(s)}else ap(n,e,o,i);return n}function Yrt(n,e){if(n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(n[r]!=e[r])return!1;return!0}function Ry(n){const e=typeof n;return e==="object"?n===null?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":nn(n)?"Array":n instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function Iw(n,e){return[...n,e]}function _be(n){return yb(n).call(n)}function Krt(n){return n.getBoundingClientRect().left}function Xrt(n){return n.getBoundingClientRect().right}function Qrt(n){return n.getBoundingClientRect().top}function Jrt(n,e){let r=n.className.split(" ");const i=e.split(" ");r=Er(r).call(r,$t(i).call(i,function(s){return!P0(r).call(r,s)})),n.className=r.join(" ")}function Zrt(n,e){let r=n.className.split(" ");const i=e.split(" ");r=$t(r).call(r,function(s){return!P0(i).call(i,s)}),n.className=r.join(" ")}function eit(n,e){if(nn(n)){const r=n.length;for(let i=0;i<r;i++)e(n[i],i,n)}else for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(n[r],r,n)}const tit=$B;function nit(n,e,r){return n[e]!==r?(n[e]=r,!0):!1}function rit(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,n()}))}}function iit(n){n||(n=window.event),n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}function sit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return n&&(n.target?e=n.target:n.srcElement&&(e=n.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function oit(n,e){let r=n;for(;r;){if(r===e)return!0;if(r.parentNode)r=r.parentNode;else return!1}return!1}const ait={asBoolean(n,e){return typeof n=="function"&&(n=n()),n!=null?n!=!1:e||null},asNumber(n,e){return typeof n=="function"&&(n=n()),n!=null?Number(n)||e||null:e||null},asString(n,e){return typeof n=="function"&&(n=n()),n!=null?String(n):e||null},asSize(n,e){return typeof n=="function"&&(n=n()),no(n)?n:lv(n)?n+"px":e||null},asElement(n,e){return typeof n=="function"&&(n=n()),n||e||null}};function $E(n){let e;switch(n.length){case 3:case 4:return e=$rt.exec(n),e?{r:eo(e[1]+e[1],16),g:eo(e[2]+e[2],16),b:eo(e[3]+e[3],16)}:null;case 6:case 7:return e=Frt.exec(n),e?{r:eo(e[1],16),g:eo(e[2],16),b:eo(e[3],16)}:null;default:return null}}function lit(n,e){if(P0(n).call(n,"rgba"))return n;if(P0(n).call(n,"rgb")){const r=n.substr(jn(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=$E(n);return r==null?n:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function eL(n,e,r){var i;return"#"+yb(i=((1<<24)+(n<<16)+(e<<8)+r).toString(16)).call(i,1)}function cit(n,e){if(no(n)){let i=n;if(nL(i)){var r;const s=Tn(r=i.substr(4).substr(0,i.length-5).split(",")).call(r,function(o){return eo(o)});i=eL(s[0],s[1],s[2])}if(tL(i)===!0){const s=Sbe(i),o={h:s.h,s:s.s*.8,v:Math.min(1,s.v*1.02)},a={h:s.h,s:Math.min(1,s.s*1.25),v:s.v*.8},l=iN(a.h,a.s,a.v),c=iN(o.h,o.s,o.v);return{background:i,border:l,highlight:{background:c,border:l},hover:{background:c,border:l}}}else return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}else return e?{background:n.background||e.background,border:n.border||e.border,highlight:no(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:no(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:no(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:no(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function Wm(n,e,r){n=n/255,e=e/255,r=r/255;const i=Math.min(n,Math.min(e,r)),s=Math.max(n,Math.max(e,r));if(i===s)return{h:0,s:0,v:i};const o=n===i?e-r:r===i?n-e:r-n,l=60*((n===i?3:r===i?1:5)-o/(s-i))/360,c=(s-i)/s;return{h:l,s:c,v:s}}function kbe(n){const e=document.createElement("div"),r={};e.style.cssText=n;for(let i=0;i<e.style.length;++i)r[e.style[i]]=e.style.getPropertyValue(e.style[i]);return r}function uit(n,e){const r=kbe(e);for(const[i,s]of vnt(r))n.style.setProperty(i,s)}function dit(n,e){const r=kbe(e);for(const i of Vr(r))n.style.removeProperty(i)}function cv(n,e,r){let i,s,o;const a=Math.floor(n*6),l=n*6-a,c=r*(1-e),u=r*(1-l*e),d=r*(1-(1-l)*e);switch(a%6){case 0:i=r,s=d,o=c;break;case 1:i=u,s=r,o=c;break;case 2:i=c,s=r,o=d;break;case 3:i=c,s=u,o=r;break;case 4:i=d,s=c,o=r;break;case 5:i=r,s=c,o=u;break}return{r:Math.floor(i*255),g:Math.floor(s*255),b:Math.floor(o*255)}}function iN(n,e,r){const i=cv(n,e,r);return eL(i.r,i.g,i.b)}function Sbe(n){const e=$E(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return Wm(e.r,e.g,e.b)}function tL(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function nL(n){return zrt.test(n)}function Cbe(n){return Urt.test(n)}function hit(n,e){if(e!==null&&typeof e=="object"){const r=Gx(e);for(let i=0;i<n.length;i++)Object.prototype.hasOwnProperty.call(e,n[i])&&typeof e[n[i]]=="object"&&(r[n[i]]=rL(e[n[i]]));return r}else return null}function rL(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=Gx(n);for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&typeof n[r]=="object"&&(e[r]=rL(n[r]));return e}function fit(n,e){for(let r=0;r<n.length;r++){const i=n[r];let s;for(s=r;s>0&&e(i,n[s-1])<0;s--)n[s]=n[s-1];n[s]=i}return n}function pit(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=function(p){return p!=null},o=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!o(n))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!s(r))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");const l=function(p,m,b){o(p[b])||(p[b]={});const y=m[b],v=p[b];for(const w in y)Object.prototype.hasOwnProperty.call(y,w)&&(v[w]=y[w])},c=e[r],d=o(i)&&!a(i)?i[r]:void 0,h=d?d.enabled:void 0;if(c===void 0)return;if(typeof c=="boolean"){o(n[r])||(n[r]={}),n[r].enabled=c;return}if(c===null&&!o(n[r]))if(s(d))n[r]=Gx(d);else return;if(!o(c))return;let f=!0;c.enabled!==void 0?f=c.enabled:h!==void 0&&(f=d.enabled),l(n,e,r),n[r].enabled=f}function mit(n,e,r,i){let o=0,a=0,l=n.length-1;for(;a<=l&&o<1e4;){const c=Math.floor((a+l)/2),u=n[c],d=i===void 0?u[r]:u[r][i],h=e(d);if(h==0)return c;h==-1?a=c+1:l=c-1,o++}return-1}function git(n,e,r,i,s){let a=0,l=0,c=n.length-1,u,d,h,f;for(s=s??function(p,m){return p==m?0:p<m?-1:1};l<=c&&a<1e4;){if(f=Math.floor(.5*(c+l)),u=n[Math.max(0,f-1)][r],d=n[f][r],h=n[Math.min(n.length-1,f+1)][r],s(d,e)==0)return f;if(s(u,e)<0&&s(d,e)>0)return i=="before"?Math.max(0,f-1):f;if(s(d,e)<0&&s(h,e)>0)return i=="before"?f:Math.min(n.length-1,f+1);s(d,e)<0?l=f+1:c=f-1,a++}return-1}const bit={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function yit(){const n=document.createElement("p");n.style.width="100%",n.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(n),document.body.appendChild(e);const r=n.offsetWidth;e.style.overflow="scroll";let i=n.offsetWidth;return r==i&&(i=e.clientWidth),document.body.removeChild(e),r-i}function vit(n,e){let r;nn(e)||(e=[e]);for(const i of n)if(i){r=i[e[0]];for(let s=1;s<e.length;s++)r&&(r=r[e[s]]);if(typeof r<"u")break}return r}const wit={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Ebe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return wit[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;const s=this._isColorString(e);if(s!==void 0&&(e=s),no(e)===!0){if(nL(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(Cbe(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(tL(e)===!0){const o=$E(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Cs(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=fu({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=fu({},e)),this.color=e;const i=Wm(e.r,e.g,e.b),s=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(s*i.h),l=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Wm(this.color.r,this.color.g,this.color.b);r.v=e/100;const i=cv(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Wm(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),G0e(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Fe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Fe(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Fe(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Fe(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new ZB(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let s,o,a,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;const c=2*Math.PI/360,u=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(c*a),o=this.centerCoordinates.y+l*Math.cos(c*a),h=cv(a*u,l*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(s-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,s=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=s-o,u=Math.atan2(l,c),d=.98*Math.min(Math.sqrt(l*l+c*c),a),h=Math.cos(u)*d+o,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,b=Wm(this.color.r,this.color.g,this.color.b);b.h=p,b.s=m;const y=cv(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function sN(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const i=document.createElement(e[0]);return i.appendChild(sN(...yb(e).call(e,1))),i}}let xit=class{constructor(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},fu(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Ebe(s),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(nn(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),$t(e)!==void 0&&(this.options.filter=$t(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);$t(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=$t(this.options);let r=0,i=!1;for(const s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(s,[]),i=i||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||jn(e).call(e,s)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return bt(i).call(i,a=>{o.appendChild(a)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=document.createElement("div");if(s.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(sN("i","b",e))}else s.innerText=e+":";return s}_makeDropdown(e,r,i){const s=document.createElement("select");s.className="vis-configuration vis-config-select";let o=0;r!==void 0&&jn(e).call(e,r)!==-1&&(o=jn(e).call(e,r));for(let c=0;c<e.length;c++){const u=document.createElement("option");u.value=e[c],c===o&&(u.selected="selected"),u.innerText=e[c],s.appendChild(u)}const a=this;s.onchange=function(){a._update(this.value,i)};const l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_makeRange(e,r,i){const s=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch{}c.step=l;let u="",d=0;r!==void 0?(r<0&&r*1.2<o?(c.min=Math.ceil(r*1.2),d=c.min,u="range increased"):r/1.2<o&&(c.min=Math.ceil(r/1.2),d=c.min,u="range increased"),r*1.2>a&&a!==1&&(c.max=Math.ceil(r*1.2),d=c.max,u="range increased"),c.value=r):c.value=s;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=c.value;const f=this;c.onchange=function(){h.value=this.value,f._update(Number(this.value),i)},c.oninput=function(){h.value=this.value};const p=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,p,c,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){const s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));const o=this;s.onchange=function(){o._update(this.checked,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeTextInput(e,r,i){const s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:i,value:r});const o=this;s.onchange=function(){o._update(this.value,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeColorField(e,r,i){const s=e[1],o=document.createElement("div");r=r===void 0?s:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?s:r,o.onclick=()=>{this._showColorPicker(r,o,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(s=>{const o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1;const o=$t(this.options);let a=!1;for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)){s=!0;const c=e[l],u=Iw(r,l);if(typeof o=="function"&&(s=o(l,r),s===!1&&!nn(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,s=this._handleObject(c,u,!0),this.allowCreation=i===!1)),s!==!1){a=!0;const d=this._getValue(u);if(nn(c))this._handleArray(c,d,u);else if(typeof c=="string")this._makeTextInput(c,d,u);else if(typeof c=="boolean")this._makeCheckbox(c,d,u);else if(c instanceof Object){if(!this.hideOption(r,l,this.moduleOptions))if(c.enabled!==void 0){const h=Iw(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(l,u,!0);this._makeItem(u,p),a=this._handleObject(c,u)||a}else this._makeCheckbox(c,f,u)}else{const h=this._makeLabel(l,u,!0);this._makeItem(u,h),a=this._handleObject(c,u)||a}}else console.error("dont know how to handle",c,l,u)}}return a}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){const i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(s[r[o]]===void 0&&(s[r[o]]={}),o!==r.length-1?s=s[r[o]]:s[r[o]]=e);return i}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(sN("pre","const options = "+Cs(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},_it=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=eo(e),this.y=eo(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let a=0,l=0;if(this.overflowMethod=="flip"){let c=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+i>o-this.padding&&(c=!0),c?a=this.x-i:a=this.x,u?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},iy=!1,FZ;const oN="background: #FFeeee; color: #dd0000";let kit=class pr{static validate(e,r,i){iy=!1,FZ=r;let s=r;return i!==void 0&&(s=r[i]),pr.parse(e,s,[]),iy}static parse(e,r,i){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&pr.check(s,e,r,i)}static check(e,r,i,s){if(i[e]===void 0&&i.__any__===void 0){pr.getSuggestion(e,i,s);return}let o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=pr.getType(r[e])==="object");let l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),pr.checkFields(e,r,i,o,l,s)}static checkFields(e,r,i,s,o,a){const l=function(d){console.error("%c"+d+pr.printLocation(a,e),oN)},c=pr.getType(r[e]),u=o[c];u!==void 0?pr.getType(u)==="array"&&jn(u).call(u,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+pr.print(u)+' not "'+r[e]+'". '),iy=!0):c==="object"&&s!=="__any__"&&(a=Iw(a,e),pr.parse(r[e],i[s],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+pr.print(Vr(o))+". Received ["+c+'] "'+r[e]+'"'),iy=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":nn(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){const s=pr.findInOptions(e,r,i,!1),o=pr.findInOptions(e,FZ,[],!0),a=8,l=4;let c;s.indexMatch!==void 0?c=" in "+pr.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:o.distance<=l&&s.distance>o.distance?c=" in "+pr.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+pr.printLocation(o.path,o.closestMatch,""):s.distance<=a?c='. Did you mean "'+s.closestMatch+'"?'+pr.printLocation(s.path,e):c=". Did you mean one of these: "+pr.print(Vr(r))+pr.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+c,oN),iy=!0}static findInOptions(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,a="",l=[];const c=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&s===!0){const p=pr.findInOptions(e,r[h],Iw(i,h));o>p.distance&&(a=p.closestMatch,l=p.path,o=p.distance,u=p.indexMatch)}else{var d;jn(d=h.toLowerCase()).call(d,c)!==-1&&(u=h),f=pr.levenshteinDistance(e,h),o>f&&(a=h,l=_be(i),o=f)}}return{closestMatch:a,path:l,distance:o,indexMatch:u}}static printLocation(e,r){let s=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)s+="  ";s+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)s+="  ";s+=r+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)s+="  ";s+=`}
`}return s+`

`}static print(e){return Cs(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const i=[];let s;for(s=0;s<=r.length;s++)i[s]=[s];let o;for(o=0;o<=e.length;o++)i[0][o]=o;for(s=1;s<=r.length;s++)for(o=1;o<=e.length;o++)r.charAt(s-1)==e.charAt(o-1)?i[s][o]=i[s-1][o-1]:i[s][o]=Math.min(i[s-1][o-1]+1,Math.min(i[s][o-1]+1,i[s-1][o]+1));return i[r.length][e.length]}};const Sit=El,Cit=Ebe,Eit=xit,Ait=ZB,Tit=_it,Pit=oN,Iit=kit;var Mit=Object.freeze({__proto__:null,Activator:Sit,Alea:Ort,ColorPicker:Cit,Configurator:Eit,DELETE:QB,HSVToHex:iN,HSVToRGB:cv,Hammer:Ait,Popup:Tit,RGBToHSV:Wm,RGBToHex:eL,VALIDATOR_PRINT_STYLE:Pit,Validator:Iit,addClassName:Jrt,addCssText:uit,binarySearchCustom:mit,binarySearchValue:git,bridgeObject:rL,copyAndExtendArray:Iw,copyArray:_be,deepExtend:Pw,deepObjectAssign:JB,easingFunctions:bit,equalArray:Yrt,extend:qrt,fillIfDefined:xbe,forEach:eit,getAbsoluteLeft:Krt,getAbsoluteRight:Xrt,getAbsoluteTop:Qrt,getScrollBarWidth:yit,getTarget:sit,getType:Ry,hasParent:oit,hexToHSV:Sbe,hexToRGB:$E,insertSort:fit,isDate:Wrt,isNumber:lv,isObject:rN,isString:no,isValidHex:tL,isValidRGB:nL,isValidRGBA:Cbe,mergeOptions:pit,option:ait,overrideOpacity:lit,parseColor:cit,preventDefault:iit,pureDeepObjectAssign:bbe,recursiveDOMDelete:wbe,removeClassName:Zrt,removeCssText:dit,selectiveBridgeObject:hit,selectiveDeepExtend:Vrt,selectiveExtend:Hrt,selectiveNotDeepExtend:Grt,throttle:rit,toArray:tit,topMost:vit,updateProperty:nit});function ad(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].redundant=n[e].used,n[e].used=[])}function Lo(n){for(var e in n){if(!Object.prototype.hasOwnProperty.call(n,e))continue;const i=n[e];for(var r=0;r<i.redundant.length;r++)i.redundant[r].parentNode.removeChild(i.redundant[r]);i.redundant=[]}}function Oit(n){ad(n),Lo(n),ad(n)}function Ma(n,e,r){var i;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(i=e[n].redundant[0],e[n].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",n),r.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",n),e[n]={used:[],redundant:[]},r.appendChild(i)),e[n].used.push(i),i}function UI(n,e,r,i){var s;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(s=e[n].redundant[0],e[n].redundant.shift()):(s=document.createElement(n),i!==void 0?r.insertBefore(s,i):r.appendChild(s)):(s=document.createElement(n),e[n]={used:[],redundant:[]},i!==void 0?r.insertBefore(s,i):r.appendChild(s)),e[n].used.push(s),s}function D0(n,e,r,i,s,o){var a;if(r.style=="circle"?(a=Ma("circle",i,s),a.setAttributeNS(null,"cx",n),a.setAttributeNS(null,"cy",e),a.setAttributeNS(null,"r",.5*r.size)):(a=Ma("rect",i,s),a.setAttributeNS(null,"x",n-.5*r.size),a.setAttributeNS(null,"y",e-.5*r.size),a.setAttributeNS(null,"width",r.size),a.setAttributeNS(null,"height",r.size)),r.styles!==void 0&&a.setAttributeNS(null,"style",r.styles),a.setAttributeNS(null,"class",r.className+" vis-point"),o){var l=Ma("text",i,s);o.xOffset&&(n=n+o.xOffset),o.yOffset&&(e=e+o.yOffset),o.content&&(l.textContent=o.content),o.className&&l.setAttributeNS(null,"class",o.className+" vis-label"),l.setAttributeNS(null,"x",n),l.setAttributeNS(null,"y",e)}return a}function aN(n,e,r,i,s,o,a,l){if(i!=0){i<0&&(i*=-1,e-=i);var c=Ma("rect",o,a);c.setAttributeNS(null,"x",n-.5*r),c.setAttributeNS(null,"y",e),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",i),c.setAttributeNS(null,"class",s),l&&c.setAttributeNS(null,"style",l)}}function Dit(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}var WI,$Z;function Rit(){if($Z)return WI;$Z=1,I0e();var n=Hn();return WI=n.Object.getOwnPropertySymbols,WI}var qI,zZ;function Nit(){if(zZ)return qI;zZ=1;var n=Rit();return qI=n,qI}var HI,UZ;function jit(){return UZ||(UZ=1,HI=Nit()),HI}var Bit=jit(),_2=Bt(Bit),VI={exports:{}},WZ={},qZ;function Lit(){if(qZ)return WZ;qZ=1;var n=Ot(),e=mn(),r=Va(),i=PE().f,s=Dr(),o=!s||e(function(){i(1)});return n({target:"Object",stat:!0,forced:o,sham:!s},{getOwnPropertyDescriptor:function(l,c){return i(r(l),c)}}),WZ}var HZ;function Fit(){if(HZ)return VI.exports;HZ=1,Lit();var n=Hn(),e=n.Object,r=VI.exports=function(s,o){return e.getOwnPropertyDescriptor(s,o)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),VI.exports}var GI,VZ;function $it(){if(VZ)return GI;VZ=1;var n=Fit();return GI=n,GI}var YI,GZ;function zit(){return GZ||(GZ=1,YI=$it()),YI}var Uit=zit(),zE=Bt(Uit),YZ={},KZ;function Wit(){if(KZ)return YZ;KZ=1;var n=Ot(),e=Dr(),r=L0e(),i=Va(),s=PE(),o=IE();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(l){for(var c=i(l),u=s.f,d=r(c),h={},f=0,p,m;d.length>f;)m=u(c,p=d[f++]),m!==void 0&&o(h,p,m);return h}}),YZ}var KI,XZ;function qit(){if(XZ)return KI;XZ=1,Wit();var n=Hn();return KI=n.Object.getOwnPropertyDescriptors,KI}var XI,QZ;function Hit(){if(QZ)return XI;QZ=1;var n=qit();return XI=n,XI}var QI,JZ;function Vit(){return JZ||(JZ=1,QI=Hit()),QI}var Git=Vit(),k2=Bt(Git),JI={exports:{}},ZZ={},eee;function Yit(){if(eee)return ZZ;eee=1;var n=Ot(),e=Dr(),r=jB().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),ZZ}var tee;function Kit(){if(tee)return JI.exports;tee=1,Yit();var n=Hn(),e=n.Object,r=JI.exports=function(s,o){return e.defineProperties(s,o)};return e.defineProperties.sham&&(r.sham=!0),JI.exports}var ZI,nee;function Xit(){if(nee)return ZI;nee=1;var n=Kit();return ZI=n,ZI}var eM,ree;function Qit(){return ree||(ree=1,eM=Xit()),eM}var Jit=Qit(),Abe=Bt(Jit),tM={exports:{}},iee={},see;function Zit(){if(see)return iee;see=1;var n=Ot(),e=Dr(),r=ra().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),iee}var oee;function est(){if(oee)return tM.exports;oee=1,Zit();var n=Hn(),e=n.Object,r=tM.exports=function(s,o,a){return e.defineProperty(s,o,a)};return e.defineProperty.sham&&(r.sham=!0),tM.exports}var nM,aee;function Tbe(){if(aee)return nM;aee=1;var n=est();return nM=n,nM}var rM,lee;function tst(){if(lee)return rM;lee=1;var n=Tbe();return rM=n,rM}var iM,cee;function nst(){if(cee)return iM;cee=1;var n=tst();return iM=n,iM}var sM,uee;function rst(){return uee||(uee=1,sM=nst()),sM}var ist=rst(),sst=Bt(ist),dee={},hee;function ost(){if(hee)return dee;hee=1;var n=Lr(),e=ra().f,r=n("metadata"),i=Function.prototype;return i[r]===void 0&&e(i,r,{value:null}),dee}var fee={},pee;function ast(){return pee||(pee=1,M0e()),fee}var mee={},gee;function lst(){return gee||(gee=1,O0e()),mee}var bee={},yee;function cst(){if(yee)return bee;yee=1;var n=dr();return n("metadata"),bee}var oM,vee;function ust(){if(vee)return oM;vee=1;var n=B0e();return ost(),ast(),lst(),cst(),oM=n,oM}var wee={},aM,xee;function Pbe(){if(xee)return aM;xee=1;var n=vo(),e=vn(),r=n("Symbol"),i=r.keyFor,s=e(r.prototype.valueOf);return aM=r.isRegisteredSymbol||function(a){try{return i(s(a))!==void 0}catch{return!1}},aM}var _ee;function dst(){if(_ee)return wee;_ee=1;var n=Ot(),e=Pbe();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),wee}var kee={},lM,See;function Ibe(){if(See)return lM;See=1;for(var n=fb(),e=vo(),r=vn(),i=Lx(),s=Lr(),o=e("Symbol"),a=o.isWellKnownSymbol,l=e("Object","getOwnPropertyNames"),c=r(o.prototype.valueOf),u=n("wks"),d=0,h=l(o),f=h.length;d<f;d++)try{var p=h[d];i(o[p])&&s(p)}catch{}return lM=function(b){if(a&&a(b))return!0;try{for(var y=c(b),v=0,w=l(u),_=w.length;v<_;v++)if(u[w[v]]==y)return!0}catch{}return!1},lM}var Cee;function hst(){if(Cee)return kee;Cee=1;var n=Ot(),e=Ibe();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),kee}var Eee={},Aee;function fst(){if(Aee)return Eee;Aee=1;var n=dr();return n("customMatcher"),Eee}var Tee={},Pee;function pst(){if(Pee)return Tee;Pee=1;var n=dr();return n("observable"),Tee}var Iee={},Mee;function mst(){if(Mee)return Iee;Mee=1;var n=Ot(),e=Pbe();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Iee}var Oee={},Dee;function gst(){if(Dee)return Oee;Dee=1;var n=Ot(),e=Ibe();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Oee}var Ree={},Nee;function bst(){if(Nee)return Ree;Nee=1;var n=dr();return n("matcher"),Ree}var jee={},Bee;function yst(){if(Bee)return jee;Bee=1;var n=dr();return n("metadataKey"),jee}var Lee={},Fee;function vst(){if(Fee)return Lee;Fee=1;var n=dr();return n("patternMatch"),Lee}var $ee={},zee;function wst(){if(zee)return $ee;zee=1;var n=dr();return n("replaceAll"),$ee}var cM,Uee;function xst(){if(Uee)return cM;Uee=1;var n=ust();return dst(),hst(),fst(),pst(),mst(),gst(),bst(),yst(),vst(),wst(),cM=n,cM}var uM,Wee;function _st(){return Wee||(Wee=1,uM=xst()),uM}var kst=_st(),$_=Bt(kst),qee={},dM,Hee;function Sst(){if(Hee)return dM;Hee=1;var n=vn(),e=mb(),r=ia(),i=vu(),s=n("".charAt),o=n("".charCodeAt),a=n("".slice),l=function(c){return function(u,d){var h=r(i(u)),f=e(d),p=h.length,m,b;return f<0||f>=p?c?"":void 0:(m=o(h,f),m<55296||m>56319||f+1===p||(b=o(h,f+1))<56320||b>57343?c?s(h,f):m:c?a(h,f,f+2):(m-55296<<10)+(b-56320)+65536)}};return dM={codeAt:l(!1),charAt:l(!0)},dM}var Vee;function UE(){if(Vee)return qee;Vee=1;var n=Sst().charAt,e=ia(),r=Hx(),i=LB(),s=FB(),o="String Iterator",a=r.set,l=r.getterFor(o);return i(String,"String",function(c){a(this,{type:o,string:e(c),index:0})},function(){var u=l(this),d=u.string,h=u.index,f;return h>=d.length?s(void 0,!0):(f=n(d,h),u.index+=f.length,s(f,!1))}),qee}var hM,Gee;function Cst(){if(Gee)return hM;Gee=1,oh(),UE(),D0e();var n=jE();return hM=n.f("iterator"),hM}var fM,Yee;function Mbe(){if(Yee)return fM;Yee=1;var n=Cst();return ah(),fM=n,fM}var pM,Kee;function Est(){if(Kee)return pM;Kee=1;var n=Mbe();return pM=n,pM}var mM,Xee;function Ast(){if(Xee)return mM;Xee=1;var n=Est();return mM=n,mM}var gM,Qee;function Tst(){return Qee||(Qee=1,gM=Ast()),gM}var Pst=Tst(),Ist=Bt(Pst);function Mw(n){"@babel/helpers - typeof";return Mw=typeof $_=="function"&&typeof Ist=="symbol"?function(e){return typeof e}:function(e){return e&&typeof $_=="function"&&e.constructor===$_&&e!==$_.prototype?"symbol":typeof e},Mw(n)}var bM,Jee;function Mst(){if(Jee)return bM;Jee=1,R0e();var n=jE();return bM=n.f("toPrimitive"),bM}var yM,Zee;function Ost(){if(Zee)return yM;Zee=1;var n=Mst();return yM=n,yM}var vM,ete;function Dst(){if(ete)return vM;ete=1;var n=Ost();return vM=n,vM}var wM,tte;function Rst(){if(tte)return wM;tte=1;var n=Dst();return wM=n,wM}var xM,nte;function Nst(){return nte||(nte=1,xM=Rst()),xM}var jst=Nst(),Bst=Bt(jst);function Lst(n,e){if(Mw(n)!="object"||!n)return n;var r=n[Bst];if(r!==void 0){var i=r.call(n,e);if(Mw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fst(n){var e=Lst(n,"string");return Mw(e)=="symbol"?e:e+""}function Bn(n,e,r){return(e=Fst(e))in n?sst(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var rte={},_M,ite;function $st(){if(ite)return _M;ite=1;var n=Kl(),e=Us(),r=AE(),i=Ga(),s=TypeError,o="Reduce of empty array with no initial value",a=function(l){return function(c,u,d,h){var f=e(c),p=r(f),m=i(f);if(n(u),m===0&&d<2)throw new s(o);var b=l?m-1:0,y=l?-1:1;if(d<2)for(;;){if(b in p){h=p[b],b+=y;break}if(b+=y,l?b<0:m<=b)throw new s(o)}for(;l?b>=0:m>b;b+=y)b in p&&(h=u(h,p[b],b,f));return h}};return _M={left:a(!1),right:a(!0)},_M}var kM,ste;function zst(){if(ste)return kM;ste=1;var n=q0e();return kM=n==="NODE",kM}var ote;function Ust(){if(ote)return rte;ote=1;var n=Ot(),e=$st().left,r=vb(),i=Bx(),s=zst(),o=!s&&i>79&&i<83,a=o||!r("reduce");return n({target:"Array",proto:!0,forced:a},{reduce:function(c){var u=arguments.length;return e(this,c,u,u>1?arguments[1]:void 0)}}),rte}var SM,ate;function Wst(){if(ate)return SM;ate=1,Ust();var n=xr();return SM=n("Array","reduce"),SM}var CM,lte;function qst(){if(lte)return CM;lte=1;var n=Xn(),e=Wst(),r=Array.prototype;return CM=function(i){var s=i.reduce;return i===r||n(r,i)&&s===r.reduce?e:s},CM}var EM,cte;function Hst(){if(cte)return EM;cte=1;var n=qst();return EM=n,EM}var AM,ute;function Vst(){return ute||(ute=1,AM=Hst()),AM}var Gst=Vst(),WE=Bt(Gst),dte={},TM,hte;function Yst(){if(hte)return TM;hte=1;var n=rh(),e=Ga(),r=OB(),i=Fx(),s=function(o,a,l,c,u,d,h,f){for(var p=u,m=0,b=h?i(h,f):!1,y,v;m<c;)m in l&&(y=b?b(l[m],m,a):l[m],d>0&&n(y)?(v=e(y),p=s(o,a,y,v,p,d-1)-1):(r(p+1),o[p]=y),p++),m++;return p};return TM=s,TM}var fte;function Kst(){if(fte)return dte;fte=1;var n=Ot(),e=Yst(),r=Kl(),i=Us(),s=Ga(),o=ME();return n({target:"Array",proto:!0},{flatMap:function(l){var c=i(this),u=s(c),d;return r(l),d=o(c,0),d.length=e(d,c,c,u,0,1,l,arguments.length>1?arguments[1]:void 0),d}}),dte}var pte={},mte;function Xst(){if(mte)return pte;mte=1;var n=Vx();return n("flatMap"),pte}var PM,gte;function Qst(){if(gte)return PM;gte=1,Kst(),Xst();var n=xr();return PM=n("Array","flatMap"),PM}var IM,bte;function Jst(){if(bte)return IM;bte=1;var n=Xn(),e=Qst(),r=Array.prototype;return IM=function(i){var s=i.flatMap;return i===r||n(r,i)&&s===r.flatMap?e:s},IM}var MM,yte;function Zst(){if(yte)return MM;yte=1;var n=Jst();return MM=n,MM}var OM,vte;function eot(){return vte||(vte=1,OM=Zst()),OM}var tot=eot(),not=Bt(tot),DM,wte;function rot(){return wte||(wte=1,DM=Mbe()),DM}var iot=rot(),of=Bt(iot),xte={},_te={},RM={exports:{}},NM,kte;function sot(){if(kte)return NM;kte=1;var n=mn();return NM=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),NM}var jM,Ste;function oot(){if(Ste)return jM;Ste=1;var n=mn(),e=zi(),r=Yl(),i=sot(),s=Object.isExtensible,o=n(function(){});return jM=o||i?function(l){return!e(l)||i&&r(l)==="ArrayBuffer"?!1:s?s(l):!0}:s,jM}var BM,Cte;function aot(){if(Cte)return BM;Cte=1;var n=mn();return BM=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),BM}var Ete;function Obe(){if(Ete)return RM.exports;Ete=1;var n=Ot(),e=vn(),r=zx(),i=zi(),s=ci(),o=ra().f,a=RE(),l=E0e(),c=oot(),u=TE(),d=aot(),h=!1,f=u("meta"),p=0,m=function(x){o(x,f,{value:{objectID:"O"+p++,weakData:{}}})},b=function(x,k){if(!i(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!s(x,f)){if(!c(x))return"F";if(!k)return"E";m(x)}return x[f].objectID},y=function(x,k){if(!s(x,f)){if(!c(x))return!0;if(!k)return!1;m(x)}return x[f].weakData},v=function(x){return d&&h&&c(x)&&!s(x,f)&&m(x),x},w=function(){_.enable=function(){},h=!0;var x=a.f,k=e([].splice),C={};C[f]=1,x(C).length&&(a.f=function(E){for(var T=x(E),M=0,I=T.length;M<I;M++)if(T[M]===f){k(T,M,1);break}return T},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},_=RM.exports={enable:w,fastKey:b,getWeakData:y,onFreeze:v};return r[f]=!0,RM.exports}var LM,Ate;function lot(){if(Ate)return LM;Ate=1;var n=Lr(),e=bb(),r=n("iterator"),i=Array.prototype;return LM=function(s){return s!==void 0&&(e.Array===s||i[r]===s)},LM}var FM,Tte;function Dbe(){if(Tte)return FM;Tte=1;var n=ih(),e=PB(),r=jx(),i=bb(),s=Lr(),o=s("iterator");return FM=function(a){if(!r(a))return e(a,o)||e(a,"@@iterator")||i[n(a)]},FM}var $M,Pte;function Rbe(){if(Pte)return $M;Pte=1;var n=zs(),e=Kl(),r=wu(),i=db(),s=Dbe(),o=TypeError;return $M=function(a,l){var c=arguments.length<2?s(a):l;if(e(c))return r(n(c,a));throw new o(i(a)+" is not iterable")},$M}var zM,Ite;function iL(){if(Ite)return zM;Ite=1;var n=zs(),e=wu(),r=PB();return zM=function(i,s,o){var a,l;e(i);try{if(a=r(i,"return"),!a){if(s==="throw")throw o;return o}a=n(a,i)}catch(c){l=!0,a=c}if(s==="throw")throw o;if(l)throw a;return e(a),o},zM}var UM,Mte;function sL(){if(Mte)return UM;Mte=1;var n=Fx(),e=zs(),r=wu(),i=db(),s=lot(),o=Ga(),a=Xn(),l=Rbe(),c=Dbe(),u=iL(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return UM=function(p,m,b){var y=b&&b.that,v=!!(b&&b.AS_ENTRIES),w=!!(b&&b.IS_RECORD),_=!!(b&&b.IS_ITERATOR),x=!!(b&&b.INTERRUPTED),k=n(m,y),C,E,T,M,I,O,F,$=function(D){return C&&u(C,"normal"),new h(!0,D)},z=function(D){return v?(r(D),x?k(D[0],D[1],$):k(D[0],D[1])):x?k(D,$):k(D)};if(w)C=p.iterator;else if(_)C=p;else{if(E=c(p),!E)throw new d(i(p)+" is not iterable");if(s(E)){for(T=0,M=o(p);M>T;T++)if(I=z(p[T]),I&&a(f,I))return I;return new h(!1)}C=l(p,E)}for(O=w?p.next:C.next;!(F=e(O,C)).done;){try{I=z(F.value)}catch(D){u(C,"throw",D)}if(typeof I=="object"&&I&&a(f,I))return I}return new h(!1)},UM}var WM,Ote;function Nbe(){if(Ote)return WM;Ote=1;var n=Xn(),e=TypeError;return WM=function(r,i){if(n(i,r))return r;throw new e("Incorrect invocation")},WM}var qM,Dte;function jbe(){if(Dte)return qM;Dte=1;var n=Ot(),e=wr(),r=Obe(),i=mn(),s=pb(),o=sL(),a=Nbe(),l=li(),c=zi(),u=jx(),d=kp(),h=ra().f,f=sh().forEach,p=Dr(),m=Hx(),b=m.set,y=m.getterFor;return qM=function(v,w,_){var x=v.indexOf("Map")!==-1,k=v.indexOf("Weak")!==-1,C=x?"set":"add",E=e[v],T=E&&E.prototype,M={},I;if(!p||!l(E)||!(k||T.forEach&&!i(function(){new E().entries().next()})))I=_.getConstructor(w,v,x,C),r.enable();else{I=w(function($,z){b(a($,O),{type:v,collection:new E}),u(z)||o(z,$[C],{that:$,AS_ENTRIES:x})});var O=I.prototype,F=y(v);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function($){var z=$==="add"||$==="set";$ in T&&!(k&&$==="clear")&&s(O,$,function(D,j){var N=F(this).collection;if(!z&&k&&!c(D))return $==="get"?void 0:!1;var R=N[$](D===0?0:D,j);return z?this:R})}),k||h(O,"size",{configurable:!0,get:function(){return F(this).collection.size}})}return d(I,v,!1,!0),M[v]=I,n({global:!0,forced:!0},M),k||_.setStrong(I,v,x),I},qM}var HM,Rte;function cot(){if(Rte)return HM;Rte=1;var n=qx();return HM=function(e,r,i){for(var s in r)i&&i.unsafe&&e[s]?e[s]=r[s]:n(e,s,r[s],i);return e},HM}var VM,Nte;function uot(){if(Nte)return VM;Nte=1;var n=vo(),e=BB(),r=Lr(),i=Dr(),s=r("species");return VM=function(o){var a=n(o);i&&a&&!a[s]&&e(a,s,{configurable:!0,get:function(){return this}})},VM}var GM,jte;function Bbe(){if(jte)return GM;jte=1;var n=Wx(),e=BB(),r=cot(),i=Fx(),s=Nbe(),o=jx(),a=sL(),l=LB(),c=FB(),u=uot(),d=Dr(),h=Obe().fastKey,f=Hx(),p=f.set,m=f.getterFor;return GM={getConstructor:function(b,y,v,w){var _=b(function(T,M){s(T,x),p(T,{type:y,index:n(null),first:null,last:null,size:0}),d||(T.size=0),o(M)||a(M,T[w],{that:T,AS_ENTRIES:v})}),x=_.prototype,k=m(y),C=function(T,M,I){var O=k(T),F=E(T,M),$,z;return F?F.value=I:(O.last=F={index:z=h(M,!0),key:M,value:I,previous:$=O.last,next:null,removed:!1},O.first||(O.first=F),$&&($.next=F),d?O.size++:T.size++,z!=="F"&&(O.index[z]=F)),T},E=function(T,M){var I=k(T),O=h(M),F;if(O!=="F")return I.index[O];for(F=I.first;F;F=F.next)if(F.key===M)return F};return r(x,{clear:function(){for(var M=this,I=k(M),O=I.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=null),O=O.next;I.first=I.last=null,I.index=n(null),d?I.size=0:M.size=0},delete:function(T){var M=this,I=k(M),O=E(M,T);if(O){var F=O.next,$=O.previous;delete I.index[O.index],O.removed=!0,$&&($.next=F),F&&(F.previous=$),I.first===O&&(I.first=F),I.last===O&&(I.last=$),d?I.size--:M.size--}return!!O},forEach:function(M){for(var I=k(this),O=i(M,arguments.length>1?arguments[1]:void 0),F;F=F?F.next:I.first;)for(O(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(M){return!!E(this,M)}}),r(x,v?{get:function(M){var I=E(this,M);return I&&I.value},set:function(M,I){return C(this,M===0?0:M,I)}}:{add:function(M){return C(this,M=M===0?0:M,M)}}),d&&e(x,"size",{configurable:!0,get:function(){return k(this).size}}),_},setStrong:function(b,y,v){var w=y+" Iterator",_=m(y),x=m(w);l(b,y,function(k,C){p(this,{type:w,target:k,state:_(k),kind:C,last:null})},function(){for(var k=x(this),C=k.kind,E=k.last;E&&E.removed;)E=E.previous;return!k.target||!(k.last=E=E?E.next:k.state.first)?(k.target=null,c(void 0,!0)):c(C==="keys"?E.key:C==="values"?E.value:[E.key,E.value],!1)},v?"entries":"values",!v,!0),u(y)}},GM}var Bte;function dot(){if(Bte)return _te;Bte=1;var n=jbe(),e=Bbe();return n("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),_te}var Lte;function hot(){return Lte||(Lte=1,dot()),xte}var Fte={},YM,$te;function Lbe(){return $te||($te=1,YM=function(n,e){return e===1?function(r,i){return r[n](i)}:function(r,i,s){return r[n](i,s)}}),YM}var KM,zte;function fot(){if(zte)return KM;zte=1;var n=vo(),e=Lbe(),r=n("Map");return KM={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},KM}var Ute;function pot(){if(Ute)return Fte;Ute=1;var n=Ot(),e=vn(),r=Kl(),i=vu(),s=sL(),o=fot(),a=hb(),l=mn(),c=o.Map,u=o.has,d=o.get,h=o.set,f=e([].push),p=a||l(function(){return c.groupBy("ab",function(m){return m}).get("a").length!==1});return n({target:"Map",stat:!0,forced:a||p},{groupBy:function(b,y){i(b),r(y);var v=new c,w=0;return s(b,function(_){var x=y(_,w++);u(v,x)?f(d(v,x),_):h(v,x,[_])}),v}}),Fte}var XM,Wte;function mot(){if(Wte)return XM;Wte=1,oh(),hot(),pot(),UE();var n=Hn();return XM=n.Map,XM}var QM,qte;function got(){if(qte)return QM;qte=1;var n=mot();return ah(),QM=n,QM}var JM,Hte;function bot(){return Hte||(Hte=1,JM=got()),JM}var yot=bot(),Fbe=Bt(yot),Vte={},Gte={},Yte;function vot(){if(Yte)return Gte;Yte=1;var n=jbe(),e=Bbe();return n("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Gte}var Kte;function wot(){return Kte||(Kte=1,vot()),Vte}var Xte={},ZM,Qte;function Cp(){if(Qte)return ZM;Qte=1;var n=db(),e=TypeError;return ZM=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(n(r)+" is not a set")},ZM}var eO,Jte;function Ep(){if(Jte)return eO;Jte=1;var n=vo(),e=Lbe(),r=n("Set"),i=r.prototype;return eO={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:i},eO}var tO,Zte;function Ap(){if(Zte)return tO;Zte=1;var n=zs();return tO=function(e,r,i){for(var s=i?e:e.iterator,o=e.next,a,l;!(a=n(o,s)).done;)if(l=r(a.value),l!==void 0)return l},tO}var nO,ene;function Zx(){if(ene)return nO;ene=1;var n=Ap();return nO=function(e,r,i){return i?n(e.keys(),r,!0):e.forEach(r)},nO}var rO,tne;function oL(){if(tne)return rO;tne=1;var n=Ep(),e=Zx(),r=n.Set,i=n.add;return rO=function(s){var o=new r;return e(s,function(a){i(o,a)}),o},rO}var iO,nne;function e1(){return nne||(nne=1,iO=function(n){return n.size}),iO}var sO,rne;function xot(){return rne||(rne=1,sO=function(n){return{iterator:n,next:n.next,done:!1}}),sO}var oO,ine;function Tp(){if(ine)return oO;ine=1;var n=Kl(),e=wu(),r=zs(),i=mb(),s=xot(),o="Invalid size",a=RangeError,l=TypeError,c=Math.max,u=function(d,h){this.set=d,this.size=c(h,0),this.has=n(d.has),this.keys=n(d.keys)};return u.prototype={getIterator:function(){return s(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},oO=function(d){e(d);var h=+d.size;if(h!==h)throw new l(o);var f=i(h);if(f<0)throw new a(o);return new u(d,f)},oO}var aO,sne;function _ot(){if(sne)return aO;sne=1;var n=Cp(),e=Ep(),r=oL(),i=e1(),s=Tp(),o=Zx(),a=Ap(),l=e.has,c=e.remove;return aO=function(d){var h=n(this),f=s(d),p=r(h);return i(h)<=f.size?o(h,function(m){f.includes(m)&&c(p,m)}):a(f.getIterator(),function(m){l(p,m)&&c(p,m)}),p},aO}var lO,one;function Pp(){return one||(one=1,lO=function(){return!1}),lO}var ane;function kot(){if(ane)return Xte;ane=1;var n=Ot(),e=_ot(),r=mn(),i=Pp(),s=!i("difference",function(a){return a.size===0}),o=s||r(function(){var a={size:1,has:function(){return!0},keys:function(){var c=0;return{next:function(){var u=c++>1;return l.has(1)&&l.clear(),{done:u,value:2}}}}},l=new Set([1,2,3,4]);return l.difference(a).size!==3});return n({target:"Set",proto:!0,real:!0,forced:o},{difference:e}),Xte}var lne={},cO,cne;function Sot(){if(cne)return cO;cne=1;var n=Cp(),e=Ep(),r=e1(),i=Tp(),s=Zx(),o=Ap(),a=e.Set,l=e.add,c=e.has;return cO=function(d){var h=n(this),f=i(d),p=new a;return r(h)>f.size?o(f.getIterator(),function(m){c(h,m)&&l(p,m)}):s(h,function(m){f.includes(m)&&l(p,m)}),p},cO}var une;function Cot(){if(une)return lne;une=1;var n=Ot(),e=mn(),r=Sot(),i=Pp(),s=!i("intersection",function(o){return o.size===2&&o.has(1)&&o.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:s},{intersection:r}),lne}var dne={},uO,hne;function Eot(){if(hne)return uO;hne=1;var n=Cp(),e=Ep().has,r=e1(),i=Tp(),s=Zx(),o=Ap(),a=iL();return uO=function(c){var u=n(this),d=i(c);if(r(u)<=d.size)return s(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return o(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},uO}var fne;function Aot(){if(fne)return dne;fne=1;var n=Ot(),e=Eot(),r=Pp(),i=!r("isDisjointFrom",function(s){return!s});return n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:e}),dne}var pne={},dO,mne;function Tot(){if(mne)return dO;mne=1;var n=Cp(),e=e1(),r=Zx(),i=Tp();return dO=function(o){var a=n(this),l=i(o);return e(a)>l.size?!1:r(a,function(c){if(!l.includes(c))return!1},!0)!==!1},dO}var gne;function Pot(){if(gne)return pne;gne=1;var n=Ot(),e=Tot(),r=Pp(),i=!r("isSubsetOf",function(s){return s});return n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:e}),pne}var bne={},hO,yne;function Iot(){if(yne)return hO;yne=1;var n=Cp(),e=Ep().has,r=e1(),i=Tp(),s=Ap(),o=iL();return hO=function(l){var c=n(this),u=i(l);if(r(c)<u.size)return!1;var d=u.getIterator();return s(d,function(h){if(!e(c,h))return o(d,"normal",!1)})!==!1},hO}var vne;function Mot(){if(vne)return bne;vne=1;var n=Ot(),e=Iot(),r=Pp(),i=!r("isSupersetOf",function(s){return!s});return n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:e}),bne}var wne={},fO,xne;function Oot(){if(xne)return fO;xne=1;var n=Cp(),e=Ep(),r=oL(),i=Tp(),s=Ap(),o=e.add,a=e.has,l=e.remove;return fO=function(u){var d=n(this),h=i(u).getIterator(),f=r(d);return s(h,function(p){a(d,p)?l(f,p):o(f,p)}),f},fO}var pO,_ne;function $be(){return _ne||(_ne=1,pO=function(n){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},i=e[n](r);return i.size===1&&i.values().next().value===4}catch{return!1}}),pO}var kne;function Dot(){if(kne)return wne;kne=1;var n=Ot(),e=Oot(),r=$be(),i=Pp(),s=!i("symmetricDifference")||!r("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:s},{symmetricDifference:e}),wne}var Sne={},mO,Cne;function Rot(){if(Cne)return mO;Cne=1;var n=Cp(),e=Ep().add,r=oL(),i=Tp(),s=Ap();return mO=function(a){var l=n(this),c=i(a).getIterator(),u=r(l);return s(c,function(d){e(u,d)}),u},mO}var Ene;function Not(){if(Ene)return Sne;Ene=1;var n=Ot(),e=Rot(),r=$be(),i=Pp(),s=!i("union")||!r("union");return n({target:"Set",proto:!0,real:!0,forced:s},{union:e}),Sne}var gO,Ane;function jot(){if(Ane)return gO;Ane=1,oh(),wot(),kot(),Cot(),Aot(),Pot(),Mot(),Dot(),Not(),UE();var n=Hn();return gO=n.Set,gO}var bO,Tne;function Bot(){if(Tne)return bO;Tne=1;var n=jot();return ah(),bO=n,bO}var yO,Pne;function Lot(){return Pne||(Pne=1,yO=Bot()),yO}var Fot=Lot(),zd=Bt(Fot),vO,Ine;function $ot(){if(Ine)return vO;Ine=1,oh(),UE();var n=Rbe();return vO=n,vO}var wO,Mne;function zot(){if(Mne)return wO;Mne=1;var n=$ot();return ah(),wO=n,wO}var xO,One;function Uot(){if(One)return xO;One=1;var n=zot();return xO=n,xO}var _O,Dne;function Wot(){if(Dne)return _O;Dne=1;var n=Uot();return _O=n,_O}var kO,Rne;function qot(){return Rne||(Rne=1,kO=Wot()),kO}var SO,Nne;function Hot(){return Nne||(Nne=1,SO=qot()),SO}var Vot=Hot(),CO=Bt(Vot),jne={},EO,Bne;function Got(){if(Bne)return EO;Bne=1;var n=gb(),e=Math.floor,r=function(i,s){var o=i.length;if(o<8)for(var a=1,l,c;a<o;){for(c=a,l=i[a];c&&s(i[c-1],l)>0;)i[c]=i[--c];c!==a++&&(i[c]=l)}else for(var u=e(o/2),d=r(n(i,0,u),s),h=r(n(i,u),s),f=d.length,p=h.length,m=0,b=0;m<f||b<p;)i[m+b]=m<f&&b<p?s(d[m],h[b])<=0?d[m++]:h[b++]:m<f?d[m++]:h[b++];return i};return EO=r,EO}var AO,Lne;function Yot(){if(Lne)return AO;Lne=1;var n=cb(),e=n.match(/firefox\/(\d+)/i);return AO=!!e&&+e[1],AO}var TO,Fne;function Kot(){if(Fne)return TO;Fne=1;var n=cb();return TO=/MSIE|Trident/.test(n),TO}var PO,$ne;function Xot(){if($ne)return PO;$ne=1;var n=cb(),e=n.match(/AppleWebKit\/(\d+)\./);return PO=!!e&&+e[1],PO}var zne;function Qot(){if(zne)return jne;zne=1;var n=Ot(),e=vn(),r=Kl(),i=Us(),s=Ga(),o=$0e(),a=ia(),l=mn(),c=Got(),u=vb(),d=Yot(),h=Kot(),f=Bx(),p=Xot(),m=[],b=e(m.sort),y=e(m.push),v=l(function(){m.sort(void 0)}),w=l(function(){m.sort(null)}),_=u("sort"),x=!l(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var E="",T,M,I,O;for(T=65;T<76;T++){switch(M=String.fromCharCode(T),T){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(O=0;O<47;O++)m.push({k:M+O,v:I})}for(m.sort(function(F,$){return $.v-F.v}),O=0;O<m.length;O++)M=m[O].k.charAt(0),E.charAt(E.length-1)!==M&&(E+=M);return E!=="DGBEFHACIJK"}}),k=v||!w||!_||!x,C=function(E){return function(T,M){return M===void 0?-1:T===void 0?1:E!==void 0?+E(T,M)||0:a(T)>a(M)?1:-1}};return n({target:"Array",proto:!0,forced:k},{sort:function(T){T!==void 0&&r(T);var M=i(this);if(x)return T===void 0?b(M):b(M,T);var I=[],O=s(M),F,$;for($=0;$<O;$++)$ in M&&y(I,M[$]);for(c(I,C(T)),F=s(I),$=0;$<F;)M[$]=I[$++];for(;$<O;)o(M,$++);return M}}),jne}var IO,Une;function Jot(){if(Une)return IO;Une=1,Qot();var n=xr();return IO=n("Array","sort"),IO}var MO,Wne;function Zot(){if(Wne)return MO;Wne=1;var n=Xn(),e=Jot(),r=Array.prototype;return MO=function(i){var s=i.sort;return i===r||n(r,i)&&s===r.sort?e:s},MO}var OO,qne;function eat(){if(qne)return OO;qne=1;var n=Zot();return OO=n,OO}var DO,Hne;function tat(){return Hne||(Hne=1,DO=eat()),DO}var nat=tat(),Ir=Bt(nat),Vne={},Gne;function rat(){if(Gne)return Vne;Gne=1;var n=Ot(),e=sh().some,r=vb(),i=r("some");return n({target:"Array",proto:!0,forced:!i},{some:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),Vne}var RO,Yne;function iat(){if(Yne)return RO;Yne=1,rat();var n=xr();return RO=n("Array","some"),RO}var NO,Kne;function sat(){if(Kne)return NO;Kne=1;var n=Xn(),e=iat(),r=Array.prototype;return NO=function(i){var s=i.some;return i===r||n(r,i)&&s===r.some?e:s},NO}var jO,Xne;function oat(){if(Xne)return jO;Xne=1;var n=sat();return jO=n,jO}var BO,Qne;function aat(){return Qne||(Qne=1,BO=oat()),BO}var lat=aat(),aL=Bt(lat),LO,Jne;function cat(){if(Jne)return LO;Jne=1,oh();var n=xr();return LO=n("Array","keys"),LO}var FO,Zne;function uat(){if(Zne)return FO;Zne=1;var n=cat();return FO=n,FO}var $O,ere;function dat(){if(ere)return $O;ere=1,ah();var n=ih(),e=ci(),r=Xn(),i=uat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return $O=function(a){var l=a.keys;return a===s||r(s,a)&&l===s.keys||e(o,n(a))?i:l},$O}var zO,tre;function hat(){return tre||(tre=1,zO=dat()),zO}var fat=hat(),$h=Bt(fat),UO,nre;function pat(){if(nre)return UO;nre=1,oh();var n=xr();return UO=n("Array","values"),UO}var WO,rre;function mat(){if(rre)return WO;rre=1;var n=pat();return WO=n,WO}var qO,ire;function gat(){if(ire)return qO;ire=1,ah();var n=ih(),e=ci(),r=Xn(),i=mat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return qO=function(a){var l=a.values;return a===s||r(s,a)&&l===s.values||e(o,n(a))?i:l},qO}var HO,sre;function bat(){return sre||(sre=1,HO=gat()),HO}var yat=bat(),ore=Bt(yat),VO,are;function vat(){if(are)return VO;are=1,oh();var n=xr();return VO=n("Array","entries"),VO}var GO,lre;function wat(){if(lre)return GO;lre=1;var n=vat();return GO=n,GO}var YO,cre;function xat(){if(cre)return YO;cre=1,ah();var n=ih(),e=ci(),r=Xn(),i=wat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return YO=function(a){var l=a.entries;return a===s||r(s,a)&&l===s.entries||e(o,n(a))?i:l},YO}var KO,ure;function _at(){return ure||(ure=1,KO=xat()),KO}var kat=_at(),Sat=Bt(kat),XO,dre;function Cat(){return dre||(dre=1,XO=Tbe()),XO}var Eat=Cat(),qE=Bt(Eat);const pi=[];for(let n=0;n<256;++n)pi.push((n+256).toString(16).slice(1));function Aat(n,e=0){return(pi[n[e+0]]+pi[n[e+1]]+pi[n[e+2]]+pi[n[e+3]]+"-"+pi[n[e+4]]+pi[n[e+5]]+"-"+pi[n[e+6]]+pi[n[e+7]]+"-"+pi[n[e+8]]+pi[n[e+9]]+"-"+pi[n[e+10]]+pi[n[e+11]]+pi[n[e+12]]+pi[n[e+13]]+pi[n[e+14]]+pi[n[e+15]]).toLowerCase()}let QO;const Tat=new Uint8Array(16);function Pat(){if(!QO){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");QO=crypto.getRandomValues.bind(crypto)}return QO(Tat)}const Iat=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var hre={randomUUID:Iat};function Mat(n,e,r){var s;n=n||{};const i=n.random??((s=n.rng)==null?void 0:s.call(n))??Pat();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Aat(i)}function Df(n,e,r){return hre.randomUUID&&!n?hre.randomUUID():Mat(n)}function fre(n,e){var r=Vr(n);if(_2){var i=_2(n);e&&(i=$t(i).call(i,function(s){return zE(n,s).enumerable})),r.push.apply(r,i)}return r}function pre(n){for(var e=1;e<arguments.length;e++){var r,i,s=arguments[e]!=null?arguments[e]:{};e%2?bt(r=fre(Object(s),!0)).call(r,function(o){Bn(n,o,s[o])}):k2?Abe(n,k2(s)):bt(i=fre(Object(s))).call(i,function(o){qE(n,o,zE(s,o))})}return n}function Oat(n){return new Rat(n)}class Dat{constructor(e,r,i){var s,o,a;Bn(this,"_source",void 0),Bn(this,"_transformers",void 0),Bn(this,"_target",void 0),Bn(this,"_listeners",{add:Fe(s=this._add).call(s,this),remove:Fe(o=this._remove).call(o,this),update:Fe(a=this._update).call(a,this)}),this._source=e,this._transformers=r,this._target=i}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){var r;return WE(r=this._transformers).call(r,(i,s)=>s(i),e)}_add(e,r){r!=null&&this._target.add(this._transformItems(this._source.get(r.items)))}_update(e,r){r!=null&&this._target.update(this._transformItems(this._source.get(r.items)))}_remove(e,r){r!=null&&this._target.remove(this._transformItems(r.oldData))}}class Rat{constructor(e){Bn(this,"_source",void 0),Bn(this,"_transformers",[]),this._source=e}filter(e){return this._transformers.push(r=>$t(r).call(r,e)),this}map(e){return this._transformers.push(r=>Tn(r).call(r,e)),this}flatMap(e){return this._transformers.push(r=>not(r).call(r,e)),this}to(e){return new Dat(this._source,this._transformers,e)}}function lN(n){return typeof n=="string"||typeof n=="number"}class lL{constructor(e){Bn(this,"delay",void 0),Bn(this,"max",void 0),Bn(this,"_queue",[]),Bn(this,"_timeout",null),Bn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const i=new lL(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{i.flush()};const s=[{name:"flush",original:void 0}];if(r&&r.replace)for(let o=0;o<r.replace.length;o++){const a=r.replace[o];s.push({name:a,original:e[a]}),i.replace(e,a)}return i._extended={object:e,methods:s},i}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let i=0;i<r.length;i++){const s=r[i];s.original?e[s.name]=s.original:delete e[s.name]}this._extended=null}}replace(e,r){const i=this,s=e[r];if(!s)throw new Error("Method "+r+" undefined");e[r]=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.queue({args:a,fn:s,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Bi(()=>{this.flush()},this.delay))}flush(){var e,r;bt(e=ts(r=this._queue).call(r,0)).call(e,i=>{i.fn.apply(i.context||i.fn,i.args||[])})}}class Ow{constructor(){Bn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Bn(this,"subscribe",Ow.prototype.on),Bn(this,"unsubscribe",Ow.prototype.off)}_trigger(e,r,i){var s;if(e==="*")throw new Error("Cannot trigger event *");bt(s=[...this._subscribers[e],...this._subscribers["*"]]).call(s,o=>{o(e,r,i??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var i;this._subscribers[e]=$t(i=this._subscribers[e]).call(i,s=>s!==r)}}class af{constructor(e){Bn(this,"_pairs",void 0),this._pairs=e}*[of](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Tn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Tn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Gx(null);for(const[r,i]of this._pairs)e[r]=i;return e}toMap(){return new Fbe(this._pairs)}toIdSet(){return new zd(this.toIdArray())}toItemSet(){return new zd(this.toItemArray())}cache(){return new af([...this._pairs])}distinct(e){const r=new zd;for(const[i,s]of this._pairs)r.add(e(s,i));return r}filter(e){const r=this._pairs;return new af({*[of](){for(const[i,s]of r)e(s,i)&&(yield[i,s])}})}forEach(e){for(const[r,i]of this._pairs)e(i,r)}map(e){const r=this._pairs;return new af({*[of](){for(const[i,s]of r)yield[i,e(s,i)]}})}max(e){const r=CO(this._pairs);let i=r.next();if(i.done)return null;let s=i.value[1],o=e(i.value[1],i.value[0]);for(;!(i=r.next()).done;){const[a,l]=i.value,c=e(l,a);c>o&&(o=c,s=l)}return s}min(e){const r=CO(this._pairs);let i=r.next();if(i.done)return null;let s=i.value[1],o=e(i.value[1],i.value[0]);for(;!(i=r.next()).done;){const[a,l]=i.value,c=e(l,a);c<o&&(o=c,s=l)}return s}reduce(e,r){for(const[i,s]of this._pairs)r=e(r,s,i);return r}sort(e){return new af({[of]:()=>{var r;return CO(Ir(r=[...this._pairs]).call(r,(i,s)=>{let[o,a]=i,[l,c]=s;return e(a,c,o,l)}))}})}}function Nat(n,e){return n[e]==null&&(n[e]=Df()),n}class R0 extends Ow{get idProp(){return this._idProp}constructor(e,r){super(),Bn(this,"flush",void 0),Bn(this,"length",void 0),Bn(this,"_options",void 0),Bn(this,"_data",void 0),Bn(this,"_idProp",void 0),Bn(this,"_queue",null),e&&!nn(e)&&(r=e,e=[]),this._options=r||{},this._data=new Fbe,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=lL.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const i=[];let s;if(nn(e)){const o=Tn(e).call(e,a=>a[this._idProp]);if(aL(o).call(o,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,l=e.length;a<l;a++)s=this._addItem(e[a]),i.push(s)}else if(e&&typeof e=="object")s=this._addItem(e),i.push(s);else throw new Error("Unknown dataType");return i.length&&this._trigger("add",{items:i},r),i}update(e,r){const i=[],s=[],o=[],a=[],l=this._idProp,c=u=>{const d=u[l];if(d!=null&&this._data.has(d)){const h=u,f=fu({},this._data.get(d)),p=this._updateItem(h);s.push(p),a.push(h),o.push(f)}else{const h=this._addItem(u);i.push(h)}};if(nn(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?c(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")c(e);else throw new Error("Unknown dataType");if(i.length&&this._trigger("add",{items:i},r),s.length){const u={items:s,oldData:o,data:a};this._trigger("update",u,r)}return Er(i).call(i,s)}updateOnly(e,r){var i;nn(e)||(e=[e]);const s=Tn(i=Tn(e).call(e,o=>{const a=this._data.get(o[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:o}})).call(i,o=>{let{oldData:a,update:l}=o;const c=a[this._idProp],u=bbe(a,l);return this._data.set(c,u),{id:c,oldData:a,updatedData:u}});if(s.length){const o={items:Tn(s).call(s,a=>a.id),oldData:Tn(s).call(s,a=>a.oldData),data:Tn(s).call(s,a=>a.updatedData)};return this._trigger("update",o,r),o.items}else return[]}get(e,r){let i,s,o;lN(e)?(i=e,o=r):nn(e)?(s=e,o=r):o=e;const a=o&&o.returnType==="Object"?"Object":"Array",l=o&&$t(o),c=[];let u,d,h;if(i!=null)u=this._data.get(i),u&&l&&!l(u)&&(u=void 0);else if(s!=null)for(let p=0,m=s.length;p<m;p++)u=this._data.get(s[p]),u!=null&&(!l||l(u))&&c.push(u);else{var f;d=[...$h(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],u=this._data.get(h),u!=null&&(!l||l(u))&&c.push(u)}if(o&&o.order&&i==null&&this._sort(c,o.order),o&&o.fields){const p=o.fields;if(i!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,b=c.length;m<b;m++)c[m]=this._filterFields(c[m],p)}if(a=="Object"){const p={};for(let m=0,b=c.length;m<b;m++){const y=c[m],v=y[this._idProp];p[v]=y}return p}else return i!=null?u??null:c}getIds(e){const r=this._data,i=e&&$t(e),s=e&&e.order,o=[...$h(r).call(r)],a=[];if(i)if(s){const l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c],h=this._data.get(d);h!=null&&i(h)&&l.push(h)}this._sort(l,s);for(let c=0,u=l.length;c<u;c++)a.push(l[c][this._idProp])}else for(let l=0,c=o.length;l<c;l++){const u=o[l],d=this._data.get(u);d!=null&&i(d)&&a.push(d[this._idProp])}else if(s){const l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];l.push(r.get(d))}this._sort(l,s);for(let c=0,u=l.length;c<u;c++)a.push(l[c][this._idProp])}else for(let l=0,c=o.length;l<c;l++){const u=o[l],d=r.get(u);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const i=r&&$t(r),s=this._data,o=[...$h(s).call(s)];if(r&&r.order){const a=this.get(r);for(let l=0,c=a.length;l<c;l++){const u=a[l],d=u[this._idProp];e(u,d)}}else for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!i||i(u))&&e(u,c)}}map(e,r){const i=r&&$t(r),s=[],o=this._data,a=[...$h(o).call(o)];for(let l=0,c=a.length;l<c;l++){const u=a[l],d=this._data.get(u);d!=null&&(!i||i(d))&&s.push(e(d,u))}return r&&r.order&&this._sort(s,r.order),s}_filterFields(e,r){var i;return e&&WE(i=nn(r)?r:Vr(r)).call(i,(s,o)=>(s[o]=e[o],s),{})}_sort(e,r){if(typeof r=="string"){const i=r;Ir(e).call(e,(s,o)=>{const a=s[i],l=o[i];return a>l?1:a<l?-1:0})}else if(typeof r=="function")Ir(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const i=[],s=[],o=nn(e)?e:[e];for(let a=0,l=o.length;a<l;a++){const c=this._remove(o[a]);if(c){const u=c[this._idProp];u!=null&&(i.push(u),s.push(c))}}return i.length&&this._trigger("remove",{items:i,oldData:s},r),i}_remove(e){let r;if(lN(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const i=this._data.get(r)||null;return this._data.delete(r),--this.length,i}return null}clear(e){var r;const i=[...$h(r=this._data).call(r)],s=[];for(let o=0,a=i.length;o<a;o++)s.push(this._data.get(i[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:s},e),i}max(e){let r=null,i=null;for(const o of ore(s=this._data).call(s)){var s;const a=o[e];typeof a=="number"&&(i==null||a>i)&&(r=o,i=a)}return r||null}min(e){let r=null,i=null;for(const o of ore(s=this._data).call(s)){var s;const a=o[e];typeof a=="number"&&(i==null||a<i)&&(r=o,i=a)}return r||null}distinct(e){const r=this._data,i=[...$h(r).call(r)],s=[];let o=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],d=r.get(c)[e];let h=!1;for(let f=0;f<o;f++)if(s[f]==d){h=!0;break}!h&&d!==void 0&&(s[o]=d,o++)}return s}_addItem(e){const r=Nat(e,this._idProp),i=r[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,r),++this.length,i}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Cs(e)+")");const i=this._data.get(r);if(!i)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,pre(pre({},i),e)),r}stream(e){if(e){const i=this._data;return new af({*[of](){for(const s of e){const o=i.get(s);o!=null&&(yield[s,o])}}})}else{var r;return new af({[of]:Fe(r=Sat(this._data)).call(r,this._data)})}}}let jat=class zbe extends Ow{get idProp(){return this.getDataSet().idProp}constructor(e,r){var i;super(),Bn(this,"length",0),Bn(this,"_listener",void 0),Bn(this,"_data",void 0),Bn(this,"_ids",new zd),Bn(this,"_options",void 0),this._options=r||{},this._listener=Fe(i=this._onEvent).call(i,this),this.setData(e)}setData(e){if(this._data){this._data.off&&this._data.off("*",this._listener);const r=this._data.getIds({filter:$t(this._options)}),i=this._data.get(r);this._ids.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i})}if(e!=null){this._data=e;const r=this._data.getIds({filter:$t(this._options)});for(let i=0,s=r.length;i<s;i++){const o=r[i];this._ids.add(o)}this.length=r.length,this._trigger("add",{items:r})}else this._data=new R0;this._data.on&&this._data.on("*",this._listener)}refresh(){const e=this._data.getIds({filter:$t(this._options)}),r=[...this._ids],i={},s=[],o=[],a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];i[u]=!0,this._ids.has(u)||(s.push(u),this._ids.add(u))}for(let l=0,c=r.length;l<c;l++){const u=r[l],d=this._data.get(u);d==null?console.error("If you see this, report it please."):i[u]||(o.push(u),a.push(d),this._ids.delete(u))}this.length+=s.length-o.length,s.length&&this._trigger("add",{items:s}),o.length&&this._trigger("remove",{items:o,oldData:a})}get(e,r){if(this._data==null)return null;let i=null,s;lN(e)||nn(e)?(i=e,s=r):s=e;const o=fu({},this._options,s),a=$t(this._options),l=s&&$t(s);return a&&l&&(o.filter=c=>a(c)&&l(c)),i==null?this._data.get(o):this._data.get(i,o)}getIds(e){if(this._data.length){const r=$t(this._options),i=e!=null?$t(e):null;let s;return i?r?s=o=>r(o)&&i(o):s=i:s=r,this._data.getIds({filter:s,order:e&&e.order})}else return[]}forEach(e,r){if(this._data){var i;const s=$t(this._options),o=r&&$t(r);let a;o?s?a=function(l){return s(l)&&o(l)}:a=o:a=s,bt(i=this._data).call(i,e,{filter:a,order:r&&r.order})}}map(e,r){if(this._data){var i;const s=$t(this._options),o=r&&$t(r);let a;return o?s?a=l=>s(l)&&o(l):a=o:a=s,Tn(i=this._data).call(i,e,{filter:a,order:r&&r.order})}else return[]}getDataSet(){return this._data.getDataSet()}stream(e){var r;return this._data.stream(e||{[of]:Fe(r=$h(this._ids)).call(r,this._ids)})}dispose(){var e;(e=this._data)!==null&&e!==void 0&&e.off&&this._data.off("*",this._listener);const r="This data view has already been disposed of.",i={get:()=>{throw new Error(r)},set:()=>{throw new Error(r)},configurable:!1};for(const s of F0e(zbe.prototype))qE(this,s,i)}_onEvent(e,r,i){if(!r||!r.items||!this._data)return;const s=r.items,o=[],a=[],l=[],c=[],u=[],d=[];switch(e){case"add":for(let h=0,f=s.length;h<f;h++){const p=s[h];this.get(p)&&(this._ids.add(p),o.push(p))}break;case"update":for(let h=0,f=s.length;h<f;h++){const p=s[h];this.get(p)?this._ids.has(p)?(a.push(p),u.push(r.data[h]),c.push(r.oldData[h])):(this._ids.add(p),o.push(p)):this._ids.has(p)&&(this._ids.delete(p),l.push(p),d.push(r.oldData[h]))}break;case"remove":for(let h=0,f=s.length;h<f;h++){const p=s[h];this._ids.has(p)&&(this._ids.delete(p),l.push(p),d.push(r.oldData[h]))}break}this.length+=o.length-l.length,o.length&&this._trigger("add",{items:o},i),a.length&&this._trigger("update",{items:a,oldData:c,data:u},i),l.length&&this._trigger("remove",{items:l,oldData:d},i)}};function Bat(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof bt(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Tn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function Lat(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof bt(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Tn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Bat(n,e.getDataSet())}var Fat=Ha(),Oo=Bt(Fat);const ns=typeof window<"u"&&window.moment||Oo;var z_={exports:{}},Zn={},U_={exports:{}},Th={},mre;function Ube(){if(mre)return Th;mre=1;function n(){var o={};return o["align-content"]=!1,o["align-items"]=!1,o["align-self"]=!1,o["alignment-adjust"]=!1,o["alignment-baseline"]=!1,o.all=!1,o["anchor-point"]=!1,o.animation=!1,o["animation-delay"]=!1,o["animation-direction"]=!1,o["animation-duration"]=!1,o["animation-fill-mode"]=!1,o["animation-iteration-count"]=!1,o["animation-name"]=!1,o["animation-play-state"]=!1,o["animation-timing-function"]=!1,o.azimuth=!1,o["backface-visibility"]=!1,o.background=!0,o["background-attachment"]=!0,o["background-clip"]=!0,o["background-color"]=!0,o["background-image"]=!0,o["background-origin"]=!0,o["background-position"]=!0,o["background-repeat"]=!0,o["background-size"]=!0,o["baseline-shift"]=!1,o.binding=!1,o.bleed=!1,o["bookmark-label"]=!1,o["bookmark-level"]=!1,o["bookmark-state"]=!1,o.border=!0,o["border-bottom"]=!0,o["border-bottom-color"]=!0,o["border-bottom-left-radius"]=!0,o["border-bottom-right-radius"]=!0,o["border-bottom-style"]=!0,o["border-bottom-width"]=!0,o["border-collapse"]=!0,o["border-color"]=!0,o["border-image"]=!0,o["border-image-outset"]=!0,o["border-image-repeat"]=!0,o["border-image-slice"]=!0,o["border-image-source"]=!0,o["border-image-width"]=!0,o["border-left"]=!0,o["border-left-color"]=!0,o["border-left-style"]=!0,o["border-left-width"]=!0,o["border-radius"]=!0,o["border-right"]=!0,o["border-right-color"]=!0,o["border-right-style"]=!0,o["border-right-width"]=!0,o["border-spacing"]=!0,o["border-style"]=!0,o["border-top"]=!0,o["border-top-color"]=!0,o["border-top-left-radius"]=!0,o["border-top-right-radius"]=!0,o["border-top-style"]=!0,o["border-top-width"]=!0,o["border-width"]=!0,o.bottom=!1,o["box-decoration-break"]=!0,o["box-shadow"]=!0,o["box-sizing"]=!0,o["box-snap"]=!0,o["box-suppress"]=!0,o["break-after"]=!0,o["break-before"]=!0,o["break-inside"]=!0,o["caption-side"]=!1,o.chains=!1,o.clear=!0,o.clip=!1,o["clip-path"]=!1,o["clip-rule"]=!1,o.color=!0,o["color-interpolation-filters"]=!0,o["column-count"]=!1,o["column-fill"]=!1,o["column-gap"]=!1,o["column-rule"]=!1,o["column-rule-color"]=!1,o["column-rule-style"]=!1,o["column-rule-width"]=!1,o["column-span"]=!1,o["column-width"]=!1,o.columns=!1,o.contain=!1,o.content=!1,o["counter-increment"]=!1,o["counter-reset"]=!1,o["counter-set"]=!1,o.crop=!1,o.cue=!1,o["cue-after"]=!1,o["cue-before"]=!1,o.cursor=!1,o.direction=!1,o.display=!0,o["display-inside"]=!0,o["display-list"]=!0,o["display-outside"]=!0,o["dominant-baseline"]=!1,o.elevation=!1,o["empty-cells"]=!1,o.filter=!1,o.flex=!1,o["flex-basis"]=!1,o["flex-direction"]=!1,o["flex-flow"]=!1,o["flex-grow"]=!1,o["flex-shrink"]=!1,o["flex-wrap"]=!1,o.float=!1,o["float-offset"]=!1,o["flood-color"]=!1,o["flood-opacity"]=!1,o["flow-from"]=!1,o["flow-into"]=!1,o.font=!0,o["font-family"]=!0,o["font-feature-settings"]=!0,o["font-kerning"]=!0,o["font-language-override"]=!0,o["font-size"]=!0,o["font-size-adjust"]=!0,o["font-stretch"]=!0,o["font-style"]=!0,o["font-synthesis"]=!0,o["font-variant"]=!0,o["font-variant-alternates"]=!0,o["font-variant-caps"]=!0,o["font-variant-east-asian"]=!0,o["font-variant-ligatures"]=!0,o["font-variant-numeric"]=!0,o["font-variant-position"]=!0,o["font-weight"]=!0,o.grid=!1,o["grid-area"]=!1,o["grid-auto-columns"]=!1,o["grid-auto-flow"]=!1,o["grid-auto-rows"]=!1,o["grid-column"]=!1,o["grid-column-end"]=!1,o["grid-column-start"]=!1,o["grid-row"]=!1,o["grid-row-end"]=!1,o["grid-row-start"]=!1,o["grid-template"]=!1,o["grid-template-areas"]=!1,o["grid-template-columns"]=!1,o["grid-template-rows"]=!1,o["hanging-punctuation"]=!1,o.height=!0,o.hyphens=!1,o.icon=!1,o["image-orientation"]=!1,o["image-resolution"]=!1,o["ime-mode"]=!1,o["initial-letters"]=!1,o["inline-box-align"]=!1,o["justify-content"]=!1,o["justify-items"]=!1,o["justify-self"]=!1,o.left=!1,o["letter-spacing"]=!0,o["lighting-color"]=!0,o["line-box-contain"]=!1,o["line-break"]=!1,o["line-grid"]=!1,o["line-height"]=!1,o["line-snap"]=!1,o["line-stacking"]=!1,o["line-stacking-ruby"]=!1,o["line-stacking-shift"]=!1,o["line-stacking-strategy"]=!1,o["list-style"]=!0,o["list-style-image"]=!0,o["list-style-position"]=!0,o["list-style-type"]=!0,o.margin=!0,o["margin-bottom"]=!0,o["margin-left"]=!0,o["margin-right"]=!0,o["margin-top"]=!0,o["marker-offset"]=!1,o["marker-side"]=!1,o.marks=!1,o.mask=!1,o["mask-box"]=!1,o["mask-box-outset"]=!1,o["mask-box-repeat"]=!1,o["mask-box-slice"]=!1,o["mask-box-source"]=!1,o["mask-box-width"]=!1,o["mask-clip"]=!1,o["mask-image"]=!1,o["mask-origin"]=!1,o["mask-position"]=!1,o["mask-repeat"]=!1,o["mask-size"]=!1,o["mask-source-type"]=!1,o["mask-type"]=!1,o["max-height"]=!0,o["max-lines"]=!1,o["max-width"]=!0,o["min-height"]=!0,o["min-width"]=!0,o["move-to"]=!1,o["nav-down"]=!1,o["nav-index"]=!1,o["nav-left"]=!1,o["nav-right"]=!1,o["nav-up"]=!1,o["object-fit"]=!1,o["object-position"]=!1,o.opacity=!1,o.order=!1,o.orphans=!1,o.outline=!1,o["outline-color"]=!1,o["outline-offset"]=!1,o["outline-style"]=!1,o["outline-width"]=!1,o.overflow=!1,o["overflow-wrap"]=!1,o["overflow-x"]=!1,o["overflow-y"]=!1,o.padding=!0,o["padding-bottom"]=!0,o["padding-left"]=!0,o["padding-right"]=!0,o["padding-top"]=!0,o.page=!1,o["page-break-after"]=!1,o["page-break-before"]=!1,o["page-break-inside"]=!1,o["page-policy"]=!1,o.pause=!1,o["pause-after"]=!1,o["pause-before"]=!1,o.perspective=!1,o["perspective-origin"]=!1,o.pitch=!1,o["pitch-range"]=!1,o["play-during"]=!1,o.position=!1,o["presentation-level"]=!1,o.quotes=!1,o["region-fragment"]=!1,o.resize=!1,o.rest=!1,o["rest-after"]=!1,o["rest-before"]=!1,o.richness=!1,o.right=!1,o.rotation=!1,o["rotation-point"]=!1,o["ruby-align"]=!1,o["ruby-merge"]=!1,o["ruby-position"]=!1,o["shape-image-threshold"]=!1,o["shape-outside"]=!1,o["shape-margin"]=!1,o.size=!1,o.speak=!1,o["speak-as"]=!1,o["speak-header"]=!1,o["speak-numeral"]=!1,o["speak-punctuation"]=!1,o["speech-rate"]=!1,o.stress=!1,o["string-set"]=!1,o["tab-size"]=!1,o["table-layout"]=!1,o["text-align"]=!0,o["text-align-last"]=!0,o["text-combine-upright"]=!0,o["text-decoration"]=!0,o["text-decoration-color"]=!0,o["text-decoration-line"]=!0,o["text-decoration-skip"]=!0,o["text-decoration-style"]=!0,o["text-emphasis"]=!0,o["text-emphasis-color"]=!0,o["text-emphasis-position"]=!0,o["text-emphasis-style"]=!0,o["text-height"]=!0,o["text-indent"]=!0,o["text-justify"]=!0,o["text-orientation"]=!0,o["text-overflow"]=!0,o["text-shadow"]=!0,o["text-space-collapse"]=!0,o["text-transform"]=!0,o["text-underline-position"]=!0,o["text-wrap"]=!0,o.top=!1,o.transform=!1,o["transform-origin"]=!1,o["transform-style"]=!1,o.transition=!1,o["transition-delay"]=!1,o["transition-duration"]=!1,o["transition-property"]=!1,o["transition-timing-function"]=!1,o["unicode-bidi"]=!1,o["vertical-align"]=!1,o.visibility=!1,o["voice-balance"]=!1,o["voice-duration"]=!1,o["voice-family"]=!1,o["voice-pitch"]=!1,o["voice-range"]=!1,o["voice-rate"]=!1,o["voice-stress"]=!1,o["voice-volume"]=!1,o.volume=!1,o["white-space"]=!1,o.widows=!1,o.width=!0,o["will-change"]=!1,o["word-break"]=!0,o["word-spacing"]=!0,o["word-wrap"]=!0,o["wrap-flow"]=!1,o["wrap-through"]=!1,o["writing-mode"]=!1,o["z-index"]=!1,o}function e(o,a,l){}function r(o,a,l){}var i=/javascript\s*\:/img;function s(o,a){return i.test(a)?"":a}return Th.whiteList=n(),Th.getDefaultWhiteList=n,Th.onAttr=e,Th.onIgnoreAttr=r,Th.safeAttrValue=s,Th}var JO,gre;function Wbe(){return gre||(gre=1,JO={indexOf:function(n,e){var r,i;if(Array.prototype.indexOf)return n.indexOf(e);for(r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1},forEach:function(n,e,r){var i,s;if(Array.prototype.forEach)return n.forEach(e,r);for(i=0,s=n.length;i<s;i++)e.call(r,n[i],i,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}),JO}var ZO,bre;function $at(){if(bre)return ZO;bre=1;var n=Wbe();function e(r,i){r=n.trimRight(r),r[r.length-1]!==";"&&(r+=";");var s=r.length,o=!1,a=0,l=0,c="";function u(){if(!o){var f=n.trim(r.slice(a,l)),p=f.indexOf(":");if(p!==-1){var m=n.trim(f.slice(0,p)),b=n.trim(f.slice(p+1));if(m){var y=i(a,c.length,m,b,f);y&&(c+=y+"; ")}}}a=l+1}for(;l<s;l++){var d=r[l];if(d==="/"&&r[l+1]==="*"){var h=r.indexOf("*/",l+2);if(h===-1)break;l=h+1,a=l+1,o=!1}else d==="("?o=!0:d===")"?o=!1:d===";"?o||u():d===`
`&&u()}return n.trim(c)}return ZO=e,ZO}var eD,yre;function zat(){if(yre)return eD;yre=1;var n=Ube(),e=$at();Wbe();function r(o){return o==null}function i(o){var a={};for(var l in o)a[l]=o[l];return a}function s(o){o=i(o||{}),o.whiteList=o.whiteList||n.whiteList,o.onAttr=o.onAttr||n.onAttr,o.onIgnoreAttr=o.onIgnoreAttr||n.onIgnoreAttr,o.safeAttrValue=o.safeAttrValue||n.safeAttrValue,this.options=o}return s.prototype.process=function(o){if(o=o||"",o=o.toString(),!o)return"";var a=this,l=a.options,c=l.whiteList,u=l.onAttr,d=l.onIgnoreAttr,h=l.safeAttrValue,f=e(o,function(p,m,b,y,v){var w=c[b],_=!1;if(w===!0?_=w:typeof w=="function"?_=w(y):w instanceof RegExp&&(_=w.test(y)),_!==!0&&(_=!1),y=h(b,y),!!y){var x={position:m,sourcePosition:p,source:v,isWhite:_};if(_){var k=u(b,y,x);return r(k)?b+":"+y:k}else{var k=d(b,y,x);if(!r(k))return k}}});return f},eD=s,eD}var vre;function cN(){return vre||(vre=1,function(n,e){var r=Ube(),i=zat();function s(a,l){var c=new i(l);return c.process(a)}e=n.exports=s,e.FilterCSS=i;for(var o in r)e[o]=r[o];typeof window<"u"&&(window.filterCSS=n.exports)}(U_,U_.exports)),U_.exports}var tD,wre;function cL(){return wre||(wre=1,tD={indexOf:function(n,e){var r,i;if(Array.prototype.indexOf)return n.indexOf(e);for(r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1},forEach:function(n,e,r){var i,s;if(Array.prototype.forEach)return n.forEach(e,r);for(i=0,s=n.length;i<s;i++)e.call(r,n[i],i,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var e=/\s|\n|\t/,r=e.exec(n);return r?r.index:-1}}),tD}var xre;function qbe(){if(xre)return Zn;xre=1;var n=cN().FilterCSS,e=cN().getDefaultWhiteList,r=cL();function i(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new n;function o(j,N,R){}function a(j,N,R){}function l(j,N,R){}function c(j,N,R){}function u(j){return j.replace(h,"&lt;").replace(f,"&gt;")}function d(j,N,R,H){if(R=I(R),N==="href"||N==="src"){if(R=r.trim(R),R==="#")return"#";if(!(R.substr(0,7)==="http://"||R.substr(0,8)==="https://"||R.substr(0,7)==="mailto:"||R.substr(0,4)==="tel:"||R.substr(0,11)==="data:image/"||R.substr(0,6)==="ftp://"||R.substr(0,2)==="./"||R.substr(0,3)==="../"||R[0]==="#"||R[0]==="/"))return""}else if(N==="background"){if(w.lastIndex=0,w.test(R))return""}else if(N==="style"){if(_.lastIndex=0,_.test(R)||(x.lastIndex=0,x.test(R)&&(w.lastIndex=0,w.test(R))))return"";H!==!1&&(H=H||s,R=H.process(R))}return R=O(R),R}var h=/</g,f=/>/g,p=/"/g,m=/&quot;/g,b=/&#([a-zA-Z0-9]*);?/gim,y=/&colon;?/gim,v=/&newline;?/gim,w=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,x=/u\s*r\s*l\s*\(.*/gi;function k(j){return j.replace(p,"&quot;")}function C(j){return j.replace(m,'"')}function E(j){return j.replace(b,function(R,H){return H[0]==="x"||H[0]==="X"?String.fromCharCode(parseInt(H.substr(1),16)):String.fromCharCode(parseInt(H,10))})}function T(j){return j.replace(y,":").replace(v," ")}function M(j){for(var N="",R=0,H=j.length;R<H;R++)N+=j.charCodeAt(R)<32?" ":j.charAt(R);return r.trim(N)}function I(j){return j=C(j),j=E(j),j=T(j),j=M(j),j}function O(j){return j=k(j),j=u(j),j}function F(){return""}function $(j,N){typeof N!="function"&&(N=function(){});var R=!Array.isArray(j);function H(Y){return R?!0:r.indexOf(j,Y)!==-1}var U=[],K=!1;return{onIgnoreTag:function(Y,Z,G){if(H(Y))if(G.isClosing){var X="[/removed]",ae=G.position+X.length;return U.push([K!==!1?K:G.position,ae]),K=!1,X}else return K||(K=G.position),"[removed]";else return N(Y,Z,G)},remove:function(Y){var Z="",G=0;return r.forEach(U,function(X){Z+=Y.slice(G,X[0]),G=X[1]}),Z+=Y.slice(G),Z}}}function z(j){for(var N="",R=0;R<j.length;){var H=j.indexOf("<!--",R);if(H===-1){N+=j.slice(R);break}N+=j.slice(R,H);var U=j.indexOf("-->",H);if(U===-1)break;R=U+3}return N}function D(j){var N=j.split("");return N=N.filter(function(R){var H=R.charCodeAt(0);return H===127?!1:H<=31?H===10||H===13:!0}),N.join("")}return Zn.whiteList=i(),Zn.getDefaultWhiteList=i,Zn.onTag=o,Zn.onIgnoreTag=a,Zn.onTagAttr=l,Zn.onIgnoreTagAttr=c,Zn.safeAttrValue=d,Zn.escapeHtml=u,Zn.escapeQuote=k,Zn.unescapeQuote=C,Zn.escapeHtmlEntities=E,Zn.escapeDangerHtml5Entities=T,Zn.clearNonPrintableCharacter=M,Zn.friendlyAttrValue=I,Zn.escapeAttrValue=O,Zn.onIgnoreTagStripAll=F,Zn.StripTagBody=$,Zn.stripCommentTag=z,Zn.stripBlankChar=D,Zn.attributeWrapSign='"',Zn.cssFilter=s,Zn.getDefaultCSSWhiteList=e,Zn}var W_={},_re;function Hbe(){if(_re)return W_;_re=1;var n=cL();function e(h){var f=n.spaceIndex(h),p;return f===-1?p=h.slice(1,-1):p=h.slice(1,f+1),p=n.trim(p).toLowerCase(),p.slice(0,1)==="/"&&(p=p.slice(1)),p.slice(-1)==="/"&&(p=p.slice(0,-1)),p}function r(h){return h.slice(0,2)==="</"}function i(h,f,p){var m="",b=0,y=!1,v=!1,w=0,_=h.length,x="",k="";e:for(w=0;w<_;w++){var C=h.charAt(w);if(y===!1){if(C==="<"){y=w;continue}}else if(v===!1){if(C==="<"){m+=p(h.slice(b,w)),y=w,b=w;continue}if(C===">"||w===_-1){m+=p(h.slice(b,y)),k=h.slice(y,w+1),x=e(k),m+=f(y,m.length,x,k,r(k)),b=w+1,y=!1;continue}if(C==='"'||C==="'")for(var E=1,T=h.charAt(w-E);T.trim()===""||T==="=";){if(T==="="){v=C;continue e}T=h.charAt(w-++E)}}else if(C===v){v=!1;continue}}return b<_&&(m+=p(h.substr(b))),m}var s=/[^a-zA-Z0-9\\_:.-]/gim;function o(h,f){var p=0,m=0,b=[],y=!1,v=h.length;function w(E,T){if(E=n.trim(E),E=E.replace(s,"").toLowerCase(),!(E.length<1)){var M=f(E,T||"");M&&b.push(M)}}for(var _=0;_<v;_++){var x=h.charAt(_),k,C;if(y===!1&&x==="="){y=h.slice(p,_),p=_+1,m=h.charAt(p)==='"'||h.charAt(p)==="'"?p:l(h,_+1);continue}if(y!==!1&&_===m){if(C=h.indexOf(x,_+1),C===-1)break;k=n.trim(h.slice(m+1,C)),w(y,k),y=!1,_=C,p=_+1;continue}if(/\s|\n|\t/.test(x))if(h=h.replace(/\s|\n|\t/g," "),y===!1)if(C=a(h,_),C===-1){k=n.trim(h.slice(p,_)),w(k),y=!1,p=_+1;continue}else{_=C-1;continue}else if(C=c(h,_-1),C===-1){k=n.trim(h.slice(p,_)),k=d(k),w(y,k),y=!1,p=_+1;continue}else continue}return p<h.length&&(y===!1?w(h.slice(p)):w(y,d(n.trim(h.slice(p))))),n.trim(b.join(" "))}function a(h,f){for(;f<h.length;f++){var p=h[f];if(p!==" ")return p==="="?f:-1}}function l(h,f){for(;f<h.length;f++){var p=h[f];if(p!==" ")return p==="'"||p==='"'?f:-1}}function c(h,f){for(;f>0;f--){var p=h[f];if(p!==" ")return p==="="?f:-1}}function u(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function d(h){return u(h)?h.substr(1,h.length-2):h}return W_.parseTag=i,W_.parseAttr=o,W_}var nD,kre;function Uat(){if(kre)return nD;kre=1;var n=cN().FilterCSS,e=qbe(),r=Hbe(),i=r.parseTag,s=r.parseAttr,o=cL();function a(h){return h==null}function l(h){var f=o.spaceIndex(h);if(f===-1)return{html:"",closing:h[h.length-2]==="/"};h=o.trim(h.slice(f+1,-1));var p=h[h.length-1]==="/";return p&&(h=o.trim(h.slice(0,-1))),{html:h,closing:p}}function c(h){var f={};for(var p in h)f[p]=h[p];return f}function u(h){var f={};for(var p in h)Array.isArray(h[p])?f[p.toLowerCase()]=h[p].map(function(m){return m.toLowerCase()}):f[p.toLowerCase()]=h[p];return f}function d(h){h=c(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=u(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new n(h.css))}return d.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var f=this,p=f.options,m=p.whiteList,b=p.onTag,y=p.onIgnoreTag,v=p.onTagAttr,w=p.onIgnoreTagAttr,_=p.safeAttrValue,x=p.escapeHtml,k=f.attributeWrapSign,C=f.cssFilter;p.stripBlankChar&&(h=e.stripBlankChar(h)),p.allowCommentTag||(h=e.stripCommentTag(h));var E=!1;p.stripIgnoreTagBody&&(E=e.StripTagBody(p.stripIgnoreTagBody,y),y=E.onIgnoreTag);var T=i(h,function(M,I,O,F,$){var z={sourcePosition:M,position:I,isClosing:$,isWhite:Object.prototype.hasOwnProperty.call(m,O)},D=b(O,F,z);if(!a(D))return D;if(z.isWhite){if(z.isClosing)return"</"+O+">";var j=l(F),N=m[O],R=s(j.html,function(H,U){var K=o.indexOf(N,H)!==-1,Y=v(O,H,U,K);return a(Y)?K?(U=_(O,H,U,C),U?H+"="+k+U+k:H):(Y=w(O,H,U,K),a(Y)?void 0:Y):Y});return F="<"+O,R&&(F+=" "+R),j.closing&&(F+=" /"),F+=">",F}else return D=y(O,F,z),a(D)?x(F):D},x);return E&&(T=E.remove(T)),T},nD=d,nD}var Sre;function Wat(){return Sre||(Sre=1,function(n,e){var r=qbe(),i=Hbe(),s=Uat();function o(l,c){var u=new s(c);return u.process(l)}e=n.exports=o,e.filterXSS=o,e.FilterXSS=s,function(){for(var l in r)e[l]=r[l];for(var c in i)e[c]=i[c]}(),typeof window<"u"&&(window.filterXSS=n.exports);function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=n.exports)}(z_,z_.exports)),z_.exports}var qat=Wat(),Hat=Bt(qat);function Cre(n,e){var r=Vr(n);if(_2){var i=_2(n);e&&(i=$t(i).call(i,function(s){return zE(n,s).enumerable})),r.push.apply(r,i)}return r}function Ere(n){for(var e=1;e<arguments.length;e++){var r,i,s=arguments[e]!=null?arguments[e]:{};e%2?bt(r=Cre(Object(s),!0)).call(r,function(o){Bn(n,o,s[o])}):k2?Abe(n,k2(s)):bt(i=Cre(Object(s))).call(i,function(o){qE(n,o,zE(s,o))})}return n}function pu(n){var e;if(!n)return!1;let r=(e=n.idProp)!==null&&e!==void 0?e:n._idProp;return r?Lat(r,n):!1}const rD=/^\/?Date\((-?\d+)/i,Vat=/^\d+$/;function uL(n,e){let r;if(n!==void 0){if(n===null)return null;if(!e)return n;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!n;case"number":case"Number":return no(n)&&!isNaN(Date.parse(n))?Oo(n).valueOf():Number(n.valueOf());case"string":case"String":return String(n);case"Date":try{return uL(n,"Moment").toDate()}catch(i){throw i instanceof TypeError?new TypeError("Cannot convert object of type "+Ry(n)+" to type "+e):i}case"Moment":if(lv(n))return Oo(n);if(n instanceof Date)return Oo(n.valueOf());if(Oo.isMoment(n))return Oo(n);if(no(n))return r=rD.exec(n),r?Oo(Number(r[1])):(r=Vat.exec(n),Oo(r?Number(n):n));throw new TypeError("Cannot convert object of type "+Ry(n)+" to type "+e);case"ISODate":if(lv(n))return new Date(n);if(n instanceof Date)return n.toISOString();if(Oo.isMoment(n))return n.toDate().toISOString();if(no(n))return r=rD.exec(n),r?new Date(Number(r[1])).toISOString():Oo(n).format();throw new Error("Cannot convert object of type "+Ry(n)+" to type ISODate");case"ASPDate":if(lv(n))return"/Date("+n+")/";if(n instanceof Date||Oo.isMoment(n))return"/Date("+n.valueOf()+")/";if(no(n)){r=rD.exec(n);let i;return r?i=new Date(Number(r[1])).valueOf():i=new Date(n).valueOf(),"/Date("+i+")/"}else throw new Error("Cannot convert object of type "+Ry(n)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function N0(n){var e,r,i,s,o,a;let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{start:"Date",end:"Date"};const c=n._idProp,u=new R0({fieldId:c}),d=Tn(e=Oat(n)).call(e,h=>{var f;return WE(f=Vr(h)).call(f,(p,m)=>(p[m]=uL(h[m],l[m]),p),{})}).to(u);return d.all().start(),{add:function(){return n.getDataSet().add(...arguments)},remove:function(){return n.getDataSet().remove(...arguments)},update:function(){return n.getDataSet().update(...arguments)},updateOnly:function(){return n.getDataSet().updateOnly(...arguments)},clear:function(){return n.getDataSet().clear(...arguments)},forEach:Fe(r=bt(u)).call(r,u),get:Fe(i=u.get).call(i,u),getIds:Fe(s=u.getIds).call(s,u),off:Fe(o=u.off).call(o,u),on:Fe(a=u.on).call(a,u),get length(){return u.length},idProp:c,type:l,rawDS:n,coercedDS:u,dispose:()=>d.stop()}}const Vbe=n=>{const e=new Hat.FilterXSS(n);return r=>typeof r=="string"?e.process(r):r},Gat=n=>n;let uN=Vbe();const Yat=n=>{n&&(n.disabled===!0?(uN=Gat,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):n.filterOptions&&(uN=Vbe(n.filterOptions)))},ne=Ere(Ere({},Mit),{},{convert:uL,setupXSSProtection:Yat});qE(ne,"xss",{get:function(){return uN}});var Are={},iD,Tre;function Kat(){if(Tre)return iD;Tre=1;var n=wr(),e=mn(),r=vn(),i=ia(),s=U0e().trim,o=zB(),a=r("".charAt),l=n.parseFloat,c=n.Symbol,u=c&&c.iterator,d=1/l(o+"-0")!==-1/0||u&&!e(function(){l(Object(u))});return iD=d?function(f){var p=s(i(f)),m=l(p);return m===0&&a(p,0)==="-"?-0:m}:l,iD}var Pre;function Xat(){if(Pre)return Are;Pre=1;var n=Ot(),e=Kat();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),Are}var sD,Ire;function Qat(){if(Ire)return sD;Ire=1,Xat();var n=Hn();return sD=n.parseFloat,sD}var oD,Mre;function Jat(){if(Mre)return oD;Mre=1;var n=Qat();return oD=n,oD}var aD,Ore;function Zat(){return Ore||(Ore=1,aD=Jat()),aD}var elt=Zat(),S2=Bt(elt);class lh{constructor(){this.options=null,this.props=null}setOptions(e){e&&ne.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}var Dre={},Rre;function tlt(){if(Rre)return Dre;Rre=1;var n=Ot(),e=W0e();return n({target:"String",proto:!0},{repeat:e}),Dre}var lD,Nre;function nlt(){if(Nre)return lD;Nre=1,tlt();var n=xr();return lD=n("String","repeat"),lD}var cD,jre;function rlt(){if(jre)return cD;jre=1;var n=Xn(),e=nlt(),r=String.prototype;return cD=function(i){var s=i.repeat;return typeof i=="string"||i===r||n(r,i)&&s===r.repeat?e:s},cD}var uD,Bre;function ilt(){if(Bre)return uD;Bre=1;var n=rlt();return uD=n,uD}var dD,Lre;function slt(){return Lre||(Lre=1,dD=ilt()),dD}var olt=slt(),ym=Bt(olt);function dL(n,e,r){if(r&&!nn(r))return dL(n,e,[r]);if(e.hiddenDates=[],r&&nn(r)==!0){var i;for(let s=0;s<r.length;s++)if(ym(r[s])===void 0){const o={};o.start=n(r[s].start).toDate().valueOf(),o.end=n(r[s].end).toDate().valueOf(),e.hiddenDates.push(o)}Ir(i=e.hiddenDates).call(i,(s,o)=>s.start-o.start)}}function C2(n,e,r){if(r&&!nn(r))return C2(n,e,[r]);if(r&&e.domProps.centerContainer.width!==void 0){dL(n,e,r);const i=n(e.range.start),s=n(e.range.end),a=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<r.length;h++)if(ym(r[h])!==void 0){let f=n(r[h].start),p=n(r[h].end);if(f._d=="Invalid Date")throw new Error("Supplied start date is not valid: ".concat(r[h].start));if(p._d=="Invalid Date")throw new Error("Supplied end date is not valid: ".concat(r[h].end));if(p-f>=4*a){let b=0,y=s.clone();switch(ym(r[h])){case"daily":f.day()!=p.day()&&(b=1),f=f.dayOfYear(i.dayOfYear()).year(i.year()).subtract(7,"days"),p=p.dayOfYear(i.dayOfYear()).year(i.year()).subtract(7-b,"days"),y.add(1,"weeks");break;case"weekly":{const v=p.diff(f,"days"),w=f.day();f=f.date(i.date()).month(i.month()).year(i.year()),p=f.clone(),f=f.day(w).subtract(1,"weeks"),p=p.day(w).add(v,"days").subtract(1,"weeks"),y.add(1,"weeks");break}case"monthly":f.month()!=p.month()&&(b=1),f=f.month(i.month()).year(i.year()).subtract(1,"months"),p=p.month(i.month()).year(i.year()).subtract(1,"months").add(b,"months"),y.add(1,"months");break;case"yearly":f.year()!=p.year()&&(b=1),f=f.year(i.year()).subtract(1,"years"),p=p.year(i.year()).subtract(1,"years").add(b,"years"),y.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",ym(r[h]));return}for(;f<y;)switch(e.hiddenDates.push({start:f.valueOf(),end:p.valueOf()}),ym(r[h])){case"daily":f=f.add(1,"days"),p=p.add(1,"days");break;case"weekly":f=f.add(1,"weeks"),p=p.add(1,"weeks");break;case"monthly":f=f.add(1,"months"),p=p.add(1,"months");break;case"yearly":f=f.add(1,"y"),p=p.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",ym(r[h]));return}e.hiddenDates.push({start:f.valueOf(),end:p.valueOf()})}}alt(e);const l=A2(e.range.start,e.hiddenDates),c=A2(e.range.end,e.hiddenDates);let u=e.range.start,d=e.range.end;l.hidden==!0&&(u=e.range.startToFront==!0?l.startDate-1:l.endDate+1),c.hidden==!0&&(d=e.range.endToFront==!0?c.startDate-1:c.endDate+1),(l.hidden==!0||c.hidden==!0)&&e.range._applyRange(u,d)}}function alt(n){var e;const r=n.hiddenDates,i=[];for(var s=0;s<r.length;s++)for(let o=0;o<r.length;o++)s!=o&&r[o].remove!=!0&&r[s].remove!=!0&&(r[o].start>=r[s].start&&r[o].end<=r[s].end?r[o].remove=!0:r[o].start>=r[s].start&&r[o].start<=r[s].end?(r[s].end=r[o].end,r[o].remove=!0):r[o].end>=r[s].start&&r[o].end<=r[s].end&&(r[s].start=r[o].start,r[o].remove=!0));for(s=0;s<r.length;s++)r[s].remove!==!0&&i.push(r[s]);n.hiddenDates=i,Ir(e=n.hiddenDates).call(e,(o,a)=>o.start-a.start)}function llt(n,e,r){let i=!1;const s=e.current.valueOf();for(let a=0;a<e.hiddenDates.length;a++){const l=e.hiddenDates[a].start;var o=e.hiddenDates[a].end;if(s>=l&&s<o){i=!0;break}}if(i==!0&&s<e._end.valueOf()&&s!=r){const a=n(r),l=n(o);a.year()!=l.year()?e.switchedYear=!0:a.month()!=l.month()?e.switchedMonth=!0:a.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}}function Fre(n,e,r){let i;if(n.body.hiddenDates.length==0)return i=n.range.conversion(r),(e.valueOf()-i.offset)*i.scale;{const s=A2(e,n.body.hiddenDates);s.hidden==!0&&(e=s.startDate);const o=uv(n.body.hiddenDates,n.range.start,n.range.end);if(e<n.range.start){i=n.range.conversion(r,o);const a=clt(n.body.hiddenDates,e,i.offset);return e=n.options.moment(e).toDate().valueOf(),e=e+a,-(i.offset-e.valueOf())*i.scale}else if(e>n.range.end){const a={start:n.range.start,end:e};return e=zre(n.options.moment,n.body.hiddenDates,a,e),i=n.range.conversion(r,o),(e.valueOf()-i.offset)*i.scale}else return e=zre(n.options.moment,n.body.hiddenDates,n.range,e),i=n.range.conversion(r,o),(e.valueOf()-i.offset)*i.scale}}function $re(n,e,r){if(n.body.hiddenDates.length==0){const i=n.range.conversion(r);return new Date(e/i.scale+i.offset)}else{const i=uv(n.body.hiddenDates,n.range.start,n.range.end),o=(n.range.end-n.range.start-i)*e/r,a=ult(n.body.hiddenDates,n.range,o);return new Date(a+o+n.range.start)}}function uv(n,e,r){let i=0;for(let s=0;s<n.length;s++){const o=n[s].start,a=n[s].end;o>=e&&a<r&&(i+=a-o)}return i}function clt(n,e,r){let i=0;for(let s=0;s<n.length;s++){const o=n[s].start,a=n[s].end;o>=e&&a<=r&&(i+=a-o)}return i}function zre(n,e,r,i){return i=n(i).toDate().valueOf(),i-=E2(n,e,r,i),i}function E2(n,e,r,i){let s=0;i=n(i).toDate().valueOf();for(let o=0;o<e.length;o++){const a=e[o].start,l=e[o].end;a>=r.start&&l<r.end&&i>=l&&(s+=l-a)}return s}function ult(n,e,r){let i=0,s=0,o=e.start;for(let a=0;a<n.length;a++){const l=n[a].start,c=n[a].end;if(l>=e.start&&c<e.end){if(s+=l-o,o=c,s>=r)break;i+=c-l}}return i}function zh(n,e,r,i){const s=A2(e,n);return s.hidden==!0?r<0?i==!0?s.startDate-(s.endDate-e)-1:s.startDate-1:i==!0?s.endDate+(e-s.startDate)+1:s.endDate+1:e}function A2(n,e){for(let s=0;s<e.length;s++){var r=e[s].start,i=e[s].end;if(n>=r&&n<i)return{hidden:!0,startDate:r,endDate:i}}return{hidden:!1,startDate:r,endDate:i}}class HE extends lh{constructor(e,r){var i,s,o,a,l,c,u;super();const d=ns().hours(0).minutes(0).seconds(0).milliseconds(0),h=d.clone().add(-3,"days").valueOf(),f=d.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,r===void 0?(this.start=h,this.end=f):(this.start=r.start||h,this.end=r.end||f),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:ns,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=ne.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",Fe(i=this._onDragStart).call(i,this)),this.body.emitter.on("panmove",Fe(s=this._onDrag).call(s,this)),this.body.emitter.on("panend",Fe(o=this._onDragEnd).call(o,this)),this.body.emitter.on("mousewheel",Fe(a=this._onMouseWheel).call(a,this)),this.body.emitter.on("touch",Fe(l=this._onTouch).call(l,this)),this.body.emitter.on("pinch",Fe(c=this._onPinch).call(c,this)),this.body.dom.rollingModeBtn.addEventListener("click",Fe(u=this.startRolling).call(u,this)),this.setOptions(r)}setOptions(e){if(e){const r=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];ne.selectiveExtend(r,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function r(){e.stopRolling(),e.rolling=!0;let i=e.end-e.start;const s=ne.convert(new Date,"Date").valueOf(),o=e.options.rollingMode&&e.options.rollingMode.offset||.5,a=s-i*o,l=s+i*(1-o),c={animation:!1};e.setRange(a,l,c),i=1/e.conversion(e.body.domProps.center.width).scale/10,i<30&&(i=30),i>1e3&&(i=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=Bi(r,i)}r()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,r,i,s,o){i||(i={}),i.byUser!==!0&&(i.byUser=!1);const a=this,l=e!=null?ne.convert(e,"Date").valueOf():null,c=r!=null?ne.convert(r,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){const h=this.start,f=this.end,p=typeof i.animation=="object"&&"duration"in i.animation?i.animation.duration:500,m=typeof i.animation=="object"&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",b=ne.easingFunctions[m];if(!b){var u;throw new Error(Er(u="Unknown easing function ".concat(Cs(m),". Choose from: ")).call(u,Vr(ne.easingFunctions).join(", ")))}const y=Zs();let v=!1;const w=()=>{if(!a.props.touch.dragging){const x=Zs()-y,k=b(x/p),C=x>p,E=C||l===null?l:h+(l-h)*k,T=C||c===null?c:f+(c-f)*k;d=a._applyRange(E,T),C2(a.options.moment,a.body,a.options.hiddenDates),v=v||d;const M={start:new Date(a.start),end:new Date(a.end),byUser:i.byUser,event:i.event};if(o&&o(k,d,C),d&&a.body.emitter.emit("rangechange",M),C){if(v&&(a.body.emitter.emit("rangechanged",M),s))return s()}else a.animationTimer=Bi(w,20)}};return w()}else{var d=this._applyRange(l,c);if(C2(this.options.moment,this.body,this.options.hiddenDates),d){const h={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",h),clearTimeout(a.timeoutID),a.timeoutID=Bi(()=>{a.body.emitter.emit("rangechanged",h)},200),s)return s()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,r){let i=e!=null?ne.convert(e,"Date").valueOf():this.start,s=r!=null?ne.convert(r,"Date").valueOf():this.end;const o=this.options.max!=null?ne.convert(this.options.max,"Date").valueOf():null,a=this.options.min!=null?ne.convert(this.options.min,"Date").valueOf():null;let l;if(isNaN(i)||i===null)throw new Error('Invalid start "'.concat(e,'"'));if(isNaN(s)||s===null)throw new Error('Invalid end "'.concat(r,'"'));if(s<i&&(s=i),a!==null&&i<a&&(l=a-i,i+=l,s+=l,o!=null&&s>o&&(s=o)),o!==null&&s>o&&(l=s-o,i-=l,s-=l,a!=null&&i<a&&(i=a)),this.options.zoomMin!==null){let u=S2(this.options.zoomMin);u<0&&(u=0),s-i<u&&(this.end-this.start===u&&i>=this.start-.5&&s<=this.end?(i=this.start,s=this.end):(l=u-(s-i),i-=l/2,s+=l/2))}if(this.options.zoomMax!==null){let u=S2(this.options.zoomMax);u<0&&(u=0),s-i>u&&(this.end-this.start===u&&i<this.start&&s>this.end?(i=this.start,s=this.end):(l=s-i-u,i+=l/2,s-=l/2))}const c=this.start!=i||this.end!=s;return!(i>=this.start&&i<=this.end||s>=this.start&&s<=this.end)&&!(this.start>=i&&this.start<=s||this.end>=i&&this.end<=s)&&this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=s,c}getRange(){return{start:this.start,end:this.end}}conversion(e,r){return HE.conversion(this.start,this.end,e,r)}static conversion(e,r,i,s){return s===void 0&&(s=0),i!=0&&r-e!=0?{offset:e,scale:i/(r-e-s)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const r=this.options.direction;Ure(r);let i=r=="horizontal"?e.deltaX:e.deltaY;i-=this.deltaDifference;let s=this.props.touch.end-this.props.touch.start;const o=uv(this.body.hiddenDates,this.start,this.end);s-=o;const a=r=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let l;this.options.rtl?l=i/a*s:l=-i/a*s;const c=this.props.touch.start+l,u=this.props.touch.end+l,d=zh(this.body.hiddenDates,c,this.previousDelta-i,!0),h=zh(this.body.hiddenDates,u,this.previousDelta-i,!0);if(d!=c||h!=u){this.deltaDifference+=i,this.props.touch.start=d,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=i,this._applyRange(c,u);const f=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:f,end:p,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let r=0;if(e.wheelDelta?r=e.wheelDelta/120:e.detail?r=-e.detail/3:e.deltaY&&(r=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&r){const i=this.options.zoomFriction||5;let s;r<0?s=1-r/i:s=1/(1+r/i);let o;if(this.rolling){const a=this.options.rollingMode&&this.options.rollingMode.offset||.5;o=this.start+(this.end-this.start)*a}else{const a=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);o=this._pointerToDate(a)}this.zoom(s,o,r,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,ne.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;ne.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const r=1/(e.scale+this.scaleOffset),i=this.props.touch.centerDate,s=uv(this.body.hiddenDates,this.start,this.end),o=E2(this.options.moment,this.body.hiddenDates,this,i),a=s-o;let l=i-o+(this.props.touch.start-(i-o))*r,c=i+a+(this.props.touch.end-(i+a))*r;this.startToFront=1-r<=0,this.endToFront=r-1<=0;const u=zh(this.body.hiddenDates,l,1-r,!0),d=zh(this.body.hiddenDates,c,r-1,!0);(u!=l||d!=c)&&(this.props.touch.start=u,this.props.touch.end=d,this.scaleOffset=1-e.scale,l=u,c=d);const h={animation:!1,byUser:!0,event:e};this.setRange(l,c,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const r=e.center?e.center.x:e.clientX,i=this.body.dom.centerContainer.getBoundingClientRect(),s=this.options.rtl?r-i.left:i.right-r,o=this.body.util.toTime(s);return o>=this.start&&o<=this.end}_pointerToDate(e){let r;const i=this.options.direction;if(Ure(i),i=="horizontal")return this.body.util.toTime(e.x).valueOf();{const s=this.body.domProps.center.height;return r=this.conversion(s),e.y/r.scale+r.offset}}getPointer(e,r){const i=r.getBoundingClientRect();return this.options.rtl?{x:i.right-e.x,y:e.y-i.top}:{x:e.x-i.left,y:e.y-i.top}}zoom(e,r,i,s){r==null&&(r=(this.start+this.end)/2);const o=uv(this.body.hiddenDates,this.start,this.end),a=E2(this.options.moment,this.body.hiddenDates,this,r),l=o-a;let c=r-a+(this.start-(r-a))*e,u=r+l+(this.end-(r+l))*e;this.startToFront=!(i>0),this.endToFront=!(-i>0);const d=zh(this.body.hiddenDates,c,i,!0),h=zh(this.body.hiddenDates,u,-i,!0);(d!=c||h!=u)&&(c=d,u=h);const f={animation:!1,byUser:!0,event:s};this.setRange(c,u,f),this.startToFront=!1,this.endToFront=!0}move(e){const r=this.end-this.start,i=this.start+r*e,s=this.end+r*e;this.start=i,this.end=s}moveTo(e){const i=(this.start+this.end)/2-e,s=this.start-i,o=this.end-i,a={animation:!1,byUser:!0,event:null};this.setRange(s,o,a)}destroy(){this.stopRolling()}}function Ure(n){if(n!="horizontal"&&n!="vertical")throw new TypeError('Unknown direction "'.concat(n,'". Choose "horizontal" or "vertical".'))}var hD,Wre;function dlt(){if(Wre)return hD;Wre=1,V0e();var n=Hn();return hD=n.setInterval,hD}var fD,qre;function hlt(){return qre||(qre=1,fD=dlt()),fD}var flt=hlt(),plt=Bt(flt),sy=null;function dN(n,e){var r=e||{preventDefault:!1};if(n.Manager){var i=n,s=function(u,d){var h=Object.create(r);return d&&i.assign(h,d),dN(new i(u,h),h)};return i.assign(s,i),s.Manager=function(u,d){var h=Object.create(r);return d&&i.assign(h,d),dN(new i.Manager(u,h),h)},s}var o=Object.create(n),a=n.element;a.hammer||(a.hammer=[]),a.hammer.push(o),n.on("hammer.input",function(u){(r.preventDefault===!0||r.preventDefault===u.pointerType)&&u.preventDefault(),u.isFirst&&(sy=u.target)}),o._handlers={},o.on=function(u,d){return l(u).forEach(function(h){var f=o._handlers[h];f||(o._handlers[h]=f=[],n.on(h,c)),f.push(d)}),o},o.off=function(u,d){return l(u).forEach(function(h){var f=o._handlers[h];f&&(f=d?f.filter(function(p){return p!==d}):[],f.length>0?o._handlers[h]=f:(n.off(h,c),delete o._handlers[h]))}),o},o.emit=function(u,d){sy=d.target,n.emit(u,d)},o.destroy=function(){var u=n.element.hammer,d=u.indexOf(o);d!==-1&&u.splice(d,1),u.length||delete n.element.hammer,o._handlers={},n.destroy()};function l(u){return u.match(/[^ ]+/g)}function c(u){if(u.type!=="hammer.input"){if(u.srcEvent._handled||(u.srcEvent._handled={}),u.srcEvent._handled[u.type])return;u.srcEvent._handled[u.type]=!0}var d=!1;u.stopPropagation=function(){d=!0};var h=u.srcEvent.stopPropagation.bind(u.srcEvent);typeof h=="function"&&(u.srcEvent.stopPropagation=function(){h(),u.stopPropagation()}),u.firstTarget=sy;for(var f=sy.isConnected?sy:u.target;f&&!d;){var p=f.hammer;if(p){for(var m,b=0;b<p.length;b++)if(m=p[b]._handlers[u.type],m)for(var y=0;y<m.length&&!d;y++)m[y](u)}f=f.parentNode}}return o}function mlt(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}let hN;if(typeof window<"u"){const n=window.Hammer||XB;hN=dN(n,{preventDefault:"mouse"})}else hN=function(){return mlt()};var es=hN;function Gbe(n,e){e.inputHandler=function(r){r.isFirst&&e(r)},n.on("hammer.input",e.inputHandler)}function glt(n,e){return e.inputHandler=function(r){r.isFinal&&e(r)},n.on("hammer.input",e.inputHandler)}function blt(n){const e="pan-y";return n.getTouchAction=function(){return[e]},n}class lp{constructor(e,r,i,s,o){this.moment=o&&o.moment||ns,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,r,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,nn(s)?this.hiddenDates=s:s!=null?this.hiddenDates=[s]:this.hiddenDates=[],this.format=lp.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const r=ne.deepExtend({},lp.FORMAT);this.format=ne.deepExtend(r,e)}setRange(e,r,i){if(!(e instanceof Date)||!(r instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):Zs(),this._end=r!=null?this.moment(r.valueOf()):Zs(),this.autoScale&&this.setMinimumStep(i)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(zh(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const r=this.current.clone();r.add(1,"week"),r.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,llt(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const r=1e3*60*60*24*30*12,i=1e3*60*60*24*30,s=1e3*60*60*24,o=1e3*60*60,a=1e3*60,l=1e3,c=1;r*1e3>e&&(this.scale="year",this.step=1e3),r*500>e&&(this.scale="year",this.step=500),r*100>e&&(this.scale="year",this.step=100),r*50>e&&(this.scale="year",this.step=50),r*10>e&&(this.scale="year",this.step=10),r*5>e&&(this.scale="year",this.step=5),r>e&&(this.scale="year",this.step=1),i*3>e&&(this.scale="month",this.step=3),i>e&&(this.scale="month",this.step=1),s*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),s*2>e&&(this.scale="day",this.step=2),s>e&&(this.scale="day",this.step=1),s/2>e&&(this.scale="weekday",this.step=1),o*4>e&&(this.scale="hour",this.step=4),o>e&&(this.scale="hour",this.step=1),a*15>e&&(this.scale="minute",this.step=15),a*10>e&&(this.scale="minute",this.step=10),a*5>e&&(this.scale="minute",this.step=5),a>e&&(this.scale="minute",this.step=1),l*15>e&&(this.scale="second",this.step=15),l*10>e&&(this.scale="second",this.step=10),l*5>e&&(this.scale="second",this.step=5),l>e&&(this.scale="second",this.step=1),c*200>e&&(this.scale="millisecond",this.step=200),c*100>e&&(this.scale="millisecond",this.step=100),c*50>e&&(this.scale="millisecond",this.step=50),c*10>e&&(this.scale="millisecond",this.step=10),c*5>e&&(this.scale="millisecond",this.step=5),c>e&&(this.scale="millisecond",this.step=1)}static snap(e,r,i){let s=ns(e);if(r=="year"){const o=s.year()+Math.round(s.month()/12);s=s.year(Math.round(o/i)*i).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(r=="month")s.date()>15?s=s.date(1).add(1,"month"):s=s.date(1),s=s.hours(0).minutes(0).seconds(0).milliseconds(0);else if(r=="week")s.weekday()>2?s=s.weekday(0).add(1,"week"):s=s.weekday(0),s=s.hours(0).minutes(0).seconds(0).milliseconds(0);else if(r=="day"){switch(i){case 5:case 2:s=s.hours(Math.round(s.hours()/24)*24);break;default:s=s.hours(Math.round(s.hours()/12)*12);break}s=s.minutes(0).seconds(0).milliseconds(0)}else if(r=="weekday"){switch(i){case 5:case 2:s=s.hours(Math.round(s.hours()/12)*12);break;default:s=s.hours(Math.round(s.hours()/6)*6);break}s=s.minutes(0).seconds(0).milliseconds(0)}else if(r=="hour"){switch(i){case 4:s=s.minutes(Math.round(s.minutes()/60)*60);break;default:s=s.minutes(Math.round(s.minutes()/30)*30);break}s=s.seconds(0).milliseconds(0)}else if(r=="minute"){switch(i){case 15:case 10:s=s.minutes(Math.round(s.minutes()/5)*5).seconds(0);break;case 5:s=s.seconds(Math.round(s.seconds()/60)*60);break;default:s=s.seconds(Math.round(s.seconds()/30)*30);break}s=s.milliseconds(0)}else if(r=="second")switch(i){case 15:case 10:s=s.seconds(Math.round(s.seconds()/5)*5).milliseconds(0);break;case 5:s=s.milliseconds(Math.round(s.milliseconds()/1e3)*1e3);break;default:s=s.milliseconds(Math.round(s.milliseconds()/500)*500);break}else if(r=="millisecond"){const o=i>5?i/2:1;s=s.milliseconds(Math.round(s.milliseconds()/o)*o)}return s}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const r=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return r&&r.length>0?this.moment(e).format(r):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const r=this.format.majorLabels[this.scale];return r&&r.length>0?this.moment(e).format(r):""}getClassName(){var e;const r=this.moment,i=this.moment(this.current),s=i.locale?i.locale("en"):i.lang("en"),o=this.step,a=[];function l(f){return f/o%2==0?" vis-even":" vis-odd"}function c(f){return f.isSame(Zs(),"day")?" vis-today":f.isSame(r().add(1,"day"),"day")?" vis-tomorrow":f.isSame(r().add(-1,"day"),"day")?" vis-yesterday":""}function u(f){return f.isSame(Zs(),"week")?" vis-current-week":""}function d(f){return f.isSame(Zs(),"month")?" vis-current-month":""}function h(f){return f.isSame(Zs(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":a.push(c(s)),a.push(l(s.milliseconds()));break;case"second":a.push(c(s)),a.push(l(s.seconds()));break;case"minute":a.push(c(s)),a.push(l(s.minutes()));break;case"hour":a.push(Er(e="vis-h".concat(s.hours())).call(e,this.step==4?"-h"+(s.hours()+4):"")),a.push(c(s)),a.push(l(s.hours()));break;case"weekday":a.push("vis-".concat(s.format("dddd").toLowerCase())),a.push(c(s)),a.push(u(s)),a.push(l(s.date()));break;case"day":a.push("vis-day".concat(s.date())),a.push("vis-".concat(s.format("MMMM").toLowerCase())),a.push(c(s)),a.push(d(s)),a.push(this.step<=2?c(s):""),a.push(this.step<=2?"vis-".concat(s.format("dddd").toLowerCase()):""),a.push(l(s.date()-1));break;case"week":a.push("vis-week".concat(s.format("w"))),a.push(u(s)),a.push(l(s.week()));break;case"month":a.push("vis-".concat(s.format("MMMM").toLowerCase())),a.push(d(s)),a.push(l(s.month()));break;case"year":a.push("vis-year".concat(s.year())),a.push(h(s)),a.push(l(s.year()));break}return $t(a).call(a,String).join(" ")}}lp.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class T2 extends lh{constructor(e,r){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:ne.extend({},lp.FORMAT),moment:ns,timeAxis:null},this.options=ne.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(r)}setOptions(e){e&&(ne.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),ne.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof ns.locale=="function"?ns.locale(e.locale):ns.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,r=this.dom.foreground,i=this.dom.background,s=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,o=r.parentNode!==s;this._calculateCharSize();const a=this.options.showMinorLabels&&this.options.orientation.axis!=="none",l=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=a?e.minorCharHeight:0,e.majorLabelHeight=l?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=r.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const c=r.nextSibling,u=i.nextSibling;return r.parentNode&&r.parentNode.removeChild(r),i.parentNode&&i.parentNode.removeChild(i),r.style.height="".concat(this.props.height,"px"),this._repaintLabels(),c?s.insertBefore(r,c):s.appendChild(r),u?this.body.dom.backgroundVertical.insertBefore(i,u):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o}_repaintLabels(){const e=this.options.orientation.axis,r=ne.convert(this.body.range.start,"Number"),i=ne.convert(this.body.range.end,"Number"),s=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let o=s-E2(this.options.moment,this.body.hiddenDates,this.body.range,s);o-=this.body.util.toTime(0).valueOf();const a=new lp(new Date(r),new Date(i),o,this.body.hiddenDates,this.options);a.setMoment(this.options.moment),this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a;const l=this.dom;l.redundant.lines=l.lines,l.redundant.majorTexts=l.majorTexts,l.redundant.minorTexts=l.minorTexts,l.lines=[],l.majorTexts=[],l.minorTexts=[];let c,u,d,h,f,p,m=0,b,y,v,w=0;const _=1e3;let x;for(a.start(),u=a.getCurrent(),h=this.body.util.toScreen(u);a.hasNext()&&w<_;){switch(w++,f=a.isMajor(),x=a.getClassName(),c=u,d=h,a.next(),u=a.getCurrent(),h=this.body.util.toScreen(u),b=m,m=h-d,a.scale){case"week":p=!0;break;default:p=m>=b*.4;break}if(this.options.showMinorLabels&&p){var k=this._repaintMinorText(d,a.getLabelMinor(c),e,x);k.style.width="".concat(m,"px")}f&&this.options.showMajorLabels?(d>0&&(v==null&&(v=d),k=this._repaintMajorText(d,a.getLabelMajor(c),e,x)),y=this._repaintMajorLine(d,m,e,x)):p?y=this._repaintMinorLine(d,m,e,x):y&&(y.style.width="".concat(eo(y.style.width)+m,"px"))}if(w===_&&!Hre&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(_," lines.")),Hre=!0),this.options.showMajorLabels){const C=this.body.util.toTime(0),E=a.getLabelMajor(C),T=E.length*(this.props.majorCharWidth||10)+10;(v==null||T<v)&&this._repaintMajorText(0,E,e,x)}bt(ne).call(ne,this.dom.redundant,C=>{for(;C.length;){const E=C.pop();E&&E.parentNode&&E.parentNode.removeChild(E)}})}_repaintMinorText(e,r,i,s){let o=this.dom.redundant.minorTexts.shift();if(!o){const l=document.createTextNode("");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.innerHTML=ne.xss(r);let a=i=="top"?this.props.majorLabelHeight:0;return this._setXY(o,e,a),o.className="vis-text vis-minor ".concat(s),o}_repaintMajorText(e,r,i,s){let o=this.dom.redundant.majorTexts.shift();if(!o){const l=document.createElement("div");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}o.childNodes[0].innerHTML=ne.xss(r),o.className="vis-text vis-major ".concat(s);let a=i=="top"?0:this.props.minorLabelHeight;return this._setXY(o,e,a),this.dom.majorTexts.push(o),o}_setXY(e,r,i){var s;const o=this.options.rtl?r*-1:r;e.style.transform=Er(s="translate(".concat(o,"px, ")).call(s,i,"px)")}_repaintMinorLine(e,r,i,s){var o;let a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);const l=this.props;a.style.width="".concat(r,"px"),a.style.height="".concat(l.minorLineHeight,"px");let c=i=="top"?l.majorLabelHeight:this.body.domProps.top.height,u=e-l.minorLineWidth/2;return this._setXY(a,u,c),a.className=Er(o="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(o,s),a}_repaintMajorLine(e,r,i,s){var o;let a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);const l=this.props;a.style.width="".concat(r,"px"),a.style.height="".concat(l.majorLineHeight,"px");let c=i=="top"?0:this.body.domProps.top.height,u=e-l.majorLineWidth/2;return this._setXY(a,u,c),a.className=Er(o="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(o,s),a}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var Hre=!1;function ylt(n){var e=window,r={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(u){c(u,"keydown")},l=function(u){c(u,"keyup")},c=function(u,d){if(i[d][u.keyCode]!==void 0)for(var h=i[d][u.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&u.shiftKey==!0||h[f].shift==!1&&u.shiftKey==!1)&&h[f].fn(u)};return r.bind=function(u,d,h){if(h===void 0&&(h="keydown"),s[u]===void 0)throw new Error("unsupported key: "+u);i[h][s[u].code]===void 0&&(i[h][s[u].code]=[]),i[h][s[u].code].push({fn:d,shift:s[u].shift})},r.bindAll=function(u,d){d===void 0&&(d="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,u,d)},r.getKey=function(u){for(var d in s)if(s.hasOwnProperty(d)){if(u.shiftKey==!0&&s[d].shift==!0&&u.keyCode==s[d].code)return d;if(u.shiftKey==!1&&s[d].shift==!1&&u.keyCode==s[d].code)return d;if(u.keyCode==s[d].code&&d=="shift")return d}return"unknown key, currently not supported"},r.unbind=function(u,d,h){if(h===void 0&&(h="keydown"),s[u]===void 0)throw new Error("unsupported key: "+u);if(d!==void 0){var f=[],p=i[h][s[u].code];if(p!==void 0)for(var m=0;m<p.length;m++)p[m].fn==d&&p[m].shift==s[u].shift||f.push(i[h][s[u].code][m]);i[h][s[u].code]=f}else i[h][s[u].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},e.removeEventListener("keydown",a,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",a,!0),e.addEventListener("keyup",l,!0),r}function Xo(n){var e,r;this.active=!1,this.dom={container:n},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=es(this.dom.overlay),this.hammer.on("tap",Fe(e=this._onTapOverlay).call(e,this));var i=this,s=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];bt(s).call(s,function(o){i.hammer.on(o,function(a){a.stopPropagation()})}),document&&document.body&&(this.onClick=function(o){vlt(o.target,n)||i.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=ylt(),this.escListener=Fe(r=this.deactivate).call(r,this)}UB(Xo.prototype);Xo.current=null;Xo.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};Xo.prototype.activate=function(){var n;Xo.current&&Xo.current.deactivate(),Xo.current=this,this.active=!0,this.dom.overlay.style.display="none",ne.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),Fe(n=this.keycharm).call(n,"esc",this.escListener)};Xo.prototype.deactivate=function(){Xo.current===this&&(Xo.current=null),this.active=!1,this.dom.overlay.style.display="",ne.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};Xo.prototype._onTapOverlay=function(n){this.activate(),n.stopPropagation()};function vlt(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const hL={current:"current",time:"time",deleteSelected:"Delete selected"},wlt=hL,xlt=hL,fL={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},_lt=fL,klt=fL,pL={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},Slt=pL,Clt=pL,mL={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},Elt=mL,Alt=mL,t1={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},Tlt=t1,Plt=t1,Ilt=t1,Mlt=t1,Ybe={current:"actual",time:"hora",deleteSelected:"Eliminar seleccin"},Olt=Ybe,Kbe={current:"",time:"",deleteSelected:" "},Dlt=Kbe,Xbe={current:"",time:"",deleteSelected:" "},Rlt=Xbe,Qbe={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},Nlt=Qbe,gL={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},jlt=gL,Blt=gL,Jbe={current:"gncel",time:"zaman",deleteSelected:"Seileni sil"},Llt=Jbe,Zbe={current:"",time:"",deleteSelected:""},Flt=Zbe,eye={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},$lt=eye,VE={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},zlt=VE,Ult=VE,Wlt=VE,tye={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},qlt=tye,j0={en:hL,en_EN:wlt,en_US:xlt,it:fL,it_IT:_lt,it_CH:klt,nl:pL,nl_NL:Slt,nl_BE:Clt,de:mL,de_DE:Elt,de_CH:Alt,fr:t1,fr_FR:Tlt,fr_CA:Plt,fr_BE:Ilt,fr_CH:Mlt,es:Ybe,es_ES:Olt,uk:Kbe,uk_UA:Dlt,ru:Xbe,ru_RU:Rlt,pl:Qbe,pl_PL:Nlt,pt:gL,pt_BR:jlt,pt_PT:Blt,tr:Jbe,tr_TR:Llt,ja:Zbe,ja_JP:Flt,lt:tye,lt_LT:qlt,sv:eye,sv_SE:$lt,nb:VE,nn:Ult,nb_NO:zlt,nn_NO:Wlt};class bL extends lh{constructor(e,r){var i;super(),this.body=e,this.defaultOptions={moment:ns,locales:j0,locale:"en",id:void 0,title:void 0},this.options=ne.extend({},this.defaultOptions),this.setOptions(r),this.options.locales=ne.extend({},j0,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];bt(i=Vr(this.options.locales)).call(i,o=>{this.options.locales[o]=ne.extend({},s,this.options.locales[o])}),r&&r.time!=null?this.customTime=r.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&ne.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){var e,r,i;const s=document.createElement("div");s["custom-time"]=this,s.className="vis-custom-time ".concat(this.options.id||""),s.style.position="absolute",s.style.top="0px",s.style.height="100%",this.bar=s;const o=document.createElement("div");o.style.position="relative",o.style.top="0px",this.options.rtl?o.style.right="-10px":o.style.left="-10px",o.style.height="100%",o.style.width="20px";function a(l){this.body.range._onMouseWheel(l)}o.addEventListener?(o.addEventListener("mousewheel",Fe(a).call(a,this),!1),o.addEventListener("DOMMouseScroll",Fe(a).call(a,this),!1)):o.attachEvent("onmousewheel",Fe(a).call(a,this)),s.appendChild(o),this.hammer=new es(o),this.hammer.on("panstart",Fe(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",Fe(r=this._onDrag).call(r,this)),this.hammer.on("panend",Fe(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:es.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const r=this.body.util.toScreen(this.customTime);let i=this.options.locales[this.options.locale];i||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),i=this.options.locales.en);let s=this.options.title;if(s===void 0){var o;s=Er(o="".concat(i.time,": ")).call(o,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")),s=s.charAt(0).toUpperCase()+s.substring(1)}else typeof s=="function"&&(s=s.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(r,"px"):this.bar.style.left="".concat(r,"px"),this.bar.title=s,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=ne.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,r){if(this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=ne.xss(e),this.marker.style.position="absolute",r){var i;this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",Fe(i=this._onMarkerChange).call(i,this)),this.marker.title=e,this.marker.addEventListener("blur",s=>{this.title!=s.target.innerHTML&&(this._onMarkerChanged(s),this.title=s.target.innerHTML)})}this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let r=this.options.rtl?-1*e.deltaX:e.deltaX;const i=this.body.util.toScreen(this.eventParams.customTime)+r,s=this.body.util.toTime(i),o=this.body.util.getScale(),a=this.body.util.getStep(),l=this.options.snap,c=l?l(s,o,a):s;this.setCustomTime(c),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let r=e.target;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"custom-time"))return r["custom-time"];r=r.parentNode}return null}}class hg{_create(e){var r,i,s;this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",Fe(r=this._onTouch).call(r,this)),this.on("panmove",Fe(i=this._onDrag).call(i,this));const o=this;this._origRedraw=Fe(s=this._redraw).call(s,this),this._redraw=ne.throttle(this._origRedraw),this.on("_change",m=>{o.itemSet&&o.itemSet.initialItemSetDrawn&&m&&m.queue==!0?o._redraw():o._origRedraw()}),this.hammer=new es(this.dom.root);const a=this.hammer.get("pinch").set({enable:!0});a&&blt(a),this.hammer.get("pan").set({threshold:5,direction:es.DIRECTION_ALL}),this.timelineListeners={};const l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];bt(l).call(l,m=>{const b=y=>{o.isActive()&&o.emit(m,y)};o.hammer.on(m,b),o.timelineListeners[m]=b}),Gbe(this.hammer,m=>{o.emit("touch",m)}),glt(this.hammer,m=>{o.emit("release",m)});function c(m){if(!this.isActive())return;if(this.emit("mousewheel",m),this.options.preferZoom){if(!this.options.zoomKey||m[this.options.zoomKey])return}else if(this.options.zoomKey&&m[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let b=0,y=0;"detail"in m&&(y=m.detail*-1),"wheelDelta"in m&&(y=m.wheelDelta),"wheelDeltaY"in m&&(y=m.wheelDeltaY),"wheelDeltaX"in m&&(b=m.wheelDeltaX*-1),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(b=y*-1,y=0),"deltaY"in m&&(y=m.deltaY*-1),"deltaX"in m&&(b=m.deltaX);var v=40,w=800;m.deltaMode&&(m.deltaMode===1?(b*=v,y*=v):(b*=v,y*=w));const _=this.options.verticalScroll,x=Math.abs(y)>=Math.abs(b),k=this.options.horizontalScroll&&this.options.horizontalScrollKey&&m[this.options.horizontalScrollKey];if(_&&x&&!k){const C=this.props.scrollTop,E=C+y;this._setScrollTop(E)!==C&&(this._redraw(),this.emit("scroll",m),m.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let E=(x?y:b)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&x&&(E=-E);const T=this.range.start+E,M=this.range.end+E,I={animation:!1,byUser:!0,event:m};this.range.setRange(T,M,I),m.preventDefault();return}}const u="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(u,Fe(c).call(c,this),!1),this.dom.top.addEventListener(u,Fe(c).call(c,this),!1),this.dom.bottom.addEventListener(u,Fe(c).call(c,this),!1);function d(m){if(o.options.verticalScroll&&(m.preventDefault(),o.isActive())){const b=-m.target.scrollTop;o._setScrollTop(b),o._redraw(),o.emit("scrollSide",m)}}this.dom.left.parentNode.addEventListener("scroll",Fe(d).call(d,this)),this.dom.right.parentNode.addEventListener("scroll",Fe(d).call(d,this));let h=!1;function f(m){var b;if(m.preventDefault&&(o.emit("dragover",o.getEventProperties(m)),m.preventDefault()),jn(b=m.target.className).call(b,"timeline")>-1&&!h)return m.dataTransfer.dropEffect="move",h=!0,!1}function p(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation();try{var b=JSON.parse(m.dataTransfer.getData("text"));if(!b||!b.content)return}catch{return!1}return h=!1,m.center={x:m.clientX,y:m.clientY},b.target!=="item"?o.itemSet._onAddItem(m):o.itemSet._onDropObjectOnItem(m),o.emit("drop",o.getEventProperties(m)),!1}if(this.dom.center.addEventListener("dragover",Fe(f).call(f,this),!1),this.dom.center.addEventListener("drop",Fe(p).call(p,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){var r;if(e){const a=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(ne.selectiveExtend(a,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const l=this.timeAxis2=new T2(this.body,this.options);l.setOptions=c=>{const u=c?ne.extend({},c):{};u.orientation="top",T2.prototype.setOptions.call(l,u)},this.components.push(l)}}else if(this.timeAxis2){var i;const l=jn(i=this.components).call(i,this.timeAxis2);if(l!==-1){var s;ts(s=this.components).call(s,l,1)}this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&dL(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new Xo(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(bt(r=this.components).call(r,a=>a.setOptions(e)),"configure"in e){var o;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const a=ne.deepExtend({},this.options);bt(o=this.components).call(o,l=>{ne.deepExtend(a,l.options)}),this.configurator.setModuleOptions({global:a})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){var e;this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const r in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,r)&&delete this.timelineListeners[r];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,bt(e=this.components).call(e,r=>r.destroy()),this.body=null}setCustomTime(e,r){var i;const s=$t(i=this.customTimes).call(i,o=>r===o.options.id);if(s.length===0)throw new Error("No custom time bar found with id ".concat(Cs(r)));s.length>0&&s[0].setCustomTime(e)}getCustomTime(e){var r;const i=$t(r=this.customTimes).call(r,s=>s.options.id===e);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Cs(e)));return i[0].getCustomTime()}setCustomTimeMarker(e,r,i){var s;const o=$t(s=this.customTimes).call(s,a=>a.options.id===r);if(o.length===0)throw new Error("No custom time bar found with id ".concat(Cs(r)));o.length>0&&o[0].setCustomMarker(e,i)}setCustomTimeTitle(e,r){var i;const s=$t(i=this.customTimes).call(i,o=>o.options.id===r);if(s.length===0)throw new Error("No custom time bar found with id ".concat(Cs(r)));if(s.length>0)return s[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,r){var i;const s=e!==void 0?ne.convert(e,"Date"):new Date;if(aL(i=this.customTimes).call(i,l=>l.options.id===r))throw new Error("A custom time with id ".concat(Cs(r)," already exists"));const a=new bL(this.body,ne.extend({},this.options,{time:s,id:r,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(a),this.components.push(a),this._redraw(),r}removeCustomTime(e){var r;const i=$t(r=this.customTimes).call(r,s=>s.options.id===e);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Cs(e)));bt(i).call(i,s=>{var o,a,l,c;ts(o=this.customTimes).call(o,jn(a=this.customTimes).call(a,s),1),ts(l=this.components).call(l,jn(c=this.components).call(c,s),1),s.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,r){const i=this.getDataRange();if(i.min===null&&i.max===null)return;const s=i.max-i.min,o=new Date(i.min.valueOf()-s*.01),a=new Date(i.max.valueOf()+s*.01),l=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(o,a,{animation:l},r)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,r,i,s){typeof arguments[2]=="function"&&(s=arguments[2],i={});let o,a;arguments.length==1?(a=arguments[0],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o})):arguments.length==2&&typeof arguments[1]=="function"?(a=arguments[0],s=arguments[1],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o},s)):(o=i&&i.animation!==void 0?i.animation:!0,this.range.setRange(e,r,{animation:o},s))}moveTo(e,r,i){typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.range.end-this.range.start,o=ne.convert(e,"Date").valueOf(),a=o-s/2,l=o+s/2,c=r&&r.animation!==void 0?r.animation:!0;this.range.setRange(a,l,{animation:c},i)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,r,i){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.getWindow(),o=s.start.valueOf(),a=s.end.valueOf(),l=a-o,c=l/(1+e),u=(l-c)/2,d=o+u,h=a-u;this.setWindow(d,h,r,i)}zoomOut(e,r,i){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.getWindow(),o=s.start.valueOf(),a=s.end.valueOf(),l=a-o,c=o-l*e/2,u=a+l*e/2;this.setWindow(c,u,r,i)}redraw(){this._redraw()}_redraw(){var e;this.redrawCount++;const r=this.dom;if(!r||!r.container||r.root.offsetWidth==0)return;let i=!1;const s=this.options,o=this.props;C2(this.options.moment,this.body,this.options.hiddenDates),s.orientation=="top"?(ne.addClassName(r.root,"vis-top"),ne.removeClassName(r.root,"vis-bottom")):(ne.removeClassName(r.root,"vis-top"),ne.addClassName(r.root,"vis-bottom")),s.rtl?(ne.addClassName(r.root,"vis-rtl"),ne.removeClassName(r.root,"vis-ltr")):(ne.addClassName(r.root,"vis-ltr"),ne.removeClassName(r.root,"vis-rtl")),r.root.style.maxHeight=ne.option.asSize(s.maxHeight,""),r.root.style.minHeight=ne.option.asSize(s.minHeight,""),r.root.style.width=ne.option.asSize(s.width,"");const a=r.root.offsetWidth;o.border.left=1,o.border.right=1,o.border.top=1,o.border.bottom=1,o.center.height=r.center.offsetHeight,o.left.height=r.left.offsetHeight,o.right.height=r.right.offsetHeight,o.top.height=r.top.clientHeight||-o.border.top,o.bottom.height=Math.round(r.bottom.getBoundingClientRect().height)||r.bottom.clientHeight||-o.border.bottom;const l=Math.max(o.left.height,o.center.height,o.right.height),c=o.top.height+l+o.bottom.height+o.border.top+o.border.bottom;r.root.style.height=ne.option.asSize(s.height,"".concat(c,"px")),o.root.height=r.root.offsetHeight,o.background.height=o.root.height;const u=o.root.height-o.top.height-o.bottom.height;o.centerContainer.height=u,o.leftContainer.height=u,o.rightContainer.height=o.leftContainer.height,o.root.width=a,o.background.width=o.root.width,this.initialDrawDone||(o.scrollbarWidth=ne.getScrollBarWidth());const d=r.leftContainer.clientWidth,h=r.rightContainer.clientWidth;s.verticalScroll?s.rtl?(o.left.width=d||-o.border.left,o.right.width=h+o.scrollbarWidth||-o.border.right):(o.left.width=d+o.scrollbarWidth||-o.border.left,o.right.width=h||-o.border.right):(o.left.width=d||-o.border.left,o.right.width=h||-o.border.right),this._setDOM();let f=this._updateScrollTop();s.orientation.item!="top"&&(f+=Math.max(o.centerContainer.height-o.center.height-o.border.top-o.border.bottom,0)),r.center.style.transform="translateY(".concat(f,"px)");const p=o.scrollTop==0?"hidden":"",m=o.scrollTop==o.scrollTopMin?"hidden":"";r.shadowTop.style.visibility=p,r.shadowBottom.style.visibility=m,r.shadowTopLeft.style.visibility=p,r.shadowBottomLeft.style.visibility=m,r.shadowTopRight.style.visibility=p,r.shadowBottomRight.style.visibility=m,s.verticalScroll&&(r.rightContainer.className="vis-panel vis-right vis-vertical-scroll",r.leftContainer.className="vis-panel vis-left vis-vertical-scroll",r.shadowTopRight.style.visibility="hidden",r.shadowBottomRight.style.visibility="hidden",r.shadowTopLeft.style.visibility="hidden",r.shadowBottomLeft.style.visibility="hidden",r.left.style.top="0px",r.right.style.top="0px"),(!s.verticalScroll||o.center.height<o.centerContainer.height)&&(r.left.style.top="".concat(f,"px"),r.right.style.top="".concat(f,"px"),r.rightContainer.className=r.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),r.leftContainer.className=r.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),o.left.width=d||-o.border.left,o.right.width=h||-o.border.right,this._setDOM());const b=o.center.height>o.centerContainer.height;this.hammer.get("pan").set({direction:b?es.DIRECTION_ALL:es.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),bt(e=this.components).call(e,v=>{i=v.redraw()||i});const y=5;if(i)if(this.redrawCount<y){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,r=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const i=e.root.width-e.left.width-e.right.width;e.center.width=i,e.centerContainer.width=i,e.top.width=i,e.bottom.width=i,r.background.style.height="".concat(e.background.height,"px"),r.backgroundVertical.style.height="".concat(e.background.height,"px"),r.backgroundHorizontal.style.height="".concat(e.centerContainer.height,"px"),r.centerContainer.style.height="".concat(e.centerContainer.height,"px"),r.leftContainer.style.height="".concat(e.leftContainer.height,"px"),r.rightContainer.style.height="".concat(e.rightContainer.height,"px"),r.background.style.width="".concat(e.background.width,"px"),r.backgroundVertical.style.width="".concat(e.centerContainer.width,"px"),r.backgroundHorizontal.style.width="".concat(e.background.width,"px"),r.centerContainer.style.width="".concat(e.center.width,"px"),r.top.style.width="".concat(e.top.width,"px"),r.bottom.style.width="".concat(e.bottom.width,"px"),r.background.style.left="0",r.background.style.top="0",r.backgroundVertical.style.left="".concat(e.left.width+e.border.left,"px"),r.backgroundVertical.style.top="0",r.backgroundHorizontal.style.left="0",r.backgroundHorizontal.style.top="".concat(e.top.height,"px"),r.centerContainer.style.left="".concat(e.left.width,"px"),r.centerContainer.style.top="".concat(e.top.height,"px"),r.leftContainer.style.left="0",r.leftContainer.style.top="".concat(e.top.height,"px"),r.rightContainer.style.left="".concat(e.left.width+e.center.width,"px"),r.rightContainer.style.top="".concat(e.top.height,"px"),r.top.style.left="".concat(e.left.width,"px"),r.top.style.top="0",r.bottom.style.left="".concat(e.left.width,"px"),r.bottom.style.top="".concat(e.top.height+e.centerContainer.height,"px"),r.center.style.left="0",r.left.style.left="0",r.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return $re(this,e,this.props.center.width)}_toGlobalTime(e){return $re(this,e,this.props.root.width)}_toScreen(e){return Fre(this,e,this.props.center.width)}_toGlobalScreen(e){return Fre(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const r=e.dom.root.offsetHeight,i=e.dom.root.offsetWidth;(i!=e.props.lastWidth||r!=e.props.lastHeight)&&(e.props.lastWidth=i,e.props.lastHeight=r,e.props.scrollbarWidth=ne.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=plt(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const r=e.deltaY,i=this._getScrollTop(),s=this._setScrollTop(this.touch.initialScrollTop+r);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),s!=i&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}UB(hg.prototype);class nye extends lh{constructor(e,r){var i;super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:ns,locales:j0,locale:"en"},this.options=ne.extend({},this.defaultOptions),this.setOptions(r),this.options.locales=ne.extend({},j0,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];bt(i=Vr(this.options.locales)).call(i,o=>{this.options.locales[o]=ne.extend({},s,this.options.locales[o])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&ne.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){var e,r;const i=this.body.dom.backgroundVertical;this.bar.parentNode!=i&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),i.appendChild(this.bar),this.start());let s=this.options.moment(Zs()+this.offset);this.options.alignCurrentTime&&(s=s.startOf(this.options.alignCurrentTime));const o=this.body.util.toScreen(s);let a=this.options.locales[this.options.locale];a||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),a=this.options.locales.en);let l=Er(e=Er(r="".concat(a.current," ")).call(r,a.time,": ")).call(e,s.format("dddd, MMMM Do YYYY, H:mm:ss"));l=l.charAt(0).toUpperCase()+l.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(o*-1,"px)"):this.bar.style.transform="translateX(".concat(o,"px)"),this.bar.title=l}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function r(){e.stop();let s=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;s<30&&(s=30),s>1e3&&(s=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=Bi(r,s)}r()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const r=ne.convert(e,"Date").valueOf(),i=Zs();this.offset=r-i,this.redraw()}getCurrentTime(){return new Date(Zs()+this.offset)}}var Vre={},Gre;function Hlt(){if(Gre)return Vre;Gre=1;var n=Ot(),e=sh().find,r=Vx(),i="find",s=!0;return i in[]&&Array(1)[i](function(){s=!1}),n({target:"Array",proto:!0,forced:s},{find:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),r(i),Vre}var pD,Yre;function Vlt(){if(Yre)return pD;Yre=1,Hlt();var n=xr();return pD=n("Array","find"),pD}var mD,Kre;function Glt(){if(Kre)return mD;Kre=1;var n=Xn(),e=Vlt(),r=Array.prototype;return mD=function(i){var s=i.find;return i===r||n(r,i)&&s===r.find?e:s},mD}var gD,Xre;function Ylt(){if(Xre)return gD;Xre=1;var n=Glt();return gD=n,gD}var bD,Qre;function Klt(){return Qre||(Qre=1,bD=Ylt()),bD}var Xlt=Klt(),Qlt=Bt(Xlt);const Ks=.001;function Jlt(n){Ir(n).call(n,(e,r)=>e.data.start-r.data.start)}function Zlt(n){Ir(n).call(n,(e,r)=>{const i="end"in e.data?e.data.end:e.data.start,s="end"in r.data?r.data.end:r.data.start;return i-s})}function Jre(n,e,r,i){return yL(n,e.item,!1,o=>o.stack&&(r||o.top===null),o=>o.stack,()=>e.axis,i)===null}function ect(n,e,r){const i=yL(n,e.item,!1,s=>s.stack,()=>!0,s=>s.baseTop);r.height=i-r.top+.5*e.item.vertical}function tct(n,e,r,i){for(let s=0;s<n.length;s++){if(n[s].data.subgroup==null){n[s].top=e.item.vertical;continue}if(n[s].data.subgroup===void 0||!i)continue;let o=0;for(const a in r)!Object.prototype.hasOwnProperty.call(r,a)||r[a].visible!==!0||r[a].index>=r[n[s].data.subgroup].index||(o+=r[a].height,r[n[s].data.subgroup].top=o);n[s].top=o+.5*e.item.vertical}i||nct(n,e,r)}function nct(n,e,r){var i;yL(Ir(i=$B(r)).call(i,(s,o)=>s.index>o.index?1:s.index<o.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let s=0;s<n.length;s++)n[s].data.subgroup!==void 0&&(n[s].top=r[n[s].data.subgroup].top+.5*e.item.vertical)}function Zre(n,e,r){let i=!1;const s=[];for(let o in r)Object.prototype.hasOwnProperty.call(r[o],"index")?s[r[o].index]=o:s.push(o);for(let o=0;o<s.length;o++){let a=s[o];if(!Object.prototype.hasOwnProperty.call(r,a))continue;i=i||r[a].stack,r[a].top=0;for(const c in r)r[c].visible&&r[a].index>r[c].index&&(r[a].top+=r[c].height);const l=n[a];for(let c=0;c<l.length;c++)l[c].data.subgroup!==void 0&&(l[c].top=r[l[c].data.subgroup].top+.5*e.item.vertical,r[a].stack&&(l[c].baseTop=l[c].top));i&&r[a].stack&&ect(n[a],e,r[a])}}function yL(n,e,r,i,s,o,a){let l=w=>w.start,c=w=>w.end;r||(!!(n[0]&&n[0].options.rtl)?l=_=>_.right:l=_=>_.left,c=_=>l(_)+_.width+e.horizontal);const u=[],d=[];let h=null,f=0;for(const w of n)if(i(w))u.push(w);else if(s(w)){const _=l(w);h!==null&&_<h-Ks&&(f=0),h=_,f=q_(d,x=>l(x)-Ks>_,f),ts(d).call(d,f,0,w),f++}h=null;let p=null;f=0;let m=0,b=0,y=0;for(;u.length>0;){var v;const w=u.shift();w.top=o(w);const _=l(w),x=c(w);h!==null&&_<h-Ks&&(m=0,b=0,f=0,p=null),(h===null||_>h+Ks)&&(m=q_(d,E=>_<c(E)-Ks,m)),h=_,(p===null||p<x-Ks)&&(b=q_(d,E=>x<l(E)-Ks,Math.max(m,b))),p!==null&&p-Ks>x&&(b=ict(d,E=>x+Ks>=l(E),m,b)+1),p=x;const k=Ir(v=sct(d,E=>_<c(E)-Ks,m,b)).call(v,(E,T)=>E.top-T.top);for(let E=0;E<k.length;E++){const T=k[E];rct(w,T,e)&&(w.top=T.top+T.height+e.vertical)}s(w)&&(f=q_(d,E=>l(E)-Ks>_,f),ts(d).call(d,f,0,w),f<m&&m++,f<=b&&b++,f++);const C=w.top+w.height;if(C>y&&(y=C),a&&a())return null}return y}function rct(n,e,r){return n.top-r.vertical+Ks<e.top+e.height&&n.top+n.height+r.vertical-Ks>e.top}function q_(n,e,r){r||(r=0);for(let i=r;i<n.length;i++)if(e(n[i]))return i;return n.length}function ict(n,e,r,i){r||(r=0),i||(i=n.length);for(let s=i-1;s>=r;s--)if(e(n[s]))return s;return r-1}function sct(n,e,r,i){r||(r=0),i?i=Math.min(i,n.length):i=n.length;const s=[];for(let o=r;o<i;o++)e(n[o])&&s.push(n[o]);return s}const oct="__background__",eie={BACKGROUND:oct};let fN=class{constructor(e,r,i){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=r&&r.subgroupOrder,this.itemSet=i,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],r&&r.nestedGroups&&(this.nestedGroups=r.nestedGroups,r.showNested==!1?this.showNested=!1:this.showNested=!0),r&&r.subgroupStack)if(typeof r.subgroupStack=="boolean")this.doInnerStack=r.subgroupStack,this.subgroupStackAll=r.subgroupStack;else for(const o in r.subgroupStack)Object.prototype.hasOwnProperty.call(r.subgroupStack,o)&&(this.subgroupStack[o]=r.subgroupStack[o],this.doInnerStack=this.doInnerStack||r.subgroupStack[o]);r&&r.heightMode?this.heightMode=r.heightMode:this.heightMode=i.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const s=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",s),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",s)}),this._create(),this.setData(r)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const r=document.createElement("div");r.className="vis-inner",e.appendChild(r),this.dom.inner=r;const i=document.createElement("div");i.className="vis-group",i["vis-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let r,i;if(e&&e.subgroupVisibility)for(const a in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,a)&&(this.subgroupVisibility[a]=e.subgroupVisibility[a]);if(this.itemSet.options&&this.itemSet.options.groupTemplate){var s;i=Fe(s=this.itemSet.options.groupTemplate).call(s,this),r=i(e,this.dom.inner)}else r=e&&e.content;if(r instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(r)}else r instanceof Object&&r.isReactComponent||(r instanceof Object?i(e,this.dom.inner):r!=null?this.dom.inner.innerHTML=ne.xss(r):this.dom.inner.innerHTML=ne.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?ne.removeClassName(this.dom.inner,"vis-hidden"):ne.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),ne.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(ne.removeClassName(this.dom.label,"collapsed"),ne.addClassName(this.dom.label,"expanded")):(ne.removeClassName(this.dom.label,"expanded"),ne.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,ne.removeClassName(this.dom.label,"collapsed"),ne.removeClassName(this.dom.label,"expanded"),ne.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(ne.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?ne.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):ne.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):ne.addClassName(this.dom.label,"vis-group-level-0");const o=e&&e.className||null;o!=this.className&&(this.className&&(ne.removeClassName(this.dom.label,this.className),ne.removeClassName(this.dom.foreground,this.className),ne.removeClassName(this.dom.background,this.className),ne.removeClassName(this.dom.axis,this.className)),ne.addClassName(this.dom.label,o),ne.addClassName(this.dom.foreground,o),ne.addClassName(this.dom.background,o),ne.addClassName(this.dom.axis,o),this.className=o),this.style&&(ne.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(ne.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const r={};let i=0;if(bt(ne).call(ne,this.items,(o,a)=>{o.dirty=!0,o.displayed&&(r[a]=o.redraw(!0),i=r[a].length)}),i>0)for(let o=0;o<i;o++)bt(ne).call(ne,r,a=>{a[o]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:r,offsetWidth:i}=this.dom.foreground;this.top=e,this.right=r,this.width=i}_shouldBailItemsRedraw(){const e=this,r=this.itemSet.options.onTimeout,i={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:r&&r.timeoutMs,userBailFunction:r&&r.callback,shouldBailStackItems:this.shouldBailStackItems};let s=null;if(!this.itemSet.initialDrawDone){if(i.shouldBailStackItems)return!0;Math.abs(Zs()-new Date(i.relativeBailingTime))>i.bailTimeMs&&(i.userBailFunction&&this.itemSet.userContinueNotBail==null?i.userBailFunction(o=>{e.itemSet.userContinueNotBail=o,s=!o}):e.itemSet.userContinueNotBail==!1?s=!0:s=!1)}return s}_redrawItems(e,r,i,s){if(e||this.stackDirty||this.isVisible&&!r){var a,l,c,u,d,h;const v={byEnd:$t(a=this.orderedItems.byEnd).call(a,k=>!k.isCluster),byStart:$t(l=this.orderedItems.byStart).call(l,k=>!k.isCluster)},w={byEnd:[...new zd($t(c=Tn(u=this.orderedItems.byEnd).call(u,k=>k.cluster)).call(c,k=>!!k))],byStart:[...new zd($t(d=Tn(h=this.orderedItems.byStart).call(h,k=>k.cluster)).call(d,k=>!!k))]},_=()=>{var k,C;const E=this._updateItemsInRange(v,$t(k=this.visibleItems).call(k,M=>!M.isCluster),s),T=this._updateClustersInRange(w,$t(C=this.visibleItems).call(C,M=>M.isCluster),s);return[...E,...T]},x=k=>{let C={};for(const T in this.subgroups){var E;if(!Object.prototype.hasOwnProperty.call(this.subgroups,T))continue;const M=$t(E=this.visibleItems).call(E,I=>I.data.subgroup===T);C[T]=k?Ir(M).call(M,(I,O)=>k(I.data,O.data)):M}return C};if(typeof this.itemSet.options.order=="function"){const k=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const C=x(this.itemSet.options.order);Zre(C,i,this.subgroups),this.visibleItems=_(),this._updateSubGroupHeights(i)}else{var f,p,m,b;this.visibleItems=_(),this._updateSubGroupHeights(i);const C=Ir(f=$t(p=yb(m=this.visibleItems).call(m)).call(p,E=>E.isCluster||!E.isCluster&&!E.cluster)).call(f,(E,T)=>k.itemSet.options.order(E.data,T.data));this.shouldBailStackItems=Jre(C,i,!0,Fe(b=this._shouldBailItemsRedraw).call(b,this))}}else if(this.visibleItems=_(),this._updateSubGroupHeights(i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const k=x();Zre(k,i,this.subgroups)}else{var y;this.shouldBailStackItems=Jre(this.visibleItems,i,!0,Fe(y=this._shouldBailItemsRedraw).call(y,this))}else tct(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);for(let k=0;k<this.visibleItems.length;k++)this.visibleItems[k].repositionX(),this.subgroupVisibility[this.visibleItems[k].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[k].data.subgroup]||this.visibleItems[k].hide());this.itemSet.options.cluster&&bt(ne).call(ne,this.items,k=>{k.cluster&&k.displayed&&k.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,r){e=ne.updateProperty(this,"height",r)||e;const i=this.dom.inner.clientWidth,s=this.dom.inner.clientHeight;return e=ne.updateProperty(this.props.label,"width",i)||e,e=ne.updateProperty(this.props.label,"height",s)||e,e}_applyGroupHeight(e){this.dom.background.style.height="".concat(e,"px"),this.dom.foreground.style.height="".concat(e,"px"),this.dom.label.style.height="".concat(e,"px")}_updateItemsVerticalPosition(e){for(let r=0,i=this.visibleItems.length;r<i;r++){const s=this.visibleItems[r];s.repositionY(e),!this.isVisible&&this.groupId!=eie.BACKGROUND&&s.displayed&&s.hide()}}redraw(e,r,i,s){var o,a,l,c,u;let d=!1;const h=this.isVisible;let f;const p=[()=>{i=this._didMarkerHeightChange.call(this)||i},Fe(o=this._updateSubGroupHeights).call(o,this,r),Fe(a=this._calculateGroupSizeAndPosition).call(a,this),()=>{var m;this.isVisible=Fe(m=this._isGroupVisible).call(m,this)(e,r)},()=>{var m;Fe(m=this._redrawItems).call(m,this)(i,h,r,e)},Fe(l=this._updateSubgroupsSizes).call(l,this),()=>{var m;f=this.height=Fe(m=this._calculateHeight).call(m,this)(r)},Fe(c=this._calculateGroupSizeAndPosition).call(c,this),()=>{var m;d=Fe(m=this._didResize).call(m,this)(d,f)},()=>{var m;Fe(m=this._applyGroupHeight).call(m,this)(f)},()=>{var m;Fe(m=this._updateItemsVerticalPosition).call(m,this)(r)},Fe(u=()=>(!this.isVisible&&this.height&&(d=!1),d)).call(u,this)];if(s)return p;{let m;return bt(p).call(p,b=>{m=b()}),m}}_updateSubGroupHeights(e){if(Vr(this.subgroups).length>0){const r=this;this._resetSubgroups(),bt(ne).call(ne,this.visibleItems,i=>{i.data.subgroup!==void 0&&(r.subgroups[i.data.subgroup].height=Math.max(r.subgroups[i.data.subgroup].height,i.height+e.item.vertical),r.subgroups[i.data.subgroup].visible=typeof this.subgroupVisibility[i.data.subgroup]>"u"?!0:!!this.subgroupVisibility[i.data.subgroup])})}}_isGroupVisible(e,r){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+r.axis&&this.top+this.height+r.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let r,i;if(this.heightMode==="fixed"?i=ne.toArray(this.items):i=this.visibleItems,!this.isVisible&&this.height)r=Math.max(this.height,this.props.label.height);else if(i.length>0){let s=i[0].top,o=i[0].top+i[0].height;if(bt(ne).call(ne,i,a=>{s=Math.min(s,a.top),o=Math.max(o,a.top+a.height)}),s>e.axis){const a=s-e.axis;o-=a,bt(ne).call(ne,i,l=>{l.top-=a})}r=Math.ceil(o+e.item.vertical/2),this.heightMode!=="fitItems"&&(r=Math.max(r,this.props.label.height))}else r=this.props.label.height;return r}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const r=this.dom.foreground;r.parentNode&&r.parentNode.removeChild(r);const i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);const s=this.dom.axis;s.parentNode&&s.parentNode.removeChild(s)}add(e){var r;if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!P0(r=this.visibleItems).call(r,e)){const i=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,i)}}_addToSubgroup(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;r!=null&&this.subgroups[r]===void 0&&(this.subgroups[r]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[r]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[r].start)&&(this.subgroups[r].start=e.data.start);const i=e.data.end||e.data.start;new Date(i)>new Date(this.subgroups[r].end)&&(this.subgroups[r].end=i),this.subgroups[r].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const i in e.subgroups){var r;if(!Object.prototype.hasOwnProperty.call(e.subgroups,i))continue;const s=e.subgroups[i].items[0].data.end||e.subgroups[i].items[0].data.start;let o=e.subgroups[i].items[0].data.start,a=s-1;bt(r=e.subgroups[i].items).call(r,l=>{new Date(l.data.start)<new Date(o)&&(o=l.data.start);const c=l.data.end||l.data.start;new Date(c)>new Date(a)&&(a=c)}),e.subgroups[i].start=o,e.subgroups[i].end=new Date(a-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const r in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,r)&&e.push({subgroup:r,sortField:this.subgroups[r].items[0].data[this.subgroupOrderer]});Ir(e).call(e,(r,i)=>r.sortField-i.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const r in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,r)&&e.push(this.subgroups[r].items[0].data);Ir(e).call(e,this.subgroupOrderer)}if(e.length>0)for(let r=0;r<e.length;r++)this.subgroups[e[r].subgroup].index=r}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){var r,i;delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const s=jn(r=this.visibleItems).call(r,e);s!=-1&&ts(i=this.visibleItems).call(i,s,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;if(r!=null){const o=this.subgroups[r];if(o){var i;const a=jn(i=o.items).call(i,e);if(a>=0){var s;ts(s=o.items).call(s,a,1),o.items.length?this._updateSubgroupsSizes():delete this.subgroups[r]}}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=ne.toArray(this.items),r=[],i=[];for(let s=0;s<e.length;s++)e[s].data.end!==void 0&&i.push(e[s]),r.push(e[s]);this.orderedItems={byStart:r,byEnd:i},Jlt(this.orderedItems.byStart),Zlt(this.orderedItems.byEnd)}_updateItemsInRange(e,r,i){const s=[],o={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=eie.BACKGROUND){for(let y=0;y<r.length;y++){var a=r[y];a.displayed&&a.hide()}return s}const l=(i.end-i.start)/4,c=i.start-l,u=i.end+l,d=y=>y<c?-1:y<=u?0:1,h=y=>{const{start:v,end:w}=y;return w<c?-1:v<=u?0:1};if(r.length>0)for(let y=0;y<r.length;y++)this._checkIfVisibleWithReference(r[y],s,o,i);const f=ne.binarySearchCustom(e.byStart,d,"data","start");if(this._traceVisible(f,e.byStart,s,o,y=>y.data.start<c||y.data.start>u),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let y=0;y<e.byEnd.length;y++)this._checkIfVisibleWithReference(e.byEnd[y],s,o,i)}else{const y=ne.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(y,e.byEnd,s,o,v=>v.data.end<c||v.data.start>u)}this._sortVisibleItems(e.byStart,s,o);const p={};let m=0;for(let y=0;y<s.length;y++){const v=s[y];v.displayed||(p[y]=v.redraw(!0),m=p[y].length)}if(m>0)for(let y=0;y<m;y++)bt(ne).call(ne,p,v=>{v[y]()});for(let y=0;y<s.length;y++)s[y].repositionX();return s}_traceVisible(e,r,i,s,o){if(e!=-1){for(let a=e;a>=0;a--){let l=r[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&s[l.id]===void 0&&(s[l.id]=!0,i.unshift(l))}for(let a=e+1;a<r.length;a++){let l=r[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&s[l.id]===void 0&&(s[l.id]=!0,i.push(l))}}}_sortVisibleItems(e,r,i){r.length=0;for(let s=0;s<e.length;s++){let o=e[s];i[o.id]&&r.push(o)}}_checkIfVisible(e,r,i){e.isVisible(i)?(e.displayed||e.show(),e.repositionX(),r.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,r,i,s){e.isVisible(s)?i[e.id]===void 0&&(i[e.id]=!0,r.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,r,i){const s=[],o={};if(r.length>0)for(let d=0;d<r.length;d++)this._checkIfVisibleWithReference(r[d],s,o,i);for(let d=0;d<e.byStart.length;d++)this._checkIfVisibleWithReference(e.byStart[d],s,o,i);for(let d=0;d<e.byEnd.length;d++)this._checkIfVisibleWithReference(e.byEnd[d],s,o,i);const a={};let l=0;for(let d=0;d<s.length;d++){const h=s[d];h.displayed||(a[d]=h.redraw(!0),l=a[d].length)}if(l>0)for(var u=0;u<l;u++)bt(ne).call(ne,a,function(d){d[u]()});for(let d=0;d<s.length;d++)s[d].repositionX();return s}changeSubgroup(e,r,i){this._removeFromSubgroup(e,r),this._addToSubgroup(e,i),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}};class rye extends fN{constructor(e,r,i){super(e,r,i),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,r){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let s=0,o=this.visibleItems.length;s<o;s++)this.visibleItems[s].repositionY(r);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class xb{constructor(e,r,i){var s;this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=r||{},this.defaultOptions={locales:j0,locale:"en"},this.options=ne.extend({},this.defaultOptions,i),this.options.locales=ne.extend({},j0,this.options.locales);const o=this.defaultOptions.locales[this.defaultOptions.locale];bt(s=Vr(this.options.locales)).call(s,a=>{this.options.locales[a]=ne.extend({},o,this.options.locales[a])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=i&&i.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var e,r;const i=this,s=document.createElement("div");s.className="vis-drag-center",s.dragCenterItem=this,this.hammerDragCenter=new es(s),this.hammerDragCenter.on("tap",o=>{i.parent.itemSet.body.emitter.emit("click",{event:o,item:i.id})}),this.hammerDragCenter.on("doubletap",o=>{o.stopPropagation(),i.parent.itemSet._onUpdateItem(i),i.parent.itemSet.body.emitter.emit("doubleClick",{event:o,item:i.id})}),this.hammerDragCenter.on("panstart",o=>{o.stopPropagation(),i.parent.itemSet._onDragStart(o)}),this.hammerDragCenter.on("panmove",Fe(e=i.parent.itemSet._onDrag).call(e,i.parent.itemSet)),this.hammerDragCenter.on("panend",Fe(r=i.parent.itemSet._onDragEnd).call(r,i.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(s,this.dom.dragLeft):this.dom.box.appendChild(s):this.dom.point&&this.dom.point.appendChild(s),this.dom.dragCenter=s}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const r=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&r&&!this.dom.deleteButton){const i=this,s=document.createElement("div");this.options.rtl?s.className="vis-delete-rtl":s.className="vis-delete";let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),o=this.options.locales.en),s.title=o.deleteSelected,this.hammerDeleteButton=new es(s).on("tap",a=>{a.stopPropagation(),i.parent.removeFromDataSet(i)}),e.appendChild(s),this.dom.deleteButton=s}else(!this.selected||!r)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const r=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&r&&!this.dom.onItemUpdateTimeTooltip){const s=document.createElement("div");s.className="vis-onUpdateTime-tooltip",e.appendChild(s),this.dom.onItemUpdateTimeTooltip=s}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const s=50,o=this.parent.itemSet.body.domProps.scrollTop;let a;this.options.orientation.item=="top"?a=this.top:a=this.parent.height-this.top-this.height,a+this.parent.top-s<-o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px"));let c,u;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){var i;u=Fe(i=this.options.tooltipOnItemUpdateTime.template).call(i,this),c=u(this.data)}else c="start: ".concat(ns(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(c+="<br> end: ".concat(ns(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=ne.xss(c)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let r,i,s,o,a;const l=this._getItemData(),u=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){var d;a=Fe(d=this.options.visibleFrameTemplate).call(d,this),o=ne.xss(a(l,u))}else o="";if(u){if(o instanceof Object&&!(o instanceof Element))a(l,u);else if(i=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o),i){if(o instanceof Element)u.innerHTML="",u.appendChild(o);else if(o!=null)u.innerHTML=ne.xss(o);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=o}}if(this.options.template){var h;s=Fe(h=this.options.template).call(h,this),r=s(l,e,this.data)}else r=this.data.content;if(r instanceof Object&&!(r instanceof Element))s(l,e);else if(i=this._contentToString(this.content)!==this._contentToString(r),i){if(r instanceof Element)e.innerHTML="",e.appendChild(r);else if(r!=null)e.innerHTML=ne.xss(r);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.content=r}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let r=[];if(nn(this.options.dataAttributes))r=this.options.dataAttributes;else if(this.options.dataAttributes=="all")r=Vr(this.data);else return;for(const i of r){const s=this.data[i];s!=null?e.setAttribute("data-".concat(i),s):e.removeAttribute("data-".concat(i))}}}_updateStyle(e){this.style&&(ne.removeCssText(e,this.style),this.style=null),this.data.style&&(ne.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},ne.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},ne.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){var e;return Fe(e=this.options.tooltip.template).call(e,this)(this._getItemData(),this.data)}return this.data.title}}xb.prototype.stack=!0;class act extends xb{constructor(e,r,i){if(super(e,r,i),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;let r;const i=this.data.align||this.options.align,s=this.width*e.getMillisecondsPerPixel();return i=="right"?r=this.data.start.getTime()>e.start&&this.data.start.getTime()-s<e.end:i=="left"?r=this.data.start.getTime()+s>e.start&&this.data.start.getTime()<e.end:r=this.data.start.getTime()+s/2>e.start&&this.data.start.getTime()-s/2<e.end,r}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const r=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(r),this.dom.line.className="vis-item vis-line".concat(r),this.dom.dot.className="vis-item vis-dot".concat(r)}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){var r,i,s,o;let a;const l=[Fe(r=this._createDomElement).call(r,this),Fe(i=this._appendDomElement).call(i,this),Fe(s=this._updateDirtyDomComponents).call(s,this),()=>{this.dirty&&(a=this._getDomComponentsSizes())},()=>{if(this.dirty){var c;Fe(c=this._updateDomComponentsSizes).call(c,this)(a)}},Fe(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return bt(l).call(l,u=>{c=u()}),c}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,r=function(i,s,o){var a;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(s===void 0&&o===void 0)return;const c=l?s*-1:s;if(o===void 0){i.style.transform="translateX(".concat(c,"px)");return}if(s===void 0){i.style.transform="translateY(".concat(o,"px)");return}i.style.transform=Er(a="translate(".concat(c,"px, ")).call(a,o,"px)")};r(this.dom.box,this.boxX,this.boxY,e),r(this.dom.dot,this.dotX,this.dotY,e),r(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),r=this.data.align===void 0?this.options.align:this.data.align,i=this.props.line.width,s=this.props.dot.width;r=="right"?(this.boxX=e-this.width,this.lineX=e-i,this.dotX=e-i/2-s/2):r=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+i/2-s/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-i:e-i/2,this.dotX=e-s/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,r=this.dom.line.style;if(e=="top"){const i=this.parent.top+this.top+1;this.boxY=this.top||0,r.height="".concat(i,"px"),r.bottom="",r.top="0"}else{const s=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),r.height="".concat(s,"px"),r.top="",r.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class lct extends xb{constructor(e,r,i){if(super(e,r,i),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;const r=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+r>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(r),this.dom.dot.className="vis-item vis-dot".concat(r)}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");const r=this.props.dot.width,i=this.options.rtl?r/2:r/2*-1;this.dom.dot.style.transform="translateX(".concat(i,"px"),this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){var r,i,s,o;let a;const l=[Fe(r=this._createDomElement).call(r,this),Fe(i=this._appendDomElement).call(i,this),Fe(s=this._updateDirtyDomComponents).call(s,this),()=>{this.dirty&&(a=this._getDomComponentsSizes())},()=>{if(this.dirty){var c;Fe(c=this._updateDomComponentsSizes).call(c,this)(a)}},Fe(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return bt(l).call(l,u=>{c=u()}),c}}repositionXY(){const e=this.options.rtl;(function(i,s,o){var a;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(s===void 0&&o===void 0)return;const c=l?s*-1:s;if(o===void 0){i.style.transform="translateX(".concat(c,"px)");return}if(s===void 0){i.style.transform="translateY(".concat(o,"px)");return}i.style.transform=Er(a="translate(".concat(c,"px, ")).call(a,o,"px)")})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class cp extends xb{constructor(e,r,i){if(super(e,r,i),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+r,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){var r,i,s,o;let a;const l=[Fe(r=this._createDomElement).call(r,this),Fe(i=this._appendDomElement).call(i,this),Fe(s=this._updateDirtyDomComponents).call(s,this),()=>{if(this.dirty){var c;a=Fe(c=this._getDomComponentsSizes).call(c,this)()}},()=>{if(this.dirty){var c;Fe(c=this._updateDomComponentsSizes).call(c,this)(a)}},Fe(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return bt(l).call(l,u=>{c=u()}),c}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const r=this.parent.width;let i=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end);const o=this.data.align===void 0?this.options.align:this.data.align;let a,l;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(i<-r&&(i=-r),s>2*r&&(s=2*r));const c=Math.max(Math.round((s-i)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=i:this.left=i,this.width=c+this.props.content.width,l=this.props.content.width):(this.options.rtl?this.right=i:this.left=i,this.width=c,l=Math.min(s-i,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(this.right*-1,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(c,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const u=Math.max(c-l,0)*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(c-l,0),"px)");break;case"center":if(this.options.rtl){const u=Math.max((c-l)/2,0)*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((c-l)/2,0),"px)");break;default:if(this.overflow?s>0?a=Math.max(-i,0):a=-l:i<0?a=-i:a=0,this.options.rtl){const u=a*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(a,"px)")}}repositionY(){const e=this.options.orientation.item,r=this.dom.box;e=="top"?r.style.top="".concat(this.top,"px"):r.style.top="".concat(this.parent.height-this.top-this.height,"px")}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}cp.prototype.baseClassName="vis-item vis-range";class Ip extends xb{constructor(e,r,i){if(super(e,r,i),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){var r,i,s,o;let a;const l=[Fe(r=this._createDomElement).call(r,this),Fe(i=this._appendDomElement).call(i,this),Fe(s=this._updateDirtyDomComponents).call(s,this),()=>{if(this.dirty){var c;a=Fe(c=this._getDomComponentsSizes).call(c,this)()}},()=>{if(this.dirty){var c;Fe(c=this._updateDomComponentsSizes).call(c,this)(a)}},Fe(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return bt(l).call(l,u=>{c=u()}),c}}repositionY(){let e;const r=this.options.orientation.item;if(this.data.subgroup!==void 0){const i=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[i].height,"px"),r=="top"?this.dom.box.style.top="".concat(this.parent.top+this.parent.subgroups[i].top,"px"):this.dom.box.style.top="".concat(this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof rye?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=r=="bottom"?"0":"",this.dom.box.style.top=r=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(e,"px")}}Ip.prototype.baseClassName="vis-item vis-background";Ip.prototype.stack=!1;Ip.prototype.show=cp.prototype.show;Ip.prototype.hide=cp.prototype.hide;Ip.prototype.repositionX=cp.prototype.repositionX;class cct{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=eo(e),this.y=eo(r)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=ne.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var r=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,a=0,l=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let c=!1,u=!0;this.overflowMethod=="flip"&&(this.y-r<this.padding&&(u=!1),this.x+i>o-this.padding&&(c=!0)),c?a=this.x-i:a=this.x,u?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}var tie={},nie;function uct(){if(nie)return tie;nie=1;var n=Ot(),e=sh().every,r=vb(),i=r("every");return n({target:"Array",proto:!0,forced:!i},{every:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),tie}var yD,rie;function dct(){if(rie)return yD;rie=1,uct();var n=xr();return yD=n("Array","every"),yD}var vD,iie;function hct(){if(iie)return vD;iie=1;var n=Xn(),e=dct(),r=Array.prototype;return vD=function(i){var s=i.every;return i===r||n(r,i)&&s===r.every?e:s},vD}var wD,sie;function fct(){if(sie)return wD;sie=1;var n=hct();return wD=n,wD}var xD,oie;function pct(){return oie||(oie=1,xD=fct()),xD}var mct=pct(),gct=Bt(mct);class GE extends xb{constructor(e,r,i){const s=fu({},{fitOnDoubleClick:!0},i,{editable:!1});if(super(e,r,s),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=Df(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const r=this.data.end?this.data.end-this.data.start:0,i=this.width*e.getMillisecondsPerPixel(),s=Math.max(this.data.start.getTime()+r,this.data.start.getTime()+i);return this.data.start<e.end&&s>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var r,i,s,o,a,l,c,u=[Fe(r=this._createDomElement).call(r,this),Fe(i=this._appendDomElement).call(i,this),Fe(s=this._updateDirtyDomComponents).call(s,this),Fe(o=function(){this.dirty&&(c=this._getDomComponentsSizes())}).call(o,this),Fe(a=function(){if(this.dirty){var h;Fe(h=this._updateDomComponentsSizes).call(h,this)(c)}}).call(a,this),Fe(l=this._repaintDomAdditionals).call(l,this)];if(e)return u;var d;return bt(u).call(u,function(h){d=h()}),d}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),r=this.data.end?this.conversion.toScreen(this.data.end):0;if(r)this.repositionXWithRanges(e,r);else{let i=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,i)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,r))}repositionStype(e,r){this.dom.line.style.display="block",this.dom.dot.style.display="block";const i=this.dom.line.offsetWidth,s=this.dom.dot.offsetWidth;if(r){const o=i+e+(r-e)/2,a=o-s/2,l=this.options.rtl?o*-1:o,c=this.options.rtl?a*-1:a;this.dom.line.style.transform="translateX(".concat(l,"px)"),this.dom.dot.style.transform="translateX(".concat(c,"px)")}else{const o=this.options.rtl?e*-1:e,a=this.options.rtl?(e-s/2)*-1:e-s/2;this.dom.line.style.transform="translateX(".concat(o,"px)"),this.dom.dot.style.transform="translateX(".concat(a,"px)")}}repositionXWithoutRanges(e,r){r=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):r=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,r){let i=Math.round(Math.max(r-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(i,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=i+"px"}repositionY(){var e=this.options.orientation.item,r=this.dom.box;if(e=="top"?r.style.top=(this.top||0)+"px":r.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var i=this.parent.itemSet.props.height,s=i-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=i-s+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){var e;for(let r of this.data.uiItems)r.cluster=this;this.data.items=Tn(e=this.data.uiItems).call(e,r=>r.data),this.attached=!0,this.dirty=!0}detach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.hasItems()){for(let r of this.data.uiItems)delete r.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){var e,r,i;const s=Tn(e=this.data.uiItems).call(e,l=>({start:l.data.start.valueOf(),end:l.data.end?l.data.end.valueOf():l.data.start.valueOf()}));this.data.min=Math.min(...Tn(s).call(s,l=>Math.min(l.start,l.end||l.start))),this.data.max=Math.max(...Tn(s).call(s,l=>Math.max(l.start,l.end||l.start)));const o=Tn(r=this.data.uiItems).call(r,l=>l.center),a=WE(o).call(o,(l,c)=>l+c,0)/this.data.uiItems.length;aL(i=this.data.uiItems).call(i,l=>l.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(a),this.data.end=null)}_getUiItems(){if(this.data.uiItems&&this.data.uiItems.length){var e;return $t(e=this.data.uiItems).call(e,r=>r.cluster===this)}return[]}_createDomElement(){if(!this.dom){if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick){var e;this.dom.box.ondblclick=Fe(e=GE.prototype._onDoubleClick).call(e,this)}this.dom.box["vis-item"]=this,this.dirty=!0}}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const i=this.parent.dom.foreground;if(!i)throw new Error("Cannot redraw item: parent has no foreground container element");i.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var r=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:r}=this._getFitRange(),i={start:new Date(e),end:new Date(r),animation:!0};this.emitter.emit("fit",i)}}_getItemData(){return this.data}}GE.prototype.baseClassName="vis-item vis-range vis-cluster";const bct="__ungrouped__",yct={UNGROUPED:bct};class vct{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,r,i){return new GE(e,r,i)}setItems(e,r){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,r&&r.applyOnChangedLevel&&(this.applyOnChangedLevel=r.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,r,i){let{maxItems:s,clusterCriteria:o}=typeof i=="boolean"?{}:i;o||(o=()=>!0),s=s||1;let a=-1,l=2,c=0;if(r>0){if(r>=1)return[];a=Math.abs(Math.round(Math.log(100/r)/Math.log(l))),c=Math.abs(Math.pow(l,a))}if(this.dataChanged){const d=a!=this.cacheLevel;(this.applyOnChangedLevel?d:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=a;let u=this.cache[a];if(!u){u=[];for(let d in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,d))continue;const h=this.groups[d],f=h.length;let p=0;for(;p<f;){let m=h[p],b=1,y=p-1;for(;y>=0&&m.center-h[y].center<c/2;)!h[y].cluster&&o(m.data,h[y].data)&&b++,y--;let v=p+1;for(;v<h.length&&h[v].center-m.center<c/2;)o(m.data,h[v].data)&&b++,v++;let w=u.length-1;for(;w>=0&&m.center-u[w].center<c;)m.group==u[w].group&&o(m.data,u[w].data)&&b++,w--;if(b>s){const _=b-s+1,x=[];let k=p;for(;x.length<_&&k<h.length;)o(h[p].data,h[k].data)&&x.push(h[k]),k++;const C=this.itemSet.getGroupId(m.data),E=this.itemSet.groups[C]||this.itemSet.groups[yct.UNGROUPED];let T=this._getClusterForItems(x,E,e,i);u.push(T),p+=_}else delete m.cluster,p+=1}}this.cache[a]=u}return u}_filterData(){const e={};this.groups=e;for(const i of $B(this.items)){const s=i.parent?i.parent.groupId:"";let o=e[s];o||(o=[],e[s]=o),o.push(i),i.data.start&&(i.data.end?i.center=(i.data.start.valueOf()+i.data.end.valueOf())/2:i.center=i.data.start.valueOf())}for(let i in e){var r;Object.prototype.hasOwnProperty.call(e,i)&&Ir(r=e[i]).call(r,(s,o)=>s.center-o.center)}this.dataChanged=!1}_getClusterForItems(e,r,i,s){var o;const a=Tn(o=i||[]).call(o,m=>{var b;return{cluster:m,itemsIds:new zd(Tn(b=m.data.uiItems).call(b,y=>y.id))}});let l;if(a.length){for(let m of a)if(m.itemsIds.size===e.length&&gct(e).call(e,b=>m.itemsIds.has(b.id))){l=m.cluster;break}}if(l)return l.setUiItems(e),l.group!==r&&(l.group&&l.group.remove(l),r&&(r.add(l),l.group=r)),l;let c=s.titleTemplate||"";const u={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},d=c.replace(/{count}/,e.length),h='<div title="'+d+'">'+e.length+"</div>",f=fu({},s,this.itemSet.options),p={content:h,title:d,group:r,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return l=this.createClusterItem(p,u,f),r&&(r.add(l),l.group=r),l.attach(),l}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const am="__ungrouped__",Vu="__background__";class up extends lh{constructor(e,r){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(s,o){const a=o.order;o.order=s.order,s.order=a},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:lp.snap,onDropObjectOnItem(s,o,a){a(o)},onAdd(s,o){o(s)},onUpdate(s,o){o(s)},onMove(s,o){o(s)},onRemove(s,o){o(s)},onMoving(s,o){o(s)},onAddGroup(s,o){o(s)},onMoveGroup(s,o){o(s)},onRemoveGroup(s,o){o(s)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=ne.extend({},this.defaultOptions),this.options.rtl=r.rtl,this.options.onTimeout=r.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const i=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(s,o){i._onAdd(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},update(s,o){i._onUpdate(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},remove(s,o){i._onRemove(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()}},this.groupListeners={add(s,o,a){if(i._onAddGroups(o.items),i.groupsData&&i.groupsData.length>0){var l;const c=i.groupsData.getDataSet();bt(l=c.get()).call(l,u=>{if(u.nestedGroups){var d;u.showNested!=!1&&(u.showNested=!0);let h=[];bt(d=u.nestedGroups).call(d,f=>{const p=c.get(f);p&&(p.nestedInGroup=u.id,u.showNested==!1&&(p.visible=!1),h=Er(h).call(h,p))}),c.update(h,a)}})}},update(s,o){i._onUpdateGroups(o.items)},remove(s,o){i._onRemoveGroups(o.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(r),this.clusters=[]}_create(){var e,r,i,s,o,a,l,c,u,d,h,f,p,m,b;const y=document.createElement("div");y.className="vis-itemset",y["vis-itemset"]=this,this.dom.frame=y;const v=document.createElement("div");v.className="vis-background",y.appendChild(v),this.dom.background=v;const w=document.createElement("div");w.className="vis-foreground",y.appendChild(w),this.dom.foreground=w;const _=document.createElement("div");_.className="vis-axis",this.dom.axis=_;const x=document.createElement("div");x.className="vis-labelset",this.dom.labelSet=x,this._updateUngrouped();const k=new rye(Vu,null,this);k.show(),this.groups[Vu]=k,this.hammer=new es(this.body.dom.centerContainer),this.hammer.on("hammer.input",C=>{C.isFirst&&this._onTouch(C)}),this.hammer.on("panstart",Fe(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",Fe(r=this._onDrag).call(r,this)),this.hammer.on("panend",Fe(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:es.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",Fe(s=this._onSelectItem).call(s,this)),this.hammer.on("press",Fe(o=this._onMultiSelectItem).call(o,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",Fe(a=this._onAddItem).call(a,this)),this.options.rtl?this.groupHammer=new es(this.body.dom.rightContainer):this.groupHammer=new es(this.body.dom.leftContainer),this.groupHammer.on("tap",Fe(l=this._onGroupClick).call(l,this)),this.groupHammer.on("panstart",Fe(c=this._onGroupDragStart).call(c,this)),this.groupHammer.on("panmove",Fe(u=this._onGroupDrag).call(u,this)),this.groupHammer.on("panend",Fe(d=this._onGroupDragEnd).call(d,this)),this.groupHammer.get("pan").set({threshold:5,direction:es.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",Fe(h=this._onMouseOver).call(h,this)),this.body.dom.centerContainer.addEventListener("mouseout",Fe(f=this._onMouseOut).call(f,this)),this.body.dom.centerContainer.addEventListener("mousemove",Fe(p=this._onMouseMove).call(p,this)),this.body.dom.centerContainer.addEventListener("contextmenu",Fe(m=this._onDragEnd).call(m,this)),this.body.dom.centerContainer.addEventListener("mousewheel",Fe(b=this._onMouseWheel).call(b,this)),this.show()}setOptions(e){if(e){var r,i;const s=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];ne.selectiveExtend(s,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(ne.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(ne.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&ne.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),bt(r=["locale","locales"]).call(r,a=>{a in e&&(this.options[a]=e[a])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&ne.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&ne.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const o=a=>{const l=e[a];if(l){if(typeof l!="function"){var c;throw new Error(Er(c="option ".concat(a," must be a function ")).call(c,a,"(item, callback)"))}this.options[a]=l}};bt(i=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(i,o),e.cluster?(fu(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new vct(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&bt(ne).call(ne,this.items,r=>{r.dirty=!0,r.displayed&&r.redraw()}),e.restackGroups&&bt(ne).call(ne,this.groups,(r,i)=>{i!==Vu&&(r.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const r=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=Bi(function(){e.show()},r)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){var r;e==null&&(e=[]),nn(e)||(e=[e]);const i=$t(r=this.selection).call(r,s=>jn(e).call(e,s)===-1);for(let s of i){const o=this.getItemById(s);o&&o.unselect()}this.selection=[...e];for(let s of e){const o=this.getItemById(s);o&&o.select()}}getSelection(){var e;return Er(e=this.selection).call(e,[])}getVisibleItems(){const e=this.body.range.getRange();let r,i;this.options.rtl?(r=this.body.util.toScreen(e.start),i=this.body.util.toScreen(e.end)):(i=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end));const s=[];for(const o in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,o))continue;const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const c of l)this.options.rtl?c.right<i&&c.right+c.width>r&&s.push(c.id):c.left<r&&c.left+c.width>i&&s.push(c.id)}return s}getItemsAtCurrentTime(e){let r,i;this.options.rtl?(r=this.body.util.toScreen(e),i=this.body.util.toScreen(e)):(i=this.body.util.toScreen(e),r=this.body.util.toScreen(e));const s=[];for(const o in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,o))continue;const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const c of l)this.options.rtl?c.right<i&&c.right+c.width>r&&s.push(c.id):c.left<r&&c.left+c.width>i&&s.push(c.id)}return s}getVisibleGroups(){const e=[];for(const r in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,r))continue;this.groups[r].isVisible&&e.push(r)}return e}getItemById(e){var r;return this.items[e]||Qlt(r=this.clusters).call(r,i=>i.id===e)}_deselect(e){const r=this.selection;for(let i=0,s=r.length;i<s;i++)if(r[i]==e){ts(r).call(r,i,1);break}}redraw(){const e=this.options.margin,r=this.body.range,i=ne.option.asSize,s=this.options,o=s.orientation.item;let a=!1;const l=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,l.className="vis-itemset",this.options.cluster&&this._clusterItems(),a=this._orderGroups()||a;const c=r.end-r.start,u=c!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,d=r.start!=this.lastRangeStart,h=s.stack!=this.lastStack,f=s.stackSubgroups!=this.lastStackSubgroups,p=u||d||h||f;this.lastVisibleInterval=c,this.lastRangeStart=r.start,this.lastStack=s.stack,this.lastStackSubgroups=s.stackSubgroups,this.props.lastWidth=this.props.width;const m=this._firstGroup(),b={item:e.item,axis:e.axis},y={item:e.item,axis:e.item.vertical/2};let v=0;const w=e.axis+e.item.vertical;this.groups[Vu].redraw(r,y,p);const _={};let x=0;if(bt(ne).call(ne,this.groups,(C,E)=>{if(E===Vu)return;const T=C==m?b:y,M=!0;_[E]=C.redraw(r,T,p,M),x=_[E].length}),x>0){const C={};for(let E=0;E<x;E++)bt(ne).call(ne,_,(T,M)=>{C[M]=T[E]()});bt(ne).call(ne,this.groups,(E,T)=>{if(T===Vu)return;a=C[T]||a,v+=E.height}),v=Math.max(v,w)}return v=Math.max(v,w),l.style.height=i(v),this.props.width=l.offsetWidth,this.props.height=v,this.dom.axis.style.top=i(o=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,a=this._isResized()||a,a}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,r=this.groupIds[e];return this.groups[r]||this.groups[am]||null}_updateUngrouped(){let e=this.groups[am],r,i;if(this.groupsData){if(e){e.dispose(),delete this.groups[am];for(i in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,i))continue;r=this.items[i],r.parent&&r.parent.remove(r);const s=this.getGroupId(r.data),o=this.groups[s];o&&o.add(r)||r.hide()}}}else if(!e){e=new fN(null,null,this),this.groups[am]=e;for(i in this.items)Object.prototype.hasOwnProperty.call(this.items,i)&&(r=this.items[i],e.add(r));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const r=this;let i;const s=this.itemsData;if(!e)this.itemsData=null;else if(pu(e))this.itemsData=N0(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(s&&(bt(ne).call(ne,this.itemListeners,(o,a)=>{s.off(a,o)}),s.dispose(),i=s.getIds(),this._onRemove(i)),this.itemsData){const o=this.id;bt(ne).call(ne,this.itemListeners,(a,l)=>{r.itemsData.on(l,a,o)}),i=this.itemsData.getIds(),this._onAdd(i),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const r=this;let i;if(this.groupsData&&(bt(ne).call(ne,this.groupListeners,(o,a)=>{r.groupsData.off(a,o)}),i=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(i)),!e)this.groupsData=null;else if(pu(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var s;const o=this.groupsData.getDataSet();bt(s=o.get()).call(s,l=>{if(l.nestedGroups){var c;bt(c=l.nestedGroups).call(c,u=>{const d=o.get(u);d.nestedInGroup=l.id,l.showNested==!1&&(d.visible=!1),o.update(d)})}});const a=this.id;bt(ne).call(ne,this.groupListeners,(l,c)=>{r.groupsData.on(c,l,a)}),i=this.groupsData.getIds(),this._onAddGroups(i)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const r=this.itemsData.get(e);r&&this.options.onRemove(r,i=>{i&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?Vu:this.groupsData?e.group:am}_onUpdate(e){const r=this;bt(e).call(e,i=>{const s=r.itemsData.get(i);let o=r.items[i];const a=s?r._getType(s):null,l=up.types[a];let c;if(o&&(!l||!(o instanceof l)?(c=o.selected,r._removeItem(o),o=null):r._updateItem(o,s)),!o&&s)if(l)o=new l(s,r.conversion,r.options),o.id=i,r._addItem(o),c&&(this.selection.push(i),o.select());else throw new TypeError('Unknown item type "'.concat(a,'"'))}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let r=0;const i=this;bt(e).call(e,s=>{const o=i.items[s];o&&(r++,i._removeItem(o))}),r&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){bt(ne).call(ne,this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const r=this;bt(e).call(e,i=>{const s=r.groupsData.get(i);let o=r.groups[i];if(o)o.setData(s);else{if(i==am||i==Vu)throw new Error("Illegal group id. ".concat(i," is a reserved id."));const a=Gx(r.options);ne.extend(a,{height:null}),o=new fN(i,s,r),r.groups[i]=o;for(const l in r.items){if(!Object.prototype.hasOwnProperty.call(r.items,l))continue;const c=r.items[l];c.data.group==i&&o.add(c)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){bt(e).call(e,r=>{const i=this.groups[r];i&&(i.dispose(),delete this.groups[r])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const r=!ne.equalArray(e,this.groupIds);if(r){const i=this.groups;bt(e).call(e,s=>{i[s].hide()}),bt(e).call(e,s=>{i[s].show()}),this.groupIds=e}return r}else return!1}_orderNestedGroups(e){function r(s,o){let a=[];return bt(o).call(o,l=>{if(a.push(l),s.groupsData.get(l).nestedGroups){var u;const d=Tn(u=s.groupsData.get({filter(h){return h.nestedInGroup==l},order:s.options.groupOrder})).call(u,h=>h.id);a=Er(a).call(a,r(s,d))}}),a}const i=$t(e).call(e,s=>!this.groupsData.get(s).nestedInGroup);return r(this,i)}_addItem(e){this.items[e.id]=e;const r=this.getGroupId(e.data),i=this.groups[r];i?i&&i.data&&i.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,i&&i.add(e)}_updateItem(e,r){e.setData(r);const i=this.getGroupId(e.data),s=this.groups[i];s?s&&s.data&&s.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){var r,i;e.hide(),delete this.items[e.id];const s=jn(r=this.selection).call(r,e.id);s!=-1&&ts(i=this.selection).call(i,s,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const r=[];for(let i=0;i<e.length;i++)e[i]instanceof cp&&r.push(e[i]);return r}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let r=0;r<this.groupIds.length;r++)if(e==this.groupIds[r])return r}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const r=this.touchParams.item||null,i=this;let s;if(r&&(r.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||r.editable!=null&&!r.editable.updateTime&&!r.editable.updateGroup&&!this.options.editable.overrideItems)return;const o=this.touchParams.dragLeftItem,a=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=r,o)s={item:o,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(r.data)},this.touchParams.itemProps=[s];else if(a)s={item:a,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(r.data)},this.touchParams.itemProps=[s];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const l=this._getGroupIndex(r.data.group),c=this.options.itemsAlwaysDraggable.item&&!r.selected?[r.id]:this.getSelection();this.touchParams.itemProps=Tn(c).call(c,u=>{const d=i.items[u],h=i._getGroupIndex(d.data.group);return{item:d,initialX:e.center.x,groupOffset:l-h,data:this._cloneItemData(d.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const r=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?i.right-e.center.x+10:e.center.x-i.left-10,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep(),c=r?r(o,a,l):o,d={type:"range",start:c,end:c,content:"new item"},h=Df();d[this.itemsData.idProp]=h;const f=this.groupFromTarget(e);f&&(d.group=f.groupId);const p=new cp(d,this.conversion,this.options);p.id=h,p.data=this._cloneItemData(d),this._addItem(p),this.touchParams.selectedItem=p;const m={item:p,initialX:e.center.x,data:p.data};this.options.rtl?m.dragLeft=!0:m.dragRight=!0,this.touchParams.itemProps=[m],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const i=this.body.dom.centerContainer,s=i.getBoundingClientRect();this.popup.setPosition(e.center.x-s.left+i.offsetLeft,e.center.y-s.top+i.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var r;e.stopPropagation();const i=this,s=this.options.snap||null,o=this.body.dom.root.offsetLeft,a=this.options.rtl?o+this.body.domProps.right.width:o+this.body.domProps.left.width,l=this.body.util.getScale(),c=this.body.util.getStep(),u=this.touchParams.selectedItem,d=(this.options.editable.overrideItems||u.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&u.editable!=null&&u.editable.updateGroup;let h=null;if(d&&u&&u.data.group!=null){const f=i.groupFromTarget(e);f&&(h=this._getGroupIndex(f.groupId))}bt(r=this.touchParams.itemProps).call(r,f=>{const p=i.body.util.toTime(e.center.x-a),m=i.body.util.toTime(f.initialX-a);let b,y,v,w,_;this.options.rtl?b=-(p-m):b=p-m;let x=this._cloneItemData(f.item.data);if(f.item.editable!=null&&!f.item.editable.updateTime&&!f.item.editable.updateGroup&&!i.options.editable.overrideItems)return;if((this.options.editable.overrideItems||u.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&u.editable!=null&&u.editable.updateTime){if(f.dragLeft)this.options.rtl?x.end!=null&&(v=ne.convert(f.data.end,"Date"),_=new Date(v.valueOf()+b),x.end=s?s(_,l,c):_):x.start!=null&&(y=ne.convert(f.data.start,"Date"),w=new Date(y.valueOf()+b),x.start=s?s(w,l,c):w);else if(f.dragRight)this.options.rtl?x.start!=null&&(y=ne.convert(f.data.start,"Date"),w=new Date(y.valueOf()+b),x.start=s?s(w,l,c):w):x.end!=null&&(v=ne.convert(f.data.end,"Date"),_=new Date(v.valueOf()+b),x.end=s?s(_,l,c):_);else if(x.start!=null)if(y=ne.convert(f.data.start,"Date").valueOf(),w=new Date(y+b),x.end!=null){v=ne.convert(f.data.end,"Date");const C=v.valueOf()-y.valueOf();x.start=s?s(w,l,c):w,x.end=new Date(x.start.valueOf()+C)}else x.start=s?s(w,l,c):w}if(d&&!f.dragLeft&&!f.dragRight&&h!=null&&x.group!=null){let C=h-f.groupOffset;C=Math.max(0,C),C=Math.min(i.groupIds.length-1,C),x.group=i.groupIds[C]}x=this._cloneItemData(x),i.options.onMoving(x,C=>{C&&f.item.setData(this._cloneItemData(C,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,r){const i=this.groups[r];if(i&&i.groupId!=e.data.group){const s=e.parent;s.remove(e),s.order(),e.data.group=i.groupId,i.add(e),i.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const r=this,i=this.touchParams.itemProps;this.touchParams.itemProps=null,bt(i).call(i,s=>{const o=s.item.id;if(!(r.itemsData.get(o)!=null))r.options.onAdd(s.item.data,l=>{r._removeItem(s.item),l&&r.itemsData.add(l),r.body.emitter.emit("_change")});else{const l=this._cloneItemData(s.item.data);r.options.onMove(l,c=>{c?(c[this.itemsData.idProp]=o,this.itemsData.update(c)):(s.item.setData(s.data),r.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const r=this.groupFromTarget(e);Bi(()=>{this.toggleGroupShowNested(r)},1)}toggleGroupShowNested(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(!e||!e.nestedGroups)return;const i=this.groupsData.getDataSet();r!=null?e.showNested=!!r:e.showNested=!e.showNested;let s=i.get(e.groupId);s.showNested=e.showNested;let o=e.nestedGroups,a=o;for(;a.length>0;){let d=a;a=[];for(let h=0;h<d.length;h++){let f=i.get(d[h]);f.nestedGroups&&(a=Er(a).call(a,f.nestedGroups))}a.length>0&&(o=Er(o).call(o,a))}var l;if(s.showNested){var c=i.get(s.nestedGroups);for(let d=0;d<c.length;d++){let h=c[d];h.nestedGroups&&h.nestedGroups.length>0&&(h.showNested==null||h.showNested==!0)&&c.push(...i.get(h.nestedGroups))}l=Tn(c).call(c,function(d){return d.visible==null&&(d.visible=!0),d.visible=!!s.showNested,d})}else{var u;l=Tn(u=i.get(o)).call(u,function(d){return d.visible==null&&(d.visible=!0),d.visible=!!s.showNested,d})}i.update(Er(l).call(l,s)),s.showNested?(ne.removeClassName(e.dom.label,"collapsed"),ne.addClassName(e.dom.label,"expanded")):(ne.removeClassName(e.dom.label,"expanded"),ne.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const r=this.groupsData.getDataSet(),i=this.groupFromTarget(e);if(i&&i.height!=this.groupTouchParams.group.height){const s=i.top<this.groupTouchParams.group.top,o=e.center?e.center.y:e.clientY,a=i.dom.foreground.getBoundingClientRect(),l=this.groupTouchParams.group.height;if(s){if(a.top+l<o)return}else{const c=i.height;if(a.top+c-l>o)return}}if(i&&i!=this.groupTouchParams.group){const s=r.get(i.groupId),o=r.get(this.groupTouchParams.group.groupId);o&&s&&(this.options.groupOrderSwap(o,s,r),r.update(o),r.update(s));const a=r.getIds({order:this.options.groupOrder});if(!ne.equalArray(a,this.groupTouchParams.originalOrder)){const l=this.groupTouchParams.originalOrder,c=this.groupTouchParams.group.groupId,u=Math.min(l.length,a.length);let d=0,h=0,f=0;for(;d<u;){for(;d+h<u&&d+f<u&&a[d+h]==l[d+f];)d++;if(d+h>=u)break;if(a[d+h]==c)h=1;else if(l[d+f]==c)f=1;else{const p=jn(a).call(a,l[d+f]),m=r.get(a[d+h]),b=r.get(l[d+f]);this.options.groupOrderSwap(m,b,r),r.update(m),r.update(b);const y=a[d+h];a[d+h]=l[d+f],a[p]=y,d++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const r=this,i=r.groupTouchParams.group.groupId,s=r.groupsData.getDataSet(),o=ne.extend({},s.get(i));r.options.onMoveGroup(o,a=>{if(a)a[s._idProp]=i,s.update(a);else{const l=s.getIds({order:r.options.groupOrder});if(!ne.equalArray(l,r.groupTouchParams.originalOrder)){const c=r.groupTouchParams.originalOrder,u=Math.min(c.length,l.length);let d=0;for(;d<u;){for(;d<u&&l[d]==c[d];)d++;if(d>=u)break;const h=jn(l).call(l,c[d]),f=s.get(l[d]),p=s.get(c[d]);r.options.groupOrderSwap(f,p,s),s.update(f),s.update(p);const m=l[d];l[d]=c[d],l[h]=m,d++}}}}),r.body.emitter.emit("groupDragged",{groupId:i}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const r=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),i=e.srcEvent&&e.srcEvent.shiftKey;if(r||i){this._onMultiSelectItem(e);return}const s=this.getSelection(),o=this.itemFromTarget(e),a=o&&o.selectable?[o.id]:[];this.setSelection(a);const l=this.getSelection();(l.length>0||s.length>0)&&this.body.emitter.emit("select",{items:l,event:e})}_onMouseOver(e){const r=this.itemFromTarget(e);if(!r)return;const i=this.itemFromRelatedTarget(e);if(r===i)return;const s=r.getTitle();if(this.options.showTooltips&&s){this.popup==null&&(this.popup=new cct(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(s);const o=this.body.dom.centerContainer,a=o.getBoundingClientRect();this.popup.setPosition(e.clientX-a.left+o.offsetLeft,e.clientY-a.top+o.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:r.id,event:e})}_onMouseOut(e){const r=this.itemFromTarget(e);if(!r)return;const i=this.itemFromRelatedTarget(e);r!==i&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:r.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const i=this.body.dom.centerContainer,s=i.getBoundingClientRect();this.popup.setPosition(e.clientX-s.left+i.offsetLeft,e.clientY-s.top+i.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const r=this;if(e){const i=r.itemsData.get(e.id);this.options.onUpdate(i,s=>{s&&r.itemsData.update(s)})}}_onDropObjectOnItem(e){const r=this.itemFromTarget(e),i=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,r)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const r=this,i=this.options.snap||null,s=this.dom.frame.getBoundingClientRect(),o=this.options.rtl?s.right-e.center.x:e.center.x-s.left,a=this.body.util.toTime(o),l=this.body.util.getScale(),c=this.body.util.getStep();let u,d;e.type=="drop"?(d=JSON.parse(e.dataTransfer.getData("text")),d.content=d.content?d.content:"new item",d.start=d.start?d.start:i?i(a,l,c):a,d.type=d.type||"box",d[this.itemsData.idProp]=d.id||Df(),d.type=="range"&&!d.end&&(u=this.body.util.toTime(o+this.props.width/5),d.end=i?i(u,l,c):u)):(d={start:i?i(a,l,c):a,content:"new item"},d[this.itemsData.idProp]=Df(),this.options.type==="range"&&(u=this.body.util.toTime(o+this.props.width/5),d.end=i?i(u,l,c):u));const h=this.groupFromTarget(e);h&&(d.group=h.groupId),d=this._cloneItemData(d),this.options.onAdd(d,f=>{f&&(r.itemsData.add(f),e.type=="drop"&&r.setSelection([f.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const r=this.itemFromTarget(e);if(r){let i=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const a=this.itemsData.get(r.id).group;let l;this.options.multiselectPerGroup&&i.length>0&&(l=this.itemsData.get(i[0]).group),(!this.options.multiselectPerGroup||l==null||l==a)&&i.push(r.id);const c=up._getItemRange(this.itemsData.get(i));if(!this.options.multiselectPerGroup||l==a){i=[];for(const u in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,u))continue;const d=this.items[u],h=d.data.start,f=d.data.end!==void 0?d.data.end:h;h>=c.min&&f<=c.max&&(!this.options.multiselectPerGroup||l==this.itemsData.get(d.id).group)&&!(d instanceof Ip)&&i.push(d.id)}}}else{const a=jn(i).call(i,r.id);a==-1?i.push(r.id):ts(i).call(i,a,1)}const o=$t(i).call(i,a=>this.getItemById(a).selectable);this.setSelection(o),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let r=null,i=null;return bt(e).call(e,s=>{(i==null||s.start<i)&&(i=s.start),s.end!=null?(r==null||s.end>r)&&(r=s.end):(r==null||s.start>r)&&(r=s.start)}),{min:i,max:r}}itemFromElement(e){let r=e;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"vis-item"))return r["vis-item"];r=r.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const r=e.center?e.center.y:e.clientY;let i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(let s=0;s<i.length;s++){const o=i[s],a=this.groups[o],l=a.dom.foreground,c=l.getBoundingClientRect();if(r>=c.top&&r<c.top+l.offsetHeight)return a;if(this.options.orientation.item==="top"){if(s===this.groupIds.length-1&&r>c.top)return a}else if(s===0&&r<c.top+l.offset)return a}return null}static itemSetFromTarget(e){let r=e.target;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"vis-itemset"))return r["vis-itemset"];r=r.parentNode}return null}_cloneItemData(e,r){const i=ne.extend({},e);return r||(r=this.itemsData.type),i.start!=null&&(i.start=ne.convert(i.start,r&&r.start||"Date")),i.end!=null&&(i.end=ne.convert(i.end,r&&r.end||"Date")),i}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),r=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=r){if(this._detachAllClusters(),r){for(let i of r)i.attach();this.clusters=r}this._updateClusters(r)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){var r;const o=new zd(Tn(e).call(e,c=>c.id)),a=$t(r=this.clusters).call(r,c=>!o.has(c.id));let l=!1;for(let c of a){var i;const u=jn(i=this.selection).call(i,c.id);if(u!==-1){var s;c.unselect(),ts(s=this.selection).call(s,u,1),l=!0}}if(l){const c=this.getSelection();this.body.emitter.emit("select",{items:c,event})}}this.clusters=e||[]}}up.types={background:Ip,box:act,range:cp,point:lct};up.prototype._onAdd=up.prototype._onUpdate;let oy=!1,aie,P2="background: #FFeeee; color: #dd0000";class tr{constructor(){}static validate(e,r,i){oy=!1,aie=r;let s=r;return i!==void 0&&(s=r[i]),tr.parse(e,s,[]),oy}static parse(e,r,i){for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&tr.check(s,e,r,i)}static check(e,r,i,s){if(i[e]===void 0&&i.__any__===void 0){tr.getSuggestion(e,i,s);return}let o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=tr.getType(r[e])==="object");let l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),tr.checkFields(e,r,i,o,l,s)}static checkFields(e,r,i,s,o,a){let l=function(d){console.log("%c"+d+tr.printLocation(a,e),P2)},c=tr.getType(r[e]),u=o[c];u!==void 0?tr.getType(u)==="array"&&jn(u).call(u,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+tr.print(u)+' not "'+r[e]+'". '),oy=!0):c==="object"&&s!=="__any__"&&(a=ne.copyAndExtendArray(a,e),tr.parse(r[e],i[s],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+tr.print(Vr(o))+". Received ["+c+'] "'+r[e]+'"'),oy=!0)}static getType(e){var r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":nn(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){let s=tr.findInOptions(e,r,i,!1),o=tr.findInOptions(e,aie,[],!0),a=8,l=4,c;s.indexMatch!==void 0?c=" in "+tr.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:o.distance<=l&&s.distance>o.distance?c=" in "+tr.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+tr.printLocation(o.path,o.closestMatch,""):s.distance<=a?c='. Did you mean "'+s.closestMatch+'"?'+tr.printLocation(s.path,e):c=". Did you mean one of these: "+tr.print(Vr(r))+tr.printLocation(i,e),console.log('%cUnknown option detected: "'+e+'"'+c,P2),oy=!0}static findInOptions(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,a="",l=[],c=e.toLowerCase(),u;for(let h in r){if(!Object.prototype.hasOwnProperty.call(r,h))continue;let f;if(r[h].__type__!==void 0&&s===!0){let p=tr.findInOptions(e,r[h],ne.copyAndExtendArray(i,h));o>p.distance&&(a=p.closestMatch,l=p.path,o=p.distance,u=p.indexMatch)}else{var d;jn(d=h.toLowerCase()).call(d,c)!==-1&&(u=h),f=tr.levenshteinDistance(e,h),o>f&&(a=h,l=ne.copyArray(i),o=f)}}return{closestMatch:a,path:l,distance:o,indexMatch:u}}static printLocation(e,r){let s=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)s+="  ";s+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)s+="  ";s+=r+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)s+="  ";s+=`}
`}return s+`

`}static print(e){return Cs(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;var i=[],s;for(s=0;s<=r.length;s++)i[s]=[s];var o;for(o=0;o<=e.length;o++)i[0][o]=o;for(s=1;s<=r.length;s++)for(o=1;o<=e.length;o++)r.charAt(s-1)==e.charAt(o-1)?i[s][o]=i[s-1][o-1]:i[s][o]=Math.min(i[s-1][o-1]+1,Math.min(i[s][o-1]+1,i[s-1][o]+1));return i[r.length][e.length]}}let Gt="string",Vt="boolean",zn="number",lie="array",lm="date",Sr="object",wct="dom",cm="moment",cie="any",xct={configure:{enabled:{boolean:Vt},filter:{boolean:Vt,function:"function"},container:{dom:wct},__type__:{object:Sr,boolean:Vt,function:"function"}},align:{string:Gt},alignCurrentTime:{string:Gt,undefined:"undefined"},rtl:{boolean:Vt,undefined:"undefined"},rollingMode:{follow:{boolean:Vt},offset:{number:zn,undefined:"undefined"},__type__:{object:Sr}},onTimeout:{timeoutMs:{number:zn},callback:{function:"function"},__type__:{object:Sr}},verticalScroll:{boolean:Vt,undefined:"undefined"},horizontalScroll:{boolean:Vt,undefined:"undefined"},horizontalScrollKey:{string:Gt,undefined:"undefined"},horizontalScrollInvert:{boolean:Vt,undefined:"undefined"},autoResize:{boolean:Vt},throttleRedraw:{number:zn},clickToUse:{boolean:Vt},dataAttributes:{string:Gt,array:lie},editable:{add:{boolean:Vt,undefined:"undefined"},remove:{boolean:Vt,undefined:"undefined"},updateGroup:{boolean:Vt,undefined:"undefined"},updateTime:{boolean:Vt,undefined:"undefined"},overrideItems:{boolean:Vt,undefined:"undefined"},__type__:{boolean:Vt,object:Sr}},end:{number:zn,date:lm,string:Gt,moment:cm},format:{minorLabels:{millisecond:{string:Gt,undefined:"undefined"},second:{string:Gt,undefined:"undefined"},minute:{string:Gt,undefined:"undefined"},hour:{string:Gt,undefined:"undefined"},weekday:{string:Gt,undefined:"undefined"},day:{string:Gt,undefined:"undefined"},week:{string:Gt,undefined:"undefined"},month:{string:Gt,undefined:"undefined"},year:{string:Gt,undefined:"undefined"},__type__:{object:Sr,function:"function"}},majorLabels:{millisecond:{string:Gt,undefined:"undefined"},second:{string:Gt,undefined:"undefined"},minute:{string:Gt,undefined:"undefined"},hour:{string:Gt,undefined:"undefined"},weekday:{string:Gt,undefined:"undefined"},day:{string:Gt,undefined:"undefined"},week:{string:Gt,undefined:"undefined"},month:{string:Gt,undefined:"undefined"},year:{string:Gt,undefined:"undefined"},__type__:{object:Sr,function:"function"}},__type__:{object:Sr}},moment:{function:"function"},groupHeightMode:{string:Gt},groupOrder:{string:Gt,function:"function"},groupEditable:{add:{boolean:Vt,undefined:"undefined"},remove:{boolean:Vt,undefined:"undefined"},order:{boolean:Vt,undefined:"undefined"},__type__:{boolean:Vt,object:Sr}},groupOrderSwap:{function:"function"},height:{string:Gt,number:zn},hiddenDates:{start:{date:lm,number:zn,string:Gt,moment:cm},end:{date:lm,number:zn,string:Gt,moment:cm},repeat:{string:Gt},__type__:{object:Sr,array:lie}},itemsAlwaysDraggable:{item:{boolean:Vt,undefined:"undefined"},range:{boolean:Vt,undefined:"undefined"},__type__:{boolean:Vt,object:Sr}},limitSize:{boolean:Vt},locale:{string:Gt},locales:{__any__:{any:cie},__type__:{object:Sr}},longSelectPressTime:{number:zn},margin:{axis:{number:zn},item:{horizontal:{number:zn,undefined:"undefined"},vertical:{number:zn,undefined:"undefined"},__type__:{object:Sr,number:zn}},__type__:{object:Sr,number:zn}},max:{date:lm,number:zn,string:Gt,moment:cm},maxHeight:{number:zn,string:Gt},maxMinorChars:{number:zn},min:{date:lm,number:zn,string:Gt,moment:cm},minHeight:{number:zn,string:Gt},moveable:{boolean:Vt},multiselect:{boolean:Vt},multiselectPerGroup:{boolean:Vt},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:Gt,undefined:"undefined"},item:{string:Gt,undefined:"undefined"},__type__:{string:Gt,object:Sr}},selectable:{boolean:Vt},sequentialSelection:{boolean:Vt},showCurrentTime:{boolean:Vt},showMajorLabels:{boolean:Vt},showMinorLabels:{boolean:Vt},showWeekScale:{boolean:Vt},stack:{boolean:Vt},stackSubgroups:{boolean:Vt},cluster:{maxItems:{number:zn,undefined:"undefined"},titleTemplate:{string:Gt,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:Vt,undefined:"undefined"},fitOnDoubleClick:{boolean:Vt,undefined:"undefined"},__type__:{boolean:Vt,object:Sr}},snap:{function:"function",null:"null"},start:{date:lm,number:zn,string:Gt,moment:cm},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:Gt,function:"function"},showTooltips:{boolean:Vt},tooltip:{followMouse:{boolean:Vt},overflowMethod:{string:["cap","flip","none"]},delay:{number:zn},template:{function:"function"},__type__:{object:Sr}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:Vt,object:Sr}},timeAxis:{scale:{string:Gt,undefined:"undefined"},step:{number:zn,undefined:"undefined"},__type__:{object:Sr}},type:{string:Gt},width:{string:Gt,number:zn},preferZoom:{boolean:Vt},zoomable:{boolean:Vt},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:zn},zoomMax:{number:zn},zoomMin:{number:zn},xss:{disabled:{boolean:Vt},filterOptions:{__any__:{any:cie},__type__:{object:Sr}},__type__:{object:Sr}},__type__:{object:Sr}},_ct={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var kct={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class Sct{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return kct[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;var s=this._isColorString(e);if(s!==void 0&&(e=s),ne.isString(e)===!0){if(ne.isValidRGB(e)===!0){let o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(ne.isValidRGBA(e)===!0){let o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(ne.isValidHex(e)===!0){let o=ne.hexToRGB(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Cs(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=ne.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=ne.extend({},e)),this.color=e;let i=ne.RGBToHSV(e.r,e.g,e.b),s=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(s*i.h),l=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let r=ne.RGBToHSV(this.color.r,this.color.g,this.color.b);r.v=e/100;let i=ne.HSVToRGB(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,r=ne.RGBToHSV(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),G0e(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=Fe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=Fe(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=Fe(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=Fe(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new es(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),Gbe(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let s,o,a,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;let c=2*Math.PI/360,u=1/360,d=1/this.r,h;for(a=0;a<360;a++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(c*a),o=this.centerCoordinates.y+l*Math.cos(c*a),h=ne.HSVToRGB(a*u,l*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(s-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){let r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,s=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=s-o,u=Math.atan2(l,c),d=.98*Math.min(Math.sqrt(l*l+c*c),a),h=Math.cos(u)*d+o,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;let m=d/this.r,b=ne.RGBToHSV(this.color.r,this.color.g,this.color.b);b.h=p,b.s=m;let y=ne.HSVToRGB(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class iye{constructor(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},ne.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Sct(s),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(nn(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),$t(e)!==void 0&&(this.options.filter=$t(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);$t(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=$t(this.options),r=0,i=!1;for(let s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(s,[]),i=i||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||jn(e).call(e,s)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){let o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return bt(i).call(i,a=>{o.appendChild(a)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){let r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerHTML=ne.xss(e),this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=document.createElement("div");return s.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0?s.innerHTML=ne.xss("<i><b>"+e+":</b></i>"):s.innerHTML=ne.xss(e+":"),s}_makeDropdown(e,r,i){let s=document.createElement("select");s.className="vis-configuration vis-config-select";let o=0;r!==void 0&&jn(e).call(e,r)!==-1&&(o=jn(e).call(e,r));for(let c=0;c<e.length;c++){let u=document.createElement("option");u.value=e[c],c===o&&(u.selected="selected"),u.innerHTML=e[c],s.appendChild(u)}let a=this;s.onchange=function(){a._update(this.value,i)};let l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_makeRange(e,r,i){let s=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch{}c.step=l;let u="",d=0;if(r!==void 0){let b=1.2;r<0&&r*b<o?(c.min=Math.ceil(r*b),d=c.min,u="range increased"):r/b<o&&(c.min=Math.ceil(r/b),d=c.min,u="range increased"),r*b>a&&a!==1&&(c.max=Math.ceil(r*b),d=c.max,u="range increased"),c.value=r}else c.value=s;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(c.value);var f=this;c.onchange=function(){h.value=this.value,f._update(Number(this.value),i)},c.oninput=function(){h.value=this.value};let p=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,p,c,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=ne.xss(e),i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){var s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));let o=this;s.onchange=function(){o._update(this.checked,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeTextInput(e,r,i){var s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:i,value:r});let o=this;s.onchange=function(){o._update(this.value,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeColorField(e,r,i){let s=e[1],o=document.createElement("div");r=r===void 0?s:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?s:r,o.onclick=()=>{this._showColorPicker(r,o,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(s=>{let o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1,o=$t(this.options),a=!1;for(let l in e){if(!Object.prototype.hasOwnProperty.call(e,l))continue;s=!0;let c=e[l],u=ne.copyAndExtendArray(r,l);if(typeof o=="function"&&(s=o(l,r),s===!1&&!nn(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,s=this._handleObject(c,u,!0),this.allowCreation=i===!1)),s!==!1){a=!0;let d=this._getValue(u);if(nn(c))this._handleArray(c,d,u);else if(typeof c=="string")this._makeTextInput(c,d,u);else if(typeof c=="boolean")this._makeCheckbox(c,d,u);else if(c instanceof Object){let h=!0;if(jn(r).call(r,"physics")!==-1&&this.moduleOptions.physics.solver!==l&&(h=!1),h===!0)if(c.enabled!==void 0){let f=ne.copyAndExtendArray(u,"enabled"),p=this._getValue(f);if(p===!0){let m=this._makeLabel(l,u,!0);this._makeItem(u,m),a=this._handleObject(c,u)||a}else this._makeCheckbox(c,p,u)}else{let f=this._makeLabel(l,u,!0);this._makeItem(u,f),a=this._handleObject(c,u)||a}}else console.error("dont know how to handle",c,l,u)}}return a}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){let i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(s[r[o]]===void 0&&(s[r[o]]={}),o!==r.length-1?s=s[r[o]]:s[r[o]]=e);return i}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+Cs(e,null,2)+"</pre>"}getOptions(){let e={};for(var r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}}class vL extends hg{constructor(e,r,i,s){var o,a,l,c,u,d,h;if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof vL))throw new SyntaxError("Constructor must be called with the new operator");if(!(nn(i)||pu(i))&&i instanceof Object){const y=s;s=i,i=y}s&&s.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const f=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:ns},this.options=ne.deepExtend({},this.defaultOptions),s&&ne.setupXSSProtection(s.xss),this._create(e),!s||s&&typeof s.rtl>"u"){this.dom.root.style.visibility="hidden";let y,v=this.dom.root;for(;!y&&v;)y=window.getComputedStyle(v,null).direction,v=v.parentElement;this.options.rtl=y&&y.toLowerCase()=="rtl"}else this.options.rtl=s.rtl;s&&(s.rollingMode&&(this.options.rollingMode=s.rollingMode),s.onInitialDrawComplete&&(this.options.onInitialDrawComplete=s.onInitialDrawComplete),s.onTimeout&&(this.options.onTimeout=s.onTimeout),s.loadingScreenTemplate&&(this.options.loadingScreenTemplate=s.loadingScreenTemplate));const p=document.createElement("div");if(this.options.loadingScreenTemplate){var m;const y=Fe(m=this.options.loadingScreenTemplate).call(m,this),v=y(this.dom.loadingScreen);v instanceof Object&&!(v instanceof Element)?y(p):v instanceof Element?(p.innerHTML="",p.appendChild(v)):v!=null&&(p.innerHTML=ne.xss(v))}this.dom.loadingScreen.appendChild(p),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:Fe(o=this.on).call(o,this),off:Fe(a=this.off).call(a,this),emit:Fe(l=this.emit).call(l,this)},hiddenDates:[],util:{getScale(){return f.timeAxis.step.scale},getStep(){return f.timeAxis.step.step},toScreen:Fe(c=f._toScreen).call(c,f),toGlobalScreen:Fe(u=f._toGlobalScreen).call(u,f),toTime:Fe(d=f._toTime).call(d,f),toGlobalTime:Fe(h=f._toGlobalTime).call(h,f)}},this.range=new HE(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new T2(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new nye(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new up(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null;function b(y,v){f.hasListeners(y)&&f.emit(y,f.getEventProperties(v))}this.dom.root.onclick=y=>b("click",y),this.dom.root.ondblclick=y=>b("doubleClick",y),this.dom.root.oncontextmenu=y=>b("contextmenu",y),this.dom.root.onmouseover=y=>b("mouseOver",y),window.PointerEvent?(this.dom.root.onpointerdown=y=>b("mouseDown",y),this.dom.root.onpointermove=y=>b("mouseMove",y),this.dom.root.onpointerup=y=>b("mouseUp",y)):(this.dom.root.onmousemove=y=>b("mouseMove",y),this.dom.root.onmousedown=y=>b("mouseDown",y),this.dom.root.onmouseup=y=>b("mouseUp",y)),this.initialFitDone=!1,this.on("changed",()=>{if(f.itemsData!=null){if(!f.initialFitDone&&!f.options.rollingMode)if(f.initialFitDone=!0,f.options.start!=null||f.options.end!=null){if(f.options.start==null||f.options.end==null)var y=f.getItemRange();const v=f.options.start!=null?f.options.start:y.min,w=f.options.end!=null?f.options.end:y.max;f.setWindow(v,w,{animation:!1})}else f.fit({animation:!1});!f.initialDrawDone&&(f.initialRangeChangeDone||!f.options.start&&!f.options.end||f.options.rollingMode)&&(f.initialDrawDone=!0,f.itemSet.initialDrawDone=!0,f.dom.root.style.visibility="visible",f.dom.loadingScreen.parentNode.removeChild(f.dom.loadingScreen),f.options.onInitialDrawComplete&&Bi(()=>f.options.onInitialDrawComplete(),0))}}),this.on("destroyTimeline",()=>{f.destroy()}),s&&this.setOptions(s),this.body.emitter.on("fit",y=>{this._onFit(y),this.redraw()}),i&&this.setGroups(i),r&&this.setItems(r),this._redraw()}_createConfigurator(){return new iye(this,this.dom.container,_ct)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(e){if(tr.validate(e,xct)===!0&&console.log("%cErrors have been found in the supplied options object.",P2),hg.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;const i=this.itemsData;if(i){const s=this.getSelection();this.setItems(null),this.setItems(i.rawDS),this.setSelection(s)}}}setItems(e){this.itemsDone=!1;let r;e?pu(e)?r=N0(e):r=N0(new R0(e)):r=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=r,this.itemSet&&this.itemSet.setItems(r!=null?r.rawDS:null)}setGroups(e){let r;const i=s=>s.visible!==!1;e?(nn(e)&&(e=new R0(e)),r=new jat(e,{filter:i})):r=null,this.groupsData!=null&&typeof this.groupsData.setData=="function"&&this.groupsData.setData(null),this.groupsData=r,this.itemSet.setGroups(r)}setData(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)}setSelection(e,r){this.itemSet&&this.itemSet.setSelection(e),r&&r.focus&&this.focus(e,r)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(e,r){if(!this.itemsData||e==null)return;const i=nn(e)?e:[e],s=this.itemsData.get(i);let o=null,a=null;if(bt(s).call(s,l=>{const c=l.start.valueOf(),u="end"in l?l.end.valueOf():l.start.valueOf();(o===null||c<o)&&(o=c),(a===null||u>a)&&(a=u)}),o!==null&&a!==null){const l=this,c=this.itemSet.items[i[0]];let u=this._getScrollTop()*-1,d=null;const h=(w,_,x)=>{const k=uie(l,c);if(k===!1||(d||(d=k),d.itemTop==k.itemTop&&!d.shouldScroll))return;d.itemTop!=k.itemTop&&k.shouldScroll&&(d=k,u=l._getScrollTop()*-1);const C=u,E=d.scrollOffset,T=x?E:C+(E-C)*w;l._setScrollTop(-T),_||l._redraw()},f=()=>{const w=uie(l,c);w.shouldScroll&&w.itemTop!=d.itemTop&&(l._setScrollTop(-w.scrollOffset),l._redraw())},p=()=>{f(),Bi(f,100)},m=r&&r.zoom!==void 0?r.zoom:!0,b=(o+a)/2,y=m?(a-o)*1.1:Math.max(this.range.end-this.range.start,(a-o)*1.1),v=r&&r.animation!==void 0?r.animation:!0;v||(d={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.stopRolling(),this.range.setRange(b-y/2,b+y/2,{animation:v},p,h)}}fit(e,r){const i=e&&e.animation!==void 0?e.animation:!0;let s;this.itemsData.length===1&&this.itemsData.get()[0].end===void 0?(s=this.getDataRange(),this.moveTo(s.min.valueOf(),{animation:i},r)):(s=this.getItemRange(),this.range.setRange(s.min,s.max,{animation:i},r))}getItemRange(){const e=this.getDataRange();let r=e.min!==null?e.min.valueOf():null,i=e.max!==null?e.max.valueOf():null,s=null,o=null;if(r!=null&&i!=null){let a=i-r;a<=0&&(a=10);const l=a/this.props.center.width,c={};let u=0;if(bt(ne).call(ne,this.itemSet.items,(h,f)=>{h.groupShowing&&(c[f]=h.redraw(!0),u=c[f].length)}),u>0)for(let h=0;h<u;h++)bt(ne).call(ne,c,f=>{f[h]()});if(bt(ne).call(ne,this.itemSet.items,h=>{const f=_D(h),p=kD(h);let m,b;this.options.rtl?(m=f-(h.getWidthRight()+10)*l,b=p+(h.getWidthLeft()+10)*l):(m=f-(h.getWidthLeft()+10)*l,b=p+(h.getWidthRight()+10)*l),m<r&&(r=m,s=h),b>i&&(i=b,o=h)}),s&&o){const h=s.getWidthLeft()+10,f=o.getWidthRight()+10,p=this.props.center.width-h-f;p>0&&(this.options.rtl?(r=_D(s)-f*a/p,i=kD(o)+h*a/p):(r=_D(s)-h*a/p,i=kD(o)+f*a/p))}}return{min:r!=null?new Date(r):null,max:i!=null?new Date(i):null}}getDataRange(){let e=null,r=null;if(this.itemsData){var i;bt(i=this.itemsData).call(i,s=>{const o=ne.convert(s.start,"Date").valueOf(),a=ne.convert(s.end!=null?s.end:s.start,"Date").valueOf();(e===null||o<e)&&(e=o),(r===null||a>r)&&(r=a)})}return{min:e!=null?new Date(e):null,max:r!=null?new Date(r):null}}getEventProperties(e){const r=e.center?e.center.x:e.clientX,i=e.center?e.center.y:e.clientY,s=this.dom.centerContainer.getBoundingClientRect(),o=this.options.rtl?s.right-r:r-s.left,a=i-s.top,l=this.itemSet.itemFromTarget(e),c=this.itemSet.groupFromTarget(e),u=bL.customTimeFromTarget(e),d=this.itemSet.options.snap||null,h=this.body.util.getScale(),f=this.body.util.getStep(),p=this._toTime(o),m=d?d(p,h,f):p,b=ne.getTarget(e);let y=null;return l!=null?y="item":u!=null?y="custom-time":ne.hasParent(b,this.timeAxis.dom.foreground)||this.timeAxis2&&ne.hasParent(b,this.timeAxis2.dom.foreground)?y="axis":ne.hasParent(b,this.itemSet.dom.labelSet)?y="group-label":ne.hasParent(b,this.currentTime.bar)?y="current-time":ne.hasParent(b,this.dom.center)&&(y="background"),{event:e,item:l?l.id:null,isCluster:l?!!l.isCluster:!1,items:l?l.items||[]:null,group:c?c.groupId:null,customTime:u?u.options.id:null,what:y,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:o,y:a,time:p,snappedTime:m}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())}_redraw(){hg.prototype._redraw.call(this)}_onFit(e){const{start:r,end:i,animation:s}=e;i?this.range.setRange(r,i,{animation:s}):this.moveTo(r.valueOf(),{animation:s})}}function _D(n){return ne.convert(n.data.start,"Date").valueOf()}function kD(n){const e=n.data.end!=null?n.data.end:n.data.start;return ne.convert(e,"Date").valueOf()}function uie(n,e){if(!e.parent)return!1;const r=n.options.rtl?n.props.rightContainer.height:n.props.leftContainer.height,i=n.props.center.height,s=e.parent;let o=s.top,a=!0;const l=n.timeAxis.options.orientation.axis,c=()=>l=="bottom"?s.height-e.top-e.height:e.top,u=n._getScrollTop()*-1,d=o+c(),h=e.height;return d<u?o+r<=o+c()+h&&(o+=c()-n.itemSet.options.margin.item.vertical):d+h>u+r?o+=c()+h-r+n.itemSet.options.margin.item.vertical:a=!1,o=Math.min(o,i-r),{shouldScroll:a,scrollOffset:o,itemTop:d}}class Cct{constructor(e,r,i,s,o,a){let l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=a,this._start=e,this._end=r,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=l,this.autoScaleStart=i,this.autoScaleEnd=s,this.formattingFunction=c,i||s){const u=this,d=h=>{const f=h-h%(u.magnitudefactor*u.minorSteps[u.minorStepIdx]);return h%(u.magnitudefactor*u.minorSteps[u.minorStepIdx])>.5*(u.magnitudefactor*u.minorSteps[u.minorStepIdx])?f+u.magnitudefactor*u.minorSteps[u.minorStepIdx]:f};i&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=d(this._start)),s&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=d(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const r=this.majorCharHeight/this.scale,i=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);let s=0;i<0&&(s=i);let o=!1;for(let a=s;Math.abs(a)<=Math.abs(i);a++){this.magnitudefactor=Math.pow(10,a);for(let l=0;l<this.minorSteps.length;l++)if(this.magnitudefactor*this.minorSteps[l]>=r){o=!0,this.minorStepIdx=l;break}if(o===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let r=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(r=this.formattingFunction(e)),typeof r=="number"?"".concat(r):typeof r=="string"?r:e.toPrecision(5)}getLines(){const e=[],r=this.getStep(),i=(r-this._start%r)%r;for(let s=this._start+i;this._end-s>1e-5;s+=r)s!=this._start&&e.push({major:this.is_major(s),y:this.convertValue(s),val:this.formatValue(s)});return e}followScale(e){const r=this.minorStepIdx,i=this._start,s=this._end,o=this,a=()=>{o.magnitudefactor*=2},l=()=>{o.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,r==2||a(),a()):(this.minorStepIdx=2,r==1||l(),l()));const c=e.convertValue(0),u=e.getStep()*e.scale;let d=!1,h=0;for(;!d&&h++<5;){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const f=this.containerHeight/this.scale;this._start=i,this._end=this._start+f;const p=this._end*this.scale,m=this.magnitudefactor*this.majorSteps[this.minorStepIdx],b=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const y=c-p;this._end+=y/this.scale,this._start=this._end-f}else this.autoScaleStart?(this._start-=b/this.scale,this._end=this._start+f):(this._start+=m-b/this.scale,this._end=this._start+f);if(!this.autoScaleEnd&&this._end>s+1e-5){l(),d=!1;continue}if(!this.autoScaleStart&&this._start<i-1e-5)if(this.zeroAlign&&i>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{l(),d=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&f<s-i){a(),d=!1;continue}d=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class die extends lh{constructor(e,r,i,s){super(),this.id=Df(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(a){return"".concat(S2(a.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(a){return"".concat(S2(a.toPrecision(3)))},title:{text:void 0,style:void 0}}},this.linegraphOptions=s,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=ne.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(r),this.width=Number("".concat(this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const o=this;this.body.emitter.on("verticalDrag",()=>{o.dom.lineContainer.style.top="".concat(o.body.domProps.scrollTop,"px")})}addGroup(e,r){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=r),this.amountOfGroups+=1}updateGroup(e,r){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=r}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let r=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(r=!0);const i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];ne.selectiveDeepExtend(i,this.options,e),this.minWidth=Number("".concat(this.options.width).replace("px","")),r===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){ad(this.svgElements);let e;const r=this.options.iconWidth,i=15,s=4;let o=s+.5*i;this.options.orientation==="left"?e=s:e=this.width-r-s;const a=Vr(this.groups);Ir(a).call(a,(l,c)=>l<c?-1:1);for(const l of a)this.groups[l].visible===!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]===!0)&&(this.groups[l].getLegend(r,i,this.framework,e,o),o+=i+s);Lo(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(ad(this.svgElements),Lo(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,r){this.range.start=e,this.range.end=r}redraw(){let e=!1,r=0;this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px");for(const i in this.groups)Object.prototype.hasOwnProperty.call(this.groups,i)&&this.groups[i].visible===!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]===!0)&&r++;if(this.amountOfGroups===0||r===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=this.options.visible===!0?Number("".concat(this.options.width).replace("px","")):0;const i=this.props,s=this.dom.frame;s.className="vis-data-axis",this._calculateCharSize();const o=this.options.orientation,a=this.options.showMinorLabels,l=this.options.showMajorLabels,c=this.body.dom.backgroundHorizontal.offsetWidth;i.minorLabelHeight=a?i.minorCharHeight:0,i.majorLabelHeight=l?i.majorCharHeight:0,i.minorLineWidth=c-this.lineOffset-this.width+2*this.options.minorLinesOffset,i.minorLineHeight=1,i.majorLineWidth=c-this.lineOffset-this.width+2*this.options.majorLinesOffset,i.majorLineHeight=1,o==="left"?(s.style.top="0",s.style.left="0",s.style.bottom="",s.style.width="".concat(this.width,"px"),s.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(s.style.top="",s.style.bottom="0",s.style.left="0",s.style.width="".concat(this.width,"px"),s.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return e}_redrawLabels(){let e=!1;ad(this.DOMelements.lines),ad(this.DOMelements.labels);const r=this.options.orientation,i=this.options[r].range!=null?this.options[r].range:{};let s=!0;i.max!=null&&(this.range.end=i.max,s=!1);let o=!0;i.min!=null&&(this.range.start=i.min,o=!1),this.scale=new Cct(this.range.start,this.range.end,o,s,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[r].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;const a=this.scale.getLines();bt(a).call(a,u=>{const d=u.y,h=u.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(d-2,u.val,r,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&d>=0&&this._redrawLabel(d-2,u.val,r,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(d,r,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(d,r,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let l=0;this.options[r].title!==void 0&&this.options[r].title.text!==void 0&&(l=this.props.titleCharHeight);const c=this.options.icons===!0?Math.max(this.options.iconWidth,l)+this.options.labelOffsetX+15:l+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-c&&this.options.visible===!0?(this.width=this.maxLabelSize+c,this.options.width="".concat(this.width,"px"),Lo(this.DOMelements.lines),Lo(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-c&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+c),this.options.width="".concat(this.width,"px"),Lo(this.DOMelements.lines),Lo(this.DOMelements.labels),this.redraw(),e=!0):(Lo(this.DOMelements.lines),Lo(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,r,i,s,o){const a=UI("div",this.DOMelements.labels,this.dom.frame);a.className=s,a.innerHTML=ne.xss(r),i==="left"?(a.style.left="-".concat(this.options.labelOffsetX,"px"),a.style.textAlign="right"):(a.style.right="-".concat(this.options.labelOffsetX,"px"),a.style.textAlign="left"),a.style.top="".concat(e-.5*o+this.options.labelOffsetY,"px"),r+="";const l=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<r.length*l&&(this.maxLabelSize=r.length*l)}_redrawLine(e,r,i,s,o){if(this.master===!0){const a=UI("div",this.DOMelements.lines,this.dom.lineContainer);a.className=i,a.innerHTML="",r==="left"?a.style.left="".concat(this.width-s,"px"):a.style.right="".concat(this.width-s,"px"),a.style.width="".concat(o,"px"),a.style.top="".concat(e,"px")}}_redrawTitle(e){if(ad(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const r=UI("div",this.DOMelements.title,this.dom.frame);r.className="vis-y-axis vis-title vis-".concat(e),r.innerHTML=ne.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&ne.addCssText(r,this.options[e].title.style),e==="left"?r.style.left="".concat(this.props.titleCharHeight,"px"):r.style.right="".concat(this.props.titleCharHeight,"px"),r.style.width="".concat(this.height,"px")}Lo(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-minor vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.minorCharHeight=r.clientHeight,this.props.minorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-major vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.majorCharHeight=r.clientHeight,this.props.majorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}}}function n1(){}n1.draw=function(n,e,r,i){i=i||0;for(var s=Ect(r,e),o=0;o<n.length;o++)if(!s)D0(n[o].screen_x+i,n[o].screen_y,pN(e),r.svgElements,r.svg,n[o].label);else{var a=s(n[o],e);(a===!0||typeof a=="object")&&D0(n[o].screen_x+i,n[o].screen_y,pN(e,a),r.svgElements,r.svg,n[o].label)}};n1.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l=Ma("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",r-a),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline"),D0(e+.5*i,r,pN(n),o.svgElements,o.svg)};function pN(n,e){return e=typeof e>"u"?{}:e,{style:e.style||n.options.drawPoints.style,styles:e.styles||n.options.drawPoints.styles,size:e.size||n.options.drawPoints.size,className:e.className||n.className}}function Ect(n,e){var r=void 0;return n.options&&n.options.drawPoints&&n.options.drawPoints.onRender&&typeof n.options.drawPoints.onRender=="function"&&(r=n.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(r=e.group.options.drawPoints.onRender),r}function rs(){}rs.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l=Ma("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",r-a),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var c=Math.round(.3*i),u=n.options.barChart.width,d=u/c,h=Math.round(.4*s),f=Math.round(.75*s),p=Math.round((i-2*c)/3);if(aN(e+.5*c+p,r+a-h-1,c,h,n.className+" vis-bar",o.svgElements,o.svg,n.style),aN(e+1.5*c+p+2,r+a-f-1,c,f,n.className+" vis-bar",o.svgElements,o.svg,n.style),n.options.drawPoints.enabled==!0){var m={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size/d,className:n.className};D0(e+.5*c+p,r+a-h-1,m,o.svgElements,o.svg),D0(e+1.5*c+p+2,r+a-f-1,m,o.svgElements,o.svg)}};rs.draw=function(n,e,r){var i=[],s={},o,a,l,c,u,d,h=0;for(u=0;u<n.length;u++)if(c=r.groups[n[u]],c.options.style==="bar"&&c.visible===!0&&(r.options.groups.visibility[n[u]]===void 0||r.options.groups.visibility[n[u]]===!0))for(d=0;d<e[n[u]].length;d++)i.push({screen_x:e[n[u]][d].screen_x,screen_end:e[n[u]][d].screen_end,screen_y:e[n[u]][d].screen_y,x:e[n[u]][d].x,end:e[n[u]][d].end,y:e[n[u]][d].y,groupId:n[u],label:e[n[u]][d].label}),h+=1;if(h!==0)for(Ir(i).call(i,function(b,y){return b.screen_x===y.screen_x?b.groupId<y.groupId?-1:1:b.screen_x-y.screen_x}),rs._getDataIntersections(s,i),u=0;u<i.length;u++){c=r.groups[i[u].groupId];var f=c.options.barChart.minWidth!=null?c.options.barChart.minWidth:.1*c.options.barChart.width;a=i[u].screen_x;var p=0;if(s[a]===void 0)u+1<i.length&&(o=Math.abs(i[u+1].screen_x-a)),l=rs._getSafeDrawData(o,c,f);else{var m=u+(s[a].amount-s[a].resolved);m<i.length&&(o=Math.abs(i[m].screen_x-a)),l=rs._getSafeDrawData(o,c,f),s[a].resolved+=1,c.options.stack===!0&&c.options.excludeFromStacking!==!0?i[u].screen_y<c.zeroPosition?(p=s[a].accumulatedNegative,s[a].accumulatedNegative+=c.zeroPosition-i[u].screen_y):(p=s[a].accumulatedPositive,s[a].accumulatedPositive+=c.zeroPosition-i[u].screen_y):c.options.barChart.sideBySide===!0&&(l.width=l.width/s[a].amount,l.offset+=s[a].resolved*l.width-.5*l.width*(s[a].amount+1))}let b=l.width,y=i[u].screen_x;if(i[u].screen_end!=null?(b=i[u].screen_end-i[u].screen_x,y+=b*.5):y+=l.offset,aN(y,i[u].screen_y-p,b,c.zeroPosition-i[u].screen_y,c.className+" vis-bar",r.svgElements,r.svg,c.style),c.options.drawPoints.enabled===!0){let v={screen_x:i[u].screen_x,screen_y:i[u].screen_y-p,x:i[u].x,y:i[u].y,groupId:i[u].groupId,label:i[u].label};n1.draw([v],c,r,l.offset)}}};rs._getDataIntersections=function(n,e){for(var r,i=0;i<e.length;i++)i+1<e.length&&(r=Math.abs(e[i+1].screen_x-e[i].screen_x)),i>0&&(r=Math.min(r,Math.abs(e[i-1].screen_x-e[i].screen_x))),r===0&&(n[e[i].screen_x]===void 0&&(n[e[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),n[e[i].screen_x].amount+=1)};rs._getSafeDrawData=function(n,e,r){var i,s;return n<e.options.barChart.width&&n>0?(i=n<r?r:n,s=0,e.options.barChart.align==="left"?s-=.5*n:e.options.barChart.align==="right"&&(s+=.5*n)):(i=e.options.barChart.width,s=0,e.options.barChart.align==="left"?s-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(s+=.5*e.options.barChart.width)),{width:i,offset:s}};rs.getStackedYRange=function(n,e,r,i,s){if(n.length>0){Ir(n).call(n,function(a,l){return a.screen_x===l.screen_x?a.groupId<l.groupId?-1:1:a.screen_x-l.screen_x});var o={};rs._getDataIntersections(o,n),e[i]=rs._getStackedYRange(o,n),e[i].yAxisOrientation=s,r.push(i)}};rs._getStackedYRange=function(n,e){for(var r,i=e[0].screen_y,s=e[0].screen_y,o=0;o<e.length;o++)r=e[o].screen_x,n[r]===void 0?(i=i>e[o].screen_y?e[o].screen_y:i,s=s<e[o].screen_y?e[o].screen_y:s):e[o].screen_y<0?n[r].accumulatedNegative+=e[o].screen_y:n[r].accumulatedPositive+=e[o].screen_y;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i=i>n[a].accumulatedNegative?n[a].accumulatedNegative:i,i=i>n[a].accumulatedPositive?n[a].accumulatedPositive:i,s=s<n[a].accumulatedNegative?n[a].accumulatedNegative:s,s=s<n[a].accumulatedPositive?n[a].accumulatedPositive:s);return{min:i,max:s}};function bi(){}bi.calcPath=function(n,e){if(n!=null&&n.length>0){var r=[];return e.options.interpolation.enabled==!0?r=bi._catmullRom(n,e):r=bi._linear(n),r}};bi.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l,c,u=Ma("rect",o.svgElements,o.svg);if(u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",r-a),u.setAttributeNS(null,"width",i),u.setAttributeNS(null,"height",2*a),u.setAttributeNS(null,"class","vis-outline"),l=Ma("path",o.svgElements,o.svg),l.setAttributeNS(null,"class",n.className),n.style!==void 0&&l.setAttributeNS(null,"style",n.style),l.setAttributeNS(null,"d","M"+e+","+r+" L"+(e+i)+","+r),n.options.shaded.enabled==!0&&(c=Ma("path",o.svgElements,o.svg),n.options.shaded.orientation=="top"?c.setAttributeNS(null,"d","M"+e+", "+(r-a)+"L"+e+","+r+" L"+(e+i)+","+r+" L"+(e+i)+","+(r-a)):c.setAttributeNS(null,"d","M"+e+","+r+" L"+e+","+(r+a)+" L"+(e+i)+","+(r+a)+"L"+(e+i)+","+r),c.setAttributeNS(null,"class",n.className+" vis-icon-fill"),n.options.shaded.style!==void 0&&n.options.shaded.style!==""&&c.setAttributeNS(null,"style",n.options.shaded.style)),n.options.drawPoints.enabled==!0){var d={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size,className:n.className};D0(e+.5*i,r,d,o.svgElements,o.svg)}};bi.drawShading=function(n,e,r,i){if(e.options.shaded.enabled==!0){var s=Number(i.svg.style.height.replace("px","")),o=Ma("path",i.svgElements,i.svg),a="L";e.options.interpolation.enabled==!0&&(a="C");var l,c=0;e.options.shaded.orientation=="top"?c=0:e.options.shaded.orientation=="bottom"?c=s:c=Math.min(Math.max(0,e.zeroPosition),s),e.options.shaded.orientation=="group"&&r!=null&&r!=null?l="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,a,!1)+" L"+r[r.length-1][0]+","+r[r.length-1][1]+" "+this.serializePath(r,a,!0)+r[0][0]+","+r[0][1]+" Z":l="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,a,!1)+" V"+c+" H"+n[0][0]+" Z",o.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&o.setAttributeNS(null,"style",e.options.shaded.style),o.setAttributeNS(null,"d",l)}};bi.draw=function(n,e,r){if(n!=null&&n!=null){var i=Ma("path",r.svgElements,r.svg);i.setAttributeNS(null,"class",e.className),e.style!==void 0&&i.setAttributeNS(null,"style",e.style);var s="L";e.options.interpolation.enabled==!0&&(s="C"),i.setAttributeNS(null,"d","M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,s,!1))}};bi.serializePath=function(n,e,r){if(n.length<2)return"";var i=e,s;if(r)for(s=n.length-2;s>0;s--)i+=n[s][0]+","+n[s][1]+" ";else for(s=1;s<n.length;s++)i+=n[s][0]+","+n[s][1]+" ";return i};bi._catmullRomUniform=function(n){var e,r,i,s,o,a,l=[];l.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var c=1/6,u=n.length,d=0;d<u-1;d++)e=d==0?n[0]:n[d-1],r=n[d],i=n[d+1],s=d+2<u?n[d+2]:i,o={screen_x:(-e.screen_x+6*r.screen_x+i.screen_x)*c,screen_y:(-e.screen_y+6*r.screen_y+i.screen_y)*c},a={screen_x:(r.screen_x+6*i.screen_x-s.screen_x)*c,screen_y:(r.screen_y+6*i.screen_y-s.screen_y)*c},l.push([o.screen_x,o.screen_y]),l.push([a.screen_x,a.screen_y]),l.push([i.screen_x,i.screen_y]);return l};bi._catmullRom=function(n,e){var r=e.options.interpolation.alpha;if(r==0||r===void 0)return this._catmullRomUniform(n);var i,s,o,a,l,c,u,d,h,f,p,m,b,y,v,w,_,x,k,C=[];C.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var E=n.length,T=0;T<E-1;T++)i=T==0?n[0]:n[T-1],s=n[T],o=n[T+1],a=T+2<E?n[T+2]:o,u=Math.sqrt(Math.pow(i.screen_x-s.screen_x,2)+Math.pow(i.screen_y-s.screen_y,2)),d=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),h=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),y=Math.pow(h,r),w=Math.pow(h,2*r),v=Math.pow(d,r),_=Math.pow(d,2*r),k=Math.pow(u,r),x=Math.pow(u,2*r),f=2*x+3*k*v+_,p=2*w+3*y*v+_,m=3*k*(k+v),m>0&&(m=1/m),b=3*y*(y+v),b>0&&(b=1/b),l={screen_x:(-_*i.screen_x+f*s.screen_x+x*o.screen_x)*m,screen_y:(-_*i.screen_y+f*s.screen_y+x*o.screen_y)*m},c={screen_x:(w*s.screen_x+p*o.screen_x-_*a.screen_x)*b,screen_y:(w*s.screen_y+p*o.screen_y-_*a.screen_y)*b},l.screen_x==0&&l.screen_y==0&&(l=s),c.screen_x==0&&c.screen_y==0&&(c=o),C.push([l.screen_x,l.screen_y]),C.push([c.screen_x,c.screen_y]),C.push([o.screen_x,o.screen_y]);return C};bi._linear=function(n){for(var e=[],r=0;r<n.length;r++)e.push([n[r].screen_x,n[r].screen_y]);return e};function ch(n,e,r,i){this.id=e;var s=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=ne.selectiveBridgeObject(s,r),this.usingDefaultStyle=n.className===void 0,this.groupsUsingDefaultStyles=i,this.zeroPosition=0,this.update(n),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=n.visible===void 0?!0:n.visible}ch.prototype.setItems=function(n){n!=null?(this.itemsData=n,Ir(this.options)==!0&&ne.insertSort(this.itemsData,function(e,r){return e.x>r.x?1:-1})):this.itemsData=[]};ch.prototype.getItems=function(){return this.itemsData};ch.prototype.setZeroPosition=function(n){this.zeroPosition=n};ch.prototype.setOptions=function(n){if(n!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];ne.selectiveDeepExtend(e,this.options,n),typeof n.drawPoints=="function"&&(n.drawPoints={onRender:n.drawPoints}),ne.mergeOptions(this.options,n,"interpolation"),ne.mergeOptions(this.options,n,"drawPoints"),ne.mergeOptions(this.options,n,"shaded"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};ch.prototype.update=function(n){this.group=n,this.content=n.content||"graph",this.className=n.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=n.visible===void 0?!0:n.visible,this.style=n.style,this.setOptions(n.options)};ch.prototype.getLegend=function(n,e,r,i,s){if(r==null||r==null){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");r={svg:o,svgElements:{},options:this.options,groups:[this]}}switch((i==null||i==null)&&(i=0),(s==null||s==null)&&(s=.5*e),this.options.style){case"line":bi.drawIcon(this,i,s,n,e,r);break;case"points":case"point":n1.drawIcon(this,i,s,n,e,r);break;case"bar":rs.drawIcon(this,i,s,n,e,r);break}return{icon:r.svg,label:this.content,orientation:this.options.yAxisOrientation}};ch.prototype.getYRange=function(n){for(var e=n[0].y,r=n[0].y,i=0;i<n.length;i++)e=e>n[i].y?n[i].y:e,r=r<n[i].y?n[i].y:r;return{min:e,max:r,yAxisOrientation:this.options.yAxisOrientation}};function mo(n,e,r,i){this.body=n,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=r,this.options=ne.extend({},this.defaultOptions),this.linegraphOptions=i,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}mo.prototype=new lh;mo.prototype.clear=function(){this.groups={},this.amountOfGroups=0};mo.prototype.addGroup=function(n,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,n)||(this.groups[n]=e),this.amountOfGroups+=1)};mo.prototype.updateGroup=function(n,e){this.groups[n]=e};mo.prototype.removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(delete this.groups[n],this.amountOfGroups-=1)};mo.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};mo.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};mo.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};mo.prototype.setOptions=function(n){var e=["enabled","orientation","icons","left","right"];ne.selectiveDeepExtend(e,this.options,n)};mo.prototype.redraw=function(){var n=0,e=Vr(this.groups);Ir(e).call(e,function(a,l){return a<l?-1:1});for(var r=0;r<e.length;r++){var i=e[r];this.groups[i].visible==!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]==!0)&&n++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||n==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var s=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+s+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var o="";for(r=0;r<e.length;r++)i=e[r],this.groups[i].visible==!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]==!0)&&(o+=this.groups[i].content+"<br />");this.dom.textArea.innerHTML=ne.xss(o),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};mo.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var n=Vr(this.groups);Ir(n).call(n,function(u,d){return u<d?-1:1}),Oit(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,r=Number(e.replace("px","")),i=r,s=this.options.iconSize,o=.75*this.options.iconSize,a=r+.5*o+3;this.svg.style.width=s+5+r+"px";for(var l=0;l<n.length;l++){var c=n[l];this.groups[c].visible==!0&&(this.linegraphOptions.visibility[c]===void 0||this.linegraphOptions.visibility[c]==!0)&&(this.groups[c].getLegend(s,o,this.framework,i,a),a+=o+this.options.iconSpacing)}}};var I2="__ungrouped__";function Ln(n,e){this.id=Df(),this.body=n,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=ne.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var r=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(i,s){r._onAdd(s.items)},update:function(i,s){r._onUpdate(s.items)},remove:function(i,s){r._onRemove(s.items)}},this.groupListeners={add:function(i,s){r._onAddGroups(s.items)},update:function(i,s){r._onUpdateGroups(s.items)},remove:function(i,s){r._onRemoveGroups(s.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){r.svg.style.left=ne.option.asSize(-r.props.width),r.forceGraphUpdate=!0,r.redraw.call(r)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}Ln.prototype=new lh;Ln.prototype._create=function(){var n=document.createElement("div");n.className="vis-line-graph",this.dom.frame=n,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",n.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new die(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new die(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new mo(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new mo(this.body,this.options.legend,"right",this.options.groups),this.show()};Ln.prototype.setOptions=function(n){if(n){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];n.graphHeight===void 0&&n.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&n.graphHeight!==void 0&&eo((n.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),ne.selectiveDeepExtend(e,this.options,n),ne.mergeOptions(this.options,n,"interpolation"),ne.mergeOptions(this.options,n,"drawPoints"),ne.mergeOptions(this.options,n,"shaded"),ne.mergeOptions(this.options,n,"legend"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&n.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&n.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,I2)&&this.groups[I2].setOptions(n)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};Ln.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Ln.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Ln.prototype.setItems=function(n){var e=this,r,i=this.itemsData;if(!n)this.itemsData=null;else if(pu(n))this.itemsData=N0(n);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(i&&(bt(ne).call(ne,this.itemListeners,function(o,a){i.off(a,o)}),i.dispose(),r=i.getIds(),this._onRemove(r)),this.itemsData){var s=this.id;bt(ne).call(ne,this.itemListeners,function(o,a){e.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r)}};Ln.prototype.setGroups=function(n){var e=this,r;if(this.groupsData){bt(ne).call(ne,this.groupListeners,function(o,a){e.groupsData.off(a,o)}),r=this.groupsData.getIds(),this.groupsData=null;for(var i=0;i<r.length;i++)this._removeGroup(r[i])}if(!n)this.groupsData=null;else if(pu(n))this.groupsData=n;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var s=this.id;bt(ne).call(ne,this.groupListeners,function(o,a){e.groupsData.on(a,o,s)}),r=this.groupsData.getIds(),this._onAddGroups(r)}};Ln.prototype._onUpdate=function(n){this._updateAllGroupData(n)};Ln.prototype._onAdd=function(n){this._onUpdate(n)};Ln.prototype._onRemove=function(n){this._onUpdate(n)};Ln.prototype._onUpdateGroups=function(n){this._updateAllGroupData(null,n)};Ln.prototype._onAddGroups=function(n){this._onUpdateGroups(n)};Ln.prototype._onRemoveGroups=function(n){for(var e=0;e<n.length;e++)this._removeGroup(n[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};Ln.prototype._removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(this.groups[n].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(n),this.legendRight.removeGroup(n),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(n),this.legendLeft.removeGroup(n),this.legendLeft.redraw()),delete this.groups[n])};Ln.prototype._updateGroup=function(n,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(n),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new ch(n,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};Ln.prototype._updateAllGroupData=function(n,e){if(this.itemsData!=null){var r={},i=this.itemsData.get(),s=this.itemsData.idProp,o={};n&&Tn(n).call(n,function(y){o[y]=y});for(var a={},l=0;l<i.length;l++){var c=i[l],u=c.group;u==null&&(u=I2),Object.prototype.hasOwnProperty.call(a,u)?a[u]++:a[u]=1}var d={};if(!e&&n){for(u in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,u)){b=this.groups[u];var h=b.getItems();r[u]=$t(h).call(h,function(y){return d[y[s]]=y[s],y[s]!==o[y[s]]});var f=a[u];a[u]-=r[u].length,r[u].length<f&&(r[u][f-1]={})}}for(l=0;l<i.length;l++)if(c=i[l],u=c.group,u==null&&(u=I2),!(!e&&n&&c[s]!==o[c[s]]&&Object.prototype.hasOwnProperty.call(d,c[s]))){Object.prototype.hasOwnProperty.call(r,u)||(r[u]=new Array(a[u]));var p=ne.bridgeObject(c);p.x=ne.convert(c.x,"Date"),p.end=ne.convert(c.end,"Date"),p.orginalY=c.y,p.y=Number(c.y),p[s]=c[s];var m=r[u].length-a[u]--;r[u][m]=p}for(u in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,u)||Object.prototype.hasOwnProperty.call(r,u)||(r[u]=new Array(0));for(u in r)if(Object.prototype.hasOwnProperty.call(r,u))if(r[u].length==0)Object.prototype.hasOwnProperty.call(this.groups,u)&&this._removeGroup(u);else{var b=void 0;this.groupsData!=null&&(b=this.groupsData.get(u)),b==null&&(b={id:u,content:this.options.defaultGroup+u}),this._updateGroup(b,u),this.groups[u].setItems(r[u])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};Ln.prototype.redraw=function(){var n=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,n=this._isResized()||n;var e=this.body.range.end-this.body.range.start,r=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,n==!0){var i;this.svg.style.width=ne.option.asSize(3*this.props.width),this.svg.style.left=ne.option.asSize(-this.props.width),(jn(i=this.options.height+"").call(i,"%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)}if(this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",n==!0||r==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)n=this._updateGraph()||n,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var s=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(this.props.width!=0){var a=this.props.width/o,l=s*a;this.svg.style.left=-this.props.width-l+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),n};Ln.prototype._getSortedGroupIds=function(){var n=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var r=this.groups[e];r.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&n.push({id:e,zIndex:r.options.zIndex})}ne.insertSort(n,function(o,a){var l=o.zIndex,c=a.zIndex;return l===void 0&&(l=0),c===void 0&&(c=0),l==c?0:l<c?-1:1});for(var i=new Array(n.length),s=0;s<n.length;s++)i[s]=n[s].id;return i};Ln.prototype._updateGraph=function(){if(ad(this.svgElements),this.props.width!=0&&this.itemsData!=null){var n,e,r={},i=!1,s=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var l={};for(this._getRelevantData(a,l,s,o),this._applySampling(a,l),e=0;e<a.length;e++)this._convertXcoordinates(l[a[e]]);if(this._getYRanges(a,l,r),i=this._updateYAxis(a,r),i==!0)return Lo(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var c=void 0;for(e=0;e<a.length;e++)n=this.groups[a[e]],this.options.stack===!0&&this.options.style==="line"&&(n.options.excludeFromStacking==null||!n.options.excludeFromStacking)&&(c!=null&&(this._stack(l[n.id],l[c.id]),n.options.shaded.enabled==!0&&n.options.shaded.orientation!=="group"&&(n.options.shaded.orientation=="top"&&c.options.shaded.orientation!=="group"?(c.options.shaded.orientation="group",c.options.shaded.groupId=n.id):(n.options.shaded.orientation="group",n.options.shaded.groupId=c.id))),c=n),this._convertYcoordinates(l[a[e]],n);var u={};for(e=0;e<a.length;e++)if(n=this.groups[a[e]],n.options.style==="line"&&n.options.shaded.enabled==!0){var d=l[a[e]];if(d==null||d.length==0)continue;if(Object.prototype.hasOwnProperty.call(u,a[e])||(u[a[e]]=bi.calcPath(d,n)),n.options.shaded.orientation==="group"){var h=n.options.shaded.groupId;if(jn(a).call(a,h)===-1){console.log(n.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(u,h)||(u[h]=bi.calcPath(l[h],this.groups[h])),bi.drawShading(u[a[e]],n,u[h],this.framework)}else bi.drawShading(u[a[e]],n,void 0,this.framework)}for(rs.draw(a,l,this.framework),e=0;e<a.length;e++)if(n=this.groups[a[e]],l[a[e]].length>0)switch(n.options.style){case"line":Object.prototype.hasOwnProperty.call(u,a[e])||(u[a[e]]=bi.calcPath(l[a[e]],n)),bi.draw(u[a[e]],n,this.framework);case"point":case"points":(n.options.style=="point"||n.options.style=="points"||n.options.drawPoints.enabled==!0)&&n1.draw(l[a[e]],n,this.framework);break}}}return Lo(this.svgElements),!1};Ln.prototype._stack=function(n,e){var r,i,s,o,a;r=0;for(var l=0;l<n.length;l++){o=void 0,a=void 0;for(var c=r;c<e.length;c++)if(e[c].x===n[l].x){o=e[c],a=e[c],r=c;break}else if(e[c].x>n[l].x){a=e[c],c==0?o=a:o=e[c-1],r=c;break}a===void 0&&(o=e[e.length-1],a=e[e.length-1]),i=a.x-o.x,s=a.y-o.y,i==0?n[l].y=n[l].orginalY+a.y:n[l].y=n[l].orginalY+s/i*(n[l].x-o.x)+o.y}};Ln.prototype._getRelevantData=function(n,e,r,i){var s,o,a,l;if(n.length>0)for(o=0;o<n.length;o++){s=this.groups[n[o]];var c=s.getItems();if(Ir(s.options)==!0){var u=function(p,m){return p.getTime()==m.getTime()?0:p<m?-1:1},d=Math.max(0,ne.binarySearchValue(c,r,"x","before",u)),h=Math.min(c.length,ne.binarySearchValue(c,i,"x","after",u)+1);h<=0&&(h=c.length);var f=new Array(h-d);for(a=d;a<h;a++)l=s.itemsData[a],f[a-d]=l;e[n[o]]=f}else e[n[o]]=s.itemsData}};Ln.prototype._applySampling=function(n,e){var r;if(n.length>0){for(var i=0;i<n.length;i++)if(r=this.groups[n[i]],r.options.sampling==!0){var s=e[n[i]];if(s.length>0){var o=1,a=s.length,l=this.body.util.toGlobalScreen(s[s.length-1].x)-this.body.util.toGlobalScreen(s[0].x),c=a/l;o=Math.min(Math.ceil(.2*a),Math.max(1,Math.round(c)));for(var u=new Array(a),d=0;d<a;d+=o){var h=Math.round(d/o);u[h]=s[d]}e[n[i]]=ts(u).call(u,0,Math.round(a/o))}}}};Ln.prototype._getYRanges=function(n,e,r){var i,s,o,a=[],l=[],c;if(n.length>0){for(o=0;o<n.length;o++)i=e[n[o]],c=this.groups[n[o]].options,i.length>0&&(s=this.groups[n[o]],c.stack===!0&&c.style==="bar"?c.yAxisOrientation==="left"?a=Er(a).call(a,i):l=Er(l).call(l,i):r[n[o]]=s.getYRange(i,n[o]));rs.getStackedYRange(a,r,n,"__barStackLeft","left"),rs.getStackedYRange(l,r,n,"__barStackRight","right")}};Ln.prototype._updateYAxis=function(n,e){var r=!1,i=!1,s=!1,o=1e9,a=1e9,l=-1e9,c=-1e9,u,d;if(n.length>0){for(var h=0;h<n.length;h++){var f=this.groups[n[h]];f&&f.options.yAxisOrientation!="right"?(i=!0,o=1e9,l=-1e9):f&&f.options.yAxisOrientation&&(s=!0,a=1e9,c=-1e9)}for(h=0;h<n.length;h++)!Object.prototype.hasOwnProperty.call(e,n[h])||e[n[h]].ignore===!0||(u=e[n[h]].min,d=e[n[h]].max,e[n[h]].yAxisOrientation!="right"?(i=!0,o=o>u?u:o,l=l<d?d:l):(s=!0,a=a>u?u:a,c=c<d?d:c));i==!0&&this.yAxisLeft.setRange(o,l),s==!0&&this.yAxisRight.setRange(a,c)}r=this._toggleAxisVisiblity(i,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(s,this.yAxisRight)||r,s==!0&&i==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!i,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(s==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<p.length;h++)jn(n).call(n,p[h])!=-1&&ts(n).call(n,jn(n).call(n,p[h]),1);return r};Ln.prototype._toggleAxisVisiblity=function(n,e){var r=!1;return n==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),r=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),r=!0),r};Ln.prototype._convertXcoordinates=function(n){for(var e=this.body.util.toScreen,r=0;r<n.length;r++)n[r].screen_x=e(n[r].x)+this.props.width,n[r].screen_y=n[r].y,n[r].end!=null?n[r].screen_end=e(n[r].end)+this.props.width:n[r].screen_end=void 0};Ln.prototype._convertYcoordinates=function(n,e){var r=this.yAxisLeft,i=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(r=this.yAxisRight);for(var s=0;s<n.length;s++)n[s].screen_y=Math.round(r.convertValue(n[s].y));e.setZeroPosition(Math.min(i,r.convertValue(0)))};let Kt="string",gn="boolean",On="number",Act="array",um="date",er="object",Tct="dom",dm="moment",hie="any",Pct={configure:{enabled:{boolean:gn},filter:{boolean:gn,function:"function"},container:{dom:Tct},__type__:{object:er,boolean:gn,function:"function"}},alignCurrentTime:{string:Kt,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:Kt},sort:{boolean:gn},sampling:{boolean:gn},stack:{boolean:gn},graphHeight:{string:Kt,number:On},shaded:{enabled:{boolean:gn},orientation:{string:["bottom","top","zero","group"]},groupId:{object:er},__type__:{boolean:gn,object:er}},style:{string:["line","bar","points"]},barChart:{width:{number:On},minWidth:{number:On},sideBySide:{boolean:gn},align:{string:["left","center","right"]},__type__:{object:er}},interpolation:{enabled:{boolean:gn},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:On},__type__:{object:er,boolean:gn}},drawPoints:{enabled:{boolean:gn},onRender:{function:"function"},size:{number:On},style:{string:["square","circle"]},__type__:{object:er,boolean:gn,function:"function"}},dataAxis:{showMinorLabels:{boolean:gn},showMajorLabels:{boolean:gn},showWeekScale:{boolean:gn},icons:{boolean:gn},width:{string:Kt,number:On},visible:{boolean:gn},alignZeros:{boolean:gn},left:{range:{min:{number:On,undefined:"undefined"},max:{number:On,undefined:"undefined"},__type__:{object:er}},format:{function:"function"},title:{text:{string:Kt,number:On,undefined:"undefined"},style:{string:Kt,undefined:"undefined"},__type__:{object:er}},__type__:{object:er}},right:{range:{min:{number:On,undefined:"undefined"},max:{number:On,undefined:"undefined"},__type__:{object:er}},format:{function:"function"},title:{text:{string:Kt,number:On,undefined:"undefined"},style:{string:Kt,undefined:"undefined"},__type__:{object:er}},__type__:{object:er}},__type__:{object:er}},legend:{enabled:{boolean:gn},icons:{boolean:gn},left:{visible:{boolean:gn},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:er}},right:{visible:{boolean:gn},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:er}},__type__:{object:er,boolean:gn}},groups:{visibility:{any:hie},__type__:{object:er}},autoResize:{boolean:gn},throttleRedraw:{number:On},clickToUse:{boolean:gn},end:{number:On,date:um,string:Kt,moment:dm},format:{minorLabels:{millisecond:{string:Kt,undefined:"undefined"},second:{string:Kt,undefined:"undefined"},minute:{string:Kt,undefined:"undefined"},hour:{string:Kt,undefined:"undefined"},weekday:{string:Kt,undefined:"undefined"},day:{string:Kt,undefined:"undefined"},week:{string:Kt,undefined:"undefined"},month:{string:Kt,undefined:"undefined"},quarter:{string:Kt,undefined:"undefined"},year:{string:Kt,undefined:"undefined"},__type__:{object:er}},majorLabels:{millisecond:{string:Kt,undefined:"undefined"},second:{string:Kt,undefined:"undefined"},minute:{string:Kt,undefined:"undefined"},hour:{string:Kt,undefined:"undefined"},weekday:{string:Kt,undefined:"undefined"},day:{string:Kt,undefined:"undefined"},week:{string:Kt,undefined:"undefined"},month:{string:Kt,undefined:"undefined"},quarter:{string:Kt,undefined:"undefined"},year:{string:Kt,undefined:"undefined"},__type__:{object:er}},__type__:{object:er}},moment:{function:"function"},height:{string:Kt,number:On},hiddenDates:{start:{date:um,number:On,string:Kt,moment:dm},end:{date:um,number:On,string:Kt,moment:dm},repeat:{string:Kt},__type__:{object:er,array:Act}},locale:{string:Kt},locales:{__any__:{any:hie},__type__:{object:er}},max:{date:um,number:On,string:Kt,moment:dm},maxHeight:{number:On,string:Kt},maxMinorChars:{number:On},min:{date:um,number:On,string:Kt,moment:dm},minHeight:{number:On,string:Kt},moveable:{boolean:gn},multiselect:{boolean:gn},orientation:{string:Kt},showCurrentTime:{boolean:gn},showMajorLabels:{boolean:gn},showMinorLabels:{boolean:gn},showWeekScale:{boolean:gn},snap:{function:"function",null:"null"},start:{date:um,number:On,string:Kt,moment:dm},timeAxis:{scale:{string:Kt,undefined:"undefined"},step:{number:On,undefined:"undefined"},__type__:{object:er}},width:{string:Kt,number:On},zoomable:{boolean:gn},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:On},zoomMin:{number:On},zIndex:{number:On},__type__:{object:er}},Ict={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function xu(n,e,r,i){var s,o,a,l,c,u,d;if(!(nn(r)||pu(r))&&r instanceof Object){var h=i;i=r,r=h}i&&i.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:ns,width:null,height:null,maxHeight:null,minHeight:null},this.options=ne.deepExtend({},this.defaultOptions),this._create(n),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:Fe(s=this.on).call(s,this),off:Fe(o=this.off).call(o,this),emit:Fe(a=this.emit).call(a,this)},hiddenDates:[],util:{getScale(){return f.timeAxis.step.scale},getStep(){return f.timeAxis.step.step},toScreen:Fe(l=f._toScreen).call(l,f),toGlobalScreen:Fe(c=f._toGlobalScreen).call(c,f),toTime:Fe(u=f._toTime).call(u,f),toGlobalTime:Fe(d=f._toGlobalTime).call(d,f)}},this.range=new HE(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new T2(this.body),this.components.push(this.timeAxis),this.currentTime=new nye(this.body),this.components.push(this.currentTime),this.linegraph=new Ln(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(p){f.emit("click",f.getEventProperties(p))}),this.on("doubletap",function(p){f.emit("doubleClick",f.getEventProperties(p))}),this.dom.root.oncontextmenu=function(p){f.emit("contextmenu",f.getEventProperties(p))},this.initialFitDone=!1,this.on("changed",function(){if(f.itemsData!=null){if(!f.initialFitDone&&!f.options.rollingMode)if(f.initialFitDone=!0,f.options.start!=null||f.options.end!=null){if(f.options.start==null||f.options.end==null)var p=f.getItemRange();var m=f.options.start!=null?f.options.start:p.min,b=f.options.end!=null?f.options.end:p.max;f.setWindow(m,b,{animation:!1})}else f.fit({animation:!1});!f.initialDrawDone&&(f.initialRangeChangeDone||!f.options.start&&!f.options.end||f.options.rollingMode)&&(f.initialDrawDone=!0,f.dom.root.style.visibility="visible",f.dom.loadingScreen.parentNode.removeChild(f.dom.loadingScreen),f.options.onInitialDrawComplete&&Bi(()=>f.options.onInitialDrawComplete(),0))}}),i&&this.setOptions(i),r&&this.setGroups(r),e&&this.setItems(e),this._redraw()}xu.prototype=new hg;xu.prototype.setOptions=function(n){tr.validate(n,Pct)===!0&&console.log("%cErrors have been found in the supplied options object.",P2),hg.prototype.setOptions.call(this,n)};xu.prototype.setItems=function(n){var e=this.itemsData==null,r;if(n?pu(n)?r=N0(n):r=N0(new R0(n)):r=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=r,this.linegraph&&this.linegraph.setItems(r!=null?r.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var i=this.options.start!=null?this.options.start:null,s=this.options.end!=null?this.options.end:null;this.setWindow(i,s,{animation:!1})}else this.fit({animation:!1})};xu.prototype.setGroups=function(n){var e;n?pu(n)?e=n:e=new R0(n):e=null,this.groupsData=e,this.linegraph.setGroups(e)};xu.prototype.getLegend=function(n,e,r){return e===void 0&&(e=15),r===void 0&&(r=15),this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].getLegend(e,r):"cannot find group:'"+n+"'"};xu.prototype.isGroupVisible=function(n){return this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].visible&&(this.linegraph.options.groups.visibility[n]===void 0||this.linegraph.options.groups.visibility[n]==!0):!1};xu.prototype.getDataRange=function(){var n=null,e=null;for(var r in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,r)||this.linegraph.groups[r].visible!==!0))for(var i=0;i<this.linegraph.groups[r].itemsData.length;i++){var s=this.linegraph.groups[r].itemsData[i],o=ne.convert(s.x,"Date").valueOf();n=n==null||n>o?o:n,e=e==null||e<o?o:e}return{min:n!=null?new Date(n):null,max:e!=null?new Date(e):null}};xu.prototype.getEventProperties=function(n){var e=n.center?n.center.x:n.clientX,r=n.center?n.center.y:n.clientY,i=e-ne.getAbsoluteLeft(this.dom.centerContainer),s=r-ne.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(i),a=bL.customTimeFromTarget(n),l=ne.getTarget(n),c=null;ne.hasParent(l,this.timeAxis.dom.foreground)||this.timeAxis2&&ne.hasParent(l,this.timeAxis2.dom.foreground)?c="axis":ne.hasParent(l,this.linegraph.yAxisLeft.dom.frame)||ne.hasParent(l,this.linegraph.yAxisRight.dom.frame)?c="data-axis":ne.hasParent(l,this.linegraph.legendLeft.dom.frame)||ne.hasParent(l,this.linegraph.legendRight.dom.frame)?c="legend":a!=null?c="custom-time":ne.hasParent(l,this.currentTime.bar)?c="current-time":ne.hasParent(l,this.dom.center)&&(c="background");var u=[],d=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!d.hidden&&this.itemsData.length>0&&u.push(d.screenToValue(s)),!h.hidden&&this.itemsData.length>0&&u.push(h.screenToValue(s)),{event:n,customTime:a?a.options.id:null,what:c,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:i,y:s,time:o,value:u}};xu.prototype._createConfigurator=function(){return new iye(this,this.dom.container,Ict)};const Mct=Dit();ns.locale(Mct);function Oct(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Dct(n,e,r){return e=zct(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function fie(n,e){return jct(n)||Oct(n,e)||sye(n,e)||Fct()}function Rct(n){return Nct(n)||Bct(n)||sye(n)||Lct()}function Nct(n){if(Array.isArray(n))return mN(n)}function jct(n){if(Array.isArray(n))return n}function Bct(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function sye(n,e){if(n){if(typeof n=="string")return mN(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mN(n,e)}}function mN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function Lct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ct(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zct(n){var e=$ct(n,"string");return typeof e=="symbol"?e:String(e)}var Uct=function(e,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(Rct(Object.entries(e).filter(function(s){var o=fie(s,1),a=o[0];return!i.has(a)}).map(function(s){var o=fie(s,2),a=o[0],l=o[1];return Dct({},a,l)}))))};function gN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Wct(n){if(Array.isArray(n))return n}function qct(n){if(Array.isArray(n))return gN(n)}function Hct(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Vct(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Gct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kct(n,e){return Wct(n)||Vct(n,e)||oye(n,e)||Gct()}function pie(n){return qct(n)||Hct(n)||oye(n)||Yct()}function oye(n,e){if(n){if(typeof n=="string")return gN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gN(n,e):void 0}}function Xct(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.wrapperElementType,i=r===void 0?"div":r,s=e.nodeMapper,o=s===void 0?function(d){return d}:s,a=e.methodNames,l=a===void 0?[]:a,c=e.initPropNames,u=c===void 0?[]:c;return A.forwardRef(function(d,h){var f=A.useRef(),p=A.useMemo(function(){var y=Object.fromEntries(u.filter(function(v){return d.hasOwnProperty(v)}).map(function(v){return[v,d[v]]}));return n(y)},[]);mie(function(){p(o(f.current))},A.useLayoutEffect),mie(function(){return p._destructor instanceof Function?p._destructor:void 0});var m=A.useCallback(function(y){for(var v=arguments.length,w=new Array(v>1?v-1:0),_=1;_<v;_++)w[_-1]=arguments[_];return p[y]instanceof Function?p[y].apply(p,w):void 0},[p]),b=A.useRef({});return Object.keys(Uct(d,[].concat(pie(l),pie(u)))).filter(function(y){return b.current[y]!==d[y]}).forEach(function(y){return m(y,d[y])}),b.current=d,A.useImperativeHandle(h,function(){return Object.fromEntries(l.map(function(y){return[y,function(){for(var v=arguments.length,w=new Array(v),_=0;_<v;_++)w[_]=arguments[_];return m.apply(void 0,[y].concat(w))}]}))},[m]),B.createElement(i,{ref:f})})}function mie(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.useEffect,r=A.useRef(),i=A.useRef(!1),s=A.useRef(!1),o=A.useState(0),a=Kct(o,2);a[0];var l=a[1];i.current&&(s.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),l(function(c){return c+1}),function(){s.current&&r.current&&r.current()}},[])}var Qct=typeof global=="object"&&global&&global.Object===Object&&global,Jct=typeof self=="object"&&self&&self.Object===Object&&self,aye=Qct||Jct||Function("return this")(),M2=aye.Symbol,lye=Object.prototype,Zct=lye.hasOwnProperty,eut=lye.toString,ay=M2?M2.toStringTag:void 0;function tut(n){var e=Zct.call(n,ay),r=n[ay];try{n[ay]=void 0;var i=!0}catch{}var s=eut.call(n);return i&&(e?n[ay]=r:delete n[ay]),s}var nut=Object.prototype,rut=nut.toString;function iut(n){return rut.call(n)}var sut="[object Null]",out="[object Undefined]",gie=M2?M2.toStringTag:void 0;function aut(n){return n==null?n===void 0?out:sut:gie&&gie in Object(n)?tut(n):iut(n)}function lut(n){return n!=null&&typeof n=="object"}var cut="[object Symbol]";function uut(n){return typeof n=="symbol"||lut(n)&&aut(n)==cut}var dut=/\s/;function hut(n){for(var e=n.length;e--&&dut.test(n.charAt(e)););return e}var fut=/^\s+/;function put(n){return n&&n.slice(0,hut(n)+1).replace(fut,"")}function O2(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var bie=NaN,mut=/^[-+]0x[0-9a-f]+$/i,gut=/^0b[01]+$/i,but=/^0o[0-7]+$/i,yut=parseInt;function yie(n){if(typeof n=="number")return n;if(uut(n))return bie;if(O2(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=O2(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=put(n);var r=gut.test(n);return r||but.test(n)?yut(n.slice(2),r?2:8):mut.test(n)?bie:+n}var SD=function(){return aye.Date.now()},vut="Expected a function",wut=Math.max,xut=Math.min;function cye(n,e,r){var i,s,o,a,l,c,u=0,d=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(vut);e=yie(e)||0,O2(r)&&(d=!!r.leading,h="maxWait"in r,o=h?wut(yie(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f);function p(C){var E=i,T=s;return i=s=void 0,u=C,a=n.apply(T,E),a}function m(C){return u=C,l=setTimeout(v,e),d?p(C):a}function b(C){var E=C-c,T=C-u,M=e-E;return h?xut(M,o-T):M}function y(C){var E=C-c,T=C-u;return c===void 0||E>=e||E<0||h&&T>=o}function v(){var C=SD();if(y(C))return w(C);l=setTimeout(v,b(C))}function w(C){return l=void 0,f&&i?p(C):(i=s=void 0,a)}function _(){l!==void 0&&clearTimeout(l),u=0,i=c=s=l=void 0}function x(){return l===void 0?a:w(SD())}function k(){var C=SD(),E=y(C);if(i=arguments,s=this,c=C,E){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(v,e),p(c)}return l===void 0&&(l=setTimeout(v,e)),a}return k.cancel=_,k.flush=x,k}var _ut="Expected a function";function kut(n,e,r){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(_ut);return O2(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),cye(n,e,{leading:i,maxWait:e,trailing:s})}var Rf=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Rf.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Rf.Bounce.In(n*2)*.5:Rf.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),Ny=function(){return performance.now()},uye=function(){function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var s=0,o=r;s<o.length;s++){var a=o[s];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},n.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=0,s=e;i<s.length;i++){var o=s[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,r){e===void 0&&(e=Ny()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var o=this._tweens[i[s]],a=!r;o&&o.update(e,a)===!1&&!r&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},n}(),bN={Linear:function(n,e){var r=n.length-1,i=r*e,s=Math.floor(i),o=bN.Utils.Linear;return e<0?o(n[0],n[1],i):e>1?o(n[r],n[r-1],r-i):o(n[s],n[s+1>r?r:s+1],i-s)},Utils:{Linear:function(n,e,r){return(e-n)*r+n}}},dye=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),yN=new uye,vie=function(){function n(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Rf.Linear.None,this._interpolationFunction=bN.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=dye.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=yN,yN.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=Ny()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var o in this._valuesEnd)s[o]=this._valuesEnd[o];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,s,o){for(var a in i){var l=e[a],c=Array.isArray(l),u=c?"array":typeof l,d=!c&&Array.isArray(i[a]);if(!(u==="undefined"||u==="function")){if(d){var h=i[a];if(h.length===0)continue;for(var f=[l],p=0,m=h.length;p<m;p+=1){var b=this._handleRelativeValue(l,h[p]);if(isNaN(b)){d=!1,console.warn("Found invalid interpolation list. Skipping.");break}f.push(b)}d&&(i[a]=f)}if((u==="object"||c)&&l&&!d){r[a]=c?[]:{};var y=l;for(var v in y)r[a][v]=y[v];s[a]=c?[]:{};var h=i[a];if(!this._isDynamic){var w={};for(var v in h)w[v]=h[v];i[a]=h=w}this._setupProperties(y,r[a],h,s[a],o)}else(typeof r[a]>"u"||o)&&(r[a]=l),c||(r[a]*=1),d?s[a]=i[a].slice().reverse():s[a]=r[a]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=Ny()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=Ny()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Rf.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=bN.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){var i=this,s;if(e===void 0&&(e=Ny()),r===void 0&&(r=n.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,l=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),c=this._duration+this._repeat*l,u=function(){if(i._duration===0||a>c)return 1;var b=Math.trunc(a/l),y=a-b*l,v=Math.min(y/i._duration,1);return v===0&&a===i._duration?1:v},d=u(),h=this._easingFunction(d);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,h),this._onUpdateCallback&&this._onUpdateCallback(this._object,d),this._duration===0||a>=this._duration)if(this._repeat>0){var f=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=f);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*f,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,m=this._chainedTweens.length;p<m;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,s){for(var o in i)if(r[o]!==void 0){var a=r[o]||0,l=i[o],c=Array.isArray(e[o]),u=Array.isArray(l),d=!c&&u;d?e[o]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(e[o],a,l,s):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[o]=a+(l-a)*s))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n.autoStartOnUpdate=!1,n}();dye.nextId;var Wl=yN;Wl.getAll.bind(Wl);Wl.removeAll.bind(Wl);Wl.add.bind(Wl);Wl.remove.bind(Wl);Wl.update.bind(Wl);function wie(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Sut(n){if(Array.isArray(n))return n}function Cut(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Eut(n,e,r){return Object.defineProperty(n,"prototype",{writable:!1}),n}function Aut(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Tut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Put(n,e){return Sut(n)||Aut(n,e)||Iut(n,e)||Tut()}function Iut(n,e){if(n){if(typeof n=="string")return wie(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wie(n,e):void 0}}var Mut=Eut(function n(e,r){var i=r.default,s=i===void 0?null:i,o=r.triggerUpdate,a=o===void 0?!0:o,l=r.onChange,c=l===void 0?function(u,d){}:l;Cut(this,n),this.name=e,this.defaultVal=s,this.triggerUpdate=a,this.onChange=c});function wL(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,s=i===void 0?{}:i,o=n.methods,a=o===void 0?{}:o,l=n.aliases,c=l===void 0?{}:l,u=n.init,d=u===void 0?function(){}:u,h=n.update,f=h===void 0?function(){}:h,p=Object.keys(s).map(function(m){return new Mut(m,s[m])});return function m(){for(var b=arguments.length,y=new Array(b),v=0;v<b;v++)y[v]=arguments[v];var w=!!(this instanceof m&&this.constructor),_=w?y.shift():void 0,x=y[0],k=x===void 0?{}:x,C=Object.assign({},r instanceof Function?r(k):r,{initialised:!1}),E={};function T(O){return M(O,k),I(),T}var M=function(F,$){d.call(T,F,C,$),C.initialised=!0},I=cye(function(){C.initialised&&(f.call(T,C,E),E={})},1);return p.forEach(function(O){T[O.name]=F(O);function F($){var z=$.name,D=$.triggerUpdate,j=D===void 0?!1:D,N=$.onChange,R=N===void 0?function(K,Y){}:N,H=$.defaultVal,U=H===void 0?null:H;return function(K){var Y=C[z];if(!arguments.length)return Y;var Z=K===void 0?U:K;return C[z]=Z,R.call(T,Z,C,Y),!E.hasOwnProperty(z)&&(E[z]=Y),j&&I(),T}}}),Object.keys(a).forEach(function(O){T[O]=function(){for(var F,$=arguments.length,z=new Array($),D=0;D<$;D++)z[D]=arguments[D];return(F=a[O]).call.apply(F,[T,C].concat(z))}}),Object.entries(c).forEach(function(O){var F=Put(O,2),$=F[0],z=F[1];return T[$]=T[z]}),T.resetProps=function(){return p.forEach(function(O){T[O.name](O.defaultVal)}),T},T.resetProps(),C._rerender=I,w&&_&&T(_),T}}var En=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function D2(n){"@babel/helpers - typeof";return D2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D2(n)}var Out=/^\s+/,Dut=/\s+$/;function Mt(n,e){if(n=n||"",e=e||{},n instanceof Mt)return n;if(!(this instanceof Mt))return new Mt(n,e);var r=Rut(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Mt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,s,o,a,l;return r=e.r/255,i=e.g/255,s=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),.2126*o+.7152*a+.0722*l},setAlpha:function(e){return this._a=hye(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=_ie(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=_ie(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+s+"%)":"hsva("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=xie(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=xie(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+s+"%)":"hsla("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return kie(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Lut(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(rr(this._r,255)*100)+"%",g:Math.round(rr(this._g,255)*100)+"%",b:Math.round(rr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(rr(this._r,255)*100)+"%, "+Math.round(rr(this._g,255)*100)+"%, "+Math.round(rr(this._b,255)*100)+"%)":"rgba("+Math.round(rr(this._r,255)*100)+"%, "+Math.round(rr(this._g,255)*100)+"%, "+Math.round(rr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Xut[kie(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+Sie(this._r,this._g,this._b,this._a),i=r,s=this._gradientType?"GradientType = 1, ":"";if(e){var o=Mt(e);i="#"+Sie(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,s=this._a<1&&this._a>=0,o=!r&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Mt(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Uut,arguments)},brighten:function(){return this._applyModification(Wut,arguments)},darken:function(){return this._applyModification(qut,arguments)},desaturate:function(){return this._applyModification(Fut,arguments)},saturate:function(){return this._applyModification($ut,arguments)},greyscale:function(){return this._applyModification(zut,arguments)},spin:function(){return this._applyModification(Hut,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Yut,arguments)},complement:function(){return this._applyCombination(Vut,arguments)},monochromatic:function(){return this._applyCombination(Kut,arguments)},splitcomplement:function(){return this._applyCombination(Gut,arguments)},triad:function(){return this._applyCombination(Cie,[3])},tetrad:function(){return this._applyCombination(Cie,[4])}};Mt.fromRatio=function(n,e){if(D2(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=jy(n[i]));n=r}return Mt(n,e)};function Rut(n){var e={r:0,g:0,b:0},r=1,i=null,s=null,o=null,a=!1,l=!1;return typeof n=="string"&&(n=edt(n)),D2(n)=="object"&&(dc(n.r)&&dc(n.g)&&dc(n.b)?(e=Nut(n.r,n.g,n.b),a=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):dc(n.h)&&dc(n.s)&&dc(n.v)?(i=jy(n.s),s=jy(n.v),e=But(n.h,i,s),a=!0,l="hsv"):dc(n.h)&&dc(n.s)&&dc(n.l)&&(i=jy(n.s),o=jy(n.l),e=jut(n.h,i,o),a=!0,l="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=hye(r),{ok:a,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function Nut(n,e,r){return{r:rr(n,255)*255,g:rr(e,255)*255,b:rr(r,255)*255}}function xie(n,e,r){n=rr(n,255),e=rr(e,255),r=rr(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,a,l=(i+s)/2;if(i==s)o=a=0;else{var c=i-s;switch(a=l>.5?c/(2-i-s):c/(i+s),i){case n:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-n)/c+2;break;case r:o=(n-e)/c+4;break}o/=6}return{h:o,s:a,l}}function jut(n,e,r){var i,s,o;n=rr(n,360),e=rr(e,100),r=rr(r,100);function a(u,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(d-u)*6*h:h<1/2?d:h<2/3?u+(d-u)*(2/3-h)*6:u}if(e===0)i=s=o=r;else{var l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=a(c,l,n+1/3),s=a(c,l,n),o=a(c,l,n-1/3)}return{r:i*255,g:s*255,b:o*255}}function _ie(n,e,r){n=rr(n,255),e=rr(e,255),r=rr(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,a,l=i,c=i-s;if(a=i===0?0:c/i,i==s)o=0;else{switch(i){case n:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-n)/c+2;break;case r:o=(n-e)/c+4;break}o/=6}return{h:o,s:a,v:l}}function But(n,e,r){n=rr(n,360)*6,e=rr(e,100),r=rr(r,100);var i=Math.floor(n),s=n-i,o=r*(1-e),a=r*(1-s*e),l=r*(1-(1-s)*e),c=i%6,u=[r,a,o,o,l,r][c],d=[l,r,r,a,o,o][c],h=[o,o,l,r,r,a][c];return{r:u*255,g:d*255,b:h*255}}function kie(n,e,r,i){var s=[Ta(Math.round(n).toString(16)),Ta(Math.round(e).toString(16)),Ta(Math.round(r).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Lut(n,e,r,i,s){var o=[Ta(Math.round(n).toString(16)),Ta(Math.round(e).toString(16)),Ta(Math.round(r).toString(16)),Ta(fye(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Sie(n,e,r,i){var s=[Ta(fye(i)),Ta(Math.round(n).toString(16)),Ta(Math.round(e).toString(16)),Ta(Math.round(r).toString(16))];return s.join("")}Mt.equals=function(n,e){return!n||!e?!1:Mt(n).toRgbString()==Mt(e).toRgbString()};Mt.random=function(){return Mt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Fut(n,e){e=e===0?0:e||10;var r=Mt(n).toHsl();return r.s-=e/100,r.s=YE(r.s),Mt(r)}function $ut(n,e){e=e===0?0:e||10;var r=Mt(n).toHsl();return r.s+=e/100,r.s=YE(r.s),Mt(r)}function zut(n){return Mt(n).desaturate(100)}function Uut(n,e){e=e===0?0:e||10;var r=Mt(n).toHsl();return r.l+=e/100,r.l=YE(r.l),Mt(r)}function Wut(n,e){e=e===0?0:e||10;var r=Mt(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Mt(r)}function qut(n,e){e=e===0?0:e||10;var r=Mt(n).toHsl();return r.l-=e/100,r.l=YE(r.l),Mt(r)}function Hut(n,e){var r=Mt(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,Mt(r)}function Vut(n){var e=Mt(n).toHsl();return e.h=(e.h+180)%360,Mt(e)}function Cie(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Mt(n).toHsl(),i=[Mt(n)],s=360/e,o=1;o<e;o++)i.push(Mt({h:(r.h+o*s)%360,s:r.s,l:r.l}));return i}function Gut(n){var e=Mt(n).toHsl(),r=e.h;return[Mt(n),Mt({h:(r+72)%360,s:e.s,l:e.l}),Mt({h:(r+216)%360,s:e.s,l:e.l})]}function Yut(n,e,r){e=e||6,r=r||30;var i=Mt(n).toHsl(),s=360/r,o=[Mt(n)];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,o.push(Mt(i));return o}function Kut(n,e){e=e||6;for(var r=Mt(n).toHsv(),i=r.h,s=r.s,o=r.v,a=[],l=1/e;e--;)a.push(Mt({h:i,s,v:o})),o=(o+l)%1;return a}Mt.mix=function(n,e,r){r=r===0?0:r||50;var i=Mt(n).toRgb(),s=Mt(e).toRgb(),o=r/100,a={r:(s.r-i.r)*o+i.r,g:(s.g-i.g)*o+i.g,b:(s.b-i.b)*o+i.b,a:(s.a-i.a)*o+i.a};return Mt(a)};Mt.readability=function(n,e){var r=Mt(n),i=Mt(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};Mt.isReadable=function(n,e,r){var i=Mt.readability(n,e),s,o;switch(o=!1,s=tdt(r),s.level+s.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};Mt.mostReadable=function(n,e,r){var i=null,s=0,o,a,l,c;r=r||{},a=r.includeFallbackColors,l=r.level,c=r.size;for(var u=0;u<e.length;u++)o=Mt.readability(n,e[u]),o>s&&(s=o,i=Mt(e[u]));return Mt.isReadable(n,i,{level:l,size:c})||!a?i:(r.includeFallbackColors=!1,Mt.mostReadable(n,["#fff","#000"],r))};var vN=Mt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Xut=Mt.hexNames=Qut(vN);function Qut(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function hye(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function rr(n,e){Jut(n)&&(n="100%");var r=Zut(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function YE(n){return Math.min(1,Math.max(0,n))}function Ys(n){return parseInt(n,16)}function Jut(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function Zut(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Ta(n){return n.length==1?"0"+n:""+n}function jy(n){return n<=1&&(n=n*100+"%"),n}function fye(n){return Math.round(parseFloat(n)*255).toString(16)}function Eie(n){return Ys(n)/255}var ha=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function dc(n){return!!ha.CSS_UNIT.exec(n)}function edt(n){n=n.replace(Out,"").replace(Dut,"").toLowerCase();var e=!1;if(vN[n])n=vN[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=ha.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=ha.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ha.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=ha.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ha.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=ha.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ha.hex8.exec(n))?{r:Ys(r[1]),g:Ys(r[2]),b:Ys(r[3]),a:Eie(r[4]),format:e?"name":"hex8"}:(r=ha.hex6.exec(n))?{r:Ys(r[1]),g:Ys(r[2]),b:Ys(r[3]),format:e?"name":"hex"}:(r=ha.hex4.exec(n))?{r:Ys(r[1]+""+r[1]),g:Ys(r[2]+""+r[2]),b:Ys(r[3]+""+r[3]),a:Eie(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=ha.hex3.exec(n))?{r:Ys(r[1]+""+r[1]),g:Ys(r[2]+""+r[2]),b:Ys(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function tdt(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function wN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function ndt(n){if(Array.isArray(n))return wN(n)}function pye(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function rdt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function idt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Po(n,e){return n.get(pye(n,e))}function Aie(n,e,r){rdt(n,e),e.set(n,r)}function Tie(n,e,r){return n.set(pye(n,e),r),r}function sdt(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ddt(i.key),i)}}function odt(n,e,r){return e&&sdt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function adt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ldt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cdt(n){return ndt(n)||adt(n)||hdt(n)||ldt()}function udt(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ddt(n){var e=udt(n,"string");return typeof e=="symbol"?e:e+""}function hdt(n,e){if(n){if(typeof n=="string")return wN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wN(n,e):void 0}}var fdt=123,pdt=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},mye=function(e,r,i){return(e<<16)+(r<<8)+i},mdt=function(e){var r=Mt(e).toRgb(),i=r.r,s=r.g,o=r.b;return mye(i,s,o)},Pie=function(e,r){return e*fdt%Math.pow(2,r)},Ph=new WeakMap,hc=new WeakMap,gdt=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;idt(this,n),Aie(this,Ph,void 0),Aie(this,hc,void 0),Tie(hc,this,e),this.reset()}return odt(n,[{key:"reset",value:function(){Tie(Ph,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Po(Ph,this).length>=Math.pow(2,24-Po(hc,this)))return null;var i=Po(Ph,this).length,s=Pie(i,Po(hc,this)),o=pdt(i+(s<<24-Po(hc,this)));return Po(Ph,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?mdt(r):mye.apply(void 0,cdt(r));if(!i)return null;var s=i&Math.pow(2,24-Po(hc,this))-1,o=i>>24-Po(hc,this)&Math.pow(2,Po(hc,this))-1;return Pie(s,Po(hc,this))!==o||s>=Po(Ph,this).length?null:Po(Ph,this)[s]}}])}(),r1,or,gye,bye,qh,Iie,yye,vye,wye,xL,xN,_N,Dw={},xye=[],bdt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,KE=Array.isArray;function Al(n,e){for(var r in e)n[r]=e[r];return n}function _L(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function ydt(n,e,r){var i,s,o,a={};for(o in e)o=="key"?i=e[o]:o=="ref"?s=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?r1.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)a[o]===void 0&&(a[o]=n.defaultProps[o]);return dv(n,a,i,s,null)}function dv(n,e,r,i,s){var o={type:n,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++gye,__i:-1,__u:0};return s==null&&or.vnode!=null&&or.vnode(o),o}function XE(n){return n.children}function Bk(n,e){this.props=n,this.context=e}function B0(n,e){if(e==null)return n.__?B0(n.__,n.__i+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?B0(n):null}function _ye(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return _ye(n)}}function Mie(n){(!n.__d&&(n.__d=!0)&&qh.push(n)&&!R2.__r++||Iie!=or.debounceRendering)&&((Iie=or.debounceRendering)||yye)(R2)}function R2(){for(var n,e,r,i,s,o,a,l=1;qh.length;)qh.length>l&&qh.sort(vye),n=qh.shift(),l=qh.length,n.__d&&(r=void 0,i=void 0,s=(i=(e=n).__v).__e,o=[],a=[],e.__P&&((r=Al({},i)).__v=i.__v+1,or.vnode&&or.vnode(r),kL(e.__P,r,i,e.__n,e.__P.namespaceURI,32&i.__u?[s]:null,o,s??B0(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,Cye(o,r,a),i.__e=i.__=null,r.__e!=s&&_ye(r)));R2.__r=0}function kye(n,e,r,i,s,o,a,l,c,u,d){var h,f,p,m,b,y,v,w=i&&i.__k||xye,_=e.length;for(c=vdt(r,e,w,c,_),h=0;h<_;h++)(p=r.__k[h])!=null&&(f=p.__i==-1?Dw:w[p.__i]||Dw,p.__i=h,y=kL(n,p,f,s,o,a,l,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&SL(f.ref,null,p),d.push(p.ref,p.__c||m,p)),b==null&&m!=null&&(b=m),(v=!!(4&p.__u))||f.__k===p.__k?c=Sye(p,c,n,v):typeof p.type=="function"&&y!==void 0?c=y:m&&(c=m.nextSibling),p.__u&=-7);return r.__e=b,c}function vdt(n,e,r,i,s){var o,a,l,c,u,d=r.length,h=d,f=0;for(n.__k=new Array(s),o=0;o<s;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=n.__k[o]=dv(null,a,null,null,null):KE(a)?a=n.__k[o]=dv(XE,{children:a},null,null,null):a.constructor==null&&a.__b>0?a=n.__k[o]=dv(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):n.__k[o]=a,c=o+f,a.__=n,a.__b=n.__b+1,l=null,(u=a.__i=wdt(a,r,c,h))!=-1&&(h--,(l=r[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(s>d?f--:s<d&&f++),typeof a.type!="function"&&(a.__u|=4)):u!=c&&(u==c-1?f--:u==c+1?f++:(u>c?f--:f++,a.__u|=4))):n.__k[o]=null;if(h)for(o=0;o<d;o++)(l=r[o])!=null&&!(2&l.__u)&&(l.__e==i&&(i=B0(l)),Aye(l,l));return i}function Sye(n,e,r,i){var s,o;if(typeof n.type=="function"){for(s=n.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=n,e=Sye(s[o],e,r,i));return e}n.__e!=e&&(i&&(e&&n.type&&!e.parentNode&&(e=B0(n)),r.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function wdt(n,e,r,i){var s,o,a,l=n.key,c=n.type,u=e[r],d=u!=null&&(2&u.__u)==0;if(u===null&&l==null||d&&l==u.key&&c==u.type)return r;if(i>(d?1:0)){for(s=r-1,o=r+1;s>=0||o<e.length;)if((u=e[a=s>=0?s--:o++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return a}return-1}function Oie(n,e,r){e[0]=="-"?n.setProperty(e,r??""):n[e]=r==null?"":typeof r!="number"||bdt.test(e)?r:r+"px"}function H_(n,e,r,i,s){var o,a;e:if(e=="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)r&&e in r||Oie(n.style,e,"");if(r)for(e in r)i&&r[e]==i[e]||Oie(n.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(wye,"$1")),a=e.toLowerCase(),e=a in n||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=r,r?i?r.u=i.u:(r.u=xL,n.addEventListener(e,o?_N:xN,o)):n.removeEventListener(e,o?_N:xN,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&r==1?"":r))}}function Die(n){return function(e){if(this.l){var r=this.l[e.type+n];if(e.t==null)e.t=xL++;else if(e.t<r.u)return;return r(or.event?or.event(e):e)}}}function kL(n,e,r,i,s,o,a,l,c,u){var d,h,f,p,m,b,y,v,w,_,x,k,C,E,T,M,I,O=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),o=[l=e.__e=r.__e]),(d=or.__b)&&d(e);e:if(typeof O=="function")try{if(v=e.props,w="prototype"in O&&O.prototype.render,_=(d=O.contextType)&&i[d.__c],x=d?_?_.props.value:d.__:i,r.__c?y=(h=e.__c=r.__c).__=h.__E:(w?e.__c=h=new O(v,x):(e.__c=h=new Bk(v,x),h.constructor=O,h.render=_dt),_&&_.sub(h),h.state||(h.state={}),h.__n=i,f=h.__d=!0,h.__h=[],h._sb=[]),w&&h.__s==null&&(h.__s=h.state),w&&O.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Al({},h.__s)),Al(h.__s,O.getDerivedStateFromProps(v,h.__s))),p=h.props,m=h.state,h.__v=e,f)w&&O.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),w&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(w&&O.getDerivedStateFromProps==null&&v!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,x),e.__v==r.__v||!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,x)===!1){for(e.__v!=r.__v&&(h.props=v,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(F){F&&(F.__=e)}),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,x),w&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,m,b)})}if(h.context=x,h.props=v,h.__P=n,h.__e=!1,C=or.__r,E=0,w){for(h.state=h.__s,h.__d=!1,C&&C(e),d=h.render(h.props,h.state,h.context),T=0;T<h._sb.length;T++)h.__h.push(h._sb[T]);h._sb=[]}else do h.__d=!1,C&&C(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++E<25);h.state=h.__s,h.getChildContext!=null&&(i=Al(Al({},i),h.getChildContext())),w&&!f&&h.getSnapshotBeforeUpdate!=null&&(b=h.getSnapshotBeforeUpdate(p,m)),M=d,d!=null&&d.type===XE&&d.key==null&&(M=Eye(d.props.children)),l=kye(n,KE(M)?M:[M],e,r,i,s,o,a,l,c,u),h.base=e.__e,e.__u&=-161,h.__h.length&&a.push(h),y&&(h.__E=h.__=null)}catch(F){if(e.__v=null,c||o!=null)if(F.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,e.__e=l}else{for(I=o.length;I--;)_L(o[I]);kN(e)}else e.__e=r.__e,e.__k=r.__k,F.then||kN(e);or.__e(F,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):l=e.__e=xdt(r.__e,e,r,i,s,o,a,c,u);return(d=or.diffed)&&d(e),128&e.__u?void 0:l}function kN(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(kN)}function Cye(n,e,r){for(var i=0;i<r.length;i++)SL(r[i],r[++i],r[++i]);or.__c&&or.__c(e,n),n.some(function(s){try{n=s.__h,s.__h=[],n.some(function(o){o.call(s)})}catch(o){or.__e(o,s.__v)}})}function Eye(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:KE(n)?n.map(Eye):Al({},n)}function xdt(n,e,r,i,s,o,a,l,c){var u,d,h,f,p,m,b,y=r.props||Dw,v=e.props,w=e.type;if(w=="svg"?s="http://www.w3.org/2000/svg":w=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!w&&(w?p.localName==w:p.nodeType==3)){n=p,o[u]=null;break}}if(n==null){if(w==null)return document.createTextNode(v);n=document.createElementNS(s,w,v.is&&v),l&&(or.__m&&or.__m(e,o),l=!1),o=null}if(w==null)y===v||l&&n.data==v||(n.data=v);else{if(o=o&&r1.call(n.childNodes),!l&&o!=null)for(y={},u=0;u<n.attributes.length;u++)y[(p=n.attributes[u]).name]=p.value;for(u in y)if(p=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=p;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;H_(n,u,null,p,s)}}for(u in v)p=v[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?b=p:l&&typeof p!="function"||y[u]===p||H_(n,u,p,y[u],s);if(d)l||h&&(d.__html==h.__html||d.__html==n.innerHTML)||(n.innerHTML=d.__html),e.__k=[];else if(h&&(n.innerHTML=""),kye(e.type=="template"?n.content:n,KE(f)?f:[f],e,r,i,w=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,a,o?o[0]:r.__k&&B0(r,0),l,c),o!=null)for(u=o.length;u--;)_L(o[u]);l||(u="value",w=="progress"&&m==null?n.removeAttribute("value"):m!=null&&(m!==n[u]||w=="progress"&&!m||w=="option"&&m!=y[u])&&H_(n,u,m,y[u],s),u="checked",b!=null&&b!=n[u]&&H_(n,u,b,y[u],s))}return n}function SL(n,e,r){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(s){or.__e(s,r)}}function Aye(n,e,r){var i,s;if(or.unmount&&or.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||SL(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){or.__e(o,e)}i.base=i.__P=null}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&Aye(i[s],e,r||typeof n.type!="function");r||_L(n.__e),n.__c=n.__=n.__e=void 0}function _dt(n,e,r){return this.constructor(n,r)}function kdt(n,e,r){var i,s,o,a;e==document&&(e=document.documentElement),or.__&&or.__(n,e),s=(i=!1)?null:e.__k,o=[],a=[],kL(e,n=e.__k=ydt(XE,null,[n]),s||Dw,Dw,e.namespaceURI,s?null:e.firstChild?r1.call(e.childNodes):null,o,s?s.__e:e.firstChild,i,a),Cye(o,n,a)}function Tye(n,e,r){var i,s,o,a,l=Al({},n.props);for(o in n.type&&n.type.defaultProps&&(a=n.type.defaultProps),e)o=="key"?i=e[o]:o=="ref"?s=e[o]:l[o]=e[o]===void 0&&a!=null?a[o]:e[o];return arguments.length>2&&(l.children=arguments.length>3?r1.call(arguments,2):r),dv(n.type,l,i||n.key,s||n.ref,null)}r1=xye.slice,or={__e:function(n,e,r,i){for(var s,o,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(n)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,i||{}),a=s.__d),a)return s.__E=s}catch(l){n=l}throw n}},gye=0,bye=function(n){return n!=null&&n.constructor==null},Bk.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Al({},this.state),typeof n=="function"&&(n=n(Al({},r),this.props)),n&&Al(r,n),n!=null&&this.__v&&(e&&this._sb.push(e),Mie(this))},Bk.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Mie(this))},Bk.prototype.render=XE,qh=[],yye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vye=function(n,e){return n.__v.__b-e.__v.__b},R2.__r=0,wye=/(PointerCapture)$|Capture$/i,xL=0,xN=Die(!1),_N=Die(!0);function Rie(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Sdt(n){if(Array.isArray(n))return n}function Cdt(n,e,r){return(e=Mdt(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Edt(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Adt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nie(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function Tdt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nie(Object(r),!0).forEach(function(i){Cdt(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Nie(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Pdt(n,e){return Sdt(n)||Edt(n,e)||Odt(n,e)||Adt()}function Idt(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Mdt(n){var e=Idt(n,"string");return typeof e=="symbol"?e:e+""}function N2(n){"@babel/helpers - typeof";return N2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N2(n)}function Odt(n,e){if(n){if(typeof n=="string")return Rie(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rie(n,e):void 0}}var SN=function(e){if(N2(e)!=="object")return e;var r=Tye(e);if(r.props){var i;r.props=Tdt({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(SN):SN(r.props.children))}return r},Ddt=function(e){return bye(Tye(e))},Rdt=function(e,r){delete r.__k,kdt(SN(e),r)};function Ndt(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var jdt=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Ndt(jdt);var Bdt=wL({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.style,o=s===void 0?{}:s,a=!!e&&N2(e)==="object"&&!!e.node&&typeof e.node=="function",l=ji(a?e.node():e);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(u){var d=Pdt(u,2),h=d[0],f=d[1];return r.tooltipEl.style(h,f)}),r.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(c),function(u){r.mouseInside=!0;var d=_a(u),h=l.node(),f=h.offsetWidth,p=h.offsetHeight,m=[r.offsetX===null||r.offsetX===void 0?"-".concat(d[0]/f*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-d[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",d[0]+"px").style("top",d[1]+"px").style("transform","translate(".concat(m.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(c),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(c),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):Ddt(e.content)?(e.tooltipEl.text(""),Rdt(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function Ldt(n,e,r){var i,s=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function o(){var a,l=i.length,c,u=0,d=0,h=0;for(a=0;a<l;++a)c=i[a],u+=c.x||0,d+=c.y||0,h+=c.z||0;for(u=(u/l-n)*s,d=(d/l-e)*s,h=(h/l-r)*s,a=0;a<l;++a)c=i[a],u&&(c.x-=u),d&&(c.y-=d),h&&(c.z-=h)}return o.initialize=function(a){i=a},o.x=function(a){return arguments.length?(n=+a,o):n},o.y=function(a){return arguments.length?(e=+a,o):e},o.z=function(a){return arguments.length?(r=+a,o):r},o.strength=function(a){return arguments.length?(s=+a,o):s},o}function Fdt(n){const e=+this._x.call(null,n);return Pye(this.cover(e),e,n)}function Pye(n,e,r){if(isNaN(e))return n;var i,s=n._root,o={data:r},a=n._x0,l=n._x1,c,u,d,h,f;if(!s)return n._root=o,n;for(;s.length;)if((d=e>=(c=(a+l)/2))?a=c:l=c,i=s,!(s=s[h=+d]))return i[h]=o,n;if(u=+n._x.call(null,s.data),e===u)return o.next=s,i?i[h]=o:n._root=o,n;do i=i?i[h]=new Array(2):n._root=new Array(2),(d=e>=(c=(a+l)/2))?a=c:l=c;while((h=+d)==(f=+(u>=c)));return i[f]=s,i[h]=o,n}function $dt(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,s=-1/0;for(let o=0,a;o<e;++o)isNaN(a=+this._x.call(null,n[o]))||(r[o]=a,a<i&&(i=a),a>s&&(s=a));if(i>s)return this;this.cover(i).cover(s);for(let o=0;o<e;++o)Pye(this,r[o],n[o]);return this}function zdt(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,s=this._root,o,a;e>n||n>=r;)switch(a=+(n<e),o=new Array(2),o[a]=s,s=o,i*=2,a){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=r,this}function Udt(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Wdt(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function tu(n,e,r){this.node=n,this.x0=e,this.x1=r}function qdt(n,e){var r,i=this._x0,s,o,a=this._x1,l=[],c=this._root,u,d;for(c&&l.push(new tu(c,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=l.pop();)if(!(!(c=u.node)||(s=u.x0)>a||(o=u.x1)<i))if(c.length){var h=(s+o)/2;l.push(new tu(c[1],h,o),new tu(c[0],s,h)),(d=+(n>=h))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-d],l[l.length-1-d]=u)}else{var f=Math.abs(n-+this._x.call(null,c.data));f<e&&(e=f,i=n-f,a=n+f,r=c.data)}return r}function Hdt(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._x1,c,u,d,h,f;if(!r)return this;if(r.length)for(;;){if((d=c>=(u=(a+l)/2))?a=u:l=u,e=r,!(r=r[h=+d]))return this;if(!r.length)break;e[h+1&1]&&(i=e,f=h)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[h]=o:delete e[h],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[f]=r:this._root=r),this):(this._root=o,this)}function Vdt(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Gdt(){return this._root}function Ydt(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Kdt(n){var e=[],r,i=this._root,s,o,a;for(i&&e.push(new tu(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.x1)&&i.length){var l=(o+a)/2;(s=i[1])&&e.push(new tu(s,l,a)),(s=i[0])&&e.push(new tu(s,o,l))}return this}function Xdt(n){var e=[],r=[],i;for(this._root&&e.push(new tu(this._root,this._x0,this._x1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.x1,c=(a+l)/2;(o=s[0])&&e.push(new tu(o,a,c)),(o=s[1])&&e.push(new tu(o,c,l))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function Qdt(n){return n[0]}function Jdt(n){return arguments.length?(this._x=n,this):this._x}function Iye(n,e){var r=new CL(e??Qdt,NaN,NaN);return n==null?r:r.addAll(n)}function CL(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function jie(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Ws=Iye.prototype=CL.prototype;Ws.copy=function(){var n=new CL(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=jie(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var s=0;s<2;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(2)}):e.target[s]=jie(i));return n};Ws.add=Fdt;Ws.addAll=$dt;Ws.cover=zdt;Ws.data=Udt;Ws.extent=Wdt;Ws.find=qdt;Ws.remove=Hdt;Ws.removeAll=Vdt;Ws.root=Gdt;Ws.size=Ydt;Ws.visit=Kdt;Ws.visitAfter=Xdt;Ws.x=Jdt;function Zdt(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return Mye(this.cover(e,r,i),e,r,i,n)}function Mye(n,e,r,i,s){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var o,a=n._root,l={data:s},c=n._x0,u=n._y0,d=n._z0,h=n._x1,f=n._y1,p=n._z1,m,b,y,v,w,_,x,k,C,E,T;if(!a)return n._root=l,n;for(;a.length;)if((x=e>=(m=(c+h)/2))?c=m:h=m,(k=r>=(b=(u+f)/2))?u=b:f=b,(C=i>=(y=(d+p)/2))?d=y:p=y,o=a,!(a=a[E=C<<2|k<<1|x]))return o[E]=l,n;if(v=+n._x.call(null,a.data),w=+n._y.call(null,a.data),_=+n._z.call(null,a.data),e===v&&r===w&&i===_)return l.next=a,o?o[E]=l:n._root=l,n;do o=o?o[E]=new Array(8):n._root=new Array(8),(x=e>=(m=(c+h)/2))?c=m:h=m,(k=r>=(b=(u+f)/2))?u=b:f=b,(C=i>=(y=(d+p)/2))?d=y:p=y;while((E=C<<2|k<<1|x)===(T=(_>=y)<<2|(w>=b)<<1|v>=m));return o[T]=a,o[E]=l,n}function eht(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),s=new Float64Array(e);let o=1/0,a=1/0,l=1/0,c=-1/0,u=-1/0,d=-1/0;for(let h=0,f,p,m,b;h<e;++h)isNaN(p=+this._x.call(null,f=n[h]))||isNaN(m=+this._y.call(null,f))||isNaN(b=+this._z.call(null,f))||(r[h]=p,i[h]=m,s[h]=b,p<o&&(o=p),p>c&&(c=p),m<a&&(a=m),m>u&&(u=m),b<l&&(l=b),b>d&&(d=b));if(o>c||a>u||l>d)return this;this.cover(o,a,l).cover(c,u,d);for(let h=0;h<e;++h)Mye(this,r[h],i[h],s[h],n[h]);return this}function tht(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,s=this._y0,o=this._z0,a=this._x1,l=this._y1,c=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,l=(s=Math.floor(e))+1,c=(o=Math.floor(r))+1;else{for(var u=a-i||1,d=this._root,h,f;i>n||n>=a||s>e||e>=l||o>r||r>=c;)switch(f=(r<o)<<2|(e<s)<<1|n<i,h=new Array(8),h[f]=d,d=h,u*=2,f){case 0:a=i+u,l=s+u,c=o+u;break;case 1:i=a-u,l=s+u,c=o+u;break;case 2:a=i+u,s=l-u,c=o+u;break;case 3:i=a-u,s=l-u,c=o+u;break;case 4:a=i+u,l=s+u,o=c-u;break;case 5:i=a-u,l=s+u,o=c-u;break;case 6:a=i+u,s=l-u,o=c-u;break;case 7:i=a-u,s=l-u,o=c-u;break}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=s,this._z0=o,this._x1=a,this._y1=l,this._z1=c,this}function nht(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function rht(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Fn(n,e,r,i,s,o,a){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=s,this.y1=o,this.z1=a}function iht(n,e,r,i){var s,o=this._x0,a=this._y0,l=this._z0,c,u,d,h,f,p,m=this._x1,b=this._y1,y=this._z1,v=[],w=this._root,_,x;for(w&&v.push(new Fn(w,o,a,l,m,b,y)),i==null?i=1/0:(o=n-i,a=e-i,l=r-i,m=n+i,b=e+i,y=r+i,i*=i);_=v.pop();)if(!(!(w=_.node)||(c=_.x0)>m||(u=_.y0)>b||(d=_.z0)>y||(h=_.x1)<o||(f=_.y1)<a||(p=_.z1)<l))if(w.length){var k=(c+h)/2,C=(u+f)/2,E=(d+p)/2;v.push(new Fn(w[7],k,C,E,h,f,p),new Fn(w[6],c,C,E,k,f,p),new Fn(w[5],k,u,E,h,C,p),new Fn(w[4],c,u,E,k,C,p),new Fn(w[3],k,C,d,h,f,E),new Fn(w[2],c,C,d,k,f,E),new Fn(w[1],k,u,d,h,C,E),new Fn(w[0],c,u,d,k,C,E)),(x=(r>=E)<<2|(e>=C)<<1|n>=k)&&(_=v[v.length-1],v[v.length-1]=v[v.length-1-x],v[v.length-1-x]=_)}else{var T=n-+this._x.call(null,w.data),M=e-+this._y.call(null,w.data),I=r-+this._z.call(null,w.data),O=T*T+M*M+I*I;if(O<i){var F=Math.sqrt(i=O);o=n-F,a=e-F,l=r-F,m=n+F,b=e+F,y=r+F,s=w.data}}return s}const sht=(n,e,r,i,s,o)=>Math.sqrt((n-i)**2+(e-s)**2+(r-o)**2);function oht(n,e,r,i){const s=[],o=n-i,a=e-i,l=r-i,c=n+i,u=e+i,d=r+i;return this.visit((h,f,p,m,b,y,v)=>{if(!h.length)do{const w=h.data;sht(n,e,r,this._x(w),this._y(w),this._z(w))<=i&&s.push(w)}while(h=h.next);return f>c||p>u||m>d||b<o||y<a||v<l}),s}function aht(n){if(isNaN(f=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n))||isNaN(m=+this._z.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._y0,c=this._z0,u=this._x1,d=this._y1,h=this._z1,f,p,m,b,y,v,w,_,x,k,C;if(!r)return this;if(r.length)for(;;){if((w=f>=(b=(a+u)/2))?a=b:u=b,(_=p>=(y=(l+d)/2))?l=y:d=y,(x=m>=(v=(c+h)/2))?c=v:h=v,e=r,!(r=r[k=x<<2|_<<1|w]))return this;if(!r.length)break;(e[k+1&7]||e[k+2&7]||e[k+3&7]||e[k+4&7]||e[k+5&7]||e[k+6&7]||e[k+7&7])&&(i=e,C=k)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[k]=o:delete e[k],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[C]=r:this._root=r),this):(this._root=o,this)}function lht(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function cht(){return this._root}function uht(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function dht(n){var e=[],r,i=this._root,s,o,a,l,c,u,d;for(i&&e.push(new Fn(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.y0,l=r.z0,c=r.x1,u=r.y1,d=r.z1)&&i.length){var h=(o+c)/2,f=(a+u)/2,p=(l+d)/2;(s=i[7])&&e.push(new Fn(s,h,f,p,c,u,d)),(s=i[6])&&e.push(new Fn(s,o,f,p,h,u,d)),(s=i[5])&&e.push(new Fn(s,h,a,p,c,f,d)),(s=i[4])&&e.push(new Fn(s,o,a,p,h,f,d)),(s=i[3])&&e.push(new Fn(s,h,f,l,c,u,p)),(s=i[2])&&e.push(new Fn(s,o,f,l,h,u,p)),(s=i[1])&&e.push(new Fn(s,h,a,l,c,f,p)),(s=i[0])&&e.push(new Fn(s,o,a,l,h,f,p))}return this}function hht(n){var e=[],r=[],i;for(this._root&&e.push(new Fn(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.z0,u=i.x1,d=i.y1,h=i.z1,f=(a+u)/2,p=(l+d)/2,m=(c+h)/2;(o=s[0])&&e.push(new Fn(o,a,l,c,f,p,m)),(o=s[1])&&e.push(new Fn(o,f,l,c,u,p,m)),(o=s[2])&&e.push(new Fn(o,a,p,c,f,d,m)),(o=s[3])&&e.push(new Fn(o,f,p,c,u,d,m)),(o=s[4])&&e.push(new Fn(o,a,l,m,f,p,h)),(o=s[5])&&e.push(new Fn(o,f,l,m,u,p,h)),(o=s[6])&&e.push(new Fn(o,a,p,m,f,d,h)),(o=s[7])&&e.push(new Fn(o,f,p,m,u,d,h))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function fht(n){return n[0]}function pht(n){return arguments.length?(this._x=n,this):this._x}function mht(n){return n[1]}function ght(n){return arguments.length?(this._y=n,this):this._y}function bht(n){return n[2]}function yht(n){return arguments.length?(this._z=n,this):this._z}function Oye(n,e,r,i){var s=new EL(e??fht,r??mht,i??bht,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?s:s.addAll(n)}function EL(n,e,r,i,s,o,a,l,c){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=s,this._z0=o,this._x1=a,this._y1=l,this._z1=c,this._root=void 0}function Bie(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Ai=Oye.prototype=EL.prototype;Ai.copy=function(){var n=new EL(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Bie(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var s=0;s<8;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(8)}):e.target[s]=Bie(i));return n};Ai.add=Zdt;Ai.addAll=eht;Ai.cover=tht;Ai.data=nht;Ai.extent=rht;Ai.find=iht;Ai.findAllWithinRadius=oht;Ai.remove=aht;Ai.removeAll=lht;Ai.root=cht;Ai.size=uht;Ai.visit=dht;Ai.visitAfter=hht;Ai.x=pht;Ai.y=ght;Ai.z=yht;function zc(n){return function(){return n}}function Sc(n){return(n()-.5)*1e-6}function vht(n){return n.index}function Lie(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function wht(n){var e=vht,r=f,i,s=zc(30),o,a,l,c,u,d,h=1;n==null&&(n=[]);function f(v){return 1/Math.min(c[v.source.index],c[v.target.index])}function p(v){for(var w=0,_=n.length;w<h;++w)for(var x=0,k,C,E,T=0,M=0,I=0,O,F;x<_;++x)k=n[x],C=k.source,E=k.target,T=E.x+E.vx-C.x-C.vx||Sc(d),l>1&&(M=E.y+E.vy-C.y-C.vy||Sc(d)),l>2&&(I=E.z+E.vz-C.z-C.vz||Sc(d)),O=Math.sqrt(T*T+M*M+I*I),O=(O-o[x])/O*v*i[x],T*=O,M*=O,I*=O,E.vx-=T*(F=u[x]),l>1&&(E.vy-=M*F),l>2&&(E.vz-=I*F),C.vx+=T*(F=1-F),l>1&&(C.vy+=M*F),l>2&&(C.vz+=I*F)}function m(){if(a){var v,w=a.length,_=n.length,x=new Map(a.map((C,E)=>[e(C,E,a),C])),k;for(v=0,c=new Array(w);v<_;++v)k=n[v],k.index=v,typeof k.source!="object"&&(k.source=Lie(x,k.source)),typeof k.target!="object"&&(k.target=Lie(x,k.target)),c[k.source.index]=(c[k.source.index]||0)+1,c[k.target.index]=(c[k.target.index]||0)+1;for(v=0,u=new Array(_);v<_;++v)k=n[v],u[v]=c[k.source.index]/(c[k.source.index]+c[k.target.index]);i=new Array(_),b(),o=new Array(_),y()}}function b(){if(a)for(var v=0,w=n.length;v<w;++v)i[v]=+r(n[v],v,n)}function y(){if(a)for(var v=0,w=n.length;v<w;++v)o[v]=+s(n[v],v,n)}return p.initialize=function(v,...w){a=v,d=w.find(_=>typeof _=="function")||Math.random,l=w.find(_=>[1,2,3].includes(_))||2,m()},p.links=function(v){return arguments.length?(n=v,m(),p):n},p.id=function(v){return arguments.length?(e=v,p):e},p.iterations=function(v){return arguments.length?(h=+v,p):h},p.strength=function(v){return arguments.length?(r=typeof v=="function"?v:zc(+v),b(),p):r},p.distance=function(v){return arguments.length?(s=typeof v=="function"?v:zc(+v),y(),p):s},p}const xht=1664525,_ht=1013904223,Fie=4294967296;function kht(){let n=1;return()=>(n=(xht*n+_ht)%Fie)/Fie}var $ie=3;function CD(n){return n.x}function zie(n){return n.y}function Sht(n){return n.z}var Cht=10,Eht=Math.PI*(3-Math.sqrt(5)),Aht=Math.PI*20/(9+Math.sqrt(221));function Tht(n,e){e=e||2;var r=Math.min($ie,Math.max(1,Math.round(e))),i,s=1,o=.001,a=1-Math.pow(o,1/300),l=0,c=.6,u=new Map,d=Q9(p),h=Ax("tick","end"),f=kht();n==null&&(n=[]);function p(){m(),h.call("tick",i),s<o&&(d.stop(),h.call("end",i))}function m(v){var w,_=n.length,x;v===void 0&&(v=1);for(var k=0;k<v;++k)for(s+=(l-s)*a,u.forEach(function(C){C(s)}),w=0;w<_;++w)x=n[w],x.fx==null?x.x+=x.vx*=c:(x.x=x.fx,x.vx=0),r>1&&(x.fy==null?x.y+=x.vy*=c:(x.y=x.fy,x.vy=0)),r>2&&(x.fz==null?x.z+=x.vz*=c:(x.z=x.fz,x.vz=0));return i}function b(){for(var v=0,w=n.length,_;v<w;++v){if(_=n[v],_.index=v,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),_.fz!=null&&(_.z=_.fz),isNaN(_.x)||r>1&&isNaN(_.y)||r>2&&isNaN(_.z)){var x=Cht*(r>2?Math.cbrt(.5+v):r>1?Math.sqrt(.5+v):v),k=v*Eht,C=v*Aht;r===1?_.x=x:r===2?(_.x=x*Math.cos(k),_.y=x*Math.sin(k)):(_.x=x*Math.sin(k)*Math.cos(C),_.y=x*Math.cos(k),_.z=x*Math.sin(k)*Math.sin(C))}(isNaN(_.vx)||r>1&&isNaN(_.vy)||r>2&&isNaN(_.vz))&&(_.vx=0,r>1&&(_.vy=0),r>2&&(_.vz=0))}}function y(v){return v.initialize&&v.initialize(n,f,r),v}return b(),i={tick:m,restart:function(){return d.restart(p),i},stop:function(){return d.stop(),i},numDimensions:function(v){return arguments.length?(r=Math.min($ie,Math.max(1,Math.round(v))),u.forEach(y),i):r},nodes:function(v){return arguments.length?(n=v,b(),u.forEach(y),i):n},alpha:function(v){return arguments.length?(s=+v,i):s},alphaMin:function(v){return arguments.length?(o=+v,i):o},alphaDecay:function(v){return arguments.length?(a=+v,i):+a},alphaTarget:function(v){return arguments.length?(l=+v,i):l},velocityDecay:function(v){return arguments.length?(c=1-v,i):1-c},randomSource:function(v){return arguments.length?(f=v,u.forEach(y),i):f},force:function(v,w){return arguments.length>1?(w==null?u.delete(v):u.set(v,y(w)),i):u.get(v)},find:function(){var v=Array.prototype.slice.call(arguments),w=v.shift()||0,_=(r>1?v.shift():null)||0,x=(r>2?v.shift():null)||0,k=v.shift()||1/0,C=0,E=n.length,T,M,I,O,F,$;for(k*=k,C=0;C<E;++C)F=n[C],T=w-F.x,M=_-(F.y||0),I=x-(F.z||0),O=T*T+M*M+I*I,O<k&&($=F,k=O);return $},on:function(v,w){return arguments.length>1?(h.on(v,w),i):h.on(v)}}}function Pht(){var n,e,r,i,s,o=zc(-30),a,l=1,c=1/0,u=.81;function d(m){var b,y=n.length,v=(e===1?Iye(n,CD):e===2?nge(n,CD,zie):e===3?Oye(n,CD,zie,Sht):null).visitAfter(f);for(s=m,b=0;b<y;++b)r=n[b],v.visit(p)}function h(){if(n){var m,b=n.length,y;for(a=new Array(b),m=0;m<b;++m)y=n[m],a[y.index]=+o(y,m,n)}}function f(m){var b=0,y,v,w=0,_,x,k,C,E=m.length;if(E){for(_=x=k=C=0;C<E;++C)(y=m[C])&&(v=Math.abs(y.value))&&(b+=y.value,w+=v,_+=v*(y.x||0),x+=v*(y.y||0),k+=v*(y.z||0));b*=Math.sqrt(4/E),m.x=_/w,e>1&&(m.y=x/w),e>2&&(m.z=k/w)}else{y=m,y.x=y.data.x,e>1&&(y.y=y.data.y),e>2&&(y.z=y.data.z);do b+=a[y.data.index];while(y=y.next)}m.value=b}function p(m,b,y,v,w){if(!m.value)return!0;var _=[y,v,w][e-1],x=m.x-r.x,k=e>1?m.y-r.y:0,C=e>2?m.z-r.z:0,E=_-b,T=x*x+k*k+C*C;if(E*E/u<T)return T<c&&(x===0&&(x=Sc(i),T+=x*x),e>1&&k===0&&(k=Sc(i),T+=k*k),e>2&&C===0&&(C=Sc(i),T+=C*C),T<l&&(T=Math.sqrt(l*T)),r.vx+=x*m.value*s/T,e>1&&(r.vy+=k*m.value*s/T),e>2&&(r.vz+=C*m.value*s/T)),!0;if(m.length||T>=c)return;(m.data!==r||m.next)&&(x===0&&(x=Sc(i),T+=x*x),e>1&&k===0&&(k=Sc(i),T+=k*k),e>2&&C===0&&(C=Sc(i),T+=C*C),T<l&&(T=Math.sqrt(l*T)));do m.data!==r&&(E=a[m.data.index]*s/T,r.vx+=x*E,e>1&&(r.vy+=k*E),e>2&&(r.vz+=C*E));while(m=m.next)}return d.initialize=function(m,...b){n=m,i=b.find(y=>typeof y=="function")||Math.random,e=b.find(y=>[1,2,3].includes(y))||2,h()},d.strength=function(m){return arguments.length?(o=typeof m=="function"?m:zc(+m),h(),d):o},d.distanceMin=function(m){return arguments.length?(l=m*m,d):Math.sqrt(l)},d.distanceMax=function(m){return arguments.length?(c=m*m,d):Math.sqrt(c)},d.theta=function(m){return arguments.length?(u=m*m,d):Math.sqrt(u)},d}function Iht(n,e,r,i){var s,o,a=zc(.1),l,c;typeof n!="function"&&(n=zc(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function u(h){for(var f=0,p=s.length;f<p;++f){var m=s[f],b=m.x-e||1e-6,y=(m.y||0)-r||1e-6,v=(m.z||0)-i||1e-6,w=Math.sqrt(b*b+y*y+v*v),_=(c[f]-w)*l[f]*h/w;m.vx+=b*_,o>1&&(m.vy+=y*_),o>2&&(m.vz+=v*_)}}function d(){if(s){var h,f=s.length;for(l=new Array(f),c=new Array(f),h=0;h<f;++h)c[h]=+n(s[h],h,s),l[h]=isNaN(c[h])?0:+a(s[h],h,s)}}return u.initialize=function(h,...f){s=h,o=f.find(p=>[1,2,3].includes(p))||2,d()},u.strength=function(h){return arguments.length?(a=typeof h=="function"?h:zc(+h),d(),u):a},u.radius=function(h){return arguments.length?(n=typeof h=="function"?h:zc(+h),d(),u):n},u.x=function(h){return arguments.length?(e=+h,u):e},u.y=function(h){return arguments.length?(r=+h,u):r},u.z=function(h){return arguments.length?(i=+h,u):i},u}const{abs:ly,cos:fc,sin:hm,acos:Mht,atan2:cy,sqrt:Gu,pow:Do}=Math;function uy(n){return n<0?-Do(-n,1/3):Do(n,1/3)}const Dye=Math.PI,V_=2*Dye,Yu=Dye/2,Oht=1e-6,ED=Number.MAX_SAFE_INTEGER||9007199254740991,AD=Number.MIN_SAFE_INTEGER||-9007199254740991,Dht={x:0,y:0,z:0},ct={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),Gu(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const s=1-n;let o=e;if(i===0)return e[0].t=n,e[0];if(i===1){const l={x:s*o[0].x+n*o[1].x,y:s*o[0].y+n*o[1].y,t:n};return r&&(l.z=s*o[0].z+n*o[1].z),l}if(i<4){let l=s*s,c=n*n,u,d,h,f=0;i===2?(o=[o[0],o[1],o[2],Dht],u=l,d=s*n*2,h=c):i===3&&(u=l*s,d=l*n*3,h=s*c*3,f=n*c);const p={x:u*o[0].x+d*o[1].x+h*o[2].x+f*o[3].x,y:u*o[0].y+d*o[1].y+h*o[2].y+f*o[3].y,t:n};return r&&(p.z=u*o[0].z+d*o[1].z+h*o[2].z+f*o[3].z),p}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*n,y:a[l].y+(a[l+1].y-a[l].y)*n},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*n);a.splice(a.length-1,1)}return a[0].t=n,a[0]},computeWithRatios:function(n,e,r,i){const s=1-n,o=r,a=e;let l=o[0],c=o[1],u=o[2],d=o[3],h;if(l*=s,c*=n,a.length===2)return h=l+c,{x:(l*a[0].x+c*a[1].x)/h,y:(l*a[0].y+c*a[1].y)/h,z:i?(l*a[0].z+c*a[1].z)/h:!1,t:n};if(l*=s,c*=2*s,u*=n*n,a.length===3)return h=l+c+u,{x:(l*a[0].x+c*a[1].x+u*a[2].x)/h,y:(l*a[0].y+c*a[1].y+u*a[2].y)/h,z:i?(l*a[0].z+c*a[1].z+u*a[2].z)/h:!1,t:n};if(l*=s,c*=1.5*s,u*=3*s,d*=n*n*n,a.length===4)return h=l+c+u+d,{x:(l*a[0].x+c*a[1].x+u*a[2].x+d*a[3].x)/h,y:(l*a[0].y+c*a[1].y+u*a[2].y+d*a[3].y)/h,z:i?(l*a[0].z+c*a[1].z+u*a[2].z+d*a[3].z)/h:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,s=i.length,o=s-1;s>1;s--,o--){const a=[];for(let l=0,c;l<o;l++)c={x:o*(i[l+1].x-i[l].x),y:o*(i[l+1].y-i[l].y)},e&&(c.z=o*(i[l+1].z-i[l].z)),a.push(c);r.push(a),i=a}return r},between:function(n,e,r){return e<=n&&n<=r||ct.approximately(n,e)||ct.approximately(n,r)},approximately:function(n,e,r){return ly(n-e)<=(r||Oht)},length:function(n){const r=ct.Tvalues.length;let i=0;for(let s=0,o;s<r;s++)o=.5*ct.Tvalues[s]+.5,i+=ct.Cvalues[s]*ct.arcfn(o,n);return .5*i},map:function(n,e,r,i,s){const o=r-e,a=s-i,l=n-e,c=l/o;return i+a*c},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(ct.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-n.x,a=r.y-n.y,l=i*a-s*o,c=i*o+s*a;return cy(l,c)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return Gu(r*r+i*i)},closest:function(n,e){let r=Do(2,63),i,s;return n.forEach(function(o,a){s=ct.dist(e,o),s<r&&(r=s,i=a)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Do(n,e)+Do(1-n,e),i=r-1;return ly(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Do(1-n,e),i=Do(n,e)+r;return r/i},lli8:function(n,e,r,i,s,o,a,l){const c=(n*i-e*r)*(s-a)-(n-r)*(s*l-o*a),u=(n*i-e*r)*(o-l)-(e-i)*(s*l-o*a),d=(n-r)*(o-l)-(e-i)*(s-a);return d==0?!1:{x:c/d,y:u/d}},lli4:function(n,e,r,i){const s=n.x,o=n.y,a=e.x,l=e.y,c=r.x,u=r.y,d=i.x,h=i.y;return ct.lli8(s,o,a,l,c,u,d,h)},lli:function(n,e){return ct.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new Yn(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=ED,r=ED,i=AD,s=AD;return n.forEach(function(o){const a=o.bbox();e>a.x.min&&(e=a.x.min),r>a.y.min&&(r=a.y.min),i<a.x.max&&(i=a.x.max),s<a.y.max&&(s=a.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(n,e,r,i,s){if(!ct.bboxoverlap(e,i))return[];const o=[],a=[n.startcap,n.forward,n.back,n.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const d=c.intersects(u,s);d.length>0&&(d.c1=c,d.c2=u,d.s1=n,d.s2=r,o.push(d))})}),o},makeshape:function(n,e,r){const i=e.points.length,s=n.points.length,o=ct.makeline(e.points[i-1],n.points[0]),a=ct.makeline(n.points[s-1],e.points[0]),l={startcap:o,forward:n,back:e,endcap:a,bbox:ct.findbbox([o,n,e,a])};return l.intersections=function(c){return ct.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=ED,s=AD,o,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)o=r[l],a=n.get(o),a[e]<i&&(i=a[e]),a[e]>s&&(s=a[e]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,s=-cy(e.p2.y-i,e.p2.x-r),o=function(a){return{x:(a.x-r)*fc(s)-(a.y-i)*hm(s),y:(a.x-r)*hm(s)+(a.y-i)*fc(s)}};return n.map(o)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=ct.align(n,e),s=function(E){return 0<=E&&E<=1};if(r===2){const E=i[0].y,T=i[1].y,M=i[2].y,I=E-2*T+M;if(I!==0){const O=-Gu(T*T-E*M),F=-E+T,$=-(O+F)/I,z=-(-O+F)/I;return[$,z].filter(s)}else if(T!==M&&I===0)return[(2*T-M)/(2*T-2*M)].filter(s);return[]}const o=i[0].y,a=i[1].y,l=i[2].y,c=i[3].y;let u=-o+3*a-3*l+c,d=3*o-6*a+3*l,h=-3*o+3*a,f=o;if(ct.approximately(u,0)){if(ct.approximately(d,0))return ct.approximately(h,0)?[]:[-f/h].filter(s);const E=Gu(h*h-4*d*f),T=2*d;return[(E-h)/T,(-h-E)/T].filter(s)}d/=u,h/=u,f/=u;const p=(3*h-d*d)/3,m=p/3,b=(2*d*d*d-9*d*h+27*f)/27,y=b/2,v=y*y+m*m*m;let w,_,x,k,C;if(v<0){const E=-p/3,T=E*E*E,M=Gu(T),I=-b/(2*M),O=I<-1?-1:I>1?1:I,F=Mht(O),$=uy(M),z=2*$;return x=z*fc(F/3)-d/3,k=z*fc((F+V_)/3)-d/3,C=z*fc((F+2*V_)/3)-d/3,[x,k,C].filter(s)}else{if(v===0)return w=y<0?uy(-y):-uy(y),x=2*w-d/3,k=-w-d/3,[x,k].filter(s);{const E=Gu(v);return w=uy(-y+E),_=uy(y+E),[w-_-d/3].filter(s)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],s=e-2*r+i;if(s!==0){const o=-Gu(r*r-e*i),a=-e+r,l=-(o+a)/s,c=-(-o+a)/s;return[l,c]}else if(r!==i&&s===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,s){let o,a,l,c,u=0,d=0;const h=ct.compute(n,e),f=ct.compute(n,r),p=h.x*h.x+h.y*h.y;if(i?(o=Gu(Do(h.y*f.z-f.y*h.z,2)+Do(h.z*f.x-f.z*h.x,2)+Do(h.x*f.y-f.x*h.y,2)),a=Do(p+h.z*h.z,3/2)):(o=h.x*f.y-h.y*f.x,a=Do(p,3/2)),o===0||a===0)return{k:0,r:0};if(u=o/a,d=a/o,!s){const m=ct.curvature(n-.001,e,r,i,!0).k,b=ct.curvature(n+.001,e,r,i,!0).k;c=(b-u+(u-m))/2,l=(ly(b-u)+ly(u-m))/2}return{k:u,r:d,dk:c,adk:l}},inflections:function(n){if(n.length<4)return[];const e=ct.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,s=e[1].x*e[2].y,o=e[3].x*e[2].y,a=18*(-3*r+2*i+3*s-o),l=18*(3*r-i-3*s),c=18*(s-r);if(ct.approximately(a,0)){if(!ct.approximately(l,0)){let f=-c/l;if(0<=f&&f<=1)return[f]}return[]}const u=2*a;if(ct.approximately(u,0))return[];const d=l*l-4*a*c;if(d<0)return[];const h=Math.sqrt(d);return[(h-l)/u,-(l+h)/u].filter(function(f){return 0<=f&&f<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let s=0,o,a,l,c;s<i;s++)if(o=r[s],a=n[o].mid,l=e[o].mid,c=(n[o].size+e[o].size)/2,ly(a-l)>=c)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),s=e.bbox(),o=1e5,a=r||.5;if(i.x.size+i.y.size<a&&s.x.size+s.y.size<a)return[(o*(n._t1+n._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let l=n.split(.5),c=e.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(h){return ct.bboxoverlap(h.left.bbox(),h.right.bbox())});let d=[];return u.length===0||(u.forEach(function(h){d=d.concat(ct.pairiteration(h.left,h.right,a))}),d=d.filter(function(h,f){return d.indexOf(h)===f})),d},getccenter:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-e.x,a=r.y-e.y,l=i*fc(Yu)-s*hm(Yu),c=i*hm(Yu)+s*fc(Yu),u=o*fc(Yu)-a*hm(Yu),d=o*hm(Yu)+a*fc(Yu),h=(n.x+e.x)/2,f=(n.y+e.y)/2,p=(e.x+r.x)/2,m=(e.y+r.y)/2,b=h+l,y=f+c,v=p+u,w=m+d,_=ct.lli8(h,f,b,y,p,m,v,w),x=ct.dist(_,n);let k=cy(n.y-_.y,n.x-_.x),C=cy(e.y-_.y,e.x-_.x),E=cy(r.y-_.y,r.x-_.x),T;return k<E?((k>C||C>E)&&(k+=V_),k>E&&(T=E,E=k,k=T)):E<C&&C<k?(T=E,E=k,k=T):E+=V_,_.s=k,_.e=E,_.r=x,_},numberSort:function(n,e){return n-e}};class hv{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return ct.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)ct.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new hv(r)}}const{abs:dy,min:Uie,max:Wie,cos:Rht,sin:Nht,acos:jht,sqrt:hy}=Math,Bht=Math.PI;class Yn{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const p=[];r.forEach(function(m){["x","y","z"].forEach(function(b){typeof m[b]<"u"&&p.push(m[b])})}),r=p}let s=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!s&&(o===9||o===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let p=0,m=a?3:2;p<o;p+=m){var c={x:r[p],y:r[p+1]};a&&(c.z=r[p+2]),l.push(c)}const u=this.order=l.length-1,d=this.dims=["x","y"];a&&d.push("z"),this.dimlen=d.length;const h=ct.align(l,{p1:l[0],p2:l[u]}),f=ct.dist(l[0],l[u]);this._linear=h.reduce((p,m)=>p+dy(m.y),0)<f/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,s){if(typeof s>"u"&&(s=.5),s===0)return new Yn(r,r,i);if(s===1)return new Yn(e,r,r);const o=Yn.getABC(2,e,r,i,s);return new Yn(e,o.A,i)}static cubicFromPoints(e,r,i,s,o){typeof s>"u"&&(s=.5);const a=Yn.getABC(3,e,r,i,s);typeof o>"u"&&(o=ct.dist(r,a.C));const l=o*(1-s)/s,c=ct.dist(e,i),u=(i.x-e.x)/c,d=(i.y-e.y)/c,h=o*u,f=o*d,p=l*u,m=l*d,b={x:r.x-h,y:r.y-f},y={x:r.x+p,y:r.y+m},v=a.A,w={x:v.x+(b.x-v.x)/(1-s),y:v.y+(b.y-v.y)/(1-s)},_={x:v.x+(y.x-v.x)/s,y:v.y+(y.y-v.y)/s},x={x:e.x+(w.x-e.x)/s,y:e.y+(w.y-e.y)/s},k={x:i.x+(_.x-i.x)/(1-s),y:i.y+(_.y-i.y)/(1-s)};return new Yn(e,x,k,i)}static getUtils(){return ct}getUtils(){return Yn.getUtils()}static get PolyBezier(){return hv}valueOf(){return this.toString()}toString(){return ct.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,s=["M",r,i,this.order===2?"Q":"C"];for(let o=1,a=e.length;o<a;o++)s.push(e[o].x),s.push(e[o].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=ct.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=ct.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return ct.length(this.derivative.bind(this))}static getABC(e=2,r,i,s,o=.5){const a=ct.projectionratio(o,e),l=1-a,c={x:a*r.x+l*s.x,y:a*r.y+l*s.y},u=ct.abcratio(o,e);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c,S:r,E:s}}getABC(e,r){r=r||this.get(e);let i=this.points[0],s=this.points[this.order];return Yn.getABC(this.order,i,r,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,s;r<e;r++)s=r/(e-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),s=[];for(let o=0,a,l=0;o<i.length;o++)a=i[o],ct.dist(a,e)<r&&(s.push(a),l+=o/i.length);return s.length?t/=s.length:!1}project(e){const r=this.getLUT(),i=r.length-1,s=ct.closest(r,e),o=s.mpos,a=(o-1)/i,l=(o+1)/i,c=.1/i;let u=s.mdist,d=a,h=d,f;u+=1;for(let p;d<l+c;d+=c)f=this.compute(d),p=ct.dist(e,f),p<u&&(u=p,h=d);return h=h<0?0:h>1?1:h,f=this.compute(h),f.t=h,f.d=u,f}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?ct.computeWithRatios(e,this.points,this.ratios,this._3d):ct.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let s=1,o,a;s<i;s++)o=e[s],a=e[s-1],r[s]={x:(i-s)/i*o.x+s/i*a.x,y:(i-s)/i*o.y+s/i*a.y};return r[i]=e[i-1],new Yn(r)}derivative(e){return ct.compute(e,this.dpoints[0],this._3d)}dderivative(e){return ct.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new Yn(ct.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return ct.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ct.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=hy(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),s=hy(r.x*r.x+r.y*r.y+r.z*r.z),o=hy(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=s,r.y/=s,r.z/=s,i.x/=o,i.y/=o,i.z/=o;const a={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},l=hy(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const c=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(e){let r=this.points,i=[],s=[],o=0;for(s[o++]=r[0],s[o++]=r[1],s[o++]=r[2],this.order===3&&(s[o++]=r[3]);r.length>1;){i=[];for(let a=0,l,c=r.length-1;a<c;a++)l=ct.lerp(e,r[a],r[a+1]),s[o++]=l,i.push(l);r=i}return s}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),s={left:this.order===2?new Yn([i[0],i[3],i[5]]):new Yn([i[0],i[4],i[7],i[9]]),right:this.order===2?new Yn([i[5],i[4],i[2]]):new Yn([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=ct.map(0,0,1,this._t1,this._t2),s.left._t2=ct.map(e,0,1,this._t1,this._t2),s.right._t1=ct.map(e,0,1,this._t1,this._t2),s.right._t2=ct.map(1,0,1,this._t1,this._t2),r?(r=ct.map(r,e,1,0,1),s.right.split(r).left):s}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let s=function(a){return a[i]},o=this.dpoints[0].map(s);e[i]=ct.droots(o),this.order===3&&(o=this.dpoints[1].map(s),e[i]=e[i].concat(ct.droots(o))),e[i]=e[i].filter(function(a){return a>=0&&a<=1}),r=r.concat(e[i].sort(ct.numberSort))}).bind(this)),e.values=r.sort(ct.numberSort).filter(function(i,s){return r.indexOf(i)===s}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=ct.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return ct.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),s=this.normal(e),o={c:i,n:s,x:i.x+s.x*r,y:i.y+s.y*r};return this._3d&&(o.z=i.z+s.z*r),o}if(this._linear){const i=this.normal(0),s=this.points.map(function(o){const a={x:o.x+e*i.x,y:o.y+e*i.y};return o.z&&i.z&&(a.z=o.z+e*i.z),a});return[new Yn(s)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const s=ct.angle(this.points[0],this.points[3],this.points[1]),o=ct.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&o<0||s<0&&o>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),dy(jht(i))<Bht/3}reduce(){let e,r=0,i=0,s=.01,o,a=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],e=1;e<c.length;e++)i=c[e],o=this.split(r,i),o._t1=r,o._t2=i,a.push(o),r=i;return a.forEach(function(u){for(r=0,i=0;i<=1;)for(i=r+s;i<=1+s;i+=s)if(o=u.split(r,i),!o.simple()){if(i-=s,dy(r-i)<s)return[];o=u.split(r,i),o._t1=ct.map(r,0,1,u._t1,u._t2),o._t2=ct.map(i,0,1,u._t1,u._t2),l.push(o),r=i;break}r<1&&(o=u.split(r,1),o._t1=ct.map(r,0,1,u._t1,u._t2),o._t2=u._t2,l.push(o))}),l}translate(e,r,i){i=typeof i=="number"?i:r;const s=this.order;let o=this.points.map((a,l)=>(1-l/s)*r+l/s*i);return new Yn(this.points.map((a,l)=>({x:a.x+e.x*o[l],y:a.y+e.y*o[l]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const s=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const a=i?i(0):e,l=i?i(1):e,c=[this.offset(0,10),this.offset(1,10)],u=[],d=ct.lli4(c[0],c[0].c,c[1],c[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const f=u[h*r]=ct.copy(o[h*r]);f.x+=(h?l:a)*c[h].n.x,f.y+=(h?l:a)*c[h].n.y}),i?([0,1].forEach(function(h){if(!(r===2&&h)){var f=o[h+1],p={x:f.x-d.x,y:f.y-d.y},m=i?i((h+1)/r):e;i&&!s&&(m=-m);var b=hy(p.x*p.x+p.y*p.y);p.x/=b,p.y/=b,u[h+1]={x:f.x+m*p.x,y:f.y+m*p.y}}}),new Yn(u)):([0,1].forEach(h=>{if(r===2&&h)return;const f=u[h*r],p=this.derivative(h),m={x:f.x+p.x,y:f.y+p.y};u[h+1]=ct.lli4(f,m,d,o[h+1])}),new Yn(u))}outline(e,r,i,s){if(r=r===void 0?e:r,this._linear){const k=this.normal(0),C=this.points[0],E=this.points[this.points.length-1];let T,M,I;i===void 0&&(i=e,s=r),T={x:C.x+k.x*e,y:C.y+k.y*e},I={x:E.x+k.x*i,y:E.y+k.y*i},M={x:(T.x+I.x)/2,y:(T.y+I.y)/2};const O=[T,M,I];T={x:C.x-k.x*r,y:C.y-k.y*r},I={x:E.x-k.x*s,y:E.y-k.y*s},M={x:(T.x+I.x)/2,y:(T.y+I.y)/2};const F=[I,M,T],$=ct.makeline(F[2],O[0]),z=ct.makeline(O[2],F[0]),D=[$,new Yn(O),z,new Yn(F)];return new hv(D)}const o=this.reduce(),a=o.length,l=[];let c=[],u,d=0,h=this.length();const f=typeof i<"u"&&typeof s<"u";function p(k,C,E,T,M){return function(I){const O=T/E,F=(T+M)/E,$=C-k;return ct.map(I,0,1,k+O*$,k+F*$)}}o.forEach(function(k){const C=k.length();f?(l.push(k.scale(p(e,i,h,d,C))),c.push(k.scale(p(-r,-s,h,d,C)))):(l.push(k.scale(e)),c.push(k.scale(-r))),d+=C}),c=c.map(function(k){return u=k.points,u[3]?k.points=[u[3],u[2],u[1],u[0]]:k.points=[u[2],u[1],u[0]],k}).reverse();const m=l[0].points[0],b=l[a-1].points[l[a-1].points.length-1],y=c[a-1].points[c[a-1].points.length-1],v=c[0].points[0],w=ct.makeline(y,m),_=ct.makeline(b,v),x=[w].concat(l).concat([_]).concat(c);return new hv(x)}outlineshapes(e,r,i){r=r||e;const s=this.outline(e,r).curves,o=[];for(let a=1,l=s.length;a<l/2;a++){const c=ct.makeshape(s[a],s[l-a],i);c.startcap.virtual=a>1,c.endcap.virtual=a<l/2-1,o.push(c)}return o}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof Yn&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=Uie(e.p1.x,e.p2.x),i=Uie(e.p1.y,e.p2.y),s=Wie(e.p1.x,e.p2.x),o=Wie(e.p1.y,e.p2.y);return ct.roots(this.points,e).filter(a=>{var l=this.get(a);return ct.between(l.x,r,s)&&ct.between(l.y,i,o)})}selfintersects(e){const r=this.reduce(),i=r.length-2,s=[];for(let o=0,a,l,c;o<i;o++)l=r.slice(o,o+1),c=r.slice(o+2),a=this.curveintersects(l,c,e),s.push(...a);return s}curveintersects(e,r,i){const s=[];e.forEach(function(a){r.forEach(function(l){a.overlaps(l)&&s.push({left:a,right:l})})});let o=[];return s.forEach(function(a){const l=ct.pairiteration(a.left,a.right,i);l.length>0&&(o=o.concat(l))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,s){const o=(s-i)/4,a=this.get(i+o),l=this.get(s-o),c=ct.dist(e,r),u=ct.dist(e,a),d=ct.dist(e,l);return dy(u-c)+dy(d-c)}_iterate(e,r){let i=0,s=1,o;do{o=0,s=1;let a=this.get(i),l,c,u,d,h=!1,f=!1,p,m=s,b=1;do if(f=h,d=u,m=(i+s)/2,l=this.get(m),c=this.get(s),u=ct.getccenter(a,l,c),u.interval={start:i,end:s},h=this._error(u,a,i,s)<=e,p=f&&!h,p||(b=s),h){if(s>=1){if(u.interval.end=b=1,d=u,s>1){let v={x:u.x+u.r*Rht(u.e),y:u.y+u.r*Nht(u.e)};u.e+=ct.angle({x:u.x,y:u.y},v,this.get(1))}break}s=s+(s-i)/2}else s=m;while(!p&&o++<100);if(o>=100)break;d=d||u,r.push(d),i=b}while(s<1);return r}}function CN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Lht(n){if(Array.isArray(n))return n}function Fht(n){if(Array.isArray(n))return CN(n)}function $ht(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function zht(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Uht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qht(n,e){if(n==null)return{};var r,i,s=Hht(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Hht(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}function Vht(n,e){return Lht(n)||zht(n,e)||Rye(n,e)||Uht()}function Ght(n){return Fht(n)||$ht(n)||Rye(n)||Wht()}function Yht(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Kht(n){var e=Yht(n,"string");return typeof e=="symbol"?e:e+""}function Rye(n,e){if(n){if(typeof n=="string")return CN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?CN(n,e):void 0}}var Xht=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),o=n.reduce(function(l,c){var u=l,d=c;return s.forEach(function(h,f){var p=h.keyAccessor,m=h.isProp,b;if(m){var y=d,v=y[p],w=qht(y,[p].map(Kht));b=v,d=w}else b=p(d,f);f+1<s.length?(u.hasOwnProperty(b)||(u[b]={}),u=u[b]):r?(u.hasOwnProperty(b)||(u[b]=[]),u[b].push(d)):u[b]=d}),l},{});r instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===s.length?Object.keys(c).forEach(function(d){return c[d]=r(c[d])}):Object.values(c).forEach(function(d){return l(d,u+1)})}(o);var a=o;return i&&(a=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===s.length?a.push({keys:u,vals:c}):Object.entries(c).forEach(function(d){var h=Vht(d,2),f=h[0],p=h[1];return l(p,[].concat(Ght(u),[f]))})}(o),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a};function Qht(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var Jht=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;Qht(Jht);function EN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Zht(n){if(Array.isArray(n))return n}function eft(n){if(Array.isArray(n))return EN(n)}function qie(n,e,r){if(Nye())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var s=new(n.bind.apply(n,i));return s}function Rw(n,e,r){return(e=oft(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Nye(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nye=function(){return!!n})()}function tft(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function nft(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function rft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ift(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function fm(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hie(Object(r),!0).forEach(function(i){Rw(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Hie(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function fv(n,e){return Zht(n)||nft(n,e)||jye(n,e)||rft()}function Vo(n){return eft(n)||tft(n)||jye(n)||ift()}function sft(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oft(n){var e=sft(n,"string");return typeof e=="symbol"?e:e+""}function AN(n){"@babel/helpers - typeof";return AN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AN(n)}function jye(n,e){if(n){if(typeof n=="string")return EN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?EN(n,e):void 0}}var aft=rB(gVe);function Vie(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=aft(e(i))})}function lft(n,e){var r=n.nodes,i=n.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.nodeFilter,a=o===void 0?function(){return!0}:o,l=s.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};r.forEach(function(p){return u[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),i.forEach(function(p){var m=p.source,b=p.target,y=x(m),v=x(b);if(!u.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!u.hasOwnProperty(v))throw"Missing target node with id: ".concat(v);var w=u[y],_=u[v];w.out.push(_);function x(k){return AN(k)==="object"?e(k):k}});var d=[];f(Object.values(u));var h=Object.assign.apply(Object,[{}].concat(Vo(Object.entries(u).filter(function(p){var m=fv(p,2),b=m[1];return!b.skip}).map(function(p){var m=fv(p,2),b=m[0],y=m[1];return Rw({},b,y.depth)}))));return h;function f(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var x=p[v];if(m.indexOf(x)!==-1){var k=[].concat(Vo(m.slice(m.indexOf(x))),[x]).map(function(C){return e(C.data)});return d.some(function(C){return C.length===k.length&&C.every(function(E,T){return E===k[T]})})||(d.push(k),c(k)),1}b>x.depth&&(x.depth=b,f(x.out,[].concat(Vo(m),[x]),b+(x.skip?0:1)))},v=0,w=p.length;v<w;v++)y()}}var cft=2,Oi=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Gie=function(e,r){if(!r.isShadow){var i=En(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var o=Math.round(Math.abs(i(s)));o?s.__photons=Vo(Array(o)).map(function(){return{}}):delete s.__photons})}},j2=wL({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,Gie(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Oi},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Oi},nodeColor:{default:"color",triggerUpdate:!1,onChange:Oi},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Oi},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Oi},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Oi},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Oi},linkColor:{default:"color",triggerUpdate:!1,onChange:Oi},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Oi},linkWidth:{default:1,triggerUpdate:!1,onChange:Oi},linkCurvature:{default:0,triggerUpdate:!1,onChange:Oi},linkCanvasObject:{triggerUpdate:!1,onChange:Oi},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Oi},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Oi},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Oi},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Oi},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Gie},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),s(),!e.isShadow&&o(),!e.isShadow&&a(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var l=En(e.nodeVisibility),c=En(e.nodeVal),u=En(e.nodeColor),d=En(e.nodeCanvasObjectMode),h=e.ctx,f=e.isShadow/e.globalScale,p=e.graphData.nodes.filter(l);h.save(),p.forEach(function(m){var b=d(m);if(e.nodeCanvasObject&&(b==="before"||b==="replace")&&(e.nodeCanvasObject(m,h,e.globalScale),b==="replace")){h.restore();return}var y=Math.sqrt(Math.max(0,c(m)||1))*e.nodeRelSize+f;h.beginPath(),h.arc(m.x,m.y,y,0,2*Math.PI,!1),h.fillStyle=u(m)||"rgba(31, 120, 180, 0.92)",h.fill(),e.nodeCanvasObject&&b==="after"&&e.nodeCanvasObject(m,e.ctx,e.globalScale)}),h.restore()}function s(){var l=En(e.linkVisibility),c=En(e.linkColor),u=En(e.linkWidth),d=En(e.linkLineDash),h=En(e.linkCurvature),f=En(e.linkCanvasObjectMode),p=e.ctx,m=e.isShadow*2,b=e.graphData.links.filter(l);b.forEach(C);var y=[],v=[],w=b;if(e.linkCanvasObject){var _=[],x=[];b.forEach(function(E){return({before:y,after:v,replace:_}[f(E)]||x).push(E)}),w=[].concat(Vo(y),v,x),y=y.concat(_)}p.save(),y.forEach(function(E){return e.linkCanvasObject(E,p,e.globalScale)}),p.restore();var k=Xht(w,[c,u,d]);p.save(),Object.entries(k).forEach(function(E){var T=fv(E,2),M=T[0],I=T[1],O=!M||M==="undefined"?"rgba(0,0,0,0.15)":M;Object.entries(I).forEach(function(F){var $=fv(F,2),z=$[0],D=$[1],j=(z||1)/e.globalScale+m;Object.entries(D).forEach(function(N){var R=fv(N,2);R[0];var H=R[1],U=d(H[0]);p.beginPath(),H.forEach(function(K){var Y=K.source,Z=K.target;if(!(!Y||!Z||!Y.hasOwnProperty("x")||!Z.hasOwnProperty("x"))){p.moveTo(Y.x,Y.y);var G=K.__controlPoints;G?p[G.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,Vo(G).concat([Z.x,Z.y])):p.lineTo(Z.x,Z.y)}}),p.strokeStyle=O,p.lineWidth=j,p.setLineDash(U||[]),p.stroke()})})}),p.restore(),p.save(),v.forEach(function(E){return e.linkCanvasObject(E,p,e.globalScale)}),p.restore();function C(E){var T=h(E);if(!T){E.__controlPoints=null;return}var M=E.source,I=E.target;if(!(!M||!I||!M.hasOwnProperty("x")||!I.hasOwnProperty("x"))){var O=Math.sqrt(Math.pow(I.x-M.x,2)+Math.pow(I.y-M.y,2));if(O>0){var F=Math.atan2(I.y-M.y,I.x-M.x),$=O*T,z={x:(M.x+I.x)/2+$*Math.cos(F-Math.PI/2),y:(M.y+I.y)/2+$*Math.sin(F-Math.PI/2)};E.__controlPoints=[z.x,z.y]}else{var D=T*70;E.__controlPoints=[I.x,I.y-D,I.x+D,I.y]}}}}function o(){var l=1.6,c=.2,u=En(e.linkDirectionalArrowLength),d=En(e.linkDirectionalArrowRelPos),h=En(e.linkVisibility),f=En(e.linkDirectionalArrowColor||e.linkColor),p=En(e.nodeVal),m=e.ctx;m.save(),e.graphData.links.filter(h).forEach(function(b){var y=u(b);if(!(!y||y<0)){var v=b.source,w=b.target;if(!(!v||!w||!v.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var _=Math.sqrt(Math.max(0,p(v)||1))*e.nodeRelSize,x=Math.sqrt(Math.max(0,p(w)||1))*e.nodeRelSize,k=Math.min(1,Math.max(0,d(b))),C=f(b)||"rgba(0,0,0,0.28)",E=y/l/2,T=b.__controlPoints&&qie(Yn,[v.x,v.y].concat(Vo(b.__controlPoints),[w.x,w.y])),M=T?function(j){return T.get(j)}:function(j){return{x:v.x+(w.x-v.x)*j||0,y:v.y+(w.y-v.y)*j||0}},I=T?T.length():Math.sqrt(Math.pow(w.x-v.x,2)+Math.pow(w.y-v.y,2)),O=_+y+(I-_-x-y)*k,F=M(O/I),$=M((O-y)/I),z=M((O-y*(1-c))/I),D=Math.atan2(F.y-$.y,F.x-$.x)-Math.PI/2;m.beginPath(),m.moveTo(F.x,F.y),m.lineTo($.x+E*Math.cos(D),$.y+E*Math.sin(D)),m.lineTo(z.x,z.y),m.lineTo($.x-E*Math.cos(D),$.y-E*Math.sin(D)),m.fillStyle=C,m.fill()}}}),m.restore()}function a(){var l=En(e.linkDirectionalParticles),c=En(e.linkDirectionalParticleSpeed),u=En(e.linkDirectionalParticleOffset),d=En(e.linkDirectionalParticleWidth),h=En(e.linkVisibility),f=En(e.linkDirectionalParticleColor||e.linkColor),p=e.ctx;p.save(),e.graphData.links.filter(h).forEach(function(m){var b=l(m);if(!(!m.hasOwnProperty("__photons")||!m.__photons.length)){var y=m.source,v=m.target;if(!(!y||!v||!y.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var w=c(m),_=Math.abs(u(m)),x=m.__photons||[],k=Math.max(0,d(m)/2)/Math.sqrt(e.globalScale),C=f(m)||"rgba(0,0,0,0.28)";p.fillStyle=C;var E=m.__controlPoints?qie(Yn,[y.x,y.y].concat(Vo(m.__controlPoints),[v.x,v.y])):null,T=0,M=!1;x.forEach(function(I){var O=!!I.__singleHop;if(I.hasOwnProperty("__progressRatio")||(I.__progressRatio=O?0:(T+_)/b),!O&&T++,I.__progressRatio+=w,I.__progressRatio>=1)if(!O)I.__progressRatio=I.__progressRatio%1;else{M=!0;return}var F=I.__progressRatio,$=E?E.get(F):{x:y.x+(v.x-y.x)*F||0,y:y.y+(v.y-y.y)*F||0};e.linkDirectionalParticleCanvasObject?e.linkDirectionalParticleCanvasObject($.x,$.y,m,p,e.globalScale):(p.beginPath(),p.arc($.x,$.y,k,0,2*Math.PI,!1),p.fill())}),M&&(m.__photons=m.__photons.filter(function(I){return!I.__singleHop||I.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Tht().force("link",wht()).force("charge",Pht()).force("center",Ldt()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e,r){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&Vie(e.graphData.nodes,En(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&Vie(e.graphData.links,En(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(f){f.source=f[e.linkSource],f.target=f[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(f){return f[e.nodeId]}).links(e.graphData.links);var s=e.dagMode&&lft(e.graphData,function(f){return f[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,Vo(Object.values(s||[]))),a=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*cft*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(f){return delete f[l]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var c=["rl","bu"].includes(e.dagMode),u=function(p){return(s[p[e.nodeId]]-o/2)*a*(c?-1:1)},d=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(f){return f[d]=u(f)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?Iht(function(f){var p=s[f[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-p:p)*a}).strength(function(f){return e.dagNodeFilter(f)?1:0}):null);for(var h=0;h<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);h++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function Bye(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(l,c){r.forEach(function(u){return c[u][o](l)})},triggerUpdate:!1}},linkMethod:function(o){return function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var d=[];return r.forEach(function(h){var f=a[h],p=f[o].apply(f,c);p!==f&&d.push(p)}),d.length?d[0]:this}}}}var uft=800,dft=4,hft=5,Lye=Bye("forceGraph",j2),fft=Bye(["forceGraph","shadowGraph"],j2),pft=Object.assign.apply(Object,Vo(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return Rw({},n,Lye.linkProp(n))})).concat(Vo(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return Rw({},n,fft.linkProp(n))})))),mft=Object.assign.apply(Object,Vo(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return Rw({},n,Lye.linkMethod(n))})));function TD(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(o){o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),o.width=n.width*i,o.height=n.height*i,!e&&!r&&o.getContext("2d").scale(i,i)});var s=ul(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/s,(n.height-r)/2/s),n.needsRedraw=!0}}function Fye(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function Yie(n,e,r){n.save(),Fye(n),n.clearRect(0,0,e,r),n.restore()}var gft=wL({props:fm({width:{default:window.innerWidth,onChange:function(e,r){return TD(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return TD(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[e.nodes,e.links].every(function(s){return(s||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(s){var o=s.type,a=s.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:o,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},pft),aliases:{stopAnimation:"pauseAnimation"},methods:fm({graph2ScreenCoords:function(e,r,i){var s=ul(e.canvas);return{x:r*s.k+s.x,y:i*s.k+s.y}},screen2GraphCoords:function(e,r,i){var s=ul(e.canvas);return{x:(r-s.x)/s.k,y:(i-s.y)/s.k}},centerAt:function(e,r,i,s){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return s?e.tweenGroup.add(new vie(a()).to(o,s).easing(Rf.Quadratic.Out).onUpdate(l).start()):l(o),this}return a();function a(){var c=ul(e.canvas);return{x:(e.width/2-c.x)/c.k,y:(e.height/2-c.y)/c.k}}function l(c){var u=c.x,d=c.y;e.zoom.translateTo(e.zoom.__baseElem,u===void 0?a().x:u,d===void 0?a().y:d),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?e.tweenGroup.add(new vie({k:s()}).to({k:r},i).easing(Rf.Quadratic.Out).onUpdate(function(a){var l=a.k;return o(l)}).start()):o(r),this;return s();function s(){return ul(e.canvas).k}function o(a){e.zoom.scaleTo(e.zoom.__baseElem,a),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,o);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(l.x[1]-l.x[0]),(e.height-i*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(u,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=En(e.nodeVal),s=function(l){return Math.sqrt(Math.max(0,i(l)||1))*e.nodeRelSize},o=e.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:s(a)}});return o.length?{x:[vH(o,function(a){return a.x-a.r}),yH(o,function(a){return a.x+a.r})],y:[vH(o,function(a){return a.y-a.r}),yH(o,function(a){return a.y+a.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},mft),stateInit:function(){return{lastSetZoom:1,zoom:kVe(),forceGraph:new j2,shadowGraph:new j2().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new gdt,tweenGroup:new uye}},init:function(e,r){var i=this;e.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",e.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},c=function(){var h=null,f=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*f,l.y*f,1,1):null;return p&&(h=r.colorTracker.lookup(p.data)),h};ji(r.canvas).call(WWe().subject(function(){if(!r.enableNodeDrag)return null;var d=c();return d&&d.type==="Node"?d.d:null}).on("start",function(d){var h=d.subject;h.__initialDragPos={x:h.x,y:h.y,fx:h.fx,fy:h.fy},d.active||(h.fx=h.x,h.fy=h.y),r.canvas.classList.add("grabbable")}).on("drag",function(d){var h=d.subject,f=h.__initialDragPos,p=d,m=ul(r.canvas).k,b={x:f.x+(p.x-f.x)/m-h.x,y:f.y+(p.y-f.y)/m-h.y};["x","y"].forEach(function(y){return h["f".concat(y)]=h[y]=f[y]+(p[y]-f[y])/m}),!(!h.__dragged&&hft>=Math.sqrt(Yze(["x","y"].map(function(y){return Math.pow(d[y]-f[y],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,h.__dragged=!0,r.onNodeDrag(h,b))}).on("end",function(d){var h=d.subject,f=h.__initialDragPos,p={x:h.x-f.x,y:h.y-f.y};f.fx===void 0&&(h.fx=void 0),f.fy===void 0&&(h.fy=void 0),delete h.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,h.__dragged&&(delete h.__dragged,r.onNodeDragEnd(h,p))})),r.zoom(r.zoom.__baseElem=ji(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(d){return!d.button&&r.enableZoomPanInteraction&&(d.type!=="wheel"||En(r.enableZoomInteraction)(d))&&(d.type==="wheel"||En(r.enablePanInteraction)(d))}).on("zoom",function(d){var h=d.transform;[o,a].forEach(function(f){Fye(f),f.translate(h.x,h.y),f.scale(h.k,h.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(fm(fm({},h),i.centerAt())),r.needsRedraw=!0}).on("end",function(d){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(fm(fm({},d.transform),i.centerAt()))}),TD(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){ul(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=dft/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Bdt(s),["pointermove","pointerdown"].forEach(function(d){return s.addEventListener(d,function(h){d==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=h),!r.isPointerDragging&&h.type==="pointermove"&&r.onBackgroundClick&&(h.pressure>0||r.isPointerPressed)&&(h.pointerType==="mouse"||h.movementX===void 0||[h.movementX,h.movementY].some(function(m){return Math.abs(m)>1}))&&(r.isPointerDragging=!0);var f=p(s);l.x=h.pageX-f.left,l.y=h.pageY-f.top;function p(m){var b=m.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,v=window.pageYOffset||document.documentElement.scrollTop;return{top:b.top+v,left:b.left+y}}},{passive:!0})}),s.addEventListener("pointerup",function(d){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var h=[d,r.pointerDownEvent];requestAnimationFrame(function(){if(d.button===0)if(r.hoverObj){var f=r["on".concat(r.hoverObj.type,"Click")];f&&f.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,h);if(d.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,h)})}},{passive:!0}),s.addEventListener("contextmenu",function(d){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(d.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(a);var u=kut(function(){Yie(a,r.width,r.height),r.shadowGraph.linkWidth(function(h){return En(r.linkWidth)(h)+r.linkHoverPrecision});var d=ul(r.canvas);r.shadowGraph.globalScale(d.k).tickFrame()},uft);r.flushShadowCanvas=u.flush,(this._animationCycle=function d(){var h=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(_){return _.__photons&&_.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var f=r.isPointerDragging?null:c();if(f!==r.hoverObj){var p=r.hoverObj,m=p?p.type:null,b=f?f.type:null;if(m&&m!==b){var y=r["on".concat(m,"Hover")];y&&y(null,p.d)}if(b){var v=r["on".concat(b,"Hover")];v&&v(f.d,m===b?p.d:null)}r.tooltip.content(f&&En(r["".concat(f.type.toLowerCase(),"Label")])(f.d)||null),r.canvas.classList[(f&&r["on".concat(b,"Click")]||!f&&r.onBackgroundClick)&&En(r.showPointerCursor)(f==null?void 0:f.d)?"add":"remove"]("clickable"),r.hoverObj=f}h&&u()}if(h){Yie(o,r.width,r.height);var w=ul(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,w),r.forceGraph.globalScale(w).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,w)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(d)})()},update:function(e){}});const QE={width:_e.number,height:_e.number,graphData:_e.shape({nodes:_e.arrayOf(_e.object).isRequired,links:_e.arrayOf(_e.object).isRequired}),backgroundColor:_e.string,nodeRelSize:_e.number,nodeId:_e.string,nodeLabel:_e.oneOfType([_e.string,_e.func]),nodeVal:_e.oneOfType([_e.number,_e.string,_e.func]),nodeVisibility:_e.oneOfType([_e.bool,_e.string,_e.func]),nodeColor:_e.oneOfType([_e.string,_e.func]),nodeAutoColorBy:_e.oneOfType([_e.string,_e.func]),onNodeHover:_e.func,onNodeClick:_e.func,linkSource:_e.string,linkTarget:_e.string,linkLabel:_e.oneOfType([_e.string,_e.func]),linkVisibility:_e.oneOfType([_e.bool,_e.string,_e.func]),linkColor:_e.oneOfType([_e.string,_e.func]),linkAutoColorBy:_e.oneOfType([_e.string,_e.func]),linkWidth:_e.oneOfType([_e.number,_e.string,_e.func]),linkCurvature:_e.oneOfType([_e.number,_e.string,_e.func]),linkDirectionalArrowLength:_e.oneOfType([_e.number,_e.string,_e.func]),linkDirectionalArrowColor:_e.oneOfType([_e.string,_e.func]),linkDirectionalArrowRelPos:_e.oneOfType([_e.number,_e.string,_e.func]),linkDirectionalParticles:_e.oneOfType([_e.number,_e.string,_e.func]),linkDirectionalParticleSpeed:_e.oneOfType([_e.number,_e.string,_e.func]),linkDirectionalParticleOffset:_e.oneOfType([_e.number,_e.string,_e.func]),linkDirectionalParticleWidth:_e.oneOfType([_e.number,_e.string,_e.func]),linkDirectionalParticleColor:_e.oneOfType([_e.string,_e.func]),onLinkHover:_e.func,onLinkClick:_e.func,dagMode:_e.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:_e.number,dagNodeFilter:_e.func,onDagError:_e.func,d3AlphaMin:_e.number,d3AlphaDecay:_e.number,d3VelocityDecay:_e.number,warmupTicks:_e.number,cooldownTicks:_e.number,cooldownTime:_e.number,onEngineTick:_e.func,onEngineStop:_e.func,getGraphBbox:_e.func},$ye={zoomToFit:_e.func,onNodeRightClick:_e.func,onNodeDrag:_e.func,onNodeDragEnd:_e.func,onLinkRightClick:_e.func,linkHoverPrecision:_e.number,onBackgroundClick:_e.func,onBackgroundRightClick:_e.func,showPointerCursor:_e.oneOfType([_e.bool,_e.func]),enablePointerInteraction:_e.bool,enableNodeDrag:_e.bool},AL={showNavInfo:_e.bool,nodeOpacity:_e.number,nodeResolution:_e.number,nodeThreeObject:_e.oneOfType([_e.object,_e.string,_e.func]),nodeThreeObjectExtend:_e.oneOfType([_e.bool,_e.string,_e.func]),nodePositionUpdate:_e.func,linkOpacity:_e.number,linkResolution:_e.number,linkCurveRotation:_e.oneOfType([_e.number,_e.string,_e.func]),linkMaterial:_e.oneOfType([_e.object,_e.string,_e.func]),linkThreeObject:_e.oneOfType([_e.object,_e.string,_e.func]),linkThreeObjectExtend:_e.oneOfType([_e.bool,_e.string,_e.func]),linkPositionUpdate:_e.func,linkDirectionalArrowResolution:_e.number,linkDirectionalParticleResolution:_e.number,linkDirectionalParticleThreeObject:_e.oneOfType([_e.object,_e.string,_e.func]),forceEngine:_e.oneOf(["d3","ngraph"]),ngraphPhysics:_e.object,numDimensions:_e.oneOf([1,2,3])},bft=Object.assign({},QE,$ye,{linkLineDash:_e.oneOfType([_e.arrayOf(_e.number),_e.string,_e.func]),nodeCanvasObjectMode:_e.oneOfType([_e.string,_e.func]),nodeCanvasObject:_e.func,nodePointerAreaPaint:_e.func,linkCanvasObjectMode:_e.oneOfType([_e.string,_e.func]),linkCanvasObject:_e.func,linkPointerAreaPaint:_e.func,linkDirectionalParticleCanvasObject:_e.func,autoPauseRedraw:_e.bool,minZoom:_e.number,maxZoom:_e.number,enableZoomInteraction:_e.oneOfType([_e.bool,_e.func]),enablePanInteraction:_e.oneOfType([_e.bool,_e.func]),onZoom:_e.func,onZoomEnd:_e.func,onRenderFramePre:_e.func,onRenderFramePost:_e.func});Object.assign({},QE,$ye,AL,{enableNavigationControls:_e.bool,controlType:_e.oneOf(["trackball","orbit","fly"]),rendererConfig:_e.object,extraRenderers:_e.arrayOf(_e.shape({render:_e.func.isRequired}))});Object.assign({},QE,AL,{nodeDesc:_e.oneOfType([_e.string,_e.func]),linkDesc:_e.oneOfType([_e.string,_e.func])});Object.assign({},QE,AL,{markerAttrs:_e.object,yOffset:_e.number,glScale:_e.number});const TL=Xct(gft,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});TL.displayName="ForceGraph2D";TL.propTypes=bft;function yft(){const[n,e]=A.useState(nh),[r,i]=A.useState(()=>localStorage.getItem("authToken")||""),[s,o]=A.useState(GC),[a,l]=A.useState(""),[c,u]=A.useState(""),[d,h]=A.useState(!1),[f,p]=A.useState([]),[m,b]=A.useState(!1),[y,v]=A.useState(!1),[w,_]=A.useState(!1),[x,k]=A.useState(""),[C,E]=A.useState(""),[T,M]=A.useState(""),[I,O]=A.useState(""),[F,$]=A.useState("list"),[z,D]=A.useState(()=>TG()),[j,N]=A.useState([]),[R,H]=A.useState(null),U=A.useRef(null),K=A.useRef(null),Y=A.useRef(0),Z=A.useRef(null),G=A.useRef(null),X=A.useRef(null),ae=A.useRef(!1),be=(We,Ae="success",W="consensus_flat")=>{const de={id:Y.current++,timestamp:Date.now(),event:We,type:Ae,eventSource:W};p(me=>[de,...me].slice(0,200))},le=A.useRef(new Set);A.useEffect(()=>{if(f.length===0)return;const We=f.filter(de=>!le.current.has(de.id));if(We.length===0)return;We.forEach(de=>le.current.add(de.id));const Ae=We.map(de=>de.event).filter(de=>"data"in de&&de.data&&typeof de.data=="object"&&"type"in de.data),W=z;Ae.length>0&&UJe(Ae,W,de=>{N(me=>{const pe=[...me,...de].filter((ue,ce,Ce)=>Ce.findIndex(Me=>Me.id===ue.id)===ce),ve=Date.now()/1e3-7200,ee=pe.filter(ue=>ue.timestamp>=ve);return ee.length>5e3?ee.slice(-5e3):ee})})},[f]),A.useEffect(()=>()=>{PG(z),G.current&&(G.current.destroy(),G.current=null),X.current&&(clearInterval(X.current),X.current=null),le.current.clear()},[]),A.useEffect(()=>(X.current=window.setInterval(()=>{RJe(z,3e4)},3e4),()=>{X.current&&(clearInterval(X.current),X.current=null)}),[]);const J=async()=>{if(!w){_(!0),be({event_type:"info",data:{id:"connection",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connecting",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info");try{const We=new URL(n);if(We.protocol!=="ws:"&&We.protocol!=="wss:")throw new Error("URL must use ws:// or wss:// protocol")}catch{be({event_type:"error",data:{id:"connection-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error"),_(!1);return}if(K.current)try{K.current.disconnect()}catch{}if(U.current)try{U.current.disconnect()}catch{}try{U.current||(U.current=new g0({url:n,authToken:r||void 0,walletAddress:void 0,deviceID:s||void 0})),K.current=new Jfe(U.current.getWebSocketClient()),K.current.onStateChange(We=>{We===Pt.Connected?(h(!0),ae.current&&(console.warn("[ExplorerTestPage] Reconnected - history may be incomplete"),ae.current=!1),be({event_type:"info",data:{id:"connection-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success")):(We===Pt.Disconnected||We===Pt.Reconnecting)&&(h(!1),b(!1),v(!1),ae.current=!0)}),U.current.isConnected()?K.current.getState()===Pt.Connected&&(h(!0),be({event_type:"info",data:{id:"connection-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success")):await U.current.connect()}catch{be({event_type:"error",data:{id:"connection-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error"),h(!1)}finally{_(!1)}}},xe=()=>{if(K.current)try{K.current.disconnect()}catch{}h(!1),b(!1),v(!1),be({event_type:"info",data:{id:"disconnected",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"disconnected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info")},ge=()=>{var Ae;if(!((Ae=K.current)!=null&&Ae.isConnected())){be({event_type:"error",data:{id:"subscription-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error");return}const We=W=>{be(W,"success","consensus_flat")};try{const W={};a&&(W.shard_id=a),c&&(W.event_type=c),K.current.subscribeConsensusFlat(We,Object.keys(W).length>0?W:void 0),b(!0),be({event_type:"info",data:{id:"subscription-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"subscribed",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success","consensus_flat")}catch{be({event_type:"error",data:{id:"subscription-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","consensus_flat")}},V=()=>{var We;if((We=K.current)!=null&&We.isConnected())try{K.current.unsubscribeConsensusFlat(),b(!1),be({event_type:"info",data:{id:"unsubscribed",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"unsubscribed",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info","consensus_flat")}catch{be({event_type:"error",data:{id:"unsubscribe-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","consensus_flat")}},we=()=>{var Ae;if(!((Ae=K.current)!=null&&Ae.isConnected())){be({event_type:"error",data:{hash:"",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions");return}const We=W=>{be(W,"success","transactions")};try{const W={};x&&(W.address=x),C&&(W.txhash=C),T&&(W.tx_types=T.split(",").map(de=>de.trim()).filter(Boolean)),I&&(W.event_types=I.split(",").map(de=>de.trim()).filter(Boolean)),a&&(W.shard_id=a),K.current.subscribeTransactions(We,Object.keys(W).length>0?W:void 0),v(!0),be({event_type:"info",data:{hash:"subscription-success",status:"subscribed"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success","transactions")}catch{be({event_type:"error",data:{hash:"subscription-error",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions")}},ze=()=>{var We;if((We=K.current)!=null&&We.isConnected())try{K.current.unsubscribeTransactions(),v(!1),be({event_type:"info",data:{hash:"unsubscribed",status:"unsubscribed"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info","transactions")}catch{be({event_type:"error",data:{hash:"unsubscribe-error",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions")}},et=()=>{p([]),N([]),PG(z),D(TG()),H(null),le.current.clear()},$e=()=>{d?xe():J()},mt=()=>{m?V():ge()},Ue=()=>{y?ze():we()};A.useEffect(()=>{if(F!=="timeline"){G.current&&(G.current.destroy(),G.current=null);return}if(!Z.current||j.length===0)return;G.current&&(G.current.destroy(),G.current=null);const We=setTimeout(()=>{if(!Z.current)return;const Ae=WJe(j),W=Array.from(new Set(Ae.map(me=>me.group||"root"))).map(me=>({id:me,content:me})),de={height:"500px",zoomable:!0,moveable:!0,selectable:!0,onSelect:me=>{me.items&&me.items.length>0&&H(me.items[0])}};G.current=new vL(Z.current,Ae,W,de)},0);return()=>{clearTimeout(We),G.current&&(G.current.destroy(),G.current=null)}},[F,j]);const[Ke,pt]=A.useState(()=>typeof window<"u"?window.innerWidth-100:800);A.useEffect(()=>{if(F!=="graph")return;const We=()=>{pt(window.innerWidth-100)};return window.addEventListener("resize",We),()=>window.removeEventListener("resize",We)},[F]);const lt=A.useMemo(()=>F!=="graph"?{nodes:[],links:[]}:qJe(j,R||void 0,5),[F,j,R]),Ye=A.useMemo(()=>R?j.find(We=>We.id===R):null,[R,j]);return g.jsxs("div",{className:"explorer-test-page",children:[g.jsxs("div",{className:"explorer-test-header",children:[g.jsx("h2",{children:"Consensus Explorer Test"}),g.jsx("p",{children:"Test the consensus_flat WebSocket channel to view flattened consensus events from Morpheum's DAG-based consensus system."})]}),g.jsx(vJe,{wsURL:n,setWsURL:e,authToken:r,setAuthToken:i,deviceID:s,setDeviceID:o,shardId:a,setShardId:l,eventType:c,setEventType:u,txAddress:x,setTxAddress:k,txHash:C,setTxHash:E,txTypes:T,setTxTypes:M,txEventTypes:I,setTxEventTypes:O}),g.jsxs("div",{className:"explorer-test-controls",children:[g.jsxs("div",{className:"control-buttons",children:[g.jsx(Hu,{onClick:$e,disabled:w,variant:d?"secondary":"primary",children:w?"Connecting...":d?"Disconnect":"Connect"}),g.jsx(Hu,{onClick:mt,disabled:!d,variant:m?"secondary":"primary",children:m?"Unsubscribe Consensus":"Subscribe Consensus"}),g.jsx(Hu,{onClick:Ue,disabled:!d,variant:y?"secondary":"primary",children:y?"Unsubscribe Transactions":"Subscribe Transactions"}),g.jsx(Hu,{onClick:et,variant:"secondary",children:"Clear Events"})]}),g.jsxs("div",{className:"connection-status",children:[g.jsx("span",{className:`status-indicator ${d?"connected":"disconnected"}`,children:d?" Connected":" Disconnected"}),m&&g.jsx("span",{className:"status-indicator subscribed",children:" Subscribed to consensus_flat"}),y&&g.jsx("span",{className:"status-indicator subscribed",children:" Subscribed to transactions"}),g.jsxs("span",{className:"event-count",children:["Events: ",f.length]}),g.jsxs("span",{className:"event-count",children:["DAG Nodes: ",j.length]})]})]}),g.jsxs("div",{className:"view-controls",children:[g.jsx(Hu,{onClick:()=>$("list"),variant:F==="list"?"primary":"secondary",children:"List View"}),g.jsx(Hu,{onClick:()=>$("timeline"),variant:F==="timeline"?"primary":"secondary",children:"Timeline View"}),g.jsxs(Hu,{onClick:()=>$("graph"),variant:F==="graph"?"primary":"secondary",disabled:j.length>100&&!R,children:["Graph View ",j.length>100&&!R?"(Select node first)":""]})]}),F==="timeline"&&g.jsxs("div",{className:"dag-timeline-container",children:[g.jsx("div",{ref:Z,style:{height:"500px",border:"1px solid var(--border)"}}),j.length===0&&g.jsx("div",{className:"empty-state",children:g.jsx("p",{children:"No DAG nodes to display. Connect and subscribe to start receiving events."})})]}),F==="graph"&&g.jsx("div",{className:"dag-graph-container",children:g.jsx(A.Suspense,{fallback:g.jsx("div",{className:"loading-state",children:"Loading graph..."}),children:lt.nodes.length>0?g.jsx(TL,{graphData:lt,nodeLabel:We=>`${We.label}
Type: ${We.type}
Shard: ${We.shardId}`,nodeColor:We=>We.type==="vertex"?"#3b82f6":We.type==="tx"?"#10b981":"#f59e0b",linkDirectionalArrowLength:6,linkDirectionalArrowRelPos:1,linkColor:()=>"rgba(255, 255, 255, 0.3)",onNodeClick:We=>H(We.id),nodeCanvasObjectMode:()=>"after",nodeCanvasObject:(We,Ae)=>{We.id===R&&(Ae.beginPath(),Ae.arc(We.x||0,We.y||0,8,0,2*Math.PI),Ae.fillStyle="#f0f63b",Ae.fill(),Ae.strokeStyle="#f0f63b",Ae.lineWidth=2,Ae.stroke())},height:500,width:Ke}):g.jsx("div",{className:"empty-state",children:g.jsx("p",{children:j.length===0?"No DAG nodes to display. Connect and subscribe to start receiving events.":j.length>100?"Graph view requires node selection for large datasets. Click a node in timeline view first.":"No graph data available."})})})}),F==="list"&&g.jsx(TJe,{events:f}),R&&Ye&&g.jsxs("div",{className:"dag-details-pane",children:[g.jsxs("h3",{children:["Node Details: ",R]}),g.jsxs("div",{className:"detail-section",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Type:"}),g.jsx("span",{className:"detail-value",children:Ye.nodeType})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(Ye.timestamp*1e3).toLocaleString()})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:Ye.shardId})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parents:"}),g.jsx("span",{className:"detail-value",children:Ye.parents.length})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Children:"}),g.jsx("span",{className:"detail-value",children:Ye.children.length})]}),g.jsxs("details",{className:"raw-data-details",children:[g.jsx("summary",{children:"View Raw Data"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(Ye.data,null,2)})]})]}),g.jsx("div",{style:{marginTop:"10px"},children:g.jsx(Hu,{onClick:()=>H(null),variant:"secondary",children:"Close Details"})})]})]})}const vft=A.createContext(void 0),fy="onboard_mnemonic",py="onboard_wallet_address",wft=({children:n})=>{const[e,r]=A.useState(null),[i,s]=A.useState(null);A.useEffect(()=>{const c=localStorage.getItem(py),u=localStorage.getItem(fy),d=localStorage.getItem("generatedAddress"),h=localStorage.getItem("mnemonic");c&&u?(r(c),s(u)):d&&h&&(r(d),s(h),localStorage.setItem(py,d),localStorage.setItem(fy,h),localStorage.removeItem("generatedAddress"),localStorage.removeItem("mnemonic"))},[]),A.useEffect(()=>{const c=u=>{u.key===py?r(u.newValue):u.key===fy&&s(u.newValue)};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[]);const o=A.useCallback((c,u)=>{r(c),s(u),localStorage.setItem(py,c),localStorage.setItem(fy,u)},[]),a=A.useCallback(()=>{r(null),s(null),localStorage.removeItem(py),localStorage.removeItem(fy)},[]),l=A.useMemo(()=>({generatedAddress:e,mnemonic:i,setGeneratedData:o,clearGeneratedData:a}),[e,i,o,a]);return g.jsx(vft.Provider,{value:l,children:n})},xft={"/":"main","/main":"main","/sdk-test":"sdk-test","/websocket-test":"websocket-test","/layout-test":"layout-test","/hooks-test":"hooks-test","/trading-test":"trading-test","/swap-test":"swap-test","/explorer-test":"explorer-test"},Kie={main:"/","sdk-test":"/sdk-test","websocket-test":"/websocket-test","layout-test":"/layout-test","hooks-test":"/hooks-test","trading-test":"/trading-test","swap-test":"/swap-test","explorer-test":"/explorer-test"};function Xie(){const n=window.location.pathname;return xft[n]||"main"}const _ft=[{id:"Id8oZS95KxQ",name:"Summer Wave"},{id:"y9PTNTSpGJs",name:"Wave Ocean"},{id:"KkX9LfqeOF4",name:"Morph Lava"},{id:"bx-0YlFprqc",name:"DAG Rev."},{id:"eCHaiEjCDFM",name:"Black Swarm 1"},{id:"Tbw3w0RA0WU",name:"Lofi Leon Skyline"},{id:"tjetD2pFK4A",name:"Lofi Sinth Skyline"},{id:"aG01KIXWrbU",name:"Lofi Doom Skyline"},{id:"ZWyv_w_cFiw",name:"Deep Cybercity Japan"},{id:"wVqeChtoY_k",name:"Synthwave"},{id:"0KgxkD1u-TI",name:"City Travel"},{id:"wyxxPTFfdi8",name:"Pearl Liquid"},{id:"ytXX67Ghies",name:"Smoke Liquid"},{id:"aYEg66Egjo0",name:"Home Hollywood"},{id:"AfSWldaT-AE",name:"Mega Hollywood"},{id:"0JQkT1FxhEc",name:"GT7 Audi RS 5 Turbo DTM"},{id:"VZyzqGgEhZc",name:"Forza Fujimi Kaido"},{id:"UYJIqBZENjU",name:"RC "},{id:"BQL-CP8d1-o",name:"RC Iron Menace"},{id:"oAJLKDMihnU",name:"RC Knoebels Amusement Park"},{id:"JggE0FYV_Ys",name:"RC  "},{id:"2GVmvtVA5p8",name:"RC Unlimited"},{id:"q-70DtTlkKU",name:"RC King Kong River"},{id:"4Uq9Hk3E7hs",name:"Ballance Twilight Zone"},{id:"WCOKSsygnxM",name:"Ballance 2004 Zone"},{id:"ZP4d40DV7K0",name:"Ballance 210522 Zone"},{id:"NfxnqErfkL8",name:"Dying Light Zone"}];function Qie(){const{wasmStatus:n,isReady:e}=Nje(),[r,i]=A.useState(Xie()),[s,o]=A.useState(!1),[a,l]=A.useState("Id8oZS95KxQ"),c=A.useRef(null),u="/s0203.mp3";A.useEffect(()=>{const p=window.location.pathname,m=Kie[r];p!==m&&window.history.replaceState({page:r},"",m)},[]),A.useEffect(()=>{const p=()=>{i(Xie())};return window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p)}},[]);const d=p=>{i(p);const m=Kie[p];window.history.pushState({page:p},"",m)};A.useEffect(()=>{const p=()=>{d("websocket-test")};return window.addEventListener("navigateToWebSocketTest",p),()=>{window.removeEventListener("navigateToWebSocketTest",p)}},[]);const h=p=>{const m=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,b=p.match(m);return b&&b[2].length===11?b[2]:p},f=()=>{o(!s)};return A.useEffect(()=>{c.current&&(s?c.current.play().catch(p=>{console.error("Error playing background music:",p)}):c.current.pause())},[s]),g.jsxs(wft,{children:[g.jsxs("div",{className:`App ${s?"video-background-enabled":""}`,children:[g.jsx("audio",{ref:c,src:u,loop:!0,preload:"auto",crossOrigin:"anonymous"}),s&&g.jsxs("div",{className:"video-background-container",children:[g.jsx("iframe",{className:"video-background",src:`https://www.youtube.com/embed/${h(a)}?autoplay=1&mute=1&loop=1&playlist=${h(a)}&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1`,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"Background Video"},a),g.jsx("div",{className:"video-background-overlay"})]}),g.jsxs("div",{className:"video-background-controls",children:[g.jsx("select",{className:"video-background-select",value:a,onChange:p=>l(p.target.value),disabled:!s,title:"Select Video Background",children:_ft.map(p=>g.jsx("option",{value:p.id,children:p.name},p.id))}),g.jsx("button",{className:"video-background-toggle",onClick:f,title:s?"Disable Video Background":"Enable Video Background",children:s?"":""})]}),g.jsxs("header",{className:"App-header",children:[g.jsx("h3",{children:"SDK, Testing, QA"}),g.jsxs("nav",{children:[g.jsx("button",{onClick:()=>d("main"),className:`nav-button ${r==="main"?"active":""}`,children:"Morm Signer"}),g.jsx("button",{onClick:()=>d("sdk-test"),className:`nav-button ${r==="sdk-test"?"active":""}`,children:"SDK Trade API"}),g.jsx("button",{onClick:()=>d("websocket-test"),className:`nav-button ${r==="websocket-test"?"active":""}`,children:"WebSocket Test"}),g.jsx("button",{onClick:()=>d("hooks-test"),className:`nav-button ${r==="hooks-test"?"active":""}`,children:"Hooks Test"}),g.jsx("button",{onClick:()=>d("layout-test"),className:`nav-button ${r==="layout-test"?"active":""}`,children:"Layout Test"}),g.jsx("button",{onClick:()=>d("trading-test"),className:`nav-button ${r==="trading-test"?"active":""}`,children:"Trading Test"}),g.jsx("button",{onClick:()=>d("swap-test"),className:`nav-button ${r==="swap-test"?"active":""}`,children:"Swap Test"}),g.jsx("button",{onClick:()=>d("explorer-test"),className:`nav-button ${r==="explorer-test"?"active":""}`,children:"Explorer Test"})]})]}),g.jsx("main",{className:"App-main",children:r==="sdk-test"?g.jsx(d9e,{}):r==="websocket-test"?g.jsx(w9e,{}):r==="layout-test"?g.jsx(Pze,{}):r==="hooks-test"?g.jsx(OVe,{}):r==="trading-test"?g.jsx(bJe,{}):r==="swap-test"?g.jsx(yJe,{}):r==="explorer-test"?g.jsx(yft,{}):g.jsxs(g.Fragment,{children:[g.jsx("h1",{children:"Morm SDK"}),g.jsx("p",{children:"Test WebAssembly integration for morm_signer with Agent Delegation"}),g.jsx(K7e,{status:n}),e&&g.jsxs("div",{className:"App-content gridarrangement",children:[g.jsx("div",{className:"App-section",children:g.jsx(H7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(V7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(G7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(Y7e,{})})]}),n.error&&g.jsxs("div",{className:"App-error",children:[g.jsx("h3",{children:"Error Loading WASM"}),g.jsx("p",{children:n.error}),g.jsx("p",{children:"Make sure the morm_signer.wasm file is available in the public directory."})]})]})})]}),g.jsx(x9e,{position:"bottom-right",toastOptions:{duration:4e3,style:{color:"var(--foreground)",border:"1px solid var(--border)"}}})]})}const kft=()=>{var n;return typeof window>"u"?!1:((n=window.ethereum)==null?void 0:n.isRainbow)===!0},Jie=kft()?c8e({appName:"Morpheum DEX",projectId:"892c8c1d9d78f8ec09adb7799d846b78",chains:[eg,f5],ssr:!1}):Iue({chains:[eg,f5],connectors:[cx({})],transports:{[eg.id]:bR(),[f5.id]:bR()}}),Zie=new xke,Sft=()=>{var n;return typeof window>"u"?!1:((n=window.ethereum)==null?void 0:n.isRainbow)===!0},Cft=PD.createRoot(document.getElementById("root")),Eft=()=>Sft()?g.jsx(Nz,{config:Jie,children:g.jsx(S$,{client:Zie,children:g.jsx(POe,{children:g.jsx(Qie,{})})})}):g.jsx(Nz,{config:Jie,children:g.jsx(S$,{client:Zie,children:g.jsx(Qie,{})})});Cft.render(g.jsx(B.StrictMode,{children:g.jsx(Eft,{})}));const Aft=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Tft=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ese=Object.freeze(Object.defineProperty({__proto__:null,default:_R},Symbol.toStringTag,{value:"Module"}));export{Je as B,Vy as H,cCe as a,$l as b,fC as c,Y2e as d,fp as e,jl as f,Nj as g,mC as i,cC as l,ai as s};
//# sourceMappingURL=index-DiYJYQVi.js.map
