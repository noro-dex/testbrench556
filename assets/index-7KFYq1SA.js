var Mxe=Object.defineProperty;var mF=n=>{throw TypeError(n)};var Oxe=(n,e,r)=>e in n?Mxe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var $e=(n,e,r)=>Oxe(n,typeof e!="symbol"?e+"":e,r),_6=(n,e,r)=>e.has(n)||mF("Cannot "+r);var ne=(n,e,r)=>(_6(n,e,"read from private field"),r?r.call(n):e.get(n)),ht=(n,e,r)=>e.has(n)?mF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r),je=(n,e,r,i)=>(_6(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Ft=(n,e,r)=>(_6(n,e,"access private method"),r);var w1=(n,e,r,i)=>({set _(s){je(n,e,s,r)},get _(){return ne(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Dxe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kse={exports:{}},X2={},Cse={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw=Symbol.for("react.element"),Rxe=Symbol.for("react.portal"),Nxe=Symbol.for("react.fragment"),jxe=Symbol.for("react.strict_mode"),Bxe=Symbol.for("react.profiler"),Lxe=Symbol.for("react.provider"),Fxe=Symbol.for("react.context"),$xe=Symbol.for("react.forward_ref"),zxe=Symbol.for("react.suspense"),Uxe=Symbol.for("react.memo"),Wxe=Symbol.for("react.lazy"),gF=Symbol.iterator;function qxe(n){return n===null||typeof n!="object"?null:(n=gF&&n[gF]||n["@@iterator"],typeof n=="function"?n:null)}var Ese={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ase=Object.assign,Tse={};function $0(n,e,r){this.props=n,this.context=e,this.refs=Tse,this.updater=r||Ese}$0.prototype.isReactComponent={};$0.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};$0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Pse(){}Pse.prototype=$0.prototype;function BN(n,e,r){this.props=n,this.context=e,this.refs=Tse,this.updater=r||Ese}var LN=BN.prototype=new Pse;LN.constructor=BN;Ase(LN,$0.prototype);LN.isPureReactComponent=!0;var bF=Array.isArray,Ise=Object.prototype.hasOwnProperty,FN={current:null},Mse={key:!0,ref:!0,__self:!0,__source:!0};function Ose(n,e,r){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Ise.call(e,i)&&!Mse.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Gw,type:n,key:o,ref:a,props:s,_owner:FN.current}}function Hxe(n,e){return{$$typeof:Gw,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function $N(n){return typeof n=="object"&&n!==null&&n.$$typeof===Gw}function Vxe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var yF=/\/+/g;function S6(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Vxe(""+n.key):e.toString(36)}function eS(n,e,r,i,s){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Gw:case Rxe:a=!0}}if(a)return a=n,s=s(a),n=i===""?"."+S6(a,0):i,bF(s)?(r="",n!=null&&(r=n.replace(yF,"$&/")+"/"),eS(s,e,r,"",function(u){return u})):s!=null&&($N(s)&&(s=Hxe(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(yF,"$&/")+"/")+n)),e.push(s)),1;if(a=0,i=i===""?".":i+":",bF(n))for(var l=0;l<n.length;l++){o=n[l];var c=i+S6(o,l);a+=eS(o,e,r,c,s)}else if(c=qxe(n),typeof c=="function")for(n=c.call(n),l=0;!(o=n.next()).done;)o=o.value,c=i+S6(o,l++),a+=eS(o,e,r,c,s);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function x1(n,e,r){if(n==null)return n;var i=[],s=0;return eS(n,i,"","",function(o){return e.call(r,o,s++)}),i}function Gxe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ys={current:null},tS={transition:null},Yxe={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:tS,ReactCurrentOwner:FN};function Dse(){throw Error("act(...) is not supported in production builds of React.")}hn.Children={map:x1,forEach:function(n,e,r){x1(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return x1(n,function(){e++}),e},toArray:function(n){return x1(n,function(e){return e})||[]},only:function(n){if(!$N(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};hn.Component=$0;hn.Fragment=Nxe;hn.Profiler=Bxe;hn.PureComponent=BN;hn.StrictMode=jxe;hn.Suspense=zxe;hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yxe;hn.act=Dse;hn.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Ase({},n.props),s=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=FN.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)Ise.call(e,c)&&!Mse.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Gw,type:n.type,key:s,ref:o,props:i,_owner:a}};hn.createContext=function(n){return n={$$typeof:Fxe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Lxe,_context:n},n.Consumer=n};hn.createElement=Ose;hn.createFactory=function(n){var e=Ose.bind(null,n);return e.type=n,e};hn.createRef=function(){return{current:null}};hn.forwardRef=function(n){return{$$typeof:$xe,render:n}};hn.isValidElement=$N;hn.lazy=function(n){return{$$typeof:Wxe,_payload:{_status:-1,_result:n},_init:Gxe}};hn.memo=function(n,e){return{$$typeof:Uxe,type:n,compare:e===void 0?null:e}};hn.startTransition=function(n){var e=tS.transition;tS.transition={};try{n()}finally{tS.transition=e}};hn.unstable_act=Dse;hn.useCallback=function(n,e){return ys.current.useCallback(n,e)};hn.useContext=function(n){return ys.current.useContext(n)};hn.useDebugValue=function(){};hn.useDeferredValue=function(n){return ys.current.useDeferredValue(n)};hn.useEffect=function(n,e){return ys.current.useEffect(n,e)};hn.useId=function(){return ys.current.useId()};hn.useImperativeHandle=function(n,e,r){return ys.current.useImperativeHandle(n,e,r)};hn.useInsertionEffect=function(n,e){return ys.current.useInsertionEffect(n,e)};hn.useLayoutEffect=function(n,e){return ys.current.useLayoutEffect(n,e)};hn.useMemo=function(n,e){return ys.current.useMemo(n,e)};hn.useReducer=function(n,e,r){return ys.current.useReducer(n,e,r)};hn.useRef=function(n){return ys.current.useRef(n)};hn.useState=function(n){return ys.current.useState(n)};hn.useSyncExternalStore=function(n,e,r){return ys.current.useSyncExternalStore(n,e,r)};hn.useTransition=function(){return ys.current.useTransition()};hn.version="18.3.1";Cse.exports=hn;var T=Cse.exports;const B=K2(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kxe=T,Xxe=Symbol.for("react.element"),Qxe=Symbol.for("react.fragment"),Jxe=Object.prototype.hasOwnProperty,Zxe=Kxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e1e={key:!0,ref:!0,__self:!0,__source:!0};function Rse(n,e,r){var i,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)Jxe.call(e,i)&&!e1e.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:Xxe,type:n,key:o,ref:a,props:s,_owner:Zxe.current}}X2.Fragment=Qxe;X2.jsx=Rse;X2.jsxs=Rse;kse.exports=X2;var g=kse.exports,LD={},Nse={exports:{}},Co={},jse={exports:{}},Bse={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,H){var U=D.length;D.push(H);e:for(;0<U;){var X=U-1>>>1,Y=D[X];if(0<s(Y,H))D[X]=H,D[U]=Y,U=X;else break e}}function r(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var H=D[0],U=D.pop();if(U!==H){D[0]=U;e:for(var X=0,Y=D.length,ee=Y>>>1;X<ee;){var G=2*(X+1)-1,Z=D[G],pe=G+1,re=D[pe];if(0>s(Z,U))pe<Y&&0>s(re,Z)?(D[X]=re,D[pe]=U,X=pe):(D[X]=Z,D[G]=U,X=G);else if(pe<Y&&0>s(re,U))D[X]=re,D[pe]=U,X=pe;else break e}}return H}function s(D,H){var U=D.sortIndex-H.sortIndex;return U!==0?U:D.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var H=r(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=D)i(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(u)}}function x(D){if(b=!1,_(D),!m)if(r(c)!==null)m=!0,j(S);else{var H=r(u);H!==null&&N(x,H.startTime-D)}}function S(D,H){m=!1,b&&(b=!1,v(A),A=-1),p=!0;var U=f;try{for(_(H),h=r(c);h!==null&&(!(h.expirationTime>H)||D&&!O());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var Y=X(h.expirationTime<=H);H=n.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(c)&&i(c),_(H)}else i(c);h=r(c)}if(h!==null)var ee=!0;else{var G=r(u);G!==null&&N(x,G.startTime-H),ee=!1}return ee}finally{h=null,f=U,p=!1}}var C=!1,E=null,A=-1,M=5,I=-1;function O(){return!(n.unstable_now()-I<M)}function F(){if(E!==null){var D=n.unstable_now();I=D;var H=!0;try{H=E(!0,D)}finally{H?$():(C=!1,E=null)}}else C=!1}var $;if(typeof w=="function")$=function(){w(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,R=z.port2;z.port1.onmessage=F,$=function(){R.postMessage(null)}}else $=function(){y(F,0)};function j(D){E=D,C||(C=!0,$())}function N(D,H){A=y(function(){D(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,j(S))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return D()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=f;f=D;try{return H()}finally{f=U}},n.unstable_scheduleCallback=function(D,H,U){var X=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,D={id:d++,callback:H,priorityLevel:D,startTime:U,expirationTime:Y,sortIndex:-1},U>X?(D.sortIndex=U,e(u,D),r(c)===null&&D===r(u)&&(b?(v(A),A=-1):b=!0,N(x,U-X))):(D.sortIndex=Y,e(c,D),m||p||(m=!0,j(S))),D},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(D){var H=f;return function(){var U=f;f=H;try{return D.apply(this,arguments)}finally{f=U}}}})(Bse);jse.exports=Bse;var t1e=jse.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1e=T,wo=t1e;function lt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lse=new Set,bv={};function mp(n,e){Gg(n,e),Gg(n+"Capture",e)}function Gg(n,e){for(bv[n]=e,n=0;n<e.length;n++)Lse.add(e[n])}var lu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FD=Object.prototype.hasOwnProperty,r1e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vF={},wF={};function i1e(n){return FD.call(wF,n)?!0:FD.call(vF,n)?!1:r1e.test(n)?wF[n]=!0:(vF[n]=!0,!1)}function s1e(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function o1e(n,e,r,i){if(e===null||typeof e>"u"||s1e(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vs(n,e,r,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ii[n]=new vs(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ii[e]=new vs(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ii[n]=new vs(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ii[n]=new vs(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ii[n]=new vs(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ii[n]=new vs(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ii[n]=new vs(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ii[n]=new vs(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ii[n]=new vs(n,5,!1,n.toLowerCase(),null,!1,!1)});var zN=/[\-:]([a-z])/g;function UN(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(zN,UN);Ii[e]=new vs(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(zN,UN);Ii[e]=new vs(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(zN,UN);Ii[e]=new vs(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ii[n]=new vs(n,1,!1,n.toLowerCase(),null,!1,!1)});Ii.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ii[n]=new vs(n,1,!1,n.toLowerCase(),null,!0,!0)});function WN(n,e,r,i){var s=Ii.hasOwnProperty(e)?Ii[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(o1e(e,r,s,i)&&(r=null),i||s===null?i1e(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):s.mustUseProperty?n[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,i=s.attributeNamespace,r===null?n.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var wu=n1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_1=Symbol.for("react.element"),_m=Symbol.for("react.portal"),Sm=Symbol.for("react.fragment"),qN=Symbol.for("react.strict_mode"),$D=Symbol.for("react.profiler"),Fse=Symbol.for("react.provider"),$se=Symbol.for("react.context"),HN=Symbol.for("react.forward_ref"),zD=Symbol.for("react.suspense"),UD=Symbol.for("react.suspense_list"),VN=Symbol.for("react.memo"),sd=Symbol.for("react.lazy"),zse=Symbol.for("react.offscreen"),xF=Symbol.iterator;function Cb(n){return n===null||typeof n!="object"?null:(n=xF&&n[xF]||n["@@iterator"],typeof n=="function"?n:null)}var gr=Object.assign,k6;function yy(n){if(k6===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);k6=e&&e[1]||""}return`
`+k6+n}var C6=!1;function E6(n,e){if(!n||C6)return"";C6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=l);break}}}finally{C6=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?yy(n):""}function a1e(n){switch(n.tag){case 5:return yy(n.type);case 16:return yy("Lazy");case 13:return yy("Suspense");case 19:return yy("SuspenseList");case 0:case 2:case 15:return n=E6(n.type,!1),n;case 11:return n=E6(n.type.render,!1),n;case 1:return n=E6(n.type,!0),n;default:return""}}function WD(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Sm:return"Fragment";case _m:return"Portal";case $D:return"Profiler";case qN:return"StrictMode";case zD:return"Suspense";case UD:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $se:return(n.displayName||"Context")+".Consumer";case Fse:return(n._context.displayName||"Context")+".Provider";case HN:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case VN:return e=n.displayName||null,e!==null?e:WD(n.type)||"Memo";case sd:e=n._payload,n=n._init;try{return WD(n(e))}catch{}}return null}function l1e(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WD(e);case 8:return e===qN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yd(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Use(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function c1e(n){var e=Use(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function S1(n){n._valueTracker||(n._valueTracker=c1e(n))}function Wse(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=Use(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function HS(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function qD(n,e){var r=e.checked;return gr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function _F(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Yd(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qse(n,e){e=e.checked,e!=null&&WN(n,"checked",e,!1)}function HD(n,e){qse(n,e);var r=Yd(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?VD(n,e.type,r):e.hasOwnProperty("defaultValue")&&VD(n,e.type,Yd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function SF(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function VD(n,e,r){(e!=="number"||HS(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var vy=Array.isArray;function Gm(n,e,r,i){if(n=n.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<n.length;r++)s=e.hasOwnProperty("$"+n[r].value),n[r].selected!==s&&(n[r].selected=s),s&&i&&(n[r].defaultSelected=!0)}else{for(r=""+Yd(r),e=null,s=0;s<n.length;s++){if(n[s].value===r){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function GD(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(lt(91));return gr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function kF(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(lt(92));if(vy(r)){if(1<r.length)throw Error(lt(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:Yd(r)}}function Hse(n,e){var r=Yd(e.value),i=Yd(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function CF(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Vse(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YD(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Vse(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var k1,Gse=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(k1=k1||document.createElement("div"),k1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=k1.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function yv(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var $y={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u1e=["Webkit","ms","Moz","O"];Object.keys($y).forEach(function(n){u1e.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$y[e]=$y[n]})});function Yse(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$y.hasOwnProperty(n)&&$y[n]?(""+e).trim():e+"px"}function Kse(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Yse(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var d1e=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function KD(n,e){if(e){if(d1e[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(lt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(lt(62))}}function XD(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QD=null;function GN(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var JD=null,Ym=null,Km=null;function EF(n){if(n=Xw(n)){if(typeof JD!="function")throw Error(lt(280));var e=n.stateNode;e&&(e=tC(e),JD(n.stateNode,n.type,e))}}function Xse(n){Ym?Km?Km.push(n):Km=[n]:Ym=n}function Qse(){if(Ym){var n=Ym,e=Km;if(Km=Ym=null,EF(n),e)for(n=0;n<e.length;n++)EF(e[n])}}function Jse(n,e){return n(e)}function Zse(){}var A6=!1;function eoe(n,e,r){if(A6)return n(e,r);A6=!0;try{return Jse(n,e,r)}finally{A6=!1,(Ym!==null||Km!==null)&&(Zse(),Qse())}}function vv(n,e){var r=n.stateNode;if(r===null)return null;var i=tC(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(lt(231,e,typeof r));return r}var ZD=!1;if(lu)try{var Eb={};Object.defineProperty(Eb,"passive",{get:function(){ZD=!0}}),window.addEventListener("test",Eb,Eb),window.removeEventListener("test",Eb,Eb)}catch{ZD=!1}function h1e(n,e,r,i,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var zy=!1,VS=null,GS=!1,e8=null,f1e={onError:function(n){zy=!0,VS=n}};function p1e(n,e,r,i,s,o,a,l,c){zy=!1,VS=null,h1e.apply(f1e,arguments)}function m1e(n,e,r,i,s,o,a,l,c){if(p1e.apply(this,arguments),zy){if(zy){var u=VS;zy=!1,VS=null}else throw Error(lt(198));GS||(GS=!0,e8=u)}}function gp(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function toe(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function AF(n){if(gp(n)!==n)throw Error(lt(188))}function g1e(n){var e=n.alternate;if(!e){if(e=gp(n),e===null)throw Error(lt(188));return e!==n?null:n}for(var r=n,i=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return AF(s),n;if(o===i)return AF(s),e;o=o.sibling}throw Error(lt(188))}if(r.return!==i.return)r=s,i=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,i=o;break}if(l===i){a=!0,i=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,i=s;break}if(l===i){a=!0,i=o,r=s;break}l=l.sibling}if(!a)throw Error(lt(189))}}if(r.alternate!==i)throw Error(lt(190))}if(r.tag!==3)throw Error(lt(188));return r.stateNode.current===r?n:e}function noe(n){return n=g1e(n),n!==null?roe(n):null}function roe(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=roe(n);if(e!==null)return e;n=n.sibling}return null}var ioe=wo.unstable_scheduleCallback,TF=wo.unstable_cancelCallback,b1e=wo.unstable_shouldYield,y1e=wo.unstable_requestPaint,Or=wo.unstable_now,v1e=wo.unstable_getCurrentPriorityLevel,YN=wo.unstable_ImmediatePriority,soe=wo.unstable_UserBlockingPriority,YS=wo.unstable_NormalPriority,w1e=wo.unstable_LowPriority,ooe=wo.unstable_IdlePriority,Q2=null,Nl=null;function x1e(n){if(Nl&&typeof Nl.onCommitFiberRoot=="function")try{Nl.onCommitFiberRoot(Q2,n,void 0,(n.current.flags&128)===128)}catch{}}var ja=Math.clz32?Math.clz32:k1e,_1e=Math.log,S1e=Math.LN2;function k1e(n){return n>>>=0,n===0?32:31-(_1e(n)/S1e|0)|0}var C1=64,E1=4194304;function wy(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function KS(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,s=n.suspendedLanes,o=n.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?i=wy(l):(o&=a,o!==0&&(i=wy(o)))}else a=r&~s,a!==0?i=wy(a):o!==0&&(i=wy(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-ja(e),s=1<<r,i|=n[r],e&=~s;return i}function C1e(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E1e(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-ja(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&i)&&(s[a]=C1e(l,e)):c<=e&&(n.expiredLanes|=l),o&=~l}}function t8(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function aoe(){var n=C1;return C1<<=1,!(C1&4194240)&&(C1=64),n}function T6(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function Yw(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ja(e),n[e]=r}function A1e(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var s=31-ja(r),o=1<<s;e[s]=0,i[s]=-1,n[s]=-1,r&=~o}}function KN(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-ja(r),s=1<<i;s&e|n[i]&e&&(n[i]|=e),r&=~s}}var Dn=0;function loe(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var coe,XN,uoe,doe,hoe,n8=!1,A1=[],Od=null,Dd=null,Rd=null,wv=new Map,xv=new Map,cd=[],T1e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PF(n,e){switch(n){case"focusin":case"focusout":Od=null;break;case"dragenter":case"dragleave":Dd=null;break;case"mouseover":case"mouseout":Rd=null;break;case"pointerover":case"pointerout":wv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xv.delete(e.pointerId)}}function Ab(n,e,r,i,s,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Xw(e),e!==null&&XN(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function P1e(n,e,r,i,s){switch(e){case"focusin":return Od=Ab(Od,n,e,r,i,s),!0;case"dragenter":return Dd=Ab(Dd,n,e,r,i,s),!0;case"mouseover":return Rd=Ab(Rd,n,e,r,i,s),!0;case"pointerover":var o=s.pointerId;return wv.set(o,Ab(wv.get(o)||null,n,e,r,i,s)),!0;case"gotpointercapture":return o=s.pointerId,xv.set(o,Ab(xv.get(o)||null,n,e,r,i,s)),!0}return!1}function foe(n){var e=Xh(n.target);if(e!==null){var r=gp(e);if(r!==null){if(e=r.tag,e===13){if(e=toe(r),e!==null){n.blockedOn=e,hoe(n.priority,function(){uoe(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nS(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=r8(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);QD=i,r.target.dispatchEvent(i),QD=null}else return e=Xw(r),e!==null&&XN(e),n.blockedOn=r,!1;e.shift()}return!0}function IF(n,e,r){nS(n)&&r.delete(e)}function I1e(){n8=!1,Od!==null&&nS(Od)&&(Od=null),Dd!==null&&nS(Dd)&&(Dd=null),Rd!==null&&nS(Rd)&&(Rd=null),wv.forEach(IF),xv.forEach(IF)}function Tb(n,e){n.blockedOn===e&&(n.blockedOn=null,n8||(n8=!0,wo.unstable_scheduleCallback(wo.unstable_NormalPriority,I1e)))}function _v(n){function e(s){return Tb(s,n)}if(0<A1.length){Tb(A1[0],n);for(var r=1;r<A1.length;r++){var i=A1[r];i.blockedOn===n&&(i.blockedOn=null)}}for(Od!==null&&Tb(Od,n),Dd!==null&&Tb(Dd,n),Rd!==null&&Tb(Rd,n),wv.forEach(e),xv.forEach(e),r=0;r<cd.length;r++)i=cd[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<cd.length&&(r=cd[0],r.blockedOn===null);)foe(r),r.blockedOn===null&&cd.shift()}var Xm=wu.ReactCurrentBatchConfig,XS=!0;function M1e(n,e,r,i){var s=Dn,o=Xm.transition;Xm.transition=null;try{Dn=1,QN(n,e,r,i)}finally{Dn=s,Xm.transition=o}}function O1e(n,e,r,i){var s=Dn,o=Xm.transition;Xm.transition=null;try{Dn=4,QN(n,e,r,i)}finally{Dn=s,Xm.transition=o}}function QN(n,e,r,i){if(XS){var s=r8(n,e,r,i);if(s===null)L6(n,e,i,QS,r),PF(n,i);else if(P1e(s,n,e,r,i))i.stopPropagation();else if(PF(n,i),e&4&&-1<T1e.indexOf(n)){for(;s!==null;){var o=Xw(s);if(o!==null&&coe(o),o=r8(n,e,r,i),o===null&&L6(n,e,i,QS,r),o===s)break;s=o}s!==null&&i.stopPropagation()}else L6(n,e,i,null,r)}}var QS=null;function r8(n,e,r,i){if(QS=null,n=GN(i),n=Xh(n),n!==null)if(e=gp(n),e===null)n=null;else if(r=e.tag,r===13){if(n=toe(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return QS=n,null}function poe(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v1e()){case YN:return 1;case soe:return 4;case YS:case w1e:return 16;case ooe:return 536870912;default:return 16}default:return 16}}var Cd=null,JN=null,rS=null;function moe(){if(rS)return rS;var n,e=JN,r=e.length,i,s="value"in Cd?Cd.value:Cd.textContent,o=s.length;for(n=0;n<r&&e[n]===s[n];n++);var a=r-n;for(i=1;i<=a&&e[r-i]===s[o-i];i++);return rS=s.slice(n,1<i?1-i:void 0)}function iS(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function T1(){return!0}function MF(){return!1}function Eo(n){function e(r,i,s,o,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(r=n[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?T1:MF,this.isPropagationStopped=MF,this}return gr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=T1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=T1)},persist:function(){},isPersistent:T1}),e}var z0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZN=Eo(z0),Kw=gr({},z0,{view:0,detail:0}),D1e=Eo(Kw),P6,I6,Pb,J2=gr({},Kw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ej,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pb&&(Pb&&n.type==="mousemove"?(P6=n.screenX-Pb.screenX,I6=n.screenY-Pb.screenY):I6=P6=0,Pb=n),P6)},movementY:function(n){return"movementY"in n?n.movementY:I6}}),OF=Eo(J2),R1e=gr({},J2,{dataTransfer:0}),N1e=Eo(R1e),j1e=gr({},Kw,{relatedTarget:0}),M6=Eo(j1e),B1e=gr({},z0,{animationName:0,elapsedTime:0,pseudoElement:0}),L1e=Eo(B1e),F1e=gr({},z0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$1e=Eo(F1e),z1e=gr({},z0,{data:0}),DF=Eo(z1e),U1e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W1e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q1e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H1e(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=q1e[n])?!!e[n]:!1}function ej(){return H1e}var V1e=gr({},Kw,{key:function(n){if(n.key){var e=U1e[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=iS(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?W1e[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ej,charCode:function(n){return n.type==="keypress"?iS(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?iS(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),G1e=Eo(V1e),Y1e=gr({},J2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RF=Eo(Y1e),K1e=gr({},Kw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ej}),X1e=Eo(K1e),Q1e=gr({},z0,{propertyName:0,elapsedTime:0,pseudoElement:0}),J1e=Eo(Q1e),Z1e=gr({},J2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),e_e=Eo(Z1e),t_e=[9,13,27,32],tj=lu&&"CompositionEvent"in window,Uy=null;lu&&"documentMode"in document&&(Uy=document.documentMode);var n_e=lu&&"TextEvent"in window&&!Uy,goe=lu&&(!tj||Uy&&8<Uy&&11>=Uy),NF=" ",jF=!1;function boe(n,e){switch(n){case"keyup":return t_e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yoe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var km=!1;function r_e(n,e){switch(n){case"compositionend":return yoe(e);case"keypress":return e.which!==32?null:(jF=!0,NF);case"textInput":return n=e.data,n===NF&&jF?null:n;default:return null}}function i_e(n,e){if(km)return n==="compositionend"||!tj&&boe(n,e)?(n=moe(),rS=JN=Cd=null,km=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return goe&&e.locale!=="ko"?null:e.data;default:return null}}var s_e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BF(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!s_e[n.type]:e==="textarea"}function voe(n,e,r,i){Xse(i),e=JS(e,"onChange"),0<e.length&&(r=new ZN("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var Wy=null,Sv=null;function o_e(n){Ioe(n,0)}function Z2(n){var e=Am(n);if(Wse(e))return n}function a_e(n,e){if(n==="change")return e}var woe=!1;if(lu){var O6;if(lu){var D6="oninput"in document;if(!D6){var LF=document.createElement("div");LF.setAttribute("oninput","return;"),D6=typeof LF.oninput=="function"}O6=D6}else O6=!1;woe=O6&&(!document.documentMode||9<document.documentMode)}function FF(){Wy&&(Wy.detachEvent("onpropertychange",xoe),Sv=Wy=null)}function xoe(n){if(n.propertyName==="value"&&Z2(Sv)){var e=[];voe(e,Sv,n,GN(n)),eoe(o_e,e)}}function l_e(n,e,r){n==="focusin"?(FF(),Wy=e,Sv=r,Wy.attachEvent("onpropertychange",xoe)):n==="focusout"&&FF()}function c_e(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Z2(Sv)}function u_e(n,e){if(n==="click")return Z2(e)}function d_e(n,e){if(n==="input"||n==="change")return Z2(e)}function h_e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var za=typeof Object.is=="function"?Object.is:h_e;function kv(n,e){if(za(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!FD.call(e,s)||!za(n[s],e[s]))return!1}return!0}function $F(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zF(n,e){var r=$F(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$F(r)}}function _oe(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?_oe(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Soe(){for(var n=window,e=HS();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=HS(n.document)}return e}function nj(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function f_e(n){var e=Soe(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&_oe(r.ownerDocument.documentElement,r)){if(i!==null&&nj(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=r.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!n.extend&&o>i&&(s=i,i=o,o=s),s=zF(r,o);var a=zF(r,i);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var p_e=lu&&"documentMode"in document&&11>=document.documentMode,Cm=null,i8=null,qy=null,s8=!1;function UF(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;s8||Cm==null||Cm!==HS(i)||(i=Cm,"selectionStart"in i&&nj(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qy&&kv(qy,i)||(qy=i,i=JS(i8,"onSelect"),0<i.length&&(e=new ZN("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=Cm)))}function P1(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var Em={animationend:P1("Animation","AnimationEnd"),animationiteration:P1("Animation","AnimationIteration"),animationstart:P1("Animation","AnimationStart"),transitionend:P1("Transition","TransitionEnd")},R6={},koe={};lu&&(koe=document.createElement("div").style,"AnimationEvent"in window||(delete Em.animationend.animation,delete Em.animationiteration.animation,delete Em.animationstart.animation),"TransitionEvent"in window||delete Em.transitionend.transition);function eC(n){if(R6[n])return R6[n];if(!Em[n])return n;var e=Em[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in koe)return R6[n]=e[r];return n}var Coe=eC("animationend"),Eoe=eC("animationiteration"),Aoe=eC("animationstart"),Toe=eC("transitionend"),Poe=new Map,WF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ih(n,e){Poe.set(n,e),mp(e,[n])}for(var N6=0;N6<WF.length;N6++){var j6=WF[N6],m_e=j6.toLowerCase(),g_e=j6[0].toUpperCase()+j6.slice(1);ih(m_e,"on"+g_e)}ih(Coe,"onAnimationEnd");ih(Eoe,"onAnimationIteration");ih(Aoe,"onAnimationStart");ih("dblclick","onDoubleClick");ih("focusin","onFocus");ih("focusout","onBlur");ih(Toe,"onTransitionEnd");Gg("onMouseEnter",["mouseout","mouseover"]);Gg("onMouseLeave",["mouseout","mouseover"]);Gg("onPointerEnter",["pointerout","pointerover"]);Gg("onPointerLeave",["pointerout","pointerover"]);mp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mp("onBeforeInput",["compositionend","keypress","textInput","paste"]);mp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b_e=new Set("cancel close invalid load scroll toggle".split(" ").concat(xy));function qF(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,m1e(i,e,void 0,n),n.currentTarget=null}function Ioe(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;qF(s,l,u),o=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;qF(s,l,u),o=c}}}if(GS)throw n=e8,GS=!1,e8=null,n}function Zn(n,e){var r=e[u8];r===void 0&&(r=e[u8]=new Set);var i=n+"__bubble";r.has(i)||(Moe(e,n,2,!1),r.add(i))}function B6(n,e,r){var i=0;e&&(i|=4),Moe(r,n,i,e)}var I1="_reactListening"+Math.random().toString(36).slice(2);function Cv(n){if(!n[I1]){n[I1]=!0,Lse.forEach(function(r){r!=="selectionchange"&&(b_e.has(r)||B6(r,!1,n),B6(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[I1]||(e[I1]=!0,B6("selectionchange",!1,e))}}function Moe(n,e,r,i){switch(poe(e)){case 1:var s=M1e;break;case 4:s=O1e;break;default:s=QN}r=s.bind(null,e,r,n),s=void 0,!ZD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,r,{capture:!0,passive:s}):n.addEventListener(e,r,!0):s!==void 0?n.addEventListener(e,r,{passive:s}):n.addEventListener(e,r,!1)}function L6(n,e,r,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Xh(l),a===null)return;if(c=a.tag,c===5||c===6){i=o=a;continue e}l=l.parentNode}}i=i.return}eoe(function(){var u=o,d=GN(r),h=[];e:{var f=Poe.get(n);if(f!==void 0){var p=ZN,m=n;switch(n){case"keypress":if(iS(r)===0)break e;case"keydown":case"keyup":p=G1e;break;case"focusin":m="focus",p=M6;break;case"focusout":m="blur",p=M6;break;case"beforeblur":case"afterblur":p=M6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=OF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=N1e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=X1e;break;case Coe:case Eoe:case Aoe:p=L1e;break;case Toe:p=J1e;break;case"scroll":p=D1e;break;case"wheel":p=e_e;break;case"copy":case"cut":case"paste":p=$1e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=RF}var b=(e&4)!==0,y=!b&&n==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var w=u,_;w!==null;){_=w;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=vv(w,v),x!=null&&b.push(Ev(w,x,_)))),y)break;w=w.return}0<b.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&r!==QD&&(m=r.relatedTarget||r.fromElement)&&(Xh(m)||m[cu]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Xh(m):null,m!==null&&(y=gp(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(b=OF,x="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(b=RF,x="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?f:Am(p),_=m==null?f:Am(m),f=new b(x,w+"leave",p,r,d),f.target=y,f.relatedTarget=_,x=null,Xh(d)===u&&(b=new b(v,w+"enter",m,r,d),b.target=_,b.relatedTarget=y,x=b),y=x,p&&m)t:{for(b=p,v=m,w=0,_=b;_;_=Kp(_))w++;for(_=0,x=v;x;x=Kp(x))_++;for(;0<w-_;)b=Kp(b),w--;for(;0<_-w;)v=Kp(v),_--;for(;w--;){if(b===v||v!==null&&b===v.alternate)break t;b=Kp(b),v=Kp(v)}b=null}else b=null;p!==null&&HF(h,f,p,b,!1),m!==null&&y!==null&&HF(h,y,m,b,!0)}}e:{if(f=u?Am(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=a_e;else if(BF(f))if(woe)S=d_e;else{S=c_e;var C=l_e}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=u_e);if(S&&(S=S(n,u))){voe(h,S,r,d);break e}C&&C(n,f,u),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&VD(f,"number",f.value)}switch(C=u?Am(u):window,n){case"focusin":(BF(C)||C.contentEditable==="true")&&(Cm=C,i8=u,qy=null);break;case"focusout":qy=i8=Cm=null;break;case"mousedown":s8=!0;break;case"contextmenu":case"mouseup":case"dragend":s8=!1,UF(h,r,d);break;case"selectionchange":if(p_e)break;case"keydown":case"keyup":UF(h,r,d)}var E;if(tj)e:{switch(n){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else km?boe(n,r)&&(A="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(goe&&r.locale!=="ko"&&(km||A!=="onCompositionStart"?A==="onCompositionEnd"&&km&&(E=moe()):(Cd=d,JN="value"in Cd?Cd.value:Cd.textContent,km=!0)),C=JS(u,A),0<C.length&&(A=new DF(A,n,null,r,d),h.push({event:A,listeners:C}),E?A.data=E:(E=yoe(r),E!==null&&(A.data=E)))),(E=n_e?r_e(n,r):i_e(n,r))&&(u=JS(u,"onBeforeInput"),0<u.length&&(d=new DF("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}Ioe(h,e)})}function Ev(n,e,r){return{instance:n,listener:e,currentTarget:r}}function JS(n,e){for(var r=e+"Capture",i=[];n!==null;){var s=n,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=vv(n,r),o!=null&&i.unshift(Ev(n,o,s)),o=vv(n,e),o!=null&&i.push(Ev(n,o,s))),n=n.return}return i}function Kp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function HF(n,e,r,i,s){for(var o=e._reactName,a=[];r!==null&&r!==i;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,s?(c=vv(r,o),c!=null&&a.unshift(Ev(r,c,l))):s||(c=vv(r,o),c!=null&&a.push(Ev(r,c,l)))),r=r.return}a.length!==0&&n.push({event:e,listeners:a})}var y_e=/\r\n?/g,v_e=/\u0000|\uFFFD/g;function VF(n){return(typeof n=="string"?n:""+n).replace(y_e,`
`).replace(v_e,"")}function M1(n,e,r){if(e=VF(e),VF(n)!==e&&r)throw Error(lt(425))}function ZS(){}var o8=null,a8=null;function l8(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c8=typeof setTimeout=="function"?setTimeout:void 0,w_e=typeof clearTimeout=="function"?clearTimeout:void 0,GF=typeof Promise=="function"?Promise:void 0,x_e=typeof queueMicrotask=="function"?queueMicrotask:typeof GF<"u"?function(n){return GF.resolve(null).then(n).catch(__e)}:c8;function __e(n){setTimeout(function(){throw n})}function F6(n,e){var r=e,i=0;do{var s=r.nextSibling;if(n.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){n.removeChild(s),_v(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);_v(e)}function Nd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function YF(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var U0=Math.random().toString(36).slice(2),Al="__reactFiber$"+U0,Av="__reactProps$"+U0,cu="__reactContainer$"+U0,u8="__reactEvents$"+U0,S_e="__reactListeners$"+U0,k_e="__reactHandles$"+U0;function Xh(n){var e=n[Al];if(e)return e;for(var r=n.parentNode;r;){if(e=r[cu]||r[Al]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=YF(n);n!==null;){if(r=n[Al])return r;n=YF(n)}return e}n=r,r=n.parentNode}return null}function Xw(n){return n=n[Al]||n[cu],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Am(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(lt(33))}function tC(n){return n[Av]||null}var d8=[],Tm=-1;function sh(n){return{current:n}}function tr(n){0>Tm||(n.current=d8[Tm],d8[Tm]=null,Tm--)}function Kn(n,e){Tm++,d8[Tm]=n.current,n.current=e}var Kd={},Vi=sh(Kd),Bs=sh(!1),Ff=Kd;function Yg(n,e){var r=n.type.contextTypes;if(!r)return Kd;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Ls(n){return n=n.childContextTypes,n!=null}function ek(){tr(Bs),tr(Vi)}function KF(n,e,r){if(Vi.current!==Kd)throw Error(lt(168));Kn(Vi,e),Kn(Bs,r)}function Ooe(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(lt(108,l1e(n)||"Unknown",s));return gr({},r,i)}function tk(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Kd,Ff=Vi.current,Kn(Vi,n),Kn(Bs,Bs.current),!0}function XF(n,e,r){var i=n.stateNode;if(!i)throw Error(lt(169));r?(n=Ooe(n,e,Ff),i.__reactInternalMemoizedMergedChildContext=n,tr(Bs),tr(Vi),Kn(Vi,n)):tr(Bs),Kn(Bs,r)}var Cc=null,nC=!1,$6=!1;function Doe(n){Cc===null?Cc=[n]:Cc.push(n)}function C_e(n){nC=!0,Doe(n)}function oh(){if(!$6&&Cc!==null){$6=!0;var n=0,e=Dn;try{var r=Cc;for(Dn=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}Cc=null,nC=!1}catch(s){throw Cc!==null&&(Cc=Cc.slice(n+1)),ioe(YN,oh),s}finally{Dn=e,$6=!1}}return null}var Pm=[],Im=0,nk=null,rk=0,Xo=[],Qo=0,$f=null,zc=1,Uc="";function jh(n,e){Pm[Im++]=rk,Pm[Im++]=nk,nk=n,rk=e}function Roe(n,e,r){Xo[Qo++]=zc,Xo[Qo++]=Uc,Xo[Qo++]=$f,$f=n;var i=zc;n=Uc;var s=32-ja(i)-1;i&=~(1<<s),r+=1;var o=32-ja(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,zc=1<<32-ja(e)+s|r<<s|i,Uc=o+n}else zc=1<<o|r<<s|i,Uc=n}function rj(n){n.return!==null&&(jh(n,1),Roe(n,1,0))}function ij(n){for(;n===nk;)nk=Pm[--Im],Pm[Im]=null,rk=Pm[--Im],Pm[Im]=null;for(;n===$f;)$f=Xo[--Qo],Xo[Qo]=null,Uc=Xo[--Qo],Xo[Qo]=null,zc=Xo[--Qo],Xo[Qo]=null}var po=null,fo=null,cr=!1,Ia=null;function Noe(n,e){var r=ea(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function QF(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,po=n,fo=Nd(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,po=n,fo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$f!==null?{id:zc,overflow:Uc}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ea(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,po=n,fo=null,!0):!1;default:return!1}}function h8(n){return(n.mode&1)!==0&&(n.flags&128)===0}function f8(n){if(cr){var e=fo;if(e){var r=e;if(!QF(n,e)){if(h8(n))throw Error(lt(418));e=Nd(r.nextSibling);var i=po;e&&QF(n,e)?Noe(i,r):(n.flags=n.flags&-4097|2,cr=!1,po=n)}}else{if(h8(n))throw Error(lt(418));n.flags=n.flags&-4097|2,cr=!1,po=n}}}function JF(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;po=n}function O1(n){if(n!==po)return!1;if(!cr)return JF(n),cr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!l8(n.type,n.memoizedProps)),e&&(e=fo)){if(h8(n))throw joe(),Error(lt(418));for(;e;)Noe(n,e),e=Nd(e.nextSibling)}if(JF(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(lt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){fo=Nd(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}fo=null}}else fo=po?Nd(n.stateNode.nextSibling):null;return!0}function joe(){for(var n=fo;n;)n=Nd(n.nextSibling)}function Kg(){fo=po=null,cr=!1}function sj(n){Ia===null?Ia=[n]:Ia.push(n)}var E_e=wu.ReactCurrentBatchConfig;function Ib(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(lt(309));var i=r.stateNode}if(!i)throw Error(lt(147,n));var s=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(lt(284));if(!r._owner)throw Error(lt(290,n))}return n}function D1(n,e){throw n=Object.prototype.toString.call(e),Error(lt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function ZF(n){var e=n._init;return e(n._payload)}function Boe(n){function e(v,w){if(n){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function r(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function i(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Fd(v,w),v.index=0,v.sibling=null,v}function o(v,w,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function l(v,w,_,x){return w===null||w.tag!==6?(w=G6(_,v.mode,x),w.return=v,w):(w=s(w,_),w.return=v,w)}function c(v,w,_,x){var S=_.type;return S===Sm?d(v,w,_.props.children,x,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sd&&ZF(S)===w.type)?(x=s(w,_.props),x.ref=Ib(v,w,_),x.return=v,x):(x=dS(_.type,_.key,_.props,null,v.mode,x),x.ref=Ib(v,w,_),x.return=v,x)}function u(v,w,_,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Y6(_,v.mode,x),w.return=v,w):(w=s(w,_.children||[]),w.return=v,w)}function d(v,w,_,x,S){return w===null||w.tag!==7?(w=Cf(_,v.mode,x,S),w.return=v,w):(w=s(w,_),w.return=v,w)}function h(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=G6(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _1:return _=dS(w.type,w.key,w.props,null,v.mode,_),_.ref=Ib(v,null,w),_.return=v,_;case _m:return w=Y6(w,v.mode,_),w.return=v,w;case sd:var x=w._init;return h(v,x(w._payload),_)}if(vy(w)||Cb(w))return w=Cf(w,v.mode,_,null),w.return=v,w;D1(v,w)}return null}function f(v,w,_,x){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:l(v,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _1:return _.key===S?c(v,w,_,x):null;case _m:return _.key===S?u(v,w,_,x):null;case sd:return S=_._init,f(v,w,S(_._payload),x)}if(vy(_)||Cb(_))return S!==null?null:d(v,w,_,x,null);D1(v,_)}return null}function p(v,w,_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(_)||null,l(w,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _1:return v=v.get(x.key===null?_:x.key)||null,c(w,v,x,S);case _m:return v=v.get(x.key===null?_:x.key)||null,u(w,v,x,S);case sd:var C=x._init;return p(v,w,_,C(x._payload),S)}if(vy(x)||Cb(x))return v=v.get(_)||null,d(w,v,x,S,null);D1(w,x)}return null}function m(v,w,_,x){for(var S=null,C=null,E=w,A=w=0,M=null;E!==null&&A<_.length;A++){E.index>A?(M=E,E=null):M=E.sibling;var I=f(v,E,_[A],x);if(I===null){E===null&&(E=M);break}n&&E&&I.alternate===null&&e(v,E),w=o(I,w,A),C===null?S=I:C.sibling=I,C=I,E=M}if(A===_.length)return r(v,E),cr&&jh(v,A),S;if(E===null){for(;A<_.length;A++)E=h(v,_[A],x),E!==null&&(w=o(E,w,A),C===null?S=E:C.sibling=E,C=E);return cr&&jh(v,A),S}for(E=i(v,E);A<_.length;A++)M=p(E,v,A,_[A],x),M!==null&&(n&&M.alternate!==null&&E.delete(M.key===null?A:M.key),w=o(M,w,A),C===null?S=M:C.sibling=M,C=M);return n&&E.forEach(function(O){return e(v,O)}),cr&&jh(v,A),S}function b(v,w,_,x){var S=Cb(_);if(typeof S!="function")throw Error(lt(150));if(_=S.call(_),_==null)throw Error(lt(151));for(var C=S=null,E=w,A=w=0,M=null,I=_.next();E!==null&&!I.done;A++,I=_.next()){E.index>A?(M=E,E=null):M=E.sibling;var O=f(v,E,I.value,x);if(O===null){E===null&&(E=M);break}n&&E&&O.alternate===null&&e(v,E),w=o(O,w,A),C===null?S=O:C.sibling=O,C=O,E=M}if(I.done)return r(v,E),cr&&jh(v,A),S;if(E===null){for(;!I.done;A++,I=_.next())I=h(v,I.value,x),I!==null&&(w=o(I,w,A),C===null?S=I:C.sibling=I,C=I);return cr&&jh(v,A),S}for(E=i(v,E);!I.done;A++,I=_.next())I=p(E,v,A,I.value,x),I!==null&&(n&&I.alternate!==null&&E.delete(I.key===null?A:I.key),w=o(I,w,A),C===null?S=I:C.sibling=I,C=I);return n&&E.forEach(function(F){return e(v,F)}),cr&&jh(v,A),S}function y(v,w,_,x){if(typeof _=="object"&&_!==null&&_.type===Sm&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _1:e:{for(var S=_.key,C=w;C!==null;){if(C.key===S){if(S=_.type,S===Sm){if(C.tag===7){r(v,C.sibling),w=s(C,_.props.children),w.return=v,v=w;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sd&&ZF(S)===C.type){r(v,C.sibling),w=s(C,_.props),w.ref=Ib(v,C,_),w.return=v,v=w;break e}r(v,C);break}else e(v,C);C=C.sibling}_.type===Sm?(w=Cf(_.props.children,v.mode,x,_.key),w.return=v,v=w):(x=dS(_.type,_.key,_.props,null,v.mode,x),x.ref=Ib(v,w,_),x.return=v,v=x)}return a(v);case _m:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(v,w.sibling),w=s(w,_.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else e(v,w);w=w.sibling}w=Y6(_,v.mode,x),w.return=v,v=w}return a(v);case sd:return C=_._init,y(v,w,C(_._payload),x)}if(vy(_))return m(v,w,_,x);if(Cb(_))return b(v,w,_,x);D1(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(v,w.sibling),w=s(w,_),w.return=v,v=w):(r(v,w),w=G6(_,v.mode,x),w.return=v,v=w),a(v)):r(v,w)}return y}var Xg=Boe(!0),Loe=Boe(!1),ik=sh(null),sk=null,Mm=null,oj=null;function aj(){oj=Mm=sk=null}function lj(n){var e=ik.current;tr(ik),n._currentValue=e}function p8(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function Qm(n,e){sk=n,oj=Mm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Rs=!0),n.firstContext=null)}function aa(n){var e=n._currentValue;if(oj!==n)if(n={context:n,memoizedValue:e,next:null},Mm===null){if(sk===null)throw Error(lt(308));Mm=n,sk.dependencies={lanes:0,firstContext:n}}else Mm=Mm.next=n;return e}var Qh=null;function cj(n){Qh===null?Qh=[n]:Qh.push(n)}function Foe(n,e,r,i){var s=e.interleaved;return s===null?(r.next=r,cj(e)):(r.next=s.next,s.next=r),e.interleaved=r,uu(n,i)}function uu(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var od=!1;function uj(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $oe(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Kc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function jd(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,xn&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,uu(n,r)}return s=i.interleaved,s===null?(e.next=e,cj(i)):(e.next=s.next,s.next=e),i.interleaved=e,uu(n,r)}function sS(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,KN(n,r)}}function e$(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function ok(n,e,r,i){var s=n.updateQueue;od=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;a=0,d=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=n,b=l;switch(f=e,p=r,b.tag){case 1:if(m=b.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=gr({},h,f);break e;case 2:od=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Uf|=a,n.lanes=a,n.memoizedState=h}}function t$(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(lt(191,s));s.call(i)}}}var Qw={},jl=sh(Qw),Tv=sh(Qw),Pv=sh(Qw);function Jh(n){if(n===Qw)throw Error(lt(174));return n}function dj(n,e){switch(Kn(Pv,e),Kn(Tv,n),Kn(jl,Qw),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YD(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=YD(e,n)}tr(jl),Kn(jl,e)}function Qg(){tr(jl),tr(Tv),tr(Pv)}function zoe(n){Jh(Pv.current);var e=Jh(jl.current),r=YD(e,n.type);e!==r&&(Kn(Tv,n),Kn(jl,r))}function hj(n){Tv.current===n&&(tr(jl),tr(Tv))}var pr=sh(0);function ak(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var z6=[];function fj(){for(var n=0;n<z6.length;n++)z6[n]._workInProgressVersionPrimary=null;z6.length=0}var oS=wu.ReactCurrentDispatcher,U6=wu.ReactCurrentBatchConfig,zf=0,mr=null,Hr=null,ii=null,lk=!1,Hy=!1,Iv=0,A_e=0;function Ni(){throw Error(lt(321))}function pj(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!za(n[r],e[r]))return!1;return!0}function mj(n,e,r,i,s,o){if(zf=o,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oS.current=n===null||n.memoizedState===null?M_e:O_e,n=r(i,s),Hy){o=0;do{if(Hy=!1,Iv=0,25<=o)throw Error(lt(301));o+=1,ii=Hr=null,e.updateQueue=null,oS.current=D_e,n=r(i,s)}while(Hy)}if(oS.current=ck,e=Hr!==null&&Hr.next!==null,zf=0,ii=Hr=mr=null,lk=!1,e)throw Error(lt(300));return n}function gj(){var n=Iv!==0;return Iv=0,n}function gl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?mr.memoizedState=ii=n:ii=ii.next=n,ii}function la(){if(Hr===null){var n=mr.alternate;n=n!==null?n.memoizedState:null}else n=Hr.next;var e=ii===null?mr.memoizedState:ii.next;if(e!==null)ii=e,Hr=n;else{if(n===null)throw Error(lt(310));Hr=n,n={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},ii===null?mr.memoizedState=ii=n:ii=ii.next=n}return ii}function Mv(n,e){return typeof e=="function"?e(n):e}function W6(n){var e=la(),r=e.queue;if(r===null)throw Error(lt(311));r.lastRenderedReducer=n;var i=Hr,s=i.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,i=i.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((zf&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=i):c=c.next=h,mr.lanes|=d,Uf|=d}u=u.next}while(u!==null&&u!==o);c===null?a=i:c.next=l,za(i,e.memoizedState)||(Rs=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}if(n=r.interleaved,n!==null){s=n;do o=s.lane,mr.lanes|=o,Uf|=o,s=s.next;while(s!==n)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function q6(n){var e=la(),r=e.queue;if(r===null)throw Error(lt(311));r.lastRenderedReducer=n;var i=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=n(o,a.action),a=a.next;while(a!==s);za(o,e.memoizedState)||(Rs=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function Uoe(){}function Woe(n,e){var r=mr,i=la(),s=e(),o=!za(i.memoizedState,s);if(o&&(i.memoizedState=s,Rs=!0),i=i.queue,bj(Voe.bind(null,r,i,n),[n]),i.getSnapshot!==e||o||ii!==null&&ii.memoizedState.tag&1){if(r.flags|=2048,Ov(9,Hoe.bind(null,r,i,s,e),void 0,null),di===null)throw Error(lt(349));zf&30||qoe(r,e,s)}return s}function qoe(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function Hoe(n,e,r,i){e.value=r,e.getSnapshot=i,Goe(e)&&Yoe(n)}function Voe(n,e,r){return r(function(){Goe(e)&&Yoe(n)})}function Goe(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!za(n,r)}catch{return!0}}function Yoe(n){var e=uu(n,1);e!==null&&Ba(e,n,1,-1)}function n$(n){var e=gl();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mv,lastRenderedState:n},e.queue=n,n=n.dispatch=I_e.bind(null,mr,n),[e.memoizedState,n]}function Ov(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function Koe(){return la().memoizedState}function aS(n,e,r,i){var s=gl();mr.flags|=n,s.memoizedState=Ov(1|e,r,void 0,i===void 0?null:i)}function rC(n,e,r,i){var s=la();i=i===void 0?null:i;var o=void 0;if(Hr!==null){var a=Hr.memoizedState;if(o=a.destroy,i!==null&&pj(i,a.deps)){s.memoizedState=Ov(e,r,o,i);return}}mr.flags|=n,s.memoizedState=Ov(1|e,r,o,i)}function r$(n,e){return aS(8390656,8,n,e)}function bj(n,e){return rC(2048,8,n,e)}function Xoe(n,e){return rC(4,2,n,e)}function Qoe(n,e){return rC(4,4,n,e)}function Joe(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Zoe(n,e,r){return r=r!=null?r.concat([n]):null,rC(4,4,Joe.bind(null,e,n),r)}function yj(){}function eae(n,e){var r=la();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&pj(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function tae(n,e){var r=la();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&pj(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function nae(n,e,r){return zf&21?(za(r,e)||(r=aoe(),mr.lanes|=r,Uf|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Rs=!0),n.memoizedState=r)}function T_e(n,e){var r=Dn;Dn=r!==0&&4>r?r:4,n(!0);var i=U6.transition;U6.transition={};try{n(!1),e()}finally{Dn=r,U6.transition=i}}function rae(){return la().memoizedState}function P_e(n,e,r){var i=Ld(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},iae(n))sae(e,r);else if(r=Foe(n,e,r,i),r!==null){var s=hs();Ba(r,n,i,s),oae(r,e,i)}}function I_e(n,e,r){var i=Ld(n),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(iae(n))sae(e,s);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,za(l,a)){var c=e.interleaved;c===null?(s.next=s,cj(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Foe(n,e,s,i),r!==null&&(s=hs(),Ba(r,n,i,s),oae(r,e,i))}}function iae(n){var e=n.alternate;return n===mr||e!==null&&e===mr}function sae(n,e){Hy=lk=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function oae(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,KN(n,r)}}var ck={readContext:aa,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},M_e={readContext:aa,useCallback:function(n,e){return gl().memoizedState=[n,e===void 0?null:e],n},useContext:aa,useEffect:r$,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,aS(4194308,4,Joe.bind(null,e,n),r)},useLayoutEffect:function(n,e){return aS(4194308,4,n,e)},useInsertionEffect:function(n,e){return aS(4,2,n,e)},useMemo:function(n,e){var r=gl();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=gl();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=P_e.bind(null,mr,n),[i.memoizedState,n]},useRef:function(n){var e=gl();return n={current:n},e.memoizedState=n},useState:n$,useDebugValue:yj,useDeferredValue:function(n){return gl().memoizedState=n},useTransition:function(){var n=n$(!1),e=n[0];return n=T_e.bind(null,n[1]),gl().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=mr,s=gl();if(cr){if(r===void 0)throw Error(lt(407));r=r()}else{if(r=e(),di===null)throw Error(lt(349));zf&30||qoe(i,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,r$(Voe.bind(null,i,o,n),[n]),i.flags|=2048,Ov(9,Hoe.bind(null,i,o,r,e),void 0,null),r},useId:function(){var n=gl(),e=di.identifierPrefix;if(cr){var r=Uc,i=zc;r=(i&~(1<<32-ja(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=Iv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=A_e++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},O_e={readContext:aa,useCallback:eae,useContext:aa,useEffect:bj,useImperativeHandle:Zoe,useInsertionEffect:Xoe,useLayoutEffect:Qoe,useMemo:tae,useReducer:W6,useRef:Koe,useState:function(){return W6(Mv)},useDebugValue:yj,useDeferredValue:function(n){var e=la();return nae(e,Hr.memoizedState,n)},useTransition:function(){var n=W6(Mv)[0],e=la().memoizedState;return[n,e]},useMutableSource:Uoe,useSyncExternalStore:Woe,useId:rae,unstable_isNewReconciler:!1},D_e={readContext:aa,useCallback:eae,useContext:aa,useEffect:bj,useImperativeHandle:Zoe,useInsertionEffect:Xoe,useLayoutEffect:Qoe,useMemo:tae,useReducer:q6,useRef:Koe,useState:function(){return q6(Mv)},useDebugValue:yj,useDeferredValue:function(n){var e=la();return Hr===null?e.memoizedState=n:nae(e,Hr.memoizedState,n)},useTransition:function(){var n=q6(Mv)[0],e=la().memoizedState;return[n,e]},useMutableSource:Uoe,useSyncExternalStore:Woe,useId:rae,unstable_isNewReconciler:!1};function _a(n,e){if(n&&n.defaultProps){e=gr({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function m8(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:gr({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var iC={isMounted:function(n){return(n=n._reactInternals)?gp(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=hs(),s=Ld(n),o=Kc(i,s);o.payload=e,r!=null&&(o.callback=r),e=jd(n,o,s),e!==null&&(Ba(e,n,s,i),sS(e,n,s))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=hs(),s=Ld(n),o=Kc(i,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=jd(n,o,s),e!==null&&(Ba(e,n,s,i),sS(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=hs(),i=Ld(n),s=Kc(r,i);s.tag=2,e!=null&&(s.callback=e),e=jd(n,s,i),e!==null&&(Ba(e,n,i,r),sS(e,n,i))}};function i$(n,e,r,i,s,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!kv(r,i)||!kv(s,o):!0}function aae(n,e,r){var i=!1,s=Kd,o=e.contextType;return typeof o=="object"&&o!==null?o=aa(o):(s=Ls(e)?Ff:Vi.current,i=e.contextTypes,o=(i=i!=null)?Yg(n,s):Kd),e=new e(r,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iC,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=o),e}function s$(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&iC.enqueueReplaceState(e,e.state,null)}function g8(n,e,r,i){var s=n.stateNode;s.props=r,s.state=n.memoizedState,s.refs={},uj(n);var o=e.contextType;typeof o=="object"&&o!==null?s.context=aa(o):(o=Ls(e)?Ff:Vi.current,s.context=Yg(n,o)),s.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(m8(n,e,o,r),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&iC.enqueueReplaceState(s,s.state,null),ok(n,r,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Jg(n,e){try{var r="",i=e;do r+=a1e(i),i=i.return;while(i);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:s,digest:null}}function H6(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function b8(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var R_e=typeof WeakMap=="function"?WeakMap:Map;function lae(n,e,r){r=Kc(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){dk||(dk=!0,A8=i),b8(n,e)},r}function cae(n,e,r){r=Kc(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;r.payload=function(){return i(s)},r.callback=function(){b8(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){b8(n,e),typeof i!="function"&&(Bd===null?Bd=new Set([this]):Bd.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function o$(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new R_e;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(r)||(s.add(r),n=Y_e.bind(null,n,e,r),e.then(n,n))}function a$(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function l$(n,e,r,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Kc(-1,1),e.tag=2,jd(r,e,1))),r.lanes|=1),n)}var N_e=wu.ReactCurrentOwner,Rs=!1;function is(n,e,r,i){e.child=n===null?Loe(e,null,r,i):Xg(e,n.child,r,i)}function c$(n,e,r,i,s){r=r.render;var o=e.ref;return Qm(e,s),i=mj(n,e,r,i,o,s),r=gj(),n!==null&&!Rs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,du(n,e,s)):(cr&&r&&rj(e),e.flags|=1,is(n,e,i,s),e.child)}function u$(n,e,r,i,s){if(n===null){var o=r.type;return typeof o=="function"&&!Ej(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,uae(n,e,o,i,s)):(n=dS(r.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:kv,r(a,i)&&n.ref===e.ref)return du(n,e,s)}return e.flags|=1,n=Fd(o,i),n.ref=e.ref,n.return=e,e.child=n}function uae(n,e,r,i,s){if(n!==null){var o=n.memoizedProps;if(kv(o,i)&&n.ref===e.ref)if(Rs=!1,e.pendingProps=i=o,(n.lanes&s)!==0)n.flags&131072&&(Rs=!0);else return e.lanes=n.lanes,du(n,e,s)}return y8(n,e,r,i,s)}function dae(n,e,r){var i=e.pendingProps,s=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(Dm,io),io|=r;else{if(!(r&1073741824))return n=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Kn(Dm,io),io|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,Kn(Dm,io),io|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,Kn(Dm,io),io|=i;return is(n,e,s,r),e.child}function hae(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function y8(n,e,r,i,s){var o=Ls(r)?Ff:Vi.current;return o=Yg(e,o),Qm(e,s),r=mj(n,e,r,i,o,s),i=gj(),n!==null&&!Rs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,du(n,e,s)):(cr&&i&&rj(e),e.flags|=1,is(n,e,r,s),e.child)}function d$(n,e,r,i,s){if(Ls(r)){var o=!0;tk(e)}else o=!1;if(Qm(e,s),e.stateNode===null)lS(n,e),aae(e,r,i),g8(e,r,i,s),i=!0;else if(n===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=aa(u):(u=Ls(r)?Ff:Vi.current,u=Yg(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||c!==u)&&s$(e,a,i,u),od=!1;var f=e.memoizedState;a.state=f,ok(e,i,a,s),c=e.memoizedState,l!==i||f!==c||Bs.current||od?(typeof d=="function"&&(m8(e,r,d,i),c=e.memoizedState),(l=od||i$(e,r,l,i,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=u,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,$oe(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:_a(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=aa(c):(c=Ls(r)?Ff:Vi.current,c=Yg(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&s$(e,a,i,c),od=!1,f=e.memoizedState,a.state=f,ok(e,i,a,s);var m=e.memoizedState;l!==h||f!==m||Bs.current||od?(typeof p=="function"&&(m8(e,r,p,i),m=e.memoizedState),(u=od||i$(e,r,u,i,f,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=c,i=u):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return v8(n,e,r,i,o,s)}function v8(n,e,r,i,s,o){hae(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&XF(e,r,!1),du(n,e,o);i=e.stateNode,N_e.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=Xg(e,n.child,null,o),e.child=Xg(e,null,l,o)):is(n,e,l,o),e.memoizedState=i.state,s&&XF(e,r,!0),e.child}function fae(n){var e=n.stateNode;e.pendingContext?KF(n,e.pendingContext,e.pendingContext!==e.context):e.context&&KF(n,e.context,!1),dj(n,e.containerInfo)}function h$(n,e,r,i,s){return Kg(),sj(s),e.flags|=256,is(n,e,r,i),e.child}var w8={dehydrated:null,treeContext:null,retryLane:0};function x8(n){return{baseLanes:n,cachePool:null,transitions:null}}function pae(n,e,r){var i=e.pendingProps,s=pr.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Kn(pr,s&1),n===null)return f8(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=aC(a,i,0,null),n=Cf(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=x8(r),e.memoizedState=w8,n):vj(e,a));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return j_e(n,e,a,i,l,s,r);if(o){o=i.fallback,a=e.mode,s=n.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Fd(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Fd(l,o):(o=Cf(o,a,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=n.child.memoizedState,a=a===null?x8(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~r,e.memoizedState=w8,i}return o=n.child,n=o.sibling,i=Fd(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function vj(n,e){return e=aC({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function R1(n,e,r,i){return i!==null&&sj(i),Xg(e,n.child,null,r),n=vj(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function j_e(n,e,r,i,s,o,a){if(r)return e.flags&256?(e.flags&=-257,i=H6(Error(lt(422))),R1(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=aC({mode:"visible",children:i.children},s,0,null),o=Cf(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Xg(e,n.child,null,a),e.child.memoizedState=x8(a),e.memoizedState=w8,o);if(!(e.mode&1))return R1(n,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(lt(419)),i=H6(o,i,void 0),R1(n,e,a,i)}if(l=(a&n.childLanes)!==0,Rs||l){if(i=di,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,uu(n,s),Ba(i,n,s,-1))}return Cj(),i=H6(Error(lt(421))),R1(n,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=K_e.bind(null,n),s._reactRetry=e,null):(n=o.treeContext,fo=Nd(s.nextSibling),po=e,cr=!0,Ia=null,n!==null&&(Xo[Qo++]=zc,Xo[Qo++]=Uc,Xo[Qo++]=$f,zc=n.id,Uc=n.overflow,$f=e),e=vj(e,i.children),e.flags|=4096,e)}function f$(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),p8(n.return,e,r)}function V6(n,e,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=s)}function mae(n,e,r){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(is(n,e,i.children,r),i=pr.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&f$(n,r,e);else if(n.tag===19)f$(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Kn(pr,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)n=r.alternate,n!==null&&ak(n)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),V6(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&ak(n)===null){e.child=s;break}n=s.sibling,s.sibling=r,r=s,s=n}V6(e,!0,r,null,o);break;case"together":V6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lS(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function du(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),Uf|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(lt(153));if(e.child!==null){for(n=e.child,r=Fd(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=Fd(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function B_e(n,e,r){switch(e.tag){case 3:fae(e),Kg();break;case 5:zoe(e);break;case 1:Ls(e.type)&&tk(e);break;case 4:dj(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Kn(ik,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Kn(pr,pr.current&1),e.flags|=128,null):r&e.child.childLanes?pae(n,e,r):(Kn(pr,pr.current&1),n=du(n,e,r),n!==null?n.sibling:null);Kn(pr,pr.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return mae(n,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Kn(pr,pr.current),i)break;return null;case 22:case 23:return e.lanes=0,dae(n,e,r)}return du(n,e,r)}var gae,_8,bae,yae;gae=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_8=function(){};bae=function(n,e,r,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,Jh(jl.current);var o=null;switch(r){case"input":s=qD(n,s),i=qD(n,i),o=[];break;case"select":s=gr({},s,{value:void 0}),i=gr({},i,{value:void 0}),o=[];break;case"textarea":s=GD(n,s),i=GD(n,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=ZS)}KD(r,i);var a;r=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bv.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zn("scroll",n),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};yae=function(n,e,r,i){r!==i&&(e.flags|=4)};function Mb(n,e){if(!cr)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ji(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function L_e(n,e,r){var i=e.pendingProps;switch(ij(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(e),null;case 1:return Ls(e.type)&&ek(),ji(e),null;case 3:return i=e.stateNode,Qg(),tr(Bs),tr(Vi),fj(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(O1(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ia!==null&&(I8(Ia),Ia=null))),_8(n,e),ji(e),null;case 5:hj(e);var s=Jh(Pv.current);if(r=e.type,n!==null&&e.stateNode!=null)bae(n,e,r,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(lt(166));return ji(e),null}if(n=Jh(jl.current),O1(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[Al]=e,i[Av]=o,n=(e.mode&1)!==0,r){case"dialog":Zn("cancel",i),Zn("close",i);break;case"iframe":case"object":case"embed":Zn("load",i);break;case"video":case"audio":for(s=0;s<xy.length;s++)Zn(xy[s],i);break;case"source":Zn("error",i);break;case"img":case"image":case"link":Zn("error",i),Zn("load",i);break;case"details":Zn("toggle",i);break;case"input":_F(i,o),Zn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Zn("invalid",i);break;case"textarea":kF(i,o),Zn("invalid",i)}KD(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&M1(i.textContent,l,n),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&M1(i.textContent,l,n),s=["children",""+l]):bv.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Zn("scroll",i)}switch(r){case"input":S1(i),SF(i,o,!0);break;case"textarea":S1(i),CF(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=ZS)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Vse(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(r,{is:i.is}):(n=a.createElement(r),r==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,r),n[Al]=e,n[Av]=i,gae(n,e,!1,!1),e.stateNode=n;e:{switch(a=XD(r,i),r){case"dialog":Zn("cancel",n),Zn("close",n),s=i;break;case"iframe":case"object":case"embed":Zn("load",n),s=i;break;case"video":case"audio":for(s=0;s<xy.length;s++)Zn(xy[s],n);s=i;break;case"source":Zn("error",n),s=i;break;case"img":case"image":case"link":Zn("error",n),Zn("load",n),s=i;break;case"details":Zn("toggle",n),s=i;break;case"input":_F(n,i),s=qD(n,i),Zn("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=gr({},i,{value:void 0}),Zn("invalid",n);break;case"textarea":kF(n,i),s=GD(n,i),Zn("invalid",n);break;default:s=i}KD(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Kse(n,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gse(n,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yv(n,c):typeof c=="number"&&yv(n,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bv.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Zn("scroll",n):c!=null&&WN(n,o,c,a))}switch(r){case"input":S1(n),SF(n,i,!1);break;case"textarea":S1(n),CF(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Yd(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?Gm(n,!!i.multiple,o,!1):i.defaultValue!=null&&Gm(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=ZS)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ji(e),null;case 6:if(n&&e.stateNode!=null)yae(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(lt(166));if(r=Jh(Pv.current),Jh(jl.current),O1(e)){if(i=e.stateNode,r=e.memoizedProps,i[Al]=e,(o=i.nodeValue!==r)&&(n=po,n!==null))switch(n.tag){case 3:M1(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&M1(i.nodeValue,r,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Al]=e,e.stateNode=i}return ji(e),null;case 13:if(tr(pr),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(cr&&fo!==null&&e.mode&1&&!(e.flags&128))joe(),Kg(),e.flags|=98560,o=!1;else if(o=O1(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(lt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(lt(317));o[Al]=e}else Kg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ji(e),o=!1}else Ia!==null&&(I8(Ia),Ia=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||pr.current&1?Gr===0&&(Gr=3):Cj())),e.updateQueue!==null&&(e.flags|=4),ji(e),null);case 4:return Qg(),_8(n,e),n===null&&Cv(e.stateNode.containerInfo),ji(e),null;case 10:return lj(e.type._context),ji(e),null;case 17:return Ls(e.type)&&ek(),ji(e),null;case 19:if(tr(pr),o=e.memoizedState,o===null)return ji(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Mb(o,!1);else{if(Gr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=ak(n),a!==null){for(e.flags|=128,Mb(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,n=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Kn(pr,pr.current&1|2),e.child}n=n.sibling}o.tail!==null&&Or()>Zg&&(e.flags|=128,i=!0,Mb(o,!1),e.lanes=4194304)}else{if(!i)if(n=ak(a),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Mb(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!cr)return ji(e),null}else 2*Or()-o.renderingStartTime>Zg&&r!==1073741824&&(e.flags|=128,i=!0,Mb(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Or(),e.sibling=null,r=pr.current,Kn(pr,i?r&1|2:r&1),e):(ji(e),null);case 22:case 23:return kj(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?io&1073741824&&(ji(e),e.subtreeFlags&6&&(e.flags|=8192)):ji(e),null;case 24:return null;case 25:return null}throw Error(lt(156,e.tag))}function F_e(n,e){switch(ij(e),e.tag){case 1:return Ls(e.type)&&ek(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Qg(),tr(Bs),tr(Vi),fj(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return hj(e),null;case 13:if(tr(pr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(lt(340));Kg()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return tr(pr),null;case 4:return Qg(),null;case 10:return lj(e.type._context),null;case 22:case 23:return kj(),null;case 24:return null;default:return null}}var N1=!1,Ui=!1,$_e=typeof WeakSet=="function"?WeakSet:Set,Et=null;function Om(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){_r(n,e,i)}else r.current=null}function S8(n,e,r){try{r()}catch(i){_r(n,e,i)}}var p$=!1;function z_e(n,e){if(o8=XS,n=Soe(),nj(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==o||i!==0&&h.nodeType!==3||(c=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===r&&++u===s&&(l=a),f===o&&++d===i&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(a8={focusedElem:n,selectionRange:r},XS=!1,Et=e;Et!==null;)if(e=Et,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Et=n;else for(;Et!==null;){e=Et;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,y=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:_a(e.type,b),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(x){_r(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,Et=n;break}Et=e.return}return m=p$,p$=!1,m}function Vy(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var o=s.destroy;s.destroy=void 0,o!==void 0&&S8(e,r,o)}s=s.next}while(s!==i)}}function sC(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function k8(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function vae(n){var e=n.alternate;e!==null&&(n.alternate=null,vae(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Al],delete e[Av],delete e[u8],delete e[S_e],delete e[k_e])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function wae(n){return n.tag===5||n.tag===3||n.tag===4}function m$(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wae(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function C8(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ZS));else if(i!==4&&(n=n.child,n!==null))for(C8(n,e,r),n=n.sibling;n!==null;)C8(n,e,r),n=n.sibling}function E8(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(E8(n,e,r),n=n.sibling;n!==null;)E8(n,e,r),n=n.sibling}var wi=null,Aa=!1;function Lu(n,e,r){for(r=r.child;r!==null;)xae(n,e,r),r=r.sibling}function xae(n,e,r){if(Nl&&typeof Nl.onCommitFiberUnmount=="function")try{Nl.onCommitFiberUnmount(Q2,r)}catch{}switch(r.tag){case 5:Ui||Om(r,e);case 6:var i=wi,s=Aa;wi=null,Lu(n,e,r),wi=i,Aa=s,wi!==null&&(Aa?(n=wi,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):wi.removeChild(r.stateNode));break;case 18:wi!==null&&(Aa?(n=wi,r=r.stateNode,n.nodeType===8?F6(n.parentNode,r):n.nodeType===1&&F6(n,r),_v(n)):F6(wi,r.stateNode));break;case 4:i=wi,s=Aa,wi=r.stateNode.containerInfo,Aa=!0,Lu(n,e,r),wi=i,Aa=s;break;case 0:case 11:case 14:case 15:if(!Ui&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&S8(r,e,a),s=s.next}while(s!==i)}Lu(n,e,r);break;case 1:if(!Ui&&(Om(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){_r(r,e,l)}Lu(n,e,r);break;case 21:Lu(n,e,r);break;case 22:r.mode&1?(Ui=(i=Ui)||r.memoizedState!==null,Lu(n,e,r),Ui=i):Lu(n,e,r);break;default:Lu(n,e,r)}}function g$(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new $_e),e.forEach(function(i){var s=X_e.bind(null,n,i);r.has(i)||(r.add(i),i.then(s,s))})}}function ba(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var o=n,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:wi=l.stateNode,Aa=!1;break e;case 3:wi=l.stateNode.containerInfo,Aa=!0;break e;case 4:wi=l.stateNode.containerInfo,Aa=!0;break e}l=l.return}if(wi===null)throw Error(lt(160));xae(o,a,s),wi=null,Aa=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){_r(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_ae(e,n),e=e.sibling}function _ae(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ba(e,n),ol(n),i&4){try{Vy(3,n,n.return),sC(3,n)}catch(b){_r(n,n.return,b)}try{Vy(5,n,n.return)}catch(b){_r(n,n.return,b)}}break;case 1:ba(e,n),ol(n),i&512&&r!==null&&Om(r,r.return);break;case 5:if(ba(e,n),ol(n),i&512&&r!==null&&Om(r,r.return),n.flags&32){var s=n.stateNode;try{yv(s,"")}catch(b){_r(n,n.return,b)}}if(i&4&&(s=n.stateNode,s!=null)){var o=n.memoizedProps,a=r!==null?r.memoizedProps:o,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&qse(s,o),XD(l,a);var u=XD(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Kse(s,h):d==="dangerouslySetInnerHTML"?Gse(s,h):d==="children"?yv(s,h):WN(s,d,h,u)}switch(l){case"input":HD(s,o);break;case"textarea":Hse(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Gm(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Gm(s,!!o.multiple,o.defaultValue,!0):Gm(s,!!o.multiple,o.multiple?[]:"",!1))}s[Av]=o}catch(b){_r(n,n.return,b)}}break;case 6:if(ba(e,n),ol(n),i&4){if(n.stateNode===null)throw Error(lt(162));s=n.stateNode,o=n.memoizedProps;try{s.nodeValue=o}catch(b){_r(n,n.return,b)}}break;case 3:if(ba(e,n),ol(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{_v(e.containerInfo)}catch(b){_r(n,n.return,b)}break;case 4:ba(e,n),ol(n);break;case 13:ba(e,n),ol(n),s=n.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(_j=Or())),i&4&&g$(n);break;case 22:if(d=r!==null&&r.memoizedState!==null,n.mode&1?(Ui=(u=Ui)||d,ba(e,n),Ui=u):ba(e,n),ol(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Et=n,d=n.child;d!==null;){for(h=Et=d;Et!==null;){switch(f=Et,p=f.child,f.tag){case 0:case 11:case 14:case 15:Vy(4,f,f.return);break;case 1:Om(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,r=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(b){_r(i,r,b)}}break;case 5:Om(f,f.return);break;case 22:if(f.memoizedState!==null){y$(h);continue}}p!==null?(p.return=f,Et=p):y$(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Yse("display",a))}catch(b){_r(n,n.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){_r(n,n.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ba(e,n),ol(n),i&4&&g$(n);break;case 21:break;default:ba(e,n),ol(n)}}function ol(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(wae(r)){var i=r;break e}r=r.return}throw Error(lt(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(yv(s,""),i.flags&=-33);var o=m$(n);E8(n,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,l=m$(n);C8(n,l,a);break;default:throw Error(lt(161))}}catch(c){_r(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function U_e(n,e,r){Et=n,Sae(n)}function Sae(n,e,r){for(var i=(n.mode&1)!==0;Et!==null;){var s=Et,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||N1;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ui;l=N1;var u=Ui;if(N1=a,(Ui=c)&&!u)for(Et=s;Et!==null;)a=Et,c=a.child,a.tag===22&&a.memoizedState!==null?v$(s):c!==null?(c.return=a,Et=c):v$(s);for(;o!==null;)Et=o,Sae(o),o=o.sibling;Et=s,N1=l,Ui=u}b$(n)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Et=o):b$(n)}}function b$(n){for(;Et!==null;){var e=Et;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ui||sC(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ui)if(r===null)i.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:_a(e.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&t$(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}t$(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&_v(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}Ui||e.flags&512&&k8(e)}catch(f){_r(e,e.return,f)}}if(e===n){Et=null;break}if(r=e.sibling,r!==null){r.return=e.return,Et=r;break}Et=e.return}}function y$(n){for(;Et!==null;){var e=Et;if(e===n){Et=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Et=r;break}Et=e.return}}function v$(n){for(;Et!==null;){var e=Et;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{sC(4,e)}catch(c){_r(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){_r(e,s,c)}}var o=e.return;try{k8(e)}catch(c){_r(e,o,c)}break;case 5:var a=e.return;try{k8(e)}catch(c){_r(e,a,c)}}}catch(c){_r(e,e.return,c)}if(e===n){Et=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Et=l;break}Et=e.return}}var W_e=Math.ceil,uk=wu.ReactCurrentDispatcher,wj=wu.ReactCurrentOwner,ia=wu.ReactCurrentBatchConfig,xn=0,di=null,Ur=null,Ti=0,io=0,Dm=sh(0),Gr=0,Dv=null,Uf=0,oC=0,xj=0,Gy=null,Ms=null,_j=0,Zg=1/0,kc=null,dk=!1,A8=null,Bd=null,j1=!1,Ed=null,hk=0,Yy=0,T8=null,cS=-1,uS=0;function hs(){return xn&6?Or():cS!==-1?cS:cS=Or()}function Ld(n){return n.mode&1?xn&2&&Ti!==0?Ti&-Ti:E_e.transition!==null?(uS===0&&(uS=aoe()),uS):(n=Dn,n!==0||(n=window.event,n=n===void 0?16:poe(n.type)),n):1}function Ba(n,e,r,i){if(50<Yy)throw Yy=0,T8=null,Error(lt(185));Yw(n,r,i),(!(xn&2)||n!==di)&&(n===di&&(!(xn&2)&&(oC|=r),Gr===4&&ud(n,Ti)),Fs(n,i),r===1&&xn===0&&!(e.mode&1)&&(Zg=Or()+500,nC&&oh()))}function Fs(n,e){var r=n.callbackNode;E1e(n,e);var i=KS(n,n===di?Ti:0);if(i===0)r!==null&&TF(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&TF(r),e===1)n.tag===0?C_e(w$.bind(null,n)):Doe(w$.bind(null,n)),x_e(function(){!(xn&6)&&oh()}),r=null;else{switch(loe(i)){case 1:r=YN;break;case 4:r=soe;break;case 16:r=YS;break;case 536870912:r=ooe;break;default:r=YS}r=Mae(r,kae.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function kae(n,e){if(cS=-1,uS=0,xn&6)throw Error(lt(327));var r=n.callbackNode;if(Jm()&&n.callbackNode!==r)return null;var i=KS(n,n===di?Ti:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=fk(n,i);else{e=i;var s=xn;xn|=2;var o=Eae();(di!==n||Ti!==e)&&(kc=null,Zg=Or()+500,kf(n,e));do try{V_e();break}catch(l){Cae(n,l)}while(!0);aj(),uk.current=o,xn=s,Ur!==null?e=0:(di=null,Ti=0,e=Gr)}if(e!==0){if(e===2&&(s=t8(n),s!==0&&(i=s,e=P8(n,s))),e===1)throw r=Dv,kf(n,0),ud(n,i),Fs(n,Or()),r;if(e===6)ud(n,i);else{if(s=n.current.alternate,!(i&30)&&!q_e(s)&&(e=fk(n,i),e===2&&(o=t8(n),o!==0&&(i=o,e=P8(n,o))),e===1))throw r=Dv,kf(n,0),ud(n,i),Fs(n,Or()),r;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(lt(345));case 2:Bh(n,Ms,kc);break;case 3:if(ud(n,i),(i&130023424)===i&&(e=_j+500-Or(),10<e)){if(KS(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){hs(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=c8(Bh.bind(null,n,Ms,kc),e);break}Bh(n,Ms,kc);break;case 4:if(ud(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var a=31-ja(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=Or()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*W_e(i/1960))-i,10<i){n.timeoutHandle=c8(Bh.bind(null,n,Ms,kc),i);break}Bh(n,Ms,kc);break;case 5:Bh(n,Ms,kc);break;default:throw Error(lt(329))}}}return Fs(n,Or()),n.callbackNode===r?kae.bind(null,n):null}function P8(n,e){var r=Gy;return n.current.memoizedState.isDehydrated&&(kf(n,e).flags|=256),n=fk(n,e),n!==2&&(e=Ms,Ms=r,e!==null&&I8(e)),n}function I8(n){Ms===null?Ms=n:Ms.push.apply(Ms,n)}function q_e(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],o=s.getSnapshot;s=s.value;try{if(!za(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ud(n,e){for(e&=~xj,e&=~oC,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-ja(e),i=1<<r;n[r]=-1,e&=~i}}function w$(n){if(xn&6)throw Error(lt(327));Jm();var e=KS(n,0);if(!(e&1))return Fs(n,Or()),null;var r=fk(n,e);if(n.tag!==0&&r===2){var i=t8(n);i!==0&&(e=i,r=P8(n,i))}if(r===1)throw r=Dv,kf(n,0),ud(n,e),Fs(n,Or()),r;if(r===6)throw Error(lt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Bh(n,Ms,kc),Fs(n,Or()),null}function Sj(n,e){var r=xn;xn|=1;try{return n(e)}finally{xn=r,xn===0&&(Zg=Or()+500,nC&&oh())}}function Wf(n){Ed!==null&&Ed.tag===0&&!(xn&6)&&Jm();var e=xn;xn|=1;var r=ia.transition,i=Dn;try{if(ia.transition=null,Dn=1,n)return n()}finally{Dn=i,ia.transition=r,xn=e,!(xn&6)&&oh()}}function kj(){io=Dm.current,tr(Dm)}function kf(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,w_e(r)),Ur!==null)for(r=Ur.return;r!==null;){var i=r;switch(ij(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ek();break;case 3:Qg(),tr(Bs),tr(Vi),fj();break;case 5:hj(i);break;case 4:Qg();break;case 13:tr(pr);break;case 19:tr(pr);break;case 10:lj(i.type._context);break;case 22:case 23:kj()}r=r.return}if(di=n,Ur=n=Fd(n.current,null),Ti=io=e,Gr=0,Dv=null,xj=oC=Uf=0,Ms=Gy=null,Qh!==null){for(e=0;e<Qh.length;e++)if(r=Qh[e],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}r.pending=i}Qh=null}return n}function Cae(n,e){do{var r=Ur;try{if(aj(),oS.current=ck,lk){for(var i=mr.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}lk=!1}if(zf=0,ii=Hr=mr=null,Hy=!1,Iv=0,wj.current=null,r===null||r.return===null){Gr=1,Dv=e,Ur=null;break}e:{var o=n,a=r.return,l=r,c=e;if(e=Ti,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=a$(a);if(p!==null){p.flags&=-257,l$(p,a,l,o,e),p.mode&1&&o$(o,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var b=new Set;b.add(c),e.updateQueue=b}else m.add(c);break e}else{if(!(e&1)){o$(o,u,e),Cj();break e}c=Error(lt(426))}}else if(cr&&l.mode&1){var y=a$(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),l$(y,a,l,o,e),sj(Jg(c,l));break e}}o=c=Jg(c,l),Gr!==4&&(Gr=2),Gy===null?Gy=[o]:Gy.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=lae(o,c,e);e$(o,v);break e;case 1:l=c;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bd===null||!Bd.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=cae(o,l,e);e$(o,x);break e}}o=o.return}while(o!==null)}Tae(r)}catch(S){e=S,Ur===r&&r!==null&&(Ur=r=r.return);continue}break}while(!0)}function Eae(){var n=uk.current;return uk.current=ck,n===null?ck:n}function Cj(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),di===null||!(Uf&268435455)&&!(oC&268435455)||ud(di,Ti)}function fk(n,e){var r=xn;xn|=2;var i=Eae();(di!==n||Ti!==e)&&(kc=null,kf(n,e));do try{H_e();break}catch(s){Cae(n,s)}while(!0);if(aj(),xn=r,uk.current=i,Ur!==null)throw Error(lt(261));return di=null,Ti=0,Gr}function H_e(){for(;Ur!==null;)Aae(Ur)}function V_e(){for(;Ur!==null&&!b1e();)Aae(Ur)}function Aae(n){var e=Iae(n.alternate,n,io);n.memoizedProps=n.pendingProps,e===null?Tae(n):Ur=e,wj.current=null}function Tae(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=F_e(r,e),r!==null){r.flags&=32767,Ur=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Gr=6,Ur=null;return}}else if(r=L_e(r,e,io),r!==null){Ur=r;return}if(e=e.sibling,e!==null){Ur=e;return}Ur=e=n}while(e!==null);Gr===0&&(Gr=5)}function Bh(n,e,r){var i=Dn,s=ia.transition;try{ia.transition=null,Dn=1,G_e(n,e,r,i)}finally{ia.transition=s,Dn=i}return null}function G_e(n,e,r,i){do Jm();while(Ed!==null);if(xn&6)throw Error(lt(327));r=n.finishedWork;var s=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(lt(177));n.callbackNode=null,n.callbackPriority=0;var o=r.lanes|r.childLanes;if(A1e(n,o),n===di&&(Ur=di=null,Ti=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||j1||(j1=!0,Mae(YS,function(){return Jm(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ia.transition,ia.transition=null;var a=Dn;Dn=1;var l=xn;xn|=4,wj.current=null,z_e(n,r),_ae(r,n),f_e(a8),XS=!!o8,a8=o8=null,n.current=r,U_e(r),y1e(),xn=l,Dn=a,ia.transition=o}else n.current=r;if(j1&&(j1=!1,Ed=n,hk=s),o=n.pendingLanes,o===0&&(Bd=null),x1e(r.stateNode),Fs(n,Or()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)s=e[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(dk)throw dk=!1,n=A8,A8=null,n;return hk&1&&n.tag!==0&&Jm(),o=n.pendingLanes,o&1?n===T8?Yy++:(Yy=0,T8=n):Yy=0,oh(),null}function Jm(){if(Ed!==null){var n=loe(hk),e=ia.transition,r=Dn;try{if(ia.transition=null,Dn=16>n?16:n,Ed===null)var i=!1;else{if(n=Ed,Ed=null,hk=0,xn&6)throw Error(lt(331));var s=xn;for(xn|=4,Et=n.current;Et!==null;){var o=Et,a=o.child;if(Et.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Et=u;Et!==null;){var d=Et;switch(d.tag){case 0:case 11:case 15:Vy(8,d,o)}var h=d.child;if(h!==null)h.return=d,Et=h;else for(;Et!==null;){d=Et;var f=d.sibling,p=d.return;if(vae(d),d===u){Et=null;break}if(f!==null){f.return=p,Et=f;break}Et=p}}}var m=o.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}Et=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Et=a;else e:for(;Et!==null;){if(o=Et,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vy(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Et=v;break e}Et=o.return}}var w=n.current;for(Et=w;Et!==null;){a=Et;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Et=_;else e:for(a=w;Et!==null;){if(l=Et,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sC(9,l)}}catch(S){_r(l,l.return,S)}if(l===a){Et=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,Et=x;break e}Et=l.return}}if(xn=s,oh(),Nl&&typeof Nl.onPostCommitFiberRoot=="function")try{Nl.onPostCommitFiberRoot(Q2,n)}catch{}i=!0}return i}finally{Dn=r,ia.transition=e}}return!1}function x$(n,e,r){e=Jg(r,e),e=lae(n,e,1),n=jd(n,e,1),e=hs(),n!==null&&(Yw(n,1,e),Fs(n,e))}function _r(n,e,r){if(n.tag===3)x$(n,n,r);else for(;e!==null;){if(e.tag===3){x$(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bd===null||!Bd.has(i))){n=Jg(r,n),n=cae(e,n,1),e=jd(e,n,1),n=hs(),e!==null&&(Yw(e,1,n),Fs(e,n));break}}e=e.return}}function Y_e(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=hs(),n.pingedLanes|=n.suspendedLanes&r,di===n&&(Ti&r)===r&&(Gr===4||Gr===3&&(Ti&130023424)===Ti&&500>Or()-_j?kf(n,0):xj|=r),Fs(n,e)}function Pae(n,e){e===0&&(n.mode&1?(e=E1,E1<<=1,!(E1&130023424)&&(E1=4194304)):e=1);var r=hs();n=uu(n,e),n!==null&&(Yw(n,e,r),Fs(n,r))}function K_e(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),Pae(n,r)}function X_e(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(lt(314))}i!==null&&i.delete(e),Pae(n,r)}var Iae;Iae=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||Bs.current)Rs=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return Rs=!1,B_e(n,e,r);Rs=!!(n.flags&131072)}else Rs=!1,cr&&e.flags&1048576&&Roe(e,rk,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;lS(n,e),n=e.pendingProps;var s=Yg(e,Vi.current);Qm(e,r),s=mj(null,e,i,n,s,r);var o=gj();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ls(i)?(o=!0,tk(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uj(e),s.updater=iC,e.stateNode=s,s._reactInternals=e,g8(e,i,n,r),e=v8(null,e,i,!0,o,r)):(e.tag=0,cr&&o&&rj(e),is(null,e,s,r),e=e.child),e;case 16:i=e.elementType;e:{switch(lS(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=J_e(i),n=_a(i,n),s){case 0:e=y8(null,e,i,n,r);break e;case 1:e=d$(null,e,i,n,r);break e;case 11:e=c$(null,e,i,n,r);break e;case 14:e=u$(null,e,i,_a(i.type,n),r);break e}throw Error(lt(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:_a(i,s),y8(n,e,i,s,r);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:_a(i,s),d$(n,e,i,s,r);case 3:e:{if(fae(e),n===null)throw Error(lt(387));i=e.pendingProps,o=e.memoizedState,s=o.element,$oe(n,e),ok(e,i,null,r);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Jg(Error(lt(423)),e),e=h$(n,e,i,r,s);break e}else if(i!==s){s=Jg(Error(lt(424)),e),e=h$(n,e,i,r,s);break e}else for(fo=Nd(e.stateNode.containerInfo.firstChild),po=e,cr=!0,Ia=null,r=Loe(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kg(),i===s){e=du(n,e,r);break e}is(n,e,i,r)}e=e.child}return e;case 5:return zoe(e),n===null&&f8(e),i=e.type,s=e.pendingProps,o=n!==null?n.memoizedProps:null,a=s.children,l8(i,s)?a=null:o!==null&&l8(i,o)&&(e.flags|=32),hae(n,e),is(n,e,a,r),e.child;case 6:return n===null&&f8(e),null;case 13:return pae(n,e,r);case 4:return dj(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Xg(e,null,i,r):is(n,e,i,r),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:_a(i,s),c$(n,e,i,s,r);case 7:return is(n,e,e.pendingProps,r),e.child;case 8:return is(n,e,e.pendingProps.children,r),e.child;case 12:return is(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Kn(ik,i._currentValue),i._currentValue=a,o!==null)if(za(o.value,a)){if(o.children===s.children&&!Bs.current){e=du(n,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=Kc(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),p8(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(lt(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),p8(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}is(n,e,s.children,r),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Qm(e,r),s=aa(s),i=i(s),e.flags|=1,is(n,e,i,r),e.child;case 14:return i=e.type,s=_a(i,e.pendingProps),s=_a(i.type,s),u$(n,e,i,s,r);case 15:return uae(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:_a(i,s),lS(n,e),e.tag=1,Ls(i)?(n=!0,tk(e)):n=!1,Qm(e,r),aae(e,i,s),g8(e,i,s,r),v8(null,e,i,!0,n,r);case 19:return mae(n,e,r);case 22:return dae(n,e,r)}throw Error(lt(156,e.tag))};function Mae(n,e){return ioe(n,e)}function Q_e(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(n,e,r,i){return new Q_e(n,e,r,i)}function Ej(n){return n=n.prototype,!(!n||!n.isReactComponent)}function J_e(n){if(typeof n=="function")return Ej(n)?1:0;if(n!=null){if(n=n.$$typeof,n===HN)return 11;if(n===VN)return 14}return 2}function Fd(n,e){var r=n.alternate;return r===null?(r=ea(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function dS(n,e,r,i,s,o){var a=2;if(i=n,typeof n=="function")Ej(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Sm:return Cf(r.children,s,o,e);case qN:a=8,s|=8;break;case $D:return n=ea(12,r,e,s|2),n.elementType=$D,n.lanes=o,n;case zD:return n=ea(13,r,e,s),n.elementType=zD,n.lanes=o,n;case UD:return n=ea(19,r,e,s),n.elementType=UD,n.lanes=o,n;case zse:return aC(r,s,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Fse:a=10;break e;case $se:a=9;break e;case HN:a=11;break e;case VN:a=14;break e;case sd:a=16,i=null;break e}throw Error(lt(130,n==null?n:typeof n,""))}return e=ea(a,r,e,s),e.elementType=n,e.type=i,e.lanes=o,e}function Cf(n,e,r,i){return n=ea(7,n,i,e),n.lanes=r,n}function aC(n,e,r,i){return n=ea(22,n,i,e),n.elementType=zse,n.lanes=r,n.stateNode={isHidden:!1},n}function G6(n,e,r){return n=ea(6,n,null,e),n.lanes=r,n}function Y6(n,e,r){return e=ea(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Z_e(n,e,r,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T6(0),this.expirationTimes=T6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T6(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Aj(n,e,r,i,s,o,a,l,c){return n=new Z_e(n,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ea(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uj(o),n}function eSe(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_m,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function Oae(n){if(!n)return Kd;n=n._reactInternals;e:{if(gp(n)!==n||n.tag!==1)throw Error(lt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ls(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(lt(171))}if(n.tag===1){var r=n.type;if(Ls(r))return Ooe(n,r,e)}return e}function Dae(n,e,r,i,s,o,a,l,c){return n=Aj(r,i,!0,n,s,o,a,l,c),n.context=Oae(null),r=n.current,i=hs(),s=Ld(r),o=Kc(i,s),o.callback=e??null,jd(r,o,s),n.current.lanes=s,Yw(n,s,i),Fs(n,i),n}function lC(n,e,r,i){var s=e.current,o=hs(),a=Ld(s);return r=Oae(r),e.context===null?e.context=r:e.pendingContext=r,e=Kc(o,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=jd(s,e,a),n!==null&&(Ba(n,s,a,o),sS(n,s,a)),a}function pk(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function _$(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function Tj(n,e){_$(n,e),(n=n.alternate)&&_$(n,e)}function tSe(){return null}var Rae=typeof reportError=="function"?reportError:function(n){console.error(n)};function Pj(n){this._internalRoot=n}cC.prototype.render=Pj.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(lt(409));lC(n,e,null,null)};cC.prototype.unmount=Pj.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Wf(function(){lC(null,n,null,null)}),e[cu]=null}};function cC(n){this._internalRoot=n}cC.prototype.unstable_scheduleHydration=function(n){if(n){var e=doe();n={blockedOn:null,target:n,priority:e};for(var r=0;r<cd.length&&e!==0&&e<cd[r].priority;r++);cd.splice(r,0,n),r===0&&foe(n)}};function Ij(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function uC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function S$(){}function nSe(n,e,r,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var u=pk(a);o.call(u)}}var a=Dae(e,i,n,0,null,!1,!1,"",S$);return n._reactRootContainer=a,n[cu]=a.current,Cv(n.nodeType===8?n.parentNode:n),Wf(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=pk(c);l.call(u)}}var c=Aj(n,0,!1,null,null,!1,!1,"",S$);return n._reactRootContainer=c,n[cu]=c.current,Cv(n.nodeType===8?n.parentNode:n),Wf(function(){lC(e,c,r,i)}),c}function dC(n,e,r,i,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=pk(a);l.call(c)}}lC(e,a,n,s)}else a=nSe(r,e,n,s,i);return pk(a)}coe=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=wy(e.pendingLanes);r!==0&&(KN(e,r|1),Fs(e,Or()),!(xn&6)&&(Zg=Or()+500,oh()))}break;case 13:Wf(function(){var i=uu(n,1);if(i!==null){var s=hs();Ba(i,n,1,s)}}),Tj(n,1)}};XN=function(n){if(n.tag===13){var e=uu(n,134217728);if(e!==null){var r=hs();Ba(e,n,134217728,r)}Tj(n,134217728)}};uoe=function(n){if(n.tag===13){var e=Ld(n),r=uu(n,e);if(r!==null){var i=hs();Ba(r,n,e,i)}Tj(n,e)}};doe=function(){return Dn};hoe=function(n,e){var r=Dn;try{return Dn=n,e()}finally{Dn=r}};JD=function(n,e,r){switch(e){case"input":if(HD(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var s=tC(i);if(!s)throw Error(lt(90));Wse(i),HD(i,s)}}}break;case"textarea":Hse(n,r);break;case"select":e=r.value,e!=null&&Gm(n,!!r.multiple,e,!1)}};Jse=Sj;Zse=Wf;var rSe={usingClientEntryPoint:!1,Events:[Xw,Am,tC,Xse,Qse,Sj]},Ob={findFiberByHostInstance:Xh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iSe={bundleType:Ob.bundleType,version:Ob.version,rendererPackageName:Ob.rendererPackageName,rendererConfig:Ob.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wu.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=noe(n),n===null?null:n.stateNode},findFiberByHostInstance:Ob.findFiberByHostInstance||tSe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var B1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!B1.isDisabled&&B1.supportsFiber)try{Q2=B1.inject(iSe),Nl=B1}catch{}}Co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rSe;Co.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ij(e))throw Error(lt(200));return eSe(n,e,null,r)};Co.createRoot=function(n,e){if(!Ij(n))throw Error(lt(299));var r=!1,i="",s=Rae;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Aj(n,1,!1,null,null,r,!1,i,s),n[cu]=e.current,Cv(n.nodeType===8?n.parentNode:n),new Pj(e)};Co.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(lt(188)):(n=Object.keys(n).join(","),Error(lt(268,n)));return n=noe(e),n=n===null?null:n.stateNode,n};Co.flushSync=function(n){return Wf(n)};Co.hydrate=function(n,e,r){if(!uC(e))throw Error(lt(200));return dC(null,n,e,!0,r)};Co.hydrateRoot=function(n,e,r){if(!Ij(n))throw Error(lt(405));var i=r!=null&&r.hydratedSources||null,s=!1,o="",a=Rae;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Dae(e,null,n,1,r??null,s,!1,o,a),n[cu]=e.current,Cv(n),i)for(n=0;n<i.length;n++)r=i[n],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new cC(e)};Co.render=function(n,e,r){if(!uC(e))throw Error(lt(200));return dC(null,n,e,!1,r)};Co.unmountComponentAtNode=function(n){if(!uC(n))throw Error(lt(40));return n._reactRootContainer?(Wf(function(){dC(null,null,n,!1,function(){n._reactRootContainer=null,n[cu]=null})}),!0):!1};Co.unstable_batchedUpdates=Sj;Co.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!uC(r))throw Error(lt(200));if(n==null||n._reactInternals===void 0)throw Error(lt(38));return dC(n,e,r,!1,i)};Co.version="18.3.1-next-f1338f8080-20240426";function Nae(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nae)}catch(n){console.error(n)}}Nae(),Nse.exports=Co;var Ka=Nse.exports;const sSe=K2(Ka);var k$=Ka;LD.createRoot=k$.createRoot,LD.hydrateRoot=k$.hydrateRoot;var W0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oSe={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},fd,jN,hse,aSe=(hse=class{constructor(){ht(this,fd,oSe);ht(this,jN,!1)}setTimeoutProvider(n){je(this,fd,n)}setTimeout(n,e){return ne(this,fd).setTimeout(n,e)}clearTimeout(n){ne(this,fd).clearTimeout(n)}setInterval(n,e){return ne(this,fd).setInterval(n,e)}clearInterval(n){ne(this,fd).clearInterval(n)}},fd=new WeakMap,jN=new WeakMap,hse),Zh=new aSe;function lSe(n){setTimeout(n,0)}var qf=typeof window>"u"||"Deno"in globalThis;function ss(){}function cSe(n,e){return typeof n=="function"?n(e):n}function M8(n){return typeof n=="number"&&n>=0&&n!==1/0}function jae(n,e){return Math.max(n+(e||0)-Date.now(),0)}function $d(n,e){return typeof n=="function"?n(e):n}function Yo(n,e){return typeof n=="function"?n(e):n}function C$(n,e){const{type:r="all",exact:i,fetchStatus:s,predicate:o,queryKey:a,stale:l}=n;if(a){if(i){if(e.queryHash!==Mj(a,e.options))return!1}else if(!Rv(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||o&&!o(e))}function E$(n,e){const{exact:r,status:i,predicate:s,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(r){if(Hf(e.options.mutationKey)!==Hf(o))return!1}else if(!Rv(e.options.mutationKey,o))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function Mj(n,e){return((e==null?void 0:e.queryKeyHashFn)||Hf)(n)}function Hf(n){return JSON.stringify(n,(e,r)=>O8(r)?Object.keys(r).sort().reduce((i,s)=>(i[s]=r[s],i),{}):r)}function Rv(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(r=>Rv(n[r],e[r])):!1}var uSe=Object.prototype.hasOwnProperty;function Bae(n,e){if(n===e)return n;const r=A$(n)&&A$(e);if(!r&&!(O8(n)&&O8(e)))return e;const s=(r?n:Object.keys(n)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=r?u:o[u],h=n[d],f=e[d];if(h===f){l[d]=h,(r?u<s:uSe.call(n,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const p=Bae(h,f);l[d]=p,p===h&&c++}return s===a&&c===s?n:l}function mk(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(n[r]!==e[r])return!1;return!0}function A$(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function O8(n){if(!T$(n))return!1;const e=n.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!T$(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function T$(n){return Object.prototype.toString.call(n)==="[object Object]"}function dSe(n){return new Promise(e=>{Zh.setTimeout(e,n)})}function D8(n,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(n,e):r.structuralSharing!==!1?Bae(n,e):e}function hSe(n,e,r=0){const i=[...n,e];return r&&i.length>r?i.slice(1):i}function fSe(n,e,r=0){const i=[e,...n];return r&&i.length>r?i.slice(0,-1):i}var Oj=Symbol();function Lae(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Oj?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Fae(n,e){return typeof n=="function"?n(...e):!!n}var hf,pd,mg,fse,pSe=(fse=class extends W0{constructor(){super();ht(this,hf);ht(this,pd);ht(this,mg);je(this,mg,e=>{if(!qf&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ne(this,pd)||this.setEventListener(ne(this,mg))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,pd))==null||e.call(this),je(this,pd,void 0))}setEventListener(e){var r;je(this,mg,e),(r=ne(this,pd))==null||r.call(this),je(this,pd,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){ne(this,hf)!==e&&(je(this,hf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ne(this,hf)=="boolean"?ne(this,hf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hf=new WeakMap,pd=new WeakMap,mg=new WeakMap,fse),Dj=new pSe;function R8(){let n,e;const r=new Promise((s,o)=>{n=s,e=o});r.status="pending",r.catch(()=>{});function i(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},r.reject=s=>{i({status:"rejected",reason:s}),e(s)},r}var mSe=lSe;function gSe(){let n=[],e=0,r=l=>{l()},i=l=>{l()},s=mSe;const o=l=>{e?n.push(l):s(()=>{r(l)})},a=()=>{const l=n;n=[],l.length&&s(()=>{i(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var Vr=gSe(),gg,md,bg,pse,bSe=(pse=class extends W0{constructor(){super();ht(this,gg,!0);ht(this,md);ht(this,bg);je(this,bg,e=>{if(!qf&&window.addEventListener){const r=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}})}onSubscribe(){ne(this,md)||this.setEventListener(ne(this,bg))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,md))==null||e.call(this),je(this,md,void 0))}setEventListener(e){var r;je(this,bg,e),(r=ne(this,md))==null||r.call(this),je(this,md,e(this.setOnline.bind(this)))}setOnline(e){ne(this,gg)!==e&&(je(this,gg,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return ne(this,gg)}},gg=new WeakMap,md=new WeakMap,bg=new WeakMap,pse),gk=new bSe;function ySe(n){return Math.min(1e3*2**n,3e4)}function $ae(n){return(n??"online")==="online"?gk.isOnline():!0}var N8=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function zae(n){let e=!1,r=0,i;const s=R8(),o=()=>s.status!=="pending",a=b=>{var y;if(!o()){const v=new N8(b);f(v),(y=n.onCancel)==null||y.call(n,v)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>Dj.isFocused()&&(n.networkMode==="always"||gk.isOnline())&&n.canRun(),d=()=>$ae(n.networkMode)&&n.canRun(),h=b=>{o()||(i==null||i(),s.resolve(b))},f=b=>{o()||(i==null||i(),s.reject(b))},p=()=>new Promise(b=>{var y;i=v=>{(o()||u())&&b(v)},(y=n.onPause)==null||y.call(n)}).then(()=>{var b;i=void 0,o()||(b=n.onContinue)==null||b.call(n)}),m=()=>{if(o())return;let b;const y=r===0?n.initialPromise:void 0;try{b=y??n.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(h).catch(v=>{var C;if(o())return;const w=n.retry??(qf?0:3),_=n.retryDelay??ySe,x=typeof _=="function"?_(r,v):_,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,v);if(e||!S){f(v);return}r++,(C=n.onFail)==null||C.call(n,r,v),dSe(x).then(()=>u()?void 0:p()).then(()=>{e?f(v):m()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),s)}}var ff,mse,Uae=(mse=class{constructor(){ht(this,ff)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M8(this.gcTime)&&je(this,ff,Zh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(qf?1/0:5*60*1e3))}clearGcTimeout(){ne(this,ff)&&(Zh.clearTimeout(ne(this,ff)),je(this,ff,void 0))}},ff=new WeakMap,mse),pf,yg,Vo,mf,ni,Lw,gf,ka,vc,gse,vSe=(gse=class extends Uae{constructor(e){super();ht(this,ka);ht(this,pf);ht(this,yg);ht(this,Vo);ht(this,mf);ht(this,ni);ht(this,Lw);ht(this,gf);je(this,gf,!1),je(this,Lw,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,mf,e.client),je(this,Vo,ne(this,mf).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,pf,I$(this.options)),this.state=e.state??ne(this,pf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ne(this,ni))==null?void 0:e.promise}setOptions(e){if(this.options={...ne(this,Lw),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=I$(this.options);r.data!==void 0&&(this.setState(P$(r.data,r.dataUpdatedAt)),je(this,pf,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,Vo).remove(this)}setData(e,r){const i=D8(this.state.data,e,this.options);return Ft(this,ka,vc).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(e,r){Ft(this,ka,vc).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var i,s;const r=(i=ne(this,ni))==null?void 0:i.promise;return(s=ne(this,ni))==null||s.cancel(e),r?r.then(ss).catch(ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,pf))}isActive(){return this.observers.some(e=>Yo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Oj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>$d(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jae(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ne(this,ni))==null||r.continue()}onOnline(){var r;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ne(this,ni))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ne(this,Vo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ne(this,ni)&&(ne(this,gf)?ne(this,ni).cancel({revert:!0}):ne(this,ni).cancelRetry()),this.scheduleGc()),ne(this,Vo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,ka,vc).call(this,{type:"invalidate"})}async fetch(e,r){var c,u,d,h,f,p,m,b,y,v,w,_;if(this.state.fetchStatus!=="idle"&&((c=ne(this,ni))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,ni))return ne(this,ni).continueRetry(),ne(this,ni).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(S=>S.options.queryFn);x&&this.setOptions(x.options)}const i=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(je(this,gf,!0),i.signal)})},o=()=>{const x=Lae(this.options,r),C=(()=>{const E={client:ne(this,mf),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return je(this,gf,!1),this.options.persister?this.options.persister(x,C,this):x(C)},l=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ne(this,mf),state:this.state,fetchFn:o};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(l,this),je(this,yg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ft(this,ka,vc).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),je(this,ni,zae({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof N8&&x.revert&&this.setState({...ne(this,yg),fetchStatus:"idle"}),i.abort()},onFail:(x,S)=>{Ft(this,ka,vc).call(this,{type:"failed",failureCount:x,error:S})},onPause:()=>{Ft(this,ka,vc).call(this,{type:"pause"})},onContinue:()=>{Ft(this,ka,vc).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await ne(this,ni).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(p=(f=ne(this,Vo).config).onSuccess)==null||p.call(f,x,this),(b=(m=ne(this,Vo).config).onSettled)==null||b.call(m,x,this.state.error,this),x}catch(x){if(x instanceof N8){if(x.silent)return ne(this,ni).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw Ft(this,ka,vc).call(this,{type:"error",error:x}),(v=(y=ne(this,Vo).config).onError)==null||v.call(y,x,this),(_=(w=ne(this,Vo).config).onSettled)==null||_.call(w,this.state.data,x,this),x}finally{this.scheduleGc()}}},pf=new WeakMap,yg=new WeakMap,Vo=new WeakMap,mf=new WeakMap,ni=new WeakMap,Lw=new WeakMap,gf=new WeakMap,ka=new WeakSet,vc=function(e){const r=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Wae(i.data,this.options),fetchMeta:e.meta??null};case"success":const s={...i,...P$(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return je(this,yg,e.manual?s:void 0),s;case"error":const o=e.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=r(this.state),Vr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ne(this,Vo).notify({query:this,type:"updated",action:e})})},gse);function Wae(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$ae(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function P$(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function I$(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,r=e!==void 0,i=r?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Cs,mn,Fw,ts,bf,vg,Oc,gd,$w,wg,xg,yf,vf,bd,_g,Mn,_y,j8,B8,L8,F8,$8,z8,U8,qae,bse,wSe=(bse=class extends W0{constructor(e,r){super();ht(this,Mn);ht(this,Cs);ht(this,mn);ht(this,Fw);ht(this,ts);ht(this,bf);ht(this,vg);ht(this,Oc);ht(this,gd);ht(this,$w);ht(this,wg);ht(this,xg);ht(this,yf);ht(this,vf);ht(this,bd);ht(this,_g,new Set);this.options=r,je(this,Cs,e),je(this,gd,null),je(this,Oc,R8()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ne(this,mn).addObserver(this),M$(ne(this,mn),this.options)?Ft(this,Mn,_y).call(this):this.updateResult(),Ft(this,Mn,F8).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return W8(ne(this,mn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return W8(ne(this,mn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ft(this,Mn,$8).call(this),Ft(this,Mn,z8).call(this),ne(this,mn).removeObserver(this)}setOptions(e){const r=this.options,i=ne(this,mn);if(this.options=ne(this,Cs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Yo(this.options.enabled,ne(this,mn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ft(this,Mn,U8).call(this),ne(this,mn).setOptions(this.options),r._defaulted&&!mk(this.options,r)&&ne(this,Cs).getQueryCache().notify({type:"observerOptionsUpdated",query:ne(this,mn),observer:this});const s=this.hasListeners();s&&O$(ne(this,mn),i,this.options,r)&&Ft(this,Mn,_y).call(this),this.updateResult(),s&&(ne(this,mn)!==i||Yo(this.options.enabled,ne(this,mn))!==Yo(r.enabled,ne(this,mn))||$d(this.options.staleTime,ne(this,mn))!==$d(r.staleTime,ne(this,mn)))&&Ft(this,Mn,j8).call(this);const o=Ft(this,Mn,B8).call(this);s&&(ne(this,mn)!==i||Yo(this.options.enabled,ne(this,mn))!==Yo(r.enabled,ne(this,mn))||o!==ne(this,bd))&&Ft(this,Mn,L8).call(this,o)}getOptimisticResult(e){const r=ne(this,Cs).getQueryCache().build(ne(this,Cs),e),i=this.createResult(r,e);return _Se(this,i)&&(je(this,ts,i),je(this,vg,this.options),je(this,bf,ne(this,mn).state)),i}getCurrentResult(){return ne(this,ts)}trackResult(e,r){return new Proxy(e,{get:(i,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ne(this,Oc).status==="pending"&&ne(this,Oc).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,s))})}trackProp(e){ne(this,_g).add(e)}getCurrentQuery(){return ne(this,mn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ne(this,Cs).defaultQueryOptions(e),i=ne(this,Cs).getQueryCache().build(ne(this,Cs),r);return i.fetch().then(()=>this.createResult(i,r))}fetch(e){return Ft(this,Mn,_y).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ne(this,ts)))}createResult(e,r){var M;const i=ne(this,mn),s=this.options,o=ne(this,ts),a=ne(this,bf),l=ne(this,vg),u=e!==i?e.state:ne(this,Fw),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const I=this.hasListeners(),O=!I&&M$(e,r),F=I&&O$(e,i,r,s);(O||F)&&(h={...h,...Wae(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:b,status:y}=h;p=h.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let I;o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(I=o.data,v=!0):I=typeof r.placeholderData=="function"?r.placeholderData((M=ne(this,xg))==null?void 0:M.state.data,ne(this,xg)):r.placeholderData,I!==void 0&&(y="success",p=D8(o==null?void 0:o.data,I,r),f=!0)}if(r.select&&p!==void 0&&!v)if(o&&p===(a==null?void 0:a.data)&&r.select===ne(this,$w))p=ne(this,wg);else try{je(this,$w,r.select),p=r.select(p),p=D8(o==null?void 0:o.data,p,r),je(this,wg,p),je(this,gd,null)}catch(I){je(this,gd,I)}ne(this,gd)&&(m=ne(this,gd),p=ne(this,wg),b=Date.now(),y="error");const w=h.fetchStatus==="fetching",_=y==="pending",x=y==="error",S=_&&w,C=p!==void 0,A={status:y,fetchStatus:h.fetchStatus,isPending:_,isSuccess:y==="success",isError:x,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!_,isLoadingError:x&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&C,isStale:Rj(e,r),refetch:this.refetch,promise:ne(this,Oc),isEnabled:Yo(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=$=>{A.status==="error"?$.reject(A.error):A.data!==void 0&&$.resolve(A.data)},O=()=>{const $=je(this,Oc,A.promise=R8());I($)},F=ne(this,Oc);switch(F.status){case"pending":e.queryHash===i.queryHash&&I(F);break;case"fulfilled":(A.status==="error"||A.data!==F.value)&&O();break;case"rejected":(A.status!=="error"||A.error!==F.reason)&&O();break}}return A}updateResult(){const e=ne(this,ts),r=this.createResult(ne(this,mn),this.options);if(je(this,bf,ne(this,mn).state),je(this,vg,this.options),ne(this,bf).data!==void 0&&je(this,xg,ne(this,mn)),mk(r,e))return;je(this,ts,r);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!ne(this,_g).size)return!0;const a=new Set(o??ne(this,_g));return this.options.throwOnError&&a.add("error"),Object.keys(ne(this,ts)).some(l=>{const c=l;return ne(this,ts)[c]!==e[c]&&a.has(c)})};Ft(this,Mn,qae).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ft(this,Mn,F8).call(this)}},Cs=new WeakMap,mn=new WeakMap,Fw=new WeakMap,ts=new WeakMap,bf=new WeakMap,vg=new WeakMap,Oc=new WeakMap,gd=new WeakMap,$w=new WeakMap,wg=new WeakMap,xg=new WeakMap,yf=new WeakMap,vf=new WeakMap,bd=new WeakMap,_g=new WeakMap,Mn=new WeakSet,_y=function(e){Ft(this,Mn,U8).call(this);let r=ne(this,mn).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ss)),r},j8=function(){Ft(this,Mn,$8).call(this);const e=$d(this.options.staleTime,ne(this,mn));if(qf||ne(this,ts).isStale||!M8(e))return;const i=jae(ne(this,ts).dataUpdatedAt,e)+1;je(this,yf,Zh.setTimeout(()=>{ne(this,ts).isStale||this.updateResult()},i))},B8=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ne(this,mn)):this.options.refetchInterval)??!1},L8=function(e){Ft(this,Mn,z8).call(this),je(this,bd,e),!(qf||Yo(this.options.enabled,ne(this,mn))===!1||!M8(ne(this,bd))||ne(this,bd)===0)&&je(this,vf,Zh.setInterval(()=>{(this.options.refetchIntervalInBackground||Dj.isFocused())&&Ft(this,Mn,_y).call(this)},ne(this,bd)))},F8=function(){Ft(this,Mn,j8).call(this),Ft(this,Mn,L8).call(this,Ft(this,Mn,B8).call(this))},$8=function(){ne(this,yf)&&(Zh.clearTimeout(ne(this,yf)),je(this,yf,void 0))},z8=function(){ne(this,vf)&&(Zh.clearInterval(ne(this,vf)),je(this,vf,void 0))},U8=function(){const e=ne(this,Cs).getQueryCache().build(ne(this,Cs),this.options);if(e===ne(this,mn))return;const r=ne(this,mn);je(this,mn,e),je(this,Fw,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},qae=function(e){Vr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ne(this,ts))}),ne(this,Cs).getQueryCache().notify({query:ne(this,mn),type:"observerResultsUpdated"})})},bse);function xSe(n,e){return Yo(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function M$(n,e){return xSe(n,e)||n.state.data!==void 0&&W8(n,e,e.refetchOnMount)}function W8(n,e,r){if(Yo(e.enabled,n)!==!1&&$d(e.staleTime,n)!=="static"){const i=typeof r=="function"?r(n):r;return i==="always"||i!==!1&&Rj(n,e)}return!1}function O$(n,e,r,i){return(n!==e||Yo(i.enabled,n)===!1)&&(!r.suspense||n.state.status!=="error")&&Rj(n,r)}function Rj(n,e){return Yo(e.enabled,n)!==!1&&n.isStaleByTime($d(e.staleTime,n))}function _Se(n,e){return!mk(n.getCurrentResult(),e)}function D$(n){return{onFetch:(e,r)=>{var d,h,f,p,m;const i=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},v=Lae(e.options,e.fetchOptions),w=async(_,x,S)=>{if(b)return Promise.reject();if(x==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return y(O),O})(),A=await v(E),{maxPages:M}=e.options,I=S?fSe:hSe;return{pages:I(_.pages,A,M),pageParams:I(_.pageParams,x,M)}};if(s&&o.length){const _=s==="backward",x=_?SSe:R$,S={pages:o,pageParams:a},C=x(i,S);l=await w(S,C,_)}else{const _=n??o.length;do{const x=c===0?a[0]??i.initialPageParam:R$(i,l);if(c>0&&x==null)break;l=await w(l,x),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function R$(n,{pages:e,pageParams:r}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,r[i],r):void 0}function SSe(n,{pages:e,pageParams:r}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,r[0],r):void 0}var zw,_l,ns,wf,Sl,td,yse,kSe=(yse=class extends Uae{constructor(e){super();ht(this,Sl);ht(this,zw);ht(this,_l);ht(this,ns);ht(this,wf);je(this,zw,e.client),this.mutationId=e.mutationId,je(this,ns,e.mutationCache),je(this,_l,[]),this.state=e.state||Hae(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ne(this,_l).includes(e)||(ne(this,_l).push(e),this.clearGcTimeout(),ne(this,ns).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,_l,ne(this,_l).filter(r=>r!==e)),this.scheduleGc(),ne(this,ns).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ne(this,_l).length||(this.state.status==="pending"?this.scheduleGc():ne(this,ns).remove(this))}continue(){var e;return((e=ne(this,wf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,d,h,f,p,m,b,y,v,w,_,x,S,C,E,A,M;const r=()=>{Ft(this,Sl,td).call(this,{type:"continue"})},i={client:ne(this,zw),meta:this.options.meta,mutationKey:this.options.mutationKey};je(this,wf,zae({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{Ft(this,Sl,td).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{Ft(this,Sl,td).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,ns).canRun(this)}));const s=this.state.status==="pending",o=!ne(this,wf).canStart();try{if(s)r();else{Ft(this,Sl,td).call(this,{type:"pending",variables:e,isPaused:o}),await((l=(a=ne(this,ns).config).onMutate)==null?void 0:l.call(a,e,this,i));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,i));O!==this.state.context&&Ft(this,Sl,td).call(this,{type:"pending",context:O,variables:e,isPaused:o})}const I=await ne(this,wf).start();return await((h=(d=ne(this,ns).config).onSuccess)==null?void 0:h.call(d,I,e,this.state.context,this,i)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,e,this.state.context,i)),await((b=(m=ne(this,ns).config).onSettled)==null?void 0:b.call(m,I,null,this.state.variables,this.state.context,this,i)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,I,null,e,this.state.context,i)),Ft(this,Sl,td).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(w=ne(this,ns).config).onError)==null?void 0:_.call(w,I,e,this.state.context,this,i)),await((S=(x=this.options).onError)==null?void 0:S.call(x,I,e,this.state.context,i)),await((E=(C=ne(this,ns).config).onSettled)==null?void 0:E.call(C,void 0,I,this.state.variables,this.state.context,this,i)),await((M=(A=this.options).onSettled)==null?void 0:M.call(A,void 0,I,e,this.state.context,i)),I}finally{Ft(this,Sl,td).call(this,{type:"error",error:I})}}finally{ne(this,ns).runNext(this)}}},zw=new WeakMap,_l=new WeakMap,ns=new WeakMap,wf=new WeakMap,Sl=new WeakSet,td=function(e){const r=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vr.batch(()=>{ne(this,_l).forEach(i=>{i.onMutationUpdate(e)}),ne(this,ns).notify({mutation:this,type:"updated",action:e})})},yse);function Hae(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dc,Ca,Uw,vse,CSe=(vse=class extends W0{constructor(e={}){super();ht(this,Dc);ht(this,Ca);ht(this,Uw);this.config=e,je(this,Dc,new Set),je(this,Ca,new Map),je(this,Uw,0)}build(e,r,i){const s=new kSe({client:e,mutationCache:this,mutationId:++w1(this,Uw)._,options:e.defaultMutationOptions(r),state:i});return this.add(s),s}add(e){ne(this,Dc).add(e);const r=L1(e);if(typeof r=="string"){const i=ne(this,Ca).get(r);i?i.push(e):ne(this,Ca).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ne(this,Dc).delete(e)){const r=L1(e);if(typeof r=="string"){const i=ne(this,Ca).get(r);if(i)if(i.length>1){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}else i[0]===e&&ne(this,Ca).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=L1(e);if(typeof r=="string"){const i=ne(this,Ca).get(r),s=i==null?void 0:i.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var i;const r=L1(e);if(typeof r=="string"){const s=(i=ne(this,Ca).get(r))==null?void 0:i.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vr.batch(()=>{ne(this,Dc).forEach(e=>{this.notify({type:"removed",mutation:e})}),ne(this,Dc).clear(),ne(this,Ca).clear()})}getAll(){return Array.from(ne(this,Dc))}find(e){const r={exact:!0,...e};return this.getAll().find(i=>E$(r,i))}findAll(e={}){return this.getAll().filter(r=>E$(e,r))}notify(e){Vr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Vr.batch(()=>Promise.all(e.map(r=>r.continue().catch(ss))))}},Dc=new WeakMap,Ca=new WeakMap,Uw=new WeakMap,vse);function L1(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Rc,yd,Es,Nc,au,hS,q8,wse,ESe=(wse=class extends W0{constructor(r,i){super();ht(this,au);ht(this,Rc);ht(this,yd);ht(this,Es);ht(this,Nc);je(this,Rc,r),this.setOptions(i),this.bindMethods(),Ft(this,au,hS).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const i=this.options;this.options=ne(this,Rc).defaultMutationOptions(r),mk(this.options,i)||ne(this,Rc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ne(this,Es),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Hf(i.mutationKey)!==Hf(this.options.mutationKey)?this.reset():((s=ne(this,Es))==null?void 0:s.state.status)==="pending"&&ne(this,Es).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ne(this,Es))==null||r.removeObserver(this)}onMutationUpdate(r){Ft(this,au,hS).call(this),Ft(this,au,q8).call(this,r)}getCurrentResult(){return ne(this,yd)}reset(){var r;(r=ne(this,Es))==null||r.removeObserver(this),je(this,Es,void 0),Ft(this,au,hS).call(this),Ft(this,au,q8).call(this)}mutate(r,i){var s;return je(this,Nc,i),(s=ne(this,Es))==null||s.removeObserver(this),je(this,Es,ne(this,Rc).getMutationCache().build(ne(this,Rc),this.options)),ne(this,Es).addObserver(this),ne(this,Es).execute(r)}},Rc=new WeakMap,yd=new WeakMap,Es=new WeakMap,Nc=new WeakMap,au=new WeakSet,hS=function(){var i;const r=((i=ne(this,Es))==null?void 0:i.state)??Hae();je(this,yd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},q8=function(r){Vr.batch(()=>{var i,s,o,a,l,c,u,d;if(ne(this,Nc)&&this.hasListeners()){const h=ne(this,yd).variables,f=ne(this,yd).context,p={client:ne(this,Rc),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(i=ne(this,Nc)).onSuccess)==null||s.call(i,r.data,h,f,p),(a=(o=ne(this,Nc)).onSettled)==null||a.call(o,r.data,null,h,f,p)):(r==null?void 0:r.type)==="error"&&((c=(l=ne(this,Nc)).onError)==null||c.call(l,r.error,h,f,p),(d=(u=ne(this,Nc)).onSettled)==null||d.call(u,void 0,r.error,h,f,p))}this.listeners.forEach(h=>{h(ne(this,yd))})})},wse),kl,xse,ASe=(xse=class extends W0{constructor(e={}){super();ht(this,kl);this.config=e,je(this,kl,new Map)}build(e,r,i){const s=r.queryKey,o=r.queryHash??Mj(s,r);let a=this.get(o);return a||(a=new vSe({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){ne(this,kl).has(e.queryHash)||(ne(this,kl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ne(this,kl).get(e.queryHash);r&&(e.destroy(),r===e&&ne(this,kl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,kl).get(e)}getAll(){return[...ne(this,kl).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(i=>C$(r,i))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(i=>C$(e,i)):r}notify(e){Vr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Vr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kl=new WeakMap,xse),xr,vd,wd,Sg,kg,xd,Cg,Eg,_se,TSe=(_se=class{constructor(n={}){ht(this,xr);ht(this,vd);ht(this,wd);ht(this,Sg);ht(this,kg);ht(this,xd);ht(this,Cg);ht(this,Eg);je(this,xr,n.queryCache||new ASe),je(this,vd,n.mutationCache||new CSe),je(this,wd,n.defaultOptions||{}),je(this,Sg,new Map),je(this,kg,new Map),je(this,xd,0)}mount(){w1(this,xd)._++,ne(this,xd)===1&&(je(this,Cg,Dj.subscribe(async n=>{n&&(await this.resumePausedMutations(),ne(this,xr).onFocus())})),je(this,Eg,gk.subscribe(async n=>{n&&(await this.resumePausedMutations(),ne(this,xr).onOnline())})))}unmount(){var n,e;w1(this,xd)._--,ne(this,xd)===0&&((n=ne(this,Cg))==null||n.call(this),je(this,Cg,void 0),(e=ne(this,Eg))==null||e.call(this),je(this,Eg,void 0))}isFetching(n){return ne(this,xr).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return ne(this,vd).findAll({...n,status:"pending"}).length}getQueryData(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=ne(this,xr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),r=ne(this,xr).build(this,e),i=r.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&r.isStaleByTime($d(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return ne(this,xr).findAll(n).map(({queryKey:e,state:r})=>{const i=r.data;return[e,i]})}setQueryData(n,e,r){const i=this.defaultQueryOptions({queryKey:n}),s=ne(this,xr).get(i.queryHash),o=s==null?void 0:s.state.data,a=cSe(e,o);if(a!==void 0)return ne(this,xr).build(this,i).setData(a,{...r,manual:!0})}setQueriesData(n,e,r){return Vr.batch(()=>ne(this,xr).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,r)]))}getQueryState(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=ne(this,xr).get(e.queryHash))==null?void 0:r.state}removeQueries(n){const e=ne(this,xr);Vr.batch(()=>{e.findAll(n).forEach(r=>{e.remove(r)})})}resetQueries(n,e){const r=ne(this,xr);return Vr.batch(()=>(r.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const r={revert:!0,...e},i=Vr.batch(()=>ne(this,xr).findAll(n).map(s=>s.cancel(r)));return Promise.all(i).then(ss).catch(ss)}invalidateQueries(n,e={}){return Vr.batch(()=>(ne(this,xr).findAll(n).forEach(r=>{r.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},i=Vr.batch(()=>ne(this,xr).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(ss)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(ss)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const r=ne(this,xr).build(this,e);return r.isStaleByTime($d(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ss).catch(ss)}fetchInfiniteQuery(n){return n.behavior=D$(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ss).catch(ss)}ensureInfiniteQueryData(n){return n.behavior=D$(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return gk.isOnline()?ne(this,vd).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,xr)}getMutationCache(){return ne(this,vd)}getDefaultOptions(){return ne(this,wd)}setDefaultOptions(n){je(this,wd,n)}setQueryDefaults(n,e){ne(this,Sg).set(Hf(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...ne(this,Sg).values()],r={};return e.forEach(i=>{Rv(n,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(n,e){ne(this,kg).set(Hf(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...ne(this,kg).values()],r={};return e.forEach(i=>{Rv(n,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(n){if(n._defaulted)return n;const e={...ne(this,wd).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Mj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Oj&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...ne(this,wd).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){ne(this,xr).clear(),ne(this,vd).clear()}},xr=new WeakMap,vd=new WeakMap,wd=new WeakMap,Sg=new WeakMap,kg=new WeakMap,xd=new WeakMap,Cg=new WeakMap,Eg=new WeakMap,_se),Vae=T.createContext(void 0),Gae=n=>{const e=T.useContext(Vae);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},N$=({client:n,children:e})=>(T.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),g.jsx(Vae.Provider,{value:n,children:e})),Yae=T.createContext(!1),PSe=()=>T.useContext(Yae);Yae.Provider;function ISe(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var MSe=T.createContext(ISe()),OSe=()=>T.useContext(MSe),DSe=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},RSe=n=>{T.useEffect(()=>{n.clearReset()},[n])},NSe=({result:n,errorResetBoundary:e,throwOnError:r,query:i,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&i&&(s&&n.data===void 0||Fae(r,[n.error,i])),jSe=n=>{if(n.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),i=n.staleTime;n.staleTime=typeof i=="function"?(...s)=>r(i(...s)):r(i),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},BSe=(n,e)=>n.isLoading&&n.isFetching&&!e,LSe=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,j$=(n,e,r)=>e.fetchOptimistic(n).catch(()=>{r.clearReset()});function FSe(n,e,r){var h,f,p,m,b;const i=PSe(),s=OSe(),o=Gae(),a=o.defaultQueryOptions(n);(f=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=i?"isRestoring":"optimistic",jSe(a),DSe(a,s),RSe(s);const l=!o.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new e(o,a)),u=c.getOptimisticResult(a),d=!i&&n.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(y=>{const v=d?c.subscribe(Vr.batchCalls(y)):ss;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),LSe(a,u))throw j$(a,c,s);if(NSe({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((m=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,a,u),a.experimental_prefetchInRender&&!qf&&BSe(u,i)){const y=l?j$(a,c,s):(b=o.getQueryCache().get(a.queryHash))==null?void 0:b.promise;y==null||y.catch(ss).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Kae(n,e){return FSe(n,wSe)}function Jw(n,e){const r=Gae(),[i]=T.useState(()=>new ESe(r,n));T.useEffect(()=>{i.setOptions(n)},[i,n]);const s=T.useSyncExternalStore(T.useCallback(a=>i.subscribe(Vr.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=T.useCallback((a,l)=>{i.mutate(a,l).catch(ss)},[i]);if(s.error&&Fae(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const bk=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],H8=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Xae=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Qae=[...Xae,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],$Se=[...Xae,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],B$=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],L$=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Jae=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],F$=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Ua(n,{includeName:e=!1}={}){if(n.type!=="function"&&n.type!=="event"&&n.type!=="error")throw new eke(n.type);return`${n.name}(${hC(n.inputs,{includeName:e})})`}function hC(n,{includeName:e=!1}={}){return n?n.map(r=>zSe(r,{includeName:e})).join(e?", ":","):""}function zSe(n,{includeName:e}){return n.type.startsWith("tuple")?`(${hC(n.components,{includeName:e})})${n.type.slice(5)}`:n.type+(e&&n.name?` ${n.name}`:"")}function Ul(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function Sr(n){return Ul(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const Zae="2.43.2";let Db={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:r})=>e?`${n??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Zae}`},nt=class V8 extends Error{constructor(e,r={}){var l;const i=(()=>{var c;return r.cause instanceof V8?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof V8&&r.cause.docsPath||r.docsPath,o=(l=Db.getDocsUrl)==null?void 0:l.call(Db,{...r,docsPath:s}),a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...i?[`Details: ${i}`]:[],...Db.version?[`Version: ${Db.version}`]:[]].join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Zae}walk(e){return ele(this,e)}};function ele(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?ele(n.cause,e):e?null:n}class USe extends nt{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class $$ extends nt{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class tle extends nt{constructor({data:e,params:r,size:i}){super([`Data size of ${i} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${hC(r,{includeName:!0})})`,`Data:   ${e} (${i} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=i}}class Zw extends nt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class WSe extends nt{constructor({expectedLength:e,givenLength:r,type:i}){super([`ABI encoding array length mismatch for type ${i}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class qSe extends nt{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Sr(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class HSe extends nt{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class VSe extends nt{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class z$ extends nt{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class nle extends nt{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class GSe extends nt{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class YSe extends nt{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class U$ extends nt{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class e0 extends nt{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class rle extends nt{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class KSe extends nt{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class XSe extends nt{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ua(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Ua(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let QSe=class extends nt{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class yk extends nt{constructor({abiItem:e,data:r,params:i,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${hC(i,{includeName:!0})})`,`Data:   ${r} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=i,this.size=s}}class Nj extends nt{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Ua(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class JSe extends nt{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class ZSe extends nt{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let ile=class extends nt{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class eke extends nt{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let Xd=class extends nt{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},sle=class extends nt{constructor({offset:e,position:r,size:i}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`,{name:"SliceOffsetOutOfBoundsError"})}},ole=class extends nt{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class W$ extends nt{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} is expected to be ${r} ${i} long, but is ${e} ${i} long.`,{name:"InvalidBytesLengthError"})}}function q0(n,{dir:e,size:r=32}={}){return typeof n=="string"?zd(n,{dir:e,size:r}):tke(n,{dir:e,size:r})}function zd(n,{dir:e,size:r=32}={}){if(r===null)return n;const i=n.replace("0x","");if(i.length>r*2)throw new ole({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function tke(n,{dir:e,size:r=32}={}){if(r===null)return n;if(n.length>r)throw new ole({size:n.length,targetSize:r,type:"bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=e==="right";i[o?s:r-s-1]=n[o?s:n.length-s-1]}return i}let ale=class extends nt{constructor({max:e,min:r,signed:i,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},nke=class extends nt{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class rke extends nt{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let ike=class extends nt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Ef(n,{dir:e="left"}={}){let r=typeof n=="string"?n.replace("0x",""):n,i=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=e==="left"?r.slice(i):r.slice(0,r.length-i),typeof n=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Xa(n,{size:e}){if(Sr(n)>e)throw new ike({givenSize:Sr(n),maxSize:e})}function Wl(n,e={}){const{signed:r}=e;e.size&&Xa(n,{size:e.size});const i=BigInt(n);if(!r)return i;const s=(n.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return i<=o?i:i-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ske(n,e={}){let r=n;if(e.size&&(Xa(r,{size:e.size}),r=Ef(r)),Ef(r)==="0x00")return!1;if(Ef(r)==="0x01")return!0;throw new rke(r)}function ql(n,e={}){return Number(Wl(n,e))}const oke=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function hu(n,e={}){return typeof n=="number"||typeof n=="bigint"?At(n,e):typeof n=="string"?t0(n,e):typeof n=="boolean"?lle(n,e):Kr(n,e)}function lle(n,e={}){const r=`0x${Number(n)}`;return typeof e.size=="number"?(Xa(r,{size:e.size}),q0(r,{size:e.size})):r}function Kr(n,e={}){let r="";for(let s=0;s<n.length;s++)r+=oke[n[s]];const i=`0x${r}`;return typeof e.size=="number"?(Xa(i,{size:e.size}),q0(i,{dir:"right",size:e.size})):i}function At(n,e={}){const{signed:r,size:i}=e,s=BigInt(n);let o;i?r?o=(1n<<BigInt(i)*8n-1n)-1n:o=2n**(BigInt(i)*8n)-1n:typeof n=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<a){const c=typeof n=="bigint"?"n":"";throw new ale({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:r,size:i,value:`${n}${c}`})}const l=`0x${(r&&s<0?(1n<<BigInt(i*8))+BigInt(s):s).toString(16)}`;return i?q0(l,{size:i}):l}const ake=new TextEncoder;function t0(n,e={}){const r=ake.encode(n);return Kr(r,e)}const lke=new TextEncoder;function H0(n,e={}){return typeof n=="number"||typeof n=="bigint"?uke(n,e):typeof n=="boolean"?cke(n,e):Ul(n)?Hl(n,e):Af(n,e)}function cke(n,e={}){const r=new Uint8Array(1);return r[0]=Number(n),typeof e.size=="number"?(Xa(r,{size:e.size}),q0(r,{size:e.size})):r}const cc={zero:48,nine:57,A:65,F:70,a:97,f:102};function q$(n){if(n>=cc.zero&&n<=cc.nine)return n-cc.zero;if(n>=cc.A&&n<=cc.F)return n-(cc.A-10);if(n>=cc.a&&n<=cc.f)return n-(cc.a-10)}function Hl(n,e={}){let r=n;e.size&&(Xa(r,{size:e.size}),r=q0(r,{dir:"right",size:e.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=q$(i.charCodeAt(l++)),u=q$(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new nt(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function uke(n,e){const r=At(n,e);return Hl(r)}function Af(n,e={}){const r=lke.encode(n);return typeof e.size=="number"?(Xa(r,{size:e.size}),q0(r,{dir:"right",size:e.size})):r}const F1=BigInt(2**32-1),H$=BigInt(32);function dke(n,e=!1){return e?{h:Number(n&F1),l:Number(n>>H$&F1)}:{h:Number(n>>H$&F1)|0,l:Number(n&F1)|0}}function hke(n,e=!1){const r=n.length;let i=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=dke(n[o],e);[i[o],s[o]]=[a,l]}return[i,s]}const fke=(n,e,r)=>n<<r|e>>>32-r,pke=(n,e,r)=>e<<r|n>>>32-r,mke=(n,e,r)=>e<<r-32|n>>>64-r,gke=(n,e,r)=>n<<r-32|e>>>64-r,Xp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bke(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Nv(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Vf(n,...e){if(!bke(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function yke(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Nv(n.outputLen),Nv(n.blockLen)}function n0(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function cle(n,e){Vf(n);const r=e.outputLen;if(n.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function vke(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function r0(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function K6(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function al(n,e){return n<<32-e|n>>>e}const wke=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function xke(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function _ke(n){for(let e=0;e<n.length;e++)n[e]=xke(n[e]);return n}const V$=wke?n=>n:_ke;function Ske(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function fC(n){return typeof n=="string"&&(n=Ske(n)),Vf(n),n}function kke(...n){let e=0;for(let i=0;i<n.length;i++){const s=n[i];Vf(s),e+=s.length}const r=new Uint8Array(e);for(let i=0,s=0;i<n.length;i++){const o=n[i];r.set(o,s),s+=o.length}return r}let jj=class{};function ule(n){const e=i=>n().update(fC(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}function Cke(n=32){if(Xp&&typeof Xp.getRandomValues=="function")return Xp.getRandomValues(new Uint8Array(n));if(Xp&&typeof Xp.randomBytes=="function")return Uint8Array.from(Xp.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}const Eke=BigInt(0),Rb=BigInt(1),Ake=BigInt(2),Tke=BigInt(7),Pke=BigInt(256),Ike=BigInt(113),dle=[],hle=[],fle=[];for(let n=0,e=Rb,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],dle.push(2*(5*i+r)),hle.push((n+1)*(n+2)/2%64);let s=Eke;for(let o=0;o<7;o++)e=(e<<Rb^(e>>Tke)*Ike)%Pke,e&Ake&&(s^=Rb<<(Rb<<BigInt(o))-Rb);fle.push(s)}const ple=hke(fle,!0),Mke=ple[0],Oke=ple[1],G$=(n,e,r)=>r>32?mke(n,e,r):fke(n,e,r),Y$=(n,e,r)=>r>32?gke(n,e,r):pke(n,e,r);function Dke(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=G$(u,d,1)^r[l],f=Y$(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=hle[a],c=G$(s,o,l),u=Y$(s,o,l),d=dle[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=Mke[i],n[1]^=Oke[i]}r0(r)}let Rke=class mle extends jj{constructor(e,r,i,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,Nv(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=vke(this.state)}clone(){return this._cloneInto()}keccak(){V$(this.state32),Dke(this.state32,this.rounds),V$(this.state32),this.posOut=0,this.pos=0}update(e){n0(this),e=fC(e),Vf(e);const{blockLen:r,state:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){n0(this,!1),Vf(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Nv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(cle(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,r0(this.state)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new mle(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const Nke=(n,e,r)=>ule(()=>new Rke(e,n,r)),jke=Nke(1,136,256/8);function Ci(n,e){const r=e||"hex",i=jke(Ul(n,{strict:!1})?H0(n):n);return r==="bytes"?i:hu(i)}let pC=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const Bke=/^0x[a-fA-F0-9]{40}$/,X6=new pC(8192);function xo(n,e){const{strict:r=!0}=e??{},i=`${n}.${r}`;if(X6.has(i))return X6.get(i);const s=Bke.test(n)?n.toLowerCase()===n?!0:r?mC(n)===n:!0:!1;return X6.set(i,s),s}const Q6=new pC(8192);function mC(n,e){if(Q6.has(`${n}.${e}`))return Q6.get(`${n}.${e}`);const r=e?`${e}${n.toLowerCase()}`:n.substring(2).toLowerCase(),i=Ci(Af(r),"bytes"),s=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)i[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(i[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const o=`0x${s.join("")}`;return Q6.set(`${n}.${e}`,o),o}function li(n,e){if(!xo(n,{strict:!1}))throw new Xd({address:n});return mC(n,e)}let K$=class extends nt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},gle=class extends nt{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Lke=class extends nt{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Fke={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Lke({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new gle({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new K$({offset:n});const e=this.position-n;this.assertPosition(e),this.position=e},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new K$({offset:n});const e=this.position+n;this.assertPosition(e),this.position=e},inspectByte(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(n,e){const r=e??this.position;return this.assertPosition(r+n-1),this.bytes.subarray(r,r+n)},inspectUint8(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(n){const e=n??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(n){const e=n??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(n){const e=n??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(n);return this.position+=e??n,r},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const e=this.position;return this.assertPosition(n),this.position=n,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function Bj(n,{recursiveReadLimit:e=8192}={}){const r=Object.create(Fke);return r.bytes=n,r.dataView=new DataView(n.buffer??n,n.byteOffset,n.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function i0(n,e,r,{strict:i}={}){return Ul(n,{strict:!1})?$ke(n,e,r,{strict:i}):vle(n,e,r,{strict:i})}function ble(n,e){if(typeof e=="number"&&e>0&&e>Sr(n)-1)throw new sle({offset:e,position:"start",size:Sr(n)})}function yle(n,e,r){if(typeof e=="number"&&typeof r=="number"&&Sr(n)!==r-e)throw new sle({offset:r,position:"end",size:Sr(n)})}function vle(n,e,r,{strict:i}={}){ble(n,e);const s=n.slice(e,r);return i&&yle(s,e,r),s}function $ke(n,e,r,{strict:i}={}){ble(n,e);const s=`0x${n.replace("0x","").slice((e??0)*2,(r??n.length)*2)}`;return i&&yle(s,e,r),s}function zke(n,e={}){typeof e.size<"u"&&Xa(n,{size:e.size});const r=Kr(n,e);return Wl(r,e)}function Uke(n,e={}){let r=n;if(typeof e.size<"u"&&(Xa(r,{size:e.size}),r=Ef(r)),r.length>1||r[0]>1)throw new nke(r);return!!r[0]}function Xc(n,e={}){typeof e.size<"u"&&Xa(n,{size:e.size});const r=Kr(n,e);return ql(r,e)}function Wke(n,e={}){let r=n;return typeof e.size<"u"&&(Xa(r,{size:e.size}),r=Ef(r,{dir:"right"})),new TextDecoder().decode(r)}function Vl(n){return typeof n[0]=="string"?V0(n):qke(n)}function qke(n){let e=0;for(const s of n)e+=s.length;const r=new Uint8Array(e);let i=0;for(const s of n)r.set(s,i),i+=s.length;return r}function V0(n){return`0x${n.reduce((e,r)=>e+r.replace("0x",""),"")}`}const Hke=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,wle=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function bp(n,e){if(n.length!==e.length)throw new HSe({expectedLength:n.length,givenLength:e.length});const r=Vke({params:n,values:e}),i=Fj(r);return i.length===0?"0x":i}function Vke({params:n,values:e}){const r=[];for(let i=0;i<n.length;i++)r.push(Lj({param:n[i],value:e[i]}));return r}function Lj({param:n,value:e}){const r=$j(n.type);if(r){const[i,s]=r;return Yke(e,{length:i,param:{...n,type:s}})}if(n.type==="tuple")return Zke(e,{param:n});if(n.type==="address")return Gke(e);if(n.type==="bool")return Xke(e);if(n.type.startsWith("uint")||n.type.startsWith("int")){const i=n.type.startsWith("int"),[,,s="256"]=wle.exec(n.type)??[];return Qke(e,{signed:i,size:Number(s)})}if(n.type.startsWith("bytes"))return Kke(e,{param:n});if(n.type==="string")return Jke(e);throw new JSe(n.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Fj(n){let e=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?e+=32:e+=Sr(l)}const r=[],i=[];let s=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?(r.push(At(e+s,{size:32})),i.push(l),s+=Sr(l)):r.push(l)}return Vl([...r,...i])}function Gke(n){if(!xo(n))throw new Xd({address:n});return{dynamic:!1,encoded:zd(n.toLowerCase())}}function Yke(n,{length:e,param:r}){const i=e===null;if(!Array.isArray(n))throw new ile(n);if(!i&&n.length!==e)throw new WSe({expectedLength:e,givenLength:n.length,type:`${r.type}[${e}]`});let s=!1;const o=[];for(let a=0;a<n.length;a++){const l=Lj({param:r,value:n[a]});l.dynamic&&(s=!0),o.push(l)}if(i||s){const a=Fj(o);if(i){const l=At(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Vl([l,a]):l}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Vl(o.map(({encoded:a})=>a))}}function Kke(n,{param:e}){const[,r]=e.type.split("bytes"),i=Sr(n);if(!r){let s=n;return i%32!==0&&(s=zd(s,{dir:"right",size:Math.ceil((n.length-2)/2/32)*32})),{dynamic:!0,encoded:Vl([zd(At(i,{size:32})),s])}}if(i!==Number.parseInt(r,10))throw new qSe({expectedSize:Number.parseInt(r,10),value:n});return{dynamic:!1,encoded:zd(n,{dir:"right"})}}function Xke(n){if(typeof n!="boolean")throw new nt(`Invalid boolean value: "${n}" (type: ${typeof n}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:zd(lle(n))}}function Qke(n,{signed:e,size:r=256}){if(typeof r=="number"){const i=2n**(BigInt(r)-(e?1n:0n))-1n,s=e?-i-1n:0n;if(n>i||n<s)throw new ale({max:i.toString(),min:s.toString(),signed:e,size:r/8,value:n.toString()})}return{dynamic:!1,encoded:At(n,{size:32,signed:e})}}function Jke(n){const e=t0(n),r=Math.ceil(Sr(e)/32),i=[];for(let s=0;s<r;s++)i.push(zd(i0(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Vl([zd(At(Sr(e),{size:32})),...i])}}function Zke(n,{param:e}){let r=!1;const i=[];for(let s=0;s<e.components.length;s++){const o=e.components[s],a=Array.isArray(n)?s:o.name,l=Lj({param:o,value:n[a]});i.push(l),l.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Fj(i):Vl(i.map(({encoded:s})=>s))}}function $j(n){const e=n.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function ex(n,e){const r=typeof e=="string"?Hl(e):e,i=Bj(r);if(Sr(r)===0&&n.length>0)throw new Zw;if(Sr(e)&&Sr(e)<32)throw new tle({data:typeof e=="string"?e:Kr(e),params:n,size:Sr(e)});let s=0;const o=[];for(let a=0;a<n.length;++a){const l=n[a];i.setPosition(s);const[c,u]=Zm(i,l,{staticPosition:0});s+=u,o.push(c)}return o}function Zm(n,e,{staticPosition:r}){const i=$j(e.type);if(i){const[s,o]=i;return t2e(n,{...e,type:o},{length:s,staticPosition:r})}if(e.type==="tuple")return s2e(n,e,{staticPosition:r});if(e.type==="address")return e2e(n);if(e.type==="bool")return n2e(n);if(e.type.startsWith("bytes"))return r2e(n,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return i2e(n,e);if(e.type==="string")return o2e(n,{staticPosition:r});throw new ZSe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const X$=32,G8=32;function e2e(n){const e=n.readBytes(32);return[mC(Kr(vle(e,-20))),32]}function t2e(n,e,{length:r,staticPosition:i}){if(!r){const a=Xc(n.readBytes(G8)),l=i+a,c=l+X$;n.setPosition(l);const u=Xc(n.readBytes(X$)),d=jv(e);let h=0;const f=[];for(let p=0;p<u;++p){n.setPosition(c+(d?p*32:h));const[m,b]=Zm(n,e,{staticPosition:c});h+=b,f.push(m)}return n.setPosition(i+32),[f,32]}if(jv(e)){const a=Xc(n.readBytes(G8)),l=i+a,c=[];for(let u=0;u<r;++u){n.setPosition(l+u*32);const[d]=Zm(n,e,{staticPosition:l});c.push(d)}return n.setPosition(i+32),[c,32]}let s=0;const o=[];for(let a=0;a<r;++a){const[l,c]=Zm(n,e,{staticPosition:i+s});s+=c,o.push(l)}return[o,s]}function n2e(n){return[Uke(n.readBytes(32),{size:32}),32]}function r2e(n,e,{staticPosition:r}){const[i,s]=e.type.split("bytes");if(!s){const a=Xc(n.readBytes(32));n.setPosition(r+a);const l=Xc(n.readBytes(32));if(l===0)return n.setPosition(r+32),["0x",32];const c=n.readBytes(l);return n.setPosition(r+32),[Kr(c),32]}return[Kr(n.readBytes(Number.parseInt(s,10),32)),32]}function i2e(n,e){const r=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),s=n.readBytes(32);return[i>48?zke(s,{signed:r}):Xc(s,{signed:r}),32]}function s2e(n,e,{staticPosition:r}){const i=e.components.length===0||e.components.some(({name:a})=>!a),s=i?[]:{};let o=0;if(jv(e)){const a=Xc(n.readBytes(G8)),l=r+a;for(let c=0;c<e.components.length;++c){const u=e.components[c];n.setPosition(l+o);const[d,h]=Zm(n,u,{staticPosition:l});o+=h,s[i?c:u==null?void 0:u.name]=d}return n.setPosition(r+32),[s,32]}for(let a=0;a<e.components.length;++a){const l=e.components[a],[c,u]=Zm(n,l,{staticPosition:r});s[i?a:l==null?void 0:l.name]=c,o+=u}return[s,o]}function o2e(n,{staticPosition:e}){const r=Xc(n.readBytes(32)),i=e+r;n.setPosition(i);const s=Xc(n.readBytes(32));if(s===0)return n.setPosition(e+32),["",32];const o=n.readBytes(s,32),a=Wke(Ef(o));return n.setPosition(e+32),[a,32]}function jv(n){var i;const{type:e}=n;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(i=n.components)==null?void 0:i.some(jv);const r=$j(n.type);return!!(r&&jv({...n,type:r[1]}))}const a2e=n=>Ci(H0(n));function l2e(n){return a2e(n)}const c2e="1.2.3";let Hs=class Y8 extends Error{constructor(e,r={}){var a;const i=r.cause instanceof Y8?r.cause.details:(a=r.cause)!=null&&a.message?r.cause.message:r.details,s=r.cause instanceof Y8&&r.cause.docsPath||r.docsPath,o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${c2e}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}};function xu(n,e){const r=n.exec(e);return r==null?void 0:r.groups}const xle=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_le=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Sle=/^\(.+?\).*?$/,Q$=/^tuple(?<array>(\[(\d*)\])*)$/;function K8(n){let e=n.type;if(Q$.test(n.type)&&"components"in n){e="(";const r=n.components.length;for(let s=0;s<r;s++){const o=n.components[s];e+=K8(o),s<r-1&&(e+=", ")}const i=xu(Q$,n.type);return e+=`)${(i==null?void 0:i.array)||""}`,K8({...n,type:e})}return"indexed"in n&&n.indexed&&(e=`${e} indexed`),n.name?`${e} ${n.name}`:e}function bm(n){let e="";const r=n.length;for(let i=0;i<r;i++){const s=n[i];e+=K8(s),i!==r-1&&(e+=", ")}return e}function vk(n){var e;return n.type==="function"?`function ${n.name}(${bm(n.inputs)})${n.stateMutability&&n.stateMutability!=="nonpayable"?` ${n.stateMutability}`:""}${(e=n.outputs)!=null&&e.length?` returns (${bm(n.outputs)})`:""}`:n.type==="event"?`event ${n.name}(${bm(n.inputs)})`:n.type==="error"?`error ${n.name}(${bm(n.inputs)})`:n.type==="constructor"?`constructor(${bm(n.inputs)})${n.stateMutability==="payable"?" payable":""}`:n.type==="fallback"?`fallback() external${n.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const kle=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function u2e(n){return kle.test(n)}function d2e(n){return xu(kle,n)}const Cle=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function h2e(n){return Cle.test(n)}function f2e(n){return xu(Cle,n)}const Ele=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function p2e(n){return Ele.test(n)}function m2e(n){return xu(Ele,n)}const Ale=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function gC(n){return Ale.test(n)}function g2e(n){return xu(Ale,n)}const Tle=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function b2e(n){return Tle.test(n)}function y2e(n){return xu(Tle,n)}const Ple=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function v2e(n){return Ple.test(n)}function w2e(n){return xu(Ple,n)}const x2e=/^receive\(\) external payable$/;function _2e(n){return x2e.test(n)}const J$=new Set(["memory","indexed","storage","calldata"]),S2e=new Set(["indexed"]),X8=new Set(["calldata","memory","storage"]);class k2e extends Hs{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class C2e extends Hs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class E2e extends Hs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class A2e extends Hs{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class T2e extends Hs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class P2e extends Hs{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class I2e extends Hs{constructor({param:e,type:r,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class M2e extends Hs{constructor({param:e,type:r,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class O2e extends Hs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class G0 extends Hs{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class D2e extends Hs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class R2e extends Hs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class N2e extends Hs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class j2e extends Hs{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function B2e(n,e,r){let i="";if(r)for(const s of Object.entries(r)){if(!s)continue;let o="";for(const a of s[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;i+=`(${s[0]}{${o}})`}return e?`${e}:${n}${i}`:`${n}${i}`}const J6=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Q8(n,e={}){if(p2e(n))return L2e(n,e);if(h2e(n))return F2e(n,e);if(u2e(n))return $2e(n,e);if(b2e(n))return z2e(n,e);if(v2e(n))return U2e(n);if(_2e(n))return{type:"receive",stateMutability:"payable"};throw new D2e({signature:n})}function L2e(n,e={}){const r=m2e(n);if(!r)throw new G0({signature:n,type:"function"});const i=uo(r.parameters),s=[],o=i.length;for(let l=0;l<o;l++)s.push(fu(i[l],{modifiers:X8,structs:e,type:"function"}));const a=[];if(r.returns){const l=uo(r.returns),c=l.length;for(let u=0;u<c;u++)a.push(fu(l[u],{modifiers:X8,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:s,outputs:a}}function F2e(n,e={}){const r=f2e(n);if(!r)throw new G0({signature:n,type:"event"});const i=uo(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(fu(i[a],{modifiers:S2e,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:s}}function $2e(n,e={}){const r=d2e(n);if(!r)throw new G0({signature:n,type:"error"});const i=uo(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(fu(i[a],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:s}}function z2e(n,e={}){const r=y2e(n);if(!r)throw new G0({signature:n,type:"constructor"});const i=uo(r.parameters),s=[],o=i.length;for(let a=0;a<o;a++)s.push(fu(i[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:s}}function U2e(n){const e=w2e(n);if(!e)throw new G0({signature:n,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const W2e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,q2e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,H2e=/^u?int$/;function fu(n,e){var h,f;const r=B2e(n,e==null?void 0:e.type,e==null?void 0:e.structs);if(J6.has(r))return J6.get(r);const i=Sle.test(n),s=xu(i?q2e:W2e,n);if(!s)throw new T2e({param:n});if(s.name&&G2e(s.name))throw new P2e({param:n,name:s.name});const o=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},l=(e==null?void 0:e.structs)??{};let c,u={};if(i){c="tuple";const p=uo(s.type),m=[],b=p.length;for(let y=0;y<b;y++)m.push(fu(p[y],{structs:l}));u={components:m}}else if(s.type in l)c="tuple",u={components:l[s.type]};else if(H2e.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!Ile(c))throw new E2e({type:c});if(s.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,s.modifier)))throw new I2e({param:n,type:e==null?void 0:e.type,modifier:s.modifier});if(X8.has(s.modifier)&&!Y2e(c,!!s.array))throw new M2e({param:n,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...a,...u};return J6.set(r,d),d}function uo(n,e=[],r="",i=0){const s=n.trim().length;for(let o=0;o<s;o++){const a=n[o],l=n.slice(o+1);switch(a){case",":return i===0?uo(l,[...e,r.trim()]):uo(l,e,`${r}${a}`,i);case"(":return uo(l,e,`${r}${a}`,i+1);case")":return uo(l,e,`${r}${a}`,i-1);default:return uo(l,e,`${r}${a}`,i)}}if(r==="")return e;if(i!==0)throw new j2e({current:r,depth:i});return e.push(r.trim()),e}function Ile(n){return n==="address"||n==="bool"||n==="function"||n==="string"||xle.test(n)||_le.test(n)}const V2e=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function G2e(n){return n==="address"||n==="bool"||n==="function"||n==="string"||n==="tuple"||xle.test(n)||_le.test(n)||V2e.test(n)}function Y2e(n,e){return e||n==="bytes"||n==="string"||n==="tuple"}function zj(n){const e={},r=n.length;for(let a=0;a<r;a++){const l=n[a];if(!gC(l))continue;const c=g2e(l);if(!c)throw new G0({signature:l,type:"struct"});const u=c.properties.split(";"),d=[],h=u.length;for(let f=0;f<h;f++){const m=u[f].trim();if(!m)continue;const b=fu(m,{type:"struct"});d.push(b)}if(!d.length)throw new R2e({signature:l});e[c.name]=d}const i={},s=Object.entries(e),o=s.length;for(let a=0;a<o;a++){const[l,c]=s[a];i[l]=Mle(c,e)}return i}const K2e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Mle(n=[],e={},r=new Set){const i=[],s=n.length;for(let o=0;o<s;o++){const a=n[o];if(Sle.test(a.type))i.push(a);else{const c=xu(K2e,a.type);if(!(c!=null&&c.type))throw new O2e({abiParameter:a});const{array:u,type:d}=c;if(d in e){if(r.has(d))throw new N2e({type:d});i.push({...a,type:`tuple${u??""}`,components:Mle(e[d],e,new Set([...r,d]))})}else if(Ile(d))i.push(a);else throw new C2e({type:d})}}return i}function Ole(n){const e=zj(n),r=[],i=n.length;for(let s=0;s<i;s++){const o=n[s];gC(o)||r.push(Q8(o,e))}return r}function Z$(n){let e;if(typeof n=="string")e=Q8(n);else{const r=zj(n),i=n.length;for(let s=0;s<i;s++){const o=n[s];if(!gC(o)){e=Q8(o,r);break}}}if(!e)throw new k2e({signature:n});return e}function ez(n){const e=[];if(typeof n=="string"){const r=uo(n),i=r.length;for(let s=0;s<i;s++)e.push(fu(r[s],{modifiers:J$}))}else{const r=zj(n),i=n.length;for(let s=0;s<i;s++){const o=n[s];if(gC(o))continue;const a=uo(o),l=a.length;for(let c=0;c<l;c++)e.push(fu(a[c],{modifiers:J$,structs:r}))}}if(e.length===0)throw new A2e({params:n});return e}function X2e(n){let e=!0,r="",i=0,s="",o=!1;for(let a=0;a<n.length;a++){const l=n[a];if(["(",")",","].includes(l)&&(e=!0),l==="("&&i++,l===")"&&i--,!!e){if(i===0){if(l===" "&&["event","function",""].includes(s))s="";else if(s+=l,l===")"){o=!0;break}continue}if(l===" "){n[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=l,r+=l}}if(!o)throw new nt("Unable to normalize signature.");return s}const Q2e=n=>{const e=typeof n=="string"?n:vk(n);return X2e(e)};function Dle(n){return l2e(Q2e(n))}const bC=Dle,tx=n=>i0(Dle(n),0,4);function yp(n){const{abi:e,args:r=[],name:i}=n,s=Ul(i,{strict:!1}),o=e.filter(l=>s?l.type==="function"?tx(l)===i:l.type==="event"?bC(l)===i:!1:"name"in l&&l.name===i);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return l;continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((u,d)=>{const h="inputs"in l&&l.inputs[d];return h?J8(u,h):!1})){if(a&&"inputs"in a&&a.inputs){const u=Rle(l.inputs,a.inputs,r);if(u)throw new XSe({abiItem:l,type:u[0]},{abiItem:a,type:u[1]})}a=l}}return a||o[0]}function J8(n,e){const r=typeof n,i=e.type;switch(i){case"address":return xo(n,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>J8(Object.values(n)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?r==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(n)&&n.every(s=>J8(s,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Rle(n,e,r){for(const i in n){const s=n[i],o=e[i];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Rle(s.components,o.components,r[i]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?xo(r[i],{strict:!1}):a.includes("address")&&a.includes("bytes")?xo(r[i],{strict:!1}):!1)return a}}const Z6="/docs/contract/decodeFunctionResult";function vp(n){const{abi:e,args:r,functionName:i,data:s}=n;let o=e[0];if(i){const l=yp({abi:e,args:r,name:i});if(!l)throw new e0(i,{docsPath:Z6});o=l}if(o.type!=="function")throw new e0(void 0,{docsPath:Z6});if(!o.outputs)throw new rle(o.name,{docsPath:Z6});const a=ex(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const tz="/docs/contract/encodeFunctionData";function J2e(n){const{abi:e,args:r,functionName:i}=n;let s=e[0];if(i){const o=yp({abi:e,args:r,name:i});if(!o)throw new e0(i,{docsPath:tz});s=o}if(s.type!=="function")throw new e0(void 0,{docsPath:tz});return{abi:[s],functionName:tx(Ua(s))}}function Qa(n){const{args:e}=n,{abi:r,functionName:i}=(()=>{var l;return n.abi.length===1&&((l=n.functionName)!=null&&l.startsWith("0x"))?n:J2e(n)})(),s=r[0],o=i,a="inputs"in s&&s.inputs?bp(s.inputs,e??[]):void 0;return V0([o,a??"0x"])}class Z8 extends nt{constructor({blockNumber:e,chain:r,contract:i}){super(`Chain "${r.name}" does not support contract "${i.name}".`,{metaMessages:["This could be due to any of the following:",...e&&i.blockCreated&&i.blockCreated>e?[`- The contract "${i.name}" was not deployed until block ${i.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${i.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Nle extends nt{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Y0({blockNumber:n,chain:e,contract:r}){var s;const i=(s=e==null?void 0:e.contracts)==null?void 0:s[r];if(!i)throw new Z8({chain:e,contract:{name:r}});if(n&&i.blockCreated&&i.blockCreated>n)throw new Z8({blockNumber:n,chain:e,contract:{name:r,blockCreated:i.blockCreated}});return i.address}function Gi(n){return typeof n=="string"?{address:n,type:"json-rpc"}:n}const Z2e={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},jle={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},eCe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function tCe(n){const{abi:e,data:r}=n,i=i0(r,0,4);if(i==="0x")throw new Zw;const o=[...e||[],jle,eCe].find(a=>a.type==="error"&&i===tx(Ua(a)));if(!o)throw new nle(i,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?ex(o.inputs,i0(r,4)):void 0,errorName:o.name}}const hi=(n,e,r)=>JSON.stringify(n,(i,s)=>typeof s=="bigint"?s.toString():s,r);function Ble({abiItem:n,args:e,includeFunctionName:r=!0,includeName:i=!1}){if("name"in n&&"inputs"in n&&n.inputs)return`${r?n.name:""}(${n.inputs.map((s,o)=>`${i&&s.name?`${s.name}: `:""}${typeof e[o]=="object"?hi(e[o]):e[o]}`).join(", ")})`}const nCe={gwei:9,wei:18},rCe={ether:-9,wei:9};function Lle(n,e){let r=n.toString();const i=r.startsWith("-");i&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,o]=[r.slice(0,r.length-e),r.slice(r.length-e)];return o=o.replace(/(0+)$/,""),`${i?"-":""}${s||"0"}${o?`.${o}`:""}`}function Uj(n,e="wei"){return Lle(n,nCe[e])}function $s(n,e="wei"){return Lle(n,rCe[e])}class iCe extends nt{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class sCe extends nt{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function nz(n){return n.reduce((e,{slot:r,value:i})=>`${e}        ${r}: ${i}
`,"")}function oCe(n){return n.reduce((e,{address:r,...i})=>{let s=`${e}    ${r}:
`;return i.nonce&&(s+=`      nonce: ${i.nonce}
`),i.balance&&(s+=`      balance: ${i.balance}
`),i.code&&(s+=`      code: ${i.code}
`),i.state&&(s+=`      state:
`,s+=nz(i.state)),i.stateDiff&&(s+=`      stateDiff:
`,s+=nz(i.stateDiff)),s},`  State Override:
`).slice(0,-1)}function nx(n){const e=Object.entries(n).map(([i,s])=>s===void 0||s===!1?null:[i,s]).filter(Boolean),r=e.reduce((i,[s])=>Math.max(i,s.length),0);return e.map(([i,s])=>`  ${`${i}:`.padEnd(r+1)}  ${s}`).join(`
`)}class aCe extends nt{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",nx(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class lCe extends nt{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f}){var m;const p=nx({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${Uj(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${$s(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${$s(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$s(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Fle extends nt{constructor({blockHash:e,blockNumber:r,blockTag:i,hash:s,index:o}){let a="Transaction";i&&o!==void 0&&(a=`Transaction at block time "${i}" at index "${o}"`),e&&o!==void 0&&(a=`Transaction at block hash "${e}" at index "${o}"`),r&&o!==void 0&&(a=`Transaction at block number "${r}" at index "${o}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class $le extends nt{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class cCe extends nt{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class uCe extends nt{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const dCe=n=>n,Wj=n=>n;class zle extends nt{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f,stateOverride:p}){var y;const m=r?Gi(r):void 0;let b=nx({from:m==null?void 0:m.address,to:h,value:typeof f<"u"&&`${Uj(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${$s(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${$s(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$s(u)} gwei`,nonce:d});p&&(b+=`
${oCe(p)}`),super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Ule extends nt{constructor(e,{abi:r,args:i,contractAddress:s,docsPath:o,functionName:a,sender:l}){const c=yp({abi:r,args:i,name:a}),u=c?Ble({abiItem:c,args:i,includeFunctionName:!1,includeName:!1}):void 0,d=c?Ua(c,{includeName:!0}):void 0,h=nx({address:s&&dCe(s),function:d,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:l});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=i,this.cause=e,this.contractAddress=s,this.functionName=a,this.sender=l}}class eR extends nt{constructor({abi:e,data:r,functionName:i,message:s}){let o,a,l,c;if(r&&r!=="0x")try{a=tCe({abi:e,data:r});const{abiItem:d,errorName:h,args:f}=a;if(h==="Error")c=f[0];else if(h==="Panic"){const[p]=f;c=Z2e[p]}else{const p=d?Ua(d,{includeName:!0}):void 0,m=d&&f?Ble({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;l=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof nle&&(u=o.signature,l=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${i}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${i}" reverted.`,{cause:o,metaMessages:l,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=r,this.reason=c,this.signature=u}}class hCe extends nt{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class fCe extends nt{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class yC extends nt{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function qj(n){var r,i,s,o,a,l;if(!(n instanceof nt))return!1;const e=n.walk(c=>c instanceof eR);return e instanceof eR?((r=e.data)==null?void 0:r.errorName)==="HttpError"||((i=e.data)==null?void 0:i.errorName)==="ResolverError"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=e.data)==null?void 0:o.errorName)==="ResolverNotFound"||((a=e.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((l=e.data)==null?void 0:l.errorName)==="UnsupportedResolverProfile":!1}function pCe(n){const{abi:e,data:r}=n,i=i0(r,0,4),s=e.find(o=>o.type==="function"&&i===tx(Ua(o)));if(!s)throw new KSe(i,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ex(s.inputs,i0(r,4)):void 0}}const e5="/docs/contract/encodeErrorResult";function rz(n){const{abi:e,errorName:r,args:i}=n;let s=e[0];if(r){const c=yp({abi:e,args:i,name:r});if(!c)throw new z$(r,{docsPath:e5});s=c}if(s.type!=="error")throw new z$(void 0,{docsPath:e5});const o=Ua(s),a=tx(o);let l="0x";if(i&&i.length>0){if(!s.inputs)throw new VSe(s.name,{docsPath:e5});l=bp(s.inputs,i)}return V0([a,l])}const t5="/docs/contract/encodeFunctionResult";function mCe(n){const{abi:e,functionName:r,result:i}=n;let s=e[0];if(r){const a=yp({abi:e,name:r});if(!a)throw new e0(r,{docsPath:t5});s=a}if(s.type!=="function")throw new e0(void 0,{docsPath:t5});if(!s.outputs)throw new rle(s.name,{docsPath:t5});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[i];if(Array.isArray(i))return i;throw new ile(i)})();return bp(s.outputs,o)}const vC="x-batch-gateway:true";async function gCe(n){const{data:e,ccipRequest:r}=n,{args:[i]}=pCe({abi:H8,data:e}),s=[],o=[];return await Promise.all(i.map(async(a,l)=>{try{o[l]=a.urls.includes(vC)?await gCe({data:a.data,ccipRequest:r}):await r(a),s[l]=!1}catch(c){s[l]=!0,o[l]=bCe(c)}})),mCe({abi:H8,functionName:"query",result:[s,o]})}function bCe(n){return n.name==="HttpRequestError"&&n.status?rz({abi:H8,errorName:"HttpError",args:[n.status,n.shortMessage]}):rz({abi:[jle],errorName:"Error",args:["shortMessage"in n?n.shortMessage:n.message]})}function Wle(n){if(n.length!==66||n.indexOf("[")!==0||n.indexOf("]")!==65)return null;const e=`0x${n.slice(1,65)}`;return Ul(e)?e:null}function tR(n){let e=new Uint8Array(32).fill(0);if(!n)return Kr(e);const r=n.split(".");for(let i=r.length-1;i>=0;i-=1){const s=Wle(r[i]),o=s?H0(s):Ci(Af(r[i]),"bytes");e=Ci(Vl([e,o]),"bytes")}return Kr(e)}function yCe(n){return`[${n.slice(2)}]`}function vCe(n){const e=new Uint8Array(32).fill(0);return n?Wle(n)||Ci(Af(n)):Kr(e)}function Hj(n){const e=n.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(Af(e).byteLength+2);let i=0;const s=e.split(".");for(let o=0;o<s.length;o++){let a=Af(s[o]);a.byteLength>255&&(a=Af(yCe(vCe(s[o])))),r[i]=a.length,r.set(a,i+1),i+=a.length+1}return r.byteLength!==i+1?r.slice(0,i+1):r}function $t(n,e,r){const i=n[e.name];if(typeof i=="function")return i;const s=n[r];return typeof s=="function"?s:o=>e(n,o)}class Ky extends nt{constructor({body:e,cause:r,details:i,headers:s,status:o,url:a}){super("HTTP request failed.",{cause:r,details:i,metaMessages:[o&&`Status: ${o}`,`URL: ${Wj(a)}`,e&&`Request body: ${hi(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=o,this.url=a}}class Vj extends nt{constructor({body:e,error:r,url:i}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Wj(i)}`,`Request body: ${hi(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=i}}class iz extends nt{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Wj(r)}`,`Request body: ${hi(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const wCe=-1;class Vs extends nt{constructor(e,{code:r,docsPath:i,metaMessages:s,name:o,shortMessage:a}){super(a,{cause:e,docsPath:i,metaMessages:s||(e==null?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof Vj?e.code:r??wCe}}class Ao extends Vs{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Bv extends Vs{constructor(e){super(e,{code:Bv.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Bv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Lv extends Vs{constructor(e){super(e,{code:Lv.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Lv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Fv extends Vs{constructor(e,{method:r}={}){super(e,{code:Fv.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Fv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class $v extends Vs{constructor(e){super(e,{code:$v.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty($v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Gf extends Vs{constructor(e){super(e,{code:Gf.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Gf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Qd extends Vs{constructor(e){super(e,{code:Qd.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class zv extends Vs{constructor(e){super(e,{code:zv.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Bl extends Vs{constructor(e){super(e,{code:Bl.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Bl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Uv extends Vs{constructor(e){super(e,{code:Uv.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Uv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ef extends Vs{constructor(e,{method:r}={}){super(e,{code:ef.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(ef,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class s0 extends Vs{constructor(e){super(e,{code:s0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(s0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Wv extends Vs{constructor(e){super(e,{code:Wv.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Pn extends Ao{constructor(e){super(e,{code:Pn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class qv extends Ao{constructor(e){super(e,{code:qv.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Hv extends Ao{constructor(e,{method:r}={}){super(e,{code:Hv.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Hv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Vv extends Ao{constructor(e){super(e,{code:Vv.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Gv extends Ao{constructor(e){super(e,{code:Gv.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class mo extends Ao{constructor(e){super(e,{code:mo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Yv extends Ao{constructor(e){super(e,{code:Yv.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Kv extends Ao{constructor(e){super(e,{code:Kv.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Kv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Xv extends Ao{constructor(e){super(e,{code:Xv.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Qv extends Ao{constructor(e){super(e,{code:Qv.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Jv extends Ao{constructor(e){super(e,{code:Jv.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Zv extends Ao{constructor(e){super(e,{code:Zv.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ew extends Ao{constructor(e){super(e,{code:ew.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ew,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class xCe extends Vs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const _Ce=3;function o0(n,{abi:e,address:r,args:i,docsPath:s,functionName:o,sender:a}){const l=n instanceof yC?n:n instanceof nt?n.walk(m=>"data"in m)||n.walk():{},{code:c,data:u,details:d,message:h,shortMessage:f}=l,p=n instanceof Zw?new hCe({functionName:o}):[_Ce,Gf.code].includes(c)&&(u||d||h||f)||c===Qd.code&&d==="execution reverted"&&u?new eR({abi:e,data:typeof u=="object"?u.data:u,functionName:o,message:l instanceof Vj?d:f??h}):n;return new Ule(p,{abi:e,args:i,contractAddress:r,docsPath:s,functionName:o,sender:a})}const SCe="modulepreload",kCe=function(n){return"/"+n},sz={},bt=function(e,r,i){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=kCe(c),c in sz)return;sz[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":SCe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},CCe="0.1.1";function ECe(){return CCe}let cn=class wc extends Error{static setStaticOptions(e){wc.prototype.docsOrigin=e.docsOrigin,wc.prototype.showVersion=e.showVersion,wc.prototype.version=e.version}constructor(e,r={}){const i=(()=>{var d;if(r.cause instanceof wc){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(d=r.cause)!=null&&d.message?r.cause.message:r.details})(),s=r.cause instanceof wc&&r.cause.docsPath||r.docsPath,o=r.docsOrigin??wc.prototype.docsOrigin,a=`${o}${s??""}`,l=!!(r.version??wc.prototype.showVersion),c=r.version??wc.prototype.version,u=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...i||s||l?["",i?`Details: ${i}`:void 0,s?`See: ${a}`:void 0,l?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=r.cause,this.details=i,this.docs=a,this.docsOrigin=o,this.docsPath=s,this.shortMessage=e,this.showVersion=l,this.version=c}walk(e){return qle(this,e)}};Object.defineProperty(cn,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${ECe()}`}});cn.setStaticOptions(cn.defaultStaticOptions);function qle(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause?qle(n.cause,e):e?null:n}function rx(n,e){if(Rm(n)>e)throw new WCe({givenSize:Rm(n),maxSize:e})}const uc={zero:48,nine:57,A:65,F:70,a:97,f:102};function oz(n){if(n>=uc.zero&&n<=uc.nine)return n-uc.zero;if(n>=uc.A&&n<=uc.F)return n-(uc.A-10);if(n>=uc.a&&n<=uc.f)return n-(uc.a-10)}function ACe(n,e={}){const{dir:r,size:i=32}=e;if(i===0)return n;if(n.length>i)throw new qCe({size:n.length,targetSize:i,type:"Bytes"});const s=new Uint8Array(i);for(let o=0;o<i;o++){const a=r==="right";s[a?o:i-o-1]=n[a?o:n.length-o-1]}return s}function Hle(n,e={}){const{dir:r="left"}=e;let i=n,s=0;for(let o=0;o<i.length-1&&i[r==="left"?o:i.length-o-1].toString()==="0";o++)s++;return i=r==="left"?i.slice(s):i.slice(0,i.length-s),i}function wC(n,e){if(_o(n)>e)throw new XCe({givenSize:_o(n),maxSize:e})}function TCe(n,e){if(typeof e=="number"&&e>0&&e>_o(n)-1)throw new ece({offset:e,position:"start",size:_o(n)})}function PCe(n,e,r){if(typeof e=="number"&&typeof r=="number"&&_o(n)!==r-e)throw new ece({offset:r,position:"end",size:_o(n)})}function Vle(n,e={}){const{dir:r,size:i=32}=e;if(i===0)return n;const s=n.replace("0x","");if(s.length>i*2)throw new QCe({size:Math.ceil(s.length/2),targetSize:i,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](i*2,"0")}`}const ICe="#__bigint";function Gle(n,e,r){return JSON.stringify(n,(i,s)=>typeof s=="bigint"?s.toString()+ICe:s,r)}const MCe=new TextDecoder,OCe=new TextEncoder;function DCe(n){return n instanceof Uint8Array?n:typeof n=="string"?Yle(n):RCe(n)}function RCe(n){return n instanceof Uint8Array?n:new Uint8Array(n)}function Yle(n,e={}){const{size:r}=e;let i=n;r&&(wC(n,r),i=Kf(n,r));let s=i.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,a=new Uint8Array(o);for(let l=0,c=0;l<o;l++){const u=oz(s.charCodeAt(c++)),d=oz(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new cn(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);a[l]=u<<4|d}return a}function NCe(n,e={}){const{size:r}=e,i=OCe.encode(n);return typeof r=="number"?(rx(i,r),jCe(i,r)):i}function jCe(n,e){return ACe(n,{dir:"right",size:e})}function Rm(n){return n.length}function BCe(n,e,r,i={}){const{strict:s}=i;return n.slice(e,r)}function LCe(n,e={}){const{size:r}=e;typeof r<"u"&&rx(n,r);const i=qa(n,e);return Qle(i,e)}function FCe(n,e={}){const{size:r}=e;let i=n;if(typeof r<"u"&&(rx(i,r),i=Kle(i)),i.length>1||i[0]>1)throw new UCe(i);return!!i[0]}function Qc(n,e={}){const{size:r}=e;typeof r<"u"&&rx(n,r);const i=qa(n,e);return Jle(i,e)}function $Ce(n,e={}){const{size:r}=e;let i=n;return typeof r<"u"&&(rx(i,r),i=zCe(i)),MCe.decode(i)}function Kle(n){return Hle(n,{dir:"left"})}function zCe(n){return Hle(n,{dir:"right"})}class UCe extends cn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let WCe=class extends cn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},qCe=class extends cn{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const HCe=new TextEncoder,VCe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function GCe(n,e={}){const{strict:r=!1}=e;if(!n)throw new az(n);if(typeof n!="string")throw new az(n);if(r&&!/^0x[0-9a-fA-F]*$/.test(n))throw new lz(n);if(!n.startsWith("0x"))throw new lz(n)}function Wa(...n){return`0x${n.reduce((e,r)=>e+r.replace("0x",""),"")}`}function YCe(n){return n instanceof Uint8Array?qa(n):Array.isArray(n)?qa(new Uint8Array(n)):n}function Xle(n,e={}){const r=`0x${Number(n)}`;return typeof e.size=="number"?(wC(r,e.size),Yf(r,e.size)):r}function qa(n,e={}){let r="";for(let s=0;s<n.length;s++)r+=VCe[n[s]];const i=`0x${r}`;return typeof e.size=="number"?(wC(i,e.size),Kf(i,e.size)):i}function os(n,e={}){const{signed:r,size:i}=e,s=BigInt(n);let o;i?r?o=(1n<<BigInt(i)*8n-1n)-1n:o=2n**(BigInt(i)*8n)-1n:typeof n=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<a){const u=typeof n=="bigint"?"n":"";throw new Zle({max:o?`${o}${u}`:void 0,min:`${a}${u}`,signed:r,size:i,value:`${n}${u}`})}const c=`0x${(r&&s<0?BigInt.asUintN(i*8,BigInt(s)):s).toString(16)}`;return i?Yf(c,i):c}function Gj(n,e={}){return qa(HCe.encode(n),e)}function Yf(n,e){return Vle(n,{dir:"left",size:e})}function Kf(n,e){return Vle(n,{dir:"right",size:e})}function Ll(n,e,r,i={}){const{strict:s}=i;TCe(n,e);const o=`0x${n.replace("0x","").slice((e??0)*2,(r??n.length)*2)}`;return s&&PCe(o,e,r),o}function _o(n){return Math.ceil((n.length-2)/2)}function Qle(n,e={}){const{signed:r}=e;e.size&&wC(n,e.size);const i=BigInt(n);if(!r)return i;const s=(n.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,a=o>>1n;return i<=a?i:i-o-1n}function Jle(n,e={}){const{signed:r,size:i}=e;return Number(!r&&!i?n:Qle(n,e))}function KCe(n,e={}){const{strict:r=!1}=e;try{return GCe(n,{strict:r}),!0}catch{return!1}}class Zle extends cn{constructor({max:e,min:r,signed:i,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${i?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class az extends cn{constructor(e){super(`Value \`${typeof e=="object"?Gle(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class lz extends cn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class XCe extends cn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ece extends cn{constructor({offset:e,position:r,size:i}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${i}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class QCe extends cn{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function JCe(n){return{address:n.address,amount:os(n.amount),index:os(n.index),validatorIndex:os(n.validatorIndex)}}function tce(n){return{...typeof n.baseFeePerGas=="bigint"&&{baseFeePerGas:os(n.baseFeePerGas)},...typeof n.blobBaseFee=="bigint"&&{blobBaseFee:os(n.blobBaseFee)},...typeof n.feeRecipient=="string"&&{feeRecipient:n.feeRecipient},...typeof n.gasLimit=="bigint"&&{gasLimit:os(n.gasLimit)},...typeof n.number=="bigint"&&{number:os(n.number)},...typeof n.prevRandao=="bigint"&&{prevRandao:os(n.prevRandao)},...typeof n.time=="bigint"&&{time:os(n.time)},...n.withdrawals&&{withdrawals:n.withdrawals.map(JCe)}}}const ZCe="0x82ad56cb",nce="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",eEe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",tEe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Yj="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",n5="/docs/contract/encodeDeployData";function Kj(n){const{abi:e,args:r,bytecode:i}=n;if(!r||r.length===0)return i;const s=e.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new USe({docsPath:n5});if(!("inputs"in s))throw new $$({docsPath:n5});if(!s.inputs||s.inputs.length===0)throw new $$({docsPath:n5});const o=bp(s.inputs,r);return V0([i,o])}class Nm extends nt{constructor({cause:e,message:r}={}){var s;const i=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Nm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class wk extends nt{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${$s(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(wk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class nR extends nt{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${$s(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(nR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class rR extends nt{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(rR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class iR extends nt{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(iR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class sR extends nt{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(sR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class oR extends nt{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(oR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class aR extends nt{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(aR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class lR extends nt{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(lR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class cR extends nt{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(cR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class xk extends nt{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${$s(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${$s(i)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(xk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ix extends nt{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function xC(n,e){const r=(n.details||"").toLowerCase(),i=n instanceof nt?n.walk(s=>(s==null?void 0:s.code)===Nm.code):n;return i instanceof nt?new Nm({cause:n,message:i.details}):Nm.nodeMessage.test(r)?new Nm({cause:n,message:n.details}):wk.nodeMessage.test(r)?new wk({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):nR.nodeMessage.test(r)?new nR({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):rR.nodeMessage.test(r)?new rR({cause:n,nonce:e==null?void 0:e.nonce}):iR.nodeMessage.test(r)?new iR({cause:n,nonce:e==null?void 0:e.nonce}):sR.nodeMessage.test(r)?new sR({cause:n,nonce:e==null?void 0:e.nonce}):oR.nodeMessage.test(r)?new oR({cause:n}):aR.nodeMessage.test(r)?new aR({cause:n,gas:e==null?void 0:e.gas}):lR.nodeMessage.test(r)?new lR({cause:n,gas:e==null?void 0:e.gas}):cR.nodeMessage.test(r)?new cR({cause:n}):xk.nodeMessage.test(r)?new xk({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new ix({cause:n})}function rce(n,{docsPath:e,...r}){const i=(()=>{const s=xC(n,r);return s instanceof ix?n:s})();return new zle(i,{docsPath:e,...r})}function _C(n,{format:e}){if(!e)return{};const r={};function i(o){const a=Object.keys(o);for(const l of a)l in n&&(r[l]=n[l]),o[l]&&typeof o[l]=="object"&&!Array.isArray(o[l])&&i(o[l])}const s=e(n||{});return i(s),r}const nEe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function sx(n,e){const r={};return typeof n.authorizationList<"u"&&(r.authorizationList=rEe(n.authorizationList)),typeof n.accessList<"u"&&(r.accessList=n.accessList),typeof n.blobVersionedHashes<"u"&&(r.blobVersionedHashes=n.blobVersionedHashes),typeof n.blobs<"u"&&(typeof n.blobs[0]!="string"?r.blobs=n.blobs.map(i=>Kr(i)):r.blobs=n.blobs),typeof n.data<"u"&&(r.data=n.data),n.account&&(r.from=n.account.address),typeof n.from<"u"&&(r.from=n.from),typeof n.gas<"u"&&(r.gas=At(n.gas)),typeof n.gasPrice<"u"&&(r.gasPrice=At(n.gasPrice)),typeof n.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=At(n.maxFeePerBlobGas)),typeof n.maxFeePerGas<"u"&&(r.maxFeePerGas=At(n.maxFeePerGas)),typeof n.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=At(n.maxPriorityFeePerGas)),typeof n.nonce<"u"&&(r.nonce=At(n.nonce)),typeof n.to<"u"&&(r.to=n.to),typeof n.type<"u"&&(r.type=nEe[n.type]),typeof n.value<"u"&&(r.value=At(n.value)),r}function rEe(n){return n.map(e=>({address:e.address,r:e.r?At(BigInt(e.r)):e.r,s:e.s?At(BigInt(e.s)):e.s,chainId:At(e.chainId),nonce:At(e.nonce),...typeof e.yParity<"u"?{yParity:At(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:At(e.v)}:{}}))}function ice(){let n=()=>{},e=()=>{};return{promise:new Promise((i,s)=>{n=i,e=s}),resolve:n,reject:e}}const r5=new Map;function sce({fn:n,id:e,shouldSplitBatch:r,wait:i=0,sort:s}){const o=async()=>{const d=c();a();const h=d.map(({args:f})=>f);h.length!==0&&n(h).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let p=0;p<d.length;p++){const{resolve:m}=d[p];m==null||m([f[p],f])}}).catch(f=>{for(let p=0;p<d.length;p++){const{reject:m}=d[p];m==null||m(f)}})},a=()=>r5.delete(e),l=()=>c().map(({args:d})=>d),c=()=>r5.get(e)||[],u=d=>r5.set(e,[...c(),d]);return{flush:a,async schedule(d){const{promise:h,resolve:f,reject:p}=ice();return(r==null?void 0:r([...l(),d]))&&o(),c().length>0?(u({args:d,resolve:f,reject:p}),h):(u({args:d,resolve:f,reject:p}),setTimeout(o,i),h)}}}function cz(n){if(!(!n||n.length===0))return n.reduce((e,{slot:r,value:i})=>{if(r.length!==66)throw new W$({size:r.length,targetSize:66,type:"hex"});if(i.length!==66)throw new W$({size:i.length,targetSize:66,type:"hex"});return e[r]=i,e},{})}function iEe(n){const{balance:e,nonce:r,state:i,stateDiff:s,code:o}=n,a={};if(o!==void 0&&(a.code=o),e!==void 0&&(a.balance=At(e)),r!==void 0&&(a.nonce=At(r)),i!==void 0&&(a.state=cz(i)),s!==void 0){if(a.state)throw new sCe;a.stateDiff=cz(s)}return a}function Xj(n){if(!n)return;const e={};for(const{address:r,...i}of n){if(!xo(r,{strict:!1}))throw new Xd({address:r});if(e[r])throw new iCe({address:r});e[r]=iEe(i)}return e}const sEe=2n**256n-1n;function K0(n){const{account:e,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=n,o=e?Gi(e):void 0;if(o&&!xo(o.address))throw new Xd({address:o.address});if(s&&!xo(s))throw new Xd({address:s});if(r&&r>sEe)throw new wk({maxFeePerGas:r});if(i&&r&&i>r)throw new xk({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function SC(n,e){var $,z,R,j;const{account:r=n.account,authorizationList:i,batch:s=!!(($=n.batch)!=null&&$.multicall),blockNumber:o,blockTag:a=n.experimental_blockTag??"latest",accessList:l,blobs:c,blockOverrides:u,code:d,data:h,factory:f,factoryData:p,gas:m,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:_,to:x,value:S,stateOverride:C,...E}=e,A=r?Gi(r):void 0;if(d&&(f||p))throw new nt("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&x)throw new nt("Cannot provide both `code` & `to` as parameters.");const M=d&&h,I=f&&p&&x&&h,O=M||I,F=M?oce({code:d,data:h}):I?lEe({data:h,factory:f,factoryData:p,to:x}):h;try{K0(e);const D=(typeof o=="bigint"?At(o):void 0)||a,H=u?tce(u):void 0,U=Xj(C),X=(j=(R=(z=n.chain)==null?void 0:z.formatters)==null?void 0:R.transactionRequest)==null?void 0:j.format,ee=(X||sx)({..._C(E,{format:X}),accessList:l,account:A,authorizationList:i,blobs:c,data:F,gas:m,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:_,to:O?void 0:x,value:S},"call");if(s&&oEe({request:ee})&&!U&&!H)try{return await aEe(n,{...ee,blockNumber:o,blockTag:a})}catch(pe){if(!(pe instanceof Nle)&&!(pe instanceof Z8))throw pe}const G=(()=>{const pe=[ee,D];return U&&H?[...pe,U,H]:U?[...pe,U]:H?[...pe,{},H]:pe})(),Z=await n.request({method:"eth_call",params:G});return Z==="0x"?{data:void 0}:{data:Z}}catch(N){const D=cEe(N),{offchainLookup:H,offchainLookupSignature:U}=await bt(async()=>{const{offchainLookup:X,offchainLookupSignature:Y}=await import("./ccip-DnDFW94A.js");return{offchainLookup:X,offchainLookupSignature:Y}},[]);if(n.ccipRead!==!1&&(D==null?void 0:D.slice(0,10))===U&&x)return{data:await H(n,{data:D,to:x})};throw O&&(D==null?void 0:D.slice(0,10))==="0x101bb98d"?new fCe({factory:f}):rce(N,{...e,account:A,chain:n.chain})}}function oEe({request:n}){const{data:e,to:r,...i}=n;return!(!e||e.startsWith(ZCe)||!r||Object.values(i).filter(s=>typeof s<"u").length>0)}async function aEe(n,e){var b;const{batchSize:r=1024,deployless:i=!1,wait:s=0}=typeof((b=n.batch)==null?void 0:b.multicall)=="object"?n.batch.multicall:{},{blockNumber:o,blockTag:a=n.experimental_blockTag??"latest",data:l,to:c}=e,u=(()=>{if(i)return null;if(e.multicallAddress)return e.multicallAddress;if(n.chain)return Y0({blockNumber:o,chain:n.chain,contract:"multicall3"});throw new Nle})(),h=(typeof o=="bigint"?At(o):void 0)||a,{schedule:f}=sce({id:`${n.uid}.${h}`,wait:s,shouldSplitBatch(y){return y.reduce((w,{data:_})=>w+(_.length-2),0)>r*2},fn:async y=>{const v=y.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),w=Qa({abi:bk,args:[v],functionName:"aggregate3"}),_=await n.request({method:"eth_call",params:[{...u===null?{data:oce({code:Yj,data:w})}:{to:u,data:w}},h]});return vp({abi:bk,args:[v],functionName:"aggregate3",data:_||"0x"})}}),[{returnData:p,success:m}]=await f({data:l,to:c});if(!m)throw new yC({data:p});return p==="0x"?{data:void 0}:{data:p}}function oce(n){const{code:e,data:r}=n;return Kj({abi:Ole(["constructor(bytes, bytes)"]),bytecode:nce,args:[e,r]})}function lEe(n){const{data:e,factory:r,factoryData:i,to:s}=n;return Kj({abi:Ole(["constructor(address, bytes, address, bytes)"]),bytecode:eEe,args:[s,e,r,i]})}function cEe(n){var r;if(!(n instanceof nt))return;const e=n.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}async function Ha(n,e){const{abi:r,address:i,args:s,functionName:o,...a}=e,l=Qa({abi:r,args:s,functionName:o});try{const{data:c}=await $t(n,SC,"call")({...a,data:l,to:i});return vp({abi:r,args:s,functionName:o,data:c||"0x"})}catch(c){throw o0(c,{abi:r,address:i,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function uEe(n,e){const{blockNumber:r,blockTag:i,coinType:s,name:o,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Y0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;const h=s!=null?[tR(o),BigInt(s)]:[tR(o)];try{const f=Qa({abi:L$,functionName:"addr",args:h}),p={address:u,abi:Qae,functionName:"resolveWithGateways",args:[hu(Hj(o)),f,a??[vC]],blockNumber:r,blockTag:i},b=await $t(n,Ha,"readContract")(p);if(b[0]==="0x")return null;const y=vp({abi:L$,args:h,functionName:"addr",data:b[0]});return y==="0x"||Ef(y)==="0x00"?null:y}catch(f){if(l)throw f;if(qj(f))return null;throw f}}class dEe extends nt{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Nb extends nt{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Qj extends nt{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class hEe extends nt{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const fEe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,pEe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,mEe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,gEe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function bEe(n){try{const e=await fetch(n,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const i=new Image;i.onload=()=>{r(!0)},i.onerror=()=>{r(!1)},i.src=n})}}function uz(n,e){return n?n.endsWith("/")?n.slice(0,-1):n:e}function ace({uri:n,gatewayUrls:e}){const r=mEe.test(n);if(r)return{uri:n,isOnChain:!0,isEncoded:r};const i=uz(e==null?void 0:e.ipfs,"https://ipfs.io"),s=uz(e==null?void 0:e.arweave,"https://arweave.net"),o=n.match(fEe),{protocol:a,subpath:l,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=a==="ipns:/"||l==="ipns/",h=a==="ipfs:/"||l==="ipfs/"||pEe.test(n);if(n.startsWith("http")&&!d&&!h){let p=n;return e!=null&&e.arweave&&(p=n.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||h)&&c)return{uri:`${i}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=n.replace(gEe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Qj({uri:n})}function lce(n){if(typeof n!="object"||!("image"in n)&&!("image_url"in n)&&!("image_data"in n))throw new dEe({data:n});return n.image||n.image_url||n.image_data}async function yEe({gatewayUrls:n,uri:e}){try{const r=await fetch(e).then(s=>s.json());return await Jj({gatewayUrls:n,uri:lce(r)})}catch{throw new Qj({uri:e})}}async function Jj({gatewayUrls:n,uri:e}){const{uri:r,isOnChain:i}=ace({uri:e,gatewayUrls:n});if(i||await bEe(r))return r;throw new Qj({uri:e})}function vEe(n){let e=n;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,i,s]=e.split("/"),[o,a]=r.split(":"),[l,c]=i.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Nb({reason:"Only EIP-155 supported"});if(!a)throw new Nb({reason:"Chain ID not found"});if(!c)throw new Nb({reason:"Contract address not found"});if(!s)throw new Nb({reason:"Token ID not found"});if(!l)throw new Nb({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:l.toLowerCase(),contractAddress:c,tokenID:s}}async function wEe(n,{nft:e}){if(e.namespace==="erc721")return Ha(n,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ha(n,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new hEe({namespace:e.namespace})}async function xEe(n,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?_Ee(n,{gatewayUrls:e,record:r}):Jj({uri:r,gatewayUrls:e})}async function _Ee(n,{gatewayUrls:e,record:r}){const i=vEe(r),s=await wEe(n,{nft:i}),{uri:o,isOnChain:a,isEncoded:l}=ace({uri:s,gatewayUrls:e});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=l?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return Jj({uri:lce(d),gatewayUrls:e})}let c=i.tokenID;return i.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),yEe({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,c)})}async function cce(n,e){const{blockNumber:r,blockTag:i,key:s,name:o,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Y0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(h=>o.endsWith(h)))return null;try{const h={address:u,abi:Qae,args:[hu(Hj(o)),Qa({abi:B$,functionName:"text",args:[tR(o),s]}),a??[vC]],functionName:"resolveWithGateways",blockNumber:r,blockTag:i},p=await $t(n,Ha,"readContract")(h);if(p[0]==="0x")return null;const m=vp({abi:B$,functionName:"text",data:p[0]});return m===""?null:m}catch(h){if(l)throw h;if(qj(h))return null;throw h}}async function uce(n,{blockNumber:e,blockTag:r,assetGatewayUrls:i,name:s,gatewayUrls:o,strict:a,universalResolverAddress:l}){const c=await $t(n,cce,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:s,universalResolverAddress:l,gatewayUrls:o,strict:a});if(!c)return null;try{return await xEe(n,{record:c,gatewayUrls:i})}catch{return null}}async function dce(n,e){const{address:r,blockNumber:i,blockTag:s,coinType:o=60n,gatewayUrls:a,strict:l}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Y0({blockNumber:i,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:$Se,args:[r,o,a??[vC]],functionName:"reverseWithGateways",blockNumber:i,blockTag:s},h=$t(n,Ha,"readContract"),[f]=await h(d);return f||null}catch(d){if(l)throw d;if(qj(d))return null;throw d}}async function SEe(n,e){const{blockNumber:r,blockTag:i,name:s}=e,{chain:o}=n,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Y0({blockNumber:r,chain:o,contract:"ensUniversalResolver"})})(),l=o==null?void 0:o.ensTlds;if(l&&!l.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${l==null?void 0:l.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await $t(n,Ha,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[hu(Hj(s))],blockNumber:r,blockTag:i});return c}async function hce(n,e){var y,v,w;const{account:r=n.account,blockNumber:i,blockTag:s="latest",blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p,...m}=e,b=r?Gi(r):void 0;try{K0(e);const x=(typeof i=="bigint"?At(i):void 0)||s,S=(w=(v=(y=n.chain)==null?void 0:y.formatters)==null?void 0:v.transactionRequest)==null?void 0:w.format,E=(S||sx)({..._C(m,{format:S}),account:b,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),A=await n.request({method:"eth_createAccessList",params:[E,x]});return{accessList:A.accessList,gasUsed:BigInt(A.gasUsed)}}catch(_){throw rce(_,{...e,account:b,chain:n.chain})}}function kC(n,{method:e}){var i,s;const r={};return n.transport.type==="fallback"&&((s=(i=n.transport).onResponse)==null||s.call(i,({method:o,response:a,status:l,transport:c})=>{l==="success"&&e===o&&(r[a]=c.request)})),o=>r[o]||n.request}async function kEe(n){const e=kC(n,{method:"eth_newBlockFilter"}),r=await n.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}class CEe extends nt{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const dz="/docs/contract/encodeEventTopics";function ox(n){var c;const{abi:e,eventName:r,args:i}=n;let s=e[0];if(r){const u=yp({abi:e,name:r});if(!u)throw new U$(r,{docsPath:dz});s=u}if(s.type!=="event")throw new U$(void 0,{docsPath:dz});const o=Ua(s),a=bC(o);let l=[];if(i&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(h=>"indexed"in h&&h.indexed),d=Array.isArray(i)?i:Object.values(i).length>0?(u==null?void 0:u.map(h=>i[h.name]))??[]:[];d.length>0&&(l=(u==null?void 0:u.map((h,f)=>Array.isArray(d[f])?d[f].map((p,m)=>hz({param:h,value:d[f][m]})):typeof d[f]<"u"&&d[f]!==null?hz({param:h,value:d[f]}):null))??[])}return[a,...l]}function hz({param:n,value:e}){if(n.type==="string"||n.type==="bytes")return Ci(H0(e));if(n.type==="tuple"||n.type.match(/^(.*)\[(\d+)?\]$/))throw new CEe(n.type);return bp([n],[e])}async function fce(n,e){const{address:r,abi:i,args:s,eventName:o,fromBlock:a,strict:l,toBlock:c}=e,u=kC(n,{method:"eth_newFilter"}),d=o?ox({abi:i,args:s,eventName:o}):void 0,h=await n.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof a=="bigint"?At(a):a,toBlock:typeof c=="bigint"?At(c):c,topics:d}]});return{abi:i,args:s,eventName:o,id:h,request:u(h),strict:!!l,type:"event"}}async function pce(n,{address:e,args:r,event:i,events:s,fromBlock:o,strict:a,toBlock:l}={}){const c=s??(i?[i]:void 0),u=kC(n,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(p=>ox({abi:[p],eventName:p.name,args:r}))],i&&(d=d[0]));const h=await n.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?At(o):o,toBlock:typeof l=="bigint"?At(l):l,...d.length?{topics:d}:{}}]});return{abi:c,args:r,eventName:i?i.name:void 0,fromBlock:o,id:h,request:u(h),strict:!!a,toBlock:l,type:"event"}}async function mce(n){const e=kC(n,{method:"eth_newPendingTransactionFilter"}),r=await n.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}function EEe(n){const e=Ci(`0x${n.substring(4)}`).substring(26);return mC(`0x${e}`)}async function AEe({hash:n,signature:e}){const r=Ul(n)?n:hu(n),{secp256k1:i}=await bt(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Y3e);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:h,yParity:f}=e,p=Number(f??h),m=fz(p);return new i.Signature(Wl(u),Wl(d)).addRecoveryBit(m)}const a=Ul(e)?e:hu(e);if(Sr(a)!==65)throw new Error("invalid signature length");const l=ql(`0x${a.slice(130)}`),c=fz(l);return i.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function fz(n){if(n===0||n===1)return n;if(n===27)return 0;if(n===28)return 1;throw new Error("Invalid yParityOrV value")}async function gce({hash:n,signature:e}){return EEe(await AEe({hash:n,signature:e}))}function TEe(n,e="hex"){const r=bce(n),i=Bj(new Uint8Array(r.length));return r.encode(i),e==="hex"?Kr(i.bytes):i.bytes}function bce(n){return Array.isArray(n)?PEe(n.map(e=>bce(e))):IEe(n)}function PEe(n){const e=n.reduce((s,o)=>s+o.length,0),r=yce(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:o}of n)o(s)}}}function IEe(n){const e=typeof n=="string"?Hl(n):n,r=yce(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function yce(n){if(n<2**8)return 1;if(n<2**16)return 2;if(n<2**24)return 3;if(n<2**32)return 4;throw new nt("Length is too large.")}function MEe(n){const{chainId:e,nonce:r,to:i}=n,s=n.contractAddress??n.address,o=Ci(V0(["0x05",TEe([e?At(e):"0x",s,r?At(r):"0x"])]));return i==="bytes"?Hl(o):o}async function vce(n){const{authorization:e,signature:r}=n;return gce({hash:MEe(e),signature:r??e})}class OEe extends nt{constructor(e,{account:r,docsPath:i,chain:s,data:o,gas:a,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:h,value:f}){var m;const p=nx({from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${Uj(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof l<"u"&&`${$s(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${$s(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$s(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function DEe(n,{docsPath:e,...r}){const i=(()=>{const s=xC(n,r);return s instanceof ix?n:s})();return new OEe(i,{docsPath:e,...r})}class wce extends nt{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Zj extends nt{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class REe extends nt{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${$s(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class xce extends nt{constructor({blockHash:e,blockNumber:r}){let i="Block";e&&(i=`Block at hash "${e}"`),r&&(i=`Block at number "${r}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}const _ce={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function e7(n,e){const r={...n,blockHash:n.blockHash?n.blockHash:null,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,chainId:n.chainId?ql(n.chainId):void 0,gas:n.gas?BigInt(n.gas):void 0,gasPrice:n.gasPrice?BigInt(n.gasPrice):void 0,maxFeePerBlobGas:n.maxFeePerBlobGas?BigInt(n.maxFeePerBlobGas):void 0,maxFeePerGas:n.maxFeePerGas?BigInt(n.maxFeePerGas):void 0,maxPriorityFeePerGas:n.maxPriorityFeePerGas?BigInt(n.maxPriorityFeePerGas):void 0,nonce:n.nonce?ql(n.nonce):void 0,to:n.to?n.to:null,transactionIndex:n.transactionIndex?Number(n.transactionIndex):null,type:n.type?_ce[n.type]:void 0,typeHex:n.type?n.type:void 0,value:n.value?BigInt(n.value):void 0,v:n.v?BigInt(n.v):void 0};return n.authorizationList&&(r.authorizationList=NEe(n.authorizationList)),r.yParity=(()=>{if(n.yParity)return Number(n.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function NEe(n){return n.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Sce(n,e){const r=(n.transactions??[]).map(i=>typeof i=="string"?i:e7(i));return{...n,baseFeePerGas:n.baseFeePerGas?BigInt(n.baseFeePerGas):null,blobGasUsed:n.blobGasUsed?BigInt(n.blobGasUsed):void 0,difficulty:n.difficulty?BigInt(n.difficulty):void 0,excessBlobGas:n.excessBlobGas?BigInt(n.excessBlobGas):void 0,gasLimit:n.gasLimit?BigInt(n.gasLimit):void 0,gasUsed:n.gasUsed?BigInt(n.gasUsed):void 0,hash:n.hash?n.hash:null,logsBloom:n.logsBloom?n.logsBloom:null,nonce:n.nonce?n.nonce:null,number:n.number?BigInt(n.number):null,size:n.size?BigInt(n.size):void 0,timestamp:n.timestamp?BigInt(n.timestamp):void 0,transactions:r,totalDifficulty:n.totalDifficulty?BigInt(n.totalDifficulty):null}}async function Da(n,{blockHash:e,blockNumber:r,blockTag:i=n.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,h;const o=s??!1,a=r!==void 0?At(r):void 0;let l=null;if(e?l=await n.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):l=await n.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!l)throw new xce({blockHash:e,blockNumber:r});return(((h=(d=(u=n.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||Sce)(l,"getBlock")}async function t7(n){const e=await n.request({method:"eth_gasPrice"});return BigInt(e)}async function jEe(n,e){return kce(n,e)}async function kce(n,e){var o,a;const{block:r,chain:i=n.chain,request:s}=e||{};try{const l=((o=i==null?void 0:i.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=i==null?void 0:i.fees)==null?void 0:a.defaultPriorityFee);if(typeof l=="function"){const u=r||await $t(n,Da,"getBlock")({}),d=await l({block:u,client:n,request:s});if(d===null)throw new Error;return d}if(typeof l<"u")return l;const c=await n.request({method:"eth_maxPriorityFeePerGas"});return Wl(c)}catch{const[l,c]=await Promise.all([r?Promise.resolve(r):$t(n,Da,"getBlock")({}),$t(n,t7,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new Zj;const u=c-l.baseFeePerGas;return u<0n?0n:u}}async function BEe(n,e){return uR(n,e)}async function uR(n,e){var f,p;const{block:r,chain:i=n.chain,request:s,type:o="eip1559"}=e||{},a=await(async()=>{var m,b;return typeof((m=i==null?void 0:i.fees)==null?void 0:m.baseFeeMultiplier)=="function"?i.fees.baseFeeMultiplier({block:r,client:n,request:s}):((b=i==null?void 0:i.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new wce;const c=10**(((f=a.toString().split(".")[1])==null?void 0:f.length)??0),u=m=>m*BigInt(Math.ceil(a*c))/BigInt(c),d=r||await $t(n,Da,"getBlock")({});if(typeof((p=i==null?void 0:i.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const m=await i.fees.estimateFeesPerGas({block:r,client:n,multiply:u,request:s,type:o});if(m!==null)return m}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Zj;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await kce(n,{block:d,chain:i,request:s}),b=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await $t(n,t7,"getGasPrice")({}))}}async function Cce(n,{address:e,blockTag:r="latest",blockNumber:i}){const s=await n.request({method:"eth_getTransactionCount",params:[e,typeof i=="bigint"?At(i):r]},{dedupe:!!i});return ql(s)}function Ece(n){const{kzg:e}=n,r=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),i=typeof n.blobs[0]=="string"?n.blobs.map(o=>Hl(o)):n.blobs,s=[];for(const o of i)s.push(Uint8Array.from(e.blobToKzgCommitment(o)));return r==="bytes"?s:s.map(o=>Kr(o))}function Ace(n){const{kzg:e}=n,r=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),i=typeof n.blobs[0]=="string"?n.blobs.map(a=>Hl(a)):n.blobs,s=typeof n.commitments[0]=="string"?n.commitments.map(a=>Hl(a)):n.commitments,o=[];for(let a=0;a<i.length;a++){const l=i[a],c=s[a];o.push(Uint8Array.from(e.computeBlobKzgProof(l,c)))}return r==="bytes"?o:o.map(a=>Kr(a))}function LEe(n,e,r,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),c=i?4:0,u=i?0:4;n.setUint32(e+c,a,i),n.setUint32(e+u,l,i)}function FEe(n,e,r){return n&e^~n&r}function $Ee(n,e,r){return n&e^n&r^e&r}class zEe extends jj{constructor(e,r,i,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.buffer=new Uint8Array(e),this.view=K6(this.buffer)}update(e){n0(this),e=fC(e),Vf(e);const{view:r,buffer:i,blockLen:s}=this,o=e.length;for(let a=0;a<o;){const l=Math.min(s-this.pos,o-a);if(l===s){const c=K6(e);for(;s<=o-a;a+=s)this.process(c,a);continue}i.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){n0(this),cle(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,r0(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(i,0),a=0);for(let h=a;h<s;h++)r[h]=0;LEe(i,s-8,BigInt(this.length*8),o),this.process(i,0);const l=K6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)l.setUint32(4*h,d[h],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:l}=this;return e.destroyed=a,e.finished=o,e.length=s,e.pos=l,s%r&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const Fu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),UEe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$u=new Uint32Array(64);let WEe=class extends zEe{constructor(e=32){super(64,e,8,!1),this.A=Fu[0]|0,this.B=Fu[1]|0,this.C=Fu[2]|0,this.D=Fu[3]|0,this.E=Fu[4]|0,this.F=Fu[5]|0,this.G=Fu[6]|0,this.H=Fu[7]|0}get(){const{A:e,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;return[e,r,i,s,o,a,l,c]}set(e,r,i,s,o,a,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)$u[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=$u[h-15],p=$u[h-2],m=al(f,7)^al(f,18)^f>>>3,b=al(p,17)^al(p,19)^p>>>10;$u[h]=b+$u[h-7]+m+$u[h-16]|0}let{A:i,B:s,C:o,D:a,E:l,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const f=al(l,6)^al(l,11)^al(l,25),p=d+f+FEe(l,c,u)+UEe[h]+$u[h]|0,b=(al(i,2)^al(i,13)^al(i,22))+$Ee(i,s,o)|0;d=u,u=c,c=l,l=a+p|0,a=o,o=s,s=i,i=p+b|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,l,c,u,d)}roundClean(){r0($u)}destroy(){this.set(0,0,0,0,0,0,0,0),r0(this.buffer)}};const Tce=ule(()=>new WEe),qEe=Tce;function HEe(n,e){return qEe(Ul(n,{strict:!1})?H0(n):n)}function VEe(n){const{commitment:e,version:r=1}=n,i=n.to??(typeof e=="string"?"hex":"bytes"),s=HEe(e);return s.set([r],0),i==="bytes"?s:Kr(s)}function GEe(n){const{commitments:e,version:r}=n,i=n.to,s=[];for(const o of e)s.push(VEe({commitment:o,to:i,version:r}));return s}const pz=6,Pce=32,n7=4096,Ice=Pce*n7,mz=Ice*pz-1-1*n7*pz;class YEe extends nt{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class KEe extends nt{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function XEe(n){const e=typeof n.data=="string"?Hl(n.data):n.data,r=Sr(e);if(!r)throw new KEe;if(r>mz)throw new YEe({maxSize:mz,size:r});const i=[];let s=!0,o=0;for(;s;){const a=Bj(new Uint8Array(Ice));let l=0;for(;l<n7;){const c=e.slice(o,o+(Pce-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}l++,o+=31}i.push(a)}return i.map(a=>Kr(a.bytes))}function QEe(n){const{data:e,kzg:r,to:i}=n,s=n.blobs??XEe({data:e}),o=n.commitments??Ece({blobs:s,kzg:r,to:i}),a=n.proofs??Ace({blobs:s,commitments:o,kzg:r,to:i}),l=[];for(let c=0;c<s.length;c++)l.push({blob:s[c],commitment:o[c],proof:a[c]});return l}function JEe(n){if(n.type)return n.type;if(typeof n.authorizationList<"u")return"eip7702";if(typeof n.blobs<"u"||typeof n.blobVersionedHashes<"u"||typeof n.maxFeePerBlobGas<"u"||typeof n.sidecars<"u")return"eip4844";if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")return"eip1559";if(typeof n.gasPrice<"u")return typeof n.accessList<"u"?"eip2930":"legacy";throw new aCe({transaction:n})}function ZEe(n,{docsPath:e,...r}){const i=(()=>{const s=xC(n,r);return s instanceof ix?n:s})();return new lCe(i,{docsPath:e,...r})}async function r7(n){const e=await n.request({method:"eth_chainId"},{dedupe:!0});return ql(e)}async function Mce(n,e){var A,M,I,O,F;const{account:r=n.account,accessList:i,authorizationList:s,chain:o=n.chain,blobVersionedHashes:a,blobs:l,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:b,to:y,type:v,value:w,..._}=e,x=await(async()=>{if(!r||!b||typeof m<"u")return m;const $=Gi(r),z=o?o.id:await $t(n,r7,"getChainId")({});return await b.consume({address:$.address,chainId:z,client:n})})();K0(e);const S=(M=(A=o==null?void 0:o.formatters)==null?void 0:A.transactionRequest)==null?void 0:M.format,E=(S||sx)({..._C(_,{format:S}),account:r?Gi(r):void 0,accessList:i,authorizationList:s,blobs:l,blobVersionedHashes:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:x,to:y,type:v,value:w},"fillTransaction");try{const $=await n.request({method:"eth_fillTransaction",params:[E]}),R=(((O=(I=o==null?void 0:o.formatters)==null?void 0:I.transaction)==null?void 0:O.format)||e7)($.tx);delete R.blockHash,delete R.blockNumber,delete R.r,delete R.s,delete R.transactionIndex,delete R.v,delete R.yParity,R.data=R.input,R.gas&&(R.gas=e.gas??R.gas),R.gasPrice&&(R.gasPrice=e.gasPrice??R.gasPrice),R.maxFeePerBlobGas&&(R.maxFeePerBlobGas=e.maxFeePerBlobGas??R.maxFeePerBlobGas),R.maxFeePerGas&&(R.maxFeePerGas=e.maxFeePerGas??R.maxFeePerGas),R.maxPriorityFeePerGas&&(R.maxPriorityFeePerGas=e.maxPriorityFeePerGas??R.maxPriorityFeePerGas),R.nonce&&(R.nonce=e.nonce??R.nonce);const j=await(async()=>{var U,X;if(typeof((U=o==null?void 0:o.fees)==null?void 0:U.baseFeeMultiplier)=="function"){const Y=await $t(n,Da,"getBlock")({});return o.fees.baseFeeMultiplier({block:Y,client:n,request:e})}return((X=o==null?void 0:o.fees)==null?void 0:X.baseFeeMultiplier)??1.2})();if(j<1)throw new wce;const D=10**(((F=j.toString().split(".")[1])==null?void 0:F.length)??0),H=U=>U*BigInt(Math.ceil(j*D))/BigInt(D);return R.maxFeePerGas&&!e.maxFeePerGas&&(R.maxFeePerGas=H(R.maxFeePerGas)),R.gasPrice&&!e.gasPrice&&(R.gasPrice=H(R.gasPrice)),{raw:$.raw,transaction:{from:E.from,...R}}}catch($){throw ZEe($,{...e,chain:n.chain})}}const e6e=["blobVersionedHashes","chainId","fees","gas","nonce","type"],gz=new Map,i5=new pC(128);async function Oce(n,e){var x,S,C;let r=e;r.account??(r.account=n.account),r.chain??(r.chain=n.chain),r.parameters??(r.parameters=e6e);const{account:i,chain:s,nonceManager:o,parameters:a}=r,l=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof r.chainId<"u"?r.chainId:s?s.id:(c=await $t(n,r7,"getChainId")({}),c))}const d=i&&Gi(i);let h=r.nonce;if(a.includes("nonce")&&typeof h>"u"&&d&&o){const E=await u();h=await o.consume({address:d.address,chainId:E,client:n})}l!=null&&l.fn&&((x=l.runAt)!=null&&x.includes("beforeFillTransaction"))&&(r=await l.fn(r,{phase:"beforeFillTransaction"}),h??(h=r.nonce));const p=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&r.kzg&&r.blobs||i5.get(n.uid)===!1||!["fees","gas"].some(A=>a.includes(A))?!1:!!(a.includes("chainId")&&typeof r.chainId!="number"||a.includes("nonce")&&typeof h!="number"||a.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof r.gas!="bigint"))?await $t(n,Mce,"fillTransaction")({...r,nonce:h}).then(E=>{const{chainId:A,from:M,gas:I,gasPrice:O,nonce:F,maxFeePerBlobGas:$,maxFeePerGas:z,maxPriorityFeePerGas:R,type:j,...N}=E.transaction;return i5.set(n.uid,!0),{...r,...M?{from:M}:{},...j?{type:j}:{},...typeof A<"u"?{chainId:A}:{},...typeof I<"u"?{gas:I}:{},...typeof O<"u"?{gasPrice:O}:{},...typeof F<"u"?{nonce:F}:{},...typeof $<"u"?{maxFeePerBlobGas:$}:{},...typeof z<"u"?{maxFeePerGas:z}:{},...typeof R<"u"?{maxPriorityFeePerGas:R}:{},..."nonceKey"in N&&typeof N.nonceKey<"u"?{nonceKey:N.nonceKey}:{}}}).catch(E=>{var I;const A=E;return A.name!=="TransactionExecutionError"||((I=A.walk)==null?void 0:I.call(A,O=>{const F=O;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"}))&&i5.set(n.uid,!1),r}):r;h??(h=p.nonce),r={...p,...d?{from:d==null?void 0:d.address}:{},...h?{nonce:h}:{}};const{blobs:m,gas:b,kzg:y,type:v}=r;l!=null&&l.fn&&((S=l.runAt)!=null&&S.includes("beforeFillParameters"))&&(r=await l.fn(r,{phase:"beforeFillParameters"}));let w;async function _(){return w||(w=await $t(n,Da,"getBlock")({blockTag:"latest"}),w)}if(a.includes("nonce")&&typeof h>"u"&&d&&!o&&(r.nonce=await $t(n,Cce,"getTransactionCount")({address:d.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&m&&y){const E=Ece({blobs:m,kzg:y});if(a.includes("blobVersionedHashes")){const A=GEe({commitments:E,to:"hex"});r.blobVersionedHashes=A}if(a.includes("sidecars")){const A=Ace({blobs:m,commitments:E,kzg:y}),M=QEe({blobs:m,commitments:E,proofs:A,to:"hex"});r.sidecars=M}}if(a.includes("chainId")&&(r.chainId=await u()),(a.includes("fees")||a.includes("type"))&&typeof v>"u")try{r.type=JEe(r)}catch{let E=gz.get(n.uid);if(typeof E>"u"){const A=await _();E=typeof(A==null?void 0:A.baseFeePerGas)=="bigint",gz.set(n.uid,E)}r.type=E?"eip1559":"legacy"}if(a.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas>"u"||typeof r.maxPriorityFeePerGas>"u"){const E=await _(),{maxFeePerGas:A,maxPriorityFeePerGas:M}=await uR(n,{block:E,chain:s,request:r});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<M)throw new REe({maxPriorityFeePerGas:M});r.maxPriorityFeePerGas=M,r.maxFeePerGas=A}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new Zj;if(typeof r.gasPrice>"u"){const E=await _(),{gasPrice:A}=await uR(n,{block:E,chain:s,request:r,type:"legacy"});r.gasPrice=A}}return a.includes("gas")&&typeof b>"u"&&(r.gas=await $t(n,i7,"estimateGas")({...r,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),l!=null&&l.fn&&((C=l.runAt)!=null&&C.includes("afterFillParameters"))&&(r=await l.fn(r,{phase:"afterFillParameters"})),K0(r),delete r.parameters,r}async function i7(n,e){var a,l,c;const{account:r=n.account,prepare:i=!0}=e,s=r?Gi(r):void 0,o=(()=>{if(Array.isArray(i))return i;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await vce({authorization:e.authorizationList[0]}).catch(()=>{throw new nt("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:h,blobs:f,blobVersionedHashes:p,blockNumber:m,blockTag:b,data:y,gas:v,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:S,nonce:C,value:E,stateOverride:A,...M}=i?await Oce(n,{...e,parameters:o,to:u}):e;if(v&&e.gas!==v)return v;const O=(typeof m=="bigint"?At(m):void 0)||b,F=Xj(A);K0(e);const $=(c=(l=(a=n.chain)==null?void 0:a.formatters)==null?void 0:l.transactionRequest)==null?void 0:c.format,R=($||sx)({..._C(M,{format:$}),account:s,accessList:d,authorizationList:h,blobs:f,blobVersionedHashes:p,data:y,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:S,nonce:C,to:u,value:E},"estimateGas");return BigInt(await n.request({method:"eth_estimateGas",params:F?[R,O??n.experimental_blockTag??"latest",F]:O?[R,O]:[R]}))}catch(u){throw DEe(u,{...e,account:s,chain:n.chain})}}async function t6e(n,e){const{abi:r,address:i,args:s,functionName:o,dataSuffix:a,...l}=e,c=Qa({abi:r,args:s,functionName:o});try{return await $t(n,i7,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:i,...l})}catch(u){const d=l.account?Gi(l.account):void 0;throw o0(u,{abi:r,address:i,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d==null?void 0:d.address})}}async function Dce(n,{address:e,blockNumber:r,blockTag:i=n.experimental_blockTag??"latest"}){const s=typeof r=="bigint"?At(r):void 0,o=await n.request({method:"eth_getBalance",params:[e,s||i]});return BigInt(o)}async function n6e(n){const e=await n.request({method:"eth_blobBaseFee"});return BigInt(e)}const r6e=new Map,i6e=new Map;function s6e(n){const e=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),r=e(n,r6e),i=e(n,i6e);return{clear:()=>{r.clear(),i.clear()},promise:r,response:i}}async function o6e(n,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const i=s6e(e),s=i.response.get();if(s&&r>0&&Date.now()-s.created.getTime()<r)return s.data;let o=i.promise.get();o||(o=n(),i.promise.set(o));try{const a=await o;return i.response.set({created:new Date,data:a}),a}finally{i.promise.clear()}}const a6e=n=>`blockNumber.${n}`;async function ax(n,{cacheTime:e=n.cacheTime}={}){const r=await o6e(()=>n.request({method:"eth_blockNumber"}),{cacheKey:a6e(n.uid),cacheTime:e});return BigInt(r)}async function l6e(n,{blockHash:e,blockNumber:r,blockTag:i="latest"}={}){const s=r!==void 0?At(r):void 0;let o;return e?o=await n.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await n.request({method:"eth_getBlockTransactionCountByNumber",params:[s||i]},{dedupe:!!s}),ql(o)}async function dR(n,{address:e,blockNumber:r,blockTag:i="latest"}){const s=r!==void 0?At(r):void 0,o=await n.request({method:"eth_getCode",params:[e,s||i]},{dedupe:!!s});if(o!=="0x")return o}function CC(n,e){if(!xo(n,{strict:!1}))throw new Xd({address:n});if(!xo(e,{strict:!1}))throw new Xd({address:e});return n.toLowerCase()===e.toLowerCase()}const bz="/docs/contract/decodeEventLog";function _k(n){const{abi:e,data:r,strict:i,topics:s}=n,o=i??!0,[a,...l]=s;if(!a)throw new GSe({docsPath:bz});const c=e.find(b=>b.type==="event"&&a===bC(Ua(b)));if(!(c&&"name"in c)||c.type!=="event")throw new YSe(a,{docsPath:bz});const{name:u,inputs:d}=c,h=d==null?void 0:d.some(b=>!("name"in b&&b.name)),f=h?[]:{},p=d.map((b,y)=>[b,y]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<p.length;b++){const[y,v]=p[b],w=l[b];if(!w)throw new Nj({abiItem:c,param:y});f[h?v:y.name||v]=c6e({param:y,value:w})}const m=d.filter(b=>!("indexed"in b&&b.indexed));if(m.length>0){if(r&&r!=="0x")try{const b=ex(m,r);if(b)if(h)for(let y=0;y<d.length;y++)f[y]=f[y]??b.shift();else for(let y=0;y<m.length;y++)f[m[y].name]=b[y]}catch(b){if(o)throw b instanceof tle||b instanceof gle?new yk({abiItem:c,data:r,params:m,size:Sr(r)}):b}else if(o)throw new yk({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function c6e({param:n,value:e}){return n.type==="string"||n.type==="bytes"||n.type==="tuple"||n.type.match(/^(.*)\[(\d+)?\]$/)?e:(ex([n],e)||[])[0]}function s7(n){const{abi:e,args:r,logs:i,strict:s=!0}=n,o=(()=>{if(n.eventName)return Array.isArray(n.eventName)?n.eventName:[n.eventName]})();return i.map(a=>{var d;const l=e.filter(h=>h.type==="event"&&a.topics[0]===bC(h));if(l.length===0)return null;let c,u;for(const h of l)try{c=_k({...a,abi:[h],strict:!0}),u=h;break}catch{}if(!c&&!s){u=l[0];try{c=_k({...a,abi:[u],strict:!1})}catch{const h=(d=u.inputs)==null?void 0:d.some(f=>!("name"in f&&f.name));return{...a,args:h?[]:{},eventName:u.name}}}return!c||!u||o&&!o.includes(c.eventName)||!u6e({args:c.args,inputs:u.inputs,matchArgs:r})?null:{...c,...a}}).filter(Boolean)}function u6e(n){const{args:e,inputs:r,matchArgs:i}=n;if(!i)return!0;if(!e)return!1;function s(o,a,l){try{return o.type==="address"?CC(a,l):o.type==="string"||o.type==="bytes"?Ci(H0(a))===l:a===l}catch{return!1}}return Array.isArray(e)&&Array.isArray(i)?i.every((o,a)=>{if(o==null)return!0;const l=r[a];return l?(Array.isArray(o)?o:[o]).some(u=>s(l,u,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).every(([o,a])=>{if(a==null)return!0;const l=r.find(u=>u.name===o);return l?(Array.isArray(a)?a:[a]).some(u=>s(l,u,e[o])):!1}):!1}function pu(n,{args:e,eventName:r}={}){return{...n,blockHash:n.blockHash?n.blockHash:null,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,blockTimestamp:n.blockTimestamp?BigInt(n.blockTimestamp):n.blockTimestamp===null?null:void 0,logIndex:n.logIndex?Number(n.logIndex):null,transactionHash:n.transactionHash?n.transactionHash:null,transactionIndex:n.transactionIndex?Number(n.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function o7(n,{address:e,blockHash:r,fromBlock:i,toBlock:s,event:o,events:a,args:l,strict:c}={}){const u=c??!1,d=a??(o?[o]:void 0);let h=[];d&&(h=[d.flatMap(b=>ox({abi:[b],eventName:b.name,args:a?void 0:l}))],o&&(h=h[0]));let f;r?f=await n.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:r}]}):f=await n.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof i=="bigint"?At(i):i,toBlock:typeof s=="bigint"?At(s):s}]});const p=f.map(m=>pu(m));return d?s7({abi:d,args:l,logs:p,strict:u}):p}async function Rce(n,e){const{abi:r,address:i,args:s,blockHash:o,eventName:a,fromBlock:l,toBlock:c,strict:u}=e,d=a?yp({abi:r,name:a}):void 0,h=d?void 0:r.filter(f=>f.type==="event");return $t(n,o7,"getLogs")({address:i,args:s,blockHash:o,event:d,events:h,fromBlock:l,toBlock:c,strict:u})}class d6e extends nt{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function h6e(n,e){const{address:r,factory:i,factoryData:s}=e;try{const[o,a,l,c,u,d,h]=await $t(n,Ha,"readContract")({abi:f6e,address:r,functionName:"eip712Domain",factory:i,factoryData:s});return{domain:{name:a,version:l,chainId:Number(c),verifyingContract:u,salt:d},extensions:h,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new d6e({address:r}):a}}const f6e=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function p6e(n){var e;return{baseFeePerGas:n.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:n.gasUsedRatio,oldestBlock:BigInt(n.oldestBlock),reward:(e=n.reward)==null?void 0:e.map(r=>r.map(i=>BigInt(i)))}}async function m6e(n,{blockCount:e,blockNumber:r,blockTag:i="latest",rewardPercentiles:s}){const o=typeof r=="bigint"?At(r):void 0,a=await n.request({method:"eth_feeHistory",params:[At(e),o||i,s]},{dedupe:!!o});return p6e(a)}async function EC(n,{filter:e}){const r="strict"in e&&e.strict,i=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof i[0]=="string")return i;const s=i.map(o=>pu(o));return!("abi"in e)||!e.abi?s:s7({abi:e.abi,logs:s,strict:r})}async function g6e(n,{filter:e}){const r=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>pu(o));return e.abi?s7({abi:e.abi,logs:s,strict:r}):s}async function b6e({address:n,authorization:e,signature:r}){return CC(li(n),await vce({authorization:e,signature:r}))}const $1=new pC(8192);function y6e(n,{enabled:e=!0,id:r}){if(!e||!r)return n();if($1.get(r))return $1.get(r);const i=n().finally(()=>$1.delete(r));return $1.set(r,i),i}async function hR(n){return new Promise(e=>setTimeout(e,n))}function a0(n,{delay:e=100,retryCount:r=2,shouldRetry:i=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:l=0}={})=>{const c=async({error:u})=>{const d=typeof e=="function"?e({count:l,error:u}):e;d&&await hR(d),a({count:l+1})};try{const u=await n();s(u)}catch(u){if(l<r&&await i({count:l,error:u}))return c({error:u});o(u)}};a()})}function v6e(n,e={}){return async(r,i={})=>{var h;const{dedupe:s=!1,methods:o,retryDelay:a=150,retryCount:l=3,uid:c}={...e,...i},{method:u}=r;if((h=o==null?void 0:o.exclude)!=null&&h.includes(u))throw new ef(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new ef(new Error("method not supported"),{method:u});const d=s?t0(`${c}.${hi(r)}`):void 0;return y6e(()=>a0(async()=>{try{return await n(r)}catch(f){const p=f;switch(p.code){case Bv.code:throw new Bv(p);case Lv.code:throw new Lv(p);case Fv.code:throw new Fv(p,{method:r.method});case $v.code:throw new $v(p);case Gf.code:throw new Gf(p);case Qd.code:throw new Qd(p);case zv.code:throw new zv(p);case Bl.code:throw new Bl(p);case Uv.code:throw new Uv(p);case ef.code:throw new ef(p,{method:r.method});case s0.code:throw new s0(p);case Wv.code:throw new Wv(p);case Pn.code:throw new Pn(p);case qv.code:throw new qv(p);case Hv.code:throw new Hv(p);case Vv.code:throw new Vv(p);case Gv.code:throw new Gv(p);case mo.code:throw new mo(p);case Yv.code:throw new Yv(p);case Kv.code:throw new Kv(p);case Xv.code:throw new Xv(p);case Qv.code:throw new Qv(p);case Jv.code:throw new Jv(p);case Zv.code:throw new Zv(p);case ew.code:throw new ew(p);case 5e3:throw new Pn(p);default:throw f instanceof nt?f:new xCe(p)}}},{delay:({count:f,error:p})=>{var m;if(p&&p instanceof Ky){const b=(m=p==null?void 0:p.headers)==null?void 0:m.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<f)*a},retryCount:l,shouldRetry:({error:f})=>w6e(f)}),{enabled:s,id:d})}}function w6e(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===s0.code||n.code===Gf.code:n instanceof Ky&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}function Nce(n){const e={formatters:void 0,fees:void 0,serializers:void 0,...n};function r(i){return s=>{const o=typeof s=="function"?s(i):s,a={...i,...o};return Object.assign(a,{extend:r(a)})}}return Object.assign(e,{extend:r(e)})}const x6e={"0x0":"reverted","0x1":"success"};function jce(n,e){const r={...n,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,contractAddress:n.contractAddress?n.contractAddress:null,cumulativeGasUsed:n.cumulativeGasUsed?BigInt(n.cumulativeGasUsed):null,effectiveGasPrice:n.effectiveGasPrice?BigInt(n.effectiveGasPrice):null,gasUsed:n.gasUsed?BigInt(n.gasUsed):null,logs:n.logs?n.logs.map(i=>pu(i)):null,to:n.to?n.to:null,transactionIndex:n.transactionIndex?ql(n.transactionIndex):null,status:n.status?x6e[n.status]:null,type:n.type?_ce[n.type]||n.type:null};return n.blobGasPrice&&(r.blobGasPrice=BigInt(n.blobGasPrice)),n.blobGasUsed&&(r.blobGasUsed=BigInt(n.blobGasUsed)),r}function AC(n,{errorInstance:e=new Error("timed out"),timeout:r,signal:i}){return new Promise((s,o)=>{(async()=>{let a;try{const l=new AbortController;r>0&&(a=setTimeout(()=>{i?l.abort():o(e)},r)),s(await n({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&o(e),o(l)}finally{clearTimeout(a)}})()})}function _6e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const yz=_6e();function S6e(n,e={}){return{async request(r){var f;const{body:i,fetchFn:s=e.fetchFn??fetch,onRequest:o=e.onRequest,onResponse:a=e.onResponse,timeout:l=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:d,signal:h}=c;try{const p=await AC(async({signal:b})=>{const y={...c,body:Array.isArray(i)?hi(i.map(x=>({jsonrpc:"2.0",id:x.id??yz.take(),...x}))):hi({jsonrpc:"2.0",id:i.id??yz.take(),...i}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:h||(l>0?b:null)},v=new Request(n,y),w=await(o==null?void 0:o(v,y))??{...y,url:n};return await s(w.url??n,w)},{errorInstance:new iz({body:i,url:n}),timeout:l,signal:!0});a&&await a(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(b){if(p.ok)throw b;m={error:m}}}if(!p.ok)throw new Ky({body:i,details:hi(m.error)||p.statusText,headers:p.headers,status:p.status,url:n});return m}catch(p){throw p instanceof Ky||p instanceof iz?p:new Ky({body:i,cause:p,url:n})}}}}const k6e=`Ethereum Signed Message:
`;function C6e(n){const e=typeof n=="string"?t0(n):typeof n.raw=="string"?n.raw:Kr(n.raw),r=t0(`${k6e}${Sr(e)}`);return Vl([r,e])}function Bce(n,e){return Ci(C6e(n),e)}class E6e extends nt{constructor({domain:e}){super(`Invalid domain "${hi(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class A6e extends nt{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class T6e extends nt{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function P6e(n){const{domain:e,message:r,primaryType:i,types:s}=n,o=(c,u)=>{const d={...u};for(const h of c){const{name:f,type:p}=h;p==="address"&&(d[f]=d[f].toLowerCase())}return d},a=s.EIP712Domain?e?o(s.EIP712Domain,e):{}:{},l=(()=>{if(i!=="EIP712Domain")return o(s[i],r)})();return hi({domain:a,message:l,primaryType:i,types:s})}function Lce(n){const{domain:e,message:r,primaryType:i,types:s}=n,o=(a,l)=>{for(const c of a){const{name:u,type:d}=c,h=l[u],f=d.match(wle);if(f&&(typeof h=="number"||typeof h=="bigint")){const[b,y,v]=f;At(h,{signed:y==="int",size:Number.parseInt(v,10)/8})}if(d==="address"&&typeof h=="string"&&!xo(h))throw new Xd({address:h});const p=d.match(Hke);if(p){const[b,y]=p;if(y&&Sr(h)!==Number.parseInt(y,10))throw new QSe({expectedSize:Number.parseInt(y,10),givenSize:Sr(h)})}const m=s[d];m&&(I6e(d),o(m,h))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new E6e({domain:e});o(s.EIP712Domain,e)}if(i!=="EIP712Domain")if(s[i])o(s[i],r);else throw new A6e({primaryType:i,types:s})}function Fce({domain:n}){return[typeof(n==null?void 0:n.name)=="string"&&{name:"name",type:"string"},(n==null?void 0:n.version)&&{name:"version",type:"string"},(typeof(n==null?void 0:n.chainId)=="number"||typeof(n==null?void 0:n.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(n==null?void 0:n.verifyingContract)&&{name:"verifyingContract",type:"address"},(n==null?void 0:n.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function I6e(n){if(n==="address"||n==="bool"||n==="string"||n.startsWith("bytes")||n.startsWith("uint")||n.startsWith("int"))throw new T6e({type:n})}function M6e(n){const{domain:e={},message:r,primaryType:i}=n,s={EIP712Domain:Fce({domain:e}),...n.types};Lce({domain:e,message:r,primaryType:i,types:s});const o=["0x1901"];return e&&o.push(O6e({domain:e,types:s})),i!=="EIP712Domain"&&o.push($ce({data:r,primaryType:i,types:s})),Ci(Vl(o))}function O6e({domain:n,types:e}){return $ce({data:n,primaryType:"EIP712Domain",types:e})}function $ce({data:n,primaryType:e,types:r}){const i=zce({data:n,primaryType:e,types:r});return Ci(i)}function zce({data:n,primaryType:e,types:r}){const i=[{type:"bytes32"}],s=[D6e({primaryType:e,types:r})];for(const o of r[e]){const[a,l]=Wce({types:r,name:o.name,type:o.type,value:n[o.name]});i.push(a),s.push(l)}return bp(i,s)}function D6e({primaryType:n,types:e}){const r=hu(R6e({primaryType:n,types:e}));return Ci(r)}function R6e({primaryType:n,types:e}){let r="";const i=Uce({primaryType:n,types:e});i.delete(n);const s=[n,...Array.from(i).sort()];for(const o of s)r+=`${o}(${e[o].map(({name:a,type:l})=>`${l} ${a}`).join(",")})`;return r}function Uce({primaryType:n,types:e},r=new Set){const i=n.match(/^\w*/u),s=i==null?void 0:i[0];if(r.has(s)||e[s]===void 0)return r;r.add(s);for(const o of e[s])Uce({primaryType:o.type,types:e},r);return r}function Wce({types:n,name:e,type:r,value:i}){if(n[r]!==void 0)return[{type:"bytes32"},Ci(zce({data:i,primaryType:r,types:n}))];if(r==="bytes")return[{type:"bytes32"},Ci(i)];if(r==="string")return[{type:"bytes32"},Ci(hu(i))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),o=i.map(a=>Wce({name:e,type:s,types:n,value:a}));return[{type:"bytes32"},Ci(bp(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:r},i]}class N6e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const j6e={checksum:new N6e(8192)},s5=j6e.checksum;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function B6e(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function vz(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Sk(n,...e){if(!B6e(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function wz(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function L6e(n,e){Sk(n);const r=e.outputLen;if(n.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function F6e(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function qce(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}const $6e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function z6e(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function U6e(n){for(let e=0;e<n.length;e++)n[e]=z6e(n[e]);return n}const xz=$6e?n=>n:U6e;function W6e(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Hce(n){return typeof n=="string"&&(n=W6e(n)),Sk(n),n}let q6e=class{};function H6e(n){const e=i=>n().update(Hce(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}const z1=BigInt(2**32-1),_z=BigInt(32);function V6e(n,e=!1){return e?{h:Number(n&z1),l:Number(n>>_z&z1)}:{h:Number(n>>_z&z1)|0,l:Number(n&z1)|0}}function G6e(n,e=!1){const r=n.length;let i=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=V6e(n[o],e);[i[o],s[o]]=[a,l]}return[i,s]}const Y6e=(n,e,r)=>n<<r|e>>>32-r,K6e=(n,e,r)=>e<<r|n>>>32-r,X6e=(n,e,r)=>e<<r-32|n>>>64-r,Q6e=(n,e,r)=>n<<r-32|e>>>64-r,J6e=BigInt(0),jb=BigInt(1),Z6e=BigInt(2),e5e=BigInt(7),t5e=BigInt(256),n5e=BigInt(113),Vce=[],Gce=[],Yce=[];for(let n=0,e=jb,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],Vce.push(2*(5*i+r)),Gce.push((n+1)*(n+2)/2%64);let s=J6e;for(let o=0;o<7;o++)e=(e<<jb^(e>>e5e)*n5e)%t5e,e&Z6e&&(s^=jb<<(jb<<BigInt(o))-jb);Yce.push(s)}const Kce=G6e(Yce,!0),r5e=Kce[0],i5e=Kce[1],Sz=(n,e,r)=>r>32?X6e(n,e,r):Y6e(n,e,r),kz=(n,e,r)=>r>32?Q6e(n,e,r):K6e(n,e,r);function s5e(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=Sz(u,d,1)^r[l],f=kz(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=Gce[a],c=Sz(s,o,l),u=kz(s,o,l),d=Vce[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=r5e[i],n[1]^=i5e[i]}qce(r)}let o5e=class Xce extends q6e{constructor(e,r,i,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,vz(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=F6e(this.state)}clone(){return this._cloneInto()}keccak(){xz(this.state32),s5e(this.state32,this.rounds),xz(this.state32),this.posOut=0,this.pos=0}update(e){wz(this),e=Hce(e),Sk(e);const{blockLen:r,state:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){wz(this,!1),Sk(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vz(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(L6e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,qce(this.state)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new Xce(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const a5e=(n,e,r)=>H6e(()=>new o5e(e,n,r)),l5e=a5e(1,136,256/8);function Qce(n,e={}){const{as:r=typeof n=="string"?"Hex":"Bytes"}=e,i=l5e(DCe(n));return r==="Bytes"?i:qa(i)}const c5e=/^0x[a-fA-F0-9]{40}$/;function TC(n,e={}){const{strict:r=!0}=e;if(!c5e.test(n))throw new Cz({address:n,cause:new u5e});if(r){if(n.toLowerCase()===n)return;if(Jce(n)!==n)throw new Cz({address:n,cause:new d5e})}}function Jce(n){if(s5.has(n))return s5.get(n);TC(n,{strict:!1});const e=n.substring(2).toLowerCase(),r=Qce(NCe(e),{as:"Bytes"}),i=e.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return s5.set(n,s),s}function fR(n,e={}){const{strict:r=!0}=e??{};try{return TC(n,{strict:r}),!0}catch{return!1}}class Cz extends cn{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class u5e extends cn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class d5e extends cn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const h5e=/^(.*)\[([0-9]*)\]$/,f5e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Zce=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ez=2n**256n-1n;function eg(n,e,r){const{checksumAddress:i,staticPosition:s}=r,o=c7(e.type);if(o){const[a,l]=o;return m5e(n,{...e,type:l},{checksumAddress:i,length:a,staticPosition:s})}if(e.type==="tuple")return v5e(n,e,{checksumAddress:i,staticPosition:s});if(e.type==="address")return p5e(n,{checksum:i});if(e.type==="bool")return g5e(n);if(e.type.startsWith("bytes"))return b5e(n,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return y5e(n,e);if(e.type==="string")return w5e(n,{staticPosition:s});throw new d7(e.type)}const Az=32,pR=32;function p5e(n,e={}){const{checksum:r=!1}=e,i=n.readBytes(32);return[(o=>r?Jce(o):o)(qa(BCe(i,-20))),32]}function m5e(n,e,r){const{checksumAddress:i,length:s,staticPosition:o}=r;if(!s){const c=Qc(n.readBytes(pR)),u=o+c,d=u+Az;n.setPosition(u);const h=Qc(n.readBytes(Az)),f=tw(e);let p=0;const m=[];for(let b=0;b<h;++b){n.setPosition(d+(f?b*32:p));const[y,v]=eg(n,e,{checksumAddress:i,staticPosition:d});p+=v,m.push(y)}return n.setPosition(o+32),[m,32]}if(tw(e)){const c=Qc(n.readBytes(pR)),u=o+c,d=[];for(let h=0;h<s;++h){n.setPosition(u+h*32);const[f]=eg(n,e,{checksumAddress:i,staticPosition:u});d.push(f)}return n.setPosition(o+32),[d,32]}let a=0;const l=[];for(let c=0;c<s;++c){const[u,d]=eg(n,e,{checksumAddress:i,staticPosition:o+a});a+=d,l.push(u)}return[l,a]}function g5e(n){return[FCe(n.readBytes(32),{size:32}),32]}function b5e(n,e,{staticPosition:r}){const[i,s]=e.type.split("bytes");if(!s){const a=Qc(n.readBytes(32));n.setPosition(r+a);const l=Qc(n.readBytes(32));if(l===0)return n.setPosition(r+32),["0x",32];const c=n.readBytes(l);return n.setPosition(r+32),[qa(c),32]}return[qa(n.readBytes(Number.parseInt(s,10),32)),32]}function y5e(n,e){const r=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),s=n.readBytes(32);return[i>48?LCe(s,{signed:r}):Qc(s,{signed:r}),32]}function v5e(n,e,r){const{checksumAddress:i,staticPosition:s}=r,o=e.components.length===0||e.components.some(({name:c})=>!c),a=o?[]:{};let l=0;if(tw(e)){const c=Qc(n.readBytes(pR)),u=s+c;for(let d=0;d<e.components.length;++d){const h=e.components[d];n.setPosition(u+l);const[f,p]=eg(n,h,{checksumAddress:i,staticPosition:u});l+=p,a[o?d:h==null?void 0:h.name]=f}return n.setPosition(s+32),[a,32]}for(let c=0;c<e.components.length;++c){const u=e.components[c],[d,h]=eg(n,u,{checksumAddress:i,staticPosition:s});a[o?c:u==null?void 0:u.name]=d,l+=h}return[a,l]}function w5e(n,{staticPosition:e}){const r=Qc(n.readBytes(32)),i=e+r;n.setPosition(i);const s=Qc(n.readBytes(32));if(s===0)return n.setPosition(e+32),["",32];const o=n.readBytes(s,32),a=$Ce(Kle(o));return n.setPosition(e+32),[a,32]}function x5e({checksumAddress:n,parameters:e,values:r}){const i=[];for(let s=0;s<e.length;s++)i.push(a7({checksumAddress:n,parameter:e[s],value:r[s]}));return i}function a7({checksumAddress:n=!1,parameter:e,value:r}){const i=e,s=c7(i.type);if(s){const[o,a]=s;return S5e(r,{checksumAddress:n,length:o,parameter:{...i,type:a}})}if(i.type==="tuple")return T5e(r,{checksumAddress:n,parameter:i});if(i.type==="address")return _5e(r,{checksum:n});if(i.type==="bool")return C5e(r);if(i.type.startsWith("uint")||i.type.startsWith("int")){const o=i.type.startsWith("int"),[,,a="256"]=Zce.exec(i.type)??[];return E5e(r,{signed:o,size:Number(a)})}if(i.type.startsWith("bytes"))return k5e(r,{type:i.type});if(i.type==="string")return A5e(r);throw new d7(i.type)}function l7(n){let e=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?e+=32:e+=_o(l)}const r=[],i=[];let s=0;for(let o=0;o<n.length;o++){const{dynamic:a,encoded:l}=n[o];a?(r.push(os(e+s,{size:32})),i.push(l),s+=_o(l)):r.push(l)}return Wa(...r,...i)}function _5e(n,e){const{checksum:r=!1}=e;return TC(n,{strict:r}),{dynamic:!1,encoded:Yf(n.toLowerCase())}}function S5e(n,e){const{checksumAddress:r,length:i,parameter:s}=e,o=i===null;if(!Array.isArray(n))throw new B5e(n);if(!o&&n.length!==i)throw new j5e({expectedLength:i,givenLength:n.length,type:`${s.type}[${i}]`});let a=!1;const l=[];for(let c=0;c<n.length;c++){const u=a7({checksumAddress:r,parameter:s,value:n[c]});u.dynamic&&(a=!0),l.push(u)}if(o||a){const c=l7(l);if(o){const u=os(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?Wa(u,c):u}}if(a)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Wa(...l.map(({encoded:c})=>c))}}function k5e(n,{type:e}){const[,r]=e.split("bytes"),i=_o(n);if(!r){let s=n;return i%32!==0&&(s=Kf(s,Math.ceil((n.length-2)/2/32)*32)),{dynamic:!0,encoded:Wa(Yf(os(i,{size:32})),s)}}if(i!==Number.parseInt(r,10))throw new tue({expectedSize:Number.parseInt(r,10),value:n});return{dynamic:!1,encoded:Kf(n)}}function C5e(n){if(typeof n!="boolean")throw new cn(`Invalid boolean value: "${n}" (type: ${typeof n}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Yf(Xle(n))}}function E5e(n,{signed:e,size:r}){if(typeof r=="number"){const i=2n**(BigInt(r)-(e?1n:0n))-1n,s=e?-i-1n:0n;if(n>i||n<s)throw new Zle({max:i.toString(),min:s.toString(),signed:e,size:r/8,value:n.toString()})}return{dynamic:!1,encoded:os(n,{size:32,signed:e})}}function A5e(n){const e=Gj(n),r=Math.ceil(_o(e)/32),i=[];for(let s=0;s<r;s++)i.push(Kf(Ll(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:Wa(Kf(os(_o(e),{size:32})),...i)}}function T5e(n,e){const{checksumAddress:r,parameter:i}=e;let s=!1;const o=[];for(let a=0;a<i.components.length;a++){const l=i.components[a],c=Array.isArray(n)?a:l.name,u=a7({checksumAddress:r,parameter:l,value:n[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?l7(o):Wa(...o.map(({encoded:a})=>a))}}function c7(n){const e=n.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function tw(n){var i;const{type:e}=n;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(i=n.components)==null?void 0:i.some(tw);const r=c7(n.type);return!!(r&&tw({...n,type:r[1]}))}const P5e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new O5e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new M5e({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new Tz({offset:n});const e=this.position-n;this.assertPosition(e),this.position=e},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new Tz({offset:n});const e=this.position+n;this.assertPosition(e),this.position=e},inspectByte(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(n,e){const r=e??this.position;return this.assertPosition(r+n-1),this.bytes.subarray(r,r+n)},inspectUint8(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(n){const e=n??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(n){const e=n??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(n){const e=n??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(n);return this.position+=e??n,r},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const e=this.position;return this.assertPosition(n),this.position=n,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function I5e(n,{recursiveReadLimit:e=8192}={}){const r=Object.create(P5e);return r.bytes=n,r.dataView=new DataView(n.buffer,n.byteOffset,n.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class Tz extends cn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class M5e extends cn{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class O5e extends cn{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function D5e(n,e,r={}){const{as:i="Array",checksumAddress:s=!1}=r,o=typeof e=="string"?Yle(e):e,a=I5e(o);if(Rm(o)===0&&n.length>0)throw new N5e;if(Rm(o)&&Rm(o)<32)throw new R5e({data:typeof e=="string"?e:qa(e),parameters:n,size:Rm(o)});let l=0;const c=i==="Array"?[]:{};for(let u=0;u<n.length;++u){const d=n[u];a.setPosition(l);const[h,f]=eg(a,d,{checksumAddress:s,staticPosition:0});l+=f,i==="Array"?c.push(h):c[d.name??u]=h}return c}function u7(n,e,r){const{checksumAddress:i=!1}={};if(n.length!==e.length)throw new nue({expectedLength:n.length,givenLength:e.length});const s=x5e({checksumAddress:i,parameters:n,values:e}),o=l7(s);return o.length===0?"0x":o}function mR(n,e){if(n.length!==e.length)throw new nue({expectedLength:n.length,givenLength:e.length});const r=[];for(let i=0;i<n.length;i++){const s=n[i],o=e[i];r.push(mR.encode(s,o))}return Wa(...r)}(function(n){function e(r,i,s=!1){if(r==="address"){const c=i;return TC(c),Yf(c.toLowerCase(),s?32:0)}if(r==="string")return Gj(i);if(r==="bytes")return i;if(r==="bool")return Yf(Xle(i),s?32:1);const o=r.match(Zce);if(o){const[c,u,d="256"]=o,h=Number.parseInt(d,10)/8;return os(i,{size:s?32:h,signed:u==="int"})}const a=r.match(f5e);if(a){const[c,u]=a;if(Number.parseInt(u,10)!==(i.length-2)/2)throw new tue({expectedSize:Number.parseInt(u,10),value:i});return Kf(i,s?32:0)}const l=r.match(h5e);if(l&&Array.isArray(i)){const[c,u]=l,d=[];for(let h=0;h<i.length;h++)d.push(e(u,i[h],!0));return d.length===0?"0x":Wa(...d)}throw new d7(r)}n.encode=e})(mR||(mR={}));function eue(n){return Array.isArray(n)&&typeof n[0]=="string"||typeof n=="string"?ez(n):n}class R5e extends cn{constructor({data:e,parameters:r,size:i}){super(`Data size of ${i} bytes is too small for given parameters.`,{metaMessages:[`Params: (${bm(r)})`,`Data:   ${e} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class N5e extends cn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class j5e extends cn{constructor({expectedLength:e,givenLength:r,type:i}){super(`Array length mismatch for type \`${i}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class tue extends cn{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${_o(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class nue extends cn{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class B5e extends cn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class d7 extends cn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function rue(n,e={}){const{recovered:r}=e;if(typeof n.r>"u")throw new o5({signature:n});if(typeof n.s>"u")throw new o5({signature:n});if(r&&typeof n.yParity>"u")throw new o5({signature:n});if(n.r<0n||n.r>Ez)throw new q5e({value:n.r});if(n.s<0n||n.s>Ez)throw new H5e({value:n.s});if(typeof n.yParity=="number"&&n.yParity!==0&&n.yParity!==1)throw new f7({value:n.yParity})}function L5e(n){return iue(qa(n))}function iue(n){if(n.length!==130&&n.length!==132)throw new W5e({signature:n});const e=BigInt(Ll(n,0,32)),r=BigInt(Ll(n,32,64)),i=(()=>{const s=+`0x${n.slice(130)}`;if(!Number.isNaN(s))try{return h7(s)}catch{throw new f7({value:s})}})();return typeof i>"u"?{r:e,s:r}:{r:e,s:r,yParity:i}}function F5e(n){if(!(typeof n.r>"u")&&!(typeof n.s>"u"))return $5e(n)}function $5e(n){const e=typeof n=="string"?iue(n):n instanceof Uint8Array?L5e(n):typeof n.r=="string"?U5e(n):n.v?z5e(n):{r:n.r,s:n.s,...typeof n.yParity<"u"?{yParity:n.yParity}:{}};return rue(e),e}function z5e(n){return{r:n.r,s:n.s,yParity:h7(n.v)}}function U5e(n){const e=(()=>{const r=n.v?Number(n.v):void 0;let i=n.yParity?Number(n.yParity):void 0;if(typeof r=="number"&&typeof i!="number"&&(i=h7(r)),typeof i!="number")throw new f7({value:n.yParity});return i})();return{r:BigInt(n.r),s:BigInt(n.s),yParity:e}}function h7(n){if(n===0||n===27)return 0;if(n===1||n===28)return 1;if(n>=35)return n%2===0?1:0;throw new V5e({value:n})}class W5e extends cn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${_o(YCe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class o5 extends cn{constructor({signature:e}){super(`Signature \`${Gle(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class q5e extends cn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class H5e extends cn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class f7 extends cn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class V5e extends cn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function G5e(n,e={}){return typeof n.chainId=="string"?Y5e(n):{...n,...e.signature}}function Y5e(n){const{address:e,chainId:r,nonce:i}=n,s=F5e(n);return{address:e,chainId:Number(r),nonce:BigInt(i),...s}}const K5e="0x8010801080108010801080108010801080108010801080108010801080108010",X5e=eue("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function sue(n){if(typeof n=="string"){if(Ll(n,-32)!==K5e)throw new Z5e(n)}else rue(n.authorization)}function Q5e(n){sue(n);const e=Jle(Ll(n,-64,-32)),r=Ll(n,-e-64,-64),i=Ll(n,0,-e-64),[s,o,a]=D5e(X5e,r);return{authorization:G5e({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:i,...a&&a!=="0x"?{data:a,to:o}:{}}}function J5e(n){try{return sue(n),!0}catch{return!1}}let Z5e=class extends cn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function e3e(n){return n.map(e=>({...e,value:BigInt(e.value)}))}function t3e(n){return{...n,balance:n.balance?BigInt(n.balance):void 0,nonce:n.nonce?ql(n.nonce):void 0,storageProof:n.storageProof?e3e(n.storageProof):void 0}}async function n3e(n,{address:e,blockNumber:r,blockTag:i,storageKeys:s}){const o=i??"latest",a=r!==void 0?At(r):void 0,l=await n.request({method:"eth_getProof",params:[e,s,a||o]});return t3e(l)}async function r3e(n,{address:e,blockNumber:r,blockTag:i="latest",slot:s}){const o=r!==void 0?At(r):void 0;return await n.request({method:"eth_getStorageAt",params:[e,s,o||i]})}async function p7(n,{blockHash:e,blockNumber:r,blockTag:i,hash:s,index:o,sender:a,nonce:l}){var f,p,m;const c=i||"latest",u=r!==void 0?At(r):void 0;let d=null;if(s?d=await n.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await n.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,At(o)]},{dedupe:!0}):typeof o=="number"?d=await n.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,At(o)]},{dedupe:!!u}):a&&typeof l=="number"&&(d=await n.request({method:"eth_getTransactionBySenderAndNonce",params:[a,At(l)]},{dedupe:!0})),!d)throw new Fle({blockHash:e,blockNumber:r,blockTag:c,hash:s,index:o});return(((m=(p=(f=n.chain)==null?void 0:f.formatters)==null?void 0:p.transaction)==null?void 0:m.format)||e7)(d,"getTransaction")}async function i3e(n,{hash:e,transactionReceipt:r}){const[i,s]=await Promise.all([$t(n,ax,"getBlockNumber")({}),e?$t(n,p7,"getTransaction")({hash:e}):void 0]),o=(r==null?void 0:r.blockNumber)||(s==null?void 0:s.blockNumber);return o?i-o+1n:0n}async function fS(n,{hash:e}){var s,o,a;const r=await n.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new $le({hash:e});return(((a=(o=(s=n.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||jce)(r,"getTransactionReceipt")}async function s3e(n,e){var w;const{account:r,authorizationList:i,allowFailure:s=!0,blockNumber:o,blockOverrides:a,blockTag:l,stateOverride:c}=e,u=e.contracts,{batchSize:d=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((w=n.batch)==null?void 0:w.multicall)=="object"?n.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(n.chain)return Y0({blockNumber:o,chain:n.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let m=0,b=0;for(let _=0;_<u.length;_++){const{abi:x,address:S,args:C,functionName:E}=u[_];try{const A=Qa({abi:x,args:C,functionName:E});b+=(A.length-2)/2,d>0&&b>d&&p[m].length>0&&(m++,b=(A.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:A,target:S}]}catch(A){const M=o0(A,{abi:x,address:S,args:C,docsPath:"/docs/contract/multicall",functionName:E,sender:r});if(!s)throw M;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:S}]}}const y=await Promise.allSettled(p.map(_=>$t(n,Ha,"readContract")({...f===null?{code:Yj}:{address:f},abi:bk,account:r,args:[_],authorizationList:i,blockNumber:o,blockOverrides:a,blockTag:l,functionName:"aggregate3",stateOverride:c}))),v=[];for(let _=0;_<y.length;_++){const x=y[_];if(x.status==="rejected"){if(!s)throw x.reason;for(let C=0;C<p[_].length;C++)v.push({status:"failure",error:x.reason,result:void 0});continue}const S=x.value;for(let C=0;C<S.length;C++){const{returnData:E,success:A}=S[C],{callData:M}=p[_][C],{abi:I,address:O,functionName:F,args:$}=u[v.length];try{if(M==="0x")throw new Zw;if(!A)throw new yC({data:E});const z=vp({abi:I,args:$,data:E,functionName:F});v.push(s?{result:z,status:"success"}:z)}catch(z){const R=o0(z,{abi:I,address:O,args:$,docsPath:"/docs/contract/multicall",functionName:F});if(!s)throw R;v.push({error:R,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new nt("multicall results mismatch");return v}async function gR(n,e){const{blockNumber:r,blockTag:i=n.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:a,validation:l}=e;try{const c=[];for(const f of s){const p=f.blockOverrides?tce(f.blockOverrides):void 0,m=f.calls.map(y=>{const v=y,w=v.account?Gi(v.account):void 0,_=v.abi?Qa(v):v.data,x={...v,account:w,data:v.dataSuffix?Vl([_||"0x",v.dataSuffix]):_,from:v.from??(w==null?void 0:w.address)};return K0(x),sx(x)}),b=f.stateOverrides?Xj(f.stateOverrides):void 0;c.push({blockOverrides:p,calls:m,stateOverrides:b})}const d=(typeof r=="bigint"?At(r):void 0)||i;return(await n.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:a,validation:l},d]})).map((f,p)=>({...Sce(f),calls:f.calls.map((m,b)=>{var I,O;const{abi:y,args:v,functionName:w,to:_}=s[p].calls[b],x=((I=m.error)==null?void 0:I.data)??m.returnData,S=BigInt(m.gasUsed),C=(O=m.logs)==null?void 0:O.map(F=>pu(F)),E=m.status==="0x1"?"success":"failure",A=y&&E==="success"&&x!=="0x"?vp({abi:y,data:x,functionName:w}):null,M=(()=>{var $;if(E==="success")return;let F;if((($=m.error)==null?void 0:$.data)==="0x"?F=new Zw:m.error&&(F=new yC(m.error)),!!F)return o0(F,{abi:y??[],address:_??"0x",args:v,functionName:w??"<unknown>"})})();return{data:x,gasUsed:S,logs:C,status:E,...E==="success"?{result:A}:{error:M}}})}))}catch(c){const u=c,d=xC(u,{});throw d instanceof ix?u:d}}function bR(n){let e=!0,r="",i=0,s="",o=!1;for(let a=0;a<n.length;a++){const l=n[a];if(["(",")",","].includes(l)&&(e=!0),l==="("&&i++,l===")"&&i--,!!e){if(i===0){if(l===" "&&["event","function","error",""].includes(s))s="";else if(s+=l,l===")"){o=!0;break}continue}if(l===" "){n[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=l,r+=l}}if(!o)throw new cn("Unable to normalize signature.");return s}function yR(n,e){const r=typeof n,i=e.type;switch(i){case"address":return fR(n,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>yR(Object.values(n)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?r==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(n)&&n.every(s=>yR(s,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function oue(n,e,r){for(const i in n){const s=n[i],o=e[i];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return oue(s.components,o.components,r[i]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?fR(r[i],{strict:!1}):a.includes("address")&&a.includes("bytes")?fR(r[i],{strict:!1}):!1)return a}}function aue(n,e={}){const{prepare:r=!0}=e,i=Array.isArray(n)||typeof n=="string"?Z$(n):n;return{...i,...r?{hash:jm(i)}:{}}}function PC(n,e,r){const{args:i=[],prepare:s=!0}=r??{},o=KCe(e,{strict:!1}),a=n.filter(u=>o?u.type==="function"||u.type==="error"?lue(u)===Ll(e,0,4):u.type==="event"?jm(u)===e:!1:"name"in u&&u.name===e);if(a.length===0)throw new kk({name:e});if(a.length===1)return{...a[0],...s?{hash:jm(a[0])}:{}};let l;for(const u of a){if(!("inputs"in u))continue;if(!i||i.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:jm(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==i.length)continue;if(i.every((h,f)=>{const p="inputs"in u&&u.inputs[f];return p?yR(h,p):!1})){if(l&&"inputs"in l&&l.inputs){const h=oue(u.inputs,l.inputs,i);if(h)throw new a3e({abiItem:u,type:h[0]},{abiItem:l,type:h[1]})}l=u}}const c=(()=>{if(l)return l;const[u,...d]=a;return{...u,overloads:d}})();if(!c)throw new kk({name:e});return{...c,...s?{hash:jm(c)}:{}}}function lue(...n){const e=(()=>{if(Array.isArray(n[0])){const[r,i]=n;return PC(r,i)}return n[0]})();return Ll(jm(e),0,4)}function o3e(...n){const e=(()=>{if(Array.isArray(n[0])){const[i,s]=n;return PC(i,s)}return n[0]})(),r=typeof e=="string"?e:vk(e);return bR(r)}function jm(...n){const e=(()=>{if(Array.isArray(n[0])){const[r,i]=n;return PC(r,i)}return n[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Qce(Gj(o3e(e)))}class a3e extends cn{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${bR(vk(e.abiItem))}\`, and`,`\`${r.type}\` in \`${bR(vk(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class kk extends cn{constructor({name:e,data:r,type:i="item"}){const s=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${i}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function l3e(...n){var o;const[e,r]=(()=>{if(Array.isArray(n[0])){const[a,l]=n;return[u3e(a),l]}return n})(),{bytecode:i,args:s}=r;return Wa(i,(o=e.inputs)!=null&&o.length&&(s!=null&&s.length)?u7(e.inputs,s):"0x")}function c3e(n){return aue(n)}function u3e(n){const e=n.find(r=>r.type==="constructor");if(!e)throw new kk({name:"constructor"});return e}function d3e(...n){const[e,r=[]]=(()=>{if(Array.isArray(n[0])){const[u,d,h]=n;return[Pz(u,d,{args:h}),h]}const[l,c]=n;return[l,c]})(),{overloads:i}=e,s=i?Pz([e,...i],e.name,{args:r}):e,o=h3e(s),a=r.length>0?u7(s.inputs,r):void 0;return a?Wa(o,a):o}function Qp(n,e={}){return aue(n,e)}function Pz(n,e,r){const i=PC(n,e,r);if(i.type!=="function")throw new kk({name:e,type:"function"});return i}function h3e(n){return lue(n)}const f3e="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ll="0x0000000000000000000000000000000000000000",p3e="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function m3e(n,e){const{blockNumber:r,blockTag:i,calls:s,stateOverrides:o,traceAssetChanges:a,traceTransfers:l,validation:c}=e,u=e.account?Gi(e.account):void 0;if(a&&!u)throw new nt("`account` is required when `traceAssetChanges` is true");const d=u?l3e(c3e("constructor(bytes, bytes)"),{bytecode:nce,args:[p3e,d3e(Qp("function getBalance(address)"),[u.address])]}):void 0,h=a?await Promise.all(e.calls.map(async D=>{if(!D.data&&!D.abi)return;const{accessList:H}=await hce(n,{account:u.address,...D,data:D.abi?Qa(D):D.data});return H.map(({address:U,storageKeys:X})=>X.length>0?U:null)})).then(D=>D.flat().filter(Boolean)):[],f=await gR(n,{blockNumber:r,blockTag:i,blocks:[...a?[{calls:[{data:d}],stateOverrides:o},{calls:h.map((D,H)=>({abi:[Qp("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:D,from:ll,nonce:H})),stateOverrides:[{address:ll,nonce:0}]}]:[],{calls:[...s,{}].map(D=>({...D,from:u==null?void 0:u.address})),stateOverrides:o},...a?[{calls:[{data:d}]},{calls:h.map((D,H)=>({abi:[Qp("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:D,from:ll,nonce:H})),stateOverrides:[{address:ll,nonce:0}]},{calls:h.map((D,H)=>({to:D,abi:[Qp("function decimals() returns (uint256)")],functionName:"decimals",from:ll,nonce:H})),stateOverrides:[{address:ll,nonce:0}]},{calls:h.map((D,H)=>({to:D,abi:[Qp("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ll,nonce:H})),stateOverrides:[{address:ll,nonce:0}]},{calls:h.map((D,H)=>({to:D,abi:[Qp("function symbol() returns (string)")],functionName:"symbol",from:ll,nonce:H})),stateOverrides:[{address:ll,nonce:0}]}]:[]],traceTransfers:l,validation:c}),p=a?f[2]:f[0],[m,b,,y,v,w,_,x]=a?f:[],{calls:S,...C}=p,E=S.slice(0,-1)??[],A=(m==null?void 0:m.calls)??[],M=(b==null?void 0:b.calls)??[],I=[...A,...M].map(D=>D.status==="success"?Wl(D.data):null),O=(y==null?void 0:y.calls)??[],F=(v==null?void 0:v.calls)??[],$=[...O,...F].map(D=>D.status==="success"?Wl(D.data):null),z=((w==null?void 0:w.calls)??[]).map(D=>D.status==="success"?D.result:null),R=((x==null?void 0:x.calls)??[]).map(D=>D.status==="success"?D.result:null),j=((_==null?void 0:_.calls)??[]).map(D=>D.status==="success"?D.result:null),N=[];for(const[D,H]of $.entries()){const U=I[D];if(typeof H!="bigint"||typeof U!="bigint")continue;const X=z[D-1],Y=R[D-1],ee=j[D-1],G=D===0?{address:f3e,decimals:18,symbol:"ETH"}:{address:h[D-1],decimals:ee||X?Number(X??1):void 0,symbol:Y??void 0};N.some(Z=>Z.token.address===G.address)||N.push({token:G,value:{pre:U,post:H,diff:H-U}})}return{assetChanges:N,block:C,results:E}}async function g3e(n,e){const{abi:r,address:i,args:s,dataSuffix:o,functionName:a,...l}=e,c=l.account?Gi(l.account):n.account,u=Qa({abi:r,args:s,functionName:a});try{const{data:d}=await $t(n,SC,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:i,...l,account:c}),h=vp({abi:r,args:s,functionName:a,data:d||"0x"}),f=r.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:i,args:s,dataSuffix:o,functionName:a,...l,account:c}}}catch(d){throw o0(d,{abi:r,address:i,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c==null?void 0:c.address})}}async function IC(n,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const cue="0x6492649264926492649264926492649264926492649264926492649264926492";function b3e(n){if(Ll(n,-32)!==cue)throw new w3e(n)}function y3e(n){const{data:e,signature:r,to:i}=n;return Wa(u7(eue("address, bytes, bytes"),[i,e,r]),cue)}function v3e(n){try{return b3e(n),!0}catch{return!1}}class w3e extends cn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}let uue=class extends jj{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,yke(e);const i=fC(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),r0(o)}update(e){return n0(this),this.iHash.update(e),this}digestInto(e){n0(this),Vf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const due=(n,e,r)=>new uue(n,e).update(r).digest();due.create=(n,e)=>new uue(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const m7=BigInt(0),vR=BigInt(1);function lx(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function g7(n){if(!lx(n))throw new Error("Uint8Array expected")}function nw(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}function U1(n){const e=n.toString(16);return e.length&1?"0"+e:e}function hue(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?m7:BigInt("0x"+n)}const fue=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",x3e=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function rw(n){if(g7(n),fue)return n.toHex();let e="";for(let r=0;r<n.length;r++)e+=x3e[n[r]];return e}const dc={_0:48,_9:57,A:65,F:70,a:97,f:102};function Iz(n){if(n>=dc._0&&n<=dc._9)return n-dc._0;if(n>=dc.A&&n<=dc.F)return n-(dc.A-10);if(n>=dc.a&&n<=dc.f)return n-(dc.a-10)}function Ck(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(fue)return Uint8Array.fromHex(n);const e=n.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){const a=Iz(n.charCodeAt(o)),l=Iz(n.charCodeAt(o+1));if(a===void 0||l===void 0){const c=n[o]+n[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}i[s]=a*16+l}return i}function Tf(n){return hue(rw(n))}function pue(n){return g7(n),hue(rw(Uint8Array.from(n).reverse()))}function cx(n,e){return Ck(n.toString(16).padStart(e*2,"0"))}function mue(n,e){return cx(n,e).reverse()}function qo(n,e,r){let i;if(typeof e=="string")try{i=Ck(e)}catch(o){throw new Error(n+" must be hex string or Uint8Array, cause: "+o)}else if(lx(e))i=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(n+" of length "+r+" expected, got "+s);return i}function Ek(...n){let e=0;for(let i=0;i<n.length;i++){const s=n[i];g7(s),e+=s.length}const r=new Uint8Array(e);for(let i=0,s=0;i<n.length;i++){const o=n[i];r.set(o,s),s+=o.length}return r}const a5=n=>typeof n=="bigint"&&m7<=n;function b7(n,e,r){return a5(n)&&a5(e)&&a5(r)&&e<=n&&n<r}function tg(n,e,r,i){if(!b7(e,r,i))throw new Error("expected valid "+n+": "+r+" <= n < "+i+", got "+e)}function _3e(n){let e;for(e=0;n>m7;n>>=vR,e+=1);return e}const MC=n=>(vR<<BigInt(n))-vR,l5=n=>new Uint8Array(n),Mz=n=>Uint8Array.from(n);function S3e(n,e,r){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=l5(n),s=l5(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},l=(...h)=>r(s,i,...h),c=(h=l5(0))=>{s=l(Mz([0]),h),i=l(),h.length!==0&&(s=l(Mz([1]),h),i=l())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return Ek(...f)};return(h,f)=>{a(),c(h);let p;for(;!(p=f(u()));)c();return a(),p}}const k3e={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||lx(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function OC(n,e,r={}){const i=(s,o,a)=>{const l=k3e[o];if(typeof l!="function")throw new Error("invalid validator function");const c=n[s];if(!(a&&c===void 0)&&!l(c,n))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(e))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return n}function Oz(n){const e=new WeakMap;return(r,...i)=>{const s=e.get(r);if(s!==void 0)return s;const o=n(r,...i);return e.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ns=BigInt(0),fs=BigInt(1),tf=BigInt(2),C3e=BigInt(3),gue=BigInt(4),bue=BigInt(5),yue=BigInt(8);function Ps(n,e){const r=n%e;return r>=Ns?r:e+r}function Oo(n,e,r){let i=n;for(;e-- >Ns;)i*=i,i%=r;return i}function wR(n,e){if(n===Ns)throw new Error("invert: expected non-zero number");if(e<=Ns)throw new Error("invert: expected positive modulus, got "+e);let r=Ps(n,e),i=e,s=Ns,o=fs;for(;r!==Ns;){const l=i/r,c=i%r,u=s-o*l;i=r,r=c,s=o,o=u}if(i!==fs)throw new Error("invert: does not exist");return Ps(s,e)}function vue(n,e){const r=(n.ORDER+fs)/gue,i=n.pow(e,r);if(!n.eql(n.sqr(i),e))throw new Error("Cannot find square root");return i}function E3e(n,e){const r=(n.ORDER-bue)/yue,i=n.mul(e,tf),s=n.pow(i,r),o=n.mul(e,s),a=n.mul(n.mul(o,tf),s),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),e))throw new Error("Cannot find square root");return l}function A3e(n){if(n<BigInt(3))throw new Error("sqrt is not defined for small field");let e=n-fs,r=0;for(;e%tf===Ns;)e/=tf,r++;let i=tf;const s=y7(n);for(;Dz(s,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return vue;let o=s.pow(i,e);const a=(e+fs)/tf;return function(c,u){if(c.is0(u))return u;if(Dz(c,u)!==1)throw new Error("Cannot find square root");let d=r,h=c.mul(c.ONE,o),f=c.pow(u,e),p=c.pow(u,a);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let m=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(m++,b=c.sqr(b),m===d)throw new Error("Cannot find square root");const y=fs<<BigInt(d-m-1),v=c.pow(h,y);d=m,h=c.sqr(v),f=c.mul(f,h),p=c.mul(p,v)}return p}}function T3e(n){return n%gue===C3e?vue:n%yue===bue?E3e:A3e(n)}const P3e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function I3e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=P3e.reduce((i,s)=>(i[s]="function",i),e);return OC(n,r)}function M3e(n,e,r){if(r<Ns)throw new Error("invalid exponent, negatives unsupported");if(r===Ns)return n.ONE;if(r===fs)return e;let i=n.ONE,s=e;for(;r>Ns;)r&fs&&(i=n.mul(i,s)),s=n.sqr(s),r>>=fs;return i}function wue(n,e,r=!1){const i=new Array(e.length).fill(r?n.ZERO:void 0),s=e.reduce((a,l,c)=>n.is0(l)?a:(i[c]=a,n.mul(a,l)),n.ONE),o=n.inv(s);return e.reduceRight((a,l,c)=>n.is0(l)?a:(i[c]=n.mul(a,i[c]),n.mul(a,l)),o),i}function Dz(n,e){const r=(n.ORDER-fs)/tf,i=n.pow(e,r),s=n.eql(i,n.ONE),o=n.eql(i,n.ZERO),a=n.eql(i,n.neg(n.ONE));if(!s&&!o&&!a)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function xue(n,e){e!==void 0&&Nv(e);const r=e!==void 0?e:n.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function y7(n,e,r=!1,i={}){if(n<=Ns)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:o}=xue(n,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const l=Object.freeze({ORDER:n,isLE:r,BITS:s,BYTES:o,MASK:MC(s),ZERO:Ns,ONE:fs,create:c=>Ps(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ns<=c&&c<n},is0:c=>c===Ns,isOdd:c=>(c&fs)===fs,neg:c=>Ps(-c,n),eql:(c,u)=>c===u,sqr:c=>Ps(c*c,n),add:(c,u)=>Ps(c+u,n),sub:(c,u)=>Ps(c-u,n),mul:(c,u)=>Ps(c*u,n),pow:(c,u)=>M3e(l,c,u),div:(c,u)=>Ps(c*wR(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>wR(c,n),sqrt:i.sqrt||(c=>(a||(a=T3e(n)),a(l,c))),toBytes:c=>r?mue(c,o):cx(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?pue(c):Tf(c)},invertBatch:c=>wue(l,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(l)}function _ue(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Sue(n){const e=_ue(n);return e+Math.ceil(e/2)}function O3e(n,e,r=!1){const i=n.length,s=_ue(e),o=Sue(e);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const a=r?pue(n):Tf(n),l=Ps(a,e-fs)+fs;return r?mue(l,s):cx(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rz=BigInt(0),xR=BigInt(1);function c5(n,e){const r=e.negate();return n?r:e}function kue(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function u5(n,e){kue(n,e);const r=Math.ceil(e/n)+1,i=2**(n-1),s=2**n,o=MC(n),a=BigInt(n);return{windows:r,windowSize:i,mask:o,maxNumber:s,shiftBy:a}}function Nz(n,e,r){const{windowSize:i,mask:s,maxNumber:o,shiftBy:a}=r;let l=Number(n&s),c=n>>a;l>i&&(l-=o,c+=xR);const u=e*i,d=u+Math.abs(l)-1,h=l===0,f=l<0,p=e%2!==0;return{nextN:c,offset:d,isZero:h,isNeg:f,isNegF:p,offsetF:u}}function D3e(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((r,i)=>{if(!(r instanceof e))throw new Error("invalid point at index "+i)})}function R3e(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((r,i)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+i)})}const d5=new WeakMap,Cue=new WeakMap;function h5(n){return Cue.get(n)||1}function N3e(n,e){return{constTimeNegate:c5,hasPrecomputes(r){return h5(r)!==1},unsafeLadder(r,i,s=n.ZERO){let o=r;for(;i>Rz;)i&xR&&(s=s.add(o)),o=o.double(),i>>=xR;return s},precomputeWindow(r,i){const{windows:s,windowSize:o}=u5(i,e),a=[];let l=r,c=l;for(let u=0;u<s;u++){c=l,a.push(c);for(let d=1;d<o;d++)c=c.add(l),a.push(c);l=c.double()}return a},wNAF(r,i,s){let o=n.ZERO,a=n.BASE;const l=u5(r,e);for(let c=0;c<l.windows;c++){const{nextN:u,offset:d,isZero:h,isNeg:f,isNegF:p,offsetF:m}=Nz(s,c,l);s=u,h?a=a.add(c5(p,i[m])):o=o.add(c5(f,i[d]))}return{p:o,f:a}},wNAFUnsafe(r,i,s,o=n.ZERO){const a=u5(r,e);for(let l=0;l<a.windows&&s!==Rz;l++){const{nextN:c,offset:u,isZero:d,isNeg:h}=Nz(s,l,a);if(s=c,!d){const f=i[u];o=o.add(h?f.negate():f)}}return o},getPrecomputes(r,i,s){let o=d5.get(i);return o||(o=this.precomputeWindow(i,r),r!==1&&d5.set(i,s(o))),o},wNAFCached(r,i,s){const o=h5(r);return this.wNAF(o,this.getPrecomputes(o,r,s),i)},wNAFCachedUnsafe(r,i,s,o){const a=h5(r);return a===1?this.unsafeLadder(r,i,o):this.wNAFUnsafe(a,this.getPrecomputes(a,r,s),i,o)},setWindowSize(r,i){kue(i,e),Cue.set(r,i),d5.delete(r)}}}function j3e(n,e,r,i){D3e(r,n),R3e(i,e);const s=r.length,o=i.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const a=n.ZERO,l=_3e(BigInt(s));let c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);const u=MC(c),d=new Array(Number(u)+1).fill(a),h=Math.floor((e.BITS-1)/c)*c;let f=a;for(let p=h;p>=0;p-=c){d.fill(a);for(let b=0;b<o;b++){const y=i[b],v=Number(y>>BigInt(p)&u);d[v]=d[v].add(r[b])}let m=a;for(let b=d.length-1,y=a;b>0;b--)y=y.add(d[b]),m=m.add(y);if(f=f.add(m),p!==0)for(let b=0;b<c;b++)f=f.double()}return f}function Eue(n){return I3e(n.Fp),OC(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xue(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jz(n){n.lowS!==void 0&&nw("lowS",n.lowS),n.prehash!==void 0&&nw("prehash",n.prehash)}function B3e(n){const e=Eue(n);OC(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:i,a:s}=e;if(r){if(!i.eql(s,i.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class L3e extends Error{constructor(e=""){super(e)}}const Ec={Err:L3e,_tlv:{encode:(n,e)=>{const{Err:r}=Ec;if(n<0||n>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const i=e.length/2,s=U1(i);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const o=i>127?U1(s.length/2|128):"";return U1(n)+o+s+e},decode(n,e){const{Err:r}=Ec;let i=0;if(n<0||n>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[i++]!==n)throw new r("tlv.decode: wrong tlv");const s=e[i++],o=!!(s&128);let a=0;if(!o)a=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(i,i+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const d of u)a=a<<8|d;if(i+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}const l=e.subarray(i,i+a);if(l.length!==a)throw new r("tlv.decode: wrong value length");return{v:l,l:e.subarray(i+a)}}},_int:{encode(n){const{Err:e}=Ec;if(n<Lc)throw new e("integer: negative integers are not allowed");let r=U1(n);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(n){const{Err:e}=Ec;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Tf(n)}},toSig(n){const{Err:e,_int:r,_tlv:i}=Ec,s=qo("signature",n),{v:o,l:a}=i.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:c}=i.decode(2,o),{v:u,l:d}=i.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(u)}},hexFromSig(n){const{_tlv:e,_int:r}=Ec,i=e.encode(2,r.encode(n.r)),s=e.encode(2,r.encode(n.s)),o=i+s;return e.encode(48,o)}};function f5(n,e){return rw(cx(n,e))}const Lc=BigInt(0),ri=BigInt(1);BigInt(2);const p5=BigInt(3),F3e=BigInt(4);function $3e(n){const e=B3e(n),{Fp:r}=e,i=y7(e.n,e.nBitLength),s=e.toBytes||((_,x,S)=>{const C=x.toAffine();return Ek(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),o=e.fromBytes||(_=>{const x=_.subarray(1),S=r.fromBytes(x.subarray(0,r.BYTES)),C=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:S,y:C}});function a(_){const{a:x,b:S}=e,C=r.sqr(_),E=r.mul(C,_);return r.add(r.add(E,r.mul(_,x)),S)}function l(_,x){const S=r.sqr(x),C=a(_);return r.eql(S,C)}if(!l(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(e.a,p5),F3e),u=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,u)))throw new Error("bad curve params: a or b");function d(_){return b7(_,ri,e.n)}function h(_){const{allowedPrivateKeyLengths:x,nByteLength:S,wrapPrivateKey:C,n:E}=e;if(x&&typeof _!="bigint"){if(lx(_)&&(_=rw(_)),typeof _!="string"||!x.includes(_.length))throw new Error("invalid private key");_=_.padStart(S*2,"0")}let A;try{A=typeof _=="bigint"?_:Tf(qo("private key",_,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof _)}return C&&(A=Ps(A,E)),tg("private key",A,ri,E),A}function f(_){if(!(_ instanceof b))throw new Error("ProjectivePoint expected")}const p=Oz((_,x)=>{const{px:S,py:C,pz:E}=_;if(r.eql(E,r.ONE))return{x:S,y:C};const A=_.is0();x==null&&(x=A?r.ONE:r.inv(E));const M=r.mul(S,x),I=r.mul(C,x),O=r.mul(E,x);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:M,y:I}}),m=Oz(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.py))return;throw new Error("bad point: ZERO")}const{x,y:S}=_.toAffine();if(!r.isValid(x)||!r.isValid(S))throw new Error("bad point: x or y not FE");if(!l(x,S))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(x,S,C){if(x==null||!r.isValid(x))throw new Error("x required");if(S==null||!r.isValid(S)||r.is0(S))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");this.px=x,this.py=S,this.pz=C,Object.freeze(this)}static fromAffine(x){const{x:S,y:C}=x||{};if(!x||!r.isValid(S)||!r.isValid(C))throw new Error("invalid affine point");if(x instanceof b)throw new Error("projective point not allowed");const E=A=>r.eql(A,r.ZERO);return E(S)&&E(C)?b.ZERO:new b(S,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const S=wue(r,x.map(C=>C.pz));return x.map((C,E)=>C.toAffine(S[E])).map(b.fromAffine)}static fromHex(x){const S=b.fromAffine(o(qo("pointHex",x)));return S.assertValidity(),S}static fromPrivateKey(x){return b.BASE.multiply(h(x))}static msm(x,S){return j3e(b,i,x,S)}_setWindowSize(x){w.setWindowSize(this,x)}assertValidity(){m(this)}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){f(x);const{px:S,py:C,pz:E}=this,{px:A,py:M,pz:I}=x,O=r.eql(r.mul(S,I),r.mul(A,E)),F=r.eql(r.mul(C,I),r.mul(M,E));return O&&F}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:S}=e,C=r.mul(S,p5),{px:E,py:A,pz:M}=this;let I=r.ZERO,O=r.ZERO,F=r.ZERO,$=r.mul(E,E),z=r.mul(A,A),R=r.mul(M,M),j=r.mul(E,A);return j=r.add(j,j),F=r.mul(E,M),F=r.add(F,F),I=r.mul(x,F),O=r.mul(C,R),O=r.add(I,O),I=r.sub(z,O),O=r.add(z,O),O=r.mul(I,O),I=r.mul(j,I),F=r.mul(C,F),R=r.mul(x,R),j=r.sub($,R),j=r.mul(x,j),j=r.add(j,F),F=r.add($,$),$=r.add(F,$),$=r.add($,R),$=r.mul($,j),O=r.add(O,$),R=r.mul(A,M),R=r.add(R,R),$=r.mul(R,j),I=r.sub(I,$),F=r.mul(R,z),F=r.add(F,F),F=r.add(F,F),new b(I,O,F)}add(x){f(x);const{px:S,py:C,pz:E}=this,{px:A,py:M,pz:I}=x;let O=r.ZERO,F=r.ZERO,$=r.ZERO;const z=e.a,R=r.mul(e.b,p5);let j=r.mul(S,A),N=r.mul(C,M),D=r.mul(E,I),H=r.add(S,C),U=r.add(A,M);H=r.mul(H,U),U=r.add(j,N),H=r.sub(H,U),U=r.add(S,E);let X=r.add(A,I);return U=r.mul(U,X),X=r.add(j,D),U=r.sub(U,X),X=r.add(C,E),O=r.add(M,I),X=r.mul(X,O),O=r.add(N,D),X=r.sub(X,O),$=r.mul(z,U),O=r.mul(R,D),$=r.add(O,$),O=r.sub(N,$),$=r.add(N,$),F=r.mul(O,$),N=r.add(j,j),N=r.add(N,j),D=r.mul(z,D),U=r.mul(R,U),N=r.add(N,D),D=r.sub(j,D),D=r.mul(z,D),U=r.add(U,D),j=r.mul(N,U),F=r.add(F,j),j=r.mul(X,U),O=r.mul(H,O),O=r.sub(O,j),j=r.mul(H,N),$=r.mul(X,$),$=r.add($,j),new b(O,F,$)}subtract(x){return this.add(x.negate())}is0(){return this.equals(b.ZERO)}wNAF(x){return w.wNAFCached(this,x,b.normalizeZ)}multiplyUnsafe(x){const{endo:S,n:C}=e;tg("scalar",x,Lc,C);const E=b.ZERO;if(x===Lc)return E;if(this.is0()||x===ri)return this;if(!S||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,x,b.normalizeZ);let{k1neg:A,k1:M,k2neg:I,k2:O}=S.splitScalar(x),F=E,$=E,z=this;for(;M>Lc||O>Lc;)M&ri&&(F=F.add(z)),O&ri&&($=$.add(z)),z=z.double(),M>>=ri,O>>=ri;return A&&(F=F.negate()),I&&($=$.negate()),$=new b(r.mul($.px,S.beta),$.py,$.pz),F.add($)}multiply(x){const{endo:S,n:C}=e;tg("scalar",x,ri,C);let E,A;if(S){const{k1neg:M,k1:I,k2neg:O,k2:F}=S.splitScalar(x);let{p:$,f:z}=this.wNAF(I),{p:R,f:j}=this.wNAF(F);$=w.constTimeNegate(M,$),R=w.constTimeNegate(O,R),R=new b(r.mul(R.px,S.beta),R.py,R.pz),E=$.add(R),A=z.add(j)}else{const{p:M,f:I}=this.wNAF(x);E=M,A=I}return b.normalizeZ([E,A])[0]}multiplyAndAddUnsafe(x,S,C){const E=b.BASE,A=(I,O)=>O===Lc||O===ri||!I.equals(E)?I.multiplyUnsafe(O):I.multiply(O),M=A(this,S).add(A(x,C));return M.is0()?void 0:M}toAffine(x){return p(this,x)}isTorsionFree(){const{h:x,isTorsionFree:S}=e;if(x===ri)return!0;if(S)return S(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:S}=e;return x===ri?this:S?S(b,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return nw("isCompressed",x),this.assertValidity(),s(b,this,x)}toHex(x=!0){return nw("isCompressed",x),rw(this.toRawBytes(x))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const{endo:y,nBitLength:v}=e,w=N3e(b,y?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:d}}function z3e(n){const e=Eue(n);return OC(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function U3e(n){const e=z3e(n),{Fp:r,n:i,nByteLength:s,nBitLength:o}=e,a=r.BYTES+1,l=2*r.BYTES+1;function c(R){return Ps(R,i)}function u(R){return wR(R,i)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=$3e({...e,toBytes(R,j,N){const D=j.toAffine(),H=r.toBytes(D.x),U=Ek;return nw("isCompressed",N),N?U(Uint8Array.from([j.hasEvenY()?2:3]),H):U(Uint8Array.from([4]),H,r.toBytes(D.y))},fromBytes(R){const j=R.length,N=R[0],D=R.subarray(1);if(j===a&&(N===2||N===3)){const H=Tf(D);if(!b7(H,ri,r.ORDER))throw new Error("Point is not on curve");const U=f(H);let X;try{X=r.sqrt(U)}catch(G){const Z=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+Z)}const Y=(X&ri)===ri;return(N&1)===1!==Y&&(X=r.neg(X)),{x:H,y:X}}else if(j===l&&N===4){const H=r.fromBytes(D.subarray(0,r.BYTES)),U=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:H,y:U}}else{const H=a,U=l;throw new Error("invalid Point, expected length of "+H+", or uncompressed "+U+", got "+j)}}});function m(R){const j=i>>ri;return R>j}function b(R){return m(R)?c(-R):R}const y=(R,j,N)=>Tf(R.slice(j,N));class v{constructor(j,N,D){tg("r",j,ri,i),tg("s",N,ri,i),this.r=j,this.s=N,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(j){const N=s;return j=qo("compactSignature",j,N*2),new v(y(j,0,N),y(j,N,2*N))}static fromDER(j){const{r:N,s:D}=Ec.toSig(qo("DER",j));return new v(N,D)}assertValidity(){}addRecoveryBit(j){return new v(this.r,this.s,j)}recoverPublicKey(j){const{r:N,s:D,recovery:H}=this,U=E(qo("msgHash",j));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const X=H===2||H===3?N+e.n:N;if(X>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=H&1?"03":"02",ee=d.fromHex(Y+f5(X,r.BYTES)),G=u(X),Z=c(-U*G),pe=c(D*G),re=d.BASE.multiplyAndAddUnsafe(ee,Z,pe);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ck(this.toDERHex())}toDERHex(){return Ec.hexFromSig(this)}toCompactRawBytes(){return Ck(this.toCompactHex())}toCompactHex(){const j=s;return f5(this.r,j)+f5(this.s,j)}}const w={isValidPrivateKey(R){try{return h(R),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const R=Sue(e.n);return O3e(e.randomBytes(R),e.n)},precompute(R=8,j=d.BASE){return j._setWindowSize(R),j.multiply(BigInt(3)),j}};function _(R,j=!0){return d.fromPrivateKey(R).toRawBytes(j)}function x(R){if(typeof R=="bigint")return!1;if(R instanceof d)return!0;const N=qo("key",R).length,D=r.BYTES,H=D+1,U=2*D+1;if(!(e.allowedPrivateKeyLengths||s===H))return N===H||N===U}function S(R,j,N=!0){if(x(R)===!0)throw new Error("first arg must be private key");if(x(j)===!1)throw new Error("second arg must be public key");return d.fromHex(j).multiply(h(R)).toRawBytes(N)}const C=e.bits2int||function(R){if(R.length>8192)throw new Error("input is too large");const j=Tf(R),N=R.length*8-o;return N>0?j>>BigInt(N):j},E=e.bits2int_modN||function(R){return c(C(R))},A=MC(o);function M(R){return tg("num < 2^"+o,R,Lc,A),cx(R,s)}function I(R,j,N=O){if(["recovered","canonical"].some(ce=>ce in N))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:H}=e;let{lowS:U,prehash:X,extraEntropy:Y}=N;U==null&&(U=!0),R=qo("msgHash",R),jz(N),X&&(R=qo("prehashed msgHash",D(R)));const ee=E(R),G=h(j),Z=[M(G),M(ee)];if(Y!=null&&Y!==!1){const ce=Y===!0?H(r.BYTES):Y;Z.push(qo("extraEntropy",ce))}const pe=Ek(...Z),re=ee;function le(ce){const Pe=C(ce);if(!p(Pe))return;const Ee=u(Pe),V=d.BASE.multiply(Pe).toAffine(),Ae=c(V.x);if(Ae===Lc)return;const Qe=c(Ee*c(re+Ae*G));if(Qe===Lc)return;let st=(V.x===Ae?0:2)|Number(V.y&ri),ze=Qe;return U&&m(Qe)&&(ze=b(Qe),st^=1),new v(Ae,ze,st)}return{seed:pe,k2sig:le}}const O={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function $(R,j,N=O){const{seed:D,k2sig:H}=I(R,j,N),U=e;return S3e(U.hash.outputLen,U.nByteLength,U.hmac)(D,H)}d.BASE._setWindowSize(8);function z(R,j,N,D=F){var st;const H=R;j=qo("msgHash",j),N=qo("publicKey",N);const{lowS:U,prehash:X,format:Y}=D;if(jz(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(Y!==void 0&&Y!=="compact"&&Y!=="der")throw new Error("format must be compact or der");const ee=typeof H=="string"||lx(H),G=!ee&&!Y&&typeof H=="object"&&H!==null&&typeof H.r=="bigint"&&typeof H.s=="bigint";if(!ee&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,pe;try{if(G&&(Z=new v(H.r,H.s)),ee){try{Y!=="compact"&&(Z=v.fromDER(H))}catch(ze){if(!(ze instanceof Ec.Err))throw ze}!Z&&Y!=="der"&&(Z=v.fromCompact(H))}pe=d.fromHex(N)}catch{return!1}if(!Z||U&&Z.hasHighS())return!1;X&&(j=e.hash(j));const{r:re,s:le}=Z,ce=E(j),Pe=u(le),Ee=c(ce*Pe),V=c(re*Pe),Ae=(st=d.BASE.multiplyAndAddUnsafe(pe,Ee,V))==null?void 0:st.toAffine();return Ae?c(Ae.x)===re:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:S,sign:$,verify:z,ProjectivePoint:d,Signature:v,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function W3e(n){return{hash:n,hmac:(e,...r)=>due(n,e,kke(...r)),randomBytes:Cke}}function q3e(n,e){const r=i=>U3e({...n,...W3e(i)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Aue=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bz=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),H3e=BigInt(0),V3e=BigInt(1),_R=BigInt(2),Lz=(n,e)=>(n+e/_R)/e;function G3e(n){const e=Aue,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=n*n*n%e,d=u*u*n%e,h=Oo(d,r,e)*d%e,f=Oo(h,r,e)*d%e,p=Oo(f,_R,e)*u%e,m=Oo(p,s,e)*p%e,b=Oo(m,o,e)*m%e,y=Oo(b,l,e)*b%e,v=Oo(y,c,e)*y%e,w=Oo(v,l,e)*b%e,_=Oo(w,r,e)*d%e,x=Oo(_,a,e)*m%e,S=Oo(x,i,e)*u%e,C=Oo(S,_R,e);if(!SR.eql(SR.sqr(C),n))throw new Error("Cannot find square root");return C}const SR=y7(Aue,void 0,void 0,{sqrt:G3e}),Tue=q3e({a:H3e,b:BigInt(7),Fp:SR,n:Bz,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Bz,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-V3e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),l=Lz(o*n,e),c=Lz(-i*n,e);let u=Ps(n-l*r-c*s,e),d=Ps(-l*i-c*o,e);const h=u>a,f=d>a;if(h&&(u=e-u),f&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:u,k2neg:f,k2:d}}}},Tce),Y3e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Tue},Symbol.toStringTag,{value:"Module"}));function K3e({r:n,s:e,to:r="hex",v:i,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(i&&(i===27n||i===28n||i>=35n))return i%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new Tue.Signature(Wl(n),Wl(e)).toCompactHex()}${o===0?"1b":"1c"}`;return r==="hex"?a:Hl(a)}async function DC(n,e){var c,u,d,h;const{address:r,chain:i=n.chain,hash:s,erc6492VerifierAddress:o=e.universalSignatureVerifierAddress??((u=(c=i==null?void 0:i.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:a=e.multicallAddress??((h=(d=i==null?void 0:i.contracts)==null?void 0:d.multicall3)==null?void 0:h.address)}=e;if(i!=null&&i.verifyHash)return await i.verifyHash(n,e);const l=(()=>{const f=e.signature;return Ul(f)?f:typeof f=="object"&&"r"in f&&"s"in f?K3e(f):Kr(f)})();try{return J5e(l)?await X3e(n,{...e,multicallAddress:a,signature:l}):await Q3e(n,{...e,verifierAddress:o,signature:l})}catch(f){try{if(CC(li(r),await gce({hash:s,signature:l})))return!0}catch{}if(f instanceof Xf)return!1;throw f}}async function X3e(n,e){var y;const{address:r,blockNumber:i,blockTag:s,hash:o,multicallAddress:a}=e,{authorization:l,data:c,signature:u,to:d}=Q5e(e.signature);if(await dR(n,{address:r,blockNumber:i,blockTag:s})===V0(["0xef0100",l.address]))return await J3e(n,{address:r,blockNumber:i,blockTag:s,hash:o,signature:u});const f={address:l.address,chainId:Number(l.chainId),nonce:Number(l.nonce),r:At(l.r,{size:32}),s:At(l.s,{size:32}),yParity:l.yParity};if(!await b6e({address:r,authorization:f}))throw new Xf;const m=await $t(n,Ha,"readContract")({...a?{address:a}:{code:Yj},authorizationList:[f],abi:bk,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??r,callData:c}]:[],{allowFailure:!0,target:r,callData:Qa({abi:Jae,functionName:"isValidSignature",args:[o,u]})}]]}),b=(y=m[m.length-1])==null?void 0:y.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new Xf}async function Q3e(n,e){const{address:r,factory:i,factoryData:s,hash:o,signature:a,verifierAddress:l,...c}=e,u=await(async()=>!i&&!s||v3e(a)?a:y3e({data:s,signature:a,to:i}))(),d=l?{to:l,data:Qa({abi:F$,functionName:"isValidSig",args:[r,o,u]}),...c}:{data:Kj({abi:F$,args:[r,o,u],bytecode:tEe}),...c},{data:h}=await $t(n,SC,"call")(d).catch(f=>{throw f instanceof zle?new Xf:f});if(ske(h??"0x0"))return!0;throw new Xf}async function J3e(n,e){const{address:r,blockNumber:i,blockTag:s,hash:o,signature:a}=e;if((await $t(n,Ha,"readContract")({address:r,abi:Jae,args:[o,a],blockNumber:i,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Ule?new Xf:c})).startsWith("0x1626ba7e"))return!0;throw new Xf}class Xf extends Error{}async function Z3e(n,{address:e,message:r,factory:i,factoryData:s,signature:o,...a}){const l=Bce(r);return $t(n,DC,"verifyHash")({address:e,factory:i,factoryData:s,hash:l,signature:o,...a})}async function eAe(n,e){const{address:r,factory:i,factoryData:s,signature:o,message:a,primaryType:l,types:c,domain:u,...d}=e,h=M6e({message:a,primaryType:l,types:c,domain:u});return $t(n,DC,"verifyHash")({address:r,factory:i,factoryData:s,hash:h,signature:o,...d})}const m5=new Map,Fz=new Map;let tAe=0;function Jd(n,e,r){const i=++tAe,s=()=>m5.get(n)||[],o=()=>{const d=s();m5.set(n,d.filter(h=>h.id!==i))},a=()=>{const d=s();if(!d.some(f=>f.id===i))return;const h=Fz.get(n);if(d.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}o()},l=s();if(m5.set(n,[...l,{id:i,fns:e}]),l&&l.length>0)return a;const c={};for(const d in e)c[d]=(...h)=>{var p,m;const f=s();if(f.length!==0)for(const b of f)(m=(p=b.fns)[d])==null||m.call(p,...h)};const u=r(c);return typeof u=="function"&&Fz.set(n,u),a}function ux(n,{emitOnBegin:e,initialWaitTime:r,interval:i}){let s=!0;const o=()=>s=!1;return(async()=>{let l;e&&(l=await n({unpoll:o}));const c=await(r==null?void 0:r(l))??i;await hR(c);const u=async()=>{s&&(await n({unpoll:o}),await hR(i),u())};u()})(),o}function Pue(n,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:i,onError:s,poll:o,pollingInterval:a=n.pollingInterval}){const l=typeof o<"u"?o:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc"));let c;return l?(()=>{const h=hi(["watchBlockNumber",n.uid,e,r,a]);return Jd(h,{onBlockNumber:i,onError:s},f=>ux(async()=>{var p;try{const m=await $t(n,ax,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(m===c)return;if(m-c>1&&r)for(let b=c+1n;b<m;b++)f.onBlockNumber(b,c),c=b}(c===void 0||m>c)&&(f.onBlockNumber(m,c),c=m)}catch(m){(p=f.onError)==null||p.call(f,m)}},{emitOnBegin:e,interval:a}))})():(()=>{const h=hi(["watchBlockNumber",n.uid,e,r]);return Jd(h,{onBlockNumber:i,onError:s},f=>{let p=!0,m=()=>p=!1;return(async()=>{try{const b=(()=>{if(n.transport.type==="fallback"){const v=n.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return v?v.value:n.transport}return n.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(v){var _;if(!p)return;const w=Wl((_=v.result)==null?void 0:_.number);f.onBlockNumber(w,c),c=w},onError(v){var w;(w=f.onError)==null||w.call(f,v)}});m=y,p||m()}catch(b){s==null||s(b)}})(),()=>m()})})()}async function nAe(n,e){const{checkReplacement:r=!0,confirmations:i=1,hash:s,onReplaced:o,retryCount:a=6,retryDelay:l=({count:S})=>~~(1<<S)*200,timeout:c=18e4}=e,u=hi(["waitForTransactionReceipt",n.uid,s]),d=(()=>{var S;return e.pollingInterval?e.pollingInterval:(S=n.chain)!=null&&S.experimental_preconfirmationTime?n.chain.experimental_preconfirmationTime:n.pollingInterval})();let h,f,p,m=!1,b,y;const{promise:v,resolve:w,reject:_}=ice(),x=c?setTimeout(()=>{y==null||y(),b==null||b(),_(new uCe({hash:s}))},c):void 0;return b=Jd(u,{onReplaced:o,resolve:w,reject:_},async S=>{if(p=await $t(n,fS,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&i<=1){clearTimeout(x),S.resolve(p),b==null||b();return}y=$t(n,Pue,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(C){const E=M=>{clearTimeout(x),y==null||y(),M(),b==null||b()};let A=C;if(!m)try{if(p){if(i>1&&(!p.blockNumber||A-p.blockNumber+1n<i))return;E(()=>S.resolve(p));return}if(r&&!h&&(m=!0,await a0(async()=>{h=await $t(n,p7,"getTransaction")({hash:s}),h.blockNumber&&(A=h.blockNumber)},{delay:l,retryCount:a}),m=!1),p=await $t(n,fS,"getTransactionReceipt")({hash:s}),i>1&&(!p.blockNumber||A-p.blockNumber+1n<i))return;E(()=>S.resolve(p))}catch(M){if(M instanceof Fle||M instanceof $le){if(!h){m=!1;return}try{f=h,m=!0;const I=await a0(()=>$t(n,Da,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:l,retryCount:a,shouldRetry:({error:$})=>$ instanceof xce});m=!1;const O=I.transactions.find(({from:$,nonce:z})=>$===f.from&&z===f.nonce);if(!O||(p=await $t(n,fS,"getTransactionReceipt")({hash:O.hash}),i>1&&(!p.blockNumber||A-p.blockNumber+1n<i)))return;let F="replaced";O.to===f.to&&O.value===f.value&&O.input===f.input?F="repriced":O.from===O.to&&O.value===0n&&(F="cancelled"),E(()=>{var $;($=S.onReplaced)==null||$.call(S,{reason:F,replacedTransaction:f,transaction:O,transactionReceipt:p}),S.resolve(p)})}catch(I){E(()=>S.reject(I))}}else E(()=>S.reject(M))}}})}),v}function rAe(n,{blockTag:e=n.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:i=!1,onBlock:s,onError:o,includeTransactions:a,poll:l,pollingInterval:c=n.pollingInterval}){const u=typeof l<"u"?l:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")),d=a??!1;let h;return u?(()=>{const m=hi(["watchBlocks",n.uid,e,r,i,d,c]);return Jd(m,{onBlock:s,onError:o},b=>ux(async()=>{var y;try{const v=await $t(n,Da,"getBlock")({blockTag:e,includeTransactions:d});if(v.number!==null&&(h==null?void 0:h.number)!=null){if(v.number===h.number)return;if(v.number-h.number>1&&r)for(let w=(h==null?void 0:h.number)+1n;w<v.number;w++){const _=await $t(n,Da,"getBlock")({blockNumber:w,includeTransactions:d});b.onBlock(_,h),h=_}}((h==null?void 0:h.number)==null||e==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>h.number)&&(b.onBlock(v,h),h=v)}catch(v){(y=b.onError)==null||y.call(b,v)}},{emitOnBegin:i,interval:c}))})():(()=>{let m=!0,b=!0,y=()=>m=!1;return(async()=>{try{i&&$t(n,Da,"getBlock")({blockTag:e,includeTransactions:d}).then(_=>{m&&b&&(s(_,void 0),b=!1)}).catch(o);const v=(()=>{if(n.transport.type==="fallback"){const _=n.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return _?_.value:n.transport}return n.transport})(),{unsubscribe:w}=await v.subscribe({params:["newHeads"],async onData(_){var S;if(!m)return;const x=await $t(n,Da,"getBlock")({blockNumber:(S=_.result)==null?void 0:S.number,includeTransactions:d}).catch(()=>{});m&&(s(x,h),b=!1,h=x)},onError(_){o==null||o(_)}});y=w,m||y()}catch(v){o==null||o(v)}})(),()=>y()})()}function iAe(n,e){const{abi:r,address:i,args:s,batch:o=!0,eventName:a,fromBlock:l,onError:c,onLogs:u,poll:d,pollingInterval:h=n.pollingInterval,strict:f}=e;return(typeof d<"u"?d:typeof l=="bigint"?!0:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")))?(()=>{const y=f??!1,v=hi(["watchContractEvent",i,s,o,n.uid,a,h,y,l]);return Jd(v,{onLogs:u,onError:c},w=>{let _;l!==void 0&&(_=l-1n);let x,S=!1;const C=ux(async()=>{var E;if(!S){try{x=await $t(n,fce,"createContractEventFilter")({abi:r,address:i,args:s,eventName:a,strict:y,fromBlock:l})}catch{}S=!0;return}try{let A;if(x)A=await $t(n,EC,"getFilterChanges")({filter:x});else{const M=await $t(n,ax,"getBlockNumber")({});_&&_<M?A=await $t(n,Rce,"getContractEvents")({abi:r,address:i,args:s,eventName:a,fromBlock:_+1n,toBlock:M,strict:y}):A=[],_=M}if(A.length===0)return;if(o)w.onLogs(A);else for(const M of A)w.onLogs([M])}catch(A){x&&A instanceof Qd&&(S=!1),(E=w.onError)==null||E.call(w,A)}},{emitOnBegin:!0,interval:h});return async()=>{x&&await $t(n,IC,"uninstallFilter")({filter:x}),C()}})})():(()=>{const y=f??!1,v=hi(["watchContractEvent",i,s,o,n.uid,a,h,y]);let w=!0,_=()=>w=!1;return Jd(v,{onLogs:u,onError:c},x=>((async()=>{try{const S=(()=>{if(n.transport.type==="fallback"){const A=n.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return A?A.value:n.transport}return n.transport})(),C=a?ox({abi:r,eventName:a,args:s}):[],{unsubscribe:E}=await S.subscribe({params:["logs",{address:i,topics:C}],onData(A){var I;if(!w)return;const M=A.result;try{const{eventName:O,args:F}=_k({abi:r,data:M.data,topics:M.topics,strict:f}),$=pu(M,{args:F,eventName:O});x.onLogs([$])}catch(O){let F,$;if(O instanceof yk||O instanceof Nj){if(f)return;F=O.abiItem.name,$=(I=O.abiItem.inputs)==null?void 0:I.some(R=>!("name"in R&&R.name))}const z=pu(M,{args:$?[]:{},eventName:F});x.onLogs([z])}},onError(A){var M;(M=x.onError)==null||M.call(x,A)}});_=E,w||_()}catch(S){c==null||c(S)}})(),()=>_()))})()}function sAe(n,{address:e,args:r,batch:i=!0,event:s,events:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:d=n.pollingInterval,strict:h}){const f=typeof u<"u"?u:typeof a=="bigint"?!0:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const y=hi(["watchEvent",e,r,i,n.uid,s,d,a]);return Jd(y,{onLogs:c,onError:l},v=>{let w;a!==void 0&&(w=a-1n);let _,x=!1;const S=ux(async()=>{var C;if(!x){try{_=await $t(n,pce,"createEventFilter")({address:e,args:r,event:s,events:o,strict:p,fromBlock:a})}catch{}x=!0;return}try{let E;if(_)E=await $t(n,EC,"getFilterChanges")({filter:_});else{const A=await $t(n,ax,"getBlockNumber")({});w&&w!==A?E=await $t(n,o7,"getLogs")({address:e,args:r,event:s,events:o,fromBlock:w+1n,toBlock:A}):E=[],w=A}if(E.length===0)return;if(i)v.onLogs(E);else for(const A of E)v.onLogs([A])}catch(E){_&&E instanceof Qd&&(x=!1),(C=v.onError)==null||C.call(v,E)}},{emitOnBegin:!0,interval:d});return async()=>{_&&await $t(n,IC,"uninstallFilter")({filter:_}),S()}})})():(()=>{let y=!0,v=()=>y=!1;return(async()=>{try{const w=(()=>{if(n.transport.type==="fallback"){const C=n.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return C?C.value:n.transport}return n.transport})(),_=o??(s?[s]:void 0);let x=[];_&&(x=[_.flatMap(E=>ox({abi:[E],eventName:E.name,args:r}))],s&&(x=x[0]));const{unsubscribe:S}=await w.subscribe({params:["logs",{address:e,topics:x}],onData(C){var A;if(!y)return;const E=C.result;try{const{eventName:M,args:I}=_k({abi:_??[],data:E.data,topics:E.topics,strict:p}),O=pu(E,{args:I,eventName:M});c([O])}catch(M){let I,O;if(M instanceof yk||M instanceof Nj){if(h)return;I=M.abiItem.name,O=(A=M.abiItem.inputs)==null?void 0:A.some($=>!("name"in $&&$.name))}const F=pu(E,{args:O?[]:{},eventName:I});c([F])}},onError(C){l==null||l(C)}});v=S,y||v()}catch(w){l==null||l(w)}})(),()=>v()})()}function oAe(n,{batch:e=!0,onError:r,onTransactions:i,poll:s,pollingInterval:o=n.pollingInterval}){return(typeof s<"u"?s:n.transport.type!=="webSocket"&&n.transport.type!=="ipc")?(()=>{const u=hi(["watchPendingTransactions",n.uid,e,o]);return Jd(u,{onTransactions:i,onError:r},d=>{let h;const f=ux(async()=>{var p;try{if(!h)try{h=await $t(n,mce,"createPendingTransactionFilter")({});return}catch(b){throw f(),b}const m=await $t(n,EC,"getFilterChanges")({filter:h});if(m.length===0)return;if(e)d.onTransactions(m);else for(const b of m)d.onTransactions([b])}catch(m){(p=d.onError)==null||p.call(d,m)}},{emitOnBegin:!0,interval:o});return async()=>{h&&await $t(n,IC,"uninstallFilter")({filter:h}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:h}=await n.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const p=f.result;i([p])},onError(f){r==null||r(f)}});d=h,u||d()}catch(h){r==null||r(h)}})(),()=>d()})()}class Iue extends nt{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}async function aAe(n,{serializedTransaction:e}){return n.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}async function lAe(n,{serializedTransaction:e,throwOnReceiptRevert:r,timeout:i}){var l,c,u;const s=await n.request({method:"eth_sendRawTransactionSync",params:i?[e,At(i)]:[e]},{retryCount:0}),a=(((u=(c=(l=n.chain)==null?void 0:l.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||jce)(s);if(a.status==="reverted"&&r)throw new cCe({receipt:a});return a}async function cAe(n,{account:e=n.account,message:r}){if(!e)throw new Iue({docsPath:"/docs/actions/wallet/signMessage"});const i=Gi(e);if(i.signMessage)return i.signMessage({message:r});const s=typeof r=="string"?t0(r):r.raw instanceof Uint8Array?hu(r.raw):r.raw;return n.request({method:"personal_sign",params:[s,i.address]},{retryCount:0})}async function uAe(n,e){const{account:r=n.account,domain:i,message:s,primaryType:o}=e;if(!r)throw new Iue({docsPath:"/docs/actions/wallet/signTypedData"});const a=Gi(r),l={EIP712Domain:Fce({domain:i}),...e.types};if(Lce({domain:i,message:s,primaryType:o,types:l}),a.signTypedData)return a.signTypedData({domain:i,message:s,primaryType:o,types:l});const c=P6e({domain:i,message:s,primaryType:o,types:l});return n.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}function dx(n,e,r){const i=n[e.name];if(typeof i=="function")return i;const s=n[r];return typeof s=="function"?s:o=>e(n,o)}const pS="3.0.0",dAe=()=>`@wagmi/core@${pS}`;var Mue=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},Ak,Oue;let _u=class kR extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return dAe()}constructor(e,r={}){var o;super(),Ak.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const i=r.cause instanceof kR?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,s=r.cause instanceof kR&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...i?[`Details: ${i}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return Mue(this,Ak,"m",Oue).call(this,this,e)}};Ak=new WeakSet,Oue=function n(e,r){return r!=null&&r(e)?e:e.cause?Mue(this,Ak,"m",n).call(this,e.cause,r):e};class Zd extends _u{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class hAe extends _u{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class fAe extends _u{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class pAe extends _u{constructor({address:e,connector:r}){super(`Account "${e}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class mAe extends _u{constructor({connectionChainId:e,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class gAe extends _u{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function bAe(n,e){var i;let r;if(typeof e.connector=="function"?r=n._internal.connectors.setup(e.connector):r=e.connector,r.uid===n.state.current)throw new hAe;try{n.setState(l=>({...l,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=e,a=await r.connect(o);return r.emitter.off("connect",n._internal.events.connect),r.emitter.on("change",n._internal.events.change),r.emitter.on("disconnect",n._internal.events.disconnect),await((i=n.storage)==null?void 0:i.setItem("recentConnectorId",r.id)),n.setState(l=>({...l,connections:new Map(l.connections).set(r.uid,{accounts:o.withCapabilities?a.accounts.map(c=>typeof c=="object"?c.address:c):a.accounts,chainId:a.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:o.withCapabilities?a.accounts.map(l=>typeof l=="object"?l:{address:l,capabilities:{}}):a.accounts,chainId:a.chainId}}catch(s){throw n.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const CR=256;let W1=CR,q1;function Due(n=11){if(!q1||W1+n>CR*2){q1="",W1=0;for(let e=0;e<CR;e++)q1+=(256+Math.random()*256|0).toString(16).substring(1)}return q1.substring(W1,W1+++n)}function Rue(n){const{batch:e,chain:r,ccipRead:i,key:s="base",name:o="Base Client",type:a="base"}=n,l=n.experimental_blockTag??(typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(r==null?void 0:r.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),d=n.pollingInterval??u,h=n.cacheTime??d,f=n.account?Gi(n.account):void 0,{config:p,request:m,value:b}=n.transport({account:f,chain:r,pollingInterval:d}),y={...p,...b},v={account:f,batch:e,cacheTime:h,ccipRead:i,chain:r,key:s,name:o,pollingInterval:d,request:m,transport:y,type:a,uid:Due(),...l?{experimental_blockTag:l}:{}};function w(_){return x=>{const S=x(_);for(const E in v)delete S[E];const C={..._,...S};return Object.assign(C,{extend:w(C)})}}return Object.assign(v,{extend:w(v)})}function yAe(n){var h,f,p;const{scheme:e,statement:r,...i}=((h=n.match(vAe))==null?void 0:h.groups)??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:l,requestId:c,...u}=((f=n.match(wAe))==null?void 0:f.groups)??{},d=(p=n.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...i,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...l?{notBefore:new Date(l)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const vAe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,wAe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function xAe(n){const{address:e,domain:r,message:i,nonce:s,scheme:o,time:a=new Date}=n;if(r&&i.domain!==r||s&&i.nonce!==s||o&&i.scheme!==o||i.expirationTime&&a>=i.expirationTime||i.notBefore&&a<i.notBefore)return!1;try{if(!i.address||!xo(i.address,{strict:!1})||e&&!CC(i.address,e))return!1}catch{return!1}return!0}async function _Ae(n,e){const{address:r,domain:i,message:s,nonce:o,scheme:a,signature:l,time:c=new Date,...u}=e,d=yAe(s);if(!d.address||!xAe({address:r,domain:i,message:d,nonce:o,scheme:a,time:c}))return!1;const f=Bce(s);return DC(n,{address:d.address,hash:f,signature:l,...u})}function SAe(n){return{call:e=>SC(n,e),createAccessList:e=>hce(n,e),createBlockFilter:()=>kEe(n),createContractEventFilter:e=>fce(n,e),createEventFilter:e=>pce(n,e),createPendingTransactionFilter:()=>mce(n),estimateContractGas:e=>t6e(n,e),estimateGas:e=>i7(n,e),getBalance:e=>Dce(n,e),getBlobBaseFee:()=>n6e(n),getBlock:e=>Da(n,e),getBlockNumber:e=>ax(n,e),getBlockTransactionCount:e=>l6e(n,e),getBytecode:e=>dR(n,e),getChainId:()=>r7(n),getCode:e=>dR(n,e),getContractEvents:e=>Rce(n,e),getEip712Domain:e=>h6e(n,e),getEnsAddress:e=>uEe(n,e),getEnsAvatar:e=>uce(n,e),getEnsName:e=>dce(n,e),getEnsResolver:e=>SEe(n,e),getEnsText:e=>cce(n,e),getFeeHistory:e=>m6e(n,e),estimateFeesPerGas:e=>BEe(n,e),getFilterChanges:e=>EC(n,e),getFilterLogs:e=>g6e(n,e),getGasPrice:()=>t7(n),getLogs:e=>o7(n,e),getProof:e=>n3e(n,e),estimateMaxPriorityFeePerGas:e=>jEe(n,e),fillTransaction:e=>Mce(n,e),getStorageAt:e=>r3e(n,e),getTransaction:e=>p7(n,e),getTransactionConfirmations:e=>i3e(n,e),getTransactionCount:e=>Cce(n,e),getTransactionReceipt:e=>fS(n,e),multicall:e=>s3e(n,e),prepareTransactionRequest:e=>Oce(n,e),readContract:e=>Ha(n,e),sendRawTransaction:e=>aAe(n,e),sendRawTransactionSync:e=>lAe(n,e),simulate:e=>gR(n,e),simulateBlocks:e=>gR(n,e),simulateCalls:e=>m3e(n,e),simulateContract:e=>g3e(n,e),verifyHash:e=>DC(n,e),verifyMessage:e=>Z3e(n,e),verifySiweMessage:e=>_Ae(n,e),verifyTypedData:e=>eAe(n,e),uninstallFilter:e=>IC(n,e),waitForTransactionReceipt:e=>nAe(n,e),watchBlocks:e=>rAe(n,e),watchBlockNumber:e=>Pue(n,e),watchContractEvent:e=>iAe(n,e),watchEvent:e=>sAe(n,e),watchPendingTransactions:e=>oAe(n,e)}}function Nue({key:n,methods:e,name:r,request:i,retryCount:s=3,retryDelay:o=150,timeout:a,type:l},c){const u=Due();return{config:{key:n,methods:e,name:r,request:i,retryCount:s,retryDelay:o,timeout:a,type:l},request:v6e(i,{methods:e,retryCount:s,retryDelay:o,uid:u}),value:c}}function kAe(n,e={}){const{key:r="custom",methods:i,name:s="Custom Provider",retryDelay:o}=e;return({retryCount:a})=>Nue({key:r,methods:i,name:s,request:n.request.bind(n),retryCount:e.retryCount??a,retryDelay:o,type:"custom"})}class CAe extends nt{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function ER(n,e={}){const{batch:r,fetchFn:i,fetchOptions:s,key:o="http",methods:a,name:l="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:h}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:b=1e3,wait:y=0}=typeof r=="object"?r:{},v=e.retryCount??p,w=m??e.timeout??1e4,_=f==null?void 0:f.rpcUrls.default.http[0];if(!_)throw new CAe;const x=S6e(_,{fetchFn:i,fetchOptions:s,onRequest:c,onResponse:u,timeout:w});return Nue({key:o,methods:a,name:l,async request({method:S,params:C}){const E={method:S,params:C},{schedule:A}=sce({id:_,wait:y,shouldSplitBatch(F){return F.length>b},fn:F=>x.request({body:F}),sort:(F,$)=>F.id-$.id}),M=async F=>r?A(F):[await x.request({body:F})],[{error:I,result:O}]=await M(E);if(h)return{error:I,result:O};if(I)throw new Vj({body:E,error:I,url:_});return O},retryCount:v,retryDelay:d,timeout:w,type:"http"},{fetchOptions:s,url:_})}}async function jue(n,e={}){const{assertChainId:r=!0}=e;let i;if(e.connector){const{connector:d}=e;if(n.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new gAe({connector:d});const[h,f]=await Promise.all([d.getAccounts().catch(p=>{if(e.account===null)return[];throw p}),d.getChainId()]);i={accounts:h,chainId:f,connector:d}}else i=n.state.connections.get(n.state.current);if(!i)throw new fAe;const s=e.chainId??i.chainId,o=await i.connector.getChainId();if(r&&o!==s)throw new mAe({connectionChainId:s,connectorChainId:o});const a=i.connector;if(a.getClient)return a.getClient({chainId:s});const l=Gi(e.account??i.accounts[0]);if(l&&(l.address=li(l.address)),e.account&&!i.accounts.some(d=>d.toLowerCase()===l.address.toLowerCase()))throw new pAe({address:l.address,connector:a});const c=n.chains.find(d=>d.id===s),u=await i.connector.getProvider({chainId:s});return Rue({account:l,chain:c,name:"Connector Client",transport:d=>kAe(u)({...d,retryCount:0})})}async function EAe(n,e={}){var s,o;let r;if(e.connector)r=e.connector;else{const{connections:a,current:l}=n.state,c=a.get(l);r=c==null?void 0:c.connector}const i=n.state.connections;r&&(await r.disconnect(),r.emitter.off("change",n._internal.events.change),r.emitter.off("disconnect",n._internal.events.disconnect),r.emitter.on("connect",n._internal.events.connect),i.delete(r.uid)),n.setState(a=>{if(i.size===0)return{...a,connections:new Map,current:null,status:"disconnected"};const l=i.values().next().value;return{...a,connections:new Map(i),current:l.connector.uid}});{const a=n.state.current;if(!a)return;const l=(s=n.state.connections.get(a))==null?void 0:s.connector;if(!l)return;await((o=n.storage)==null?void 0:o.setItem("recentConnectorId",l.id))}}async function AAe(n,e){const{address:r,blockNumber:i,blockTag:s,chainId:o}=e,a=n.getClient({chainId:o}),c=await dx(a,Dce,"getBalance")(i?{address:r,blockNumber:i}:{address:r,blockTag:s}),u=n.chains.find(d=>d.id===o)??a.chain;return{decimals:u.nativeCurrency.decimals,symbol:u.nativeCurrency.symbol,value:c}}function $z(n){return n.state.chainId}function Qf(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;let r,i;if(Array.isArray(n)&&Array.isArray(e)){if(r=n.length,r!==e.length)return!1;for(i=r;i--!==0;)if(!Qf(n[i],e[i]))return!1;return!0}if(typeof n.valueOf=="function"&&n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(typeof n.toString=="function"&&n.toString!==Object.prototype.toString)return n.toString()===e.toString();const s=Object.keys(n);if(r=s.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.hasOwn(e,s[i]))return!1;for(i=r;i--!==0;){const o=s[i];if(o&&!Qf(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}let g5=[];function zz(n){const e=n.chains;return Qf(g5,e)?g5:(g5=e,e)}function TAe(n,e={}){try{return n.getClient(e)}catch{return}}function Bue(n){const e=n.state.current,r=n.state.connections.get(e),i=r==null?void 0:r.accounts,s=i==null?void 0:i[0],o=n.chains.find(l=>l.id===(r==null?void 0:r.chainId)),a=n.state.status;switch(a){case"connected":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}let H1=[];function AR(n){const e=[...n.state.connections.values()];return n.state.status==="reconnecting"||Qf(H1,e)?H1:(H1=e,e)}let V1=[];function Uz(n){const e=n.connectors;return V1.length===e.length&&V1.every((r,i)=>r===e[i])?V1:(V1=e,e)}function PAe(n,e){const{chainId:r,...i}=e,s=n.getClient({chainId:r});return dx(s,uce,"getEnsAvatar")(i)}function IAe(n,e){const{chainId:r,...i}=e,s=n.getClient({chainId:r});return dx(s,dce,"getEnsName")(i)}function TR(n,e={}){const r=TAe(n,e);return r==null?void 0:r.extend(SAe)}let b5=!1;async function MAe(n,e={}){var u,d;if(b5)return[];b5=!0,n.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const r=[];if((u=e.connectors)!=null&&u.length)for(const h of e.connectors){let f;typeof h=="function"?f=n._internal.connectors.setup(h):f=h,r.push(f)}else r.push(...n.connectors);let i;try{i=await((d=n.storage)==null?void 0:d.getItem("recentConnectorId"))}catch{}const s={};for(const[,h]of n.state.connections)s[h.connector.id]=1;i&&(s[i]=0);const o=Object.keys(s).length>0?[...r].sort((h,f)=>(s[h.id]??10)-(s[f.id]??10)):r;let a=!1;const l=[],c=[];for(const h of o){const f=await h.getProvider().catch(()=>{});if(!f||c.some(b=>b===f)||!await h.isAuthorized())continue;const m=await h.connect({isReconnecting:!0}).catch(()=>null);m&&(h.emitter.off("connect",n._internal.events.connect),h.emitter.on("change",n._internal.events.change),h.emitter.on("disconnect",n._internal.events.disconnect),n.setState(b=>{const y=new Map(a?b.connections:new Map).set(h.uid,{accounts:m.accounts,chainId:m.chainId,connector:h});return{...b,current:a?b.current:h.uid,connections:y}}),l.push({accounts:m.accounts,chainId:m.chainId,connector:h}),c.push(f),a=!0)}return(n.state.status==="reconnecting"||n.state.status==="connecting")&&(a?n.setState(h=>({...h,status:"connected"})):n.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),b5=!1,l}async function OAe(n,e){const{account:r,connector:i,...s}=e;let o;return typeof r=="object"&&r.type==="local"?o=n.getClient():o=await jue(n,{account:r,connector:i}),dx(o,cAe,"signMessage")({...s,...r?{account:r}:{}})}async function DAe(n,e){const{account:r,connector:i,...s}=e;let o;return typeof r=="object"&&r.type==="local"?o=n.getClient():o=await jue(n,{account:r,connector:i}),dx(o,uAe,"signTypedData")({...s,...r?{account:r}:{}})}class so extends _u{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class RAe extends _u{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function NAe(n,e){var a;const{addEthereumChainParameter:r,chainId:i}=e,s=n.state.connections.get(((a=e.connector)==null?void 0:a.uid)??n.state.current);if(s){const l=s.connector;if(!l.switchChain)throw new RAe({connector:l});return await l.switchChain({addEthereumChainParameter:r,chainId:i})}const o=n.chains.find(l=>l.id===i);if(!o)throw new Zd;return n.setState(l=>({...l,chainId:i})),o}function jAe(n,e){const{onChange:r}=e;return n.subscribe(i=>i.chainId,r)}function Lue(n,e){const{onChange:r}=e;return n.subscribe(()=>Bue(n),r,{equalityFn(i,s){const{connector:o,...a}=i,{connector:l,...c}=s;return Qf(a,c)&&(o==null?void 0:o.id)===(l==null?void 0:l.id)&&(o==null?void 0:o.uid)===(l==null?void 0:l.uid)}})}function BAe(n,e){const{onChange:r}=e;return n.subscribe(()=>AR(n),r,{equalityFn:Qf})}function LAe(n,e){const{onChange:r}=e;return n._internal.connectors.subscribe((i,s)=>{r(Object.values(i),s)})}function FAe(n,e){const{onChange:r}=e;return n.subscribe(()=>TR(n),r,{equalityFn(i,s){return(i==null?void 0:i.uid)===(s==null?void 0:s.uid)}})}hx.type="injected";function hx(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=n;function i(){const c=n.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...$Ae[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,a,l;return c=>({get icon(){return i().icon},get id(){return i().id},get name(){return i().name},type:hx.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&n.target&&(a||(a=this.onConnect.bind(this),u.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:h}={}){var m,b,y,v,w,_;const f=await this.getProvider();if(!f)throw new so;let p=[];if(d)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(v=(y=(b=(m=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:b[0])==null?void 0:y.value)==null?void 0:v.map(S=>li(S)),p.length>0&&(p=await this.getAccounts())}catch(x){const S=x;if(S.code===Pn.code)throw new Pn(S);if(S.code===Bl.code)throw S}try{!(p!=null&&p.length)&&!d&&(p=(await f.request({method:"eth_requestAccounts"})).map(C=>li(C))),a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l));let x=await this.getChainId();if(u&&x!==u){const S=await this.switchChain({chainId:u}).catch(C=>{if(C.code===Pn.code)throw C;return{id:x}});x=(S==null?void 0:S.id)??x}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),n.target||await((_=c.storage)==null?void 0:_.setItem("injected.connected",!0)),{accounts:h?p.map(S=>({address:S,capabilities:{}})):p,chainId:x}}catch(x){const S=x;throw S.code===Pn.code?new Pn(S):S.code===Bl.code?new Bl(S):S}},async disconnect(){var d,h;const u=await this.getProvider();if(!u)throw new so;o&&(u.removeListener("chainChanged",o),o=void 0),l&&(u.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a));try{await AC(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=c.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),n.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new so;return(await u.request({method:"eth_accounts"})).map(h=>li(h))},async getChainId(){const u=await this.getProvider();if(!u)throw new so;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=i();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=mS(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!n.target&&!await((d=c.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const m=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",m),!!await this.getProvider()),b=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(m()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(m()),b))]))return!0}throw new so}return!!(await a0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var m,b,y,v;const h=await this.getProvider();if(!h)throw new so;const f=c.chains.find(w=>w.id===d);if(!f)throw new mo(new Zd);const p=new Promise(w=>{const _=x=>{"chainId"in x&&x.chainId===d&&(c.emitter.off("change",_),w())};c.emitter.on("change",_)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:At(d)}]}).then(async()=>{await this.getChainId()===d&&c.emitter.emit("change",{chainId:d})}),p]),f}catch(w){const _=w;if(_.code===4902||((b=(m=_==null?void 0:_.data)==null?void 0:m.originalError)==null?void 0:b.code)===4902)try{const{default:x,...S}=f.blockExplorers??{};let C;u!=null&&u.blockExplorerUrls?C=u.blockExplorerUrls:x&&(C=[x.url,...Object.values(S).map(M=>M.url)]);let E;(y=u==null?void 0:u.rpcUrls)!=null&&y.length?E=u.rpcUrls:E=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const A={blockExplorerUrls:C,chainId:At(d),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:E};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[A]}).then(async()=>{if(await this.getChainId()===d)c.emitter.emit("change",{chainId:d});else throw new Pn(new Error("User rejected switch after adding network."))}),p]),f}catch(x){throw new Pn(x)}throw _.code===Pn.code?new Pn(_):new mo(_)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((d=c.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(h=>li(h))})},onChainChanged(u){const d=Number(u);c.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const h=Number(u.chainId);c.emitter.emit("connect",{accounts:d,chainId:h});const f=await this.getProvider();f&&(a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),l&&(d.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a))))}})}const $Ae={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n!=null&&n.coinbaseWalletExtension?n.coinbaseWalletExtension:mS(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return mS(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const i of r)if(e[i])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){var e,r;return(e=n==null?void 0:n.phantom)!=null&&e.ethereum?(r=n.phantom)==null?void 0:r.ethereum:mS(n,"isPhantom")}}};function mS(n,e){function r(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const i=n.ethereum;if(i!=null&&i.providers)return i.providers.find(s=>r(s));if(i&&r(i))return i}function zAe(n){if(typeof window>"u")return;const e=r=>n(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function UAe(){const n=new Set;let e=[];const r=()=>zAe(s=>{e.some(({info:o})=>o.uuid===s.info.uuid)||(e=[...e,s],n.forEach(o=>o(e,{added:[s]})))});let i=r();return{_listeners(){return n},clear(){n.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),i==null||i()},findProvider({rdns:s}){return e.find(o=>o.info.rdns===s)},getProviders(){return e},reset(){this.clear(),i==null||i(),i=r()},subscribe(s,{emitImmediately:o}={}){return n.add(s),o&&s(e,{added:e}),()=>n.delete(s)}}}const WAe=n=>(e,r,i)=>{const s=i.subscribe;return i.subscribe=(a,l,c)=>{let u=a;if(l){const d=(c==null?void 0:c.equalityFn)||Object.is;let h=a(i.getState());u=f=>{const p=a(f);if(!d(h,p)){const m=h;l(h=p,m)}},c!=null&&c.fireImmediately&&l(h,h)}return s(u)},n(e,r,i)},qAe=WAe;function HAe(n,e){let r;try{r=n()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>r.removeItem(s)}}const PR=n=>e=>{try{const r=n(e);return r instanceof Promise?r:{then(i){return PR(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return PR(i)(r)}}}},VAe=(n,e)=>(r,i,s)=>{let o={storage:HAe(()=>localStorage),partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...e},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return n((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...b)},i,s);const d=()=>{const b=o.partialize({...i()});return u.setItem(o.name,{state:b,version:o.version})},h=s.setState;s.setState=(b,y)=>{h(b,y),d()};const f=n((...b)=>{r(...b),d()},i,s);s.getInitialState=()=>f;let p;const m=()=>{var b,y;if(!u)return;a=!1,l.forEach(w=>{var _;return w((_=i())!=null?_:f)});const v=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(b=i())!=null?b:f))||void 0;return PR(u.getItem.bind(u))(o.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return[!0,o.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var _;const[x,S]=w;if(p=o.merge(S,(_=i())!=null?_:f),r(p,!0),x)return d()}).then(()=>{v==null||v(p,void 0),p=i(),a=!0,c.forEach(w=>w(p))}).catch(w=>{v==null||v(void 0,w)})};return s.persist={setOptions:b=>{o={...o,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},o.skipHydration||m(),p||f},GAe=VAe,Wz=n=>{let e;const r=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=n(i,s,l);return l},y5=n=>n?Wz(n):Wz;var Fue={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,h||c,f),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,m){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],v=arguments.length,w,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,f),!0;case 5:return y.fn.call(y.context,d,h,f,p),!0;case 6:return y.fn.call(y.context,d,h,f,p,m),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];y.fn.apply(y.context,w)}else{var x=y.length,S;for(_=0;_<x;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,h);break;case 4:y[_].fn.call(y[_].context,d,h,f);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];y[_].fn.apply(y[_].context,w)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!h||m.context===h)&&a(this,p);else{for(var b=0,y=[],v=m.length;b<v;b++)(m[b].fn!==d||f&&!m[b].once||h&&m[b].context!==h)&&y.push(m[b]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l})(Fue);var YAe=Fue.exports;const KAe=K2(YAe);let XAe=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new KAe})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const i=r[0];this._emitter.emit(e,{uid:this.uid,...i})}listenerCount(e){return this._emitter.listenerCount(e)}};function QAe(n){return new XAe(n)}function JAe(n,e){return JSON.parse(n,(r,i)=>{let s=i;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(r,s))??s})}function qz(n,e){return n.slice(0,e).join(".")||"."}function Hz(n,e){const{length:r}=n;for(let i=0;i<r;++i)if(n[i]===e)return i+1;return 0}function ZAe(n,e){const r=typeof n=="function",i=typeof e=="function",s=[],o=[];return function(l,c){if(typeof c=="object")if(s.length){const u=Hz(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=l;const d=Hz(s,c);if(d!==0)return i?e.call(this,l,c,qz(o,d)):`[ref=${qz(o,d)}]`}else s[0]=c,o[0]=l;return r?n.call(this,l,c):c}}function eTe(n,e,r,i){return JSON.stringify(n,ZAe((s,o)=>{let a=o;return typeof a=="bigint"&&(a={__type:"bigint",value:o.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(o.entries())}),(e==null?void 0:e(s,a))??a},i),r??void 0)}function tTe(n){const{deserialize:e=JAe,key:r="wagmi",serialize:i=eTe,storage:s=$ue}=n;function o(a){return a instanceof Promise?a.then(l=>l).catch(()=>null):a}return{...s,key:r,async getItem(a,l){const c=s.getItem(`${r}.${a}`),u=await o(c);return u?e(u)??null:l??null},async setItem(a,l){const c=`${r}.${a}`;l===null?await o(s.removeItem(c)):await o(s.setItem(c,i(l)))},async removeItem(a){await o(s.removeItem(`${r}.${a}`))}}}const $ue={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function nTe(){const n=typeof window<"u"&&window.localStorage?window.localStorage:$ue;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,r){try{n.setItem(e,r)}catch{}}}}const IR=256;let G1=IR,Y1;function rTe(n=11){if(!Y1||G1+n>IR*2){Y1="",G1=0;for(let e=0;e<IR;e++)Y1+=(256+Math.random()*256|0).toString(16).substring(1)}return Y1.substring(G1,G1+++n)}function zue(n){const{multiInjectedProviderDiscovery:e=!0,storage:r=tTe({storage:nTe()}),syncConnectedChain:i=!0,ssr:s=!1,...o}=n,a=typeof window<"u"&&e?UAe():void 0,l=y5(()=>o.chains),c=y5(()=>{const S=[],C=new Set;for(const E of o.connectors??[]){const A=u(E);if(S.push(A),!s&&A.rdns){const M=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const I of M)C.add(I)}}if(!s&&a){const E=a.getProviders();for(const A of E)C.has(A.info.rdns)||S.push(u(d(A)))}return S});function u(S){var A;const C=QAe(rTe()),E={...S({emitter:C,chains:l.getState(),storage:r,transports:o.transports}),emitter:C,uid:C.uid};return C.on("connect",_),(A=E.setup)==null||A.call(E),E}function d(S){const{info:C}=S,E=S.provider;return hx({target:{...C,id:C.rdns,provider:E}})}const h=new Map;function f(S={}){const C=S.chainId??y.getState().chainId,E=l.getState().find(M=>M.id===C);if(S.chainId&&!E)throw new Zd;{const M=h.get(y.getState().chainId);if(M&&!E)return M;if(!E)throw new Zd}{const M=h.get(C);if(M)return M}let A;if(o.client)A=o.client({chain:E});else{const M=E.id,I=l.getState().map($=>$.id),O={},F=Object.entries(o);for(const[$,z]of F)if(!($==="chains"||$==="client"||$==="connectors"||$==="transports"))if(typeof z=="object")if(M in z)O[$]=z[M];else{if(I.some(j=>j in z))continue;O[$]=z}else O[$]=z;A=Rue({...O,chain:E,batch:O.batch??{multicall:!0},transport:$=>o.transports[M]({...$,connectors:c})})}return h.set(C,A),A}function p(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const b="0.0.0-canary-";pS.startsWith(b)?m=Number.parseInt(pS.replace(b,""),10):m=Number.parseInt(pS.split(".")[0]??"0",10);const y=y5(qAe(r?GAe(p,{migrate(S,C){if(C===m)return S;const E=p(),A=v(S,E.chainId);return{...E,chainId:A}},name:"store",partialize(S){return{connections:{__type:"Map",value:Array.from(S.connections.entries()).map(([C,E])=>{const{id:A,name:M,type:I,uid:O}=E.connector;return[C,{...E,connector:{id:A,name:M,type:I,uid:O}}]})},chainId:S.chainId,current:S.current}},merge(S,C){typeof S=="object"&&S&&"status"in S&&delete S.status;const E=v(S,C.chainId);return{...C,...S,chainId:E}},skipHydration:s,storage:r,version:m}):p));y.setState(p());function v(S,C){return S&&typeof S=="object"&&"chainId"in S&&typeof S.chainId=="number"&&l.getState().some(E=>E.id===S.chainId)?S.chainId:C}i&&y.subscribe(({connections:S,current:C})=>{var E;return C?(E=S.get(C))==null?void 0:E.chainId:void 0},S=>{if(l.getState().some(E=>E.id===S))return y.setState(E=>({...E,chainId:S??E.chainId}))}),a==null||a.subscribe(S=>{const C=new Set,E=new Set;for(const M of c.getState())if(C.add(M.id),M.rdns){const I=typeof M.rdns=="string"?[M.rdns]:M.rdns;for(const O of I)E.add(O)}const A=[];for(const M of S){if(E.has(M.info.rdns))continue;const I=u(d(M));C.has(I.id)||A.push(I)}r&&!y.persist.hasHydrated()||c.setState(M=>[...M,...A],!0)});function w(S){y.setState(C=>{const E=C.connections.get(S.uid);return E?{...C,connections:new Map(C.connections).set(S.uid,{accounts:S.accounts??E.accounts,chainId:S.chainId??E.chainId,connector:E.connector})}:C})}function _(S){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(C=>{const E=c.getState().find(A=>A.uid===S.uid);return E?(E.emitter.listenerCount("connect")&&E.emitter.off("connect",w),E.emitter.listenerCount("change")||E.emitter.on("change",w),E.emitter.listenerCount("disconnect")||E.emitter.on("disconnect",x),{...C,connections:new Map(C.connections).set(S.uid,{accounts:S.accounts,chainId:S.chainId,connector:E}),current:S.uid,status:"connected"}):C})}function x(S){y.setState(C=>{const E=C.connections.get(S.uid);if(E){const M=E.connector;M.emitter.listenerCount("change")&&E.connector.emitter.off("change",w),M.emitter.listenerCount("disconnect")&&E.connector.emitter.off("disconnect",x),M.emitter.listenerCount("connect")||E.connector.emitter.on("connect",_)}if(C.connections.delete(S.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const A=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:A.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:r,getClient:f,get state(){return y.getState()},setState(S){let C;typeof S=="function"?C=S(y.getState()):C=S;const E=p();typeof C!="object"&&(C=E),Object.keys(E).some(M=>!(M in C))&&(C=E),y.setState(C,!0)},subscribe(S,C,E){return y.subscribe(S,C,E?{...E,fireImmediately:E.emitImmediately}:void 0)},_internal:{mipd:a,async revalidate(){const S=y.getState(),C=S.connections;let E=S.current;for(const[,A]of C){const M=A.connector;M.isAuthorized&&await M.isAuthorized()||(C.delete(M.uid),E===M.uid&&(E=null))}y.setState(A=>({...A,connections:C,current:E}))},store:y,ssr:!!s,syncConnectedChain:i,transports:o.transports,chains:{setState(S){const C=typeof S=="function"?S(l.getState()):S;if(C.length!==0)return l.setState(C,!0)},subscribe(S){return l.subscribe(S)}},connectors:{providerDetailToConnector:d,setup:u,setState(S){return c.setState(typeof S=="function"?S(c.getState()):S,!0)},subscribe(S){return c.subscribe(S)}},events:{change:w,connect:_,disconnect:x}}}}function iTe(n,e){const{initialState:r,reconnectOnMount:i}=e;return r&&!n._internal.store.persist.hasHydrated()&&n.setState({...r,chainId:n.chains.some(s=>s.id===r.chainId)?r.chainId:n.chains[0].id,connections:i?r.connections:new Map,status:i?"reconnecting":"disconnected"}),{async onMount(){n._internal.ssr&&(await n._internal.store.persist.rehydrate(),n._internal.mipd&&n._internal.connectors.setState(s=>{var c;const o=new Set;for(const u of s??[])if(u.rdns){const d=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const h of d)o.add(h)}const a=[],l=((c=n._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of l){if(o.has(u.info.rdns))continue;const d=n._internal.connectors.providerDetailToConnector(u),h=n._internal.connectors.setup(d);a.push(h)}return[...s,...a]})),i?MAe(n):n.storage&&n.setState(s=>({...s,connections:new Map}))}}}function Uue(n){var o,a,l;const{chain:e}=n,r=e.rpcUrls.default.http[0];if(!n.transports)return[r];const i=(a=(o=n.transports)==null?void 0:o[e.id])==null?void 0:a.call(o,{chain:e});return(((l=i==null?void 0:i.value)==null?void 0:l.transports)||[i]).map(({value:c})=>(c==null?void 0:c.url)||r)}function sTe(n){const{children:e,config:r,initialState:i,reconnectOnMount:s=!0}=n,{onMount:o}=iTe(r,{initialState:i,reconnectOnMount:s});r._internal.ssr||o();const a=T.useRef(!0);return T.useEffect(()=>{if(a.current&&r._internal.ssr)return o(),()=>{a.current=!1}},[]),e}const Wue=T.createContext(void 0);function Vz(n){const{children:e,config:r}=n,i={value:r};return T.createElement(sTe,n,T.createElement(Wue.Provider,i,e))}const oTe="3.1.0",aTe=()=>`wagmi@${oTe}`;class lTe extends _u{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return aTe()}}class cTe extends lTe{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function uTe(n){return JSON.stringify(n,(e,r)=>dTe(r)?Object.keys(r).sort().reduce((i,s)=>(i[s]=r[s],i),{}):typeof r=="bigint"?r.toString():r)}function dTe(n){if(!Gz(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Gz(r)||!r.hasOwnProperty("isPrototypeOf"))}function Gz(n){return Object.prototype.toString.call(n)==="[object Object]"}function v7(n){const{_defaulted:e,behavior:r,gcTime:i,initialData:s,initialDataUpdatedAt:o,maxPages:a,meta:l,networkMode:c,queryFn:u,queryHash:d,queryKey:h,queryKeyHashFn:f,retry:p,retryDelay:m,structuralSharing:b,getPreviousPageParam:y,getNextPageParam:v,initialPageParam:w,_optimisticResults:_,enabled:x,notifyOnChangeProps:S,placeholderData:C,refetchInterval:E,refetchIntervalInBackground:A,refetchOnMount:M,refetchOnReconnect:I,refetchOnWindowFocus:O,retryOnMount:F,select:$,staleTime:z,suspense:R,throwOnError:j,config:N,connector:D,query:H,...U}=n;return U}function hTe(n){return{mutationFn(e){return bAe(n,e)},mutationKey:["connect"]}}function fTe(n){return{mutationFn(e){return EAe(n,e)},mutationKey:["disconnect"]}}function pTe(n,e={}){return{async queryFn({queryKey:r}){const{address:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("address is required");return await AAe(n,{...o,address:i})??null},queryKey:mTe(e)}}function mTe(n={}){return["balance",v7(n)]}function gTe(n,e={}){return{async queryFn({queryKey:r}){const{name:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("name is required");return PAe(n,{...o,name:i})},queryKey:bTe(e)}}function bTe(n={}){return["ensAvatar",v7(n)]}function yTe(n,e={}){return{async queryFn({queryKey:r}){const{address:i,scopeKey:s,...o}=r[1];if(!i)throw new Error("address is required");return IAe(n,{...o,address:i})},queryKey:vTe(e)}}function vTe(n={}){return["ensName",v7(n)]}function wTe(n){return{mutationFn(e){return OAe(n,e)},mutationKey:["signMessage"]}}function xTe(n){return{mutationFn(e){return DAe(n,e)},mutationKey:["signTypedData"]}}function _Te(n){return{mutationFn(e){return NAe(n,e)},mutationKey:["switchChain"]}}function w7(n){const e=Kae({...n,queryKeyHashFn:uTe});return e.queryKey=n.queryKey,e}function Jr(n={}){const e=n.config??T.useContext(Wue);if(!e)throw new cTe;return e}function fx(n={}){const e=Jr(n);return T.useSyncExternalStore(r=>jAe(e,{onChange:r}),()=>$z(e),()=>$z(e))}function que(n={}){const{address:e,query:r={}}=n,i=Jr(n),s=fx({config:i}),o=pTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return w7({...r,...o,enabled:a})}function STe(n,e){const{onChange:r}=e;return n._internal.chains.subscribe((i,s)=>{r(i,s)})}var Hue={exports:{}},Vue={},Gue={exports:{}},Yue={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0=T;function kTe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var CTe=typeof Object.is=="function"?Object.is:kTe,ETe=l0.useState,ATe=l0.useEffect,TTe=l0.useLayoutEffect,PTe=l0.useDebugValue;function ITe(n,e){var r=e(),i=ETe({inst:{value:r,getSnapshot:e}}),s=i[0].inst,o=i[1];return TTe(function(){s.value=r,s.getSnapshot=e,v5(s)&&o({inst:s})},[n,r,e]),ATe(function(){return v5(s)&&o({inst:s}),n(function(){v5(s)&&o({inst:s})})},[n]),PTe(r),r}function v5(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!CTe(n,r)}catch{return!0}}function MTe(n,e){return e()}var OTe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MTe:ITe;Yue.useSyncExternalStore=l0.useSyncExternalStore!==void 0?l0.useSyncExternalStore:OTe;Gue.exports=Yue;var DTe=Gue.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=T,RTe=DTe;function NTe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var jTe=typeof Object.is=="function"?Object.is:NTe,BTe=RTe.useSyncExternalStore,LTe=RC.useRef,FTe=RC.useEffect,$Te=RC.useMemo,zTe=RC.useDebugValue;Vue.useSyncExternalStoreWithSelector=function(n,e,r,i,s){var o=LTe(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=$Te(function(){function c(p){if(!u){if(u=!0,d=p,p=i(p),s!==void 0&&a.hasValue){var m=a.value;if(s(m,p))return h=m}return h=p}if(m=h,jTe(d,p))return m;var b=i(p);return s!==void 0&&s(m,b)?(d=p,m):(d=p,h=b)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,i,s]);var l=BTe(n,o[0],o[1]);return FTe(function(){a.hasValue=!0,a.value=l},[l]),zTe(l),l};Hue.exports=Vue;var Kue=Hue.exports;const w5=n=>typeof n=="object"&&!Array.isArray(n);function UTe(n,e,r=e,i=Qf){const s=T.useRef([]),o=Kue.useSyncExternalStoreWithSelector(n,e,r,a=>a,(a,l)=>{if(w5(a)&&w5(l)&&s.current.length){for(const c of s.current)if(!i(a[c],l[c]))return!1;return!0}return i(a,l)});return T.useMemo(()=>{if(w5(o)){const a={...o};let l={};for(const[c,u]of Object.entries(a))l={...l,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(a,l),a}return o},[o])}function Mi(n={}){const e=Jr(n);return UTe(r=>Lue(e,{onChange:r}),()=>Bue(e))}function WTe(n={}){const e=Jr(n);return T.useSyncExternalStore(r=>STe(e,{onChange:r}),()=>zz(e),()=>zz(e))}function qTe(n={}){const e=Jr(n);return T.useSyncExternalStore(r=>LAe(e,{onChange:r}),()=>Uz(e),()=>Uz(e))}function x7(n={}){const e=Jr(n),r=hTe(e),i=Jw({...n.mutation,...r});return T.useEffect(()=>e.subscribe(({status:s})=>s,(s,o)=>{o==="connected"&&s==="disconnected"&&i.reset()}),[e,i.reset]),{...i,connect:i.mutate,connectAsync:i.mutateAsync,connectors:qTe({config:e})}}function Xue(n={}){const{onConnect:e,onDisconnect:r}=n,i=Jr(n);T.useEffect(()=>Lue(i,{onChange(s,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&s.status==="connected"){const{address:a,addresses:l,chain:c,chainId:u,connector:d}=s,h=o.status==="reconnecting"||o.status===void 0;e==null||e({address:a,addresses:l,chain:c,chainId:u,connector:d,isReconnected:h})}else o.status==="connected"&&s.status==="disconnected"&&(r==null||r())}}),[i,e,r])}function HTe(n={}){const e=Jr(n);return T.useSyncExternalStore(r=>BAe(e,{onChange:r}),()=>AR(e),()=>AR(e))}function px(n={}){const e=Jr(n),r=fTe(e),i=Jw({...n.mutation,...r});return{...i,connectors:HTe({config:e}).map(s=>s.connector),disconnect:i.mutate,disconnectAsync:i.mutateAsync}}function VTe(n={}){const{name:e,query:r={}}=n,i=Jr(n),s=fx({config:i}),o=gTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return w7({...r,...o,enabled:a})}function GTe(n={}){const{address:e,query:r={}}=n,i=Jr(n),s=fx({config:i}),o=yTe(i,{...n,chainId:n.chainId??s}),a=!!(e&&(r.enabled??!0));return w7({...r,...o,enabled:a})}function YTe(n={}){const e=Jr(n);return Kue.useSyncExternalStoreWithSelector(r=>FAe(e,{onChange:r}),()=>TR(e,n),()=>TR(e,n),r=>r,(r,i)=>(r==null?void 0:r.uid)===(i==null?void 0:i.uid))}function KTe(n={}){const e=Jr(n),r=wTe(e),i=Jw({...n.mutation,...r});return{...i,signMessage:i.mutate,signMessageAsync:i.mutateAsync}}function _7(n={}){const e=Jr(n),r=xTe(e),i=Jw({...n.mutation,...r});return{...i,mutate:i.mutate,mutateAsync:i.mutateAsync,signTypedData:i.mutate,signTypedDataAsync:i.mutateAsync}}function XTe(n={}){const e=Jr(n),r=_Te(e),i=Jw({...n.mutation,...r});return{...i,mutate:i.mutate,mutateAsync:i.mutateAsync,chains:WTe({config:e}),switchChain:i.mutate,switchChainAsync:i.mutateAsync}}var Yz='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',QTe={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${Yz}`,system:Yz},Bb={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},JTe={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},ZTe=({borderRadius:n="large",fontStack:e="rounded",overlayBlur:r="none"})=>({blurs:{modalOverlay:JTe[r].modalOverlay},fonts:{body:QTe[e]},radii:{actionButton:Bb[n].actionButton,connectButton:Bb[n].connectButton,menuButton:Bb[n].connectButton,modal:Bb[n].modal,modalMobile:Bb[n].modalMobile}}),Que={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},Kz=Que.blue,Jue=({accentColor:n=Kz.accentColor,accentColorForeground:e=Kz.accentColorForeground,...r}={})=>({...ZTe(r),colors:{accentColor:n,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});Jue.accentColors=Que;var MR=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "ready": {
      "qr_code": {
        "step1": {
          "description": "Add Ready to your home screen for faster access to your wallet.",
          "title": "Open the Ready app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Binance Wallet extension",
          "description": "We recommend pinning Binance Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ctrl": {
      "extension": {
        "step1": {
          "title": "Install the CTRL Wallet extension",
          "description": "We recommend pinning CTRL Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "gemini": {
      "qr_code": {
        "step1": {
          "title": "Open keys.gemini.com",
          "description": "Visit keys.gemini.com on your mobile browser - no app download required."
        },
        "step2": {
          "title": "Create Your Wallet Instantly",
          "description": "Set up your smart wallet in seconds using your device's built-in authentication."
        },
        "step3": {
          "title": "Scan to Connect",
          "description": "Scan the QR code to instantly connect your wallet - it just works."
        }
      },
      "extension": {
        "step1": {
          "title": "Go to keys.gemini.com",
          "description": "No extensions or downloads needed - your wallet lives securely in the browser."
        },
        "step2": {
          "title": "One-Click Setup",
          "description": "Create your smart wallet instantly with passkey authentication - easier than any wallet out there."
        },
        "step3": {
          "title": "Connect and Go",
          "description": "Approve the connection and you're ready - the unopinionated wallet that just works."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "zilpay": {
      "qr_code": {
        "step1": {
          "title": "Open the ZilPay app",
          "description": "Add ZilPay to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "nova": {
      "qr_code": {
        "step1": {
          "title": "Open the Nova Wallet app",
          "description": "Add Nova Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    }
  }
}
`;function ePe(n,e){return Object.defineProperty(n,"__recipe__",{value:e,writable:!1}),n}var Zue=ePe;function ede(n){var{conditions:e}=n;if(!e)throw new Error("Styles have no conditions");function r(i){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:i}}if(Array.isArray(i)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var s={};for(var o in e.responsiveArray)i[o]!=null&&(s[e.responsiveArray[o]]=i[o]);return s}return i}return Zue(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:n.conditions}]})}function tPe(n){var{conditions:e}=n;if(!e)throw new Error("Styles have no conditions");var r=ede(n);function i(s,o){if(typeof s=="string"||typeof s=="number"||typeof s=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return o(s,e.defaultCondition)}var a=Array.isArray(s)?r(s):s,l={};for(var c in a)a[c]!=null&&(l[c]=o(a[c],c));return l}return Zue(i,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:n.conditions}]})}function nPe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rPe(n){var e=nPe(n,"string");return typeof e=="symbol"?e:String(e)}function iPe(n,e,r){return e=rPe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Xz(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function x5(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(r),!0).forEach(function(i){iPe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Xz(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var sPe=n=>function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=Object.assign({},...r.map(c=>c.styles)),o=Object.keys(s),a=o.filter(c=>"mappings"in s[c]),l=c=>{var u=[],d={},h=x5({},c),f=!1;for(var p of a){var m=c[p];if(m!=null){var b=s[p];f=!0;for(var y of b.mappings)d[y]=m,h[y]==null&&delete h[y]}}var v=f?x5(x5({},d),h):c,w=function(){var S=v[_],C=s[_];try{if(C.mappings)return 1;if(typeof S=="string"||typeof S=="number")u.push(C.values[S].defaultClass);else if(Array.isArray(S))for(var E=0;E<S.length;E++){var A=S[E];if(A!=null){var M=C.responsiveArray[E];u.push(C.values[A].conditions[M])}}else for(var I in S){var O=S[I];O!=null&&u.push(C.values[O].conditions[I])}}catch(F){throw F}};for(var _ in v)w();return n(u.join(" "))};return Object.assign(l,{properties:new Set(o)})},oPe=n=>n,aPe=function(){return sPe(oPe)(...arguments)};function tde(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=tde(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function nde(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=tde(n))&&(i&&(i+=" "),i+=e);return i}var lPe="AEkVMQnvDV0B0wKWAQYBQgDpATQAoQDcAIUApwBsAOMAcACTAEUAigBRAHkAPgA/ACwANwAoAGIAHgAvACsAJQAXAC8AHAAhACIALwAVACsAEQAiAAsAGwARABgAFwA7ACoAKwAsADQAFgAtABIAHAAhAA4AHQAdABUAFgAZAA0ADgAXABAAGQAUABIEtAYQASIUOjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqft7uycM2yDPCLspA7EUOwD3LWujAKF9GAAXBCXXFgEdALkZzQT6CSBMNwmXCYgeG1ZZTOODQgATAAwAFQAOa1QAIQAOAEfuFdg98zlYypXmLgoQHV9NWD3sABMADAAVAA5rIFxAlwDD6wAbADkMxQAbFVup+3EB224cHQVbBeIC0J8CxLAKTBykZRRzGm1M9QC7DWcC4QALLTSJF8mRAoF7ARMbAL0NZwLhAAstAUhQJZFMCgMt+wUyCddpF60B10MASSsSdwIxFiEC6ye5N2sAOeEB9SUAxw7LtQEbY4EAsQUABQCK00kFG8MfBxcAqCfRAaErLQObAGcBChk+7Td0BBgXAKoBxwIhANMrEnM681CwBZA6dyc1SAX6JwVZBVivuAVpO11CEjpYQZd7k2ZfofgLEwPFByXxdyMEo0sCU1MCdRurJwGPo6U1WwNFFwSDYQkA0QarPy8jBykCOV0AawFhH3EAgx0ZAJUBSbcAJ2kXAa/FAzctIUNTAW9ZBmUCZQDxSRcDKQEFAElBAKsAXQBzACu1Bgfz7xmNfwAJIQApALMbRwHRAdsHCzGXeIHoAAoAEQA0AD0AODN3edPAEF8QXAFNCUxsOhULAqwPpgvlERUM0SrL09gANKkH6wNTB+sDUwNTB+sH6wNTB+sDUwNTA1MDUxwK8BrTwBBfD0gEbQWOBYsE1giDJkkRgQcoCNJUDXQeHEcDRQD8IyVJHDuTMwslQkwMTQMH/DZCbKd9OANHMatU9ZCiA8syTzlsAR5xEqAAKg9zHDW1Tn56R3GgCktPrrV/SWJOZwK+Oqg/+AohCZNvu3dOBj0QFyehEPMMLwGxATcN6UvUBO0GNwTFH3kZFQ/JlZgIoS3ZDOkm3y6dgFYj8Sp/BelL8DzZC0lRZA9VC2EJ3zpfgUoDHQEJIocK2Q01CGkQ7wrFZw3hEUEHNQPRSZYAoQb9Cw0dMRWxJgxiqAsFOXMG9xryC4smqxMlevgFzxodBkkBJRr7AMsu44WsWi1cGE9bBf8LISPDFKRQHA0hQLN4RBoXBxElpQKNQ2xKg1EyHo8h8jw5DWIuD1F4B/E8ARlLC308mkanRQoRzj6JPUQiRUwoBDF7LCsnhwnLD4EMtXxuAVUJHQmtDG0TLRETN8EINQcVKZcgJxEIHUaRYJYE85sD7xPNAwcFOwk9Bw8DsRwpEyoVJQUJgSDTAu820S6vAotWfAETBccPIR/bEExH3A7lCJcCYQN/JecAKRUdABMilwg/XwBbj9RTAS7HCMNqaCNwA2MU410RbweNDlMHoxwvFbsc3XDEXgeGBCifqwlXAXEJlQFbBN8IBTVXjJwgPWdPi1QYlyBdQTtd+AItDGEVm0S5h3QChw9nEhcBMQFvBzUM/QJzEekRZxCRCOeGADWxM/Q6IQRLIX8gDQojA0tsygsjJvUM9GUBnxJeAwg0OXfqZ6dgsiAX+QcVMsFBXCHtC45PyQyYGr0YPlQqGeAHuwPvGu8n5kFTBfsDnw86STPqBLkLZQiHCTsARQ6fEwfTGGYKbYzMAS2HAbOVA1ONfwJriwYzBwcAYweDBXXhABkCowifAAEAywNTADUCqQeZABUAgT0BOQMjKwEd4QKLA48ILccBkSsB7yUEF78MEQDzM25GAsOtAoBmZp4F2VQCigJFMQFJIQQBSkNNA6tt3QDXAEcGD9tDARGnRscW3z8B22snAMMA9wABMQcBPQHJAe9pALMBWwstCZ6vsQFJ5SUAfwARZwHTAoUA2QAxAHvtAU8ASQVV9QXPAktFAQ0tFCdTXQG3AxsBLwEJAHUGx4mhxQMbBGkHzwIQFxXdAu8qB7EDItsTyULBAr3aUQAyEgo0CrUKtB9f81wvAi1uPUwACh+kPsM/SgVNO087VDtPO1Q7TztUO087VDtPO1QDk7veu94KaF9BYecMog3QRMQ6RRPXYE1gLhPELbMUvRXKJVIZORq4JwEl4FUFDwAtz2YsCCg0cRe4ADspZIM9Y4IeLApHHONTjVT0LRcArUueM6sNqBsRRDwFQ3XpYiYWCgoeAmR9AmI+V0mrVzccAqHzAmiUAmYFAp+AOBcHAmY3AmYiBGoEewN/DwN+jjkCOXMTOX46Hx8CbBkCMjI4BgJtwwJtquuGL2NBJwFjANoA3QBGAQeUDIkA+ge+AAmxAncrAnaeOwJ5Rz8CeLYZWNdFqkbTAnw7AnrEAn0FAnzsBVUFHEf8SHlfIAAnEUlUSlcRE0rIAtD9AtDISyMDiEsDh+JEwZEuAvKdXP8DA6pLykwpIctNSE2rAos7AorUvRcDGT9jAbMCjjMCjlg8k30CjtUCjlh0UbBTMQZS0FSBApP3ApMIAOUAGFUaVatVzAIsFymRgjLdeGJFNzUCl5sC765YHaQAVSEClosClniYAKVZqFoFfUkANwKWsQKWSlxAXM0CmccCmWBcxl0DFQKclzm+OpkCnBICn5cCnrSGABkLLSYLAp3tAp6OALE5YTBh6wKezwKgagGlAp6bGwKeSqFjxGQjIScCJ6sCJnoCoPcCoEgCotkCocACpisCpcoCp/sAeQKn7mh4aK3/RWoYas0CrN8CrKoCrWMCrP4CVxkCVdgCsd3TAx9KbJMCsrkJArLkE2zcbV9tRFsDJckCtlg3O26MAylBArhaArlDEQK5JnNwMnDdAr0VArvWcJIDMg0CvoRx/gMzbQK+FnMec0sCw8cCwwBzfnRHMUF03AM8owM8lgM9uwLFeALGQwLGDIUCyGVNAshAAslLAskqAmSZAt3OeHVdeKp5IUvMAxifZv4CYfAZ75Ugewdejl63DQLPZwLPaCtHT87vD5sAwqkCz28BJeYDTg5+RwEC3CMC24YC0ksDUlgDU1sA/QNViICFO8cS6VxBghiCz4LKg4kC2sMC2dqEDIRFpzgDhqEAKwNkCoZtVfUAUQLfYQLetG9zAuIr7RAB8ywjAfSXAfLOgwLr7wLpbHUC6vUC6uAA9UMBtQLuhQLrmJamlv8C7jsDhdyYdXDccZ0C8v8AZQOOEpmPAvcPA5FqA5KDAveUAvnVAvhimhiap7czmxoDnX8C/vYBFwA1nxifrwMFiQOmZgOm1QDNwQMGZqGEogEFAwxFAQsBGwdpBl21YwEAtwRnuw2HHq8JABNxNQAfAy8SSQOFewFfIx0AjOsAHQDmnwObjQizBhufwQCnBRG76R09PhZ4BWg3PkArQiFCtF9xEV+8AJbFBTIAkEwZm7k7JmAyEbrPDi8YxhiJyfYFVwVYBVcFWAVjBVgFVwVYBVcFWAVXBVgFVwVYRhUI14VnAgICCmRe6SsEyQOxBi+7uwC7BKe7AOdAKRayBUY+aT5wQj9Ctl91N1/oAFgRM6sAjP7Ma8v8pudGej0mIwQrFic2NX5t32rB8RnCLGkBa9duMBcFXwVqycHJuAjPSVsAAAAKfF59i74AMz+BAAMW0QblrSMFAIzDCwMBDQDlZR09JB9KQrFCvEE4I18nYDYnOCMJwT0KRD9DPng+gT5wPnECiUK8SUI7X8tOT2pNCixrVC9qC24fX+AzOhsJZ5sKYiMrPB0mQqtCvCvMAcv8X8kOHy4JCAkifp3fajotShfJq8msCWXBy8wKYEFfD+UQoxEAk40dRUIlG6ltOc44CjM/Qz5wQj8cBwodTEdsWywtWuG8Egp97R0rQj8cXQhKCQ4zVENCNwQ7Q5wsCoEbLUI/G/UIUyIjGDAxAAWPYfBeCnFkyWALYC0jbkNgGTkCGx5gswYCaxBlTmBNEQFk52AVYJVgfWCzYEtgkWgWFwa1DtxVqbxaC0MWqwG7K83BAh8VABwDHgF5AmwvMJVSgAGKCrhHGgDkI3SOCsoNpk3qAZsCh5xPBUBfAPf3BwA0FlcMC6UMJB+6r0eAgQw0ABUTnyuCCHoC0gtLZREbANhOBnUECh5aADEAtritAJQnCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cHAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4rQCUJy07Ds4CkBh7ULtYyHRyjsOlmw/ZFUkb7AEpEFwSBh/lAccJOhCTBQ8rDDYLABEAs+AiAQIApADhAJiCCrJrOS8AFABbG8YubHYqDcEQAjskHNPhHB4LG30CewTBCqrxbAAnLQ6mLs6hHAe7CQAQOg+7GkcczaF3HgE9Kl8cLs4RGQB9q9ocAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvAk8DrsFmAEbawouzqEqD4sa4QHDAREWOwCgCzsLuxC7BBiqe9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOxjbL7ZtvgNIqLsAB7sALrsC6w5WAAq7BAAeuwJVICp/FTwVuwG+J+QAsloBvSjgo7vIAAFbAAG7AAJbAALjAAg7AA67AgAbu6VbDr/EAPQAaPuoOwMBu5UnSwDn3Rm7CBp7CKEFCv9wAN+7p7sau6OLeXIG+6mbgwASuwYbCwG8AACGAG27BgALu6c7ARo7ugihnMoBuwvtB8CpOwDhewG/AADlABW7AAb7AAm7AGmLABq7GLuOaRX7AA5rAC5LHgAGuwAXuwghAA1KAcIAt68mAcAAALQADpsAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAIPAAUOwARawAPiwAN6wANuwAZCwYWGwAVOwBumxm7ALobLgATOwMAaSsKAOFLAAI7AARSABd7BRsABtAAGLsAC/sAX7sAa/sA5IsBuwAXdgG8AAFyC6EABUoAbXYAB/sA5XsAHGseAXsoUgA5RQD+Bw0McgAoKnABpAUIXgG8XiMMCQdvS2xfKokfPBRiLTYDoQq0AdgAFgLRA24BdnJHUhQhA08CFT4BLAYDc0a8e1J6QAApADEB+wBTCtsAe5AsASsAduUNETJGAUoAVwUAAVABB4rMAHg7BCClAFoA1hUAlWg3H4sAzWuxAM/UFgjCdXMbGFYdCdEBiJCrIlNTTUgSPMKJ+QB/HDdAKSvgEZdPAHIBKSwwKUIZDwMwVQT3xe4AS2XcAGoCcQI/EXo6x3guNdUGBQAQGx0KCAwqBB8dKU5TTgi5ugAKEs0AJgABGgCGAIkAjjUA7gC0AOAAnTwAuwCrAKYAoQDyAJ8A0wCcAOsBDAEHAMAAeQBaAMsAzQEHANcA6wCIAKIBNQDjANgA1QMBByoz1NTU1LbA3M3QzkMyFwFNAVcvRwFVAWQBYwFWAUdLQ0VoDQFOFQcIAzI2DAcAIg0kJiksODo6PT09Pj8OQB5RUVFRU1NSUylUVVdWVhxdYWFgYmEjZmhwb3JycnJycnR0dHR0dHR0dHR0dnZ3dnVbAEDsAEUAlgB0AC4AYvIAigBTAFMAMwJz6QCH//LyAGAAj+wAmwBLAF4AYPn5qgCBAIEAZQBSAK0AHgCyAH8CPAI/APgA4wD6APoA5AD7AOUA5QDkAOIAKQJ3AU0BPAE6AVABOgE6AToBNQE0ATQBNAEYAVQPACsIAABNFwoWAxUWDgCKAJIAogBLAGQYAi0AcABpAJEDEgMkKgMeQT5HKQCLAksAwwJTAqAAugKSApICkgKSApICkgKHApICkgKSApICkgKSApECkQKUApwCkwKSApICkAKQApACkAKOApECcQHQApMCmwKSApICkRZ5CwD6BQOnAl0CNhcBUBA1At4RCisTAUo3E02RAXekPAFlWQD/Az1HAQAAkykeGI9qAClgAGkALgCJA5TMi/CuhFoFuisOwhEBndV0KgsEIzFsATNabAGyAN5+gH9+gH6BgoJ+g4aEfoWIhoCHgoiCiX6Kfot+jIqNfo5+j4KQfpF+kn6TfpSDlYiWgpd+2gLabOEC2GwAgmwkbKAAg2xsBEkERgRIBEsESQRPBEwERwRNBE8ETgRKBEwETwCWZmwAowOIbAC0ZgEFbADJUWxsAM9sAgxsAPZabAD2ARkA9gD0APQA9QD0A31ebNSEI2XAAPYA9AD0APUA9BxsbACJWmwA9gCJARkA9gCJAL4A6AAIAPYAiQN9XmzUhCNlwBxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN9XmzUhCNlwBxsbACJWmwBGQD2AIkA9gCJAu0A9gCJAL4CNwD3AIkDfV5s1IQjZcAcbAJDATZsAkoBOWwCS8FsbAJXbGwDnwLtA58DnwOgA6ADoAOg1IQjZcAGA31ebBxsbACJWmwBGQOfAIkDnwCJAu0DnwCJAL4CNwOfAInUhCNlwAYDfV5sHGwEPmwAiQQ/AIkGjTFtIDFs1m4DKGwDrAJsbABVWv4VMgJsbACJAmwAVAEAul5sAmxebGwAiV5sAmxebD3YAEls1gJsbEbCxxP/x5BApA0KYFA89AsjTx97EHmJQPyocItC2JnNFRCEnFU6SFTDoI0PxeRNRoNRWkpzVnWW8pTagkNmgf+jGupqZ3eu50LAFnc+OzfJwdub1AdpOy76VnijWNR/CMEevikQkFyQuLuPajxWi9chqOoMJ7qpCN4sx3LJG4Myu8kD68wC6+iAwt+pU1JEeY13rpCVkXSZfinVKn4xZpxsI3Lp8bJLrJ9ujkrIalMRBAcv/GSKEtowzcEn5XmJw2BagB8V2UWJoJHZ14SXhM7p0XeGFOuw6mlvyq99WYp5XxrO6ru9nn4RHcOkJ7hx5UqWtman7yVMLzYXQefQRUdIY70RYQE8+aAzCNSGQkXiHfnHYRMi+xczKDdZLk3AV1gzxkkSHLjBwuq8shIJ+/RAbqjqQbugFhe0rqklu432EERkM5k9y1DXzds46oLqKAx6OhPT2WiqEfhaITn7OF9Y694AmKmUvbpWp0xJqDaf3jeNJXnK6NpnGcFOmbclbARC+5+5U52ufw5b0Hh+2LrrNimvZe4eYmApRsZnJE310SqB+1xB6rSJfnV1f2D0awB18Oc0sXAFqIlgHgWiaZGdvP5CJUSsCTCQUC335+iSkwPlLJJ5lwjTSn9Lw22NbK1Tu8w+bUpHtDRDPho7Gun8aw2Jzu9i+N0Ot/kPMbLAb/rUQ82kfpk85qLDkfxLl39QPDngo72GYh/Xigbpcm1pA23D2ywt3D8GgMOao040wDqkHxOEx0OhC+ZmHiIdjK7yRbfJD2ouZbAedhD3p7s8WDmCJfNforgDYPGAXSI08fTjPZ5B37lc5VXGzc1vJmibDwBNVzXuaUzg7N5H4BxqjhJ+kz9HLUJys7bpBDYAPvbut13AwJCWd059tS8YTYgC8HwrkewBfa1LSSpmMr9uR2EekTiAMH+Mx4AGzgbquccwBDlLmRhgXL/YiLPCEb6d2k5qJ6o800qddABkpqt7NG+sc2uvHZwZs57W1AHTFM1KkMShasADAh2FvzbzJOzVDMS3ZlT2BSFKdnkZFB6JyqJbhm6XANis9TrtzJdlPVp+rl8v3nIke6Jou7m2TKu53Vounupgkz2LzrQPhhatLIG7rfF/gUKWp15X3LKt+ZvuCDSqPUigF9yJntimC1HJR7Yj/dUrLAXWrT+1tnwPJJLGKAlQ5VeNDWRKCTt2vz3rJuo4+gIt75/Mkfl/gSZblZ9r/SEeeosZXneli/xNh1WVCvkRt2RnyyjtMkMqhzXh1PVOCbILqv0r7rGYm0CHIyKdhHL90cl9E1I6eEtQTCt6RXj8M0HHrHCHLVRpNM6WIbT5BCMGVnL0o5895qSRbCJz+5I8PGMhAN/Xrj4BgIdlKqlHtBHqTJwmK169toZ2IWxNzrAbIG7zh85Q/LG2A4yBcaBel52zdunokB0lv3A7kXnTI7M6ZnfZ7nwuj5lkGhqSpW+w5CI/FmRlplBEbnZy1ZxS3DL8rf1YWhO5XivWZBSRh1gFsjjyj3qRG1cm/6ors7WsEif6WRxns1MKDZa6KrbfMQ/swIb+2nb0tqxHeii6FcgVeAjE/Xwac1owx04dJKG8R5YQgHNnEfHf0qb8WOnU0eQSjazq+IK7cSuCqYzPEUB/x+QgGZqM3dBoYvNvZVOHDkbgdilWdagqO5bkybXfLpyMPuGq8mvAAEZGbR6RwXGlW9ErOWTfnjfx6dXFJqBj0OBSGFz4lWQasNOmVJeN4SFWSLfOGB/7ehV5YuoNNROHZEG9ElVuMnqbDMMuDleOt/cN/gsWxGw128mwU8/HxkOKqdTZnI7dHka67WCTf/FmBrxpNCaKJ1GxBTCSS7MNfhNj8S4Gtotg6Z3AM9cAeVROnppUMaiV5jjudLnNqoVrKO1/FijLlAc74kxydxKX1RQuMqHR63eecYr5o6MJ+B78VsLlCrpelWh6GOrCOBIoQmIcdpJL1pwE2zzZqBkecGTdK8KMOB6r1eNRURyrz6M899TZaoS/vNOxHf+5gORU+OyYIcIW6diP25GHF6u8TNjuL/GJzCnLLXd01KrsjRa51v4+O/VIAWXESJxfxWjv628J+cWUQpoD+Yytzs3jSMRJ23/XT+vUdtUMLDQq1vnIoeg/GjWh88MT6k9dRqDaQ+vodilFgvjuNw5pJpId9mfwyYeLCGb3BmHXdfQfhfPRQaupe/f8TG4Bk3eDKlYBaEK3kZYNN2Sdxz47m/vYBxvIOKtnqplB1pebzuXmAr/MuzQCknKe653dzaWQQ7MUhWYWvzIZwLe1v0rXxImLaz+AkAu+sYikhouNF3EW6w4crZ6MuUiDbIAx8XhAfegcvW6x9BPb3/sCxGWu9YyatqExB+TSm69qIkI9IwhjrcnzME+jWBx4mNQm5WwLzUjSyY4FZ0aMF5YFlXUD4hL4XfOeYv5rDe2s2D/Cn+28fZ9UCnOQvXFMnQqfc0G+ZqOWWD9l/liqUPaNQzZjxCHpUAD8Rcc90MniQ02ugHWsUupFUvhC9usY7zNPt5F2jO7qgzhafsQSd50jgLrC6Qx6bpHbXR3WNAu1BzGmwbz+ebGmwTjdy006Y6zipP7n/OJlvSmbq+SY+nefAVKK6EBMPbce5n3IdRI8+vbxCpN53rw3TvgNds1SuMiuLGxt89L71mxPDeanGhyHvOjmO56tnVpoHalQnL6TqNuqKsHjHCIKB4pCgj4WyYPvRvYvqi5EMr7lN3MotPR/KH7JUD1lZbU0QzfbrEBJnuQiVAyAC9vwXWp2TRU1/0aapyAH2cbglEHVAdl+1rb1u147uV0td1eNoQZsqHrIMIYVPXtLk2TIU3cJE08PjoYNDpfF/IcJnYQHl6nsplczX3Rgah4NbJJHl//5scUufqsSd//kbIS406ZWoMP//+jhGUswX/5nVNz/jAj9KmXPtAmMiK+khhbn1w/mELzZMT/WxcW//y/jsHaOM/61oAW/CjYhJtY622/TtMYuP7bilBvbiT3vB9n8IcFPnwM78H0KfhYDRdY5PhWJ4jWRQzB+HT5NVZV56LG82hcQms+jOTT/c9Y9sx5rPi1/wB7f/+c5UfUCKk3iwwCuywUc2MGnAwsXf1E5hoI55x1Q/Qby+sWH8NRjavZ8VaDsdi1NUVhH86BJHX1yaFt1w1OYeL5LVmdN+5Q+KuTvXEPDzUCg6xp0HhsUhTWSe7MZMM/6rsTUb0/nbUE3YQlGGt48kT1/6cnf6yHnvHtQx9EosOXN077yyEq/jE3YTiG/5SEJmXFeocJJ1EAd6vKeK6VEdJLOZ1km/EwOnZWCQpzCLKPHxrfh4yJhGq//2dos2E/3+MOcdW5EsgIdmTQUQetzRy5fQHhDBl37XbWzsqO/cASEDjyst1/8NEROqVAxWnddQV+umJ8IrKVgKvGaTc0GsQ4s8h0Osql5QKwlddPDjJhKInyWqYUKmmlIts+FIcXZ6yM6cljbsjUG2ksSOkuIw4sYHffRNgBOLApvD6XrR6Rt0rV2Uf8IpnIUVnb9Twt91QjAaD/dStSWDxg7aYY+VXIgnuowYdOkjywa2hlgrnI6PjaU3e3UjQ5Yk5mdIJGyHnv3/P+1EkMav1yFyF+FeJE/RXnWBw+Nh0aOo6TGlKX7d+dkP9+brvr79SdtXJtcD/aXBGiMNfG6/NQniQHYQlK78FEHDqOh+bDI0o+2Ub0h53EL/vlzjrBczVEZz2bOtvIL+DIzDkk9nCWt7tlqsq3l9JMtJk3r5HG2iJ9b/X11TG6wwMAjHLQ2oasaMEsydh88QPvI+hmqIHhvalpKoKOueJR0eZ9J8G2alNOIOy98jwvbc87Ewk9d+5G/tUijTmlbjFlDKXV05HalKxaRTrucc73On7yzAPS6f2v4ogiaWyWeV73dv/MsQT5HjRrsYV9dLAcI3T+zC2qEVINyNpEhoKV+xVSuWtT4AhBfpnZ7unIM+HX3msI0HiI+P+z2PFgkjGi5PqEbG/wNIWeRUjPtDEgbbubN+I4JaDLrW9borRBDob7ZFx+JdKeFVUKVeWqb/c88Ol7DhM0suLtuEd8tkDSMTD3DFx8UphPINHMHi51hAPttXL4Ektt/lKEUG/R4qZKohHjVpAcPIMiHyWr6xR8/EWnNJvBFET76yCdk5er7ADB/1bgoImhpSiZ/omZjPKPCEeZsOwvPmXL+1vlJNeGO3TzySmGA1X6e58gLrazDM71jywM1XL8zKHN6G3kB31Y8vLtP982N975SZXk2JwDvmv7AY/aDsFFk1v+nE7/hbvuOWhBH4kuemeYozPk2K22Vx/YGiDTLU7YilpOt29u3RZMBh4UJjlTP5ItxTzWv6ebL9b+GSU1Vsm2S8LMfVfJczaBSqE8J1A4YUjpsALL7++bwCPXFhaufdpDFtBlHb9makeYbqdg9ltvK/HwF/rNE6KrtWUkEcxmTB7Iyu5TiVaIgW/YxzQhpArliIMkOoK5L7ShVtF+DYqV01mk7fwop04hQRwg4KFmr5z9nYf05VVqkSe7gfnx5bxxlQ0qEV0jiwzf064qG11iEqjHcUgDWWsDs/LEGlzX31T5KVL+7D4EoKim7HBagiqRo5JI3WfDBgpKIruWz9j/J6Hp5Q/EJbMWB8NeSMuFarNw3AEYPBJtYQO/4oD/ZgPTSQ06di0EeumX5EbrdThO+fvYEVSxLtZ3AJkee0Xn0sDwNtiiZhJjJRDuG1YRKB1vOulfd9JjHeyu+UHTmrtra/pm+8Rixh4WKiLaLOCxIbZNoWRZSyyUGLPjAaAo+SQBpfO2uruWrzFxLlpvrXJNMCWtlJDKGAnlWK5xpU2tcxXbeD+sbdfwYXt/qTwDk6UqXR/aUt099DhSNl4Nk8mXwpw+b0nvjKOG6Mg1PRXjrMUMANvNgEArv8nMJs3vj1aHi8MHz/UfJWWzkcrSpZTNBhduXlGR7i+ip/THDp5R9KRNcDKECgtwgXg4EFN5HHfikP/XvsoCkHTg+NbsD8Gl6eknk4Arwn/BWGJ0hgW0/gUKrzuGZhub7igRP3abetpIm+24xEOlWl3YKpm2qTBFvX8ddDRvm1LcwnCJuEfZx12qPY9TrntMIQsv316zvpyWnyStX8VU4j6tQk+CWlLBUCJR6MdH9Cp7g2qdn2WM9qFbREmejH09dlWEPm8hPF0L7RxwRRdiCs0DP8ewk6ApoELkKU9hckSdbnXm8UHJmaNXjxv/q0fTTpu8rnl9lN0vQCpDRbCtcz12rGRFEA7Cfg7FhZn5QFkNmv1ZURKEsiZce1nS9K7HrwpC7yJV4Xt3eAVbLJfoXHrtwG60Z8gwaSnmxoL3s2ZlRqggZN/MHo1oUS4L+GwObFI596Ld4Mvi8l+cQmF1gJpkpnDio7TuO35npaMHiWzFqPSX3qNgkIPGuX0qGYnPIVsM901Yu8oZnOZOY1TbtIdFUNKNq2dP8SJ4F/VCEzIjF0/Rh+7UrZj80tC6rognVH3mqa8eCs/lcQU1Pjj98kBmAKDbZUTwosv02UunRR3n0X6c+f73mtwB7/WbQ16gO431EtwZbNG1SM4TZPBnsQSESlsfG2JLQXx5xWf4bmQ/xcVCPISAX5897JxHKLD/Xkgu57+ABR2+MMtEbX64+MNlBHpKC7sjlWVEShf5qA+dGc59LFVlZrX/Enq9z/v+wnZ1HErmxmjJjxOA+hAjVUWgtq6ygAi/8ewJDjUMFw3zhQFtbyTLDPFd21Ji5S5QPZo9nMSxdg1+DGFSN0wlWt7XeYPbHqLfliV0J1kOhQNp0VbUPy0MS2Ms66OxtSWvaULaWHnfAA+sieVVgtjDwN3nKonWapkSKRN8BKKJQpCfqo8RQI5udhfu5s5+7vwsppmAJDgz2GNA7d43VdbV2l/SrvEu4RYslmNJmfSOVbssxAhSYy6WxpIQdDB0FVBpZ6IM8yr81QN+XLZ3n/wed/R+s6LslkxKbzzst/GkRbe6rFmtvJCwr1T44ETM+IMgOnjUO0eG6a1n2w7lwM1oFBvzMUWRkNFOvKcx3oSb5XdenZ5dXsute6nkRypBiSdAtA2fxAd8UdLOZW/MB7fZoEuFheQXijdaF8kuaRZoSeWdKOkKsGYEGaXfaDKTu0WMTcLniQs7KRCz9iK3SP+Y2xIjkfVGqFLSQ6vh+A1u6FdfwXsv1VPMfi2cxmdM+/xTgMXEyo2ZGcQ2YmPsghnYdv2+z48JpGZA4tUK1p1q2VdVxyfypXEXcrxKKtmt8UdW7sHWmKMqDuBBM3J/JUQx8eUYN4pJ5oRqvdiPHU1o/WPjiKvnlCqOdyxlxF54L9PrtLD1NejZ9aZDivVr6ZfMFK1/psVygoPIAnphcJWWb9+5IKMKmgRQULsTPZi6Bw4wP32zVEoKcHpP73CkFAqS98nSaGoWDjDJiaACJn4p5o1jq9R4Q4VcibhXF//LHP0bdf63kRVZdRbbhGe7sDQcyWS5tpkfeYHnff25WK+4FpzLlAcbaKmHdIBqOw3fImx1uqQIADH0TyHzFlqTG6nMoY81svP0T6BIyELMS8tMe+E1p6TFP6sVpZa6VNaTumufD5aj9goRa9SAmdJT4HhI2r0egj8UrgFb8L59wGLnYlzkLAiUd3m/WWIIEU61kPoEjd3gIVy/fiBcgqQqHnoXpL0SqLGdGGgn7DQeVMSYWHfjno1FngIKP9cjYaTlcRP6bZunjHP13/lbVm4awti894pTf/ZNNqr4OR+tDVie/m+rC8QpVnRbsCMPukOH87B2jM4AG6pHuXl1x9SiKdhYJVOhfo/+SCaGjUW2CoogL1FFhFGN9o+acoVLl0SXs/3vrSccmZeAF3NewFuOg/P12QYKQF+SH+KYcNnsAhIAELPBUgre/KRUJEA+KPD0MHRjv+3J/j2Z23MuJmkfy7leWcMsti8wXLSHgXFJTaksx1Woi6oljwxFVIJG12SBSZLNJDbXMYPekmiXT4FclKI35BFgqnYpKfcsr+f8HUXQoHJ9UYZ4J5YMiHHyAxg6eidhodgqJ2Htf/xYEx+G0zXchuzlt8hcAl+AT8NCQ4orFc4DerabF1enA7NTLnvtZh3FUwqIOvY7Q4DYmoDHwXTSw5UNNh6r7j0B/ezMYJMDcw4+6gCTZX4YQ+7Xs8de72vsR3cmfpxIX64/6KR1p3VX4F6vfHEzxzarh8aDH4G1DFoBBM6npXFpK+Rh+WrcFclAeAxi0PoaR9CpOxxGLSdvxKVSw8oOOanG/soKImRopN38AdcUhhM2GT/PgQeSQrG12njuJJD5Z7vWfAZmFybYLdSA91kB4aoBhoj1Z//KNIVVujqaLLRwCkbyn4vh0739C9V9iSjybeOIeSOvNs7LW1a7EUtNoKAnOGML4U8KBXpfrw73WjAszJG4Qscq+Xr3kZWR4Omm0xT6qE9y6FNSpstV4onMZSqCEJ+3VX9qjvdx5QVrM0WXxmPZxejdfnihcFAjzv5PjlTl6ickDbHe6+Lch52pjOPqk+m3RZ+bh2JSMGtFBuODbMchrpRVlt16NTQ05Ps0IDtWlUmWfP2vX8M4YDynIuOZ4Ck91+591B98Gw9fw+yQogTR8CSg0zaJu+rlBo/mr3A+1NziF+kdubz+whc857AZt6DwIBIF5+5yiaaf3ByQp1Fm3sOkZDAzwsYSQTM/Kv6idkugF63FDobDdUY3huruU+sCaBuRR+HmOowvmZoBjZHNh77SXFtmY/oOUE7ifN7nBHAo83S/xvcS6H4Ci2u/9Id62Wv6Ui+zMNLAzhfkTkVcW2BwrnYvpur0ZDlzs+ZLsmGTWvd1892t78gx1YjEJusGcxphjLkV0UfAKlekfSBVWHE2ahk4AbbRmHyL7GYdtKfdlINwrcdJuf3Cee1nfUojDQn/YmItESOFhtLzrkEv4k2XpMU9oaJQ3VUC+1INh6BE68pkHameGJm4Gvdb24Q0fXWxd9Tp3A9mzFSe4qXDGGDIV4AAGV1jIDfveknH1TwWpUT6HiQxKP3AAHJNkJeRlj/mXBmS4S1j8FK6YmpK7jyyAiRbsMCCLoJcx01fvgpMvKQRxu9IOwymconQjD56g7ksOrcOeoTbius4JnGesAS1DtgdaophYsw1wGIsMS3P7K6doE3K5czznqPQLSRRF/Ylzb5NtSKsL33SgskFNCF4khn5LWaDxI23ZRi2hzqN8uW8UzZEBYy68+VtGLSymQrXGUlr2nO2BbBIT5Vh1RmGAyDXaW0FPrpx3wv2UYdFk9tSl+906bMxCuXQaKDQP/U19UEcVGK4gmksL8lAorxQSAOwpeYX9xrZsh6yoGaL/X5O3tgQC8OM+/GvxnW9XvAtu/JxAigydfSmZfqZfg1XOcHNOpLlN8j64OZ36l5qawDBJ62YaTvxeNmm5gowCdBosgcpHOgNgwA+sknN8XmsR2IYChcafl9bGNMZ/nB5guWuvEziv6QI2bP2DtyKWG/qUjZMaxy+wASkkVGtuwGtywkTYG6MYrZBo18vYcww48G/+f+eITA/qMwbLlJC0S3+/ai2pPvkOhRRVmGTuSupaxhIk0xoXLtixCxSAn4Z3OnUS3wBqVscLI4P3GP7i/6gxYsswsVmkvDXFLhO/OKcur8flegCSKiqmVpIRvCzgbjEA0mXPn+RExXY/2OE1f/BYuWpRQY8gCDpMOYBx9Gn4tL3hihSIR1ixh2PIIT7cr2gUJbfs76EKYG52Jk0UZF/PQkBxGuFCEWXnG6ue/hTIqjTRq1sotVrKrwIGHDrITyuanUzbIYdgdEeV88K1VD82TYB2B61Ft+tB1KqHPmT9+hWoaV+iF3SuvtJqvnoLaA8wxrD56AUMULEgzO9SvBcBAfqz/dzMYzwMt/YLszDbmGe1bcHHfFMcvGql9bf/tp+Hrj4q18aNnftGjmXTfws39emn7/5IBxog9MrmftAA5Oq4awenm8HimWO72dwVlHcHmutVMdrMHw+p2vzpzT+B0iIZ+IEpplwWhClcXlxhxAsF3CHRnnaUEqq3ByQ+cqhe5SvR4SFxh/LZoQwtj8QZQGT1BzY2EMpYnUcZWQEPlwFZw+7UryK9qV8KgruYsvyMoK16KI2sN4SOblrVwhyiL8+IBZ8cpUhsJQSU7TFHAi+L2F0sn0y+FtDODlnuif2Mba8QddPZYYxjTsIgkMe3M6+7kXxUfZvbCUlyq71J1eNczGk6Vqw6rSx2K3vM+DjLxDRGzWepTO2qTT/W8S7u0QXcyFUahcB4vq8xCYTpy8iswtnyz7Kx6lgTEQJ9RqkgEIN6DOUqB0uRdeYuDa7AP7Zy9z+ZlTsmVR5vtV71m3dmdtNeWghbr5PnPJtjXAzcvZjxyV96VEx/B1TA0IEQSI50ywGuIbmAYdQg/l/rxhQLX+6uOLyFsaUt6mtjpAJkLfehnB6MlOHnNOrWLvCBqVBS07jcM+4RzLEed3f3/0Xwp92U+nataNHyEgnnuYR6PXEjRLETz0xrt3UglfK7Bn4aNlXG7cZco4lMziLv5+Mh2JCww3mz69Z9ZMRR/xv5EKJ38IFxKd9dw5CgPIXja/gzAshMbF14/qBIgNkdUQeP8YE7SrICGtiTnAKTyA9cXa3OauDHxZOdTP7yuYBzD1UcHstIO16FxF1bRUAlSkszI83YufTchU8OPnnozDl9bS0y6CnnjGwgj9M61cXcZsljjhLeT/Vq+30ScN2PcT/dOoxUDqDS38+OpCCzLDdnwHQc3ECQVIkaxmdPaZTSdfp2jjGzSdNLM5yPQsgJDl+ZnhclDQi8ltUnkqWJ323IvTZPN8rn0+EshL1cx9PiaLTzUsryn9Zp2Nt/detUAh4N/2I3dlMQqjHFxSihv0uykzflq5clMy2ZBaxoEb0/QMp03IQQus3vnZd/NOmSsmgqXqKFP3ozyDgY7RQS+npabe/hNG+5sa5FtvL8v0uYuag2NewYkcol3TOTadpuncCnDgOGpmLnTQ1PEPUN2cNsrW8LYfIv+hzfb7vod+ipXHzmbgj5Fzc6RcT/5PD7VQ8nTJBNj1urkVUx9uJvTWmqY08OC80rGDLaWXv243VB16gjt4Xtwp5H2UDR0LiKW24Ed/sOO8jl1yEU/XAb3h7ScKnCFy/V3sICrkY1D0K9fSokHIL0s5/7DLShLAPXRbV7fbv4qj6OwHC9d5PlEOX3LRpQ3P7hcSAKlIKPDM83ypz56U5+rJeo0cyUtC7wltL8wqEiNSgZsDWzACc7RFoZqhlD0+sihIBQlkQTXmvUyIOZhkQX2zqME5VRC7ms1sa3CY+odMn3mMBiTvCMKnnCxg5ZPLq4GUDB4jF8Br2K4x4sxfWjGXQatJ25I1JyrIv2Z4bP1jKw5C+B2/s0v4dGUOsaS6IPIQV3ETQ+F2fSl2BPBXHzyYN8VmwWIrKeMX9pyGWuAOVXwkxJsRBaBVzLhZDP8ONGncknL5DpTxHN32GgFWMwsc0GmL0oRDmRT8u2lvjAKUIi0MmXhIHSlFeh3Qh5pP6ap4YUd6b569ZIaHgya2AyD12cPxY0In/PBjzDctTaKJCU+xc6m9RkNLDEE8guvxtJP8sl8N9bLqw0F/qejaBlcHYqw31zYpsutQp07hsP1vhGdl4hJ1wA7OCsAHnKj9879uSHILEmuZ6vI1lT4tvnWCVKZhhYrWHW9oPKPKpbOC6FTjf/OtUvwmiXr2ykvyLzHGQeyS7BenZpL3N/CaF5T7Gkml7JXN5cj0PKaDpZVImD61FuMgFHPqSHvt4Ej4KBdAfdcoO3AjQPLwwtKsgGM+ty4lNZMBEItJSRLunG5ckrM/BeoXWoPZVvEoIzLgFQYPupMwZCXis4W2SCJ2zsefZqCj+aTfSq1FYdUj2UeJALvVTf7vuuikOE1Hit3UIAGUi/sqgMum9vw218y1FlY/9XnOji9nqhGAcMYICc7BiqLZj5N+cKEuSAuiyWbMg81ZD1lHovy/we2eaCcCv4MzEW3O0mVA/t2xdA0cxTVbXmFhn+tARDpvDz5ftLr15OAAmvo2QiAky+feVO4bGibv2nlBmBzqx0lEDfEm4UnEs11pbnwZlJ/0Y73/wBPYfTNZiJKR73TzdCW1BffiJq9bLjQmaKnU0+gN8sfe25IKSUCooQwxePDrFn3a/zUgWxvPoTYVXfobY/GV2qqTkeVDV9D8657fhY0/wiaJ5NfLxhXbE/naxs34N0hd6vxNfdm1TCnozm/NKSCThchoYgMF7Z2tzXFovRfsNVkf86JjrM60r7UIuV3bsmfrMOqzjXjN6HPBG25zCJ3QLueySbj9oFvX/HxWBqh31PBPxduCVAxMqC9HK+YL3oBZqBruoh6LKvdMqoz0PYXUBrwbiioyE8Tj5ImjJmiOOWLbAZvIZ/l9rIPljx3T5glJ2ewlfuIT5GlodQsAf/IEtmYkML5SRQGxxwW+rlZkD8belJNu09Itwx9xDULTnemVDeojdbgcd2gKGM9aO00Jivtbs7ZyOSE8IPh98GfvatD8Ud5uHcZfAfMiPSlIxd4UqeSDzuNfbKDuFepkyC/s3j9fawmhY1b9NqDi0ZS5eP35l7rL2eK5QlWLlyCmxx8AFaFiTuD2pMUxZV5mBSJuJduOaq2ZrWpu28DE8jl/hisBz7bGWH6qLF0ayWNq1Sejtcs8KQrQqJk5P9QHDYHOIolgNsMDmEaWcTelghbfFCDqWrq6YLwDWy+m68ec5nShgq2fduUBpQUuKKKgnttaUX9PRfMmxqJyU7e0RLr1bev+ge1KK0bZyhHKKDE8gQX9Vf7rNHWOxBtZcxwwGusyMpH77qWZxXsQmbgIGhtiO+gSSRCyu/ek+OFsz1HMiQH0IHV7PjJi3dszYfFp8ue9h4+AfKte4MTiehPvxNcm/T1t9vsFZx8rHN5ie77r2jzZOq/Em4Q+H9sNcZakf9HnzCc1fJixppxP8FQABmVnqa6GbJhwaka7WH7Wdoz1WxOjSNV8N9sgW5S3Ppgkut+TTCkjA+AodUOk1KIR+8G8S3WrSZG4nyqfJ6FEjXl6a/LEoRMHZUqfPRWvwqrtXYy9IUsmUGzkqi76ib4NANCe5DnyOxnFRZ9d8FdBVBjra3iNuZhJuWW5Omi/hBigqDsg0mu2AhfJDXdwyMIJ33HHHPfS2JtjegRejX11m41TbNL+Qp7mR0g9CPKTj9PIjuSycGN/YPozXI4zarXuAeLv5CHKtKcJKRbd6R2oLNiEt0T8+QIVJH7zt9ncKMgd49vV2P1AyScZ9Qzbu3m3LBnuu6dw7aE0b6r4kzVkI/GUS88mA53L/rLtntkFlZXGtIoqNP2mD3eVv08AVVPT3wJn81zpbJV9SuqZ6Pd1ge0Zz2RFHeCdV5CLPftH9V5o9+VzFu4R0QeumqDwUhXn3IyYotdJnxr1l3BqWnQVAeDBEOtPyJQx1q5+mODiClXtYeBLTWtsJ42AMBcf/IFIhpfhYO08hsg0Ik+DpQFNOKReK3o3cudkxWX0soPtI5eSFOA6yNylS+IQjrQtYQ/5s4UcixJfokumBUjpH9ofSjUTwPCapGFndfqqG5IHeMMvfg+88SXm7bNyjk6pGKzL+WxDAdqKtQ72WWVbOk3I+ueGuammmB2pvFZvqIcU/lvW3n9+r2lycnQLE4OX9R1jIgW4cDjJ3v8dAa66mVcfC7ptCr5io6mCaA9qI9T9FFWqo1ZAaMxgxAu8aXqmaOYryMND2sTUfoHvxcYK7hEiJhCLYFDx3PBhE97c2a0ub1/ePJcyJOqr7UaTAPTJ+xvZtjb/40sloY1ltRnTkWILmIP2b7S3AdXCR+YiArMUHwdncpjpyDGfzqGOUoAuaamWzAMacQtb34/M32FEgR5lUEf8fRzFrZUhzQj0fR7/6gdzdnVVvcSneLmtqJ930VCCDORY8CVdQWdo/S3PNkX3pQsPVKWIYGAMrFZoq8bQ/OJBDSXP7KSBdL3QN0Zqd393p6VFc7DnlnFiN00SY5Nux7yadeIM0Upl2rVsu8/VAI";const Qz=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Jz=4;function cPe(n){let e=0;function r(){return n[e++]<<8|n[e++]}let i=r(),s=1,o=[0,1];for(let S=1;S<i;S++)o.push(s+=r());let a=r(),l=e;e+=a;let c=0,u=0;function d(){return c==0&&(u=u<<8|n[e++],c=8),u>>--c&1}const h=31,f=2**h,p=f>>>1,m=p>>1,b=f-1;let y=0;for(let S=0;S<h;S++)y=y<<1|d();let v=[],w=0,_=f;for(;;){let S=Math.floor(((y-w+1)*s-1)/_),C=0,E=i;for(;E-C>1;){let I=C+E>>>1;S<o[I]?E=I:C=I}if(C==0)break;v.push(C);let A=w+Math.floor(_*o[C]/s),M=w+Math.floor(_*o[C+1]/s)-1;for(;!((A^M)&p);)y=y<<1&b|d(),A=A<<1&b,M=M<<1&b|1;for(;A&~M&m;)y=y&p|y<<1&b>>>1|d(),A=A<<1^p,M=(M^p)<<1|p|1;w=A,_=1+M-A}let x=i-4;return v.map(S=>{switch(S-x){case 3:return x+65792+(n[l++]<<16|n[l++]<<8|n[l++]);case 2:return x+256+(n[l++]<<8|n[l++]);case 1:return x+n[l++];default:return S-1}})}function uPe(n){let e=0;return()=>n[e++]}function rde(n){return uPe(cPe(dPe(n)))}function dPe(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,o)=>e[s.charCodeAt(0)]=o);let r=n.length,i=new Uint8Array(6*r>>3);for(let s=0,o=0,a=0,l=0;s<r;s++)l=l<<6|e[n.charCodeAt(s)],a+=6,a>=8&&(i[o++]=l>>(a-=8));return i}function hPe(n){return n&1?~n>>1:n>>1}function fPe(n,e){let r=Array(n);for(let i=0,s=0;i<n;i++)r[i]=s+=hPe(e());return r}function iw(n,e=0){let r=[];for(;;){let i=n(),s=n();if(!s)break;e+=i;for(let o=0;o<s;o++)r.push(e+o);e+=s+1}return r}function ide(n){return sw(()=>{let e=iw(n);if(e.length)return e})}function sde(n){let e=[];for(;;){let r=n();if(r==0)break;e.push(pPe(r,n))}for(;;){let r=n()-1;if(r<0)break;e.push(mPe(r,n))}return e.flat()}function sw(n){let e=[];for(;;){let r=n(e.length);if(!r)break;e.push(r)}return e}function ode(n,e,r){let i=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)fPe(n,r).forEach((o,a)=>i[a].push(o));return i}function pPe(n,e){let r=1+e(),i=e(),s=sw(e);return ode(s.length,1+n,e).flatMap((a,l)=>{let[c,...u]=a;return Array(s[l]).fill().map((d,h)=>{let f=h*i;return[c+h*r,u.map(p=>p+f)]})})}function mPe(n,e){let r=1+e();return ode(r,1+n,e).map(s=>[s[0],s.slice(1)])}function gPe(n){let e=[],r=iw(n);return s(i([]),[]),e;function i(o){let a=n(),l=sw(()=>{let c=iw(n).map(u=>r[u]);if(c.length)return i(c)});return{S:a,B:l,Q:o}}function s({S:o,B:a},l,c){if(!(o&4&&c===l[l.length-1])){o&2&&(c=l[l.length-1]),o&1&&e.push(l);for(let u of a)for(let d of u.Q)s(u,[...l,d],c)}}}function bPe(n){return n.toString(16).toUpperCase().padStart(2,"0")}function ade(n){return`{${bPe(n)}}`}function yPe(n){let e=[];for(let r=0,i=n.length;r<i;){let s=n.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function c0(n){let r=n.length;if(r<4096)return String.fromCodePoint(...n);let i=[];for(let s=0;s<r;)i.push(String.fromCodePoint(...n.slice(s,s+=4096)));return i.join("")}function vPe(n,e){let r=n.length,i=r-e.length;for(let s=0;i==0&&s<r;s++)i=n[s]-e[s];return i}var wPe="AEUDWAHSCGYATwDVADIAdgAiADQAFAAtABQAIQAPACcADQASAAsAGQAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAecDNACxCmIB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJEMAJpIBpob5AERSMAKNoAXqaQLRBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobPgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vLIBDAHUGVsQ8wCzfQIbGVcCHBZHAZ8CBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rpF27H7fsd/twPt4l+UW1yQYKBt2Cgy7qJpGiLcdE2P1cQSImUbqJ6ICH27H4knQMIRMrFkHu3sx6tC35Y+eLIh4e4CMKJ4DfyV+8mfta499RCAJ0xfeZR8PsoYOApva9pjGn4PhvyZS7/h5JLuhaucfjuU+Z584wwqNO4hWYmaBCcjgQPale1bjoHzMUbut/zTgxHxBnAyrdKpF4IRMASLBtD/jviyLeCgj8twWjAd3HchN/uqaeRYeHJgl7JEY9/cTrvtfybx/r3Y/NtxJ9dp+MTVmiS9bwBH73s8Di56/Ma+mTPMHq4T1yEG1fWcqr0u+hrGnJEvU1JJAm/maQSrKrazIyvSkDFkj8UUlfBq8baniTGPng6YZRL661rDNw4w/1g2figG0IhXnL7wosd/sVNo5dYSmMBTP5c7rYLjRdCwg8quwljOMPf63D8ICAL0r71XRiyFHdgwHbwfgnPOf4Lzjf2v+j+IiDHG2isp5yUnzSDyDRb4i/Vs0qHSHq8PiEQ/JnBP7PxnjN0j6gT4AVAeRx/1o9VnEUlUwvFrzJqHk9jxAw4sYxCnrxaeBdCFFKbnE7z+x54F5W7ZZsU6kx8Qocul6FoAHHy01FGL/nne61mn4+uYXfQ1Uccn+HMLKE+cZzT8BB1E3FRskOgJrRsq25rauLm8+uamXpkS/bTy6y1wDbCrW4eD532kTWrtNUmVVZOIn/C+/JR9KVR5iG9TY8iaT67ubm/whL1xbKZoqtY+a6fNxMJrg211bGYJDUkYMNWA0BMB++9zOm6Eik4roqs9CCEFW0lyAK0PbvlzvoxrZuY/OEhNW/l/63U15Od/RSvmDvXpGLiVmeGi5PDSH2bYz5o2g6wFDQ2FbZgYgTF8rPlvA1ifjZD3NLtFdXdpSIJvgKR7GpjJWG7GZGawPomIH8B5tUmtHH9LpM+/KQKunEPa1GiQkCXv4Cnm9DLORo2joicHdPDZ64obQrPZ5bgqckkj0G6/NEiPYBY4bCkL7W8G5YzsUb6GakFjykSPkT7JGeLeB6uJOGMm+x7N381BCDfbJFx0dtLgV9Q477BfL1fvitX5anV/oYfxeYl+eF5x5bB8+Ep/L2nsmd56aKF4aAD4GbJWsdKyBW22xEmAD3XdbtsMyAFoR5mOla0gEd9U/YVB7zvHGpHbQonay9Sv0bQ8iZ8piaXVrKc5AG1AmqqgaEvzHSP2Wux7aZTWh6quVDVU01JtMIVRdCFwlSbbqqhoFlyzsotQzRexFvZ/MqUSFu3OhRIuNBbufvBpdVgb8XdGJ48/lJPCZ7dsOujTTbKPSEvGXkOnG2Xdi8/nM3EMRqITd5QeU7iOjKqC7URJY6TnLsHij22xAHKnVRD5MDtBYnoGFqZGMDmXCW6Oj+BAWw14hESY/xLF6bLku06AHkiXTHPCFZ0f9YSqqo27eAhhS67OrA2Het4M9JM3jm/yRX6bYxnfmzYl5qQdHxN08FsNuWDrWd4vMUY2QD3hr8vS73SCTkFoXZR3xNzOQt8d/6HfjBmXqvrE6EGkLzK6YK2U2/ksU/iUH+LvVIsJI+ri2AL/klo+ShdDyfs5A83i2prkMs51IKR7ZcqjZJi5X3+bd8GlyWvtddxKEoEqSgEO7A8jIgf2nH0h8FjM7oB6yte3X5mpL0i/E4Rx0CotKnILJj/vJqo4VkPQ93jRtRVfaitQPqldl5xRYPq8387Z0DcnZvOeION0Ht1+P27kFLGQIcLBX4FG3sffccNHh5cPfzp9INoRtqVtdViJfg8RjnXiIz/MNqEN6zvzX3hMzyWC7oSoXIT14ubc0abPX8Rp9GVa5NI/8iv+6ela1oTncbdimRKnrbRffDR/X4nH+bgqAuHWl7hOaeXPWVzIeRl7ga+JzD4Sx3mlj/q6Ra/E2HhDf21eEzTLNGfCZsY+/yxZzQzIAuijG65ii4O/waAJCrEJaWd/DRAKMQ5678Dw5AT7RCKzdadIwd8LsD+DgPBASmWsUlf8R0k1w/2k4lO2Wpb4zMI6EJVJs0xk/wn8/fRUPqrDKhbjHR41SqgFMx5RGMPuduFwlu5lK89tW11sTqiX/5EfGs5nO+y9FKvgXKPOEmgE05EKNL6Sjb3xS40H3BVPhm0ESOZgAjZoymc8be0inDVo4JdJVf+NKd3tN/CaB7GShhH27qf95NoFZVX/6ZkR2lX+CgWrQ2INgkh+bbMz68+uJ3Clsh8HSMPEQtAt+BBE6fXDab7KIlsKxU1lIXW/KWVstpdPanJ0pdXpQinDyUQjtY7ZVcfiecRxRDMAUhHFU2cEaciQ+htiPMPx1kdvtWG9T44w3r037ljHBFJdYR0r55qvMRixtAEFJAqA4T1ES87FAx7UozXasytg8MftZYt0rjYgLe6EJ5aWvy2qscBSBQ7yehoJIA3wIIZ9ukfkyBb6qnue5ko8W50rpV4kXqWjI5nbGRXrNW0tBZHXlY48nSgcUXBHWT4GcgLZJoLlKJnV96kCYpq9eWHh7xJzkCAyrQuQ5AJ0qq/uZ3toJglNterev+Qm0KXxPg/+YbFRJdfhbp1wOnVOEYdVHTya6CtO0afhEaBhx3oHwCb5Kq6RwHDzFMl2vfjL8GwzcCoTj7wZe+UFnYDV2yKpPU9dba29gYBdNqJg/KXozO+CJTlKmlKhnqTf5doeS35DZFV+cYJQVjd+oVY/Gtc/6XPzUxb1gMqf6cEjNNoRC8AObrp+fx0cVtGu4ffC2TgXRC8zPl8moUHCB5HZ25d87mlsiiK0aNwBtcEQjRNBT/QrXbw/8aVXdKMHn9EqYEKEyxSGTpYQOaes1G1Qq8pDgqkZtlO2HRyCXpmeM7TSrRPkAh004BfisVpF6zP44n2Jvxz/gOVocNCyy9V6lkod28QM4pbaMvVJigD/w3BrsjSJrXlqc4ulBYOCceiBN4b/gHajYyupbhEt63a619Ay4wsL6a6w6B+A7TnoyE7BliWHJfzVxxIKM/W3M/J8Bx99Op863Q8eNuIMGRx++VbYfjm+VGYBA3Ap/KEu/wxBNBpJJncwHPG45V8Gh98ZIrGCc20MwijGowZbcS7d1nEgcOW5cddZpHL2XPAIRbColiheZzXTvBxZOY3iMSDSKDrICyJ/iQs1vdplVdH/JrLJsQ2jtTnfCrITIghq3KFX3qAgLWAIp8IffNSdTYptnbGfc8s+qcr3zyzyHp1aJg+jxTF4kD1ry5Wauv5V3xnOGwTFecNzXSLHBW20/pCQjk4uorD0plIhMSTc79+/r4RKPClRYTBYex1Ob5crtfvRQBBv6re/6FhtCqtduag67glqRA77/3ulblh9YRtMdDxkCyJDeNnAuCLPQFmdRRWJtH20Z8DstfJf+5oj5SSB64d0iF5/Ya4KfTWxfivj9Ap2/zbYaTo/1gO3tM6RYsCZharMBFr7Fm61mLSrQnEI4OF1gbVS4k/JE9UotOrnLJZuswoWodCSV8zbybkJSVIP7n8UaE9xCR39rJZmf27HOAPVOGc9pdkQUcRrI0qyVF9Z3j1RHDbxIfwbWzmPVjwIdPJvtmBYwEQIUsIW1S939hcVikK00ozPRI02cqhzVUNzpOxVdrwRPvlh1aIOf0xFEqD3YkGnCnFah/cFN3J2gB7N+bZSGawwkKFu1tpQMrp1W+27YNkyT0TpcFpTqgOqqLabrgcCUPxh97mREOGy4xItzQ9xSl6rq+8BZsHcrQFReS+QeMxJ3P6CnL9EP/eOLDjumLhvrcQrpPiknsofbzBv9gTP0lU+TIVwE6E7CcKfT36q+ZiEOHJ9ayf0dyUJLezAb2M8aNHwd0+OJmsVgTzRWA";const ow=44032,Tk=4352,Pk=4449,Ik=4519,lde=19,cde=21,u0=28,Mk=cde*u0,xPe=lde*Mk,_Pe=ow+xPe,SPe=Tk+lde,kPe=Pk+cde,CPe=Ik+u0;function Sy(n){return n>>24&255}function ude(n){return n&16777215}let OR,Zz,DR,gS;function EPe(){let n=rde(wPe);OR=new Map(ide(n).flatMap((e,r)=>e.map(i=>[i,r+1<<24]))),Zz=new Set(iw(n)),DR=new Map,gS=new Map;for(let[e,r]of sde(n)){if(!Zz.has(e)&&r.length==2){let[i,s]=r,o=gS.get(i);o||(o=new Map,gS.set(i,o)),o.set(s,e)}DR.set(e,r.reverse())}}function dde(n){return n>=ow&&n<_Pe}function APe(n,e){if(n>=Tk&&n<SPe&&e>=Pk&&e<kPe)return ow+(n-Tk)*Mk+(e-Pk)*u0;if(dde(n)&&e>Ik&&e<CPe&&(n-ow)%u0==0)return n+(e-Ik);{let r=gS.get(n);return r&&(r=r.get(e),r)?r:-1}}function hde(n){OR||EPe();let e=[],r=[],i=!1;function s(o){let a=OR.get(o);a&&(i=!0,o|=a),e.push(o)}for(let o of n)for(;;){if(o<128)e.push(o);else if(dde(o)){let a=o-ow,l=a/Mk|0,c=a%Mk/u0|0,u=a%u0;s(Tk+l),s(Pk+c),u>0&&s(Ik+u)}else{let a=DR.get(o);a?r.push(...a):s(o)}if(!r.length)break;o=r.pop()}if(i&&e.length>1){let o=Sy(e[0]);for(let a=1;a<e.length;a++){let l=Sy(e[a]);if(l==0||o<=l){o=l;continue}let c=a-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(o=Sy(e[--c]),o<=l))break}o=Sy(e[a])}}return e}function TPe(n){let e=[],r=[],i=-1,s=0;for(let o of n){let a=Sy(o),l=ude(o);if(i==-1)a==0?i=l:e.push(l);else if(s>0&&s>=a)a==0?(e.push(i,...r),r.length=0,i=l):r.push(l),s=a;else{let c=APe(i,l);c>=0?i=c:s==0&&a==0?(e.push(i),i=l):(r.push(l),s=a)}}return i>=0&&e.push(i,...r),e}function fde(n){return hde(n).map(ude)}function PPe(n){return TPe(hde(n))}const eU=45,pde=".",mde=65039,gde=1,Ok=n=>Array.from(n);function aw(n,e){return n.P.has(e)||n.Q.has(e)}class IPe extends Array{get is_emoji(){return!0}}let RR,bde,nf,NR,yde,ng,_5,ym,Lh,tU,jR;function S7(){if(RR)return;let n=rde(lPe);const e=()=>iw(n),r=()=>new Set(e()),i=(d,h)=>h.forEach(f=>d.add(f));RR=new Map(sde(n)),bde=r(),nf=e(),NR=new Set(e().map(d=>nf[d])),nf=new Set(nf),yde=r(),r();let s=ide(n),o=n();const a=()=>{let d=new Set;return e().forEach(h=>i(d,s[h])),i(d,e()),d};ng=sw(d=>{let h=sw(n).map(f=>f+96);if(h.length){let f=d>=o;h[0]-=32,h=c0(h),f&&(h=`Restricted[${h}]`);let p=a(),m=a(),b=!n();return{N:h,P:p,Q:m,M:b,R:f}}}),_5=r(),ym=new Map;let l=e().concat(Ok(_5)).sort((d,h)=>d-h);l.forEach((d,h)=>{let f=n(),p=l[h]=f?l[h-f]:{V:[],M:new Map};p.V.push(d),_5.has(d)||ym.set(d,p)});for(let{V:d,M:h}of new Set(ym.values())){let f=[];for(let m of d){let b=ng.filter(v=>aw(v,m)),y=f.find(({G:v})=>b.some(w=>v.has(w)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(m),i(y.G,b)}let p=f.flatMap(m=>Ok(m.G));for(let{G:m,V:b}of f){let y=new Set(p.filter(v=>!m.has(v)));for(let v of b)h.set(v,y)}}Lh=new Set;let c=new Set;const u=d=>Lh.has(d)?c.add(d):Lh.add(d);for(let d of ng){for(let h of d.P)u(h);for(let h of d.Q)u(h)}for(let d of Lh)!ym.has(d)&&!c.has(d)&&ym.set(d,gde);i(Lh,fde(Lh)),tU=gPe(n).map(d=>IPe.from(d)).sort(vPe),jR=new Map;for(let d of tU){let h=[jR];for(let f of d){let p=h.map(m=>{let b=m.get(f);return b||(b=new Map,m.set(f,b)),b});f===mde?h.push(...p):h=p}for(let f of h)f.V=d}}function k7(n){return(vde(n)?"":`${C7(NC([n]))} `)+ade(n)}function C7(n){return`"${n}"`}function MPe(n){if(n.length>=4&&n[2]==eU&&n[3]==eU)throw new Error(`invalid label extension: "${c0(n.slice(0,4))}"`)}function OPe(n){for(let r=n.lastIndexOf(95);r>0;)if(n[--r]!==95)throw new Error("underscore allowed only at start")}function DPe(n){let e=n[0],r=Qz.get(e);if(r)throw Xy(`leading ${r}`);let i=n.length,s=-1;for(let o=1;o<i;o++){e=n[o];let a=Qz.get(e);if(a){if(s==o)throw Xy(`${r} + ${a}`);s=o+1,r=a}}if(s==i)throw Xy(`trailing ${r}`)}function NC(n,e=1/0,r=ade){let i=[];RPe(n[0])&&i.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,o=n.length;for(let a=0;a<o;a++){let l=n[a];vde(l)&&(i.push(c0(n.slice(s,a))),i.push(r(l)),s=a+1)}return i.push(c0(n.slice(s,o))),i.join("")}function RPe(n,e){return S7(),nf.has(n)}function vde(n){return S7(),yde.has(n)}function NPe(n){return FPe(jPe(n,PPe,UPe))}function jPe(n,e,r){if(!n)return[];S7();let i=0;return n.split(pde).map(s=>{let o=yPe(s),a={input:o,offset:i};i+=o.length+1;try{let l=a.tokens=zPe(o,e,r),c=l.length,u;if(!c)throw new Error("empty label");let d=a.output=l.flat();if(OPe(d),!(a.emoji=c>1||l[0].is_emoji)&&d.every(f=>f<128))MPe(d),u="ASCII";else{let f=l.flatMap(p=>p.is_emoji?[]:p);if(!f.length)u="Emoji";else{if(nf.has(d[0]))throw Xy("leading combining mark");for(let b=1;b<c;b++){let y=l[b];if(!y.is_emoji&&nf.has(y[0]))throw Xy(`emoji + combining mark: "${c0(l[b-1])} + ${NC([y[0]])}"`)}DPe(d);let p=Ok(new Set(f)),[m]=LPe(p);$Pe(m,f),BPe(m,p),u=m.N}}a.type=u}catch(l){a.error=l}return a})}function BPe(n,e){let r,i=[];for(let s of e){let o=ym.get(s);if(o===gde)return;if(o){let a=o.M.get(s);if(r=r?r.filter(l=>a.has(l)):Ok(a),!r.length)return}else i.push(s)}if(r){for(let s of r)if(i.every(o=>aw(s,o)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function LPe(n){let e=ng;for(let r of n){let i=e.filter(s=>aw(s,r));if(!i.length)throw ng.some(s=>aw(s,r))?xde(e[0],r):wde(r);if(e=i,i.length==1)break}return e}function FPe(n){return n.map(({input:e,error:r,output:i})=>{if(r){let s=r.message;throw new Error(n.length==1?s:`Invalid label ${C7(NC(e,63))}: ${s}`)}return c0(i)}).join(pde)}function wde(n){return new Error(`disallowed character: ${k7(n)}`)}function xde(n,e){let r=k7(e),i=ng.find(s=>s.P.has(e));return i&&(r=`${i.N} ${r}`),new Error(`illegal mixture: ${n.N} + ${r}`)}function Xy(n){return new Error(`illegal placement: ${n}`)}function $Pe(n,e){for(let r of e)if(!aw(n,r))throw xde(n,r);if(n.M){let r=fde(e);for(let i=1,s=r.length;i<s;i++)if(NR.has(r[i])){let o=i+1;for(let a;o<s&&NR.has(a=r[o]);o++)for(let l=i;l<o;l++)if(r[l]==a)throw new Error(`duplicate non-spacing marks: ${k7(a)}`);if(o-i>Jz)throw new Error(`excessive non-spacing marks: ${C7(NC(r.slice(i-1,o)))} (${o-i}/${Jz})`);i=o}}}function zPe(n,e,r){let i=[],s=[];for(n=n.slice().reverse();n.length;){let o=WPe(n);if(o)s.length&&(i.push(e(s)),s=[]),i.push(r(o));else{let a=n.pop();if(Lh.has(a))s.push(a);else{let l=RR.get(a);if(l)s.push(...l);else if(!bde.has(a))throw wde(a)}}}return s.length&&i.push(e(s)),i}function UPe(n){return n.filter(e=>e!=mde)}function WPe(n,e){let r=jR,i,s=n.length;for(;s&&(r=r.get(n[--s]),!!r);){let{V:o}=r;o&&(i=o,n.length=s)}return i}function qPe(n){return NPe(n)}function HPe(n){return qPe(n)}const rg=Nce({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),S5=Nce({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});var Tl=function(){return Tl=Object.assign||function(e){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Tl.apply(this,arguments)};function _de(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(r[i[s]]=n[i[s]]);return r}function VPe(n,e,r){if(r||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}var bS="right-scroll-bar-position",yS="width-before-scroll-bar",GPe="with-scroll-bars-hidden",YPe="--removed-body-scroll-bar-size";function k5(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function KPe(n,e){var r=T.useState(function(){return{value:n,callback:e,facade:{get current(){return r.value},set current(i){var s=r.value;s!==i&&(r.value=i,r.callback(i,s))}}}})[0];return r.callback=e,r.facade}var XPe=typeof window<"u"?T.useLayoutEffect:T.useEffect,nU=new WeakMap;function QPe(n,e){var r=KPe(null,function(i){return n.forEach(function(s){return k5(s,i)})});return XPe(function(){var i=nU.get(r);if(i){var s=new Set(i),o=new Set(n),a=r.current;s.forEach(function(l){o.has(l)||k5(l,null)}),o.forEach(function(l){s.has(l)||k5(l,a)})}nU.set(r,n)},[n]),r}function JPe(n){return n}function ZPe(n,e){e===void 0&&(e=JPe);var r=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:n},useMedium:function(o){var a=e(o,i);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(i=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){i=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function eIe(n){n===void 0&&(n={});var e=ZPe(null);return e.options=Tl({async:!0,ssr:!1},n),e}var Sde=function(n){var e=n.sideCar,r=_de(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,Tl({},r))};Sde.isSideCarExport=!0;function tIe(n,e){return n.useMedium(e),Sde}var kde=eIe(),C5=function(){},jC=T.forwardRef(function(n,e){var r=T.useRef(null),i=T.useState({onScrollCapture:C5,onWheelCapture:C5,onTouchMoveCapture:C5}),s=i[0],o=i[1],a=n.forwardProps,l=n.children,c=n.className,u=n.removeScrollBar,d=n.enabled,h=n.shards,f=n.sideCar,p=n.noIsolation,m=n.inert,b=n.allowPinchZoom,y=n.as,v=y===void 0?"div":y,w=n.gapMode,_=_de(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,S=QPe([r,e]),C=Tl(Tl({},_),s);return T.createElement(T.Fragment,null,d&&T.createElement(x,{sideCar:kde,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:w}),a?T.cloneElement(T.Children.only(l),Tl(Tl({},C),{ref:S})):T.createElement(v,Tl({},C,{className:c,ref:S}),l))});jC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jC.classNames={fullWidth:yS,zeroRight:bS};var nIe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rIe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=nIe();return e&&n.setAttribute("nonce",e),n}function iIe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function sIe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var oIe=function(){var n=0,e=null;return{add:function(r){n==0&&(e=rIe())&&(iIe(e,r),sIe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aIe=function(){var n=oIe();return function(e,r){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&r])}},Cde=function(){var n=aIe(),e=function(r){var i=r.styles,s=r.dynamic;return n(i,s),null};return e},lIe={left:0,top:0,right:0,gap:0},E5=function(n){return parseInt(n||"",10)||0},cIe=function(n){var e=window.getComputedStyle(document.body),r=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[E5(r),E5(i),E5(s)]},uIe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return lIe;var e=cIe(n),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-r+e[2]-e[0])}},dIe=Cde(),ig="data-scroll-locked",hIe=function(n,e,r,i){var s=n.left,o=n.top,a=n.right,l=n.gap;return r===void 0&&(r="margin"),`
  .`.concat(GPe,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(ig,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bS,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(yS,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(bS," .").concat(bS,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(yS," .").concat(yS,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ig,`] {
    `).concat(YPe,": ").concat(l,`px;
  }
`)},rU=function(){var n=parseInt(document.body.getAttribute(ig)||"0",10);return isFinite(n)?n:0},fIe=function(){T.useEffect(function(){return document.body.setAttribute(ig,(rU()+1).toString()),function(){var n=rU()-1;n<=0?document.body.removeAttribute(ig):document.body.setAttribute(ig,n.toString())}},[])},pIe=function(n){var e=n.noRelative,r=n.noImportant,i=n.gapMode,s=i===void 0?"margin":i;fIe();var o=T.useMemo(function(){return uIe(s)},[s]);return T.createElement(dIe,{styles:hIe(o,!e,s,r?"":"!important")})},BR=!1;if(typeof window<"u")try{var K1=Object.defineProperty({},"passive",{get:function(){return BR=!0,!0}});window.addEventListener("test",K1,K1),window.removeEventListener("test",K1,K1)}catch{BR=!1}var Jp=BR?{passive:!1}:!1,mIe=function(n){return n.tagName==="TEXTAREA"},Ede=function(n,e){if(!(n instanceof Element))return!1;var r=window.getComputedStyle(n);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!mIe(n)&&r[e]==="visible")},gIe=function(n){return Ede(n,"overflowY")},bIe=function(n){return Ede(n,"overflowX")},iU=function(n,e){var r=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=Ade(n,i);if(s){var o=Tde(n,i),a=o[1],l=o[2];if(a>l)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},yIe=function(n){var e=n.scrollTop,r=n.scrollHeight,i=n.clientHeight;return[e,r,i]},vIe=function(n){var e=n.scrollLeft,r=n.scrollWidth,i=n.clientWidth;return[e,r,i]},Ade=function(n,e){return n==="v"?gIe(e):bIe(e)},Tde=function(n,e){return n==="v"?yIe(e):vIe(e)},wIe=function(n,e){return n==="h"&&e==="rtl"?-1:1},xIe=function(n,e,r,i,s){var o=wIe(n,window.getComputedStyle(e).direction),a=o*i,l=r.target,c=e.contains(l),u=!1,d=a>0,h=0,f=0;do{var p=Tde(n,l),m=p[0],b=p[1],y=p[2],v=b-y-o*m;(m||v)&&Ade(n,l)&&(h+=v,f+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},X1=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},sU=function(n){return[n.deltaX,n.deltaY]},oU=function(n){return n&&"current"in n?n.current:n},_Ie=function(n,e){return n[0]===e[0]&&n[1]===e[1]},SIe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},kIe=0,Zp=[];function CIe(n){var e=T.useRef([]),r=T.useRef([0,0]),i=T.useRef(),s=T.useState(kIe++)[0],o=T.useState(Cde)[0],a=T.useRef(n);T.useEffect(function(){a.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var b=VPe([n.lockRef.current],(n.shards||[]).map(oU),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var l=T.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var v=X1(b),w=r.current,_="deltaX"in b?b.deltaX:w[0]-v[0],x="deltaY"in b?b.deltaY:w[1]-v[1],S,C=b.target,E=Math.abs(_)>Math.abs(x)?"h":"v";if("touches"in b&&E==="h"&&C.type==="range")return!1;var A=iU(E,C);if(!A)return!0;if(A?S=E:(S=E==="v"?"h":"v",A=iU(E,C)),!A)return!1;if(!i.current&&"changedTouches"in b&&(_||x)&&(i.current=S),!S)return!0;var M=i.current||S;return xIe(M,y,b,M==="h"?_:x)},[]),c=T.useCallback(function(b){var y=b;if(!(!Zp.length||Zp[Zp.length-1]!==o)){var v="deltaY"in y?sU(y):X1(y),w=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&_Ie(S.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var _=(a.current.shards||[]).map(oU).filter(Boolean).filter(function(S){return S.contains(y.target)}),x=_.length>0?l(y,_[0]):!a.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),u=T.useCallback(function(b,y,v,w){var _={name:b,delta:y,target:v,should:w,shadowParent:EIe(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(x){return x!==_})},1)},[]),d=T.useCallback(function(b){r.current=X1(b),i.current=void 0},[]),h=T.useCallback(function(b){u(b.type,sU(b),b.target,l(b,n.lockRef.current))},[]),f=T.useCallback(function(b){u(b.type,X1(b),b.target,l(b,n.lockRef.current))},[]);T.useEffect(function(){return Zp.push(o),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Jp),document.addEventListener("touchmove",c,Jp),document.addEventListener("touchstart",d,Jp),function(){Zp=Zp.filter(function(b){return b!==o}),document.removeEventListener("wheel",c,Jp),document.removeEventListener("touchmove",c,Jp),document.removeEventListener("touchstart",d,Jp)}},[]);var p=n.removeScrollBar,m=n.inert;return T.createElement(T.Fragment,null,m?T.createElement(o,{styles:SIe(s)}):null,p?T.createElement(pIe,{gapMode:n.gapMode}):null)}function EIe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const AIe=tIe(kde,CIe);var Pde=T.forwardRef(function(n,e){return T.createElement(jC,Tl({},n,{ref:e,sideCar:AIe}))});Pde.classNames=jC.classNames;function aU(n){var e=n.match(/^var\((.*)\)$/);return e?e[1]:n}function TIe(n,e){var r=n;for(var i of e){if(!(i in r))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));r=r[i]}return r}function Ide(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i={};for(var s in n){var o=n[s],a=[...r,s];typeof o=="string"||typeof o=="number"||o==null?i[s]=e(o,a):typeof o=="object"&&!Array.isArray(o)?i[s]=Ide(o,e,a):console.warn('Skipping invalid key "'.concat(a.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"'))}return i}function lU(n,e){var r={};if(typeof e=="object"){var i=n;Ide(e,(l,c)=>{if(l!=null){var u=TIe(i,c);r[aU(u)]=String(l)}})}else{var s=n;for(var o in s){var a=s[o];a!=null&&(r[aU(o)]=a)}}return Object.defineProperty(r,"toString",{value:function(){return Object.keys(this).map(c=>"".concat(c,":").concat(this[c])).join(";")},writable:!1}),r}var LR={exports:{}};(function(n,e){(function(r,i){var s="1.0.41",o="",a="?",l="function",c="undefined",u="object",d="string",h="major",f="model",p="name",m="type",b="vendor",y="version",v="architecture",w="console",_="mobile",x="tablet",S="smarttv",C="wearable",E="embedded",A=500,M="Amazon",I="Apple",O="ASUS",F="BlackBerry",$="Browser",z="Chrome",R="Edge",j="Firefox",N="Google",D="Honor",H="Huawei",U="Lenovo",X="LG",Y="Microsoft",ee="Motorola",G="Nvidia",Z="OnePlus",pe="Opera",re="OPPO",le="Samsung",ce="Sharp",Pe="Sony",Ee="Xiaomi",V="Zebra",Ae="Facebook",Qe="Chromium OS",st="Mac OS",ze=" Browser",wt=function(K,he){var se={};for(var ke in K)he[ke]&&he[ke].length%2===0?se[ke]=he[ke].concat(K[ke]):se[ke]=K[ke];return se},qe=function(K){for(var he={},se=0;se<K.length;se++)he[K[se].toUpperCase()]=K[se];return he},Je=function(K,he){return typeof K===d?yt(he).indexOf(yt(K))!==-1:!1},yt=function(K){return K.toLowerCase()},ct=function(K){return typeof K===d?K.replace(/[^\d\.]/g,o).split(".")[0]:i},Ze=function(K,he){if(typeof K===d)return K=K.replace(/^\s\s*/,o),typeof he===c?K:K.substring(0,A)},Ve=function(K,he){for(var se=0,ke,Re,de,_e,Se,ae;se<he.length&&!Se;){var ie=he[se],ue=he[se+1];for(ke=Re=0;ke<ie.length&&!Se&&ie[ke];)if(Se=ie[ke++].exec(K),Se)for(de=0;de<ue.length;de++)ae=Se[++Re],_e=ue[de],typeof _e===u&&_e.length>0?_e.length===2?typeof _e[1]==l?this[_e[0]]=_e[1].call(this,ae):this[_e[0]]=_e[1]:_e.length===3?typeof _e[1]===l&&!(_e[1].exec&&_e[1].test)?this[_e[0]]=ae?_e[1].call(this,ae,_e[2]):i:this[_e[0]]=ae?ae.replace(_e[1],_e[2]):i:_e.length===4&&(this[_e[0]]=ae?_e[3].call(this,ae.replace(_e[1],_e[2])):i):this[_e]=ae||i;se+=2}},rt=function(K,he){for(var se in he)if(typeof he[se]===u&&he[se].length>0){for(var ke=0;ke<he[se].length;ke++)if(Je(he[se][ke],K))return se===a?i:se}else if(Je(he[se],K))return se===a?i:se;return he.hasOwnProperty("*")?he["*"]:K},q={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ve={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,pe+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[p,pe+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[p,pe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+$]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[p,"Smart Lenovo "+$]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+$],y],[/\bfocus\/([\w\.]+)/i],[y,[p,j+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,pe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,pe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI"+ze]],[/fxios\/([\w\.-]+)/i],[y,[p,j]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+ze],y],[/samsungbrowser\/([\w\.]+)/i],[y,[p,le+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Ae],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,z+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,z+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+$]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,rt,q]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,j+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[v,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[v,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[v,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[v,/ower/,o,yt]],[/ sun4\w[;\)]/i],[[v,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[v,yt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[b,le],[m,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[b,le],[m,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[b,I],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[b,I],[m,x]],[/(macintosh);/i],[f,[b,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[b,ce],[m,_]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[b,D],[m,x]],[/honor([-\w ]+)[;\)]/i],[f,[b,D],[m,_]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[b,H],[m,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[b,H],[m,_]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[b,Ee],[m,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[b,Ee],[m,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[b,re],[m,_]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[b,rt,{OnePlus:["304","403","203"],"*":re}],[m,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[b,"Vivo"],[m,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[b,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[b,ee],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[b,ee],[m,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[b,X],[m,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[b,X],[m,_]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[b,U],[m,x]],[/(nokia) (t[12][01])/i],[b,f,[m,x]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[m,_],[b,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[b,N],[m,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[b,N],[m,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[b,Pe],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[b,Pe],[m,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[b,Z],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[b,M],[m,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[b,M],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,b,[m,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[b,F],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[b,O],[m,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[b,O],[m,_]],[/(nexus 9)/i],[f,[b,"HTC"],[m,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[f,/_/g," "],[m,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[b,"TCL"],[m,x]],[/(itel) ((\w+))/i],[[b,yt],f,[m,rt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[b,"Acer"],[m,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[b,"Meizu"],[m,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[b,"Ulefone"],[m,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[b,"Energizer"],[m,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[b,"Cat"],[m,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[b,"Smartfren"],[m,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[b,"Nothing"],[m,_]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[b,"Archos"],[m,x]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[b,"Archos"],[m,_]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[b,f,[m,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[b,f,[m,_]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,f,[m,x]],[/(surface duo)/i],[f,[b,Y],[m,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[b,"Fairphone"],[m,_]],[/(u304aa)/i],[f,[b,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[f,[b,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[f,[b,"RCA"],[m,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[b,"Dell"],[m,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[b,"Verizon"],[m,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[b,"Barnes & Noble"],[m,x]],[/\b(tm\d{3}\w+) b/i],[f,[b,"NuVision"],[m,x]],[/\b(k88) b/i],[f,[b,"ZTE"],[m,x]],[/\b(nx\d{3}j) b/i],[f,[b,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[f,[b,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[f,[b,"Swiss"],[m,x]],[/\b((zeki)?tb.*\b) b/i],[f,[b,"Zeki"],[m,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],f,[m,x]],[/\b(ns-?\w{0,9}) b/i],[f,[b,"Insignia"],[m,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[b,"NextBook"],[m,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],f,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],f,[m,_]],[/\b(ph-1) /i],[f,[b,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[b,"Envizen"],[m,x]],[/\b(trio[-\w\. ]+) b/i],[f,[b,"MachSpeed"],[m,x]],[/\btu_(1491) b/i],[f,[b,"Rotor"],[m,x]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[b,G],[m,x]],[/(sprint) (\w+)/i],[b,f,[m,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[b,Y],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[b,V],[m,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[b,V],[m,_]],[/smart-tv.+(samsung)/i],[b,[m,S]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[b,le],[m,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,X],[m,S]],[/(apple) ?tv/i],[b,[f,I+" TV"],[m,S]],[/crkey/i],[[f,z+"cast"],[b,N],[m,S]],[/droid.+aft(\w+)( bui|\))/i],[f,[b,M],[m,S]],[/(shield \w+ tv)/i],[f,[b,G],[m,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[b,ce],[m,S]],[/(bravia[\w ]+)( bui|\))/i],[f,[b,Pe],[m,S]],[/(mi(tv|box)-?\w+) bui/i],[f,[b,Ee],[m,S]],[/Hbbtv.*(technisat) (.*);/i],[b,f,[m,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,Ze],[f,Ze],[m,S]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[m,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,f,[m,w]],[/droid.+; (shield)( bui|\))/i],[f,[b,G],[m,w]],[/(playstation \w+)/i],[f,[b,Pe],[m,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[b,Y],[m,w]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[b,le],[m,C]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[b,f,[m,C]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[b,re],[m,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[b,I],[m,C]],[/(opwwe\d{3})/i],[f,[b,Z],[m,C]],[/(moto 360)/i],[f,[b,ee],[m,C]],[/(smartwatch 3)/i],[f,[b,Pe],[m,C]],[/(g watch r)/i],[f,[b,X],[m,C]],[/droid.+; (wt63?0{2,3})\)/i],[f,[b,V],[m,C]],[/droid.+; (glass) \d/i],[f,[b,N],[m,C]],[/(pico) (4|neo3(?: link|pro)?)/i],[b,f,[m,C]],[/; (quest( \d| pro)?)/i],[f,[b,Ae],[m,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[m,E]],[/(aeobc)\b/i],[f,[b,M],[m,E]],[/(homepod).+mac os/i],[f,[b,I],[m,E]],[/windows iot/i],[[m,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,_]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,R+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[y,rt,te]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,rt,te],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,st],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,y],[/\(bb(10);/i],[y,[p,F]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,j+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,z+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Qe],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},me=function(K,he){if(typeof K===u&&(he=K,K=i),!(this instanceof me))return new me(K,he).getResult();var se=typeof r!==c&&r.navigator?r.navigator:i,ke=K||(se&&se.userAgent?se.userAgent:o),Re=se&&se.userAgentData?se.userAgentData:i,de=he?wt(ve,he):ve,_e=se&&se.userAgent==ke;return this.getBrowser=function(){var Se={};return Se[p]=i,Se[y]=i,Ve.call(Se,ke,de.browser),Se[h]=ct(Se[y]),_e&&se&&se.brave&&typeof se.brave.isBrave==l&&(Se[p]="Brave"),Se},this.getCPU=function(){var Se={};return Se[v]=i,Ve.call(Se,ke,de.cpu),Se},this.getDevice=function(){var Se={};return Se[b]=i,Se[f]=i,Se[m]=i,Ve.call(Se,ke,de.device),_e&&!Se[m]&&Re&&Re.mobile&&(Se[m]=_),_e&&Se[f]=="Macintosh"&&se&&typeof se.standalone!==c&&se.maxTouchPoints&&se.maxTouchPoints>2&&(Se[f]="iPad",Se[m]=x),Se},this.getEngine=function(){var Se={};return Se[p]=i,Se[y]=i,Ve.call(Se,ke,de.engine),Se},this.getOS=function(){var Se={};return Se[p]=i,Se[y]=i,Ve.call(Se,ke,de.os),_e&&!Se[p]&&Re&&Re.platform&&Re.platform!="Unknown"&&(Se[p]=Re.platform.replace(/chrome os/i,Qe).replace(/macos/i,st)),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ke},this.setUA=function(Se){return ke=typeof Se===d&&Se.length>A?Ze(Se,A):Se,this},this.setUA(ke),this};me.VERSION=s,me.BROWSER=qe([p,y,h]),me.CPU=qe([v]),me.DEVICE=qe([f,b,m,w,_,S,x,C,E]),me.ENGINE=me.OS=qe([p,y]),n.exports&&(e=n.exports=me),e.UAParser=me;var xe=typeof r!==c&&(r.jQuery||r.Zepto);if(xe&&!xe.ua){var fe=new me;xe.ua=fe.getResult(),xe.ua.get=function(){return fe.getUA()},xe.ua.set=function(K){fe.setUA(K);var he=fe.getResult();for(var se in he)xe.ua[se]=he[se]}}})(typeof window=="object"?window:Dxe)})(LR,LR.exports);var PIe=LR.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Lb={newline:10,reset:27};function IIe(n){if(!Number.isSafeInteger(n))throw new Error(`integer expected: ${n}`)}function MIe(n){if(!Number.isSafeInteger(n)||n<1||n>40)throw new Error(`Invalid version=${n}. Expected number [1..40]`)}function _h(n,e){return n.toString(2).padStart(e,"0")}function cU(n,e){const r=n%e;return r>=0?r:e+r}function wl(n,e){return new Array(n).fill(e)}function A5(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24}function uU(n){let e=0,r=0;for(const o of n)e=Math.max(e,o.length),r+=o.length;const i=new Uint8Array(r);let s=0;for(let o=0;o<e;o++)for(const a of n)o<a.length&&(i[s++]=a[o]);return i}function OIe(){let n,e=1/0;return{add(r,i){r>=e||(n=i,e=r)},get:()=>n,score:()=>e}}function dU(n){return{has:e=>n.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const i=n.indexOf(r);if(i===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${n}`);return i})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(IIe(r),r<0||r>=n.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${n.length})`);return n[r]})}}}function hU(n){if(n.length!==32)throw new Error("expects 32 element matrix");const e=[1431655765,858993459,252645135,16711935,65535];for(let r=0;r<5;r++){const i=e[r]>>>0,s=1<<r,o=s<<1;for(let a=0;a<32;a+=o)for(let l=0;l<s;l++){const c=a+l,u=c+s,d=n[c]>>>0,h=n[u]>>>0,f=(d>>>s^h)&i;n[c]=(d^f<<s)>>>0,n[u]=(h^f)>>>0}}}const Fb=n=>1<<(n&31)>>>0,Sh=(n,e)=>e===0?0:e===32?4294967295:(1<<e)-1<<n>>>0;class rs{constructor(e,r){$e(this,"defined");$e(this,"value");$e(this,"tailMask");$e(this,"words");$e(this,"fullWords");$e(this,"height");$e(this,"width");const{height:i,width:s}=rs.size(e);if(this.height=i,this.width=s,this.tailMask=Sh(0,s&31||32),this.words=Math.ceil(s/32)|0,this.fullWords=Math.floor(s/32)|0,this.value=new Uint32Array(this.words*i),this.defined=new Uint32Array(this.value.length),r){if(r.length!==i)throw new Error(`Bitmap: data height mismatch: exp=${i} got=${r.length}`);for(let o=0;o<i;o++){const a=r[o];if(!a||a.length!==s)throw new Error(`Bitmap: data width mismatch at y=${o}: exp=${s} got=${a==null?void 0:a.length}`);for(let l=0;l<s;l++)this.set(l,o,a[l])}}}static size(e,r){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: invalid height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: invalid width=${e.width} (${typeof e.width})`);return r!==void 0&&(e={width:Math.min(e.width,r.width),height:Math.min(e.height,r.height)}),e}static fromString(e){e=e.replace(/^\n+/g,"").replace(/\n+$/g,"");const r=e.split(String.fromCharCode(Lb.newline)),i=r.length;let s;const o=[];for(const a of r){const l=a.split("").map(c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)});if(s!==void 0&&l.length!==s)throw new Error(`Bitmap.fromString different row sizes: width=${s} cur=${l.length}`);s=l.length,o.push(l)}return s===void 0&&(s=0),new rs({height:i,width:s},o)}point(e){return this.get(e.x,e.y)}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:r,y:i}=this.xy(e);return{height:this.height-i,width:this.width-r}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: invalid x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: invalid y=${e.y}`);return e.x=cU(e.x,this.width),e.y=cU(e.y,this.height),e}wordIndex(e,r){return r*this.words+(e>>>5)}bitIndex(e,r){return{word:this.wordIndex(e,r),bit:e&31}}isDefined(e,r){const i=this.wordIndex(e,r),s=Fb(e);return(this.defined[i]&s)!==0}get(e,r){const i=this.wordIndex(e,r),s=Fb(e);return(this.value[i]&s)!==0}maskWord(e,r,i){const{defined:s,value:o}=this;s[e]|=r,o[e]=o[e]&~r|-i&r}set(e,r,i){i!==void 0&&this.maskWord(this.wordIndex(e,r),Fb(e),i)}fillRectConst(e,r,i,s,o){if(i<=0||s<=0||o===void 0)return;const{value:a,defined:l,words:c}=this,u=e>>>5,d=e+i-1>>>5,h=e&31,f=e+i-1&31;for(let p=0;p<s;p++){const m=(r+p)*c;if(u===d){const b=Sh(h,f-h+1);this.maskWord(m+u,b,o);continue}this.maskWord(m+u,Sh(h,32-h),o);for(let b=u+1;b<d;b++)l[m+b]=4294967295,a[m+b]=o?4294967295:0;this.maskWord(m+d,Sh(0,f+1),o)}}rectWords(e,r,i,s,o){for(let a=0;a<s;a++){const l=r+a;for(let c=0;c<i;){const u=e+c,{bit:d,word:h}=this.bitIndex(u,l),f=Math.min(32-d,i-c);o(h,u,c,a,f),c+=f}}}rect(e,r,i){const{x:s,y:o}=this.xy(e),{height:a,width:l}=rs.size(r,this.size({x:s,y:o}));if(typeof i!="function")return this.fillRectConst(s,o,l,a,i),this;const{defined:c,value:u}=this;return this.rectWords(s,o,l,a,(d,h,f,p,m)=>{let b=0,y=u[d];for(let v=0;v<m;v++){const w=Fb(h+v),_=i({x:f+v,y:p},(y&w)!==0);_!==void 0&&(b|=w,y=y&~w|-_&w)}c[d]|=b,u[d]=y}),this}rectRead(e,r,i){const{x:s,y:o}=this.xy(e),{height:a,width:l}=rs.size(r,this.size({x:s,y:o})),{value:c}=this;return this.rectWords(s,o,l,a,(u,d,h,f,p)=>{const m=c[u];for(let b=0;b<p;b++){const y=Fb(d+b);i({x:h+b,y:f},(m&y)!==0)}}),this}hLine(e,r,i){return this.rect(e,{width:r,height:1},i)}vLine(e,r,i){return this.rect(e,{width:1,height:r},i)}border(e=2,r){const i=this.height+2*e,s=this.width+2*e,o=new rs({height:i,width:s});return o.rect(0,1/0,r),o.embed({x:e,y:e},this),o}embed(e,r){const{x:i,y:s}=this.xy(e),{height:o,width:a}=rs.size(r.size(),this.size({x:i,y:s}));if(a<=0||o<=0)return this;const{value:l,defined:c}=this,{words:u,value:d}=r;for(let h=0;h<o;h++){const f=h*u;for(let p=0;p<a;){const m=i+p,{word:b,bit:y}=this.bitIndex(m,s+h),{word:v,bit:w}=r.bitIndex(p,h),_=Math.min(32-y,a-p),x=d[v],S=w&&v+1<f+u?d[v+1]:0,C=w?(x>>>w|S<<32-w)>>>0:x,E=Sh(y,_),A=(C&Sh(0,_))<<y>>>0;c[b]|=E,l[b]=l[b]&~E|A,p+=_}}return this}rectSlice(e,r=this.size()){const{x:i,y:s}=this.xy(e),{height:o,width:a}=rs.size(r,this.size({x:i,y:s})),l=new rs({height:o,width:a});return this.rectRead({x:i,y:s},{height:o,width:a},(c,u)=>{this.isDefined(i+c.x,s+c.y)&&l.set(c.x,c.y,u)}),l}transpose(){const{height:e,width:r,value:i,defined:s,words:o}=this,a=new rs({height:r,width:e}),{words:l,value:c,defined:u,tailMask:d}=a,h=new Uint32Array(32),f=new Uint32Array(32);for(let p=0;p<e;p+=32)for(let m=0;m<o;m++){const b=Math.min(32,e-p);for(let y=0;y<b;y++){const v=this.wordIndex(32*m,p+y);h[y]=i[v],f[y]=s[v]}h.fill(0,b),f.fill(0,b),hU(h),hU(f);for(let y=0;y<32;y++){const v=m*32+y;if(v>=r)break;const w=a.wordIndex(p,v),_=p>>>5===l-1?d:4294967295;c[w]=h[y]&_,u[w]=f[y]&_}}return a}negate(){const e=this.defined.length;for(let r=0;r<e;r++)this.value[r]=~this.value[r],this.defined[r]=4294967295;return this}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`invalid scale factor: ${e}`);const{height:r,width:i}=this;return new rs({height:e*r,width:e*i}).rect({x:0,y:0},1/0,({x:o,y:a})=>this.get(o/e|0,a/e|0))}clone(){const e=new rs(this.size());return e.defined.set(this.defined),e.value.set(this.value),e}assertDrawn(){const{height:e,width:r,defined:i,tailMask:s,fullWords:o,words:a}=this;if(!(!e||!r))for(let l=0;l<e;l++){const c=l*a;for(let u=0;u<o;u++)if(i[c+u]!==4294967295)throw new Error("Invalid color type=undefined");if(a!==o&&(i[c+o]&s)!==s)throw new Error("Invalid color type=undefined")}}countPatternInRow(e,r,...i){if(r<=0||r>=32)throw new Error("wrong patternLen");const s=(1<<r)-1,{width:o,value:a,words:l}=this;let c=0;const u=this.wordIndex(0,e);for(let d=0,h=0;d<l;d++){const f=a[u+d],p=d===l-1&&o&31||32;for(let m=0;m<p;m++)if(h=(h<<1|f>>>m&1)&s,!(d*32+m+1<r)){for(const b of i)if(h===b){c++;break}}}return c}getRuns(e,r){const{width:i,value:s,words:o}=this;if(i===0)return;let a=0,l;const c=this.wordIndex(0,e);for(let u=0;u<o;u++){const d=s[c+u],h=u===o-1&&i&31||32;for(let f=0;f<h;f++){const p=(d&1<<f)!==0;if(p===l){a++;continue}l!==void 0&&r(a,l),l=p,a=1}}l!==void 0&&r(a,l)}popcnt(){const{height:e,width:r,words:i,fullWords:s,tailMask:o}=this;if(!e||!r)return 0;let a=0;for(let l=0;l<e;l++){const c=l*i;for(let u=0;u<s;u++)a+=A5(this.value[c+u]);i!==s&&(a+=A5(this.value[c+s]&o))}return a}countBoxes2x2(e){const{width:r,words:i}=this;if(r<2||(e|0)<0||e+1>=this.height)return 0;const s=this.wordIndex(0,e)|0,o=this.wordIndex(0,e+1)|0,l=(r&31)===0?2147483647:Sh(0,r-1&31);let c=0;for(let u=0;u<i;u++){const d=this.value[s+u],h=this.value[o+u],f=~(d^h)>>>0,p=u+1<i?this.value[s+u+1]>>>0:0,m=~(d^(d>>>1|(p&1)<<31)>>>0)>>>0,b=u+1<i?this.value[o+u+1]>>>0:0,y=~(h^(h>>>1|(b&1)<<31)>>>0)>>>0;let v=(f&m&y)>>>0;u===i-1&&(v&=l),c+=A5(v)}return c}toString(){const e=String.fromCharCode(Lb.newline);let r="";for(let i=0;i<this.height;i++){let s="";for(let o=0;o<this.width;o++){const a=this.get(o,i);s+=this.isDefined(o,i)?a?"X":" ":"?"}r+=s+(i+1===this.height?"":e)}return r}toRaw(){const e=Array.from({length:this.height},()=>new Array(this.width));for(let r=0;r<this.height;r++){const i=e[r];for(let s=0;s<this.width;s++)i[s]=this.get(s,r)}return e}toASCII(){const{height:e,width:r}=this;let i="";for(let s=0;s<e;s+=2){for(let o=0;o<r;o++){const a=this.get(o,s),l=s+1>=e?!0:this.get(o,s+1);!a&&!l?i+="":!a&&l?i+="":a&&!l?i+="":a&&l&&(i+=" ")}i+=String.fromCharCode(Lb.newline)}return i}toTerm(){const e=String.fromCharCode(Lb.reset),r=e+"[0m",i=e+"[1;47m  "+r,s=e+"[40m  "+r,o=String.fromCharCode(Lb.newline);let a="";for(let l=0;l<this.height;l++){for(let c=0;c<this.width;c++){const u=this.get(c,l);a+=u?s:i}a+=o}return a}toSVG(e=!0){let r=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,i="",s;return this.rectRead(0,1/0,(o,a)=>{if(!a)return;const{x:l,y:c}=o;if(!e){r+=`<rect x="${l}" y="${c}" width="1" height="1" />`;return}let u=`M${l} ${c}`;if(s){const h=`m${l-s.x} ${c-s.y}`;h.length<=u.length&&(u=h)}const d=l<10?`H${l}`:"h-1";i+=`${u}h1v1${d}Z`,s=o}),e&&(r+=`<path d="${i}"/>`),r+="</svg>",r}toGIF(){const e=l=>[l&255,l>>>8&255],r=[...e(this.width),...e(this.height)],i=[];this.rectRead(0,1/0,(l,c)=>i.push(+(c===!0)));const s=126,o=[71,73,70,56,55,97,...r,246,0,0,255,255,255,...wl(3*127,0),44,0,0,0,0,...r,0,7],a=Math.floor(i.length/s);for(let l=0;l<a;l++)o.push(s+1,128,...i.slice(s*l,s*(l+1)).map(c=>+c));return o.push(i.length%s+1,128,...i.slice(a*s).map(l=>+l)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:r,width:i}=this.size(),s=new Uint8Array(r*i*(e?3:4));let o=0;for(let a=0;a<r;a++)for(let l=0;l<i;l++){const c=this.get(l,a)?0:255;s[o++]=c,s[o++]=c,s[o++]=c,e||(s[o++]=255)}return{height:r,width:i,data:s}}}const fU=["low","medium","quartile","high"],pU=["numeric","alphanumeric","byte","kanji","eci"],DIe=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],RIe={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},NIe={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Wi={size:{encode:n=>21+4*(n-1),decode:n=>(n-17)/4},sizeType:n=>Math.floor((n+7)/17),alignmentPatterns(n){if(n===1)return[];const e=6,r=Wi.size.encode(n)-e-1,i=r-e,s=Math.ceil(i/28);let o=Math.floor(i/s);o%2?o+=1:i%s*2>=s&&(o+=2);const a=[e];for(let l=1;l<s;l++)a.push(r-(s-l)*o);return a.push(r),a},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(n,e){const r=Wi.ECCode[n]<<3|e;let i=r;for(let s=0;s<10;s++)i=i<<1^(i>>9)*1335;return(r<<10|i)^Wi.formatMask},versionBits(n){let e=n;for(let r=0;r<12;r++)e=e<<1^(e>>11)*7973;return n<<12|e},alphabet:{numeric:dU("0123456789"),alphanumerc:dU("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(n,e){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[e][Wi.sizeType(n)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(n,e){const r=DIe[n-1],i=RIe[e][n-1],s=NIe[e][n-1],o=Math.floor(r/s)-i,a=s-r%s;return{words:i,numBlocks:s,shortBlocks:a,blockLen:o,capacity:(r-i*s)*8,total:(i+o)*s+s-a}}},E7=[(n,e)=>(n+e)%2==0,(n,e)=>e%2==0,(n,e)=>n%3==0,(n,e)=>(n+e)%3==0,(n,e)=>(Math.floor(e/2)+Math.floor(n/3))%2==0,(n,e)=>n*e%2+n*e%3==0,(n,e)=>(n*e%2+n*e%3)%2==0,(n,e)=>((n+e)%2+n*e%3)%2==0],Ct={tables:(n=>{const e=wl(256,0),r=wl(256,0);for(let i=0,s=1;i<256;i++)e[i]=s,r[s]=i,s<<=1,s&256&&(s^=n);return{exp:e,log:r}})(285),exp:n=>Ct.tables.exp[n],log(n){if(n===0)throw new Error(`GF.log: invalid arg=${n}`);return Ct.tables.log[n]%255},mul(n,e){return n===0||e===0?0:Ct.tables.exp[(Ct.tables.log[n]+Ct.tables.log[e])%255]},add:(n,e)=>n^e,pow:(n,e)=>Ct.tables.exp[Ct.tables.log[n]*e%255],inv(n){if(n===0)throw new Error(`GF.inverse: invalid arg=${n}`);return Ct.tables.exp[255-Ct.tables.log[n]]},polynomial(n){if(n.length==0)throw new Error("GF.polymomial: invalid length");if(n[0]!==0)return n;let e=0;for(;e<n.length-1&&n[e]==0;e++);return n.slice(e)},monomial(n,e){if(n<0)throw new Error(`GF.monomial: invalid degree=${n}`);if(e==0)return[0];let r=wl(n+1,0);return r[0]=e,Ct.polynomial(r)},degree:n=>n.length-1,coefficient:(n,e)=>n[Ct.degree(n)-e],mulPoly(n,e){if(n[0]===0||e[0]===0)return[0];const r=wl(n.length+e.length-1,0);for(let i=0;i<n.length;i++)for(let s=0;s<e.length;s++)r[i+s]=Ct.add(r[i+s],Ct.mul(n[i],e[s]));return Ct.polynomial(r)},mulPolyScalar(n,e){if(e==0)return[0];if(e==1)return n;const r=wl(n.length,0);for(let i=0;i<n.length;i++)r[i]=Ct.mul(n[i],e);return Ct.polynomial(r)},mulPolyMonomial(n,e,r){if(e<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(r==0)return[0];const i=wl(n.length+e,0);for(let s=0;s<n.length;s++)i[s]=Ct.mul(n[s],r);return Ct.polynomial(i)},addPoly(n,e){if(n[0]===0)return e;if(e[0]===0)return n;let r=n,i=e;r.length>i.length&&([r,i]=[i,r]);let s=wl(i.length,0),o=i.length-r.length,a=i.slice(0,o);for(let l=0;l<a.length;l++)s[l]=a[l];for(let l=o;l<i.length;l++)s[l]=Ct.add(r[l-o],i[l]);return Ct.polynomial(s)},remainderPoly(n,e){const r=Array.from(n);for(let i=0;i<n.length-e.length+1;i++){const s=r[i];if(s!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(r[i+o]=Ct.add(r[i+o],Ct.mul(e[o],s)))}return r.slice(n.length-e.length+1,r.length)},divisorPoly(n){let e=[1];for(let r=0;r<n;r++)e=Ct.mulPoly(e,[1,Ct.pow(2,r)]);return e},evalPoly(n,e){if(e==0)return Ct.coefficient(n,0);let r=n[0];for(let i=1;i<n.length;i++)r=Ct.add(Ct.mul(e,r),n[i]);return r},euclidian(n,e,r){Ct.degree(n)<Ct.degree(e)&&([n,e]=[e,n]);let i=n,s=e,o=[0],a=[1];for(;2*Ct.degree(s)>=r;){let u=i,d=o;if(i=s,o=a,i[0]===0)throw new Error("rLast[0] === 0");s=u;let h=[0];const f=Ct.inv(i[0]);for(;Ct.degree(s)>=Ct.degree(i)&&s[0]!==0;){const p=Ct.degree(s)-Ct.degree(i),m=Ct.mul(s[0],f);h=Ct.addPoly(h,Ct.monomial(p,m)),s=Ct.addPoly(s,Ct.mulPolyMonomial(i,p,m))}if(h=Ct.mulPoly(h,o),a=Ct.addPoly(h,d),Ct.degree(s)>=Ct.degree(i))throw new Error(`Division failed r: ${s}, rLast: ${i}`)}const l=Ct.coefficient(a,0);if(l==0)throw new Error("sigmaTilde(0) was zero");const c=Ct.inv(l);return[Ct.mulPolyScalar(a,c),Ct.mulPolyScalar(s,c)]}};function jIe(n){return{encode(e){const r=Ct.divisorPoly(n),i=Array.from(e);return i.push(...r.slice(0,-1).fill(0)),Uint8Array.from(Ct.remainderPoly(i,r))},decode(e){const r=e.slice(),i=Ct.polynomial(Array.from(e));let s=wl(n,0),o=!1;for(let h=0;h<n;h++){const f=Ct.evalPoly(i,Ct.exp(h));s[s.length-1-h]=f,f!==0&&(o=!0)}if(!o)return r;s=Ct.polynomial(s);const a=Ct.monomial(n,1),[l,c]=Ct.euclidian(a,s,n),u=wl(Ct.degree(l),0);let d=0;for(let h=1;h<256&&d<u.length;h++)Ct.evalPoly(l,h)===0&&(u[d++]=Ct.inv(h));if(d!==u.length)throw new Error("RS.decode: invalid errors number");for(let h=0;h<u.length;h++){const f=r.length-1-Ct.log(u[h]);if(f<0)throw new Error("RS.decode: invalid error location");const p=Ct.inv(u[h]);let m=1;for(let b=0;b<u.length;b++)h!==b&&(m=Ct.mul(m,Ct.add(1,Ct.mul(u[b],p))));r[f]=Ct.add(r[f],Ct.mul(Ct.evalPoly(c,p),Ct.inv(m)))}return r}}}function BIe(n,e){const{words:r,shortBlocks:i,numBlocks:s,blockLen:o,total:a}=Wi.capacity(n,e),l=jIe(r);return{encode(c){const u=[],d=[];for(let m=0;m<s;m++){const b=m<i,y=o+(b?0:1);u.push(c.subarray(0,y)),d.push(l.encode(c.subarray(0,y))),c=c.subarray(y)}const h=uU(u),f=uU(d),p=new Uint8Array(h.length+f.length);return p.set(h),p.set(f,h.length),p},decode(c){if(c.length!==a)throw new Error(`interleave.decode: len(data)=${c.length}, total=${a}`);const u=[];for(let f=0;f<s;f++){const p=f<i;u.push(new Uint8Array(r+o+(p?0:1)))}let d=0;for(let f=0;f<o;f++)for(let p=0;p<s;p++)u[p][f]=c[d++];for(let f=i;f<s;f++)u[f][o]=c[d++];for(let f=o;f<o+r;f++)for(let p=0;p<s;p++){const m=p<i;u[p][f+(m?0:1)]=c[d++]}const h=[];for(const f of u)h.push(...Array.from(l.decode(f)).slice(0,-r));return Uint8Array.from(h)}}}function LIe(n,e,r,i=!1){const s=Wi.size.encode(n);let o=new rs(s+2);const a=new rs(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,a).embed({x:-a.width,y:0},a).embed({x:0,y:-a.height},a),o=o.rectSlice(1,s);const l=new rs(1).rect(0,1,!0).border(1,!1).border(1,!0),c=Wi.alignmentPatterns(n);for(const u of c)for(const d of c)o.isDefined(d,u)||o.embed({x:d-2,y:u-2},l);o=o.hLine({x:0,y:6},1/0,({x:u})=>o.isDefined(u,6)?void 0:u%2==0).vLine({x:6,y:0},1/0,({y:u})=>o.isDefined(6,u)?void 0:u%2==0);{const u=Wi.formatBits(e,r),d=h=>!i&&(u>>h&1)==1;for(let h=0;h<6;h++)o.set(8,h,d(h));for(let h=6;h<8;h++)o.set(8,h+1,d(h));for(let h=8;h<15;h++)o.set(8,s-15+h,d(h));for(let h=0;h<8;h++)o.set(s-h-1,8,d(h));for(let h=8;h<9;h++)o.set(15-h-1+1,8,d(h));for(let h=9;h<15;h++)o.set(15-h-1,8,d(h));o.set(8,s-8,!i)}if(n>=7){const u=Wi.versionBits(n);for(let d=0;d<18;d+=1){const h=!i&&(u>>d&1)==1,f=Math.floor(d/3),p=d%3+s-8-3;o.set(p,f,h),o.set(f,p,h)}}return o}function FIe(n,e,r){const i=n.height,s=E7[e];let o=-1,a=i-1;for(let l=i-1;l>0;l-=2){for(l==6&&(l=5);;a+=o){for(let c=0;c<2;c+=1){const u=l-c;n.isDefined(u,a)||r(u,a,s(u,a))}if(a+o<0||a+o>=i)break}o=-o}}function $Ie(n){let e="numeric";for(let r of n)if(!Wi.alphabet.numeric.has(r)&&(e="alphanumeric",!Wi.alphabet.alphanumerc.has(r)))return"byte";return e}function zIe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function mU(n,e,r,i,s=zIe){let o="",a=r.length;if(i==="numeric"){const f=Wi.alphabet.numeric.decode(r.split("")),p=f.length;for(let m=0;m<p-2;m+=3)o+=_h(f[m]*100+f[m+1]*10+f[m+2],10);p%3===1?o+=_h(f[p-1],4):p%3===2&&(o+=_h(f[p-2]*10+f[p-1],7))}else if(i==="alphanumeric"){const f=Wi.alphabet.alphanumerc.decode(r.split("")),p=f.length;for(let m=0;m<p-1;m+=2)o+=_h(f[m]*45+f[m+1],11);p%2==1&&(o+=_h(f[p-1],6))}else if(i==="byte"){const f=s(r);a=f.length,o=Array.from(f).map(p=>_h(p,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:l}=Wi.capacity(n,e),c=_h(a,Wi.lengthBits(n,i));let u=Wi.modeBits[i]+c+o;if(u.length>l)throw new Error("Capacity overflow");u+="0".repeat(Math.min(4,Math.max(0,l-u.length))),u.length%8&&(u+="0".repeat(8-u.length%8));const d="1110110000010001";for(let f=0;u.length!==l;f++)u+=d[f%d.length];const h=Uint8Array.from(u.match(/(.{8})/g).map(f=>+`0b${f}`));return BIe(n,e).encode(h)}function gU(n,e,r,i,s=!1){const o=LIe(n,e,i,s);let a=0;const l=8*r.length;if(FIe(o,i,(c,u,d)=>{let h=!1;a<l&&(h=(r[a>>>3]>>(7-a&7)&1)!==0,a++),o.set(c,u,h!==d)}),a!==l)throw new Error("QR: bytes left after draw");return o}const Mde=n=>{const e=n.map(r=>r?"1":"0").join("");return{len:e.length,n:+`0b${e}`}},Ode=[!0,!1,!0,!0,!0,!1,!0],Dde=[!1,!1,!1,!1],Q1=Mde([...Ode,...Dde]),bU=Mde([...Dde,...Ode]);function UIe(n){const{width:e,height:r}=n,i=n.transpose();let s=0;for(let d=0;d<r;d++)n.getRuns(d,h=>{h>=5&&(s+=3+(h-5))});for(let d=0;d<e;d++)i.getRuns(d,h=>{h>=5&&(s+=3+(h-5))});let o=0;for(let d=0;d<r-1;d++)o+=3*n.countBoxes2x2(d);let a=0;for(let d=0;d<r;d++)a+=40*n.countPatternInRow(d,Q1.len,Q1.n,bU.n);for(let d=0;d<e;d++)a+=40*i.countPatternInRow(d,Q1.len,Q1.n,bU.n);let l=0;l=n.popcnt();const c=l/(r*e)*100,u=10*Math.floor(Math.abs(c-50)/5);return s+o+a+u}function WIe(n,e,r,i){if(i===void 0){const s=OIe();for(let o=0;o<E7.length;o++)s.add(UIe(gU(n,e,r,o,!0)),o);i=s.get()}if(i===void 0)throw new Error("Cannot find mask");return gU(n,e,r,i)}function qIe(n){if(!fU.includes(n))throw new Error(`Invalid error correction mode=${n}. Expected: ${fU}`)}function HIe(n){if(!pU.includes(n))throw new Error(`Encoding: invalid mode=${n}. Expected: ${pU}`);if(n==="kanji"||n==="eci")throw new Error(`Encoding: ${n} is not supported (yet?).`)}function VIe(n){if(![0,1,2,3,4,5,6,7].includes(n)||!E7[n])throw new Error(`Invalid mask=${n}. Expected number [0..7]`)}function GIe(n,e="raw",r={}){const i=r.ecc!==void 0?r.ecc:"medium";qIe(i);const s=r.encoding!==void 0?r.encoding:$Ie(n);HIe(s),r.mask!==void 0&&VIe(r.mask);let o=r.version,a,l=new Error("Unknown error");if(o!==void 0)MIe(o),a=mU(o,i,n,s,r.textEncoder);else for(let d=1;d<=40;d++)try{a=mU(d,i,n,s,r.textEncoder),o=d;break}catch(h){l=h}if(!o||!a)throw l;let c=WIe(o,i,a,r.mask);c.assertDrawn();const u=r.border===void 0?2:r.border;if(!Number.isSafeInteger(u))throw new Error(`invalid border type=${typeof u}`);if(c=c.border(u,!1),r.scale!==void 0&&(c=c.scale(r.scale)),e==="raw")return c.toRaw();if(e==="ascii")return c.toASCII();if(e==="svg")return c.toSVG(r.optimize);if(e==="gif")return c.toGIF();if(e==="term")return c.toTerm();throw new Error(`Unknown output: ${e}`)}function YIe(n,e={}){const{errorCorrection:r,version:i}=e,s=GIe(n,"raw",{border:0,ecc:r,scale:1,version:i});return{edgeLength:s.length,finderLength:7,grid:s,value:n}}function Pl(n){const{arena:e,...r}=n;return g.jsxs(Pl.Root,{...r,children:[g.jsx(Pl.Finder,{}),g.jsx(Pl.Cells,{}),e&&g.jsx(Pl.Arena,{children:typeof e=="string"?g.jsx("img",{alt:"Arena",src:e,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):e})]})}(function(n){n.Context=T.createContext(null);function e(o){const{children:a,size:l="100%",value:c,version:u,errorCorrection:d,...h}=o,f=T.useMemo(()=>(T.Children.map(a,_=>!T.isValidElement(_)||typeof _.type=="string"?null:"displayName"in _.type&&_.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[a]),p=T.useMemo(()=>{let _=d;return f&&d==="low"&&(_="medium"),YIe(c,{errorCorrection:_,version:u})},[c,f,d,u]),m=1,b=p.edgeLength*m,y=p.finderLength*m/2,v=f?Math.floor(b/4):0,w=T.useMemo(()=>({arenaSize:v,cellSize:m,edgeSize:b,qrcode:p,finderSize:y}),[v,b,p,y]);return g.jsx(n.Context.Provider,{value:w,children:g.jsxs("svg",{...h,width:l,height:l,viewBox:`0 0 ${b} ${b}`,xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("title",{children:"QR Code"}),a]})})}n.Root=e,function(o){o.displayName="Root"}(e=n.Root||(n.Root={}));function r(o){const{className:a,fill:l,innerClassName:c,radius:u=.25}=o,{cellSize:d,edgeSize:h,finderSize:f}=T.useContext(n.Context);function p({position:m}){let b=f-(f-d)-d/2;m==="top-right"&&(b=h-f-(f-d)-d/2);let y=f-(f-d)-d/2;m==="bottom-left"&&(y=h-f-(f-d)-d/2);let v=f-d*1.5;m==="top-right"&&(v=h-f-d*1.5);let w=f-d*1.5;return m==="bottom-left"&&(w=h-f-d*1.5),g.jsxs(g.Fragment,{children:[g.jsx("rect",{className:a,stroke:l??"currentColor",fill:"transparent",x:b,y,width:d+(f-d)*2,height:d+(f-d)*2,rx:2*u*(f-d),ry:2*u*(f-d),strokeWidth:d}),g.jsx("rect",{className:c,fill:l??"currentColor",x:v,y:w,width:d*3,height:d*3,rx:2*u*d,ry:2*u*d})]})}return g.jsxs(g.Fragment,{children:[g.jsx(p,{position:"top-left"}),g.jsx(p,{position:"top-right"}),g.jsx(p,{position:"bottom-left"})]})}n.Finder=r,function(o){o.displayName="Finder"}(r=n.Finder||(n.Finder={}));function i(o){const{className:a,fill:l="currentColor",inset:c=!0,radius:u=1}=o,{arenaSize:d,cellSize:h,qrcode:f}=T.useContext(n.Context),{edgeLength:p,finderLength:m}=f,b=T.useMemo(()=>{let y="";for(let v=0;v<f.grid.length;v++){const w=f.grid[v];if(w)for(let _=0;_<w.length;_++){if(!w[_])continue;const S=p/2-d/2,C=S+d;if(v>=S&&v<=C&&_>=S&&_<=C)continue;const E=v<m&&_<m,A=v<m&&_>=p-m,M=v>=p-m&&_<m;if(E||A||M)continue;const I=c?h*.1:0,O=(h-I*2)/2,F=_*h+h/2,$=v*h+h/2,z=F-O,R=F+O,j=$-O,N=$+O,D=u*O;y+=[`M ${z+D},${j}`,`L ${R-D},${j}`,`A ${D},${D} 0 0,1 ${R},${j+D}`,`L ${R},${N-D}`,`A ${D},${D} 0 0,1 ${R-D},${N}`,`L ${z+D},${N}`,`A ${D},${D} 0 0,1 ${z},${N-D}`,`L ${z},${j+D}`,`A ${D},${D} 0 0,1 ${z+D},${j}`,"z"].join(" ")}}return y},[d,h,p,m,f.grid,c,u]);return g.jsx("path",{className:a,d:b,fill:l})}n.Cells=i,function(o){o.displayName="Cells"}(i=n.Cells||(n.Cells={}));function s(o){const{children:a}=o,{arenaSize:l,cellSize:c,edgeSize:u}=T.useContext(n.Context),d=Math.ceil(u/2-l/2),h=l+l%2,f=c/2;return g.jsx("foreignObject",{x:d,y:d,width:h,height:h,children:g.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:f,boxSizing:"border-box"},children:a})})}n.Arena=s,function(o){o.displayName="Arena"}(s=n.Arena||(n.Arena={}))})(Pl||(Pl={}));function KIe(n={}){let e,r,i,s;return o=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:a,withCapabilities:l,...c}={}){var u;try{const d=await this.getProvider(),h=a??((u=o.chains[0])==null?void 0:u.id);if(!h)throw new Zd;let{accounts:f,currentChainId:p}=await(async()=>{if(c.isReconnecting)return{accounts:(await d.request({method:"eth_accounts",params:[]})).map(v=>({address:li(v)})),currentChainId:await this.getChainId()};const m=await d.request({method:"wallet_connect",params:[{capabilities:"capabilities"in c&&c.capabilities?c.capabilities:{},chainIds:[At(h),...o.chains.filter(v=>v.id!==h).map(v=>At(v.id))]}]});return{accounts:(await d.request({method:"eth_accounts"})).map(v=>m.accounts.find(w=>w.address===v)??{address:v}).map(v=>({address:li(v.address),capabilities:v.capabilities??{}})),currentChainId:Number(m.chainIds[0])}})();if(r||(r=this.onAccountsChanged.bind(this),d.on("accountsChanged",r)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),s||(s=this.onDisconnect.bind(this),d.on("disconnect",s)),a&&p!==a){const m=await this.switchChain({chainId:a}).catch(b=>{if(b.code===Pn.code)throw b;return{id:p}});p=(m==null?void 0:m.id)??p}return{accounts:l?f:f.map(m=>m.address),chainId:p}}catch(d){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(d.message)?new Pn(d):d}},async disconnect(){const a=await this.getProvider();r&&(a.removeListener("accountsChanged",r),r=void 0),i&&(a.removeListener("chainChanged",i),i=void 0),s&&(a.removeListener("disconnect",s),s=void 0),a.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(l=>li(l))},async getChainId(){const l=await(await this.getProvider()).request({method:"eth_chainId"});return Number(l)},async getProvider(){if(!e){const a=(()=>{var u;return typeof n.preference=="string"?{options:n.preference}:{...n.preference,options:((u=n.preference)==null?void 0:u.options)??"all"}})(),{createBaseAccountSDK:l}=await bt(async()=>{const{createBaseAccountSDK:u}=await Promise.resolve().then(()=>Tft);return{createBaseAccountSDK:u}},void 0);e=l({...n,appChainIds:o.chains.map(u=>u.id),preference:a}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:l}){var d,h,f,p;const c=o.chains.find(m=>m.id===l);if(!c)throw new mo(new Zd);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:At(c.id)}]}),c}catch(m){if(m.code===4902)try{let b;a!=null&&a.blockExplorerUrls?b=a.blockExplorerUrls:b=(d=c.blockExplorers)!=null&&d.default.url?[(h=c.blockExplorers)==null?void 0:h.default.url]:[];let y;(f=a==null?void 0:a.rpcUrls)!=null&&f.length?y=a.rpcUrls:y=[((p=c.rpcUrls.default)==null?void 0:p.http[0])??""];const v={blockExplorerUrls:b,chainId:At(l),chainName:(a==null?void 0:a.chainName)??c.name,iconUrls:a==null?void 0:a.iconUrls,nativeCurrency:(a==null?void 0:a.nativeCurrency)??c.nativeCurrency,rpcUrls:y};return await u.request({method:"wallet_addEthereumChain",params:[v]}),c}catch(b){throw new Pn(b)}throw new mo(m)}},onAccountsChanged(a){a.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:a.map(l=>li(l))})},onChainChanged(a){const l=Number(a);o.emitter.emit("change",{chainId:l})},async onDisconnect(a){o.emitter.emit("disconnect");const l=await this.getProvider();r&&(l.removeListener("accountsChanged",r),r=void 0),i&&(l.removeListener("chainChanged",i),i=void 0),s&&(l.removeListener("disconnect",s),s=void 0)}})}A7.type="metaMask";function A7(n={}){let e,r,i,s,o,a,l,c;return u=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:A7.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&(a||(a=this.onConnect.bind(this),d.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)))},async connect({chainId:d,isReconnecting:h,withCapabilities:f}={}){const p=await this.getProvider();l||(l=this.onDisplayUri,p.on("display_uri",l));let m=[];h&&(m=await this.getAccounts().catch(()=>[]));try{let b,y;m!=null&&m.length||(n.connectAndSign||n.connectWith?(n.connectAndSign?b=await e.connectAndSign({msg:n.connectAndSign}):n.connectWith&&(y=await e.connectWith({method:n.connectWith.method,params:n.connectWith.params})),m=await this.getAccounts()):m=(await e.connect()).map(_=>li(_)));let v=await this.getChainId();if(d&&v!==d){const w=await this.switchChain({chainId:d}).catch(_=>{if(_.code===Pn.code)throw _;return{id:v}});v=(w==null?void 0:w.id)??v}return l&&(p.removeListener("display_uri",l),l=void 0),b?p.emit("connectAndSign",{accounts:m,chainId:v,signResponse:b}):y&&p.emit("connectWith",{accounts:m,chainId:v,connectWithResponse:y}),a&&(p.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c)),{accounts:f?m.map(w=>({address:w,capabilities:{}})):m,chainId:v}}catch(b){const y=b;throw y.code===Pn.code?new Pn(y):y.code===Bl.code?new Bl(y):y}},async disconnect(){const d=await this.getProvider();o&&(d.removeListener("chainChanged",o),o=void 0),c&&(d.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a)),await e.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(f=>li(f))},async getChainId(){const d=await this.getProvider(),h=d.getChainId()||await(d==null?void 0:d.request({method:"eth_chainId"}));return Number(h)},async getProvider(){async function d(){var b,y,v,w,_;const h=await(async()=>{const{default:x}=await bt(async()=>{const{default:S}=await import("./connectors-BkiAkXrA.js");return{default:S}},[]);return typeof x!="function"&&typeof x.default=="function"?x.default:x})(),f={};for(const x of u.chains)f[At(x.id)]=(b=Uue({chain:x,transports:u.transports}))==null?void 0:b[0];e=new h({...n,_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,readonlyRPCMap:f,dappMetadata:{...n.dappMetadata,name:(y=n.dappMetadata)!=null&&y.name?(v=n.dappMetadata)==null?void 0:v.name:"wagmi",url:(w=n.dappMetadata)!=null&&w.url?(_=n.dappMetadata)==null?void 0:_.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:!0});const p=await e.init(),m=p!=null&&p.activeProvider?p.activeProvider:e.getProvider();if(!m)throw new so;return m}return r||(i||(i=d()),r=await i),r},async isAuthorized(){try{return!!(await a0(()=>AC(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var y,v;const f=await this.getProvider(),p=u.chains.find(w=>w.id===h);if(!p)throw new mo(new Zd);try{return await f.request({method:"wallet_switchEthereumChain",params:[{chainId:At(h)}]}),await m(),await b(h),p}catch(w){const _=w;if(_.code===Pn.code)throw new Pn(_);if(_.code===4902||((v=(y=_==null?void 0:_.data)==null?void 0:y.originalError)==null?void 0:v.code)===4902)try{return await f.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:x,...S}=p.blockExplorers??{};if(d!=null&&d.blockExplorerUrls)return d.blockExplorerUrls;if(x)return[x.url,...Object.values(S).map(C=>C.url)]})(),chainId:At(h),chainName:(d==null?void 0:d.chainName)??p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??p.nativeCurrency,rpcUrls:(()=>{var x,S;return(x=d==null?void 0:d.rpcUrls)!=null&&x.length?d.rpcUrls:[((S=p.rpcUrls.default)==null?void 0:S.http[0])??""]})()}]}),await m(),await b(h),p}catch(x){const S=x;throw S.code===Pn.code?new Pn(S):new mo(S)}throw new mo(_)}async function m(){await a0(async()=>{const w=ql(await f.request({method:"eth_chainId"}));if(w!==h)throw new Error("User rejected switch after adding network.");return w},{delay:50,retryCount:20})}async function b(w){await new Promise(_=>{const x=S=>{"chainId"in S&&S.chainId===w&&(u.emitter.off("change",x),_())};u.emitter.on("change",x),u.emitter.emit("change",{chainId:w})})}},async onAccountsChanged(d){if(d.length===0)if(e.isExtensionActive())this.onDisconnect();else return;else if(u.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h})}else u.emitter.emit("change",{accounts:d.map(h=>li(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},async onConnect(d){const h=await this.getAccounts();if(h.length===0)return;const f=Number(d.chainId);u.emitter.emit("connect",{accounts:h,chainId:f});const p=await this.getProvider();a&&(p.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c))},async onDisconnect(d){const h=await this.getProvider();d&&d.code===1013&&h&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),o&&(h.removeListener("chainChanged",o),o=void 0),c&&(h.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a)))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})}})}T7.type="safe";function T7(n={}){const{shimDisconnect:e=!1}=n;let r,i;return s=>({id:"safe",name:"Safe",type:T7.type,async connect({withCapabilities:o}={}){var u;const a=await this.getProvider();if(!a)throw new so;const l=await this.getAccounts(),c=await this.getChainId();return i||(i=this.onDisconnect.bind(this),a.on("disconnect",i)),e&&await((u=s.storage)==null?void 0:u.removeItem("safe.disconnected")),{accounts:o?l.map(d=>({address:d,capabilities:{}})):l,chainId:c}},async disconnect(){var a;const o=await this.getProvider();if(!o)throw new so;i&&(o.removeListener("disconnect",i),i=void 0),e&&await((a=s.storage)==null?void 0:a.setItem("safe.disconnected",!0))},async getAccounts(){const o=await this.getProvider();if(!o)throw new so;return(await o.request({method:"eth_accounts"})).map(li)},async getProvider(){if(typeof window<"u"&&(window==null?void 0:window.parent)!==window){if(!r){const{default:a}=await bt(async()=>{const{default:d}=await import("./connectors-mXb62Iam.js");return{default:d}},[]),l=new a(n),c=await AC(()=>l.safe.getInfo(),{timeout:n.unstable_getInfoTimeout??10});if(!c)throw new Error("Could not load Safe information");const u=await(async()=>{const d=await bt(()=>import("./connectors-DAWtxdNk.js"),[]);return typeof d.SafeAppProvider!="function"&&typeof d.default.SafeAppProvider=="function"?d.default.SafeAppProvider:d.SafeAppProvider})();r=new u(c,l)}return r}},async getChainId(){const o=await this.getProvider();if(!o)throw new so;return Number(o.chainId)},async isAuthorized(){var o;try{return e&&await((o=s.storage)==null?void 0:o.getItem("safe.disconnected"))?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){s.emitter.emit("disconnect")}})}P7.type="walletConnect";function P7(n){const e=n.isNewChainsStale??!0;let r,i;const s="eip155";let o,a,l,c,u,d;return h=>({id:"walletConnect",name:"WalletConnect",type:P7.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(l||(l=this.onConnect.bind(this),f.on("connect",l)),u||(u=this.onSessionDelete.bind(this),f.on("session_delete",u)))},async connect({chainId:f,withCapabilities:p,...m}={}){var b,y;try{const v=await this.getProvider();if(!v)throw new so;c||(c=this.onDisplayUri,v.on("display_uri",c));let w=f;if(!w){const C=await((b=h.storage)==null?void 0:b.getItem("state"))??{};h.chains.some(A=>A.id===C.chainId)?w=C.chainId:w=(y=h.chains[0])==null?void 0:y.id}if(!w)throw new Error("No chains found on connector.");const _=await this.isChainsStale();if(v.session&&_&&await v.disconnect(),!v.session||_){const C=h.chains.filter(E=>E.id!==w).map(E=>E.id);await v.connect({optionalChains:[w,...C],..."pairingTopic"in m?{pairingTopic:m.pairingTopic}:{}}),this.setRequestedChainsIds(h.chains.map(E=>E.id))}const x=(await v.enable()).map(C=>li(C));let S=await this.getChainId();if(f&&S!==f){const C=await this.switchChain({chainId:f}).catch(E=>{var A;if(E.code===Pn.code&&((A=E.cause)==null?void 0:A.message)!=="Missing or invalid. request() method: wallet_addEthereumChain")throw E;return{id:S}});S=(C==null?void 0:C.id)??S}return c&&(v.removeListener("display_uri",c),c=void 0),l&&(v.removeListener("connect",l),l=void 0),o||(o=this.onAccountsChanged.bind(this),v.on("accountsChanged",o)),a||(a=this.onChainChanged.bind(this),v.on("chainChanged",a)),d||(d=this.onDisconnect.bind(this),v.on("disconnect",d)),u||(u=this.onSessionDelete.bind(this),v.on("session_delete",u)),{accounts:p?x.map(C=>({address:C,capabilities:{}})):x,chainId:S}}catch(v){throw/(user rejected|connection request reset)/i.test(v==null?void 0:v.message)?new Pn(v):v}},async disconnect(){const f=await this.getProvider();try{await(f==null?void 0:f.disconnect())}catch(p){if(!/No matching key/i.test(p.message))throw p}finally{a&&(f==null||f.removeListener("chainChanged",a),a=void 0),d&&(f==null||f.removeListener("disconnect",d),d=void 0),l||(l=this.onConnect.bind(this),f==null||f.on("connect",l)),o&&(f==null||f.removeListener("accountsChanged",o),o=void 0),u&&(f==null||f.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(p=>li(p))},async getProvider({chainId:f}={}){var m;async function p(){const b=h.chains.map(v=>v.id);if(!b.length)return;const{EthereumProvider:y}=await bt(async()=>{const{EthereumProvider:v}=await Promise.resolve().then(()=>Pft);return{EthereumProvider:v}},void 0);return await y.init({...n,disableProviderPing:!0,optionalChains:b,projectId:n.projectId,rpcMap:Object.fromEntries(h.chains.map(v=>{const[w]=Uue({chain:v,transports:h.transports});return[v.id,w]})),showQrModal:n.showQrModal??!0})}return r||(i||(i=p()),r=await i,r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY)),f&&await((m=this.switchChain)==null?void 0:m.call(this,{chainId:f})),r},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[f,p]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&p.session?(await p.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:p}){var y,v,w;const m=await this.getProvider();if(!m)throw new so;const b=h.chains.find(_=>_.id===p);if(!b)throw new mo(new Zd);try{await Promise.all([new Promise(x=>{const S=({chainId:C})=>{C===p&&(h.emitter.off("change",S),x())};h.emitter.on("change",S)}),m.request({method:"wallet_switchEthereumChain",params:[{chainId:At(p)}]})]);const _=await this.getRequestedChainsIds();return this.setRequestedChainsIds([..._,p]),b}catch(_){const x=_;if(/(user rejected)/i.test(x.message))throw new Pn(x);try{let S;f!=null&&f.blockExplorerUrls?S=f.blockExplorerUrls:S=(y=b.blockExplorers)!=null&&y.default.url?[(v=b.blockExplorers)==null?void 0:v.default.url]:[];let C;(w=f==null?void 0:f.rpcUrls)!=null&&w.length?C=f.rpcUrls:C=[...b.rpcUrls.default.http];const E={blockExplorerUrls:S,chainId:At(p),chainName:(f==null?void 0:f.chainName)??b.name,iconUrls:f==null?void 0:f.iconUrls,nativeCurrency:(f==null?void 0:f.nativeCurrency)??b.nativeCurrency,rpcUrls:C};await m.request({method:"wallet_addEthereumChain",params:[E]});const A=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...A,p]),b}catch(S){throw new Pn(S)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():h.emitter.emit("change",{accounts:f.map(p=>li(p))})},onChainChanged(f){const p=Number(f);h.emitter.emit("change",{chainId:p})},async onConnect(f){const p=Number(f.chainId),m=await this.getAccounts();h.emitter.emit("connect",{accounts:m,chainId:p})},async onDisconnect(f){this.setRequestedChainsIds([]),h.emitter.emit("disconnect");const p=await this.getProvider();o&&(p.removeListener("accountsChanged",o),o=void 0),a&&(p.removeListener("chainChanged",a),a=void 0),d&&(p.removeListener("disconnect",d),d=void 0),u&&(p.removeListener("session_delete",u),u=void 0),l||(l=this.onConnect.bind(this),p.on("connect",l))},onDisplayUri(f){h.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var p,m,b;return r?((b=(m=(p=r.session)==null?void 0:p.namespaces[s])==null?void 0:m.accounts)==null?void 0:b.map(y=>Number.parseInt(y.split(":")[1]||"",10)))??[]:[]},async getRequestedChainsIds(){var f;return await((f=h.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!e)return!1;const f=h.chains.map(b=>b.id),p=this.getNamespaceChainsIds();if(p.length&&!p.some(b=>f.includes(b)))return!1;const m=await this.getRequestedChainsIds();return!f.every(b=>m.includes(b))},async setRequestedChainsIds(f){var p;await((p=h.storage)==null?void 0:p.setItem(this.requestedChainsStorageKey,f))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var Dk={},XIe=768;tPe({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}});var QIe=ede({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),FR=aPe({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),yU={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},JIe={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},ZIe="_12cbo8i3 ju367v8r",eMe={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function Oi({active:n,hover:e}){return[ZIe,e&&eMe[e],JIe[n]]}var Rde=T.createContext(null);function tMe(){const{adapter:n}=T.useContext(Rde)??{};if(!n)throw new Error("No authentication adapter found");return n}function BC(){const n=T.useContext(Rde);return(n==null?void 0:n.status)??null}function Nde(){const n=BC(),{isConnected:e}=Mi();return e?n&&(n==="loading"||n==="unauthenticated")?n:"connected":"disconnected"}function jde(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function nMe(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function rMe(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function mx(){return nMe()||rMe()}function Xr(){return jde()||mx()}var iMe="iekbcc0",sMe={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},oMe=({reset:n,...e})=>{if(!n)return FR(e);const r=sMe[n],i=FR(e);return nde(iMe,r,i)},ge=B.forwardRef(({as:n="div",className:e,testId:r,...i},s)=>{const o={},a={};for(const c in i)FR.properties.has(c)?o[c]=i[c]:a[c]=i[c];const l=oMe({reset:typeof n=="string"?n:"div",...o});return B.createElement(n,{className:nde(l,e),...a,"data-testid":r?`rk-${r.replace(/^rk-/,"")}`:void 0,ref:s})});ge.displayName="Box";var Bde=new Map,T5=new Map;async function Lde(n){const e=T5.get(n);if(e)return e;const r=async()=>n().then(async s=>(Bde.set(n,s),s)),i=r().catch(s=>r().catch(o=>{T5.delete(n)}));return T5.set(n,i),i}async function Gl(...n){return await Promise.all(n.map(e=>typeof e=="function"?Lde(e):e))}function aMe(){const[,n]=T.useReducer(e=>e+1,0);return n}function LC(n){const e=typeof n=="function"?Bde.get(n):void 0,r=aMe();return T.useEffect(()=>{typeof n=="function"&&!e&&Lde(n).then(r)},[n,e,r]),typeof n=="function"?e:n}function Pi({alt:n,background:e,borderColor:r,borderRadius:i,useAsImage:s,boxShadow:o,height:a,src:l,width:c,testId:u}){const d=mx(),h=LC(l),f=h&&/^http/.test(h),[p,m]=T.useReducer(()=>!0,!1);return B.createElement(ge,{"aria-label":n,borderRadius:i,boxShadow:o,height:typeof a=="string"?a:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:e,height:typeof a=="number"?a:void 0,width:typeof c=="number"?c:void 0},width:typeof c=="string"?c:void 0,testId:u},B.createElement(ge,{...f?{"aria-hidden":!0,as:"img",onLoad:m,src:h}:{"aria-hidden":!0,as:"img",src:h},height:"full",position:"absolute",...d?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!s&&f?{opacity:p?1:0}:{}},width:"full"}),r?B.createElement(ge,{...typeof r=="object"&&"custom"in r?{style:{borderColor:r.custom}}:{borderColor:r},borderRadius:i,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var lMe="_1luule42",cMe="_1luule43",uMe=n=>T.useMemo(()=>`${n}_${Math.round(Math.random()*1e9)}`,[n]),lw=({height:n=21,width:e=21})=>{const r=uMe("spinner");return B.createElement("svg",{className:lMe,fill:"none",height:n,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Loading"),B.createElement("clipPath",{id:r},B.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),B.createElement("foreignObject",{clipPath:`url(#${r})`,height:"21",width:"21",x:"0",y:"0"},B.createElement("div",{className:cMe})))},pn=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],vU=[{color:pn[0],emoji:""},{color:pn[1],emoji:""},{color:pn[2],emoji:""},{color:pn[3],emoji:""},{color:pn[4],emoji:""},{color:pn[0],emoji:""},{color:pn[5],emoji:""},{color:pn[6],emoji:""},{color:pn[7],emoji:""},{color:pn[8],emoji:""},{color:pn[9],emoji:""},{color:pn[10],emoji:""},{color:pn[11],emoji:""},{color:pn[12],emoji:""},{color:pn[13],emoji:""},{color:pn[8],emoji:""},{color:pn[14],emoji:""},{color:pn[0],emoji:""},{color:pn[8],emoji:""},{color:pn[1],emoji:""},{color:pn[15],emoji:""},{color:pn[16],emoji:""},{color:pn[17],emoji:""},{color:pn[18],emoji:""},{color:pn[19],emoji:""},{color:pn[1],emoji:""},{color:pn[20],emoji:""},{color:pn[15],emoji:""},{color:pn[0],emoji:""},{color:pn[17],emoji:""},{color:pn[4],emoji:""},{color:pn[21],emoji:""},{color:pn[17],emoji:""},{color:pn[8],emoji:""},{color:pn[22],emoji:""}];function dMe(n){let e=0;if(n.length===0)return e;for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);e=(e<<5)-e+i,e|=0}return e}function hMe(n){const r=Math.abs(dMe((typeof n=="string"?n:"").toLowerCase())%vU.length);return vU[r??0]}var fMe=({address:n,ensImage:e,size:r})=>{const[i,s]=T.useState(!1);T.useEffect(()=>{if(e){const l=new Image;l.src=e,l.onload=()=>s(!0)}},[e]);const{color:o,emoji:a}=T.useMemo(()=>hMe(n),[n]);return e?i?B.createElement(ge,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:r,width:r}}):B.createElement(ge,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:r,width:r}},B.createElement(lw,null)):B.createElement(ge,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:o},height:r,width:r}},a)},Fde=fMe,$de=T.createContext(Fde);function pMe({address:n,imageUrl:e,loading:r,size:i}){const s=T.useContext($de);return B.createElement(ge,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${i}px`,width:`${i}px`},userSelect:"none"},B.createElement(ge,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(i*.55)}px`,height:`${i}px`,transform:r?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:r?void 0:".1s",width:`${i}px`,willChange:"transform"},userSelect:"none"},B.createElement(s,{address:n,ensImage:e,size:i})),r&&B.createElement(ge,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},B.createElement(lw,{height:"100%",width:"100%"})))}var wU={defaultLocale:"en",locale:"en"},mMe=class{constructor(n){this.listeners=new Set,this.defaultLocale=wU.defaultLocale,this.enableFallback=!1,this.locale=wU.locale,this.cachedLocales=[],this.translations={};for(const[e,r]of Object.entries(n))this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(r,e)}}missingMessage(n){return`[missing: "${this.locale}.${n}" translation]`}flattenTranslation(n,e){const r={},i=(s,o)=>{for(const a of Object.keys(s)){const l=`${o}.${a}`,c=s[a];typeof c=="object"&&c!==null?i(c,l):r[l]=c}};return i(n,e),r}translateWithReplacements(n,e={}){let r=n;for(const i in e){const s=e[i];r=r.replace(`%{${i}}`,s)}return r}t(n,e,r){const i=`${this.locale}.${n}`,s=this.translations[i];if(!s){if(this.enableFallback){const o=`${this.defaultLocale}.${n}`,a=this.translations[o];if(a)return this.translateWithReplacements(a,e)}return r!=null&&r.rawKeyIfTranslationMissing?n:this.missingMessage(n)}return this.translateWithReplacements(s,e)}isLocaleCached(n){return this.cachedLocales.includes(n)}updateLocale(n){this.locale=n,this.notifyListeners()}setTranslations(n,e){this.isLocaleCached(n)||(this.cachedLocales=[...this.cachedLocales,n],this.translations={...this.translations,...this.flattenTranslation(e,n)}),this.locale=n,this.notifyListeners()}notifyListeners(){for(const n of this.listeners)n()}onChange(n){return this.listeners.add(n),()=>{this.listeners.delete(n)}}},Jo=new mMe({en:JSON.parse(MR),"en-US":JSON.parse(MR)});Jo.defaultLocale="en-US";Jo.locale="en-US";Jo.enableFallback=!0;var gMe=async n=>{switch(n){case"ar":case"ar-AR":return(await bt(async()=>{const{default:e}=await import("./ar_AR-44JUQ6EW-BMX-am0v.js");return{default:e}},[])).default;case"de":case"de-DE":return(await bt(async()=>{const{default:e}=await import("./de_DE-PYAO5YD6-BWlqPWgO.js");return{default:e}},[])).default;case"en":case"en-US":return(await bt(async()=>{const{default:e}=await Promise.resolve().then(()=>dse);return{default:e}},void 0)).default;case"es":case"es-419":return(await bt(async()=>{const{default:e}=await import("./es_419-HRGOJ6VT-D-qzxUM-.js");return{default:e}},[])).default;case"fr":case"fr-FR":return(await bt(async()=>{const{default:e}=await import("./fr_FR-IGGVC6RM-D8LpUM75.js");return{default:e}},[])).default;case"hi":case"hi-IN":return(await bt(async()=>{const{default:e}=await import("./hi_IN-XSKAA3MF-C3QUpWyP.js");return{default:e}},[])).default;case"id":case"id-ID":return(await bt(async()=>{const{default:e}=await import("./id_ID-KUOB4UAL-K9y-nRWm.js");return{default:e}},[])).default;case"ja":case"ja-JP":return(await bt(async()=>{const{default:e}=await import("./ja_JP-4WRQ63RX-Ct5pF4ug.js");return{default:e}},[])).default;case"ko":case"ko-KR":return(await bt(async()=>{const{default:e}=await import("./ko_KR-I2K7AIEP-B5gw8Mwb.js");return{default:e}},[])).default;case"ms":case"ms-MY":return(await bt(async()=>{const{default:e}=await import("./ms_MY-6VZW6Q3Z-BtFD07hR.js");return{default:e}},[])).default;case"pt":case"pt-BR":return(await bt(async()=>{const{default:e}=await import("./pt_BR-N3XOZ4SV-CvVpfsHb.js");return{default:e}},[])).default;case"ru":case"ru-RU":return(await bt(async()=>{const{default:e}=await import("./ru_RU-IITAPRET-DOj6Jzj7.js");return{default:e}},[])).default;case"th":case"th-TH":return(await bt(async()=>{const{default:e}=await import("./th_TH-3ZQCKCQE-BcHUN2Q4.js");return{default:e}},[])).default;case"tr":case"tr-TR":return(await bt(async()=>{const{default:e}=await import("./tr_TR-QUPUGMUF-CwpF6ZFn.js");return{default:e}},[])).default;case"ua":case"uk-UA":return(await bt(async()=>{const{default:e}=await import("./uk_UA-SSN6SV5E-IlYYyRC6.js");return{default:e}},[])).default;case"vi":case"vi-VN":return(await bt(async()=>{const{default:e}=await import("./vi_VN-7BUVRNYY-CZ9S75qZ.js");return{default:e}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await bt(async()=>{const{default:e}=await import("./zh_CN-HJBN674C-Baf0GEeT.js");return{default:e}},[])).default;case"zh-HK":return(await bt(async()=>{const{default:e}=await import("./zh_HK-JW3WLRKE-VztJKXL5.js");return{default:e}},[])).default;case"zh-Hant":case"zh-TW":return(await bt(async()=>{const{default:e}=await import("./zh_TW-VNNRNXY7-aWfg7Qp4.js");return{default:e}},[])).default;default:return(await bt(async()=>{const{default:e}=await Promise.resolve().then(()=>dse);return{default:e}},void 0)).default}};async function xU(n){if(Jo.isLocaleCached(n)){Jo.updateLocale(n);return}const r=await gMe(n);Jo.setTranslations(n,JSON.parse(r))}var bMe=()=>{var n;if(typeof window<"u"&&typeof navigator<"u"){if((n=navigator.languages)!=null&&n.length)return navigator.languages[0];if(navigator.language)return navigator.language}},Zr=T.createContext({i18n:Jo}),yMe=({children:n,locale:e})=>{const[r,i]=T.useState(0),s=T.useMemo(()=>bMe(),[]);T.useEffect(()=>Jo.onChange(()=>{i(l=>l+1)}),[]),T.useEffect(()=>{e&&e!==Jo.locale?xU(e):!e&&s&&s!==Jo.locale&&xU(s)},[e,s]);const o=T.useMemo(()=>({t:(l,c)=>Jo.t(l,c),i18n:Jo}),[r]);return B.createElement(Zr.Provider,{value:o},n)};function zde(n){return n!=null}var _U={iconBackground:"#7290CC",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:n}},[])).default},P5={iconBackground:"#96bedc",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:n}},[])).default},SU={iconBackground:"#e84141",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:n}},[])).default},I5={iconBackground:"#0052ff",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:n}},[])).default},M5={iconBackground:"#814625",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:n}},[])).default},kU={iconBackground:"#000000",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:n}},[])).default},CU={iconBackground:"#ebac0e",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:n}},[])).default},EU={iconBackground:"#FCFF52",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:n}},[])).default},AU={iconBackground:"#002D74",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:n}},[])).default},vMe={iconBackground:"#A36EFD",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:n}},[])).default},zu={iconBackground:"#484c50",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:n}},[])).default},TU={iconBackground:"transparent",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:n}},[])).default},wMe={iconBackground:"#04795c",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:n}},[])).default},PU={iconBackground:"#000000",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:n}},[])).default},xMe={iconBackground:"#f9f7ec",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:n}},[])).default},_Me={iconBackground:"#000000",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:n}},[])).default},IU={iconBackground:"#7132F5",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:n}},[])).default},MU={iconBackground:"transparent",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:n}},[])).default},O5={iconBackground:"#ffffff",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:n}},[])).default},D5={iconBackground:"#ffffff",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:n}},[])).default},OU={iconBackground:"#000000",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:n}},[])).default},SMe={iconBackground:"transparent",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./monad-4KWC6TSS-DVXSkpiz.js");return{default:n}},[])).default},J1={iconBackground:"#ff5a57",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:n}},[])).default},R5={iconBackground:"#9f71ec",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:n}},[])).default},kMe={iconBackground:"#1273EA",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:n}},[])).default},CMe={iconBackground:"#000000",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:n}},[])).default},EMe={iconBackground:"#000000",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:n}},[])).default},DU={iconBackground:"#FFEEDA",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:n}},[])).default},RU={iconBackground:"#F50DB4",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:n}},[])).default},NU={iconBackground:"#f9f7ec",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:n}},[])).default},jU={iconBackground:"#000000",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:n}},[])).default},BU={iconBackground:"#f9f7ec",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:n}},[])).default},N5={iconBackground:"#000000",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:n}},[])).default},AMe={apechain:{chainId:33139,name:"ApeChain",..._U},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",..._U},arbitrum:{chainId:42161,name:"Arbitrum",...P5},arbitrumGoerli:{chainId:421613,...P5},arbitrumSepolia:{chainId:421614,...P5},avalanche:{chainId:43114,...SU},avalancheFuji:{chainId:43113,...SU},base:{chainId:8453,name:"Base",...I5},baseGoerli:{chainId:84531,...I5},baseSepolia:{chainId:84532,...I5},berachain:{chainId:80094,name:"Berachain",...M5},berachainArtio:{chainId:80085,name:"Berachain Artio",...M5},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...M5},blast:{chainId:81457,name:"Blast",...kU},blastSepolia:{chainId:168587773,...kU},bsc:{chainId:56,name:"BSC",...CU},bscTestnet:{chainId:97,...CU},celo:{chainId:42220,name:"Celo",...EU},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...EU},cronos:{chainId:25,...AU},cronosTestnet:{chainId:338,...AU},degen:{chainId:666666666,name:"Degen",...vMe},flow:{chainId:747,...TU},flowTestnet:{chainId:545,...TU},gnosis:{chainId:100,name:"Gnosis",...wMe},goerli:{chainId:5,...zu},gravity:{chainId:1625,name:"Gravity",...PU},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...PU},hardhat:{chainId:31337,...xMe},holesky:{chainId:17e3,...zu},hyperevm:{chainId:999,..._Me},ink:{chainId:57073,...IU},inkSepolia:{chainId:763373,...IU},kaia:{chainId:8217,name:"Kaia",...MU},kairos:{chainId:1001,name:"Kairos",...MU},kovan:{chainId:42,...zu},linea:{chainId:59144,name:"Linea",...O5},lineaGoerli:{chainId:59140,name:"Linea Goerli",...O5},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...O5},localhost:{chainId:1337,...zu},mainnet:{chainId:1,name:"Ethereum",...zu},manta:{chainId:169,name:"Manta",...D5},mantaSepolia:{chainId:3441006,...D5},mantaTestnet:{chainId:3441005,...D5},mantle:{chainId:5e3,...OU},mantleTestnet:{chainId:5001,...OU},monadTestnet:{chainId:10143,name:"Monad Testnet",...SMe},optimism:{chainId:10,name:"Optimism",...J1},optimismGoerli:{chainId:420,...J1},optimismKovan:{chainId:69,...J1},optimismSepolia:{chainId:11155420,...J1},polygon:{chainId:137,name:"Polygon",...R5},polygonAmoy:{chainId:80002,...R5},polygonMumbai:{chainId:80001,...R5},rinkeby:{chainId:4,...zu},ronin:{chainId:2020,...kMe},ropsten:{chainId:3,...zu},sanko:{chainId:1996,name:"Sanko",...CMe},scroll:{chainId:534352,...DU},scrollSepolia:{chainId:534351,...DU},sepolia:{chainId:11155111,...zu},superposition:{chainId:55244,name:"Superposition",...EMe},unichain:{chainId:130,...RU},unichainSepolia:{chainId:1301,...RU},xdc:{chainId:50,name:"XDC",...NU},xdcTestnet:{chainId:51,...NU},zetachain:{chainId:7e3,name:"ZetaChain",...jU},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...jU},zkSync:{chainId:324,name:"zkSync",...BU},zkSyncTestnet:{chainId:280,...BU},zora:{chainId:7777777,name:"Zora",...N5},zoraSepolia:{chainId:999999999,...N5},zoraTestnet:{chainId:999,...N5}},TMe=Object.fromEntries(Object.values(AMe).filter(zde).map(({chainId:n,...e})=>[n,e])),PMe=n=>n.map(e=>{const r=TMe[e.id]??{};return{...e,name:r.name??e.name,iconUrl:e.iconUrl??r.iconUrl,iconBackground:e.iconBackground??r.iconBackground}}),I7=T.createContext({chains:[]});function IMe({children:n,initialChain:e}){const{chains:r}=Jr();return B.createElement(I7.Provider,{value:T.useMemo(()=>({chains:PMe(r),initialChainId:typeof e=="number"?e:e==null?void 0:e.id}),[r,e])},n)}var X0=()=>T.useContext(I7).chains,MMe=()=>T.useContext(I7).initialChainId,OMe=()=>{const n=X0();return T.useMemo(()=>{const e={};for(const r of n)e[r.id]=r;return e},[n])},Ude=T.createContext({showBalance:void 0,setShowBalance:()=>{}});function DMe({children:n}){const[e,r]=T.useState();return B.createElement(Ude.Provider,{value:{showBalance:e,setShowBalance:r}},n)}var RMe=()=>T.useContext(Ude);function NMe(){const[n,e]=T.useState(!1);return T.useEffect(()=>(e(!0),()=>{e(!1)}),[]),T.useCallback(()=>n,[n])}function Wde(){const n=X0(),e=rg.id;return n.some(i=>i.id===e)}function jMe(n){const e=Wde(),r=s=>{try{return HPe(s)}catch{}},{data:i}=VTe({chainId:rg.id,name:n?r(n):void 0,query:{enabled:e}});return i}async function kh(n,e){if(e={headers:{},method:"get",...e,timeout:e.timeout??1e4},!n)throw new Error("rainbowFetch: Missing url argument");const r=new AbortController,i=setTimeout(()=>r.abort(),e.timeout),{body:s,params:o,headers:a,...l}=e,c=s&&typeof s=="object"?JSON.stringify(e.body):e.body,u=await fetch(`${n}${LMe(o)}`,{...l,body:c,headers:{Accept:"application/json","Content-Type":"application/json",...a},signal:r.signal});clearTimeout(i);const d=await BMe(u);if(u.ok){const{headers:p,status:m}=u;return{data:d,headers:p,status:m}}throw FMe({requestBody:s,response:u,responseBody:typeof d=="string"?{error:d}:d})}function BMe(n){const e=n.headers.get("Content-Type");return e!=null&&e.startsWith("application/json")?n.json():n.text()}function LMe(n){return n&&Object.keys(n).length?`?${new URLSearchParams(n)}`:""}function FMe({requestBody:n,response:e,responseBody:r}){const i=(r==null?void 0:r.error)||(e==null?void 0:e.statusText)||"There was an error with the request.",s=new Error(i);return s.response=e,s.responseBody=r,s.requestBody=n,s}var $Me=class{constructor(n={}){const{baseUrl:e="",...r}=n;this.baseUrl=e,this.opts=r}get(n,e){return kh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"get"})}delete(n,e){return kh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"delete"})}head(n,e){return kh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"head"})}options(n,e){return kh(`${this.baseUrl}${n}`,{...this.opts,...e||{},method:"options"})}post(n,e,r){return kh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"post"})}put(n,e,r){return kh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"put"})}patch(n,e,r){return kh(`${this.baseUrl}${n}`,{...this.opts,...r||{},body:e,method:"patch"})}};function zMe({baseUrl:n,headers:e,params:r,timeout:i}){return new $Me({baseUrl:n,headers:e,params:r,timeout:i})}var UMe=!!(typeof process<"u"&&typeof Dk<"u"&&Dk.RAINBOW_PROVIDER_API_KEY),WMe=zMe({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof process<"u"&&typeof Dk<"u"&&Dk.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function qMe(n,e,r={}){return[n,e,r]}function vS(n){return`rk-ens-name-${n}`}function HMe(n){try{const e=n?JSON.parse(n):null;return typeof e=="object"?e:null}catch{return null}}function VMe(n,e){if(!xo(n))return;const r=new Date,i=new Date(r.getTime()+180*6e4);localStorage.setItem(vS(n),JSON.stringify({ensName:e,expires:i.getTime()}))}function GMe(n){const e=HMe(localStorage.getItem(vS(n)));if(!e)return null;const{ensName:r,expires:i}=e;return typeof r!="string"||Number.isNaN(Number(i))||new Date().getTime()>Number(i)?(localStorage.removeItem(vS(n)),null):r}async function YMe({address:n}){const e=GMe(n);if(e)return e;const i=(await WMe.get("/v1/resolve-ens",{params:{address:n}})).data.data;return i&&VMe(n,i),i}function KMe(n){const e=Wde(),{data:r}=GTe({chainId:rg.id,address:n,query:{enabled:e}}),{data:i}=Kae({queryKey:qMe("address",n),queryFn:()=>YMe({address:n}),enabled:!e&&!!n&&UMe,staleTime:10*(60*1e3),retry:1});return r||i}function qde({address:n,includeBalance:e}){const r=KMe(n),i=jMe(r),{data:s}=que({address:e?n:void 0});return{ensName:r,ensAvatar:i,balance:s}}function M7(){const{chain:n}=Mi();return(n==null?void 0:n.id)??null}var Hde="rk-transactions";function XMe(n){try{const e=n?JSON.parse(n):{};return typeof e=="object"?e:{}}catch{return{}}}function LU(){return XMe(typeof localStorage<"u"?localStorage.getItem(Hde):null)}var QMe=/^0x([A-Fa-f0-9]{64})$/;function JMe(n){const e=[];return QMe.test(n.hash)||e.push("Invalid transaction hash"),typeof n.description!="string"&&e.push("Transaction must have a description"),typeof n.confirmations<"u"&&(!Number.isInteger(n.confirmations)||n.confirmations<1)&&e.push("Transaction confirmations must be a positiver integer"),e}function ZMe({provider:n}){let e=LU(),r=n;const i=new Set,s=new Set,o=new Map;function a(w){r=w}function l(w,_){var x;return((x=e[w])==null?void 0:x[_])??[]}function c(w,_,x){const S=JMe(x);if(S.length>0)throw new Error(["Unable to add transaction",...S].join(`
`));f(w,_,C=>[{...x,status:"pending"},...C.filter(({hash:E})=>E!==x.hash)])}function u(w,_){f(w,_,()=>[])}function d(w,_,x,S){f(w,_,C=>C.map(E=>E.hash===x?{...E,status:S}:E))}async function h(w,_){await Promise.all(l(w,_).filter(x=>x.status==="pending").map(async x=>{const{confirmations:S,hash:C}=x,E=o.get(C);if(E)return await E;const A=r.waitForTransactionReceipt({confirmations:S,hash:C,timeout:3e5}).then(({status:M})=>{o.delete(C),M!==void 0&&(d(w,_,C,M===0||M==="reverted"?"failed":"confirmed"),b(M))}).catch(()=>{d(w,_,C,"failed")});return o.set(C,A),await A}))}function f(w,_,x){e=LU(),e[w]=e[w]??{};let S=0;const C=10,E=x(e[w][_]??[]).filter(({status:A})=>A==="pending"?!0:S++<=C);e[w][_]=E.length>0?E:void 0,p(),m(),h(w,_)}function p(){localStorage.setItem(Hde,JSON.stringify(e))}function m(){for(const w of i)w()}function b(w){for(const _ of s)_(w)}function y(w){return i.add(w),()=>{i.delete(w)}}function v(w){return s.add(w),()=>{s.delete(w)}}return{addTransaction:c,clearTransactions:u,getTransactions:l,onTransactionStatus:v,onChange:y,setProvider:a,waitForPendingTransactions:h}}var FU,Vde=B.createContext(null);function eOe({children:n}){const e=YTe(),{address:r}=Mi(),i=M7(),{refetch:s}=que({address:r,query:{enabled:!1}}),[o]=B.useState(()=>FU??(FU=ZMe({provider:e}))),a=B.useCallback(l=>{l==="success"&&s()},[s]);return B.useEffect(()=>{o.setProvider(e)},[o,e]),B.useEffect(()=>{r&&i&&o.waitForPendingTransactions(r,i)},[o,r,i]),B.useEffect(()=>{if(o&&r&&i)return o.onTransactionStatus(a)},[o,r,i,a]),B.createElement(Vde.Provider,{value:o},n)}function Gde(){const n=B.useContext(Vde);if(!n)throw new Error("Transaction hooks must be used within RainbowKitProvider");return n}function Yde(){const n=Gde(),{address:e}=Mi(),r=M7(),[i,s]=T.useState(()=>n&&e&&r?n.getTransactions(e,r):[]);return T.useEffect(()=>{if(n&&e&&r)return s(n.getTransactions(e,r)),n.onChange(()=>{s(n.getTransactions(e,r))})},[n,e,r]),i}var $U=n=>typeof n=="function"?n():n;function tOe(n,{extends:e}={}){const r={...lU(yU,$U(n))};if(!e)return r;const i=lU(yU,$U(e));return Object.fromEntries(Object.entries(r).filter(([o,a])=>a!==i[o]))}function zU(n,e={}){return Object.entries(tOe(n,e)).map(([r,i])=>`${r}:${i.replace(/[:;{}</>]/g,"")};`).join("")}var Kde={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},gx=T.createContext(Kde),Xde=T.createContext(!1);function nOe(n,e){let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{r=null,n()},e)}}var Qde=()=>{const[n,e]=T.useState({height:void 0,width:void 0});return T.useEffect(()=>{const r=nOe(()=>{e({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),n},bx=T.createContext({connector:null,setConnector:()=>{}});function rOe({children:n}){const[e,r]=T.useState(null);return B.createElement(bx.Provider,{value:T.useMemo(()=>({connector:e,setConnector:r}),[e])},n)}var yx={COMPACT:"compact",WIDE:"wide"},FC=T.createContext(yx.WIDE);function iOe({children:n,modalSize:e}){const{width:r}=Qde(),i=r&&r<XIe,{connector:s}=T.useContext(bx);return B.createElement(FC.Provider,{value:i||s?yx.COMPACT:e},n)}var O7=T.createContext(!1),sOe="rk-version";function oOe({version:n}){localStorage.setItem(sOe,n)}function aOe(){const n=T.useCallback(()=>{oOe({version:"2.2.10"})},[]);T.useEffect(()=>{n()},[n])}function lOe(n,e){const r={};for(const i of n){const s=e(i);s&&(r[s]=i)}return r}function D7(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function cOe(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function R7(){var e,r;if(typeof navigator>"u")return"Browser";const n=(e=navigator.userAgent)==null?void 0:e.toLowerCase();return(r=navigator.brave)!=null&&r.isBrave?"Brave":(n==null?void 0:n.indexOf("edg/"))>-1?"Edge":(n==null?void 0:n.indexOf("op"))>-1?"Opera":cOe()?"Arc":(n==null?void 0:n.indexOf("chrome"))>-1?"Chrome":(n==null?void 0:n.indexOf("firefox"))>-1?"Firefox":D7()?"Safari":"Browser"}var uOe=PIe.UAParser(),{os:N7}=uOe;function dOe(){return N7.name==="Windows"}function hOe(){return N7.name==="Mac OS"}function fOe(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(N7.name)}function j7(){return dOe()?"Windows":hOe()?"macOS":fOe()?"Linux":"Desktop"}var pOe=n=>{var r,i,s,o,a,l,c,u,d,h,f;const e=R7();return{Arc:(r=n==null?void 0:n.downloadUrls)==null?void 0:r.chrome,Brave:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.chrome,Chrome:(s=n==null?void 0:n.downloadUrls)==null?void 0:s.chrome,Edge:((o=n==null?void 0:n.downloadUrls)==null?void 0:o.edge)||((a=n==null?void 0:n.downloadUrls)==null?void 0:a.chrome),Firefox:(l=n==null?void 0:n.downloadUrls)==null?void 0:l.firefox,Opera:((c=n==null?void 0:n.downloadUrls)==null?void 0:c.opera)||((u=n==null?void 0:n.downloadUrls)==null?void 0:u.chrome),Safari:(d=n==null?void 0:n.downloadUrls)==null?void 0:d.safari,Browser:(h=n==null?void 0:n.downloadUrls)==null?void 0:h.browserExtension}[e]??((f=n==null?void 0:n.downloadUrls)==null?void 0:f.browserExtension)},mOe=n=>{var r,i,s;return(mx()?(r=n==null?void 0:n.downloadUrls)==null?void 0:r.ios:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.android)??((s=n==null?void 0:n.downloadUrls)==null?void 0:s.mobile)},gOe=n=>{var r,i,s,o,a;const e=j7();return{Windows:(r=n==null?void 0:n.downloadUrls)==null?void 0:r.windows,macOS:(i=n==null?void 0:n.downloadUrls)==null?void 0:i.macos,Linux:(s=n==null?void 0:n.downloadUrls)==null?void 0:s.linux,Desktop:(o=n==null?void 0:n.downloadUrls)==null?void 0:o.desktop}[e]??((a=n==null?void 0:n.downloadUrls)==null?void 0:a.desktop)},Jde=(n,e)=>n.some(r=>r.id===e),bOe=n=>!!n.isRainbowKitConnector,UU=n=>{var e;return!!(!n.isRainbowKitConnector&&((e=n.icon)!=null&&e.replace(/\n/g,"").startsWith("data:image"))&&n.uid&&n.name)},yOe=(n,e)=>n.id==="walletConnect"&&e?{...n,walletConnectModalConnector:e}:n,vOe=({wallets:n,recentWallets:e})=>[...e,...n.filter(r=>!Jde(e,r.id))],Zde="rk-recent";function wOe(n){try{const e=n?JSON.parse(n):[];return Array.isArray(e)?e:[]}catch{return[]}}function ehe(){return typeof localStorage<"u"?wOe(localStorage.getItem(Zde)):[]}function xOe(n){return[...new Set(n)]}function _Oe(n){const e=xOe([n,...ehe()]);localStorage.setItem(Zde,JSON.stringify(e))}function cw(n=!1){var x,S,C;const e=X0(),r=MMe(),{connectAsync:i,connectors:s}=x7(),o=s,{setIsWalletConnectModalOpen:a}=Che(),l=o.map(E=>({...E,...E.rkDetails||{}}));async function c(E,A){var O,F;const M=await E.getChainId(),I=await i({...A,chainId:(A==null?void 0:A.chainId)??r??((O=e.find(({id:$})=>$===M))==null?void 0:O.id)??((F=e[0])==null?void 0:F.id),connector:E});return I&&_Oe(E.id),I}async function u(E){try{a(!0),await c(E),a(!1)}catch(A){const M=A.name==="UserRejectedRequestError"||A.message==="Connection request reset. Please try again.";if(a(!1),!M)throw A}}const d=async(E,A)=>{const M=await E.getProvider();return E.id==="coinbase"?M.qrUrl:new Promise(I=>M.once("display_uri",O=>{I(A(O))}))},h=l.find(E=>E.id==="walletConnect"&&E.isWalletConnectModalConnector),f=l.filter(UU).map(E=>({...E,groupIndex:0})),p=l.filter(bOe).filter(E=>!E.isWalletConnectModalConnector).filter(E=>n?!f.some(M=>M.id===E.rdns):!0).map(E=>yOe(E,h)),m=[...f,...p],b=lOe(m,E=>E.id),v=ehe().map(E=>b[E]).filter(Boolean).slice(0,3),w=[],_=vOe({wallets:m,recentWallets:v});for(const E of _){if(!E)continue;const A=UU(E),M=Jde(v,E.id);if(A){w.push({...E,iconUrl:E.icon,ready:!0,connect:c.bind(null,E),groupName:"Installed",recent:M});continue}w.push({...E,ready:E.installed??!0,connect:c.bind(null,E),desktopDownloadUrl:gOe(E),extensionDownloadUrl:pOe(E),groupName:E.groupName,mobileDownloadUrl:mOe(E),getQrCodeUri:(x=E.qrCode)!=null&&x.getUri?()=>d(E,E.qrCode.getUri):void 0,getDesktopUri:(S=E.desktop)!=null&&S.getUri?()=>d(E,E.desktop.getUri):void 0,getMobileUri:(C=E.mobile)!=null&&C.getUri?()=>{var I;return d(E,(I=E.mobile)==null?void 0:I.getUri)}:void 0,recent:M,showWalletConnectModal:E.walletConnectModalConnector?()=>u(E.walletConnectModalConnector):void 0})}return w}var the=async()=>(await bt(async()=>{const{default:n}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:n}},[])).default,SOe=()=>Gl(the),kOe=()=>B.createElement(Pi,{background:"#d0d5de",borderRadius:"10",height:"48",src:the,width:"48"}),nhe=async()=>(await bt(async()=>{const{default:n}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:n}},[])).default,COe=()=>Gl(nhe),EOe=()=>B.createElement(Pi,{background:"#d0d5de",borderRadius:"10",height:"48",src:nhe,width:"48"}),Ot=B.forwardRef(({as:n="div",children:e,className:r,color:i,display:s,font:o="body",id:a,size:l="16",style:c,tabIndex:u,textAlign:d="inherit",weight:h="regular",testId:f},p)=>B.createElement(ge,{as:n,className:r,color:i,display:s,fontFamily:o,fontSize:l,fontWeight:h,id:a,ref:p,style:c,tabIndex:u,textAlign:d,testId:f},e));Ot.displayName="Text";var AOe={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function ps({disabled:n=!1,href:e,label:r,onClick:i,rel:s="noreferrer noopener",size:o="medium",target:a="_blank",testId:l,type:c="primary"}){const u=c==="primary",d=o!=="large",h=Xr(),f=n?"actionButtonSecondaryBackground":u?"accentColor":d?"actionButtonSecondaryBackground":null,{fontSize:p,height:m,paddingX:b,paddingY:y}=AOe[o],v=!h||!d;return B.createElement(ge,{...e?n?{}:{as:"a",href:e,rel:s,target:a}:{as:"button",type:"button"},onClick:n?void 0:i,...v?{borderColor:h&&!d&&!u?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!n&&Oi({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:b,paddingY:y,style:{willChange:"transform"},testId:l,textAlign:"center",transition:"transform",...f?{background:f}:{},...m?{height:m}:{}},B.createElement(Ot,{color:n?"modalTextSecondary":u?"accentColorForeground":"accentColor",size:p,weight:"bold"},r))}var TOe=()=>Xr()?B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),Jf=({"aria-label":n="Close",onClose:e})=>{const r=Xr();return B.createElement(ge,{alignItems:"center","aria-label":n,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:Oi({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},B.createElement(TOe,null))},rhe=async()=>(await bt(async()=>{const{default:n}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:n}},[])).default;function POe({onClose:n,onCloseModal:e}){const{i18n:r}=T.useContext(Zr),[{status:i,...s},o]=B.useState({status:"idle"}),a=tMe(),l=T.useCallback(async()=>{try{const m=await a.getNonce();o(b=>({...b,nonce:m}))}catch{o(m=>({...m,errorMessage:r.t("sign_in.message.preparing_error"),status:"idle"}))}},[a,r.t]),c=T.useRef(!1);B.useEffect(()=>{c.current||(c.current=!0,l())},[l]);const u=Xr(),{address:d,chain:h}=Mi(),{signMessageAsync:f}=KTe(),p=async()=>{try{const m=h==null?void 0:h.id,{nonce:b}=s;if(!d||!m||!b)return;o(w=>({...w,errorMessage:void 0,status:"signing"}));const y=a.createMessage({address:d,chainId:m,nonce:b});let v;try{v=await f({message:y})}catch(w){return w instanceof Pn?o(_=>({..._,status:"idle"})):o(_=>({..._,errorMessage:r.t("sign_in.signature.signing_error"),status:"idle"}))}o(w=>({...w,status:"verifying"}));try{if(await a.verify({message:y,signature:v})){e();return}throw new Error}catch{return o(w=>({...w,errorMessage:r.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:r.t("sign_in.signature.oops_error"),status:"idle"})}};return B.createElement(ge,{position:"relative"},B.createElement(ge,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},B.createElement(Jf,{onClose:n})),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:u?"60px":"36px"}},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"6":"4",style:{maxWidth:u?320:280}},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"16"},B.createElement(Pi,{height:40,src:rhe,width:40}),B.createElement(Ot,{color:"modalText",size:u?"20":"18",textAlign:"center",weight:"heavy"},r.t("sign_in.label"))),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"16":"12"},B.createElement(Ot,{color:"modalTextSecondary",size:u?"16":"14",textAlign:"center"},r.t("sign_in.description")),i==="idle"&&s.errorMessage?B.createElement(Ot,{color:"error",size:u?"16":"14",textAlign:"center",weight:"bold"},s.errorMessage):null)),B.createElement(ge,{alignItems:u?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},B.createElement(ps,{disabled:!s.nonce||i==="signing"||i==="verifying",label:s.nonce?i==="signing"?r.t("sign_in.signature.waiting"):i==="verifying"?r.t("sign_in.signature.verifying"):r.t("sign_in.message.send"):r.t("sign_in.message.preparing"),onClick:p,size:u?"large":"medium",testId:"auth-message-button"}),u?B.createElement(ps,{label:"Cancel",onClick:n,size:"large",type:"secondary"}):B.createElement(ge,{as:"button",borderRadius:"full",className:Oi({active:"shrink",hover:"grow"}),display:"block",onClick:n,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Ot,{color:"closeButton",size:u?"16":"14",weight:"bold"},r.t("sign_in.message.cancel"))))))}function IOe(){const n=X0(),e=cw(),r=BC()==="unauthenticated",i=T.useCallback(()=>{Gl(...e.map(s=>s.iconUrl),...n.map(s=>s.iconUrl).filter(zde)),Xr()||(SOe(),COe()),r&&Gl(rhe)},[e,n,r]);T.useEffect(()=>{i()},[i])}var ihe="WALLETCONNECT_DEEPLINK_CHOICE";function MOe({mobileUri:n,name:e}){localStorage.setItem(ihe,JSON.stringify({href:n.split("?")[0],name:e}))}function OOe(){localStorage.removeItem(ihe)}var she=T.createContext(void 0),$R="data-rk",ohe=n=>({[$R]:n||""}),DOe=n=>{if(n&&!/^[a-zA-Z0-9_]+$/.test(n))throw new Error(`Invalid ID: ${n}`);return n?`[${$R}="${n}"]`:`[${$R}]`},ROe=()=>{const n=T.useContext(she);return ohe(n)},NOe=Jue();function jOe({appInfo:n,avatar:e,children:r,coolMode:i=!1,id:s,initialChain:o,locale:a,modalSize:l=yx.WIDE,showRecentTransactions:c=!1,theme:u=NOe}){if(IOe(),aOe(),Xue({onDisconnect:OOe}),typeof u=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const d=DOe(s),h={...Kde,...n},f=e??Fde;return B.createElement(IMe,{initialChain:o},B.createElement(rOe,null,B.createElement(yMe,{locale:a},B.createElement(Xde.Provider,{value:i},B.createElement(iOe,{modalSize:l},B.createElement(O7.Provider,{value:c},B.createElement(eOe,null,B.createElement($de.Provider,{value:f},B.createElement(gx.Provider,{value:h},B.createElement(she.Provider,{value:s},B.createElement(DMe,null,B.createElement(XDe,null,u?B.createElement("div",{...ohe(s)},B.createElement("style",{dangerouslySetInnerHTML:{__html:[`${d}{${zU("lightMode"in u?u.lightMode:u)}}`,"darkMode"in u?`@media(prefers-color-scheme:dark){${d}{${zU(u.darkMode,{extends:u.lightMode})}}}`:null].join("")}}),r):r))))))))))))}var BOe="_9pm4ki5 ju367va ju367v15 ju367v8r",LOe="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",WU=(n,e)=>{const r=n.querySelectorAll("button:not(:disabled), a[href]");r.length!==0&&r[e==="end"?r.length-1:0].focus()};function FOe(n){const e=T.useRef(null);return T.useEffect(()=>{const r=document.activeElement;return()=>{var i;(i=r.focus)==null||i.call(r)}},[]),T.useEffect(()=>{if(e.current){const r=e.current.querySelector("[data-auto-focus]");r?r.focus():e.current.focus()}},[]),B.createElement(B.Fragment,null,B.createElement("div",{onFocus:T.useCallback(()=>e.current&&WU(e.current,"end"),[]),tabIndex:0}),B.createElement("div",{ref:e,style:{outline:"none"},tabIndex:-1,...n}),B.createElement("div",{onFocus:T.useCallback(()=>e.current&&WU(e.current,"start"),[]),tabIndex:0}))}var $Oe=n=>n.stopPropagation();function Rk({children:n,onClose:e,open:r,titleId:i}){T.useEffect(()=>{const u=d=>r&&d.key==="Escape"&&e();return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[r,e]);const[s,o]=T.useState(!0);T.useEffect(()=>{o(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const a=T.useCallback(()=>e(),[e]),l=ROe(),c=Xr();return B.createElement(B.Fragment,null,r?Ka.createPortal(B.createElement(Pde,{enabled:s},B.createElement(ge,{...l},B.createElement(ge,{...l,alignItems:c?"flex-end":"center","aria-labelledby":i,"aria-modal":!0,className:LOe,onClick:a,position:"fixed",role:"dialog"},B.createElement(FOe,{className:BOe,onClick:$Oe,role:"document"},n)))),document.body):null)}var zOe="_1ckjpok7",UOe="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",WOe="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",qOe="_1ckjpok6 ju367vq",HOe="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",VOe="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function Nk({bottomSheetOnMobile:n=!1,children:e,marginTop:r,padding:i="16",paddingBottom:s,wide:o=!1}){const a=Xr(),c=T.useContext(FC)===yx.COMPACT;return B.createElement(ge,{marginTop:r},B.createElement(ge,{className:[o?a?VOe:c?WOe:HOe:UOe,a?qOe:null,a&&n?zOe:null].join(" ")},B.createElement(ge,{padding:i,paddingBottom:s??i},e)))}var qU=["k","m","b","t"];function Z1(n,e=1){return n.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function ahe(n){if(n<1)return Z1(n,3);if(n<10**2)return Z1(n,2);if(n<10**4)return new Intl.NumberFormat().format(Number.parseFloat(Z1(n,1)));const e=10**1;let r=String(n);for(let i=qU.length-1;i>=0;i--){const s=10**((i+1)*3);if(s<=n){n=n*e/s/e,r=Z1(n,1)+qU[i];break}}return r}function lhe(n){return n.length<8?n:`${n.substring(0,4)}${n.substring(n.length-4)}`}function che(n){if(!n)return"";const e=n.split("."),r=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${r}`}var GOe=()=>B.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copied"),B.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),YOe=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copy"),B.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),KOe=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function XOe(){const n=Gde(),{address:e}=Mi(),r=M7();return T.useCallback(()=>{if(!e||!r)throw new Error("No address or chain ID found");n.clearTransactions(e,r)},[n,e,r])}var uhe=n=>{var e,r;return(r=(e=n==null?void 0:n.blockExplorers)==null?void 0:e.default)==null?void 0:r.url},dhe=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Link"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),QOe=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Cancel"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),JOe=()=>B.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Success"),B.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),ZOe=n=>{switch(n){case"pending":return lw;case"confirmed":return JOe;case"failed":return QOe;default:return lw}};function eDe({tx:n}){const e=Xr(),r=ZOe(n.status),i=n.status==="failed"?"error":"accentColor",{chain:s}=Mi(),o=n.status==="confirmed"?"Confirmed":n.status==="failed"?"Failed":"Pending",a=uhe(s);return B.createElement(B.Fragment,null,B.createElement(ge,{...a?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Oi({active:"shrink"}),href:`${a}/tx/${n.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:e?"16":"14"},B.createElement(ge,{color:i},B.createElement(r,null)),B.createElement(ge,{display:"flex",flexDirection:"column",gap:e?"3":"1"},B.createElement(ge,null,B.createElement(Ot,{color:"modalText",font:"body",size:e?"16":"14",weight:"bold"},n==null?void 0:n.description)),B.createElement(ge,null,B.createElement(Ot,{color:n.status==="pending"?"modalTextSecondary":i,font:"body",size:"14",weight:e?"medium":"regular"},o)))),a&&B.createElement(ge,{alignItems:"center",color:"modalTextDim",display:"flex"},B.createElement(dhe,null))))}var tDe=3;function nDe({address:n}){const e=Yde(),r=XOe(),{chain:i}=Mi(),s=uhe(i),o=e.slice(0,tDe),a=o.length>0,l=Xr(),{appName:c}=T.useContext(gx),{i18n:u}=T.useContext(Zr);return B.createElement(B.Fragment,null,B.createElement(ge,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:l?"8":"18"},a&&B.createElement(ge,{paddingBottom:l?"4":"0",paddingTop:"8",paddingX:l?"12":"6"},B.createElement(ge,{display:"flex",justifyContent:"space-between"},B.createElement(Ot,{color:"modalTextSecondary",size:l?"16":"14",weight:"semibold"},u.t("profile.transactions.recent.title")),B.createElement(ge,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},B.createElement(ge,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:Oi({active:"shrink"}),onClick:r,paddingX:l?"8":"12",paddingY:l?"4":"5",transition:"default",type:"button"},B.createElement(Ot,{color:"modalTextSecondary",size:l?"16":"14",weight:"semibold"},u.t("profile.transactions.clear.label")))))),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4"},a?o.map(d=>B.createElement(eDe,{key:d.hash,tx:d})):B.createElement(B.Fragment,null,B.createElement(ge,{padding:l?"12":"8"},B.createElement(Ot,{color:"modalTextDim",size:l?"16":"14",weight:l?"medium":"bold"},c?u.t("profile.transactions.description",{appName:c}):u.t("profile.transactions.description_fallback"))),l&&B.createElement(ge,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),s&&B.createElement(ge,{paddingBottom:"18",paddingX:l?"8":"18"},B.createElement(ge,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Oi({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${s}/address/${n}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...l?{paddingLeft:"12"}:{}},B.createElement(Ot,{color:"modalText",font:"body",size:l?"16":"14",weight:l?"semibold":"bold"},u.t("profile.explorer.label")),B.createElement(dhe,null))))}function HU({action:n,icon:e,label:r,testId:i,url:s}){const o=Xr();return B.createElement(ge,{...s?{as:"a",href:s,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:Oi({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:n,padding:o?"6":"8",style:{willChange:"transform"},testId:i,transition:"default",width:"full"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},B.createElement(ge,{color:"modalText",height:"max"},e),B.createElement(ge,null,B.createElement(Ot,{color:"modalText",size:o?"12":"13",weight:"semibold"},r))))}function rDe({address:n,ensAvatar:e,ensName:r,balance:i,onClose:s,onDisconnect:o}){const a=T.useContext(O7),[l,c]=T.useState(!1),u=T.useCallback(()=>{n&&(navigator.clipboard.writeText(n),c(!0))},[n]);if(T.useEffect(()=>{if(l){const y=setTimeout(()=>{c(!1)},1500);return()=>clearTimeout(y)}},[l]),!n)return null;const d=r?che(r):lhe(n),h=i==null?void 0:i.formatted,f=h?ahe(Number.parseFloat(h)):void 0,p="rk_profile_title",m=Xr(),{i18n:b}=T.useContext(Zr);return B.createElement(B.Fragment,null,B.createElement(ge,{display:"flex",flexDirection:"column"},B.createElement(ge,{background:"profileForeground",padding:"16"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:m?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},B.createElement(ge,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},B.createElement(Jf,{onClose:s}))," ",B.createElement(ge,{marginTop:m?"24":"0"},B.createElement(pMe,{address:n,imageUrl:e,size:m?82:74})),B.createElement(ge,{display:"flex",flexDirection:"column",gap:m?"4":"0",textAlign:"center"},B.createElement(ge,{textAlign:"center"},B.createElement(Ot,{as:"h1",color:"modalText",id:p,size:m?"20":"18",weight:"heavy"},d)),!!i&&B.createElement(ge,{textAlign:"center"},B.createElement(Ot,{as:"h1",color:"modalTextSecondary",id:p,size:m?"16":"14",weight:"semibold"},f," ",i.symbol)))),B.createElement(ge,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},B.createElement(HU,{action:u,icon:l?B.createElement(GOe,null):B.createElement(YOe,null),label:l?b.t("profile.copy_address.copied"):b.t("profile.copy_address.label")}),B.createElement(HU,{action:o,icon:B.createElement(KOe,null),label:b.t("profile.disconnect.label"),testId:"disconnect-button"}))),a&&B.createElement(B.Fragment,null,B.createElement(ge,{background:"generalBorder",height:"1",marginTop:"-1"}),B.createElement(ge,null,B.createElement(nDe,{address:n})))))}function iDe({onClose:n,open:e}){const{address:r}=Mi(),{balance:i,ensAvatar:s,ensName:o}=qde({address:r,includeBalance:e}),{disconnect:a}=px();return r?B.createElement(B.Fragment,null,r&&B.createElement(Rk,{onClose:n,open:e,titleId:"rk_account_modal_title"},B.createElement(Nk,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(rDe,{address:r,ensAvatar:s,ensName:o,balance:i,onClose:n,onDisconnect:a})))):null}var sDe=({size:n})=>B.createElement("svg",{fill:"none",height:n,viewBox:"0 0 28 28",width:n,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),oDe="v9horb0",B7=B.forwardRef(({children:n,currentlySelected:e=!1,onClick:r,testId:i,...s},o)=>{const a=Xr();return B.createElement(ge,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:r,ref:o,testId:i,type:"button"},B.createElement(ge,{borderRadius:"menuButton",className:[a?oDe:void 0,!e&&Oi({active:"shrink"})],padding:a?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...s},n))});B7.displayName="MenuButton";var aDe=({chainId:n,currentChainId:e,switchChain:r,chainIconSize:i,isLoading:s,src:o,name:a,iconBackground:l,idx:c})=>{const u=Xr(),{i18n:d}=T.useContext(Zr),h=X0(),f=e===n;return B.createElement(T.Fragment,null,B.createElement(B7,{currentlySelected:f,onClick:f?void 0:()=>r({chainId:n}),testId:`chain-option-${n}`},B.createElement(ge,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:i},o&&B.createElement(ge,{height:"full",marginRight:"8"},B.createElement(Pi,{alt:a,background:l,borderRadius:"full",height:i,src:o,width:i,testId:`chain-option-${n}-icon`})),B.createElement("div",null,a??a)),f&&B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(Ot,{color:"accentColorForeground",size:"14",weight:"medium"},d.t("chains.connected")),B.createElement(ge,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),s&&B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(Ot,{color:"modalText",size:"14",weight:"medium"},d.t("chains.confirm")),B.createElement(ge,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),u&&c<h.length-1&&B.createElement(ge,{background:"generalBorderDim",height:"1",marginX:"8"}))},lDe=aDe,cDe="_18dqw9x0",uDe="_18dqw9x1";function dDe({onClose:n,open:e}){const{chainId:r}=Mi(),{chains:i}=Jr(),[s,o]=T.useState(null),{switchChain:a}=XTe({mutation:{onMutate:({chainId:m})=>{o(m)},onSuccess:()=>{s&&o(null)},onError:()=>{s&&o(null)},onSettled:()=>{n()}}}),{i18n:l}=T.useContext(Zr),{disconnect:c}=px(),u="rk_chain_modal_title",d=Xr(),h=i.some(m=>m.id===r),f=d?"36":"28",p=X0();return r?B.createElement(Rk,{onClose:n,open:e,titleId:u},B.createElement(Nk,{bottomSheetOnMobile:!0,paddingBottom:"0"},B.createElement(ge,{display:"flex",flexDirection:"column",gap:"14"},B.createElement(ge,{display:"flex",flexDirection:"row",justifyContent:"space-between"},d&&B.createElement(ge,{width:"30"}),B.createElement(ge,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},B.createElement(Ot,{as:"h1",color:"modalText",id:u,size:d?"20":"18",weight:"heavy"},l.t("chains.title"))),B.createElement(Jf,{onClose:n})),!h&&B.createElement(ge,{marginX:"8",textAlign:d?"center":"left"},B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},l.t("chains.wrong_network"))),B.createElement(ge,{className:d?uDe:cDe,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},p.map(({iconBackground:m,iconUrl:b,id:y,name:v},w)=>B.createElement(lDe,{key:y,chainId:y,currentChainId:r,switchChain:a,chainIconSize:f,isLoading:s===y,src:b,name:v,iconBackground:m,idx:w})),!h&&B.createElement(B.Fragment,null,B.createElement(ge,{background:"generalBorderDim",height:"1",marginX:"8"}),B.createElement(B7,{onClick:()=>c(),testId:"chain-option-disconnect"},B.createElement(ge,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:f},B.createElement(ge,{alignItems:"center",color:"error",height:f,justifyContent:"center",marginRight:"8"},B.createElement(sDe,{size:Number(f)})),B.createElement("div",null,l.t("chains.disconnect"))))))))))):null}function hDe(n,e){const r={};for(const i of n){const s=e(i);s&&(r[s]||(r[s]=[]),r[s].push(i))}return r}var L7=({children:n,href:e})=>B.createElement(ge,{as:"a",color:"accentColor",href:e,rel:"noreferrer",target:"_blank"},n),F7=({children:n})=>B.createElement(Ot,{color:"modalTextSecondary",size:"12",weight:"medium"},n);function VU({compactModeEnabled:n=!1,getWallet:e}){const{disclaimer:r,learnMoreUrl:i}=T.useContext(gx),{i18n:s}=T.useContext(Zr);return B.createElement(B.Fragment,null,B.createElement(ge,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},B.createElement(ge,{marginBottom:"10"},!n&&B.createElement(Ot,{color:"modalText",size:"18",weight:"heavy"},s.t("intro.title"))),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(ge,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(kOe,null)),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Ot,{color:"modalText",size:"14",weight:"bold"},s.t("intro.digital_asset.title")),B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t("intro.digital_asset.description")))),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(ge,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(EOe,null)),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Ot,{color:"modalText",size:"14",weight:"bold"},s.t("intro.login.title")),B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t("intro.login.description"))))),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},B.createElement(ps,{label:s.t("intro.get.label"),onClick:e}),B.createElement(ge,{as:"a",className:Oi({active:"shrink",hover:"grow"}),display:"block",href:i,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Ot,{color:"accentColor",size:"14",weight:"bold"},s.t("intro.learn_more.label")))),r&&!n&&B.createElement(ge,{marginBottom:"8",marginTop:"12",textAlign:"center"},B.createElement(r,{Link:L7,Text:F7}))))}var hhe=()=>B.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Back"),B.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),fDe=()=>B.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Info"),B.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),pDe=({"aria-label":n="Info",onClick:e})=>{const r=Xr();return B.createElement(ge,{alignItems:"center","aria-label":n,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:Oi({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},B.createElement(fDe,null))},fhe=n=>{const e=T.useRef(null),r=T.useContext(Xde),i=LC(n);return T.useEffect(()=>{if(r&&e.current&&i)return gDe(e.current,i)},[r,i]),e},mDe=()=>{const n="_rk_coolMode",e=document.getElementById(n);if(e)return e;const r=document.createElement("div");return r.setAttribute("id",n),r.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(r),r},GU=0;function gDe(n,e){GU++;const r=[15,20,25,35,45],i=35;let s=[],o=!1,a=0,l=0;const c=mDe();function u(){const x=r[Math.floor(Math.random()*r.length)],S=Math.random()*10,C=Math.random()*25,E=Math.random()*360,A=Math.random()*35*(Math.random()<=.5?-1:1),M=l-x/2,I=a-x/2,O=Math.random()<=.5?-1:1,F=document.createElement("div");F.innerHTML=`<img src="${e}" width="${x}" height="${x}" style="border-radius: 25%">`,F.setAttribute("style",["position:absolute","will-change:transform",`top:${M}px`,`left:${I}px`,`transform:rotate(${E}deg)`].join(";")),c.appendChild(F),s.push({direction:O,element:F,left:I,size:x,speedHorz:S,speedUp:C,spinSpeed:A,spinVal:E,top:M})}function d(){for(const x of s)x.left=x.left-x.speedHorz*x.direction,x.top=x.top-x.speedUp,x.speedUp=Math.min(x.size,x.speedUp-1),x.spinVal=x.spinVal+x.spinSpeed,x.top>=Math.max(window.innerHeight,document.body.clientHeight)+x.size&&(s=s.filter(S=>S!==x),x.element.remove()),x.element.setAttribute("style",["position:absolute","will-change:transform",`top:${x.top}px`,`left:${x.left}px`,`transform:rotate(${x.spinVal}deg)`].join(";"))}let h;function f(){o&&s.length<i&&u(),d(),h=requestAnimationFrame(f)}f();const p="ontouchstart"in window||navigator.msMaxTouchPoints,m=p?"touchstart":"mousedown",b=p?"touchend":"mouseup",y=p?"touchmove":"mousemove",v=x=>{var S,C;"touches"in x?(a=(S=x.touches)==null?void 0:S[0].clientX,l=(C=x.touches)==null?void 0:C[0].clientY):(a=x.clientX,l=x.clientY)},w=x=>{v(x),o=!0},_=()=>{o=!1};return n.addEventListener(y,v,{passive:!1}),n.addEventListener(m,w),n.addEventListener(b,_),n.addEventListener("mouseleave",_),()=>{n.removeEventListener(y,v),n.removeEventListener(m,w),n.removeEventListener(b,_),n.removeEventListener("mouseleave",_);const x=setInterval(()=>{h&&s.length===0&&(cancelAnimationFrame(h),clearInterval(x),--GU===0&&c.remove())},500)}}var bDe="g5kl0l0",phe=({as:n="button",currentlySelected:e=!1,iconBackground:r,iconUrl:i,name:s,onClick:o,ready:a,recent:l,testId:c,isRainbowKitConnector:u,...d})=>{const h=fhe(i),[f,p]=B.useState(!1),{i18n:m}=B.useContext(Zr);return B.createElement(ge,{display:"flex",flexDirection:"column",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),ref:h},B.createElement(ge,{as:n,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:e?void 0:[bDe,Oi({active:"shrink"})],disabled:e,onClick:o,padding:"5",style:{willChange:"transform"},testId:c,transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...d},B.createElement(ge,{color:e?"accentColorForeground":"modalText",disabled:!a,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},B.createElement(Pi,{background:r,...!f&&u?{borderColor:"actionButtonBorder"}:{},useAsImage:!u,borderRadius:"6",height:"28",src:i,width:"28"}),B.createElement(ge,null,B.createElement(ge,{style:{marginTop:l?-2:void 0},maxWidth:"200"},s),l&&B.createElement(Ot,{color:e?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},m.t("connect.recent")))))))};phe.displayName="ModalSelection";var yDe="rk-latest-id";function vDe(n){localStorage.setItem(yDe,n)}var j5=(n,e=1)=>{let r=n.replace("#","");r.length===3&&(r=`${r[0]}${r[0]}${r[1]}${r[1]}${r[2]}${r[2]}`);const i=Number.parseInt(r.substring(0,2),16),s=Number.parseInt(r.substring(2,4),16),o=Number.parseInt(r.substring(4,6),16);return e>1&&e<=100&&(e=e/100),`rgba(${i},${s},${o},${e})`},wDe=n=>n?[j5(n,.2),j5(n,.14),j5(n,.1)]:null,xDe=n=>/^#([0-9a-f]{3}){1,2}$/i.test(n),mhe=async()=>(await bt(async()=>{const{default:n}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:n}},[])).default,_De=()=>Gl(mhe),SDe=()=>B.createElement(Pi,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:mhe,width:"48"}),ghe=async()=>(await bt(async()=>{const{default:n}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:n}},[])).default,bhe=()=>Gl(ghe),kDe=()=>B.createElement(Pi,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:ghe,width:"48"}),yhe=async()=>(await bt(async()=>{const{default:n}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:n}},[])).default,CDe=()=>Gl(yhe),EDe=()=>B.createElement(Pi,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:yhe,width:"48"}),vhe=async()=>(await bt(async()=>{const{default:n}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:n}},[])).default,whe=()=>Gl(vhe),ADe=()=>B.createElement(Pi,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:vhe,width:"48"}),TDe="_1vwt0cg0",PDe="_1vwt0cg2 ju367v7a ju367v7v",IDe="_1vwt0cg3",MDe="_1vwt0cg4";function xhe({ecc:n="medium",logoBackground:e,logoSize:r=50,logoUrl:i,size:s=200,uri:o}){const a="20",l=s-Number.parseInt(a,10)*2,c=LC(i);return B.createElement(ge,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:TDe,padding:a,width:"max"},B.createElement(ge,{style:{height:l,userSelect:"none",width:l},userSelect:"none"},B.createElement(Pl.Root,{errorCorrection:n,size:l,value:o},B.createElement(Pl.Cells,{radius:1}),B.createElement(Pl.Finder,{radius:.25}),c&&B.createElement(Pl.Arena,null,B.createElement("img",{alt:"Wallet Logo",src:c,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:e}})))))}var _he=async()=>{switch(R7()){case"Arc":return(await bt(async()=>{const{default:e}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:e}},[])).default;case"Brave":return(await bt(async()=>{const{default:e}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:e}},[])).default;case"Chrome":return(await bt(async()=>{const{default:e}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:e}},[])).default;case"Edge":return(await bt(async()=>{const{default:e}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:e}},[])).default;case"Firefox":return(await bt(async()=>{const{default:e}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:e}},[])).default;case"Opera":return(await bt(async()=>{const{default:e}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:e}},[])).default;case"Safari":return(await bt(async()=>{const{default:e}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:e}},[])).default;default:return(await bt(async()=>{const{default:e}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:e}},[])).default}},ODe=()=>Gl(_he),She=async()=>{switch(j7()){case"Windows":return(await bt(async()=>{const{default:e}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:e}},[])).default;case"macOS":return(await bt(async()=>{const{default:e}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:e}},[])).default;case"Linux":return(await bt(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default;default:return(await bt(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default}},DDe=()=>Gl(She);function RDe({getWalletDownload:n,compactModeEnabled:e}){const i=cw().filter(o=>o.isRainbowKitConnector).splice(0,5),{i18n:s}=T.useContext(Zr);return B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},i==null?void 0:i.filter(o=>{var a;return o.extensionDownloadUrl||o.desktopDownloadUrl||o.qrCode&&((a=o.downloadUrls)==null?void 0:a.qrCode)}).map(o=>{const{downloadUrls:a,iconBackground:l,iconUrl:c,id:u,name:d,qrCode:h}=o,f=(a==null?void 0:a.qrCode)&&h,p=!!o.extensionDownloadUrl,m=(a==null?void 0:a.qrCode)&&p,b=(a==null?void 0:a.qrCode)&&!!o.desktopDownloadUrl;return B.createElement(ge,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:o.id,width:"full"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(Pi,{background:l,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:c,width:"48"}),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"2"},B.createElement(Ot,{color:"modalText",size:"14",weight:"bold"},d),B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},m?s.t("get.mobile_and_extension.description"):b?s.t("get.mobile_and_desktop.description"):f?s.t("get.mobile.description"):p?s.t("get.extension.description"):null))),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(ps,{label:s.t("get.action.label"),onClick:()=>n(u),type:"secondary"})))})),B.createElement(ge,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},B.createElement(Ot,{color:"modalText",size:"14",weight:"bold"},s.t("get.looking_for.title")),B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},e?s.t("get.looking_for.desktop.compact_description"):s.t("get.looking_for.desktop.wide_description"))))}var B5="44";function NDe({changeWalletStep:n,compactModeEnabled:e,connectionError:r,onClose:i,qrCodeUri:s,reconnect:o,wallet:a}){const{downloadUrls:l,iconBackground:c,iconUrl:u,name:d,qrCode:h,ready:f,showWalletConnectModal:p,getDesktopUri:m}=a,b=!!m,y=D7(),{i18n:v}=T.useContext(Zr),w=!!a.extensionDownloadUrl,_=(l==null?void 0:l.qrCode)&&w,x=(l==null?void 0:l.qrCode)&&!!a.desktopDownloadUrl,S=h&&s,C=async()=>{const I=await(m==null?void 0:m());window.open(I,y?"_blank":"_self")},E=p?{description:e?v.t("connect.walletconnect.description.compact"):v.t("connect.walletconnect.description.full"),label:v.t("connect.walletconnect.open.label"),onClick:()=>{i(),p()}}:S?{description:v.t("connect.secondary_action.get.description",{wallet:d}),label:v.t("connect.secondary_action.get.label"),onClick:()=>n(_||x?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:A}=Qde(),M=A&&A<768;return T.useEffect(()=>{ODe(),DDe()},[]),B.createElement(ge,{display:"flex",flexDirection:"column",height:"full",width:"full"},S?B.createElement(ge,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},B.createElement(xhe,{logoBackground:c,logoSize:e?60:72,logoUrl:u,size:e?318:M?Math.max(280,Math.min(A-308,382)):382,uri:s})):B.createElement(ge,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},B.createElement(ge,{borderRadius:"10",height:B5,overflow:"hidden"},B.createElement(Pi,{useAsImage:!a.isRainbowKitConnector,height:B5,src:u,width:B5})),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},B.createElement(Ot,{color:"modalText",size:"18",weight:"bold"},f?v.t("connect.status.opening",{wallet:d}):w?v.t("connect.status.not_installed",{wallet:d}):v.t("connect.status.not_available",{wallet:d})),!f&&w?B.createElement(ge,{paddingTop:"20"},B.createElement(ps,{href:a.extensionDownloadUrl,label:v.t("connect.secondary_action.install.label"),type:"secondary"})):null,f&&!S&&B.createElement(B.Fragment,null,B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(Ot,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},v.t("connect.status.confirm"))),B.createElement(ge,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},r?B.createElement(ps,{label:v.t("connect.secondary_action.retry.label"),onClick:async()=>{b&&C(),o(a)}}):B.createElement(ge,{color:"modalTextSecondary"},B.createElement(lw,null))))))),B.createElement(ge,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},f&&E&&B.createElement(B.Fragment,null,B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},E.description),B.createElement(ps,{label:E.label,onClick:E.onClick,type:"secondary"}))))}var L5=({actionLabel:n,description:e,iconAccent:r,iconBackground:i,iconUrl:s,isCompact:o,onAction:a,title:l,url:c,variant:u})=>{const d=u==="browser",h=!d&&r&&wDe(r);return B.createElement(ge,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},B.createElement(ge,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),d&&B.createElement(ge,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},B.createElement(ge,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},B.createElement(ge,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},B.createElement(Pi,{borderRadius:"full",height:"200",src:s,width:"200"})),B.createElement(ge,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},B.createElement(Pi,{borderRadius:"full",height:"200",src:s,width:"200"})))),!d&&h&&B.createElement(ge,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},B.createElement(ge,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${h[0]} 0%, ${h[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),B.createElement(ge,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${h[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),B.createElement(ge,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},B.createElement(ge,null,B.createElement(Pi,{height:"60",src:s,width:"60",...i?{background:i,borderColor:"generalBorder",borderRadius:"10"}:null})),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},B.createElement(Ot,{color:"modalText",size:"14",weight:"bold"},l),B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},e),B.createElement(ge,{marginTop:"14",width:"max"},B.createElement(ps,{href:c,label:n,onClick:a,size:"medium"})))))};function jDe({changeWalletStep:n,wallet:e}){const r=R7(),i=j7(),o=T.useContext(FC)==="compact",{desktop:a,desktopDownloadUrl:l,extension:c,extensionDownloadUrl:u,mobileDownloadUrl:d}=e,{i18n:h}=T.useContext(Zr);return T.useEffect(()=>{bhe(),whe(),CDe(),_De()},[]),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},u&&B.createElement(L5,{actionLabel:h.t("get_options.extension.download.label",{browser:r}),description:h.t("get_options.extension.description"),iconUrl:_he,isCompact:o,onAction:()=>n(c!=null&&c.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:h.t("get_options.extension.title",{wallet:e.name,browser:r}),url:u,variant:"browser"}),l&&B.createElement(L5,{actionLabel:h.t("get_options.desktop.download.label",{platform:i}),description:h.t("get_options.desktop.description"),iconUrl:She,isCompact:o,onAction:()=>n(a!=null&&a.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:h.t("get_options.desktop.title",{wallet:e.name,platform:i}),url:l,variant:"desktop"}),d&&B.createElement(L5,{actionLabel:h.t("get_options.mobile.download.label",{wallet:e.name}),description:h.t("get_options.mobile.description"),iconAccent:e.iconAccent,iconBackground:e.iconBackground,iconUrl:e.iconUrl,isCompact:o,onAction:()=>{n("DOWNLOAD")},title:h.t("get_options.mobile.title",{wallet:e.name}),variant:"app"})))}function BDe({changeWalletStep:n,wallet:e}){const{downloadUrls:r,qrCode:i}=e,{i18n:s}=T.useContext(Zr);return T.useEffect(()=>{bhe(),whe()},[]),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},B.createElement(ge,{style:{maxWidth:220,textAlign:"center"}},B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"semibold"},s.t("get_mobile.description"))),B.createElement(ge,{height:"full"},r!=null&&r.qrCode?B.createElement(xhe,{logoSize:0,size:268,uri:r.qrCode}):null),B.createElement(ge,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},B.createElement(ps,{label:s.t("get_mobile.continue.label"),onClick:()=>n(i!=null&&i.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var Jc={connect:()=>B.createElement(SDe,null),create:()=>B.createElement(kDe,null),install:n=>B.createElement(Pi,{background:n.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:n.iconUrl,width:"48"}),refresh:()=>B.createElement(EDe,null),scan:()=>B.createElement(ADe,null)};function LDe({connectWallet:n,wallet:e}){var i,s,o,a;const{i18n:r}=T.useContext(Zr);return B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(ge,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(s=(i=e==null?void 0:e.qrCode)==null?void 0:i.instructions)==null?void 0:s.steps.map((l,c)=>{var u;return B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:c},B.createElement(ge,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(u=Jc[l.step])==null?void 0:u.call(Jc,e)),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Ot,{color:"modalText",size:"14",weight:"bold"},r.t(l.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},r.t(l.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(ps,{label:r.t("get_instructions.mobile.connect.label"),onClick:()=>n(e)}),B.createElement(ge,{as:"a",className:Oi({active:"shrink",hover:"grow"}),display:"block",href:(a=(o=e==null?void 0:e.qrCode)==null?void 0:o.instructions)==null?void 0:a.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Ot,{color:"accentColor",size:"14",weight:"bold"},r.t("get_instructions.mobile.learn_more.label")))))}function FDe({wallet:n}){var r,i,s,o;const{i18n:e}=T.useContext(Zr);return B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(ge,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(i=(r=n==null?void 0:n.extension)==null?void 0:r.instructions)==null?void 0:i.steps.map((a,l)=>{var c;return B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:l},B.createElement(ge,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(c=Jc[a.step])==null?void 0:c.call(Jc,n)),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Ot,{color:"modalText",size:"14",weight:"bold"},e.t(a.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},e.t(a.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(ps,{label:e.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),B.createElement(ge,{as:"a",className:Oi({active:"shrink",hover:"grow"}),display:"block",href:(o=(s=n==null?void 0:n.extension)==null?void 0:s.instructions)==null?void 0:o.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Ot,{color:"accentColor",size:"14",weight:"bold"},e.t("get_instructions.extension.learn_more.label")))))}function $De({connectWallet:n,wallet:e}){var i,s,o,a;const{i18n:r}=T.useContext(Zr);return B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(ge,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(s=(i=e==null?void 0:e.desktop)==null?void 0:i.instructions)==null?void 0:s.steps.map((l,c)=>{var u;return B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:c},B.createElement(ge,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(u=Jc[l.step])==null?void 0:u.call(Jc,e)),B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Ot,{color:"modalText",size:"14",weight:"bold"},r.t(l.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},r.t(l.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(ps,{label:r.t("get_instructions.desktop.connect.label"),onClick:()=>n(e)}),B.createElement(ge,{as:"a",className:Oi({active:"shrink",hover:"grow"}),display:"block",href:(a=(o=e==null?void 0:e.desktop)==null?void 0:o.instructions)==null?void 0:a.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Ot,{color:"accentColor",size:"14",weight:"bold"},r.t("get_instructions.desktop.learn_more.label")))))}function zDe({onClose:n}){const e="rk_connect_title",[r,i]=T.useState(),[s,o]=T.useState(),[a,l]=T.useState(),c=!!(s!=null&&s.qrCode)&&a,[u,d]=T.useState(!1),f=T.useContext(FC)===yx.COMPACT,{disclaimer:p}=T.useContext(gx),{i18n:m}=T.useContext(Zr),b=D7(),y=T.useRef(!1),{connector:v}=T.useContext(bx),_=cw(!v).filter(G=>G.ready||!!G.extensionDownloadUrl).sort((G,Z)=>G.groupIndex-Z.groupIndex),x=cw(),S=hDe(_,G=>G.groupName),C=["Recommended","Other","Popular","More","Others","Installed"];T.useEffect(()=>{v&&!y.current&&($("CONNECT"),I(v),y.current=!0)},[v]);const E=G=>{var Z,pe;d(!1),G.ready&&((pe=(Z=G==null?void 0:G.connect)==null?void 0:Z.call(G))==null||pe.catch(()=>{d(!0)}))},A=async G=>{const Z=_.find(pe=>G.id===pe.id);Z!=null&&Z.getDesktopUri&&setTimeout(async()=>{var re;const pe=await((re=Z==null?void 0:Z.getDesktopUri)==null?void 0:re.call(Z));pe&&window.open(pe,b?"_blank":"_self")},0)},M=async G=>{var re;const Z=_.find(le=>G.id===le.id),pe=await((re=Z==null?void 0:Z.getQrCodeUri)==null?void 0:re.call(Z));l(pe),setTimeout(()=>{o(Z),$("CONNECT")},pe?0:50)},I=async G=>{vDe(G.id),G.ready&&(M(G),A(G)),E(G),i(G.id),G.ready||(o(G),$(G!=null&&G.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},O=G=>{var ce;const Z=x.find(Pe=>G===Pe.id),pe=(ce=Z==null?void 0:Z.downloadUrls)==null?void 0:ce.qrCode,re=!!(Z!=null&&Z.desktopDownloadUrl),le=!!(Z!=null&&Z.extensionDownloadUrl);o(Z),$(pe&&(le||re)?"DOWNLOAD_OPTIONS":pe?"DOWNLOAD":re?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},F=()=>{i(void 0),o(void 0),l(void 0)},$=(G,Z=!1)=>{Z&&G==="GET"&&z==="GET"?F():!Z&&G==="GET"?R("GET"):!Z&&G==="CONNECT"&&R("CONNECT"),N(G)},[z,R]=T.useState("NONE"),[j,N]=T.useState("NONE");let D=null,H=null,U=null,X;T.useEffect(()=>{d(!1)},[j,s]);const ee=!!(!!(s!=null&&s.extensionDownloadUrl)&&(s!=null&&s.mobileDownloadUrl));switch(j){case"NONE":D=B.createElement(VU,{getWallet:()=>$("GET")});break;case"LEARN_COMPACT":D=B.createElement(VU,{compactModeEnabled:f,getWallet:()=>$("GET")}),H=m.t("intro.title"),U="NONE";break;case"GET":D=B.createElement(RDe,{getWalletDownload:O,compactModeEnabled:f}),H=m.t("get.title"),U=f?"LEARN_COMPACT":"NONE";break;case"CONNECT":D=s&&B.createElement(NDe,{changeWalletStep:$,compactModeEnabled:f,connectionError:u,onClose:n,qrCodeUri:a,reconnect:E,wallet:s}),H=c&&(s.name==="WalletConnect"?m.t("connect_scan.fallback_title"):m.t("connect_scan.title",{wallet:s.name})),U=f?v?null:"NONE":null,X=f?v?()=>{}:F:()=>{};break;case"DOWNLOAD_OPTIONS":D=s&&B.createElement(jDe,{changeWalletStep:$,wallet:s}),H=s&&m.t("get_options.short_title",{wallet:s.name}),U=v?"CONNECT":f?"NONE":z;break;case"DOWNLOAD":D=s&&B.createElement(BDe,{changeWalletStep:$,wallet:s}),H=s&&m.t("get_mobile.title",{wallet:s.name}),U=ee?"DOWNLOAD_OPTIONS":z;break;case"INSTRUCTIONS_MOBILE":D=s&&B.createElement(LDe,{connectWallet:I,wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":D=s&&B.createElement(FDe,{wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":D=s&&B.createElement($De,{connectWallet:I,wallet:s}),H=s&&m.t("get_options.title",{wallet:f&&s.shortName||s.name}),U="DOWNLOAD_OPTIONS";break}return B.createElement(ge,{display:"flex",flexDirection:"row",style:{maxHeight:f?468:504}},(f?j==="NONE":!0)&&B.createElement(ge,{className:f?MDe:IDe,display:"flex",flexDirection:"column",marginTop:"16"},B.createElement(ge,{display:"flex",justifyContent:"space-between"},f&&p&&B.createElement(ge,{marginLeft:"16",width:"28"},B.createElement(pDe,{onClick:()=>$("LEARN_COMPACT")})),f&&!p&&B.createElement(ge,{marginLeft:"16",width:"28"}),B.createElement(ge,{marginLeft:f?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},B.createElement(Ot,{as:"h1",color:"modalText",id:e,size:"18",weight:"heavy",testId:"connect-header-label"},m.t("connect.title"))),f&&B.createElement(ge,{marginRight:"16"},B.createElement(Jf,{onClose:n}))),B.createElement(ge,{className:PDe,paddingBottom:"18"},Object.entries(S).map(([G,Z],pe)=>Z.length>0&&B.createElement(T.Fragment,{key:pe},G?B.createElement(ge,{marginBottom:"8",marginTop:"16",marginX:"6"},B.createElement(Ot,{color:G==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},C.includes(G)?m.t(`connector_group.${G.toLowerCase()}`):G)):null,B.createElement(ge,{display:"flex",flexDirection:"column",gap:"4"},Z.map(re=>B.createElement(phe,{currentlySelected:re.id===r,iconBackground:re.iconBackground,iconUrl:re.iconUrl,key:re.id,name:re.name,onClick:()=>I(re),ready:re.ready,recent:re.recent,testId:`wallet-option-${re.id}`,isRainbowKitConnector:re.isRainbowKitConnector})))))),f&&B.createElement(B.Fragment,null,B.createElement(ge,{background:"generalBorder",height:"1",marginTop:"-1"}),p?B.createElement(ge,{paddingX:"24",paddingY:"16",textAlign:"center"},B.createElement(p,{Link:L7,Text:F7})):B.createElement(ge,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},B.createElement(ge,{paddingY:"4"},B.createElement(Ot,{color:"modalTextSecondary",size:"14",weight:"medium"},m.t("connect.new_to_ethereum.description"))),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},B.createElement(ge,{className:Oi({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>$("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},B.createElement(Ot,{color:"accentColor",size:"14",weight:"bold"},m.t("connect.new_to_ethereum.learn_more.label"))))))),(f?j!=="NONE":!0)&&B.createElement(B.Fragment,null,!f&&B.createElement(ge,{background:"generalBorder",minWidth:"1",width:"1"}),B.createElement(ge,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},B.createElement(ge,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},B.createElement(ge,{width:"28"},U&&B.createElement(ge,{as:"button",className:Oi({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{U&&$(U,!0),X==null||X()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(hhe,null))),B.createElement(ge,{display:"flex",justifyContent:"center",style:{flexGrow:1}},H&&B.createElement(Ot,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},H)),B.createElement(Jf,{onClose:n})),B.createElement(ge,{display:"flex",flexDirection:"column",style:{minHeight:f?396:432}},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},D)))))}var UDe="_1am14412",WDe="_1am14410",qDe="_1am14413",HDe=({wallet:n})=>B.createElement("svg",{className:qDe,viewBox:"0 0 86 86",width:"86",height:"86"},B.createElement("title",null,"Loading"),B.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:UDe,style:{stroke:(n==null?void 0:n.iconAccent)||"#0D3887"}}));function khe({onClose:n,wallet:e,connecting:r}){const{connect:i,iconBackground:s,iconUrl:o,id:a,name:l,getMobileUri:c,ready:u,shortName:d,showWalletConnectModal:h}=e,f=fhe(o),p=T.useRef(!1),{i18n:m}=T.useContext(Zr),b=T.useCallback(async()=>{if(a!=="walletConnect"&&(async()=>{const v=await(c==null?void 0:c());if(v)if(v&&MOe({mobileUri:v,name:l}),v.startsWith("http")){const w=document.createElement("a");w.href=v,w.target="_blank",w.rel="noreferrer noopener",w.click()}else window.location.href=v})(),h){h(),n==null||n();return}try{await(i==null?void 0:i())}catch{}},[i,c,h,n,l,a]);return T.useEffect(()=>{r&&!p.current&&(b(),p.current=!0)},[r,b]),B.createElement(ge,{as:"button",color:u?"modalText":"modalTextSecondary",disabled:!u,fontFamily:"body",key:a,onClick:b,ref:f,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${a}`,type:"button",width:"full"},B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(ge,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},r?B.createElement(HDe,{wallet:e}):null,B.createElement(Pi,{background:s,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),r?null:B.createElement(ge,{display:"flex",flexDirection:"column",textAlign:"center"},B.createElement(Ot,{as:"h2",color:e.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},B.createElement(ge,{as:"span",position:"relative"},d??l,!e.ready&&" (unsupported)")),e.recent&&B.createElement(Ot,{color:"accentColor",size:"12",weight:"medium"},m.t("connect.recent")))))}function VDe({onClose:n}){var p;const e="rk_connect_title",r=cw().filter(m=>m.isRainbowKitConnector),{disclaimer:i,learnMoreUrl:s}=T.useContext(gx);let o=null,a=null,l=!1,c=null;const[u,d]=T.useState("CONNECT"),{i18n:h}=T.useContext(Zr),f=mx();switch(u){case"CONNECT":{o=h.t("connect.title"),l=!0,a=B.createElement(ge,null,B.createElement(ge,{background:"profileForeground",className:WDe,display:"flex",paddingBottom:"20",paddingTop:"6",paddingX:"20",style:{gap:"calc((100% - 40px - 240px + 47px) / 4)"}},r.filter(m=>m.ready).map(m=>B.createElement(ge,{key:m.id,width:"60"},B.createElement(khe,{onClose:n,wallet:m})))),B.createElement(ge,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},B.createElement(ge,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},B.createElement(Ot,{color:"modalText",size:"16",weight:"bold"},h.t("intro.title")),B.createElement(Ot,{color:"modalTextSecondary",size:"16"},h.t("intro.description")))),B.createElement(ge,{paddingTop:"32",paddingX:"20"},B.createElement(ge,{display:"flex",gap:"14",justifyContent:"center"},B.createElement(ps,{label:h.t("intro.get.label"),onClick:()=>d("GET"),size:"large",type:"secondary"}),B.createElement(ps,{href:s,label:h.t("intro.learn_more.label"),size:"large",type:"secondary"}))),i&&B.createElement(ge,{marginTop:"28",marginX:"32",textAlign:"center"},B.createElement(i,{Link:L7,Text:F7})));break}case"GET":{o=h.t("get.title"),c="CONNECT";const m=(p=r==null?void 0:r.filter(b=>{var y,v,w;return((y=b.downloadUrls)==null?void 0:y.ios)||((v=b.downloadUrls)==null?void 0:v.android)||((w=b.downloadUrls)==null?void 0:w.mobile)}))==null?void 0:p.splice(0,3);a=B.createElement(ge,null,B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},m.map((b,y)=>{const{downloadUrls:v,iconBackground:w,iconUrl:_,name:x}=b;return!(v!=null&&v.ios)&&!(v!=null&&v.android)&&!(v!=null&&v.mobile)?null:B.createElement(ge,{display:"flex",gap:"16",key:b.id,paddingX:"20",width:"full"},B.createElement(ge,{style:{minHeight:48,minWidth:48}},B.createElement(Pi,{background:w,borderColor:"generalBorder",borderRadius:"10",height:"48",src:_,width:"48"})),B.createElement(ge,{display:"flex",flexDirection:"column",width:"full"},B.createElement(ge,{alignItems:"center",display:"flex",height:"48"},B.createElement(ge,{width:"full"},B.createElement(Ot,{color:"modalText",size:"18",weight:"bold"},x)),B.createElement(ps,{href:(f?v==null?void 0:v.ios:v==null?void 0:v.android)||(v==null?void 0:v.mobile),label:h.t("get.action.label"),size:"small",type:"secondary"})),y<m.length-1&&B.createElement(ge,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),B.createElement(ge,{style:{marginBottom:"42px"}}),B.createElement(ge,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},B.createElement(ge,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},B.createElement(Ot,{color:"modalText",size:"16",weight:"bold"},h.t("get.looking_for.title")),B.createElement(Ot,{color:"modalTextSecondary",size:"16"},h.t("get.looking_for.mobile.description")))));break}}return B.createElement(ge,{display:"flex",flexDirection:"column",paddingBottom:"36"},B.createElement(ge,{background:l?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},B.createElement(ge,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},c&&B.createElement(ge,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},B.createElement(ge,{alignItems:"center",as:"button",className:Oi({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>d(c),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(hhe,null))),B.createElement(ge,{marginTop:"4",textAlign:"center",width:"full"},B.createElement(Ot,{as:"h1",color:"modalText",id:e,size:"20",weight:"bold"},o)),B.createElement(ge,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},B.createElement(ge,{style:{marginBottom:-20,marginTop:-20}},B.createElement(Jf,{onClose:n}))))),B.createElement(ge,{display:"flex",flexDirection:"column"},a))}var GDe=({onClose:n})=>{const{connector:e}=T.useContext(bx),{i18n:r}=T.useContext(Zr),i=(e==null?void 0:e.name)||"";return B.createElement(ge,null,B.createElement(ge,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},B.createElement(ge,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},B.createElement(Jf,{onClose:n})),B.createElement(ge,{width:"60"},B.createElement(khe,{onClose:n,wallet:e,connecting:!0})),B.createElement(ge,{marginTop:"20"},B.createElement(Ot,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},r.t("connect.status.connect_mobile",{wallet:i}))),B.createElement(ge,{maxWidth:"full",marginTop:"8"},B.createElement(Ot,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},r.t("connect.status.confirm_mobile",{wallet:i})))))};function YDe({onClose:n}){const{connector:e}=T.useContext(bx);return Xr()?e?B.createElement(GDe,{onClose:n}):B.createElement(VDe,{onClose:n}):B.createElement(zDe,{onClose:n})}function KDe({onClose:n,open:e}){const r="rk_connect_title",i=Nde(),{disconnect:s}=px(),{isConnecting:o}=Mi(),a=B.useCallback(()=>{n(),s()},[n,s]),l=B.useCallback(()=>{o&&s(),n()},[n,s,o]);return i==="disconnected"?B.createElement(Rk,{onClose:l,open:e,titleId:r},B.createElement(Nk,{bottomSheetOnMobile:!0,padding:"0",wide:!0},B.createElement(YDe,{onClose:l}))):i==="unauthenticated"?B.createElement(Rk,{onClose:a,open:e,titleId:r},B.createElement(Nk,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(POe,{onClose:a,onCloseModal:n}))):null}function F5(){const[n,e]=T.useState(!1);return{closeModal:T.useCallback(()=>e(!1),[]),isModalOpen:n,openModal:T.useCallback(()=>e(!0),[])}}var Q0=T.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function XDe({children:n}){const{closeModal:e,isModalOpen:r,openModal:i}=F5(),{closeModal:s,isModalOpen:o,openModal:a}=F5(),{closeModal:l,isModalOpen:c,openModal:u}=F5(),[d,h]=T.useState(!1),f=Nde(),{chainId:p}=Mi(),{chains:m}=Jr(),b=m.some(w=>w.id===p),y=T.useCallback(({keepConnectModalOpen:w=!1}={})=>{w||e(),s(),l()},[e,s,l]),v=BC()==="unauthenticated";return Xue({onConnect:()=>y({keepConnectModalOpen:v}),onDisconnect:()=>y()}),T.useEffect(()=>{v&&y()},[v,y]),B.createElement(Q0.Provider,{value:T.useMemo(()=>({accountModalOpen:o,chainModalOpen:c,connectModalOpen:r,isWalletConnectModalOpen:d,openAccountModal:b&&f==="connected"?a:void 0,openChainModal:f==="connected"?u:void 0,openConnectModal:f==="disconnected"||f==="unauthenticated"?i:void 0,setIsWalletConnectModalOpen:h}),[f,o,c,r,a,u,i,b,d])},n,B.createElement(KDe,{onClose:e,open:r}),B.createElement(iDe,{onClose:s,open:o}),B.createElement(dDe,{onClose:l,open:c}))}function QDe(){const{accountModalOpen:n,chainModalOpen:e,connectModalOpen:r}=T.useContext(Q0);return{accountModalOpen:n,chainModalOpen:e,connectModalOpen:r}}function JDe(){const{accountModalOpen:n,openAccountModal:e}=T.useContext(Q0);return{accountModalOpen:n,openAccountModal:e}}function ZDe(){const{chainModalOpen:n,openChainModal:e}=T.useContext(Q0);return{chainModalOpen:n,openChainModal:e}}function Che(){const{isWalletConnectModalOpen:n,setIsWalletConnectModalOpen:e}=T.useContext(Q0);return{isWalletConnectModalOpen:n,setIsWalletConnectModalOpen:e}}function e8e(){const{connectModalOpen:n,openConnectModal:e}=T.useContext(Q0),{isWalletConnectModalOpen:r}=Che();return{connectModalOpen:n||r,openConnectModal:e}}var $5=()=>{};function t8e({children:n}){const e=NMe(),{address:r}=Mi(),{chainId:i}=Mi(),{chains:s}=Jr(),o=s.some(F=>F.id===i),a=OMe(),l=BC()??void 0,c=i?a[i]:void 0,u=(c==null?void 0:c.name)??void 0,d=(c==null?void 0:c.iconUrl)??void 0,h=(c==null?void 0:c.iconBackground)??void 0,f=LC(d),p=T.useContext(O7),m=Yde().some(({status:F})=>F==="pending")&&p,{showBalance:b}=RMe(),v=typeof b=="boolean"?b:b?QIe(b)[Xr()?"smallScreen":"largeScreen"]:!0,{balance:w,ensAvatar:_,ensName:x}=qde({address:r,includeBalance:v}),S=w?`${ahe(Number.parseFloat(w.formatted))} ${w.symbol}`:void 0,{openConnectModal:C}=e8e(),{openChainModal:E}=ZDe(),{openAccountModal:A}=JDe(),{accountModalOpen:M,chainModalOpen:I,connectModalOpen:O}=QDe();return B.createElement(B.Fragment,null,n({account:r?{address:r,balanceDecimals:w==null?void 0:w.decimals,balanceFormatted:w==null?void 0:w.formatted,balanceSymbol:w==null?void 0:w.symbol,displayBalance:S,displayName:x?che(x):lhe(r),ensAvatar:_??void 0,ensName:x??void 0,hasPendingTransactions:m}:void 0,accountModalOpen:M,authenticationStatus:l,chain:i?{hasIcon:!!d,iconBackground:h,iconUrl:f,id:i,name:u,unsupported:!o}:void 0,chainModalOpen:I,connectModalOpen:O,mounted:e(),openAccountModal:A??$5,openChainModal:E??$5,openConnectModal:C??$5}))}t8e.displayName="ConnectButton.Custom";var Ehe=({appName:n,appDescription:e,appUrl:r,appIcon:i})=>({name:n,description:e??n,url:r??(typeof window<"u"?window.location.origin:""),icons:[...i?[i]:[]]});function n8e(n){return Object.fromEntries(Object.entries(n).filter(([e,r])=>r!==void 0))}function r8e(n,e){const r=[];for(const i of n)r.some(s=>s[e]===i[e])||r.push(i);return r}var i8e=(n,{projectId:e,walletConnectParameters:r,appName:i,appDescription:s,appUrl:o,appIcon:a})=>{if(!n.length)throw new Error("No wallet list was provided");for(const{wallets:p,groupName:m}of n)if(!p.length)throw new Error(`No wallets provided for group: ${m}`);let l=-1;const c=[],u=[],d=[],h=Ehe({appName:i,appDescription:s,appUrl:o,appIcon:a});for(const[p,{groupName:m,wallets:b}]of n.entries())for(const y of b){l++;const v=y({projectId:e,appName:i,appIcon:a,options:{metadata:h,...r},walletConnectParameters:{metadata:h,...r}});if(v!=null&&v.iconAccent&&!xDe(v==null?void 0:v.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${v.name}`);const w={...v,groupIndex:p+1,groupName:m,index:l};typeof v.hidden=="function"?d.push(w):u.push(w)}const f=r8e([...u,...d],"id");for(const{createConnector:p,groupIndex:m,groupName:b,hidden:y,...v}of f){if(typeof y=="function"&&y())continue;const w=S=>({rkDetails:n8e({...v,groupIndex:m,groupName:b,isRainbowKitConnector:!0,...S||{}})});v.id==="walletConnect"&&c.push(p(w({isWalletConnectModalConnector:!0,showQrModal:!0})));const x=p(w());c.push(x)}return c},YU=new Map,s8e=({projectId:n,walletConnectParameters:e,rkDetailsShowQrModal:r,rkDetailsIsWalletConnectModalConnector:i})=>{let s={telemetryEnabled:!1,...e||{},projectId:n,showQrModal:!1};r&&(s={...s,showQrModal:!0}),"customStoragePrefix"in s||(s={...s,customStoragePrefix:i?"clientOne":"clientTwo"});const o=JSON.stringify(s),a=YU.get(o);if(a)return a;const l=P7(s);return YU.set(o,l),l};function o8e({projectId:n,walletDetails:e,walletConnectParameters:r}){return i=>({...s8e({projectId:n,walletConnectParameters:r,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(i),...e})}function $7({projectId:n,walletConnectParameters:e}){const r="21fef48091f12692cad574a6f7753643";if(!n||n==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return n==="YOUR_PROJECT_ID"&&(n=r),i=>o8e({projectId:n,walletDetails:i,walletConnectParameters:e})}function Ahe(n){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const r=e.ethereum.providers;return r?r.find(i=>i[n]):e.ethereum[n]?e.ethereum:void 0}function The(n){const e=(r,i)=>{const[s,...o]=i.split("."),a=r[s];if(a)return o.length===0?a:e(a,o.join("."))};if(typeof window<"u")return e(window,n)}function a8e({flag:n,namespace:e}){return!!(e&&typeof The(e)<"u"||typeof Ahe(n)<"u")}function l8e({flag:n,namespace:e}){var s;const r=typeof window<"u"?window:void 0;if(typeof r>"u")return;if(e){const o=The(e);if(o)return o}const i=(s=r.ethereum)==null?void 0:s.providers;{const o=Ahe(n);if(o)return o}return typeof i<"u"&&i.length>0?i[0]:r.ethereum}function c8e(n){return e=>{const r=n?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:n})}:{};return i=>({...hx(r)(i),...e})}}function u8e({flag:n,namespace:e,target:r}){const i=r||l8e({flag:n,namespace:e});return c8e(i)}var Phe=({appName:n,appIcon:e})=>{const{preference:r,...i}=Phe;return{id:"baseAccount",name:"Base Account",shortName:"Base Account",rdns:"app.base.account",iconUrl:async()=>(await bt(async()=>{const{default:s}=await import("./baseAccount-44UITRK7-CsjdbWCf.js");return{default:s}},[])).default,iconAccent:"#0000FF",iconBackground:"#0000FF",installed:!0,createConnector:s=>{const o=KIe({appName:n,appLogoUrl:e,...i,preference:{telemetry:!1,...r||{}}});return a=>({...o(a),...s})}}};function d8e(n){return!(!(n!=null&&n.isMetaMask)||n.isBraveWallet&&!n._events&&!n._state||n.isApexWallet||n.isAvalanche||n.isBackpack||n.isBifrost||n.isBitKeep||n.isBitski||n.isBinance||n.isBlockWallet||n.isCoinbaseWallet||n.isDawn||n.isEnkrypt||n.isExodus||n.isFrame||n.isFrontier||n.isGamestop||n.isHyperPay||n.isImToken||n.isKuCoinWallet||n.isMathWallet||n.isNestWallet||n.isOkxWallet||n.isOKExWallet||n.isOneInchIOSWallet||n.isOneInchAndroidWallet||n.isOpera||n.isPhantom||n.isZilPay||n.isPortal||n.isxPortal||n.isRabby||n.isRainbow||n.isStatus||n.isTalisman||n.isTally||n.isTokenPocket||n.isTokenary||n.isTrust||n.isTrustWallet||n.isCTRL||n.isZeal||n.isCoin98||n.isMEWwallet||n.isSafeheron||n.isSafePal||n.isWigwam||n.isZerion||n.__seif)}var Ihe=({projectId:n,walletConnectParameters:e})=>{const{...r}=Ihe,i=typeof window<"u"?d8e(window.ethereum):!1,s=!i&&!Xr(),o=i||Xr();return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await bt(async()=>{const{default:a}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:a}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:i||void 0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:o?a=>a:void 0},qrCode:s?{getUri:a=>`https://metamask.app.link/wc?uri=${encodeURIComponent(a)}`,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:s?$7({projectId:n,walletConnectParameters:e}):a=>l=>{var u,d,h;const c=A7({dappMetadata:{connector:"rainbowkit",name:(u=e==null?void 0:e.metadata)==null?void 0:u.name,iconUrl:(d=e==null?void 0:e.metadata)==null?void 0:d.icons[0],url:(h=e==null?void 0:e.metadata)==null?void 0:h.url},headless:!0,checkInstallationImmediately:!1,enableAnalytics:!1,...r})(l);return{...c,...a,getChainId:async()=>{var f;try{return await c.getChainId()}catch{return((f=l.chains[0])==null?void 0:f.id)??1}}}}}},h8e=({projectId:n,walletConnectParameters:e})=>{const r=a8e({flag:"isRainbow"}),i=!r,s=o=>jde()?o:mx()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await bt(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:i?void 0:r,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:i?s:void 0},qrCode:i?{getUri:s,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:i?$7({projectId:n,walletConnectParameters:e}):u8e({flag:"isRainbow"})}},f8e=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await bt(async()=>{const{default:n}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:n}},[])).default,installed:!(typeof window>"u")&&(window==null?void 0:window.parent)!==window,downloadUrls:{},createConnector:n=>e=>({...T7()(e),...n})}),p8e=({projectId:n,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await bt(async()=>{const{default:i}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:i}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:i=>i},createConnector:$7({projectId:n,walletConnectParameters:e})}),m8e=n=>n.reduce((r,i)=>{const s=i.id;return r[s]=ER(),r},{}),g8e=({appName:n,appDescription:e,appUrl:r,appIcon:i,wallets:s,projectId:o,walletConnectParameters:a,...l})=>{const{transports:c,chains:u,...d}=l,h=Ehe({appName:n,appDescription:e,appUrl:r,appIcon:i}),f=i8e(s||[{groupName:"Popular",wallets:[f8e,h8e,Phe,Ihe,p8e]}],{projectId:o,appName:n,appDescription:e,appUrl:r,appIcon:i,walletConnectParameters:{metadata:h,...a}});return zue({connectors:f,chains:u,transports:c||m8e(u),...d})};class $C{constructor(e,r=3,i=3e4){$e(this,"baseURL");$e(this,"timeout");$e(this,"maxRetries");this.baseURL=e.replace(/\/$/,""),this.maxRetries=r,this.timeout=i}async do(e){const r=Date.now();let i=null;for(let s=1;s<=this.maxRetries;s++)try{return{...await this.doRequest(e),duration:Date.now()-r}}catch(o){if(i=o,this.isNonceError(o))throw o;if(s<this.maxRetries){const a=s*1e3;await this.delay(a)}}throw new Error(`Request failed after ${this.maxRetries} attempts: ${i==null?void 0:i.message}`)}async doRequest(e){const r=`${this.baseURL}${e.path}`,i={"Content-Type":"application/json",Accept:"application/json, */*",...e.headers},s={method:e.method,headers:i,signal:AbortSignal.timeout(this.timeout)};e.body&&e.method!=="GET"?s.body=JSON.stringify(e.body):e.method==="GET"&&(s.body=void 0);const o=await fetch(r,s);let a;const l=o.headers.get("content-type");if(l!=null&&l.includes("application/json"))try{a=await o.json()}catch{a=await o.text()}else a=await o.text();if(o.status>=400)throw new Error(`HTTP ${o.status}: ${JSON.stringify(a)}`);return{statusCode:o.status,body:a,headers:o.headers}}isNonceError(e){const r=(e==null?void 0:e.message)||"";return r.toLowerCase().includes("nonce")||r.includes("InvalidNonce")||r.includes("NonceError")}delay(e){return new Promise(r=>setTimeout(r,e))}async get(e,r){return this.do({method:"GET",path:e,headers:r})}async post(e,r,i){return this.do({method:"POST",path:e,body:r,headers:i})}async put(e,r,i){return this.do({method:"PUT",path:e,body:r,headers:i})}async delete(e,r){return this.do({method:"DELETE",path:e,headers:r})}getBaseURL(){return this.baseURL}setTimeout(e){this.timeout=e}getTimeout(){return this.timeout}}const Ud=1e8;function Cn(n){const e=typeof n=="string"?parseFloat(n):n;if(isNaN(e))throw new Error(`Invalid value for satoshi conversion: ${n}`);if(e<0)throw new Error(`Negative values not allowed for satoshi conversion: ${n}`);return BigInt(Math.floor(e*Ud)).toString()}function Rt(n){const e=BigInt(n),r=BigInt(Ud),i=e/r,s=e%r;return Number(i)+Number(s)/Ud}function z7(n){if(n<0)throw new Error(`Negative values not allowed: ${n}`);return Math.floor(n*Ud)}function zR(n){try{return BigInt(n)>=0n}catch{return!1}}function Mhe(n){return n.map(Cn)}function Ohe(n){return n.map(e=>Rt(typeof e=="string"?e:String(e)))}function UR(n){return`0x${(typeof n=="string"?parseInt(n,10):n).toString(16)}`}function Wt(n){if(n==null||n==="")return 0;if(typeof n=="string"||typeof n=="number")try{return Rt(typeof n=="string"?n:String(n))}catch{return 0}return 0}function b8e(n){if(n==null||n==="")return 0;try{if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?0:e}return typeof n=="number"?isNaN(n)?0:n:0}catch{return 0}}function jk(n){if(n==null||n==="")return BigInt(0);try{const e=typeof n=="string"?n:String(n);return e.trim()===""||isNaN(Number(e))?BigInt(0):BigInt(e)}catch{return BigInt(0)}}function y8e(n){return n===0?"":n.toFixed(6).replace(/\.?0+$/,"")}let $b={instance:null,module:null},v8e=null;async function Dhe(){try{if(window.Go)console.log("wasm_exec.js already loaded");else{console.log("Loading wasm_exec.js...");const u=["/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.21.0/misc/wasm/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.20.0/misc/wasm/wasm_exec.js","https://unpkg.com/@go-wasm/wasm_exec@latest/wasm_exec.js"];let d=!1,h=null;for(const f of u)try{console.log(`Trying to load wasm_exec.js from: ${f}`),await new Promise((p,m)=>{const b=document.createElement("script");b.src=f,b.async=!0,b.onload=()=>{console.log(`Successfully loaded wasm_exec.js from: ${f}`),p()},b.onerror=()=>{m(new Error(`Failed to load from ${f}`))},document.head.appendChild(b)}),d=!0;break}catch(p){console.warn(`Failed to load from ${f}:`,p==null?void 0:p.message),h=p,document.head.querySelectorAll(`script[src="${f}"]`).forEach(b=>b.remove())}if(!d)throw new Error(`Failed to load wasm_exec.js from all sources. Last error: ${(h==null?void 0:h.message)||"Unknown error"}. Please ensure wasm_exec.js is available. You can download it from: https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js`);console.log("wasm_exec.js loaded successfully")}if(!window.Go||typeof window.Go!="function")throw new Error("window.Go is not available or invalid. This may be caused by wallet extension interference (e.g., OKX Solana). Please refresh the page or disconnect the wallet extension.");const n=window.Go;console.log("Go runtime available");const e=new n;v8e=e,console.log("Go instance created");const r="/morm_signer.wasm";console.log("Loading WASM from:",r);let i;try{const u=await fetch(r);if(console.log("WASM fetch response:",{status:u.status,statusText:u.statusText,ok:u.ok,url:u.url}),!u.ok){const d=await u.text().catch(()=>"Unable to read error response");throw new Error(`Failed to load WASM from ${r}: ${u.status} ${u.statusText}. Make sure the morm_signer.wasm file is available in the public directory.`)}i=await u.arrayBuffer(),console.log("WASM file loaded successfully, size:",i.byteLength,"bytes")}catch(u){throw console.error("WASM fetch failed:",u),new Error(`Failed to fetch WASM file: ${(u==null?void 0:u.message)||u}. The file should be accessible at ${window.location.origin}${r}`)}console.log("Instantiating WASM module...");let s;try{s=await WebAssembly.instantiate(i,e.importObject),console.log("WASM module instantiated successfully")}catch(u){throw console.error("Failed to instantiate WASM:",u),new Error(`Failed to instantiate WASM module: ${(u==null?void 0:u.message)||u}. The WASM file may be corrupted or incompatible.`)}$b.instance=s.instance,$b.module=s.module,console.log("Running Go program...");try{e.run($b.instance),console.log("Go program started (run() completed)")}catch(u){throw console.error("Failed to run Go program:",u),new Error(`Failed to run Go program: ${(u==null?void 0:u.message)||u}. The WASM module may not be compatible with the current Go runtime.`)}console.log("Waiting for Go initialization and function exports...");const o=10;let a=[],l=null;for(let u=1;u<=o;u++){const d=Math.min(u*200,2e3);if(await new Promise(h=>setTimeout(h,d)),l=globalThis.morm||window.morm,l&&typeof l=="object"){if(a=Object.keys(l).filter(h=>typeof l[h]=="function"),console.log(`Attempt ${u}/${o}:`,{waitTime:`${d}ms`,mormObjectFound:!0,exportedFunctions:a}),a.length>0){console.log(" morm object found with functions!",a);break}}else a=Object.keys(window).filter(f=>typeof window[f]=="function").filter(f=>f.startsWith("morm")||f.startsWith("derive")||f.startsWith("generate")||f.startsWith("Generate")||f.startsWith("verify")||f.startsWith("map")||f.startsWith("validate")||f==="GetSupportedSignatureTypes"||f==="IsSignatureTypeSupported"),console.log(`Attempt ${u}/${o}:`,{waitTime:`${d}ms`,mormObjectFound:!1,checkingWindow:!0,exportedFunctions:a});if(a.length>0)break;u===o&&(console.warn(" No expected functions found. morm object:",l),console.warn(" Check if functions are exported with different names or if there are Go runtime errors"))}if(a.length===0){const u=Object.keys(window);if(console.error("Debugging info:",{totalWindowKeys:u.length,hasMormObject:l!=null,mormObjectType:typeof l,hasGo:typeof window.Go=="function",wasmInstance:$b.instance!==null,wasmModule:$b.module!==null}),typeof window.InitWASMSigner=="function"){console.log("Found InitWASMSigner function, calling it...");try{if(window.InitWASMSigner(),await new Promise(d=>setTimeout(d,500)),l=globalThis.morm||window.morm,l&&typeof l=="object"){const d=Object.keys(l).filter(h=>typeof l[h]=="function");d.length>0&&(console.log(" morm object found after InitWASMSigner!",d),a=d)}}catch(d){console.error("Failed to call InitWASMSigner:",d)}}if(a.length===0)throw new Error(`morm object not found after initialization.

ROOT CAUSE: The Go main() function in main_wasm.go does not export functions to the morm global object.

SOLUTION: The Go code needs to export functions to js.Global().Set("morm", mormObject).

Current status:
- WASM file loaded: 
- Go runtime loaded: ${typeof window.Go=="function"?"":""}
- Go program run: 
- morm object found: ${l!==null?"":""}
- Functions exported: 

Check the browser console for detailed debugging information.`)}console.log("WASM module loaded and initialized successfully");const c=globalThis.morm||window.morm;if(c&&typeof c=="object"){if(typeof c.getVersion=="function")try{const u=c.getVersion();typeof u=="string"&&console.log("WASM version detected (via getVersion):",u)}catch(u){console.debug("getVersion() not available or failed:",u)}typeof c.version=="string"&&console.log("WASM version detected (via property):",c.version)}return!0}catch(n){throw console.error("Failed to load WASM module:",n),new Error((n==null?void 0:n.message)||`Failed to load WASM module: ${String(n)}`)}}class w8e{constructor(){$e(this,"isInitialized",!1);$e(this,"wasmLoaded",!1)}getMorm(){return globalThis.morm||window.morm||null}async initialize(){try{return this.wasmLoaded=await Dhe(),this.isInitialized=this.wasmLoaded,this.wasmLoaded}catch(e){throw console.error("Failed to initialize MormSigner:",e),new Error((e==null?void 0:e.message)||"Failed to initialize WASM module")}}isReady(){const e=this.getMorm();return e&&typeof e=="object"?this.isInitialized&&this.wasmLoaded&&typeof e.generateEthereumKeypair=="function"&&typeof e.generateSingleSignature=="function"&&typeof e.generateMultisignSignatures=="function"&&typeof e.getSupportedSignatureTypes=="function"&&typeof e.isSignatureTypeSupported=="function"&&typeof e.deriveAddressChain=="function":this.isInitialized&&this.wasmLoaded&&typeof window.mormGenerateEthereumKeypair=="function"&&typeof window.GenerateSingleSignature=="function"&&typeof window.GenerateMultisignSignatures=="function"&&typeof window.GetSupportedSignatureTypes=="function"&&typeof window.IsSignatureTypeSupported=="function"&&typeof window.deriveAddressChain=="function"}async generateAddress(e,r=0){var i;if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=this.getMorm(),o=s?s.deriveAddress(e,r):(i=window.deriveAddress)==null?void 0:i.call(window,e,r);return o?typeof o=="string"?o.startsWith("error: ")?{success:!1,error:o.substring(7)}:{success:!0,address:o,index:r,mnemonic:e.substring(0,20)+"..."}:o&&o.error?{success:!1,error:o.error}:{success:!1,error:"Failed to derive address"}:{success:!1,error:"deriveAddress function not available"}}catch(s){return console.error("Failed to generate address:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async generateAddressChain(e,r,i=0,s=!0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const o=this.getMorm(),a=o?o.deriveAddressChain:window.deriveAddressChain;if(!a||typeof a!="function")return{success:!1,error:"deriveAddressChain function not available. Please update WASM module."};const l=a(e,r,i,s);return typeof l=="string"?l.startsWith("error: ")?{success:!1,error:l.substring(7)}:{success:!0,address:l,chainType:r,index:i,isMainnet:s}:l&&l.error?{success:!1,error:l.error}:{success:!1,error:"Failed to derive address"}}catch(o){return console.error("Failed to generate multichain address:",o),{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}async generateMnemonic(e=12){var r;if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=this.getMorm(),s=i?i.generateMnemonic(e):(r=window.generateMnemonic)==null?void 0:r.call(window,e);return s?typeof s=="string"?s.startsWith("error: ")?{success:!1,error:s.substring(7)}:{success:!0,mnemonic:s}:s&&s.error?{success:!1,error:s.error}:{success:!1,error:"Failed to generate mnemonic"}:{success:!1,error:"generateMnemonic function not available"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async generateKeypair(){const e=this.getMorm(),r=e?e.generateEthereumKeypair:window.mormGenerateEthereumKeypair;if(!this.isReady()||typeof r!="function"){if(this.isInitialized&&typeof r!="function"){console.warn("WASM functions missing, attempting to re-initialize...");try{this.isInitialized=!1,this.wasmLoaded=!1,await this.initialize()}catch(i){return{success:!1,error:`WASM module functions are missing and re-initialization failed: ${i instanceof Error?i.message:"Unknown error"}. This may be caused by wallet extension interference (e.g., OKX Solana). Please refresh the page.`}}}if(!this.isReady()||typeof r!="function")return{success:!1,error:"MormSigner not initialized or WASM functions are missing. This may be caused by wallet extension interference. Please refresh the page."}}try{const i=r();return i?i.error?{success:!1,error:i.error}:!i.privateKey||!i.address?{success:!1,error:"WASM function returned incomplete result. This may be caused by wallet extension interference. Please refresh the page."}:{success:!0,privateKey:i.privateKey,address:i.address}:{success:!1,error:"WASM function returned undefined. This may be caused by wallet extension interference (e.g., OKX Solana). Please refresh the page."}}catch(i){return{success:!1,error:`Failed to generate keypair: ${i instanceof Error?i.message:"Unknown error"}. This may be caused by wallet extension interference (e.g., OKX Solana). Please refresh the page.`}}}async signMessage(e,r,i={}){var s;if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const o=(i.useEIP712,"ECDSA_LEGACY"),a=this.getMorm(),l=a?a.generateSignature(o,e,r):(s=window.generateSignature)==null?void 0:s.call(window,o,e,r);return l?typeof l=="string"?l.startsWith("error: ")?{success:!1,error:l.substring(7)}:{success:!0,signature:l,message:r,options:i}:l&&l.error?{success:!1,error:l.error}:{success:!1,error:"Failed to generate signature"}:{success:!1,error:"generateSignature function not available"}}catch(o){return console.error("Failed to sign message:",o),{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}async signDeposit(e,r,i,s={}){const o={...s,depositMode:!0,walletAddress:r,amount:i},a=JSON.stringify({action:"deposit",owner:r,amount:i,nonce:s.nonce||Date.now(),deadline:s.deadline||Date.now()+36e5}),l=await this.signMessage(e,a,o);return{success:l.success,signature:l.signature,message:l.message,address:r,options:l.options,error:l.error}}async signEIP712(e,r,i={}){const s={...i,useEIP712:!0};return this.signMessage(e,r,s)}async prepareAgentSign(e){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=this.getMorm(),i=r?r.prepareAgentSign:window.mormPrepareAgentSign;if(!i||typeof i!="function")return{success:!1,error:"prepareAgentSign function not available"};const s=i(e.owner,e.agent,e.expiresInDays,e.permissions,e.nonce);return s&&s.error?{success:!1,error:s.error}:{success:!0,typedData:s}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async signAgentApproval(e,r){const i=await this.prepareAgentSign(r);if(!i.success||!i.typedData)return i;const s=JSON.stringify({action:"agent::approve",wallet:r.owner,agent:r.agent,agentName:r.agentName||"",expiresInDays:r.expiresInDays,permissions:r.permissions,nonce:r.nonce,deadline:Date.now()+r.expiresInDays*24*60*60*1e3}),o=await this.signMessage(e,s,{useEIP712:!0});return o.success?{success:!0,typedData:i.typedData,signature:o.signature}:{success:!1,error:o.error}}async verifySignature(e,r,i){var s;if(!this.isReady())throw new Error("MormSigner not initialized");try{const o=this.getMorm(),a=o?o.verifySignature(e,r,i):(s=window.verifySignature)==null?void 0:s.call(window,e,r,i);return a===void 0?!1:typeof a=="string"&&a.startsWith("error: ")?(console.error("Signature verification error:",a),!1):typeof a=="boolean"?a:!1}catch(o){return console.error("Failed to verify signature:",o),!1}}mapAlgorithm(e){var r;if(!this.isReady())return"ECDSA_LEGACY";try{const i=this.getMorm(),s=i?i.mapAlgorithm(e):(r=window.mapAlgorithm)==null?void 0:r.call(window,e);return!s||typeof s!="string"?"ECDSA_LEGACY":s.startsWith("error: ")?(console.error("Algorithm mapping error:",s),"ECDSA_LEGACY"):s}catch(i){return console.error("Failed to map algorithm:",i),"ECDSA_LEGACY"}}validateNonce(e,r,i){var s;if(!this.isReady())return!1;try{const o=this.getMorm(),a=o?o.validateNonce(e,r,i):(s=window.validateNonce)==null?void 0:s.call(window,e,r,i);return a===void 0?!1:typeof a=="string"&&a.startsWith("error: ")?(console.error("Nonce validation error:",a),!1):typeof a=="boolean"?a:!1}catch(o){return console.error("Failed to validate nonce:",o),!1}}getStatus(){return{initialized:this.isInitialized,wasmLoaded:this.wasmLoaded,ready:this.isReady()}}getVersion(){const e=this.getMorm();if(!(!e||typeof e!="object")){if(typeof e.version=="object"&&e.version!==null){const r=e.version,i=r.version||r.gitTag,s=r.gitCommit;if(i&&s)return`${i}-${s}`;if(i)return i;if(s)return s}if(typeof e.version=="string"&&e.version.length>0)return e.version}}async generateSingleSignature(e,r,i){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=this.getMorm(),o=s?s.generateSingleSignature:window.GenerateSingleSignature;if(!o||typeof o!="function")return{success:!1,error:"generateSingleSignature function not available"};const a=o(e,r,i);return a.error?{success:!1,error:a.error}:{success:!0,signature:a.signature}}catch(s){return console.error("Failed to generate single signature:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async generateMultisignSignatures(e,r,i=!1){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=this.getMorm(),o=s?s.generateMultisignSignatures:window.GenerateMultisignSignatures;if(!o||typeof o!="function")return{success:!1,error:"generateMultisignSignatures function not available"};const a=o(e,r,i);if(a.error)return{success:!1,error:a.error};let l=null;if(a.tx)try{l=JSON.parse(a.tx)}catch(c){console.warn("Failed to parse updated transaction JSON:",c)}return{success:!0,tx:l,txJSON:a.tx}}catch(s){return console.error("Failed to generate multisign signatures:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}getSupportedSignatureTypes(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const e=this.getMorm(),r=e?e.getSupportedSignatureTypes:window.GetSupportedSignatureTypes;return!r||typeof r!="function"?{success:!1,error:"getSupportedSignatureTypes function not available"}:{success:!0,types:r()}}catch(e){return console.error("Failed to get supported signature types:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}isSignatureTypeSupported(e){if(!this.isReady())return!1;try{const r=this.getMorm(),i=r?r.isSignatureTypeSupported:window.IsSignatureTypeSupported;return!i||typeof i!="function"?!1:i(e)}catch(r){return console.error("Failed to check signature type support:",r),!1}}}const Nt=new w8e,x8e=6e4,KU=100,z5=24*60*60*1e3,U5=1;function e_(n,e){const r=n.toLowerCase();return e?`${r}:${e}`:r}class U7{constructor(e){$e(this,"infoClient");$e(this,"onChainState",new Map);$e(this,"offChainNonces",new Map);$e(this,"syncTimers",new Map);this.infoClient=e}getOrCreateState(e,r){const i=e_(e,r);let s=this.onChainState.get(i);return s||(s={confirmed:0,pending:[],lastSync:0,mu:!1},this.onChainState.set(i,s)),s}async acquireLock(e){for(;e.mu;)await new Promise(r=>setTimeout(r,10));e.mu=!0}releaseLock(e){e.mu=!1}async syncWithCore(e,r){const i=this.getOrCreateState(e,r),s=Date.now();if(!(s-i.lastSync<x8e))try{const o=await this.infoClient.getNonceStatus(e,!1),a=(o==null?void 0:o.next_nonce)!==void 0?typeof o.next_nonce=="string"?parseInt(o.next_nonce,10):o.next_nonce:0;i.confirmed=a,i.lastSync=s}catch(o){const a=e_(e,r);console.warn(`[NonceManager] Failed to sync with core for ${a}:`,o)}}async getNonce(e,r="latest",i){const s=this.getOrCreateState(e,i);if(await this.syncWithCore(e,i),r==="latest")return s.confirmed;{const o=s.pending.length>0?Math.max(...s.pending):s.confirmed;return Math.max(s.confirmed,o)}}async validateNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{if(i||await this.syncWithCore(e,s),o.confirmed===0&&r<U5)throw new Error(`nonce too low for new account: got ${r}, minimum ${U5}`);if(o.confirmed>0&&r<=o.confirmed)throw new Error(`nonce too low: got ${r}, confirmed ${o.confirmed}`);if(o.pending.includes(r))throw new Error(`nonce already pending: ${r}`);if(o.pending.length>=KU)throw new Error(`pending nonce limit reached: max ${KU} pending nonces`);if(i){const a=e.toLowerCase(),l=this.offChainNonces.get(a);if(l){const c=l.get(r);if(c){const u=Date.now();if(u-c<z5)throw new Error(`nonce already used (off-chain): ${r}, expires in ${Math.floor((z5-(u-c))/1e3)}s`);l.delete(r)}}}o.pending.push(r),o.pending.sort((a,l)=>a-l)}finally{this.releaseLock(o)}}async commitNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{const a=o.pending.indexOf(r);if(a!==-1&&o.pending.splice(a,1),i){const l=e.toLowerCase();let c=this.offChainNonces.get(l);c||(c=new Map,this.offChainNonces.set(l,c)),c.set(r,Date.now())}else if(r===o.confirmed+1)for(o.confirmed=r;o.pending.length>0&&o.pending[0]===o.confirmed+1;){const l=o.pending.shift();o.confirmed=l}}finally{this.releaseLock(o)}}async rejectNonce(e,r,i=!1,s){const o=this.getOrCreateState(e,s);await this.acquireLock(o);try{const a=o.pending.indexOf(r);if(a!==-1&&o.pending.splice(a,1),i){const l=e.toLowerCase(),c=this.offChainNonces.get(l);c&&c.delete(r)}}finally{this.releaseLock(o)}}async getExpectedNextNonce(e,r=!1,i){await this.syncWithCore(e,i);const s=this.getOrCreateState(e,i),o=s.pending.length>0?Math.max(...s.pending):s.confirmed,a=Math.max(s.confirmed+1,o+1),l=a===0?U5:a;if(r)try{await this.validateNonce(e,l,!1,i)}catch(c){console.warn(`[NonceManager] Failed to reserve nonce ${l}:`,c.message)}return{next_nonce:l,reserved:r,timestamp:Date.now()}}cleanupExpiredOffChainNonces(){const e=Date.now();for(const[r,i]of this.offChainNonces.entries()){for(const[s,o]of i.entries())e-o>=z5&&i.delete(s);i.size===0&&this.offChainNonces.delete(r)}}resetNonce(e,r){const i=e.toLowerCase();if(r){const o=e_(e,r);this.onChainState.delete(o)}else{const o=[];for(const a of this.onChainState.keys())(a===i||a.startsWith(`${i}:`))&&o.push(a);o.forEach(a=>this.onChainState.delete(a))}this.offChainNonces.delete(i);const s=this.syncTimers.get(i);s&&(clearInterval(s),this.syncTimers.delete(i))}getState(e,r){const i=e_(e,r);return this.onChainState.get(i)}}class Ir{constructor(e){$e(this,"httpClient");$e(this,"sessionToken");this.httpClient=new $C(e.baseURL),this.sessionToken=e.sessionToken}setSessionToken(e){this.sessionToken=e}getHeaders(){const e={Accept:"application/json, */*"};return this.sessionToken&&(e.Authorization=`Bearer ${this.sessionToken}`),e}async getMarkets(){const r=(await this.httpClient.get("/market/v1/all",this.getHeaders())).body;return Array.isArray(r)?r:r&&typeof r=="object"&&"markets"in r?r.markets:[]}async getMarketsWithFilters(e,r){let i="/market/v1/all";const s=[];e&&s.push(`filter=${e}`),r&&s.push("active_only=true"),s.length>0&&(i+="?"+s.join("&"));const a=(await this.httpClient.get(i,this.getHeaders())).body;return Array.isArray(a)?a:a&&typeof a=="object"&&"markets"in a?a.markets:[]}async getMarketByID(e){return(await this.httpClient.get(`/market/v1/market/${e}`,this.getHeaders())).body}async getMarketByMoniker(e){return(await this.httpClient.get(`/market/v1/market/by-moniker/${e}`,this.getHeaders())).body}async getMarketStats(e){return(await this.httpClient.get(`/market/v1/market/${e}/stats`,this.getHeaders())).body}async getTicker(e){return this.getMarketStats(e)}async getExchangeInfo(){return(await this.httpClient.get("/market/v1/exchangeInfo",this.getHeaders())).body}async getOrderbook(e,r=!0,i=20){let s=`/clob/v1/orderbook/${e}`,o=20;i>0&&i<100&&(o=i),s+=`?depth=${o}`;const l=(await this.httpClient.get(s,this.getHeaders())).body;return r&&l&&(l.bids&&Array.isArray(l.bids)&&(l.bids=l.bids.map(([c,u])=>[Rt(c),Rt(u)])),l.asks&&Array.isArray(l.asks)&&(l.asks=l.asks.map(([c,u])=>[Rt(c),Rt(u)]))),l}async getMarketTrades(e,r){let i=`/clob/v1/trades?market_id=${e}`;r&&r>0&&(i+=`&limit=${r}`);const s=await this.httpClient.get(i,this.getHeaders());console.debug("[InfoClient] getMarketTrades response for marketId:",e,"response:",s.body);const o=s.body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:(console.warn("[InfoClient] getMarketTrades: Unexpected response structure:",s.body),[])}async getRecentTrades(e,r=100){return this.getMarketTrades(e,r)}async getTrades(e,r){let i=`/clob/v1/trades?symbol=${e}`;r&&r>0&&(i+=`&limit=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:[]}async getAggTrades(e,r,i,s){let o=`/market/v1/aggTrades?symbol=${e}`;return r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`),(await this.httpClient.get(o,this.getHeaders())).body}async getKlines(e,r,i,s,o){let a=`/clob/v1/klines?symbol=${e}&interval=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c)?c:[]}async getContinuousKlines(e,r,i,s,o,a){let l=`/market/v1/continuousKlines?pair=${e}&contractType=${r}&interval=${i}`;return s&&s>0&&(l+=`&limit=${s}`),o&&o>0&&(l+=`&startTime=${o}`),a&&a>0&&(l+=`&endTime=${a}`),(await this.httpClient.get(l,this.getHeaders())).body}async getPremiumIndex(e){let r="/market/v1/premiumIndex";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getFundingRate(e,r,i,s){let o="/market/v1/fundingRate";const a=[];e&&a.push(`symbol=${e}`),r&&r>0&&a.push(`limit=${r}`),i&&i>0&&a.push(`startTime=${i}`),s&&s>0&&a.push(`endTime=${s}`),a.length>0&&(o+="?"+a.join("&"));const c=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(c)?c:c&&typeof c=="object"&&"data"in c&&Array.isArray(c.data)?c.data:c?[c]:[]}async getFundingInfo(){const r=(await this.httpClient.get("/market/v1/fundingInfo",this.getHeaders())).body;return Array.isArray(r)?r:[]}async getDeliveryPrice(e){return(await this.httpClient.get(`/market/v1/deliveryPrice?pair=${e}`,this.getHeaders())).body}async getOpenInterest(e){return(await this.httpClient.get(`/market/v1/openInterest?symbol=${e}`,this.getHeaders())).body}async getTopLongShortPositionRatio(e,r,i,s,o){let a=`/market/v1/topLongShortPositionRatio?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getGlobalLongShortAccountRatio(e,r,i,s,o){let a=`/market/v1/globalLongShortAccountRatio?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getTicker24hr(e){let r="/market/v1/moniker/24hr";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getTickerPrice(e){let r="/market/v1/moniker/price";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getOrderbookMoniker(e){let r="/market/v1/moniker/bookTicker";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getBasis(e,r,i,s,o){let a=`/market/v1/basis?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getIndexInfo(e){let r="/market/v1/indexInfo";return e&&(r+=`?symbol=${e}`),(await this.httpClient.get(r,this.getHeaders())).body}async getAssetIndex(e){let r="/market/v1/assetIndex";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getConstituents(e){return(await this.httpClient.get(`/market/v1/constituents?symbol=${e}`,this.getHeaders())).body}async getTWAP(e,r){return(await this.httpClient.get(`/market/v1/twap?symbol=${e}&duration=${r}`,this.getHeaders())).body}async getPositions(e,r){if(!e)throw new Error("walletAddress is required for getPositions");let i=`/bucket/v1/address/${e}/positions`;r!==void 0&&(i+=`?active_only=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return Array.isArray(o)?o:o&&typeof o=="object"&&"positions"in o&&Array.isArray(o.positions)?o.positions:[]}async getBalance(e,r){let i=`/bank/v1/balance/${e}?asset=${r}`;return(await this.httpClient.get(i,this.getHeaders())).body}async getBalances(e){const i=(await this.httpClient.get(`/bank/v1/balances/${e}`,this.getHeaders())).body;return i&&typeof i=="object"&&"balances"in i&&Array.isArray(i.balances)?i.balances:[]}async getBalanceDecimal(e,r){const i=await this.getBalance(e,r);if(i&&typeof i=="object"){const s={...i};return s.balance&&(s.balance=Rt(s.balance)),s.available_balance&&(s.available=Rt(s.available_balance),s.available_balance=Rt(s.available_balance)),s.available&&typeof s.available=="string"&&(s.available=Rt(s.available)),s.locked_balance&&(s.locked=Rt(s.locked_balance),s.locked_balance=Rt(s.locked_balance)),s.locked&&typeof s.locked=="string"&&(s.locked=Rt(s.locked)),s}return i}async getOrders(e,r){let i=`/clob/v1/address/orders?address=${encodeURIComponent(e)}`;return r&&(i+=`&asset_pair=${encodeURIComponent(r)}`),(await this.httpClient.get(i,this.getHeaders())).body}async getOrder(e){return(await this.httpClient.get(`/clob/v1/order/${e}`,this.getHeaders())).body}async getOrderHistory(e){return(await this.httpClient.get(`/clob/v1/address/orders/history?address=${e}`,this.getHeaders())).body}async getUserTrades(e,r){let i=`/clob/v1/address/trades?address=${e}`;r&&(i+=`&asset_pair=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;if(o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades))return o.trades;if(Array.isArray(o))return o;const a=o;return a!=null&&a.data&&Array.isArray(a.data)?a.data:[]}async getTradeHistory(e,r){return this.getUserTrades(e,r)}async getPosition(e,r){let i=`/clob/v1/address/position?address=${e}`;r&&(i+=`&asset_pair=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return o&&typeof o=="object"&&"positions"in o&&Array.isArray(o.positions)?o.positions:[]}async getBuckets(e){var i;const r=await this.httpClient.get(`/bucket/v1/address/${e}/buckets`,this.getHeaders());return(i=r.body)!=null&&i.buckets&&Array.isArray(r.body.buckets)?r.body.buckets:[]}async getBucket(e){return(await this.httpClient.get(`/bucket/v1/bucket/${e}`,this.getHeaders())).body}async getMarketData(e){return(await this.httpClient.get(`/clob/v1/market/data?asset_pair=${e}`,this.getHeaders())).body}async getMarketCandles(e,r,i){const o=(await this.httpClient.get(`/clob/v1/market/candles?asset_pair=${e}&interval=${r}&limit=${i}`,this.getHeaders())).body;return Array.isArray(o)?o:[]}async getNonceStatus(e,r=!1){let i=`/router/v1/nonce/status/${e}`;return r&&(i+="?reserve=true"),(await this.httpClient.get(i,this.getHeaders())).body}async getSupportedActions(){return(await this.httpClient.get("/router/v1/tx/supported-actions",this.getHeaders())).body}async validateAction(e){return(await this.httpClient.get(`/router/v1/tx/validate-action?action=${encodeURIComponent(e)}`,this.getHeaders())).body}async getHealthSummary(){return(await this.httpClient.get("/router/v1/health/summary",this.getHeaders())).body}async getHealthDaemons(){return(await this.httpClient.get("/router/v1/health/daemons",this.getHeaders())).body}async getHealthBucket(){return(await this.httpClient.get("/router/v1/health/bucket",this.getHeaders())).body}async getServerTime(){return(await this.httpClient.get("/router/v1/time",this.getHeaders())).body}async getMetricsTPS(){return(await this.httpClient.get("/router/v1/metrics/tps",this.getHeaders())).body}async getMetricsLatency(){return(await this.httpClient.get("/router/v1/metrics/latency",this.getHeaders())).body}}function _8e(n){var l,c,u;if(!n)return!1;const e=String(n).toLowerCase(),r=((l=n==null?void 0:n.message)==null?void 0:l.toLowerCase())||e,i=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),s=((c=i==null?void 0:i.error)==null?void 0:c.toLowerCase())||((u=i==null?void 0:i.message)==null?void 0:u.toLowerCase())||"",o=["nonce too low","nonce too high","nonce already used","nonce already pending","nonce invalid","nonce expired","nonce mismatch","invalid nonce","nonce out of order"],a=`${r} ${e} ${s}`.toLowerCase();return o.some(d=>a.includes(d))}function S8e(n){var l,c,u;if(!n)return!1;const e=String(n).toLowerCase(),r=((l=n==null?void 0:n.message)==null?void 0:l.toLowerCase())||e,i=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),s=((c=i==null?void 0:i.error)==null?void 0:c.toLowerCase())||((u=i==null?void 0:i.message)==null?void 0:u.toLowerCase())||"",o=["signature verification failed","invalid signature","unauthenticated","signature mismatch","signature invalid"],a=`${r} ${e} ${s}`.toLowerCase();return o.some(d=>a.includes(d))}function k8e(n){if(!n)return[!1,!1];const e=_8e(n),r=S8e(n);return[e,r]}function W7(n){const[e,r]=k8e(n);return e||r}const Rhe="6.16.0";async function q7(n){const e=Object.keys(n);return(await Promise.all(e.map(i=>Promise.resolve(n[i])))).reduce((i,s,o)=>(i[e[o]]=s,i),{})}function go(n,e,r){for(let i in e){let s=e[i];Object.defineProperty(n,i,{enumerable:!0,value:s,writable:!1})}}function Bm(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(r=>Bm(r,e)).join(", ")+" ]";if(n instanceof Uint8Array){const r="0123456789abcdef";let i="0x";for(let s=0;s<n.length;s++)i+=r[n[s]>>4],i+=r[n[s]&15];return i}if(typeof n=="object"&&typeof n.toJSON=="function")return Bm(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const r=Object.keys(n);return r.sort(),"{ "+r.map(i=>`${Bm(i,e)}: ${Bm(n[i],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function C8e(n,e,r){let i=n;{const o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Bm(r)}`);for(const a in r){if(a==="shortMessage")continue;const l=r[a];o.push(a+"="+Bm(l))}}o.push(`code=${e}`),o.push(`version=${Rhe}`),o.length&&(n+=" ("+o.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return go(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&go(s,{shortMessage:i}),s}function wn(n,e,r,i){if(!n)throw C8e(e,r,i)}function Le(n,e,r,i){wn(n,e,"INVALID_ARGUMENT",{argument:r,value:i})}const E8e=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function Nhe(n){wn(E8e.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function zC(n,e,r){if(r==null&&(r=""),n!==e){let i=r,s="new";r&&(i+=".",s+=" "+r),wn(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function jhe(n,e,r){if(n instanceof Uint8Array)return r?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const i=new Uint8Array((n.length-2)/2);let s=2;for(let o=0;o<i.length;o++)i[o]=parseInt(n.substring(s,s+2),16),s+=2;return i}Le(!1,"invalid BytesLike value",e||"value",n)}function It(n,e){return jhe(n,e,!1)}function vm(n,e){return jhe(n,e,!0)}function Yl(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function UC(n){return Yl(n,!0)||n instanceof Uint8Array}const XU="0123456789abcdef";function St(n){const e=It(n);let r="0x";for(let i=0;i<e.length;i++){const s=e[i];r+=XU[(s&240)>>4]+XU[s&15]}return r}function jr(n){return"0x"+n.map(e=>St(e).substring(2)).join("")}function Qy(n){return Yl(n,!0)?(n.length-2)/2:It(n).length}function H7(n,e,r){const i=It(n);return r>i.length&&wn(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),St(i.slice(e,r))}function A8e(n,e,r){const i=It(n);wn(e>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),s.set(i,e-i.length),St(s)}function eh(n,e){return A8e(n,e)}const WC=BigInt(0),Vh=BigInt(1),Lm=9007199254740991;function T8e(n,e){let r=Yn(n,"value");const i=BigInt(bo(e,"width")),s=Vh<<i-Vh;if(r<WC){r=-r,wn(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const o=(Vh<<i)-Vh;return(~r&o)+Vh}else wn(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return r}function P8e(n,e){const r=V7(n,"value"),i=BigInt(bo(e,"bits"));return r&(Vh<<i)-Vh}function Yn(n,e){switch(typeof n){case"bigint":return n;case"number":return Le(Number.isInteger(n),"underflow",e||"value",n),Le(n>=-Lm&&n<=Lm,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(r){Le(!1,`invalid BigNumberish string: ${r.message}`,e||"value",n)}}Le(!1,"invalid BigNumberish value",e||"value",n)}function V7(n,e){const r=Yn(n,e);return wn(r>=WC,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),r}const QU="0123456789abcdef";function Bhe(n){if(n instanceof Uint8Array){let e="0x0";for(const r of n)e+=QU[r>>4],e+=QU[r&15];return BigInt(e)}return Yn(n)}function bo(n,e){switch(typeof n){case"bigint":return Le(n>=-Lm&&n<=Lm,"overflow",e||"value",n),Number(n);case"number":return Le(Number.isInteger(n),"underflow",e||"value",n),Le(n>=-Lm&&n<=Lm,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return bo(BigInt(n),e)}catch(r){Le(!1,`invalid numeric string: ${r.message}`,e||"value",n)}}Le(!1,"invalid numeric value",e||"value",n)}function d0(n,e){const r=V7(n,"value");let i=r.toString(16);{const s=bo(e,"width");if(s===0&&r===WC)return"0x";for(wn(s*2>=i.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});i.length<s*2;)i="0"+i}return"0x"+i}function Rr(n,e){const r=V7(n,"value");if(r===WC)return new Uint8Array(0);let i=r.toString(16);i.length%2&&(i="0"+i);const s=new Uint8Array(i.length/2);for(let o=0;o<s.length;o++){const a=o*2;s[o]=parseInt(i.substring(a,a+2),16)}return s}function I8e(n){let e=St(UC(n)?n:Rr(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Bk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let t_=null;function M8e(n){if(t_==null){t_={};for(let r=0;r<Bk.length;r++)t_[Bk[r]]=BigInt(r)}const e=t_[n];return Le(e!=null,"invalid base58 value","letter",n),e}const O8e=BigInt(0),WR=BigInt(58);function D8e(n){const e=It(n);let r=Bhe(e),i="";for(;r;)i=Bk[Number(r%WR)]+i,r/=WR;for(let s=0;s<e.length&&!e[s];s++)i=Bk[0]+i;return i}function R8e(n){let e=O8e;for(let r=0;r<n.length;r++)e*=WR,e+=M8e(n[r]);return e}function Pf(n,e){Le(typeof n=="string","invalid string value","str",n),e!=null&&(Nhe(e),n=n.normalize(e));let r=[];for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){i++;const o=n.charCodeAt(i);Le(i<n.length&&(o&64512)===56320,"invalid surrogate pair","str",n);const a=65536+((s&1023)<<10)+(o&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function N8e(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function JU(n,e,r){let i=0;for(let s=0;s<r;s++)i=i*256+n[e+s];return i}function ZU(n,e,r,i){const s=[];for(;r<e+1+i;){const o=Lhe(n,r);s.push(o.result),r+=o.consumed,wn(r<=e+1+i,"child data too short","BUFFER_OVERRUN",{buffer:n,length:i,offset:e})}return{consumed:1+i,result:s}}function Lhe(n,e){wn(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const r=i=>{wn(i<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:i})};if(n[e]>=248){const i=n[e]-247;r(e+1+i);const s=JU(n,e+1,i);return r(e+1+i+s),ZU(n,e,e+1+i,i+s)}else if(n[e]>=192){const i=n[e]-192;return r(e+1+i),ZU(n,e,e+1,i)}else if(n[e]>=184){const i=n[e]-183;r(e+1+i);const s=JU(n,e+1,i);r(e+1+i+s);const o=St(n.slice(e+1+i,e+1+i+s));return{consumed:1+i+s,result:o}}else if(n[e]>=128){const i=n[e]-128;r(e+1+i);const s=St(n.slice(e+1,e+1+i));return{consumed:1+i,result:s}}return{consumed:1,result:N8e(n[e])}}function vx(n){const e=It(n,"data"),r=Lhe(e,0);return Le(r.consumed===e.length,"unexpected junk after rlp payload","data",n),r.result}function eW(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function Fhe(n){if(Array.isArray(n)){let i=[];if(n.forEach(function(o){i=i.concat(Fhe(o))}),i.length<=55)return i.unshift(192+i.length),i;const s=eW(i.length);return s.unshift(247+s.length),s.concat(i)}const e=Array.prototype.slice.call(It(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=eW(e.length);return r.unshift(183+r.length),r.concat(e)}const tW="0123456789abcdef";function Zc(n){let e="0x";for(const r of Fhe(n))e+=tW[r>>4],e+=tW[r&15];return e}function j8e(n){const e=It(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=St(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}function oo(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function G7(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function $he(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");oo(n.outputLen),oo(n.blockLen)}function h0(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function zhe(n,e){G7(n);const r=e.outputLen;if(n.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const W5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uhe=n=>n instanceof Uint8Array,wS=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),xS=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),cl=(n,e)=>n<<32-e|n>>>e,B8e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!B8e)throw new Error("Non little-endian hardware is not supported");const L8e=async()=>{};async function nW(n,e,r){let i=Date.now();for(let s=0;s<n;s++){r(s);const o=Date.now()-i;o>=0&&o<e||(await L8e(),i+=o)}}function F8e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function f0(n){if(typeof n=="string"&&(n=F8e(n)),!Uhe(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function $8e(...n){const e=new Uint8Array(n.reduce((i,s)=>i+s.length,0));let r=0;return n.forEach(i=>{if(!Uhe(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}class Y7{clone(){return this._cloneInto()}}const z8e={}.toString;function Whe(n,e){if(e!==void 0&&z8e.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function qC(n){const e=i=>n().update(f0(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}function U8e(n=32){if(W5&&typeof W5.getRandomValues=="function")return W5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class qhe extends Y7{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,$he(e);const i=f0(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return h0(this),this.iHash.update(e),this}digestInto(e){h0(this),G7(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const HC=(n,e,r)=>new qhe(n,e).update(r).digest();HC.create=(n,e)=>new qhe(n,e);function W8e(n,e,r,i){$he(n);const s=Whe({dkLen:32,asyncTick:10},i),{c:o,dkLen:a,asyncTick:l}=s;if(oo(o),oo(a),oo(l),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=f0(e),u=f0(r),d=new Uint8Array(a),h=HC.create(n,c),f=h._cloneInto().update(u);return{c:o,dkLen:a,asyncTick:l,DK:d,PRF:h,PRFSalt:f}}function q8e(n,e,r,i,s){return n.destroy(),e.destroy(),i&&i.destroy(),s.fill(0),r}function K7(n,e,r,i){const{c:s,dkLen:o,DK:a,PRF:l,PRFSalt:c}=W8e(n,e,r,i);let u;const d=new Uint8Array(4),h=xS(d),f=new Uint8Array(l.outputLen);for(let p=1,m=0;m<o;p++,m+=l.outputLen){const b=a.subarray(m,m+l.outputLen);h.setInt32(0,p,!1),(u=c._cloneInto(u)).update(d).digestInto(f),b.set(f.subarray(0,b.length));for(let y=1;y<s;y++){l._cloneInto(u).update(f).digestInto(f);for(let v=0;v<b.length;v++)b[v]^=f[v]}}return q8e(l,c,a,u,f)}function H8e(n,e,r,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),c=i?4:0,u=i?0:4;n.setUint32(e+c,a,i),n.setUint32(e+u,l,i)}class X7 extends Y7{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xS(this.buffer)}update(e){h0(this);const{view:r,buffer:i,blockLen:s}=this;e=f0(e);const o=e.length;for(let a=0;a<o;){const l=Math.min(s-this.pos,o-a);if(l===s){const c=xS(e);for(;s<=o-a;a+=s)this.process(c,a);continue}i.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){h0(this),zhe(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let h=a;h<s;h++)r[h]=0;H8e(i,s-8,BigInt(this.length*8),o),this.process(i,0);const l=xS(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)l.setUint32(4*h,d[h],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:l}=this;return e.length=s,e.pos=l,e.finished=o,e.destroyed=a,s%r&&e.buffer.set(i),e}}const V8e=(n,e,r)=>n&e^~n&r,G8e=(n,e,r)=>n&e^n&r^e&r,Y8e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Uu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wu=new Uint32Array(64);class K8e extends X7{constructor(){super(64,32,8,!1),this.A=Uu[0]|0,this.B=Uu[1]|0,this.C=Uu[2]|0,this.D=Uu[3]|0,this.E=Uu[4]|0,this.F=Uu[5]|0,this.G=Uu[6]|0,this.H=Uu[7]|0}get(){const{A:e,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;return[e,r,i,s,o,a,l,c]}set(e,r,i,s,o,a,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)Wu[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=Wu[h-15],p=Wu[h-2],m=cl(f,7)^cl(f,18)^f>>>3,b=cl(p,17)^cl(p,19)^p>>>10;Wu[h]=b+Wu[h-7]+m+Wu[h-16]|0}let{A:i,B:s,C:o,D:a,E:l,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const f=cl(l,6)^cl(l,11)^cl(l,25),p=d+f+V8e(l,c,u)+Y8e[h]+Wu[h]|0,b=(cl(i,2)^cl(i,13)^cl(i,22))+G8e(i,s,o)|0;d=u,u=c,c=l,l=a+p|0,a=o,o=s,s=i,i=p+b|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,l,c,u,d)}roundClean(){Wu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const J0=qC(()=>new K8e),n_=BigInt(2**32-1),qR=BigInt(32);function Hhe(n,e=!1){return e?{h:Number(n&n_),l:Number(n>>qR&n_)}:{h:Number(n>>qR&n_)|0,l:Number(n&n_)|0}}function Vhe(n,e=!1){let r=new Uint32Array(n.length),i=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:o,l:a}=Hhe(n[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const X8e=(n,e)=>BigInt(n>>>0)<<qR|BigInt(e>>>0),Q8e=(n,e,r)=>n>>>r,J8e=(n,e,r)=>n<<32-r|e>>>r,Z8e=(n,e,r)=>n>>>r|e<<32-r,eRe=(n,e,r)=>n<<32-r|e>>>r,tRe=(n,e,r)=>n<<64-r|e>>>r-32,nRe=(n,e,r)=>n>>>r-32|e<<64-r,rRe=(n,e)=>e,iRe=(n,e)=>n,Ghe=(n,e,r)=>n<<r|e>>>32-r,Yhe=(n,e,r)=>e<<r|n>>>32-r,Khe=(n,e,r)=>e<<r-32|n>>>64-r,Xhe=(n,e,r)=>n<<r-32|e>>>64-r;function sRe(n,e,r,i){const s=(e>>>0)+(i>>>0);return{h:n+r+(s/2**32|0)|0,l:s|0}}const oRe=(n,e,r)=>(n>>>0)+(e>>>0)+(r>>>0),aRe=(n,e,r,i)=>e+r+i+(n/2**32|0)|0,lRe=(n,e,r,i)=>(n>>>0)+(e>>>0)+(r>>>0)+(i>>>0),cRe=(n,e,r,i,s)=>e+r+i+s+(n/2**32|0)|0,uRe=(n,e,r,i,s)=>(n>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(s>>>0),dRe=(n,e,r,i,s,o)=>e+r+i+s+o+(n/2**32|0)|0,tn={fromBig:Hhe,split:Vhe,toBig:X8e,shrSH:Q8e,shrSL:J8e,rotrSH:Z8e,rotrSL:eRe,rotrBH:tRe,rotrBL:nRe,rotr32H:rRe,rotr32L:iRe,rotlSH:Ghe,rotlSL:Yhe,rotlBH:Khe,rotlBL:Xhe,add:sRe,add3L:oRe,add3H:aRe,add4L:lRe,add4H:cRe,add5H:dRe,add5L:uRe},[hRe,fRe]=tn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),qu=new Uint32Array(80),Hu=new Uint32Array(80);class pRe extends X7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:b,Hl:y}=this;return[e,r,i,s,o,a,l,c,u,d,h,f,p,m,b,y]}set(e,r,i,s,o,a,l,c,u,d,h,f,p,m,b,y){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=s|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=b|0,this.Hl=y|0}process(e,r){for(let _=0;_<16;_++,r+=4)qu[_]=e.getUint32(r),Hu[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const x=qu[_-15]|0,S=Hu[_-15]|0,C=tn.rotrSH(x,S,1)^tn.rotrSH(x,S,8)^tn.shrSH(x,S,7),E=tn.rotrSL(x,S,1)^tn.rotrSL(x,S,8)^tn.shrSL(x,S,7),A=qu[_-2]|0,M=Hu[_-2]|0,I=tn.rotrSH(A,M,19)^tn.rotrBH(A,M,61)^tn.shrSH(A,M,6),O=tn.rotrSL(A,M,19)^tn.rotrBL(A,M,61)^tn.shrSL(A,M,6),F=tn.add4L(E,O,Hu[_-7],Hu[_-16]),$=tn.add4H(F,C,I,qu[_-7],qu[_-16]);qu[_]=$|0,Hu[_]=F|0}let{Ah:i,Al:s,Bh:o,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:h,El:f,Fh:p,Fl:m,Gh:b,Gl:y,Hh:v,Hl:w}=this;for(let _=0;_<80;_++){const x=tn.rotrSH(h,f,14)^tn.rotrSH(h,f,18)^tn.rotrBH(h,f,41),S=tn.rotrSL(h,f,14)^tn.rotrSL(h,f,18)^tn.rotrBL(h,f,41),C=h&p^~h&b,E=f&m^~f&y,A=tn.add5L(w,S,E,fRe[_],Hu[_]),M=tn.add5H(A,v,x,C,hRe[_],qu[_]),I=A|0,O=tn.rotrSH(i,s,28)^tn.rotrBH(i,s,34)^tn.rotrBH(i,s,39),F=tn.rotrSL(i,s,28)^tn.rotrBL(i,s,34)^tn.rotrBL(i,s,39),$=i&o^i&l^o&l,z=s&a^s&c^a&c;v=b|0,w=y|0,b=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=tn.add(u|0,d|0,M|0,I|0),u=l|0,d=c|0,l=o|0,c=a|0,o=i|0,a=s|0;const R=tn.add3L(I,F,z);i=tn.add3H(R,M,O,$),s=R|0}({h:i,l:s}=tn.add(this.Ah|0,this.Al|0,i|0,s|0)),{h:o,l:a}=tn.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:c}=tn.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=tn.add(this.Dh|0,this.Dl|0,u|0,d|0),{h,l:f}=tn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=tn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:b,l:y}=tn.add(this.Gh|0,this.Gl|0,b|0,y|0),{h:v,l:w}=tn.add(this.Hh|0,this.Hl|0,v|0,w|0),this.set(i,s,o,a,l,c,u,d,h,f,p,m,b,y,v,w)}roundClean(){qu.fill(0),Hu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Q7=qC(()=>new pRe);function mRe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const rW=mRe(),iW=rW.crypto||rW.msCrypto;function gRe(n){switch(n){case"sha256":return J0.create();case"sha512":return Q7.create()}Le(!1,"invalid hashing algorithm name","algorithm",n)}function bRe(n,e){const r={sha256:J0,sha512:Q7}[n];return Le(r!=null,"invalid hmac algorithm","algorithm",n),HC.create(r,e)}function yRe(n,e,r,i,s){const o={sha256:J0,sha512:Q7}[s];return Le(o!=null,"invalid pbkdf2 algorithm","algorithm",s),K7(o,n,e,{c:r,dkLen:i})}function vRe(n){wn(iW!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),Le(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return iW.getRandomValues(e),e}let Qhe=!1;const Jhe=function(n,e,r){return bRe(n,e).update(r).digest()};let Zhe=Jhe;function Z0(n,e,r){const i=It(e,"key"),s=It(r,"data");return St(Zhe(n,i,s))}Z0._=Jhe;Z0.lock=function(){Qhe=!0};Z0.register=function(n){if(Qhe)throw new Error("computeHmac is locked");Zhe=n};Object.freeze(Z0);const[efe,tfe,nfe]=[[],[],[]],wRe=BigInt(0),zb=BigInt(1),xRe=BigInt(2),_Re=BigInt(7),SRe=BigInt(256),kRe=BigInt(113);for(let n=0,e=zb,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],efe.push(2*(5*i+r)),tfe.push((n+1)*(n+2)/2%64);let s=wRe;for(let o=0;o<7;o++)e=(e<<zb^(e>>_Re)*kRe)%SRe,e&xRe&&(s^=zb<<(zb<<BigInt(o))-zb);nfe.push(s)}const[CRe,ERe]=Vhe(nfe,!0),sW=(n,e,r)=>r>32?Khe(n,e,r):Ghe(n,e,r),oW=(n,e,r)=>r>32?Xhe(n,e,r):Yhe(n,e,r);function ARe(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],h=sW(u,d,1)^r[l],f=oW(u,d,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=h,n[a+p+1]^=f}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=tfe[a],c=sW(s,o,l),u=oW(s,o,l),d=efe[a];s=n[d],o=n[d+1],n[d]=c,n[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=CRe[i],n[1]^=ERe[i]}r.fill(0)}class J7 extends Y7{constructor(e,r,i,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,oo(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=wS(this.state)}keccak(){ARe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){h0(this);const{blockLen:r,state:i}=this;e=f0(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){h0(this,!1),G7(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return oo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(zhe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new J7(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const TRe=(n,e,r)=>qC(()=>new J7(e,n,r)),PRe=TRe(1,136,256/8);let rfe=!1;const ife=function(n){return PRe(n)};let sfe=ife;function ai(n){const e=It(n,"data");return St(sfe(e))}ai._=ife;ai.lock=function(){rfe=!0};ai.register=function(n){if(rfe)throw new TypeError("keccak256 is locked");sfe=n};Object.freeze(ai);const IRe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ofe=Uint8Array.from({length:16},(n,e)=>e),MRe=ofe.map(n=>(9*n+5)%16);let Z7=[ofe],e9=[MRe];for(let n=0;n<4;n++)for(let e of[Z7,e9])e.push(e[n].map(r=>IRe[r]));const afe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),ORe=Z7.map((n,e)=>n.map(r=>afe[e][r])),DRe=e9.map((n,e)=>n.map(r=>afe[e][r])),RRe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),NRe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),r_=(n,e)=>n<<e|n>>>32-e;function aW(n,e,r,i){return n===0?e^r^i:n===1?e&r|~e&i:n===2?(e|~r)^i:n===3?e&i|r&~i:e^(r|~i)}const i_=new Uint32Array(16);class jRe extends X7{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:i,h3:s,h4:o}=this;return[e,r,i,s,o]}set(e,r,i,s,o){this.h0=e|0,this.h1=r|0,this.h2=i|0,this.h3=s|0,this.h4=o|0}process(e,r){for(let p=0;p<16;p++,r+=4)i_[p]=e.getUint32(r,!0);let i=this.h0|0,s=i,o=this.h1|0,a=o,l=this.h2|0,c=l,u=this.h3|0,d=u,h=this.h4|0,f=h;for(let p=0;p<5;p++){const m=4-p,b=RRe[p],y=NRe[p],v=Z7[p],w=e9[p],_=ORe[p],x=DRe[p];for(let S=0;S<16;S++){const C=r_(i+aW(p,o,l,u)+i_[v[S]]+b,_[S])+h|0;i=h,h=u,u=r_(l,10)|0,l=o,o=C}for(let S=0;S<16;S++){const C=r_(s+aW(m,a,c,d)+i_[w[S]]+y,x[S])+f|0;s=f,f=d,d=r_(c,10)|0,c=a,a=C}}this.set(this.h1+l+d|0,this.h2+u+f|0,this.h3+h+s|0,this.h4+i+a|0,this.h0+o+c|0)}roundClean(){i_.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const BRe=qC(()=>new jRe);let lfe=!1;const cfe=function(n){return BRe(n)};let ufe=cfe;function eb(n){const e=It(n,"data");return St(ufe(e))}eb._=cfe;eb.lock=function(){lfe=!0};eb.register=function(n){if(lfe)throw new TypeError("ripemd160 is locked");ufe=n};Object.freeze(eb);let dfe=!1;const hfe=function(n,e,r,i,s){return yRe(n,e,r,i,s)};let ffe=hfe;function wx(n,e,r,i,s){const o=It(n,"password"),a=It(e,"salt");return St(ffe(o,a,r,i,s))}wx._=hfe;wx.lock=function(){dfe=!0};wx.register=function(n){if(dfe)throw new Error("pbkdf2 is locked");ffe=n};Object.freeze(wx);let pfe=!1;const mfe=function(n){return new Uint8Array(vRe(n))};let gfe=mfe;function eu(n){return gfe(n)}eu._=mfe;eu.lock=function(){pfe=!0};eu.register=function(n){if(pfe)throw new Error("randomBytes is locked");gfe=n};Object.freeze(eu);const kn=(n,e)=>n<<e|n>>>32-e;function lW(n,e,r,i,s,o){let a=n[e++]^r[i++],l=n[e++]^r[i++],c=n[e++]^r[i++],u=n[e++]^r[i++],d=n[e++]^r[i++],h=n[e++]^r[i++],f=n[e++]^r[i++],p=n[e++]^r[i++],m=n[e++]^r[i++],b=n[e++]^r[i++],y=n[e++]^r[i++],v=n[e++]^r[i++],w=n[e++]^r[i++],_=n[e++]^r[i++],x=n[e++]^r[i++],S=n[e++]^r[i++],C=a,E=l,A=c,M=u,I=d,O=h,F=f,$=p,z=m,R=b,j=y,N=v,D=w,H=_,U=x,X=S;for(let Y=0;Y<8;Y+=2)I^=kn(C+D|0,7),z^=kn(I+C|0,9),D^=kn(z+I|0,13),C^=kn(D+z|0,18),R^=kn(O+E|0,7),H^=kn(R+O|0,9),E^=kn(H+R|0,13),O^=kn(E+H|0,18),U^=kn(j+F|0,7),A^=kn(U+j|0,9),F^=kn(A+U|0,13),j^=kn(F+A|0,18),M^=kn(X+N|0,7),$^=kn(M+X|0,9),N^=kn($+M|0,13),X^=kn(N+$|0,18),E^=kn(C+M|0,7),A^=kn(E+C|0,9),M^=kn(A+E|0,13),C^=kn(M+A|0,18),F^=kn(O+I|0,7),$^=kn(F+O|0,9),I^=kn($+F|0,13),O^=kn(I+$|0,18),N^=kn(j+R|0,7),z^=kn(N+j|0,9),R^=kn(z+N|0,13),j^=kn(R+z|0,18),D^=kn(X+U|0,7),H^=kn(D+X|0,9),U^=kn(H+D|0,13),X^=kn(U+H|0,18);s[o++]=a+C|0,s[o++]=l+E|0,s[o++]=c+A|0,s[o++]=u+M|0,s[o++]=d+I|0,s[o++]=h+O|0,s[o++]=f+F|0,s[o++]=p+$|0,s[o++]=m+z|0,s[o++]=b+R|0,s[o++]=y+j|0,s[o++]=v+N|0,s[o++]=w+D|0,s[o++]=_+H|0,s[o++]=x+U|0,s[o++]=S+X|0}function sg(n,e,r,i,s){let o=i+0,a=i+16*s;for(let l=0;l<16;l++)r[a+l]=n[e+(2*s-1)*16+l];for(let l=0;l<s;l++,o+=16,e+=16)lW(r,a,n,e,r,o),l>0&&(a+=16),lW(r,o,n,e+=16,r,a)}function bfe(n,e,r){const i=Whe({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:s,r:o,p:a,dkLen:l,asyncTick:c,maxmem:u,onProgress:d}=i;if(oo(s),oo(o),oo(a),oo(l),oo(c),oo(u),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const h=128*o,f=h/4;if(s<=1||s&s-1||s>=2**(h/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=h*(s+a);if(p>u)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${u} (maxmem)`);const m=K7(J0,n,e,{c:1,dkLen:h*a}),b=wS(m),y=wS(new Uint8Array(h*s)),v=wS(new Uint8Array(h));let w=()=>{};if(d){const _=2*s*a,x=Math.max(Math.floor(_/1e4),1);let S=0;w=()=>{S++,d&&(!(S%x)||S===_)&&d(S/_)}}return{N:s,r:o,p:a,dkLen:l,blockSize32:f,V:y,B32:b,B:m,tmp:v,blockMixCb:w,asyncTick:c}}function yfe(n,e,r,i,s){const o=K7(J0,n,r,{c:1,dkLen:e});return r.fill(0),i.fill(0),s.fill(0),o}function LRe(n,e,r){const{N:i,r:s,p:o,dkLen:a,blockSize32:l,V:c,B32:u,B:d,tmp:h,blockMixCb:f}=bfe(n,e,r);for(let p=0;p<o;p++){const m=l*p;for(let b=0;b<l;b++)c[b]=u[m+b];for(let b=0,y=0;b<i-1;b++)sg(c,y,c,y+=l,s),f();sg(c,(i-1)*l,u,m,s),f();for(let b=0;b<i;b++){const y=u[m+l-16]%i;for(let v=0;v<l;v++)h[v]=u[m+v]^c[y*l+v];sg(h,0,u,m,s),f()}}return yfe(n,a,d,c,h)}async function FRe(n,e,r){const{N:i,r:s,p:o,dkLen:a,blockSize32:l,V:c,B32:u,B:d,tmp:h,blockMixCb:f,asyncTick:p}=bfe(n,e,r);for(let m=0;m<o;m++){const b=l*m;for(let v=0;v<l;v++)c[v]=u[b+v];let y=0;await nW(i-1,p,()=>{sg(c,y,c,y+=l,s),f()}),sg(c,(i-1)*l,u,b,s),f(),await nW(i,p,()=>{const v=u[b+l-16]%i;for(let w=0;w<l;w++)h[w]=u[b+w]^c[v*l+w];sg(h,0,u,b,s),f()})}return yfe(n,a,d,c,h)}let vfe=!1,wfe=!1;const xfe=async function(n,e,r,i,s,o,a){return await FRe(n,e,{N:r,r:i,p:s,dkLen:o,onProgress:a})},_fe=function(n,e,r,i,s,o){return LRe(n,e,{N:r,r:i,p:s,dkLen:o})};let Sfe=xfe,kfe=_fe;async function xx(n,e,r,i,s,o,a){const l=It(n,"passwd"),c=It(e,"salt");return St(await Sfe(l,c,r,i,s,o,a))}xx._=xfe;xx.lock=function(){wfe=!0};xx.register=function(n){if(wfe)throw new Error("scrypt is locked");Sfe=n};Object.freeze(xx);function _x(n,e,r,i,s,o){const a=It(n,"passwd"),l=It(e,"salt");return St(kfe(a,l,r,i,s,o))}_x._=_fe;_x.lock=function(){vfe=!0};_x.register=function(n){if(vfe)throw new Error("scryptSync is locked");kfe=n};Object.freeze(_x);const Cfe=function(n){return gRe("sha256").update(n).digest()};let Efe=Cfe,Afe=!1;function ca(n){const e=It(n,"data");return St(Efe(e))}ca._=Cfe;ca.lock=function(){Afe=!0};ca.register=function(n){if(Afe)throw new Error("sha256 is locked");Efe=n};Object.freeze(ca);Object.freeze(ca);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tfe=BigInt(0),VC=BigInt(1),$Re=BigInt(2),GC=n=>n instanceof Uint8Array,zRe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function p0(n){if(!GC(n))throw new Error("Uint8Array expected");let e="";for(let r=0;r<n.length;r++)e+=zRe[n[r]];return e}function Pfe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function t9(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function m0(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){const s=i*2,o=n.slice(s,s+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[i]=a}return r}function If(n){return t9(p0(n))}function n9(n){if(!GC(n))throw new Error("Uint8Array expected");return t9(p0(Uint8Array.from(n).reverse()))}function g0(n,e){return m0(n.toString(16).padStart(e*2,"0"))}function r9(n,e){return g0(n,e).reverse()}function URe(n){return m0(Pfe(n))}function Sa(n,e,r){let i;if(typeof e=="string")try{i=m0(e)}catch(o){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${o}`)}else if(GC(e))i=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(`${n} expected ${r} bytes, got ${s}`);return i}function uw(...n){const e=new Uint8Array(n.reduce((i,s)=>i+s.length,0));let r=0;return n.forEach(i=>{if(!GC(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}function WRe(n,e){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}function qRe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function HRe(n){let e;for(e=0;n>Tfe;n>>=VC,e+=1);return e}function VRe(n,e){return n>>BigInt(e)&VC}const GRe=(n,e,r)=>n|(r?VC:Tfe)<<BigInt(e),i9=n=>($Re<<BigInt(n-1))-VC,q5=n=>new Uint8Array(n),cW=n=>Uint8Array.from(n);function Ife(n,e,r){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=q5(n),s=q5(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},l=(...h)=>r(s,i,...h),c=(h=q5())=>{s=l(cW([0]),h),i=l(),h.length!==0&&(s=l(cW([1]),h),i=l())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return uw(...f)};return(h,f)=>{a(),c(h);let p;for(;!(p=f(u()));)c();return a(),p}}const YRe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Sx(n,e,r={}){const i=(s,o,a)=>{const l=YRe[o];if(typeof l!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=n[s];if(!(a&&c===void 0)&&!l(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(e))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return n}const KRe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:VRe,bitLen:HRe,bitMask:i9,bitSet:GRe,bytesToHex:p0,bytesToNumberBE:If,bytesToNumberLE:n9,concatBytes:uw,createHmacDrbg:Ife,ensureBytes:Sa,equalBytes:WRe,hexToBytes:m0,hexToNumber:t9,numberToBytesBE:g0,numberToBytesLE:r9,numberToHexUnpadded:Pfe,numberToVarBytesBE:URe,utf8ToBytes:qRe,validateObject:Sx},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ci=BigInt(0),Dr=BigInt(1),Gh=BigInt(2),XRe=BigInt(3),HR=BigInt(4),uW=BigInt(5),dW=BigInt(8);BigInt(9);BigInt(16);function Is(n,e){const r=n%e;return r>=ci?r:e+r}function QRe(n,e,r){if(r<=ci||e<ci)throw new Error("Expected power/modulo > 0");if(r===Dr)return ci;let i=Dr;for(;e>ci;)e&Dr&&(i=i*n%r),n=n*n%r,e>>=Dr;return i}function Do(n,e,r){let i=n;for(;e-- >ci;)i*=i,i%=r;return i}function VR(n,e){if(n===ci||e<=ci)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let r=Is(n,e),i=e,s=ci,o=Dr;for(;r!==ci;){const l=i/r,c=i%r,u=s-o*l;i=r,r=c,s=o,o=u}if(i!==Dr)throw new Error("invert: does not exist");return Is(s,e)}function JRe(n){const e=(n-Dr)/Gh;let r,i,s;for(r=n-Dr,i=0;r%Gh===ci;r/=Gh,i++);for(s=Gh;s<n&&QRe(s,e,n)!==n-Dr;s++);if(i===1){const a=(n+Dr)/HR;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const o=(r+Dr)/Gh;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=i,d=l.pow(l.mul(l.ONE,s),r),h=l.pow(c,o),f=l.pow(c,r);for(;!l.eql(f,l.ONE);){if(l.eql(f,l.ZERO))return l.ZERO;let p=1;for(let b=l.sqr(f);p<u&&!l.eql(b,l.ONE);p++)b=l.sqr(b);const m=l.pow(d,Dr<<BigInt(u-p-1));d=l.sqr(m),h=l.mul(h,m),f=l.mul(f,d),u=p}return h}}function ZRe(n){if(n%HR===XRe){const e=(n+Dr)/HR;return function(i,s){const o=i.pow(s,e);if(!i.eql(i.sqr(o),s))throw new Error("Cannot find square root");return o}}if(n%dW===uW){const e=(n-uW)/dW;return function(i,s){const o=i.mul(s,Gh),a=i.pow(o,e),l=i.mul(s,a),c=i.mul(i.mul(l,Gh),a),u=i.mul(l,i.sub(c,i.ONE));if(!i.eql(i.sqr(u),s))throw new Error("Cannot find square root");return u}}return JRe(n)}const e4e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function t4e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=e4e.reduce((i,s)=>(i[s]="function",i),e);return Sx(n,r)}function n4e(n,e,r){if(r<ci)throw new Error("Expected power > 0");if(r===ci)return n.ONE;if(r===Dr)return e;let i=n.ONE,s=e;for(;r>ci;)r&Dr&&(i=n.mul(i,s)),s=n.sqr(s),r>>=Dr;return i}function r4e(n,e){const r=new Array(e.length),i=e.reduce((o,a,l)=>n.is0(a)?o:(r[l]=o,n.mul(o,a)),n.ONE),s=n.inv(i);return e.reduceRight((o,a,l)=>n.is0(a)?o:(r[l]=n.mul(o,r[l]),n.mul(o,a)),s),r}function Mfe(n,e){const r=e!==void 0?e:n.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function i4e(n,e,r=!1,i={}){if(n<=ci)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:o}=Mfe(n,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=ZRe(n),l=Object.freeze({ORDER:n,BITS:s,BYTES:o,MASK:i9(s),ZERO:ci,ONE:Dr,create:c=>Is(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ci<=c&&c<n},is0:c=>c===ci,isOdd:c=>(c&Dr)===Dr,neg:c=>Is(-c,n),eql:(c,u)=>c===u,sqr:c=>Is(c*c,n),add:(c,u)=>Is(c+u,n),sub:(c,u)=>Is(c-u,n),mul:(c,u)=>Is(c*u,n),pow:(c,u)=>n4e(l,c,u),div:(c,u)=>Is(c*VR(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>VR(c,n),sqrt:i.sqrt||(c=>a(l,c)),invertBatch:c=>r4e(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>r?r9(c,o):g0(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?n9(c):If(c)}});return Object.freeze(l)}function Ofe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Dfe(n){const e=Ofe(n);return e+Math.ceil(e/2)}function s4e(n,e,r=!1){const i=n.length,s=Ofe(e),o=Dfe(e);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const a=r?If(n):n9(n),l=Is(a,e-Dr)+Dr;return r?r9(l,s):g0(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o4e=BigInt(0),H5=BigInt(1);function a4e(n,e){const r=(s,o)=>{const a=o.negate();return s?a:o},i=s=>{const o=Math.ceil(e/s)+1,a=2**(s-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,o){let a=n.ZERO,l=s;for(;o>o4e;)o&H5&&(a=a.add(l)),l=l.double(),o>>=H5;return a},precomputeWindow(s,o){const{windows:a,windowSize:l}=i(o),c=[];let u=s,d=u;for(let h=0;h<a;h++){d=u,c.push(d);for(let f=1;f<l;f++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(s,o,a){const{windows:l,windowSize:c}=i(s);let u=n.ZERO,d=n.BASE;const h=BigInt(2**s-1),f=2**s,p=BigInt(s);for(let m=0;m<l;m++){const b=m*c;let y=Number(a&h);a>>=p,y>c&&(y-=f,a+=H5);const v=b,w=b+Math.abs(y)-1,_=m%2!==0,x=y<0;y===0?d=d.add(r(_,o[v])):u=u.add(r(x,o[w]))}return{p:u,f:d}},wNAFCached(s,o,a,l){const c=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&o.set(s,l(u))),this.wNAF(c,u,a)}}}function Rfe(n){return t4e(n.Fp),Sx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Mfe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function l4e(n){const e=Rfe(n);Sx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:s}=e;if(r){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:c4e,hexToBytes:u4e}=KRe,rf={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=rf;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const r=n[1],i=n.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:c4e(i),l:n.subarray(r+2)}},toSig(n){const{Err:e}=rf,r=typeof n=="string"?u4e(n):n;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");const{d:s,l:o}=rf._parseInt(r.subarray(2)),{d:a,l}=rf._parseInt(o);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},i=e(r(n.s)),s=e(r(n.r)),o=i.length/2,a=s.length/2,l=r(o),c=r(a);return`30${r(a+o+4)}02${c}${s}02${l}${i}`}},Fc=BigInt(0),Go=BigInt(1);BigInt(2);const hW=BigInt(3);BigInt(4);function d4e(n){const e=l4e(n),{Fp:r}=e,i=e.toBytes||((m,b,y)=>{const v=b.toAffine();return uw(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),s=e.fromBytes||(m=>{const b=m.subarray(1),y=r.fromBytes(b.subarray(0,r.BYTES)),v=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:y,y:v}});function o(m){const{a:b,b:y}=e,v=r.sqr(m),w=r.mul(v,m);return r.add(r.add(w,r.mul(m,b)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return typeof m=="bigint"&&Fc<m&&m<e.n}function l(m){if(!a(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:b,nByteLength:y,wrapPrivateKey:v,n:w}=e;if(b&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=p0(m)),typeof m!="string"||!b.includes(m.length))throw new Error("Invalid key");m=m.padStart(y*2,"0")}let _;try{_=typeof m=="bigint"?m:If(Sa("private key",m,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof m}`)}return v&&(_=Is(_,w)),l(_),_}const u=new Map;function d(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(b,y,v){if(this.px=b,this.py=y,this.pz=v,b==null||!r.isValid(b))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(v==null||!r.isValid(v))throw new Error("z required")}static fromAffine(b){const{x:y,y:v}=b||{};if(!b||!r.isValid(y)||!r.isValid(v))throw new Error("invalid affine point");if(b instanceof h)throw new Error("projective point not allowed");const w=_=>r.eql(_,r.ZERO);return w(y)&&w(v)?h.ZERO:new h(y,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const y=r.invertBatch(b.map(v=>v.pz));return b.map((v,w)=>v.toAffine(y[w])).map(h.fromAffine)}static fromHex(b){const y=h.fromAffine(s(Sa("pointHex",b)));return y.assertValidity(),y}static fromPrivateKey(b){return h.BASE.multiply(c(b))}_setWindowSize(b){this._WINDOW_SIZE=b,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:b,y}=this.toAffine();if(!r.isValid(b)||!r.isValid(y))throw new Error("bad point: x or y not FE");const v=r.sqr(y),w=o(b);if(!r.eql(v,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){d(b);const{px:y,py:v,pz:w}=this,{px:_,py:x,pz:S}=b,C=r.eql(r.mul(y,S),r.mul(_,w)),E=r.eql(r.mul(v,S),r.mul(x,w));return C&&E}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:y}=e,v=r.mul(y,hW),{px:w,py:_,pz:x}=this;let S=r.ZERO,C=r.ZERO,E=r.ZERO,A=r.mul(w,w),M=r.mul(_,_),I=r.mul(x,x),O=r.mul(w,_);return O=r.add(O,O),E=r.mul(w,x),E=r.add(E,E),S=r.mul(b,E),C=r.mul(v,I),C=r.add(S,C),S=r.sub(M,C),C=r.add(M,C),C=r.mul(S,C),S=r.mul(O,S),E=r.mul(v,E),I=r.mul(b,I),O=r.sub(A,I),O=r.mul(b,O),O=r.add(O,E),E=r.add(A,A),A=r.add(E,A),A=r.add(A,I),A=r.mul(A,O),C=r.add(C,A),I=r.mul(_,x),I=r.add(I,I),A=r.mul(I,O),S=r.sub(S,A),E=r.mul(I,M),E=r.add(E,E),E=r.add(E,E),new h(S,C,E)}add(b){d(b);const{px:y,py:v,pz:w}=this,{px:_,py:x,pz:S}=b;let C=r.ZERO,E=r.ZERO,A=r.ZERO;const M=e.a,I=r.mul(e.b,hW);let O=r.mul(y,_),F=r.mul(v,x),$=r.mul(w,S),z=r.add(y,v),R=r.add(_,x);z=r.mul(z,R),R=r.add(O,F),z=r.sub(z,R),R=r.add(y,w);let j=r.add(_,S);return R=r.mul(R,j),j=r.add(O,$),R=r.sub(R,j),j=r.add(v,w),C=r.add(x,S),j=r.mul(j,C),C=r.add(F,$),j=r.sub(j,C),A=r.mul(M,R),C=r.mul(I,$),A=r.add(C,A),C=r.sub(F,A),A=r.add(F,A),E=r.mul(C,A),F=r.add(O,O),F=r.add(F,O),$=r.mul(M,$),R=r.mul(I,R),F=r.add(F,$),$=r.sub(O,$),$=r.mul(M,$),R=r.add(R,$),O=r.mul(F,R),E=r.add(E,O),O=r.mul(j,R),C=r.mul(z,C),C=r.sub(C,O),O=r.mul(z,F),A=r.mul(j,A),A=r.add(A,O),new h(C,E,A)}subtract(b){return this.add(b.negate())}is0(){return this.equals(h.ZERO)}wNAF(b){return p.wNAFCached(this,u,b,y=>{const v=r.invertBatch(y.map(w=>w.pz));return y.map((w,_)=>w.toAffine(v[_])).map(h.fromAffine)})}multiplyUnsafe(b){const y=h.ZERO;if(b===Fc)return y;if(l(b),b===Go)return this;const{endo:v}=e;if(!v)return p.unsafeLadder(this,b);let{k1neg:w,k1:_,k2neg:x,k2:S}=v.splitScalar(b),C=y,E=y,A=this;for(;_>Fc||S>Fc;)_&Go&&(C=C.add(A)),S&Go&&(E=E.add(A)),A=A.double(),_>>=Go,S>>=Go;return w&&(C=C.negate()),x&&(E=E.negate()),E=new h(r.mul(E.px,v.beta),E.py,E.pz),C.add(E)}multiply(b){l(b);let y=b,v,w;const{endo:_}=e;if(_){const{k1neg:x,k1:S,k2neg:C,k2:E}=_.splitScalar(y);let{p:A,f:M}=this.wNAF(S),{p:I,f:O}=this.wNAF(E);A=p.constTimeNegate(x,A),I=p.constTimeNegate(C,I),I=new h(r.mul(I.px,_.beta),I.py,I.pz),v=A.add(I),w=M.add(O)}else{const{p:x,f:S}=this.wNAF(y);v=x,w=S}return h.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(b,y,v){const w=h.BASE,_=(S,C)=>C===Fc||C===Go||!S.equals(w)?S.multiplyUnsafe(C):S.multiply(C),x=_(this,y).add(_(b,v));return x.is0()?void 0:x}toAffine(b){const{px:y,py:v,pz:w}=this,_=this.is0();b==null&&(b=_?r.ONE:r.inv(w));const x=r.mul(y,b),S=r.mul(v,b),C=r.mul(w,b);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x,y:S}}isTorsionFree(){const{h:b,isTorsionFree:y}=e;if(b===Go)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:y}=e;return b===Go?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),i(h,this,b)}toHex(b=!0){return p0(this.toRawBytes(b))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,p=a4e(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function h4e(n){const e=Rfe(n);return Sx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function f4e(n){const e=h4e(n),{Fp:r,n:i}=e,s=r.BYTES+1,o=2*r.BYTES+1;function a(R){return Fc<R&&R<r.ORDER}function l(R){return Is(R,i)}function c(R){return VR(R,i)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=d4e({...e,toBytes(R,j,N){const D=j.toAffine(),H=r.toBytes(D.x),U=uw;return N?U(Uint8Array.from([j.hasEvenY()?2:3]),H):U(Uint8Array.from([4]),H,r.toBytes(D.y))},fromBytes(R){const j=R.length,N=R[0],D=R.subarray(1);if(j===s&&(N===2||N===3)){const H=If(D);if(!a(H))throw new Error("Point is not on curve");const U=h(H);let X=r.sqrt(U);const Y=(X&Go)===Go;return(N&1)===1!==Y&&(X=r.neg(X)),{x:H,y:X}}else if(j===o&&N===4){const H=r.fromBytes(D.subarray(0,r.BYTES)),U=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:H,y:U}}else throw new Error(`Point of length ${j} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),p=R=>p0(g0(R,e.nByteLength));function m(R){const j=i>>Go;return R>j}function b(R){return m(R)?l(-R):R}const y=(R,j,N)=>If(R.slice(j,N));class v{constructor(j,N,D){this.r=j,this.s=N,this.recovery=D,this.assertValidity()}static fromCompact(j){const N=e.nByteLength;return j=Sa("compactSignature",j,N*2),new v(y(j,0,N),y(j,N,2*N))}static fromDER(j){const{r:N,s:D}=rf.toSig(Sa("DER",j));return new v(N,D)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(j){return new v(this.r,this.s,j)}recoverPublicKey(j){const{r:N,s:D,recovery:H}=this,U=E(Sa("msgHash",j));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const X=H===2||H===3?N+e.n:N;if(X>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=H&1?"03":"02",ee=u.fromHex(Y+p(X)),G=c(X),Z=l(-U*G),pe=l(D*G),re=u.BASE.multiplyAndAddUnsafe(ee,Z,pe);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return m0(this.toDERHex())}toDERHex(){return rf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return m0(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(R){try{return d(R),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const R=Dfe(e.n);return s4e(e.randomBytes(R),e.n)},precompute(R=8,j=u.BASE){return j._setWindowSize(R),j.multiply(BigInt(3)),j}};function _(R,j=!0){return u.fromPrivateKey(R).toRawBytes(j)}function x(R){const j=R instanceof Uint8Array,N=typeof R=="string",D=(j||N)&&R.length;return j?D===s||D===o:N?D===2*s||D===2*o:R instanceof u}function S(R,j,N=!0){if(x(R))throw new Error("first arg must be private key");if(!x(j))throw new Error("second arg must be public key");return u.fromHex(j).multiply(d(R)).toRawBytes(N)}const C=e.bits2int||function(R){const j=If(R),N=R.length*8-e.nBitLength;return N>0?j>>BigInt(N):j},E=e.bits2int_modN||function(R){return l(C(R))},A=i9(e.nBitLength);function M(R){if(typeof R!="bigint")throw new Error("bigint expected");if(!(Fc<=R&&R<A))throw new Error(`bigint expected < 2^${e.nBitLength}`);return g0(R,e.nByteLength)}function I(R,j,N=O){if(["recovered","canonical"].some(ce=>ce in N))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:H}=e;let{lowS:U,prehash:X,extraEntropy:Y}=N;U==null&&(U=!0),R=Sa("msgHash",R),X&&(R=Sa("prehashed msgHash",D(R)));const ee=E(R),G=d(j),Z=[M(G),M(ee)];if(Y!=null){const ce=Y===!0?H(r.BYTES):Y;Z.push(Sa("extraEntropy",ce))}const pe=uw(...Z),re=ee;function le(ce){const Pe=C(ce);if(!f(Pe))return;const Ee=c(Pe),V=u.BASE.multiply(Pe).toAffine(),Ae=l(V.x);if(Ae===Fc)return;const Qe=l(Ee*l(re+Ae*G));if(Qe===Fc)return;let st=(V.x===Ae?0:2)|Number(V.y&Go),ze=Qe;return U&&m(Qe)&&(ze=b(Qe),st^=1),new v(Ae,ze,st)}return{seed:pe,k2sig:le}}const O={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function $(R,j,N=O){const{seed:D,k2sig:H}=I(R,j,N),U=e;return Ife(U.hash.outputLen,U.nByteLength,U.hmac)(D,H)}u.BASE._setWindowSize(8);function z(R,j,N,D=F){var V;const H=R;if(j=Sa("msgHash",j),N=Sa("publicKey",N),"strict"in D)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:X}=D;let Y,ee;try{if(typeof H=="string"||H instanceof Uint8Array)try{Y=v.fromDER(H)}catch(Ae){if(!(Ae instanceof rf.Err))throw Ae;Y=v.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:Ae,s:Qe}=H;Y=new v(Ae,Qe)}else throw new Error("PARSE");ee=u.fromHex(N)}catch(Ae){if(Ae.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&Y.hasHighS())return!1;X&&(j=e.hash(j));const{r:G,s:Z}=Y,pe=E(j),re=c(Z),le=l(pe*re),ce=l(G*re),Pe=(V=u.BASE.multiplyAndAddUnsafe(ee,le,ce))==null?void 0:V.toAffine();return Pe?l(Pe.x)===G:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:S,sign:$,verify:z,ProjectivePoint:u,Signature:v,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function p4e(n){return{hash:n,hmac:(e,...r)=>HC(n,e,$8e(...r)),randomBytes:U8e}}function m4e(n,e){const r=i=>f4e({...n,...p4e(i)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nfe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fW=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),g4e=BigInt(1),GR=BigInt(2),pW=(n,e)=>(n+e/GR)/e;function b4e(n){const e=Nfe,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=n*n*n%e,d=u*u*n%e,h=Do(d,r,e)*d%e,f=Do(h,r,e)*d%e,p=Do(f,GR,e)*u%e,m=Do(p,s,e)*p%e,b=Do(m,o,e)*m%e,y=Do(b,l,e)*b%e,v=Do(y,c,e)*y%e,w=Do(v,l,e)*b%e,_=Do(w,r,e)*d%e,x=Do(_,a,e)*m%e,S=Do(x,i,e)*u%e,C=Do(S,GR,e);if(!YR.eql(YR.sqr(C),n))throw new Error("Cannot find square root");return C}const YR=i4e(Nfe,void 0,void 0,{sqrt:b4e}),nd=m4e({a:BigInt(0),b:BigInt(7),Fp:YR,n:fW,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=fW,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-g4e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),l=pW(o*n,e),c=pW(-i*n,e);let u=Is(n-l*r-c*s,e),d=Is(-l*i-c*o,e);const h=u>a,f=d>a;if(h&&(u=e-u),f&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:u,k2neg:f,k2:d}}}},J0);BigInt(0);nd.ProjectivePoint;const jfe="0x0000000000000000000000000000000000000000",mW="0x0000000000000000000000000000000000000000000000000000000000000000",y4e=`Ethereum Signed Message:
`,gW=BigInt(0),bW=BigInt(1),KR=BigInt(2),yW=BigInt(27),vW=BigInt(28),s_=BigInt(35),Bfe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),v4e=Bfe/KR,w4e=Symbol.for("nodejs.util.inspect.custom"),Ch={};function V5(n){return eh(Rr(n),32)}var Ag,Cl,Tg,_d;const Uo=class Uo{constructor(e,r,i,s){ht(this,Ag);ht(this,Cl);ht(this,Tg);ht(this,_d);zC(e,Ch,"Signature"),je(this,Ag,r),je(this,Cl,i),je(this,Tg,s),je(this,_d,null)}get r(){return ne(this,Ag)}set r(e){Le(Qy(e)===32,"invalid r","value",e),je(this,Ag,St(e))}get s(){return Le(parseInt(ne(this,Cl).substring(0,3))<8,"non-canonical s; use ._s","s",ne(this,Cl)),ne(this,Cl)}set s(e){Le(Qy(e)===32,"invalid s","value",e),je(this,Cl,St(e))}get _s(){return ne(this,Cl)}isValid(){return BigInt(ne(this,Cl))<=v4e}get v(){return ne(this,Tg)}set v(e){const r=bo(e,"value");Le(r===27||r===28,"invalid v","v",e),je(this,Tg,r)}get networkV(){return ne(this,_d)}get legacyChainId(){const e=this.networkV;return e==null?null:Uo.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=It(this.s);return this.yParity&&(e[0]|=128),St(e)}get compactSerialized(){return jr([this.r,this.yParityAndS])}get serialized(){return jr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=Bfe-BigInt(this._s),r=55-this.v,i=new Uo(Ch,this.r,V5(e),r);return this.networkV&&je(i,_d,this.networkV),i}clone(){const e=new Uo(Ch,this.r,this._s,this.v);return this.networkV&&je(e,_d,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[w4e](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const r=Yn(e,"v");return r==yW||r==vW?gW:(Le(r>=s_,"invalid EIP-155 v","v",e),(r-s_)/KR)}static getChainIdV(e,r){return Yn(e)*KR+BigInt(35+r-27)}static getNormalizedV(e){const r=Yn(e);return r===gW||r===yW?27:r===bW||r===vW?28:(Le(r>=s_,"invalid v","v",e),r&bW?27:28)}static from(e){function r(u,d){Le(u,d,"signature",e)}if(e==null)return new Uo(Ch,mW,mW,27);if(typeof e=="string"){const u=It(e,"signature");if(u.length===64){const d=St(u.slice(0,32)),h=u.slice(32,64),f=h[0]&128?28:27;return h[0]&=127,new Uo(Ch,d,St(h),f)}if(u.length===65){const d=St(u.slice(0,32)),h=St(u.slice(32,64)),f=Uo.getNormalizedV(u[64]);return new Uo(Ch,d,h,f)}r(!1,"invalid raw signature length")}if(e instanceof Uo)return e.clone();const i=e.r;r(i!=null,"missing r");const s=V5(i),o=function(u,d){if(u!=null)return V5(u);if(d!=null){r(Yl(d,32),"invalid yParityAndS");const h=It(d);return h[0]&=127,St(h)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:l}=function(u,d,h){if(u!=null){const f=Yn(u);return{networkV:f>=s_?f:void 0,v:Uo.getNormalizedV(f)}}if(d!=null)return r(Yl(d,32),"invalid yParityAndS"),{v:It(d)[0]&128?28:27};if(h!=null){switch(bo(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Uo(Ch,s,o,l);return a&&je(c,_d,a),r(e.yParity==null||bo(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Ag=new WeakMap,Cl=new WeakMap,Tg=new WeakMap,_d=new WeakMap;let Va=Uo;var jc;const Kh=class Kh{constructor(e){ht(this,jc);Le(Qy(e)===32,"invalid private key","privateKey","[REDACTED]"),je(this,jc,St(e))}get privateKey(){return ne(this,jc)}get publicKey(){return Kh.computePublicKey(ne(this,jc))}get compressedPublicKey(){return Kh.computePublicKey(ne(this,jc),!0)}sign(e){Le(Qy(e)===32,"invalid digest length","digest",e);const r=nd.sign(vm(e),vm(ne(this,jc)),{lowS:!0});return Va.from({r:d0(r.r,32),s:d0(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Kh.computePublicKey(e);return St(nd.getSharedSecret(vm(ne(this,jc)),It(r),!1))}static computePublicKey(e,r){let i=It(e,"key");if(i.length===32){const o=nd.getPublicKey(i,!!r);return St(o)}if(i.length===64){const o=new Uint8Array(65);o[0]=4,o.set(i,1),i=o}const s=nd.ProjectivePoint.fromHex(i);return St(s.toRawBytes(r))}static recoverPublicKey(e,r){Le(Qy(e)===32,"invalid digest length","digest",e);const i=Va.from(r);let s=nd.Signature.fromCompact(vm(jr([i.r,i.s])));s=s.addRecoveryBit(i.yParity);const o=s.recoverPublicKey(vm(e));return Le(o!=null,"invalid signature for digest","signature",r),"0x"+o.toHex(!1)}static addPoints(e,r,i){const s=nd.ProjectivePoint.fromHex(Kh.computePublicKey(e).substring(2)),o=nd.ProjectivePoint.fromHex(Kh.computePublicKey(r).substring(2));return"0x"+s.add(o).toHex(!!i)}};jc=new WeakMap;let Fl=Kh;const x4e=BigInt(0),_4e=BigInt(36);function wW(n){n=n.toLowerCase();const e=n.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const i=It(ai(r));for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(i[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const s9={};for(let n=0;n<10;n++)s9[String(n)]=String(n);for(let n=0;n<26;n++)s9[String.fromCharCode(65+n)]=String(10+n);const xW=15;function S4e(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(i=>s9[i]).join("");for(;e.length>=xW;){let i=e.substring(0,xW);e=parseInt(i,10)%97+e.substring(i.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const k4e=function(){const n={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[r]=BigInt(e)}return n}();function C4e(n){n=n.toLowerCase();let e=x4e;for(let r=0;r<n.length;r++)e=e*_4e+k4e[n[r]];return e}function ua(n){if(Le(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=wW(n);return Le(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Le(n.substring(2,4)===S4e(n),"bad icap checksum","address",n);let e=C4e(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return wW("0x"+e)}Le(!1,"invalid address","address",n)}function E4e(n){return n&&typeof n.getAddress=="function"}async function G5(n,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(wn(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),Le(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),ua(r)}function Jy(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?ua(n):(wn(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),G5(n,e.resolveName(n)));if(E4e(n))return G5(n,n.getAddress());if(n&&typeof n.then=="function")return G5(n,n);Le(!1,"unsupported addressable value","target",n)}function Y5(n,e){return{address:ua(n),storageKeys:e.map((r,i)=>(Le(Yl(r,32),"invalid slot",`storageKeys[${i}]`,r),r.toLowerCase()))}}function YC(n){if(Array.isArray(n))return n.map((r,i)=>Array.isArray(r)?(Le(r.length===2,"invalid slot set",`value[${i}]`,r),Y5(r[0],r[1])):(Le(r!=null&&typeof r=="object","invalid address-slot set","value",n),Y5(r.address,r.storageKeys)));Le(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(r=>{const i=n[r].reduce((s,o)=>(s[o]=!0,s),{});return Y5(r,Object.keys(i).sort())});return e.sort((r,i)=>r.address.localeCompare(i.address)),e}function A4e(n){return{address:ua(n.address),nonce:Yn(n.nonce!=null?n.nonce:0),chainId:Yn(n.chainId!=null?n.chainId:0),signature:Va.from(n.signature)}}function kx(n){let e;return typeof n=="string"?e=Fl.computePublicKey(n,!1):e=n.publicKey,ua(ai("0x"+e.substring(4)).substring(26))}function T4e(n,e){return kx(Fl.recoverPublicKey(n,e))}const si=BigInt(0),P4e=BigInt(2),I4e=BigInt(27),M4e=BigInt(28),O4e=BigInt(35),D4e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),R4e=Symbol.for("nodejs.util.inspect.custom"),K5=4096*32,_S=128;function N4e(n){return{blobToKzgCommitment:i=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return It(n.blobToKzgCommitment(St(i)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return It(n.blobToKzgCommitment(i));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return It(n.blobToKZGCommitment(St(i)));Le(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(i,s)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return It(n.computeBlobProof(St(i),St(s)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(i,s);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return It(n.computeBlobKZGProof(St(i),St(s)));Le(!1,"unsupported KZG library","kzg",n)}}}function _W(n,e){let r=n.toString(16);for(;r.length<2;)r="0"+r;return r+=ca(e).substring(4),"0x"+r}function tb(n){return n==="0x"?null:ua(n)}function KC(n,e){try{return YC(n)}catch(r){Le(!1,r.message,e,n)}}function j4e(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const r=[];for(let i=0;i<n.length;i++){const s=n[i];if(!Array.isArray(s))throw new Error(`authorization[${i}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${i}]: wrong length`);if(!s[1])throw new Error(`authorization[${i}]: null address`);r.push({address:tb(s[1]),nonce:Ln(s[2],"nonce"),chainId:Ln(s[0],"chainId"),signature:Va.from({yParity:wp(s[3],"yParity"),r:eh(s[4],32),s:eh(s[5],32)})})}return r}catch(r){Le(!1,r.message,e,n)}}function wp(n,e){return n==="0x"?0:bo(n,e)}function Ln(n,e){if(n==="0x")return si;const r=Yn(n,e);return Le(r<=D4e,"value exceeds uint size",e,r),r}function gn(n,e){const r=Yn(n,"value"),i=Rr(r);return Le(i.length<=32,"value too large",`tx.${e}`,r),i}function XC(n){return YC(n).map(e=>[e.address,e.storageKeys])}function B4e(n){return n.map(e=>[gn(e.chainId,"chainId"),e.address,gn(e.nonce,"nonce"),gn(e.signature.yParity,"yParity"),Rr(e.signature.r),Rr(e.signature._s)])}function L4e(n,e){Le(Array.isArray(n),`invalid ${e}`,"value",n);for(let r=0;r<n.length;r++)Le(Yl(n[r],32),"invalid ${ param } hash",`value[${r}]`,n[r]);return n}function F4e(n){const e=vx(n);Le(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const r={type:0,nonce:wp(e[0],"nonce"),gasPrice:Ln(e[1],"gasPrice"),gasLimit:Ln(e[2],"gasLimit"),to:tb(e[3]),value:Ln(e[4],"value"),data:St(e[5]),chainId:si};if(e.length===6)return r;const i=Ln(e[6],"v"),s=Ln(e[7],"r"),o=Ln(e[8],"s");if(s===si&&o===si)r.chainId=i;else{let a=(i-O4e)/P4e;a<si&&(a=si),r.chainId=a,Le(a!==si||i===I4e||i===M4e,"non-canonical legacy v","v",e[6]),r.signature=Va.from({r:eh(e[7],32),s:eh(e[8],32),v:i})}return r}function $4e(n,e){const r=[gn(n.nonce,"nonce"),gn(n.gasPrice||0,"gasPrice"),gn(n.gasLimit,"gasLimit"),n.to||"0x",gn(n.value,"value"),n.data];let i=si;if(n.chainId!=si)i=Yn(n.chainId,"tx.chainId"),Le(!e||e.networkV==null||e.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const o=n.signature.legacyChainId;o!=null&&(i=o)}if(!e)return i!==si&&(r.push(Rr(i)),r.push("0x"),r.push("0x")),Zc(r);let s=BigInt(27+e.yParity);return i!==si?s=Va.getChainIdV(i,e.v):BigInt(e.v)!==s&&Le(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Rr(s)),r.push(Rr(e.r)),r.push(Rr(e._s)),Zc(r)}function QC(n,e){let r;try{if(r=wp(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{Le(!1,"invalid yParity","yParity",e[0])}const i=eh(e[1],32),s=eh(e[2],32),o=Va.from({r:i,s,yParity:r});n.signature=o}function z4e(n){const e=vx(It(n).slice(1));Le(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",St(n));const r={type:2,chainId:Ln(e[0],"chainId"),nonce:wp(e[1],"nonce"),maxPriorityFeePerGas:Ln(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ln(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ln(e[4],"gasLimit"),to:tb(e[5]),value:Ln(e[6],"value"),data:St(e[7]),accessList:KC(e[8],"accessList")};return e.length===9||QC(r,e.slice(9)),r}function U4e(n,e){const r=[gn(n.chainId,"chainId"),gn(n.nonce,"nonce"),gn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),gn(n.maxFeePerGas||0,"maxFeePerGas"),gn(n.gasLimit,"gasLimit"),n.to||"0x",gn(n.value,"value"),n.data,XC(n.accessList||[])];return e&&(r.push(gn(e.yParity,"yParity")),r.push(Rr(e.r)),r.push(Rr(e.s))),jr(["0x02",Zc(r)])}function W4e(n){const e=vx(It(n).slice(1));Le(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",St(n));const r={type:1,chainId:Ln(e[0],"chainId"),nonce:wp(e[1],"nonce"),gasPrice:Ln(e[2],"gasPrice"),gasLimit:Ln(e[3],"gasLimit"),to:tb(e[4]),value:Ln(e[5],"value"),data:St(e[6]),accessList:KC(e[7],"accessList")};return e.length===8||QC(r,e.slice(8)),r}function q4e(n,e){const r=[gn(n.chainId,"chainId"),gn(n.nonce,"nonce"),gn(n.gasPrice||0,"gasPrice"),gn(n.gasLimit,"gasLimit"),n.to||"0x",gn(n.value,"value"),n.data,XC(n.accessList||[])];return e&&(r.push(gn(e.yParity,"recoveryParam")),r.push(Rr(e.r)),r.push(Rr(e.s))),jr(["0x01",Zc(r)])}function H4e(n){let e=vx(It(n).slice(1)),r="3",i=null,s=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const a=e[1],l=e[2],c=e[3];Le(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),Le(Array.isArray(l),"invalid network format: commitments not an array","fields[2]",l),Le(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),Le(a.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),Le(a.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<e[1].length;u++)s.push({data:a[u],commitment:l[u],proof:c[u]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",i=bo(e[1]);const a=e[2],l=e[3],c=e[4];Le(i===1,`unsupported EIP-7594 network format version: ${i}`,"fields[1]",i),Le(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),Le(Array.isArray(l),"invalid EIP-7594 network format: commitments not an array","fields[3]",l),Le(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),Le(a.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),Le(a.length*_S===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<a.length;u++){const d=[];for(let h=0;h<_S;h++)d.push(c[u*_S+h]);s.push({data:a[u],commitment:l[u],proof:jr(d)})}e=e[0]}Le(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",St(n));const o={type:3,chainId:Ln(e[0],"chainId"),nonce:wp(e[1],"nonce"),maxPriorityFeePerGas:Ln(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ln(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ln(e[4],"gasLimit"),to:tb(e[5]),value:Ln(e[6],"value"),data:St(e[7]),accessList:KC(e[8],"accessList"),maxFeePerBlobGas:Ln(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:i};s&&(o.blobs=s),Le(o.to!=null,`invalid address for transaction type: ${r}`,"data",n),Le(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let a=0;a<o.blobVersionedHashes.length;a++)Le(Yl(o.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",n);return e.length===11||QC(o,e.slice(11)),o}function V4e(n,e,r){const i=[gn(n.chainId,"chainId"),gn(n.nonce,"nonce"),gn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),gn(n.maxFeePerGas||0,"maxFeePerGas"),gn(n.gasLimit,"gasLimit"),n.to||jfe,gn(n.value,"value"),n.data,XC(n.accessList||[]),gn(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),L4e(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(i.push(gn(e.yParity,"yParity")),i.push(Rr(e.r)),i.push(Rr(e.s)),r)){if(n.blobWrapperVersion!=null){const s=Rr(n.blobWrapperVersion),o=[];for(const{proof:a}of r){const l=It(a),c=l.length/_S;for(let u=0;u<l.length;u+=c)o.push(l.subarray(u,u+c))}return jr(["0x03",Zc([i,s,r.map(a=>a.data),r.map(a=>a.commitment),o])])}return jr(["0x03",Zc([i,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])])}return jr(["0x03",Zc(i)])}function G4e(n){const e=vx(It(n).slice(1));Le(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",St(n));const r={type:4,chainId:Ln(e[0],"chainId"),nonce:wp(e[1],"nonce"),maxPriorityFeePerGas:Ln(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ln(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ln(e[4],"gasLimit"),to:tb(e[5]),value:Ln(e[6],"value"),data:St(e[7]),accessList:KC(e[8],"accessList"),authorizationList:j4e(e[9],"authorizationList")};return e.length===10||QC(r,e.slice(10)),r}function Y4e(n,e){const r=[gn(n.chainId,"chainId"),gn(n.nonce,"nonce"),gn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),gn(n.maxFeePerGas||0,"maxFeePerGas"),gn(n.gasLimit,"gasLimit"),n.to||"0x",gn(n.value,"value"),n.data,XC(n.accessList||[]),B4e(n.authorizationList||[])];return e&&(r.push(gn(e.yParity,"yParity")),r.push(Rr(e.r)),r.push(Rr(e.s))),jr(["0x04",Zc(r)])}var Ea,Pg,Ig,Mg,Og,Dg,Rg,Ng,jg,Bg,Lg,Fg,xf,Sd,El,kd,$g,zg,Ug,SS;const vl=class vl{constructor(){ht(this,Ug);ht(this,Ea);ht(this,Pg);ht(this,Ig);ht(this,Mg);ht(this,Og);ht(this,Dg);ht(this,Rg);ht(this,Ng);ht(this,jg);ht(this,Bg);ht(this,Lg);ht(this,Fg);ht(this,xf);ht(this,Sd);ht(this,El);ht(this,kd);ht(this,$g);ht(this,zg);je(this,Ea,null),je(this,Pg,null),je(this,Mg,0),je(this,Og,si),je(this,Dg,null),je(this,Rg,null),je(this,Ng,null),je(this,Ig,"0x"),je(this,jg,si),je(this,Bg,si),je(this,Lg,null),je(this,Fg,null),je(this,xf,null),je(this,Sd,null),je(this,El,null),je(this,kd,null),je(this,$g,null),je(this,zg,null)}get type(){return ne(this,Ea)}set type(e){switch(e){case null:je(this,Ea,null);break;case 0:case"legacy":je(this,Ea,0);break;case 1:case"berlin":case"eip-2930":je(this,Ea,1);break;case 2:case"london":case"eip-1559":je(this,Ea,2);break;case 3:case"cancun":case"eip-4844":je(this,Ea,3);break;case 4:case"pectra":case"eip-7702":je(this,Ea,4);break;default:Le(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=ne(this,Pg);return e==null&&this.type===3?jfe:e}set to(e){je(this,Pg,e==null?null:ua(e))}get nonce(){return ne(this,Mg)}set nonce(e){je(this,Mg,bo(e,"value"))}get gasLimit(){return ne(this,Og)}set gasLimit(e){je(this,Og,Yn(e))}get gasPrice(){const e=ne(this,Dg);return e==null&&(this.type===0||this.type===1)?si:e}set gasPrice(e){je(this,Dg,e==null?null:Yn(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=ne(this,Rg);return e??(this.type===2||this.type===3?si:null)}set maxPriorityFeePerGas(e){je(this,Rg,e==null?null:Yn(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=ne(this,Ng);return e??(this.type===2||this.type===3?si:null)}set maxFeePerGas(e){je(this,Ng,e==null?null:Yn(e,"maxFeePerGas"))}get data(){return ne(this,Ig)}set data(e){je(this,Ig,St(e))}get value(){return ne(this,jg)}set value(e){je(this,jg,Yn(e,"value"))}get chainId(){return ne(this,Bg)}set chainId(e){je(this,Bg,Yn(e))}get signature(){return ne(this,Lg)||null}set signature(e){je(this,Lg,e==null?null:Va.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const r=this.authorizationList;if(r){for(const i of r)if(!i.signature.isValid())return!1}return!0}get accessList(){const e=ne(this,Fg)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){je(this,Fg,e==null?null:YC(e))}get authorizationList(){const e=ne(this,$g)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){je(this,$g,e==null?null:e.map(r=>A4e(r)))}get maxFeePerBlobGas(){const e=ne(this,xf);return e==null&&this.type===3?si:e}set maxFeePerBlobGas(e){je(this,xf,e==null?null:Yn(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=ne(this,Sd);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Le(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)Le(Yl(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}je(this,Sd,e)}get blobs(){return ne(this,kd)==null?null:ne(this,kd).map(e=>Object.assign({},e))}set blobs(e){if(e==null){je(this,kd,null);return}const r=[],i=[];for(let s=0;s<e.length;s++){const o=e[s];if(UC(o)){wn(ne(this,El),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=It(o);if(Le(a.length<=K5,"blob is too large",`blobs[${s}]`,o),a.length!==K5){const u=new Uint8Array(K5);u.set(a),a=u}const l=ne(this,El).blobToKzgCommitment(a),c=St(ne(this,El).computeBlobKzgProof(a,l));r.push({data:St(a),commitment:St(l),proof:c}),i.push(_W(1,l))}else{const a=St(o.data),l=St(o.commitment),c=St(o.proof);r.push({data:a,commitment:l,proof:c}),i.push(_W(1,l))}}je(this,kd,r),je(this,Sd,i)}get kzg(){return ne(this,El)}set kzg(e){e==null?je(this,El,null):je(this,El,N4e(e))}get blobWrapperVersion(){return ne(this,zg)}set blobWrapperVersion(e){je(this,zg,e)}get hash(){return this.signature==null?null:ai(Ft(this,Ug,SS).call(this,!0,!1))}get unsignedHash(){return ai(this.unsignedSerialized)}get from(){return this.signature==null?null:T4e(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Fl.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return Ft(this,Ug,SS).call(this,!0,!0)}get unsignedSerialized(){return Ft(this,Ug,SS).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,s=ne(this,xf)!=null||ne(this,Sd);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&wn(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),wn(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),wn(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):r?o.push(2):e?(o.push(1),i||o.push(0)):i?(o.push(1),o.push(2)):(s&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return vl.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[R4e](){return this.toString()}toString(){const e=[],r=s=>{let o=this[s];typeof o=="string"&&(o=JSON.stringify(o)),e.push(`${s}: ${o}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));const i=this.authorizationList;if(i){const s=[];for(const o of i){const a=[];a.push(`address: ${JSON.stringify(o.address)}`),o.nonce!=null&&a.push(`nonce: ${o.nonce}`),o.chainId!=null&&a.push(`chainId: ${o.chainId}`),o.signature&&a.push(`signature: ${o.signature.toString()}`),s.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new vl;if(typeof e=="string"){const i=It(e);if(i[0]>=127)return vl.from(F4e(i));switch(i[0]){case 1:return vl.from(W4e(i));case 2:return vl.from(z4e(i));case 3:return vl.from(H4e(i));case 4:return vl.from(G4e(i))}wn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new vl;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Va.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(Le(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Le(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Le(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Le(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};Ea=new WeakMap,Pg=new WeakMap,Ig=new WeakMap,Mg=new WeakMap,Og=new WeakMap,Dg=new WeakMap,Rg=new WeakMap,Ng=new WeakMap,jg=new WeakMap,Bg=new WeakMap,Lg=new WeakMap,Fg=new WeakMap,xf=new WeakMap,Sd=new WeakMap,El=new WeakMap,kd=new WeakMap,$g=new WeakMap,zg=new WeakMap,Ug=new WeakSet,SS=function(e,r){wn(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const i=e?this.signature:null;switch(this.inferType()){case 0:return $4e(this,i);case 1:return q4e(this,i);case 2:return U4e(this,i);case 3:return V4e(this,i,r?this.blobs:null);case 4:return Y4e(this,i)}wn(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Lk=vl;function K4e(n){return Le(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),ai(jr(["0x05",Zc([n.chainId!=null?Rr(n.chainId):"0x",ua(n.address),n.nonce!=null?Rr(n.nonce):"0x"])]))}function o9(n){return ai(Pf(n))}function X4e(n){return typeof n=="string"&&(n=Pf(n)),ai(jr([Pf(y4e),Pf(String(n.length)),n]))}const Lfe=new Uint8Array(32);Lfe.fill(0);const Q4e=BigInt(-1),Ffe=BigInt(0),$fe=BigInt(1),J4e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Z4e(n){const e=It(n),r=e.length%32;return r?jr([e,Lfe.slice(r)]):St(e)}const eNe=d0($fe,32),tNe=d0(Ffe,32),SW={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},X5=["name","version","chainId","verifyingContract","salt"];function kW(n){return function(e){return Le(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const nNe={name:kW("name"),version:kW("version"),chainId:function(n){const e=Yn(n,"domain.chainId");return Le(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):I8e(e)},verifyingContract:function(n){try{return ua(n).toLowerCase()}catch{}Le(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=It(n,"domain.salt");return Le(e.length===32,'invalid domain value "salt"',"domain.salt",n),St(e)}};function Q5(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",i=parseInt(e[2]);Le(i%8===0&&i!==0&&i<=256&&e[2]===String(i),"invalid numeric width","type",n);const s=P8e(J4e,r?i-1:i),o=r?(s+$fe)*Q4e:Ffe;return function(a){const l=Yn(a,"value");return Le(l>=o&&l<=s,`value out-of-bounds for ${n}`,"value",l),d0(r?T8e(l,256):l,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return Le(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",n),function(i){const s=It(i);return Le(s.length===r,`invalid length for ${n}`,"value",i),Z4e(i)}}}switch(n){case"address":return function(e){return eh(ua(e),32)};case"bool":return function(e){return e?eNe:tNe};case"bytes":return function(e){return ai(e)};case"string":return function(e){return o9(e)}}return null}function CW(n,e){return`${n}(${e.map(({name:r,type:i})=>i+" "+r).join(",")})`}function o_(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Ww,Bc,Wg,G2,zfe;const Wo=class Wo{constructor(e){ht(this,G2);$e(this,"primaryType");ht(this,Ww);ht(this,Bc);ht(this,Wg);je(this,Bc,new Map),je(this,Wg,new Map);const r=new Map,i=new Map,s=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:u,type:d})=>{let{base:h,index:f}=o_(d);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:u,type:h+(f||"")}}),r.set(c,new Set),i.set(c,[]),s.set(c,new Set)}),je(this,Ww,JSON.stringify(o));for(const c in o){const u=new Set;for(const d of o[c]){Le(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),u.add(d.name);const h=o_(d.type).base;Le(h!==c,`circular type reference to ${JSON.stringify(h)}`,"types",e),!Q5(h)&&(Le(i.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),i.get(h).push(c),r.get(c).add(h))}}const a=Array.from(i.keys()).filter(c=>i.get(c).length===0);Le(a.length!==0,"missing primary type","types",e),Le(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),go(this,{primaryType:a[0]});function l(c,u){Le(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const d of r.get(c))if(i.has(d)){l(d,u);for(const h of u)s.get(h).add(d)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of s){const d=Array.from(u);d.sort(),ne(this,Bc).set(c,CW(c,o[c])+d.map(h=>CW(h,o[h])).join(""))}}get types(){return JSON.parse(ne(this,Ww))}getEncoder(e){let r=ne(this,Wg).get(e);return r||(r=Ft(this,G2,zfe).call(this,e),ne(this,Wg).set(e,r)),r}encodeType(e){const r=ne(this,Bc).get(e);return Le(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return ai(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,i){if(Q5(e))return i(e,r);const s=o_(e).array;if(s)return Le(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(a=>this._visit(s.prefix,a,i));const o=this.types[e];if(o)return o.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,r[l],i),a),{});Le(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Wo(e)}static getPrimaryType(e){return Wo.from(e).primaryType}static hashStruct(e,r,i){return Wo.from(r).hashStruct(e,i)}static hashDomain(e){const r=[];for(const i in e){if(e[i]==null)continue;const s=SW[i];Le(s,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),r.push({name:i,type:s})}return r.sort((i,s)=>X5.indexOf(i.name)-X5.indexOf(s.name)),Wo.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,i){return jr(["0x1901",Wo.hashDomain(e),Wo.from(r).hash(i)])}static hash(e,r,i){return ai(Wo.encode(e,r,i))}static async resolveNames(e,r,i,s){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const o={};e.verifyingContract&&!Yl(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const a=Wo.from(r);a.visit(i,(l,c)=>(l==="address"&&!Yl(c,20)&&(o[c]="0x"),c));for(const l in o)o[l]=await s(l);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),i=a.visit(i,(l,c)=>l==="address"&&o[c]?o[c]:c),{domain:e,value:i}}static getPayload(e,r,i){Wo.hashDomain(e);const s={},o=[];X5.forEach(c=>{const u=e[c];u!=null&&(s[c]=nNe[c](u),o.push({name:c,type:SW[c]}))});const a=Wo.from(r);r=a.types;const l=Object.assign({},r);return Le(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),l.EIP712Domain=o,a.encode(i),{types:l,domain:s,primaryType:a.primaryType,message:a.visit(i,(c,u)=>{if(c.match(/^bytes(\d*)/))return St(It(u));if(c.match(/^u?int/))return Yn(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return Le(typeof u=="string","invalid string","value",u),u}Le(!1,"unsupported type","type",c)})}}};Ww=new WeakMap,Bc=new WeakMap,Wg=new WeakMap,G2=new WeakSet,zfe=function(e){{const s=Q5(e);if(s)return s}const r=o_(e).array;if(r){const s=r.prefix,o=this.getEncoder(s);return a=>{Le(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let l=a.map(o);return ne(this,Bc).has(s)&&(l=l.map(ai)),ai(jr(l))}}const i=this.types[e];if(i){const s=o9(ne(this,Bc).get(e));return o=>{const a=i.map(({name:l,type:c})=>{const u=this.getEncoder(c)(o[l]);return ne(this,Bc).has(c)?ai(u):u});return a.unshift(s),jr(a)}}Le(!1,`unknown type: ${e}`,"type",e)};let Fk=Wo;BigInt(0);function Ufe(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=St(n.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=Yn(n[s],`request.${s}`));const i="type,nonce".split(/,/);for(const s of i)!(s in n)||n[s]==null||(e[s]=bo(n[s],`request.${s}`));return n.accessList&&(e.accessList=YC(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(s=>UC(s)?St(s):Object.assign({},s))),e}function Eh(n,e){if(n.provider)return n.provider;wn(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function EW(n,e){let r=Ufe(e);if(r.to!=null&&(r.to=Jy(r.to,n)),r.from!=null){const i=r.from;r.from=Promise.all([n.getAddress(),Jy(i,n)]).then(([s,o])=>(Le(s.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),s))}else r.from=n.getAddress();return await q7(r)}class Wfe{constructor(e){$e(this,"provider");go(this,{provider:e||null})}async getNonce(e){return Eh(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await EW(this,e)}async populateTransaction(e){const r=Eh(this,"populateTransaction"),i=await EW(this,e);i.nonce==null&&(i.nonce=await this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=await this.estimateGas(i));const s=await this.provider.getNetwork();if(i.chainId!=null){const a=Yn(i.chainId);Le(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else i.chainId=s.chainId;const o=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||o)?Le(!1,"eip-1559 transaction do not support gasPrice","tx",e):(i.type===0||i.type===1)&&o&&Le(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){const a=await r.getFeeData();wn(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(i.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(i.authorizationList&&i.authorizationList.length?i.type=4:i.type=2,i.gasPrice!=null){const l=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=l,i.maxPriorityFeePerGas=l}else i.maxFeePerGas==null&&(i.maxFeePerGas=a.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(wn(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=a.gasPrice),i.type=0):wn(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(i.type===2||i.type===3||i.type===4)&&(i.maxFeePerGas==null&&(i.maxFeePerGas=a.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await q7(i)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await Eh(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return Eh(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Eh(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Eh(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=Eh(this,"sendTransaction"),i=await this.populateTransaction(e);delete i.from;const s=Lk.from(i);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){wn(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var qg,kS;const zL=class zL extends Wfe{constructor(r,i){super(i);ht(this,qg);$e(this,"address");go(this,{address:r})}async getAddress(){return this.address}connect(r){return new zL(this.address,r)}async signTransaction(r){Ft(this,qg,kS).call(this,"transactions","signTransaction")}async signMessage(r){Ft(this,qg,kS).call(this,"messages","signMessage")}async signTypedData(r,i,s){Ft(this,qg,kS).call(this,"typed-data","signTypedData")}};qg=new WeakSet,kS=function(r,i){wn(!1,`VoidSigner cannot sign ${r}`,"UNSUPPORTED_OPERATION",{operation:i})};let XR=zL;var Hg;const UL=class UL extends Wfe{constructor(r,i){super(i);$e(this,"address");ht(this,Hg);Le(r&&typeof r.sign=="function","invalid private key","privateKey","[ REDACTED ]"),je(this,Hg,r);const s=kx(this.signingKey.publicKey);go(this,{address:s})}get signingKey(){return ne(this,Hg)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(r){return new UL(ne(this,Hg),r)}async signTransaction(r){r=Ufe(r);const{to:i,from:s}=await q7({to:r.to?Jy(r.to,this):void 0,from:r.from?Jy(r.from,this):void 0});i!=null&&(r.to=i),s!=null&&(r.from=s),r.from!=null&&(Le(ua(r.from)===this.address,"transaction from address mismatch","tx.from",r.from),delete r.from);const o=Lk.from(r);return o.signature=this.signingKey.sign(o.unsignedHash),o.serialized}async signMessage(r){return this.signMessageSync(r)}signMessageSync(r){return this.signingKey.sign(X4e(r)).serialized}authorizeSync(r){Le(typeof r.address=="string","invalid address for authorizeSync","auth.address",r);const i=this.signingKey.sign(K4e(r));return Object.assign({},{address:ua(r.address),nonce:Yn(r.nonce||0),chainId:Yn(r.chainId||0)},{signature:i})}async authorize(r){return r=Object.assign({},r,{address:await Jy(r.address,this)}),this.authorizeSync(await this.populateAuthorization(r))}async signTypedData(r,i,s){const o=await Fk.resolveNames(r,i,s,async a=>{wn(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const l=await this.provider.resolveName(a);return wn(l!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),l});return this.signingKey.sign(Fk.hash(o.domain,i,o.value)).serialized}};Hg=new WeakMap;let QR=UL;const $k=" !#$%&'()*+,-./<=>?@[]^_`{|}~",rNe=/^[a-z]*$/i;function AW(n,e){let r=97;return n.reduce((i,s)=>(s===e?r++:s.match(rNe)?i.push(String.fromCharCode(r)+s):(r=97,i.push(s)),i),[])}function iNe(n,e){for(let s=$k.length-1;s>=0;s--)n=n.split($k[s]).join(e.substring(2*s,2*s+2));const r=[],i=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,o,a,l)=>{if(a)for(let c=parseInt(a);c>=0;c--)r.push(";");else r.push(o.toLowerCase());return""});if(i)throw new Error(`leftovers: ${JSON.stringify(i)}`);return AW(AW(r,";"),":")}function sNe(n){return Le(n[0]==="0","unsupported auwl data","data",n),iNe(n.substring(1+2*$k.length),n.substring(1,1+2*$k.length))}class oNe{constructor(e){$e(this,"locale");go(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Vg,qw,_f,Hw,JR;class aNe extends oNe{constructor(r,i,s){super(r);ht(this,Hw);ht(this,Vg);ht(this,qw);ht(this,_f);je(this,Vg,i),je(this,qw,s),je(this,_f,null)}get _data(){return ne(this,Vg)}_decodeWords(){return sNe(ne(this,Vg))}getWord(r){const i=Ft(this,Hw,JR).call(this);return Le(r>=0&&r<i.length,`invalid word index: ${r}`,"index",r),i[r]}getWordIndex(r){return Ft(this,Hw,JR).call(this).indexOf(r)}}Vg=new WeakMap,qw=new WeakMap,_f=new WeakMap,Hw=new WeakSet,JR=function(){if(ne(this,_f)==null){const r=this._decodeWords();if(o9(r.join(`
`)+`
`)!==ne(this,qw))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);je(this,_f,r)}return ne(this,_f)};const lNe="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",cNe="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let J5=null;class Zf extends aNe{constructor(){super("en",lNe,cNe)}static wordlist(){return J5==null&&(J5=new Zf),J5}}function qfe(n){return(1<<n)-1<<8-n&255}function uNe(n){return(1<<n)-1&255}function Z5(n,e){Nhe("NFKD"),e==null&&(e=Zf.wordlist());const r=e.split(n);Le(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const i=new Uint8Array(Math.ceil(11*r.length/8));let s=0;for(let u=0;u<r.length;u++){let d=e.getWordIndex(r[u].normalize("NFKD"));Le(d>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)d&1<<10-h&&(i[s>>3]|=1<<7-s%8),s++}const o=32*r.length/3,a=r.length/3,l=qfe(a),c=It(ca(i.slice(0,o/8)))[0]&l;return Le(c===(i[i.length-1]&l),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),St(i.slice(0,o/8))}function e3(n,e){Le(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Zf.wordlist());const r=[0];let i=11;for(let a=0;a<n.length;a++)i>8?(r[r.length-1]<<=8,r[r.length-1]|=n[a],i-=8):(r[r.length-1]<<=i,r[r.length-1]|=n[a]>>8-i,r.push(n[a]&uNe(8-i)),i+=3);const s=n.length/4,o=parseInt(ca(n).substring(2,4),16)&qfe(s);return r[r.length-1]<<=s,r[r.length-1]|=o>>8-s,e.join(r.map(a=>e.getWord(a)))}const t3={};class dw{constructor(e,r,i,s,o){$e(this,"phrase");$e(this,"password");$e(this,"wordlist");$e(this,"entropy");s==null&&(s=""),o==null&&(o=Zf.wordlist()),zC(e,t3,"Mnemonic"),go(this,{phrase:i,password:s,wordlist:o,entropy:r})}computeSeed(){const e=Pf("mnemonic"+this.password,"NFKD");return wx(Pf(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,i){const s=Z5(e,i);return e=e3(It(s),i),new dw(t3,s,e,r,i)}static fromEntropy(e,r,i){const s=It(e,"entropy"),o=e3(s,i);return new dw(t3,St(s),o,r,i)}static entropyToPhrase(e,r){const i=It(e,"entropy");return e3(i,r)}static phraseToEntropy(e,r){return Z5(e,r)}static isValidMnemonic(e,r){try{return Z5(e,r),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var yi=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},n3=function(n,e,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,r):s?s.value=r:e.set(n,r),r},CS,Lo,fl;const dNe={16:10,24:12,32:14},hNe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Ro=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],a_=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],fNe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],pNe=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],mNe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],gNe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],bNe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],yNe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],vNe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],wNe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],xNe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],_Ne=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],SNe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],kNe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function r3(n){const e=[];for(let r=0;r<n.length;r+=4)e.push(n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]);return e}class a9{get key(){return yi(this,CS,"f").slice()}constructor(e){if(CS.set(this,void 0),Lo.set(this,void 0),fl.set(this,void 0),!(this instanceof a9))throw Error("AES must be instanitated with `new`");n3(this,CS,new Uint8Array(e),"f");const r=dNe[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");n3(this,fl,[],"f"),n3(this,Lo,[],"f");for(let d=0;d<=r;d++)yi(this,fl,"f").push([0,0,0,0]),yi(this,Lo,"f").push([0,0,0,0]);const i=(r+1)*4,s=this.key.length/4,o=r3(this.key);let a;for(let d=0;d<s;d++)a=d>>2,yi(this,fl,"f")[a][d%4]=o[d],yi(this,Lo,"f")[r-a][d%4]=o[d];let l=0,c=s,u;for(;c<i;){if(u=o[s-1],o[0]^=Ro[u>>16&255]<<24^Ro[u>>8&255]<<16^Ro[u&255]<<8^Ro[u>>24&255]^hNe[l]<<24,l+=1,s!=8)for(let p=1;p<s;p++)o[p]^=o[p-1];else{for(let p=1;p<s/2;p++)o[p]^=o[p-1];u=o[s/2-1],o[s/2]^=Ro[u&255]^Ro[u>>8&255]<<8^Ro[u>>16&255]<<16^Ro[u>>24&255]<<24;for(let p=s/2+1;p<s;p++)o[p]^=o[p-1]}let d=0,h,f;for(;d<s&&c<i;)h=c>>2,f=c%4,yi(this,fl,"f")[h][f]=o[d],yi(this,Lo,"f")[r-h][f]=o[d++],c++}for(let d=1;d<r;d++)for(let h=0;h<4;h++)u=yi(this,Lo,"f")[d][h],yi(this,Lo,"f")[d][h]=xNe[u>>24&255]^_Ne[u>>16&255]^SNe[u>>8&255]^kNe[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const r=yi(this,fl,"f").length-1,i=[0,0,0,0];let s=r3(e);for(let l=0;l<4;l++)s[l]^=yi(this,fl,"f")[0][l];for(let l=1;l<r;l++){for(let c=0;c<4;c++)i[c]=fNe[s[c]>>24&255]^pNe[s[(c+1)%4]>>16&255]^mNe[s[(c+2)%4]>>8&255]^gNe[s[(c+3)%4]&255]^yi(this,fl,"f")[l][c];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=yi(this,fl,"f")[r][l],o[4*l]=(Ro[s[l]>>24&255]^a>>24)&255,o[4*l+1]=(Ro[s[(l+1)%4]>>16&255]^a>>16)&255,o[4*l+2]=(Ro[s[(l+2)%4]>>8&255]^a>>8)&255,o[4*l+3]=(Ro[s[(l+3)%4]&255]^a)&255;return o}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const r=yi(this,Lo,"f").length-1,i=[0,0,0,0];let s=r3(e);for(let l=0;l<4;l++)s[l]^=yi(this,Lo,"f")[0][l];for(let l=1;l<r;l++){for(let c=0;c<4;c++)i[c]=bNe[s[c]>>24&255]^yNe[s[(c+3)%4]>>16&255]^vNe[s[(c+2)%4]>>8&255]^wNe[s[(c+1)%4]&255]^yi(this,Lo,"f")[l][c];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=yi(this,Lo,"f")[r][l],o[4*l]=(a_[s[l]>>24&255]^a>>24)&255,o[4*l+1]=(a_[s[(l+3)%4]>>16&255]^a>>16)&255,o[4*l+2]=(a_[s[(l+2)%4]>>8&255]^a>>8)&255,o[4*l+3]=(a_[s[(l+1)%4]&255]^a)&255;return o}}CS=new WeakMap,Lo=new WeakMap,fl=new WeakMap;class CNe{constructor(e,r,i){if(i&&!(this instanceof i))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new a9(r)},name:{enumerable:!0,value:e}})}}var em=function(n,e,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,r):s?s.value=r:e.set(n,r),r},No=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},ky,Fh,Fo;class zk extends CNe{constructor(e,r){super("CTR",e,zk),ky.set(this,void 0),Fh.set(this,void 0),Fo.set(this,void 0),em(this,Fo,new Uint8Array(16),"f"),No(this,Fo,"f").fill(0),em(this,ky,No(this,Fo,"f"),"f"),em(this,Fh,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(No(this,Fo,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)No(this,Fo,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");No(this,Fo,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(No(this,Fo,"f")[e]===255)No(this,Fo,"f")[e]=0;else{No(this,Fo,"f")[e]++;break}}encrypt(e){var r,i;const s=new Uint8Array(e);for(let o=0;o<s.length;o++)No(this,Fh,"f")===16&&(em(this,ky,this.aes.encrypt(No(this,Fo,"f")),"f"),em(this,Fh,0,"f"),this.increment()),s[o]^=No(this,ky,"f")[em(this,Fh,(i=No(this,Fh,"f"),r=i++,i),"f"),r];return s}decrypt(e){return this.encrypt(e)}}ky=new WeakMap,Fh=new WeakMap,Fo=new WeakMap;function Ub(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function Hfe(n){return typeof n=="string"?Pf(n,"NFKC"):vm(n)}const ENe="m/44'/60'/0'/0/0";function Vfe(n){const e=n.salt!=null?It(n.salt,"options.salt"):eu(32);let r=1<<17,i=8,s=1;return n.scrypt&&(n.scrypt.N&&(r=n.scrypt.N),n.scrypt.r&&(i=n.scrypt.r),n.scrypt.p&&(s=n.scrypt.p)),Le(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),Le(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt r parameter","options.r",i),Le(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:r,r:i,p:s}}function Gfe(n,e,r,i){const s=It(r.privateKey,"privateKey"),o=i.iv!=null?It(i.iv,"options.iv"):eu(16);Le(o.length===16,"invalid options.iv length","options.iv",i.iv);const a=i.uuid!=null?It(i.uuid,"options.uuid"):eu(16);Le(a.length===16,"invalid options.uuid length","options.uuid",i.iv);const l=n.slice(0,16),c=n.slice(16,32),u=new zk(l,o),d=It(u.encrypt(s)),h=ai(jr([c,d])),f={address:r.address.substring(2).toLowerCase(),id:j8e(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:St(o).substring(2)},ciphertext:St(d).substring(2),kdf:"scrypt",kdfparams:{salt:St(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(r.mnemonic){const p=i.client!=null?i.client:`ethers/${Rhe}`,m=r.mnemonic.path||ENe,b=r.mnemonic.locale||"en",y=n.slice(32,64),v=It(r.mnemonic.entropy,"account.mnemonic.entropy"),w=eu(16),_=new zk(y,w),x=It(_.encrypt(v)),S=new Date,E="UTC--"+(S.getUTCFullYear()+"-"+Ub(S.getUTCMonth()+1,2)+"-"+Ub(S.getUTCDate(),2)+"T"+Ub(S.getUTCHours(),2)+"-"+Ub(S.getUTCMinutes(),2)+"-"+Ub(S.getUTCSeconds(),2)+".0Z")+"--"+f.address;f["x-ethers"]={client:p,gethFilename:E,path:m,locale:b,mnemonicCounter:St(w).substring(2),mnemonicCiphertext:St(x).substring(2),version:"0.1"}}return JSON.stringify(f)}function ANe(n,e,r){r==null&&(r={});const i=Hfe(e),s=Vfe(r),o=_x(i,s.salt,s.N,s.r,s.p,64);return Gfe(It(o),s,n,r)}async function TNe(n,e,r){r==null&&(r={});const i=Hfe(e),s=Vfe(r),o=await xx(i,s.salt,s.N,s.r,s.p,64,r.progressCallback);return Gfe(It(o),s,n,r)}const i3="m/44'/60'/0'/0/0",PNe=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Wd=2147483648,INe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MNe="0123456789abcdef";function Uk(n,e){let r="";for(;n;)r=MNe[n%16]+r,n=Math.trunc(n/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function ZR(n){const e=It(n),r=H7(ca(ca(e)),0,4),i=jr([e,r]);return D8e(i)}const xl={};function Yfe(n,e,r,i){const s=new Uint8Array(37);n&Wd?(wn(i!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(It(i),1)):s.set(It(r));for(let a=24;a>=0;a-=8)s[33+(a>>3)]=n>>24-a&255;const o=It(Z0("sha512",e,s));return{IL:o.slice(0,32),IR:o.slice(32)}}function Kfe(n,e){const r=e.split("/");Le(r.length>0,"invalid path","path",e),r[0]==="m"&&(Le(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),r.shift());let i=n;for(let s=0;s<r.length;s++){const o=r[s];if(o.match(/^[0-9]+'$/)){const a=parseInt(o.substring(0,o.length-1));Le(a<Wd,"invalid path index",`path[${s}]`,o),i=i.deriveChild(Wd+a)}else if(o.match(/^[0-9]+$/)){const a=parseInt(o);Le(a<Wd,"invalid path index",`path[${s}]`,o),i=i.deriveChild(a)}else Le(!1,"invalid path component",`path[${s}]`,o)}return i}var Vw,e4,Sf,Cy;const xa=class xa extends QR{constructor(r,i,s,o,a,l,c,u,d){super(i,d);ht(this,Vw);$e(this,"publicKey");$e(this,"fingerprint");$e(this,"parentFingerprint");$e(this,"mnemonic");$e(this,"chainCode");$e(this,"path");$e(this,"index");$e(this,"depth");zC(r,xl,"HDNodeWallet"),go(this,{publicKey:i.compressedPublicKey});const h=H7(eb(ca(this.publicKey)),0,4);go(this,{parentFingerprint:s,fingerprint:h,chainCode:o,path:a,index:l,depth:c}),go(this,{mnemonic:u})}connect(r){return new xa(xl,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,r)}async encrypt(r,i){return await TNe(Ft(this,Vw,e4).call(this),r,{progressCallback:i})}encryptSync(r){return ANe(Ft(this,Vw,e4).call(this),r)}get extendedKey(){return wn(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),ZR(jr(["0x0488ADE4",Uk(this.depth,1),this.parentFingerprint,Uk(this.index,4),this.chainCode,jr(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new hw(xl,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(r){const i=bo(r,"index");Le(i<=4294967295,"invalid index","index",i);let s=this.path;s&&(s+="/"+(i&~Wd),i&Wd&&(s+="'"));const{IR:o,IL:a}=Yfe(i,this.chainCode,this.publicKey,this.privateKey),l=new Fl(d0((Bhe(a)+BigInt(this.privateKey))%INe,32));return new xa(xl,l,this.fingerprint,St(o),s,i,this.depth+1,this.mnemonic,this.provider)}derivePath(r){return Kfe(this,r)}static fromExtendedKey(r){const i=Rr(R8e(r));Le(i.length===82||ZR(i.slice(0,78))===r,"invalid extended key","extendedKey","[ REDACTED ]");const s=i[4],o=St(i.slice(5,9)),a=parseInt(St(i.slice(9,13)).substring(2),16),l=St(i.slice(13,45)),c=i.slice(45,78);switch(St(i.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const u=St(c);return new hw(xl,kx(u),u,o,l,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new xa(xl,new Fl(c.slice(1)),o,l,null,a,s,null,null)}Le(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(r,i,s){var a;r==null&&(r=""),i==null&&(i=i3),s==null&&(s=Zf.wordlist());const o=dw.fromEntropy(eu(16),r,s);return Ft(a=xa,Sf,Cy).call(a,o.computeSeed(),o).derivePath(i)}static fromMnemonic(r,i){var s;return i||(i=i3),Ft(s=xa,Sf,Cy).call(s,r.computeSeed(),r).derivePath(i)}static fromPhrase(r,i,s,o){var l;i==null&&(i=""),s==null&&(s=i3),o==null&&(o=Zf.wordlist());const a=dw.fromPhrase(r,i,o);return Ft(l=xa,Sf,Cy).call(l,a.computeSeed(),a).derivePath(s)}static fromSeed(r){var i;return Ft(i=xa,Sf,Cy).call(i,r,null)}};Vw=new WeakSet,e4=function(){const r={address:this.address,privateKey:this.privateKey},i=this.mnemonic;return this.path&&i&&i.wordlist.locale==="en"&&i.password===""&&(r.mnemonic={path:this.path,locale:"en",entropy:i.entropy}),r},Sf=new WeakSet,Cy=function(r,i){Le(UC(r),"invalid seed","seed","[REDACTED]");const s=It(r,"seed");Le(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const o=It(Z0("sha512",PNe,s)),a=new Fl(St(o.slice(0,32)));return new xa(xl,a,"0x00000000",St(o.slice(32)),"m",0,0,i,null)},ht(xa,Sf);let b0=xa;class hw extends XR{constructor(r,i,s,o,a,l,c,u,d){super(i,d);$e(this,"publicKey");$e(this,"fingerprint");$e(this,"parentFingerprint");$e(this,"chainCode");$e(this,"path");$e(this,"index");$e(this,"depth");zC(r,xl,"HDNodeVoidWallet"),go(this,{publicKey:s});const h=H7(eb(ca(s)),0,4);go(this,{publicKey:s,fingerprint:h,parentFingerprint:o,chainCode:a,path:l,index:c,depth:u})}connect(r){return new hw(xl,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,r)}get extendedKey(){return wn(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),ZR(jr(["0x0488B21E",Uk(this.depth,1),this.parentFingerprint,Uk(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(r){const i=bo(r,"index");Le(i<=4294967295,"invalid index","index",i);let s=this.path;s&&(s+="/"+(i&~Wd),i&Wd&&(s+="'"));const{IR:o,IL:a}=Yfe(i,this.chainCode,this.publicKey,null),l=Fl.addPoints(a,this.publicKey,!0),c=kx(l);return new hw(xl,c,l,this.fingerprint,St(o),s,i,this.depth+1,this.provider)}derivePath(r){return Kfe(this,r)}}class TW{constructor(e){$e(this,"mnemonic");$e(this,"walletAddress");$e(this,"chainID");this.mnemonic=e.mnemonic,this.walletAddress=e.walletAddress,this.chainID=e.chainID||10900}generateTxID(){const e=Date.now(),r=Math.floor(Math.random()*1e6);return`tx-${e}-${r}`}async getPrivateKeyHex(){const e=b0.fromPhrase(this.mnemonic.trim(),"","m/44'/60'/0'/0/0");if(e.address.toLowerCase()!==this.walletAddress.toLowerCase())throw new Error(`Address mismatch: derived ${e.address} does not match ${this.walletAddress}`);const r=BigInt(e.privateKey),i=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(r===0n||r>=i)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const o=r.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(o))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return o}async signPayload(e){const r=await this.getPrivateKeyHex(),i=Math.floor(Date.now()/1e3);let s;e.deadline&&(s=parseInt(e.deadline,10));const o={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:i,payload:e};s!==void 0&&(o.deadline=s);const a=await Nt.generateSingleSignature(JSON.stringify(o),r,this.walletAddress.toLowerCase());if(!a.success||!a.signature)throw new Error(a.error||"Failed to generate signature");return a.signature}async buildCompleteMessage(e,r,i=3600){const o=Math.floor(Date.now()/1e3)+i,a=await r.getNextNonce();return{...e,owner:this.walletAddress,nonce:a,deadline:o.toString()}}buildEIP712Tx(e,r,i){const s=Math.floor(Date.now()/1e3);let o;e.deadline&&(o=parseInt(e.deadline,10));const l={txhash:i||this.generateTxID(),sigType:1,threshold:1,timestamp:s,payload:e,signatures:[{signer:this.walletAddress,signature:r}]};return o!==void 0&&(l.deadline=o),l}getWalletAddress(){return this.walletAddress}getChainID(){return this.chainID}}function Il(n,e=Date.now()){if(!n)return e;if(typeof n=="object"&&n!==null&&typeof n.seconds=="number"){const i=n.seconds,s=n.nanos||0;return i*1e3+Math.floor(s/1e6)}const r=typeof n=="string"?Number(n):n;return typeof r=="number"&&!isNaN(r)&&r>0?r<9466848e5?r*1e3:r:e}function Ac(n){if(!n)return Date.now();const e=typeof n=="string"?Number(n):n;return isNaN(e)||e<=0?Date.now():e<9466848e5?e*1e3:e}function PW(n){if(!n)return"";if(typeof n=="string")return n;if(typeof n=="object"&&"seconds"in n&&"nanos"in n){const e=n.seconds,r=n.nanos||0,i=e*1e3+Math.floor(r/1e6),o=new Date(i).toISOString();if(r>0){const a=r.toString().padStart(9,"0");return o.replace(/\.\d{3}Z$/,`.${a}Z`)}return o}return""}function s3(n){const r=new Date().toISOString(),i=r.match(/\.(\d{3})Z$/);if(i){const o=(parseInt(i[1])*1e6).toString().padStart(9,"0");return r.replace(/\.\d{3}Z$/,`.${o}Z`)}return r.replace(/Z$/,".000000000Z")}const JC="sys::onboard",l9="clob::change_margin_ratio",c9="clob::submit_order",Wk="clob::cancel_order",qk="bucket::close_position",Xfe="bucket::update_position_leverage",u9="clob::modify_order",Qfe="clob::change_leverage",d9="clob::inter_transfer",Jfe="bucket::create_margin_bucket",h9="clob::swap",f9="bank::mint",p9="bank::extract_to_bucket",m9="bank::withdraw_from_bucket",g9="bank::bucket_transfer",b9="bank::transfer";var Dt=(n=>(n.Disconnected="disconnected",n.Connecting="connecting",n.Connected="connected",n.Reconnecting="reconnecting",n))(Dt||{});function Zfe(n){return n.sub_channel==="orderbook"}function epe(n){return n.sub_channel==="trades"}function tpe(n){return n.sub_channel==="positions"}function npe(n){return n.sub_channel==="orders"}function rpe(n){return n.sub_channel==="buckets"}function ipe(n){return n.sub_channel==="balances"}function t4(n){return n.sub_channel==="last_price"}function spe(n){return n.sub_channel==="price_feed"}const nb="http://localhost:8080",ONe="300px",DNe="300px",RNe="270px",ope="630px",y9=5e3,NNe="1",jNe=100,ape=20,ZC="legal winner thank year wave sausage worth useful legal winner thank yellow",o3=1,IW=100,BNe=1,l_=0,a3=100,l3=1,LNe=.01,MW=0,FNe="BINANCE:BTCUSDT",$Ne="5",zNe="https://s3.tradingview.com/tv.js",xc=2,lpe=2,Ad="asc",og="desc",n4="market",c3="limit",fw="CROSS",UNe="ISOLATED",WNe="ONE_WAY",pw="LONG",r4="SHORT",OW="symbol",DW="leverage",RW="size",NW="liquidationPrice",jW="unrealizedPnL",BW="entryPrice",LW="margin",u3="all",c_="byBucket",FW="1.5fr 1.2fr 1fr 1fr 1fr 1.2fr 1.2fr 1fr",qNe="#51cf66",HNe="#ff6b6b",VNe="Loading positions...",GNe="No open positions",YNe="POSITIONS",KNe="All",XNe="By Bucket",d3="--",$W="symbol",zW="side",UW="quantity",WW="price",qW="filledQuantity",HW="status",Vu="pending",VW="history",QNe="ORDER_STATUS_PENDING",JNe="ORDER_STATUS_OPEN",ZNe="ORDER_STATUS_PARTIAL",eje="PARTIALLY_FILLED",GW=[QNe,JNe,ZNe,"PENDING","OPEN","NEW","PARTIAL",eje],YW="#ffc107",tje="#17a2b8",nje="#28a745",rje="#dc3545",ije="#6c757d",sje="#51cf66",oje="#ff6b6b",KW="1.5fr 1fr 1fr 1.2fr 1.2fr 1.2fr 1fr 1fr",aje="Loading pending orders...",lje="No pending orders",cje="No historical orders",uje="OPEN ORDERS",dje="ORDER HISTORY",hje="Wallet address required to view pending orders",fje="Pending",pje="History",mje="--",gje="Unknown";function i4(n){return!n||!Array.isArray(n)||n.length===0?[]:[...n].sort((r,i)=>{const s=Ac(r.timestamp);return Ac(i.timestamp)-s}).map(r=>{const i=Ac(r.timestamp),s=Wt(r.quantity),o=Wt(r.price);return{time:i,size:s,price:o,is_buyer_maker:!1}})}function s4(n){let e;"position_id"in n&&n.position_id||"position_id"in n&&n.position_id?e=n.position_id:e=`${n.market_id}-${n.bucket_id||"default"}-${n.address}`;const r="average_entry_price"in n?n.average_entry_price:n.entry_price;let i;"position_side"in n&&n.position_side?i=n.position_side:"side"in n&&n.side?i=n.side==="SIDE_BUY"||n.side.toUpperCase().includes("BUY")?pw:r4:i=Wt(n.size)>=0?pw:r4;const s=Wt(n.size),o=Wt(r),a=Wt(n.mark_price),l=n.leverage?Wt(n.leverage):0;let c=0;if(n.unrealized_profit!==void 0||n.unrealized_loss!==void 0){const f=jk(n.unrealized_profit),p=jk(n.unrealized_loss),m=f-p;c=Wt(m.toString())}else"unrealized_pnl"in n&&n.unrealized_pnl!==void 0&&(c=Wt(n.unrealized_pnl));const d=Wt(n.margin_balance)||(l&&o&&s!==0?Math.abs(Math.abs(s)*o/l):0),h="margin_mode"in n&&n.margin_mode||"margin_type"in n&&n.margin_type||fw;return{positionId:e,marketId:n.market_id.toString(),symbol:n.symbol||`m-${n.market_id}`,size:Math.abs(s),entryPrice:o,markPrice:a,liquidationPrice:n.liquidation_price?Wt(n.liquidation_price):0,unrealizedPnL:c,leverage:l,margin:d,side:i,marginMode:h,bucketId:n.bucket_id?String(n.bucket_id):"",raw:n}}function o4(n){const e=n.side==="SIDE_BUY"?"BUY":"SELL";let r=n.status||"ORDER_STATUS_PENDING";r.includes("ORDER_STATUS_")&&(r=r.replace("ORDER_STATUS_",""));const i=n.time_in_force;let s=i;i&&i.includes("TIME_IN_FORCE_")&&(s=i.replace("TIME_IN_FORCE_",""));const o=h=>Wt(h),a=o(n.quantity),l=o(n.price),c=o(n.filled_quantity),u=a-c,d=Il(n.timestamp,Date.now());return{id:n.order_id,orderId:n.order_id,marketId:n.market_id||n.bucket_id,side:e,type:n.type,quantity:a,price:l,filledQuantity:c,remainingQuantity:u,status:r,timeInForce:s,createdAt:d,updatedAt:d,raw:n}}function v9(n){const e=new Date().toISOString();return{bucket_id:n.bucket_id,address:n.address,margin_type:n.margin_type.toLowerCase(),collateral_asset:"USDC",deposited_margin:"0",total_equity:n.total_equity,available_margin:n.available_margin,used_margin:n.used_margin,unrealized_profit:n.unrealized_profit,unrealized_loss:n.unrealized_loss,realized_profit:"0",realized_loss:"0",margin_ratio:"0",imr:"0",total_notional_value:"0",risk_level:"low",max_leverage:"0",correlation_offset:0,status:"active",created_at:e,updated_at:e}}function Hk(n){const e=n.bucket_id||"---",r=jk(n.unrealized_profit),i=jk(n.unrealized_loss),s=r-i,o=Rt(s.toString()),a=Wt(n.unrealized_profit),l=Wt(n.unrealized_loss),c=b8e(n.max_leverage);return{bucketId:e,address:n.address||"",marginType:n.margin_type||"cross",collateralAsset:n.collateral_asset||"",depositedMargin:Wt(n.deposited_margin),totalEquity:Wt(n.total_equity),availableMargin:Wt(n.available_margin),usedMargin:Wt(n.used_margin),unrealizedProfit:a,unrealizedLoss:l,realizedProfit:Wt(n.realized_profit),realizedLoss:Wt(n.realized_loss),unrealizedPnL:o,marginRatio:Wt(n.margin_ratio),imr:Wt(n.imr),totalNotionalValue:Wt(n.total_notional_value),riskLevel:n.risk_level||"",maxLeverage:c,correlationOffset:n.correlation_offset||0,status:n.status||"",createdAt:PW(n.created_at),updatedAt:PW(n.updated_at),leverage:c,marginMode:n.margin_type||"cross",raw:n}}function ES(n){return n.totalEquity>0?Math.min(Math.max(n.usedMargin/n.totalEquity,0),1):0}function Fm(n){const e=n.marginMode||n.marginType||"cross";return e==="ISOLATED"||e==="isolated"?"ISOLATED":"CROSS"}function w9(n){return"collateral_asset"in n}function wm(n){return n!==null&&typeof n=="object"&&typeof n.price=="number"&&typeof n.market_id=="string"&&typeof n.quantity=="number"&&typeof n.timestamp=="number"&&typeof n.is_buyer_maker=="boolean"&&typeof n.trade_id=="string"}function AS(n){return n!==null&&typeof n=="object"&&typeof n.symbol=="string"&&typeof n.mark_price=="number"&&typeof n.timestamp=="number"}class ah{constructor(e){$e(this,"httpClient");$e(this,"infoClient");$e(this,"nonceManager");$e(this,"mnemonic");$e(this,"chainID");$e(this,"walletAddress");$e(this,"nonceCounter",null);$e(this,"signatureBuilder");this.httpClient=new $C(e.baseURL,e.maxRetries||3),this.infoClient=new Ir({baseURL:e.baseURL}),this.nonceManager=new U7(this.infoClient),this.mnemonic=e.mnemonic,this.chainID=e.chainID||10900}getSignatureBuilder(){if(!this.signatureBuilder){if(!this.walletAddress)throw new Error("ExchangeClient not initialized. Call initialize() first.");this.signatureBuilder=new TW({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}return this.signatureBuilder}getNonceProvider(){return{getNextNonce:()=>this.getNextNonce()}}async initialize(){await Nt.initialize();const e=this.mnemonic.trim();if(!e)throw new Error("Mnemonic phrase is required");const r=await Nt.generateAddress(e,0);if(!r.success||!r.address)throw new Error(`Failed to generate wallet address: ${r.error}`);this.walletAddress=r.address,this.mnemonic=e,this.signatureBuilder=new TW({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}getWalletAddress(){if(!this.walletAddress)throw new Error("ExchangeClient not initialized. Call initialize() first.");return this.walletAddress}async refreshNonceFromServer(){const e=this.getWalletAddress(),r=await this.nonceManager.getExpectedNextNonce(e,!1);this.nonceCounter=r.next_nonce,console.log("[ExchangeClient] Refreshed nonce from server",{walletAddress:e,newNonce:this.nonceCounter})}async getNextNonce(){return this.nonceCounter===null&&await this.refreshNonceFromServer(),this.nonceCounter++,this.nonceCounter.toString()}buildOrderPayload(e){const r=Cn(e.price),i=Cn(e.quantity),s={action:c9,marketId:e.marketId,bucketId:e.bucketId,side:e.side.toUpperCase(),orderType:e.orderType.toUpperCase(),price:r,quantity:i};return e.leverage&&(s.leverage=e.leverage),e.takeProfit&&(s.takeProfit=e.takeProfit),e.stopLoss&&(s.stopLoss=e.stopLoss),s}async placeOrder(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.side||e.side.toUpperCase()!=="BUY"&&e.side.toUpperCase()!=="SELL")throw new Error("side must be BUY or SELL");if(!e.orderType||e.orderType.toUpperCase()!=="LIMIT"&&e.orderType.toUpperCase()!=="MARKET")throw new Error("orderType must be LIMIT or MARKET");if(!e.price||e.price<=0)throw new Error("price must be positive");if(!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");this.walletAddress||await this.initialize();const r=this.buildOrderPayload(e),i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=Math.floor(Date.now()/1e3)-5,l=`order-${Date.now()}-${Math.floor(Math.random()*1e6)}`,c=e.side.toUpperCase()==="BUY",u={address:this.getWalletAddress(),asset_pair:e.marketId,market_id:e.marketId,bucket_id:e.bucketId,price:s.price,size:s.quantity,is_buy:c,order_type:e.orderType.toUpperCase(),timestamp:a,client_order_id:l,nonce:s.nonce,deadline:s.deadline,signature:o,time_in_force:e.timeInForce||"GTC"};return e.leverage&&(u.leverage=e.leverage),e.takeProfit&&(u.take_profit=e.takeProfit),e.stopLoss&&(u.stop_loss=e.stopLoss),e.postOnly&&(u.post_only=!0),e.hidden&&(u.hidden=!0),e.displayQuantity&&(u.display_quantity=e.displayQuantity),e.reduceOnly&&(u.reduce_only=!0),(await this.httpClient.post("/clob/v1/order",u)).body}async cancelOrder(e){var u,d,h,f,p,m;if(!e.orderId||e.orderId==="")throw console.error("[ExchangeClient.cancelOrder] Validation failed: orderId is empty",e),new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw console.error("[ExchangeClient.cancelOrder] Validation failed: marketId is empty",e),new Error("marketId cannot be empty");console.log("[ExchangeClient.cancelOrder] Input validation passed",{orderId:e.orderId,marketId:e.marketId}),this.walletAddress?console.log("[ExchangeClient.cancelOrder] Using existing wallet",{walletAddress:this.walletAddress}):(console.log("[ExchangeClient.cancelOrder] Wallet not initialized, initializing now..."),await this.initialize(),console.log("[ExchangeClient.cancelOrder] Wallet initialized",{walletAddress:this.walletAddress}));const r=this.getWalletAddress(),i={action:Wk,orderId:e.orderId,marketId:e.marketId,address:r};console.log("[ExchangeClient.cancelOrder] Payload built",{payload:i,action:Wk});const s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider());console.log("[ExchangeClient.cancelOrder] Complete message built",{action:o.action,orderId:o.orderId,marketId:o.marketId,address:o.address,owner:o.owner,nonce:o.nonce,deadline:o.deadline,hasAllFields:!!(o.action&&o.orderId&&o.marketId&&o.owner&&o.nonce&&o.deadline)}),console.log("[ExchangeClient.cancelOrder] Generating signature...");const a=await s.signPayload(o);console.log("[ExchangeClient.cancelOrder] Signature generated",{signatureLength:a==null?void 0:a.length,signaturePrefix:(a==null?void 0:a.substring(0,10))+"..."});const l=s.buildEIP712Tx(o,a);console.log("[ExchangeClient.cancelOrder] EIP712Tx built",{eip712Tx:{txId:l.txId,sigType:l.sigType,threshold:l.threshold,timestamp:l.timestamp,deadline:l.deadline,payloadAction:(u=l.payload)==null?void 0:u.action,payloadOrderId:(d=l.payload)==null?void 0:d.orderId,payloadMarketId:(h=l.payload)==null?void 0:h.marketId,signaturesCount:(f=l.signatures)==null?void 0:f.length,signer:(m=(p=l.signatures)==null?void 0:p[0])==null?void 0:m.signer}});const c=this.httpClient.getBaseURL?this.httpClient.getBaseURL():"unknown";console.log("[ExchangeClient.cancelOrder] Submitting to /router/v1/tx endpoint...",{endpoint:"/router/v1/tx",baseURL:c,fullURL:`${c}/router/v1/tx`});try{const b=await this.httpClient.post("/router/v1/tx",l);return console.log("[ExchangeClient.cancelOrder] API response received",{status:b.statusCode,hasBody:!!b.body,responseBody:b.body,orderId:e.orderId}),b.body}catch(b){if(W7(b)){console.log("[ExchangeClient.cancelOrder] Nonce error detected, refreshing nonce from server",{error:b instanceof Error?b.message:String(b),orderId:e.orderId}),await this.refreshNonceFromServer();const y=this.getSignatureBuilder(),v=await y.buildCompleteMessage(i,this.getNonceProvider()),w=await y.signPayload(v),_=y.buildEIP712Tx(v,w);console.log("[ExchangeClient.cancelOrder] Retrying with refreshed nonce",v.nonce);const x=await this.httpClient.post("/router/v1/tx",_);return console.log("[ExchangeClient.cancelOrder] Retry successful",{status:x.statusCode,responseBody:x.body}),x.body}throw console.error("[ExchangeClient.cancelOrder] API call failed",{error:b,errorMessage:b instanceof Error?b.message:String(b),errorStack:b instanceof Error?b.stack:void 0,orderId:e.orderId,marketId:e.marketId,walletAddress:this.walletAddress}),b}}async modifyOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.newPrice||e.newPrice<=0)throw new Error("newPrice must be positive");if(!e.newQuantity||e.newQuantity<=0)throw new Error("newQuantity must be positive");this.walletAddress||await this.initialize();const r={action:u9,orderId:e.orderId,marketId:e.marketId,newPrice:Cn(e.newPrice),newQuantity:Cn(e.newQuantity)},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async changeLeverage(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(e.newLeverage===void 0)throw new Error("newLeverage must be provided");if(this.walletAddress||await this.initialize(),e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");const r={action:Xfe,marketId:e.marketId,newLeverage:Cn(e.newLeverage),bucketId:e.bucketId,positionId:e.positionId||""};console.log("[changeLeverage] Payload fields:",Object.keys(r).length,Object.keys(r));const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=["action","owner","marketId","newLeverage","bucketId","positionId","nonce","deadline"],a=Object.keys(s);console.log("[changeLeverage] Complete message fields:",a.length,a),console.log("[changeLeverage] Expected fields (8):",o),console.log("[changeLeverage] Complete message:",JSON.stringify(s,null,2));const l=await i.signPayload(s),c=i.buildEIP712Tx(s,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async closePosition(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Math.floor(Date.now()/1e3),s=i+300,o=await this.getNextNonce();let a;if(e.marketPrice&&e.marketPrice>0)a=e.marketPrice;else try{const m=await this.infoClient.getMarketStats(e.marketId);if(!m||!m.last_price)throw new Error("marketPrice is required and could not be fetched from ticker");a=Rt(m.last_price)}catch(m){throw new Error(`Failed to fetch market price: ${m instanceof Error?m.message:String(m)}`)}const l=Cn(a).toString(),c=e.quantity&&e.quantity>0?Cn(e.quantity).toString():"0",u={action:qk,address:r,marketId:e.marketId,closeSize:c,marketPrice:l,nonce:o,deadline:s},h=await this.getSignatureBuilder().signPayload(u),f={address:r,position_id:e.positionId,market_id:e.marketId,close_size:c,market_price:l,timestamp:i,sign_type:1,nonce:o.toString(),chain_id:this.chainID.toString(),deadline:s.toString(),signature:h};return(await this.httpClient.post("/bucket/v1/position/close",f)).body}async closePositionEIP712Tx(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(this.walletAddress||await this.initialize(),!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");if(!e.marketPrice||e.marketPrice<=0)throw new Error("marketPrice must be positive");const r=Cn(e.quantity),i=Cn(e.marketPrice),s={action:qk,address:this.getWalletAddress(),positionId:e.positionId,marketId:e.marketId,closeSize:r,marketPrice:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=o.buildEIP712Tx(a,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async swap(e){if(!e.fromToken||e.fromToken==="")throw new Error("fromToken cannot be empty");if(!e.toToken||e.toToken==="")throw new Error("toToken cannot be empty");if(!e.amountIn||e.amountIn<=0)throw new Error("amountIn must be positive");if(!e.minAmountOut||e.minAmountOut<=0)throw new Error("minAmountOut must be positive");this.walletAddress||await this.initialize();const r={action:h9,fromToken:e.fromToken,toToken:e.toToken,amountIn:Cn(e.amountIn),minAmountOut:Cn(e.minAmountOut)};e.path&&e.path.length>0&&(r.path=e.path);const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async changeMarginRatioEIP712Tx(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");this.walletAddress||await this.initialize();const r={action:l9,marketId:e.marketId,bucketId:e.bucketId,positionId:e.positionId||""},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=["action","owner","marketId","bucketId","positionId","nonce","deadline"],a=Object.keys(s);console.log("[changeMarginRatio] Complete message fields:",a.length,a),console.log("[changeMarginRatio] Expected fields (8):",o),console.log("[changeMarginRatio] Complete message:",JSON.stringify(s,null,2));const l=await i.signPayload(s),c=i.buildEIP712Tx(s,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async internTransferEIP712Tx(e){if(!e.fromAccount||e.fromAccount==="")throw new Error("fromAccount cannot be empty");if(!e.toAccount||e.toAccount==="")throw new Error("toAccount cannot be empty");if(!e.tokenAddress||e.tokenAddress==="")throw new Error("tokenAddress cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r={action:d9,fromAccount:e.fromAccount,toAccount:e.toAccount,amount:Cn(e.amount),tokenAddress:e.tokenAddress,address:this.getWalletAddress()},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async bucketTransfer(e){if(!e.fromBucketId||e.fromBucketId.trim()==="")throw new Error("fromBucketId cannot be empty");if(!e.toBucketId||e.toBucketId.trim()==="")throw new Error("toBucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Cn(e.amount),s={action:g9,fromBucketId:e.fromBucketId,toBucketId:e.toBucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=["action","owner","fromBucketId","toBucketId","asset","amount","nonce","deadline"],c=Object.keys(a);if(console.log("[bucketTransfer] Initial payload:",s),console.log("[bucketTransfer] Complete message fields:",c),console.log("[bucketTransfer] Complete message:",JSON.stringify(a,null,2)),console.log("[bucketTransfer] Expected fields (8):",l),console.log("[bucketTransfer] Actual field count:",c.length,"expected:",l.length),c.length!==l.length){const p=c.filter(b=>!l.includes(b)),m=l.filter(b=>!c.includes(b));console.error("[bucketTransfer] Field count mismatch!"),p.length>0&&console.error("[bucketTransfer] Extra fields (should be removed):",p),m.length>0&&console.error("[bucketTransfer] Missing fields:",m)}const u=await o.signPayload(a),d=Math.floor(Date.now()/1e3),h={address:r,source_bucket_id:e.fromBucketId,target_bucket_id:e.toBucketId,amount:i,reason:"sdk_transfer",timestamp:d,nonce:a.nonce,deadline:a.deadline,signature:u,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bucket/v1/bucket/transfer",h)).body}async extractToBucket(e){if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Cn(e.amount),s={action:p9,bucketId:e.bucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=["action","owner","bucketId","asset","amount","nonce","deadline"],c=Object.keys(a);if(console.log("[extractToBucket] Initial payload:",s),console.log("[extractToBucket] Complete message fields:",c),console.log("[extractToBucket] Complete message:",JSON.stringify(a,null,2)),console.log("[extractToBucket] Expected fields (7):",l),console.log("[extractToBucket] Actual field count:",c.length,"expected:",l.length),c.length!==l.length){const p=c.filter(b=>!l.includes(b)),m=l.filter(b=>!c.includes(b));console.error("[extractToBucket] Field count mismatch!"),p.length>0&&console.error("[extractToBucket] Extra fields (should be removed):",p),m.length>0&&console.error("[extractToBucket] Missing fields:",m)}const u=await o.signPayload(a),d=s3(),h={address:r,bucket_id:e.bucketId,asset:e.assetId,amount:i,timestamp:d,nonce:a.nonce,deadline:a.deadline,signature:u,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bank/v1/extract-to-bucket",h)).body}async createBucket(e){if(!e.bucketType||e.bucketType.trim()==="")throw new Error("bucketType cannot be empty");if(!e.marginType||e.marginType.trim()==="")throw new Error("marginType cannot be empty");const r=e.marginType.toUpperCase();if(r!=="CROSS"&&r!=="ISOLATED")throw new Error("marginType must be 'cross' or 'isolated'");this.walletAddress||await this.initialize();const i=this.getWalletAddress(),s=s3(),o=e.asset&&e.asset.trim()!==""?e.asset:"USDC",a={action:Jfe,bucketType:e.bucketType,marginType:r.toLowerCase(),asset:o};(!a.asset||typeof a.asset!="string"||a.asset.trim()==="")&&(a.asset="USDC");const l=this.getSignatureBuilder(),c=await l.buildCompleteMessage(a,this.getNonceProvider(),3600),u=["action","owner","bucketType","marginType","asset","nonce","deadline"],d=Object.keys(c),h=u.filter(b=>!d.includes(b));if(console.log("[createBucket] Initial payload:",a),console.log("[createBucket] Complete message fields:",d),console.log("[createBucket] Complete message:",JSON.stringify(c,null,2)),console.log("[createBucket] Expected fields:",u),console.log("[createBucket] Field count:",d.length,"expected:",u.length),h.length>0&&(console.error("[createBucket] Missing fields in payload:",h),console.error("[createBucket] Actual payload fields:",d)),d.length!==u.length)throw new Error(`Payload field count mismatch: expected ${u.length} fields (action, owner, bucketType, marginType, asset, nonce, deadline), but got ${d.length} fields: ${d.join(", ")}`);const f=await l.signPayload(c),p={address:i,bucket_type:e.bucketType,margin_type:r.toLowerCase(),initial_margin:e.initialMargin||"0",timestamp:s,nonce:c.nonce,deadline:c.deadline,signature:f,chain_id:this.chainID.toString()};return e.bucketId&&(p.bucket_id=e.bucketId),(await this.httpClient.post("/bucket/v1/bucket",p)).body}async withdrawFromBucket(e){if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Cn(e.amount),s={action:m9,bucketId:e.bucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=s3(),u={address:r,bucket_id:e.bucketId,asset:e.assetId,amount:i,timestamp:c,nonce:a.nonce,deadline:a.deadline,signature:l,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bank/v1/withdraw-from-bucket",u)).body}async bankMint(e){if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=Cn(e.amount),i={action:f9,address:this.getWalletAddress(),asset:e.assetId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}async bankTransfer(e){if(!e.to||e.to.trim()==="")throw new Error("to address cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=Cn(e.amount),i={action:b9,address:this.getWalletAddress(),to:e.to,asset:e.assetId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}}class Vk{constructor(e){$e(this,"ws",null);$e(this,"state",Dt.Disconnected);$e(this,"handlers",new Map);$e(this,"reconnectTimer",null);$e(this,"reconnectAttempts",0);$e(this,"config");$e(this,"originalConfig");$e(this,"pingInterval",null);$e(this,"stateChangeHandlers",new Set);$e(this,"authState","not_required");$e(this,"pendingSubscriptions",new Map);this.originalConfig=e;const r=this.convertHTTPToWebSocketURL(e.url);this.config={url:r,authToken:e.authToken||"",walletAddress:e.walletAddress||"",deviceID:e.deviceID||"",reconnectInterval:e.reconnectInterval||5e3,maxReconnectAttempts:e.maxReconnectAttempts||10}}convertHTTPToWebSocketURL(e){if(e.startsWith("ws://")||e.startsWith("wss://")){if(e.includes("router.morpheum.io")){const r=new URL(e);if(!r.pathname||r.pathname==="/")return r.pathname="/websocket",r.toString()}return e}if(e.includes("localhost")||e.includes("127.0.0.1")){const r=e.match(/:(\d+)/);return`ws://localhost:${r?r[1]:"8080"}/websocket`}if(e.startsWith("http://")){const r=e.replace("http://","ws://");return r.includes("/websocket")?r:r.endsWith("/")?`${r}websocket`:`${r}/websocket`}if(e.startsWith("https://")){const r=e.replace("https://","wss://");return r.includes("/websocket")?r:r.endsWith("/")?`${r}websocket`:`${r}/websocket`}if(!e||e.trim()===""||e.includes("router.morpheum.io"))return"wss://router.morpheum.io/websocket";try{const r=new URL(e.startsWith("http")?e:`https://${e}`),i=r.protocol==="https:"?"wss:":"ws:",s=r.pathname&&r.pathname!=="/"?r.pathname:"",o=s.endsWith("/websocket")?s:`${s}/websocket`;return`${i}//${r.host}${o}`}catch{return console.warn(`Failed to parse URL ${e}, defaulting to router.morpheum.io/websocket`),"wss://router.morpheum.io/websocket"}}getConnectionURL(){const e=[];this.config.authToken&&e.push(`token=${encodeURIComponent(this.config.authToken)}`),"walletAddress"in this.originalConfig&&this.originalConfig.walletAddress!==void 0&&e.push(`wallet=${encodeURIComponent(this.originalConfig.walletAddress||"")}`),this.config.deviceID&&e.push(`device_id=${encodeURIComponent(this.config.deviceID)}`);const r=this.config.url.includes("?")?"&":"?";return e.length>0?`${this.config.url}${r}${e.join("&")}`:this.config.url}async connect(){if(!(this.state===Dt.Connected||this.state===Dt.Connecting))return this.setState(Dt.Connecting),new Promise((e,r)=>{let i=!1,s=!1,o=null;const a=l=>{s||(s=!0,o!==null&&(clearTimeout(o),o=null),this.setState(Dt.Disconnected),r(l))};try{const l=this.getConnectionURL();console.log("Connecting to WebSocket:",l);const c=new WebSocket(l);o=window.setTimeout(()=>{!i&&!s&&(c.close(),a(new Error(`WebSocket connection timeout after 10 seconds. Unable to connect to ${l}. Check if the server is running and accessible.`)))},1e4),c.onopen=async()=>{o!==null&&(clearTimeout(o),o=null),i=!0,this.ws=c,this.setState(Dt.Connected),this.reconnectAttempts=0,this.config.authToken?(this.authState="authenticated",console.log("[WebSocketClient] Authentication via URL token")):this.authState="not_required",this.startPing(),e()},c.onmessage=u=>{try{const d=JSON.parse(u.data);this.handleMessage(d)}catch(d){console.error("Failed to parse WebSocket message:",d)}},c.onerror=u=>{console.error("WebSocket error event:",u)},c.onclose=u=>{if(o!==null&&(clearTimeout(o),o=null),this.ws=null,this.stopPing(),this.authState="not_required",!i&&!s){const d=u.code,h=u.reason||"Unknown reason",f=u.wasClean;let p=`WebSocket connection failed. Close code: ${d}`;d===1006?p=`WebSocket connection failed (abnormal closure, code ${d}). Unable to connect to ${l}. Possible causes: Server is not running, network issue, firewall blocking connection, or incorrect URL.`:d===1002?p=`WebSocket protocol error (code ${d}). The server may not support WebSocket protocol or there's a protocol mismatch.`:d===1003?p=`WebSocket unsupported data type (code ${d}).`:d===1008?p=`WebSocket connection closed due to policy violation (code ${d}): ${h}`:d===1011?p=`WebSocket server error (code ${d}): ${h}`:d===1e3?p=`WebSocket connection closed normally (code ${d}) but before opening.`:h&&h!=="Unknown reason"&&(p+=` Reason: ${h}`),!f&&d===1006&&(p+=" This usually indicates the connection was refused or the server is unreachable."),a(new Error(p))}else i&&(this.setState(Dt.Disconnected),this.scheduleReconnect())}}catch(l){o!==null&&(clearTimeout(o),o=null);const c=l instanceof Error?l.message:String(l);a(new Error(`Failed to create WebSocket connection: ${c}`))}})}disconnect(){this.cancelReconnect(),this.stopPing(),this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear(),this.stateChangeHandlers.clear(),this.setState(Dt.Disconnected)}send(e){var r;if(this.state!==Dt.Connected||!this.ws)throw new Error("WebSocket not connected");if(this.ws.readyState!==WebSocket.OPEN){const i=this.ws.readyState===WebSocket.CONNECTING?"CONNECTING":this.ws.readyState===WebSocket.CLOSING?"CLOSING":this.ws.readyState===WebSocket.CLOSED?"CLOSED":"UNKNOWN";throw console.warn(`[WebSocketClient] WebSocket not in OPEN state (${i}), updating connection state`),this.setState(Dt.Disconnected),new Error(`WebSocket not open (state: ${i})`)}try{e.params&&typeof e.params!="object"&&(console.warn("[WebSocketClient] params must be an object, converting:",e.params),e.params={});const i=JSON.stringify(e);this.ws.send(i)}catch(i){throw console.error("[WebSocketClient] Failed to send message:",i),((r=this.ws)==null?void 0:r.readyState)!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open after send error, scheduling reconnect"),this.setState(Dt.Disconnected),this.scheduleReconnect()),i}}on(e,r){this.handlers.has(e)||this.handlers.set(e,[]),this.handlers.get(e).push(r)}off(e,r){if(!r){this.handlers.delete(e);return}const i=this.handlers.get(e);if(i){const s=i.indexOf(r);s>-1&&i.splice(s,1)}}getState(){return this.state}isConnected(){const e=this.state===Dt.Connected,r=this.ws!==null&&this.ws.readyState===WebSocket.OPEN;return e&&!r?(console.warn("[WebSocketClient] State is Connected but WebSocket is not OPEN, updating state"),this.setState(Dt.Disconnected),!1):e&&r}setState(e){const r=this.state;this.state=e,r!==e&&this.stateChangeHandlers.forEach(i=>{try{i(e)}catch(s){console.error("Error in state change handler:",s)}})}onStateChange(e){return this.stateChangeHandlers.add(e),()=>{this.stateChangeHandlers.delete(e)}}handleMessage(e){if(e.type==="ping"){try{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const o={type:"pong"};e.id&&(o.id=e.id),this.send(o)}}catch(o){console.error("[WebSocketClient] Failed to send pong:",o),this.ws&&this.ws.readyState!==WebSocket.OPEN&&(this.setState(Dt.Disconnected),this.scheduleReconnect())}return}if(e.type==="ack"&&typeof e.channel=="string"){const o=this.pendingSubscriptions.get(e.channel);o&&(clearTimeout(o.timeout),o.resolve(),this.pendingSubscriptions.delete(e.channel))}if(e.action==="subscribed"&&typeof e.channel=="string"){const o=this.pendingSubscriptions.get(e.channel);o&&(clearTimeout(o.timeout),o.resolve(),this.pendingSubscriptions.delete(e.channel))}e.is_stale===!0&&(console.warn("[WebSocketClient] Received stale data:",e),(this.handlers.get("stale")||[]).forEach(a=>{try{a(e)}catch(l){console.error("[WebSocketClient] Error in stale data handler:",l)}}));let r;if(typeof e.action=="string")if(e.action==="subscribed")typeof e.channel=="string"?r=e.channel:r="subscribed";else if(e.action==="error")r="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message);else if(e.action==="pong")r="pong";else if(e.action==="data"||e.action==="update")if(typeof e.channel=="string")r=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else r=e.action;else if(typeof e.type=="string")if(e.type==="data")if(typeof e.channel=="string")r=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else e.type==="error"?(r="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message)):e.type==="ack"?typeof e.channel=="string"?r=e.channel:r="ack":e.type==="pong"?r="pong":r=e.type;else typeof e.event=="string"?r=e.event:typeof e.channel=="string"?r=e.channel:r="message";const i=this.handlers.get(r)||[],s=this.handlers.get("*")||[];i.forEach(o=>{try{o(e)}catch(a){console.error(`[WebSocketClient] Error in handler for ${r}:`,a)}}),r!=="error"&&s.forEach(o=>{try{o(e)}catch(a){console.error("[WebSocketClient] Error in wildcard handler:",a)}})}scheduleReconnect(){if(this.reconnectAttempts>=this.config.maxReconnectAttempts){console.error("[WebSocketClient] Max reconnection attempts reached"),this.setState(Dt.Disconnected);return}this.reconnectAttempts++,this.setState(Dt.Reconnecting),this.reconnectTimer=window.setTimeout(()=>{this.connect().catch(e=>{console.error("[WebSocketClient] Reconnection failed:",e)})},this.config.reconnectInterval)}cancelReconnect(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnectAttempts=0}startPing(){this.stopPing(),this.pingInterval=window.setInterval(()=>{if(this.ws&&this.state===Dt.Connected)if(this.ws.readyState===WebSocket.OPEN)try{const e=`ping_${Date.now()}`;this.send({type:"ping",id:e})}catch(e){console.error("[WebSocketClient] Failed to send ping:",e),this.ws.readyState!==WebSocket.OPEN&&(console.warn("[WebSocketClient] WebSocket not open, scheduling reconnect"),this.setState(Dt.Disconnected),this.scheduleReconnect())}else console.warn("[WebSocketClient] WebSocket not in OPEN state during ping, state:",this.ws.readyState),this.setState(Dt.Disconnected),this.scheduleReconnect()},2e4)}stopPing(){this.pingInterval!==null&&(clearInterval(this.pingInterval),this.pingInterval=null)}setAuthToken(e,r,i){this.config.authToken=e,this.config.walletAddress=r,this.config.deviceID=i,this.originalConfig.authToken=e,this.originalConfig.walletAddress=r,this.originalConfig.deviceID=i,console.log(`Auth set: address=${r}, device=${i}`)}async updateAuth(e,r,i){e!==void 0&&(this.config.authToken=e,this.originalConfig.authToken=e),r!==void 0&&(this.config.walletAddress=r,this.originalConfig.walletAddress=r),i!==void 0&&(this.config.deviceID=i,this.originalConfig.deviceID=i),this.isConnected()&&(this.disconnect(),await this.connect())}waitForSubscription(e,r=5e3){return new Promise((i,s)=>{if(!this.pendingSubscriptions.has(e)){i();return}const o=window.setTimeout(()=>{this.pendingSubscriptions.delete(e),s(new Error(`Subscription acknowledgment timeout for channel: ${e}`))},r),a=this.pendingSubscriptions.get(e);a?(a.timeout=o,a.resolve=i,a.reject=s):(clearTimeout(o),i())})}registerPendingSubscription(e){this.pendingSubscriptions.has(e)||this.pendingSubscriptions.set(e,{resolve:()=>{},reject:()=>{},timeout:0})}isReadyForSubscriptions(){const e=this.state===Dt.Connected,i=!this.config.authToken||this.authState==="authenticated";return e&&i}getAuthState(){return this.authState}}class bje{constructor(e){$e(this,"wsClient");$e(this,"multiFeedSubscriptions",new Map);$e(this,"multiFeedCallbacks",[]);$e(this,"multiFeedHandlerRegistered",!1);$e(this,"multiFeedSubscribedMarkets",new Set);this.wsClient=e}isConnected(){return this.wsClient.isConnected()}validateSymbol(e){return e===""?!0:!e||typeof e!="string"||e.trim()===""?!1:e.includes("/")}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}handleMultiFeedMessage(e){const r=e.type==="data";if((e.action==="data"||e.action==="update"||r)&&e.channel==="multi_feed"&&e.sub_channel){const s=e,o=s.sub_channel,a=this.multiFeedSubscriptions.get(o)||[],l=this.multiFeedCallbacks;let c=s.data;if(typeof c=="string")try{c=JSON.parse(c)}catch(u){console.error("Failed to parse multi-feed data field:",u);return}if(c){let u=c;const d={...s,data:u};a.forEach(h=>{try{h(u)}catch(f){console.error(`Error in multi-feed sub-channel callback for ${o}:`,f)}}),l.forEach(h=>{try{h(d)}catch(f){console.error("Error in multi-feed callback:",f)}})}}}subscribeMultiFeed(e,r,i){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const s=e!=="";if(s&&!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(i!=null&&i.symbol&&!this.validateSymbol(i.symbol))throw new Error(`Invalid symbol: ${i.symbol}. Symbol must be in format "BASE/QUOTE" (e.g., "BTC/USDC").`);if(i!=null&&i.interval&&!this.validateKlineInterval(i.interval))throw new Error(`Invalid interval: ${i.interval}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const o="multi_feed";this.multiFeedHandlerRegistered||(this.wsClient.on(o,this.handleMultiFeedMessage.bind(this)),this.multiFeedHandlerRegistered=!0),this.multiFeedCallbacks.push(r),this.wsClient.registerPendingSubscription(o);const a=s?e:"auth-only";if(!this.multiFeedSubscribedMarkets.has(a))try{const c={type:"subscribe",channel:"multi_feed",params:{}};s&&(c.params.market_id=e),i&&Object.assign(c.params,i),this.wsClient.send(c),this.multiFeedSubscribedMarkets.add(a)}catch(c){const u=this.multiFeedCallbacks.indexOf(r);throw u>-1&&this.multiFeedCallbacks.splice(u,1),c}}subscribeMultiFeedSubChannel(e,r,i,s){this.multiFeedSubscriptions.has(e)||this.multiFeedSubscriptions.set(e,[]),this.multiFeedSubscriptions.get(e).push(i);const a=r!==""?r:"auth-only";if(!this.multiFeedSubscribedMarkets.has(a)){const l=()=>{};this.subscribeMultiFeed(r,l,s)}}unsubscribeMultiFeed(e,r,i){if(i){const s=this.multiFeedCallbacks.indexOf(i);s>-1&&this.multiFeedCallbacks.splice(s,1)}else this.multiFeedCallbacks=[];if(this.multiFeedCallbacks.length===0&&(this.multiFeedSubscriptions.clear(),this.multiFeedSubscribedMarkets.clear()),this.multiFeedCallbacks.length===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"multi_feed"}),this.multiFeedSubscribedMarkets.clear()}catch(s){console.error("Failed to send unsubscribe message:",s)}}unsubscribeMultiFeedSubChannel(e,r){const i=this.multiFeedSubscriptions.get(e)||[];if(r){const s=i.indexOf(r);s>-1&&(i.splice(s,1),i.length===0?this.multiFeedSubscriptions.delete(e):this.multiFeedSubscriptions.set(e,i))}else this.multiFeedSubscriptions.delete(e)}disconnect(){this.multiFeedSubscriptions.clear(),this.multiFeedCallbacks=[],this.multiFeedHandlerRegistered=!1,this.multiFeedSubscribedMarkets.clear()}}class y0{constructor(e){$e(this,"wsClient");$e(this,"subscriptions",new Map);$e(this,"lastPriceWrappedCallbacks",new Map);$e(this,"wrappedCallbacks",new Map);$e(this,"multiplexClient");this.wsClient=new Vk({url:e.url,authToken:e.authToken,walletAddress:e.walletAddress,deviceID:e.deviceID}),this.multiplexClient=new bje(this.wsClient)}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.lastPriceWrappedCallbacks.clear(),this.wrappedCallbacks.clear(),this.multiplexClient.disconnect()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,r,i){this.wsClient.setAuthToken(e,r,i)}async updateAuth(e,r,i){return this.wsClient.updateAuth(e,r,i)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,r=5e3){return this.wsClient.waitForSubscription(e,r)}getWebSocketClient(){return this.wsClient}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.error("Failed to parse router data field:",r),null}return e}extractRouterData(e){if(typeof e.action=="string"){if((e.action==="data"||e.action==="update")&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionClient] Failed to parse action-based data:",e.data),r}if(e.action==="data"||e.action==="update"){const{action:r,channel:i,...s}=e;return Object.keys(s).length>0?s:null}if(e.action==="error")return e.error?console.error("WebSocket error response:",e.error):e.message&&console.error("WebSocket error response:",e.message),null;if(e.action==="subscribed")return null}if(e.type==="data"&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionClient] Failed to parse router data:",e.data),r}if(e.type==="error")return e.error?console.error("WebSocket error response:",e.error):e.message&&console.error("WebSocket error response:",e.message),null;if(e.type==="ack")return null;if(e.channel&&!e.action&&!e.type){const{channel:r,...i}=e;return Object.keys(i).length>0?i:null}return e.action&&e.action!=="data"&&e.action!=="update"&&e.action!=="subscribed"&&e.action!=="error"?console.debug("[SubscriptionClient] Unexpected action:",e.action,"Full message:",e):e.type&&e.type!=="data"&&e.type!=="ack"&&e.type!=="error"?console.debug("[SubscriptionClient] Unexpected message type:",e.type,"Full message:",e):(e.action==="data"||e.action==="update"||e.type==="data")&&!e.data&&!e.channel&&console.warn("[SubscriptionClient] Message is data/update but missing data/channel field:",e),null}validateSymbol(e){return e===""?!0:!e||typeof e!="string"||e.trim()===""?!1:e.includes("/")}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}validateTWAPWindowSize(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}validatePrivateChannelAuth(){if(!this.isReadyForSubscriptions()){const e=this.getAuthState();if(e==="pending")throw new Error("Authentication is pending. Please wait for authentication to complete before subscribing to private channels.");if(e==="failed")throw new Error("Authentication failed. Please re-authenticate before subscribing to private channels.");{const r=this.wsClient.config;if(!r||!r.authToken)throw new Error("Authentication token is required for private channels. Please provide authToken in SubscriptionClient config.")}}}getMultiplexClient(){return this.multiplexClient}subscribeMultiFeed(e,r,i){return this.multiplexClient.subscribeMultiFeed(e,r,i)}subscribeMultiFeedSubChannel(e,r,i,s){return this.multiplexClient.subscribeMultiFeedSubChannel(e,r,i,s)}unsubscribeMultiFeed(e,r,i){return this.multiplexClient.unsubscribeMultiFeed(e,r,i)}unsubscribeMultiFeedSubChannel(e,r){return this.multiplexClient.unsubscribeMultiFeedSubChannel(e,r)}subscribeOrderbook(e,r,i=!1){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const s="orderbook";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=l=>{const c=this.extractRouterData(l);c&&(i&&c.bids&&Array.isArray(c.bids)&&(c.bids=c.bids.filter(u=>Array.isArray(u)&&u.length>=2).map(([u,d])=>[Rt(typeof u=="string"?u:String(u)),Rt(typeof d=="string"?d:String(d))])),i&&c.asks&&Array.isArray(c.asks)&&(c.asks=c.asks.filter(u=>Array.isArray(u)&&u.length>=2).map(([u,d])=>[Rt(u),Rt(d)])),r(c))};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(r,o),this.wsClient.on(s,o),this.wsClient.registerPendingSubscription(s);try{const l={type:"subscribe",channel:"orderbook",params:{market_id:e}};console.debug("[SubscriptionClient] Sending orderbook subscription:",l),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(r);const c=this.subscriptions.get(s)||[],u=c.indexOf(r);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeOrderbook(e,r){var o,a;const i="orderbook",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orderbook"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTrades(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="trades";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"trades",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTrades(e,r){var o,a;const i="trades",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"trades"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTicker(e,r){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="moniker",s="ticker";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=l=>{const c=this.extractRouterData(l);c&&r(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(r,o),this.wsClient.on(i,o);try{this.wsClient.send({type:"subscribe",channel:i,params:{market_id:e}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(r);const c=this.subscriptions.get(s)||[],u=c.indexOf(r);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeTicker(e,r){var a,l;const i="ticker",s="moniker",o=this.subscriptions.get(i)||[];if(r){const c=o.indexOf(r);if(c>-1){o.splice(c,1),this.subscriptions.set(i,o);const u=(a=this.wrappedCallbacks.get(i))==null?void 0:a.get(r);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(i).delete(r))}}else{const c=this.wrappedCallbacks.get(i);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((l=this.subscriptions.get(i))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:s})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeUserUpdates(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="positions";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"positions",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeUserUpdates(e){var s,o;const r="positions",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"positions"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeLastPrice(e,r,i=!0){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const s="last_price";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=a=>{console.debug("[SubscriptionClient] last_price message received:",a);const l=this.extractRouterData(a);if(!l){console.warn("[SubscriptionClient] Failed to extract trade data from message:",a);return}if(console.debug("[SubscriptionClient] Extracted trade data:",l),!l.price){console.warn("[SubscriptionClient] Trade data missing price field:",l);return}i&&(l.price&&(l.price=Rt(typeof l.price=="string"?l.price:String(l.price))),l.quantity&&(l.quantity=Rt(typeof l.quantity=="string"?l.quantity:String(l.quantity)))),console.debug("[SubscriptionClient] Calling callback with trade data:",l),r(l)};this.lastPriceWrappedCallbacks.set(r,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"last_price",params:{market_id:e}})}catch(a){this.lastPriceWrappedCallbacks.delete(r);const l=this.subscriptions.get(s)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(s,l)),a}}unsubscribeLastPrice(e,r){var o;const i="last_price",s=this.subscriptions.get(i)||[];if(r){const a=s.indexOf(r);if(a>-1){s.splice(a,1),this.subscriptions.set(i,s);const l=this.lastPriceWrappedCallbacks.get(r);l&&(this.wsClient.off(i,l),this.lastPriceWrappedCallbacks.delete(r))}}else s.forEach(a=>{const l=this.lastPriceWrappedCallbacks.get(a);l&&(this.wsClient.off(i,l),this.lastPriceWrappedCallbacks.delete(a))}),this.subscriptions.delete(i);if(((o=this.subscriptions.get(i))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"last_price"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeFundingRate(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="funding_rate";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"funding_rate",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeFundingRate(e,r){var o,a;const i="funding_rate",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"funding_rate"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeBuckets(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="buckets";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"buckets",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeBuckets(e){var s,o;const r="buckets",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"buckets"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeDeviation(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="deviation";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"deviation",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeDeviation(e,r){var o,a;const i="deviation",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"deviation"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeIndexPrice(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="index_price";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"index_price",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeIndexPrice(e,r){var o,a;const i="index_price",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"index_price"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeKline(e,r,i){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateKlineInterval(r))throw new Error(`Invalid interval: ${r}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const s="kline";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],i]);const o=l=>{const c=this.extractRouterData(l);c&&i(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(i,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"kline",params:{market_id:e,interval:r}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(i);const c=this.subscriptions.get(s)||[],u=c.indexOf(i);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeKline(e,r,i){var a,l;const s="kline",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);if(c>-1){o.splice(c,1),this.subscriptions.set(s,o);const u=(a=this.wrappedCallbacks.get(s))==null?void 0:a.get(i);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(s).delete(i))}}else{const c=this.wrappedCallbacks.get(s);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(s)),this.subscriptions.delete(s)}if(((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"kline"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeMarkPrice(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="mark_price";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:i,params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeMarkPrice(e,r){var o,a;const i="mark_price",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"mark_price"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribePriceFeed(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="price_feed";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"price_feed",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribePriceFeed(e,r){var o,a;const i="price_feed",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"price_feed"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTWAP(e,r,i){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateTWAPWindowSize(r))throw new Error(`Invalid window size: ${r}. Window size must be a positive number.`);const s="twap";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],i]);const o=l=>{const c=this.extractRouterData(l);c&&i(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(i,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"twap",params:{market_id:e,window_size:r}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(i);const c=this.subscriptions.get(s)||[],u=c.indexOf(i);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeTWAP(e,r,i){var a,l;const s="twap",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);if(c>-1){o.splice(c,1),this.subscriptions.set(s,o);const u=(a=this.wrappedCallbacks.get(s))==null?void 0:a.get(i);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(s).delete(i))}}else{const c=this.wrappedCallbacks.get(s);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(s)),this.subscriptions.delete(s)}if(((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"twap"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeBalances(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="balances";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"balances",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeBalances(e){var s,o;const r="balances",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"balances"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeOrders(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="orders";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"orders",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeOrders(e){var s,o;const r="orders",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orders"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}}class cpe{constructor(e){$e(this,"wsClient");$e(this,"subscriptions",new Map);$e(this,"wrappedCallbacks",new Map);if(e instanceof Vk)this.wsClient=e;else{const r=e;this.wsClient=new Vk({url:r.url,authToken:r.authToken,walletAddress:r.walletAddress,deviceID:r.deviceID})}}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.wrappedCallbacks.clear()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,r,i){this.wsClient.setAuthToken(e,r,i)}async updateAuth(e,r,i){return this.wsClient.updateAuth(e,r,i)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,r=5e3){return this.wsClient.waitForSubscription(e,r)}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.error("Failed to parse router data field:",r),null}return e}extractRouterData(e){if(e.type==="data"&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionExplorer] Failed to parse router data:",e.data),r}return e.type==="error"&&e.error?(console.error("WebSocket error response:",e.error),null):(e.type==="ack"||(e.type!=="data"?console.debug("[SubscriptionExplorer] Unexpected message type:",e.type,"Full message:",e):e.data||console.warn("[SubscriptionExplorer] Message type is 'data' but missing data field:",e)),null)}subscribeConsensusFlat(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const i="consensus_flat";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],e]);const s=a=>{const l=this.extractRouterData(a);l&&e(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(e,s),this.wsClient.on(i,s),this.wsClient.registerPendingSubscription(i);try{const a={};(r==null?void 0:r.shard_id)!==void 0&&(a.shard_id=r.shard_id.toString()),r!=null&&r.event_type&&(a.event_type=r.event_type),this.wsClient.send({type:"subscribe",channel:"consensus_flat",params:Object.keys(a).length>0?a:{}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(e);const l=this.subscriptions.get(i)||[],c=l.indexOf(e);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeConsensusFlat(e){var s,o;const r="consensus_flat",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"consensus_flat"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeTransactions(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const i="transactions";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],e]);const s=a=>{const l=this.extractRouterData(a);l&&(l&&typeof l=="object"&&l.event_type?e(l):console.warn("[SubscriptionExplorer] Invalid transaction event structure:",l))};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(e,s),this.wsClient.on(i,s),this.wsClient.registerPendingSubscription(i);try{const a={};r!=null&&r.address&&(a.address=r.address),r!=null&&r.txhash&&(a.txhash=r.txhash),r!=null&&r.tx_types&&r.tx_types.length>0&&(a.tx_types=r.tx_types),(r==null?void 0:r.shard_id)!==void 0&&(a.shard_id=typeof r.shard_id=="number"?r.shard_id:parseInt(r.shard_id.toString(),10)),r!=null&&r.event_types&&r.event_types.length>0&&(a.event_types=r.event_types),this.wsClient.send({type:"subscribe",channel:"transactions",params:Object.keys(a).length>0?a:{}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(e);const l=this.subscriptions.get(i)||[],c=l.indexOf(e);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTransactions(e){var s,o;const r="transactions",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"transactions"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}}async function yje(n,e,r,i,s){const o=b0.fromPhrase(n.trim(),"","m/44'/60'/0'/0/0");if(o.address.toLowerCase()!==e.toLowerCase())throw new Error(`Address mismatch: derived ${o.address} does not match provided ${e}`);let a;try{a=new Fl(o.privateKey)}catch(x){throw new Error(`Invalid private key: cannot create signing key - ${x.message}`)}const l=kx(a.publicKey);if(l.toLowerCase()!==e.toLowerCase())throw new Error(`Private key validation failed: derived address ${l} does not match ${e}`);const c=BigInt(o.privateKey),u=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(c===0n||c>=u)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const h=c.toString(16).toLowerCase().padStart(64,"0"),f=It("0x"+h);if(f.length!==32)throw new Error(`Invalid private key: expected 32 bytes, got ${f.length}`);if(f.every(x=>x===0))throw new Error("Invalid private key: cannot be zero");const m=BigInt("0x"+h);if(m!==c)throw new Error(`Private key encoding error: bytes do not match BigInt value. Original: ${c.toString(16)}, Reconstructed: ${m.toString(16)}`);const b=h;if(b.length!==64)throw new Error(`Invalid private key format: expected exactly 64 hex chars, got ${b.length}. This should never happen with a valid 32-byte private key.`);if(!/^[0-9a-f]{64}$/.test(b))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");const y=b,v={action:JC,owner:e.toLowerCase(),nonce:r,timestamp:i,deadline:s},w={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:i,payload:v,deadline:parseInt(s,16)};console.log("[Onboard] Signing EIP-712 typed data with generateSingleSignature:",w),console.log("[Onboard] Private key format validated:",{length:y.length,format:"64 lowercase hex chars (no 0x prefix) - matches Go's hex.EncodeToString",preview:`${y.substring(0,8)}...${y.substring(56)}`,isValidSecp256k1:!0,withinCurveOrder:c<u,notZero:c!==0n,bytesLength:f.length,fullHex:y,firstByte:y.substring(0,2),lastByte:y.substring(62,64)}),console.log("[Onboard] Calling WASM GenerateSingleSignature with:",{txJSONLength:JSON.stringify(w).length,privateKeyHexLength:y.length,privateKeyHexPreview:y,signerAddress:e.toLowerCase()});const _=await Nt.generateSingleSignature(JSON.stringify(w),y,e.toLowerCase());if(console.log(_),!_.success||!_.signature)throw new Error(_.error||"Failed to generate signature");return console.log("[Onboard] signature:",_.signature),_.signature}async function vje(n){var e,r;try{const i=await yje(n.mnemonic,n.walletAddress,n.message.nonce,n.message.timestamp,n.message.deadline);console.log("[Onboard] Signature generated successfully, length:",i.length);const s={address:n.walletAddress,signature:i,nonce:n.message.nonce,timestamp:n.timestamp,deadline:n.message.deadline,action:JC};n.username&&(s.username=n.username),n.referralCode&&(s.referral_code=n.referralCode),console.log("[Onboard] Request body:",{...s,signature:i.substring(0,20)+"..."});const a=await new $C(n.baseURL).post("/auth/v1/onboard",s);if(a.statusCode===200&&a.body){const l=a.body.access_token||a.body.authToken||a.body.token||a.body.accessToken,c=a.body.refresh_token||a.body.refreshToken,u=a.body.expires_at||a.body.expiresAt||(a.body.expires_in?n.timestamp+a.body.expires_in:void 0);return l?{success:!0,authToken:l,refreshToken:c,expiresAt:u}:{success:!1,error:"Response missing authToken field"}}else{const l=((e=a.body)==null?void 0:e.message)||((r=a.body)==null?void 0:r.error)||`HTTP ${a.statusCode}: ${a.body}`,c=new Error(l);throw c.responseBody=a.body,c.statusCode=a.statusCode,c}}catch(i){throw i}}const x9={auth:{maxRetries:4,baseDelay:500,maxDelay:3e3,jitter:!0,multiplier:2},http:{maxRetries:3,baseDelay:100,maxDelay:5e3,jitter:!0,multiplier:2},nonce:{maxRetries:5,baseDelay:200,maxDelay:2e3,jitter:!0,multiplier:1.5}};function wje(n,e){let r=n.baseDelay*Math.pow(n.multiplier,e);if(r>n.maxDelay&&(r=n.maxDelay),n.jitter){const i=r*.25*Math.random();r+=i}return Math.floor(r)}function xje(n){return new Promise(e=>setTimeout(e,n))}async function eE(n,e,r=()=>!0){let i;for(let s=0;s<=n.maxRetries;s++)try{return await e()}catch(o){if(i=o,!await Promise.resolve(r(o)))throw o;if(s>=n.maxRetries)break;const l=wje(n,s);await xje(l)}throw new Error(`Operation failed after ${n.maxRetries+1} attempts: ${(i==null?void 0:i.message)||i}`)}async function _9(n,e,r,i){try{Nt.isReady()||await Nt.initialize();const s=await Nt.generateAddress(n,0);if(!s.success||!s.address)return{success:!1,error:`Failed to generate address: ${s.error}`};const o=s.address.toLowerCase(),a=new Ir({baseURL:e}),l=new U7(a);let c=null;try{return await eE(x9.auth,async()=>{console.log(`[Onboard] Attempt starting - currentNonce: ${c}`),c===null?(c=(await l.getExpectedNextNonce(o,!1)).next_nonce,console.log(`[Onboard] First attempt: queried server, using next nonce: ${c}`)):console.log(`[Onboard] Retry attempt: using incremented nonce ${c} from previous failure`);let d=0;const h=10;for(;d<h;)try{await l.validateNonce(o,c,!0);break}catch(y){if(d++,y.message.includes("already pending")||y.message.includes("already used")){if(c=c+1,console.log(`[Onboard] Nonce ${c-1} already pending, incrementing to ${c}`),d>=h)throw new Error(`Failed to find available nonce after ${h} attempts`)}else throw y}const f=Math.floor(Date.now()/1e3),p=f+3600,m={action:JC,owner:o,nonce:UR(c),timestamp:f,deadline:UR(p)};let b;try{b=await vje({mnemonic:n,walletAddress:o,message:m,baseURL:e,username:r,referralCode:i,timestamp:f})}catch(y){if(c!==null){const v=c;try{await l.rejectNonce(o,c,!0),c=c+1,console.log(`[Onboard] Rejected nonce ${v}, incremented to nonce ${c} (will use on retry)`)}catch(w){console.warn("[Onboard] Failed to reject nonce after thrown error:",w),c=c+1,console.log(`[Onboard] Incremented nonce to ${c} (reject failed but incrementing anyway)`)}}else console.warn("[Onboard] Error thrown but currentNonce is null, cannot reject/increment");throw y.currentNonce=c,y}if(!b.success){if(c!==null){const v=c;await l.rejectNonce(o,c,!0),c=c+1,console.log(`[Onboard] Request failed with nonce ${v}, rejected and incremented to ${c} (will keep incrementing until it works)`)}const y=new Error(b.error||"Onboarding failed");throw y.onboardResult=b,y}return c!==null&&await l.commitNonce(o,c,!0),b},async d=>{var v,w,_;const h=String(d).toLowerCase(),f=((v=d==null?void 0:d.message)==null?void 0:v.toLowerCase())||h,p=(d==null?void 0:d.responseBody)||(d==null?void 0:d.onboardResult),m=((w=p==null?void 0:p.error)==null?void 0:w.toLowerCase())||((_=p==null?void 0:p.message)==null?void 0:_.toLowerCase())||"";if(`${f} ${h} ${m}`.toLowerCase().includes("nonce already pending")){if(c!==null){const x=c;c=c+1,console.log(`[Onboard] Off-chain operation: nonce ${x} already pending/used, incrementing to ${c} (server will validate)`)}else try{c=(await l.getExpectedNextNonce(o,!1)).next_nonce,console.log(`[Onboard] currentNonce was null, queried server for starting nonce: ${c}`)}catch(x){console.warn("[Onboard] Failed to query server nonce:",x),c=1}return!0}return W7(d)?(console.log('[Onboard] Nonce-consuming error detected (not "already pending"), clearing currentNonce to force re-query'),c=null,!0):!["failed to generate address","address mismatch","invalid mnemonic"].some(x=>h.includes(x))})}catch(u){if(c!==null)try{await l.rejectNonce(o,c,!0)}catch(d){console.warn("[Onboard] Failed to reject nonce during cleanup:",d)}return{success:!1,error:(u==null?void 0:u.message)||"Unknown error during onboarding"}}}catch(s){return{success:!1,error:(s==null?void 0:s.message)||"Unknown error during onboarding"}}}const _je=Object.freeze(Object.defineProperty({__proto__:null,onboardAndGetAuthToken:_9},Symbol.toStringTag,{value:"Module"}));function Wc(){if(typeof window>"u")return!1;const n=window.solana;return!!(n&&n.isPhantom)}function ao(){if(typeof window>"u")return null;const n=window.solana;return n&&n.isPhantom?n:null}async function tE(n){const e=n||ao();if(!e)throw new Error("Phantom Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Phantom Solana wallet is not connected")}async function S9(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function As(){var e;if(typeof window>"u")return null;const n=(e=window.$onekey)==null?void 0:e.solana;return n||null}async function upe(n){const e=As();if(!e)throw new Error("OneKey Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("OneKey Solana wallet is not connected")}async function Sje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function Tc(){var r,i,s,o,a,l;if(typeof window>"u")return!1;const n=!!((r=window.okxwallet)!=null&&r.solana);if(((i=window.binancew3w)==null?void 0:i.isExtension)===!0&&((s=window.binancew3w)!=null&&s.solana))return!0;const e=window.solana;if(e&&!n){if(e.isBinance===!0)return!0;const c=e.name||e.providerName;if(typeof c=="string"&&c.toLowerCase().includes("binance")||((o=window.binancew3w)==null?void 0:o.isExtension)===!0)return!0}return!!((a=window.ethereum)!=null&&a.solana&&!n||(l=window.BinanceChain)!=null&&l.solana)}function xi(){var r,i,s,o,a,l;if(typeof window>"u")return null;const n=!!((r=window.okxwallet)!=null&&r.solana);if(((i=window.binancew3w)==null?void 0:i.isExtension)===!0&&((s=window.binancew3w)!=null&&s.solana))return window.binancew3w.solana;const e=window.solana;if(e&&!n){if(e.isBinance===!0)return e;const c=e.name||e.providerName;if(typeof c=="string"&&c.toLowerCase().includes("binance")||((o=window.binancew3w)==null?void 0:o.isExtension)===!0)return e}return(a=window.ethereum)!=null&&a.solana&&!n?window.ethereum.solana:(l=window.BinanceChain)!=null&&l.solana?window.BinanceChain.solana:null}async function kje(n){const e=xi();if(!e)throw new Error("Binance Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Binance Solana wallet is not connected")}function Gk(){if(typeof window>"u")return!1;const n=window.bitkeep;if(!n)return!1;const e=n.solana;return e&&typeof e.connect=="function"?(n.isBitKeep===!0||e.isBitKeep===!0,!0):!1}function ro(){if(typeof window>"u")return null;const n=window.bitkeep;if(!n)return null;const e=n.solana;return e&&typeof e.connect=="function"?e:null}async function dpe(n){const e=ro();if(!e)throw new Error("Bitget Solana wallet not found");if(!(e.isConnected||typeof e.isConnected=="function"&&e.isConnected()))return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Bitget Solana wallet is not connected")}async function Cje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8");return{signature:Array.from(s.signature).map(a=>a.toString(16).padStart(2,"0")).join(""),publicKey:s.publicKey.toString()}}function XW(){if(typeof window>"u")return!1;const n=window.solana;if(!n)return!1;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return!0;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return!0;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return!0}}catch{}if(n.isPhantom===!0)return!1;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u"&&n)return!0;if(i&&typeof i.isConnected=="function")try{if(i.isConnected()&&n)return!0}catch{}return!!((r==null?void 0:r.isTokenPocket)===!0&&n||n.isTokenPocket===!0||i&&typeof i=="object"&&n)}function Ey(){if(typeof window>"u")return null;const n=window.solana;if(!n)return null;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return n;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return n;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return n}}catch{}if(n.isPhantom===!0)return null;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u")return n;if(i&&typeof i.isConnected=="function")try{if(i.isConnected())return n}catch{}return(r==null?void 0:r.isTokenPocket)===!0||n.isTokenPocket===!0||i&&typeof i=="object"?n:null}async function Eje(n){const e=Ey();if(!e)throw new Error("TokenPocket Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(!e.publicKey)throw new Error("TokenPocket Solana wallet is connected but public key is not available");return e.publicKey.toString()}async function Aje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8");return{signature:Array.from(s.signature).map(a=>a.toString(16).padStart(2,"0")).join(""),publicKey:s.publicKey.toString()}}function Tje(){if(typeof window>"u")return!1;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return!0}return!1}function ad(){if(typeof window>"u")return null;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return n}return null}async function Pje(n){const e=ad();if(!e)throw new Error("Coinbase Wallet Solana wallet not found");if(!e.isConnected)return(await e.connect()).publicKey.toString();if(e.publicKey)return e.publicKey.toString();throw new Error("Coinbase Wallet Solana provider is connected but has no public key")}async function Ije(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}async function Mje(n,e){n.isConnected||await n.connect();const r=JSON.stringify(e),i=new TextEncoder().encode(r),s=await n.signMessage(i,"utf8"),o=Array.from(s.signature).map(l=>l.toString(16).padStart(2,"0")).join(""),a=s.publicKey.toString();return{signature:o,publicKey:a}}function Oje(n){const e=ao();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[Phantom] Solana wallet disconnected (isConnected changed)"),n("Phantom","Connection lost")),r=a},o=()=>{console.warn("[Phantom] Solana wallet disconnected (event)"),n("Phantom","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function Dje(n){const e=As();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[OneKey] Solana wallet disconnected (isConnected changed)"),n("OneKey","Connection lost")),r=a},o=()=>{console.warn("[OneKey] Solana wallet disconnected (event)"),n("OneKey","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function Rje(n){const e=xi();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[Binance] Solana wallet disconnected (isConnected changed)"),n("Binance","Connection lost")),r=a},o=()=>{console.warn("[Binance] Solana wallet disconnected (event)"),n("Binance","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}const QW=n=>{let e;const r=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=n(i,s,l);return l},Nje=n=>n?QW(n):QW,jje=n=>n;function Bje(n,e=jje){const r=B.useSyncExternalStore(n.subscribe,B.useCallback(()=>e(n.getState()),[n,e]),B.useCallback(()=>e(n.getInitialState()),[n,e]));return B.useDebugValue(r),r}const JW=n=>{const e=Nje(n),r=i=>Bje(e,i);return Object.assign(r,e),r},Lje=n=>n?JW(n):JW,jn=Lje((n,e)=>({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,selectedMarketId:null,loadingMarkets:!1,loadingOrderbooks:new Set,loadingTickers:new Set,loadingTrades:new Set,errors:new Map,setMarkets:r=>{const i=new Map,s=new Map;r.forEach(l=>{i.set(l.id,l),l.symbol&&s.set(l.symbol,l),l.moniker&&s.set(l.moniker,l)});let a=e().selectedMarketId;if(!a&&r.length>0){const u=(r.find(d=>d.active)||r[0]).market_id;u&&(a=u)}n({markets:r,marketsById:i,marketsBySymbol:s,selectedMarketId:a,lastUpdated:new Map(e().lastUpdated).set("markets",Date.now())})},setMarket:r=>{const i=e(),s=new Map(i.marketsById),o=new Map(i.marketsBySymbol);s.set(r.id,r),r.symbol&&o.set(r.symbol,r),r.moniker&&o.set(r.moniker,r);const a=i.markets.find(l=>l.id===r.id)?i.markets.map(l=>l.id===r.id?r:l):[...i.markets,r];n({markets:a,marketsById:s,marketsBySymbol:o})},getMarket:r=>e().marketsById.get(r),getMarketBySymbol:r=>e().marketsBySymbol.get(r),setSelectedMarketId:r=>{n({selectedMarketId:r})},setOrderbook:(r,i)=>{const s=e(),o=new Map(s.orderbooks);o.set(r,{...i,timestamp:Date.now()}),n({orderbooks:o,lastUpdated:new Map(s.lastUpdated).set(r,Date.now())})},getOrderbook:r=>e().orderbooks.get(r),updateOrderbook:(r,i)=>{const s=e(),o=s.orderbooks.get(r);if(o){const a={...o,...i,timestamp:Date.now()};s.setOrderbook(r,a)}else s.setOrderbook(r,{bids:i.bids||[],asks:i.asks||[],timestamp:Date.now()})},setTicker:(r,i)=>{const s=e(),o=new Map(s.tickers);o.set(r,{...i,marketId:r,timestamp:Date.now()}),n({tickers:o,lastUpdated:new Map(s.lastUpdated).set(`ticker_${r}`,Date.now())})},getTicker:r=>e().tickers.get(r),setRecentTrades:(r,i)=>{const s=e(),o=new Map(s.recentTrades);o.set(r,i),n({recentTrades:o,lastUpdated:new Map(s.lastUpdated).set(`trades_${r}`,Date.now())})},getRecentTrades:r=>e().recentTrades.get(r),setLoading:(r,i)=>{const s=e();if(r==="markets")n({loadingMarkets:i});else if(r.startsWith("orderbook_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingOrderbooks);i?a.add(o):a.delete(o),n({loadingOrderbooks:a})}else if(r.startsWith("ticker_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingTickers);i?a.add(o):a.delete(o),n({loadingTickers:a})}else if(r.startsWith("trades_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingTrades);i?a.add(o):a.delete(o),n({loadingTrades:a})}},setError:(r,i)=>{const s=e(),o=new Map(s.errors);i?o.set(r,i):o.delete(r),n({errors:o})},clearError:r=>{e().setError(r,null)},clearCache:r=>{const i=e();if(r){const s=new Map(i.orderbooks),o=new Map(i.tickers),a=new Map(i.recentTrades),l=new Map(i.lastUpdated);s.delete(r),o.delete(r),a.delete(r),l.delete(r),l.delete(`ticker_${r}`),l.delete(`trades_${r}`),n({orderbooks:s,tickers:o,recentTrades:a,lastUpdated:l})}else n({orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map})},clearAllCache:()=>{n({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,errors:new Map,selectedMarketId:null})}})),Fje=Object.freeze(Object.defineProperty({__proto__:null,ConnectionState:Dt,ExchangeClient:ah,HttpClient:$C,InfoClient:Ir,NonceManager:U7,OpBankBucketTransfer:g9,OpBankExtractToBucket:p9,OpBankMint:f9,OpBankTransfer:b9,OpBankWithdrawFromBucket:m9,OpCancelOrder:Wk,OpChangeLeverage:Qfe,OpChangeMarginRatio:l9,OpClosePosition:qk,OpCreateMarginBucket:Jfe,OpInternTransfer:d9,OpModifyOrder:u9,OpSubmitOrder:c9,OpSwap:h9,OpUpdatePositionLeverage:Xfe,OperationTypeOnboard:JC,SATOSHI_SCALE:Ud,SubscriptionClient:y0,SubscriptionExplorer:cpe,WebSocketClient:Vk,calculateRiskRatio:ES,connectPhantomSolana:tE,convertMultiFeedToRawBucket:v9,fromSatoshi:Rt,fromSatoshiBatch:Ohe,getDisplayMarginType:Fm,getPhantomSolanaProvider:ao,initWasm:Dhe,isLastPriceData:wm,isMarkPriceData:AS,isMultiFeedBalances:ipe,isMultiFeedBuckets:rpe,isMultiFeedLastPrice:t4,isMultiFeedOrderbook:Zfe,isMultiFeedOrders:npe,isMultiFeedPositions:tpe,isMultiFeedPriceFeed:spe,isMultiFeedTrades:epe,isPhantomSolanaAvailable:Wc,isRawBucket:w9,isValidSatoshi:zR,mormSigner:Nt,onboardAndGetAuthToken:_9,signSolanaMessage:S9,toSatoshi:Cn,toSatoshiBatch:Mhe,toSatoshiUint64:z7,transformPosition:s4,transformRawBucketToBucket:Hk,transformRawOrderToPendingOrder:o4,transformRawTradesToRecentTradeDos:i4,useMarketStore:jn},Symbol.toStringTag,{value:"Module"}));function $je(){const[n,e]=T.useState({loading:!0,loaded:!1,error:null}),[r,i]=T.useState({initialized:!1,wasmLoaded:!1,ready:!1});T.useEffect(()=>{(async()=>{try{if(e(l=>({...l,loading:!0,error:null})),await Nt.initialize()){let l=Nt.getVersion();l||(await new Promise(c=>setTimeout(c,500)),l=Nt.getVersion()),l||setTimeout(()=>{const c=Nt.getVersion();c&&e(u=>({...u,version:c}))},2e3),e({loading:!1,loaded:!0,error:null,version:l}),i(Nt.getStatus())}else e({loading:!1,loaded:!1,error:"Failed to load WASM module"}),i(Nt.getStatus())}catch(a){e({loading:!1,loaded:!1,error:a instanceof Error?a.message:"Unknown error"}),i(Nt.getStatus())}})()},[]),T.useEffect(()=>{if(n.loaded){const o=()=>{const l=Nt.getVersion();l&&l!==n.version&&e(c=>({...c,version:l}))};o();const a=setInterval(()=>{i(Nt.getStatus()),o()},1e3);return()=>clearInterval(a)}},[n.loaded]);const s=async()=>{e({loading:!0,loaded:!1,error:null});try{if(await Nt.initialize()){const a=Nt.getVersion();e({loading:!1,loaded:!0,error:null,version:a}),i(Nt.getStatus())}else e({loading:!1,loaded:!1,error:"Failed to load WASM module"}),i(Nt.getStatus())}catch(o){e({loading:!1,loaded:!1,error:o instanceof Error?o.message:"Unknown error"}),i(Nt.getStatus())}};return{wasmStatus:n,isReady:n.loaded&&r.ready,status:r,retry:s}}async function Yk(n,e,r=0,i=!0){const s=n.trim();if(!s)return{success:!1,error:"Mnemonic phrase is required"};if(!Nt.isReady())try{await Nt.initialize()}catch(o){return{success:!1,error:o instanceof Error?o.message:"Failed to initialize WASM module"}}try{return e!=="ethereum"?await Nt.generateAddressChain(s,e,r,i):await Nt.generateAddress(s,r)}catch(o){return{success:!1,error:o instanceof Error?o.message:"Unknown error during address generation"}}}function zje(n="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about",e=0,r="ethereum",i=!0){const[s,o]=T.useState(n),[a,l]=T.useState(e),[c,u]=T.useState(r),[d,h]=T.useState(i),[f,p]=T.useState(null),[m,b]=T.useState(!1);return{mnemonic:s,setMnemonic:o,addressIndex:a,setAddressIndex:l,chainType:c,setChainType:u,isMainnet:d,setIsMainnet:h,result:f,loading:m,generateAddress:async()=>{b(!0),p(null);try{const v=await Yk(s,c,a,d);p(v)}catch(v){p({success:!1,error:v instanceof Error?v.message:"Unknown error"})}finally{b(!1)}},isReady:Nt.isReady()}}function Uje(){const[n,e]=T.useState("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"),[r,i]=T.useState("Hello, World!"),[s,o]=T.useState(!1),[a,l]=T.useState(0),[c,u]=T.useState(null),[d,h]=T.useState(!1);return{mnemonic:n,setMnemonic:e,message:r,setMessage:i,useEIP712:s,setUseEIP712:o,addressIndex:a,setAddressIndex:l,result:c,loading:d,signMessage:async()=>{if(!Nt.isReady()){u({success:!1,error:"WASM module not ready"});return}h(!0),u(null);try{const p={addressIndex:a,useEIP712:s},m=s?await Nt.signEIP712(n,r,p):await Nt.signMessage(n,r,p);u(m)}catch(p){u({success:!1,error:p instanceof Error?p.message:"Unknown error"})}finally{h(!1)}},isReady:Nt.isReady()}}function ZW(){return typeof window>"u"?!1:!!window.okxwallet}function a4(){var i,s,o,a;if(typeof window>"u")return!1;if((i=window.okxwallet)!=null&&i.ethereum||(s=window.ethereum)!=null&&s.isOKX)return!0;const n=!!((o=window.okxwallet)!=null&&o.solana),e=!!((a=window.okxwallet)!=null&&a.bitcoin);return!!(n&&e&&window.ethereum)}function Pc(){var n;return typeof window>"u"?!1:!!((n=window.okxwallet)!=null&&n.solana)}function Ta(){var n;return typeof window>"u"?!1:!!((n=window.okxwallet)!=null&&n.bitcoin)}function k9(){var i,s,o,a;if(typeof window>"u")return null;if((i=window.okxwallet)!=null&&i.ethereum)return window.okxwallet.ethereum;if((s=window.ethereum)!=null&&s.isOKX)return window.ethereum;const n=!!((o=window.okxwallet)!=null&&o.solana),e=!!((a=window.okxwallet)!=null&&a.bitcoin);return n&&e&&window.ethereum?window.ethereum:null}function zi(){var n;return typeof window>"u"?null:(n=window.okxwallet)==null?void 0:n.solana}function hpe(){var n;return typeof window>"u"?null:(n=window.okxwallet)==null?void 0:n.bitcoin}async function Wje(){const n=k9();if(!n)throw new Error("OKX Ethereum wallet not found");try{const e=await n.request({method:"eth_requestAccounts"});if(!e||e.length===0)throw new Error("No accounts found in OKX Ethereum wallet");return e[0]}catch(e){throw new Error(`Failed to get OKX Ethereum address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function qje(n,e,r,i){const s=k9();if(!s)throw new Error("OKX Ethereum wallet not found");try{return{signature:await s.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify({domain:n,types:e,primaryType:"AgentApproval",message:r})]}),address:i}}catch(o){throw o.code===4001?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Ethereum: ${o.message||"Unknown error"}`)}}async function Hje(){const n=zi();if(!n)throw new Error("OKX Solana wallet not found");try{const e=await n.connect();if(!e||!e.publicKey)throw new Error("Failed to connect to OKX Solana wallet");return e.publicKey.toString()}catch(e){throw new Error(`Failed to get OKX Solana address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function Vje(n,e){var i,s;const r=zi();if(!r)throw new Error("OKX Solana wallet not found");try{r.isConnected||await r.connect();const o=typeof n=="string"?new TextEncoder().encode(n):n,a=await r.signMessage(o,"utf8"),c=(Array.isArray(a.signature)?a.signature:Array.from(a.signature)).map(d=>d.toString(16).padStart(2,"0")).join(""),u=((i=a.publicKey)==null?void 0:i.toString())||e||"";if(!u)throw new Error("Failed to get public key from OKX Solana wallet");return{signature:c,publicKey:u}}catch(o){throw o.code===4001||(s=o.message)!=null&&s.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Solana: ${o.message||"Unknown error"}`)}}async function eq(){const n=hpe();if(!n)throw new Error("OKX Bitcoin wallet not found");try{let e;if(typeof n.requestAccounts=="function"){const r=await n.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.connect=="function"){const r=await n.connect();Array.isArray(r)?r.length>0&&(e=r[0]):r&&typeof r=="object"&&(r.address?e=r.address:Array.isArray(r.accounts)&&r.accounts.length>0&&(e=r.accounts[0]))}if(!e&&typeof n.getAccounts=="function"){const r=await n.getAccounts();r&&r.length>0&&(e=r[0])}if(!e)throw new Error("No accounts found in OKX Bitcoin wallet. Please ensure the wallet is connected and has a Bitcoin account.");return e}catch(e){throw e instanceof Error&&e.message.includes("No accounts found")?e:new Error(`Failed to get OKX Bitcoin address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function Gje(n,e){var i;const r=hpe();if(!r)throw new Error("OKX Bitcoin wallet not found");try{let s=[];if(typeof r.requestAccounts=="function")s=await r.requestAccounts();else if(typeof r.connect=="function"){const l=await r.connect();Array.isArray(l)?s=l:l&&typeof l=="object"&&(l.address?s=[l.address]:Array.isArray(l.accounts)&&(s=l.accounts))}else typeof r.getAccounts=="function"&&(s=await r.getAccounts());if(!s.includes(e))throw new Error("Address not found in OKX Bitcoin wallet. Please ensure the wallet is connected and the address is available.");const o=await r.signMessage(n,"ecdsa");let a=o;return o.startsWith("0x")&&(a=o.slice(2)),{signature:a,address:e}}catch(s){throw s.code===4001||(i=s.message)!=null&&i.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OKX Bitcoin: ${s.message||"Unknown error"}`)}}function Yje(n){const e=k9();if(!e)return()=>{};const r=s=>{console.warn("[OKX] Ethereum wallet disconnected:",s),n("ethereum",s.message||"Wallet disconnected")},i=s=>{s.length===0&&(console.warn("[OKX] Ethereum wallet accounts cleared (disconnected)"),n("ethereum","Accounts cleared"))};return e.on&&(e.on("disconnect",r),e.on("accountsChanged",i)),()=>{e.removeListener&&(e.removeListener("disconnect",r),e.removeListener("accountsChanged",i))}}function Kje(n){const e=zi();if(!e)return()=>{};let r=e.isConnected,i=null;const s=()=>{const a=e.isConnected;r&&!a&&(console.warn("[OKX] Solana wallet disconnected (isConnected changed)"),n("solana","Connection lost")),r=a},o=()=>{console.warn("[OKX] Solana wallet disconnected (event)"),n("solana","Disconnected"),r=!1};return e.on&&e.on("disconnect",o),i=setInterval(s,2e3),()=>{i&&(clearInterval(i),i=null),e.removeListener&&e.removeListener("disconnect",o)}}function Xje(n){let e=null,r=Ta();return e=setInterval(()=>{const s=Ta();r&&!s&&(console.warn("[OKX] Bitcoin wallet disconnected (provider no longer available)"),n("bitcoin","Provider unavailable")),r=s},2e3),()=>{e&&(clearInterval(e),e=null)}}function Qje(n){const e=[];return e.push(Yje(n)),e.push(Kje(n)),e.push(Xje(n)),()=>{e.forEach(r=>r())}}function fpe(){var n,e;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.ethereum||(e=window.ethereum)!=null&&e.isOneKey)}function Kk(){var n;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.solana)}function C9(){var n;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.btc||window.$onekey&&window.unisat)}function Jje(){var n,e;return typeof window>"u"?null:(n=window.$onekey)!=null&&n.ethereum?window.$onekey.ethereum:(e=window.ethereum)!=null&&e.isOneKey?window.ethereum:null}function ppe(){var n;return typeof window>"u"?null:(n=window.$onekey)!=null&&n.btc?window.$onekey.btc:window.$onekey&&window.unisat?window.unisat:null}async function Zje(n,e,r,i){const s=Jje();if(!s)throw new Error("OneKey Ethereum wallet not found");try{return{signature:await s.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify({domain:n,types:e,primaryType:"AgentApproval",message:r})]}),address:i}}catch(o){throw o.code===4001?new Error("User rejected the signature request"):new Error(`Failed to sign with OneKey Ethereum: ${o.message||"Unknown error"}`)}}async function mpe(){const n=ppe();if(!n)throw new Error("OneKey Bitcoin wallet not found");try{let e;if(typeof n.requestAccounts=="function"){const r=await n.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.getAccounts=="function"){const r=await n.getAccounts();r&&r.length>0&&(e=r[0])}if(!e)throw new Error("No accounts found in OneKey Bitcoin wallet. Please ensure the wallet is connected and has a Bitcoin account.");return e}catch(e){throw e instanceof Error&&e.message.includes("No accounts found")?e:new Error(`Failed to get OneKey Bitcoin address: ${e instanceof Error?e.message:"Unknown error"}`)}}async function e7e(n,e,r="ecdsa"){var s;const i=ppe();if(!i)throw new Error("OneKey Bitcoin wallet not found");try{let o=[];if(typeof i.requestAccounts=="function"?o=await i.requestAccounts():typeof i.getAccounts=="function"&&(o=await i.getAccounts()),!o.includes(e))throw new Error("Address not found in OneKey Bitcoin wallet. Please ensure the wallet is connected and the address is available.");const a=await i.signMessage(n,r);let l=a;return a.startsWith("0x")&&(l=a.slice(2)),{signature:l,address:e}}catch(o){throw o.code===4001||(s=o.message)!=null&&s.includes("rejected")?new Error("User rejected the signature request"):new Error(`Failed to sign with OneKey Bitcoin: ${o.message||"Unknown error"}`)}}function E9(){var i,s,o,a,l,c;if(typeof window>"u")return[];const n=[],e=!!window.$onekey,r=!!((i=window.bitkeep)!=null&&i.isBitKeep)||!!((o=(s=window.bitkeep)==null?void 0:s.ethereum)!=null&&o.isBitEthereum);return(a=window.$onekey)!=null&&a.btc?n.push({name:"OneKey",provider:window.$onekey.btc,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}):e&&window.unisat&&n.push({name:"OneKey",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),window.unisat&&!e&&!r&&n.push({name:"Unisat",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),(window.BitcoinProvider||window.XverseProvider)&&n.push({name:"Xverse",provider:window.BitcoinProvider||window.XverseProvider,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}),(l=window.okxwallet)!=null&&l.bitcoin&&n.push({name:"OKX",provider:window.okxwallet.bitcoin,isAvailable:!0,supportsBIP322:!1,addressFormat:"all"}),r&&((c=window.bitkeep)!=null&&c.unisat?n.push({name:"Bitget",provider:window.bitkeep.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"}):window.unisat&&!e&&n.push({name:"Bitget",provider:window.unisat,isAvailable:!0,supportsBIP322:!0,addressFormat:"all"})),n}function Td(){const n=E9();return n.find(e=>e.name==="OneKey")||n.find(e=>e.name==="Unisat")||n.find(e=>e.name==="Xverse")||n.find(e=>e.name==="OKX")||n.find(e=>e.name==="Bitget")||n[0]||null}function qc(){return E9().length>0}function ld(){return typeof window>"u"?!1:!!window.okxwallet}function t7e(n){try{if(typeof Buffer>"u"){const e=atob(n);return Array.from(e).map(r=>r.charCodeAt(0).toString(16).padStart(2,"0")).join("")}return Buffer.from(n,"base64").toString("hex")}catch(e){throw new Error(`Failed to convert base64 to hex: ${e}`)}}function nE(n,e){return e==="base64"?t7e(n):e==="bip322"?n:n.startsWith("0x")?n.slice(2):n}async function tq(n,e="bip137",r){const i=r||window.unisat;if(!i)throw new Error("Unisat wallet not found");const s=await i.requestAccounts();if(s.length===0)throw new Error("No accounts found in Unisat wallet");const o=s[0];let a;return e==="bip322"?a=await i.signMessage(n,"bip322-simple"):a=await i.signMessage(n,"ecdsa"),{signature:nE(a,e==="bip322"?"bip322":"compact"),address:o,method:e,format:e==="bip322"?"bip322":"compact"}}async function n7e(n,e){const r=window.BitcoinProvider||window.XverseProvider;if(!r)throw new Error("Xverse wallet not found");const i=await r.request("signMessage",{address:e,message:n});return{signature:nE(i.signature,"base64"),address:i.address,method:"bip137",format:"compact"}}async function r7e(n,e){var o;const r=(o=window.okxwallet)==null?void 0:o.bitcoin;if(!r)throw new Error("OKX Bitcoin wallet not found");if(!(await r.connect()).includes(e))throw new Error("Address not found in OKX wallet");const s=await r.signMessage(n,"ecdsa");return{signature:nE(s,"compact"),address:e,method:"bip137",format:"compact"}}async function i7e(n,e="bip137"){var a;let r=null;if((a=window.$onekey)!=null&&a.btc?r=window.$onekey.btc:window.$onekey&&window.unisat&&(r=window.unisat),!r)throw new Error("OneKey Bitcoin wallet not found");const i=await r.requestAccounts();if(i.length===0)throw new Error("No accounts found in OneKey Bitcoin wallet");const s=i[0];let o;return e==="bip322"?o=await r.signMessage(n,"bip322-simple"):o=await r.signMessage(n,"ecdsa"),{signature:nE(o,e==="bip322"?"bip322":"compact"),address:s,method:e,format:e==="bip322"?"bip322":"compact"}}async function l4(n,e,r="bip137"){const i=JSON.stringify(n),s=Td();if(!s)throw new Error("No Bitcoin wallet found. Please install OneKey, Unisat, Xverse, or OKX wallet.");const o=r==="bip322"&&s.supportsBIP322?"bip322":"bip137";try{if(s.name==="OneKey")return await i7e(i,o);if(s.name==="Unisat")return await tq(i,o,s.provider);if(s.name==="Bitget")return await tq(i,o,s.provider);if(s.name==="Xverse"){if(!e){const a=await s.provider.getAccounts();if(a.length===0)throw new Error("No accounts found in Xverse wallet");e=a[0]}if(!e)throw new Error("Address is required for Xverse signing");return await n7e(i,e)}else if(s.name==="OKX"){if(!e){const a=await s.provider.connect();if(a.length===0)throw new Error("No accounts found in OKX wallet");e=a[0]}if(!e)throw new Error("Address is required for OKX signing");return await r7e(i,e)}else throw new Error(`Unsupported wallet: ${s.name}`)}catch(a){throw new Error(`Failed to sign with ${s.name}: ${a instanceof Error?a.message:"Unknown error"}`)}}async function gpe(){const n=Td();if(!n)throw new Error("No Bitcoin wallet found");try{if(n.name==="OneKey"){const e=await n.provider.requestAccounts();if(e.length===0)throw new Error("No accounts found in OneKey Bitcoin wallet");return e[0]}else if(n.name==="Unisat"){const e=await n.provider.requestAccounts();if(e.length===0)throw new Error("No accounts found in Unisat wallet");return e[0]}else if(n.name==="Bitget"){const e=await n.provider.requestAccounts();if(e.length===0)throw new Error("No accounts found in Bitget wallet");return e[0]}else if(n.name==="Xverse"){const e=await n.provider.getAccounts();if(e.length===0)throw new Error("No accounts found in Xverse wallet");return e[0]}else if(n.name==="OKX"){let e;if(typeof n.provider.requestAccounts=="function"){const r=await n.provider.requestAccounts();r&&r.length>0&&(e=r[0])}if(!e&&typeof n.provider.connect=="function"){const r=await n.provider.connect();Array.isArray(r)?r.length>0&&(e=r[0]):r&&typeof r=="object"&&(r.address?e=r.address:Array.isArray(r.accounts)&&r.accounts.length>0&&(e=r.accounts[0]))}if(!e)throw new Error("No accounts found in OKX wallet");return e}else throw new Error(`Unsupported wallet: ${n.name}`)}catch(e){throw new Error(`Failed to get address from ${n.name}: ${e instanceof Error?e.message:"Unknown error"}`)}}function s7e(){var n,e;return typeof window>"u"?!1:!!((n=window.$onekey)!=null&&n.ethereum)||!!((e=window.ethereum)!=null&&e.isOneKey)||!!window.$onekey}function nq(){var n,e,r;return typeof window>"u"?!1:(!!((n=window.phantom)!=null&&n.ethereum)||!!((e=window.ethereum)!=null&&e.isPhantom))&&!(window.$onekey||(r=window.ethereum)!=null&&r.isOneKey)}function o7e(){var n;return typeof window>"u"?!1:((n=window.ethereum)==null?void 0:n.isRainbow)===!0}function mu(){var r,i,s,o;if(typeof window>"u")return!1;const n=window.ethereum;if(!n)return!1;if(n.isMetaMask===!0){if(n._metamask&&typeof n._metamask=="object"||((r=n.providerInfo)==null?void 0:r.rdns)==="io.metamask"||((i=n.providerInfo)==null?void 0:i.name)==="MetaMask"||(s=n.providerInfo)!=null&&s.uuid&&typeof n.providerInfo.uuid=="string"&&n.providerInfo.uuid.length>0)return!0;const a=!!window.okxwallet,l=tu(),c=!!window.$onekey||n.isOneKey,u=!!((o=window.phantom)!=null&&o.ethereum)||n.isPhantom;if(!a&&!l&&!c&&!u)return!0}const e=window.solana;return(e==null?void 0:e.isMetaMask)===!0}function tu(){var r,i,s,o,a,l,c,u;if(typeof window>"u")return!1;if(((r=window.binancew3w)==null?void 0:r.isExtension)===!0||window.BinanceChain)return!0;const n=window.ethereum;if(n!=null&&n.isBinance)return!0;if(n){const d=n.providerName||n.name||((i=n._state)==null?void 0:i.name)||(((s=n._metamask)==null?void 0:s.isUnlocked)===void 0?"Binance":null);if(typeof d=="string"&&d.toLowerCase().includes("binance"))return!0}if(n!=null&&n._postMessageToMp&&typeof n._postMessageToMp=="function"&&(n==null?void 0:n.namespace)==="eip155"||((o=window.binancew3w)==null?void 0:o.isExtension)===!0&&((a=window.binancew3w)!=null&&a.solana))return!0;const e=window.solana;if(e){if(e.isBinance===!0)return!0;const d=e.name||e.providerName;if(typeof d=="string"&&d.toLowerCase().includes("binance")||((l=window.binancew3w)==null?void 0:l.isExtension)===!0)return!0}return!!((c=window.ethereum)!=null&&c.solana||(u=window.BinanceChain)!=null&&u.solana)}function a7e(){return tu()}async function TS(n=3e3,e=100){return typeof window>"u"?!1:tu()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),tu())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,tu()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function rq(){var e,r;if(typeof window>"u")return null;if(((e=window.binancew3w)==null?void 0:e.isExtension)===!0){const i=window.ethereum;if(i)return i}if(window.BinanceChain)return window.BinanceChain;const n=window.ethereum;if(n){if(n.isBinance)return n;const i=n.providerName||n.name||((r=n._state)==null?void 0:r.name);if(typeof i=="string"&&i.toLowerCase().includes("binance")||n._postMessageToMp&&typeof n._postMessageToMp=="function"&&(n==null?void 0:n.namespace)==="eip155")return n}return null}function sa(){var a,l,c;if(typeof window>"u")return!1;const n=window.bitkeep;if(!n)return!1;if(n.isBitKeep===!0||((a=n.ethereum)==null?void 0:a.isBitEthereum)===!0)return!0;const e=!!n.ethereum&&typeof n.ethereum.request=="function",r=!!n.solana&&typeof n.solana.connect=="function",i=!!n.unisat,s=!!n.tronLink;if([e,r,i,s].filter(Boolean).length>=2||((l=n.solana)==null?void 0:l.isBitKeep)===!0)return!0;if(e){const u=!!window.okxwallet,d=tu(),h=!!window.$onekey,f=!!((c=window.phantom)!=null&&c.ethereum),p=mu();if(!u&&!d&&!h&&!f&&!p)return!0}return!1}function Xk(){if(typeof window>"u")return null;const n=window.bitkeep;return!n||!sa()?null:n.ethereum&&typeof n.ethereum.request=="function"&&(n.ethereum.isBitEthereum===!0||n.isBitKeep===!0)?n.ethereum:null}async function Qk(n=3e3,e=100){return typeof window>"u"?!1:sa()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),sa())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,sa()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function l7e(){var r;if(typeof window>"u")return!1;const n=window.bitkeep;return!!(n!=null&&n.isBitKeep||(r=n==null?void 0:n.ethereum)!=null&&r.isBitEthereum)&&(!!(n!=null&&n.unisat)||!window.$onekey&&!!window.unisat)}function c7e(){var i,s,o;if(typeof window>"u"||!window.unisat||!!window.$onekey||!!((i=window.bitkeep)!=null&&i.isBitKeep)||!!((o=(s=window.bitkeep)==null?void 0:s.ethereum)!=null&&o.isBitEthereum))return!1;const r=window.unisat;return typeof r.requestAccounts=="function"&&typeof r.signMessage=="function"}function La(){var d;if(typeof window>"u")return!1;if(typeof window.tokenpocket<"u")return!0;const n=window.ethereum;if(!n)return!1;if(n.isTokenPocket===!0||window.tp&&typeof window.tp=="object"||n.isTokenPocket!==void 0)return!0;const e=!!window.solana,r=!!window.unisat,i=e&&r,s=!!window.okxwallet,o=tu(),a=!!window.$onekey,l=!!((d=window.phantom)!=null&&d.ethereum),c=mu(),u=sa();return i&&!s&&!o&&!a&&!l&&!c&&!u&&n&&typeof n.request=="function",!1}function A9(){return La()}function T9(){if(typeof window>"u")return!1;const n=window.solana;if(!n)return!1;if(n.name==="TokenPocket"||n.features&&n.features.name==="TokenPocket")return!0;try{const s=String(n),o=Object.values(n);if(s.includes("TokenPocket")||o.some(l=>String(l)==="TokenPocket"))return!0;const a=Object.getOwnPropertySymbols(n);for(const l of a){const c=n[l];if(c==="TokenPocket"||String(c)==="TokenPocket")return!0}}catch{}if(n.isPhantom===!0)return!1;const e=window.tokenpocket,r=window.ethereum,i=window.tp;if(typeof e<"u")return!0;if(i&&typeof i.isConnected=="function")try{if(i.isConnected())return!0}catch{}return!!((r==null?void 0:r.isTokenPocket)===!0||i&&typeof i=="object")}function iq(){if(typeof window>"u")return null;const n=window.ethereum;return!n||!La()?null:n&&typeof n.request=="function"?n:null}async function sq(n=3e3,e=100){return typeof window>"u"?!1:La()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),La())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,La()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function Fa(){if(typeof window>"u")return!1;const n=window.ethereum;if(!n)return!1;let e=n;if(Array.isArray(n.providers)){if(e=n.providers.find(r=>r.isCoinbaseWallet),!e)return!1}else if(!n.isCoinbaseWallet)return!1;return!(!e.isCoinbaseWallet||typeof e.host!="string"||!e.host.includes("coinbase.com")||typeof e.jsonRpcUrl!="string"||!e.jsonRpcUrl.includes("coinbase.com")||e.overridesMetaMask!==!1&&e.overridesMetaMask!==void 0||!e.isWalletLink||typeof window.CoinbaseWalletProvider!="function"||typeof window.WalletLinkProvider!="function")}function oq(){if(typeof window>"u")return null;const n=window.ethereum;if(!n)return null;if(Array.isArray(n.providers)){const e=n.providers.find(r=>r.isCoinbaseWallet);if(e&&typeof e.request=="function")return e}else if(n.isCoinbaseWallet&&typeof n.request=="function")return n;return null}function P9(){if(typeof window>"u")return!1;const n=window.coinbaseSolana;if(n&&typeof n=="object"){const e=n._storage||n.storage;if(e&&e.scope==="coinbaseSolana"||typeof n.connect=="function"&&typeof n.disconnect=="function"&&typeof n.signMessage=="function"&&typeof n.signTransaction=="function")return!0}return!1}async function aq(n=3e3,e=100){return typeof window>"u"?!1:Fa()||typeof document<"u"&&document.readyState!=="complete"&&(await new Promise(r=>{if(document.readyState==="complete")r();else{const i=()=>{document.readyState==="complete"&&(document.removeEventListener("readystatechange",i),r())};document.addEventListener("readystatechange",i)}}),Fa())?!0:new Promise(r=>{const i=Date.now();let s=0;const o=Math.ceil(n/e),a=()=>{if(s++,Fa()){r(!0);return}if(Date.now()-i>=n||s>=o){r(!1);return}setTimeout(a,e)};a()})}function Ah(){var s,o,a,l,c,u,d,h,f;if(typeof window>"u")return null;if(((s=window.phantom)!=null&&s.ethereum||(o=window.ethereum)!=null&&o.isPhantom)&&!(window.$onekey||(a=window.ethereum)!=null&&a.isOneKey))return"phantom";if((l=window.$onekey)!=null&&l.ethereum||(c=window.ethereum)!=null&&c.isOneKey||window.$onekey)return"onekey";const n=!!((u=window.okxwallet)!=null&&u.solana),e=!!((d=window.okxwallet)!=null&&d.bitcoin);if(n&&e&&window.ethereum||(h=window.okxwallet)!=null&&h.ethereum||(f=window.ethereum)!=null&&f.isOKX||window.okxwallet)return"okx";if(sa())return"bitget";if(La())return"tokenpocket";const i=window.ethereum;if(i&&i.isRainbow===!0)return"rainbow";if(Fa())return"coinbase";if(tu())return"binance";if(mu())return"metamask";if(window.ethereum){if(sa())return"bitget";if(La())return"tokenpocket";if(Fa())return"coinbase";if(window.ethereum&&window.ethereum.isRainbow===!0)return"rainbow";const p=tu(),m=Fa(),b=window.ethereum&&window.ethereum.isRainbow===!0;if(mu()&&!window.okxwallet&&!p&&!m&&!b)return"metamask";if(window.okxwallet)return"okx";if(p)return"binance";if(m)return"coinbase"}return null}function u7e(n){return n==="metamask"||n==="phantom"||n==="onekey"||n==="okx"||n==="binance"||n==="bitget"||n==="tokenpocket"||n==="coinbase"||n==="rainbow"}function bpe(n){if(n==="ethereum"){if(s7e())return"OneKey";const e=Pc(),r=Ta();if(e&&r||a4())return"OKX";if(sa())return"Bitget";if(A9())return"TokenPocket";if(Fa())return"Coinbase Wallet";if(o7e())return"Rainbow";if(a7e())return"Binance";if(mu())return"MetaMask";if(nq())return"Phantom"}else if(n==="solana"){if(nq())return"Phantom";if(Kk())return"OneKey";if(Pc())return"OKX";if(Gk())return"Bitget";if(T9())return"TokenPocket";if(P9())return"Coinbase Wallet";if(Tc())return"Binance"}else if(n==="bitcoin"){if(C9())return"OneKey";if(Ta())return"OKX";if(l7e())return"Bitget";if(c7e())return"Unisat";if(qc())return"Bitcoin Wallet"}return null}const d7e="onboard_mnemonic",h7e="onboard_wallet_address",f7e="onboard_chain_type",tm="agent_delegation_address",nm="agent_delegation_private_key",rm="agent_delegation_expires_at",Th="agent_delegation_owner_address";function p7e(n,e,r=180,i="clob::submit_order,clob::cancel_order",s="BrowserUserAgent",o,a=0,l=!0){const c=()=>{if(n!=null&&n.mnemonic)return n.mnemonic;if(typeof window<"u"){const te=localStorage.getItem(d7e);if(te)return te}return"abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"},u=()=>{if(n!=null&&n.chainType)return n.chainType;if(typeof window<"u"){const te=localStorage.getItem(f7e);if(te&&["ethereum","bitcoin_taproot","bitcoin_segwit","bitcoin_legacy","bitcoin_nested_segwit","solana"].includes(te))return te}return"ethereum"},d=()=>{if(n!=null&&n.walletAddress)return n.walletAddress;if(typeof window<"u"){const te=localStorage.getItem(h7e);if(te)return te}return""},[h,f]=T.useState(c()),[p,m]=T.useState(d()),[b,y]=T.useState(u()),[v,w]=T.useState(a),[_,x]=T.useState(l),[S,C]=T.useState(""),[E,A]=T.useState(""),[M,I]=T.useState(r),[O,F]=T.useState(i),[$,z]=T.useState(s),[R,j]=T.useState(Date.now().toString()),[N,D]=T.useState(null),[H,U]=T.useState(!1),X=te=>!te||typeof te!="string"?!1:/^(bc1|[13]|[mn2])[a-zA-HJ-NP-Z0-9]{25,62}$/.test(te),Y=te=>!te||typeof te!="string"?!1:te.length>=32&&te.length<=44&&!te.startsWith("0x")&&/^[1-9A-HJ-NP-Za-km-z]+$/.test(te);T.useEffect(()=>{if(n){if(n.mnemonic&&n.mnemonic!==h&&f(n.mnemonic),n.walletAddress&&n.chainType===b&&n.walletAddress!==p){let te=!1;p&&(X(p)||Y(p))&&(te=!0),te||m(n.walletAddress)}n.chainType&&n.chainType!==b&&y(n.chainType)}},[n==null?void 0:n.mnemonic,n==null?void 0:n.walletAddress,n==null?void 0:n.chainType,h,p,b]),T.useEffect(()=>{try{const te=sessionStorage.getItem(tm),ve=sessionStorage.getItem(nm),me=sessionStorage.getItem(rm),xe=sessionStorage.getItem(Th);if(te&&ve&&me){const fe=parseInt(me,10),K=Date.now();!isNaN(fe)&&K<fe&&(!xe||!p||xe.toLowerCase()===p.toLowerCase())?(C(te),A(ve)):(sessionStorage.removeItem(tm),sessionStorage.removeItem(nm),sessionStorage.removeItem(rm),sessionStorage.removeItem(Th))}}catch(te){console.warn("Failed to restore agent credentials from sessionStorage:",te)}},[]),T.useEffect(()=>{if(p){const te=sessionStorage.getItem(Th);te&&te.toLowerCase()!==p.toLowerCase()&&(sessionStorage.removeItem(tm),sessionStorage.removeItem(nm),sessionStorage.removeItem(rm),sessionStorage.removeItem(Th),C(""),A(""))}},[p]);const ee=async()=>{await G(b,v,_)},G=async(te=b,ve=v,me=_)=>{U(!0);try{const xe=await Yk(h,te,ve,me);xe.success&&xe.address?(m(xe.address),te!==b&&y(te),ve!==v&&w(ve),me!==_&&x(me)):D({success:!1,error:xe.error||"Failed to generate owner address"})}catch(xe){D({success:!1,error:xe instanceof Error?xe.message:"Unknown error"})}finally{U(!1)}},Z=async()=>{if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}U(!0);try{const te=await Nt.generateKeypair();if(te.success&&te.address&&te.privateKey){C(te.address),A(te.privateKey);try{const ve=Date.now()+M*24*60*60*1e3;sessionStorage.setItem(tm,te.address),sessionStorage.setItem(nm,te.privateKey),sessionStorage.setItem(rm,ve.toString()),p&&sessionStorage.setItem(Th,p)}catch(ve){console.warn("Failed to store agent credentials in sessionStorage:",ve)}}else D({success:!1,error:te.error||"Failed to generate agent keypair"})}catch(te){D({success:!1,error:te instanceof Error?te.message:"Unknown error"})}finally{U(!1)}},pe=async()=>{if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner and agent addresses are required"});return}U(!0),D(null);try{const te=O.split(",").map(me=>me.trim()).filter(me=>me.length>0),ve=await Nt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:te,nonce:R,agentName:$});D(ve)}catch(te){D({success:!1,error:te instanceof Error?te.message:"Unknown error"})}finally{U(!1)}},{address:re,isConnected:le,connector:ce}=Mi(),{signTypedDataAsync:Pe,isPending:Ee}=_7(),V=()=>{var me;if(!le||!ce)return null;const te=Ah();if(u7e(te))return te;const ve=((me=ce.name)==null?void 0:me.toLowerCase())||"";return ve.includes("phantom")?"phantom":ve.includes("onekey")?"onekey":ve.includes("okx")?"okx":ve.includes("binance")?"binance":ve.includes("bitget")||ve.includes("bitkeep")?"bitget":ve.includes("tokenpocket")||ve.includes("tp")?"tokenpocket":ve.includes("coinbase")?"coinbase":ve.includes("rainbow")?"rainbow":ve.includes("metamask")?"metamask":null},Ae=async()=>{var ve,me;if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner address and agent address are required"});return}if(!le||!re){D({success:!1,error:"Please connect your MetaMask wallet first"});return}if(V()!=="metamask"){const xe=Ah();D(xe==="metamask"?{success:!1,error:'MetaMask wallet detected but not connected via wagmi. Please use the "Connect MetaMask" button first.'}:{success:!1,error:"This function is for MetaMask wallet only. Please use the appropriate button for your wallet."});return}if(re.toLowerCase()!==p.toLowerCase()){D({success:!1,error:`Connected address (${re}) does not match owner address (${p}). Please switch to the correct account in MetaMask.`});return}U(!0),D(null);try{const xe=O.split(",").map(_e=>_e.trim()).filter(_e=>_e.length>0),fe=await Nt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:xe,nonce:R,agentName:$});if(!fe.success||!fe.typedData){D(fe);return}const K=fe.typedData;let he,se,ke,Re;K.domain&&K.types&&K.message?(he=K.domain,se=K.types,ke=K.primaryType||K.primaryType||"AgentApproval",Re=K.message):(he=K.domain||{},se=K.types||K.Types||{},ke=K.primaryType||K.PrimaryType||"AgentApproval",Re=K.message||K.Message||K);const de=await Pe({domain:he,types:se,primaryType:ke,message:Re});D({success:!0,typedData:fe.typedData,signature:de})}catch(xe){xe.code===4001||(ve=xe.message)!=null&&ve.includes("User rejected")||(me=xe.message)!=null&&me.includes("rejected")?D({success:!1,error:"User rejected the signature request"}):D({success:!1,error:xe instanceof Error?xe.message:"Unknown error during MetaMask signing"})}finally{U(!1)}},Qe=async()=>{var ve,me;if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner address and agent address are required"});return}if(!le||!re){D({success:!1,error:"Please connect your Phantom wallet first"});return}if(V()!=="phantom"){const xe=Ah();D(xe==="phantom"?{success:!1,error:'Phantom wallet detected but not connected via wagmi. Please use the "Connect Phantom" button first.'}:{success:!1,error:"This function is for Phantom wallet only. Please use the appropriate button for your wallet."});return}if(re.toLowerCase()!==p.toLowerCase()){D({success:!1,error:`Connected address (${re}) does not match owner address (${p}). Please switch to the correct account in Phantom.`});return}U(!0),D(null);try{const xe=O.split(",").map(_e=>_e.trim()).filter(_e=>_e.length>0),fe=await Nt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:xe,nonce:R,agentName:$});if(!fe.success||!fe.typedData){D(fe);return}const K=fe.typedData;let he,se,ke,Re;K.domain&&K.types&&K.message?(he=K.domain,se=K.types,ke=K.primaryType||K.primaryType||"AgentApproval",Re=K.message):(he=K.domain||{},se=K.types||K.Types||{},ke=K.primaryType||K.PrimaryType||"AgentApproval",Re=K.message||K.Message||K);const de=await Pe({domain:he,types:se,primaryType:ke,message:Re});D({success:!0,typedData:fe.typedData,signature:de})}catch(xe){xe.code===4001||(ve=xe.message)!=null&&ve.includes("User rejected")||(me=xe.message)!=null&&me.includes("rejected")?D({success:!1,error:"User rejected the signature request"}):D({success:!1,error:xe instanceof Error?xe.message:"Unknown error during Phantom signing"})}finally{U(!1)}},st=async()=>{var ve,me;if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner address and agent address are required"});return}if(!le||!re){D({success:!1,error:"Please connect your OneKey wallet first"});return}if(V()!=="onekey"){const xe=Ah();D(xe==="onekey"?{success:!1,error:'OneKey wallet detected but not connected via wagmi. Please use the "Connect OneKey" button first.'}:{success:!1,error:"This function is for OneKey wallet only. Please use the appropriate button for your wallet."});return}if(re.toLowerCase()!==p.toLowerCase()){D({success:!1,error:`Connected address (${re}) does not match owner address (${p}). Please switch to the correct account in OneKey.`});return}U(!0),D(null);try{const xe=O.split(",").map(_e=>_e.trim()).filter(_e=>_e.length>0),fe=await Nt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:xe,nonce:R,agentName:$});if(!fe.success||!fe.typedData){D(fe);return}const K=fe.typedData;let he,se,ke,Re;K.domain&&K.types&&K.message?(he=K.domain,se=K.types,ke=K.primaryType||K.primaryType||"AgentApproval",Re=K.message):(he=K.domain||{},se=K.types||K.Types||{},ke=K.primaryType||K.PrimaryType||"AgentApproval",Re=K.message||K.Message||K);const de=await Pe({domain:he,types:se,primaryType:ke,message:Re});D({success:!0,typedData:fe.typedData,signature:de})}catch(xe){xe.code===4001||(ve=xe.message)!=null&&ve.includes("User rejected")||(me=xe.message)!=null&&me.includes("rejected")?D({success:!1,error:"User rejected the signature request"}):D({success:!1,error:xe instanceof Error?xe.message:"Unknown error during OneKey signing"})}finally{U(!1)}},ze=async()=>{var ve,me;if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner address and agent address are required"});return}if(!le||!re){D({success:!1,error:"Please connect your Bitget wallet first"});return}if(V()!=="bitget"){const xe=Ah();D(xe==="bitget"?{success:!1,error:'Bitget wallet detected but not connected via wagmi. Please use the "Connect Bitget" button first.'}:{success:!1,error:"This function is for Bitget wallet only. Please use the appropriate button for your wallet."});return}if(re.toLowerCase()!==p.toLowerCase()){D({success:!1,error:`Connected address (${re}) does not match owner address (${p}). Please switch to the correct account in Bitget.`});return}U(!0),D(null);try{const xe=O.split(",").map(_e=>_e.trim()).filter(_e=>_e.length>0),fe=await Nt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:xe,nonce:R,agentName:$});if(!fe.success||!fe.typedData){D(fe);return}const K=fe.typedData;let he,se,ke,Re;K.domain&&K.types&&K.message?(he=K.domain,se=K.types,ke=K.primaryType||K.primaryType||"AgentApproval",Re=K.message):(he=K.domain||{},se=K.types||K.Types||{},ke=K.primaryType||K.PrimaryType||"AgentApproval",Re=K.message||K.Message||K);const de=await Pe({domain:he,types:se,primaryType:ke,message:Re});D({success:!0,typedData:fe.typedData,signature:de})}catch(xe){xe.code===4001||(ve=xe.message)!=null&&ve.includes("User rejected")||(me=xe.message)!=null&&me.includes("rejected")?D({success:!1,error:"User rejected the signature request"}):D({success:!1,error:xe instanceof Error?xe.message:"Unknown error during Bitget signing"})}finally{U(!1)}},wt=async()=>{var ve,me;if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner address and agent address are required"});return}if(!le||!re){D({success:!1,error:"Please connect your TokenPocket wallet first"});return}if(V()!=="tokenpocket"){const xe=Ah();D(xe==="tokenpocket"?{success:!1,error:'TokenPocket wallet detected but not connected via wagmi. Please use the "Connect TokenPocket" button first.'}:{success:!1,error:"This function is for TokenPocket wallet only. Please use the appropriate button for your wallet."});return}if(re.toLowerCase()!==p.toLowerCase()){D({success:!1,error:`Connected address (${re}) does not match owner address (${p}). Please switch to the correct account in TokenPocket.`});return}U(!0),D(null);try{const xe=O.split(",").map(_e=>_e.trim()).filter(_e=>_e.length>0),fe=await Nt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:xe,nonce:R,agentName:$});if(!fe.success||!fe.typedData){D(fe);return}const K=fe.typedData;let he,se,ke,Re;K.domain&&K.types&&K.message?(he=K.domain,se=K.types,ke=K.primaryType||K.primaryType||"AgentApproval",Re=K.message):(he=K.domain||{},se=K.types||K.Types||{},ke=K.primaryType||K.PrimaryType||"AgentApproval",Re=K.message||K.Message||K);const de=await Pe({domain:he,types:se,primaryType:ke,message:Re});D({success:!0,typedData:fe.typedData,signature:de})}catch(xe){xe.code===4001||(ve=xe.message)!=null&&ve.includes("User rejected")||(me=xe.message)!=null&&me.includes("rejected")?D({success:!1,error:"User rejected the signature request"}):D({success:!1,error:xe instanceof Error?xe.message:"Unknown error during TokenPocket signing"})}finally{U(!1)}},qe=async()=>{var ve,me;if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner address and agent address are required"});return}if(!le||!re){D({success:!1,error:"Please connect your Coinbase Wallet first"});return}if(V()!=="coinbase"){const xe=Ah();D(xe==="coinbase"?{success:!1,error:'Coinbase Wallet detected but not connected via wagmi. Please use the "Connect Coinbase Wallet" button first.'}:{success:!1,error:"This function is for Coinbase Wallet only. Please use the appropriate button for your wallet."});return}if(re.toLowerCase()!==p.toLowerCase()){D({success:!1,error:`Connected address (${re}) does not match owner address (${p}). Please switch to the correct account in Coinbase Wallet.`});return}U(!0),D(null);try{const xe=O.split(",").map(_e=>_e.trim()).filter(_e=>_e.length>0),fe=await Nt.prepareAgentSign({owner:p,agent:S,expiresInDays:M,permissions:xe,nonce:R,agentName:$});if(!fe.success||!fe.typedData){D(fe);return}const K=fe.typedData;let he,se,ke,Re;K.domain&&K.types&&K.message?(he=K.domain,se=K.types,ke=K.primaryType||K.primaryType||"AgentApproval",Re=K.message):(he=K.domain||{},se=K.types||K.Types||{},ke=K.primaryType||K.PrimaryType||"AgentApproval",Re=K.message||K.Message||K);const de=await Pe({domain:he,types:se,primaryType:ke,message:Re});D({success:!0,typedData:fe.typedData,signature:de})}catch(xe){xe.code===4001||(ve=xe.message)!=null&&ve.includes("User rejected")||(me=xe.message)!=null&&me.includes("rejected")?D({success:!1,error:"User rejected the signature request"}):D({success:!1,error:xe instanceof Error?xe.message:"Unknown error during Coinbase Wallet signing"})}finally{U(!1)}},Je=async()=>{var ve,me,xe;if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner address and agent address are required"});return}if(!Wc()){D({success:!1,error:"Phantom Solana wallet not found. Please install Phantom wallet extension."});return}const te=ao();if(!te){D({success:!1,error:"Phantom Solana provider not available"});return}U(!0),D(null);try{const fe=await tE(te);if(fe!==p){D({success:!1,error:`Connected address (${fe}) does not match owner address (${p}). Please switch to the correct account in Phantom.`});return}const K=O.split(",").map(ke=>ke.trim()).filter(ke=>ke.length>0),he={action:"agent_approval",owner:p,agent:S,expiresInDays:M,permissions:K,nonce:R,agentName:$,timestamp:Math.floor(Date.now()/1e3)},se=await S9(te,he);D({success:!0,signature:se.signature,typedData:he})}catch(fe){fe.code===4001||(ve=fe.message)!=null&&ve.includes("User rejected")||(me=fe.message)!=null&&me.includes("rejected")||(xe=fe.message)!=null&&xe.includes("User cancelled")?D({success:!1,error:"User rejected the signature request"}):D({success:!1,error:fe instanceof Error?fe.message:"Unknown error during Phantom Solana signing"})}finally{U(!1)}},yt=async()=>{var te,ve,me,xe;if(!Nt.isReady()){D({success:!1,error:"WASM module not ready"});return}if(!p||!S){D({success:!1,error:"Owner address and agent address are required"});return}if(!qc()){D({success:!1,error:"Bitcoin wallet not found. Please install Unisat, Xverse, or OKX wallet extension."});return}U(!0),D(null);try{let fe=p;try{const de=await gpe();if(de!==p){D({success:!1,error:`Wallet address (${de}) does not match owner address (${p}). Please switch to the correct account in your Bitcoin wallet.`});return}fe=de}catch(de){console.warn("Could not get address from wallet, using owner address:",de)}const K=O.split(",").map(de=>de.trim()).filter(de=>de.length>0),he={action:"agent_approval",owner:fe,agent:S,expiresInDays:M,permissions:K,nonce:R,agentName:$,timestamp:Math.floor(Date.now()/1e3),deadline:(Date.now()+M*24*60*60*1e3).toString(16)},se=Td(),ke=se!=null&&se.supportsBIP322?"bip322":"bip137",Re=await l4(he,fe,ke);D({success:!0,signature:Re.signature,typedData:he})}catch(fe){fe.code===4001||(te=fe.message)!=null&&te.includes("User rejected")||(ve=fe.message)!=null&&ve.includes("rejected")||(me=fe.message)!=null&&me.includes("User cancelled")||(xe=fe.message)!=null&&xe.includes("user reject")?D({success:!1,error:"User rejected the signature request"}):D({success:!1,error:fe instanceof Error?fe.message:"Unknown error during Bitcoin signing"})}finally{U(!1)}},ct=async()=>{switch(b){case"ethereum":const te=V();return te==="phantom"?Qe():te==="onekey"?st():te==="bitget"?ze():te==="tokenpocket"?wt():te==="coinbase"?qe():Ae();case"solana":return Je();case"bitcoin_taproot":case"bitcoin_segwit":case"bitcoin_legacy":case"bitcoin_nested_segwit":return yt();default:D({success:!1,error:`Signing not yet supported for chain type: ${b}`})}},Ze=le&&V()==="metamask"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),Ve=()=>{if(b!=="solana")return!1;const te=ao();return!te||!te.isConnected||!te.publicKey?!1:te.publicKey.toString()===p},rt=()=>!(!(b==="bitcoin_taproot"||b==="bitcoin_segwit"||b==="bitcoin_legacy"||b==="bitcoin_nested_segwit")||!qc()||!p);return{ownerMnemonic:h,setOwnerMnemonic:f,ownerAddress:p,setOwnerAddress:m,ownerChainType:b,setOwnerChainType:y,ownerAddressIndex:v,setOwnerAddressIndex:w,ownerIsMainnet:_,setOwnerIsMainnet:x,agentAddress:S,setAgentAddress:C,agentPrivateKey:E,setAgentPrivateKey:A,expiresInDays:M,setExpiresInDays:I,permissions:O,setPermissions:F,agentName:$,setAgentName:z,nonce:R,setNonce:j,result:N,loading:H||Ee,generateOwnerAddress:ee,generateOwnerAddressForChain:G,generateAgentKeypair:Z,prepareAgentSign:pe,signAgentApproval:Ae,signAgentApprovalWithPhantom:Qe,signAgentApprovalWithOneKey:st,signAgentApprovalWithBitget:ze,signAgentApprovalWithTokenPocket:wt,signAgentApprovalWithCoinbaseWallet:qe,signAgentApprovalWithPhantomSolana:Je,signAgentApprovalWithBitcoin:yt,signAgentApprovalForChain:ct,clearAgentCredentials:()=>{C(""),A("");try{sessionStorage.removeItem(tm),sessionStorage.removeItem(nm),sessionStorage.removeItem(rm),sessionStorage.removeItem(Th)}catch(te){console.warn("Failed to clear agent credentials from sessionStorage:",te)}},isMetaMaskConnected:Ze,isPhantomConnected:le&&V()==="phantom"&&b==="ethereum"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),isPhantomSolanaConnected:Ve(),isOneKeyConnected:le&&V()==="onekey"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),isOKXConnected:le&&V()==="okx"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),isBinanceConnected:le&&V()==="binance"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),isBitgetConnected:le&&V()==="bitget"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),isTokenPocketConnected:le&&V()==="tokenpocket"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),isCoinbaseWalletConnected:le&&V()==="coinbase"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),isRainbowConnected:le&&V()==="rainbow"&&(re==null?void 0:re.toLowerCase())===p.toLowerCase(),isPhantomSolanaAvailable:Wc(),isBitcoinWalletAvailable:qc(),isBitcoinWalletConnected:rt(),isReady:Nt.isReady()}}function lq(n){const e=n.market_id;return{...n,id:e,symbol:n.moniker,baseAsset:n.base_asset,quoteAsset:n.quote_asset,active:n.status==="active",maxSizeLimit:40,minSizeLimit:1e-4}}function m7e(n,e){var s,o;const r=typeof n.timestamp=="string"?parseInt(n.timestamp,10)||Date.now():typeof n.timestamp=="number"?n.timestamp:Date.now(),i=(s=n.trade_type)!=null&&s.toLowerCase().includes("buy")||n.buy_order_id?"buy":(o=n.trade_type)!=null&&o.toLowerCase().includes("sell")||n.sell_order_id?"sell":"buy";return{...n,id:n.trade_id,marketId:n.market_id||e,price:n.price,size:n.quantity,side:i,timestamp:r}}function Xl(n){const e=T.useRef(null),r=jn(Y=>Y.markets),i=jn(Y=>Y.marketsById),s=jn(Y=>Y.orderbooks),o=jn(Y=>Y.tickers),a=jn(Y=>Y.recentTrades),l=jn(Y=>Y.selectedMarketId),c=jn(Y=>Y.loadingMarkets),u=jn(Y=>Y.loadingOrderbooks),d=jn(Y=>Y.loadingTickers),h=jn(Y=>Y.loadingTrades),f=jn(Y=>Y.errors),p=jn(Y=>Y.setMarkets),m=jn(Y=>Y.setMarket),b=jn(Y=>Y.getMarket),y=jn(Y=>Y.getMarketBySymbol),v=jn(Y=>Y.setSelectedMarketId),w=jn(Y=>Y.setOrderbook),_=jn(Y=>Y.getOrderbook),x=jn(Y=>Y.updateOrderbook),S=jn(Y=>Y.setTicker),C=jn(Y=>Y.getTicker),E=jn(Y=>Y.setRecentTrades),A=jn(Y=>Y.getRecentTrades),M=jn(Y=>Y.setLoading),I=jn(Y=>Y.setError),O=jn(Y=>Y.clearError),F=jn(Y=>Y.clearCache);T.useEffect(()=>{e.current?n.sessionToken&&e.current.setSessionToken(n.sessionToken):e.current=new Ir({baseURL:n.baseURL,sessionToken:n.sessionToken})},[n.baseURL,n.sessionToken]);const $=T.useCallback(async()=>{if(!e.current)throw new Error("InfoClient not initialized");const Y="markets";M(Y,!0),I(Y,null);try{const ee=await e.current.getMarkets(),Z=(Array.isArray(ee)?ee:[]).map(pe=>{const re=pe.market_id;return{...pe,id:re,symbol:pe.moniker,baseAsset:pe.base_asset,quoteAsset:pe.quote_asset,active:pe.status==="active",maxSizeLimit:void 0,minSizeLimit:void 0}});return p(Z),Z}catch(ee){const G=ee instanceof Error?ee.message:"Failed to fetch markets";throw I(Y,G),ee}finally{M(Y,!1)}},[p,M,I]),z=T.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const ee=b(Y);if(ee)return ee;try{const G=await e.current.getMarketByID(Y);if(G){const Z=lq(G);return m(Z),Z}return null}catch(G){const Z=G instanceof Error?G.message:`Failed to fetch market ${Y}`;throw I(`market_${Y}`,Z),G}},[b,m,I]),R=T.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const ee=y(Y);if(ee)return ee;try{const G=await e.current.getMarketByMoniker(Y);if(G){const Z=lq(G);return m(Z),Z}return null}catch(G){const Z=G instanceof Error?G.message:`Failed to fetch market ${Y}`;throw I(`market_${Y}`,Z),G}},[y,m,I]),j=T.useCallback(async(Y,ee=!0,G=20)=>{if(!e.current)throw new Error("InfoClient not initialized");const Z=`orderbook_${Y}`;M(Z,!0),I(Z,null);try{const pe=await e.current.getOrderbook(Y,ee,G);if(pe&&(pe.bids||pe.asks)){const re=ce=>ce.map(([Pe,Ee])=>[typeof Pe=="string"?parseFloat(Pe):Pe,typeof Ee=="string"?parseFloat(Ee):Ee]),le={bids:re(pe.bids||[]),asks:re(pe.asks||[]),timestamp:Date.now()};return w(Y,le),le}return null}catch(pe){const re=pe instanceof Error?pe.message:`Failed to fetch orderbook for market ${Y}`;throw I(Z,re),pe}finally{M(Z,!1)}},[w,M,I]),N=T.useCallback(async Y=>{if(!e.current)throw new Error("InfoClient not initialized");const ee=`ticker_${Y}`;M(ee,!0),I(ee,null);try{const G=await e.current.getMarketStats(Y);if(G){const Z={marketId:Y,...G,timestamp:Date.now()};return S(Y,Z),Z}return null}catch(G){const Z=G instanceof Error?G.message:`Failed to fetch ticker for market ${Y}`;throw I(ee,Z),G}finally{M(ee,!1)}},[S,M,I]),D=T.useCallback(async(Y,ee=100)=>{if(!e.current)throw new Error("InfoClient not initialized");const G=`trades_${Y}`;M(G,!0),I(G,null);try{const Z=await e.current.getRecentTrades(Y,ee);if(Z){const re=(Array.isArray(Z)?Z:[]).map(le=>m7e(le,Y));return E(Y,re),re}return null}catch(Z){const pe=Z instanceof Error?Z.message:`Failed to fetch trades for market ${Y}`;throw I(G,pe),Z}finally{M(G,!1)}},[E,M,I]);T.useEffect(()=>{n.autoFetchMarkets&&r.length===0&&!c&&$().catch(console.error)},[n.autoFetchMarkets,r.length,c,$]);const H=l?r.find(Y=>{var ee;return Y.market_id===l||((ee=Y.id)==null?void 0:ee.toString())===l}):null,U=H?H.moniker||H.symbol||(H.baseAsset&&H.quoteAsset?`${H.baseAsset}-${H.quoteAsset}`:null):null,X=T.useCallback(Y=>{const ee=r.find(G=>{var Z;return G.market_id===Y||((Z=G.id)==null?void 0:Z.toString())===Y});return ee?ee.moniker||ee.symbol||(ee.baseAsset&&ee.quoteAsset?`${ee.baseAsset}/${ee.quoteAsset}`:null):null},[r]);return{markets:r,marketsById:i,orderbooks:s,tickers:o,recentTrades:a,selectedMarketId:l,selectedMarket:H,selectedMarketSymbol:U,loadingMarkets:c,loadingOrderbooks:u,loadingTickers:d,loadingTrades:h,isLoading:Y=>{if(Y==="markets")return c;if(Y.startsWith("orderbook_")){const ee=Y.split("_").slice(1).join("_");return u.has(ee)}if(Y.startsWith("ticker_")){const ee=Y.split("_").slice(1).join("_");return d.has(ee)}if(Y.startsWith("trades_")){const ee=Y.split("_").slice(1).join("_");return h.has(ee)}return!1},errors:f,getError:Y=>f.get(Y),getMarket:b,getMarketBySymbol:y,getSymbolByMarketId:X,getOrderbook:_,getTicker:C,getRecentTrades:A,fetchMarkets:$,fetchMarket:z,fetchMarketBySymbol:R,fetchOrderbook:j,fetchTicker:N,fetchRecentTrades:D,updateOrderbook:x,clearCache:F,clearError:O,setSelectedMarketId:v,infoClient:e.current}}function ype(n){const[e,r]=T.useState(null),[i,s]=T.useState(null),[o,a]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState(null),[h,f]=T.useState(n4),[p,m]=T.useState(0),[b,y]=T.useState(0),[v,w]=T.useState(0),[_,x]=T.useState(BNe),[S,C]=T.useState(WNe),[E,A]=T.useState(fw),[M,I]=T.useState(0),[O,F]=T.useState(0),[$,z]=T.useState(n.marketId?String(n.marketId):"1");T.useEffect(()=>{n.marketId?z(String(n.marketId)):z("1")},[n.marketId]);const{markets:R}=Xl({baseURL:n.baseURL,autoFetchMarkets:!0}),{maxSizeLimit:j,minSizeLimit:N}=T.useMemo(()=>{if(!$)return{maxSizeLimit:void 0,minSizeLimit:void 0};const Ee=R.find(V=>V.market_id===$);return Ee?{maxSizeLimit:Ee.maxSizeLimit||40,minSizeLimit:Ee.minSizeLimit||.001}:{maxSizeLimit:void 0,minSizeLimit:void 0}},[$,R]);T.useEffect(()=>{n.selectedBucketBalance!==void 0&&I(n.selectedBucketBalance)},[n.selectedBucketBalance]),T.useEffect(()=>{const Ee=new ah({baseURL:n.baseURL,mnemonic:n.mnemonic}),V=new Ir({baseURL:n.baseURL});r(Ee),s(V),Ee.initialize().then(()=>{a(!0)}).catch(Ae=>{console.error("Failed to initialize exchange client:",Ae),d({success:!1,error:`Initialization failed: ${Ae.message}`})})},[n.baseURL,n.mnemonic]);const D=T.useCallback(async()=>{if(!(!i||!e||!o)&&n.selectedBucketBalance===void 0)try{const Ee=e.getWalletAddress(),V=await i.getBalanceDecimal(Ee,"MORM");V&&V.available_balance!==void 0&&I(Wt(V.available_balance))}catch(Ee){console.error("Failed to load balance:",Ee)}},[i,e,o,n.selectedBucketBalance]);T.useEffect(()=>{o&&i&&e&&n.selectedBucketBalance===void 0&&D()},[o,i,e,n.selectedBucketBalance,D]);const H=T.useCallback(async()=>{if(i)try{const Ee=await i.getMarketStats($);if(Ee&&Ee.last_price){const V=Wt(Ee.last_price);F(V)}}catch(Ee){console.error("Failed to load market price:",Ee)}},[i,$]);T.useEffect(()=>{o&&i&&H()},[o,i,H]);const U=T.useCallback(()=>h==="market"?n.tradePrice&&n.tradePrice>0?n.tradePrice:O:v||0,[h,v,O,n.tradePrice]),X=T.useCallback(()=>M*_,[M,_]),Y=T.useCallback(()=>{let Ee;if(b>0)Ee=b;else{const Ae=X()*p/100,Qe=U();if(Qe<=0)return 0;Ee=Ae/Qe}return N!==void 0&&N>0&&Ee<N?0:j!==void 0&&j>0&&Ee>j?j:Ee},[b,p,X,U,j,N]),ee=T.useCallback(()=>{const Ee=Y(),V=U();return Ee*V},[Y,U]),G=T.useCallback(()=>{const Ee=Y(),V=U(),Ae=Ee*V;return z7(Ae)},[Y,U]),Z=T.useCallback(()=>{const Ee=G();return _<=0?0:Math.floor(Ee/_)},[G,_]),pe=T.useCallback(async()=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}const Ee=Y();if(Ee<=0){d({success:!1,error:"Invalid order size"});return}const V=U();if(V<=0){d({success:!1,error:h==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(h==="limit"&&!v){d({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){d({success:!1,error:"Bucket ID is required for order placement"});return}c(!0),d(null);try{const Ae=Cn(_.toString()),Qe=await e.placeOrder({marketId:$,bucketId:n.selectedBucketId,side:"BUY",orderType:h,price:V,quantity:Ee,leverage:Ae});d({success:!0,orderId:Qe.order_id,message:"Buy order placed successfully"}),await D()}catch(Ae){d({success:!1,error:Ae instanceof Error?Ae.message:"Unknown error"})}finally{c(!1)}},[e,o,Y,U,h,v,_,$,n.selectedBucketId,D]),re=T.useCallback(async()=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}const Ee=Y();if(Ee<=0){d({success:!1,error:"Invalid order size"});return}const V=U();if(V<=0){d({success:!1,error:h==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(h==="limit"&&!v){d({success:!1,error:"Price is required for limit orders"});return}if(!n.selectedBucketId||n.selectedBucketId.trim()===""){d({success:!1,error:"Bucket ID is required for order placement"});return}c(!0),d(null);try{const Ae=Cn(_.toString()),Qe=await e.placeOrder({marketId:$,bucketId:n.selectedBucketId,side:"SELL",orderType:h,price:V,quantity:Ee,leverage:Ae});d({success:!0,orderId:Qe.order_id,message:"Sell order placed successfully"}),await D()}catch(Ae){d({success:!1,error:Ae instanceof Error?Ae.message:"Unknown error"})}finally{c(!1)}},[e,o,Y,U,h,v,_,$,n.selectedBucketId,D]),le=T.useCallback(async(Ee,V)=>{if(!e||!o){d({success:!1,error:"Exchange client not ready"});return}if(!$||$.trim()===""){d({success:!1,error:"Market ID is required"});return}if(Ee<=0){d({success:!1,error:"Leverage must be greater than 0"});return}if(!V.bucketId||V.bucketId.trim()===""){d({success:!1,error:"Bucket ID is required"});return}c(!0),d(null);try{const Ae=await e.changeLeverage({marketId:$,newLeverage:Ee,bucketId:V.bucketId,leverageType:V.leverageType,reason:V.reason});x(Ee),d({success:!0,message:"Leverage changed successfully",orderId:Ae.txhash}),await D()}catch(Ae){d({success:!1,error:Ae instanceof Error?Ae.message:"Unknown error"})}finally{c(!1)}},[e,o,$,D]),ce=T.useCallback(Ee=>{const V=X(),Ae=V*Ee/100,Qe=U();let ze=Qe>0?Ae/Qe:0;if(N!==void 0&&N>0&&ze<N&&(ze=0),j!==void 0&&j>0&&ze>j)if(ze=j,ze>0&&V>0&&Qe>0){const qe=ze*Qe/V*100;m(Math.min(100,Math.max(0,qe)))}else m(Ee);else m(Ee);y(ze)},[X,U,j,N]),Pe=T.useCallback(Ee=>{let V=isNaN(Ee)||Ee<0?0:Ee;j!==void 0&&j>0&&V>j&&(V=j),y(V);const Ae=X(),Qe=U();if(V>0&&Ae>0&&Qe>0){const ze=V*Qe/Ae*100;m(Math.min(100,Math.max(0,ze)))}else m(0)},[X,U,j]);return{orderType:h,setOrderType:f,fundPercent:p,sizeInput:b,price:v,leverage:_,positionMode:S,marginMode:E,availableBalance:M,currentPrice:O,marketId:$,isReady:o,loading:l,result:u,setFundPercent:ce,setSizeInput:Pe,setPrice:w,setLeverage:x,setPositionMode:C,setMarginMode:A,setMarketId:z,placeBuyOrder:pe,placeSellOrder:re,changeLeverage:le,loadBalance:D,loadMarketPrice:H,calculateSize:Y,calculateSizeUSD:ee,calculateValue:G,calculateMargin:Z,getOrderPrice:U,getAvailableTradeAmount:X}}function cq(n,e){return{asks:[],bids:[],spread:0,midPrice:0,market_id:n.market_id||e||"",sequence_id:n.sequence_id||"",first_update_id:n.first_update_id||0,last_update_id:n.last_update_id||0,checksum:n.checksum||"",timestamp:n.timestamp||""}}function im(n){return n.map(([e,r])=>[typeof e=="string"?parseFloat(e):e,typeof r=="string"?parseFloat(r):r])}function sm(n){const e=[...n].sort((i,s)=>s[0]-i[0]);let r=0;return e.map(([i,s])=>(r+=s,{price:i,size:s,cumulative:r,flash:null}))}function I9(n){const e=n.useWebSocket!==!1,[r,i]=T.useState([]),[s,o]=T.useState([]),[a,l]=T.useState(0),[c,u]=T.useState(0),[d,h]=T.useState(""),[f,p]=T.useState(""),[m,b]=T.useState(0),[y,v]=T.useState(0),[w,_]=T.useState(""),[x,S]=T.useState(""),[C,E]=T.useState(!0),[A,M]=T.useState(null),[I,O]=T.useState(!1),[F,$]=T.useState(null),z=T.useRef(null),R=T.useRef(null),j=T.useRef(!1),N=T.useRef(null),D=T.useRef(null),H=T.useRef(null),U=T.useRef(new Map),X=T.useRef({asks:[],bids:[],spread:0,midPrice:0,market_id:"",sequence_id:"",first_update_id:0,last_update_id:0,checksum:"",timestamp:""});T.useEffect(()=>{X.current={asks:r,bids:s,spread:a,midPrice:c,market_id:d,sequence_id:f,first_update_id:m,last_update_id:y,checksum:w,timestamp:x}},[r,s,a,c,d,f,m,y,w,x]);const Y=T.useCallback((ce,Pe)=>{const Ee=new Map,V=new Map,Ae=new Map,Qe=new Map;ce.asks.forEach(q=>{q.size>0&&Ee.set(q.price,q.size)}),ce.bids.forEach(q=>{q.size>0&&V.set(q.price,q.size)}),Pe.asks&&Pe.asks.forEach(([q,te])=>{if(typeof q!="number"||typeof te!="number"||isNaN(q)||isNaN(te)||q<=0||te<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:q,size:te});return}const ve=Ee.get(q)??0,me=Ee.has(q);te===0?me&&Ee.delete(q):me?ve!==te&&(Ee.set(q,te),Ae.set(q,te>ve?"up":"down")):(Ee.set(q,te),Ae.set(q,"up"))}),Pe.bids&&Pe.bids.forEach(([q,te])=>{if(typeof q!="number"||typeof te!="number"||isNaN(q)||isNaN(te)||q<=0||te<0){console.warn("[useOrderbook] Invalid delta entry skipped:",{price:q,size:te});return}const ve=V.get(q)??0,me=V.has(q);te===0?me&&V.delete(q):me?ve!==te&&(V.set(q,te),Qe.set(q,te>ve?"up":"down")):(V.set(q,te),Qe.set(q,"up"))});const st=Array.from(Ee.entries()),ze=Array.from(V.entries()),wt=sm(st),qe=sm(ze),Je=Date.now();if(wt.forEach(q=>{const te=Ae.get(q.price);te?(q.flash=te,U.current.set(`ask-${q.price}`,Je)):q.flash=null}),qe.forEach(q=>{const te=Qe.get(q.price);te?(q.flash=te,U.current.set(`bid-${q.price}`,Je)):q.flash=null}),Ae.size>0||Qe.size>0){const q=wt.filter(ve=>ve.flash!==null).length,te=qe.filter(ve=>ve.flash!==null).length;(q!==Ae.size||te!==Qe.size)&&console.warn("[useOrderbook] Flash indicator mismatch:",{askChangesCount:Ae.size,appliedAskFlashes:q,bidChangesCount:Qe.size,appliedBidFlashes:te})}const yt=n.maxDepth||100,ct=wt.slice(0,yt),Ze=qe.slice(0,yt);let Ve=0,rt=0;if(ct.length>0&&Ze.length>0){const q=ct[ct.length-1].price,te=Ze[0].price;Ve=q-te,rt=(q+te)/2}return{asks:ct,bids:Ze,spread:Ve,midPrice:rt,market_id:ce.market_id,sequence_id:ce.sequence_id,first_update_id:ce.first_update_id,last_update_id:ce.last_update_id,checksum:ce.checksum,timestamp:ce.timestamp}},[n.maxDepth]),ee=T.useCallback(async(ce,Pe={})=>{if(!z.current){Pe.errorMessage&&console.error(Pe.errorMessage);return}const{setLoadingState:Ee=!1,updateMarketIdRef:V=!1}=Pe;Ee&&(E(!0),M(null));try{const Ae=await z.current.getOrderbook(ce,!0);if(Ae&&(Ae.bids||Ae.asks)){const Qe=im(Ae.asks||[]),st=im(Ae.bids||[]),ze=sm(Qe),wt=sm(st),qe=n.maxDepth||100,Je=ze.slice(0,qe),yt=wt.slice(0,qe);let ct=0,Ze=0;if(Je.length>0&&yt.length>0){const rt=Je[Je.length-1].price,q=yt[0].price;ct=rt-q,Ze=(rt+q)/2}V&&(N.current=ce);const Ve=X.current;i(Je),o(yt),l(ct),u(Ze),h(ce),p(Ve.sequence_id||""),b(Ve.first_update_id||0),v(Ve.last_update_id||0),_(Ve.checksum||""),S(Ve.timestamp||new Date().toISOString())}}catch(Ae){const Qe=Pe.errorMessage||(Ae instanceof Error?Ae.message:"Failed to load orderbook");Ee?M(Qe):console.error(Qe)}finally{Ee&&E(!1)}},[n.maxDepth,im]),G=T.useCallback(async()=>{const ce=X.current,Pe=cq(ce);i(Pe.asks),o(Pe.bids),l(Pe.spread),u(Pe.midPrice),await ee(n.marketId,{setLoadingState:!1,updateMarketIdRef:!1})},[n.marketId,ee]),Z=T.useCallback(async()=>{const ce=X.current,Pe=cq(ce,n.marketId);i(Pe.asks),o(Pe.bids),l(Pe.spread),u(Pe.midPrice),h(Pe.market_id),await ee(n.marketId,{setLoadingState:!0,updateMarketIdRef:!1,errorMessage:"Failed to load orderbook"})},[n.marketId,ee]),pe=T.useCallback(async ce=>{await ee(ce,{setLoadingState:!1,updateMarketIdRef:!0,errorMessage:`Failed to fetch snapshot for market ${ce}`}),console.log(`[useOrderbook] Fetched snapshot for market ${ce} and updated orderbook`)},[ee]),re=T.useCallback((ce,Pe)=>{if(ce.snapshot===!0||ce.type==="snapshot"){const V=im(ce.asks||[]),Ae=im(ce.bids||[]),Qe=sm(V),st=sm(Ae),ze=n.maxDepth||100,wt=Qe.slice(0,ze),qe=st.slice(0,ze);let Je=0,yt=0;if(wt.length>0&&qe.length>0){const ct=wt[wt.length-1].price,Ze=qe[0].price;Je=ct-Ze,yt=(ct+Ze)/2}return{asks:wt,bids:qe,spread:Je,midPrice:yt,market_id:ce.market_id||Pe.market_id,sequence_id:ce.sequence_id||Pe.sequence_id,first_update_id:ce.first_update_id??Pe.first_update_id,last_update_id:ce.last_update_id??Pe.last_update_id,checksum:ce.checksum||Pe.checksum,timestamp:ce.timestamp||Pe.timestamp,snapshot:ce.snapshot}}else{const V=Y(Pe,{bids:ce.bids,asks:ce.asks});return{...V,market_id:ce.market_id||V.market_id,sequence_id:ce.sequence_id||V.sequence_id,first_update_id:ce.first_update_id??V.first_update_id,last_update_id:ce.last_update_id??V.last_update_id,checksum:ce.checksum||V.checksum,timestamp:ce.timestamp||V.timestamp}}},[Y,n.maxDepth,im]),le=T.useCallback(async ce=>{if(!ce||!ce.bids&&!ce.asks){console.log("[useOrderbook] Invalid data: missing bids and asks");return}if(!ce.market_id||ce.sequence_id===void 0){console.log("[useOrderbook] Rejected: not multi-feed format (missing market_id or sequence_id)",{hasMarketId:!!ce.market_id,hasSequenceId:ce.sequence_id!==void 0});return}const Pe=N.current||n.marketId;ce.market_id!==Pe&&(console.log(`[useOrderbook] Received update for market ${ce.market_id}, current market is ${Pe}. Fetching snapshot...`),await pe(ce.market_id));const Ee={market_id:ce.market_id,sequence_id:ce.sequence_id,first_update_id:ce.first_update_id,last_update_id:ce.last_update_id,checksum:ce.checksum,timestamp:ce.timestamp,bids:ce.bids.map(([Qe,st])=>[Wt(Qe),Wt(st)]),asks:ce.asks.map(([Qe,st])=>[Wt(Qe),Wt(st)]),snapshot:ce.snapshot===!0};console.log("[useOrderbook] Processing orderbook update",{marketId:Ee.market_id,sequenceId:Ee.sequence_id,bidsCount:Ee.bids.length,asksCount:Ee.asks.length,isSnapshot:Ee.snapshot,bestBid:Ee.bids.length>0?Ee.bids[0][0]:null,bestAsk:Ee.asks.length>0?Ee.asks[Ee.asks.length-1][0]:null});const V=X.current,Ae=re(Ee,V);console.log("[useOrderbook] Orderbook updated successfully",{sequenceId:Ee.sequence_id,bidsCount:Ae.bids.length,asksCount:Ae.asks.length,spread:Ae.spread,midPrice:Ae.midPrice,bestBid:Ae.bids.length>0?Ae.bids[0].price:null,bestAsk:Ae.asks.length>0?Ae.asks[Ae.asks.length-1].price:null}),i(Ae.asks),o(Ae.bids),l(Ae.spread),u(Ae.midPrice),h(Ae.market_id),p(Ae.sequence_id),b(Ae.first_update_id),v(Ae.last_update_id),_(Ae.checksum),S(Ae.timestamp)},[re,pe,n.marketId]);return T.useEffect(()=>{const ce=new Ir({baseURL:n.baseURL});z.current=ce,R.current=n.subscriptionClient,N.current===null&&(N.current=n.marketId);const Pe=()=>{const V=R.current;if(V&&V.isConnected()){const Ae=N.current!==null?N.current:n.marketId;(!j.current||N.current!==Ae)&&(j.current&&N.current!==null&&N.current!==Ae&&V.unsubscribeMultiFeedSubChannel("orderbook",le),V.subscribeMultiFeedSubChannel("orderbook",Ae,le),j.current=!0,N.current=Ae)}},Ee=n.subscriptionClient;if(e){Ee.isConnected()?(O(!0),$(null),Pe()):($("WebSocket not connected. Using HTTP polling."),O(!1),z.current&&D.current===null&&(G(),D.current=window.setInterval(()=>{G()},5e3)));const Qe=Ee.onStateChange(st=>{st===Dt.Connected?(O(!0),$(null),D.current!==null&&(clearInterval(D.current),D.current=null),j.current&&Pe()):(st===Dt.Disconnected||st===Dt.Reconnecting)&&(O(!1),j.current=!1,$("WebSocket disconnected. Using static data."))});return()=>{const st=N.current;H.current!==null&&(clearTimeout(H.current),H.current=null),j.current=!1,N.current=null,Qe&&Qe(),R.current&&st!==null&&R.current.unsubscribeMultiFeedSubChannel("orderbook",le)}}else return O(!1),$(null),z.current&&D.current===null&&(G(),D.current=window.setInterval(()=>{G()},5e3)),()=>{D.current!==null&&(clearInterval(D.current),D.current=null),j.current=!1,N.current=null}},[n.baseURL,n.subscriptionClient,e]),T.useEffect(()=>{if(!z.current)return;const ce=N.current;return e&&R.current&&ce!==null&&ce!==n.marketId&&R.current.isConnected()&&(R.current.unsubscribeMultiFeedSubChannel("orderbook",le),j.current=!1),i([]),o([]),l(0),u(0),h(n.marketId),p(""),b(0),v(0),_(""),S(""),E(!0),M(null),$(null),Z(),e&&R.current&&R.current.isConnected()&&(R.current.subscribeMultiFeedSubChannel("orderbook",n.marketId,le,{precision_size:"",delta_only:!0,row_count:20}),j.current=!0),N.current=n.marketId,()=>{e&&R.current&&R.current.isConnected()&&N.current===n.marketId&&(R.current.unsubscribeMultiFeedSubChannel("orderbook",le),j.current=!1)}},[n.marketId,e,le]),T.useEffect(()=>(D.current!==null&&(clearInterval(D.current),D.current=null),(!e||!I&&e)&&z.current&&!n.disablePolling&&(G(),D.current=window.setInterval(()=>{G()},3e4)),()=>{D.current!==null&&(clearInterval(D.current),D.current=null)}),[I,e,n.marketId,n.disablePolling,G]),T.useEffect(()=>{const ce=setInterval(()=>{const Pe=Date.now(),Ee=500;let V=!1;const Ae=r.map(st=>{const ze=`ask-${st.price}`,wt=U.current.get(ze);return st.flash&&wt&&Pe-wt>=Ee?(V=!0,U.current.delete(ze),{...st,flash:null}):st}),Qe=s.map(st=>{const ze=`bid-${st.price}`,wt=U.current.get(ze);return st.flash&&wt&&Pe-wt>=Ee?(V=!0,U.current.delete(ze),{...st,flash:null}):st});V&&(i(Ae),o(Qe))},100);return()=>clearInterval(ce)},[r,s]),{asks:r,bids:s,spread:a,midPrice:c,market_id:d,sequence_id:f,first_update_id:m,last_update_id:y,checksum:w,timestamp:x,loading:C,error:A,isConnected:I,wsError:F,refresh:Z}}function rE(n){const{getSymbolByMarketId:e}=Xl({baseURL:n.baseURL,autoFetchMarkets:!0}),[r,i]=T.useState(null),[s,o]=T.useState(null),[a,l]=T.useState([]),[c,u]=T.useState(!0),[d,h]=T.useState(null),[f,p]=T.useState(!1),[m,b]=T.useState(null),y=T.useRef(null),v=T.useRef(null),w=T.useRef(!1),_=T.useRef(!1),x=T.useRef(null),S=T.useRef(null),C=T.useRef(null),E=T.useCallback(async()=>{if(!y.current){console.warn("[useTradePrice] pollRecentTrades called but infoClientRef.current is null");return}if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] pollRecentTrades called but marketId is empty"),h("Market ID is required but was not provided");return}try{const $=n.limit||100,z=await y.current.getRecentTrades(n.marketId,$);if(z&&Array.isArray(z)&&z.length>0){const R=i4(z);l(R);const N=[...z].sort((H,U)=>{const X=Ac(H.timestamp);return Ac(U.timestamp)-X})[0],D={market_id:n.marketId||N.market_id||"",price:Wt(N.price),quantity:Wt(N.quantity),timestamp:Ac(N.timestamp),is_buyer_maker:!1,trade_id:N.trade_id||""};i(H=>(H&&typeof H.price=="number"&&(D.price>H.price?b("up"):D.price<H.price&&b("down")),setTimeout(()=>b(null),500),D))}else console.warn("[useTradePrice] Polling returned no trades or invalid data:",z),l([])}catch($){h($ instanceof Error?$.message:"Failed to load recent trades"),console.error("[useTradePrice] Failed to poll recent trades:",$)}},[n.marketId,n.limit]),A=T.useCallback(async()=>{if(y.current){if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] initializeRecentTrades called but marketId is empty"),u(!1),h("Market ID is required but was not provided");return}u(!0),h(null);try{const $=n.limit||100,z=await y.current.getRecentTrades(n.marketId,$);if(z&&Array.isArray(z)&&z.length>0){const R=i4(z);l(R);const N=[...z].sort((H,U)=>{const X=Ac(H.timestamp);return Ac(U.timestamp)-X})[0],D={market_id:n.marketId||N.market_id||"",price:Wt(N.price),quantity:Wt(N.quantity),timestamp:Ac(N.timestamp),is_buyer_maker:!1,trade_id:N.trade_id||""};i(D)}else console.warn("[useTradePrice] Initialization returned no trades or invalid data:",z),l([])}catch($){h($ instanceof Error?$.message:"Failed to load recent trades"),console.error("Failed to initialize recent trades:",$),l([])}finally{u(!1)}}},[n.marketId,n.limit]),M=T.useCallback($=>{if(console.debug("[useTradePrice] handleLastPriceUpdate called with data:",$),!$){console.warn("[useTradePrice] handleLastPriceUpdate received null/undefined data");return}if(!$.price||$.price===""){console.warn("[useTradePrice] handleLastPriceUpdate received data without price field:",$);return}$.derived===!0&&console.debug("[useTradePrice] Received derived price update (not an actual trade), will update lastPrice but not recentTrades");const z=Wt($.price),R=Wt($.quantity);if(isNaN(z)){console.warn("[useTradePrice] Invalid price value:",$.price);return}const j=Il($.timestamp);i(N=>{wm(N)&&typeof N.price=="number"&&(z>N.price?b("up"):z<N.price&&b("down")),setTimeout(()=>b(null),500);const D={market_id:n.marketId||$.market_id||"",price:z,quantity:R,timestamp:j,is_buyer_maker:$.is_buyer_maker||!1,trade_id:$.trade_id||""};return wm(D)||console.error("[useTradePrice] Invalid LastPriceData structure:",D),console.debug("[useTradePrice] Setting lastPrice to:",D),console.debug("[useTradePrice] Type check - isLastPriceData:",wm(D)),D}),$.derived||l(N=>{const D={time:j,size:R,price:z,is_buyer_maker:$.is_buyer_maker||!1};if(N.some(ee=>ee.time===j&&ee.price===z&&ee.size===R))return console.debug("[useTradePrice] Trade already exists in recentTrades, skipping duplicate"),N;const U=[D,...N],X=n.limit||100,Y=U.slice(0,X);return console.debug("[useTradePrice] Added new trade to recentTrades:",D),Y})},[n.marketId,n.limit,e]),I=T.useCallback($=>{if(!$){console.warn("[useTradePrice] handleMarkPriceUpdate received null/undefined data");return}if($.mark_price===void 0||$.mark_price===null){console.warn("[useTradePrice] handleMarkPriceUpdate received data without mark_price field:",$);return}const z=Wt($.mark_price);if(isNaN(z)){console.warn("[useTradePrice] Invalid mark_price value:",$.mark_price);return}const R=e(n.marketId)||"",j={symbol:$.symbol||R,mark_price:z,timestamp:Il($.timestamp)};AS(j)||console.error("[useTradePrice] Invalid MarkPriceData structure:",j),o(j)},[n.marketId,e]);T.useEffect(()=>{const $=new Ir({baseURL:n.baseURL});y.current=$;const z=n.subscriptionClient;A(),v.current=z;const R=()=>{if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] Cannot subscribe: marketId is empty"),h("Market ID is required but was not provided");return}if(!z.isReadyForSubscriptions()){if(z.isConnected()&&!z.isReadyForSubscriptions()){const D=z.getAuthState();D==="pending"?console.debug("[useTradePrice] Waiting for authentication to complete..."):D==="failed"&&(console.error("[useTradePrice] Authentication failed - cannot subscribe to trade price"),h("Authentication failed - cannot subscribe to trade price"))}return}if(!w.current||!_.current){if(w.current&&v.current)try{v.current.unsubscribeMultiFeedSubChannel("last_price",M)}catch(D){console.warn("[useTradePrice] Error unsubscribing from previous last_price subscription:",D)}if(_.current&&v.current)try{v.current.unsubscribeMultiFeedSubChannel("mark_price",I)}catch(D){console.warn("[useTradePrice] Error unsubscribing from previous mark_price subscription:",D)}try{n.marketId&&(z.subscribeMultiFeedSubChannel("last_price",n.marketId,M),w.current=!0,z.subscribeMultiFeedSubChannel("mark_price",n.marketId,I),_.current=!0,console.debug("[useTradePrice] Subscribed to mark_price:",n.marketId)),u(!1)}catch(D){console.error("[useTradePrice] Failed to subscribe:",D),h(D instanceof Error?D.message:"Failed to subscribe to trade price data"),w.current=!1,_.current=!1,u(!1)}}};p(z.isConnected()),u(!1),z.isReadyForSubscriptions()&&R();const j=z.onStateChange(N=>{console.debug("[useTradePrice] WebSocket state changed to:",N),p(N===Dt.Connected),N===Dt.Connected?(console.debug("[useTradePrice] WebSocket connected - stopping polling if active"),R()):(N===Dt.Disconnected||N===Dt.Reconnecting)&&console.debug("[useTradePrice] WebSocket disconnected/reconnecting - polling effect should start polling")});return()=>{if(w.current=!1,_.current=!1,j&&j(),v.current){try{v.current.unsubscribeMultiFeedSubChannel("last_price",M)}catch(N){console.warn("[useTradePrice] Error unsubscribing during cleanup:",N)}if(n.marketId)try{v.current.unsubscribeMultiFeedSubChannel("mark_price",I)}catch(N){console.warn("[useTradePrice] Error unsubscribing mark_price during cleanup:",N)}}}},[n.subscriptionClient,n.baseURL,n.marketId,M,I]),T.useEffect(()=>{const $=n.subscriptionClient;if(y.current&&$&&v.current){if(!n.marketId||n.marketId.trim()===""){console.warn("[useTradePrice] Cannot re-initialize: marketId is empty"),h("Market ID is required but was not provided");return}const z=e(n.marketId)||"BTC/USDC",R=S.current,j=C.current;if($.isConnected()&&R!==null&&(R!==n.marketId||j!==z))try{v.current.unsubscribeMultiFeedSubChannel("last_price",M),v.current.unsubscribeMultiFeedSubChannel("mark_price",I),w.current=!1,_.current=!1}catch(N){console.warn("[useTradePrice] Error unsubscribing from previous market:",N)}if(A(),$.isReadyForSubscriptions())try{v.current.subscribeMultiFeedSubChannel("last_price",n.marketId,M),w.current=!0,console.debug("[useTradePrice] Subscribed to last_price:",{marketId:n.marketId}),v.current.subscribeMultiFeedSubChannel("mark_price",n.marketId,I),_.current=!0,console.debug("[useTradePrice] Subscribed to mark_price:",{marketId:n.marketId})}catch(N){console.error("[useTradePrice] Failed to re-subscribe:",N),h(N instanceof Error?N.message:"Failed to subscribe to trade price data"),w.current=!1,_.current=!1}S.current=n.marketId,C.current=z}},[n.subscriptionClient,n.marketId]),T.useEffect(()=>(console.debug("[useTradePrice] Polling effect triggered - isConnected:",f,"marketId:",n.marketId,"disablePolling:",n.disablePolling),x.current!==null&&(console.debug("[useTradePrice] Clearing existing polling interval (polling effect)"),clearInterval(x.current),x.current=null),!f&&y.current&&n.disablePolling===!1?(console.debug("[useTradePrice] Starting HTTP polling (WebSocket disconnected, marketId:",n.marketId,")"),E(),x.current=window.setInterval(()=>{E()},5e3),console.debug("[useTradePrice] HTTP polling interval set up (every 5 seconds)")):!f&&!y.current?console.warn("[useTradePrice] Cannot start polling: infoClientRef.current is null (isConnected:",f,")"):f?console.debug("[useTradePrice] WebSocket connected, polling not needed"):n.disablePolling!==!1&&console.debug("[useTradePrice] Polling disabled by config (default behavior)"),()=>{x.current!==null&&(console.debug("[useTradePrice] Cleaning up polling interval (polling effect cleanup)"),clearInterval(x.current),x.current=null)}),[f,n.marketId,n.disablePolling]);const{displayPrice:O,displayTimestamp:F}=T.useMemo(()=>{const $=wm(r)&&r.price!=null,z=AS(s)&&s.mark_price!=null;if($&&z){const R=r.timestamp||0,j=s.timestamp||0;return R>=j?{displayPrice:r.price,displayTimestamp:R}:{displayPrice:s.mark_price,displayTimestamp:j}}return $?{displayPrice:r.price,displayTimestamp:r.timestamp||0}:z?{displayPrice:s.mark_price,displayTimestamp:s.timestamp||0}:{displayPrice:null,displayTimestamp:null}},[r,s]);return{lastPrice:r,markPrice:s,displayPrice:O,displayTimestamp:F,recentTrades:a,loading:c,error:d,isConnected:f,priceChange:m,refresh:A,infoClient:y.current,isLastPriceData:wm,isMarkPriceData:AS}}const u_=["funding_rate","deviation","twap"],h3=n=>{if(n)return Array.isArray(n)?n[0]:n},f3=(n,e)=>`${n}-${e}`,p3=n=>(n==null?void 0:n.isReadyForSubscriptions())??!1;function vpe(n){const e=n.historyDepth??10,r=n.marketId,[i,s]=T.useState(void 0),[o,a]=T.useState(void 0),[l,c]=T.useState(void 0),[u,d]=T.useState(!0),[h,f]=T.useState(null),[p,m]=T.useState(!1),b=T.useRef(null),y=T.useRef(new Map),v=T.useRef(null),w=T.useRef(null),_=(M,I,O)=>F=>{console.debug(`[useRates] Received ${M} message for market ${r}:`,F),O($=>{if(I===1)return F;{const z=Array.isArray($)?$:$?[$]:[];return[F,...z].slice(0,I)}})},x=T.useCallback(()=>{if(!r){console.warn("[useRates] Cannot subscribe: marketId not provided");return}const M=b.current;if(!M){console.warn("[useRates] Cannot subscribe: client not available");return}if(!p3(M)){console.warn(`[useRates] Cannot subscribe to market ${r}: client not ready`);return}if(v.current===r&&u_.every($=>{const z=f3($,r);return y.current.has(z)})){console.debug(`[useRates] Already subscribed to all rate channels for market ${r}`);return}v.current&&v.current!==r&&S(!0);const I=[];for(const F of u_){const $=f3(F,r);if(y.current.has($))continue;let z;switch(F){case"funding_rate":z=_(F,e,s);break;case"deviation":z=_(F,e,a);break;case"twap":z=_(F,e,c);break}I.push({subChannel:F,callback:z,key:$})}const O=[];for(const{subChannel:F,callback:$,key:z}of I)try{y.current.set(z,$),M.subscribeMultiFeedSubChannel(F,r,$),console.debug(`[useRates] Subscribed to ${F} for market ${r}`)}catch(R){console.error(`[useRates] Failed to subscribe to ${F} for market ${r}:`,R),y.current.delete(z),O.push(R instanceof Error?R.message:`Failed to subscribe to ${F}`)}O.length>0?f(`Failed to subscribe to some rate channels: ${O.join(", ")}`):I.length>0&&(f(null),console.debug(`[useRates] Successfully subscribed to all rate channels (${u_.join(", ")}) for market ${r}`)),v.current=r},[r,e]),S=T.useCallback((M=!1)=>{const I=v.current;if(!I)return;const O=b.current;O&&(u_.forEach(F=>{const $=f3(F,I),z=y.current.get($);if(z){try{O.unsubscribeMultiFeedSubChannel(F,z)}catch(R){console.error(`[useRates] Failed to unsubscribe ${F} for ${I}:`,R)}y.current.delete($)}}),v.current=null,M&&(s(void 0),a(void 0),c(void 0),f(null)))},[]);T.useEffect(()=>{const M=n.subscriptionClient,I=r;b.current=M,d(!1),m(M.isConnected());const O=w.current;w.current=I,O&&O!==I&&(s(void 0),a(void 0),c(void 0),f(null));const F=()=>{if(!p3(M)){M.getAuthState()==="failed"&&f("Authentication failed - cannot subscribe to rates");return}x()};p3(M)&&I&&F();const $=M.onStateChange(z=>{m(z===Dt.Connected),z===Dt.Connected&&I&&F()});return()=>{$==null||$(),S(!0)}},[n.subscriptionClient,n.baseURL,r,x,S]);const C=T.useMemo(()=>h3(i),[i]),E=T.useMemo(()=>h3(o),[o]),A=T.useMemo(()=>h3(l),[l]);return{fundingRate:i,deviation:o,twap:l,latestFundingRate:C,latestDeviation:E,latestTWAP:A,getFundingRate:T.useCallback(()=>i,[i]),getLatestFundingRate:T.useCallback(()=>C,[C]),getDeviation:T.useCallback(()=>o,[o]),getLatestDeviation:T.useCallback(()=>E,[E]),getTWAP:T.useCallback(()=>l,[l]),getLatestTWAP:T.useCallback(()=>A,[A]),loading:u,error:h,isConnected:p}}function wpe(n){const e=n.useWebSocket!==!1,[r,i]=T.useState([]),[s,o]=T.useState(!0),[a,l]=T.useState(""),[c,u]=T.useState(!1),d=T.useRef(null),h=T.useRef(null),f=T.useRef(0),p=T.useRef(!1),m=T.useRef(null),b=T.useRef(null),y=T.useRef(n);y.current=n;const v=T.useCallback(async()=>{if(!d.current)return;const _=y.current;if(!_.walletAddress||_.walletAddress.trim()===""){l(""),i([]),o(!1);return}l("");try{const x=await eE(x9.http,()=>d.current.getPositions(_.walletAddress));if(Array.isArray(x)){const S=x.map(s4);i(C=>{if(C.length!==S.length)return S;const E=JSON.stringify(C),A=JSON.stringify(S);return E===A?C:S})}else i(S=>S.length===0?S:[])}catch(x){l(x instanceof Error?x.message:"Failed to load positions"),console.error("Failed to fetch positions after retries:",x)}finally{o(!1)}},[]),w=T.useCallback(_=>{if(_.market_id&&_.symbol){const x=s4(_);i(S=>{const C=S.findIndex(E=>E.positionId===x.positionId);if(C>=0){const E=[...S];E[C]=x;const A=JSON.stringify(S),M=JSON.stringify(E);return A===M?S:E}else return[...S,x]})}},[]);return T.useEffect(()=>{const _=new Ir({baseURL:n.baseURL,sessionToken:n.authToken});d.current=_,v();const x=n.subscriptionClient;if(e){h.current=x;const S=()=>{if(!x.isReadyForSubscriptions()){if(x.isConnected()&&!x.isReadyForSubscriptions()){const I=x.getAuthState();I==="pending"?console.debug("[usePositions] Waiting for authentication to complete..."):I==="failed"&&(console.error("[usePositions] Authentication failed - cannot subscribe to positions"),l("Authentication failed - cannot subscribe to positions"))}return}const E=n.marketId??"0",A=n.symbol??"USDC/USDC";if(!p.current||m.current!==E||b.current!==A){if(p.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("positions",w)}catch(I){console.warn("[usePositions] Error unsubscribing from previous positions subscription:",I)}try{x.subscribeMultiFeedSubChannel("positions",E,w,{symbol:A}),p.current=!0,m.current=E,b.current=A,o(!1),console.debug("[usePositions] Subscribed to positions:",{marketId:E,symbol:A})}catch(I){console.error("[usePositions] Failed to subscribe to positions:",I),l(I instanceof Error?I.message:"Failed to subscribe to positions"),p.current=!1,o(!1)}}};u(x.isConnected()),o(!1),x.isReadyForSubscriptions()&&S();const C=x.onStateChange(E=>{console.debug("[usePositions] WebSocket state changed to:",E),u(E===Dt.Connected),E===Dt.Connected?(S(),f.current!==null&&(clearInterval(f.current),f.current=0)):(E===Dt.Disconnected||E===Dt.Reconnecting)&&n.refreshInterval&&n.refreshInterval>0&&f.current===null&&(f.current=window.setInterval(()=>{v()},n.refreshInterval))});return()=>{if(C&&C(),f.current!==null&&(clearInterval(f.current),f.current=0),h.current&&p.current)try{h.current.unsubscribeMultiFeedSubChannel("positions",w)}catch(E){console.warn("[usePositions] Error unsubscribing during cleanup:",E)}p.current=!1,m.current=null,b.current=null}}else return n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>{v()},n.refreshInterval)),()=>{f.current!==null&&(clearInterval(f.current),f.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e]),{positions:r,loading:s,error:a,isConnected:c,refresh:v}}function M9(n){const e=n.useWebSocket!==!1,[r,i]=T.useState([]),[s,o]=T.useState(!0),[a,l]=T.useState(""),[c,u]=T.useState(!1),d=T.useRef(null),h=T.useRef(null),f=T.useRef(0),p=T.useRef(!1),m=T.useRef(null),b=T.useRef(null),y=T.useCallback(_=>{const x=w9(_)?_:v9(_);return Hk(x)},[]),v=T.useCallback(async()=>{if(d.current){l("");try{if(!n.walletAddress){l("Wallet address is required"),i([]);return}const _=await d.current.getBuckets(n.walletAddress),x=Array.isArray(_)?_:[];Array.isArray(_)||console.warn("[useBuckets] getBuckets returned non-array:",_);const S=x.map(y);i(C=>{if(C.length!==S.length)return S;const E=JSON.stringify(C),A=JSON.stringify(S);return E===A?C:S})}catch(_){const x=_ instanceof Error?_.message:"Failed to load buckets";l(x),console.error("Failed to fetch buckets:",_)}finally{o(!1)}}},[n.walletAddress,y]),w=T.useCallback(_=>{if(_.buckets&&Array.isArray(_.buckets)){const x=_.buckets.map(y);i(S=>{if(S.length!==x.length)return x;const C=JSON.stringify(S),E=JSON.stringify(x);return C===E?S:x}),o(!1)}},[y]);return T.useEffect(()=>{const _=new Ir({baseURL:n.baseURL,sessionToken:n.authToken});d.current=_,v();const x=n.subscriptionClient;if(e){h.current=x;const S=()=>{if(!x.isReadyForSubscriptions()){if(x.isConnected()&&!x.isReadyForSubscriptions()){const I=x.getAuthState();I==="pending"?console.debug("[useBuckets] Waiting for authentication to complete..."):I==="failed"&&(console.error("[useBuckets] Authentication failed - cannot subscribe to buckets"),l("Authentication failed - cannot subscribe to buckets"))}return}const E=String(n.marketId??"0"),A=n.symbol??"USDC/USDC";if(!p.current||m.current!==E||b.current!==A){if(p.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("buckets",w)}catch(I){console.warn("[useBuckets] Error unsubscribing from previous buckets subscription:",I)}try{x.subscribeMultiFeedSubChannel("buckets",E,w,{symbol:A}),p.current=!0,m.current=E,b.current=A,o(!1),console.debug("[useBuckets] Subscribed to buckets:",{marketId:E,symbol:A})}catch(I){console.error("[useBuckets] Failed to subscribe to buckets:",I),l(I instanceof Error?I.message:"Failed to subscribe to buckets"),p.current=!1,o(!1)}}};u(x.isConnected()),o(!1),x.isReadyForSubscriptions()&&S();const C=x.onStateChange(E=>{console.debug("[useBuckets] WebSocket state changed to:",E),u(E===Dt.Connected),E===Dt.Connected?(S(),f.current!==null&&(clearInterval(f.current),f.current=0)):(E===Dt.Disconnected||E===Dt.Reconnecting)&&n.refreshInterval&&n.refreshInterval>0&&f.current===null&&(f.current=window.setInterval(()=>{v()},n.refreshInterval))});return()=>{if(C&&C(),f.current!==null&&(clearInterval(f.current),f.current=0),h.current&&p.current)try{h.current.unsubscribeMultiFeedSubChannel("buckets",w)}catch(E){console.warn("[useBuckets] Error unsubscribing during cleanup:",E)}p.current=!1,m.current=null,b.current=null}}else return n.refreshInterval&&n.refreshInterval>0&&(f.current=window.setInterval(()=>{v()},n.refreshInterval)),()=>{f.current!==null&&(clearInterval(f.current),f.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e]),{buckets:r,loading:s,error:a,isConnected:c,refresh:v}}function g7e(n){const e=n.maxDataPoints||100,[r,i]=T.useState([]),[s,o]=T.useState(!0),[a,l]=T.useState(null),[c,u]=T.useState(!1),d=T.useRef(!1),h=T.useRef(null),f=T.useRef(null),p=T.useRef(null),m=T.useCallback(b=>{if(!b){console.warn("[useKline] handleKlineUpdate received null/undefined data");return}try{const y=Il(b.open_time,Date.now()),v=Il(b.close_time,y),w=Il(b.timestamp,y),_={market_id:n.marketId,symbol:b.symbol,interval:b.interval||n.interval,open_time:y,close_time:v,open:Wt(b.open),high:Wt(b.high),low:Wt(b.low),close:Wt(b.close),volume:Wt(b.volume),trade_count:b.trade_count||0,timestamp:w,raw:b};i(x=>{const S=[...x,_];return S.length>e?S.slice(-e):S})}catch(y){console.error("[useKline] Error processing kline update:",y),l(y instanceof Error?y.message:"Failed to process kline data")}},[n.marketId,n.interval,e]);return T.useEffect(()=>{const b=n.subscriptionClient,y=()=>{if(!b.isReadyForSubscriptions()){if(b.isConnected()&&!b.isReadyForSubscriptions()){const _=b.getAuthState();_==="pending"?console.debug("[useKline] Waiting for authentication to complete..."):_==="failed"&&(console.error("[useKline] Authentication failed - cannot subscribe to kline"),l("Authentication failed - cannot subscribe to kline"))}return}if(!d.current||h.current!==n.marketId||f.current!==n.interval||p.current!==(n.symbol||"BTC/USDC")){if(d.current)try{b.unsubscribeMultiFeedSubChannel("kline",m)}catch(_){console.warn("[useKline] Error unsubscribing from previous kline subscription:",_)}try{const _=n.symbol||"BTC/USDC";b.subscribeMultiFeedSubChannel("kline",n.marketId,m,{symbol:_,interval:n.interval}),d.current=!0,h.current=n.marketId,f.current=n.interval,p.current=_,o(!1),console.debug("[useKline] Subscribed to kline:",{marketId:n.marketId,symbol:_,interval:n.interval})}catch(_){console.error("[useKline] Failed to subscribe to kline:",_),l(_ instanceof Error?_.message:"Failed to subscribe to kline data"),d.current=!1,o(!1)}}};u(b.isConnected()),o(!1),b.isReadyForSubscriptions()&&y();const v=b.onStateChange(w=>{console.debug("[useKline] WebSocket state changed to:",w),u(w===Dt.Connected),w===Dt.Connected?y():w===Dt.Disconnected||Dt.Reconnecting});return()=>{if(v&&v(),b&&d.current)try{b.unsubscribeMultiFeedSubChannel("kline",m)}catch(w){console.warn("[useKline] Error unsubscribing during cleanup:",w)}d.current=!1,h.current=null,f.current=null,p.current=null}},[n.subscriptionClient,n.marketId,n.interval,n.symbol,m]),{klineData:r,loading:s,error:a,isConnected:c}}function b7e(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}const y7e=n=>{switch(n){case"success":return x7e;case"info":return S7e;case"warning":return _7e;case"error":return k7e;default:return null}},v7e=Array(12).fill(0),w7e=({visible:n,className:e})=>B.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},B.createElement("div",{className:"sonner-spinner"},v7e.map((r,i)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),x7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),k7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),C7e=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),E7e=()=>{const[n,e]=B.useState(document.hidden);return B.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),n};let c4=1;class A7e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:i,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:c4++,a=this.toasts.find(c=>c.id===o),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:i}),{...c,...e,id:o,dismissible:l,title:i}):c):this.addToast({title:i,...s,dismissible:l,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=i!==void 0,a;const l=s.then(async u=>{if(a=["resolve",u],B.isValidElement(u))o=!1,this.create({id:i,type:"default",message:u});else if(P7e(u)&&!u.ok){o=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:f,...m})}else if(u instanceof Error){o=!1;const h=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:f,...m})}else if(r.success!==void 0){o=!1;const h=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof h=="object"&&!B.isValidElement(h)?h:{message:h};this.create({id:i,type:"success",description:f,...m})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){o=!1;const d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,p=typeof d=="object"&&!B.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:h,...p})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(e,r)=>{const i=(r==null?void 0:r.id)||c4++;return this.create({jsx:e(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ts=new A7e,T7e=(n,e)=>{const r=(e==null?void 0:e.id)||c4++;return Ts.addToast({title:n,...e,id:r}),r},P7e=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",I7e=T7e,M7e=()=>Ts.toasts,O7e=()=>Ts.getActiveToasts(),vt=Object.assign(I7e,{success:Ts.success,info:Ts.info,warning:Ts.warning,error:Ts.error,custom:Ts.custom,message:Ts.message,promise:Ts.promise,dismiss:Ts.dismiss,loading:Ts.loading},{getHistory:M7e,getToasts:O7e});b7e("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function d_(n){return n.label!==void 0}const D7e=3,R7e="24px",N7e="16px",uq=4e3,j7e=356,B7e=14,L7e=45,F7e=200;function ul(...n){return n.filter(Boolean).join(" ")}function $7e(n){const[e,r]=n.split("-"),i=[];return e&&i.push(e),r&&i.push(r),i}const z7e=n=>{var e,r,i,s,o,a,l,c,u;const{invert:d,toast:h,unstyled:f,interacting:p,setHeights:m,visibleToasts:b,heights:y,index:v,toasts:w,expanded:_,removeToast:x,defaultRichColors:S,closeButton:C,style:E,cancelButtonStyle:A,actionButtonStyle:M,className:I="",descriptionClassName:O="",duration:F,position:$,gap:z,expandByDefault:R,classNames:j,icons:N,closeButtonAriaLabel:D="Close toast"}=n,[H,U]=B.useState(null),[X,Y]=B.useState(null),[ee,G]=B.useState(!1),[Z,pe]=B.useState(!1),[re,le]=B.useState(!1),[ce,Pe]=B.useState(!1),[Ee,V]=B.useState(!1),[Ae,Qe]=B.useState(0),[st,ze]=B.useState(0),wt=B.useRef(h.duration||F||uq),qe=B.useRef(null),Je=B.useRef(null),yt=v===0,ct=v+1<=b,Ze=h.type,Ve=h.dismissible!==!1,rt=h.className||"",q=h.descriptionClassName||"",te=B.useMemo(()=>y.findIndex(Ye=>Ye.toastId===h.id)||0,[y,h.id]),ve=B.useMemo(()=>{var Ye;return(Ye=h.closeButton)!=null?Ye:C},[h.closeButton,C]),me=B.useMemo(()=>h.duration||F||uq,[h.duration,F]),xe=B.useRef(0),fe=B.useRef(0),K=B.useRef(0),he=B.useRef(null),[se,ke]=$.split("-"),Re=B.useMemo(()=>y.reduce((Ye,Ne,Xe)=>Xe>=te?Ye:Ye+Ne.height,0),[y,te]),de=E7e(),_e=h.invert||d,Se=Ze==="loading";fe.current=B.useMemo(()=>te*z+Re,[te,Re]),B.useEffect(()=>{wt.current=me},[me]),B.useEffect(()=>{G(!0)},[]),B.useEffect(()=>{const Ye=Je.current;if(Ye){const Ne=Ye.getBoundingClientRect().height;return ze(Ne),m(Xe=>[{toastId:h.id,height:Ne,position:h.position},...Xe]),()=>m(Xe=>Xe.filter(ft=>ft.toastId!==h.id))}},[m,h.id]),B.useLayoutEffect(()=>{if(!ee)return;const Ye=Je.current,Ne=Ye.style.height;Ye.style.height="auto";const Xe=Ye.getBoundingClientRect().height;Ye.style.height=Ne,ze(Xe),m(ft=>ft.find(ot=>ot.toastId===h.id)?ft.map(ot=>ot.toastId===h.id?{...ot,height:Xe}:ot):[{toastId:h.id,height:Xe,position:h.position},...ft])},[ee,h.title,h.description,m,h.id,h.jsx,h.action,h.cancel]);const ae=B.useCallback(()=>{pe(!0),Qe(fe.current),m(Ye=>Ye.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{x(h)},F7e)},[h,x,m,fe]);B.useEffect(()=>{if(h.promise&&Ze==="loading"||h.duration===1/0||h.type==="loading")return;let Ye;return _||p||de?(()=>{if(K.current<xe.current){const ft=new Date().getTime()-xe.current;wt.current=wt.current-ft}K.current=new Date().getTime()})():(()=>{wt.current!==1/0&&(xe.current=new Date().getTime(),Ye=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),ae()},wt.current))})(),()=>clearTimeout(Ye)},[_,p,h,Ze,de,ae]),B.useEffect(()=>{h.delete&&(ae(),h.onDismiss==null||h.onDismiss.call(h,h))},[ae,h.delete]);function ie(){var Ye;if(N!=null&&N.loading){var Ne;return B.createElement("div",{className:ul(j==null?void 0:j.loader,h==null||(Ne=h.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":Ze==="loading"},N.loading)}return B.createElement(w7e,{className:ul(j==null?void 0:j.loader,h==null||(Ye=h.classNames)==null?void 0:Ye.loader),visible:Ze==="loading"})}const ue=h.icon||(N==null?void 0:N[Ze])||y7e(Ze);var it,Fe;return B.createElement("li",{tabIndex:0,ref:Je,className:ul(I,rt,j==null?void 0:j.toast,h==null||(e=h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Ze],h==null||(r=h.classNames)==null?void 0:r[Ze]),"data-sonner-toast":"","data-rich-colors":(it=h.richColors)!=null?it:S,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":ee,"data-promise":!!h.promise,"data-swiped":Ee,"data-removed":Z,"data-visible":ct,"data-y-position":se,"data-x-position":ke,"data-index":v,"data-front":yt,"data-swiping":re,"data-dismissible":Ve,"data-type":Ze,"data-invert":_e,"data-swipe-out":ce,"data-swipe-direction":X,"data-expanded":!!(_||R&&ee),"data-testid":h.testId,style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${Z?Ae:fe.current}px`,"--initial-height":R?"auto":`${st}px`,...E,...h.style},onDragEnd:()=>{le(!1),U(null),he.current=null},onPointerDown:Ye=>{Ye.button!==2&&(Se||!Ve||(qe.current=new Date,Qe(fe.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(le(!0),he.current={x:Ye.clientX,y:Ye.clientY})))},onPointerUp:()=>{var Ye,Ne,Xe;if(ce||!Ve)return;he.current=null;const ft=Number(((Ye=Je.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ge=Number(((Ne=Je.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ot=new Date().getTime()-((Xe=qe.current)==null?void 0:Xe.getTime()),Ie=H==="x"?ft:Ge,at=Math.abs(Ie)/ot;if(Math.abs(Ie)>=L7e||at>.11){Qe(fe.current),h.onDismiss==null||h.onDismiss.call(h,h),Y(H==="x"?ft>0?"right":"left":Ge>0?"down":"up"),ae(),Pe(!0);return}else{var Q,De;(Q=Je.current)==null||Q.style.setProperty("--swipe-amount-x","0px"),(De=Je.current)==null||De.style.setProperty("--swipe-amount-y","0px")}V(!1),le(!1),U(null)},onPointerMove:Ye=>{var Ne,Xe,ft;if(!he.current||!Ve||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;const ot=Ye.clientY-he.current.y,Ie=Ye.clientX-he.current.x;var at;const Q=(at=n.swipeDirections)!=null?at:$7e($);!H&&(Math.abs(Ie)>1||Math.abs(ot)>1)&&U(Math.abs(Ie)>Math.abs(ot)?"x":"y");let De={x:0,y:0};const Ce=Me=>1/(1.5+Math.abs(Me)/20);if(H==="y"){if(Q.includes("top")||Q.includes("bottom"))if(Q.includes("top")&&ot<0||Q.includes("bottom")&&ot>0)De.y=ot;else{const Me=ot*Ce(ot);De.y=Math.abs(Me)<Math.abs(ot)?Me:ot}}else if(H==="x"&&(Q.includes("left")||Q.includes("right")))if(Q.includes("left")&&Ie<0||Q.includes("right")&&Ie>0)De.x=Ie;else{const Me=Ie*Ce(Ie);De.x=Math.abs(Me)<Math.abs(Ie)?Me:Ie}(Math.abs(De.x)>0||Math.abs(De.y)>0)&&V(!0),(Xe=Je.current)==null||Xe.style.setProperty("--swipe-amount-x",`${De.x}px`),(ft=Je.current)==null||ft.style.setProperty("--swipe-amount-y",`${De.y}px`)}},ve&&!h.jsx&&Ze!=="loading"?B.createElement("button",{"aria-label":D,"data-disabled":Se,"data-close-button":!0,onClick:Se||!Ve?()=>{}:()=>{ae(),h.onDismiss==null||h.onDismiss.call(h,h)},className:ul(j==null?void 0:j.closeButton,h==null||(i=h.classNames)==null?void 0:i.closeButton)},(Fe=N==null?void 0:N.close)!=null?Fe:C7e):null,(Ze||h.icon||h.promise)&&h.icon!==null&&((N==null?void 0:N[Ze])!==null||h.icon)?B.createElement("div",{"data-icon":"",className:ul(j==null?void 0:j.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ie():null,h.type!=="loading"?ue:null):null,B.createElement("div",{"data-content":"",className:ul(j==null?void 0:j.content,h==null||(o=h.classNames)==null?void 0:o.content)},B.createElement("div",{"data-title":"",className:ul(j==null?void 0:j.title,h==null||(a=h.classNames)==null?void 0:a.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?B.createElement("div",{"data-description":"",className:ul(O,q,j==null?void 0:j.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),B.isValidElement(h.cancel)?h.cancel:h.cancel&&d_(h.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:Ye=>{d_(h.cancel)&&Ve&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ye),ae())},className:ul(j==null?void 0:j.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,B.isValidElement(h.action)?h.action:h.action&&d_(h.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:Ye=>{d_(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ye),!Ye.defaultPrevented&&ae())},className:ul(j==null?void 0:j.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function dq(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function U7e(n,e){const r={};return[n,e].forEach((i,s)=>{const o=s===1,a=o?"--mobile-offset":"--offset",l=o?N7e:R7e;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(u=>{i[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof i[u]=="number"?`${i[u]}px`:i[u]}):c(l)}),r}const W7e=B.forwardRef(function(e,r){const{id:i,invert:s,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:m,style:b,visibleToasts:y=D7e,toastOptions:v,dir:w=dq(),gap:_=B7e,icons:x,containerAriaLabel:S="Notifications"}=e,[C,E]=B.useState([]),A=B.useMemo(()=>i?C.filter(ee=>ee.toasterId===i):C.filter(ee=>!ee.toasterId),[C,i]),M=B.useMemo(()=>Array.from(new Set([o].concat(A.filter(ee=>ee.position).map(ee=>ee.position)))),[A,o]),[I,O]=B.useState([]),[F,$]=B.useState(!1),[z,R]=B.useState(!1),[j,N]=B.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=B.useRef(null),H=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=B.useRef(null),X=B.useRef(!1),Y=B.useCallback(ee=>{E(G=>{var Z;return(Z=G.find(pe=>pe.id===ee.id))!=null&&Z.delete||Ts.dismiss(ee.id),G.filter(({id:pe})=>pe!==ee.id)})},[]);return B.useEffect(()=>Ts.subscribe(ee=>{if(ee.dismiss){requestAnimationFrame(()=>{E(G=>G.map(Z=>Z.id===ee.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{sSe.flushSync(()=>{E(G=>{const Z=G.findIndex(pe=>pe.id===ee.id);return Z!==-1?[...G.slice(0,Z),{...G[Z],...ee},...G.slice(Z+1)]:[ee,...G]})})})}),[C]),B.useEffect(()=>{if(f!=="system"){N(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?N("dark"):N("light")),typeof window>"u")return;const ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:G})=>{N(G?"dark":"light")})}catch{ee.addListener(({matches:Z})=>{try{N(Z?"dark":"light")}catch(pe){console.error(pe)}})}},[f]),B.useEffect(()=>{C.length<=1&&$(!1)},[C]),B.useEffect(()=>{const ee=G=>{var Z;if(a.every(le=>G[le]||G.code===le)){var re;$(!0),(re=D.current)==null||re.focus()}G.code==="Escape"&&(document.activeElement===D.current||(Z=D.current)!=null&&Z.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[a]),B.useEffect(()=>{if(D.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,X.current=!1)}},[D.current]),B.createElement("section",{ref:r,"aria-label":`${S} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((ee,G)=>{var Z;const[pe,re]=ee.split("-");return A.length?B.createElement("ol",{key:ee,dir:w==="auto"?dq():w,tabIndex:-1,ref:D,className:u,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":pe,"data-x-position":re,style:{"--front-toast-height":`${((Z=I[0])==null?void 0:Z.height)||0}px`,"--width":`${j7e}px`,"--gap":`${_}px`,...b,...U7e(d,h)},onBlur:le=>{X.current&&!le.currentTarget.contains(le.relatedTarget)&&(X.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||X.current||(X.current=!0,U.current=le.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{z||$(!1)},onDragEnd:()=>$(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},A.filter(le=>!le.position&&G===0||le.position===ee).map((le,ce)=>{var Pe,Ee;return B.createElement(z7e,{key:le.id,icons:x,index:ce,toast:le,defaultRichColors:p,duration:(Pe=v==null?void 0:v.duration)!=null?Pe:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:s,visibleToasts:y,closeButton:(Ee=v==null?void 0:v.closeButton)!=null?Ee:c,interacting:z,position:ee,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,closeButtonAriaLabel:v==null?void 0:v.closeButtonAriaLabel,removeToast:Y,toasts:A.filter(V=>V.position==le.position),heights:I.filter(V=>V.position==le.position),setHeights:O,expandByDefault:l,gap:_,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),Ph="onboard_mnemonic",hc="onboard_wallet_address",ya="onboard_chain_type",Wb="onboard_auth_token",qb="onboard_refresh_token",Hb="onboard_expires_at";function q7e(n){const e=n.trim();return e.startsWith("0x")||e.startsWith("0X")?"ethereum":e.startsWith("bc1p")||e.startsWith("tb1p")?"bitcoin_taproot":e.startsWith("bc1q")||e.startsWith("tb1q")?"bitcoin_segwit":e.startsWith("1")||e.startsWith("m")||e.startsWith("n")?"bitcoin_legacy":e.startsWith("3")||e.startsWith("2")?"bitcoin_nested_segwit":e.length>=32&&e.length<=44?"solana":null}function Su(n){const[e,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState("ethereum"),[l,c]=T.useState(!1),[u,d]=T.useState(""),[h,f]=T.useState(void 0),[p,m]=T.useState(void 0),[b,y]=T.useState(!1),[v,w]=T.useState(null);T.useEffect(()=>{const z=localStorage.getItem(Ph),R=localStorage.getItem(hc),j=localStorage.getItem(ya),N=localStorage.getItem(Wb),D=localStorage.getItem(qb),H=localStorage.getItem(Hb);if(r(z||""),s(R||""),j?["ethereum","bitcoin_taproot","bitcoin_segwit","bitcoin_legacy","bitcoin_nested_segwit","solana"].includes(j)?a(j):(a("ethereum"),localStorage.setItem(ya,"ethereum")):a("ethereum"),N&&d(N),D&&f(D),H){const U=parseInt(H,10);isNaN(U)||m(U)}},[]);const _=T.useCallback(async z=>{if(!z||z.trim()==="")return null;c(!0);try{const R=await Yk(z,"ethereum",0,!0);return R.success&&R.address?R.address:(console.error("Failed to generate address:",R.error),null)}catch(R){return console.error("Error generating address:",R),null}finally{c(!1)}},[]),x=T.useCallback(async(z,R=0,j=!0)=>{if(!e||e.trim()==="")return console.warn("Cannot generate address: mnemonic not set"),null;c(!0);try{const N=await Yk(e,z,R,j);return N.success&&N.address?(a(z),localStorage.setItem(ya,z),N.address):(console.error("Failed to generate address:",N.error),null)}catch(N){return console.error("Error generating address for chain:",N),null}finally{c(!1)}},[e]),S=T.useCallback(async z=>{const R=z.trim();if(R===""){r(""),s(""),a("ethereum"),localStorage.removeItem(Ph),localStorage.removeItem(hc),localStorage.removeItem(ya);return}r(R),localStorage.setItem(Ph,R);const j=await _(R);j?(s(j),a("ethereum"),localStorage.setItem(hc,j),localStorage.setItem(ya,"ethereum")):(s(""),a("ethereum"),localStorage.removeItem(hc),localStorage.setItem(ya,"ethereum"))},[_]),C=T.useCallback(async(z,R,j=0,N=!0)=>{const D=z.trim();if(D===""){r(""),s(""),a("ethereum"),localStorage.removeItem(Ph),localStorage.removeItem(hc),localStorage.removeItem(ya);return}r(D),localStorage.setItem(Ph,D);const H=await x(R,j,N);H?(s(H),a(R),localStorage.setItem(hc,H),localStorage.setItem(ya,R)):(s(""),localStorage.removeItem(hc))},[x]),E=T.useCallback((z,R,j)=>{const N=z.trim(),D=R.trim().startsWith("0x")||R.trim().startsWith("0X")?R.trim().toLowerCase():R.trim();if(r(N),s(D),localStorage.setItem(Ph,N),localStorage.setItem(hc,D),j)a(j),localStorage.setItem(ya,j);else{const H=q7e(D);H&&(a(H),localStorage.setItem(ya,H))}},[]),A=T.useCallback(()=>{r(""),s(""),a("ethereum"),localStorage.removeItem(Ph),localStorage.removeItem(hc),localStorage.removeItem(ya)},[]),M=T.useMemo(()=>{if(e==="")return"";const z=e.trim();if(z==="")return"";try{const R=b0.fromPhrase(z,"","m/44'/60'/0'/0/0");if(i&&R.address.toLowerCase()!==i.toLowerCase())return console.warn("Address mismatch: derived address does not match stored address"),"";const j=BigInt(R.privateKey),N=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(j===0n||j>=N)return console.error("Invalid private key: out of secp256k1 curve order"),"";const H=j.toString(16).toLowerCase().padStart(64,"0");return/^[0-9a-f]{64}$/.test(H)?H:(console.error("Invalid private key format"),"")}catch(R){return console.error("Error computing private key:",R),""}},[e,i]),I=T.useCallback(async(z,R,j,N)=>{y(!0),w(null);try{await S(z);const D=await _9(z,R,j,N);if(D.success&&D.authToken)d(D.authToken),f(D.refreshToken),m(D.expiresAt),localStorage.setItem(Wb,D.authToken),D.refreshToken&&localStorage.setItem(qb,D.refreshToken),D.expiresAt&&localStorage.setItem(Hb,D.expiresAt.toString()),vt.success("Onboarding successful",{description:"Wallet authenticated and auth token generated.",duration:5e3});else{const H=D.error||"Onboarding failed";w(H),d(""),f(void 0),m(void 0),localStorage.removeItem(Wb),localStorage.removeItem(qb),localStorage.removeItem(Hb),vt.error("Onboarding failed",{description:H,duration:6e3})}}catch(D){const H=(D==null?void 0:D.message)||"Unknown error during onboarding";w(H),d(""),f(void 0),m(void 0),localStorage.removeItem(Wb),localStorage.removeItem(qb),localStorage.removeItem(Hb),vt.error("Onboarding error",{description:H,duration:6e3})}finally{y(!1)}},[S]),O=T.useCallback(()=>{w(null)},[]),F=T.useCallback(()=>{d(""),f(void 0),m(void 0),w(null),y(!1),localStorage.removeItem(Wb),localStorage.removeItem(qb),localStorage.removeItem(Hb)},[]),$=T.useCallback(()=>{A(),F()},[A,F]);return{mnemonic:e,walletAddress:i,chainType:o,privateKey:M,authToken:u,refreshToken:h,expiresAt:p,loading:b,error:v,addressLoading:l,onboard:I,setMnemonic:S,setMnemonicWithChain:C,setAccountData:E,generateAddressForChain:x,clearAccountData:A,clearError:O,reset:F,resetAll:$}}function H7e(n={}){const{onDisconnect:e,enableOKX:r=!0,enablePhantom:i=!0,enableOneKey:s=!0,enableEthereum:o=!0}=n,a=T.useRef([]);return T.useEffect(()=>{if(!e)return;const l=[];if(r){const c=(u,d)=>{e({walletName:"OKX",chainType:u,reason:d})};l.push(Qje(c))}if(i){const c=(u,d)=>{e({walletName:"Phantom",chainType:"solana",reason:d})};l.push(Oje(c))}if(s){const c=(u,d)=>{e({walletName:"OneKey",chainType:"solana",reason:d})};l.push(Dje(c))}if(o){const c=(u,d)=>{e({walletName:"Binance",chainType:"solana",reason:d})};l.push(Rje(c))}if(o&&typeof window<"u"){const c=window.ethereum;if(c&&c.on){const u=()=>{var f,p,m;return(f=window.okxwallet)!=null&&f.ethereum||c.isOKX?"OKX":(p=window.$onekey)!=null&&p.ethereum||c.isOneKey?"OneKey":(m=window.phantom)!=null&&m.ethereum||c.isPhantom?"Phantom":window.BinanceChain||c.isBinance?"Binance":c.isMetaMask?"MetaMask":"Unknown"},d=f=>{const p=u();console.warn(`[Wallet] ${p} Ethereum wallet disconnected:`,f),e({walletName:p,chainType:"ethereum",reason:f.message||"Wallet disconnected"})},h=f=>{if(f.length===0){const p=u();console.warn(`[Wallet] ${p} Ethereum wallet accounts cleared (disconnected)`),e({walletName:p,chainType:"ethereum",reason:"Accounts cleared"})}};c.on("disconnect",d),c.on("accountsChanged",h),l.push(()=>{c.removeListener&&(c.removeListener("disconnect",d),c.removeListener("accountsChanged",h))})}}return a.current=l,()=>{l.forEach(c=>c()),a.current=[]}},[e,r,i,s,o]),{cleanup:()=>{a.current.forEach(l=>l()),a.current=[]}}}const hq=[{value:"ethereum",label:"Ethereum",description:"Ethereum addresses (0x...)",example:"0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"},{value:"bitcoin_taproot",label:"Bitcoin Taproot",description:"Bitcoin Taproot addresses (bc1p...)",example:"bc1p5d7rjq7g6rdk2yhzks9smlaqtedr4dekq08ge8ztwac36sfj9ugtg7eskl"},{value:"bitcoin_segwit",label:"Bitcoin SegWit",description:"Bitcoin SegWit addresses (bc1q...)",example:"bc1qw508d6qejxtdg4y5r3zarvary0c5xw7kv8f3t4"},{value:"bitcoin_legacy",label:"Bitcoin Legacy",description:"Bitcoin Legacy addresses (1...)",example:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},{value:"bitcoin_nested_segwit",label:"Bitcoin Nested SegWit",description:"Bitcoin Nested SegWit addresses (3...)",example:"3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy"},{value:"solana",label:"Solana",description:"Solana addresses (Base58)",example:"9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM"}];function V7e(){const{setAccountData:n}=Su(),{mnemonic:e,setMnemonic:r,addressIndex:i,setAddressIndex:s,chainType:o,setChainType:a,isMainnet:l,setIsMainnet:c,result:u,loading:d,generateAddress:h,isReady:f}=zje();T.useEffect(()=>{u!=null&&u.success&&u.address&&e&&o==="ethereum"&&n(e,u.address)},[u,e,o,n]);const p=hq.find(m=>m.value===o);return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Multichain Address Generator"}),g.jsx("p",{children:"Generate addresses from mnemonic phrases for multiple blockchain networks"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"chainType",children:"Chain Type:"}),g.jsx("select",{id:"chainType",value:o,onChange:m=>a(m.target.value),style:{marginBottom:"0.5rem"},children:hq.map(m=>g.jsxs("option",{value:m.value,children:[m.label," - ",m.description]},m.value))}),p&&g.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.25rem",padding:"0.5rem",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px"},children:[g.jsx("strong",{children:"Example:"})," ",p.example]})]}),(o.startsWith("bitcoin")||o==="solana")&&g.jsx("div",{className:"form-group",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:l,onChange:m=>c(m.target.checked),style:{marginRight:"0.5rem",cursor:"pointer"}}),l?"Mainnet":"Testnet",g.jsxs("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginLeft:"0.5rem"},children:["(",l?"Production network":"Test network",")"]})]})}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic Phrase:"}),g.jsx("textarea",{id:"mnemonic",value:e,onChange:m=>r(m.target.value),placeholder:"Enter your mnemonic phrase...",rows:3})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressIndex",children:"Address Index:"}),g.jsx("input",{id:"addressIndex",type:"number",value:i,onChange:m=>s(parseInt(m.target.value)||0),min:"0",max:"1000"}),g.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.25rem"},children:"Derivation path index (0 = first address, 1 = second address, etc.)"})]}),g.jsx("button",{className:"button",onClick:h,disabled:d||!f,style:{width:"100%",margin:"0"},children:d?"Generating...":`Generate ${(p==null?void 0:p.label)||"Address"}`}),u&&g.jsx("div",{className:`output ${u.success?"success":"error"}`,children:u.success?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{style:{fontSize:"1.1rem",display:"block",marginBottom:"0.5rem"},children:"Generated Address:"}),g.jsx("div",{style:{fontFamily:"Monaco, Menlo, Ubuntu Mono, monospace",fontSize:"0.95rem",wordBreak:"break-all",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:u.address})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"0.5rem 1rem",fontSize:"0.9rem"},children:[g.jsx("strong",{children:"Chain Type:"}),g.jsx("span",{children:(p==null?void 0:p.label)||u.chainType||"Ethereum"}),g.jsx("strong",{children:"Network:"}),g.jsx("span",{children:u.isMainnet!==void 0?u.isMainnet?"Mainnet":"Testnet":"Mainnet (default)"}),g.jsx("strong",{children:"Index:"}),g.jsx("span",{children:u.index??0}),"mnemonic"in u&&u.mnemonic&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Mnemonic:"}),g.jsx("span",{children:u.mnemonic})]})]}),g.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:[g.jsx("strong",{children:"Derivation Path:"})," ",o==="ethereum"&&g.jsxs("code",{children:["m/44'/60'/0'/0/",i]}),o==="bitcoin_taproot"&&g.jsxs("code",{children:["m/86'/0'/0'/0/",i]}),o==="bitcoin_segwit"&&g.jsxs("code",{children:["m/84'/0'/0'/0/",i]}),o==="bitcoin_legacy"&&g.jsxs("code",{children:["m/44'/0'/0'/0/",i]}),o==="bitcoin_nested_segwit"&&g.jsxs("code",{children:["m/49'/0'/0'/0/",i]}),o==="solana"&&g.jsxs("code",{children:["m/44'/501'/0'/",i,"'"]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{style:{display:"block",marginBottom:"0.5rem"},children:"Error:"}),g.jsx("div",{style:{color:"rgba(255, 107, 107, 0.9)"},children:u.error})]})}),!f&&g.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",color:"rgba(255, 193, 7, 0.9)",fontSize:"0.9rem"},children:" WASM module is loading. Please wait..."})]})}function G7e(){var f,p;const{mnemonic:n,setMnemonic:e,message:r,setMessage:i,useEIP712:s,setUseEIP712:o,addressIndex:a,setAddressIndex:l,result:c,loading:u,signMessage:d,isReady:h}=Uje();return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Message Signer"}),g.jsx("p",{children:"Sign messages with your private key"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic Phrase:"}),g.jsx("textarea",{id:"mnemonic",value:n,onChange:m=>e(m.target.value),placeholder:"Enter your mnemonic phrase...",rows:2})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"message",children:"Message to Sign:"}),g.jsx("textarea",{id:"message",value:r,onChange:m=>i(m.target.value),placeholder:"Enter message to sign...",rows:3})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressIndex",children:"Address Index:"}),g.jsx("input",{id:"addressIndex",type:"number",value:a,onChange:m=>l(parseInt(m.target.value)||0),min:"0",max:"1000"})]}),g.jsx("div",{className:"form-group",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:s,onChange:m=>o(m.target.checked),style:{marginRight:"0.5rem"}}),"Use EIP-712 Typed Data"]})}),g.jsx("button",{className:"button",onClick:d,disabled:u||!h,children:u?"Signing...":"Sign Message"}),c&&g.jsx("div",{className:`output ${c.success?"success":"error"}`,children:c.success?g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Signature:"}),g.jsx("br",{}),c.signature,g.jsx("br",{}),g.jsx("br",{}),g.jsx("strong",{children:"Details:"}),g.jsx("br",{}),"Message: ",c.message,g.jsx("br",{}),"EIP-712: ",(f=c.options)!=null&&f.useEIP712?"Yes":"No",g.jsx("br",{}),"Address Index: ",((p=c.options)==null?void 0:p.addressIndex)||0]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),c.error]})})]})}const h_={placeOrder:{label:"Place Order",action:c9,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"side",label:"Side",type:"select",options:["BUY","SELL"],required:!0},{key:"orderType",label:"Order Type",type:"select",options:["LIMIT","MARKET"],required:!0},{key:"price",label:"Price",type:"number",placeholder:"100.5",required:!0,convertToSatoshi:!0},{key:"quantity",label:"Quantity",type:"number",placeholder:"1.0",required:!0,convertToSatoshi:!0}]},cancelOrder:{label:"Cancel Order",action:Wk,fields:[{key:"orderId",label:"Order ID",type:"text",required:!0},{key:"marketId",label:"Market ID",type:"text",required:!0}]},modifyOrder:{label:"Modify Order",action:u9,fields:[{key:"orderId",label:"Order ID",type:"text",required:!0},{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"newPrice",label:"New Price",type:"number",required:!0,convertToSatoshi:!0},{key:"newQuantity",label:"New Quantity",type:"number",required:!0,convertToSatoshi:!0}]},changeLeverage:{label:"Change Leverage",action:Qfe,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"newLeverage",label:"New Leverage",type:"number",required:!0,convertToSatoshi:!0}]},closePosition:{label:"Close Position",action:qk,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"quantity",label:"Quantity",type:"number",required:!0,convertToSatoshi:!0},{key:"marketPrice",label:"Market Price",type:"number",required:!0,convertToSatoshi:!0}]},swap:{label:"Swap",action:h9,fields:[{key:"fromToken",label:"From Token",type:"text",required:!0},{key:"toToken",label:"To Token",type:"text",required:!0},{key:"amountIn",label:"Amount In",type:"number",required:!0,convertToSatoshi:!0},{key:"minAmountOut",label:"Min Amount Out",type:"number",required:!0,convertToSatoshi:!0}]},changeMarginRatio:{label:"Change Margin Ratio",action:l9,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"positionId",label:"Position ID",type:"text",required:!1}]},internTransfer:{label:"Internal Transfer",action:d9,fields:[{key:"fromAccount",label:"From Account",type:"text",required:!0},{key:"toAccount",label:"To Account",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0},{key:"tokenAddress",label:"Token Address",type:"text",required:!0}]},bucketTransfer:{label:"Bucket Transfer",action:g9,fields:[{key:"fromBucketId",label:"From Bucket ID",type:"text",required:!0},{key:"toBucketId",label:"To Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},extractToBucket:{label:"Extract to Bucket",action:p9,fields:[{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},withdrawFromBucket:{label:"Withdraw from Bucket",action:m9,fields:[{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},bankMint:{label:"Bank Mint",action:f9,fields:[{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},bankTransfer:{label:"Bank Transfer",action:b9,fields:[{key:"to",label:"To Address",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]}};function Y7e(){var ke,Re,de,_e,Se,ae,ie,ue,it,Fe,Ye,Ne,Xe,ft,Ge,ot,Ie,at;const{connect:n,connectors:e,isPending:r}=x7(),{disconnect:i}=px(),{address:s,isConnected:o}=Mi(),{signTypedDataAsync:a}=_7(),l=fx(),[c,u]=T.useState(null),[d,h]=T.useState(null),[f,p]=T.useState({}),[m,b]=T.useState("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"),[y,v]=T.useState(""),[w,_]=T.useState(""),[x,S]=T.useState(""),[C,E]=T.useState([]),[A,M]=T.useState("ethereum"),[I,O]=T.useState(null),[F,$]=T.useState(!1),[z,R]=T.useState(!1),j=mu(),N=sa();La(),A9(),T9(),Fa(),P9();const D=typeof window<"u"&&((ke=window.ethereum)==null?void 0:ke.isRainbow)===!0,H=typeof window<"u"&&(!!((Re=window.phantom)!=null&&Re.ethereum)||!!((de=window.ethereum)!=null&&de.isPhantom))&&!(window.$onekey||(_e=window.ethereum)!=null&&_e.isOneKey),U=typeof window<"u"&&(!!((Se=window.$onekey)!=null&&Se.ethereum)||!!((ae=window.ethereum)!=null&&ae.isOneKey)||!!window.$onekey),X=fpe(),Y=Kk(),ee=C9(),G=typeof window<"u"&&(!!((ie=window.okxwallet)!=null&&ie.ethereum)||!!((ue=window.ethereum)!=null&&ue.isOKX)),[Z,pe]=T.useState(()=>{var De;if(typeof window>"u")return!1;if(((De=window.binancew3w)==null?void 0:De.isExtension)===!0||window.BinanceChain)return!0;const Q=window.ethereum;if(Q!=null&&Q.isBinance)return!0;if(Q){const Ce=Q.providerName||Q.name;if(typeof Ce=="string"&&Ce.toLowerCase().includes("binance"))return!0}return!!(Q!=null&&Q._postMessageToMp&&typeof Q._postMessageToMp=="function"&&(Q==null?void 0:Q.namespace)==="eip155"||Tc())});T.useEffect(()=>{if(Z)return;let Q=!0;return TS(3e3,100).then(De=>{Q&&De&&pe(!0)}),()=>{Q=!1}},[Z]);const re=e.find(Q=>{var De;return Q.id==="injected"||Q.type==="injected"||((De=Q.name)==null?void 0:De.toLowerCase().includes("injected"))});let le=null;if(typeof window<"u")if((it=window.$onekey)!=null&&it.ethereum||(Fe=window.ethereum)!=null&&Fe.isOneKey||window.$onekey)le="OneKey";else if((Ye=window.phantom)!=null&&Ye.ethereum||(Ne=window.ethereum)!=null&&Ne.isPhantom)le="Phantom";else{const Q=!!((Xe=window.okxwallet)!=null&&Xe.solana),De=!!((ft=window.okxwallet)!=null&&ft.bitcoin);Q&&De&&window.ethereum||(Ge=window.okxwallet)!=null&&Ge.ethereum||(ot=window.ethereum)!=null&&ot.isOKX||window.okxwallet?le="OKX":sa()?le="Bitget":La()?le="TokenPocket":Fa()?le="Coinbase Wallet":((Ie=window.ethereum)==null?void 0:Ie.isRainbow)===!0?le="Rainbow":window.BinanceChain||(at=window.ethereum)!=null&&at.isBinance?le="Binance":mu()&&(le="MetaMask")}y&&s&&(y.toLowerCase(),s.toLowerCase());const ce=(()=>{var Mt,Tt,tt,rn;if(A!=="solana")return!1;const Q=As();if(Q&&Q.isConnected&&Q.publicKey){const Qt=Q.publicKey.toString();if(y===Qt)return!0}const De=zi();if(De&&De.isConnected&&De.publicKey){const Qt=(Mt=De.publicKey)==null?void 0:Mt.toString();if(Qt&&y===Qt)return!0}const Ce=xi();if(Ce&&Ce.isConnected&&Ce.publicKey){const Qt=(Tt=Ce.publicKey)==null?void 0:Tt.toString();if(Qt&&y===Qt)return!0}const Me=ro();if(Me&&Me.isConnected&&Me.publicKey){const Qt=(tt=Me.publicKey)==null?void 0:tt.toString();if(Qt&&y===Qt)return!0}const Oe=ad();if(Oe&&Oe.isConnected&&Oe.publicKey){const Qt=(rn=Oe.publicKey)==null?void 0:rn.toString();if(Qt&&y===Qt)return!0}const ut=ao();if(ut&&ut.isConnected&&ut.publicKey){const Qt=ut.publicKey.toString();if(y===Qt)return!0}if(y&&C.length>0){const Qt=!y.startsWith("0x")&&y.length>=32&&y.length<=44,on=C.some(Xi=>Xi===y);if(Qt&&on)return!0}return!1})(),Pe=A!=="bitcoin"||!y?!1:/^(bc1|[13]|[mn2])[a-zA-HJ-NP-Z0-9]{25,62}$/.test(y),Ee=(()=>{if(A!=="ethereum")return!1;if(o&&s)return!0;if(y&&C.length>0){const Q=y.startsWith("0x")||y.startsWith("0X"),De=C.some(Ce=>Ce.toLowerCase()===y.toLowerCase());return Q&&De}return!1})(),Ae=(Ee||ce||Pe)&&y,Qe=(()=>{var Q,De,Ce,Me;if(ce){const Oe=As();if(Oe&&Oe.isConnected&&y&&((Q=Oe.publicKey)==null?void 0:Q.toString())===y)return"OneKey (Solana)";const ut=zi();if(ut&&ut.isConnected&&y&&((De=ut.publicKey)==null?void 0:De.toString())===y)return"OKX (Solana)";const Mt=ro();if(Mt&&Mt.isConnected&&y&&((Ce=Mt.publicKey)==null?void 0:Ce.toString())===y)return"Bitget (Solana)";const Tt=xi();return Tt&&Tt.isConnected&&y&&((Me=Tt.publicKey)==null?void 0:Me.toString())===y?"Binance (Solana)":"Phantom (Solana)"}if(Pe){const Oe=Td();return Oe?`${Oe.name} (Bitcoin)`:"Bitcoin Wallet"}if(Ee){if(U&&X)return"OneKey";if(G)return"OKX (Ethereum)";if(N)return"Bitget";if(D)return"Rainbow";if(Z)return"Binance";if(j)return"MetaMask";if(H)return"Phantom (Ethereum)"}return le||"Wallet"})(),st=Q=>!Q||typeof Q!="string"?!1:/^(bc1|[13]|[mn2])[a-zA-HJ-NP-Z0-9]{25,62}$/.test(Q),ze=Q=>!Q||typeof Q!="string"?!1:Q.length>=32&&Q.length<=44&&!Q.startsWith("0x")&&/^[1-9A-HJ-NP-Za-km-z]+$/.test(Q),wt=Q=>!Q||typeof Q!="string"?!1:/^0x[a-fA-F0-9]{40}$/.test(Q);T.useEffect(()=>{if(!(Pe&&y)&&!(ce&&y)&&C.length===1&&!y){const Q=C[0];if(Q&&typeof Q=="string"){const De=st(Q),Ce=ze(Q),Me=wt(Q);(A==="bitcoin"&&De||A==="solana"&&Ce||A==="ethereum"&&Me||!A||A==="ethereum")&&(v(Q),(!A||A==="ethereum")&&(De?M("bitcoin"):Ce&&M("solana")))}}},[C,y,A,Pe,ce]);const qe=T.useRef(void 0);T.useEffect(()=>{if(A==="ethereum"&&!(y&&(st(y)||ze(y))))if(o&&s){if(qe.current!==s){const Q=(y==null?void 0:y.toLowerCase())||"",De=s.toLowerCase();Q!==De?(!y||wt(y))&&(v(s),qe.current=s):qe.current=s}}else o||(qe.current=void 0)},[o,s,v,A,y]),T.useEffect(()=>{if(c){const Q=h_[c],De={};Q.fields.forEach(Ce=>{De[Ce.key]=""}),p(De),O(null),h(null),v(""),E([])}},[c]);const Je=()=>{const De=Math.floor(Date.now()/1e3)+3600;S(De.toString())},yt=()=>{_(Date.now().toString())},ct=async()=>{if(!m.trim()){alert("Please enter a mnemonic phrase");return}try{const{mormSigner:Q}=await bt(async()=>{const{mormSigner:Ce}=await Promise.resolve().then(()=>Fje);return{mormSigner:Ce}},void 0);await Q.initialize();const De=await Q.generateAddress(m,0);De.success&&De.address?v(De.address):alert(De.error||"Failed to generate address")}catch(Q){alert(Q.message||"Failed to generate address")}},Ze=async()=>{if(!j){alert("MetaMask wallet is not installed. Please install MetaMask wallet extension.");return}try{const Q=window.ethereum;if(Q){const De=await Q.request({method:"eth_requestAccounts"});if(De&&De.length>0){const Ce=De.filter(Me=>Me&&typeof Me=="string"&&Me.trim().length>0);Ce.length>0&&(E(Ce),Ce.length===1&&v(Ce[0]))}}re?(await n({connector:re}),await new Promise(De=>setTimeout(De,300))):alert("MetaMask connector not found. Please ensure MetaMask wallet is installed.")}catch(Q){Q.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to MetaMask:",Q),alert(`Failed to connect to MetaMask: ${Q.message||"Unknown error"}`))}},Ve=async()=>{var Q,De,Ce;if(A==="solana"){try{if(!Wc()){alert("Phantom Solana wallet is not available. Please ensure Phantom wallet is installed and unlocked.");return}const Me=await tE();Me&&typeof Me=="string"&&(E([Me]),v(Me),M("solana"))}catch(Me){Me.code===4001||(Q=Me.message)!=null&&Q.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Phantom Solana: ${Me.message||"Unknown error"}`)}return}if(!H){alert("Phantom wallet is not installed. Please install Phantom wallet extension.");return}try{let Me=(De=window.phantom)==null?void 0:De.ethereum;if(!Me&&window.phantom){const ut=window.phantom;typeof ut.request=="function"&&(Me=ut)}if(!Me&&((Ce=window.ethereum)!=null&&Ce.isPhantom)&&(Me=window.ethereum),!Me){alert("Phantom wallet Ethereum provider not found. Please ensure Phantom wallet is installed and switched to Ethereum mode.");return}const Oe=await Me.request({method:"eth_requestAccounts"});Oe&&Oe.length>0&&(E(Oe),Oe.length===1&&v(Oe[0])),re&&(await n({connector:re}),await new Promise(ut=>setTimeout(ut,300)))}catch(Me){Me.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Phantom:",Me),alert(`Failed to connect to Phantom: ${Me.message||"Unknown error"}`))}},rt=async()=>{var Q,De,Ce;if(A==="solana"){try{if(!Y){alert("OneKey Solana wallet is not available. Please ensure OneKey wallet is installed and unlocked.");return}const Me=await upe();Me&&typeof Me=="string"&&(E([Me]),v(Me),M("solana"))}catch(Me){Me.code===4001||(Q=Me.message)!=null&&Q.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to OneKey Solana: ${Me.message||"Unknown error"}`)}return}if(A==="bitcoin"){try{if(!ee){alert("OneKey Bitcoin wallet is not available. Please ensure OneKey wallet is installed and switched to Bitcoin network.");return}const Me=await mpe();Me&&typeof Me=="string"&&(E([Me]),v(Me),M("bitcoin"))}catch(Me){Me.code===4001||(De=Me.message)!=null&&De.includes("rejected")?alert("User rejected the Bitcoin connection request."):alert(`Failed to connect to OneKey Bitcoin: ${Me.message||"Unknown error"}`)}return}if(!U){alert("OneKey wallet is not installed. Please install OneKey wallet extension.");return}try{const Me=((Ce=window.$onekey)==null?void 0:Ce.ethereum)||window.ethereum;if(!Me){alert("OneKey wallet provider not found. Please ensure OneKey wallet is installed and enabled.");return}const Oe=await Me.request({method:"eth_requestAccounts"});if(Oe&&Oe.length>0){const ut=Oe.filter(Mt=>Mt&&typeof Mt=="string");ut.length>0&&(E(ut),ut.length===1&&v(ut[0]))}re&&(await n({connector:re}),await new Promise(ut=>setTimeout(ut,300)))}catch(Me){Me.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to OneKey:",Me),alert(`Failed to connect to OneKey: ${Me.message||"Unknown error"}`))}},q=async()=>{var Q,De,Ce,Me;if(A==="solana"){try{if(!Gk()){alert("Bitget Solana wallet is not available. Please ensure Bitget wallet is installed and unlocked.");return}const Oe=await dpe();Oe&&typeof Oe=="string"&&(E([Oe]),v(Oe),M("solana"))}catch(Oe){Oe.code===4001||(Q=Oe.message)!=null&&Q.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Bitget Solana: ${Oe.message||"Unknown error"}`)}return}if(A==="bitcoin"){try{const Oe=window.bitkeep,ut=!!(Oe!=null&&Oe.isBitKeep||(De=Oe==null?void 0:Oe.ethereum)!=null&&De.isBitEthereum),Mt=(Oe==null?void 0:Oe.unisat)||ut&&!window.$onekey&&window.unisat;if(!Mt){alert(`Bitget Bitcoin wallet is not available. Please ensure:
1. Bitget wallet extension is unlocked
2. Bitget wallet is switched to Bitcoin network
3. You have a Bitcoin account in Bitget

After switching to Bitcoin network in Bitget, refresh this page and try again.`);return}const Tt=await Mt.requestAccounts();if(Tt&&Tt.length>0){const tt=Tt[0];E(Tt),v(tt)}else throw new Error("No accounts returned from Bitget Bitcoin wallet")}catch(Oe){Oe.code===4001||(Ce=Oe.message)!=null&&Ce.includes("rejected")||(Me=Oe.message)!=null&&Me.includes("User rejected")?alert("User rejected the Bitcoin connection request."):alert(`Failed to connect to Bitget Bitcoin: ${Oe.message||"Unknown error"}

Please ensure:
1. Bitget wallet extension is unlocked
2. Bitget wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in Bitget

After switching to Bitcoin network in Bitget, refresh this page and try again.`)}return}if(!N&&!await Qk(3e3,100)){alert("Bitget wallet is not installed. Please install Bitget wallet extension.");return}try{let Oe=Xk();if(Oe||await Qk(3e3,100)&&(Oe=Xk()),!Oe){alert("Bitget wallet provider not found. Please ensure Bitget wallet is installed and enabled.");return}const ut=await Oe.request({method:"eth_requestAccounts"});if(ut&&ut.length>0){const Mt=ut.filter(Tt=>Tt&&typeof Tt=="string"&&Tt.trim().length>0);Mt.length>0&&(E(Mt),Mt.length===1&&v(Mt[0]))}re?(await n({connector:re}),await new Promise(Mt=>setTimeout(Mt,300))):alert("Bitget connector not found. Please ensure Bitget wallet is installed.")}catch(Oe){Oe.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Bitget:",Oe),alert(`Failed to connect to Bitget: ${Oe.message||"Unknown error"}`))}},te=()=>{const Q=bpe(A);if(!Q)return null;const Ce={OneKey:rt,OKX:async()=>{alert("OKX wallet connection not yet implemented in FunctionalSigner")},Bitget:q,TokenPocket:async()=>{alert("TokenPocket wallet connection not yet implemented in FunctionalSigner")},"Coinbase Wallet":async()=>{alert("Coinbase Wallet connection not yet implemented in FunctionalSigner")},Rainbow:async()=>{alert("Rainbow wallet connection not yet implemented in FunctionalSigner")},Binance:async()=>{alert("Binance wallet connection not yet implemented in FunctionalSigner")},MetaMask:Ze,Phantom:Ve}[Q];return Ce?{wallet:Q,handler:Ce}:null},ve=async()=>{const Q=te();if(!Q){A==="ethereum"?alert("No Ethereum wallet detected. Please install MetaMask, Phantom, OneKey, OKX, Bitget, or Binance wallet."):A==="solana"?alert("No Solana wallet detected. Please install Phantom, OneKey, OKX, Bitget, or Binance wallet extension for Solana support."):A==="bitcoin"&&alert("No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension.");return}await Q.handler()},me=()=>{if(!c)throw new Error("No operation selected");const Q=h_[c],De={action:Q.action};return(c==="cancelOrder"||c==="changeLeverage"||c==="changeMarginRatio"||c==="internTransfer")&&(De.address=y),Q.fields.forEach(Ce=>{const Me=f[Ce.key];if(Me===void 0||Me===""){if(Ce.required)throw new Error(`${Ce.label} is required`);return}let Oe=Me;Ce.convertToSatoshi&&Ce.type==="number"&&(Oe=Cn(parseFloat(Me))),c==="bucketTransfer"&&Ce.key==="assetId"||(c==="extractToBucket"||c==="withdrawFromBucket"||c==="bankMint"||c==="bankTransfer")&&Ce.key==="assetId"?De.asset=Oe:c==="closePosition"?Ce.key==="quantity"?De.closeSize=Oe:Ce.key==="marketPrice"?De.marketPrice=Oe:De[Ce.key]=Oe:c==="placeOrder"?Ce.key==="side"?De.side=Me.toUpperCase():Ce.key==="orderType"?De.orderType=Me.toUpperCase():De[Ce.key]=Oe:De[Ce.key]=Oe}),De},xe=Q=>{const De={name:"Morpheum",version:"1",chainId:l,verifyingContract:"0x0000000000000000000000000000000000000000"},Ce={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Message:[]};Object.keys(Q).forEach(Oe=>{Oe==="action"?Ce.Message.push({name:"action",type:"string"}):Oe==="owner"?Ce.Message.push({name:"owner",type:"address"}):Oe==="nonce"?Ce.Message.push({name:"nonce",type:"string"}):Oe==="deadline"?Ce.Message.push({name:"deadline",type:"uint256"}):Oe==="address"?Ce.Message.push({name:"address",type:"address"}):typeof Q[Oe]=="string"&&Q[Oe].startsWith("0x")?Ce.Message.push({name:Oe,type:"address"}):typeof Q[Oe]=="number"||/^\d+$/.test(Q[Oe])?Ce.Message.push({name:Oe,type:"uint256"}):Ce.Message.push({name:Oe,type:"string"})});const Me={};return Object.keys(Q).forEach(Oe=>{Oe==="owner"||Oe==="address"||Oe.startsWith("0x")&&Oe.length===42?Me[Oe]=Q[Oe].toLowerCase():Me[Oe]=Q[Oe]}),{domain:De,types:Ce,primaryType:"Message",message:Me}},fe=async()=>{if(!m.trim())throw new Error("Mnemonic is required for WASM signing");const Q=b0.fromPhrase(m.trim(),"","m/44'/60'/0'/0/0");if(Q.address.toLowerCase()!==y.toLowerCase())throw new Error(`Address mismatch: derived ${Q.address} does not match ${y}`);const De=BigInt(Q.privateKey),Ce=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(De===0n||De>=Ce)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const Oe=De.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(Oe))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return Oe},K=async()=>{var Q,De;if(!c){alert("Please select an operation first");return}if(!y){alert("Please set owner address");return}if(!w){alert("Please generate nonce");return}if(!x){alert("Please generate deadline");return}$(!0),O(null);try{const Ce=me();Ce.owner=y.toLowerCase(),Ce.nonce=w,Ce.deadline=x;const Me=xe(Ce),Oe=await a({domain:Me.domain,types:Me.types,primaryType:Me.primaryType,message:Me.message});O({success:!0,signature:Oe,typedData:{payload:Ce,typedData:Me}})}catch(Ce){Ce.code===4001||(Q=Ce.message)!=null&&Q.includes("User rejected")||(De=Ce.message)!=null&&De.includes("rejected")?O({success:!1,error:"User rejected the signature request"}):(console.error("Error signing:",Ce),O({success:!1,error:Ce.message||"Unknown error during signing"}))}finally{$(!1)}},he=async()=>{if(!c){alert("Please select an operation first");return}if(!y){alert("Please set owner address");return}if(!w){alert("Please generate nonce");return}if(!x){alert("Please generate deadline");return}if(!m.trim()){alert("Please enter mnemonic for WASM signing");return}if(!Nt.isReady())try{if(await Nt.initialize(),!Nt.isReady()){alert("WASM module failed to initialize");return}}catch(Q){alert(`Failed to initialize WASM: ${Q.message||"Unknown error"}`);return}R(!0),O(null);try{const Q=me();Q.owner=y.toLowerCase(),Q.nonce=w,Q.deadline=x;const De=await fe(),Ce=Math.floor(Date.now()/1e3),Me=parseInt(x,10),Oe={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:Ce,payload:Q,deadline:Me},ut=await Nt.generateSingleSignature(JSON.stringify(Oe),De,y.toLowerCase());if(!ut.success||!ut.signature)throw new Error(ut.error||"Failed to generate signature");const Mt=xe(Q);O({success:!0,signature:ut.signature,typedData:{payload:Q,typedData:Mt,eip712Tx:Oe}})}catch(Q){console.error("Error signing with WASM:",Q),O({success:!1,error:Q.message||"Unknown error during WASM signing"})}finally{R(!1)}},se=c?h_[c]:null;return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Functional Signer"}),g.jsx("p",{children:"Sign EIP-712 messages for Morpheum protocol operations"}),g.jsxs("div",{className:`agent-delegation-step ${c?"connected":""}`,children:[g.jsxs("h4",{children:["Step 1: Select Operation ",c&&""]}),c?g.jsxs("div",{children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"Selected:"})," ",se==null?void 0:se.label]}),g.jsx("button",{className:"button secondary",onClick:()=>{u(null),p({}),O(null),h(null),v(""),E([])},children:"Change Operation"})]}):g.jsx("div",{className:"agent-delegation-wallet-buttons",children:Object.entries(h_).map(([Q,De])=>g.jsx("button",{className:"button",onClick:()=>u(Q),children:De.label},Q))})]}),c?g.jsxs("div",{className:`agent-delegation-step ${d?"connected":""}`,children:[g.jsxs("h4",{children:["Step 2: Select Connection Method ",d&&""]}),d?g.jsxs("div",{children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"Selected:"})," ",d==="wallet"?"Connect Wallet":"Use Local Mnemonic"]}),g.jsx("button",{className:"button secondary",onClick:()=>{h(null),v(""),E([])},children:"Change Method"})]}):g.jsxs("div",{className:"agent-delegation-wallet-buttons",children:[g.jsx("button",{className:"button",onClick:()=>h("wallet"),children:"Connect Wallet"}),g.jsx("button",{className:"button",onClick:()=>h("mnemonic"),children:"Use Local Mnemonic"})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 2: Select Connection Method"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please select an operation in Step 1 to continue."})]}),c&&d?g.jsxs("div",{className:`agent-delegation-step ${y&&w&&x?"connected":""}`,children:[g.jsxs("h4",{children:["Step 3: Configure Parameters"," ",y&&w&&x&&""]}),d==="wallet"&&g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"walletConnection",children:"Wallet Connection:"}),Ae?g.jsxs("div",{className:"agent-delegation-connected-info",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Connected:"})," ",Qe,y&&g.jsxs("div",{className:"agent-delegation-address",children:["Address: ",y]})]}),g.jsx("button",{className:"button secondary",onClick:async()=>{if(A==="solana"){const Q=As();if(Q&&Q.isConnected)try{await Q.disconnect()}catch(ut){console.error("Error disconnecting OneKey Solana:",ut)}const De=ao();if(De&&De.isConnected)try{await De.disconnect()}catch(ut){console.error("Error disconnecting Phantom Solana:",ut)}const Ce=zi();if(Ce&&Ce.isConnected)try{await Ce.disconnect()}catch(ut){console.error("Error disconnecting OKX Solana:",ut)}const Me=ro();if(Me&&Me.isConnected)try{await Me.disconnect()}catch(ut){console.error("Error disconnecting Bitget Solana:",ut)}const Oe=xi();if(Oe&&Oe.isConnected)try{await Oe.disconnect()}catch(ut){console.error("Error disconnecting Binance Solana:",ut)}}else A==="bitcoin"||A==="ethereum"&&i();E([]),v("")},children:"Disconnect"})]}):g.jsxs("div",{children:[g.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[g.jsx("label",{htmlFor:"connectionChainType",style:{marginBottom:"0.5rem",display:"block"},children:g.jsx("strong",{children:"Select Chain Type:"})}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[g.jsx("button",{className:`button ${A==="ethereum"?"":"secondary"}`,onClick:()=>M("ethereum"),style:{flex:1,minWidth:"100px"},children:"Ethereum"}),(Wc()||Y||Pc()||Tc())&&g.jsx("button",{className:`button ${A==="solana"?"":"secondary"}`,onClick:()=>M("solana"),style:{flex:1,minWidth:"100px"},children:"Solana"}),(qc()||ld())&&g.jsx("button",{className:`button ${A==="bitcoin"?"":"secondary"}`,onClick:()=>M("bitcoin"),style:{flex:1,minWidth:"100px"},children:"Bitcoin"})]}),g.jsx("small",{className:"agent-delegation-small-text",style:{display:"block",marginTop:"0.5rem"},children:A==="ethereum"?"Connect to Ethereum network (MetaMask, Phantom Ethereum, OneKey, OKX, Binance)":A==="solana"?"Connect to Solana network (Phantom Solana, OneKey Solana, OKX Solana, Binance Solana)":"Connect to Bitcoin network (OneKey, Unisat, Xverse, OKX). If using OKX, ensure it's switched to Bitcoin network."})]}),g.jsx("div",{className:"agent-delegation-wallet-buttons",children:(()=>{const Q=te();return Q?g.jsx("button",{className:"button",onClick:ve,disabled:r||A==="ethereum"&&!re,children:r?"Connecting...":`Connect ${Q.wallet}${A!=="ethereum"?` (${A.charAt(0).toUpperCase()+A.slice(1)})`:""}`}):A==="ethereum"?g.jsx("p",{className:"agent-delegation-error-message",children:"No Ethereum wallet detected. Please install MetaMask, Phantom, OneKey, OKX, Rainbow, or Binance wallet."}):A==="solana"?g.jsx("p",{className:"agent-delegation-error-message",children:"No Solana wallet detected. Please install Phantom, OneKey, OKX, Bitget, or Binance wallet extension for Solana support."}):A==="bitcoin"?g.jsx("p",{className:"agent-delegation-error-message",children:ld()?"Wallet detected, but Bitcoin provider is not available. Please switch your wallet to Bitcoin network in the extension, then refresh this page.":"No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension."}):null})()}),C.length>0&&!y&&g.jsxs("div",{style:{marginTop:"1rem"},children:[g.jsx("label",{children:"Select Address:"}),C.map(Q=>g.jsx("button",{className:"button secondary",onClick:()=>v(Q),style:{display:"block",marginTop:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem"},children:Q},Q))]})]})]}),d==="mnemonic"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic (for address generation):"}),g.jsx("textarea",{id:"mnemonic",value:m,onChange:Q=>b(Q.target.value),placeholder:"Enter mnemonic to generate address...",rows:2}),g.jsx("button",{className:"button secondary",onClick:ct,style:{marginTop:"0.5rem"},children:"Generate Address from Mnemonic"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"ownerAddress",children:"Owner Address:"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"ownerAddress",type:"text",value:y,onChange:Q=>v(Q.target.value),placeholder:"0x...",style:{flex:1}}),g.jsx("button",{className:"button secondary",onClick:ct,disabled:!m.trim(),children:"Generate"})]})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"nonce",children:"Nonce:"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"nonce",type:"text",value:w,onChange:Q=>_(Q.target.value),placeholder:"Auto-generated timestamp"}),g.jsx("button",{className:"button secondary",onClick:yt,children:"Generate"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"deadline",children:"Deadline (Unix timestamp):"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{id:"deadline",type:"text",value:x,onChange:Q=>S(Q.target.value),placeholder:"Auto-generated (1 hour from now)"}),g.jsx("button",{className:"button secondary",onClick:Je,children:"Generate"})]})]}),se&&g.jsxs(g.Fragment,{children:[g.jsx("h5",{style:{marginTop:"1.5rem",marginBottom:"1rem"},children:"Operation Parameters:"}),se.fields.map(Q=>{var De;return g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:Q.key,children:[Q.label,Q.required&&" *"]}),Q.type==="select"?g.jsxs("select",{id:Q.key,value:f[Q.key]||"",onChange:Ce=>p({...f,[Q.key]:Ce.target.value}),children:[g.jsxs("option",{value:"",children:["Select ",Q.label]}),(De=Q.options)==null?void 0:De.map(Ce=>g.jsx("option",{value:Ce,children:Ce},Ce))]}):g.jsx("input",{id:Q.key,type:Q.type,value:f[Q.key]||"",onChange:Ce=>p({...f,[Q.key]:Ce.target.value}),placeholder:Q.placeholder}),Q.convertToSatoshi&&g.jsx("small",{className:"agent-delegation-small-text",children:"Will be converted to satoshi format"})]},Q.key)})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 3: Configure Parameters"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 2 to continue."})]}),c&&d&&y&&w&&x?g.jsxs("div",{className:"agent-delegation-step",children:[g.jsx("h4",{children:"Step 4: Sign Message"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[g.jsx("button",{className:"button",onClick:K,disabled:F||z||!y||!w||!x||((se==null?void 0:se.fields.some(Q=>Q.required&&!f[Q.key]))??!1),children:F?"Signing...":"Sign from Owner"}),g.jsx("button",{className:"button",onClick:he,disabled:F||z||!y||!w||!x||!m.trim()||((se==null?void 0:se.fields.some(Q=>Q.required&&!f[Q.key]))??!1),children:z?"Signing...":"Sign by Agent"})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 4: Sign Message"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 3 to continue."})]}),I&&g.jsx("div",{className:`output ${I.success?"success":"error"}`,children:I.success?g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Signature:"}),g.jsx("br",{}),I.signature,g.jsx("br",{}),g.jsx("br",{}),I.typedData&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Payload & Typed Data:"}),g.jsx("br",{}),g.jsx("pre",{className:"agent-delegation-pre",children:JSON.stringify(I.typedData,null,2)})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),I.error]})})]})}function K7e(){var Po,pa,Fr,mi,Qs,Np,jp,rl,An,nc,Au,rc,Tu,Bp,Lp,rr,ei,$r,Fp,Pu,gh,bh,yh,vh,Iu,$p,il,ic,Mu,ma,_s,zp,Ut,Io,Mo,Ou,Du,yr,Up,Ru,Wp,Te,Pt,en,Js,sl,a1,l1,c1,u1;const n=Su(),{ownerAddress:e,setOwnerAddress:r,agentAddress:i,setAgentAddress:s,agentPrivateKey:o,expiresInDays:a,setExpiresInDays:l,permissions:c,setPermissions:u,agentName:d,setAgentName:h,nonce:f,setNonce:p,result:m,loading:b,generateAgentKeypair:y,clearAgentCredentials:v,isMetaMaskConnected:w,isPhantomConnected:_,isOneKeyConnected:x,isOKXConnected:S,isBinanceConnected:C,isBitgetConnected:E,isRainbowConnected:A,isReady:M}=p7e(n),{connect:I,connectors:O,isPending:F}=x7(),{disconnect:$}=px(),{address:z,isConnected:R}=Mi(),{signTypedDataAsync:j}=_7(),N=fx(),[D,H]=T.useState([]),[U,X]=T.useState("ethereum"),[Y,ee]=T.useState(null),[G,Z]=T.useState(!1),[pe,re]=T.useState(!1),le=async()=>{const ye=z||e;if(!ye||!i)throw new Error("Owner and agent addresses are required");const Ke=c.split(",").map(Lt=>Lt.trim()).filter(Lt=>Lt.length>0),He=Math.floor(Date.now()/1e3)+a*24*60*60;if(Nt.isReady())try{const Lt={owner:ye.toLowerCase(),agent:i.toLowerCase(),expiresInDays:a,permissions:Ke,nonce:f||Date.now().toString(),agentName:d||""},Ht=await Nt.prepareAgentSign(Lt);if(Ht.success&&Ht.typedData&&Ht.typedData.domain&&Ht.typedData.types&&Ht.typedData.message)return{domain:Ht.typedData.domain,types:Ht.typedData.types,primaryType:"AgentApproval",message:Ht.typedData.message}}catch(Lt){console.warn("Failed to use mormSigner.prepareAgentSign, falling back to manual preparation:",Lt)}const et={name:"Morpheum",version:"",chainId:N,verifyingContract:"0x0000000000000000000000000000000000000000"},We={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],AgentApproval:[{name:"owner",type:"address"},{name:"agent",type:"address"},{name:"agentName",type:"string"},{name:"expiresInDays",type:"uint256"},{name:"permissions",type:"string[]"},{name:"nonce",type:"string"},{name:"deadline",type:"uint256"}]},_t={owner:ye.toLowerCase(),agent:i.toLowerCase(),agentName:d||"",expiresInDays:a,permissions:Ke,nonce:f||Date.now().toString(),deadline:He};return{domain:et,types:We,primaryType:"AgentApproval",message:_t}},ce=async()=>{var Ke,He,et,We,_t,Lt,Ht,Rn,Hn,sn,hr,fr,gi,Yt,Tr,bi;const ye=U==="bitcoin"?e:z||e;if(!ye||!i){ee({success:!1,error:"Owner and agent addresses are required"});return}Z(!0),ee(null);try{if(U==="bitcoin"&&Se){const pt=E9(),un=Td();if(!un||pt.length===0)throw new Error("No Bitcoin wallet detected. Please connect a Bitcoin wallet.");const Un=await le(),ti=c.split(",").map(dn=>dn.trim()).filter(dn=>dn.length>0),vr=Math.floor(Date.now()/1e3)+a*24*60*60,zr={action:"AgentApproval",owner:Un.message.owner||ye,agent:Un.message.agent||i,expiresInDays:Un.message.expiresInDays||a,permissions:Un.message.permissions||ti,nonce:Un.message.nonce||f||Date.now().toString(),agentName:Un.message.agentName||d||"",deadline:((Ke=Un.message.deadline)==null?void 0:Ke.toString())||vr.toString()};if(un.name==="OneKey"&&Ze){const dn=JSON.stringify(zr),Zs=await e7e(dn,ye,"ecdsa");ee({success:!0,signature:Zs.signature,typedData:Un});return}else if(un.name==="OKX"&&Ta()){const dn=JSON.stringify(zr),Zs=await Gje(dn,ye);ee({success:!0,signature:Zs.signature,typedData:Un});return}else if(un.name==="Unisat"||un.name==="Bitget"){const dn=await l4(zr,ye,"bip137");ee({success:!0,signature:dn.signature,typedData:Un});return}else{const dn=await l4(zr,ye,"bip137");ee({success:!0,signature:dn.signature,typedData:Un});return}}const Vn=U==="ethereum"&&x&&yt||U==="solana"&&_e&&ct&&((He=As())==null?void 0:He.isConnected)||U==="bitcoin"&&Se&&Ze,Nu=U==="ethereum"&&S&&ZW()||U==="solana"&&_e&&Pc()&&((et=zi())==null?void 0:et.isConnected)||U==="bitcoin"&&Se&&Ta();if(Nu&&U==="ethereum"&&a4()){const pt=await le(),un=await qje(pt.domain,pt.types,pt.message,ye);ee({success:!0,signature:un.signature,typedData:pt})}else if(Vn&&U==="ethereum"&&yt){const pt=await le(),un=await Zje(pt.domain,pt.types,pt.message,ye);ee({success:!0,signature:un.signature,typedData:pt})}else if(Vn&&U==="solana"&&ct){const pt=await le(),un=As();if(!un)throw new Error("OneKey Solana provider not found");const Un=c.split(",").map(dn=>dn.trim()).filter(dn=>dn.length>0),ti=Math.floor(Date.now()/1e3)+a*24*60*60,vr={action:"AgentApproval",owner:pt.message.owner||ye,agent:pt.message.agent||i,expiresInDays:pt.message.expiresInDays||a,permissions:pt.message.permissions||Un,nonce:pt.message.nonce||f||Date.now().toString(),agentName:pt.message.agentName||d||"",deadline:((We=pt.message.deadline)==null?void 0:We.toString())||ti.toString()},zr=await Sje(un,vr);ee({success:!0,signature:zr.signature,typedData:pt})}else if(Nu&&U==="solana"&&Pc()){const pt=await le(),un=JSON.stringify(pt.message),Un=await Vje(un);ee({success:!0,signature:Un.signature,typedData:pt})}else if(U==="solana"&&_e&&Gk()&&((_t=ro())!=null&&_t.isConnected)){const pt=await le(),un=ro();if(!un)throw new Error("Bitget Solana provider not found");const Un=c.split(",").map(dn=>dn.trim()).filter(dn=>dn.length>0),ti=Math.floor(Date.now()/1e3)+a*24*60*60,vr={action:"AgentApproval",owner:pt.message.owner||ye,agent:pt.message.agent||i,expiresInDays:pt.message.expiresInDays||a,permissions:pt.message.permissions||Un,nonce:pt.message.nonce||f||Date.now().toString(),agentName:pt.message.agentName||d||"",deadline:((Lt=pt.message.deadline)==null?void 0:Lt.toString())||ti.toString()},zr=await Cje(un,vr);ee({success:!0,signature:zr.signature,typedData:pt})}else if(U==="solana"&&_e&&XW()&&((Ht=Ey())!=null&&Ht.isConnected)){const pt=await le(),un=Ey();if(!un)throw new Error("TokenPocket Solana provider not found");const Un=c.split(",").map(dn=>dn.trim()).filter(dn=>dn.length>0),ti=Math.floor(Date.now()/1e3)+a*24*60*60,vr={action:"AgentApproval",owner:pt.message.owner||ye,agent:pt.message.agent||i,expiresInDays:pt.message.expiresInDays||a,permissions:pt.message.permissions||Un,nonce:pt.message.nonce||f||Date.now().toString(),agentName:pt.message.agentName||d||"",deadline:((Rn=pt.message.deadline)==null?void 0:Rn.toString())||ti.toString()},zr=await Aje(un,vr);ee({success:!0,signature:zr.signature,typedData:pt})}else if(U==="solana"&&_e&&Tc()&&((Hn=xi())!=null&&Hn.isConnected)){const pt=await le(),un=xi();if(!un)throw new Error("Binance Solana provider not found");const Un=c.split(",").map(dn=>dn.trim()).filter(dn=>dn.length>0),ti=Math.floor(Date.now()/1e3)+a*24*60*60,vr={action:"AgentApproval",owner:pt.message.owner||ye,agent:pt.message.agent||i,expiresInDays:pt.message.expiresInDays||a,permissions:pt.message.permissions||Un,nonce:pt.message.nonce||f||Date.now().toString(),agentName:pt.message.agentName||d||"",deadline:((sn=pt.message.deadline)==null?void 0:sn.toString())||ti.toString()},zr=await Mje(un,vr);ee({success:!0,signature:zr.signature,typedData:pt})}else if(U==="ethereum"&&Ae&&R){const pt=await le(),un=await j({domain:pt.domain,types:pt.types,primaryType:pt.primaryType,message:pt.message});ee({success:!0,signature:un,typedData:pt})}else if(U==="ethereum"&&st&&R){const pt=await le(),un=await j({domain:pt.domain,types:pt.types,primaryType:pt.primaryType,message:pt.message});ee({success:!0,signature:un,typedData:pt})}else if(U==="solana"&&_e&&ze&&((hr=ad())!=null&&hr.isConnected)){const pt=await le(),un=ad();if(!un)throw new Error("Coinbase Wallet Solana provider not found");const Un=c.split(",").map(dn=>dn.trim()).filter(dn=>dn.length>0),ti=Math.floor(Date.now()/1e3)+a*24*60*60,vr={action:"AgentApproval",owner:pt.message.owner||ye,agent:pt.message.agent||i,expiresInDays:pt.message.expiresInDays||a,permissions:pt.message.permissions||Un,nonce:pt.message.nonce||f||Date.now().toString(),agentName:pt.message.agentName||d||"",deadline:((fr=pt.message.deadline)==null?void 0:fr.toString())||ti.toString()},zr=await Ije(un,vr);ee({success:!0,signature:zr.signature,typedData:pt})}else if(U==="solana"&&_e&&Wc()&&((gi=ao())!=null&&gi.isConnected)){const pt=await le(),un=ao();if(!un)throw new Error("Phantom Solana provider not found");const Un=c.split(",").map(dn=>dn.trim()).filter(dn=>dn.length>0),ti=Math.floor(Date.now()/1e3)+a*24*60*60,vr={action:"AgentApproval",owner:pt.message.owner||ye,agent:pt.message.agent||i,expiresInDays:pt.message.expiresInDays||a,permissions:pt.message.permissions||Un,nonce:pt.message.nonce||f||Date.now().toString(),agentName:pt.message.agentName||d||"",deadline:((Yt=pt.message.deadline)==null?void 0:Yt.toString())||ti.toString()},zr=await S9(un,vr);ee({success:!0,signature:zr.signature,typedData:pt})}else if(U!=="bitcoin"){const pt=await le(),un=await j({domain:pt.domain,types:pt.types,primaryType:pt.primaryType,message:pt.message});ee({success:!0,signature:un,typedData:pt})}else throw new Error("Bitcoin wallet connection not properly established. Please reconnect your Bitcoin wallet.")}catch(Jt){Jt.code===4001||(Tr=Jt.message)!=null&&Tr.includes("User rejected")||(bi=Jt.message)!=null&&bi.includes("rejected")?ee({success:!1,error:"User rejected the signature request"}):(console.error("Error signing:",Jt),ee({success:!1,error:Jt.message||"Unknown error during signing"}))}finally{Z(!1)}},Pe=mu(),Ee=sa(),V=La(),Ae=A9(),Qe=T9(),st=Fa(),ze=P9(),wt=typeof window<"u"&&((Po=window.ethereum)==null?void 0:Po.isRainbow)===!0,qe=typeof window<"u"&&(!!((pa=window.phantom)!=null&&pa.ethereum)||!!((Fr=window.ethereum)!=null&&Fr.isPhantom))&&!(window.$onekey||(mi=window.ethereum)!=null&&mi.isOneKey),Je=typeof window<"u"&&(!!((Qs=window.$onekey)!=null&&Qs.ethereum)||!!((Np=window.ethereum)!=null&&Np.isOneKey)||!!window.$onekey),yt=fpe(),ct=Kk(),Ze=C9(),Ve=typeof window<"u"&&(!!((jp=window.okxwallet)!=null&&jp.ethereum)||!!((rl=window.ethereum)!=null&&rl.isOKX)),[rt,q]=T.useState(()=>{var Ke;if(typeof window>"u")return!1;if(((Ke=window.binancew3w)==null?void 0:Ke.isExtension)===!0||window.BinanceChain)return!0;const ye=window.ethereum;if(ye!=null&&ye.isBinance)return!0;if(ye){const He=ye.providerName||ye.name;if(typeof He=="string"&&He.toLowerCase().includes("binance"))return!0}return!!(ye!=null&&ye._postMessageToMp&&typeof ye._postMessageToMp=="function"&&(ye==null?void 0:ye.namespace)==="eip155"||Tc())});T.useEffect(()=>{if(rt)return;let ye=!0;return TS(3e3,100).then(Ke=>{ye&&Ke&&q(!0)}),()=>{ye=!1}},[rt]);const te=O.find(ye=>{var Ke;return ye.id==="injected"||ye.type==="injected"||((Ke=ye.name)==null?void 0:Ke.toLowerCase().includes("injected"))});T.useEffect(()=>{var Ke,He,et,We,_t,Lt,Ht,Rn,Hn,sn,hr,fr,gi,Yt,Tr;console.log("[Wallet Debug] Component mounted/updated"),console.log("[Wallet Debug] Window object:",typeof window<"u"?"available":"undefined"),console.log("[Wallet Debug] window.phantom:",window.phantom),console.log("[Wallet Debug] window.ethereum:",window.ethereum),console.log("[Wallet Debug] window.ethereum?.isMetaMask:",(Ke=window.ethereum)==null?void 0:Ke.isMetaMask),console.log("[Wallet Debug] window.ethereum?.isPhantom:",(He=window.ethereum)==null?void 0:He.isPhantom),console.log("[Wallet Debug] window.ethereum?.isOneKey:",(et=window.ethereum)==null?void 0:et.isOneKey),console.log("[Wallet Debug] window.ethereum?.isOKX:",(We=window.ethereum)==null?void 0:We.isOKX),console.log("[Wallet Debug] window.ethereum?.isBinance:",(_t=window.ethereum)==null?void 0:_t.isBinance),console.log("[Wallet Debug] window.binancew3w:",window.binancew3w),console.log("[Wallet Debug] window.binancew3w?.isExtension:",(Lt=window.binancew3w)==null?void 0:Lt.isExtension),console.log("[Wallet Debug] window.ethereum?.chainId:",(Ht=window.ethereum)==null?void 0:Ht.chainId),console.log("[Wallet Debug] window.ethereum?.networkVersion:",(Rn=window.ethereum)==null?void 0:Rn.networkVersion);const ye=window.ethereum;ye&&(console.log("[Wallet Debug] window.ethereum.providerName:",ye.providerName||ye.name),console.log("[Wallet Debug] window.ethereum keys:",Object.keys(ye).filter(bi=>bi.toLowerCase().includes("binance")||bi.toLowerCase().includes("bnb")||bi==="_postMessageToMp"||bi==="_requestNormalConnect"||bi==="namespace"||bi==="providerName"||bi==="name")),console.log("[Wallet Debug] window.ethereum.namespace:",ye.namespace),console.log("[Wallet Debug] window.ethereum._postMessageToMp:",typeof ye._postMessageToMp)),console.log("[Wallet Debug] window.BinanceChain:",window.BinanceChain),console.log("[Wallet Debug] window.BinanceChain?.solana:",(Hn=window.BinanceChain)==null?void 0:Hn.solana),console.log("[Wallet Debug] window.solana:",window.solana),console.log("[Wallet Debug] window.solana?.isBinance:",(sn=window.solana)==null?void 0:sn.isBinance),console.log("[Wallet Debug] window.solana?.name:",(hr=window.solana)==null?void 0:hr.name),console.log("[Wallet Debug] window.binancew3w?.solana:",(fr=window.binancew3w)==null?void 0:fr.solana),console.log("[Wallet Debug] window.ethereum?.solana:",(gi=window.ethereum)==null?void 0:gi.solana),console.log("[Wallet Debug] isBinanceSolanaAvailable():",Tc()),console.log("[Wallet Debug] window.$onekey:",window.$onekey),console.log("[Wallet Debug] window.okxwallet:",window.okxwallet),console.log("[Wallet Debug] window.okxwallet?.ethereum:",(Yt=window.okxwallet)==null?void 0:Yt.ethereum),console.log("[Wallet Debug] window.okxwallet?.bitcoin:",(Tr=window.okxwallet)==null?void 0:Tr.bitcoin),console.log("[Wallet Debug] window.unisat:",window.unisat),console.log("[Wallet Debug] window.BitcoinProvider:",window.BitcoinProvider),console.log("[Wallet Debug] window.XverseProvider:",window.XverseProvider),console.log("[Wallet Debug] isPhantomAvailable:",qe),console.log("[Wallet Debug] isOneKeyAvailable:",Je),console.log("[Wallet Debug] isOKXEthereumAvailable:",Ve),console.log("[Wallet Debug] isBinanceAvailable:",rt),console.log("[Wallet Debug] isBitcoinWalletAvailable():",qc()),console.log("[Wallet Debug] isOKXWalletInstalled():",ld()),console.log("[Wallet Debug] All connectors:",O),console.log("[Wallet Debug] Injected connector:",te),console.log("[Wallet Debug] Injected connector ID:",te==null?void 0:te.id),console.log("[Wallet Debug] Injected connector name:",te==null?void 0:te.name),console.log("[Wallet Debug] isConnecting:",F)},[O,te,qe,Je,Ve,rt,F]);const ve=e&&z&&e.toLowerCase()===z.toLowerCase();let me=null;if(typeof window<"u")if((An=window.$onekey)!=null&&An.ethereum||(nc=window.ethereum)!=null&&nc.isOneKey||window.$onekey)me="OneKey";else if((Au=window.phantom)!=null&&Au.ethereum||(rc=window.ethereum)!=null&&rc.isPhantom)me="Phantom";else{const ye=!!((Tu=window.okxwallet)!=null&&Tu.solana),Ke=!!((Bp=window.okxwallet)!=null&&Bp.bitcoin);ye&&Ke&&window.ethereum||(Lp=window.okxwallet)!=null&&Lp.ethereum||(rr=window.ethereum)!=null&&rr.isOKX||window.okxwallet?me="OKX":sa()?me="Bitget":La()?me="TokenPocket":Fa()?me="Coinbase Wallet":((ei=window.ethereum)==null?void 0:ei.isRainbow)===!0?me="Rainbow":window.BinanceChain||($r=window.ethereum)!=null&&$r.isBinance?me="Binance":mu()&&(me="MetaMask")}const xe=w||R&&ve&&me==="MetaMask"||e&&me==="MetaMask"&&Pe,fe=_||R&&ve&&me==="Phantom"||e&&me==="Phantom"&&qe,K=x||R&&ve&&me==="OneKey"||e&&me==="OneKey"&&Je,he=S||R&&ve&&me==="OKX"||e&&me==="OKX"&&Ve,se=C||R&&ve&&me==="Binance"||e&&me==="Binance"&&rt,ke=E||R&&ve&&me==="Bitget"||e&&me==="Bitget"&&Ee,Re=A||R&&ve&&me==="Rainbow"||e&&me==="Rainbow"&&wt,de=xe||fe||K||he||se||ke||Re,_e=(()=>{var Lt,Ht,Rn,Hn;if(U!=="solana")return!1;const ye=As();if(ye&&ye.isConnected&&ye.publicKey){const sn=ye.publicKey.toString();if(e===sn)return!0}const Ke=zi();if(Ke&&Ke.isConnected&&Ke.publicKey){const sn=(Lt=Ke.publicKey)==null?void 0:Lt.toString();if(sn&&e===sn)return!0}const He=xi();if(He&&He.isConnected&&He.publicKey){const sn=(Ht=He.publicKey)==null?void 0:Ht.toString();if(sn&&e===sn)return!0}const et=ro();if(et&&et.isConnected&&et.publicKey){const sn=(Rn=et.publicKey)==null?void 0:Rn.toString();if(sn&&e===sn)return!0}const We=ad();if(We&&We.isConnected&&We.publicKey){const sn=(Hn=We.publicKey)==null?void 0:Hn.toString();if(sn&&e===sn)return!0}const _t=ao();if(_t&&_t.isConnected&&_t.publicKey){const sn=_t.publicKey.toString();if(e===sn)return!0}if(e&&D.length>0){const sn=!e.startsWith("0x")&&e.length>=32&&e.length<=44,hr=D.some(fr=>fr===e);if(sn&&hr)return!0}return!1})(),Se=!(U!=="bitcoin"||!e||!/^(bc1|[13]|[mn2])[a-zA-HJ-NP-Z0-9]{25,62}$/.test(e)),ae=(()=>{if(U!=="ethereum")return!1;if(R&&z)return!0;if(e&&D.length>0){const ye=e.startsWith("0x")||e.startsWith("0X"),Ke=D.some(He=>He.toLowerCase()===e.toLowerCase());return ye&&Ke}return!1})(),ie=ae||_e||Se,ue=(()=>{var ye,Ke,He,et,We,_t,Lt,Ht,Rn,Hn;if(_e){const sn=As();if(sn&&sn.isConnected&&e&&((ye=sn.publicKey)==null?void 0:ye.toString())===e)return"OneKey (Solana)";console.log("OKX Solana is checking");const hr=zi();if(hr&&hr.isConnected&&e&&((Ke=hr.publicKey)==null?void 0:Ke.toString())===e)return"OKX (Solana)";console.log("Binance Solana is checking");const fr=xi();if(fr&&fr.isConnected&&e&&((He=fr.publicKey)==null?void 0:He.toString())===e)return"Binance (Solana)";console.log("Coinbase Wallet Solana is checking");const gi=ad();return gi&&gi.isConnected&&e&&((et=gi.publicKey)==null?void 0:et.toString())===e?"Coinbase Wallet (Solana)":"Phantom (Solana)"}if(Se){const sn=Td();if(sn)return`${sn.name} (Bitcoin)`;if(typeof window<"u"){const hr=!!((We=window.$onekey)!=null&&We.btc)||window.$onekey&&window.unisat,fr=!!((_t=window.okxwallet)!=null&&_t.bitcoin),gi=!!((Lt=window.bitkeep)!=null&&Lt.isBitKeep)||!!((Rn=(Ht=window.bitkeep)==null?void 0:Ht.ethereum)!=null&&Rn.isBitEthereum),Yt=!!window.unisat&&!window.$onekey&&!gi,Tr=!!window.BitcoinProvider||!!window.XverseProvider,bi=!!((Hn=window.bitkeep)!=null&&Hn.unisat)||gi&&window.unisat;if(hr)return"OneKey (Bitcoin)";if(fr)return"OKX (Bitcoin)";if(bi)return"Bitget (Bitcoin)";if(Yt)return"Unisat (Bitcoin)";if(Tr)return"Xverse (Bitcoin)"}return"Bitcoin Wallet"}if(ae){if(K||me==="OneKey"&&Je)return"OneKey";if(he)return"OKX (Ethereum)";if(ke)return"Bitget";if(Re)return"Rainbow";if(se)return"Binance";if(xe)return"MetaMask";if(fe)return"Phantom (Ethereum)"}return null})(),it=ye=>!ye||typeof ye!="string"?!1:/^(bc1|[13]|[mn2])[a-zA-HJ-NP-Z0-9]{25,62}$/.test(ye),Fe=ye=>!ye||typeof ye!="string"?!1:ye.length>=32&&ye.length<=44&&!ye.startsWith("0x")&&/^[1-9A-HJ-NP-Za-km-z]+$/.test(ye),Ye=ye=>!ye||typeof ye!="string"?!1:/^0x[a-fA-F0-9]{40}$/.test(ye),Ne=D.length>0||ie,Xe=z||(ae&&e?e:null),ft=ie&&(Xe||(_e||Se)&&e)&&i;T.useEffect(()=>{if(!(Se&&e)&&!(_e&&e)&&D.length===1&&!e){const ye=D[0];if(ye&&typeof ye=="string"){const Ke=it(ye),He=Fe(ye),et=Ye(ye);(U==="bitcoin"&&Ke||U==="solana"&&He||U==="ethereum"&&et||!U||U==="ethereum")&&(r(ye),(!U||U==="ethereum")&&(Ke?X("bitcoin"):He&&X("solana")))}}},[D,e,r,U,Se,_e]),T.useEffect(()=>{if(i&&o)try{if(sessionStorage.getItem("agent_delegation_address")===i){re(!0);const Ke=setTimeout(()=>re(!1),5e3);return()=>clearTimeout(Ke)}}catch(ye){console.warn("Failed to check sessionStorage:",ye)}},[i,o]);const Ge=T.useRef(void 0);T.useEffect(()=>{if(U==="ethereum"){if(e){if(it(e)){console.log("[Connection Sync] ownerAddress is Bitcoin, skipping wagmi sync to prevent overwrite");return}if(Fe(e)){console.log("[Connection Sync] ownerAddress is Solana, skipping wagmi sync to prevent overwrite");return}}if(R&&z){if(Ge.current!==z){const ye=(e==null?void 0:e.toLowerCase())||"",Ke=z.toLowerCase();ye!==Ke?!e||Ye(e)?(console.log("[Connection Sync] Updating ownerAddress to match wagmiAddress:",z),r(z),Ge.current=z):console.log("[Connection Sync] ownerAddress is not Ethereum, skipping overwrite:",e):Ge.current=z}}else R&&!z&&e&&D.length>0?D.find(Ke=>Ke.toLowerCase()===e.toLowerCase())&&console.log("[Connection Sync] Wagmi connected but no address yet, keeping ownerAddress:",e):R||(Ge.current=void 0)}},[R,z,r,U,e]);const ot=T.useRef(R);T.useEffect(()=>{const ye=ot.current;U==="ethereum"&&ye&&!R&&D.length>0&&D.some(et=>et.startsWith("0x")||et.startsWith("0X"))&&(H([]),e&&(e.startsWith("0x")||e.startsWith("0X"))&&r("")),ot.current=R},[R,U]),H7e({onDisconnect:ye=>{if(console.warn(`[Wallet Disconnect] ${ye.walletName} ${ye.chainType} wallet disconnected:`,ye.reason),ye.chainType==="ethereum"&&U==="ethereum"||ye.chainType==="solana"&&U==="solana"||ye.chainType==="bitcoin"&&U==="bitcoin"){H([]),r("");const He=ye.walletName==="OKX"?"OKX Wallet":ye.walletName==="Phantom"?"Phantom Wallet":ye.walletName==="OneKey"?"OneKey Wallet":ye.walletName==="Binance"?"Binance Wallet":ye.walletName==="MetaMask"?"MetaMask":"Wallet",et=ye.reason?`

Reason: ${ye.reason}`:"";alert(`${He} has disconnected from the ${ye.chainType} network.${et}

Please reconnect your wallet to continue.`)}},enableOKX:!0,enablePhantom:!0,enableOneKey:!0,enableEthereum:!0});const Ie=T.useRef({wagmiIsConnected:!1,wagmiAddress:void 0,ownerAddress:"",connectionChainType:"",availableAddressesLength:0});T.useEffect(()=>{const ye=Ie.current;(ye.wagmiIsConnected!==R||ye.wagmiAddress!==z||ye.ownerAddress!==e||ye.connectionChainType!==U||ye.availableAddressesLength!==D.length)&&(console.log("[Connection Debug] wagmiIsConnected:",R),console.log("[Connection Debug] wagmiAddress:",z),console.log("[Connection Debug] ownerAddress:",e),console.log("[Connection Debug] connectionChainType:",U),console.log("[Connection Debug] availableAddresses:",D),console.log("[Connection Debug] isPhantomConnected (hook):",_),console.log("[Connection Debug] isMetaMaskConnected (hook):",w),console.log("[Connection Debug] isOneKeyConnected (hook):",x),console.log("[Connection Debug] isOKXConnected (hook):",S),console.log("[Connection Debug] isBinanceConnected (hook):",C),console.log("[Connection Debug] isBitgetConnected (hook):",E),console.log("[Connection Debug] isRainbowConnected (hook):",A),console.log("[Connection Debug] detectedWallet:",me),console.log("[Connection Debug] hasMatchingAddress:",ve),console.log("[Connection Debug] isPhantomConnectedEnhanced:",fe),console.log("[Connection Debug] isWalletConnected:",de),console.log("[Connection Debug] isSolanaConnected:",_e),console.log("[Connection Debug] isBitcoinConnected:",Se),console.log("[Connection Debug] isEthereumConnected:",ae),console.log("[Connection Debug] hasWalletExtensionConnection:",ie),console.log("[Connection Debug] hasWalletConnection:",Ne),Ie.current={wagmiIsConnected:R,wagmiAddress:z,ownerAddress:e||"",connectionChainType:U,availableAddressesLength:D.length})},[R,z,e,U,D.length,_,w,x,S,C,E]);const at=async()=>{if(!Pe){alert("MetaMask wallet is not installed. Please install MetaMask wallet extension.");return}try{const ye=window.ethereum;if(ye){const Ke=await ye.request({method:"eth_requestAccounts"});if(Ke&&Ke.length>0){const He=Ke.filter(et=>et&&typeof et=="string"&&et.trim().length>0);He.length>0&&(H(He),He.length===1&&r(He[0]))}}te?(await I({connector:te}),await new Promise(Ke=>setTimeout(Ke,300))):alert("MetaMask connector not found. Please ensure MetaMask wallet is installed.")}catch(ye){ye.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to MetaMask:",ye),alert(`Failed to connect to MetaMask: ${ye.message||"Unknown error"}`))}},Q=async()=>{var ye,Ke,He,et,We,_t,Lt,Ht,Rn,Hn,sn,hr,fr,gi;if(console.log("[Phantom Debug] Starting connection process..."),console.log("[Phantom Debug] Connection chain type:",U),console.log("[Phantom Debug] isPhantomAvailable:",qe),console.log("[Phantom Debug] window.phantom:",window.phantom),console.log("[Phantom Debug] window.ethereum:",window.ethereum),console.log("[Phantom Debug] window.ethereum?.isPhantom:",(ye=window.ethereum)==null?void 0:ye.isPhantom),U==="solana"){try{if(!Wc()){alert("Phantom Solana wallet is not available. Please ensure Phantom wallet is installed and unlocked.");return}console.log("[Phantom Debug] Connecting to Solana...");const Yt=await tE();if(console.log("[Phantom Debug] Solana address received:",Yt),Yt&&typeof Yt=="string"){H([Yt]),r(Yt),X("solana"),console.log("[Phantom Debug] Solana connection successful"),console.log("[Phantom Debug] Solana address set:",Yt),console.log("[Phantom Debug] availableAddresses set:",[Yt]);const Tr=ao();console.log("[Phantom Debug] Solana provider state:",{exists:!!Tr,isConnected:Tr==null?void 0:Tr.isConnected,publicKey:(Ke=Tr==null?void 0:Tr.publicKey)==null?void 0:Ke.toString()})}}catch(Yt){console.error("[Phantom Debug] Solana connection error:",Yt),Yt.code===4001||(He=Yt.message)!=null&&He.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Phantom Solana: ${Yt.message||"Unknown error"}`)}return}if(!qe){console.error("[Phantom Debug] Phantom wallet not available"),alert("Phantom wallet is not installed. Please install Phantom wallet extension.");return}try{let Yt=(et=window.phantom)==null?void 0:et.ethereum;console.log("[Phantom Debug] phantomProvider (window.phantom.ethereum):",Yt);const Tr=!!((We=window.phantom)!=null&&We.solana)||!!window.solana,bi=!!((_t=window.phantom)!=null&&_t.ethereum)||!!((Lt=window.ethereum)!=null&&Lt.isPhantom);if(window.phantom&&!Yt&&!((Ht=window.ethereum)!=null&&Ht.isPhantom)&&(console.warn("[Phantom Debug] Phantom detected but Ethereum provider not available"),console.warn("[Phantom Debug] Phantom might be in Solana mode"),Tr&&!bi)){alert(`Phantom wallet is currently in Solana mode. Please switch to Ethereum mode in your Phantom wallet extension to connect.

To switch:
1. Open your Phantom wallet extension
2. Click on the network selector (top of the wallet)
3. Switch from Solana to Ethereum
4. Then try connecting again.`);return}if(!Yt&&window.phantom){const Vn=window.phantom;typeof Vn.request=="function"&&(Yt=Vn,console.log("[Phantom Debug] Using window.phantom as provider"))}if(!Yt&&((Rn=window.ethereum)!=null&&Rn.isPhantom)&&(Yt=window.ethereum,console.log("[Phantom Debug] Using window.ethereum as provider (isPhantom=true)")),!Yt){console.error("[Phantom Debug] No valid Phantom provider found"),console.error("[Phantom Debug] Available providers:",{hasWindowPhantom:!!window.phantom,hasPhantomEthereum:!!((Hn=window.phantom)!=null&&Hn.ethereum),hasPhantomSolana:Tr,phantomHasRequest:typeof((sn=window.phantom)==null?void 0:sn.request)=="function",hasWindowEthereum:!!window.ethereum,ethereumIsPhantom:(hr=window.ethereum)==null?void 0:hr.isPhantom,ethereumIsMetaMask:(fr=window.ethereum)==null?void 0:fr.isMetaMask}),window.phantom&&Tr?alert(`Phantom wallet is in Solana mode. Please switch to Ethereum mode:

1. Open your Phantom wallet extension
2. Switch from Solana to Ethereum network
3. Then try connecting again.`):alert("Phantom wallet Ethereum provider not found. Please ensure Phantom wallet is installed and switched to Ethereum mode.");return}console.log("[Phantom Debug] Using provider, requesting accounts...");let Jt;try{Jt=await Yt.request({method:"eth_requestAccounts"})}catch(Vn){console.error("[Phantom Debug] Error requesting Ethereum accounts:",Vn);const Qi=((gi=Vn==null?void 0:Vn.message)==null?void 0:gi.toLowerCase())||"",Nu=Vn==null?void 0:Vn.code;if(Nu===4001||Qi.includes("user rejected")||Qi.includes("rejected")){alert("User rejected the connection request.");return}if(Qi.includes("solana")||Qi.includes("ethereum")||!Yt||Nu===-32602||Nu===-32603){alert(`Unable to connect to Phantom Ethereum. Please ensure:

1. Phantom wallet is open and unlocked
2. Phantom is switched to Ethereum mode (not Solana)
3. You have an Ethereum account in Phantom

To switch to Ethereum mode:
- Open Phantom extension
- Click the network selector at the top
- Select Ethereum network`);return}throw Vn}if(console.log("[Phantom Debug] Accounts received:",Jt),Jt&&Jt.length>0&&(H(Jt),console.log("[Phantom Debug] Available addresses:",Jt),Jt.length===1&&(console.log("[Phantom Debug] Auto-selecting single address:",Jt[0]),r(Jt[0]))),console.log("[Phantom Debug] Waiting 200ms before wagmi connection..."),await new Promise(Vn=>setTimeout(Vn,200)),console.log("[Phantom Debug] injectedConnector:",te),console.log("[Phantom Debug] All connectors:",O),console.log("[Phantom Debug] Current wagmi state - isConnected:",R,"address:",z),console.log("[Phantom Debug] Current ownerAddress:",e),te){console.log("[Phantom Debug] Connecting via wagmi injected connector...");try{const Vn=await I({connector:te});console.log("[Phantom Debug] Wagmi connect() result:",Vn),console.log("[Phantom Debug] Wagmi connect() called"),console.log("[Phantom Debug] Waiting for wagmi state update..."),await new Promise(Qi=>setTimeout(Qi,500)),await new Promise(Qi=>setTimeout(Qi,300)),console.log("[Phantom Debug] After wait - wagmi state - isConnected:",R,"address:",z),console.log("[Phantom Debug] After wait - ownerAddress:",e),!z&&e?(console.log("[Phantom Debug] Wagmi not updated yet, but ownerAddress is set from Phantom"),console.log("[Phantom Debug] The sync effect will update when wagmi is ready")):z&&(console.log("[Phantom Debug] Wagmi address updated successfully:",z),(e==null?void 0:e.toLowerCase())!==z.toLowerCase()&&(console.log("[Phantom Debug] Syncing ownerAddress to match wagmiAddress"),r(z)))}catch(Vn){console.error("[Phantom Debug] Error connecting via wagmi:",Vn),console.warn("[Phantom Debug] Continuing with Phantom address despite wagmi error"),console.warn("[Phantom Debug] ownerAddress from Phantom:",e)}}else console.error("[Phantom Debug] Injected connector not found"),console.warn("[Phantom Debug] No wagmi connector, but we have Phantom address:",e)}catch(Yt){console.error("[Phantom Debug] Error caught:",Yt),console.error("[Phantom Debug] Error code:",Yt.code),console.error("[Phantom Debug] Error message:",Yt.message),console.error("[Phantom Debug] Error stack:",Yt.stack),Yt.code===4001?(console.log("[Phantom Debug] User rejected the connection"),alert("User rejected the connection request.")):(console.error("[Phantom Debug] Unknown error during connection"),alert(`Failed to connect to Phantom Ethereum: ${Yt.message||"Unknown error"}

Please ensure Phantom wallet is unlocked and switched to Ethereum mode.`))}},De=async()=>{var ye,Ke,He,et,We;if(U!=="bitcoin"){alert("UniSat wallet only supports Bitcoin network. Please switch to Bitcoin chain type.");return}try{const _t=!!window.$onekey,Lt=!!((ye=window.bitkeep)!=null&&ye.isBitKeep)||!!((He=(Ke=window.bitkeep)==null?void 0:Ke.ethereum)!=null&&He.isBitEthereum);if(!window.unisat){alert("UniSat wallet is not installed. Please install UniSat wallet extension from the Chrome Web Store.");return}if(_t||Lt){if(_t){alert("OneKey wallet is detected. Please use the OneKey connection button instead, as OneKey provides UniSat-compatible interface.");return}if(Lt){alert("Bitget wallet is detected. Please use the Bitget connection button instead, as Bitget provides UniSat-compatible interface.");return}}console.log("[UniSat Debug] Connecting to UniSat Bitcoin wallet...");const Rn=await window.unisat.requestAccounts();if(Rn&&Rn.length>0){const Hn=Rn[0];console.log("[UniSat Debug] Bitcoin address received:",Hn),Hn&&typeof Hn=="string"&&(H([Hn]),r(Hn),X("bitcoin"),console.log("[UniSat Debug] UniSat connection successful"))}else throw new Error("No accounts returned from UniSat wallet")}catch(_t){if(console.error("[UniSat Debug] UniSat connection error:",_t),_t.code===4001||(et=_t.message)!=null&&et.includes("rejected")||(We=_t.message)!=null&&We.includes("User rejected"))alert("User rejected the UniSat wallet connection request.");else{const Lt=_t.message||"Unknown error";alert(`Failed to connect to UniSat wallet: ${Lt}

Please ensure:
1. UniSat wallet extension is installed and unlocked
2. You have a Bitcoin account in UniSat
3. Try refreshing this page and connecting again`)}}},Ce=async()=>{var He,et;const ye=ld(),Ke=qc();if(!Ke&&!ye){alert(`No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension.

If you have OKX or Bitget installed, ensure it's switched to Bitcoin network in the extension.`);return}if(ye&&!Ke){alert(`OKX wallet detected, but Bitcoin provider is not available.

Please ensure:
1. OKX wallet extension is unlocked
2. OKX wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in OKX

After switching to Bitcoin network in OKX, refresh this page and try again.`);return}try{console.log("[Bitcoin Debug] Starting Bitcoin connection...");let We;ye&&Ta()?(console.log("[Bitcoin Debug] Using OKX SDK for Bitcoin connection"),We=await eq()):We=await gpe(),console.log("[Bitcoin Debug] Bitcoin address received:",We),We&&typeof We=="string"&&(H([We]),r(We),X("bitcoin"),console.log("[Bitcoin Debug] Bitcoin connection successful"))}catch(We){if(console.error("[Bitcoin Debug] Bitcoin connection error:",We),We.code===4001||(He=We.message)!=null&&He.includes("rejected")||(et=We.message)!=null&&et.includes("User rejected"))alert("User rejected the Bitcoin wallet connection request.");else{const _t=Td(),Lt=(_t==null?void 0:_t.name)||"Bitcoin wallet",Ht=We.message||"Unknown error";ye&&Ht.includes("not found")||Ht.includes("No Bitcoin wallet")?alert(`Failed to connect to ${Lt}: ${Ht}

If using OKX wallet:
1. Ensure OKX extension is unlocked
2. Switch OKX to Bitcoin network in the extension
3. Make sure you have a Bitcoin account
4. Refresh this page and try again`):alert(`Failed to connect to ${Lt}: ${Ht}

Please ensure your Bitcoin wallet is unlocked and try again.`)}}},Me=async()=>{var ye,Ke,He;if(U==="solana"){try{if(!ct){alert("OneKey Solana wallet is not available. Please ensure OneKey wallet is installed and unlocked.");return}console.log("[OneKey Debug] Connecting to Solana...");const et=await upe();console.log("[OneKey Debug] Solana address received:",et),et&&typeof et=="string"&&(H([et]),r(et),X("solana"),console.log("[OneKey Debug] Solana connection successful"))}catch(et){console.error("[OneKey Debug] Solana connection error:",et),et.code===4001||(ye=et.message)!=null&&ye.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to OneKey Solana: ${et.message||"Unknown error"}`)}return}if(U==="bitcoin"){try{if(!Ze){alert("OneKey Bitcoin wallet is not available. Please ensure OneKey wallet is installed and switched to Bitcoin network.");return}console.log("[OneKey Debug] Connecting to Bitcoin...");const et=await mpe();console.log("[OneKey Debug] Bitcoin address received:",et),et&&typeof et=="string"&&(H([et]),r(et),X("bitcoin"),console.log("[OneKey Debug] Bitcoin connection successful"))}catch(et){if(console.error("[OneKey Debug] Bitcoin connection error:",et),et.code===4001||(Ke=et.message)!=null&&Ke.includes("rejected"))alert("User rejected the Bitcoin connection request.");else{const We=et.message||"Unknown error";alert(`Failed to connect to OneKey Bitcoin: ${We}

Please ensure your OneKey wallet is unlocked and switched to Bitcoin network.`)}}return}if(!Je){alert("OneKey wallet is not installed. Please install OneKey wallet extension.");return}try{const et=((He=window.$onekey)==null?void 0:He.ethereum)||window.ethereum;if(!et){alert("OneKey wallet provider not found. Please ensure OneKey wallet is installed and enabled.");return}const We=await et.request({method:"eth_requestAccounts"});if(We&&We.length>0){const _t=We.filter(Lt=>Lt&&typeof Lt=="string");_t.length>0&&(H(_t),_t.length===1&&r(_t[0]))}te?(await I({connector:te}),await new Promise(_t=>setTimeout(_t,300))):alert("OneKey connector not found. Please ensure OneKey wallet is installed.")}catch(et){et.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to OneKey:",et),alert(`Failed to connect to OneKey: ${et.message||"Unknown error"}`))}},Oe=async()=>{var ye;if(U==="solana"){try{if(!Tc()){alert("Binance Solana wallet is not available. Please ensure Binance wallet is installed and unlocked.");return}console.log("[Binance Debug] Connecting to Solana...");const Ke=await kje();console.log("[Binance Debug] Solana address received:",Ke),Ke&&typeof Ke=="string"&&(H([Ke]),r(Ke),X("solana"),console.log("[Binance Debug] Solana connection successful"))}catch(Ke){console.error("[Binance Debug] Solana connection error:",Ke),Ke.code===4001||(ye=Ke.message)!=null&&ye.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Binance Solana: ${Ke.message||"Unknown error"}`)}return}if(!rt)if(console.log("[Binance Debug] Not immediately available, checking with polling..."),await TS(3e3,100))q(!0),console.log("[Binance Debug] Binance wallet detected via polling!");else{alert("Binance wallet is not installed. Please install Binance wallet extension.");return}try{let Ke=rq();if(console.log("[Binance Debug] Initial provider check:",Ke?"Found":"Not found"),console.log("[Binance Debug] window.binancew3w:",window.binancew3w),console.log("[Binance Debug] window.BinanceChain:",window.BinanceChain),Ke||(console.log("[Binance Debug] Provider not immediately available, waiting..."),await TS(3e3,100)&&(Ke=rq(),q(!0),console.log("[Binance Debug] Provider found after polling:",Ke?"Yes":"No"))),!Ke){alert("Binance wallet provider not found. Please ensure Binance wallet is installed and enabled.");return}const He=await Ke.request({method:"eth_requestAccounts"});if(He&&He.length>0){const et=He.filter(We=>We&&typeof We=="string"&&We.trim().length>0);et.length>0&&(H(et),et.length===1&&r(et[0]))}te?(await I({connector:te}),await new Promise(et=>setTimeout(et,300))):alert("Binance connector not found. Please ensure Binance wallet is installed.")}catch(Ke){Ke.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Binance:",Ke),alert(`Failed to connect to Binance: ${Ke.message||"Unknown error"}`))}},ut=async()=>{var ye,Ke,He,et;if(U==="solana"){try{if(!Gk()){alert("Bitget Solana wallet is not available. Please ensure Bitget wallet is installed and unlocked.");return}console.log("[Bitget Debug] Connecting to Solana...");const We=await dpe();console.log("[Bitget Debug] Solana address received:",We),We&&typeof We=="string"&&(H([We]),r(We),X("solana"),console.log("[Bitget Debug] Solana connection successful"))}catch(We){console.error("[Bitget Debug] Solana connection error:",We),We.code===4001||(ye=We.message)!=null&&ye.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Bitget Solana: ${We.message||"Unknown error"}`)}return}if(U==="bitcoin"){try{const We=window.bitkeep,_t=!!(We!=null&&We.isBitKeep||(Ke=We==null?void 0:We.ethereum)!=null&&Ke.isBitEthereum),Lt=(We==null?void 0:We.unisat)||_t&&!window.$onekey&&window.unisat;if(!Lt){alert(`Bitget Bitcoin wallet is not available. Please ensure:
1. Bitget wallet extension is unlocked
2. Bitget wallet is switched to Bitcoin network
3. You have a Bitcoin account in Bitget

After switching to Bitcoin network in Bitget, refresh this page and try again.`);return}console.log("[Bitget Debug] Connecting to Bitcoin...");const Ht=await Lt.requestAccounts();if(Ht&&Ht.length>0){const Rn=Ht[0];H(Ht),r(Rn),console.log("[Bitget Debug] Bitcoin connection successful:",Rn)}else throw new Error("No accounts returned from Bitget Bitcoin wallet")}catch(We){console.error("[Bitget Debug] Bitcoin connection error:",We),We.code===4001||(He=We.message)!=null&&He.includes("rejected")||(et=We.message)!=null&&et.includes("User rejected")?alert("User rejected the Bitcoin connection request."):alert(`Failed to connect to Bitget Bitcoin: ${We.message||"Unknown error"}

Please ensure:
1. Bitget wallet extension is unlocked
2. Bitget wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in Bitget

After switching to Bitcoin network in Bitget, refresh this page and try again.`)}return}if(!Ee)if(console.log("[Bitget Debug] Not immediately available, checking with polling..."),await Qk(3e3,100))console.log("[Bitget Debug] Bitget wallet detected via polling!");else{alert("Bitget wallet is not installed. Please install Bitget wallet extension.");return}try{let We=Xk();if(console.log("[Bitget Debug] Initial provider check:",We?"Found":"Not found"),console.log("[Bitget Debug] window.bitkeep:",window.bitkeep),We||(console.log("[Bitget Debug] Provider not immediately available, waiting..."),await Qk(3e3,100)&&(We=Xk(),console.log("[Bitget Debug] Provider found after polling:",We?"Yes":"No"))),!We){alert("Bitget wallet provider not found. Please ensure Bitget wallet is installed and enabled.");return}const _t=await We.request({method:"eth_requestAccounts"});if(_t&&_t.length>0){const Lt=_t.filter(Ht=>Ht&&typeof Ht=="string"&&Ht.trim().length>0);Lt.length>0&&(H(Lt),Lt.length===1&&r(Lt[0]))}te?(await I({connector:te}),await new Promise(Lt=>setTimeout(Lt,300))):alert("Bitget connector not found. Please ensure Bitget wallet is installed.")}catch(We){We.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Bitget:",We),alert(`Failed to connect to Bitget: ${We.message||"Unknown error"}`))}},Mt=async()=>{var ye,Ke;if(U==="solana"){try{if(!XW()){alert("TokenPocket Solana wallet is not available. Please ensure TokenPocket wallet is installed and unlocked.");return}console.log("[TokenPocket Debug] Connecting to Solana...");const He=await Eje();console.log("[TokenPocket Debug] Solana address received:",He),He&&typeof He=="string"&&(H([He]),r(He),X("solana"),console.log("[TokenPocket Debug] Solana connection successful"))}catch(He){console.error("[TokenPocket Debug] Solana connection error:",He),He.code===4001||(ye=He.message)!=null&&ye.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to TokenPocket Solana: ${He.message||"Unknown error"}`)}return}if(!V)if(console.log("[TokenPocket Debug] Not immediately available, checking with polling..."),await sq(3e3,100))console.log("[TokenPocket Debug] TokenPocket wallet detected via polling!");else{alert("TokenPocket wallet is not installed. Please install TokenPocket wallet extension.");return}try{let He=iq();if(console.log("[TokenPocket Debug] Initial provider check:",He?"Found":"Not found"),console.log("[TokenPocket Debug] window.ethereum.isTokenPocket:",(Ke=window.ethereum)==null?void 0:Ke.isTokenPocket),He||(console.log("[TokenPocket Debug] Provider not immediately available, waiting..."),await sq(3e3,100)&&(He=iq(),console.log("[TokenPocket Debug] Provider found after polling:",He?"Yes":"No"))),!He){alert("TokenPocket wallet provider not found. Please ensure TokenPocket wallet is installed and enabled.");return}const et=await He.request({method:"eth_requestAccounts"});if(et&&et.length>0){const We=et.filter(_t=>_t&&typeof _t=="string"&&_t.trim().length>0);We.length>0&&(H(We),We.length===1&&r(We[0]))}te?(await I({connector:te}),await new Promise(We=>setTimeout(We,300))):alert("TokenPocket connector not found. Please ensure TokenPocket wallet is installed.")}catch(He){He.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to TokenPocket:",He),alert(`Failed to connect to TokenPocket: ${He.message||"Unknown error"}`))}},Tt=async()=>{if(U!=="ethereum"){alert("Rainbow Wallet only supports Ethereum network. Please switch to Ethereum chain type.");return}if(!wt){alert("Rainbow Wallet is not installed. Please install Rainbow Wallet extension.");return}try{const ye=window.ethereum;if(!ye){alert("Ethereum provider not found.");return}const Ke=await ye.request({method:"eth_requestAccounts"});if(Ke&&Ke.length>0){const He=Ke.filter(et=>et&&typeof et=="string"&&et.trim().length>0);He.length>0&&(H(He),He.length===1&&r(He[0]))}te&&(await I({connector:te}),await new Promise(He=>setTimeout(He,300)))}catch(ye){ye.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Rainbow Wallet:",ye),alert(`Failed to connect to Rainbow Wallet: ${ye.message||"Unknown error"}`))}},tt=async()=>{var ye,Ke;if(U==="solana"){try{if(!Tje()){alert("Coinbase Wallet Solana wallet is not available. Please ensure Coinbase Wallet is installed and unlocked.");return}console.log("[Coinbase Wallet Debug] Connecting to Solana...");const He=await Pje();console.log("[Coinbase Wallet Debug] Solana address received:",He),He&&typeof He=="string"&&(H([He]),r(He),X("solana"),console.log("[Coinbase Wallet Debug] Solana connection successful"))}catch(He){console.error("[Coinbase Wallet Debug] Solana connection error:",He),He.code===4001||(ye=He.message)!=null&&ye.includes("rejected")?alert("User rejected the Solana connection request."):alert(`Failed to connect to Coinbase Wallet Solana: ${He.message||"Unknown error"}`)}return}if(!st)if(console.log("[Coinbase Wallet Debug] Not immediately available, checking with polling..."),await aq(3e3,100))console.log("[Coinbase Wallet Debug] Coinbase Wallet detected via polling!");else{alert("Coinbase Wallet is not installed. Please install Coinbase Wallet extension from the official Chrome Web Store (extension ID: hnfanknocfeofbddgcijnmhnfnkdnaad).");return}try{let He=oq();if(console.log("[Coinbase Wallet Debug] Initial provider check:",He?"Found":"Not found"),console.log("[Coinbase Wallet Debug] window.ethereum.isCoinbaseWallet:",(Ke=window.ethereum)==null?void 0:Ke.isCoinbaseWallet),He||(console.log("[Coinbase Wallet Debug] Provider not immediately available, waiting..."),await aq(3e3,100)&&(He=oq(),console.log("[Coinbase Wallet Debug] Provider found after polling:",He?"Yes":"No"))),!He){alert("Coinbase Wallet provider not found. Please ensure Coinbase Wallet is installed and enabled. Verify you're using the official extension from the Chrome Web Store.");return}const et=await He.request({method:"eth_requestAccounts"});if(et&&et.length>0){const _t=et.filter(Lt=>Lt&&typeof Lt=="string"&&Lt.trim().length>0);_t.length>0&&(H(_t),_t.length===1&&r(_t[0]))}const We=O.find(_t=>{var Lt;return _t.id==="injected"||((Lt=_t.name)==null?void 0:Lt.toLowerCase().includes("coinbase"))});We?(await I({connector:We}),await new Promise(_t=>setTimeout(_t,300))):console.warn("Coinbase Wallet connector not found. Please ensure Coinbase Wallet is installed.")}catch(He){He.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to Coinbase Wallet:",He),alert(`Failed to connect to Coinbase Wallet: ${He.message||"Unknown error"}`))}},rn=async()=>{var ye,Ke,He,et;if(!ZW()){alert("OKX wallet is not installed. Please install OKX wallet extension.");return}try{let We,_t=[];if(U==="ethereum"){const Ht=Pc(),Rn=Ta(),Hn=Ht&&Rn,sn=a4();if(!sn)if(Hn&&window.ethereum)console.log("[OKX Debug] Multi-chain OKX detected, using window.ethereum as OKX provider");else{alert(`OKX Ethereum provider is not available. Please ensure:
1. OKX wallet extension is installed and unlocked
2. OKX wallet is switched to Ethereum network
3. You have an Ethereum account in OKX

If OKX is detected for Solana/Bitcoin but Ethereum provider is missing, please switch OKX wallet to Ethereum network in the extension.`);return}console.log("[OKX Debug] Connecting to OKX Ethereum using OKX SDK..."),console.log("[OKX Debug] Multi-chain detection:",{hasOKXSolana:Ht,hasOKXBitcoin:Rn,hasOKXMultiChain:Hn}),console.log("[OKX Debug] Ethereum provider check:",{hasOKXEthereum:sn,hasOkxwalletEthereum:!!((ye=window.okxwallet)!=null&&ye.ethereum),hasEthereumIsOKX:!!((Ke=window.ethereum)!=null&&Ke.isOKX),hasWindowEthereum:!!window.ethereum});try{We=await Wje(),_t=[We]}catch(hr){if(Hn&&window.ethereum){console.log("[OKX Debug] OKX SDK method failed, trying window.ethereum directly...");const fr=await window.ethereum.request({method:"eth_requestAccounts"});if(fr&&fr.length>0)We=fr[0],_t=[fr];else throw new Error("No accounts returned from OKX Ethereum wallet")}else throw hr}te&&(await I({connector:te}),await new Promise(hr=>setTimeout(hr,300)))}else if(U==="solana"){if(!Pc()){alert("OKX Solana provider is not available. Please ensure OKX wallet is installed and switched to Solana network.");return}console.log("[OKX Debug] Connecting to OKX Solana using OKX SDK..."),We=await Hje(),_t=[We]}else if(U==="bitcoin"){if(!Ta()){alert(`OKX Bitcoin provider is not available. Please ensure:
1. OKX wallet extension is unlocked
2. OKX wallet is switched to Bitcoin network (not Ethereum)
3. You have a Bitcoin account in OKX

After switching to Bitcoin network in OKX, refresh this page and try again.`);return}console.log("[OKX Debug] Connecting to OKX Bitcoin using OKX SDK..."),We=await eq(),_t=[We]}else{alert(`Unsupported chain type: ${U}`);return}const Lt=_t.filter(Ht=>!!(Ht&&typeof Ht=="string"&&Ht.trim().length>0));if(Lt.length>0)H(Lt),We&&typeof We=="string"&&r(We),console.log(`[OKX Debug] Successfully connected to OKX ${U}:`,We);else throw new Error("No addresses returned from OKX wallet")}catch(We){if(We.code===4001||(He=We.message)!=null&&He.includes("rejected")||(et=We.message)!=null&&et.includes("User rejected"))alert("User rejected the OKX connection request.");else{console.error(`[OKX Debug] Error connecting to OKX ${U}:`,We);const _t=We.message||"Unknown error";alert(`Failed to connect to OKX ${U}: ${_t}

Please ensure:
1. OKX wallet extension is installed and unlocked
2. OKX wallet is switched to ${U} network
3. You have a ${U} account in OKX
4. Try refreshing the page and connecting again`)}}},Qt=()=>{const ye=Je||Ve||rt||Pe||qe||typeof window<"u"&&window.ethereum,Ke=Wc()||Kk()||Pc()||Tc(),He=qc()||ld()||Ze;return ye||Ke||He},on={OneKey:Me,OKX:rn,Bitget:ut,TokenPocket:Mt,"Coinbase Wallet":tt,Rainbow:Tt,Binance:Oe,MetaMask:at,Phantom:Q,Unisat:De,"Bitcoin Wallet":Ce},Xi=()=>{const ye=bpe(U);if(!ye)return null;if(ye==="Bitcoin Wallet"&&U==="bitcoin"){const He=Td(),et=(He==null?void 0:He.name)||"Bitcoin Wallet",We=on["Bitcoin Wallet"];if(We)return{wallet:et,handler:We}}const Ke=on[ye];return Ke?{wallet:ye,handler:Ke}:null},Ri=async()=>{const ye=Xi();if(!ye){U==="ethereum"?alert("No Ethereum wallet detected. Please install MetaMask, Phantom, OneKey, OKX, Bitget, or Binance wallet."):U==="solana"?alert("No Solana wallet detected. Please install Phantom, OneKey, OKX, Bitget, or Binance wallet extension for Solana support."):U==="bitcoin"&&(ld()?alert("OKX wallet detected, but Bitcoin provider is not available. Please switch OKX wallet to Bitcoin network in the extension, then refresh this page."):alert("No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension."));return}await ye.handler()};return g.jsxs("div",{className:"component",children:[g.jsx("h3",{children:"Agent Delegation"}),g.jsx("p",{children:"Approve an agent private key to act on behalf of the owner wallet"}),g.jsxs("div",{className:`agent-delegation-step ${Ne?"connected":""}`,children:[g.jsx("h4",{children:"Step 1: Connect Wallet"}),Ne?D.length>0&&!ie&&(D.length>1||D.length===1&&!e)?g.jsxs("div",{children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"Connected:"})," ",ue]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"addressSelect",children:"Select an address to use:"}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:D.filter(ye=>ye&&typeof ye=="string").map(ye=>g.jsx("button",{className:`button ${(e==null?void 0:e.toLowerCase())===(ye==null?void 0:ye.toLowerCase())?"":"secondary"}`,onClick:()=>r(ye),style:{textAlign:"left",justifyContent:"flex-start",fontFamily:"monospace",fontSize:"0.9rem"},children:ye},ye))})]}),g.jsx("button",{className:"button secondary",onClick:async()=>{if(U==="solana"){const ye=As();if(ye&&ye.isConnected)try{await ye.disconnect()}catch(We){console.error("Error disconnecting OneKey Solana:",We)}const Ke=ao();if(Ke&&Ke.isConnected)try{await Ke.disconnect()}catch(We){console.error("Error disconnecting Phantom Solana:",We)}const He=zi();if(He&&He.isConnected)try{await He.disconnect()}catch(We){console.error("Error disconnecting OKX Solana:",We)}const et=xi();if(et&&et.isConnected)try{await et.disconnect()}catch(We){console.error("Error disconnecting Binance Solana:",We)}}else U==="ethereum"&&$();H([]),r("")},style:{marginTop:"1rem"},children:"Disconnect"})]}):g.jsxs("div",{className:"agent-delegation-connected-info",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Connected:"})," ",ue,(Xe||e)&&g.jsx("div",{className:"agent-delegation-address",children:Xe||e})]}),g.jsx("button",{className:"button secondary",onClick:async()=>{if(U==="solana"||_e){const ye=ao();if(ye&&ye.isConnected)try{await ye.disconnect()}catch(et){console.error("Error disconnecting Phantom Solana:",et)}const Ke=zi();if(Ke&&Ke.isConnected)try{await Ke.disconnect()}catch(et){console.error("Error disconnecting OKX Solana:",et)}const He=xi();if(He&&He.isConnected)try{await He.disconnect()}catch(et){console.error("Error disconnecting Binance Solana:",et)}}else U==="bitcoin"||Se?console.log("[Bitcoin Debug] Disconnecting Bitcoin wallet"):$();H([]),r("")},children:"Disconnect"})]}):g.jsx("div",{children:Qt()?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[g.jsx("label",{htmlFor:"connectionChainType",style:{marginBottom:"0.5rem",display:"block"},children:g.jsx("strong",{children:"Select Chain Type:"})}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[g.jsx("button",{className:`button ${U==="ethereum"?"":"secondary"}`,onClick:()=>X("ethereum"),style:{flex:1,minWidth:"100px"},children:"Ethereum"}),(Wc()||ct||Pc()||Tc())&&g.jsx("button",{className:`button ${U==="solana"?"":"secondary"}`,onClick:()=>X("solana"),style:{flex:1,minWidth:"100px"},children:"Solana"}),(qc()||ld())&&g.jsx("button",{className:`button ${U==="bitcoin"?"":"secondary"}`,onClick:()=>X("bitcoin"),style:{flex:1,minWidth:"100px"},children:"Bitcoin"})]}),g.jsx("small",{className:"agent-delegation-small-text",style:{display:"block",marginTop:"0.5rem"},children:U==="ethereum"?"Connect to Ethereum network (MetaMask, Phantom Ethereum, OneKey, OKX, Binance)":U==="solana"?"Connect to Solana network (Phantom Solana, OneKey Solana, OKX Solana, Binance Solana)":"Connect to Bitcoin network (OneKey, Unisat, Xverse, OKX). If using OKX, ensure it's switched to Bitcoin network."})]}),g.jsx("div",{className:"agent-delegation-wallet-buttons",children:(()=>{var Ke;const ye=Xi();return ye?g.jsx("button",{className:"button",onClick:Ri,disabled:F||U==="ethereum"&&!te,children:F?"Connecting...":`Connect ${ye.wallet}${U!=="ethereum"?` (${U.charAt(0).toUpperCase()+U.slice(1)})`:""}`}):U==="ethereum"?g.jsx("p",{className:"agent-delegation-error-message",children:"No Ethereum wallet detected. Please install MetaMask, Phantom, OneKey, OKX, Rainbow, or Binance wallet."}):U==="solana"?g.jsx("p",{className:"agent-delegation-error-message",children:"No Solana wallet detected. Please install Phantom, OneKey, OKX, Bitget, or Binance wallet extension for Solana support."}):U==="bitcoin"?g.jsx("p",{className:"agent-delegation-error-message",children:ld()||(Ke=window.bitkeep)!=null&&Ke.isBitKeep?"Wallet detected, but Bitcoin provider is not available. Please switch your wallet to Bitcoin network in the extension, then refresh this page.":"No Bitcoin wallet detected. Please install OneKey, OKX, Bitget, Unisat, or Xverse wallet extension."}):null})()})]}):g.jsxs("div",{className:"agent-delegation-wallet-buttons",children:[g.jsx("p",{className:"agent-delegation-error-message",style:{marginBottom:"1rem"},children:g.jsx("strong",{children:"No wallet detected"})}),g.jsx("p",{className:"agent-delegation-error-message",children:"Please install a compatible wallet extension to continue:"}),g.jsxs("ul",{style:{textAlign:"left",marginTop:"0.5rem",marginBottom:"1rem"},children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Ethereum:"})," MetaMask, Phantom, OneKey, OKX, Rainbow, Bitget, or Binance wallet"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Solana:"})," Phantom, OneKey, OKX, Bitget, or Binance wallet"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Bitcoin:"})," OneKey, OKX, Bitget, Unisat, or Xverse wallet"]})]}),g.jsx("p",{className:"agent-delegation-small-text",style:{marginTop:"0.5rem"},children:"After installing a wallet, refresh this page to connect."})]})})]}),ie&&(Xe||_e||Se)?g.jsxs("div",{className:`agent-delegation-step ${ft?"connected":""}`,children:[g.jsxs("h4",{children:["Step 2: Configure Agent Delegation ",ft&&""]}),pe&&g.jsx("div",{style:{padding:"0.75rem",marginBottom:"1rem",background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"8px",color:"rgba(76, 175, 80, 0.9)",fontSize:"0.9rem"},children:"Agent credentials restored from previous session"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"ownerAddress",children:"Owner Address:"}),g.jsx("input",{id:"ownerAddress",type:"text",value:Xe||e,readOnly:!0,style:{fontFamily:"monospace",fontSize:"0.9rem",backgroundColor:"rgba(255, 255, 255, 0.05)",cursor:"not-allowed"}}),g.jsxs("small",{className:"agent-delegation-small-text",children:["This address is from your connected ",ue||"wallet"," extension",_e?" (Solana)":Se?" (Bitcoin)":Xe?" (Ethereum)":"","."]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentAddress",children:"Agent Address:"}),g.jsxs("div",{className:"agent-delegation-input-group",children:[g.jsx("input",{id:"agentAddress",type:"text",value:i,onChange:ye=>s(ye.target.value),placeholder:"0x...",className:"agent-delegation-input-flex"}),g.jsx("button",{className:"button secondary agent-delegation-button-compact",onClick:y,disabled:b||!M,children:"Generate Keypair"})]})]}),o&&g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentPrivateKey",children:"Agent Private Key (save securely):"}),g.jsx("input",{id:"agentPrivateKey",type:"text",value:o,readOnly:!0,className:"agent-delegation-private-key"}),g.jsxs("div",{style:{marginTop:"0.5rem"},children:[g.jsx("button",{className:"button secondary",onClick:()=>{v(),re(!1)},style:{fontSize:"0.85rem",padding:"0.5rem 1rem"},children:"Clear Agent Credentials"}),g.jsx("small",{className:"agent-delegation-small-text",style:{display:"block",marginTop:"0.5rem"},children:"Credentials are stored in browser session storage and will be cleared when browser closes."})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"agentName",children:"Agent Name (optional):"}),g.jsx("input",{id:"agentName",type:"text",value:d,onChange:ye=>h(ye.target.value),placeholder:"enter you agent name"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"expiresInDays",children:"Expires In Days:"}),g.jsx("input",{id:"expiresInDays",type:"number",value:a,onChange:ye=>l(parseInt(ye.target.value)||180),min:"1",max:"365"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"permissions",children:"Permissions (comma-separated):"}),g.jsx("input",{id:"permissions",type:"text",value:c,onChange:ye=>u(ye.target.value),placeholder:"clob::submit_order,clob::cancel_order"}),g.jsx("small",{className:"agent-delegation-small-text",children:"Example: clob::submit_order, clob::cancel_order, clob::modify_order"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"nonce",children:"Nonce:"}),g.jsx("input",{id:"nonce",type:"text",value:f,onChange:ye=>p(ye.target.value),placeholder:Date.now().toString()})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 2: Configure Agent Delegation"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:Ne&&!ie?"Please select an address in Step 1 to continue.":"Please connect a wallet extension in Step 1 to continue."})]}),ft?g.jsxs("div",{className:"agent-delegation-step",children:[g.jsx("h4",{children:"Step 3: Prepare and Sign Agent Approval"}),g.jsxs("div",{className:"agent-delegation-button-group",children:[w&&g.jsx("button",{className:"button",onClick:ce,disabled:G||!z||!i,children:G?"Signing with MetaMask...":"Sign Agent Approval (MetaMask)"}),(_||U==="solana"&&_e&&!((Fp=As())!=null&&Fp.isConnected)&&!((Pu=zi())!=null&&Pu.isConnected)&&!((gh=ro())!=null&&gh.isConnected)&&!((bh=xi())!=null&&bh.isConnected))&&g.jsx("button",{className:"button",onClick:ce,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with Phantom...":U==="solana"?"Sign Agent Approval (Phantom Solana)":"Sign Agent Approval (Phantom)"}),(x||U==="solana"&&_e&&((yh=As())==null?void 0:yh.isConnected)||U==="bitcoin"&&Se&&Ze)&&g.jsx("button",{className:"button",onClick:ce,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with OneKey...":U==="solana"?"Sign Agent Approval (OneKey Solana)":U==="bitcoin"?"Sign Agent Approval (OneKey Bitcoin)":"Sign Agent Approval (OneKey)"}),U==="solana"&&_e&&((vh=ro())==null?void 0:vh.isConnected)&&g.jsx("button",{className:"button",onClick:ce,disabled:G||!i||!e,children:G?"Signing with Bitget...":"Sign Agent Approval (Bitget Solana)"}),(S||U==="solana"&&_e&&((Iu=zi())==null?void 0:Iu.isConnected)&&!(($p=ro())!=null&&$p.isConnected)&&!((il=xi())!=null&&il.isConnected)||U==="bitcoin"&&Se&&Ta())&&g.jsx("button",{className:"button",onClick:ce,disabled:G||!z&&U==="ethereum"||!i||!e,children:G?"Signing with OKX...":`Sign Agent Approval (OKX${U==="ethereum"?"":` ${U}`})`}),U==="solana"&&_e&&((ic=xi())==null?void 0:ic.isConnected)&&!((Mu=zi())!=null&&Mu.isConnected)&&g.jsx("button",{className:"button",onClick:ce,disabled:G||!i||!e,children:G?"Signing with Binance...":"Sign Agent Approval (Binance Solana)"}),C&&g.jsx("button",{className:"button",onClick:ce,disabled:G||!z||!i,children:G?"Signing with Binance...":"Sign Agent Approval (Binance)"}),E&&g.jsx("button",{className:"button",onClick:ce,disabled:G||!z||!i,children:G?"Signing with Bitget...":"Sign Agent Approval (Bitget)"}),A&&g.jsx("button",{className:"button",onClick:ce,disabled:G||!z||!i,children:G?"Signing with Rainbow...":"Sign Agent Approval (Rainbow)"}),(U==="ethereum"&&Ae&&R||U==="solana"&&_e&&Qe&&((ma=Ey())==null?void 0:ma.isConnected))&&g.jsx("button",{className:"button",onClick:ce,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with TokenPocket...":`Sign Agent Approval (TokenPocket${U==="ethereum"?"":` ${U}`})`}),(U==="ethereum"&&st&&R||U==="solana"&&_e&&ze&&((_s=ad())==null?void 0:_s.isConnected))&&g.jsx("button",{className:"button",onClick:ce,disabled:G||U==="ethereum"&&!z||!i||!e,children:G?"Signing with Coinbase Wallet...":`Sign Agent Approval (Coinbase Wallet${U==="ethereum"?"":` ${U}`})`}),!w&&!(_||U==="solana"&&_e&&!((zp=As())!=null&&zp.isConnected)&&!((Ut=zi())!=null&&Ut.isConnected)&&!((Io=ro())!=null&&Io.isConnected)&&!((Mo=xi())!=null&&Mo.isConnected))&&!(x||U==="solana"&&_e&&((Ou=As())!=null&&Ou.isConnected)||U==="bitcoin"&&Se&&Ze)&&!(U==="solana"&&_e&&((Du=ro())!=null&&Du.isConnected))&&!(U==="solana"&&_e&&((yr=xi())!=null&&yr.isConnected))&&!(S||U==="solana"&&_e&&((Up=zi())!=null&&Up.isConnected)&&!((Ru=ro())!=null&&Ru.isConnected)&&!((Wp=xi())!=null&&Wp.isConnected)||U==="bitcoin"&&Se&&Ta())&&!C&&!E&&!A&&!(U==="ethereum"&&Ae&&R||U==="solana"&&_e&&Qe&&((Te=Ey())!=null&&Te.isConnected))&&!(U==="ethereum"&&st&&R||U==="solana"&&_e&&ze&&((Pt=ad())!=null&&Pt.isConnected))&&g.jsx("button",{className:"button",onClick:ce,disabled:G||!i||!e||U==="ethereum"&&!z&&!Xe,children:G?"Signing...":`Sign Agent Approval${ue?` (${ue})`:""}`})]})]}):g.jsxs("div",{className:"agent-delegation-step disabled",children:[g.jsx("h4",{children:"Step 3: Prepare and Sign Agent Approval"}),g.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 1 (connect wallet) and Step 2 (configure addresses) to continue."})]}),(m||Y)&&g.jsx("div",{className:`output ${(en=m||Y)!=null&&en.success?"success":"error"}`,children:(Js=m||Y)!=null&&Js.success?g.jsxs(g.Fragment,{children:[((sl=m||Y)==null?void 0:sl.signature)&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Agent Approval Signature:"}),g.jsx("br",{}),g.jsx("span",{children:(a1=m||Y)==null?void 0:a1.signature}),g.jsx("br",{})]}),((l1=m||Y)==null?void 0:l1.typedData)&&g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"EIP-712 Typed Data:"}),g.jsx("br",{}),g.jsx("pre",{className:"agent-delegation-pre",children:JSON.stringify((c1=m||Y)==null?void 0:c1.typedData,null,2)}),g.jsx("br",{}),g.jsx("strong",{children:"Usage:"}),g.jsx("br",{}),"Signature received from wallet. The typed data structure is shown above."]})]}):g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"Error:"}),g.jsx("br",{}),(u1=m||Y)==null?void 0:u1.error]})})]})}function X7e({status:n}){const e=()=>n.loading?"loading":n.loaded?"success":n.error?"error":"loading",r=()=>n.loading?"Loading WASM...":n.loaded?"WASM Ready":n.error?"WASM Error":"Unknown";return g.jsx("div",{className:"App-section",children:g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[g.jsx("span",{className:`status ${e()}`,children:r()}),n.loading&&g.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"Initializing WebAssembly module..."}),n.loaded&&g.jsxs("div",{style:{fontSize:"0.9rem",opacity:.8},children:["morm_signer.wasm loaded successfully",n.version&&g.jsxs("span",{style:{marginLeft:"0.5rem",fontWeight:"bold"},children:["(",n.version,")"]})]}),n.error&&g.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:n.error})]})})}function xp(n,e=2,r=2,i="0.00"){return n==null||isNaN(n)?i:n.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:r})}function Jk(n){return n==null||isNaN(n)?"--":xp(n,2,2,"--")}function ag(n){return n==null||isNaN(n)?"--":xp(n,2,8,"--")}function Zk(n){return n==null||isNaN(n)?"0.000":xp(n,3,3,"0.000")}function Q7e(n){return n==null||isNaN(n)?"0":xp(n,3,8,"0")}function J7e(n){return n==null||isNaN(n)?"0.00":xp(n,2,2,"0.00")}function Z7e(n){return n==null||isNaN(n)?"0.00":xp(n,2,2,"0.00")}function ar(n){return n==null||isNaN(n)?"0.00":xp(n,2,2,"0.00")}function mw(n){return n==null||isNaN(n)?"0%":`${(n*100).toFixed(2)}%`}function e9e(n){if(n==null)return"0";if(typeof n=="string"){const e=n.trim();if(e===""||isNaN(Number(e)))return"0";const r=e.includes(".")?Math.floor(Number(e)).toString():e;try{return Rt(r).toFixed(8).replace(/\.?0+$/,"")}catch{return"0"}}if(typeof n=="number"){if(isNaN(n)||!isFinite(n))return"0";const e=Math.floor(n).toString();try{return Rt(e).toFixed(8).replace(/\.?0+$/,"")}catch{return"0"}}return"0"}function $h(n){if(n==null||typeof n=="string"&&(n.trim()===""||isNaN(Number(n))))return"--";try{const r=e9e(n).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")}catch{return"--"}}function xpe(n,e="--"){if(n==null)return e;try{return(typeof n=="string"||typeof n=="number"?Rt(typeof n=="string"?n:String(n)):0).toFixed(2).replace(/\.?0+$/,"")}catch{return e}}function m3(n,e="0%"){if(n==null)return e;if(typeof n=="string"){const r=n.trim();if(r===""||isNaN(Number(r)))return e;const i=r.includes(".")?Math.floor(Number(r)).toString():r;try{const s=Rt(i);return mw(s)}catch{return e}}if(typeof n=="number"){if(isNaN(n)||!isFinite(n))return e;const r=Math.floor(n).toString();try{const i=Rt(r);return mw(i)}catch{return e}}return e}function fq(n){return isNaN(n)?"0":n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toFixed(2)}function t9e(n,e=6,r=4,i="--"){return!n||typeof n!="string"?i:n.length<=e+r?n:`${n.slice(0,e)}...${n.slice(-r)}`}const _p="https://router.morpheum.io",lh="wss://router.morpheum.io/websocket",iE="ios-device-1234567890",n9e=({isRunning:n,onClick:e})=>g.jsx("button",{onClick:e,disabled:n,style:{color:"#fff",backgroundColor:n?"#ccc":"#007bff",cursor:n?"not-allowed":"pointer"},children:n?"Running Tests...":"Run All Tests"}),r9e=({mnemonic:n,baseURL:e,onboardLoading:r,isRunning:i,onOnboard:s})=>{const o=r||i||!n||n.trim()==="";return g.jsx("button",{onClick:()=>{n&&n.trim()!==""&&s(n,e)},disabled:o,style:{color:o?"#ccc":"#fff",backgroundColor:o?"#ccc":"#28a745",cursor:o?"not-allowed":"pointer"},children:r?"Running Authentication Flow...":"Authentication Flow"})},i9e=({isRunning:n,onClick:e})=>g.jsx("button",{onClick:e,disabled:n,style:{color:n?"#ccc":"#fff",backgroundColor:n?"#ccc":"#dc3545",cursor:n?"not-allowed":"pointer"},children:"Clear Results"}),s9e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#17a2b8",cursor:i?"not-allowed":"pointer"},children:e?"Running Utility Tests...":"Utility Test"})},o9e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#6f42c1",cursor:i?"not-allowed":"pointer"},children:e?"Running Info Client Tests...":"Info Client Test"})},a9e=({isRunning:n,isLoading:e,onClick:r})=>{const i=e||n;return g.jsx("button",{onClick:r,disabled:i,style:{color:i?"#ccc":"#fff",backgroundColor:i?"#ccc":"#fd7e14",cursor:i?"not-allowed":"pointer"},children:e?"Running Wallet Specific Tests...":"Wallet Specific Test"})},l9e=({mnemonic:n,isRunning:e,isLoading:r,onClick:i})=>{const s=n&&n.trim()!=="",o=r||e||!s;return g.jsx("button",{onClick:()=>{s&&i()},disabled:o,style:{color:o?"#ccc":"#fff",backgroundColor:o?"#ccc":"#e83e8c",cursor:o?"not-allowed":"pointer"},title:s?"":"Mnemonic is required for Exchange Client tests",children:r?"Running Exchange Client Tests...":"Exchange Client Test"})},c9e=({onClick:n})=>g.jsx("button",{onClick:n,className:"sdk-test-button-dismiss",children:"Dismiss"}),u9e=({result:n})=>g.jsxs("div",{className:`sdk-test-result-item ${n.success?"success":"error"}`,children:[g.jsxs("div",{className:"sdk-test-result-content",children:[g.jsxs("div",{className:"sdk-test-result-message",children:[n.success?"":""," ",n.message]}),n.error&&g.jsxs("div",{className:"sdk-test-result-error",children:["Error: ",n.error]}),n.data&&g.jsxs("details",{className:"sdk-test-result-data",children:[g.jsx("summary",{children:"View Data"}),g.jsx("pre",{children:JSON.stringify(n.data,null,2)})]})]}),g.jsx("div",{className:"sdk-test-result-timestamp",children:new Date(n.timestamp).toLocaleTimeString()})]}),d9e=({sectionName:n,isExpanded:e,onToggle:r})=>g.jsxs("h2",{className:"sdk-test-section-header",onClick:r,children:[g.jsx("span",{children:n}),g.jsx("span",{className:"sdk-test-section-chevron",children:e?"":""})]});function h9e(){var ct,Ze,Ve,rt;const[n,e]=T.useState(_p),[r,i]=T.useState(""),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState(iE),[d,h]=T.useState({}),[f,p]=T.useState(!1),[m,b]=T.useState(!1),[y,v]=T.useState(!1),[w,_]=T.useState(!1),[x,S]=T.useState(!1),[C,E]=T.useState(!1),[A,M]=T.useState(new Set),I=T.useRef(null),O=T.useRef(null),F=T.useRef(n),$=T.useRef([]),z=T.useRef(""),{markets:R,fetchMarkets:j}=Xl({baseURL:n,sessionToken:s,autoFetchMarkets:!1}),{mnemonic:N,walletAddress:D,authToken:H,error:U,clearError:X,setMnemonic:Y}=Su();T.useEffect(()=>{N||Y(ZC)},[N,Y]);const ee=T.useRef(N||"");T.useEffect(()=>{ee.current=N||""},[N]);const G=T.useMemo(()=>new y0({url:lh,authToken:s||a||void 0,walletAddress:D||void 0,deviceID:c||void 0}),[s,a,D,c]),{buckets:Z,loading:pe,error:re,refresh:le}=M9({subscriptionClient:G,baseURL:n,authToken:s||a,walletAddress:D,refreshInterval:0,useWebSocket:!1,marketId:"0"});T.useEffect(()=>{H&&(l(H),localStorage.setItem("authToken",H))},[H]),T.useEffect(()=>{a&&a.trim()!==""&&localStorage.setItem("authToken",a)},[a]);const ce=T.useRef(f);T.useEffect(()=>{ce.current===!0&&f===!1&&setTimeout(()=>{const q=Object.values(d).flatMap(xe=>xe.results),te=q.filter(xe=>xe.success).length,ve=q.length,me=ve-te;ve>0&&(me===0?vt.success("All tests passed",{description:`${ve} test(s) completed successfully.`,duration:5e3}):vt.warning("Tests completed with failures",{description:`${te}/${ve} tests passed. ${me} test(s) failed.`,duration:6e3}))},100),ce.current=f},[f,d]),T.useEffect(()=>{const q=localStorage.getItem("authToken");q&&!a&&l(q)},[]);const Pe=R.length>0?(((ct=R.find(q=>q.active))==null?void 0:ct.market_id)??R[0].market_id)||(((Ve=(Ze=R.find(q=>q.active))==null?void 0:Ze.id)==null?void 0:Ve.toString())??((rt=R[0].id)==null?void 0:rt.toString())??""):null,Ee=Pe??r;T.useEffect(()=>{Pe&&r!==Pe&&i(Pe)},[Pe]),T.useEffect(()=>{F.current=n},[n]);const V=(q,te)=>{h(ve=>{const me=ve[q]||{name:q,results:[]};return{...ve,[q]:{...me,results:[...me.results,te]}}})},Ae=()=>{h({}),M(new Set)},Qe=q=>{M(te=>{const ve=new Set(te);return ve.has(q)?ve.delete(q):ve.add(q),ve})};T.useEffect(()=>{const q=Object.keys(d).filter(te=>d[te].results.length>0);q.length>0&&M(te=>{const ve=new Set(te);return q.forEach(me=>ve.add(me)),ve})},[d]);const st=()=>{const q="Utilities";V(q,{success:!0,message:"Testing utility functions...",timestamp:Date.now()});try{const te=Cn(1);V(q,{success:te==="100000000",message:`toSatoshi(1.0) = ${te}`,data:{expected:"100000000",got:te},timestamp:Date.now()});const ve=Cn("1.5");V(q,{success:ve==="150000000",message:`toSatoshi("1.5") = ${ve}`,data:{expected:"150000000",got:ve},timestamp:Date.now()});const me=Rt("100000000");V(q,{success:me===1,message:`fromSatoshi("100000000") = ${me}`,data:{expected:1,got:me},timestamp:Date.now()});const xe="64999999999986700000000",fe=Rt(xe),K=649999999999867,he=fe===K;V(q,{success:he,message:`fromSatoshi("${xe}") = ${fe}`,data:{expected:K,got:fe,difference:Math.abs(fe-K),isPrecise:he},timestamp:Date.now()});const se="64999999999986700000000",ke=Wt(se),Re=649999999999867,de=ke===Re;V(q,{success:de,message:`toNumberFromSatoshi("${se}") = ${ke}`,data:{expected:Re,got:ke,difference:Math.abs(ke-Re),isPrecise:de},timestamp:Date.now()});const _e=z7(1);V(q,{success:_e===1e8,message:`toSatoshiUint64(1.0) = ${_e}`,data:{expected:1e8,got:_e},timestamp:Date.now()});const Se=zR("100000000"),ae=zR("abc");V(q,{success:Se&&!ae,message:`isValidSatoshi tests: "100000000"=${Se}, "abc"=${ae}`,data:{valid1:Se,valid2:ae},timestamp:Date.now()});const ie=[1,1.5,2],ue=Mhe(ie),it=Ohe(ue);V(q,{success:it.length===3,message:`Batch conversion: ${ie.length} items`,data:{input:ie,satoshi:ue,decimal:it},timestamp:Date.now()}),V(q,{success:Ud===1e8,message:`SATOSHI_SCALE = ${Ud}`,data:{expected:1e8,got:Ud},timestamp:Date.now()});const Fe="64999999999986700000000",Ye=UR(Fe);V(q,{success:Ye.startsWith("0x"),message:`int64ToHex("${Fe}") = ${Ye}`,data:{input:Fe,output:Ye,isValidHex:Ye.startsWith("0x")},timestamp:Date.now()});const Ne="64999999999986700000000",Xe=$h(Ne);V(q,{success:Xe!=="--"&&Xe.length>0,message:`formatPriceFromSatoshi("${Ne}") = ${Xe}`,data:{input:Ne,output:Xe,isValid:Xe!=="--"&&Xe.length>0},timestamp:Date.now()});const ft="86755123000",Ge=xpe(ft);V(q,{success:Ge!=="--"&&Ge.length>0,message:`formatLeverage("${ft}") = ${Ge}`,data:{input:ft,output:Ge,isValid:Ge!=="--"&&Ge.length>0},timestamp:Date.now()});const ot=649999999999867,Ie={minimumFractionDigits:xc,maximumFractionDigits:lpe},at=ot.toLocaleString("en-US",Ie);V(q,{success:at.length>0&&at.includes("649"),message:`number_x.toLocaleString("en-US", currencyFormatOptions) = ${at}`,data:{input:ot,output:at,currencyFormatOptions:Ie,isValid:at.length>0},timestamp:Date.now()})}catch(te){V(q,{success:!1,message:"Utility test error",error:te.message,timestamp:Date.now()})}},ze=async(q="Authentication")=>{if(!D||D.trim()===""){V(q,{success:!1,message:"Authentication skipped: Wallet address required",timestamp:Date.now()});return}if(!Nt.isReady()){V(q,{success:!1,message:"Authentication failed: mormSigner not loaded. Please initialize mormSigner first for address generation.",timestamp:Date.now()});return}try{V(q,{success:!0,message:"Starting authentication (onboarding) with ethers.js EIP-712 signing...",timestamp:Date.now()});const{onboardAndGetAuthToken:te}=await bt(async()=>{const{onboardAndGetAuthToken:me}=await Promise.resolve().then(()=>_je);return{onboardAndGetAuthToken:me}},void 0);if(V(q,{success:!0,message:"Calling onboardAndGetAuthToken (handles nonce, EIP-712 signing with ethers.js, and API request)...",timestamp:Date.now()}),!N)throw new Error("Mnemonic is required for authentication");const ve=await te(N,F.current);if(!ve.success||!ve.authToken)throw new Error(ve.error||"Onboarding failed");l(ve.authToken),localStorage.setItem("authToken",ve.authToken),V(q,{success:!0,message:"AUTHENTICATION SUCCESSFUL!",data:{walletAddress:D,authToken:ve.authToken.substring(0,32)+"...",refreshToken:ve.refreshToken,expiresAt:ve.expiresAt},timestamp:Date.now()})}catch(te){const ve=te.message||String(te);V(q,{success:!1,message:`Authentication failed: ${ve}`,error:ve,timestamp:Date.now()})}},wt=async()=>{var xe;const q="Wallet Specific";O.current=new Ir({baseURL:F.current}),s&&O.current&&O.current.setSessionToken(s),V(q,{success:!0,message:"Waiting for wallet address to be available...",timestamp:Date.now()});const te=5e3,ve=200;let me=0;for(;!D||D.trim()==="";){if(me>=te){V(q,{success:!1,message:"Timeout: Wallet address not available after 5 seconds",error:"Wallet address is required for wallet-specific tests. Please ensure mnemonic is provided.",timestamp:Date.now()});return}await new Promise(fe=>setTimeout(fe,ve)),me+=ve}if(!D||D.trim()===""){V(q,{success:!1,message:"Wallet address is required for wallet-specific tests",error:"Wallet address not available",timestamp:Date.now()});return}V(q,{success:!0,message:`Wallet address available: ${D.substring(0,10)}...`,timestamp:Date.now()});try{V(q,{success:!0,message:`Testing getBalance() for asset "MORM" at address ${D.substring(0,10)}...`,timestamp:Date.now()});try{const K=await O.current.getBalance(D,"MORM"),he=(K==null?void 0:K.balance)||"N/A",se=typeof he=="string"?he:JSON.stringify(he);V(q,{success:!!K,message:`getBalance() - GET /bank/v1/balance/{address} | Asset: MORM | Balance: ${se} (raw satoshi format)`,data:{balance:K,asset:"MORM",walletAddress:D.substring(0,10)+"...",note:"Balance is returned in satoshi format (raw integer string). Use getBalanceDecimal() for decimal format."},timestamp:Date.now()})}catch(K){V(q,{success:!1,message:'getBalance() failed for asset "MORM" (may require authentication)',error:K.message,data:{asset:"MORM",walletAddress:D.substring(0,10)+"...",endpoint:"GET /bank/v1/balance/{address}"},timestamp:Date.now()})}V(q,{success:!0,message:`Testing getBalance() for asset "USDC" at address ${D.substring(0,10)}...`,timestamp:Date.now()});try{const K=await O.current.getBalance(D,"USDC"),he=(K==null?void 0:K.balance)||"N/A",se=typeof he=="string"?he:JSON.stringify(he);V(q,{success:!!K,message:`getBalance() - GET /bank/v1/balance/{address} | Asset: USDC | Balance: ${se} (raw satoshi format)`,data:{balance:K,asset:"USDC",walletAddress:D.substring(0,10)+"...",note:"Balance is returned in satoshi format (raw integer string). Use getBalanceDecimal() for decimal format."},timestamp:Date.now()})}catch(K){V(q,{success:!1,message:'getBalance() failed for asset "USDC" (may require authentication)',error:K.message,data:{asset:"USDC",walletAddress:D.substring(0,10)+"...",endpoint:"GET /bank/v1/balance/{address}"},timestamp:Date.now()})}try{const K=await O.current.getBalanceDecimal(D,"USDC");V(q,{success:!!K,message:"getBalanceDecimal() - GET /bank/v1/balance/{address}",data:K,timestamp:Date.now()})}catch(K){V(q,{success:!1,message:"getBalanceDecimal() failed",error:K.message,timestamp:Date.now()})}try{const K=await O.current.getBalances(D);V(q,{success:!!K,message:"getBalances() - GET /bank/v1/balances/{address}",data:K,timestamp:Date.now()})}catch(K){V(q,{success:!1,message:"getBalances() failed (may require authentication)",error:K.message,timestamp:Date.now()})}try{const K=await O.current.getPositions(D);V(q,{success:Array.isArray(K),message:`getPositions() - GET /bucket/v1/address/{address}/positions returned ${Array.isArray(K)?K.length:0} positions`,data:K,timestamp:Date.now()})}catch(K){V(q,{success:!1,message:"getPositions() failed",error:K.message,timestamp:Date.now()})}let fe=[];try{const K=await O.current.getOrders(D);fe=(K==null?void 0:K.orders)||[];const he=K&&(Array.isArray(fe)||K.total_count!==void 0);V(q,{success:he,message:`getOrders() - GET /clob/v1/address/orders?address={address} returned ${Array.isArray(fe)?fe.length:0} orders (total_count: ${(K==null?void 0:K.total_count)??"N/A"})`,data:{orders:Array.isArray(fe)?fe.slice(0,3):fe,total_count:K==null?void 0:K.total_count,timestamp:K==null?void 0:K.timestamp},timestamp:Date.now()})}catch(K){V(q,{success:!1,message:"getOrders() failed",error:K.message,timestamp:Date.now()})}if(Array.isArray(fe)&&fe.length>0){const K=fe[0],he=(K==null?void 0:K.orderId)||(K==null?void 0:K.order_id)||(K==null?void 0:K.id);if(he){V(q,{success:!0,message:`Testing getOrder() for order ID: ${he.substring(0,16)}... (from getOrders result)`,timestamp:Date.now()});try{const se=await O.current.getOrder(he);V(q,{success:!!se,message:`getOrder() - GET /clob/v1/order/{orderID} | Order ID: ${he.substring(0,16)}...`,data:{order:se,orderId:he,source:"First order from getOrders() result"},timestamp:Date.now()})}catch(se){V(q,{success:!1,message:`getOrder() failed for order ID: ${he.substring(0,16)}...`,error:se.message,data:{orderId:he,endpoint:"GET /clob/v1/order/{orderID}"},timestamp:Date.now()})}}else V(q,{success:!1,message:"getOrder() test skipped: No valid order ID found in getOrders() result",error:"Order ID not found in order object",data:{order:K,availableFields:Object.keys(K||{})},timestamp:Date.now()})}else V(q,{success:!0,message:"getOrder() test skipped: No orders available from getOrders() (need at least 1 order)",data:{ordersCount:fe.length,note:"getOrder() test requires at least one order from getOrders()"},timestamp:Date.now()});try{const K=await O.current.getOrderHistory(D),he=Array.isArray(K)?K:(K==null?void 0:K.orders)||[],se=K&&(Array.isArray(he)||K.orders!==void 0);V(q,{success:se,message:`getOrderHistory() - GET /clob/v1/address/orders/history?address={address} returned ${Array.isArray(he)?he.length:0} orders`,data:Array.isArray(he)?he.slice(0,3):K,timestamp:Date.now()})}catch(K){V(q,{success:!1,message:"getOrderHistory() failed",error:K.message,timestamp:Date.now()})}try{const K=await O.current.getTradeHistory(D),he=Array.isArray(K)?K:[],se=Array.isArray(he);V(q,{success:se,message:`getTradeHistory() - GET /clob/v1/address/trades?address={address} returned ${he.length} trades`,data:he.slice(0,3),timestamp:Date.now()})}catch(K){V(q,{success:!1,message:"getTradeHistory() failed",error:K.message,timestamp:Date.now()})}try{const K=await O.current.getBuckets(D);if(V(q,{success:Array.isArray(K)||K!==void 0,message:`getBuckets() - GET /bucket/v1/address/{address}/buckets returned ${Array.isArray(K)?K.length:"data"}`,data:Array.isArray(K)?K.slice(0,3):K,timestamp:Date.now()}),Array.isArray(K)&&K.length>0){const se=K[0].bucket_id;if(se)try{const ke=await O.current.getBucket(se);V(q,{success:!!ke,message:`getBucket() - GET /bucket/v1/bucket/{bucket_id} (${se.substring(0,16)}...)`,data:ke,timestamp:Date.now()})}catch(ke){V(q,{success:!1,message:`getBucket(${se.substring(0,16)}...) failed`,error:ke.message,timestamp:Date.now()})}}}catch(K){V(q,{success:!1,message:"getBuckets() failed",error:K.message,timestamp:Date.now()})}V(q,{success:!0,message:"Testing useBuckets hook...",timestamp:Date.now()});try{if(await le(),V(q,{success:!re&&!pe,message:`useBuckets hook: ${Z.length} buckets loaded`,data:{buckets:Z.slice(0,3),loading:pe,error:re,totalBuckets:Z.length},timestamp:Date.now()}),Z.length>0){const he=(xe=Z[0].bucketId)==null?void 0:xe.toString();if(he)try{const se=await O.current.getBucket(he);V(q,{success:!!se,message:`getBucket() - GET /bucket/v1/bucket/{bucket_id} via hook bucket ID (${he.substring(0,16)}...)`,data:se,timestamp:Date.now()})}catch(se){V(q,{success:!1,message:"getBucket() via hook bucket ID failed",error:se.message,timestamp:Date.now()})}}}catch(K){V(q,{success:!1,message:"useBuckets hook test failed",error:K.message,timestamp:Date.now()})}}catch(fe){V(q,{success:!1,message:"Wallet Specific test error",error:fe.message,timestamp:Date.now()})}},qe=async()=>{var te,ve,me,xe,fe;const q="InfoClient";O.current=new Ir({baseURL:F.current}),s&&O.current&&O.current.setSessionToken(s);try{V(q,{success:!0,message:"Testing getMarkets()...",timestamp:Date.now()});const K=await j();$.current=Array.isArray(K)?K:[];const he=Array.isArray(K)?K.length:0,se=he>0?K.find(de=>de.active||de.status==="active")??K[0]:null,ke=(se==null?void 0:se.market_id)??((te=se==null?void 0:se.id)==null?void 0:te.toString())??null;if(V(q,{success:Array.isArray(K)&&he>0,message:`getMarkets() - GET /market/v1/all returned ${he} markets${ke?` | Using market ID: ${ke} (${(se==null?void 0:se.moniker)||(se==null?void 0:se.symbol)||"auto-selected"})`:""}`,data:{count:he,defaultMarketId:ke,defaultMarket:se?{id:se.id,market_id:se.market_id,moniker:se.moniker,symbol:se.symbol,active:se.active,status:se.status}:null,markets:K.slice(0,5)},timestamp:Date.now()}),ke){i(ke),z.current=ke;const de=(se==null?void 0:se.moniker)||(se==null?void 0:se.symbol)||(se!=null&&se.baseAsset&&(se!=null&&se.quoteAsset)?`${se.baseAsset}-${se.quoteAsset}`:"Unknown");V(q,{success:!0,message:`Markets loaded: ${he} | Auto-selected: ${de} (ID: ${ke.substring(0,10)}...)`,data:{selectedMarketId:ke,count:he,market:se},timestamp:Date.now()}),V(q,{success:!0,message:"Waiting 1.5s for market selection to take effect...",timestamp:Date.now()}),await new Promise(_e=>setTimeout(_e,1500)),V(q,{success:!0,message:`Market ID ready: ${ke}`,data:{marketId:ke},timestamp:Date.now()}),V(q,{success:!0,message:`Proceeding with market: ${de}`,timestamp:Date.now()})}const Re=ke||Ee||r;if(Re){V(q,{success:!0,message:`Testing getOrderbook(${Re}, true)...`,timestamp:Date.now()});try{const de=await O.current.getOrderbook(Re,!0);V(q,{success:!!de&&(!!de.bids||!!de.asks),message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} with decimal conversion",data:{bids:(ve=de==null?void 0:de.bids)==null?void 0:ve.slice(0,3),asks:(me=de==null?void 0:de.asks)==null?void 0:me.slice(0,3)},timestamp:Date.now()});const _e=await O.current.getOrderbook(Re,!1);V(q,{success:!!_e&&(!!_e.bids||!!_e.asks),message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} raw satoshi format",data:{bids:(xe=_e==null?void 0:_e.bids)==null?void 0:xe.slice(0,2),asks:(fe=_e==null?void 0:_e.asks)==null?void 0:fe.slice(0,2)},timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} failed",error:de.message,timestamp:Date.now()})}V(q,{success:!0,message:`Testing getTicker(${Re})...`,timestamp:Date.now()});try{const de=await O.current.getTicker(Re);V(q,{success:!!de,message:"getTicker() - GET /market/v1/market/{marketId}/stats",data:de,timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getTicker() - GET /market/v1/market/{marketId}/stats failed",error:de.message,timestamp:Date.now()})}V(q,{success:!0,message:`Testing getRecentTrades(${Re}, 10)...`,timestamp:Date.now()});try{const de=await O.current.getRecentTrades(Re,10);V(q,{success:Array.isArray(de),message:`getRecentTrades() - GET /clob/v1/trades?market_id={marketId} returned ${Array.isArray(de)?de.length:0} trades`,data:de==null?void 0:de.slice(0,3),timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getRecentTrades() - GET /clob/v1/trades?market_id={marketId} failed",error:de.message,timestamp:Date.now()})}}else V(q,{success:!1,message:"Skipping market-specific tests: No market ID available",error:"Please ensure markets are loaded and a market is selected",timestamp:Date.now()});V(q,{success:!0,message:"Testing router/v1 endpoints...",timestamp:Date.now()});try{const de=await O.current.getSupportedActions();V(q,{success:Array.isArray(de==null?void 0:de.actions)||(de==null?void 0:de.actions)!==void 0,message:"getSupportedActions() - GET /router/v1/tx/supported-actions",data:de,timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getSupportedActions() - GET /router/v1/tx/supported-actions failed",error:de.message,timestamp:Date.now()})}try{const de=await O.current.validateAction("clob::submit_order");V(q,{success:(de==null?void 0:de.valid)!==void 0||de!==void 0,message:'validateAction() - GET /router/v1/tx/validate-action ("clob::submit_order")',data:de,timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"validateAction() - GET /router/v1/tx/validate-action failed",error:de.message,timestamp:Date.now()})}try{const de=await O.current.getHealthSummary();V(q,{success:!!de,message:"getHealthSummary() - GET /router/v1/health/summary",data:de,timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getHealthSummary() - GET /router/v1/health/summary failed",error:de.message,timestamp:Date.now()})}try{const de=await O.current.getHealthDaemons();V(q,{success:!!de,message:"getHealthDaemons() - GET /router/v1/health/daemons",data:de,timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getHealthDaemons() - GET /router/v1/health/daemons failed",error:de.message,timestamp:Date.now()})}try{const de=await O.current.getServerTime();V(q,{success:!!de&&(de.serverTime!==void 0||de!==void 0),message:"getServerTime() - GET /router/v1/time",data:de,timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getServerTime() - GET /router/v1/time failed",error:de.message,timestamp:Date.now()})}try{const de=await O.current.getMetricsTPS();V(q,{success:!!de,message:"getMetricsTPS() - GET /router/v1/metrics/tps",data:de,timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getMetricsTPS() - GET /router/v1/metrics/tps failed",error:de.message,timestamp:Date.now()})}try{const de=await O.current.getMetricsLatency();V(q,{success:!!de,message:"getMetricsLatency() - GET /router/v1/metrics/latency",data:de,timestamp:Date.now()})}catch(de){V(q,{success:!1,message:"getMetricsLatency() - GET /router/v1/metrics/latency failed",error:de.message,timestamp:Date.now()})}}catch(K){V(q,{success:!1,message:"InfoClient test error",error:K.message,timestamp:Date.now()})}},Je=async()=>{var xe,fe,K;const q="ExchangeClient";if(!N){V(q,{success:!1,message:"Mnemonic required for ExchangeClient tests",error:"No mnemonic provided",timestamp:Date.now()});return}let te=r||Ee||z.current||"";if(!te||te.trim()===""){if($.current&&$.current.length>0){const he=$.current.find(se=>se.active||se.status==="active")??$.current[0];he&&(te=he.market_id??((xe=he.id)==null?void 0:xe.toString())??"",z.current=te,V(q,{success:!0,message:`Market ID not in state, using from fetched markets ref: ${te.substring(0,16)}...`,data:{source:"fetchedMarketsRef",marketId:te,market:{moniker:he.moniker,symbol:he.symbol,active:he.active}},timestamp:Date.now()}))}else if(R&&R.length>0){const he=R.find(se=>se.active||se.status==="active")??R[0];he&&(te=he.market_id??((fe=he.id)==null?void 0:fe.toString())??"",V(q,{success:!0,message:`Market ID not in state, using from markets state: ${te.substring(0,16)}...`,data:{source:"markets state",marketId:te,market:{moniker:he.moniker,symbol:he.symbol,active:he.active}},timestamp:Date.now()}))}}if(!te||te.trim()===""){V(q,{success:!1,message:"Market ID required from page or loaded markets",error:`Please enter or select a market ID in the configuration section, or ensure markets are loaded first. Debug: marketId="${r||"(empty)"}", effectiveMarketId="${Ee||"(empty)"}", fetchedMarketIdRef="${z.current||"(empty)"}", fetchedMarketsRef.length=${$.current.length}, markets.length=${R.length}`,data:{marketId:r||"(empty)",effectiveMarketId:Ee||"(empty)",defaultMarketId:Pe||"(empty)",fetchedMarketIdRef:z.current||"(empty)",fetchedMarketsRefCount:$.current.length,marketsCount:R.length,marketsAvailable:R.length>0||$.current.length>0},timestamp:Date.now()});return}const ve=D||"";if(!ve||ve.trim()===""){V(q,{success:!1,message:"Wallet address required from page",error:"Wallet address should be generated from mnemonic or entered manually. Please ensure mnemonic is valid.",timestamp:Date.now()});return}const me=r?"page state (marketId)":Ee?"page state (effectiveMarketId)":"loaded markets array";V(q,{success:!0,message:`Using market ID from ${me}: ${te.substring(0,16)}...`,data:{marketId:te,source:me},timestamp:Date.now()}),V(q,{success:!0,message:`Using wallet address from page: ${ve.substring(0,10)}...`,data:{walletAddress:ve},timestamp:Date.now()}),(s||a)&&V(q,{success:!0,message:`Using signing tokens: ${s?"Session Token":""} ${a?"Auth Token":""}`,data:{hasSessionToken:!!s,hasAuthToken:!!a},timestamp:Date.now()}),I.current=new ah({baseURL:F.current,mnemonic:ee.current});try{V(q,{success:!0,message:"Initializing ExchangeClient...",timestamp:Date.now()}),await I.current.initialize();const he=I.current.getWalletAddress();if(he.toLowerCase()!==ve.toLowerCase()){V(q,{success:!1,message:"Wallet address mismatch",error:`ExchangeClient wallet (${he}) does not match page wallet (${ve})`,timestamp:Date.now()});return}V(q,{success:!0,message:`ExchangeClient initialized successfully (Wallet: ${he.substring(0,10)}...)`,data:{walletAddress:he,marketId:te,verified:!0},timestamp:Date.now()});const se=te;V(q,{success:!0,message:`Using market ID as string: ${se}`,data:{marketId:se},timestamp:Date.now()});let ke=null;V(q,{success:!0,message:"Testing placeOrder with validation for btc-usdc-perp market...",timestamp:Date.now()});let Re=[];try{O.current||(O.current=new Ir({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const Se=await O.current.getBuckets(he);Re=Array.isArray(Se)?Se:[],V(q,{success:!0,message:`Fetched ${Re.length} bucket(s) for order test`,timestamp:Date.now()})}catch(Se){V(q,{success:!1,message:"Failed to fetch buckets for order test",error:Se.message,timestamp:Date.now()})}let de=null;try{const ae=($.current.length>0?$.current:R).find(ie=>{const ue=(ie.moniker||"").toLowerCase(),it=(ie.symbol||"").toLowerCase();return ue.includes("btc-usdc-perp")||ue.includes("btcusdcperp")||it.includes("btc-usdc-perp")||it.includes("btcusdcperp")||ie.baseAsset&&ie.quoteAsset&&ie.baseAsset.toLowerCase()==="btc"&&ie.quoteAsset.toLowerCase()==="usdc"});ae?(de=ae.market_id||((K=ae.id)==null?void 0:K.toString())||null,V(q,{success:!!de,message:`Found btc-usdc-perp market: ${de==null?void 0:de.substring(0,16)}...`,data:{marketId:de,moniker:ae.moniker,symbol:ae.symbol},timestamp:Date.now()})):V(q,{success:!1,message:"btc-usdc-perp market not found in available markets",error:"Please ensure btc-usdc-perp market is available",timestamp:Date.now()})}catch(Se){V(q,{success:!1,message:"Failed to find btc-usdc-perp market",error:Se.message,timestamp:Date.now()})}if(de)try{let Se=null;if(Re.length>0){const ae=Re[0];Se=ae.bucket_id||ae.id||ae.bucketId||null}if(!Se)V(q,{success:!1,message:"Default bucket not available for balance validation",error:"No buckets found",timestamp:Date.now()});else{V(q,{success:!0,message:"Step 1: Loading default bucket balance and checking available margin...",timestamp:Date.now()});const ae=1.01,ie=100,ue=10500,it=Cn(ie.toString()),Fe=ae*ue/ie;let Ye=0,Ne=0,Xe=0,ft=0;try{if(!O.current)throw new Error("InfoClient not initialized");const tt=await O.current.getBucket(Se);Xe=Rt(tt.available_margin||"0"),Ne=Rt(tt.deposited_margin||"0"),ft=Rt(tt.total_equity||"0"),Ye=Xe,V(q,{success:!0,message:"Step 1: Default bucket balance loaded",data:{availableMargin:Xe.toFixed(2),depositedMargin:Ne.toFixed(2),totalEquity:ft.toFixed(2),requiredMargin:Fe.toFixed(2),raw:tt},timestamp:Date.now()}),V(q,{success:!0,message:`Step 1: Validating sufficient available margin (required: ${Fe.toFixed(2)} USDC, available: ${Xe.toFixed(2)} USDC)...`,timestamp:Date.now()});const rn=Xe>=Fe;if(V(q,{success:rn,message:`Step 1: Margin validation ${rn?"PASSED":"FAILED"}`,data:{availableMargin:Xe.toFixed(2),requiredMargin:Fe.toFixed(2),marginDifference:(Xe-Fe).toFixed(2),hasSufficientMargin:rn,orderQuantity:`${ae.toFixed(2)} BTC`,orderPrice:`${ue.toFixed(2)} USDC/BTC`,orderLeverage:ie.toFixed(2),calculation:`(${ae.toFixed(2)} BTC * ${ue.toFixed(2)} USDC/BTC) / ${ie.toFixed(2)} = ${Fe.toFixed(2)} USDC`},timestamp:Date.now()}),!rn)throw V(q,{success:!1,message:`Step 1: Insufficient available margin. Required: ${Fe.toFixed(2)} USDC, Available: ${Xe.toFixed(2)} USDC`,error:`Available margin (${Xe.toFixed(2)} USDC) is less than required margin (${Fe.toFixed(2)} USDC)`,data:{availableMargin:Xe.toFixed(2),requiredMargin:Fe.toFixed(2),shortfall:(Fe-Xe).toFixed(2)},timestamp:Date.now()}),new Error(`Insufficient available margin: ${Xe.toFixed(2)} USDC available, ${Fe.toFixed(2)} USDC required`);V(q,{success:!0,message:"Step 1: Sufficient margin available. Proceeding to place order...",data:{availableMargin:Xe.toFixed(2),requiredMargin:Fe.toFixed(2),marginRemaining:(Xe-Fe).toFixed(2)},timestamp:Date.now()})}catch(tt){throw V(q,{success:!1,message:"Step 1: Failed to load or validate bucket balance",error:tt.message,timestamp:Date.now()}),tt}V(q,{success:!0,message:`Step 2: Preparing to place order - Quantity: ${ae.toFixed(2)} BTC, Leverage: ${ie}x, Price: ${ue.toFixed(2)} USDC/BTC...`,timestamp:Date.now()}),V(q,{success:!0,message:"Step 2.1: Re-checking default bucket available margin before placing order...",timestamp:Date.now()});let Ge=0;try{if(!O.current)throw new Error("InfoClient not initialized");const tt=await O.current.getBucket(Se);Ge=Rt(tt.available_margin||"0"),V(q,{success:!0,message:`Step 2.1: Current available margin: ${Ge.toFixed(2)} USDC`,data:{currentAvailableMargin:Ge.toFixed(2),requiredMargin:Fe.toFixed(2),previousAvailableMargin:Xe.toFixed(2),raw:tt},timestamp:Date.now()});const rn=Ge>=Fe;if(V(q,{success:rn,message:`Step 2.1: Margin check ${rn?"PASSED":"FAILED"}`,data:{currentAvailableMargin:Ge.toFixed(2),requiredMargin:Fe.toFixed(2),marginDifference:(Ge-Fe).toFixed(2),stillHasSufficientMargin:rn},timestamp:Date.now()}),!rn)throw V(q,{success:!1,message:`Step 2.1: Insufficient available margin. Required: ${Fe.toFixed(2)} USDC, Available: ${Ge.toFixed(2)} USDC`,error:`Available margin (${Ge.toFixed(2)} USDC) is less than required margin (${Fe.toFixed(2)} USDC)`,data:{currentAvailableMargin:Ge.toFixed(2),requiredMargin:Fe.toFixed(2),shortfall:(Fe-Ge).toFixed(2)},timestamp:Date.now()}),new Error(`Insufficient available margin: ${Ge.toFixed(2)} USDC available, ${Fe.toFixed(2)} USDC required`);V(q,{success:!0,message:"Step 2.1: Sufficient margin confirmed. Proceeding with order placement...",data:{currentAvailableMargin:Ge.toFixed(2),requiredMargin:Fe.toFixed(2),marginRemaining:(Ge-Fe).toFixed(2)},timestamp:Date.now()})}catch(tt){throw V(q,{success:!1,message:"Step 2.1: Failed to validate available margin before order placement",error:tt.message,timestamp:Date.now()}),tt}if(V(q,{success:!0,message:`Step 2.2: Placing order - Quantity: ${ae.toFixed(2)} BTC, Leverage: ${ie}x, Price: ${ue.toFixed(2)} USDC/BTC...`,timestamp:Date.now()}),!Z||Z.length===0)throw new Error("No buckets available. Please create a bucket first.");const Ie=Z[0].bucketId;if(!Ie)throw new Error("Bucket ID not found in bucket data");let at=null,Q=null;const De={marketId:de,bucketId:Ie,side:"buy",orderType:"LIMIT",price:ue,quantity:ae,timeInForce:"GTC",leverage:it},Ce={maxRetries:10,baseDelay:500,maxDelay:2e3,jitter:!0,multiplier:1.5};let Me=0;try{at=await eE(Ce,async()=>{if(Me++,Me>1&&V(q,{success:!0,message:`Step 2.2: Retrying order placement (attempt ${Me}/${Ce.maxRetries+1})...`,data:{attemptCount:Me},timestamp:Date.now()}),!I.current)throw new Error("ExchangeClient not initialized");const tt=await I.current.placeOrder(De),rn=(tt==null?void 0:tt.order_id)||null;if(!tt||!rn)throw new Error("Order placed but order_id not found in response");return tt},async tt=>{if(W7(tt)){V(q,{success:!1,message:`Step 2.2: Nonce error detected (attempt ${Me}/${Ce.maxRetries+1}): ${(tt==null?void 0:tt.message)||String(tt)}`,data:{error:(tt==null?void 0:tt.message)||String(tt),errorType:"nonce error",attemptCount:Me,willRetry:Me<=Ce.maxRetries},timestamp:Date.now()});try{if(!I.current)throw new Error("ExchangeClient not initialized");await I.current.refreshNonceFromServer(),V(q,{success:!0,message:"Step 2.2: Refreshed nonce from server, will retry...",timestamp:Date.now()})}catch(Qt){V(q,{success:!1,message:"Step 2.2: Failed to refresh nonce from server",error:(Qt==null?void 0:Qt.message)||String(Qt),timestamp:Date.now()})}return!0}return V(q,{success:!1,message:"Step 2.2: Failed to place order (non-retryable error)",error:(tt==null?void 0:tt.message)||String(tt),data:{error:(tt==null?void 0:tt.message)||String(tt),isNonceError:!1},timestamp:Date.now()}),!1}),Q=(at==null?void 0:at.order_id)||null,V(q,{success:!!at&&!!Q,message:`Step 2.2: Order placed successfully${Me>1?` (after ${Me-1} retry${Me>2?"ies":""})`:""}. Order ID: ${Q==null?void 0:Q.substring(0,16)}...`,data:{orderResult:at,orderId:Q,requestBody:De,attemptCount:Me},timestamp:Date.now()})}catch(tt){throw V(q,{success:!1,message:`Step 2.2: Failed to place order after ${Me} attempt${Me>1?"s":""}`,error:(tt==null?void 0:tt.message)||String(tt),data:{error:(tt==null?void 0:tt.message)||String(tt),attemptCount:Me,maxRetriesReached:Me>Ce.maxRetries},timestamp:Date.now()}),tt}if(!at||!Q)throw new Error(`Failed to place order after ${Me} attempts`);if(await new Promise(tt=>setTimeout(tt,1500)),Q){V(q,{success:!0,message:"Step 3: Validating pending order details...",timestamp:Date.now()});try{if(!O.current)throw new Error("InfoClient not initialized");const tt=await O.current.getOrder(Q);if(tt){const rn=Rt(tt.price||"0"),Qt=Rt(tt.quantity||"0"),on=Rt(tt.leverage||"0"),Xi=tt.side||"",Ri=tt.market_id||"",Po=Math.abs(rn-ue)<.01,pa=Math.abs(Qt-ae)<.01,Fr=Math.abs(on-ie)<.01,mi=Ri===de,Qs=Xi.toUpperCase().includes("BUY");V(q,{success:Po&&pa&&Fr&&mi&&Qs,message:`Step 3: Order validation ${Po&&pa&&Fr&&mi&&Qs?"PASSED":"FAILED"}`,data:{orderId:Q,expectedPrice:ue.toFixed(2),actualPrice:rn.toFixed(2),priceValid:Po,expectedQuantity:`${ae.toFixed(2)} BTC`,actualQuantity:`${Qt.toFixed(2)} BTC`,quantityValid:pa,expectedLeverage:ie.toFixed(2),actualLeverage:on.toFixed(2),leverageValid:Fr,expectedMarketId:de,actualMarketId:Ri,marketIdValid:mi,expectedSide:"buy",actualSide:Xi,sideValid:Qs,orderStatus:tt.status,rawOrder:tt},timestamp:Date.now()}),Po||V(q,{success:!1,message:`Order price mismatch: Expected ${ue.toFixed(2)}, got ${rn.toFixed(2)}`,timestamp:Date.now()}),pa||V(q,{success:!1,message:`Order quantity mismatch: Expected ${ae.toFixed(2)} BTC, got ${Qt.toFixed(2)} BTC`,timestamp:Date.now()}),Fr||V(q,{success:!1,message:`Order leverage mismatch: Expected ${ie.toFixed(2)}, got ${on.toFixed(2)}`,timestamp:Date.now()}),mi||V(q,{success:!1,message:`Order market ID mismatch: Expected ${de}, got ${Ri}`,timestamp:Date.now()}),Qs||V(q,{success:!1,message:`Order side mismatch: Expected buy, got ${Xi}`,timestamp:Date.now()})}else V(q,{success:!1,message:"Step 3: Failed to retrieve pending order",error:"Order not found",timestamp:Date.now()})}catch(tt){V(q,{success:!1,message:"Step 3: Failed to validate pending order",error:tt.message,timestamp:Date.now()})}}V(q,{success:!0,message:"Step 4: Loading default bucket USDC balance after placing order...",timestamp:Date.now()});let Oe=0;try{if(!O.current)throw new Error("InfoClient not initialized");const tt=await O.current.getBucket(Se);Oe=Rt(tt.available_margin||"0"),V(q,{success:!0,message:`Step 4: Default bucket USDC balance after: ${Oe.toFixed(2)} USDC`,data:{balance:Oe,raw:tt},timestamp:Date.now()})}catch(tt){throw V(q,{success:!1,message:"Step 4: Failed to load bucket balance after order",error:tt.message,timestamp:Date.now()}),tt}V(q,{success:!0,message:"Step 5: Validating bucket balance change...",timestamp:Date.now()});const ut=Ge-Oe,Mt=Fe,Tt=Math.abs(ut-Mt)<.01;V(q,{success:Tt,message:`Step 5: Bucket balance validation ${Tt?"PASSED":"FAILED"}`,data:{availableMarginBeforeOrder:Ge.toFixed(2),availableMarginAfterOrder:Oe.toFixed(2),marginReserved:ut.toFixed(2),expectedMarginReserved:Mt.toFixed(2),marginReservedValid:Tt,orderQuantity:`${ae.toFixed(2)} BTC`,orderPrice:`${ue.toFixed(2)} USDC/BTC`,orderLeverage:ie.toFixed(2),calculation:`(${ae.toFixed(2)} BTC * ${ue.toFixed(2)} USDC/BTC) / ${ie.toFixed(2)} = ${Mt.toFixed(2)} USDC`,note:"Using available margin from Step 2.1 as baseline (most recent before order placement)"},timestamp:Date.now()}),Tt||V(q,{success:!1,message:`Bucket balance change mismatch: Expected margin reserved ${Mt.toFixed(2)} USDC, actual change ${ut.toFixed(2)} USDC`,error:`Expected available margin to decrease by ${Mt.toFixed(2)} USDC, but decreased by ${ut.toFixed(2)} USDC`,timestamp:Date.now()}),V(q,{success:Tt,message:`Place order validation test ${Tt?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{orderId:Q,marketId:de,orderQuantity:`${ae.toFixed(2)} BTC`,orderLeverage:`${ie}x`,orderPrice:`${ue.toFixed(2)} USDC`,availableMarginBeforeOrder:`${Ge.toFixed(2)} USDC`,availableMarginAfterOrder:`${Oe.toFixed(2)} USDC`,marginReserved:`${ut.toFixed(2)} USDC`,expectedMarginReserved:`${Mt.toFixed(2)} USDC`,validationPassed:Tt},timestamp:Date.now()})}}catch(Se){V(q,{success:!1,message:"Place order validation test failed",error:Se.message,timestamp:Date.now()})}if(te){if(!Z||Z.length===0){V(q,{success:!1,message:"placeOrder() - No buckets available. Please create a bucket first.",error:"Bucket ID is required for order placement",timestamp:Date.now()});return}const ae=Z[0].bucketId;if(!ae){V(q,{success:!1,message:"placeOrder() - Bucket ID not found in bucket data",error:"Bucket ID is required for order placement",timestamp:Date.now()});return}const ie=1,ue=Cn(ie.toString()),it={marketId:se,bucketId:ae,side:"buy",orderType:"LIMIT",price:40010.8778,quantity:.01,timeInForce:"GTC",leverage:ue};V(q,{success:!0,message:`Testing placeOrder() (submit order) for market ${te}...`,data:{requestBody:it,endpoint:"POST /clob/v1/order",note:"Price and quantity are decimal numbers, converted to satoshi strings in buildOrderPayload(). Leverage is already in satoshi format.",leverage:{decimal:ie,satoshi:ue}},timestamp:Date.now()});try{const Fe=await I.current.placeOrder(it);Fe?(ke=Fe.order_id||null,ke?V(q,{success:!0,message:`placeOrder() - POST /clob/v1/order executed successfully. Order ID: ${ke.substring(0,16)}...`,data:{orderResult:Fe,orderId:ke,requestBody:it,endpoint:"POST /clob/v1/order"},timestamp:Date.now()}):V(q,{success:!0,message:"placeOrder() - POST /clob/v1/order executed successfully (orderId not found in response)",data:{orderResult:Fe,requestBody:it,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})):V(q,{success:!1,message:"placeOrder() - POST /clob/v1/order returned empty response",data:{requestBody:it,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})}catch(Fe){V(q,{success:!1,message:"placeOrder() - POST /clob/v1/order failed",error:Fe.message,data:{requestBody:it,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})}}else V(q,{success:!0,message:"Skipping placeOrder() test: No market ID available",timestamp:Date.now()});if(te&&ke){V(q,{success:!0,message:`Testing cancelOrder() for order ${ke.substring(0,16)}...`,timestamp:Date.now()});try{const Se=await I.current.cancelOrder({orderId:ke,marketId:se});V(q,{success:!!Se,message:"cancelOrder() - POST /router/v1/tx executed successfully",data:Se,timestamp:Date.now()})}catch(Se){V(q,{success:!1,message:"cancelOrder() - POST /router/v1/tx failed",error:Se.message,timestamp:Date.now()})}}else te?ke||V(q,{success:!0,message:"Skipping cancelOrder() test: No order ID available (placeOrder may have failed or orderId not in response)",timestamp:Date.now()}):V(q,{success:!0,message:"Skipping cancelOrder() test: No market ID available",timestamp:Date.now()});if(te){V(q,{success:!0,message:`Testing closePosition() for market ${te}...`,timestamp:Date.now()});try{let Se=!1,ae=0,ie;try{O.current||(O.current=new Ir({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const ue=await O.current.getPositions(he),it=Array.isArray(ue)?ue.find(Fe=>(Fe.market_id||Fe.marketId)===te):null;if(it)if(Se=!0,ie=it.position_id||it.positionId,it.mark_price)ae=Rt(it.mark_price||"0");else{const Fe=await O.current.getTicker(te);Fe&&Fe.last_price&&(ae=Rt(typeof Fe.last_price=="string"?Fe.last_price:String(Fe.last_price)))}}catch(ue){V(q,{success:!0,message:`Position check failed (will attempt close anyway): ${ue.message}`,timestamp:Date.now()})}if(!Se)V(q,{success:!0,message:"No open position found for this market. Skipping closePosition() test.",data:{marketId:te,note:"closePosition() requires an open position to test"},timestamp:Date.now()});else if(!ie)V(q,{success:!1,message:"closePosition() - positionId is required but not found in position data",timestamp:Date.now()});else{const ue=await I.current.closePosition({positionId:ie,marketId:se,marketPrice:ae>0?ae:void 0,quantity:void 0});V(q,{success:!!ue,message:"closePosition() - POST /bucket/v1/position/close executed successfully",data:{closeResult:ue,note:"quantity=undefined means close full position (closeSize=0 in request)"},timestamp:Date.now()})}}catch(Se){V(q,{success:!1,message:"closePosition() - POST /bucket/v1/position/close failed (may not have open position)",error:Se.message,timestamp:Date.now()})}}else V(q,{success:!0,message:"Skipping closePosition() test: No market ID available",timestamp:Date.now()});V(q,{success:!0,message:"Fetching buckets for bucket operation tests...",timestamp:Date.now()});let _e=[];try{O.current||(O.current=new Ir({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const Se=await O.current.getBuckets(he);_e=Array.isArray(Se)?Se:[],V(q,{success:!0,message:`Found ${_e.length} bucket(s) for testing`,data:{bucketCount:_e.length,buckets:_e.slice(0,3).map(ae=>({bucketId:ae.bucket_id||ae.id||ae.bucketId,availableMargin:ae.available_margin||ae.availableMargin}))},timestamp:Date.now()})}catch(Se){V(q,{success:!1,message:"Failed to fetch buckets for testing",error:Se.message,timestamp:Date.now()})}if(_e.length>0){const Se=_e[0],ae=Se.bucket_id||Se.id||Se.bucketId;if(ae){V(q,{success:!0,message:"Testing extractToBucket() (1 USD = 100000000 satoshi)...",timestamp:Date.now()});try{const ie=await I.current.extractToBucket({bucketId:ae,assetId:"USDC",amount:1});V(q,{success:!!ie,message:"extractToBucket() - POST /bank/v1/extract-to-bucket executed successfully",data:ie,timestamp:Date.now()})}catch(ie){V(q,{success:!1,message:"extractToBucket() - POST /bank/v1/extract-to-bucket failed",error:ie.message,timestamp:Date.now()})}}else V(q,{success:!0,message:"Skipping extractToBucket() test: No valid bucket ID found",timestamp:Date.now()})}else V(q,{success:!0,message:"Skipping extractToBucket() test: No buckets available",timestamp:Date.now()});if(_e.length>0){const Se=_e[0],ae=Se.bucket_id||Se.id||Se.bucketId;if(ae){V(q,{success:!0,message:"Testing bucket to spot wallet transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(q,{success:!0,message:"Step 1: Loading bucket USDC balance before transfer...",timestamp:Date.now()});let ie=0;try{O.current||(O.current=new Ir({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const Q=await O.current.getBucket(ae);ie=Rt(Q.available_margin||"0"),V(q,{success:!0,message:`Step 1: Bucket USDC balance before: ${ie.toFixed(2)} USDC`,data:{balance:ie,raw:Q},timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 1: Failed to load bucket balance",error:Q.message,timestamp:Date.now()}),Q}V(q,{success:!0,message:"Step 2: Loading spot wallet USDC balance before transfer...",timestamp:Date.now()});let ue=0;try{const Q=await O.current.getBalanceDecimal(he,"USDC");ue=Rt(Q.available_balance||"0"),V(q,{success:!0,message:`Step 2: Spot wallet USDC balance before: ${ue.toFixed(2)} USDC`,data:{balance:ue,raw:Q},timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 2: Failed to load spot wallet balance",error:Q.message,timestamp:Date.now()}),Q}const it=10,Fe=Cn(it.toString());V(q,{success:!0,message:`Step 3: Transferring ${it.toFixed(2)} USDC (${Fe} satoshi) from bucket to spot wallet...`,timestamp:Date.now()});try{const Q=await I.current.withdrawFromBucket({bucketId:ae,assetId:"USDC",amount:it});V(q,{success:!!Q,message:"Step 3: Transfer executed successfully",data:Q,timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 3: Transfer failed",error:Q.message,timestamp:Date.now()}),Q}await new Promise(Q=>setTimeout(Q,1e3)),V(q,{success:!0,message:"Step 4: Loading bucket USDC balance after transfer...",timestamp:Date.now()});let Ye=0;try{const Q=await O.current.getBucket(ae);Ye=Rt(Q.available_margin||"0"),V(q,{success:!0,message:`Step 4: Bucket USDC balance after: ${Ye.toFixed(2)} USDC`,data:{balance:Ye,raw:Q},timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 4: Failed to load bucket balance after transfer",error:Q.message,timestamp:Date.now()}),Q}V(q,{success:!0,message:"Step 5: Loading spot wallet USDC balance after transfer...",timestamp:Date.now()});let Ne=0;try{const Q=await O.current.getBalanceDecimal(he,"USDC");Ne=Rt(Q.available_balance||"0"),V(q,{success:!0,message:`Step 5: Spot wallet USDC balance after: ${Ne.toFixed(2)} USDC`,data:{balance:Ne,raw:Q},timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 5: Failed to load spot wallet balance after transfer",error:Q.message,timestamp:Date.now()}),Q}V(q,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Xe=ie-Ye,ft=Ne-ue,Ge=it,ot=it,Ie=Math.abs(Xe-Ge)<.01,at=Math.abs(ft-ot)<.01;V(q,{success:Ie&&at,message:`Step 6: Validation ${Ie&&at?"PASSED":"FAILED"}`,data:{bucketBalanceBefore:ie.toFixed(2),bucketBalanceAfter:Ye.toFixed(2),bucketBalanceDecrease:Xe.toFixed(2),expectedBucketDecrease:Ge.toFixed(2),bucketDecreaseValid:Ie,walletBalanceBefore:ue.toFixed(2),walletBalanceAfter:Ne.toFixed(2),walletBalanceIncrease:ft.toFixed(2),expectedWalletIncrease:ot.toFixed(2),walletIncreaseValid:at,transferAmount:it.toFixed(2)},timestamp:Date.now()}),Ie||V(q,{success:!1,message:`Validation failed: Bucket balance decrease (${Xe.toFixed(2)}) does not match expected (${Ge.toFixed(2)})`,error:`Expected bucket to decrease by ${Ge.toFixed(2)} USDC, but decreased by ${Xe.toFixed(2)} USDC`,timestamp:Date.now()}),at||V(q,{success:!1,message:`Validation failed: Wallet balance increase (${ft.toFixed(2)}) does not match expected (${ot.toFixed(2)})`,error:`Expected wallet to increase by ${ot.toFixed(2)} USDC, but increased by ${ft.toFixed(2)} USDC`,timestamp:Date.now()}),V(q,{success:Ie&&at,message:`Bucket to spot wallet transfer test ${Ie&&at?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${it.toFixed(2)} USDC`,bucketBalanceBefore:`${ie.toFixed(2)} USDC`,bucketBalanceAfter:`${Ye.toFixed(2)} USDC`,bucketBalanceChange:`${Xe.toFixed(2)} USDC`,walletBalanceBefore:`${ue.toFixed(2)} USDC`,walletBalanceAfter:`${Ne.toFixed(2)} USDC`,walletBalanceChange:`${ft.toFixed(2)} USDC`,validationPassed:Ie&&at},timestamp:Date.now()})}catch(ie){V(q,{success:!1,message:"Bucket to spot wallet transfer test failed",error:ie.message,timestamp:Date.now()})}}else V(q,{success:!0,message:"Skipping bucket to spot wallet transfer test: No valid bucket ID found",timestamp:Date.now()})}else V(q,{success:!0,message:"Skipping bucket to spot wallet transfer test: No buckets available",timestamp:Date.now()});if(_e.length>=2){const Se=_e[0],ae=_e[1],ie=Se.bucket_id||Se.id||Se.bucketId,ue=ae.bucket_id||ae.id||ae.bucketId;if(ie&&ue){V(q,{success:!0,message:"Testing bucket to bucket transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(q,{success:!0,message:"Step 1: Loading source bucket USDC balance before transfer...",timestamp:Date.now()});let it=0;try{O.current||(O.current=new Ir({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const Ce=await O.current.getBucket(ie);it=Rt(Ce.available_margin||"0"),V(q,{success:!0,message:`Step 1: Source bucket USDC balance before: ${it.toFixed(2)} USDC`,data:{balance:it,raw:Ce},timestamp:Date.now()})}catch(Ce){throw V(q,{success:!1,message:"Step 1: Failed to load source bucket balance",error:Ce.message,timestamp:Date.now()}),Ce}V(q,{success:!0,message:"Step 2: Loading target bucket USDC balance before transfer...",timestamp:Date.now()});let Fe=0;try{const Ce=await O.current.getBucket(ue);Fe=Rt(Ce.available_margin||"0"),V(q,{success:!0,message:`Step 2: Target bucket USDC balance before: ${Fe.toFixed(2)} USDC`,data:{balance:Fe,raw:Ce},timestamp:Date.now()})}catch(Ce){throw V(q,{success:!1,message:"Step 2: Failed to load target bucket balance",error:Ce.message,timestamp:Date.now()}),Ce}const Ye=10,Ne=Cn(Ye.toString());V(q,{success:!0,message:`Step 3: Transferring ${Ye.toFixed(2)} USDC (${Ne} satoshi) from source bucket to target bucket...`,timestamp:Date.now()});try{const Ce=await I.current.bucketTransfer({fromBucketId:ie,toBucketId:ue,assetId:"USDC",amount:Ye});V(q,{success:!!Ce,message:"Step 3: Transfer executed successfully",data:Ce,timestamp:Date.now()})}catch(Ce){throw V(q,{success:!1,message:"Step 3: Transfer failed",error:Ce.message,timestamp:Date.now()}),Ce}await new Promise(Ce=>setTimeout(Ce,1e3)),V(q,{success:!0,message:"Step 4: Loading source bucket USDC balance after transfer...",timestamp:Date.now()});let Xe=0;try{const Ce=await O.current.getBucket(ie);Xe=Rt(Ce.available_margin||"0"),V(q,{success:!0,message:`Step 4: Source bucket USDC balance after: ${Xe.toFixed(2)} USDC`,data:{balance:Xe,raw:Ce},timestamp:Date.now()})}catch(Ce){throw V(q,{success:!1,message:"Step 4: Failed to load source bucket balance after transfer",error:Ce.message,timestamp:Date.now()}),Ce}V(q,{success:!0,message:"Step 5: Loading target bucket USDC balance after transfer...",timestamp:Date.now()});let ft=0;try{const Ce=await O.current.getBucket(ue);ft=Rt(Ce.available_margin||"0"),V(q,{success:!0,message:`Step 5: Target bucket USDC balance after: ${ft.toFixed(2)} USDC`,data:{balance:ft,raw:Ce},timestamp:Date.now()})}catch(Ce){throw V(q,{success:!1,message:"Step 5: Failed to load target bucket balance after transfer",error:Ce.message,timestamp:Date.now()}),Ce}V(q,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Ge=it-Xe,ot=ft-Fe,Ie=Ye,at=Ye,Q=Math.abs(Ge-Ie)<.01,De=Math.abs(ot-at)<.01;V(q,{success:Q&&De,message:`Step 6: Validation ${Q&&De?"PASSED":"FAILED"}`,data:{sourceBucketBalanceBefore:it.toFixed(2),sourceBucketBalanceAfter:Xe.toFixed(2),sourceBucketBalanceDecrease:Ge.toFixed(2),expectedSourceDecrease:Ie.toFixed(2),sourceDecreaseValid:Q,targetBucketBalanceBefore:Fe.toFixed(2),targetBucketBalanceAfter:ft.toFixed(2),targetBucketBalanceIncrease:ot.toFixed(2),expectedTargetIncrease:at.toFixed(2),targetIncreaseValid:De,transferAmount:Ye.toFixed(2)},timestamp:Date.now()}),Q||V(q,{success:!1,message:`Validation failed: Source bucket balance decrease (${Ge.toFixed(2)}) does not match expected (${Ie.toFixed(2)})`,error:`Expected source bucket to decrease by ${Ie.toFixed(2)} USDC, but decreased by ${Ge.toFixed(2)} USDC`,timestamp:Date.now()}),De||V(q,{success:!1,message:`Validation failed: Target bucket balance increase (${ot.toFixed(2)}) does not match expected (${at.toFixed(2)})`,error:`Expected target bucket to increase by ${at.toFixed(2)} USDC, but increased by ${ot.toFixed(2)} USDC`,timestamp:Date.now()}),V(q,{success:Q&&De,message:`Bucket to bucket transfer test ${Q&&De?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${Ye.toFixed(2)} USDC`,sourceBucketBalanceBefore:`${it.toFixed(2)} USDC`,sourceBucketBalanceAfter:`${Xe.toFixed(2)} USDC`,sourceBucketBalanceChange:`${Ge.toFixed(2)} USDC`,targetBucketBalanceBefore:`${Fe.toFixed(2)} USDC`,targetBucketBalanceAfter:`${ft.toFixed(2)} USDC`,targetBucketBalanceChange:`${ot.toFixed(2)} USDC`,validationPassed:Q&&De},timestamp:Date.now()})}catch(it){V(q,{success:!1,message:"Bucket to bucket transfer test failed",error:it.message,timestamp:Date.now()})}}else V(q,{success:!0,message:"Skipping bucket to bucket transfer test: Invalid bucket IDs",timestamp:Date.now()})}else V(q,{success:!0,message:"Skipping bucket to bucket transfer test: Need at least 2 buckets (found "+_e.length+")",timestamp:Date.now()});if(_e.length>0){const Se=_e[0],ae=Se.bucket_id||Se.id||Se.bucketId;if(ae){V(q,{success:!0,message:"Testing spot wallet to bucket default transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{V(q,{success:!0,message:"Step 1: Loading spot wallet USDC balance before transfer...",timestamp:Date.now()});let ie=0;try{if(O.current||(O.current=new Ir({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s),!O.current)throw new Error("Failed to initialize InfoClient");const Q=await O.current.getBalanceDecimal(he,"USDC");ie=Rt(Q.available_balance||"0"),V(q,{success:!0,message:`Step 1: Spot wallet USDC balance before: ${ie.toFixed(2)} USDC`,data:{balance:ie,raw:Q},timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 1: Failed to load spot wallet balance",error:Q.message,timestamp:Date.now()}),Q}V(q,{success:!0,message:"Step 2: Loading default bucket USDC balance before transfer...",timestamp:Date.now()});let ue=0;try{O.current||(O.current=new Ir({baseURL:F.current})),s&&O.current&&O.current.setSessionToken(s);const Q=await O.current.getBucket(ae);ue=Rt(Q.available_margin||"0"),V(q,{success:!0,message:`Step 2: Default bucket USDC balance before: ${ue.toFixed(2)} USDC`,data:{balance:ue,raw:Q},timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 2: Failed to load bucket balance",error:Q.message,timestamp:Date.now()}),Q}const it=10,Fe=Cn(it.toString());V(q,{success:!0,message:`Step 3: Transferring ${it.toFixed(2)} USDC (${Fe} satoshi) from spot wallet to default bucket...`,timestamp:Date.now()});try{const Q=await I.current.extractToBucket({bucketId:ae,assetId:"USDC",amount:it});V(q,{success:!!Q,message:"Step 3: Transfer executed successfully",data:Q,timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 3: Transfer failed",error:Q.message,timestamp:Date.now()}),Q}await new Promise(Q=>setTimeout(Q,1e3)),V(q,{success:!0,message:"Step 4: Loading spot wallet USDC balance after transfer...",timestamp:Date.now()});let Ye=0;try{const Q=await O.current.getBalanceDecimal(he,"USDC");Ye=Rt(Q.available_balance||"0"),V(q,{success:!0,message:`Step 4: Spot wallet USDC balance after: ${Ye.toFixed(2)} USDC`,data:{balance:Ye,raw:Q},timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 4: Failed to load spot wallet balance after transfer",error:Q.message,timestamp:Date.now()}),Q}V(q,{success:!0,message:"Step 5: Loading default bucket USDC balance after transfer...",timestamp:Date.now()});let Ne=0;try{const Q=await O.current.getBucket(ae);Ne=Rt(Q.available_margin||"0"),V(q,{success:!0,message:`Step 5: Default bucket USDC balance after: ${Ne.toFixed(2)} USDC`,data:{balance:Ne,raw:Q},timestamp:Date.now()})}catch(Q){throw V(q,{success:!1,message:"Step 5: Failed to load bucket balance after transfer",error:Q.message,timestamp:Date.now()}),Q}V(q,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Xe=ie-Ye,ft=Ne-ue,Ge=it,ot=it,Ie=Math.abs(Xe-Ge)<.01,at=Math.abs(ft-ot)<.01;V(q,{success:Ie&&at,message:`Step 6: Validation ${Ie&&at?"PASSED":"FAILED"}`,data:{walletBalanceBefore:ie.toFixed(2),walletBalanceAfter:Ye.toFixed(2),walletBalanceDecrease:Xe.toFixed(2),expectedWalletDecrease:Ge.toFixed(2),walletDecreaseValid:Ie,bucketBalanceBefore:ue.toFixed(2),bucketBalanceAfter:Ne.toFixed(2),bucketBalanceIncrease:ft.toFixed(2),expectedBucketIncrease:ot.toFixed(2),bucketIncreaseValid:at,transferAmount:it.toFixed(2)},timestamp:Date.now()}),Ie||V(q,{success:!1,message:`Validation failed: Wallet balance decrease (${Xe.toFixed(2)}) does not match expected (${Ge.toFixed(2)})`,error:`Expected wallet to decrease by ${Ge.toFixed(2)} USDC, but decreased by ${Xe.toFixed(2)} USDC`,timestamp:Date.now()}),at||V(q,{success:!1,message:`Validation failed: Bucket balance increase (${ft.toFixed(2)}) does not match expected (${ot.toFixed(2)})`,error:`Expected bucket to increase by ${ot.toFixed(2)} USDC, but increased by ${ft.toFixed(2)} USDC`,timestamp:Date.now()}),V(q,{success:Ie&&at,message:`Spot wallet to bucket transfer test ${Ie&&at?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${it.toFixed(2)} USDC`,walletBalanceBefore:`${ie.toFixed(2)} USDC`,walletBalanceAfter:`${Ye.toFixed(2)} USDC`,walletBalanceChange:`${Xe.toFixed(2)} USDC`,bucketBalanceBefore:`${ue.toFixed(2)} USDC`,bucketBalanceAfter:`${Ne.toFixed(2)} USDC`,bucketBalanceChange:`${ft.toFixed(2)} USDC`,validationPassed:Ie&&at},timestamp:Date.now()})}catch(ie){V(q,{success:!1,message:"Spot wallet to bucket transfer test failed",error:ie.message,timestamp:Date.now()})}}else V(q,{success:!0,message:"Skipping spot wallet to bucket transfer test: No valid default bucket ID found",timestamp:Date.now()})}else V(q,{success:!0,message:"Skipping spot wallet to bucket transfer test: No buckets available",timestamp:Date.now()});V(q,{success:!0,message:"Testing createBucket() (create new margin bucket)...",timestamp:Date.now()});try{V(q,{success:!0,message:"Step 1: Getting current bucket count before creation...",timestamp:Date.now()});let Se=[],ae=0;try{if(!O.current)throw new Error("InfoClient not initialized");Se=await O.current.getBuckets(he),ae=Array.isArray(Se)?Se.length:0,V(q,{success:!0,message:`Step 1: Current bucket count: ${ae}`,data:{bucketCount:ae,buckets:Array.isArray(Se)?Se.slice(0,3).map(Fe=>({bucketId:Fe.bucket_id||Fe.id||Fe.bucketId,marginType:Fe.margin_type||Fe.marginType,collateralAsset:Fe.collateral_asset||Fe.collateralAsset})):[]},timestamp:Date.now()})}catch(Fe){throw V(q,{success:!1,message:"Step 1: Failed to get current buckets",error:Fe.message,timestamp:Date.now()}),Fe}V(q,{success:!0,message:"Step 2: Creating cross margin USDC bucket...",timestamp:Date.now()});let ie=null,ue=null;try{if(ie=await I.current.createBucket({bucketType:"USDC",marginType:"cross"}),!ie||!ie.success)throw new Error((ie==null?void 0:ie.message)||"Failed to create bucket");ue=ie.bucket_id||null,V(q,{success:!!ie&&!!ue,message:`Step 2: Cross margin USDC bucket created successfully. Bucket ID: ${ue==null?void 0:ue.substring(0,16)}...`,data:{createResult:ie,bucketId:ue,bucketType:"USDC",marginType:"cross"},timestamp:Date.now()})}catch(Fe){V(q,{success:!1,message:"Step 2: Failed to create cross margin USDC bucket",error:Fe.message,timestamp:Date.now()})}if(ue&&await new Promise(Fe=>setTimeout(Fe,2e3)),ue){V(q,{success:!0,message:"Step 3: Validating bucket was created...",timestamp:Date.now()});try{if(!O.current)throw new Error("InfoClient not initialized");const Fe=await O.current.getBuckets(he),Ye=Array.isArray(Fe)?Fe.length:0,Ne=Array.isArray(Fe)?Fe.find(Ge=>(Ge.bucket_id||Ge.id||Ge.bucketId)===ue):null,Xe=!!Ne,ft=Ye>ae;V(q,{success:Xe&&ft,message:`Step 3: Bucket validation ${Xe&&ft?"PASSED":"FAILED"}`,data:{bucketCountBefore:ae,bucketCountAfter:Ye,bucketCountIncreased:ft,createdBucketId:ue,bucketFound:Xe,createdBucket:Ne?{bucketId:Ne.bucket_id,marginType:Ne.margin_type,collateralAsset:Ne.collateral_asset}:null},timestamp:Date.now()}),Xe||V(q,{success:!1,message:`Validation failed: Created bucket (${ue==null?void 0:ue.substring(0,16)}...) not found in bucket list`,error:"Bucket was created but not found in subsequent query",timestamp:Date.now()}),ft||V(q,{success:!1,message:`Validation failed: Bucket count did not increase (before: ${ae}, after: ${Ye})`,error:"Bucket count should increase after creation",timestamp:Date.now()})}catch(Fe){V(q,{success:!1,message:"Step 3: Failed to validate bucket creation",error:Fe.message,timestamp:Date.now()})}}V(q,{success:!0,message:"Step 4: Testing isolated margin USDC bucket creation...",timestamp:Date.now()});let it=null;try{const Fe=await I.current.createBucket({bucketType:"USDC",marginType:"isolated"});if(!Fe||!Fe.success)throw new Error((Fe==null?void 0:Fe.message)||"Failed to create isolated bucket");it=Fe.bucket_id||null,V(q,{success:!!Fe&&!!it,message:`Step 4: Isolated margin USDC bucket created successfully. Bucket ID: ${it==null?void 0:it.substring(0,16)}...`,data:{createResult:Fe,bucketId:it,bucketType:"USDC",marginType:"isolated"},timestamp:Date.now()})}catch(Fe){V(q,{success:!1,message:"Step 4: Failed to create isolated margin USDC bucket",error:Fe.message,timestamp:Date.now()})}V(q,{success:!0,message:`Create bucket test ${ue&&it?"COMPLETED SUCCESSFULLY":"COMPLETED WITH SOME FAILURES"}`,data:{crossMarginBucketId:ue,isolatedMarginBucketId:it,bucketCountBefore:ae,testsPerformed:["createBucket (cross margin USDC)","createBucket (isolated margin USDC)"]},timestamp:Date.now()})}catch(Se){V(q,{success:!1,message:"Create bucket test failed",error:Se.message,timestamp:Date.now()})}V(q,{success:!0,message:"ExchangeClient tests completed",data:{walletAddress:he,marketId:se,sessionToken:s?"present":"not set",authToken:a?"present":"not set",methodsTested:["placeOrder","cancelOrder","closePosition","extractToBucket","withdrawFromBucket","bucketTransfer","createBucket"]},timestamp:Date.now()})}catch(he){V(q,{success:!1,message:"ExchangeClient test error",error:he.message,timestamp:Date.now()})}},yt=async()=>{if(!f){p(!0),Ae(),vt.info("Running tests",{description:"Starting comprehensive SDK test suite..."});try{st(),await qe(),await ze("Authentication"),await wt(),N&&await Je()}catch(q){V("General",{success:!1,message:"Test suite error",error:q.message,timestamp:Date.now()}),vt.error("Test suite error",{description:q.message||"An unexpected error occurred during testing.",duration:6e3})}finally{p(!1)}}};return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"SDK QA"}),g.jsx("p",{children:"Comprehensive test suite for all SDK APIs"}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"sdk-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:q=>e(q.target.value),className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:q=>{const te=q.target.value;te&&i(te)},className:"sdk-test-config-select",children:R.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),R.map(q=>{var xe;const te=q.market_id??((xe=q.id)==null?void 0:xe.toString())??"",ve=q.moniker?q.moniker:q.symbol?q.symbol:q.baseAsset&&q.quoteAsset?`${q.baseAsset}-${q.quoteAsset}`:`Market ID: ${te}`,me=q.active?" [ACTIVE]":"";return g.jsxs("option",{value:te,children:[ve," - ID: ",te,me]},te)})]})}),R.length>0&&g.jsx("small",{className:`sdk-test-config-hint ${r===Pe?"info":"warning"}`,children:r===Pe?` Auto-selected default market (ID: ${Pe==null?void 0:Pe.substring(0,16)}...)`:` Manual selection (ID: ${r==null?void 0:r.substring(0,16)}...)`})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic (for ExchangeClient):",g.jsx("input",{type:"text",value:N||"",onChange:q=>Y(q.target.value),placeholder:"Optional",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Session Token (for authenticated InfoClient):",g.jsx("input",{type:"text",value:s,onChange:q=>o(q.target.value),disabled:!!(s&&s.trim()!==""),placeholder:"Optional",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Auth Token:",g.jsx("input",{type:"text",value:a,onChange:q=>l(q.target.value),disabled:!!(H&&H.trim()!==""),placeholder:H?"Auto-filled from onboarding":'Optional - Use "Onboard" button to generate',className:"sdk-test-config-input"}),H&&g.jsx("small",{className:"sdk-test-config-hint success",children:" Auto-filled from onboarding"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:D||"",disabled:!!(N&&N.trim()!==""),onChange:()=>{},placeholder:"automatic (from mnemonic)",className:"sdk-test-config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Device ID:",g.jsx("input",{type:"text",value:c,onChange:q=>u(q.target.value),className:"sdk-test-config-input"})]})}),g.jsxs("div",{className:"control-box",children:[g.jsx(n9e,{isRunning:f,onClick:yt}),g.jsx(r9e,{mnemonic:N||"",baseURL:n,onboardLoading:m,isRunning:f,onOnboard:async(q,te)=>{if(q&&q.trim()!==""){b(!0);try{await ze("Authentication")}catch(ve){console.error("Authentication test error:",ve)}finally{b(!1)}}else vt.warning("Mnemonic required",{description:"Please enter a mnemonic first to run authentication flow."})}}),g.jsx(s9e,{isRunning:f,isLoading:y,onClick:()=>{v(!0);try{st()}catch(q){console.error("Utility test error:",q)}finally{setTimeout(()=>{v(!1)},100)}}}),g.jsx(o9e,{isRunning:f,isLoading:w,onClick:async()=>{_(!0);try{await qe()}catch(q){console.error("Info Client test error:",q)}finally{_(!1)}}}),g.jsx(a9e,{isRunning:f,isLoading:x,onClick:async()=>{S(!0);try{await wt()}catch(q){console.error("Wallet Specific test error:",q)}finally{S(!1)}}}),g.jsx(l9e,{mnemonic:N||"",isRunning:f,isLoading:C,onClick:async()=>{if(N&&N.trim()!==""){E(!0);try{await Je()}catch(q){console.error("Exchange Client test error:",q)}finally{E(!1)}}else vt.warning("Mnemonic required",{description:"Please enter a mnemonic first to run Exchange Client tests."})}}),g.jsx(i9e,{isRunning:f,onClick:Ae})]})]}),H&&g.jsxs("span",{className:"sdk-test-status success",children:[" Auth Token: ",H.substring(0,20),"..."]}),U&&g.jsxs("span",{className:"sdk-test-status error",children:[" Onboard Error: ",U,g.jsx(c9e,{onClick:X})]})]}),g.jsx("div",{className:"sdk-test-results",children:Object.entries(d).map(([q,te])=>{const ve=A.has(q);return g.jsxs("div",{className:"sdk-test-section",children:[g.jsx(d9e,{sectionName:q,isExpanded:ve,onToggle:()=>Qe(q)}),ve&&g.jsx("div",{className:"sdk-test-section-content",children:te.results.map((me,xe)=>g.jsx(u9e,{result:me},xe))})]},q)})}),Object.keys(d).length===0&&!f&&g.jsx("div",{className:"sdk-test-empty-state",children:'Click "Run All Tests" to start testing the SDK APIs'})]})}const f9e=({isConnected:n,isConnecting:e,onConnect:r,onDisconnect:i})=>g.jsxs("div",{className:"config-actions",children:[g.jsx("button",{className:"nav-button",onClick:r,disabled:n||e,style:{backgroundColor:n?"#ccc":e?"#ffc107":"#28a745",color:"white",cursor:n||e?"not-allowed":"pointer"},children:e?" Connecting...":n?" Connected":"Connect"}),e&&g.jsx("span",{style:{color:"#666",fontSize:"0.9rem"},children:"Connection in progress... Check messages below for details"}),g.jsx("button",{className:"nav-button",onClick:i,disabled:!n,style:{backgroundColor:n?"#dc3545":"#ccc",cursor:n?"pointer":"not-allowed"},children:"Disconnect"})]}),p9e=({onClick:n})=>g.jsx("button",{onClick:n,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear"}),Bi=({channel:n,isSubscribed:e,isConnected:r,disabled:i=!1,subscribeLabel:s,unsubscribeLabel:o,onSubscribe:a,onUnsubscribe:l,variant:c="public"})=>{const u=!r||i,d=e?"#dc3545":c==="private"?"#28a745":"#007bff";return g.jsx("button",{onClick:e?l:a,disabled:u,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",backgroundColor:d,color:"white",border:"none",borderRadius:"4px",cursor:u?"not-allowed":"pointer"},children:e?o:s})},m9e=({steps:n})=>n.length===0?null:g.jsxs("div",{className:"connection-steps-container",children:[g.jsx("h2",{children:"Connection Steps"}),g.jsx("div",{className:"connection-steps-list",children:n.map((e,r)=>g.jsxs("div",{className:`connection-step-item ${e.status==="error"?"error":e.status==="success"?"success":e.status==="in-progress"?"in-progress":"pending"}`,children:[g.jsx("span",{className:"connection-step-icon",children:e.status==="error"?"":e.status==="success"?"":e.status==="in-progress"?"":""}),g.jsxs("div",{className:"connection-step-content",children:[g.jsxs("div",{className:"connection-step-title",children:["Step ",e.step,": ",e.message]}),e.details&&g.jsx("div",{className:"connection-step-details",children:JSON.stringify(e.details,null,2)}),g.jsx("div",{className:"connection-step-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]})]},r))})]}),g9e=({wsURL:n,onWsURLChange:e,marketId:r,onMarketIdChange:i,markets:s,symbol:o,onSymbolChange:a,klineInterval:l,onKlineIntervalChange:c,twapWindowSize:u,onTwapWindowSizeChange:d,authToken:h,onAuthTokenChange:f,walletAddress:p,deviceID:m,onDeviceIDChange:b,isConnected:y,isConnecting:v,onConnect:w,onDisconnect:_})=>g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["WebSocket URL:",g.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),className:"config-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:x=>i(x.target.value),className:"config-select",children:s.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),s.map(x=>{var A;const S=x.market_id??((A=x.market_id)==null?void 0:A.toString())??"",C=x.moniker?x.moniker:x.symbol?x.symbol:x.baseAsset&&x.quoteAsset?`${x.baseAsset}-${x.quoteAsset}`:`Market ID: ${S}`,E=x.active?" [ACTIVE]":"";return g.jsxs("option",{value:S,children:[C," - ID: ",S,E]},S)})]})})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Symbol (for funding_rate, deviation, index_price, mark_price, price_feed, twap):",g.jsx("input",{type:"text",value:o,onChange:x=>a(x.target.value),placeholder:"e.g., BTC/USDT or BTC/USDC",className:"config-input"}),o&&!o.includes("/")&&g.jsx("small",{className:"config-error",children:' Symbol must be in format "BASE/QUOTE" (e.g., "BTC/USDC")'})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Kline Interval:",g.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"config-select",children:[g.jsx("option",{value:"1m",children:"1 minute"}),g.jsx("option",{value:"5m",children:"5 minutes"}),g.jsx("option",{value:"15m",children:"15 minutes"}),g.jsx("option",{value:"1h",children:"1 hour"}),g.jsx("option",{value:"4h",children:"4 hours"}),g.jsx("option",{value:"1d",children:"1 day"})]})]})}),g.jsx("div",{children:g.jsxs("label",{children:["TWAP Window Size (seconds):",g.jsx("input",{type:"number",value:u,onChange:x=>d(x.target.value),placeholder:"e.g., 300 for 5 minutes",min:"1",className:"config-input"}),u&&(isNaN(Number(u))||Number(u)<=0)&&g.jsx("small",{className:"config-error",children:" Window size must be a positive number"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Auth Token (for private channels):",g.jsx("input",{type:"text",value:h,onChange:x=>f(x.target.value),placeholder:"Required for user_updates (auto-filled from SDK Test Page)",className:"config-input"}),h&&g.jsx("small",{className:"config-hint",children:" Auto-filled from SDK Test Page"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:p||"",disabled:!0,placeholder:"Auto-filled from useOnboard hook",className:`config-input-disabled ${p?"has-value":""}`}),p&&g.jsx("small",{className:"config-hint",children:" Auto-filled from useOnboard hook"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Device ID:",g.jsx("input",{type:"text",value:m,onChange:x=>b(x.target.value),className:"config-input"})]})})]}),g.jsx(f9e,{isConnected:y,isConnecting:v,onConnect:w,onDisconnect:_})]}),b9e=({data:n})=>g.jsxs("div",{className:"funding-rate-details",children:[g.jsx("strong",{className:"funding-rate-title",children:"Funding Rate Details:"}),g.jsxs("div",{className:"funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",n.symbol??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Rate:"})," ",n.funding_rate?parseFloat(String(n.funding_rate)).toFixed(6):"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",n.mark_price??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",n.index_price??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Premium Rate:"})," ",n.premium_rate??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"EMA Funding Rate:"})," ",n.ema_funding_rate??"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Next Funding Time:"})," ",n.next_funding_time_unix?new Date(n.next_funding_time_unix*1e3).toLocaleString():"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Interval:"})," ",n.funding_interval_seconds?`${n.funding_interval_seconds}s`:"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Valid:"})," ",n.is_valid!==void 0?n.is_valid?"Yes":"No":"N/A"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Stale:"})," ",g.jsx("span",{className:`funding-rate-stale ${n.is_stale?"":"valid"}`,children:n.is_stale!==void 0?n.is_stale?"Yes":"No":"N/A"})]}),n.option_type&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Option Type:"})," ",n.option_type]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Strike Price:"})," ",n.strike_price??"N/A"]})]})]})]}),y9e=({positions:n})=>!n||n.length===0?null:g.jsxs("div",{className:"positions-container",children:[g.jsxs("strong",{className:"positions-title",children:["Positions (",n.length,"):"]}),g.jsx("div",{className:"positions-grid",children:n.map((e,r)=>{const i=e.size||0,s=i>=0?"LONG":"SHORT";return g.jsxs("div",{className:"position-card",children:[g.jsx("div",{className:"position-symbol",children:e.symbol||`Market ${e.marketId||e.market_id||"N/A"}`}),g.jsxs("div",{className:"position-details",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Side:"})," ",g.jsx("span",{className:s==="LONG"?"position-side-long":"position-side-short",children:s})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Size:"})," ",Math.abs(i).toFixed(8)]}),e.entryPrice!==void 0||e.entry_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Entry Price:"})," ",(e.entryPrice||e.entry_price||0).toFixed(8)]}):null,e.markPrice!==void 0||e.mark_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",(e.markPrice||e.mark_price||0).toFixed(8)]}):null,e.liquidationPrice!==void 0||e.liquidation_price!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Liquidation Price:"})," ",(e.liquidationPrice||e.liquidation_price||0).toFixed(8)]}):null,e.unrealizedPnL!==void 0||e.unrealized_pnl!==void 0||e.pnl!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Unrealized PnL:"})," ",g.jsx("span",{className:(e.unrealizedPnL||e.unrealized_pnl||e.pnl||0)>=0?"position-pnl-positive":"position-pnl-negative",children:(e.unrealizedPnL||e.unrealized_pnl||e.pnl||0).toFixed(8)})]}):null,e.leverage!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Leverage:"})," ",e.leverage,"x"]}):null,e.margin!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Margin:"})," ",e.margin.toFixed(8)]}):null,e.marginMode!==void 0||e.margin_mode!==void 0?g.jsxs("div",{children:[g.jsx("strong",{children:"Margin Mode:"})," ",e.marginMode||e.margin_mode||"N/A"]}):null]})]},r)})})]}),v9e=({message:n})=>{const{channel:e,data:r,type:i,step:s,timestamp:o}=n,a=e==="funding_rate"&&typeof r=="object"&&r!==null,l=e==="user_updates"&&typeof r=="object"&&r!==null&&Array.isArray(r.positions)&&r.positions.length>0,c=a||l;return g.jsx("div",{className:`message-item ${i}`,children:g.jsx("div",{className:"message-header",children:g.jsxs("div",{className:"message-content",children:[g.jsxs("div",{className:"message-title",children:[g.jsxs("span",{children:["[",e,"]"]}),s&&g.jsxs("span",{className:"message-step",children:["(",s,")"]}),g.jsx("span",{children:new Date(o).toLocaleTimeString()})]}),a&&g.jsx(b9e,{data:r}),l&&g.jsx(y9e,{positions:r.positions}),!c&&g.jsxs("div",{className:"message-body",children:[typeof r=="string"?r:JSON.stringify(r).substring(0,20),"..."]}),typeof r!="string"&&g.jsxs("details",{children:[g.jsx("summary",{className:"raw-data-summary",children:"View Raw Data"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(r,null,2)})]})]})})})},w9e=({messages:n,isPrivate:e=!1,emptyMessage:r})=>{const i=e?"No messages yet. Connect with auth token and subscribe to user updates.":"No messages yet. Connect and subscribe to channels to see updates.";return g.jsx("div",{className:`messages-container ${e?"private":"public"}`,children:n.length===0?g.jsx("div",{className:`messages-empty ${e?"private":""}`,children:r||i}):n.map(s=>g.jsx(v9e,{message:s},s.id))})},pq=({title:n,isPrivate:e=!1,messages:r,onClearMessages:i,children:s,emptyMessage:o})=>g.jsxs("div",{className:"channel-section",children:[g.jsxs("div",{className:"channel-header",children:[g.jsx("h2",{className:"channel-title",children:n}),g.jsx(p9e,{onClick:i})]}),g.jsxs("div",{className:"channel-content",children:[g.jsx("div",{className:"channel-buttons-container",children:s}),g.jsx(w9e,{messages:r,isPrivate:e,emptyMessage:o}),e&&g.jsxs("div",{className:"private-note",children:[g.jsx("strong",{children:"Note:"})," Private channels require authentication. Enter your auth token in the configuration above."]})]})]});function x9e(){var Re,de,_e,Se;const[n,e]=T.useState(lh),[r,i]=T.useState(()=>localStorage.getItem("authToken")||""),[s,o]=T.useState(iE),[a,l]=T.useState(""),[c,u]=T.useState("BTC/USDC"),[d,h]=T.useState("1m"),[f,p]=T.useState("300"),[m,b]=T.useState(!1),[y,v]=T.useState([]),[w,_]=T.useState([]),[x,S]=T.useState(new Set),[C,E]=T.useState([]),[A,M]=T.useState(!1),I=T.useRef(null),O=T.useRef(0),F=_p,{walletAddress:$,authToken:z}=Su(),{markets:R}=Xl({baseURL:F,sessionToken:"",autoFetchMarkets:!0}),j=R.length>0?(((Re=R.find(ae=>ae.active))==null?void 0:Re.market_id)??R[0].market_id)||(((_e=(de=R.find(ae=>ae.active))==null?void 0:de.id)==null?void 0:_e.toString())??((Se=R[0].id)==null?void 0:Se.toString())??""):null;T.useEffect(()=>{j&&!a&&l(j)},[j]),T.useEffect(()=>{z&&i(z)},[z]),T.useEffect(()=>{const ae=ue=>{ue.key==="authToken"&&ue.newValue&&i(ue.newValue)};window.addEventListener("storage",ae);const ie=setInterval(()=>{const ue=localStorage.getItem("authToken");ue&&ue!==r&&i(ue)},1e3);return()=>{window.removeEventListener("storage",ae),clearInterval(ie)}},[r]),T.useEffect(()=>{r&&r.trim()!==""&&localStorage.setItem("authToken",r)},[r]);const N=(ae,ie,ue,it,Fe)=>{const Ye={id:O.current++,timestamp:Date.now(),channel:ae,data:ie,type:ue,step:Fe};it?_(Ne=>[...Ne.slice(-99),Ye]):v(Ne=>[...Ne.slice(-99),Ye])},D=(ae,ie,ue,it)=>{E(Fe=>[...Fe,{step:ae,status:ie,message:ue,timestamp:Date.now(),details:it}])},H=()=>{E([])},U=async()=>{var Fe;if((Fe=I.current)!=null&&Fe.isConnected()){N("connection","Already connected","info",!1);return}if(M(!0),H(),D("1","in-progress","Validating configuration..."),N("connection","Starting connection process...","debug",!1,"Step 1: Validation"),!n||!n.trim()){D("1","error","WebSocket URL is required"),N("connection","Error: WebSocket URL is required","error",!1,"Step 1: Validation"),M(!1);return}try{const Ye=new URL(n);if(Ye.protocol!=="ws:"&&Ye.protocol!=="wss:")throw new Error("URL must use ws:// or wss:// protocol");D("1","success",`URL format valid: ${n}`),N("connection",`URL validated: ${n}`,"debug",!1,"Step 1: Validation")}catch(Ye){D("1","error",`Invalid URL format: ${Ye.message}`),N("connection",`Error: Invalid URL format - ${Ye.message}`,"error",!1,"Step 1: Validation"),M(!1);return}D("2","in-progress","Building connection URL with parameters...");const ae=[];r&&ae.push(`token=${encodeURIComponent(r)}`),$&&ae.push(`wallet=${encodeURIComponent($)}`),s&&ae.push(`device_id=${encodeURIComponent(s)}`);const ie=n.includes("?")?"&":"?",ue=ae.length>0?`${n}${ie}${ae.join("&")}`:n;if(D("2","success",`Connection URL: ${ue}`),N("connection",`Connection URL: ${ue}`,"debug",!1,"Step 2: URL Construction"),ae.length>0?N("connection",`Query parameters: ${ae.join(", ")}`,"debug",!1,"Step 2: URL Construction"):N("connection","No query parameters (authToken, walletAddress, deviceID)","warning",!1,"Step 2: URL Construction"),D("3","in-progress","Cleaning up existing connection..."),I.current)try{I.current.disconnect(),D("3","success","Previous connection cleaned up"),N("connection","Previous connection cleaned up","debug",!1,"Step 3: Cleanup")}catch{D("3","success","No previous connection to clean up"),N("connection","No previous connection found","debug",!1,"Step 3: Cleanup")}else D("3","success","No previous connection to clean up");D("4","in-progress","Creating SubscriptionClient instance...");try{I.current=new y0({url:n,authToken:r||void 0,walletAddress:$||void 0,deviceID:s||void 0}),D("4","success","SubscriptionClient created"),N("connection","SubscriptionClient instance created","debug",!1,"Step 4: Client Creation"),N("connection",`Config: ${JSON.stringify({url:n,hasToken:!!r,hasWallet:!!$,deviceID:s},null,2)}`,"debug",!1,"Step 4: Client Creation")}catch(Ye){D("4","error",`Failed to create client: ${Ye.message}`),N("connection",`Error creating client: ${Ye.message}`,"error",!1,"Step 4: Client Creation"),M(!1);return}D("5","in-progress","Initiating WebSocket connection..."),N("connection","Initiating WebSocket handshake...","debug",!1,"Step 5: Connection"),N("connection","Browser will attempt to upgrade HTTP connection to WebSocket","debug",!1,"Step 5: Connection");const it=Date.now();try{await I.current.connect();const Ye=Date.now()-it,Ne=I.current.isConnected(),Xe=I.current.getState();N("connection",`Connection attempt completed in ${Ye}ms`,"debug",!1,"Step 5: Connection"),N("connection",`Connection state: ${Xe}`,"debug",!1,"Step 5: Connection"),b(Ne),Ne?(D("5","success",`WebSocket connected successfully (${Ye}ms)`),N("connection"," WebSocket connected successfully!","success",!1,"Step 5: Connection"),N("connection",`Connection established in ${Ye}ms`,"success",!1,"Step 5: Connection")):(D("5","error","Connection completed but state is not connected"),N("connection"," Connection attempt completed but state is not connected","error",!1,"Step 5: Connection"),N("connection",`Current state: ${Xe}`,"error",!1,"Step 5: Connection"))}catch(Ye){const Ne=Date.now()-it,Xe=Ye.message||String(Ye);let ft="",Ge=null,ot=null;const Ie=Xe.match(/code\s+(\d+)/i);Ie&&(Ge=parseInt(Ie[1],10));const at=Xe.match(/\b(40[0-9]|50[0-9])\b/);if(at&&(ot=parseInt(at[1],10)),Ge!==null)switch(Ge){case 1006:ft=`WebSocket Close Code 1006 (Abnormal Closure)
The connection was closed abnormally. Possible causes:
- Server is not running or unreachable
- Wrong URL or port
- Network connectivity issues
- Firewall blocking the connection
- DNS resolution failure
- SSL/TLS handshake failure (for wss://)`;break;case 1002:ft=`WebSocket Close Code 1002 (Protocol Error)
The server encountered a protocol error. Possible causes:
- Server does not support WebSocket protocol
- Protocol version mismatch
- Invalid WebSocket handshake`;break;case 1003:ft=`WebSocket Close Code 1003 (Unsupported Data Type)
The server received data in an unsupported format.`;break;case 1008:ft=`WebSocket Close Code 1008 (Policy Violation)
Connection closed due to policy violation. Possible causes:
- Authentication failed (missing or invalid token)
- Authorization failed (insufficient permissions)
- Rate limiting or quota exceeded
- Server policy restrictions`;break;case 1011:ft=`WebSocket Close Code 1011 (Server Error)
Server encountered an internal error. Check server logs for details.`;break;case 1e3:ft=`WebSocket Close Code 1000 (Normal Closure)
Connection closed normally but before opening. This may indicate:
- Server rejected the connection immediately
- Connection timeout`;break;case 1001:ft=`WebSocket Close Code 1001 (Going Away)
Server is going away or restarting.`;break;case 1007:ft=`WebSocket Close Code 1007 (Invalid Data)
Server received invalid data format.`;break;case 1009:ft=`WebSocket Close Code 1009 (Message Too Big)
Message size exceeds server limits.`;break;case 1010:ft=`WebSocket Close Code 1010 (Extension Error)
Server could not negotiate required extensions.`;break;case 1012:ft=`WebSocket Close Code 1012 (Service Restart)
Service is restarting.`;break;case 1013:ft=`WebSocket Close Code 1013 (Try Again Later)
Service temporarily unavailable, try again later.`;break;case 1014:ft=`WebSocket Close Code 1014 (Bad Gateway)
Server acting as gateway received invalid response.`;break;case 1015:ft=`WebSocket Close Code 1015 (TLS Handshake)
TLS handshake failure (for secure WebSocket connections).`;break;default:ft=`WebSocket Close Code ${Ge}
Connection closed with this close code. Check WebSocket specification for details.`}else if(ot!==null)switch(ot){case 401:ft=`HTTP 401 (Unauthorized)
Authentication failed. Possible causes:
- Missing or invalid JWT token
- Token expired
- Server requires authentication but no token provided
- Token signature verification failed
Note: If server uses JWT auth, you must provide a valid token in the authToken field.`;break;case 403:ft=`HTTP 403 (Forbidden)
Access denied. Possible causes:
- Insufficient permissions
- Account restrictions
- IP address blocked`;break;case 404:ft=`HTTP 404 (Not Found)
WebSocket endpoint not found. Check the WebSocket URL.`;break;case 500:case 502:case 503:case 504:ft=`HTTP ${ot} (Server Error)
Server error occurred. Check server logs for details.`;break;default:ft=`HTTP ${ot}
Connection failed with this HTTP status code.`}else Xe.includes("abnormal closure")||Xe.toLowerCase().includes("abnormal")?ft=`Abnormal Connection Closure
The server closed the connection abnormally. Possible causes:
- Server is not running
- Wrong URL or port
- Network connectivity issues
- Firewall blocking the connection`:Xe.includes("protocol error")||Xe.toLowerCase().includes("protocol")?ft=`WebSocket Protocol Error
The server may not support WebSocket connections or there's a protocol mismatch.`:Xe.includes("policy violation")||Xe.toLowerCase().includes("policy")?ft=`Policy Violation
Connection closed due to policy violation. Check authentication requirements.`:Xe.includes("server error")||Xe.toLowerCase().includes("server error")?ft=`Server Error
Server returned an error. Check server logs for details.`:Xe.includes("Unauthorized")||Xe.includes("unauthorized")||Xe.includes("401")?ft=`Authentication Failed
Possible causes:
- Missing or invalid JWT token (if server requires authentication)
- Token expired
- Server is in production mode requiring JWT authentication
Note: If server uses JWT auth, you must provide a valid token in the authToken field.`:Xe.includes("timeout")||Xe.toLowerCase().includes("timeout")?ft=`Connection Timeout
The connection attempt timed out. Possible causes:
- Server is not responding
- Network latency is too high
- Firewall blocking the connection`:(Xe.includes("network")||Xe.toLowerCase().includes("network"))&&(ft=`Network Error
Network-related issue detected. Check:
- Internet connection
- Firewall settings
- Proxy configuration`);let Q=`Connection failed: ${Xe}`;if(Ge!==null&&(Q+=` (Close Code: ${Ge})`),ot!==null&&(Q+=` (HTTP Status: ${ot})`),D("5","error",Q),N("connection",` Connection error: ${Xe}`,"error",!1,"Step 5: Connection"),Ge!==null||ot!==null){const De={};Ge!==null&&(De.closeCode=Ge),ot!==null&&(De.httpStatusCode=ot),N("connection",`Extracted error info: ${JSON.stringify(De,null,2)}`,"debug",!1,"Step 5: Connection")}ft&&N("connection",`Error details:
${ft}`,"error",!1,"Step 5: Connection"),N("connection",`Connection failed after ${Ne}ms`,"error",!1,"Step 5: Connection"),N("connection",`Full error: ${JSON.stringify(Ye,Object.getOwnPropertyNames(Ye),2)}`,"error",!1,"Step 5: Connection"),b(!1)}finally{M(!1)}},X=()=>{if(I.current)try{I.current.disconnect(),b(!1),S(new Set),N("connection","WebSocket disconnected","info",!1)}catch(ae){N("connection",`Disconnect error: ${ae.message}`,"error",!1)}},Y=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("orderbook","Not connected. Please connect first.","error",!1);return}if(!a){N("orderbook","Please select a market first","error",!1);return}const ae=ue=>{N("orderbook",ue,"success",!1)};try{I.current.subscribeOrderbook(a,ae,!0),S(ue=>new Set([...ue,"orderbook"])),N("orderbook",`Subscribed to orderbook for market ${a}`,"success",!1)}catch(ue){N("orderbook",`Subscription error: ${ue.message}`,"error",!1)}},ee=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribeOrderbook(a),S(ie=>{const ue=new Set(ie);return ue.delete("orderbook"),ue}),N("orderbook","Unsubscribed from orderbook","info",!1)}catch(ie){N("orderbook",`Unsubscribe error: ${ie.message}`,"error",!1)}},G=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("trades","Not connected. Please connect first.","error",!1);return}if(!a){N("trades","Please select a market first","error",!1);return}const ae=ue=>{N("trades",ue,"success",!1)};try{I.current.subscribeTrades(a,ae),S(ue=>new Set([...ue,"trades"])),N("trades",`Subscribed to trades for market ${a}`,"success",!1)}catch(ue){N("trades",`Subscription error: ${ue.message}`,"error",!1)}},Z=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribeTrades(a),S(ie=>{const ue=new Set(ie);return ue.delete("trades"),ue}),N("trades","Unsubscribed from trades","info",!1)}catch(ie){N("trades",`Unsubscribe error: ${ie.message}`,"error",!1)}},pe=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("ticker","Not connected. Please connect first.","error",!1);return}if(!a){N("ticker","Please select a market first","error",!1);return}const ae=ue=>{N("ticker",ue,"success",!1)};try{I.current.subscribeTicker(a,ae),S(ue=>new Set([...ue,"ticker"])),N("ticker",`Subscribed to ticker for market ${a}`,"success",!1)}catch(ue){N("ticker",`Subscription error: ${ue.message}`,"error",!1)}},re=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribeTicker(a),S(ie=>{const ue=new Set(ie);return ue.delete("ticker"),ue}),N("ticker","Unsubscribed from ticker","info",!1)}catch(ie){N("ticker",`Unsubscribe error: ${ie.message}`,"error",!1)}},le=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("last_price","Not connected. Please connect first.","error",!1);return}if(!a){N("last_price","Please select a market first","error",!1);return}const ae=ue=>{N("last_price",ue,"success",!1)};try{I.current.subscribeLastPrice(a,ae,!0),S(ue=>new Set([...ue,"last_price"])),N("last_price",`Subscribed to last price for market ${a}`,"success",!1)}catch(ue){N("last_price",`Subscription error: ${ue.message}`,"error",!1)}},ce=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribeLastPrice(a),S(ie=>{const ue=new Set(ie);return ue.delete("last_price"),ue}),N("last_price","Unsubscribed from last price","info",!1)}catch(ie){N("last_price",`Unsubscribe error: ${ie.message}`,"error",!1)}},Pe=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("user_updates","Not connected. Please connect first.","error",!0);return}if(!$){N("user_updates","Wallet address required for position updates (positions channel)","error",!0);return}const ae=ue=>{N("user_updates",ue,"success",!0)};try{I.current.subscribeUserUpdates(ae),S(ue=>new Set([...ue,"user_updates"])),N("user_updates","Subscribed to user updates (positions, orders, etc.)","success",!0)}catch(ue){N("user_updates",`Subscription error: ${ue.message}`,"error",!0)}},Ee=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected())try{I.current.unsubscribeUserUpdates(),S(ie=>{const ue=new Set(ie);return ue.delete("user_updates"),ue}),N("user_updates","Unsubscribed from user updates","info",!0)}catch(ie){N("user_updates",`Unsubscribe error: ${ie.message}`,"error",!0)}},V=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("funding_rate","Not connected. Please connect first.","error",!1);return}if(!a){N("funding_rate","Please select a market first","error",!1);return}const ae=ue=>{N("funding_rate",ue,"success",!1)};try{I.current.subscribeFundingRate(a,ae),S(ue=>new Set([...ue,"funding_rate"])),N("funding_rate",`Subscribed to funding rate for market ${a}`,"success",!1)}catch(ue){N("funding_rate",`Subscription error: ${ue.message}`,"error",!1)}},Ae=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribeFundingRate(a),S(ie=>{const ue=new Set(ie);return ue.delete("funding_rate"),ue}),N("funding_rate","Unsubscribed from funding rate","info",!1)}catch(ie){N("funding_rate",`Unsubscribe error: ${ie.message}`,"error",!1)}},Qe=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("buckets","Not connected. Please connect first.","error",!0);return}if(!$){N("buckets","Wallet address required for buckets subscription","error",!0);return}const ae=ue=>{N("buckets",ue,"success",!0)};try{I.current.subscribeBuckets(ae),S(ue=>new Set([...ue,"buckets"])),N("buckets","Subscribed to buckets","success",!0)}catch(ue){N("buckets",`Subscription error: ${ue.message}`,"error",!0)}},st=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected())try{I.current.unsubscribeBuckets(),S(ie=>{const ue=new Set(ie);return ue.delete("buckets"),ue}),N("buckets","Unsubscribed from buckets","info",!0)}catch(ie){N("buckets",`Unsubscribe error: ${ie.message}`,"error",!0)}},ze=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("deviation","Not connected. Please connect first.","error",!1);return}if(!a){N("deviation","Please select a market first","error",!1);return}const ae=ue=>{N("deviation",ue,"success",!1)};try{I.current.subscribeDeviation(a,ae),S(ue=>new Set([...ue,"deviation"])),N("deviation",`Subscribed to deviation for market ${a}`,"success",!1)}catch(ue){N("deviation",`Subscription error: ${ue.message}`,"error",!1)}},wt=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribeDeviation(a),S(ie=>{const ue=new Set(ie);return ue.delete("deviation"),ue}),N("deviation","Unsubscribed from deviation","info",!1)}catch(ie){N("deviation",`Unsubscribe error: ${ie.message}`,"error",!1)}},qe=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("index_price","Not connected. Please connect first.","error",!1);return}if(!a){N("index_price","Please select a market first","error",!1);return}const ae=ue=>{N("index_price",ue,"success",!1)};try{I.current.subscribeIndexPrice(a,ae),S(ue=>new Set([...ue,"index_price"])),N("index_price",`Subscribed to index price for market ${a}`,"success",!1)}catch(ue){N("index_price",`Subscription error: ${ue.message}`,"error",!1)}},Je=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribeIndexPrice(a),S(ie=>{const ue=new Set(ie);return ue.delete("index_price"),ue}),N("index_price","Unsubscribed from index price","info",!1)}catch(ie){N("index_price",`Unsubscribe error: ${ie.message}`,"error",!1)}},yt=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("kline","Not connected. Please connect first.","error",!1);return}if(!a){N("kline","Please select a market first","error",!1);return}if(!d){N("kline","Please select an interval first","error",!1);return}const ae=ue=>{N("kline",ue,"success",!1)};try{I.current.subscribeKline(a,d,ae),S(ue=>new Set([...ue,"kline"])),N("kline",`Subscribed to kline for market ${a} with interval ${d}`,"success",!1)}catch(ue){N("kline",`Subscription error: ${ue.message}`,"error",!1)}},ct=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&!(!a||!d))try{I.current.unsubscribeKline(a,d),S(ie=>{const ue=new Set(ie);return ue.delete("kline"),ue}),N("kline","Unsubscribed from kline","info",!1)}catch(ie){N("kline",`Unsubscribe error: ${ie.message}`,"error",!1)}},Ze=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("mark_price","Not connected. Please connect first.","error",!1);return}if(!a){N("mark_price","Please select a market first","error",!1);return}const ae=ue=>{N("mark_price",ue,"success",!1)};try{I.current.subscribeMarkPrice(a,ae),S(ue=>new Set([...ue,"mark_price"])),N("mark_price",`Subscribed to mark price for market ${a}`,"success",!1)}catch(ue){N("mark_price",`Subscription error: ${ue.message}`,"error",!1)}},Ve=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribeMarkPrice(a),S(ie=>{const ue=new Set(ie);return ue.delete("mark_price"),ue}),N("mark_price","Unsubscribed from mark price","info",!1)}catch(ie){N("mark_price",`Unsubscribe error: ${ie.message}`,"error",!1)}},rt=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("price_feed","Not connected. Please connect first.","error",!1);return}if(!a){N("price_feed","Please select a market first","error",!1);return}const ae=ue=>{N("price_feed",ue,"success",!1)};try{I.current.subscribePriceFeed(a,ae),S(ue=>new Set([...ue,"price_feed"])),N("price_feed",`Subscribed to price feed for market ${a}`,"success",!1)}catch(ue){N("price_feed",`Subscription error: ${ue.message}`,"error",!1)}},q=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&a)try{I.current.unsubscribePriceFeed(a),S(ie=>{const ue=new Set(ie);return ue.delete("price_feed"),ue}),N("price_feed","Unsubscribed from price feed","info",!1)}catch(ie){N("price_feed",`Unsubscribe error: ${ie.message}`,"error",!1)}},te=()=>{var ie;if(!((ie=I.current)!=null&&ie.isConnected())){N("twap","Not connected. Please connect first.","error",!1);return}if(!a){N("twap","Please select a market first","error",!1);return}if(!f||isNaN(Number(f))||Number(f)<=0){N("twap","Please enter a valid window size (positive number in seconds)","error",!1);return}const ae=ue=>{N("twap",ue,"success",!1)};try{I.current.subscribeTWAP(a,Number(f),ae),S(ue=>new Set([...ue,"twap"])),N("twap",`Subscribed to TWAP for market ${a} with window size ${f}s`,"success",!1)}catch(ue){N("twap",`Subscription error: ${ue.message}`,"error",!1)}},ve=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&!(!a||!f))try{I.current.unsubscribeTWAP(a,Number(f)),S(ie=>{const ue=new Set(ie);return ue.delete("twap"),ue}),N("twap","Unsubscribed from TWAP","info",!1)}catch(ie){N("twap",`Unsubscribe error: ${ie.message}`,"error",!1)}},me=()=>{if(!I.current){N("multi_feed","SubscriptionClient not initialized. Please connect first.","error",!1);return}if(!I.current.isConnected()){N("multi_feed","Not connected. Please connect first.","error",!1);return}if(!a){N("multi_feed","Please select a market first","error",!1);return}if(!c){N("multi_feed","Please enter a symbol first","error",!1);return}if(typeof I.current.subscribeMultiFeed!="function"){N("multi_feed","subscribeMultiFeed method not available. Please check SDK version.","error",!1),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const ae=ie=>{const ue=ie.sub_channel||"unknown";Zfe(ie)?console.debug("Orderbook update:",ie.data.bids.length,"bids"):epe(ie)?console.debug("Trade:",ie.data.trade_id,ie.data.price):tpe(ie)?console.debug("Position update:",ie.data.symbol,ie.data.size):npe(ie)?console.debug("Order update:",ie.data.order_id,ie.data.status):rpe(ie)?console.debug("Buckets update:",ie.data.total_buckets):ipe(ie)&&console.debug("Balances update:",ie.data.count,"assets"),N(`multi_feed:${ue}`,ie,"success",ue==="balances"||ue==="buckets"||ue==="orders"||ue==="positions")};try{I.current.subscribeMultiFeed(a,ae,{symbol:c,interval:d||"1m"}),S(ie=>new Set([...ie,"multi_feed"])),N("multi_feed",`Subscribed to multi-feed for market ${a}, symbol ${c}`,"success",!1)}catch(ie){N("multi_feed",`Subscription error: ${ie.message}`,"error",!1)}},xe=()=>{var ae;if((ae=I.current)!=null&&ae.isConnected()&&!(!a||!c))try{I.current.unsubscribeMultiFeed(a,c),S(ie=>{const ue=new Set(ie);return ue.delete("multi_feed"),ue}),N("multi_feed","Unsubscribed from multi-feed","info",!1)}catch(ie){N("multi_feed",`Unsubscribe error: ${ie.message}`,"error",!1)}},fe=()=>{if(!I.current){N("balances","SubscriptionClient not initialized. Please connect first.","error",!0);return}if(!I.current.isConnected()){N("balances","Not connected. Please connect first.","error",!0);return}if(!$){N("balances","Wallet address required for balances subscription","error",!0);return}if(typeof I.current.subscribeBalances!="function"){N("balances","subscribeBalances method not available. Please check SDK version.","error",!0),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const ae=ie=>{N("balances",ie,"success",!0)};try{I.current.subscribeBalances(ae),S(ie=>new Set([...ie,"balances"])),N("balances","Subscribed to balances","success",!0)}catch(ie){N("balances",`Subscription error: ${ie.message}`,"error",!0)}},K=()=>{if(I.current&&I.current.isConnected()){if(typeof I.current.unsubscribeBalances!="function"){N("balances","unsubscribeBalances method not available. Please check SDK version.","error",!0);return}try{I.current.unsubscribeBalances(),S(ae=>{const ie=new Set(ae);return ie.delete("balances"),ie}),N("balances","Unsubscribed from balances","info",!0)}catch(ae){N("balances",`Unsubscribe error: ${ae.message}`,"error",!0)}}},he=()=>{if(!I.current){N("orders","SubscriptionClient not initialized. Please connect first.","error",!0);return}if(!I.current.isConnected()){N("orders","Not connected. Please connect first.","error",!0);return}if(!$){N("orders","Wallet address required for orders subscription","error",!0);return}if(typeof I.current.subscribeOrders!="function"){N("orders","subscribeOrders method not available. Please check SDK version.","error",!0),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(I.current)));return}const ae=ie=>{N("orders",ie,"success",!0)};try{I.current.subscribeOrders(ae),S(ie=>new Set([...ie,"orders"])),N("orders","Subscribed to orders","success",!0)}catch(ie){N("orders",`Subscription error: ${ie.message}`,"error",!0)}},se=()=>{if(I.current&&I.current.isConnected()){if(typeof I.current.unsubscribeOrders!="function"){N("orders","unsubscribeOrders method not available. Please check SDK version.","error",!0);return}try{I.current.unsubscribeOrders(),S(ae=>{const ie=new Set(ae);return ie.delete("orders"),ie}),N("orders","Unsubscribed from orders","info",!0)}catch(ae){N("orders",`Unsubscribe error: ${ae.message}`,"error",!0)}}},ke=ae=>{ae?_([]):v([])};return T.useEffect(()=>()=>{if(I.current)try{I.current.disconnect()}catch{}},[]),g.jsxs("div",{className:"ws-test-page",children:[g.jsx("h1",{children:"WebSocket QA"}),g.jsx("p",{children:"Test WebSocket subscriptions for public and private channels"}),g.jsx(m9e,{steps:C}),g.jsx(g9e,{wsURL:n,onWsURLChange:e,marketId:a,onMarketIdChange:l,markets:R,symbol:c,onSymbolChange:u,klineInterval:d,onKlineIntervalChange:h,twapWindowSize:f,onTwapWindowSizeChange:p,authToken:r,onAuthTokenChange:i,walletAddress:$,deviceID:s,onDeviceIDChange:o,isConnected:m,isConnecting:A,onConnect:U,onDisconnect:X}),g.jsxs("div",{className:"ws-test-page-layout",children:[g.jsxs(pq,{title:"WebSocket Public",isPrivate:!1,messages:y,onClearMessages:()=>ke(!1),children:[g.jsxs("div",{className:"channel-buttons-row",children:[g.jsx(Bi,{channel:"orderbook",isSubscribed:x.has("orderbook"),isConnected:m,subscribeLabel:"Subscribe Orderbook",unsubscribeLabel:"Unsubscribe Orderbook",onSubscribe:Y,onUnsubscribe:ee}),g.jsx(Bi,{channel:"trades",isSubscribed:x.has("trades"),isConnected:m,subscribeLabel:"Subscribe Trades",unsubscribeLabel:"Unsubscribe Trades",onSubscribe:G,onUnsubscribe:Z}),g.jsx(Bi,{channel:"ticker",isSubscribed:x.has("ticker"),isConnected:m,subscribeLabel:"Subscribe Ticker",unsubscribeLabel:"Unsubscribe Ticker",onSubscribe:pe,onUnsubscribe:re}),g.jsx(Bi,{channel:"last_price",isSubscribed:x.has("last_price"),isConnected:m,subscribeLabel:"Subscribe Last Price",unsubscribeLabel:"Unsubscribe Last Price",onSubscribe:le,onUnsubscribe:ce}),g.jsx(Bi,{channel:"funding_rate",isSubscribed:x.has("funding_rate"),isConnected:m,subscribeLabel:"Subscribe Funding Rate",unsubscribeLabel:"Unsubscribe Funding Rate",onSubscribe:V,onUnsubscribe:Ae}),g.jsx(Bi,{channel:"deviation",isSubscribed:x.has("deviation"),isConnected:m,subscribeLabel:"Subscribe Deviation",unsubscribeLabel:"Unsubscribe Deviation",onSubscribe:ze,onUnsubscribe:wt}),g.jsx(Bi,{channel:"index_price",isSubscribed:x.has("index_price"),isConnected:m,subscribeLabel:"Subscribe Index Price",unsubscribeLabel:"Unsubscribe Index Price",onSubscribe:qe,onUnsubscribe:Je}),g.jsx(Bi,{channel:"kline",isSubscribed:x.has("kline"),isConnected:m,subscribeLabel:"Subscribe Kline",unsubscribeLabel:"Unsubscribe Kline",onSubscribe:yt,onUnsubscribe:ct})]}),g.jsxs("div",{className:"channel-buttons-row",children:[g.jsx(Bi,{channel:"mark_price",isSubscribed:x.has("mark_price"),isConnected:m,subscribeLabel:"Subscribe Mark Price",unsubscribeLabel:"Unsubscribe Mark Price",onSubscribe:Ze,onUnsubscribe:Ve}),g.jsx(Bi,{channel:"price_feed",isSubscribed:x.has("price_feed"),isConnected:m,subscribeLabel:"Subscribe Price Feed",unsubscribeLabel:"Unsubscribe Price Feed",onSubscribe:rt,onUnsubscribe:q}),g.jsx(Bi,{channel:"twap",isSubscribed:x.has("twap"),isConnected:m,subscribeLabel:"Subscribe TWAP",unsubscribeLabel:"Unsubscribe TWAP",onSubscribe:te,onUnsubscribe:ve}),g.jsx(Bi,{channel:"multi_feed",isSubscribed:x.has("multi_feed"),isConnected:m,subscribeLabel:"Subscribe Multi-Feed",unsubscribeLabel:"Unsubscribe Multi-Feed",onSubscribe:me,onUnsubscribe:xe})]}),g.jsx("small",{className:"private-note-text-block",style:{marginTop:"10px"},children:"Multi-Feed: Unified channel streaming all sub-channels (orderbook, trades, positions, balances, orders, buckets, etc.) Requires market ID and symbol. Authenticated sub-channels (balances, orders, positions, buckets) require wallet address."})]}),g.jsxs(pq,{title:"WebSocket Private",isPrivate:!0,messages:w,onClearMessages:()=>ke(!0),children:[g.jsx(Bi,{channel:"user_updates",isSubscribed:x.has("user_updates"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe User Updates",unsubscribeLabel:"Unsubscribe User Updates",onSubscribe:Pe,onUnsubscribe:Ee,variant:"private"}),g.jsx("small",{className:"private-note-text",children:"Position updates (positions channel): Requires wallet address. Returns user positions."}),g.jsx(Bi,{channel:"buckets",isSubscribed:x.has("buckets"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Buckets",unsubscribeLabel:"Unsubscribe Buckets",onSubscribe:Qe,onUnsubscribe:st,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Buckets: User's margin buckets (requires wallet address)"}),g.jsx(Bi,{channel:"balances",isSubscribed:x.has("balances"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Balances",unsubscribeLabel:"Unsubscribe Balances",onSubscribe:fe,onUnsubscribe:K,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Balances: User's spot balances (USDC, MORM, BTC, etc.) - requires wallet address"}),g.jsx(Bi,{channel:"orders",isSubscribed:x.has("orders"),isConnected:m,disabled:!$,subscribeLabel:"Subscribe Orders",unsubscribeLabel:"Unsubscribe Orders",onSubscribe:he,onUnsubscribe:se,variant:"private"}),g.jsx("small",{className:"private-note-text-block",children:"Orders: User's open orders - requires wallet address"})]})]})]})}const _9e=({...n})=>g.jsx(W7e,{...n,className:"toaster",expand:!0,richColors:!1,closeButton:!1,toastOptions:{duration:4e3,classNames:{toast:"toast",title:"toast-title",description:"toast-description",actionButton:"toast-action-button",cancelButton:"toast-cancel-button",closeButton:"toast-close-button"}}}),S9e=async n=>{try{return await navigator.clipboard.writeText(n),!0}catch{try{const r=document.createElement("textarea");return r.value=n,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),!0}catch(r){return console.error("Failed to copy to clipboard:",r),!1}}},ki=n=>({label:"Copy",onClick:async()=>{await S9e(n)?vt.success("Error message copied to clipboard"):vt.error("Failed to copy error message")}});function _pe(n){const e=n.useWebSocket!==!1,[r,i]=T.useState([]),[s,o]=T.useState(!0),[a,l]=T.useState(""),[c,u]=T.useState(0),[d,h]=T.useState(!1),f=T.useRef(null),p=T.useRef(null),m=T.useRef(0),b=T.useRef(!0),y=T.useRef(!1),v=T.useRef(n);v.current=n;const w=T.useCallback(C=>{const E=w9(C)?C:v9(C);return Hk(E)},[]),_=T.useCallback(async()=>{if(!f.current)return;const C=v.current;if(!C.walletAddress||C.walletAddress.trim()===""){u(0);return}try{const E=await f.current.getBalance(C.walletAddress,"USDC"),A=Wt(E.available_balance);u(A)}catch(E){console.warn("Failed to fetch spot wallet balance (USDC):",E),u(0)}},[]),x=T.useCallback(async()=>{if(!f.current)return;const C=v.current;if(!C.walletAddress||C.walletAddress.trim()===""){l("Wallet address is required"),i([]),o(!1),b.current=!1;return}l(""),b.current&&o(!0);try{console.log("[useBucketCollections] [fetchCollections] Starting fetch...",{walletAddress:C.walletAddress,useWebSocket:e,isSubscribed:y.current}),_(),console.log("[useBucketCollections] [fetchCollections] Calling getBuckets API...");const E=await f.current.getBuckets(C.walletAddress);console.log("[useBucketCollections] [fetchCollections] Raw API response:",{response:E,responseType:typeof E,isArray:Array.isArray(E),responseLength:Array.isArray(E)?E.length:"N/A"});const A=Array.isArray(E)?E:[];console.log("[useBucketCollections] [fetchCollections] Buckets data after normalization:",{bucketsData:A,bucketsDataLength:A.length,bucketsDataTypes:A.map((I,O)=>({index:O,type:typeof I,hasBucketId:!!(I!=null&&I.bucket_id),bucketId:I==null?void 0:I.bucket_id}))}),console.log(`[useBucketCollections] [fetchCollections] About to transform ${A.length} buckets:`,A);const M=A.map(Hk);i(M),(!e||!y.current)&&(b.current=!1,o(!1))}catch(E){const A=E instanceof Error?E.message:"Failed to load bucket collections";l(A),console.error("[useBucketCollections] [fetchCollections] Failed to fetch bucket collections:",{error:E,errorMessage:A,walletAddress:C.walletAddress,stack:E instanceof Error?E.stack:void 0}),(!e||!y.current)&&(b.current=!1,o(!1))}},[_,e]),S=T.useCallback(C=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] WebSocket data received:",{data:C,hasBuckets:!!C.buckets,bucketsIsArray:Array.isArray(C.buckets),bucketsLength:Array.isArray(C.buckets)?C.buckets.length:0}),C.buckets&&Array.isArray(C.buckets)){console.log("[useBucketCollections] [handleBucketsUpdate] Transforming WebSocket buckets:",C.buckets);const E=C.buckets.map(w);console.log("[useBucketCollections] [handleBucketsUpdate] Transformed collections:",E);const A=E.filter(M=>M.bucketId&&M.bucketId.trim()!==""&&M.status!=="dormant");if(A.length!==E.length){const M=E.length-A.length,I=E.filter(F=>!F.bucketId||F.bucketId.trim()===""),O=E.filter(F=>F.bucketId&&F.bucketId.trim()!==""&&F.status==="dormant");console.warn(`[useBucketCollections] [handleBucketsUpdate] WebSocket: Filtered out ${M} collections (${I.length} with empty bucketId, ${O.length} with status "dormant")`,{filteredByBucketId:I,filteredByStatus:O})}console.log("[useBucketCollections] [handleBucketsUpdate] Setting collections from WebSocket:",{validCollectionsCount:A.length,validCollections:A}),i(M=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] Previous collections:",{prevCount:M.length,prev:M}),M.length!==A.length)return A;const I=JSON.stringify(M),O=JSON.stringify(A);return I===O?M:A}),b.current&&(b.current=!1,o(!1))}},[w]);return T.useEffect(()=>{if(!n.walletAddress||n.walletAddress.trim()===""){if(o(!1),l("Wallet address is required"),i([]),p.current&&y.current){try{p.current.unsubscribeMultiFeedSubChannel("buckets",S)}catch(A){console.warn("[useBucketCollections] Error unsubscribing during cleanup:",A)}y.current=!1}m.current!==null&&(clearInterval(m.current),m.current=0);return}const C=new Ir({baseURL:n.baseURL,sessionToken:n.authToken});f.current=C,b.current=!0,y.current=!1,console.log("[useBucketCollections] [useEffect] Initializing, calling fetchCollections..."),x();const E=n.subscriptionClient;if(e){p.current=E;const A=()=>{if(!E.isReadyForSubscriptions()){if(E.isConnected()&&!E.isReadyForSubscriptions()){const $=E.getAuthState();$==="pending"?console.debug("[useBucketCollections] Waiting for authentication to complete..."):$==="failed"&&(console.error("[useBucketCollections] Authentication failed - cannot subscribe to buckets"),l("Authentication failed. Please re-authenticate."))}return}const I=String(n.marketId??"0"),O=n.symbol??"USDC/USDC";if(!y.current){if(y.current&&p.current)try{p.current.unsubscribeMultiFeedSubChannel("buckets",S)}catch($){console.warn("[useBucketCollections] Error unsubscribing from previous buckets subscription:",$)}try{E.subscribeMultiFeedSubChannel("buckets",I,S,{symbol:O}),y.current=!0,o(!1),console.debug("[useBucketCollections] Subscribed to buckets:",{marketId:I,symbol:O})}catch($){console.error("[useBucketCollections] Failed to subscribe to buckets:",$),l($ instanceof Error?$.message:"Failed to subscribe to buckets"),y.current=!1,o(!1)}}};h(E.isConnected()),o(!1),E.isReadyForSubscriptions()&&A();const M=E.onStateChange(I=>{console.debug("[useBucketCollections] WebSocket state changed to:",I),h(I===Dt.Connected),I===Dt.Connected?(A(),m.current!==null&&(clearInterval(m.current),m.current=0)):I===Dt.Disconnected&&n.refreshInterval&&n.refreshInterval>0&&m.current===null&&(m.current=window.setInterval(()=>{x()},n.refreshInterval))});return()=>{if(M&&M(),p.current&&y.current)try{p.current.unsubscribeMultiFeedSubChannel("buckets",S)}catch(I){console.warn("[useBucketCollections] Error unsubscribing during cleanup:",I)}m.current!==null&&(clearInterval(m.current),m.current=0),y.current=!1}}else return n.refreshInterval&&n.refreshInterval>0&&(m.current=window.setInterval(()=>{x()},n.refreshInterval)),()=>{m.current!==null&&(clearInterval(m.current),m.current=0)}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.refreshInterval,n.marketId,n.symbol,e,S]),T.useEffect(()=>{console.log("[useBucketCollections] [useEffect] Hook state changed, returning:",{collectionsCount:r.length,collections:r,loading:s,error:a,spotWalletBalance:c})},[r,s,a,c]),{collections:r,loading:s,error:a,refreshBucketBalance:x,refreshSpotWalletBalance:_,spotWalletBalance:c,isConnected:d}}function k9e(n,e,r){return e!==n?g.jsx("span",{style:{fontSize:"0.7rem",opacity:.5,marginLeft:"0.25rem"},children:""}):g.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:r==="asc"?"":""})}function rb({message:n="Loading..."}){return g.jsx("div",{className:"message loading",children:n})}function ib({error:n}){return g.jsxs("div",{className:"message error",children:["Error: ",n]})}function nu({message:n}){return g.jsx("div",{className:"message empty",children:n})}function Spe({message:n}){return g.jsx("div",{className:"message warning",children:n})}function O9({isConnected:n,connectedText:e=" LIVE",disconnectedText:r=" OFFLINE"}){return g.jsx("div",{className:"status-indicator",children:g.jsx("span",{className:`status-dot ${n?"connected":"disconnected"}`,children:n?e:r})})}function sb({title:n,children:e}){return g.jsxs("div",{className:"layout-header",children:[g.jsx("div",{className:"layout-header-title",children:n}),e&&g.jsx("div",{className:"layout-header-actions",children:e})]})}function oi({field:n,currentSortField:e,sortDirection:r,onSort:i,children:s,center:o=!1}){return g.jsxs("div",{className:`table-header-cell ${o?"left":"right"}`,onClick:()=>i(n),children:[s,k9e(n,e,r)]})}function u4({children:n,center:e=!1}){return g.jsx("div",{className:`table-header-cell ${e?"left":"right"}`,children:n})}function C9e({onClick:n,disabled:e}){return console.log("[CancelButton] Rendering",{disabled:e,hasOnClick:!!n}),g.jsx("button",{onClick:r=>{console.log("[CancelButton] Button clicked",{disabled:e,event:r}),!e&&n?n(r):console.warn("[CancelButton] Click ignored - button is disabled",{disabled:e})},onMouseDown:r=>{console.log("[CancelButton] Mouse down",{disabled:e,event:r})},className:"btn btn-danger",disabled:e,style:{pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"},children:"Cancel"})}function E9e({onClick:n}){return g.jsx("button",{onClick:n,className:"btn btn-success",children:"Close"})}function A9e({onConfirm:n,label:e="Slide to confirm",confirmThreshold:r=90,disabled:i=!1,icon:s}){const[o,a]=T.useState(0),[l,c]=T.useState(!1),u=T.useRef(null),d=T.useRef(null),h=p=>{i||(p.preventDefault(),c(!0))};T.useEffect(()=>{if(!l)return;const p=b=>{if(!u.current||i)return;const y=u.current.getBoundingClientRect(),v=b.clientX-y.left,w=y.width,_=Math.max(0,Math.min(100,v/w*100));a(_)},m=()=>{i||(o>=r?(n(),setTimeout(()=>{a(0)},200)):a(0),c(!1))};return document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)}},[l,o,r,n,i]);const f=o>=r;return g.jsxs("div",{ref:u,className:`slider-confirm-bar ${i?"disabled":""} ${l?"dragging":""}`,children:[g.jsx("div",{className:`slider-confirm-bar-progress ${f?"confirmed":"default"} ${l?"no-transition":""}`,style:{width:`${o}%`}}),g.jsx("div",{className:"slider-confirm-bar-label",children:f?"Release to confirm":e}),g.jsx("div",{ref:d,onMouseDown:h,className:`slider-confirm-bar-thumb ${i?"disabled":""} ${l?"dragging":""} ${f?"confirmed":""}`,style:{left:`${o}%`},children:s?g.jsx("span",{className:`slider-confirm-bar-thumb-icon ${f?"confirmed":""}`,children:s}):g.jsx("span",{className:`slider-confirm-bar-thumb-arrow ${f?"confirmed":""}`,children:""})})]})}function kpe({isOpen:n,value:e,min:r,max:i,onConfirm:s,onCancel:o}){const[a,l]=T.useState("");if(T.useEffect(()=>{n&&l(e.toString())},[n,e]),!n)return null;const c=y=>{const v=a==="0"?y:a+y;parseFloat(v)<=i&&l(v)},u=()=>{a.includes(".")||l(a+".")},d=()=>{a.length>1?l(a.slice(0,-1)):l("0")},h=()=>{l("0")},f=()=>{const y=parseFloat(a)||0,v=Math.max(r,Math.min(i,y));s(v)},p=parseFloat(a)||0,m=p>=r&&p<=i,b=g.jsx("div",{className:"modal-overlay",onClick:o,style:{zIndex:1e4},children:g.jsxs("div",{className:"modal-content number-pad-content",onClick:y=>y.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Enter Amount"})}),g.jsxs("div",{className:"modal-body",children:[g.jsxs("div",{className:"number-pad-display",children:[g.jsx("div",{className:"number-pad-display-value",children:ar(p)}),g.jsxs("div",{className:"number-pad-display-range",children:["Min: ",ar(r)," | Max: ",ar(i)]}),!m&&p>0&&g.jsxs("div",{className:"number-pad-display-error",children:["Value must be between ",ar(r)," and"," ",ar(i)]})]}),g.jsxs("div",{className:"number-pad-grid",children:[g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"1"),children:"1"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"2"),children:"2"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"3"),children:"3"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"4"),children:"4"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"5"),children:"5"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"6"),children:"6"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"7"),children:"7"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"8"),children:"8"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"9"),children:"9"}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:u,children:"."}),g.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"0"),children:"0"}),g.jsx("button",{type:"button",className:"number-pad-button number-pad-button-action",onClick:d,children:""})]}),g.jsxs("div",{className:"number-pad-actions",children:[g.jsx("button",{type:"button",className:"number-pad-action-button",onClick:h,children:"Clear"}),g.jsx("button",{type:"button",className:"number-pad-action-button number-pad-action-button-max",onClick:()=>{l(i.toString())},children:"Max"})]})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Cancel"}),g.jsx("button",{onClick:f,className:"btn btn-primary",disabled:!m,children:"Confirm"})]})]})});return typeof document<"u"?Ka.createPortal(b,document.body):null}function T9e({isOpen:n,currentLeverage:e,tempLeverage:r,maxRatio:i,onLeverageChange:s,onConfirm:o,onCancel:a}){if(!n)return null;const l=g.jsx("div",{className:"modal-overlay",onClick:a,children:g.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Select Leverage"})}),g.jsxs("div",{className:"modal-body",children:[g.jsxs("div",{className:"leverage-max-ratio",children:[g.jsx("div",{className:"leverage-max-ratio-label",children:"Maximum Ratio"}),g.jsxs("div",{className:"leverage-max-ratio-value",children:[i,"x"]})]}),g.jsxs("div",{className:"leverage-slider-container",children:[g.jsx("input",{type:"range",min:o3,max:IW,value:r,onChange:c=>s(parseInt(c.target.value)),className:"filled-slider",style:{"--slider-progress":`${(r-o3)/(IW-o3)*100}%`}}),g.jsxs("div",{className:"leverage-slider-labels",children:[g.jsx("span",{children:"1x"}),g.jsxs("span",{className:"leverage-current-value",children:[r,"x"]}),g.jsx("span",{children:"100x"})]})]})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:a,className:"btn btn-secondary",children:"Cancel"}),g.jsx("button",{onClick:o,className:"btn btn-primary",children:"Confirm"})]})]})});return typeof document<"u"?Ka.createPortal(l,document.body):null}function P9e({isOpen:n,fromValue:e,toValue:r,options:i,bucketsData:s,transferAmount:o,createBucketAmount:a,createBucketType:l,createMarginType:c,transferMarginType:u,onFromChange:d,onToChange:h,onTransferAmountChange:f,onCreateBucketAmountChange:p,onCreateBucketTypeChange:m,onCreateMarginTypeChange:b,onTransferMarginTypeChange:y,onConfirm:v,onCancel:w,spotWalletBalance:_=0,activeTab:x,onActiveTabChange:S,isTransferring:C=!1,onOpen:E,collections:A}){const[M,I]=T.useState("transfer"),O=x??M,F=S??I,$=T.useRef(!1),[z,R]=T.useState(!1),[j,N]=T.useState("transfer"),[D,H]=T.useState(!1);T.useEffect(()=>{n&&!$.current&&E&&E(),$.current=n,n||H(!1)},[n,E,O]);const U=T.useMemo(()=>e==="spot-wallet"?null:s.find(ce=>ce.bucketId===e),[s,e]);T.useMemo(()=>{var Pe;if(e==="spot-wallet"||!A)return null;const ce=A.find(Ee=>Ee.bucketId===e);return((Pe=ce==null?void 0:ce.marginType)==null?void 0:Pe.toLowerCase())||null},[A,e]);const X=T.useMemo(()=>e==="spot-wallet"?_:(U==null?void 0:U.totalEquity)||0,[e,_,U]),Y=10,ee=Math.max(Y,X);if(B.useEffect(()=>{if(e&&ee>0){const ce=O==="transfer"?o:a;ce>ee?O==="transfer"?f(ee):p(ee):ce<Y&&ee>=Y&&(O==="transfer"?f(Y):p(Y))}},[e,ee,O,o,a,f,p]),!n)return null;const G=e&&r&&o>=Y&&o<=ee,Z=e&&a>=Y&&a<=ee&&l&&c,pe=g.jsx("div",{className:"modal-overlay",onClick:w,children:g.jsxs("div",{className:"modal-content transfer-modal-content",onClick:ce=>ce.stopPropagation(),children:[g.jsx("div",{className:"modal-header",children:g.jsx("h3",{children:"Transfer Funds"})}),g.jsxs("div",{className:"transfer-modal-tabs",children:[g.jsx("button",{className:`transfer-tab ${O==="transfer"?"active":""}`,onClick:()=>F("transfer"),type:"button",disabled:C,children:"Transfer"}),g.jsx("button",{className:`transfer-tab ${O==="create"?"active":""}`,onClick:()=>F("create"),type:"button",disabled:C,children:"Create Bucket"})]}),g.jsx("div",{className:"modal-body",children:O==="transfer"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"From"}),g.jsxs("select",{value:e,onChange:ce=>d(ce.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select source bucket"}),i.map(ce=>g.jsx("option",{value:ce.value,children:ce.label},ce.value))]})]}),e&&g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"To"}),g.jsxs("select",{value:r,onChange:ce=>h(ce.target.value),className:"transfer-select",disabled:!e,children:[g.jsx("option",{value:"",children:"Select destination bucket"}),i.filter(ce=>ce.value!==e).map(ce=>g.jsx("option",{value:ce.value,children:ce.label},ce.value))]})]}),e&&ee>=Y?g.jsxs("div",{className:"transfer-field-group",children:[g.jsxs("div",{className:"transfer-amount-header",children:[g.jsx("label",{className:"transfer-field-label",children:"Amount"}),g.jsxs("div",{className:"transfer-available-balance",children:["Available: ",ar(X)]})]}),g.jsx("div",{className:"transfer-amount-display",onClick:()=>{N("transfer"),R(!0)},style:{cursor:"pointer"},children:g.jsx("span",{className:"transfer-amount-value",children:ar(o)})}),g.jsxs("div",{className:"transfer-amount-container",children:[g.jsx("input",{type:"range",min:Y,max:ee,step:.01,value:o,onChange:ce=>f(parseFloat(ce.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(o-Y)/(ee-Y)*100}%`}}),g.jsxs("div",{className:"transfer-amount-labels",children:[g.jsx("span",{children:ar(Y)}),g.jsx("span",{children:ar(ee)})]})]})]}):e?g.jsx("div",{className:"transfer-field-group",children:g.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",ar(Y)]})}):null]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"From"}),g.jsxs("select",{value:e,onChange:ce=>d(ce.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select source bucket"}),i.map(ce=>g.jsx("option",{value:ce.value,children:ce.label},ce.value))]})]}),g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"Bucket Type"}),g.jsxs("select",{value:l,onChange:ce=>m(ce.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select bucket type"}),g.jsx("option",{value:"USDC",children:"USDC"}),g.jsx("option",{value:"USDT",children:"USDT"})]})]}),g.jsxs("div",{className:"transfer-field-group",children:[g.jsx("label",{className:"transfer-field-label",children:"Margin Type"}),g.jsxs("select",{value:c,onChange:ce=>b(ce.target.value),className:"transfer-select",children:[g.jsx("option",{value:"",children:"Select margin type"}),g.jsx("option",{value:"cross",children:"Cross Margin"}),g.jsx("option",{value:"isolated",children:"Isolated Margin"})]})]}),e&&ee>=Y?g.jsxs("div",{className:"transfer-field-group",children:[g.jsxs("div",{className:"transfer-amount-header",children:[g.jsx("label",{className:"transfer-field-label",children:"Amount"}),g.jsxs("div",{className:"transfer-available-balance",children:["Available: ",ar(X)]})]}),g.jsx("div",{className:"transfer-amount-display",onClick:()=>{N("create"),R(!0)},style:{cursor:"pointer"},children:g.jsx("span",{className:"transfer-amount-value",children:ar(a)})}),g.jsxs("div",{className:"transfer-amount-container",children:[g.jsx("input",{type:"range",min:Y,max:ee,step:.01,value:a,onChange:ce=>p(parseFloat(ce.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(a-Y)/(ee-Y)*100}%`}}),g.jsxs("div",{className:"transfer-amount-labels",children:[g.jsx("span",{children:ar(Y)}),g.jsx("span",{children:ar(ee)})]})]})]}):e?g.jsx("div",{className:"transfer-field-group",children:g.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",ar(Y)]})}):null]})}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{onClick:w,className:"btn btn-secondary",disabled:C,children:"Cancel"}),g.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[g.jsx("div",{className:"slider-confirm-container",style:{position:"absolute",top:0,left:0,right:0,opacity:D?0:1,visibility:D?"hidden":"visible",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:D?"none":"auto"},children:g.jsx(A9e,{onConfirm:()=>{H(!0)},label:"Slide to confirm",disabled:C||(O==="transfer"?!G:!Z),icon:g.jsx("img",{src:"/bconfirm.svg"})})}),g.jsx("button",{onClick:()=>{v(O==="transfer"?{type:"transfer",from:e,to:r,amount:o}:{type:"create",from:e,bucketType:l,marginType:c,amount:a})},className:"btn btn-primary",disabled:C||(O==="transfer"?!G:!Z),style:{position:"absolute",top:0,right:0,opacity:D?1:0,visibility:D?"visible":"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:D?"auto":"none",width:"100%",height:"100%",color:"black"},children:C?"Processing...":"Confirm"})]})]})]})}),re=j==="transfer"?o:a,le=ce=>{j==="transfer"?f(ce):p(ce),R(!1)};return g.jsxs(g.Fragment,{children:[typeof document<"u"?Ka.createPortal(pe,document.body):null,g.jsx(kpe,{isOpen:z,value:re,min:Y,max:ee,onConfirm:le,onCancel:()=>R(!1)})]})}function I9e({baseURL:n=nb,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=ONe,refreshInterval:a=y9,onBucketSelect:l}){const{collections:c,loading:u,error:d,spotWalletBalance:h,isConnected:f,refreshBucketBalance:p}=_pe({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),[m,b]=T.useState(null),[y,v]=T.useState("desc"),[w,_]=T.useState(""),[x,S]=T.useState(!1),[C,E]=T.useState(""),[A,M]=T.useState(""),[I,O]=T.useState(10),[F,$]=T.useState(10),[z,R]=T.useState(""),[j,N]=T.useState("cross"),[D,H]=T.useState("cross"),[U,X]=T.useState("transfer"),[Y,ee]=T.useState(!1),[G,Z]=T.useState("non-zero"),pe=T.useRef(null),re=T.useRef(0),le=T.useMemo(()=>{let qe=c.filter(Je=>Je&&Je.bucketId&&typeof Je.bucketId=="string"&&Je.bucketId.trim()!=="");return G==="non-zero"?qe=qe.filter(Je=>(Je.totalEquity||0)>0):G==="dormant"?qe=qe.filter(Je=>{var yt;return((yt=Je.status)==null?void 0:yt.toLowerCase())==="dormant"}):G==="active"&&(qe=qe.filter(Je=>{var yt;return((yt=Je.status)==null?void 0:yt.toLowerCase())==="active"})),m?[...qe].sort((Je,yt)=>{let ct=0,Ze=0;switch(m){case"marginType":ct=Fm(Je),Ze=Fm(yt);break;case"usedMargin":ct=Je.usedMargin||0,Ze=yt.usedMargin||0;break;case"totalEquity":ct=Je.totalEquity||0,Ze=yt.totalEquity||0;break;case"riskRatio":ct=ES(Je),Ze=ES(yt);break;case"bucketId":ct=Je.bucketId||"",Ze=yt.bucketId||"";break}if(typeof ct=="string"&&typeof Ze=="string")return y==="asc"?ct.localeCompare(Ze):Ze.localeCompare(ct);const Ve=Number(ct),rt=Number(Ze);return y==="asc"?Ve-rt:rt-Ve}):qe},[c,m,y,G]),ce=(qe,Je)=>{const yt=qe.toLowerCase(),ct=Je.toUpperCase();return le.find(Ze=>{var xe,fe;const Ve=(xe=Fm(Ze))==null?void 0:xe.toLowerCase(),rt=(fe=Ze.collateralAsset)==null?void 0:fe.toUpperCase(),q=Ze.status.toLowerCase()==="dormant",te=(Ze.totalEquity||0)<=0;return(q||te)&&Ve===yt&&(ct?rt===ct:!0)})||null},Pe=qe=>{m===qe?v(y==="asc"?"desc":"asc"):(b(qe),v("desc"))},Ee=(qe,Je)=>{l&&l(qe,Je),_(qe)},V=()=>{S(!0),E(""),M(""),O(10),$(10),R(""),N("cross"),H("cross"),X("transfer")},Ae=()=>{S(!1),E(""),M(""),O(10),$(10),R(""),N("cross"),H("cross"),X("transfer")},Qe=()=>{Z(qe=>{switch(qe){case"non-zero":return"active";case"active":return"dormant";case"dormant":return"all";case"all":return"non-zero";default:return"non-zero"}})};T.useEffect(()=>{if(!s||!n){pe.current=null;return}const qe=new ah({baseURL:n,mnemonic:s});qe.initialize().then(()=>{pe.current=qe}).catch(Je=>{const yt=Je instanceof Error?Je.message:"Failed to initialize exchange client";console.error("Failed to initialize ExchangeClient:",Je),vt.error("Exchange client initialization failed",{description:yt,action:ki(yt)}),pe.current=null})},[s,n]);const st=async qe=>{if(!s){const ct="Mnemonic is required to perform transfers. Please provide a mnemonic to enable transfer functionality.";vt.error("Mnemonic required",{description:ct,action:ki(ct)});return}const Je=pe.current;if(!Je){const ct="Exchange client is still initializing. Please wait a moment and try again.";vt.error("Exchange client not ready",{description:ct,action:ki(ct)});return}ee(!0);const yt=vt.loading("Processing transfer...",{description:"Please wait while the transfer is being processed"});re.current=typeof yt=="number"?yt:0;try{const ct="USDC";let Ze,Ve="";if(qe.type==="transfer"){const{from:rt,to:q,amount:te}=qe;if(rt==="spot-wallet"&&q==="spot-wallet")throw new Error("Cannot transfer from spot wallet to spot wallet");if(rt==="spot-wallet"){if(!q||q==="spot-wallet")throw new Error("Please select a destination bucket");if(Ze=await Je.extractToBucket({bucketId:q,assetId:ct,amount:te}),!Ze.success){const me=Ze.error_message||"Failed to transfer to bucket";re.current!==0&&(vt.dismiss(re.current),re.current=0),vt.error("Transfer failed",{description:me,action:ki(me)});return}const ve=Ze.txhash||"";Ve=`Successfully transferred ${ar(te)} from Spot Wallet to ${q}${ve?`
TxHash: ${ve}`:""}`}else if(q==="spot-wallet"){Ze=await Je.withdrawFromBucket({bucketId:rt,assetId:ct,amount:te});const ve=Ze.txhash||"";Ve=`Successfully transferred ${ar(te)} from ${rt} to Spot Wallet${ve?`
TxHash: ${ve}`:""}`}else{if(!q)throw new Error("Please select a destination bucket");Ze=await Je.bucketTransfer({fromBucketId:rt,toBucketId:q,assetId:ct,amount:te});const ve=Ze.txhash||"";Ve=`Successfully transferred ${ar(te)} from ${rt} to ${q}${ve?`
TxHash: ${ve}`:""}`}}else{const{from:rt,bucketType:q,marginType:te,amount:ve}=qe,me=ce(te,q);let xe;if(me)xe=me.bucketId,console.log(`[BucketCollection] Using existing ${te} ${q} bucket: ${xe}`),Ve=`Using existing ${te} margin bucket (${q}): ${xe}`;else{const fe=await Je.createBucket({bucketType:q,marginType:te});if(!fe.success)throw new Error(fe.message||"Failed to create bucket");xe=fe.bucket_id,console.log(`[BucketCollection] Created new ${te} ${q} bucket: ${xe}`),Ve=`Successfully created ${te} margin bucket (${q})`}if(ve>0&&rt==="spot-wallet"){const fe=await Je.extractToBucket({bucketId:xe,assetId:q,amount:ve});if(!fe.success)throw new Error(`${me?"Bucket found":"Bucket created"} but failed to transfer funds: ${fe.error_message||"Unknown error"}`);const K=fe.txhash||"";Ve=`${me?"Using existing":"Successfully created"} ${te} margin bucket (${q}) and transferred ${ar(ve)}${K?`
TxHash: ${K}`:""}`}else if(ve>0&&rt!=="spot-wallet"){const fe=await Je.bucketTransfer({fromBucketId:rt,toBucketId:xe,assetId:q,amount:ve});if(!fe.success)throw new Error(`${me?"Bucket found":"Bucket created"} but failed to transfer funds: ${fe.message||"Unknown error"}`);const K=fe.txhash||"";Ve=`${me?"Using existing":"Successfully created"} ${te} margin bucket (${q}) and transferred ${ar(ve)}${K?`
TxHash: ${K}`:""}`}}console.log("Transfer successful:",Ze),re.current!==0&&(vt.dismiss(re.current),re.current=0),vt.success("Transfer completed",{description:Ve}),S(!1),E(""),M(""),O(10),$(10),R(""),N("cross"),H("cross"),await new Promise(rt=>setTimeout(rt,1e3)),p()}catch(ct){re.current!==0&&(vt.dismiss(re.current),re.current=0);const Ze=ct instanceof Error?ct.message:"Transfer failed";vt.error("Transfer failed",{description:Ze,action:ki(Ze)}),console.error("Transfer error:",ct)}finally{ee(!1)}},ze=T.useMemo(()=>{const qe=le.map(Je=>({value:Je.bucketId,label:`${Je.bucketId} (${ar(Je.totalEquity)})`}));return[{value:"spot-wallet",label:`Spot Wallet (${ar(h)})`},...qe]},[le,h]),wt=T.useMemo(()=>le.map(qe=>({bucketId:qe.bucketId,totalEquity:qe.totalEquity})),[le]);return!i||i.trim()===""?g.jsx(Spe,{message:"Wallet address required to view bucket collections"}):u&&!x&&c.length===0?g.jsx(rb,{message:"Loading bucket collections..."}):d?g.jsx(ib,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(sb,{title:"BUCKET COLLECTIONS",children:[g.jsx("div",{onClick:Qe,className:"btn-tab",title:G==="non-zero"?"Click to show active buckets":G==="active"?"Click to show dormant buckets":G==="dormant"?"Click to show all buckets":"Click to show non-zero balance buckets",children:g.jsx("span",{children:G==="all"?"All":G==="non-zero"?"Non-Zero":G==="dormant"?"Dormant":"Active"})}),g.jsxs("div",{onClick:V,className:"btn-tab",children:[g.jsx("img",{src:"/transfer-repu.svg"}),g.jsx("span",{children:"Transfer"})]}),!f&&g.jsxs("div",{onClick:async()=>{p&&await p()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh bucket collections",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container shrinkable",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[g.jsx(oi,{field:"bucketId",currentSortField:m,sortDirection:y,onSort:Pe,left:!0,children:"Bucket ID"}),g.jsx(oi,{field:"marginType",currentSortField:m,sortDirection:y,onSort:Pe,children:"Margin Type"}),g.jsx(oi,{field:"usedMargin",currentSortField:m,sortDirection:y,onSort:Pe,children:"Used Margin"}),g.jsx(oi,{field:"totalEquity",currentSortField:m,sortDirection:y,onSort:Pe,children:"Total Equity"}),g.jsx(oi,{field:"riskRatio",currentSortField:m,sortDirection:y,onSort:Pe,left:!1,children:"Risk Ratio"})]}),le.length===0?g.jsx(nu,{message:c.length===0?"No bucket collections found. Make sure your wallet address is correct and has buckets.":`Filtered out all ${c.length} collections (invalid data structure)`}):le.map((qe,Je)=>{const yt=ES(qe),ct=Fm(qe);return g.jsxs("div",{onClick:()=>Ee(qe.bucketId,qe.availableMargin),className:`table-row clickable ${Je%2===0?"even":""} ${w===qe.bucketId?"selected":""}`,style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[g.jsx("div",{className:"table-cell primary",children:qe.bucketId||"---"}),g.jsx("div",{className:"table-cell",children:ct.toUpperCase()}),g.jsx("div",{className:"table-cell right monospace",children:ar(qe.usedMargin||0)}),g.jsx("div",{className:"table-cell right monospace",children:ar(qe.totalEquity||0)}),g.jsx("div",{className:"table-cell right monospace",style:{color:yt>.5?"#ff6b6b":"#51cf66",fontWeight:500},children:mw(yt)})]},`collection-${qe.bucketId}-${Je}`)})]}),g.jsx(P9e,{isOpen:x,fromValue:C,toValue:A,options:ze,bucketsData:wt,transferAmount:I,createBucketAmount:F,createBucketType:z,createMarginType:j,transferMarginType:D,onFromChange:E,onToChange:M,onTransferAmountChange:O,onCreateBucketAmountChange:$,onCreateBucketTypeChange:R,onCreateMarginTypeChange:N,onTransferMarginTypeChange:H,onConfirm:st,onCancel:Ae,spotWalletBalance:h,activeTab:U,onActiveTabChange:X,isTransferring:Y,onOpen:p,collections:le.map(qe=>({bucketId:qe.bucketId,marginType:qe.marginType}))})]})}const M9e=B.memo(I9e);function O9e({title:n="Dummy Component",message:e="This is a dummy component",height:r}){const[i,s]=T.useState(0);return g.jsxs("div",{className:"layout-container",style:{height:r},children:[g.jsx("div",{className:"layout-header",children:g.jsx("div",{className:"layout-header-title",children:n})}),g.jsxs("div",{style:{padding:"1rem",flex:1},children:[g.jsx("p",{className:"color-text-secondary",children:e}),g.jsxs("div",{style:{marginTop:"1rem"},children:[g.jsxs("p",{className:"color-text-primary",children:["Count: ",i]}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[g.jsx("button",{className:"btn btn-success",onClick:()=>s(i+1),children:"Increment"}),g.jsx("button",{className:"btn btn-danger",onClick:()=>s(0),children:"Reset"})]})]})]})]})}const D9e=B.memo(O9e);function g3(n){return n.orderId}function D9(n){const e=n.useWebSocket!==!1,[r,i]=T.useState([]),[s,o]=T.useState(!0),[a,l]=T.useState(null),[c,u]=T.useState(!1),d=T.useRef(null),h=T.useRef(null),f=T.useRef(!1),p=T.useRef(!1),m=T.useRef(n.walletAddress),b=T.useRef(n);b.current=n;const y=T.useCallback(async()=>{if(!d.current)return;const w=b.current;if(!w.walletAddress||w.walletAddress.trim()===""){l(null),i([]),o(!1);return}l(null);try{const x=(await eE(x9.http,()=>d.current.getOrders(w.walletAddress))).orders||[];if(x.length>0){const S=x.map(o4);i(C=>{if(C.length!==S.length)return S;const E=JSON.stringify(C),A=JSON.stringify(S);return E===A?C:S})}else i(S=>S.length===0?S:[])}catch(_){const x=_ instanceof Error?_.message:"Failed to load orders";l(x),console.error("Failed to fetch orders after retries:",_)}finally{o(!1)}},[]),v=T.useCallback(w=>{let _=[];if("orders"in w&&Array.isArray(w.orders))_=w.orders;else if("order_id"in w)_=[w];else{console.warn("Received invalid order data, skipping:",w);return}i(x=>{const S=new Map;x.forEach(M=>{const I=g3(M);I&&S.set(I,M)});for(const M of _){if(!M||typeof M!="object"||!("order_id"in M)||typeof M.order_id!="string"||M.order_id.length===0){console.warn("Received invalid order data, skipping:",M);continue}const I=o4(M),O=g3(I);if(!O){console.warn("Received order without ID, skipping:",I);continue}const F=I.status.toUpperCase();F==="FILLED"||F==="CANCELLED"||F==="REJECTED"||F==="EXPIRED"||F==="CLOSED"||F==="DONE"?S.delete(O):S.set(O,I)}const C=Array.from(S.values()).filter(M=>g3(M)!==void 0);if(x.length!==C.length)return C;const E=JSON.stringify(x),A=JSON.stringify(C);return E===A?x:C})},[]);return T.useEffect(()=>{if(n.walletAddress!==m.current&&(p.current=!1,m.current=n.walletAddress),!n.walletAddress||n.walletAddress.trim()===""){o(!1),l(null),i([]),h.current&&(h.current.disconnect(),h.current=null),p.current=!1;return}const w=new Ir({baseURL:n.baseURL,sessionToken:n.authToken});d.current=w,p.current||y().finally(()=>{p.current=!0});const _=n.subscriptionClient;if(e){h.current=_;const x=()=>{if(!_.isReadyForSubscriptions()){if(_.isConnected()&&!_.isReadyForSubscriptions()){const M=_.getAuthState();M==="pending"?console.debug("[usePendingOrders] Waiting for authentication to complete..."):M==="failed"&&(console.error("[usePendingOrders] Authentication failed - cannot subscribe to orders"),l("Authentication failed - cannot subscribe to orders"))}return}const C=n.marketId??"0",E="USDC/USDC";if(!f.current||n.marketId!==void 0&&n.marketId!==C){if(f.current&&h.current)try{h.current.unsubscribeMultiFeedSubChannel("orders",v)}catch(M){console.warn("[usePendingOrders] Error unsubscribing from previous orders subscription:",M)}try{_.subscribeMultiFeedSubChannel("orders",C,v,{symbol:E}),f.current=!0,o(!1),console.debug("[usePendingOrders] Subscribed to orders:",{marketId:C,symbol:E})}catch(M){console.error("[usePendingOrders] Failed to subscribe to orders:",M),l(M instanceof Error?M.message:"Failed to subscribe to orders"),f.current=!1,o(!1)}}};u(_.isConnected()),o(!1),_.isReadyForSubscriptions()&&x();const S=_.onStateChange(C=>{console.debug("[usePendingOrders] WebSocket state changed to:",C),u(C===Dt.Connected),C===Dt.Connected?x():C===Dt.Disconnected||Dt.Reconnecting});return()=>{if(S&&S(),h.current&&f.current)try{h.current.unsubscribeMultiFeedSubChannel("orders",v)}catch(C){console.warn("[usePendingOrders] Error unsubscribing during cleanup:",C)}f.current=!1}}else return()=>{}},[n.subscriptionClient,n.baseURL,n.authToken,n.walletAddress,n.marketId,e]),{orders:r,loading:s,error:a,isConnected:c,refresh:y}}function R9e({baseURL:n=nb,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=RNe,refreshInterval:a=y9}){const{orders:l,loading:c,error:u,isConnected:d,refresh:h}=D9({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),f=T.useRef(null),p=T.useRef(0),[m,b]=T.useState(null),{getSymbolByMarketId:y}=Xl({baseURL:n,sessionToken:r,autoFetchMarkets:!1}),[v,w]=T.useState(Vu),[_,x]=T.useState(null),[S,C]=T.useState(og),E=T.useMemo(()=>l.filter(R=>{const j=R.status.toUpperCase(),N=j.startsWith("ORDER_STATUS_")?j:`ORDER_STATUS_${j}`;return v===Vu?GW.some(D=>j===D.toUpperCase()||N===D.toUpperCase()):!GW.some(D=>j===D.toUpperCase()||N===D.toUpperCase())}),[l,v]),A=T.useMemo(()=>_?[...E].sort((R,j)=>{let N=0,D=0;switch(_){case $W:N=y(R.marketId)||`m-${R.marketId}`,D=y(j.marketId)||`m-${j.marketId}`;break;case zW:N=R.side,D=j.side;break;case UW:N=R.quantity,D=j.quantity;break;case WW:N=R.price,D=j.price;break;case qW:N=R.filledQuantity||0,D=j.filledQuantity||0;break;case HW:N=R.status,D=j.status;break}if(typeof N=="string"&&typeof D=="string")return S===Ad?N.localeCompare(D):D.localeCompare(N);const H=Number(N),U=Number(D);return isNaN(H)||isNaN(U)?0:S===Ad?H-U:U-H}):E,[E,_,S]),M=R=>{_===R?C(S===Ad?og:Ad):(x(R),C(og))},I=R=>R.side,O=R=>{const j=(R||"").toUpperCase(),N={PENDING:{short:"P",full:"Pending",color:YW},OPEN:{short:"O",full:"Open",color:tje},FILLED:{short:"F",full:"Filled",color:nje},CANCELLED:{short:"C",full:"Canceled",color:rje},PARTIAL:{short:"PF",full:"Partially Filled",color:YW}};return N[j]?N[j]:{short:"?",full:R||gje,color:ije}},F=R=>R===pw||R==="BUY"?sje:oje,$=R=>!R||typeof R!="string"?mje:R.replace("ORDER_TYPE_",""),z=async R=>{var H;const j=R.orderId,N=R.marketId;if(!j){const U="Cannot cancel order without a valid order ID.";vt.error("Order ID is missing",{description:U,action:ki(U)});return}if(!N){const U="Cannot cancel order without a valid market ID.";vt.error("Market ID is missing",{description:U,action:ki(U)});return}if(!s){const U=`Please provide the 'mnemonic' prop to the PendingOrders component. Order ID: ${j}`;vt.error("Mnemonic required",{description:U,duration:5e3,action:ki(U)});return}if(typeof s!="string"||s.trim()===""){const U=`The mnemonic prop is empty or invalid. Please provide a valid mnemonic. Order ID: ${j}`;vt.error("Invalid mnemonic",{description:U,duration:5e3,action:ki(U)});return}if(m){vt.info("Cancellation in progress",{description:"Please wait for the current cancellation to complete."});return}b(j);const D=vt.loading("Canceling order...",{description:`Canceling order ${j}`});p.current=typeof D=="number"?D:0;try{f.current||(f.current=new ah({baseURL:n,mnemonic:s.trim()}),await f.current.initialize());const U=await f.current.cancelOrder({orderId:j,marketId:N}),X=U.success===!0||U.result.success===!0||U&&!U.error&&!U.message;p.current!==0&&(vt.dismiss(p.current),p.current=0);const Y=U.txhash;if(X)vt.success("Order canceled successfully",{description:`Order ${j} has been canceled. TX: ${Y}`}),h&&await h();else{const ee=(U==null?void 0:U.error)||(U==null?void 0:U.message)||((H=U==null?void 0:U.response)==null?void 0:H.error)||"Failed to cancel order";throw new Error(ee)}}catch(U){p.current!==0&&(vt.dismiss(p.current),p.current=0);const Y=`${U instanceof Error?U.message:"Unknown error occurred"}. Order ID: ${j}`;vt.error("Failed to cancel order",{description:Y,duration:6e3,action:ki(Y)})}finally{b(null)}};return!i||i.trim()===""?g.jsx(Spe,{message:hje}):c?g.jsx(rb,{message:aje}):u?g.jsx(ib,{error:u}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(sb,{title:v===Vu?uje:dje,children:[g.jsxs("div",{className:"btn-tab",children:[g.jsx("span",{style:{fontSize:"0.7rem"},children:""}),g.jsx("span",{children:"Current Symbol"})]}),g.jsxs("div",{onClick:()=>w(v===Vu?VW:Vu),className:`btn-tab ${v===VW?"active":""}`,children:[g.jsx("img",{src:"/transfer-net.svg"}),g.jsx("span",{children:v===Vu?pje:fje})]}),!d&&g.jsxs("div",{onClick:async()=>{h&&await h()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh orders",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container shrinkable",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:KW},children:[g.jsx(oi,{field:$W,currentSortField:_,sortDirection:S,onSort:M,children:"Symbol"}),g.jsx(oi,{field:zW,currentSortField:_,sortDirection:S,onSort:M,children:"Side"}),g.jsx(u4,{center:!0,children:"Type"}),g.jsx(oi,{field:UW,currentSortField:_,sortDirection:S,onSort:M,children:"Quantity"}),g.jsx(oi,{field:WW,currentSortField:_,sortDirection:S,onSort:M,children:"Price"}),g.jsx(oi,{field:qW,currentSortField:_,sortDirection:S,onSort:M,children:"Filled"}),g.jsx(oi,{field:HW,currentSortField:_,sortDirection:S,onSort:M,children:"Status"}),g.jsx(u4,{center:!0,children:"Actions"})]}),A.length===0?g.jsx(nu,{message:v===Vu?lje:cje}):A.map((R,j)=>{const N=I(R),D=F(N),{short:H,full:U,color:X}=O(R.status),Y=y(R.marketId)||`m-${R.marketId}`;return g.jsxs("div",{className:`table-row ${j%2===0?"even":""}`,style:{gridTemplateColumns:KW},children:[g.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:g.jsx("span",{children:Y})}),g.jsx("div",{className:"table-cell center",style:{color:D,fontWeight:500},children:N}),g.jsx("div",{className:"table-cell center",children:$(R.type)}),g.jsx("div",{className:"table-cell right monospace",children:R.quantity}),g.jsx("div",{className:"table-cell right monospace",children:R.price}),g.jsxs("div",{className:"table-cell right monospace",children:[R.filledQuantity," / ",R.quantity]}),g.jsx("div",{className:"table-cell center",style:{color:X,fontWeight:600,cursor:"help",fontSize:"0.9rem"},title:U,children:H}),g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:v===Vu?g.jsxs(g.Fragment,{children:[(!s||s.trim()==="")&&g.jsx("span",{style:{fontSize:"0.7rem",color:"#ffc107",cursor:"help"},title:"Mnemonic required to cancel orders",children:""}),g.jsx(C9e,{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),!s||s.trim()===""||m===R.orderId||!!m||z(R)},disabled:!s||s.trim()===""||m===R.orderId||!!m})]}):g.jsx("span",{className:"color-text-dim",children:""})})]},`order-${R.orderId}`)})]})]})}const N9e=B.memo(R9e);function j9e({baseURL:n=nb,subscriptionClient:e,authToken:r,walletAddress:i,mnemonic:s,height:o=DNe,refreshInterval:a=y9,selectedBucketId:l=null}){const{positions:c,loading:u,error:d,isConnected:h,refresh:f}=wpe({subscriptionClient:e,baseURL:n,authToken:r,walletAddress:i,refreshInterval:a}),p=T.useRef(null);T.useEffect(()=>{if(!s||!n){p.current=null;return}const A=new ah({baseURL:n,mnemonic:s});A.initialize().then(()=>{p.current=A}).catch(M=>{const I=M instanceof Error?M.message:"Failed to initialize exchange client";console.error("Failed to initialize ExchangeClient:",M),vt.error("Exchange client initialization failed",{description:I,action:ki(I)}),p.current=null})},[s,n]);const[m,b]=T.useState(u3),[y,v]=T.useState(null),[w,_]=T.useState(og),x=T.useMemo(()=>{let A=[...c];return m===c_&&l&&(A=A.filter(M=>{const I=M.bucketId.toString(),O=l.toString();return I===O})),y?A.sort((M,I)=>{let O=0,F=0;switch(y){case OW:O=M.symbol||"",F=I.symbol||"";break;case DW:try{O=M.leverage??0,F=I.leverage??0}catch{O=0,F=0}break;case RW:O=M.size||0,F=I.size||0;break;case NW:O=M.liquidationPrice||0,F=I.liquidationPrice||0;break;case jW:O=M.unrealizedPnL||0,F=I.unrealizedPnL||0;break;case BW:O=M.entryPrice||0,F=I.entryPrice||0;break;case LW:O=M.margin||0,F=I.margin||0;break}if(typeof O=="string"&&typeof F=="string")return w===Ad?O.localeCompare(F):F.localeCompare(O);const $=Number(O),z=Number(F);return w===Ad?$-z:z-$}):A},[c,y,w,l,m]),S=A=>{y===A?_(w===Ad?og:Ad):(v(A),_(og))},C=T.useRef(0),E=async A=>{if(!s){const I="Please provide the 'mnemonic' prop to enable position closing.";vt.error("Mnemonic required",{description:I,action:ki(I)});return}if(!p.current){const I="Please wait for the exchange client to initialize.";vt.error("Exchange client not ready",{description:I,action:ki(I)});return}const M=vt.loading("Closing position...",{description:`Closing ${A.side} position for ${A.symbol} (Size: ${Zk(A.size)})`});C.current=typeof M=="number"?M:0;try{const I=await p.current.closePosition({positionId:A.positionId,marketId:A.marketId,marketPrice:A.markPrice,quantity:A.size});C.current!==0&&(vt.dismiss(C.current),C.current=0),vt.success("Position closed successfully",{description:`${A.side} position for ${A.symbol} has been closed. tx: ${I.txhash}`,duration:5e3}),f&&await f()}catch(I){C.current!==0&&(vt.dismiss(C.current),C.current=0);const O=I instanceof Error?I.message:"Unknown error occurred";vt.error("Failed to close position",{description:O,duration:6e3,action:ki(O)}),console.error("Failed to close position:",I)}};return u?g.jsx(rb,{message:VNe}):d?g.jsx(ib,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:o},children:[g.jsxs(sb,{title:`${YNe} ${m===c_&&l?`(Bucket ${l})`:""}`,children:[g.jsx("div",{onClick:()=>{b(u3),v(null)},className:`btn-tab ${m===u3?"active":""}`,children:KNe}),g.jsxs("div",{onClick:()=>{b(c_),v(null)},className:`btn-tab ${m===c_?"active":""}`,children:[g.jsx("img",{src:"/bucket-g.svg"}),g.jsx("span",{children:XNe})]}),!h&&g.jsxs("div",{onClick:async()=>{f&&await f()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh positions",children:[g.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),g.jsx("span",{children:"Refresh"})]})]}),g.jsxs("div",{className:"table-container",children:[g.jsxs("div",{className:"table-header",style:{gridTemplateColumns:FW},children:[g.jsx(oi,{field:OW,currentSortField:y,sortDirection:w,onSort:S,left:!0,children:"Symbol"}),g.jsx(oi,{field:DW,currentSortField:y,sortDirection:w,onSort:S,children:"Leverage"}),g.jsx(oi,{field:RW,currentSortField:y,sortDirection:w,onSort:S,children:"Size"}),g.jsx(oi,{field:NW,currentSortField:y,sortDirection:w,onSort:S,children:"Liq. Price"}),g.jsx(oi,{field:jW,currentSortField:y,sortDirection:w,onSort:S,children:"P/L"}),g.jsx(oi,{field:BW,currentSortField:y,sortDirection:w,onSort:S,children:"Entry Price"}),g.jsx(oi,{field:LW,currentSortField:y,sortDirection:w,onSort:S,children:"Margin"}),g.jsx(u4,{center:!0,children:"Actions"})]}),x.length===0?g.jsx(nu,{message:GNe}):x.map((A,M)=>{const I=A.side===pw,O=(A.unrealizedPnL||0)>=0?qNe:HNe,F=xpe(A.leverage,d3);return g.jsxs("div",{className:`table-row ${M%2===0?"even":""}`,style:{gridTemplateColumns:FW},children:[g.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:g.jsx("span",{children:A.symbol})}),g.jsx("div",{className:"color-buy",style:{fontWeight:500},children:` ${I?pw:r4}  ${F===d3?d3:F}x @ ${A.marginMode||fw}`}),g.jsx("div",{className:"color-buy right monospace",children:Zk(A.size)}),g.jsx("div",{className:"table-cell right monospace",children:Jk(A.liquidationPrice)}),g.jsx("div",{className:"table-cell right monospace",style:{color:O,fontWeight:500},children:Z7e(A.unrealizedPnL)}),g.jsx("div",{className:"table-cell right monospace",children:Jk(A.entryPrice)}),g.jsx("div",{className:"table-cell right monospace",children:J7e(A.margin)}),g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsx(E9e,{onClick:()=>E(A)})})]},`position-${A.marketId}-${M}`)})]})]})}const B9e=B.memo(j9e),Cpe=T.createContext(null),R9=({children:n,defaultWsURL:e=lh,defaultAuthToken:r,defaultWalletAddress:i,defaultDeviceID:s})=>{const[o,a]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState(Dt.Disconnected),[h,f]=T.useState(null),[p,m]=T.useState(e),[b,y]=T.useState(r),[v,w]=T.useState(i),[_,x]=T.useState(s),S=T.useRef(new y0({url:e,authToken:r,walletAddress:i,deviceID:s})),C=T.useRef(e),E=T.useRef(null),A=T.useRef(new Map),M=T.useRef(new Map);T.useEffect(()=>{if(C.current!==p){E.current&&(E.current(),E.current=null),S.current.disconnect(),A.current.clear();const ee=new y0({url:p,authToken:b,walletAddress:v,deviceID:_});S.current=ee,C.current=p}if(o){if(!E.current){const ee=S.current.onStateChange(G=>{d(G),c(G===Dt.Connected),G===Dt.Connected&&f(null)});E.current=ee}S.current.isConnected()||S.current.connect().then(()=>{console.debug("[SubscriptionContext] Connected to WebSocket"),f(null)}).catch(ee=>{const G=ee instanceof Error?ee:new Error(String(ee));console.error("[SubscriptionContext] Failed to connect:",G),f(G)})}else E.current&&(E.current(),E.current=null),S.current.isConnected()&&S.current.disconnect(),A.current.clear(),M.current.clear(),d(Dt.Disconnected),c(!1),f(null);return()=>{E.current&&(E.current(),E.current=null),S.current.isConnected()&&S.current.disconnect()}},[o,p,b,v,_]),T.useEffect(()=>{S.current&&o&&b&&v&&_&&S.current.setAuthToken(b,v,_)},[o,b,v,_]);const I=T.useCallback((X,Y,ee,G)=>{if(!S.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!X||typeof X!="string"){console.warn("[SubscriptionContext] Invalid marketId:",X);return}if(Y!=null&&Y!==""&&(typeof Y!="string"||!Y.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty string or in format BASE/QUOTE):",Y);return}const Z=pe=>{try{pe&&pe.sub_channel&&A.current.set(pe.sub_channel,pe),ee(pe)}catch(re){console.error("[SubscriptionContext] Error in multi-feed callback:",re)}};try{const pe={};Y&&Y!==""&&(pe.symbol=Y),G&&(pe.interval=G),S.current.subscribeMultiFeed(X,Z,Object.keys(pe).length>0?pe:void 0)}catch(pe){const re=pe instanceof Error?pe:new Error(String(pe));console.error("[SubscriptionContext] Subscription error:",re),f(re)}},[]),O=T.useCallback((X,Y,ee,G,Z)=>{if(!S.current){console.warn("[SubscriptionContext] Cannot subscribe: client not initialized");return}if(!X||typeof X!="string"){console.warn("[SubscriptionContext] Invalid marketId:",X);return}if(Y!=null&&Y!==""&&(typeof Y!="string"||!Y.includes("/"))){console.warn("[SubscriptionContext] Invalid symbol (must be empty string or in format BASE/QUOTE):",Y);return}if(!ee||typeof ee!="string"){console.warn("[SubscriptionContext] Invalid subChannel:",ee);return}const pe=re=>{try{ee==="orderbook"&&console.log("[SubscriptionContext] Orderbook data received",{marketId:X,hasPayload:!!re,payloadType:typeof re,hasPayloadData:!!(re!=null&&re.data)});const le=(re==null?void 0:re.data)??re;if(ee==="orderbook"&&console.log("[SubscriptionContext] Orderbook data extracted",{marketId:X,hasData:!!le,dataType:typeof le,isObject:typeof le=="object",hasMarketId:!!(le!=null&&le.market_id),hasSequenceId:(le==null?void 0:le.sequence_id)!==void 0,hasBids:!!(le!=null&&le.bids),hasAsks:!!(le!=null&&le.asks),bidsCount:Array.isArray(le==null?void 0:le.bids)?le.bids.length:0,asksCount:Array.isArray(le==null?void 0:le.asks)?le.asks.length:0}),le&&typeof le=="object"){const ce={sub_channel:ee,data:le,type:"data",channel:"multi_feed",market_id:X};A.current.set(ee,ce)}ee==="orderbook"&&console.log("[SubscriptionContext] Calling orderbook callback with data",{marketId:X,hasData:!!le}),G(le),ee==="orderbook"&&console.log("[SubscriptionContext] Orderbook callback completed",{marketId:X})}catch(le){console.error(`[SubscriptionContext] Error in sub-channel callback for ${ee}:`,le)}};M.current.set(G,pe);try{const re={};Y&&Y!==""&&(re.symbol=Y),Z&&(re.interval=Z),S.current.subscribeMultiFeedSubChannel(ee,X,pe,Object.keys(re).length>0?re:void 0);const le=A.current.get(ee);le&&le.data&&setTimeout(()=>{try{G(le.data)}catch(ce){console.error(`[SubscriptionContext] Error sending retained data for ${ee}:`,ce)}},0)}catch(re){const le=re instanceof Error?re:new Error(String(re));console.error("[SubscriptionContext] Subscription error:",le),f(le)}},[]),F=T.useCallback((X,Y,ee)=>{if(S.current)try{S.current.unsubscribeMultiFeed(X,Y,ee)}catch(G){const Z=G instanceof Error?G:new Error(String(G));console.error("[SubscriptionContext] Unsubscribe error:",Z),f(Z)}},[]),$=T.useCallback((X,Y)=>{if(S.current)try{if(Y){const ee=M.current.get(Y);if(!ee){console.warn(`[SubscriptionContext] Cannot unsubscribe: callback not found in wrapped callbacks for sub-channel ${X}. Ensure you're using the same callback reference that was used for subscription.`);return}S.current.unsubscribeMultiFeedSubChannel(X,ee),M.current.delete(Y)}else S.current.unsubscribeMultiFeedSubChannel(X)}catch(ee){const G=ee instanceof Error?ee:new Error(String(ee));console.error("[SubscriptionContext] Unsubscribe error:",G),f(G)}},[]),z=T.useCallback(()=>{a(X=>!X)},[]),R=T.useCallback(X=>{a(X)},[]),j=T.useCallback(X=>A.current.get(X)||null,[]),N=T.useCallback(()=>new Map(A.current),[]),D=T.useCallback(X=>{X?A.current.delete(X):A.current.clear()},[]),H=T.useCallback(()=>{f(null)},[]),U=T.useMemo(()=>({client:S.current,isEnabled:o,isConnected:l,connectionState:u,error:h,toggleEnabled:z,setEnabled:R,clearError:H,getRetainedData:j,getAllRetainedData:N,clearRetainedData:D,wsURL:p,setWsURL:m,authToken:b,setAuthToken:y,walletAddress:v,setWalletAddress:w,deviceID:_,setDeviceID:x,subscribeMultiFeedWithRetention:I,subscribeSubChannelWithRetention:O,unsubscribeMultiFeed:F,unsubscribeSubChannel:$}),[o,l,u,h,z,R,H,j,N,D,p,b,v,_,I,O,F,$]);return g.jsx(Cpe.Provider,{value:U,children:n})},th=()=>{const n=T.useContext(Cpe);if(!n)throw new Error("useSubscription must be used within SubscriptionProvider");return n};function L9e({baseURL:n=nb,selectedMarketId:e,height:r,onMarketSelect:i,favorites:s=[],onFavoriteToggle:o}){const{markets:a,tickers:l,selectedMarketId:c,setSelectedMarketId:u,getSymbolByMarketId:d}=Xl({baseURL:n,autoFetchMarkets:!0}),{subscribeSubChannelWithRetention:h,unsubscribeSubChannel:f,isConnected:p,getRetainedData:m,client:b}=th(),[y,v]=T.useState(new Set(s)),[w,_]=T.useState("1H"),[x,S]=T.useState(null),C=T.useRef(null),E=T.useRef(null),A=e||c||null,{latestFundingRate:M}=vpe({subscriptionClient:b,baseURL:n,marketId:A||"",historyDepth:1}),I=T.useMemo(()=>{if(!(M!=null&&M.funding_rate))return null;try{return Wt(M.funding_rate)}catch(G){return console.error("[TickerBar] Error converting funding rate:",G),null}},[M]),O=T.useMemo(()=>{if(!(M!=null&&M.mark_price))return null;try{return Wt(M.mark_price)}catch(G){return console.error("[TickerBar] Error converting mark_price:",G),null}},[M]),F=T.useMemo(()=>x!==null?x:O,[x,O]),$=T.useMemo(()=>{const G=new Set(y);return s.forEach(Z=>G.add(Z)),G},[s,y]),z=T.useMemo(()=>a.map(G=>{var Ee,V;const Z=((Ee=G.market_id)==null?void 0:Ee.toString())||((V=G.id)==null?void 0:V.toString())||"",pe=l.get(Z),re=G.moniker||G.symbol||(G.baseAsset&&G.quoteAsset?`${G.baseAsset}/${G.quoteAsset}`:"Unknown"),le=!G.active||!(pe!=null&&pe.lastPrice)||typeof pe.lastPrice=="string"&&pe.lastPrice==="0";let ce=null;pe!=null&&pe.lastPrice&&(typeof pe.lastPrice=="string"?ce=parseFloat(pe.lastPrice):ce=pe.lastPrice);let Pe=null;return pe!=null&&pe.priceChangePercent24h&&(typeof pe.priceChangePercent24h=="string"?Pe=parseFloat(pe.priceChangePercent24h):Pe=pe.priceChangePercent24h),{marketId:Z,symbol:re,price:ce,priceChangePercent:Pe,isClosed:le,isFavorite:$.has(Z)}}).filter(G=>G.marketId),[a,l,$]),R=T.useMemo(()=>A?a.find(G=>{var Z,pe;return((Z=G.market_id)==null?void 0:Z.toString())===A||((pe=G.id)==null?void 0:pe.toString())===A}):null,[a,A]),j=T.useMemo(()=>A?l.get(A):null,[l,A]),N=T.useMemo(()=>R?R.moniker||R.symbol||(R.baseAsset&&R.quoteAsset?`${R.baseAsset}/${R.quoteAsset}`:"Unknown"):"Select Market",[R]),D=T.useMemo(()=>{if(!R)return"";const G=R.baseAsset||"",Z=R.quoteAsset||"";return G&&Z?`${G} to ${Z}`:R.moniker||R.symbol||""},[R]),H=T.useMemo(()=>j!=null&&j.lastPrice?typeof j.lastPrice=="string"?parseFloat(j.lastPrice):j.lastPrice:null,[j]),U=T.useMemo(()=>j!=null&&j.priceChangePercent24h?typeof j.priceChangePercent24h=="string"?parseFloat(j.priceChangePercent24h):j.priceChangePercent24h:null,[j]);T.useEffect(()=>{var re;if(!A||!p){S(null);return}const G=d(A);if(!G){S(null);return}const Z=m("price_feed");if(Z&&spe(Z)&&((re=Z.data)!=null&&re.price))try{const le=Wt(Z.data.price);S(le)}catch(le){console.error("[TickerBar] Error processing retained price_feed:",le)}const pe=le=>{try{if(le&&typeof le=="object"&&le.price){const ce=Wt(le.price);S(ce)}}catch(ce){console.error("[TickerBar] Error processing price_feed update:",ce)}};E.current=pe;try{h(A,G,"price_feed",pe)}catch(le){console.error("[TickerBar] Failed to subscribe to price_feed:",le)}return()=>{if(E.current){try{f("price_feed",E.current)}catch(le){console.error("[TickerBar] Failed to unsubscribe from price_feed:",le)}E.current=null}}},[A,p,d,h,f,m]);const X=G=>{i?i(G):u(G)},Y=(G,Z)=>{Z.stopPropagation();const pe=new Set($);pe.has(G)?pe.delete(G):pe.add(G),v(pe),o&&o(G)},ee=G=>{var re;const Z=((re=G.split("/")[0])==null?void 0:re.toUpperCase())||"";return{BTC:"",ETH:"",EUR:"",USD:"$",USDC:"$",USDT:"$"}[Z]||Z.charAt(0)||"?"};return g.jsxs("div",{className:"ticker-bar-container",style:r?{height:r}:void 0,children:[g.jsx("div",{className:"ticker-bar-top",ref:C,children:g.jsx("div",{className:"ticker-bar-scroll",children:z.map((G,Z)=>g.jsxs(B.Fragment,{children:[g.jsxs("div",{className:`ticker-item ${G.marketId===A?"active":""}`,onClick:()=>X(G.marketId),children:[g.jsx("span",{className:"ticker-favorite-star",onClick:pe=>Y(G.marketId,pe),style:{cursor:"pointer",opacity:G.isFavorite?1:.3},children:""}),g.jsx("span",{className:"ticker-asset-icon",children:ee(G.symbol)}),g.jsx("span",{className:"ticker-symbol",children:G.symbol}),g.jsx("span",{className:"ticker-value",children:G.isClosed?g.jsx("span",{className:"ticker-closed",children:"CLOSED"}):G.price!==null?ag(G.price):"--"})]}),Z<z.length-1&&g.jsx("div",{className:"ticker-separator"})]},G.marketId))})}),g.jsxs("div",{className:"ticker-bar-bottom",children:[g.jsxs("div",{className:"ticker-detail-left",children:[g.jsx("div",{className:"ticker-detail-icon-large",children:R?ee(N):"?"}),g.jsxs("div",{className:"ticker-detail-symbol-group",children:[g.jsx("div",{className:"ticker-detail-symbol-row",children:g.jsx("span",{className:"ticker-detail-symbol",children:N})}),g.jsx("div",{className:"ticker-detail-description",children:D})]}),g.jsxs("div",{className:"ticker-detail-price-group",children:[g.jsx("div",{className:"ticker-detail-price",children:H!==null?ag(H):"--"}),U!==null&&g.jsxs("div",{className:`ticker-detail-change ${U>=0?"positive":"negative"}`,children:[U>=0?"+":"",mw(U/100)]})]})]}),g.jsxs("div",{className:"ticker-detail-metrics",children:[g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Oracle Price",children:"Oracle Price"}),g.jsx("span",{className:"ticker-metric-value",children:F!==null?ag(F):"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Long)",children:"Open Interest (L)"}),g.jsx("span",{className:"ticker-metric-value",children:j!=null&&j.volume?(()=>{const G=typeof j.volume=="string"?parseFloat(j.volume):j.volume;return`${fq(G)} / 20.0M USDC`})():"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Short)",children:"Open Interest (S)"}),g.jsx("span",{className:"ticker-metric-value",children:j!=null&&j.volume?(()=>{const G=typeof j.volume=="string"?parseFloat(j.volume):j.volume;return`${fq(G)} / 20.0M USDC`})():"--"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Skew",children:"Skew"}),g.jsx("span",{className:"ticker-metric-value",children:"50%/50%"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Funding Rate",children:"Funding Rate"}),g.jsx("span",{className:`ticker-metric-value ${I!==null&&I<0?"negative":I!==null&&I>0?"positive":""}`,children:I!==null?mw(I):"--"})]})]}),g.jsxs("div",{className:"ticker-detail-right",children:[g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Holding (Long)",children:"Holding (L)"}),g.jsx("span",{className:"ticker-metric-value positive",children:"0.0012%"})]}),g.jsxs("div",{className:"ticker-metric",children:[g.jsx("label",{className:"ticker-metric-label",title:"Holding (Short)",children:"Holding (S)"}),g.jsx("span",{className:"ticker-metric-value negative",children:"0.0021%"})]})]}),g.jsx("div",{className:"ticker-timeframe-selector",children:g.jsxs("select",{className:"ticker-timeframe-select",value:w,onChange:G=>_(G.target.value),children:[g.jsx("option",{value:"1H",children:"1H"}),g.jsx("option",{value:"4H",children:"4H"}),g.jsx("option",{value:"1D",children:"1D"}),g.jsx("option",{value:"1W",children:"1W"}),g.jsx("option",{value:"1M",children:"1M"})]})})]})]})}const F9e=B.memo(L9e),$9e=T.forwardRef(function({baseURL:e=nb,mnemonic:r=ZC,marketId:i,marketSymbol:s,selectedBucketBalance:o,selectedBucketId:a,onLeverageClick:l,onNumberCalculatorClick:c,authToken:u,walletAddress:d},h){const{client:f}=th(),{selectedMarketId:p,selectedMarketSymbol:m}=Xl({baseURL:e,autoFetchMarkets:!0}),b=i||p||"",y=s||m||"",{lastPrice:v}=rE({subscriptionClient:f,baseURL:e,marketId:b}),w=(v==null?void 0:v.price)||0,_=T.useRef(0),x=T.useRef(0),S=T.useRef(!1),{collections:C,spotWalletBalance:E}=_pe({subscriptionClient:f,baseURL:e,walletAddress:d||"",authToken:u||"",useWebSocket:!!d&&!!u}),A=T.useMemo(()=>!a||!C.length?null:C.find(Ge=>Ge.bucketId===a)||null,[C,a]),{orderType:M,setOrderType:I,fundPercent:O,sizeInput:F,price:$,leverage:z,marginMode:R,availableBalance:j,currentPrice:N,isReady:D,loading:H,result:U,setFundPercent:X,setSizeInput:Y,setPrice:ee,setMarginMode:G,setLeverage:Z,placeBuyOrder:pe,placeSellOrder:re,changeLeverage:le,calculateValue:ce,calculateMargin:Pe,calculateSizeUSD:Ee,getOrderPrice:V,getAvailableTradeAmount:Ae}=ype({baseURL:e,mnemonic:r,marketId:b,marketSymbol:y,selectedBucketBalance:o,selectedBucketId:a||void 0,tradePrice:w}),Qe=T.useMemo(()=>V(),[V,M,$,N]),st=T.useMemo(()=>Ae(),[Ae,j,z]),ze=T.useMemo(()=>ce(),[ce,F,O,j,Qe,z]),wt=T.useMemo(()=>Pe(),[Pe,z,ze]),qe=T.useMemo(()=>Rt(String(ze)),[ze]),Je=T.useMemo(()=>Rt(String(wt)),[wt]),yt=T.useMemo(()=>({minimumFractionDigits:xc,maximumFractionDigits:lpe}),[]),ct=T.useMemo(()=>N.toFixed(xc),[N]),Ze=T.useMemo(()=>{const Ge=C.reduce((ot,Ie)=>ot+Ie.totalEquity,0);return E+Ge},[C,E]),Ve=T.useMemo(()=>Ze.toLocaleString("en-US",yt),[Ze,yt]),rt=T.useMemo(()=>E.toLocaleString("en-US",yt),[E,yt]),q=T.useMemo(()=>A?A.totalEquity.toLocaleString("en-US",yt):"--",[A,yt]),te=T.useMemo(()=>A?A.totalEquity.toLocaleString("en-US",yt):"--",[A,yt]),ve=T.useMemo(()=>A?A.unrealizedPnL.toLocaleString("en-US",yt):"--",[A,yt]),me=T.useMemo(()=>A?(A.marginRatio*100).toFixed(xc)+"%":"--",[A]),xe=T.useMemo(()=>A?A.usedMargin.toLocaleString("en-US",yt):"--",[A,yt]),fe=T.useMemo(()=>A?`${A.leverage.toFixed(xc)}x`:"--",[A]),K=T.useMemo(()=>t9e(a||null),[a]);T.useEffect(()=>{if(A){const Ge=Fm(A);(Ge===fw||Ge===UNe)&&G(Ge)}},[A,G]);const he=T.useCallback(()=>{I(n4)},[I]),se=T.useCallback(()=>{I(c3)},[I]),ke=T.useCallback(()=>{X(Math.min(a3,O+l3))},[O,X]),Re=T.useCallback(()=>{X(Math.max(l_,O-l3))},[O,X]),de=T.useCallback(Ge=>{const ot=parseInt(Ge.target.value);X(ot)},[X]),_e=T.useCallback(Ge=>{ee(parseFloat(Ge.target.value))},[ee]),[Se,ae]=T.useState(!1),[ie,ue]=T.useState(""),it=T.useCallback(Ge=>{const ot=Ge.target.value;ue(ot);const Ie=parseFloat(ot),at=isNaN(Ie)?0:Math.round(Ie*1e6)/1e6;Y(at)},[Y]),Fe=T.useCallback(()=>{ae(!0),ue(y8e(F))},[F]),Ye=T.useCallback(()=>{ae(!1);const Ge=parseFloat(ie);Y(Ge),ue("")},[ie,Y]),Ne=T.useCallback(()=>{const Ge=vt.loading("Submit transaction...",{description:"Placing buy order"});_.current=typeof Ge=="number"?Ge:0,pe()},[pe]),Xe=T.useCallback(()=>{const Ge=vt.loading("Submit transaction...",{description:"Placing sell order"});_.current=typeof Ge=="number"?Ge:0,re()},[re]),ft=T.useCallback(async(Ge,ot)=>{S.current=!0;const Ie=vt.loading("Changing leverage...",{description:`Updating leverage to ${Ge}x`});x.current=typeof Ie=="number"?Ie:0;try{const at=(ot==null?void 0:ot.leverageType)||(R===fw?"cross":"isolated"),Q=(ot==null?void 0:ot.bucketId)||a||"";await le(Ge,{...ot,bucketId:Q,leverageType:at})}catch(at){S.current=!1,x.current!==0&&(vt.dismiss(x.current),x.current=0);const Q=at instanceof Error?at.message:"Unknown error";vt.error("Leverage Change Failed",{description:Q,action:ki(Q)})}},[le,R,a]);return T.useImperativeHandle(h,()=>({leverage:z,setLeverage:Z,calculateMaxRatio:Ge=>{const Ie=Ee();return j>0&&Ie>0?(Ie/j).toFixed(xc):Ge.toFixed(xc)},changeLeverage:ft,setPrice:Ge=>{const ot=typeof Ge=="number"?Ge:parseFloat(Ge);isNaN(ot)||ee(ot)},setSizeInput:Ge=>{Y(Ge)},getSizeInput:()=>F,getAvailableTradeAmount:()=>st}),[z,Z,Ee,V,j,ft,ee,Y,F,st]),T.useEffect(()=>{if(U)if(S.current)if(S.current=!1,x.current!==0&&(vt.dismiss(x.current),x.current=0),U.success){const Ge=U.orderId?`Transaction: ${U.orderId}`:U.message||"Leverage changed successfully";vt.success("Leverage Changed Successfully",{description:Ge})}else U.error&&vt.error("Leverage Change Failed",{description:U.error,action:ki(U.error||"")});else if(_.current!==0&&(vt.dismiss(_.current),_.current=0),U.success){const Ge=U.orderId?`Order ID: ${U.orderId}`:U.message||"Order placed successfully";vt.success("Order Placed Successfully",{description:Ge})}else U.error&&vt.error("Order Failed",{description:U.error,action:ki(U.error||"")})},[U]),g.jsxs("div",{className:"component",children:[g.jsx("h2",{children:y}),g.jsxs("div",{className:"trade-op-config",children:[g.jsxs("div",{className:"trade-op-badge",children:[g.jsx("span",{className:"trade-op-badge-label",children:R}),g.jsx("span",{className:"trade-op-info-icon",children:"i"})]}),g.jsxs("div",{className:"trade-op-badge",onClick:l,style:{cursor:"pointer"},children:[g.jsxs("span",{className:"trade-op-badge-label",children:[z,"x"]}),g.jsx("span",{className:"trade-op-info-icon",children:"i"})]})]}),g.jsxs("div",{className:"trade-op-order-type-selector",children:[g.jsx("button",{onClick:he,className:`btn-toggle ${M===n4?"active":""}`,children:"MARKET"}),g.jsx("button",{onClick:se,className:`btn-toggle ${M===c3?"active":""}`,children:"LIMIT"})]}),M===c3&&g.jsx("div",{className:"trade-op-form-group",children:g.jsxs("div",{className:"trade-op-form-row",children:[g.jsx("label",{htmlFor:"price",className:"trade-op-label",children:"Price:"}),g.jsx("input",{id:"price",type:"number",value:$,onChange:_e,placeholder:ct,step:LNe,min:MW})]})}),g.jsxs("div",{className:"trade-op-form-group",children:[g.jsxs("div",{className:"trade-op-form-row",style:{marginBottom:"0.5rem"},children:[g.jsx("label",{htmlFor:"size",className:"trade-op-label",children:"Size:"}),g.jsx("span",{className:"trade-op-icon",onClick:c,children:g.jsx("img",{src:"cal.svg"})}),g.jsxs("div",{className:"trade-op-size-controls",children:[g.jsx("input",{id:"size",type:"number",step:"0.000001",value:Se?ie:F,onChange:it,onFocus:Fe,onBlur:Ye,placeholder:"0",min:MW,max:st,className:"trade-op-input"}),g.jsxs("div",{className:"trade-op-size-buttons",children:[g.jsx("button",{onClick:ke,className:"btn-small",children:""}),g.jsx("button",{onClick:Re,className:"btn-small",children:""})]})]})]}),g.jsx("input",{type:"range",min:l_,max:a3,value:O,onChange:de,step:l3,style:{width:"100%","--slider-progress":`${(O-l_)/(a3-l_)*100}%`},className:"filled-slider"}),g.jsxs("div",{className:"trade-op-slider-labels",children:[g.jsx("span",{children:"0"}),g.jsx("span",{children:"20"}),g.jsx("span",{children:"40"}),g.jsx("span",{children:"60"}),g.jsx("span",{children:"80"}),g.jsx("span",{children:"100"})]})]}),g.jsxs("div",{className:"trade-op-action-panel",children:[g.jsxs("div",{children:[g.jsx("div",{className:"trade-op-panel-title buy",children:"LONG"}),g.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),g.jsx("button",{onClick:Ne,disabled:H||!D||ze<=0,className:"btn-buy",children:H?"PLACING...":"BUY LONG"}),g.jsxs("div",{className:"trade-op-panel-details",children:[g.jsxs("div",{children:["Value ",qe.toFixed(2)]}),g.jsxs("div",{children:["Margin ",Je.toFixed(2)]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"trade-op-panel-title sell",children:"SHORT"}),g.jsxs("div",{className:"trade-op-panel-size",children:[F.toFixed(3),"/100.000"]}),g.jsx("button",{onClick:Xe,disabled:H||!D||ze<=0,className:"btn-sell",children:H?"PLACING...":"SELL SHORT"}),g.jsxs("div",{className:"trade-op-panel-details",children:[g.jsxs("div",{children:["Value ",qe.toFixed(xc)]}),g.jsxs("div",{children:["Margin ",Je.toFixed(xc)]})]})]})]}),g.jsxs("div",{className:"trade-op-info-panel",children:[g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Account Equity:"}),g.jsxs("span",{className:"trade-op-info-value",children:[Ve," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Spot:"}),g.jsxs("span",{className:"trade-op-info-value",children:[rt," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsxs("span",{className:"trade-op-info-label",children:[a||"Bucket",":"]}),g.jsxs("span",{className:"trade-op-info-value",children:[q," USDC"]})]}),g.jsx("div",{className:"trade-op-info-row",children:g.jsxs("span",{className:"trade-op-info-label",children:["Bucket Overview: ",K]})}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Balance:"}),g.jsxs("span",{className:"trade-op-info-value",children:[te," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Unrealized PNL:"}),g.jsxs("span",{className:"trade-op-info-value",children:[ve," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Cross Margin Ratio:"}),g.jsx("span",{className:"trade-op-info-value",children:me})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Maintenance Margin:"}),g.jsxs("span",{className:"trade-op-info-value",children:[xe," USDC"]})]}),g.jsxs("div",{className:"trade-op-info-row",children:[g.jsx("span",{className:"trade-op-info-label",children:"Cross Account Leverage:"}),g.jsx("span",{className:"trade-op-info-value",children:fe})]})]})]})});function z9e({baseURL:n=nb,subscriptionClient:e,marketId:r=NNe,limit:i=jNe}){const{lastPrice:s,displayPrice:o,recentTrades:a,loading:l,error:c,isConnected:u,priceChange:d}=rE({subscriptionClient:e,baseURL:n,marketId:r,limit:i}),h=T.useRef(null),f=T.useRef(""),p=T.useRef(null),m=T.useCallback(()=>{const A=h.current;if(!A)return;const M=A.parentElement;if(!M)return;const I=A.textContent||"";if(!I)return;const O=window.getComputedStyle(M),F=parseFloat(O.paddingLeft)+parseFloat(O.paddingRight),$=M.clientWidth-F;let z=12,R=48,j=z;const N=document.createElement("div");for(N.style.position="absolute",N.style.visibility="hidden",N.style.whiteSpace="nowrap",N.style.fontFamily=window.getComputedStyle(A).fontFamily,N.style.fontWeight=window.getComputedStyle(A).fontWeight,document.body.appendChild(N);z<=R;){const H=Math.floor((z+R)/2);N.style.fontSize=`${H}px`,N.textContent=I,N.offsetWidth<=$?(j=H,z=H+1):R=H-1}document.body.removeChild(N);const D=parseFloat(window.getComputedStyle(A).fontSize);Math.abs(D-j)>.5&&(A.style.fontSize=`${j}px`)},[]);T.useEffect(()=>{if(o==null)return;const A=ag(o);if(A===f.current)return;f.current=A,p.current!==null&&clearTimeout(p.current),p.current=window.setTimeout(()=>{m()},150);let M;const I=()=>{clearTimeout(M),M=window.setTimeout(()=>{p.current!==null&&clearTimeout(p.current),p.current=window.setTimeout(()=>{m()},150)},100)};return window.addEventListener("resize",I),()=>{p.current!==null&&clearTimeout(p.current),clearTimeout(M),window.removeEventListener("resize",I)}},[o,m]);const b=T.useCallback(A=>{if(!A||isNaN(A)||A<=0)return"Invalid";let M=A;M<9466848e5&&(M=M*1e3);const I=new Date(M);return isNaN(I.getTime())?"Invalid":I.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[]),y=T.useCallback(A=>A?"#51cf66":"#ff6b6b",[]),v=T.useCallback(A=>A?"BUY":"SELL",[]),w=T.useCallback(A=>A?"":"",[]);if(l)return g.jsx(rb,{message:"Loading trade price..."});if(c)return g.jsx(ib,{error:c});if(o==null)return g.jsx(nu,{message:"No trade data available"});const _=s&&s.is_buyer_maker!==void 0,x=_?y(s.is_buyer_maker):"#888",S=_?v(s.is_buyer_maker):"N/A",C=_?w(s.is_buyer_maker):"",E=d==="up"?"flash-price-up":d==="down"?"flash-price-down":"";return g.jsxs("div",{className:"layout-container trade-price-container",children:[g.jsx(sb,{title:g.jsx(O9,{isConnected:u}),children:g.jsx("div",{children:"Last Trade Price"})}),g.jsxs("div",{className:`trade-price-main ${E}`,children:[g.jsx("div",{ref:h,className:"trade-price-value",style:{color:x},children:ag(o)}),g.jsxs("div",{className:"trade-price-side",style:{color:x},children:[g.jsx("span",{children:C}),g.jsx("span",{children:S})]})]}),g.jsx("div",{className:"trade-price-trades-table",children:l?g.jsx("div",{className:"message",children:"Loading trades..."}):a.length===0?g.jsx("div",{className:"message",children:"No trades available"}):g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Time"}),g.jsx("th",{className:"right",children:"Size"}),g.jsx("th",{className:"right",children:"Price"})]})}),g.jsx("tbody",{children:a.map(A=>{const M=A.is_buyer_maker?"#51cf66":"#ff6b6b";return g.jsxs("tr",{children:[g.jsx("td",{children:b(A.time)}),g.jsx("td",{className:"right",children:Q7e(A.size)}),g.jsx("td",{className:"right price",style:{color:M},children:ag(A.price)})]},`${A.time}-${A.price}-${A.size}`)})})]})})]})}const U9e=B.memo(z9e),Epe=({level:n,index:e,isLast:r,depthPercent:i,formatPrice:s,formatSize:o,onPriceClick:a})=>{const l=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-ask":"",c=()=>{a&&a(n.price)};return g.jsxs("div",{className:`orderbook-level ask ${l}`,style:{borderBottom:r?"none":void 0},children:[g.jsx("div",{className:"orderbook-depth-bar ask",style:{width:`${i}%`}}),g.jsx("div",{className:"orderbook-level-content ask",onClick:c,style:{cursor:a?"pointer":"default"},title:a?"Click to set price":void 0,children:s(n.price)}),g.jsx("div",{className:"orderbook-level-content right",children:o(n.size)}),g.jsx("div",{className:"orderbook-depth-indicator",children:g.jsx("div",{className:"orderbook-depth-line ask"})})]})},Ape=({level:n,index:e,isLast:r,depthPercent:i,formatPrice:s,formatSize:o,onPriceClick:a})=>{const l=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-bid":"",c=()=>{a&&a(n.price)};return g.jsxs("div",{className:`orderbook-level bid ${l}`,style:{borderBottom:r?"none":void 0},children:[g.jsx("div",{className:"orderbook-depth-bar bid",style:{width:`${i}%`}}),g.jsx("div",{className:"orderbook-level-content bid",onClick:c,style:{cursor:a?"pointer":"default"},title:a?"Click to set price":void 0,children:s(n.price)}),g.jsx("div",{className:"orderbook-level-content right",children:o(n.size)}),g.jsx("div",{className:"orderbook-depth-indicator",children:g.jsx("div",{className:"orderbook-depth-line bid"})})]})};function W9e({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i=ape,height:s=ope,onPriceClick:o}){var M,I;const{asks:a,bids:l,spread:c,midPrice:u,loading:d,error:h,isConnected:f,wsError:p}=I9({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i}),m=T.useRef(null),b=T.useRef(null),y=T.useRef(null),v=T.useRef(0),w=T.useRef(0);T.useEffect(()=>{const O=a.length!==v.current,F=l.length!==w.current;if(!(!O&&!F))return v.current=a.length,w.current=l.length,y.current!==null&&cancelAnimationFrame(y.current),y.current=requestAnimationFrame(()=>{if(m.current&&O){const $=m.current;$.scrollTop=$.scrollHeight}if(b.current&&F){const $=b.current;$.scrollTop=0}y.current=null}),()=>{y.current!==null&&(cancelAnimationFrame(y.current),y.current=null)}},[a.length,l.length]);const _=a.length>0?((M=a[a.length-1])==null?void 0:M.cumulative)??0:0,x=l.length>0?((I=l[l.length-1])==null?void 0:I.cumulative)??0:0,S=T.useMemo(()=>Math.max(_,x),[_,x]),C=Jk,E=Zk,A=T.useCallback(O=>S===0?0:O/S*100,[S]);return d?g.jsx(rb,{message:"Loading orderbook..."}):h?g.jsx(ib,{error:h}):g.jsxs("div",{className:"layout-container",style:{height:s},children:[p&&(a.length>0||l.length>0)&&g.jsxs("div",{className:"orderbook-ws-warning",children:[g.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),g.jsx("span",{className:"orderbook-ws-warning-text",children:p})]}),g.jsx(sb,{title:g.jsx(O9,{isConnected:f}),children:g.jsxs("div",{children:["Depth: ",i]})}),u&&g.jsxs("div",{className:"orderbook-mid-price",children:[g.jsx("div",{className:"orderbook-mid-price-value",children:C(u)}),c!==void 0&&g.jsxs("div",{className:"orderbook-mid-price-spread",children:["Spread: ",C(c)]})]}),g.jsxs("div",{className:"orderbook-content",children:[g.jsxs("div",{className:"orderbook-section",ref:m,children:[a.map((O,F)=>{const $=A(O.cumulative);return g.jsx(Epe,{level:O,index:F,isLast:F===a.length-1,depthPercent:$,formatPrice:C,formatSize:E,onPriceClick:o},`ask-${O.price}-${F}`)}),a.length===0&&g.jsx(nu,{message:"No ask orders"})]}),g.jsxs("div",{className:"orderbook-section bids",ref:b,children:[l.map((O,F)=>{const $=A(O.cumulative);return g.jsx(Ape,{level:O,index:F,isLast:F===l.length-1,depthPercent:$,formatPrice:C,formatSize:E,onPriceClick:o},`bid-${O.price}-${F}`)}),l.length===0&&g.jsx(nu,{message:"No bid orders"})]})]}),g.jsx(Tpe,{totalBids:x,totalAsks:_})]})}const Tpe=B.memo(({totalBids:n,totalAsks:e})=>{const r=n+e,i=r>0?`${(n/r*100).toFixed(0)}%`:"0%",s=r>0?`${(e/r*100).toFixed(0)}%`:"0%";return g.jsxs("div",{className:"orderbook-footer",children:[g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar bid"}),g.jsx("span",{className:"color-text-muted",children:i})]}),g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar ask"}),g.jsx("span",{className:"color-text-muted",children:s})]})]})});Tpe.displayName="FooterSummary";B.memo(W9e);function q9e(n,e,r,i){const s=a=>{const l=1-a;return 3*l*l*a*n+3*l*a*a*r+a*a*a},o=a=>{const l=1-a;return 3*l*l*a*e+3*l*a*a*i+a*a*a};return a=>{if(a<=0)return 0;if(a>=1)return 1;let l=0,c=1,u=.5;for(let d=0;d<12;d++){const h=s(u);if(Math.abs(h-a)<1e-4)break;h<a?l=u:c=u,u=(l+c)/2}return o(u)}}function H9e({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i=ape,height:s=ope,onPriceClick:o}){var H,U;const{asks:a,bids:l,spread:c,loading:u,error:d,isConnected:h,wsError:f}=I9({baseURL:n,subscriptionClient:e,marketId:r,maxDepth:i}),p=T.useRef(null),m=T.useRef(null),b=T.useRef(null),y=T.useRef(null),v=T.useRef(!1),w=T.useRef(null),_=T.useRef(null),x=T.useRef(!1),S=T.useRef(0),C=a.length>0?((H=a[a.length-1])==null?void 0:H.cumulative)??0:0,E=l.length>0?((U=l[l.length-1])==null?void 0:U.cumulative)??0:0,A=T.useMemo(()=>Math.max(C,E),[C,E]),M=Jk,I=Zk,O=T.useCallback(X=>A===0?0:X/A*100,[A]),F=T.useCallback((X,Y,ee)=>{if(v.current)return;v.current=!0;const G=ee,Z=Y-G,pe=300,re=performance.now(),le=re+pe,ce=q9e(.57,.4,.55,1.17),Pe=Ee=>{if(Ee>=le){X.scrollTop=Math.max(0,Y),v.current=!1,S.current=performance.now(),y.current&&(cancelAnimationFrame(y.current),y.current=null);return}const V=Ee-re,Ae=Math.min(V/pe,1),Qe=ce(Ae),st=G+Z*Qe;X.scrollTop=Math.max(0,st),y.current=requestAnimationFrame(Pe)};y.current=requestAnimationFrame(Pe)},[]),$=T.useCallback((X=0)=>{if(v.current||performance.now()-S.current<500||!p.current||!m.current)return;const G=p.current,pe=m.current.clientHeight;if(pe===0)return;const re=pe/2,le=20.83333;if(a.length*le<=re||c<=0||a.length===0||l.length===0)return;if(!b.current){if(X<3){_.current&&clearTimeout(_.current);const qe=50*(X+1);_.current=window.setTimeout(()=>{_.current=null,$(X+1)},qe)}return}const Pe=b.current,Ee=Pe.offsetTop,V=Pe.offsetHeight;if(V===0){if(X<3){_.current&&clearTimeout(_.current);const qe=50*(X+1);_.current=window.setTimeout(()=>{_.current=null,$(X+1)},qe)}return}const Ae=Ee+V/2,Qe=pe/2,st=Ae-Qe-le,ze=G.scrollTop;Math.abs(st-ze)>1&&F(G,Math.max(0,st),ze)},[a.length,c,F]);T.useEffect(()=>{const X=()=>{x.current&&(x.current=!1,$())};return window.addEventListener("mouseup",X),()=>{window.removeEventListener("mouseup",X)}},[$]),T.useEffect(()=>{if(!p.current||!m.current)return;const X=requestAnimationFrame(()=>{requestAnimationFrame(()=>{$()})});return()=>{cancelAnimationFrame(X),y.current&&(cancelAnimationFrame(y.current),y.current=null),w.current&&(clearTimeout(w.current),w.current=null),_.current&&(clearTimeout(_.current),_.current=null),v.current=!1}},[a.length,l.length,c,A,$]);const z=T.useCallback(()=>{v.current&&y.current&&(cancelAnimationFrame(y.current),y.current=null,v.current=!1),w.current&&(clearTimeout(w.current),w.current=null)},[]),R=T.useCallback(X=>{const Y=X.currentTarget,ee=Y.offsetWidth-Y.clientWidth;if(ee>0){const G=Y.getBoundingClientRect();X.clientX-G.left>Y.clientWidth-ee-5&&(x.current=!0,z())}},[z]),j=T.useCallback(()=>{x.current&&z()},[z]),N=T.useCallback(()=>{x.current&&(x.current=!1,$())},[$]),D=T.useCallback(()=>{z(),w.current&&clearTimeout(w.current),x.current||(w.current=window.setTimeout(()=>{w.current=null,$()},150))},[$,z]);return u?g.jsx(rb,{message:"Loading orderbook..."}):d?g.jsx(ib,{error:d}):g.jsxs("div",{className:"layout-container",style:{height:s},children:[f&&(a.length>0||l.length>0)&&g.jsxs("div",{className:"orderbook-ws-warning",children:[g.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),g.jsx("span",{className:"orderbook-ws-warning-text",children:f})]}),g.jsx(sb,{title:g.jsx(O9,{isConnected:h}),children:g.jsxs("div",{children:["Depth: ",i]})}),g.jsx("div",{className:"orderbook-content",ref:m,children:g.jsxs("div",{className:"orderbook-section",ref:p,onScroll:D,onMouseDown:R,onMouseMove:j,onMouseUp:N,onMouseLeave:N,children:[a.map((X,Y)=>{const ee=O(X.cumulative);return g.jsx(Epe,{level:X,index:Y,isLast:Y===a.length-1&&l.length===0,depthPercent:ee,formatPrice:M,formatSize:I,onPriceClick:o},`ask-${X.price}-${Y}`)}),c>0&&a.length>0&&l.length>0&&g.jsxs("div",{className:"orderbook-mid-price-spread",ref:b,children:["Spread: ",M(c)]}),l.map((X,Y)=>{const ee=O(X.cumulative);return g.jsx(Ape,{level:X,index:Y,isLast:Y===l.length-1,depthPercent:ee,formatPrice:M,formatSize:I,onPriceClick:o},`bid-${X.price}-${Y}`)}),a.length===0&&l.length===0&&g.jsx(nu,{message:"No orders"}),a.length===0&&l.length>0&&g.jsx(nu,{message:"No ask orders"}),l.length===0&&a.length>0&&g.jsx(nu,{message:"No bid orders"})]})}),g.jsx(Ppe,{totalBids:E,totalAsks:C})]})}const Ppe=B.memo(({totalBids:n,totalAsks:e})=>{const r=n+e,i=r>0?`${(n/r*100).toFixed(0)}%`:"0%",s=r>0?`${(e/r*100).toFixed(0)}%`:"0%";return g.jsxs("div",{className:"orderbook-footer",children:[g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar bid"}),g.jsx("span",{className:"color-text-muted",children:i})]}),g.jsxs("div",{className:"orderbook-footer-legend",children:[g.jsx("div",{className:"orderbook-footer-bar ask"}),g.jsx("span",{className:"color-text-muted",children:s})]})]})});Ppe.displayName="FooterSummary";const V9e=B.memo(H9e);function N9({top:n,left:e,width:r,height:i}){const s=`translate(${e}px,${n}px)`;return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:`${r}px`,height:`${i}px`,position:"absolute"}}function Ipe({top:n,left:e,width:r,height:i}){return{top:`${n}px`,left:`${e}px`,width:`${r}px`,height:`${i}px`,position:"absolute"}}function mq(n){return n*100+"%"}function G9e(n,e,r,i){return n+r>i?e:r}function Mpe(n,e,r){return n<0?e:r}function Y9e(n){return Math.max(0,n)}function e2(n){return Math.max(0,n)}var j9=(n,e,r)=>{const{left:i,height:s,width:o}=e,a=n.top-(s-n.height);return{left:i,width:o,height:Mpe(a,n.height,s),top:e2(a)}},B9=(n,e,r)=>{const{top:i,left:s,height:o,width:a}=e;return{top:i,height:o,width:G9e(n.left,n.width,a,r),left:Y9e(s)}},L9=(n,e,r)=>{const{top:i,height:s,width:o}=e,a=n.left+n.width-o;return a<0?{height:s,width:n.left+n.width,top:e2(i),left:0}:{height:s,width:o,top:e2(i),left:a}},F9=(n,e,r)=>{const{top:i,left:s,height:o,width:a}=e;return{width:a,left:s,height:Mpe(i,n.height,o),top:e2(i)}},K9e=(n,e,r)=>j9(n,B9(n,e,r)),X9e=(n,e,r)=>j9(n,L9(n,e)),Q9e=(n,e,r)=>F9(n,B9(n,e,r)),J9e=(n,e,r)=>F9(n,L9(n,e)),Z9e={n:j9,ne:K9e,e:B9,se:Q9e,s:F9,sw:J9e,w:L9,nw:X9e};function eBe(n,e,r,i){const s=Z9e[n];return s?s(e,{...e,...r},i):r}var Ope={type:"transform",scale:1,calcStyle(n){return N9(n)},calcDragPosition(n,e,r,i){return{left:n-r,top:e-i}}},tBe={type:"absolute",scale:1,calcStyle(n){return Ipe(n)},calcDragPosition(n,e,r,i){return{left:n-r,top:e-i}}};function nBe(n){return{type:"transform",scale:n,calcStyle(e){return N9(e)},calcDragPosition(e,r,i,s){return{left:(e-i)/n,top:(r-s)/n}}}}var rBe=Ope,iBe={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},sBe={enabled:!0,bounded:!1,threshold:3},oBe={enabled:!0,handles:["se"]},aBe={enabled:!1,defaultItem:{w:1,h:1}};function sE(n,e){return!(n.i===e.i||n.x+n.w<=e.x||n.x>=e.x+e.w||n.y+n.h<=e.y||n.y>=e.y+e.h)}function Ra(n,e){for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0&&sE(i,e))return i}}function Dpe(n,e){return n.filter(r=>sE(r,e))}function Rpe(n,e){return e==="horizontal"?jpe(n):e==="vertical"?Npe(n):[...n]}function Npe(n){return[...n].sort((e,r)=>e.y!==r.y?e.y-r.y:e.x-r.x)}function jpe(n){return[...n].sort((e,r)=>e.x!==r.x?e.x-r.x:e.y-r.y)}function ob(n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0){const s=i.y+i.h;s>e&&(e=s)}}return e}function zh(n,e){for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0&&i.i===e)return i}}function $9(n){return n.filter(e=>e.static===!0)}function nh(n){return{i:n.i,x:n.x,y:n.y,w:n.w,h:n.h,minW:n.minW,maxW:n.maxW,minH:n.minH,maxH:n.maxH,moved:!!n.moved,static:!!n.static,isDraggable:n.isDraggable,isResizable:n.isResizable,resizeHandles:n.resizeHandles,isBounded:n.isBounded}}function Ga(n){const e=new Array(n.length);for(let r=0;r<n.length;r++){const i=n[r];i!==void 0&&(e[r]=nh(i))}return e}function lBe(n,e){const r=new Array(n.length);for(let i=0;i<n.length;i++){const s=n[i];s!==void 0&&(e.i===s.i?r[i]=e:r[i]=s)}return r}function cBe(n,e,r){let i=zh(n,e);return i?(i=r(nh(i)),[lBe(n,i),i]):[[...n],null]}function z9(n,e){const r=$9(n);for(let i=0;i<n.length;i++){const s=n[i];if(s!==void 0)if(s.x+s.w>e.cols&&(s.x=e.cols-s.w),s.x<0&&(s.x=0,s.w=e.cols),!s.static)r.push(s);else for(;Ra(r,s);)s.y++}return n}function sf(n,e,r,i,s,o,a,l,c){if(e.static&&e.isDraggable!==!0)return[...n];if(e.y===i&&e.x===r)return[...n];const u=e.x,d=e.y;typeof r=="number"&&(e.x=r),typeof i=="number"&&(e.y=i),e.moved=!0;let h=Rpe(n,a);(a==="vertical"&&typeof i=="number"?d>=i:a==="horizontal"&&typeof r=="number"?u>=r:!1)&&(h=h.reverse());const p=Dpe(h,e),m=p.length>0;if(m&&c)return Ga(n);if(m&&o)return e.x=u,e.y=d,e.moved=!1,n;let b=[...n];for(let y=0;y<p.length;y++){const v=p[y];v!==void 0&&(v.moved||(v.static?b=gq(b,v,e,s,a):b=gq(b,e,v,s,a)))}return b}function gq(n,e,r,i,s,o){const a=s==="horizontal",l=s==="vertical",c=e.static;if(i){i=!1;const h={x:a?Math.max(e.x-r.w,0):r.x,y:l?Math.max(e.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},f=Ra(n,h),p=f!==void 0&&f.y+f.h>e.y,m=f!==void 0&&e.x+e.w>f.x;if(!f)return sf(n,r,a?h.x:void 0,l?h.y:void 0,i,c,s);if(p&&l)return sf(n,r,void 0,r.y+1,i,c,s);if(p&&s===null)return e.y=r.y,r.y=r.y+r.h,[...n];if(m&&a)return sf(n,e,r.x,void 0,i,c,s)}const u=a?r.x+1:void 0,d=l?r.y+1:void 0;return u===void 0&&d===void 0?[...n]:sf(n,r,u,d,i,c,s)}function uBe(n){return n.filter(e=>e.static)}var dBe={x:"w",y:"h"};function d4(n,e,r,i){const s=dBe[i];e[i]+=1;const o=n.findIndex(a=>a.i===e.i);for(let a=o+1;a<n.length;a++){const l=n[a];if(l!==void 0&&!l.static){if(l.y>e.y+e.h)break;sE(e,l)&&d4(n,l,r+e[s],i)}}e[i]=r}function hBe(n,e,r,i,s,o,a){const l=r==="vertical",c=r==="horizontal";if(l)for(typeof a=="number"?e.y=Math.min(a,e.y):e.y=Math.min(ob(n),e.y);e.y>0&&!Ra(n,e);)e.y--;else if(c)for(;e.x>0&&!Ra(n,e);)e.x--;let u;for(;(u=Ra(n,e))!==void 0&&!(r===null&&o);)if(c?d4(s,e,u.x+u.w,"x"):d4(s,e,u.y+u.h,"y"),c&&e.x+e.w>i)for(e.x=i-e.w,e.y++;e.x>0&&!Ra(n,e);)e.x--;return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function $c(n,e,r,i){const s=uBe(n);let o=ob(s);const a=Rpe(n,e),l=new Array(n.length);for(let c=0;c<a.length;c++){const u=a[c];if(u===void 0)continue;let d=nh(u);d.static||(d=hBe(s,d,e,r,a,i,o),o=Math.max(o,d.y+d.h),s.push(d));const h=n.indexOf(u);l[h]=d,d.moved=!1}return l}function U9(n,e,r,i){const s=i==="x"?"w":"h";e[i]+=1;const o=n.findIndex(a=>a.i===e.i);for(let a=o+1;a<n.length;a++){const l=n[a];if(l!==void 0&&!l.static){if(l.y>e.y+e.h)break;sE(e,l)&&U9(n,l,r+e[s],i)}}e[i]=r}function fBe(n,e,r,i){for(e.y=Math.min(i,e.y);e.y>0&&!Ra(n,e);)e.y--;let s;for(;(s=Ra(n,e))!==void 0;)U9(r,e,s.y+s.h,"y");return e.y=Math.max(e.y,0),e}function pBe(n,e,r,i){for(;e.x>0&&!Ra(n,e);)e.x--;let s;for(;(s=Ra(n,e))!==void 0;)if(U9(i,e,s.x+s.w,"x"),e.x+e.w>r)for(e.x=r-e.w,e.y++;e.x>0&&!Ra(n,e);)e.x--;return e.x=Math.max(e.x,0),e}var Bpe={type:"vertical",allowOverlap:!1,compact(n,e){const r=$9(n);let i=ob(r);const s=Npe(n),o=new Array(n.length);for(let a=0;a<s.length;a++){const l=s[a];if(l===void 0)continue;let c=nh(l);c.static||(c=fBe(r,c,s,i),i=Math.max(i,c.y+c.h),r.push(c));const u=n.indexOf(l);o[u]=c,c.moved=!1}return o},onMove(n,e,r,i,s){const o=Ga(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},Lpe={type:"horizontal",allowOverlap:!1,compact(n,e){const r=$9(n),i=jpe(n),s=new Array(n.length);for(let o=0;o<i.length;o++){const a=i[o];if(a===void 0)continue;let l=nh(a);l.static||(l=pBe(r,l,e,i),r.push(l));const c=n.indexOf(a);s[c]=l,l.moved=!1}return s},onMove(n,e,r,i,s){const o=Ga(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},bq={type:null,allowOverlap:!1,compact(n,e){return Ga(n)},onMove(n,e,r,i,s){const o=Ga(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},mBe={...Bpe,allowOverlap:!0,compact(n,e){return Ga(n)}},gBe={...Lpe,allowOverlap:!0,compact(n,e){return Ga(n)}};function W9(n,e=!1,r=!1){let i;return e?n==="vertical"?i=mBe:n==="horizontal"?i=gBe:i=bq:n==="vertical"?i=Bpe:n==="horizontal"?i=Lpe:i=bq,r?{...i,preventCollision:r}:i}function Fpe(n){return Object.keys(n).sort((r,i)=>n[r]-n[i])}function yq(n,e){const r=Fpe(n);let i=r[0];if(i===void 0)throw new Error("No breakpoints defined");for(let s=1;s<r.length;s++){const o=r[s];if(o===void 0)continue;const a=n[o];e>a&&(i=o)}return i}function vq(n,e){const r=e[n];if(r===void 0)throw new Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(n)} is missing!`);return r}function b3(n,e,r,i,s,o){const a=n[r];if(a)return Ga(a);let l=n[i];const c=Fpe(e),u=c.slice(c.indexOf(r));for(let h=0;h<u.length;h++){const f=u[h];if(f===void 0)continue;const p=n[f];if(p){l=p;break}}const d=Ga(l||[]);return $c(z9(d,{cols:s}),o,s)}function f_(n,e){if(Array.isArray(n))return n;const r=n,i=r[e];if(i!==void 0)return i;const s=Object.keys(r);for(const o of s){const a=r[o];if(a!==void 0)return a}return[10,10]}function oE(n){const{margin:e,containerPadding:r,containerWidth:i,cols:s}=n;return(i-e[0]*(s-1)-r[0]*2)/s}function t2(n,e,r){return Number.isFinite(n)?Math.round(e*n+Math.max(0,n-1)*r):n}function Ih(n,e,r,i,s,o,a){const{margin:l,containerPadding:c,rowHeight:u}=n,d=oE(n);let h,f,p,m;return a?(h=Math.round(a.width),f=Math.round(a.height)):(h=t2(i,d,l[0]),f=t2(s,u,l[1])),o?(p=Math.round(o.top),m=Math.round(o.left)):a?(p=Math.round(a.top),m=Math.round(a.left)):(p=Math.round((u+l[1])*r+c[1]),m=Math.round((d+l[0])*e+c[0])),{top:p,left:m,width:h,height:f}}function PS(n,e,r,i,s){const{margin:o,containerPadding:a,cols:l,rowHeight:c,maxRows:u}=n,d=oE(n);let h=Math.round((r-a[0])/(d+o[0])),f=Math.round((e-a[1])/(c+o[1]));return h=Ml(h,0,l-i),f=Ml(f,0,u-s),{x:h,y:f}}function bBe(n,e,r,i,s,o){const{margin:a,maxRows:l,cols:c,rowHeight:u}=n,d=oE(n),h=Math.round((e+a[0])/(d+a[0])),f=Math.round((r+a[1])/(u+a[1]));let p=Ml(h,0,c-i),m=Ml(f,0,l-s);return(o==="sw"||o==="w"||o==="nw")&&(p=Ml(h,0,c)),(o==="nw"||o==="n"||o==="ne")&&(m=Ml(f,0,l)),{w:p,h:m}}function Ml(n,e,r){return Math.max(Math.min(n,r),e)}var aE={exports:{}},$pe={},zpe={exports:{}},yBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vBe=yBe,wBe=vBe;function Upe(){}function Wpe(){}Wpe.resetWarningCache=Upe;var xBe=function(){function n(i,s,o,a,l,c){if(c!==wBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Wpe,resetWarningCache:Upe};return r.PropTypes=r,r};zpe.exports=xBe();var Cx=zpe.exports;const we=K2(Cx);var h4={exports:{}};function qpe(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=qpe(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function wq(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=qpe(n))&&(i&&(i+=" "),i+=e);return i}h4.exports=wq,h4.exports.clsx=wq;var _Be=h4.exports,Cr={},Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.dontSetMe=ABe;Ql.findInArray=SBe;Ql.int=EBe;Ql.isFunction=kBe;Ql.isNum=CBe;function SBe(n,e){for(let r=0,i=n.length;r<i;r++)if(e.apply(e,[n[r],r,n]))return n[r]}function kBe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function CBe(n){return typeof n=="number"&&!isNaN(n)}function EBe(n){return parseInt(n,10)}function ABe(n,e,r){if(n[e])return new Error(`Invalid prop ${e} passed to ${r} - do not set this, set it on the child.`)}var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.browserPrefixToKey=Vpe;Sp.browserPrefixToStyle=TBe;Sp.default=void 0;Sp.getPrefix=Hpe;const y3=["Moz","Webkit","O","ms"];function Hpe(){var r,i;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(i=(r=window.document)==null?void 0:r.documentElement)==null?void 0:i.style;if(!e||n in e)return"";for(let s=0;s<y3.length;s++)if(Vpe(n,y3[s])in e)return y3[s];return""}function Vpe(n,e){return e?`${e}${PBe(n)}`:n}function TBe(n,e){return e?`-${e.toLowerCase()}-${n}`:n}function PBe(n){let e="",r=!0;for(let i=0;i<n.length;i++)r?(e+=n[i].toUpperCase(),r=!1):n[i]==="-"?r=!0:e+=n[i];return e}Sp.default=Hpe();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.addClassName=Kpe;Cr.addEvent=MBe;Cr.addUserSelectStyles=UBe;Cr.createCSSTransform=LBe;Cr.createSVGTransform=FBe;Cr.getTouch=$Be;Cr.getTouchIdentifier=zBe;Cr.getTranslation=q9;Cr.innerHeight=NBe;Cr.innerWidth=jBe;Cr.matchesSelector=Ype;Cr.matchesSelectorAndParentsTo=IBe;Cr.offsetXYFromParent=BBe;Cr.outerHeight=DBe;Cr.outerWidth=RBe;Cr.removeClassName=Xpe;Cr.removeEvent=OBe;Cr.scheduleRemoveUserSelectStyles=WBe;var yo=Ql,xq=Gpe(Sp);function Gpe(n,e){if(typeof WeakMap=="function")var r=new WeakMap,i=new WeakMap;return(Gpe=function(s,o){if(!o&&s&&s.__esModule)return s;var a,l,c={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return c;if(a=o?i:r){if(a.has(s))return a.get(s);a.set(s,c)}for(const u in s)u!=="default"&&{}.hasOwnProperty.call(s,u)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,u))&&(l.get||l.set)?a(c,u,l):c[u]=s[u]);return c})(n,e)}let p_="";function Ype(n,e){return p_||(p_=(0,yo.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,yo.isFunction)(n[r])})),(0,yo.isFunction)(n[p_])?n[p_](e):!1}function IBe(n,e,r){let i=n;do{if(Ype(i,e))return!0;if(i===r)return!1;i=i.parentNode}while(i);return!1}function MBe(n,e,r,i){if(!n)return;const s={capture:!0,...i};n.addEventListener?n.addEventListener(e,r,s):n.attachEvent?n.attachEvent("on"+e,r):n["on"+e]=r}function OBe(n,e,r,i){if(!n)return;const s={capture:!0,...i};n.removeEventListener?n.removeEventListener(e,r,s):n.detachEvent?n.detachEvent("on"+e,r):n["on"+e]=null}function DBe(n){let e=n.clientHeight;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,yo.int)(r.borderTopWidth),e+=(0,yo.int)(r.borderBottomWidth),e}function RBe(n){let e=n.clientWidth;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,yo.int)(r.borderLeftWidth),e+=(0,yo.int)(r.borderRightWidth),e}function NBe(n){let e=n.clientHeight;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,yo.int)(r.paddingTop),e-=(0,yo.int)(r.paddingBottom),e}function jBe(n){let e=n.clientWidth;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,yo.int)(r.paddingLeft),e-=(0,yo.int)(r.paddingRight),e}function BBe(n,e,r){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(n.clientX+e.scrollLeft-s.left)/r,a=(n.clientY+e.scrollTop-s.top)/r;return{x:o,y:a}}function LBe(n,e){const r=q9(n,e,"px");return{[(0,xq.browserPrefixToKey)("transform",xq.default)]:r}}function FBe(n,e){return q9(n,e,"")}function q9(n,e,r){let{x:i,y:s}=n,o=`translate(${i}${r},${s}${r})`;if(e){const a=`${typeof e.x=="string"?e.x:e.x+r}`,l=`${typeof e.y=="string"?e.y:e.y+r}`;o=`translate(${a}, ${l})`+o}return o}function $Be(n,e){return n.targetTouches&&(0,yo.findInArray)(n.targetTouches,r=>e===r.identifier)||n.changedTouches&&(0,yo.findInArray)(n.changedTouches,r=>e===r.identifier)}function zBe(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function UBe(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&Kpe(n.body,"react-draggable-transparent-selection")}function WBe(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{_q(n)}):_q(n)}function _q(n){if(n)try{if(n.body&&Xpe(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Kpe(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(n.className+=` ${e}`)}function Xpe(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.canDragX=VBe;Jl.canDragY=GBe;Jl.createCoreData=KBe;Jl.createDraggableData=XBe;Jl.getBoundPosition=qBe;Jl.getControlPosition=YBe;Jl.snapToGrid=HBe;var eo=Ql,$m=Cr;function qBe(n,e,r){if(!n.props.bounds)return[e,r];let{bounds:i}=n.props;i=typeof i=="string"?i:QBe(i);const s=H9(n);if(typeof i=="string"){const{ownerDocument:o}=s,a=o.defaultView;let l;if(i==="parent"?l=s.parentNode:l=s.getRootNode().querySelector(i),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const c=l,u=a.getComputedStyle(s),d=a.getComputedStyle(c);i={left:-s.offsetLeft+(0,eo.int)(d.paddingLeft)+(0,eo.int)(u.marginLeft),top:-s.offsetTop+(0,eo.int)(d.paddingTop)+(0,eo.int)(u.marginTop),right:(0,$m.innerWidth)(c)-(0,$m.outerWidth)(s)-s.offsetLeft+(0,eo.int)(d.paddingRight)-(0,eo.int)(u.marginRight),bottom:(0,$m.innerHeight)(c)-(0,$m.outerHeight)(s)-s.offsetTop+(0,eo.int)(d.paddingBottom)-(0,eo.int)(u.marginBottom)}}return(0,eo.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,eo.isNum)(i.bottom)&&(r=Math.min(r,i.bottom)),(0,eo.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,eo.isNum)(i.top)&&(r=Math.max(r,i.top)),[e,r]}function HBe(n,e,r){const i=Math.round(e/n[0])*n[0],s=Math.round(r/n[1])*n[1];return[i,s]}function VBe(n){return n.props.axis==="both"||n.props.axis==="x"}function GBe(n){return n.props.axis==="both"||n.props.axis==="y"}function YBe(n,e,r){const i=typeof e=="number"?(0,$m.getTouch)(n,e):null;if(typeof e=="number"&&!i)return null;const s=H9(r),o=r.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,$m.offsetXYFromParent)(i||n,o,r.props.scale)}function KBe(n,e,r){const i=!(0,eo.isNum)(n.lastX),s=H9(n);return i?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:r,x:e,y:r}:{node:s,deltaX:e-n.lastX,deltaY:r-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:r}}function XBe(n,e){const r=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/r,y:n.state.y+e.deltaY/r,deltaX:e.deltaX/r,deltaY:e.deltaY/r,lastX:n.state.x,lastY:n.state.y}}function QBe(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function H9(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var lE={},cE={};Object.defineProperty(cE,"__esModule",{value:!0});cE.default=JBe;function JBe(){}Object.defineProperty(lE,"__esModule",{value:!0});lE.default=void 0;var v3=Qpe(T),Zi=V9(Cx),ZBe=V9(Ka),Li=Cr,Gu=Jl,w3=Ql,Vb=V9(cE);function V9(n){return n&&n.__esModule?n:{default:n}}function Qpe(n,e){if(typeof WeakMap=="function")var r=new WeakMap,i=new WeakMap;return(Qpe=function(s,o){if(!o&&s&&s.__esModule)return s;var a,l,c={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return c;if(a=o?i:r){if(a.has(s))return a.get(s);a.set(s,c)}for(const u in s)u!=="default"&&{}.hasOwnProperty.call(s,u)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,u))&&(l.get||l.set)?a(c,u,l):c[u]=s[u]);return c})(n,e)}function es(n,e,r){return(e=eLe(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function eLe(n){var e=tLe(n,"string");return typeof e=="symbol"?e:e+""}function tLe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const va={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Yu=va.mouse,uE=class extends v3.Component{constructor(){super(...arguments),es(this,"dragging",!1),es(this,"lastX",NaN),es(this,"lastY",NaN),es(this,"touchIdentifier",null),es(this,"mounted",!1),es(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=r;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,Li.matchesSelectorAndParentsTo)(e.target,this.props.handle,r)||this.props.cancel&&(0,Li.matchesSelectorAndParentsTo)(e.target,this.props.cancel,r))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const s=(0,Li.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Gu.getControlPosition)(e,s,this);if(o==null)return;const{x:a,y:l}=o,c=(0,Gu.createCoreData)(this,a,l);(0,Vb.default)("DraggableCore: handleDragStart: %j",c),(0,Vb.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Li.addUserSelectStyles)(i),this.dragging=!0,this.lastX=a,this.lastY=l,(0,Li.addEvent)(i,Yu.move,this.handleDrag),(0,Li.addEvent)(i,Yu.stop,this.handleDragStop))}),es(this,"handleDrag",e=>{const r=(0,Gu.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:i,y:s}=r;if(Array.isArray(this.props.grid)){let l=i-this.lastX,c=s-this.lastY;if([l,c]=(0,Gu.snapToGrid)(this.props.grid,l,c),!l&&!c)return;i=this.lastX+l,s=this.lastY+c}const o=(0,Gu.createCoreData)(this,i,s);if((0,Vb.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=i,this.lastY=s}),es(this,"handleDragStop",e=>{if(!this.dragging)return;const r=(0,Gu.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:i,y:s}=r;if(Array.isArray(this.props.grid)){let c=i-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Gu.snapToGrid)(this.props.grid,c,u),i=this.lastX+c,s=this.lastY+u}const o=(0,Gu.createCoreData)(this,i,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Li.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,Vb.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,Vb.default)("DraggableCore: Removing handlers"),(0,Li.removeEvent)(l.ownerDocument,Yu.move,this.handleDrag),(0,Li.removeEvent)(l.ownerDocument,Yu.stop,this.handleDragStop))}),es(this,"onMouseDown",e=>(Yu=va.mouse,this.handleDragStart(e))),es(this,"onMouseUp",e=>(Yu=va.mouse,this.handleDragStop(e))),es(this,"onTouchStart",e=>(Yu=va.touch,this.handleDragStart(e))),es(this,"onTouchEnd",e=>(Yu=va.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Li.addEvent)(e,va.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:r}=e;(0,Li.removeEvent)(r,va.mouse.move,this.handleDrag),(0,Li.removeEvent)(r,va.touch.move,this.handleDrag),(0,Li.removeEvent)(r,va.mouse.stop,this.handleDragStop),(0,Li.removeEvent)(r,va.touch.stop,this.handleDragStop),(0,Li.removeEvent)(e,va.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Li.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){var e,r,i;return(e=this.props)!=null&&e.nodeRef?(i=(r=this.props)==null?void 0:r.nodeRef)==null?void 0:i.current:ZBe.default.findDOMNode(this)}render(){return v3.cloneElement(v3.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};lE.default=uE;es(uE,"displayName","DraggableCore");es(uE,"propTypes",{allowAnyClick:Zi.default.bool,allowMobileScroll:Zi.default.bool,children:Zi.default.node.isRequired,disabled:Zi.default.bool,enableUserSelectHack:Zi.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Zi.default.arrayOf(Zi.default.number),handle:Zi.default.string,cancel:Zi.default.string,nodeRef:Zi.default.object,onStart:Zi.default.func,onDrag:Zi.default.func,onStop:Zi.default.func,onMouseDown:Zi.default.func,scale:Zi.default.number,className:w3.dontSetMe,style:w3.dontSetMe,transform:w3.dontSetMe});es(uE,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),n.default=void 0;var e=h(T),r=d(Cx),i=d(Ka),s=_Be,o=Cr,a=Jl,l=Ql,c=d(lE),u=d(cE);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,w){if(typeof WeakMap=="function")var _=new WeakMap,x=new WeakMap;return(h=function(S,C){if(!C&&S&&S.__esModule)return S;var E,A,M={__proto__:null,default:S};if(S===null||typeof S!="object"&&typeof S!="function")return M;if(E=C?x:_){if(E.has(S))return E.get(S);E.set(S,M)}for(const I in S)I!=="default"&&{}.hasOwnProperty.call(S,I)&&((A=(E=Object.defineProperty)&&Object.getOwnPropertyDescriptor(S,I))&&(A.get||A.set)?E(M,I,A):M[I]=S[I]);return M})(v,w)}function f(){return f=Object.assign?Object.assign.bind():function(v){for(var w=1;w<arguments.length;w++){var _=arguments[w];for(var x in _)({}).hasOwnProperty.call(_,x)&&(v[x]=_[x])}return v},f.apply(null,arguments)}function p(v,w,_){return(w=m(w))in v?Object.defineProperty(v,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[w]=_,v}function m(v){var w=b(v,"string");return typeof w=="symbol"?w:w+""}function b(v,w){if(typeof v!="object"||!v)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var x=_.call(v,w);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(v)}class y extends e.Component{static getDerivedStateFromProps(w,_){let{position:x}=w,{prevPropsPosition:S}=_;return x&&(!S||x.x!==S.x||x.y!==S.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:x,prevPropsPosition:S}),{x:x.x,y:x.y,prevPropsPosition:{...x}}):null}constructor(w){super(w),p(this,"onDragStart",(_,x)=>{if((0,u.default)("Draggable: onDragStart: %j",x),this.props.onStart(_,(0,a.createDraggableData)(this,x))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(_,x)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",x);const S=(0,a.createDraggableData)(this,x),C={x:S.x,y:S.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:M}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[I,O]=(0,a.getBoundPosition)(this,C.x,C.y);C.x=I,C.y=O,C.slackX=this.state.slackX+(A-C.x),C.slackY=this.state.slackY+(M-C.y),S.x=C.x,S.y=C.y,S.deltaX=C.x-this.state.x,S.deltaY=C.y-this.state.y}if(this.props.onDrag(_,S)===!1)return!1;this.setState(C)}),p(this,"onDragStop",(_,x)=>{if(!this.state.dragging||this.props.onStop(_,(0,a.createDraggableData)(this,x))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",x);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:M}=this.props.position;C.x=A,C.y=M}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var w,_;return((_=(w=this.props)==null?void 0:w.nodeRef)==null?void 0:_.current)??i.default.findDOMNode(this)}render(){const{axis:w,bounds:_,children:x,defaultPosition:S,defaultClassName:C,defaultClassNameDragging:E,defaultClassNameDragged:A,position:M,positionOffset:I,scale:O,...F}=this.props;let $={},z=null;const j=!!!M||this.state.dragging,N=M||S,D={x:(0,a.canDragX)(this)&&j?this.state.x:N.x,y:(0,a.canDragY)(this)&&j?this.state.y:N.y};this.state.isElementSVG?z=(0,o.createSVGTransform)(D,I):$=(0,o.createCSSTransform)(D,I);const H=(0,s.clsx)(x.props.className||"",C,{[E]:this.state.dragging,[A]:this.state.dragged});return e.createElement(c.default,f({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(x),{className:H,style:{...x.props.style,...$},transform:z}))}}n.default=y,p(y,"displayName","Draggable"),p(y,"propTypes",{...c.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(y,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})($pe);const{default:Jpe,DraggableCore:nLe}=$pe;aE.exports=Jpe;aE.exports.default=Jpe;var rLe=aE.exports.DraggableCore=nLe,iLe=aE.exports,G9={exports:{}},Ex={},Y9={};Y9.__esModule=!0;Y9.cloneElement=uLe;var sLe=oLe(T);function oLe(n){return n&&n.__esModule?n:{default:n}}function Sq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function kq(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sq(Object(r),!0).forEach(function(i){aLe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Sq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function aLe(n,e,r){return e=lLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function lLe(n){var e=cLe(n,"string");return typeof e=="symbol"?e:String(e)}function cLe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uLe(n,e){return e.style&&n.props.style&&(e.style=kq(kq({},n.props.style),e.style)),e.className&&n.props.className&&(e.className=n.props.className+" "+e.className),sLe.default.cloneElement(n,e)}var Ax={};Ax.__esModule=!0;Ax.resizableProps=void 0;var Zt=dLe(Cx);function dLe(n){return n&&n.__esModule?n:{default:n}}var hLe={axis:Zt.default.oneOf(["both","x","y","none"]),className:Zt.default.string,children:Zt.default.element.isRequired,draggableOpts:Zt.default.shape({allowAnyClick:Zt.default.bool,cancel:Zt.default.string,children:Zt.default.node,disabled:Zt.default.bool,enableUserSelectHack:Zt.default.bool,offsetParent:Zt.default.node,grid:Zt.default.arrayOf(Zt.default.number),handle:Zt.default.string,nodeRef:Zt.default.object,onStart:Zt.default.func,onDrag:Zt.default.func,onStop:Zt.default.func,onMouseDown:Zt.default.func,scale:Zt.default.number}),height:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=r[0];if(s.axis==="both"||s.axis==="y"){var o;return(o=Zt.default.number).isRequired.apply(o,r)}return Zt.default.number.apply(Zt.default,r)},handle:Zt.default.oneOfType([Zt.default.node,Zt.default.func]),handleSize:Zt.default.arrayOf(Zt.default.number),lockAspectRatio:Zt.default.bool,maxConstraints:Zt.default.arrayOf(Zt.default.number),minConstraints:Zt.default.arrayOf(Zt.default.number),onResizeStop:Zt.default.func,onResizeStart:Zt.default.func,onResize:Zt.default.func,resizeHandles:Zt.default.arrayOf(Zt.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Zt.default.number,width:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=r[0];if(s.axis==="both"||s.axis==="x"){var o;return(o=Zt.default.number).isRequired.apply(o,r)}return Zt.default.number.apply(Zt.default,r)}};Ax.resizableProps=hLe;Ex.__esModule=!0;Ex.default=void 0;var Gb=bLe(T),fLe=iLe,pLe=Y9,mLe=Ax,gLe=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Zpe(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Zpe=function(s){return s?r:e})(n)}function bLe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Zpe(e);if(r&&r.has(n))return r.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=s?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=n[o]}return i.default=n,r&&r.set(n,i),i}function f4(){return f4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},f4.apply(this,arguments)}function yLe(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function Cq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function x3(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(r),!0).forEach(function(i){vLe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Cq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function vLe(n,e,r){return e=wLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function wLe(n){var e=xLe(n,"string");return typeof e=="symbol"?e:String(e)}function xLe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _Le(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,p4(n,e)}function p4(n,e){return p4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},p4(n,e)}var K9=function(n){_Le(e,n);function e(){for(var i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o))||this,i.handleRefs={},i.lastHandleRect=null,i.slack=null,i}var r=e.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(s,o){var a=this.props,l=a.minConstraints,c=a.maxConstraints,u=a.lockAspectRatio;if(!l&&!c&&!u)return[s,o];if(u){var d=this.props.width/this.props.height,h=s-this.props.width,f=o-this.props.height;Math.abs(h)>Math.abs(f*d)?o=s/d:s=o*d}var p=s,m=o,b=this.slack||[0,0],y=b[0],v=b[1];return s+=y,o+=v,l&&(s=Math.max(l[0],s),o=Math.max(l[1],o)),c&&(s=Math.min(c[0],s),o=Math.min(c[1],o)),this.slack=[y+(p-s),v+(m-o)],[s,o]},r.resizeHandler=function(s,o){var a=this;return function(l,c){var u=c.node,d=c.deltaX,h=c.deltaY;s==="onResizeStart"&&a.resetData();var f=(a.props.axis==="both"||a.props.axis==="x")&&o!=="n"&&o!=="s",p=(a.props.axis==="both"||a.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!f&&!p)){var m=o[0],b=o[o.length-1],y=u.getBoundingClientRect();if(a.lastHandleRect!=null){if(b==="w"){var v=y.left-a.lastHandleRect.left;d+=v}if(m==="n"){var w=y.top-a.lastHandleRect.top;h+=w}}a.lastHandleRect=y,b==="w"&&(d=-d),m==="n"&&(h=-h);var _=a.props.width+(f?d/a.props.transformScale:0),x=a.props.height+(p?h/a.props.transformScale:0),S=a.runConstraints(_,x);_=S[0],x=S[1];var C=_!==a.props.width||x!==a.props.height,E=typeof a.props[s]=="function"?a.props[s]:null,A=s==="onResize"&&!C;E&&!A&&(l.persist==null||l.persist(),E(l,{node:u,size:{width:_,height:x},handle:o})),s==="onResizeStop"&&a.resetData()}}},r.renderResizeHandle=function(s,o){var a=this.props.handle;if(!a)return Gb.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+s,ref:o});if(typeof a=="function")return a(s,o);var l=typeof a.type=="string",c=x3({ref:o},l?{}:{handleAxis:s});return Gb.cloneElement(a,c)},r.render=function(){var s=this,o=this.props,a=o.children,l=o.className,c=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var u=o.resizeHandles;o.transformScale;var d=yLe(o,gLe);return(0,pLe.cloneElement)(a,x3(x3({},d),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(a.props.children,u.map(function(h){var f,p=(f=s.handleRefs[h])!=null?f:s.handleRefs[h]=Gb.createRef();return Gb.createElement(fLe.DraggableCore,f4({},c,{nodeRef:p,key:"resizableHandle-"+h,onStop:s.resizeHandler("onResizeStop",h),onStart:s.resizeHandler("onResizeStart",h),onDrag:s.resizeHandler("onResize",h)}),s.renderResizeHandle(h,p))}))}))},e}(Gb.Component);Ex.default=K9;K9.propTypes=mLe.resizableProps;K9.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var dE={};dE.__esModule=!0;dE.default=void 0;var _3=ALe(T),SLe=eme(Cx),kLe=eme(Ex),CLe=Ax,ELe=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function eme(n){return n&&n.__esModule?n:{default:n}}function tme(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(tme=function(s){return s?r:e})(n)}function ALe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=tme(e);if(r&&r.has(n))return r.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=s?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=n[o]}return i.default=n,r&&r.set(n,i),i}function m4(){return m4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},m4.apply(this,arguments)}function Eq(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function n2(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Eq(Object(r),!0).forEach(function(i){TLe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Eq(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function TLe(n,e,r){return e=PLe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function PLe(n){var e=ILe(n,"string");return typeof e=="symbol"?e:String(e)}function ILe(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MLe(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function OLe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,g4(n,e)}function g4(n,e){return g4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},g4(n,e)}var nme=function(n){OLe(e,n);function e(){for(var i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o))||this,i.state={width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height},i.onResize=function(l,c){var u=c.size;i.props.onResize?(l.persist==null||l.persist(),i.setState(u,function(){return i.props.onResize&&i.props.onResize(l,c)})):i.setState(u)},i}e.getDerivedStateFromProps=function(s,o){return o.propsWidth!==s.width||o.propsHeight!==s.height?{width:s.width,height:s.height,propsWidth:s.width,propsHeight:s.height}:null};var r=e.prototype;return r.render=function(){var s=this.props,o=s.handle,a=s.handleSize;s.onResize;var l=s.onResizeStart,c=s.onResizeStop,u=s.draggableOpts,d=s.minConstraints,h=s.maxConstraints,f=s.lockAspectRatio,p=s.axis;s.width,s.height;var m=s.resizeHandles,b=s.style,y=s.transformScale,v=MLe(s,ELe);return _3.createElement(kLe.default,{axis:p,draggableOpts:u,handle:o,handleSize:a,height:this.state.height,lockAspectRatio:f,maxConstraints:h,minConstraints:d,onResizeStart:l,onResize:this.onResize,onResizeStop:c,resizeHandles:m,transformScale:y,width:this.state.width},_3.createElement("div",m4({},v,{style:n2(n2({},b),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(_3.Component);dE.default=nme;nme.propTypes=n2(n2({},CLe.resizableProps),{},{children:SLe.default.element});G9.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var DLe=G9.exports.Resizable=Ex.default;G9.exports.ResizableBox=dE.default;function rme(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=rme(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function X9(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=rme(n))&&(i&&(i+=" "),i+=e);return i}function ime(n){return function(r,i,s,o,a,l,c){return n(r,i,c)}}function hE(n){return function(r,i,s,o){if(!r||!i||typeof r!="object"||typeof i!="object")return n(r,i,s,o);var a=o.get(r),l=o.get(i);if(a&&l)return a===i&&l===r;o.set(r,i),o.set(i,r);var c=n(r,i,s,o);return o.delete(r),o.delete(i),c}}function sme(n,e){var r={};for(var i in n)r[i]=n[i];for(var i in e)r[i]=e[i];return r}function Aq(n){return n.constructor===Object||n.constructor==null}function Tq(n){return typeof n.then=="function"}function fE(n,e){return n===e||n!==n&&e!==e}var RLe="[object Arguments]",NLe="[object Boolean]",jLe="[object Date]",BLe="[object RegExp]",LLe="[object Map]",FLe="[object Number]",$Le="[object Object]",zLe="[object Set]",ULe="[object String]",Pq=Object.prototype.toString;function pE(n){var e=n.areArraysEqual,r=n.areDatesEqual,i=n.areMapsEqual,s=n.areObjectsEqual,o=n.areRegExpsEqual,a=n.areSetsEqual,l=n.createIsNestedEqual,c=l(u);function u(d,h,f){if(d===h)return!0;if(!d||!h||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;if(Aq(d)&&Aq(h))return s(d,h,c,f);var p=Array.isArray(d),m=Array.isArray(h);if(p||m)return p===m&&e(d,h,c,f);var b=Pq.call(d);return b!==Pq.call(h)?!1:b===jLe?r(d,h,c,f):b===BLe?o(d,h,c,f):b===LLe?i(d,h,c,f):b===zLe?a(d,h,c,f):b===$Le||b===RLe?Tq(d)||Tq(h)?!1:s(d,h,c,f):b===NLe||b===FLe||b===ULe?fE(d.valueOf(),h.valueOf()):!1}return u}function ome(n,e,r,i){var s=n.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r(n[s],e[s],s,s,n,e,i))return!1;return!0}var WLe=hE(ome);function ame(n,e){return fE(n.valueOf(),e.valueOf())}function lme(n,e,r,i){var s=n.size===e.size;if(!s)return!1;if(!n.size)return!0;var o={},a=0;return n.forEach(function(l,c){if(s){var u=!1,d=0;e.forEach(function(h,f){!u&&!o[d]&&(u=r(c,f,a,d,n,e,i)&&r(l,h,c,f,n,e,i))&&(o[d]=!0),d++}),a++,s=u}}),s}var qLe=hE(lme),HLe="_owner",VLe=Object.prototype.hasOwnProperty;function cme(n,e,r,i){var s=Object.keys(n),o=s.length;if(Object.keys(e).length!==o)return!1;for(var a;o-- >0;){if(a=s[o],a===HLe){var l=!!n.$$typeof,c=!!e.$$typeof;if((l||c)&&l!==c)return!1}if(!VLe.call(e,a)||!r(n[a],e[a],a,a,n,e,i))return!1}return!0}var GLe=hE(cme);function ume(n,e){return n.source===e.source&&n.flags===e.flags}function dme(n,e,r,i){var s=n.size===e.size;if(!s)return!1;if(!n.size)return!0;var o={};return n.forEach(function(a,l){if(s){var c=!1,u=0;e.forEach(function(d,h){!c&&!o[u]&&(c=r(a,d,l,h,n,e,i))&&(o[u]=!0),u++}),s=c}}),s}var YLe=hE(dme),hme=Object.freeze({areArraysEqual:ome,areDatesEqual:ame,areMapsEqual:lme,areObjectsEqual:cme,areRegExpsEqual:ume,areSetsEqual:dme,createIsNestedEqual:ime}),fme=Object.freeze({areArraysEqual:WLe,areDatesEqual:ame,areMapsEqual:qLe,areObjectsEqual:GLe,areRegExpsEqual:ume,areSetsEqual:YLe,createIsNestedEqual:ime}),KLe=pE(hme);function dd(n,e){return KLe(n,e,void 0)}pE(sme(hme,{createIsNestedEqual:function(){return fE}}));pE(fme);pE(sme(fme,{createIsNestedEqual:function(){return fE}}));function Iq(n){const{children:e,cols:r,containerWidth:i,margin:s,containerPadding:o,rowHeight:a,maxRows:l,isDraggable:c,isResizable:u,isBounded:d,static:h,useCSSTransforms:f=!0,usePercentages:p=!1,transformScale:m=1,droppingPosition:b,className:y="",style:v,handle:w="",cancel:_="",x,y:S,w:C,h:E,minW:A=1,maxW:M=1/0,minH:I=1,maxH:O=1/0,i:F,resizeHandles:$,resizeHandle:z,onDragStart:R,onDrag:j,onDragStop:N,onResizeStart:D,onResize:H,onResizeStop:U}=n,[X,Y]=T.useState(!1),[ee,G]=T.useState(!1),Z=T.useRef(null),pe=T.useRef({left:0,top:0}),re=T.useRef({top:0,left:0,width:0,height:0}),le=T.useRef(void 0),ce=T.useMemo(()=>({cols:r,containerPadding:o,containerWidth:i,margin:s,maxRows:l,rowHeight:a}),[r,o,i,s,l,a]),Pe=T.useCallback(fe=>{if(f)return N9(fe);const K=Ipe(fe);return p?{...K,left:mq(fe.left/i),width:mq(fe.width/i)}:K},[f,p,i]),Ee=T.useCallback((fe,{node:K})=>{if(!R)return;const{offsetParent:he}=K;if(!he)return;const se=he.getBoundingClientRect(),ke=K.getBoundingClientRect(),Re=ke.left/m,de=se.left/m,_e=ke.top/m,Se=se.top/m,ae={left:Re-de+he.scrollLeft,top:_e-Se+he.scrollTop};pe.current=ae,Y(!0);const{x:ie,y:ue}=PS(ce,ae.top,ae.left,C,E);R(F,ie,ue,{e:fe,node:K,newPosition:ae})},[R,m,ce,C,E,F]),V=T.useCallback((fe,{node:K,deltaX:he,deltaY:se})=>{if(!j||!X)return;let ke=pe.current.top+se,Re=pe.current.left+he;if(d){const{offsetParent:ae}=K;if(ae){const ie=ae.clientHeight-t2(E,a,s[1]);ke=Ml(ke,0,ie);const ue=oE(ce),it=i-t2(C,ue,s[0]);Re=Ml(Re,0,it)}}const de={top:ke,left:Re};pe.current=de;const{x:_e,y:Se}=PS(ce,ke,Re,C,E);j(F,_e,Se,{e:fe,node:K,newPosition:de})},[j,X,d,E,a,s,ce,i,C,F]),Ae=T.useCallback((fe,{node:K})=>{if(!N||!X)return;const{left:he,top:se}=pe.current,ke={top:se,left:he};Y(!1),pe.current={left:0,top:0};const{x:Re,y:de}=PS(ce,se,he,C,E);N(F,Re,de,{e:fe,node:K,newPosition:ke})},[N,X,ce,C,E,F]),Qe=T.useCallback((fe,{node:K,size:he,handle:se},ke,Re)=>{const de=Re==="onResizeStart"?D:Re==="onResize"?H:U;if(!de)return;let _e;K?_e=eBe(se,ke,he,i):_e={...he,top:ke.top,left:ke.left},re.current=_e;let{w:Se,h:ae}=bBe(ce,_e.width,_e.height,x,S,se);Se=Ml(Se,Math.max(A,1),M),ae=Ml(ae,I,O),de(F,Se,ae,{e:fe.nativeEvent,node:K,size:_e,handle:se})},[D,H,U,i,ce,x,S,A,M,I,O,F]),st=T.useCallback((fe,K)=>{G(!0);const he=Ih(ce,x,S,C,E),se={...K,handle:K.handle};Qe(fe,se,he,"onResizeStart")},[Qe,ce,x,S,C,E]),ze=T.useCallback((fe,K)=>{const he=Ih(ce,x,S,C,E),se={...K,handle:K.handle};Qe(fe,se,he,"onResize")},[Qe,ce,x,S,C,E]),wt=T.useCallback((fe,K)=>{G(!1),re.current={top:0,left:0,width:0,height:0};const he=Ih(ce,x,S,C,E),se={...K,handle:K.handle};Qe(fe,se,he,"onResizeStop")},[Qe,ce,x,S,C,E]);T.useEffect(()=>{if(!b)return;const fe=Z.current;if(!fe)return;const K=le.current||{left:0,top:0},he=X&&(b.left!==K.left||b.top!==K.top);if(X){if(he){const se=b.left-pe.current.left,ke=b.top-pe.current.top,Re={node:fe,deltaX:se,deltaY:ke,lastX:pe.current.left,lastY:pe.current.top,x:b.left,y:b.top};V(b.e,Re)}}else{const se={node:fe,deltaX:b.left,deltaY:b.top,lastX:0,lastY:0,x:b.left,y:b.top};Ee(b.e,se)}le.current=b},[b,X,Ee,V]);const qe=Ih(ce,x,S,C,E,X?pe.current:null,ee?re.current:null),Je=B.Children.only(e),yt=Ih(ce,0,0,r,0).width,ct=Ih(ce,0,0,A,I),Ze=Ih(ce,0,0,M,O),Ve=[ct.width,ct.height],rt=[Math.min(Ze.width,yt),Math.min(Ze.height,1/0)],q=Je.props,te=q.className,ve=q.style;let me=B.cloneElement(Je,{ref:Z,className:X9("react-grid-item",te,y,{static:h,resizing:ee,"react-draggable":c,"react-draggable-dragging":X,dropping:!!b,cssTransforms:f}),style:{...v,...ve,...Pe(qe)}});const xe=z;return me=g.jsx(DLe,{draggableOpts:{disabled:!u},className:u?void 0:"react-resizable-hide",width:qe.width,height:qe.height,minConstraints:Ve,maxConstraints:rt,onResizeStart:st,onResize:ze,onResizeStop:wt,transformScale:m,resizeHandles:$,handle:xe,children:me}),me=g.jsx(rLe,{disabled:!c,onStart:Ee,onDrag:V,onStop:Ae,handle:w,cancel:".react-resizable-handle"+(_?","+_:""),scale:m,nodeRef:Z,children:me}),me}var fc=()=>{},Mq="react-grid-layout",pme=!1;try{pme=/firefox/i.test(navigator.userAgent)}catch{}function XLe(n,e){const r=B.Children.toArray(n),i=B.Children.toArray(e);if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++){const o=r[s],a=i[s];if((o==null?void 0:o.key)!==(a==null?void 0:a.key))return!1}return!0}function Oq(n,e,r,i,s){const o=[],a=new Set;B.Children.forEach(e,c=>{if(!B.isValidElement(c)||c.key===null)return;const u=String(c.key);a.add(u);const d=n.find(h=>h.i===u);if(d)o.push(nh(d));else{const f=c.props["data-grid"];f?o.push({i:u,x:f.x??0,y:f.y??0,w:f.w??1,h:f.h??1,minW:f.minW,maxW:f.maxW,minH:f.minH,maxH:f.maxH,static:f.static,isDraggable:f.isDraggable,isResizable:f.isResizable,resizeHandles:f.resizeHandles,isBounded:f.isBounded}):o.push({i:u,x:0,y:ob(o),w:1,h:1})}});const l=z9(o,{cols:r});return $c(l,i,r,s)}function QLe(n){const{children:e,width:r,gridConfig:i,dragConfig:s,resizeConfig:o,dropConfig:a,positionStrategy:l=rBe,compactor:c,layout:u=[],droppingItem:d,autoSize:h=!0,className:f="",style:p={},innerRef:m,onLayoutChange:b=fc,onDragStart:y=fc,onDrag:v=fc,onDragStop:w=fc,onResizeStart:_=fc,onResize:x=fc,onResizeStop:S=fc,onDrop:C=fc,onDropDragOver:E=fc}=n,A=T.useMemo(()=>({...iBe,...i}),[i]),M=T.useMemo(()=>({...sBe,...s}),[s]),I=T.useMemo(()=>({...oBe,...o}),[o]),O=T.useMemo(()=>({...aBe,...a}),[a]),{cols:F,rowHeight:$,maxRows:z,margin:R,containerPadding:j}=A,{enabled:N,bounded:D,handle:H,cancel:U}=M,{enabled:X,handles:Y,handleComponent:ee}=I,{enabled:G,defaultItem:Z}=O,pe=c??W9("vertical"),re=pe.type,le=pe.allowOverlap,ce=pe.preventCollision??!1,Pe=T.useMemo(()=>d??{i:"__dropping-elem__",...Z},[d,Z]),Ee=l.type==="transform",V=l.scale,Ae=j??R,[Qe,st]=T.useState(!1),[ze,wt]=T.useState(()=>Oq(u,e,F,re,le)),[qe,Je]=T.useState(null),[yt,ct]=T.useState(!1),[Ze,Ve]=T.useState(null),[rt,q]=T.useState(),te=T.useRef(null),ve=T.useRef(null),me=T.useRef(null),xe=T.useRef(0),fe=T.useRef(ze),K=T.useRef(u),he=T.useRef(e),se=T.useRef(re);T.useEffect(()=>{st(!0),dd(ze,u)||b(ze)},[]),T.useEffect(()=>{if(qe)return;const Ie=!dd(u,K.current),at=!XLe(e,he.current),Q=re!==se.current;if(Ie||at||Q){const Ce=Oq(Ie?u:ze,e,F,re,le);wt(Ce)}K.current=u,he.current=e,se.current=re},[u,e,F,re,le,qe,ze]),T.useEffect(()=>{!qe&&!dd(ze,fe.current)&&(fe.current=ze,b(ze))},[ze,qe,b]);const ke=T.useMemo(()=>{if(!h)return;const Ie=ob(ze),at=Ae[1];return Ie*$+(Ie-1)*R[1]+at*2+"px"},[h,ze,$,R,Ae]),Re=T.useCallback((Ie,at,Q,De)=>{const Ce=zh(ze,Ie);if(!Ce)return;const Me={w:Ce.w,h:Ce.h,x:Ce.x,y:Ce.y,i:Ie};te.current=nh(Ce),me.current=ze,Je(Me),y(ze,Ce,Ce,null,De.e,De.node)},[ze,y]),de=T.useCallback((Ie,at,Q,De)=>{const Ce=te.current,Me=zh(ze,Ie);if(!Me)return;const Oe={w:Me.w,h:Me.h,x:Me.x,y:Me.y,i:Ie},ut=sf(ze,Me,at,Q,!0,ce,re,F,le);v(ut,Ce,Me,Oe,De.e,De.node),wt(le?ut:$c(ut,re,F)),Je(Oe)},[ze,ce,re,F,le,v]),_e=T.useCallback((Ie,at,Q,De)=>{if(!qe)return;const Ce=te.current,Me=zh(ze,Ie);if(!Me)return;const Oe=sf(ze,Me,at,Q,!0,ce,re,F,le),ut=le?Oe:$c(Oe,re,F);w(ut,Ce,Me,null,De.e,De.node);const Mt=me.current;te.current=null,me.current=null,Je(null),wt(ut),Mt&&!dd(Mt,ut)&&b(ut)},[qe,ze,ce,re,F,le,w,b]),Se=T.useCallback((Ie,at,Q,De)=>{const Ce=zh(ze,Ie);Ce&&(ve.current=nh(Ce),me.current=ze,ct(!0),_(ze,Ce,Ce,null,De.e,De.node))},[ze,_]),ae=T.useCallback((Ie,at,Q,De)=>{const Ce=ve.current,{handle:Me}=De;let Oe=!1,ut,Mt;const[Tt,tt]=cBe(ze,Ie,on=>(ut=on.x,Mt=on.y,["sw","w","nw","n","ne"].includes(Me)&&(["sw","nw","w"].includes(Me)&&(ut=on.x+(on.w-at),at=on.x!==ut&&ut<0?on.w:at,ut=ut<0?0:ut),["ne","n","nw"].includes(Me)&&(Mt=on.y+(on.h-Q),Q=on.y!==Mt&&Mt<0?on.h:Q,Mt=Mt<0?0:Mt),Oe=!0),ce&&!le&&Dpe(ze,{...on,w:at,h:Q,x:ut??on.x,y:Mt??on.y}).filter(Ri=>Ri.i!==on.i).length>0&&(Mt=on.y,Q=on.h,ut=on.x,at=on.w,Oe=!1),on.w=at,on.h=Q,on));if(!tt)return;let rn=Tt;Oe&&ut!==void 0&&Mt!==void 0&&(rn=sf(Tt,tt,ut,Mt,!0,ce,re,F,le));const Qt={w:tt.w,h:tt.h,x:tt.x,y:tt.y,i:Ie,static:!0};x(rn,Ce,tt,Qt,De.e,De.node),wt(le?rn:$c(rn,re,F)),Je(Qt)},[ze,ce,le,re,F,x]),ie=T.useCallback((Ie,at,Q,De)=>{const Ce=ve.current,Me=zh(ze,Ie),Oe=le?ze:$c(ze,re,F);S(Oe,Ce,Me??null,null,De.e,De.node);const ut=me.current;ve.current=null,me.current=null,Je(null),ct(!1),wt(Oe),ut&&!dd(ut,Oe)&&b(Oe)},[ze,le,re,F,S,b]),ue=T.useCallback(()=>{const Ie=$c(ze.filter(at=>at.i!==Pe.i),re,F,le);wt(Ie),Ve(null),Je(null),q(void 0)},[ze,Pe.i,re,F,le]),it=T.useCallback(Ie=>{var ut;if(Ie.preventDefault(),Ie.stopPropagation(),pme&&!((ut=Ie.nativeEvent.target)!=null&&ut.classList.contains(Mq)))return!1;const at=E(Ie);if(at===!1)return Ze&&ue(),!1;const Q={...Pe,...at},De=Ie.currentTarget.getBoundingClientRect(),Ce=Ie.clientX-De.left,Me=Ie.clientY-De.top,Oe={left:Ce/V,top:Me/V,e:Ie.nativeEvent};if(Ze)rt&&(rt.left!==Ce||rt.top!==Me)&&q(Oe);else{const Tt=PS({cols:F,margin:R,maxRows:z,rowHeight:$,containerWidth:r,containerPadding:Ae},Me,Ce,Q.w,Q.h);Ve(g.jsx("div",{},Q.i)),q(Oe),wt([...ze,{...Q,x:Tt.x,y:Tt.y,static:!1,isDraggable:!0}])}},[Ze,rt,Pe,E,ue,V,F,R,z,$,r,Ae,ze]),Fe=T.useCallback(Ie=>{Ie.preventDefault(),Ie.stopPropagation(),xe.current--,xe.current===0&&ue()},[ue]),Ye=T.useCallback(Ie=>{Ie.preventDefault(),Ie.stopPropagation(),xe.current++},[]),Ne=T.useCallback(Ie=>{Ie.preventDefault(),Ie.stopPropagation();const at=ze.find(Q=>Q.i===Pe.i);xe.current=0,ue(),C(ze,at,Ie.nativeEvent)},[ze,Pe.i,ue,C]),Xe=T.useCallback((Ie,at)=>{if(!Ie||!Ie.key)return null;const Q=zh(ze,String(Ie.key));if(!Q)return null;const De=typeof Q.isDraggable=="boolean"?Q.isDraggable:!Q.static&&N,Ce=typeof Q.isResizable=="boolean"?Q.isResizable:!Q.static&&X,Me=Q.resizeHandles||[...Y],Oe=De&&D&&Q.isBounded!==!1,ut=ee;return g.jsx(Iq,{containerWidth:r,cols:F,margin:R,containerPadding:Ae,maxRows:z,rowHeight:$,cancel:U,handle:H,onDragStart:Re,onDrag:de,onDragStop:_e,onResizeStart:Se,onResize:ae,onResizeStop:ie,isDraggable:De,isResizable:Ce,isBounded:Oe,useCSSTransforms:Ee&&Qe,usePercentages:!Qe,transformScale:V,w:Q.w,h:Q.h,x:Q.x,y:Q.y,i:Q.i,minH:Q.minH,minW:Q.minW,maxH:Q.maxH,maxW:Q.maxW,static:Q.static,droppingPosition:at?rt:void 0,resizeHandles:Me,resizeHandle:ut,children:Ie},Q.i)},[ze,r,F,R,Ae,z,$,U,H,Re,de,_e,Se,ae,ie,N,X,D,Ee,Qe,V,rt,Y,ee]),ft=()=>qe?g.jsx(Iq,{w:qe.w,h:qe.h,x:qe.x,y:qe.y,i:qe.i,className:`react-grid-placeholder ${yt?"placeholder-resizing":""}`,containerWidth:r,cols:F,margin:R,containerPadding:Ae,maxRows:z,rowHeight:$,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:Ee,transformScale:V,children:g.jsx("div",{})}):null,Ge=X9(Mq,f),ot={height:ke,...p};return g.jsxs("div",{ref:m,className:Ge,style:ot,onDrop:G?Ne:void 0,onDragLeave:G?Fe:void 0,onDragEnter:G?Ye:void 0,onDragOver:G?it:void 0,children:[B.Children.map(e,Ie=>B.isValidElement(Ie)?Xe(Ie):null),G&&Ze&&Xe(Ze,!0),ft()]})}var JLe={lg:1200,md:996,sm:768,xs:480,xxs:0},ZLe={lg:12,md:10,sm:6,xs:4,xxs:2},S3=()=>{};function eFe(n,e,r,i,s){const o=[];B.Children.forEach(e,l=>{if(!B.isValidElement(l)||l.key===null)return;const c=String(l.key),u=n.find(d=>d.i===c);if(u)o.push({...u,i:c});else{const h=l.props["data-grid"];h?o.push({i:c,x:h.x??0,y:h.y??0,w:h.w??1,h:h.h??1,minW:h.minW,maxW:h.maxW,minH:h.minH,maxH:h.maxH,static:h.static,isDraggable:h.isDraggable,isResizable:h.isResizable,resizeHandles:h.resizeHandles,isBounded:h.isBounded}):o.push({i:c,x:0,y:ob(o),w:1,h:1})}});const a=z9(o,{cols:r});return $c(a,i,r,s)}function tFe(n){const{children:e,width:r,breakpoint:i,breakpoints:s=JLe,cols:o=ZLe,layouts:a={},rowHeight:l=150,maxRows:c=1/0,margin:u=[10,10],containerPadding:d=null,compactor:h,onBreakpointChange:f=S3,onLayoutChange:p=S3,onWidthChange:m=S3,...b}=n,y=h??W9("vertical"),v=y.type,w=y.allowOverlap,_=T.useMemo(()=>i??yq(s,r),[]),x=T.useMemo(()=>vq(_,o),[_,o]),S=T.useMemo(()=>b3(a,s,_,_,x,v),[]),[C,E]=T.useState(_),[A,M]=T.useState(x),[I,O]=T.useState(S),[F,$]=T.useState(a),z=T.useRef(r),R=T.useRef(i),j=T.useRef(s),N=T.useRef(o),D=T.useRef(a),H=T.useRef(v);T.useEffect(()=>{if(!dd(a,D.current)){const G=b3(a,s,C,C,A,v);O(G),$(a),D.current=a}},[a,s,C,A,v]),T.useEffect(()=>{if(v!==H.current){const G=$c(Ga(I),v,A,w),Z={...F,[C]:G};O(G),$(Z),p(G,Z),H.current=v}},[v,I,A,w,F,C,p]),T.useEffect(()=>{const G=r!==z.current,Z=i!==R.current,pe=!dd(s,j.current),re=!dd(o,N.current);if(G||Z||pe||re){const le=i??yq(s,r),ce=vq(le,o),Pe=C;if(Pe!==le||pe||re){const Ae={...F};Ae[Pe]||(Ae[Pe]=Ga(I));let Qe=b3(Ae,s,le,Pe,ce,v);Qe=eFe(Qe,e,ce,v,w),Ae[le]=Qe,E(le),M(ce),O(Qe),$(Ae),f(le,ce),p(Qe,Ae)}const Ee=f_(u,le),V=d?f_(d,le):null;m(r,Ee,ce,V),z.current=r,R.current=i,j.current=s,N.current=o}},[r,i,s,o,C,A,I,F,e,v,w,u,d,f,p,m]);const U=T.useCallback(G=>{const Z={...F,[C]:G};O(G),$(Z),p(G,Z)},[F,C,p]),X=T.useMemo(()=>f_(u,C),[u,C]),Y=T.useMemo(()=>d===null?null:f_(d,C),[d,C]),ee=T.useMemo(()=>({cols:A,rowHeight:l,maxRows:c,margin:X,containerPadding:Y}),[A,l,c,X,Y]);return g.jsx(QLe,{...b,width:r,gridConfig:ee,compactor:y,onLayoutChange:U,layout:I,children:e})}function mme(n){const{children:e,width:r,breakpoint:i,breakpoints:s,cols:o,layouts:a,onBreakpointChange:l,onLayoutChange:c,onWidthChange:u,rowHeight:d,maxRows:h,margin:f,containerPadding:p,droppingItem:m,compactType:b,preventCollision:y=!1,allowOverlap:v=!1,verticalCompact:w,isDraggable:_=!0,isBounded:x=!1,draggableHandle:S,draggableCancel:C,isResizable:E=!0,resizeHandles:A=["se"],resizeHandle:M,isDroppable:I=!1,useCSSTransforms:O=!0,transformScale:F=1,autoSize:$,className:z,style:R,innerRef:j,onDragStart:N,onDrag:D,onDragStop:H,onResizeStart:U,onResize:X,onResizeStop:Y,onDrop:ee,onDropDragOver:G}=n;let Z=b===void 0?"vertical":b;w===!1&&(Z=null);const pe={enabled:_,bounded:x,handle:S,cancel:C},re={enabled:E,handles:A,handleComponent:M},le={enabled:I};let ce;O?F!==1?ce=nBe(F):ce=Ope:ce=tBe;const Pe=W9(Z,v,y);return g.jsx(tFe,{width:r,breakpoint:i,breakpoints:s,cols:o,layouts:a,rowHeight:d,maxRows:h,margin:f,containerPadding:p,compactor:Pe,dragConfig:pe,resizeConfig:re,dropConfig:le,positionStrategy:ce,droppingItem:m,autoSize:$,className:z,style:R,innerRef:j,onBreakpointChange:l,onLayoutChange:c,onWidthChange:u,onDragStart:N,onDrag:D,onDragStop:H,onResizeStart:U,onResize:X,onResizeStop:Y,onDrop:ee,onDropDragOver:G,children:e})}mme.displayName="ResponsiveReactGridLayout";var nFe=mme,rFe="react-grid-layout";function iFe(n){function e(r){const{measureBeforeMount:i=!1,className:s,style:o,...a}=r,[l,c]=T.useState(1280),[u,d]=T.useState(!1),h=T.useRef(null),f=T.useRef(null);return T.useEffect(()=>{d(!0),f.current=new ResizeObserver(m=>{if(h.current instanceof HTMLElement&&m[0]){const y=m[0].contentRect.width;c(y)}});const p=h.current;return p instanceof HTMLElement&&f.current.observe(p),()=>{var m;p instanceof HTMLElement&&f.current&&f.current.unobserve(p),(m=f.current)==null||m.disconnect()}},[]),i&&!u?g.jsx("div",{className:X9(s,rFe),style:o,ref:h}):g.jsx(n,{innerRef:h,className:s,style:o,...a,width:l})}return e.displayName=`WidthProvider(${n.displayName||n.name||"Component"})`,e}const Zy=[[0,4,8,16],[8,4,2,16],[0,40,3,27],[0,20,3,20],[3,20,7,13],[3,33,7,8],[3,41,7,6],[3,47,2,16],[0,0,10,4]],sFe=[[0,4,8,16],[8,4,2,16],[9,20,3,27],[0,20,3,20],[3,20,6,13],[0,40,9,7],[3,33,6,7],[10,4,2,16],[0,0,12,4]],oFe=[[0,4,8,16],[8,4,2,16],[0,20,3,27],[10,4,2,20],[3,20,7,13],[3,33,9,7],[3,40,9,12],[0,47,3,19],[0,0,12,4]],aFe=[[0,48,8,16],[5,4,2,20],[3,4,2,20],[7,4,3,20],[0,24,10,12],[0,64,10,8],[0,36,10,12],[0,4,3,20],[0,0,10,4]],lFe=[[0,64,8,16],[5,4,2,20],[0,24,2,20],[7,4,3,20],[2,24,8,20],[0,80,10,8],[0,4,5,20],[0,44,3,20],[0,0,10,4]],Dq=0,cFe=8;function uFe(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():""}function dFe(n,e){return Math.floor(Math.random()*(e-n+1))+n}function hFe(n){const e=Math.ceil(Math.random()*4)+1;return{x:dFe(0,5)*2%12,y:Math.floor(n/6)*e,w:2,h:e,i:n.toString(),static:Math.random()<.05}}function fFe(n,e){const[r,i,s,o]=e;return{x:r,y:i,w:s,h:o,i:n.toString(),static:!0}}function ev(n,e){const r=n.length,i=[];for(let s=0;s<r;s++)s<n.length?i.push(fFe(s,n[s])):i.push(hFe(s));return i}function pFe(n,e){const r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r){const o=n[s],a=e[s];if(!o||!a){if(o!==a)return!1;continue}if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++){const c=o[l],u=a[l];if(c.x!==u.x||c.y!==u.y||c.w!==u.w||c.h!==u.h)return!1}}return!0}function k3(n,e){const r={};for(const i in n){const s=n[i];s&&(r[i]=s.map(o=>({...o,static:e})))}return r}const mFe=iFe(nFe),Y2=class Y2 extends B.Component{constructor(r){super(r);$e(this,"isUpdatingLayout",!1);$e(this,"domCache",null);$e(this,"lastLayoutKey","");$e(this,"handleResponsiveLayoutChange",(r,i)=>{const s=Array.isArray(r)?r:[r],o=i;this.onLayoutChange(s,o)});$e(this,"generateNewLayout",()=>{const r=ev(Zy),i=this.props.allStatic??this.state.allStatic,s=r.map(o=>({...o,static:i}));this.domCache=null,this.lastLayoutKey="",this.setState({layouts:{lg:s}})});this.state={currentBreakpoint:"lg",compactType:r.compactType??"vertical",mounted:!1,layouts:{lg:r.initialLayout||ev(Zy)},allStatic:r.allStatic??!0},this.onBreakpointChange=this.onBreakpointChange.bind(this),this.onCompactTypeChange=this.onCompactTypeChange.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.onNewLayout=this.onNewLayout.bind(this),this.onToggleStatic=this.onToggleStatic.bind(this)}componentDidMount(){this.setState({mounted:!0},()=>{this.props.onMount&&this.props.onMount()})}generateDOM(){const r=this.state.layouts.lg||[],{slotContent:i=[]}=this.props,s=this.props.allStatic??this.state.allStatic,o=`${r.length}-${s}-${i.length}`;if(this.domCache&&this.lastLayoutKey===o)return this.domCache;const a=[];for(let l=0;l<r.length;l++){const c=r[l],u=l>=Dq&&l<=cFe,d=l-Dq,h=u&&i[d]?i[d]:null,f=c.static??s;a.push(g.jsx("div",{className:f?"static":"",children:h?g.jsx("div",{className:"external-slot-content",children:h}):f?g.jsxs("span",{className:"text",title:"This item is static and cannot be removed or resized.",children:["Static - ",l]}):g.jsx("span",{className:"text",children:l})},c.i||l.toString()))}return this.domCache=a,this.lastLayoutKey=o,a}onBreakpointChange(r){this.setState({currentBreakpoint:r})}onCompactTypeChange(){if(this.props.onCompactTypeChange)this.props.onCompactTypeChange();else{const{compactType:r}=this.state,i=r==="horizontal"?"vertical":r==="vertical"?null:"horizontal";this.setState({compactType:i})}}onLayoutChange(r,i){if(this.isUpdatingLayout){this.props.onLayoutChange(r,i);return}const s=this.props.allStatic??this.state.allStatic;if(s){this.props.onLayoutChange(r,i);return}const o=k3(i,s);!pFe(this.state.layouts,o)&&(this.domCache=null,this.lastLayoutKey="",this.isUpdatingLayout=!0,this.setState({layouts:o},()=>{this.isUpdatingLayout=!1})),this.props.onLayoutChange(r,o)}onNewLayout(){this.props.onNewLayout?this.props.onNewLayout():this.generateNewLayout()}onToggleStatic(){if(this.props.onToggleStatic)this.props.onToggleStatic();else{const r=!this.state.allStatic,i=k3(this.state.layouts,r);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:r,layouts:i})}}componentDidUpdate(r){if(r.compactType!==this.props.compactType&&this.props.compactType!==void 0&&this.setState({compactType:this.props.compactType}),r.allStatic!==this.props.allStatic&&this.props.allStatic!==void 0){const i=k3(this.state.layouts,this.props.allStatic);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:this.props.allStatic,layouts:i})}r.slotContent!==this.props.slotContent&&(this.domCache=null,this.lastLayoutKey="")}render(){const{cols:r}=this.props,i=r||Y2.defaultProps.cols||{},s=this.props.compactType??this.state.compactType;return g.jsxs("div",{children:[g.jsxs("div",{children:["Current Breakpoint: ",this.state.currentBreakpoint," (",i[this.state.currentBreakpoint]," columns)"]}),g.jsxs("div",{children:["Compaction type: ",uFe(s)||"No Compaction"]}),g.jsx(mFe,{...this.props,layouts:this.state.layouts,onBreakpointChange:this.onBreakpointChange,onLayoutChange:this.handleResponsiveLayoutChange,measureBeforeMount:!1,useCSSTransforms:this.state.mounted,compactType:s,preventCollision:!s,children:this.generateDOM()})]})}};$e(Y2,"defaultProps",{className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},initialLayout:ev(Zy)});let b4=Y2;function qn(n){var e=n.width,r=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(r<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:r}}function Mf(n,e){return n.width===e.width&&n.height===e.height}var gFe=function(){function n(e){var r=this;this._resolutionListener=function(){return r._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var r=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){r._observers=r._observers.filter(function(s){return s!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(r){return r.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function bFe(n){return new gFe(n)}var yFe=function(){function n(e,r,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=qn({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=r??function(o){return o},this._allowResizeObserver=(s=i==null?void 0:i.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,r;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(r=this._devicePixelRatioObservable)===null||r===void 0||r.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return qn({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=qn(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(r){return r!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(r){return r!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var r=this.bitmapSize;Mf(r,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(r,e))},n.prototype._emitBitmapSizeChanged=function(e,r){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,r)})},n.prototype._suggestNewBitmapSize=function(e){var r=this._suggestedBitmapSize,i=qn(this._transformBitmapSize(e,this._canvasElementClientSize)),s=Mf(this.bitmapSize,i)?null:i;r===null&&s===null||r!==null&&s!==null&&Mf(r,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(r,s))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,r){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,r)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}wFe().then(function(r){return r?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var r=Rq(this._canvasElement);if(r===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=bFe(r),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,r;if(this._canvasElement!==null){var i=Rq(this._canvasElement);if(i!==null){var s=(r=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&r!==void 0?r:i.devicePixelRatio,o=this._canvasElement.getClientRects(),a=o[0]!==void 0?xFe(o[0],s):qn({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(a)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(r){var i=r.find(function(a){return a.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var s=i.devicePixelContentBoxSize[0],o=qn({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(o)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function vFe(n,e){return new yFe(n,e.transform,e.options)}function Rq(n){return n.ownerDocument.defaultView}function wFe(){return new Promise(function(n){var e=new ResizeObserver(function(r){n(r.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function xFe(n,e){return qn({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var _Fe=function(){function n(e,r,i){if(r.width===0||r.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=r,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function ep(n,e){var r=n.canvasElementClientSize;if(r.width===0||r.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var s=n.canvasElement.getContext("2d",e);return s===null?null:new _Fe(s,r,i)}/*!
 * @license
 * TradingView Lightweight Charts v5.0.9
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const gme={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Nq,jq;function v0(n,e){const r={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(r)}function bme(n,e,r,i){n.beginPath();const s=n.lineWidth%2?.5:0;n.moveTo(r,e+s),n.lineTo(i,e+s),n.stroke()}function _i(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function Us(n){if(n===void 0)throw new Error("Value is undefined");return n}function gt(n){if(n===null)throw new Error("Value is null");return n}function Pd(n){return gt(Us(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(Nq||(Nq={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(jq||(jq={}));let Br=class{constructor(){this.t=[]}i(e,r,i){const s={h:e,l:r,o:i===!0};this.t.push(s)}_(e){const r=this.t.findIndex(i=>e===i.h);r>-1&&this.t.splice(r,1)}u(e){this.t=this.t.filter(r=>r.l!==e)}p(e,r,i){const s=[...this.t];this.t=this.t.filter(o=>!o.o),s.forEach(o=>o.h(e,r,i))}v(){return this.t.length>0}m(){this.t=[]}};function vo(n,...e){for(const r of e)for(const i in r)r[i]!==void 0&&Object.prototype.hasOwnProperty.call(r,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof r[i]!="object"||n[i]===void 0||Array.isArray(r[i])?n[i]=r[i]:vo(n[i],r[i]));return n}function w0(n){return typeof n=="number"&&isFinite(n)}function gw(n){return typeof n=="number"&&n%1==0}function Tx(n){return typeof n=="string"}function m_(n){return typeof n=="boolean"}function Hc(n){const e=n;if(!e||typeof e!="object")return e;let r,i,s;for(i in r=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(s=e[i],r[i]=s&&typeof s=="object"?Hc(s):s);return r}function SFe(n){return n!==null}function kFe(n){return n===null?void 0:n}const yme="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function r2(n,e,r){return e===void 0&&(e=yme),`${r=r!==void 0?`${r} `:""}${n}px ${e}`}let CFe=class{constructor(e){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=e}N(){const e=this.M,r=this.F(),i=this.W();return e.P===r&&e.T===i||(e.P=r,e.T=i,e.k=r2(r,i),e.A=2.5/12*r,e.V=e.A,e.B=r/12*e.C,e.I=r/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function C3(n){return n<0?0:n>255?255:Math.round(n)||0}function Bq(n){return .199*n[0]+.687*n[1]+.114*n[2]}let EFe=class{constructor(e,r){this.q=new Map,this.Y=e,r&&(this.q=r)}j(e,r){if(e==="transparent")return e;const i=this.K(e),s=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${r*s})`}X(e){const r=this.K(e);return{Z:`rgb(${r[0]}, ${r[1]}, ${r[2]})`,G:Bq(r)>160?"black":"white"}}J(e){return Bq(this.K(e))}tt(e,r,i){const[s,o,a,l]=this.K(e),[c,u,d,h]=this.K(r),f=[C3(s+i*(c-s)),C3(o+i*(u-o)),C3(a+i*(d-a)),(p=l+i*(h-l),p<=0||p>1?Math.min(Math.max(p,0),1):Math.round(1e4*p)/1e4)];var p;return`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${f[3]})`}K(e){const r=this.q.get(e);if(r)return r;const i=function(a){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=a;const c=window.getComputedStyle(l).color;return document.body.removeChild(l),c}(e),s=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!s){if(this.Y.length)for(const a of this.Y){const l=a(e);if(l)return this.q.set(e,l),l}throw new Error(`Failed to parse color: ${e}`)}const o=[parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),s[4]?parseFloat(s[4]):1];return this.q.set(e,o),o}},AFe=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,r,i){this.it.forEach(s=>{s.nt(e,r,i)})}};class Px{nt(e,r,i){e.useBitmapCoordinateSpace(s=>this.et(s,r,i))}}let TFe=class extends Px{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const s=this.rt.lt,o=this.rt,a=Math.max(1,Math.floor(r))%2/2,l=c=>{e.beginPath();for(let u=s.to-1;u>=s.from;--u){const d=o.ot[u],h=Math.round(d._t*r)+a,f=d.ut*i,p=c*i+a;e.moveTo(h,f),e.arc(h,f,p,0,2*Math.PI)}e.fill()};o.ct>0&&(e.fillStyle=o.dt,l(o.ft+o.ct)),e.fillStyle=o.vt,l(o.ft)}};function PFe(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const IFe={from:0,to:1};let MFe=class{constructor(e,r,i){this.Mt=new AFe,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=r,this.Pt=i,this.Mt.st(this.bt)}yt(e){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const e=this.Pt.Dt();e.length!==this.bt.length&&(this.St=e.map(PFe),this.bt=this.St.map(r=>{const i=new TFe;return i.ht(r),i}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.Vt(),r=this.Pt.Bt(),i=this.Ct.It(),s=this.O.Et();this.kt(),r.forEach((o,a)=>{const l=this.St[a],c=o.At(i),u=o.zt();!e&&c!==null&&o.Vt()&&u!==null?(l.vt=c.Lt,l.ft=c.ft,l.ct=c.Ot,l.ot[0].gt=c.gt,l.ot[0].ut=o.Ft().Nt(c.gt,u.Wt),l.dt=c.Ht??this.O.Ut(l.ot[0].ut/o.Ft().$t()),l.ot[0].wt=i,l.ot[0]._t=s.qt(i),l.lt=IFe):l.lt=null})}},OFe=class extends Px{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null)return;const o=this.Yt.jt.Vt,a=this.Yt.Kt.Vt;if(!o&&!a)return;const l=Math.round(this.Yt._t*i),c=Math.round(this.Yt.ut*s);e.lineCap="butt",o&&l>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*i),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,v0(e,this.Yt.jt.Xt),function(u,d,h,f){u.beginPath();const p=u.lineWidth%2?.5:0;u.moveTo(d+p,h),u.lineTo(d+p,f),u.stroke()}(e,l,0,r.height)),a&&c>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*s),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,v0(e,this.Yt.Kt.Xt),bme(e,c,0,r.width))}},DFe=class{constructor(e,r){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new OFe(this.Zt),this.Jt=e,this.Pt=r}yt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),r=this.Pt.Qt().N().crosshair,i=this.Zt;if(r.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=e&&this.Jt.ti(this.Pt),i.jt.Vt=e&&this.Jt.ii(),i.Kt.ct=r.horzLine.width,i.Kt.Xt=r.horzLine.style,i.Kt.R=r.horzLine.color,i.jt.ct=r.vertLine.width,i.jt.Xt=r.vertLine.style,i.jt.R=r.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}};function mE(n,e,r,i,s,o){n.save(),n.globalCompositeOperation="copy",n.fillStyle=o,n.fillRect(e,r,i,s),n.restore()}function Lq(n,e,r,i,s,o){n.beginPath(),n.roundRect?n.roundRect(e,r,i,s,o):(n.lineTo(e+i-o[1],r),o[1]!==0&&n.arcTo(e+i,r,e+i,r+o[1],o[1]),n.lineTo(e+i,r+s-o[2]),o[2]!==0&&n.arcTo(e+i,r+s,e+i-o[2],r+s,o[2]),n.lineTo(e+o[3],r+s),o[3]!==0&&n.arcTo(e,r+s,e,r+s-o[3],o[3]),n.lineTo(e,r+o[0]),o[0]!==0&&n.arcTo(e,r,e+o[0],r,o[0]))}function Fq(n,e,r,i,s,o,a=0,l=[0,0,0,0],c=""){if(n.save(),!a||!c||c===o)return Lq(n,e,r,i,s,l),n.fillStyle=o,n.fill(),void n.restore();const u=a/2;var d;Lq(n,e+u,r+u,i-a,s-a,(d=-u,l.map(h=>h===0?h:h+d))),o!=="transparent"&&(n.fillStyle=o,n.fill()),c!=="transparent"&&(n.lineWidth=a,n.strokeStyle=c,n.closePath(),n.stroke()),n.restore()}function vme(n,e,r,i,s,o,a){n.save(),n.globalCompositeOperation="copy";const l=n.createLinearGradient(0,0,0,s);l.addColorStop(0,o),l.addColorStop(1,a),n.fillStyle=l,n.fillRect(e,r,i,s),n.restore()}class $q{constructor(e,r){this.ht(e,r)}ht(e,r){this.Yt=e,this.ei=r}$t(e,r){return this.Yt.Vt?e.P+e.A+e.V:0}nt(e,r,i,s){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const o=this.Yt.R,a=this.ei.Z,l=e.useBitmapCoordinateSpace(c=>{const u=c.context;u.font=r.k;const d=this.hi(c,r,i,s),h=d.ai;return d.li?Fq(u,h.oi,h._i,h.ui,h.ci,a,h.di,[h.ft,0,0,h.ft],a):Fq(u,h.fi,h._i,h.ui,h.ci,a,h.di,[0,h.ft,h.ft,0],a),this.Yt.pi&&(u.fillStyle=o,u.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.Yt.Mi&&(u.fillStyle=r.D,u.fillRect(d.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),d});e.useMediaCoordinateSpace(({context:c})=>{const u=l.xi;c.font=r.k,c.textAlign=l.li?"right":"left",c.textBaseline="middle",c.fillStyle=o,c.fillText(this.Yt.ri,u.Ci,(u._i+u.Si)/2+u.Pi)})}hi(e,r,i,s){const{context:o,bitmapSize:a,mediaSize:l,horizontalPixelRatio:c,verticalPixelRatio:u}=e,d=this.Yt.pi||!this.Yt.yi?r.C:0,h=this.Yt.ki?r.S:0,f=r.A+this.ei.Ti,p=r.V+this.ei.Ri,m=r.B,b=r.I,y=this.Yt.ri,v=r.P,w=i.Di(o,y),_=Math.ceil(i.Vi(o,y)),x=v+f+p,S=r.S+m+b+_+d,C=Math.max(1,Math.floor(u));let E=Math.round(x*u);E%2!=C%2&&(E+=1);const A=h>0?Math.max(1,Math.floor(h*c)):0,M=Math.round(S*c),I=Math.round(d*c),O=this.ei.Bi??this.ei.Ii,F=Math.round(O*u)-Math.floor(.5*u),$=Math.floor(F+C/2-E/2),z=$+E,R=s==="right",j=R?l.width-h:h,N=R?a.width-A:A;let D,H,U;return R?(D=N-M,H=N-I,U=j-d-m-h):(D=N+M,H=N+I,U=j+d+m),{li:R,ai:{_i:$,mi:F,Si:z,ui:M,ci:E,ft:2*c,di:A,oi:D,fi:N,wi:H,gi:C,bi:a.width},xi:{_i:$/u,Si:z/u,Ci:U,Pi:w}}}}class gE{constructor(e){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(e||$q)(this.Ai,this.Ei),this.Oi=new(e||$q)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(e,r=!1){return Math.max(this.Li.$t(e,r),this.Oi.$t(e,r))}Fi(){return this.Ei.Bi||0}Wi(e){this.Ei.Bi=e}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(e){return this.Ni(),this.Ai.pi=this.Ai.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class RFe extends gE{constructor(e,r,i){super(),this.Jt=e,this.Yi=r,this.ji=i}qi(e,r,i){if(e.Vt=!1,this.Jt.N().mode===2)return;const s=this.Jt.N().horzLine;if(!s.labelVisible)return;const o=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||o===null)return;const a=this.Yi.Xi().X(s.labelBackgroundColor);i.Z=a.Z,e.R=a.G;const l=2/12*this.Yi.P();i.Ti=l,i.Ri=l;const c=this.ji(this.Yi);i.Ii=c.Ii,e.ri=this.Yi.Zi(c.gt,o),e.Vt=!0}}const NFe=/[1-9]/g;let wme=class{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,r){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=e.useMediaCoordinateSpace(({context:f})=>(f.font=r.k,Math.round(r.Gi.Vi(f,gt(this.Yt).ri,NFe))));if(i<=0)return;const s=r.Ji,o=i+2*s,a=o/2,l=this.Yt.Qi;let c=this.Yt.Ii,u=Math.floor(c-a)+.5;u<0?(c+=Math.abs(0-u),u=Math.floor(c-a)+.5):u+o>l&&(c-=Math.abs(l-(u+o)),u=Math.floor(c-a)+.5);const d=u+o,h=Math.ceil(0+r.S+r.C+r.A+r.P+r.V);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:m})=>{const b=gt(this.Yt);f.fillStyle=b.Z;const y=Math.round(u*p),v=Math.round(0*m),w=Math.round(d*p),_=Math.round(h*m),x=Math.round(2*p);if(f.beginPath(),f.moveTo(y,v),f.lineTo(y,_-x),f.arcTo(y,_,y+x,_,x),f.lineTo(w-x,_),f.arcTo(w,_,w,_-x,x),f.lineTo(w,v),f.fill(),b.pi){const S=Math.round(b.Ii*p),C=v,E=Math.round((C+r.C)*m);f.fillStyle=b.R;const A=Math.max(1,Math.floor(p)),M=Math.floor(.5*p);f.fillRect(S-M,C,A,E-C)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=gt(this.Yt),m=0+r.S+r.C+r.A+r.P/2;f.font=r.k,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.R;const b=r.Gi.Di(f,"Apr0");f.translate(u+s,m+b),f.fillText(p.ri,0,0)})}};class jFe{constructor(e,r,i){this.xt=!0,this.Gt=new wme,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=e,this.ts=r,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,this.Ct.N().mode===2)return;const r=this.Ct.N().vertLine;if(!r.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;e.Qi=i.Qi();const s=this.ji();if(s===null)return;e.Ii=s.Ii;const o=i.ss(this.Ct.It());e.ri=i.ns(gt(o)),e.Vt=!0;const a=this.ts.Xi().X(r.labelBackgroundColor);e.Z=a.Z,e.R=a.G,e.pi=i.N().ticksVisible}}let xme=class{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Ft(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}};var zq;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(zq||(zq={}));class BFe extends xme{constructor(e,r){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.Ps=r,this.ys=((s,o)=>a=>{const l=o(),c=s();if(a===gt(this.Pt).ks())return{gt:c,Ii:l};{const u=gt(a.zt());return{gt:a.Ts(l,u),Ii:l}}})(()=>this.ds,()=>this.Ss);const i=((s,o)=>()=>{const a=this.ts.Et().Rs(s()),l=o();return a&&Number.isFinite(l)?{wt:a,Ii:l}:null})(()=>this.fs,()=>this.si());this.Ds=new jFe(this,e,i)}N(){return this.Ps}Vs(e,r){this.xs=e,this.Cs=r}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(e,r,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,r,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(e){let r=this.gs.get(e);r||(r=new DFe(this,e),this.gs.set(e,r));let i=this.Ms.get(e);return i||(i=new MFe(this.ts,this,e),this.Ms.set(e,i)),[r,i]}ti(e){return e===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(e,r){this.ps&&this.Pt===e||this.vs.clear();const i=[];return this.Pt===e&&i.push(this.Hs(this.vs,r,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(e=>{var r,i;(r=this.gs.get(e))==null||r.yt(),(i=this.Ms.get(e))==null||i.yt()}),this.vs.forEach(e=>e.yt()),this.Ds.yt()}qs(e){return e&&!e.ks().Ki()?e.ks():null}zs(e,r,i){this.Ys(e,r,i)&&this.Ns()}Ys(e,r,i){const s=this.bs,o=this.Ss,a=this.ds,l=this.fs,c=this.Pt,u=this.qs(i);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.Et().qt(e),this.Pt=i;const d=u!==null?u.zt():null;return u!==null&&d!==null?(this.ds=r,this.Ss=u.Nt(r,d)):(this.ds=NaN,this.Ss=NaN),s!==this.bs||o!==this.Ss||l!==this.fs||a!==this.ds||c!==this.Pt}Os(){const e=this.ts.js().map(i=>i.Xs().Ks()).filter(SFe),r=e.length===0?null:Math.max(...e);this.fs=r!==null?r:NaN}Hs(e,r,i){let s=e.get(r);return s===void 0&&(s=new RFe(this,r,i),e.set(r,s)),s}}function bE(n){return n==="left"||n==="right"}let ks=class y4{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,r){const i=function(s,o){return s===void 0?o:{tn:Math.max(s.tn,o.tn),sn:s.sn||o.sn}}(this.Zs.get(e),r);this.Zs.set(e,i)}nn(){return this.Js}en(e){const r=this.Zs.get(e);return r===void 0?{tn:this.Js}:{tn:Math.max(this.Js,r.tn),sn:r.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Wt:e}]}_n(e){this.un(),this.Gs.push({an:5,Wt:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Wt:e})}fn(e){this.hn(),this.Gs.push({an:3,Wt:e})}pn(){return this.Gs}vn(e){for(const r of e.Gs)this.mn(r);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((r,i)=>{this.Qs(i,r)})}static wn(){return new y4(2)}static gn(){return new y4(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Wt);break;case 2:this.dn(e.Wt);break;case 3:this.fn(e.Wt);break;case 4:this.cn();break;case 5:this._n(e.Wt);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(r=>r.an===5);e!==-1&&this.Gs.splice(e,1)}};class _me{formatTickmarks(e){return e.map(r=>this.format(r))}}const Uq=".";function Vc(n,e){if(!w0(n))return"n/a";if(!gw(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}let yE=class extends _me{constructor(e,r){if(super(),r||(r=1),w0(e)&&gw(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=r,this.bn()}format(e){const r=e<0?"":"";return e=Math.abs(e),r+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const r=this.Yi/this.Mn;let i=Math.floor(e),s="";const o=this.xn!==void 0?this.xn:NaN;if(r>1){let a=+(Math.round(e*r)-i*r).toFixed(this.xn);a>=r&&(a-=r,i+=1),s=Uq+Vc(+a.toFixed(this.xn)*this.Mn,o)}else i=Math.round(i*r)/r,o>0&&(s=Uq+Vc(0,o));return i.toFixed(0)+s}};class Sme extends yE{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class LFe extends _me{constructor(e){super(),this.Cn=e}format(e){let r="";return e<0&&(r="-",e=-e),e<995?r+this.Pn(e):e<999995?r+this.Pn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),r+this.Pn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),r+this.Pn(e/1e9)+"B")}Pn(e){let r;const i=Math.pow(10,this.Cn);return r=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),r.replace(/(\.[1-9]*)0+$/,(s,o)=>o)}}const FFe=/[2-9]/g;class i2{constructor(e=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(e,r,i){return this.In(e,r,i).width}Di(e,r,i){const s=this.In(e,r,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}In(e,r,i){const s=i||FFe,o=String(r).replace(s,"0");if(this.Dn.has(o))return Us(this.Dn.get(o)).En;if(this.yn===this.Vn){const l=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(l),this.Tn++,this.yn--}e.save(),e.textBaseline="middle";const a=e.measureText(o);return e.restore(),a.width===0&&r.length||(this.Dn.set(o,{En:a,An:this.kn}),this.Rn[this.kn]=o,this.yn++,this.kn++),a}}class $Fe{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,r,i){this.zn=e,this.M=r,this.Ln=i}nt(e){this.M!==null&&this.zn!==null&&this.zn.nt(e,this.M,this.On,this.Ln)}}class kme{constructor(e,r,i){this.Fn=e,this.On=new i2(50),this.Wn=r,this.O=i,this.F=-1,this.Gt=new $Fe(this.On)}Tt(){const e=this.O.Hn(this.Wn);if(e===null)return null;const r=e.Un(this.Wn)?e.$n():this.Wn.Ft();if(r===null)return null;const i=e.qn(r);if(i==="overlay")return null;const s=this.O.Yn();return s.P!==this.F&&(this.F=s.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),s,i),this.Gt}}let zFe=class extends Px{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,r){var a;if(!((a=this.Yt)!=null&&a.Vt))return null;const{ut:i,ct:s,Kn:o}=this.Yt;return r>=i-s-7&&r<=i+s+7?{Xn:this.Yt,Kn:o}:null}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null||this.Yt.Vt===!1)return;const o=Math.round(this.Yt.ut*s);o<0||o>r.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*i),v0(e,this.Yt.Xt),bme(e,o,0,r.width))}};class Q9{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new zFe,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class UFe extends Q9{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Ft(),r=e.ie().ie;if(r!==2&&r!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const s=this.Jn.zt();s!==null&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(s.Wt,s.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class WFe extends Px{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:i}){const s=this.Yt;if(s===null)return;const o=Math.max(1,Math.floor(r)),a=o%2/2,l=Math.round(s.ne.x*r)+a,c=s.ne.y*i;e.fillStyle=s.ee,e.beginPath();const u=Math.max(2,1.5*s.re)*r;e.arc(l,c,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.he,e.beginPath(),e.arc(l,c,s.ft*r,0,2*Math.PI,!1),e.fill(),e.lineWidth=o,e.strokeStyle=s.ae,e.beginPath(),e.arc(l,c,s.ft*r+o/2,0,2*Math.PI,!1),e.stroke()}}const qFe=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class HFe{constructor(e){this.Gt=new WFe,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const e=performance.now(),r=this.we-e;if(r>0)return void(r<650&&(this.we+=2600));this.me=e,this.we=e+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().Et(),r=e.Pe(),i=this.ge.zt();if(r===null||i===null)return;const s=this.ge.ye(!0);if(s.ke||!r.Te(s.Re))return;const o={x:e.qt(s.Re),y:this.ge.Ft().Nt(s.gt,i.Wt)},a=s.R,l=this.ge.N().lineWidth,c=this.De(this.Ve(),a);this.Gt.ht({ee:a,re:l,he:c.he,ae:c.ae,ft:c.ft,ne:o})}Ce(){const e=this.Gt.se();if(e!==null){const r=this.De(this.Ve(),e.ee);e.he=r.he,e.ae=r.ae,e.ft=r.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(e,r,i,s){const o=i+(s-i)*r;return this.ge.Qt().Xi().j(e,o)}De(e,r){const i=e%2600/2600;let s;for(const u of qFe)if(i>=u.le&&i<=u.oe){s=u;break}_i(s!==void 0,"Last price animation internal logic error");const o=(i-s.le)/(s.oe-s.le);return{he:this.Be(r,o,s.ce,s.de),ae:this.Be(r,o,s.fe,s.pe),ft:(a=o,l=s._e,c=s.ue,l+(c-l)*a)};var a,l,c}}class VFe extends Q9{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const r=this.Jn.N();if(!r.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ye(r.priceLineSource===0);i.ke||(e.Vt=!0,e.ut=i.Ii,e.R=this.Jn.Ie(i.R),e.ct=r.priceLineWidth,e.Xt=r.priceLineStyle)}}let GFe=class extends gE{constructor(e){super(),this.Jt=e}qi(e,r,i){e.Vt=!1,r.Vt=!1;const s=this.Jt;if(!s.Vt())return;const o=s.N(),a=o.lastValueVisible,l=s.Ee()!=="",c=o.seriesLastValueMode===0,u=s.ye(!1);if(u.ke)return;a&&(e.ri=this.Ae(u,a,c),e.Vt=e.ri.length!==0),(l||c)&&(r.ri=this.ze(u,a,l,c),r.Vt=r.ri.length>0);const d=s.Ie(u.R),h=this.Jt.Qt().Xi().X(d);i.Z=h.Z,i.Ii=u.Ii,r.Ht=s.Qt().Ut(u.Ii/s.Ft().$t()),e.Ht=d,e.R=h.G,r.R=h.G}ze(e,r,i,s){let o="";const a=this.Jt.Ee();return i&&a.length!==0&&(o+=`${a} `),r&&s&&(o+=this.Jt.Ft().Le()?e.Oe:e.Ne),o.trim()}Ae(e,r,i){return r?i?this.Jt.Ft().Le()?e.Ne:e.Oe:e.ri:""}};function Wq(n,e,r,i){const s=Number.isFinite(e),o=Number.isFinite(r);return s&&o?n(e,r):s||o?s?e:r:i}class ms{constructor(e,r){this.Fe=e,this.We=r}He(e){return e!==null&&this.Fe===e.Fe&&this.We===e.We}Ue(){return new ms(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(e){return e===null?this:new ms(Wq(Math.min,this.$e(),e.$e(),-1/0),Wq(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!w0(e)||this.We-this.Fe===0)return;const r=.5*(this.We+this.Fe);let i=this.We-r,s=this.Fe-r;i*=e,s*=e,this.We=r+i,this.Fe=r+s}Ke(e){w0(e)&&(this.We+=e,this.Fe+=e)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(e){return e===null?null:new ms(e.minValue,e.maxValue)}}class s2{constructor(e,r){this.Ge=e,this.Je=r||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return e===null?null:new s2(ms.Ze(e.priceRange),e.margins)}}class YFe extends Q9{constructor(e,r){super(e),this.ir=r}te(){const e=this.Zn;e.Vt=!1;const r=this.ir.N();if(!this.Jn.Vt()||!r.lineVisible)return;const i=this.ir.sr();i!==null&&(e.Vt=!0,e.ut=i,e.R=r.color,e.ct=r.lineWidth,e.Xt=r.lineStyle,e.Kn=this.ir.N().id)}}class KFe extends gE{constructor(e,r){super(),this.ge=e,this.ir=r}qi(e,r,i){e.Vt=!1,r.Vt=!1;const s=this.ir.N(),o=s.axisLabelVisible,a=s.title!=="",l=this.ge;if(!o||!l.Vt())return;const c=this.ir.sr();if(c===null)return;a&&(r.ri=s.title,r.Vt=!0),r.Ht=l.Qt().Ut(c/l.Ft().$t()),e.ri=this.nr(s.price),e.Vt=!0;const u=this.ge.Qt().Xi().X(s.axisLabelColor||s.color);i.Z=u.Z;const d=s.axisLabelTextColor||u.G;e.R=d,r.R=d,i.Ii=c}nr(e){const r=this.ge.zt();return r===null?"":this.ge.Ft().Zi(e,r.Wt)}}class XFe{constructor(e,r){this.ge=e,this.Ps=r,this.er=new YFe(e,this),this.Fn=new KFe(e,this),this.rr=new kme(this.Fn,e,e.Qt())}hr(e){vo(this.Ps,e),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const e=this.ge,r=e.Ft();if(e.Qt().Et().Ki()||r.Ki())return null;const i=e.zt();return i===null?null:r.Nt(this.Ps.price,i.Wt)}}class QFe extends xme{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const JFe={Bar:(n,e,r,i)=>{const s=e.upColor,o=e.downColor,a=gt(n(r,i)),l=Pd(a.Wt[0])<=Pd(a.Wt[3]);return{cr:a.R??(l?s:o)}},Candlestick:(n,e,r,i)=>{const s=e.upColor,o=e.downColor,a=e.borderUpColor,l=e.borderDownColor,c=e.wickUpColor,u=e.wickDownColor,d=gt(n(r,i)),h=Pd(d.Wt[0])<=Pd(d.Wt[3]);return{cr:d.R??(h?s:o),dr:d.Ht??(h?a:l),pr:d.vr??(h?c:u)}},Custom:(n,e,r,i)=>({cr:gt(n(r,i)).R??e.color}),Area:(n,e,r,i)=>{const s=gt(n(r,i));return{cr:s.vt??e.lineColor,vt:s.vt??e.lineColor,mr:s.mr??e.topColor,wr:s.wr??e.bottomColor}},Baseline:(n,e,r,i)=>{const s=gt(n(r,i));return{cr:s.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:s.gr??e.topLineColor,Mr:s.Mr??e.bottomLineColor,br:s.br??e.topFillColor1,Sr:s.Sr??e.topFillColor2,Cr:s.Cr??e.bottomFillColor1,Pr:s.Pr??e.bottomFillColor2}},Line:(n,e,r,i)=>{const s=gt(n(r,i));return{cr:s.R??e.color,vt:s.R??e.color}},Histogram:(n,e,r,i)=>({cr:gt(n(r,i)).R??e.color})};class ZFe{constructor(e){this.yr=(r,i)=>i!==void 0?i.Wt:this.ge.Xs().kr(r),this.ge=e,this.Tr=JFe[e.Rr()]}Dr(e,r){return this.Tr(this.yr,this.ge.N(),e,r)}}function Cme(n,e,r,i,s=0,o=e.length){let a=o-s;for(;0<a;){const l=a>>1,c=s+l;i(e[c],r)===n?(s=c+1,a-=l+1):a=l}return s}const x0=Cme.bind(null,!0),Eme=Cme.bind(null,!1);var qq;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(qq||(qq={}));const Ku=30;class e$e{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(e){return this.Nr(e,0)!==null}kr(e){return this.Fr(e)}Fr(e,r=0){const i=this.Nr(e,r);return i===null?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(e,r,i){if(this.Ki())return null;let s=null;for(const o of i)s=g_(s,this.$r(e,r,o));return s}ht(e){this.Ir.clear(),this.Br.clear(),this.Vr=e,this.Er=e.map(r=>r.Re)}qr(){return this.Er}Or(e){return this.Vr[e].Re}Wr(e){return this.Vr[e]}Nr(e,r){const i=this.Yr(e);if(i===null&&r!==0)switch(r){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return i}jr(e){let r=this.Xr(e);return r>0&&(r-=1),r!==this.Vr.length&&this.Or(r)<e?r:null}Kr(e){const r=this.Zr(e);return r!==this.Vr.length&&e<this.Or(r)?r:null}Yr(e){const r=this.Xr(e);return r===this.Vr.length||e<this.Vr[r].Re?null:r}Xr(e){return x0(this.Vr,e,(r,i)=>r.Re<i)}Zr(e){return Eme(this.Vr,e,(r,i)=>r.Re>i)}Gr(e,r,i){let s=null;for(let o=e;o<r;o++){const a=this.Vr[o].Wt[i];Number.isNaN(a)||(s===null?s={Jr:a,Qr:a}:(a<s.Jr&&(s.Jr=a),a>s.Qr&&(s.Qr=a)))}return s}$r(e,r,i){if(this.Ki())return null;let s=null;const o=gt(this.Lr()),a=gt(this.Ks()),l=Math.max(e,o),c=Math.min(r,a),u=Math.ceil(l/Ku)*Ku,d=Math.max(u,Math.floor(c/Ku)*Ku);{const f=this.Xr(l),p=this.Zr(Math.min(c,u,r));s=g_(s,this.Gr(f,p,i))}let h=this.Br.get(i);h===void 0&&(h=new Map,this.Br.set(i,h));for(let f=Math.max(u+1,l);f<d;f+=Ku){const p=Math.floor(f/Ku);let m=h.get(p);if(m===void 0){const b=this.Xr(p*Ku),y=this.Zr((p+1)*Ku-1);m=this.Gr(b,y,i),h.set(p,m)}s=g_(s,m)}{const f=this.Xr(d),p=this.Zr(c);s=g_(s,this.Gr(f,p,i))}return s}}function g_(n,e){return n===null?e:e===null?n:{Jr:Math.min(n.Jr,e.Jr),Qr:Math.max(n.Qr,e.Qr)}}const o2={setLineStyle:v0};class t$e{constructor(e){this.th=e}nt(e,r,i){this.th.draw(e,o2)}ih(e,r,i){var s,o;(o=(s=this.th).drawBackground)==null||o.call(s,e,o2)}}class n$e{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const r=new t$e(e);return this.Dn={nh:e,eh:r},r}rh(){var e,r;return((r=(e=this.sh).zOrder)==null?void 0:r.call(e))??"normal"}}class Ame{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,r;(r=(e=this.ah).updateAllViews)==null||r.call(e)}Fs(){var i,s,o;const e=((s=(i=this.ah).paneViews)==null?void 0:s.call(i))??[];if(((o=this.hh)==null?void 0:o.nh)===e)return this.hh.eh;const r=e.map(a=>new n$e(a));return this.hh={nh:e,eh:r},r}jn(e,r){var i,s;return((s=(i=this.ah).hitTest)==null?void 0:s.call(i,e,r))??null}}let r$e=class extends Ame{us(){return[]}};class i$e{constructor(e){this.th=e}nt(e,r,i){this.th.draw(e,o2)}ih(e,r,i){var s,o;(o=(s=this.th).drawBackground)==null||o.call(s,e,o2)}}class Hq{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const r=new i$e(e);return this.Dn={nh:e,eh:r},r}rh(){var e,r;return((r=(e=this.sh).zOrder)==null?void 0:r.call(e))??"normal"}}function Tme(n){var e,r,i;return{ri:n.text(),Ii:n.coordinate(),Bi:(e=n.fixedCoordinate)==null?void 0:e.call(n),R:n.textColor(),Z:n.backColor(),Vt:((r=n.visible)==null?void 0:r.call(n))??!0,pi:((i=n.tickVisible)==null?void 0:i.call(n))??!0}}class s$e{constructor(e,r){this.Gt=new wme,this._h=e,this.uh=r}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Tme(this._h)}),this.Gt}}class o$e extends gE{constructor(e,r){super(),this._h=e,this.Yi=r}qi(e,r,i){const s=Tme(this._h);i.Z=s.Z,e.R=s.R;const o=2/12*this.Yi.P();i.Ti=o,i.Ri=o,i.Ii=s.Ii,i.Bi=s.Bi,e.ri=s.ri,e.Vt=s.Vt,e.pi=s.pi}}class a$e extends Ame{constructor(e,r){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=r}cs(){var s,o,a;const e=((o=(s=this.ah).timeAxisViews)==null?void 0:o.call(s))??[];if(((a=this.dh)==null?void 0:a.nh)===e)return this.dh.eh;const r=this.ge.Qt().Et(),i=e.map(l=>new s$e(l,r));return this.dh={nh:e,eh:i},i}Ws(){var s,o,a;const e=((o=(s=this.ah).priceAxisViews)==null?void 0:o.call(s))??[];if(((a=this.fh)==null?void 0:a.nh)===e)return this.fh.eh;const r=this.ge.Ft(),i=e.map(l=>new o$e(l,r));return this.fh={nh:e,eh:i},i}wh(){var i,s,o;const e=((s=(i=this.ah).priceAxisPaneViews)==null?void 0:s.call(i))??[];if(((o=this.ph)==null?void 0:o.nh)===e)return this.ph.eh;const r=e.map(a=>new Hq(a));return this.ph={nh:e,eh:r},r}gh(){var i,s,o;const e=((s=(i=this.ah).timeAxisPaneViews)==null?void 0:s.call(i))??[];if(((o=this.mh)==null?void 0:o.nh)===e)return this.mh.eh;const r=e.map(a=>new Hq(a));return this.mh={nh:e,eh:r},r}Mh(e,r){var i,s;return((s=(i=this.ah).autoscaleInfo)==null?void 0:s.call(i,e,r))??null}}function E3(n,e,r,i){n.forEach(s=>{e(s).forEach(o=>{o.rh()===r&&i.push(o)})})}function A3(n){return n.Fs()}function l$e(n){return n.wh()}function c$e(n){return n.gh()}const u$e=["Area","Line","Baseline"];class vE extends QFe{constructor(e,r,i,s,o){super(e),this.Yt=new e$e,this.er=new VFe(this),this.bh=[],this.Sh=new UFe(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=r;const a=new GFe(this);this.vs=[a],this.rr=new kme(a,this,e),u$e.includes(this.kh)&&(this.xh=new HFe(this)),this.Th(),this.sh=s(this,this.Qt(),o)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(e){return this.Ps.priceLineColor||e}ye(e){const r={ke:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return r;const s=this.Qt().Et().Pe(),o=this.zt();if(s===null||o===null)return r;let a,l;if(e){const h=this.Yt.Ar();if(h===null)return r;a=h,l=h.Re}else{const h=this.Yt.Fr(s.bi(),-1);if(h===null||(a=this.Yt.kr(h.Re),a===null))return r;l=h.Re}const c=a.Wt[3],u=this.Rh().Dr(l,{Wt:a}),d=i.Nt(c,o.Wt);return{ke:!1,gt:c,ri:i.Zi(c,o.Wt),Oe:i.Dh(c),Ne:i.Vh(c,o.Wt),R:u.cr,Ii:d,Re:l}}Rh(){return this.Ch!==null||(this.Ch=new ZFe(this)),this.Ch}N(){return this.Ps}hr(e){const r=e.priceScaleId;r!==void 0&&r!==this.Ps.priceScaleId&&this.Qt().Bh(this,r),vo(this.Ps,e),e.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(e,r){this.Yt.ht(e),this.sh.yt("data"),this.xh!==null&&(r&&r.zh?this.xh.be():e.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(e){const r=new XFe(this,e);return this.bh.push(r),this.Qt().Eh(this),r}Nh(e){const r=this.bh.indexOf(e);r!==-1&&this.bh.splice(r,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const e=this.Wh();return e===null?null:{Wt:e.Wt[3],Hh:e.wt}}Wh(){const e=this.Qt().Et().Pe();if(e===null)return null;const r=e.Uh();return this.Yt.Fr(r,1)}Xs(){return this.Yt}$h(e){const r=this.Yt.kr(e);return r===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:r.Wt[0],Yh:r.Wt[1],jh:r.Wt[2],Kh:r.Wt[3]}:r.Wt[3]}Xh(e){const r=[];E3(this.yh,A3,"top",r);const i=this.xh;return i!==null&&i.Vt()&&(this.Ph===null&&i.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),i.Se(),r.unshift(i)),r}Fs(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const r=this.bh.map(i=>i.lr());return e.push(...r),E3(this.yh,A3,"normal",e),e}Jh(){return this.Qh(A3,"bottom")}ta(e){return this.Qh(l$e,e)}ia(e){return this.Qh(c$e,e)}sa(e,r){return this.yh.map(i=>i.jn(e,r)).filter(i=>i!==null)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Ws(e,r){if(r!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const s of this.bh)i.push(s.ur());return this.yh.forEach(s=>{i.push(...s.Ws())}),i}cs(){const e=[];return this.yh.forEach(r=>{e.push(...r.cs())}),e}Mh(e,r){if(this.Ps.autoscaleInfoProvider!==void 0){const i=this.Ps.autoscaleInfoProvider(()=>{const s=this.na(e,r);return s===null?null:s.Xe()});return s2.Ze(i)}return this.na(e,r)}nh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}ea(){return this.ra}Ns(){var e;this.sh.yt();for(const r of this.vs)r.yt();for(const r of this.bh)r.yt();this.er.yt(),this.Sh.yt(),(e=this.xh)==null||e.yt(),this.yh.forEach(r=>r.Ns())}Ft(){return gt(super.Ft())}At(e){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const r=this.Yt.kr(e);return r===null?null:{gt:r.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(e)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(e){this.yh.push(new a$e(e,this))}ua(e){this.yh=this.yh.filter(r=>r.oh()!==e)}ca(){if(this.kh==="Custom")return e=>this.sh.da(e)}fa(){if(this.kh==="Custom")return e=>this.sh.pa(e)}va(){return this.Yt.qr()}Gh(){return!bE(this.Ft().ma())}na(e,r){if(!gw(e)||!gw(r)||this.Yt.Ki())return null;const i=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],s=this.Yt.Ur(e,r,i);let o=s!==null?new ms(s.Jr,s.Qr):null,a=null;if(this.Rr()==="Histogram"){const l=this.Ps.base,c=new ms(l,l);o=o!==null?o.vn(c):c}return this.yh.forEach(l=>{const c=l.Mh(e,r);if(c!=null&&c.priceRange){const u=new ms(c.priceRange.minValue,c.priceRange.maxValue);o=o!==null?o.vn(u):u}c!=null&&c.margins&&(a=c.margins)}),new s2(o,a)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(e){switch(this.kh){case"Line":case"Area":case"Baseline":{const r=this.Ps.crosshairMarkerBackgroundColor;if(r.length!==0)return r}}return this.Rh().Dr(e).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.ra={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(r=>r.map(e))};break}case"volume":this.ra=new LFe(this.Ps.priceFormat.precision);break;case"percent":this.ra=new Sme(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new yE(e,this.Ps.priceFormat.minMove*e)}}this.es!==null&&this.es.wa()}Qh(e,r){const i=[];return E3(this.yh,e,r,i),i}}const d$e=[3],h$e=[0,1,2,3];class f$e{constructor(e){this.Ps=e}ga(e,r,i){let s=e;if(this.Ps.mode===0)return s;const o=i.ks(),a=o.zt();if(a===null)return s;const l=o.Nt(e,a),c=i.Ma().filter(d=>d instanceof vE).reduce((d,h)=>{if(i.Un(h)||!h.Vt())return d;const f=h.Ft(),p=h.Xs();if(f.Ki()||!p.Te(r))return d;const m=p.kr(r);if(m===null)return d;const b=Pd(h.zt()),y=this.Ps.mode===3?h$e:d$e;return d.concat(y.map(v=>f.Nt(m.Wt[v],b.Wt)))},[]);if(c.length===0)return s;c.sort((d,h)=>Math.abs(d-l)-Math.abs(h-l));const u=c[0];return s=o.Ts(u,a),s}}function tv(n,e,r){return Math.min(Math.max(n,e),r)}function b_(n,e,r){return e-n<=r}class p$e extends Px{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Yt===null)return;const o=Math.max(1,Math.floor(i));e.lineWidth=o,function(a,l){a.save(),a.lineWidth%2&&a.translate(.5,.5),l(),a.restore()}(e,()=>{const a=gt(this.Yt);if(a.ba){e.strokeStyle=a.Sa,v0(e,a.xa),e.beginPath();for(const l of a.Ca){const c=Math.round(l.Pa*i);e.moveTo(c,-o),e.lineTo(c,r.height+o)}e.stroke()}if(a.ya){e.strokeStyle=a.ka,v0(e,a.Ta),e.beginPath();for(const l of a.Ra){const c=Math.round(l.Pa*s);e.moveTo(-o,c),e.lineTo(r.width+o,c)}e.stroke()}})}}class m$e{constructor(e){this.Gt=new p$e,this.xt=!0,this.Pt=e}yt(){this.xt=!0}Tt(){if(this.xt){const e=this.Pt.Qt().N().grid,r={ya:e.horzLines.visible,ba:e.vertLines.visible,ka:e.horzLines.color,Sa:e.vertLines.color,Ta:e.horzLines.style,xa:e.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map(i=>({Pa:i.coord}))};this.Gt.ht(r),this.xt=!1}return this.Gt}}class g$e{constructor(e){this.sh=new m$e(e)}lr(){return this.sh}}const T3={Va:4,Ba:1e-4};function zm(n,e){const r=100*(n-e)/e;return e<0?-r:r}function b$e(n,e){const r=zm(n.$e(),e),i=zm(n.qe(),e);return new ms(r,i)}function nv(n,e){const r=100*(n-e)/e+100;return e<0?-r:r}function y$e(n,e){const r=nv(n.$e(),e),i=nv(n.qe(),e);return new ms(r,i)}function a2(n,e){const r=Math.abs(n);if(r<1e-15)return 0;const i=Math.log10(r+e.Ba)+e.Va;return n<0?-i:i}function rv(n,e){const r=Math.abs(n);if(r<1e-15)return 0;const i=Math.pow(10,r-e.Va)-e.Ba;return n<0?-i:i}function Yb(n,e){if(n===null)return null;const r=a2(n.$e(),e),i=a2(n.qe(),e);return new ms(r,i)}function Um(n,e){if(n===null)return null;const r=rv(n.$e(),e),i=rv(n.qe(),e);return new ms(r,i)}function P3(n){if(n===null)return T3;const e=Math.abs(n.qe()-n.$e());if(e>=1||e<1e-15)return T3;const r=Math.ceil(Math.abs(Math.log10(e))),i=T3.Va+r;return{Va:i,Ba:1/Math.pow(10,i)}}class I3{constructor(e,r){if(this.Ia=e,this.Ea=r,function(i){if(i<0)return!1;if(i>1e18)return!0;for(let s=i;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let i=this.Ia;i!==1;){if(i%2==0)this.Aa.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),i/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(e,r,i){const s=this.Ia===0?0:1/this.Ia;let o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-r)))),a=0,l=this.Ea[0];for(;;){const h=b_(o,s,1e-14)&&o>s+1e-14,f=b_(o,i*l,1e-14),p=b_(o,1,1e-14);if(!(h&&f&&p))break;o/=l,l=this.Ea[++a%this.Ea.length]}if(o<=s+1e-14&&(o=s),o=Math.max(1,o),this.Aa.length>0&&(c=o,u=1,d=1e-14,Math.abs(c-u)<d))for(a=0,l=this.Aa[0];b_(o,i*l,1e-14)&&o>s+1e-14;)o/=l,l=this.Aa[++a%this.Aa.length];var c,u,d;return o}}let Vq=class{constructor(e,r,i,s){this.La=[],this.Yi=e,this.Ia=r,this.Oa=i,this.Na=s}za(e,r){if(e<r)throw new Error("high < low");const i=this.Yi.$t(),s=(e-r)*this.Fa()/i,o=new I3(this.Ia,[2,2.5,2]),a=new I3(this.Ia,[2,2,2.5]),l=new I3(this.Ia,[2.5,2,2]),c=[];return c.push(o.za(e,r,s),a.za(e,r,s),l.za(e,r,s)),function(u){if(u.length<1)throw Error("array is empty");let d=u[0];for(let h=1;h<u.length;++h)u[h]<d&&(d=u[h]);return d}(c)}Wa(){const e=this.Yi,r=e.zt();if(r===null)return void(this.La=[]);const i=e.$t(),s=this.Oa(i-1,r),o=this.Oa(0,r),a=this.Yi.N().entireTextOnly?this.Ha()/2:0,l=a,c=i-1-a,u=Math.max(s,o),d=Math.min(s,o);if(u===d)return void(this.La=[]);const h=this.za(u,d);if(this.Ua(r,h,u,d,l,c),e.$a()&&this.qa(h,d,u)){const m=this.Yi.Ya();this.ja(r,h,l,c,m,2*m)}const f=this.La.map(m=>m.Ka),p=this.Yi.Xa(f);for(let m=0;m<this.La.length;m++)this.La[m].Za=p[m]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(e,r,i,s,o,a){const l=this.La,c=this.Yi;let u=i%r;u+=u<0?r:0;const d=i>=s?1:-1;let h=null,f=0;for(let p=i-u;p>s;p-=r){const m=this.Na(p,e,!0);h!==null&&Math.abs(m-h)<this.Fa()||m<o||m>a||(f<l.length?(l[f].Pa=m,l[f].Za=c.Ga(p),l[f].Ka=p):l.push({Pa:m,Za:c.Ga(p),Ka:p}),f++,h=m,c.Ja()&&(r=this.za(p*d,s)))}l.length=f}ja(e,r,i,s,o,a){const l=this.La,c=this.Qa(e,i,o,a),u=this.Qa(e,s,-a,-o),d=this.Na(0,e,!0)-this.Na(r,e,!0);l.length>0&&l[0].Pa-c.Pa<d/2&&l.shift(),l.length>0&&u.Pa-l[l.length-1].Pa<d/2&&l.pop(),l.unshift(c),l.push(u)}Qa(e,r,i,s){const o=(i+s)/2,a=this.Oa(r+i,e),l=this.Oa(r+s,e),c=Math.min(a,l),u=Math.max(a,l),d=Math.max(.1,this.za(u,c)),h=this.Oa(r+o,e),f=h-h%d,p=this.Na(f,e,!0);return{Za:this.Yi.Ga(f),Pa:p,Ka:f}}qa(e,r,i){let s=Pd(this.Yi.Qe());return this.Yi.Ja()&&(s=Um(s,this.Yi.tl())),s.$e()-r<e&&i-s.qe()<e}};function Pme(n){return n.slice().sort((e,r)=>gt(e.hs())-gt(r.hs()))}var Gq;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(Gq||(Gq={}));const Yq=new Sme,Kq=new yE(100,1);class v$e{constructor(e,r,i,s,o){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new Br,this.ul=new Br,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=Kq,this.wl=P3(null),this.gl=e,this.Ps=r,this.Ml=i,this.bl=s,this.Sl=o,this.xl=new Vq(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(e){if(vo(this.Ps,e),this.wa(),e.mode!==void 0&&this.yl({ie:e.mode}),e.scaleMargins!==void 0){const r=Us(e.scaleMargins.top),i=Us(e.scaleMargins.bottom);if(r<0||r>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${r}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(r+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${r+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(e){const r=this.ie();let i=null;e.sn!==void 0&&(this.Ps.autoScale=e.sn),e.ie!==void 0&&(this.Ps.mode=e.ie,e.ie!==2&&e.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),r.ie===1&&e.ie!==r.ie&&(function(o,a){if(o===null)return!1;const l=rv(o.$e(),a),c=rv(o.qe(),a);return isFinite(l)&&isFinite(c)}(this.Ge,this.wl)?(i=Um(this.Ge,this.wl),i!==null&&this.Bl(i)):this.Ps.autoScale=!0),e.ie===1&&e.ie!==r.ie&&(i=Yb(this.Ge,this.wl),i!==null&&this.Bl(i));const s=r.ie!==this.Ps.mode;s&&(r.ie===2||this.Le())&&this.wa(),s&&(r.ie===3||this.Dl())&&this.wa(),e.Vl!==void 0&&r.Vl!==e.Vl&&(this.Ps.invertScale=e.Vl,this.Il()),this.ul.p(r,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(e){this.il!==e&&(this.il=e,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const e=this.$t()-this.Ll()-this.Ol();return this.sl=e,e}Qe(){return this.Nl(),this.Ge}Bl(e,r){const i=this.Ge;(r||i===null&&e!==null||i!==null&&!i.He(e))&&(this.pl=null,this.Ge=e)}Fl(e){this.Bl(e),this.Wl(e!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(e){return this.Vl()?e:this.$t()-1-e}Nt(e,r){return this.Le()?e=zm(e,r):this.Dl()&&(e=nv(e,r)),this.Pl(e,r)}Ul(e,r,i){this.Nl();const s=this.Ol(),o=gt(this.Qe()),a=o.$e(),l=o.qe(),c=this.zl()-1,u=this.Vl(),d=c/(l-a),h=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.$l();for(let m=h;m<f;m++){const b=e[m],y=b.gt;if(isNaN(y))continue;let v=y;p!==null&&(v=p(b.gt,r));const w=s+d*(v-a),_=u?w:this.il-1-w;b.ut=_}}ql(e,r,i){this.Nl();const s=this.Ol(),o=gt(this.Qe()),a=o.$e(),l=o.qe(),c=this.zl()-1,u=this.Vl(),d=c/(l-a),h=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.$l();for(let m=h;m<f;m++){const b=e[m];let y=b.qh,v=b.Yh,w=b.jh,_=b.Kh;p!==null&&(y=p(b.qh,r),v=p(b.Yh,r),w=p(b.jh,r),_=p(b.Kh,r));let x=s+d*(y-a),S=u?x:this.il-1-x;b.Yl=S,x=s+d*(v-a),S=u?x:this.il-1-x,b.jl=S,x=s+d*(w-a),S=u?x:this.il-1-x,b.Kl=S,x=s+d*(_-a),S=u?x:this.il-1-x,b.Xl=S}}Ts(e,r){const i=this.Cl(e,r);return this.Zl(i,r)}Zl(e,r){let i=e;return this.Le()?i=function(s,o){return o<0&&(s=-s),s/100*o+o}(i,r):this.Dl()&&(i=function(s,o){return s-=100,o<0&&(s=-s),s/100*o+o}(i,r)),i}Ma(){return this.cl}Dt(){return this.fl||(this.fl=Pme(this.cl)),this.fl}Gl(e){this.cl.indexOf(e)===-1&&(this.cl.push(e),this.wa(),this.Jl())}Ql(e){const r=this.cl.indexOf(e);if(r===-1)throw new Error("source is not attached to scale");this.cl.splice(r,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let e=null;for(const r of this.cl){const i=r.zt();i!==null&&(e===null||i.Hh<e.Hh)&&(e=i)}return e===null?null:e.Wt}Vl(){return this.Ps.invertScale}Da(){const e=this.zt()===null;if(this.pl!==null&&(e||this.pl.io===e))return this.pl.Da;this.xl.Wa();const r=this.xl.Da();return this.pl={Da:r,io:e},this._l.p(),r}so(){return this._l}no(e){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-e,this.nl=gt(this.Qe()).Ue()))}eo(e){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(e=this.il-e)<0&&(e=0);let r=(this.vl+.2*(this.il-1))/(e+.2*(this.il-1));const i=gt(this.nl).Ue();r=Math.max(r,.1),i.je(r),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(e){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=e,this.nl=gt(this.Qe()).Ue()))}ao(e){if(this.Tl()||this.ml===null)return;const r=gt(this.Qe()).Ye()/(this.zl()-1);let i=e-this.ml;this.Vl()&&(i*=-1);const s=i*r,o=gt(this.nl).Ue();o.Ke(s),this.Bl(o,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(e,r){switch(this.Ps.mode){case 2:return this.oo(zm(e,r));case 3:return this.ea().format(nv(e,r));default:return this.nr(e)}}Ga(e){switch(this.Ps.mode){case 2:return this.oo(e);case 3:return this.ea().format(e);default:return this.nr(e)}}Xa(e){switch(this.Ps.mode){case 2:return this._o(e);case 3:return this.ea().formatTickmarks(e);default:return this.uo(e)}}Dh(e){return this.nr(e,gt(this.dl).ea())}Vh(e,r){return e=zm(e,r),this.oo(e,Yq)}co(){return this.cl}do(e){this.el={hl:e,rl:!1}}Ns(){this.cl.forEach(e=>e.Ns())}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let e=1/0;this.dl=null;for(const i of this.cl)i.hs()<e&&(e=i.hs(),this.dl=i);let r=100;this.dl!==null&&(r=Math.round(this.dl.nh())),this.ra=Kq,this.Le()?(this.ra=Yq,r=100):this.Dl()?(this.ra=new yE(100,1),r=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new Vq(this,r,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(e){this.al=e}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(e,r){if(this.Nl(),this.Ki())return 0;e=this.Ja()&&e?a2(e,this.wl):e;const i=gt(this.Qe()),s=this.Ol()+(this.zl()-1)*(e-i.$e())/i.Ye();return this.Hl(s)}Cl(e,r){if(this.Nl(),this.Ki())return 0;const i=this.Hl(e),s=gt(this.Qe()),o=s.$e()+s.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?rv(o,this.wl):o}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const e=this.el.hl;if(e===null)return;let r=null;const i=this.co();let s=0,o=0;for(const c of i){if(!c.Vt())continue;const u=c.zt();if(u===null)continue;const d=c.Mh(e.Uh(),e.bi());let h=d&&d.Qe();if(h!==null){switch(this.Ps.mode){case 1:h=Yb(h,this.wl);break;case 2:h=b$e(h,u.Wt);break;case 3:h=y$e(h,u.Wt)}if(r=r===null?h:r.vn(gt(h)),d!==null){const f=d.tr();f!==null&&(s=Math.max(s,f.above),o=Math.max(o,f.below))}}}if(this.$a()&&(s=Math.max(s,this.Ya()),o=Math.max(o,this.Ya())),s===this.ll&&o===this.ol||(this.ll=s,this.ol=o,this.pl=null,this.kl()),r!==null){if(r.$e()===r.qe()){const c=5*this.fo();this.Ja()&&(r=Um(r,this.wl)),r=new ms(r.$e()-c,r.qe()+c),this.Ja()&&(r=Yb(r,this.wl))}if(this.Ja()){const c=Um(r,this.wl),u=P3(c);if(a=u,l=this.wl,a.Va!==l.Va||a.Ba!==l.Ba){const d=this.nl!==null?Um(this.nl,this.wl):null;this.wl=u,r=Yb(c,u),d!==null&&(this.nl=Yb(d,u))}}this.Bl(r)}else this.Ge===null&&(this.Bl(new ms(-.5,.5)),this.wl=P3(null));var a,l}$l(){return this.Le()?zm:this.Dl()?nv:this.Ja()?e=>a2(e,this.wl):null}vo(e,r,i){return r===void 0?(i===void 0&&(i=this.ea()),i.format(e)):r(e)}mo(e,r,i){return r===void 0?(i===void 0&&(i=this.ea()),i.formatTickmarks(e)):r(e)}nr(e,r){return this.vo(e,this.bl.priceFormatter,r)}uo(e,r){const i=this.bl.priceFormatter;return this.mo(e,this.bl.tickmarksPriceFormatter??(i?s=>s.map(i):void 0),r)}oo(e,r){return this.vo(e,this.bl.percentageFormatter,r)}_o(e,r){const i=this.bl.percentageFormatter;return this.mo(e,this.bl.tickmarksPercentageFormatter??(i?s=>s.map(i):void 0),r)}}function Xq(n){return n instanceof vE}class Qq{constructor(e,r){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new Br,this.yh=[],this.uh=e,this.ts=r,this.Co=new g$e(this);const i=r.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(e){if(e.leftPriceScale&&this.Po.hr(e.leftPriceScale),e.rightPriceScale&&this.ko.hr(e.rightPriceScale),e.localization&&(this.Po.wa(),this.ko.wa()),e.overlayPriceScales){const r=Array.from(this.wo.values());for(const i of r){const s=gt(i[0].Ft());s.hr(e.overlayPriceScales),e.localization&&s.wa()}}}Do(e){switch(e){case"left":return this.Po;case"right":return this.ko}return this.wo.has(e)?Us(this.wo.get(e))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach(e=>{e.m&&e.m()}),this.yh=this.yh.filter(e=>{const r=e.oh();return r.detached&&r.detached(),!1}),this.xo.p()}Bo(){return this.bo}Io(e){this.bo=e}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(e){this.Mo=e,this.Ao()}Al(e){this.il=e,this.Po.Al(e),this.ko.Al(e),this.cl.forEach(r=>{if(this.Un(r)){const i=r.Ft();i!==null&&i.Al(e)}}),this.Ao()}zo(e){this.So=e}Lo(){return this.So}Oo(){return this.cl.filter(Xq)}Ma(){return this.cl}Un(e){const r=e.Ft();return r===null||this.Po!==r&&this.ko!==r}Gl(e,r,i){this.No(e,r,i?e.hs():this.cl.length)}Ql(e,r){const i=this.cl.indexOf(e);_i(i!==-1,"removeDataSource: invalid data source"),this.cl.splice(i,1),r||this.cl.forEach((a,l)=>a.ls(l));const s=gt(e.Ft()).ma();if(this.wo.has(s)){const a=Us(this.wo.get(s)),l=a.indexOf(e);l!==-1&&(a.splice(l,1),a.length===0&&this.wo.delete(s))}const o=e.Ft();o&&o.Ma().indexOf(e)>=0&&(o.Ql(e),this.Fo(o)),this.fl=null}qn(e){return e===this.Po?"left":e===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(e,r){e.no(r)}$o(e,r){e.eo(r),this.Ao()}qo(e){e.ro()}Yo(e,r){e.ho(r)}jo(e,r){e.ao(r),this.Ao()}Ko(e){e.lo()}Ao(){this.cl.forEach(e=>{e.Ns()})}ks(){let e=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?e=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?e=this.Po:this.cl.length!==0&&(e=this.cl[0].Ft()),e===null&&(e=this.ko),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.ko:this.ts.N().leftPriceScale.visible&&(e=this.Po),e}Fo(e){e!==null&&e.Tl()&&this.Xo(e)}Zo(e){const r=this.uh.Pe();e.yl({sn:!0}),r!==null&&e.do(r),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach(e=>{this.Un(e)&&this.Fo(e.Ft())}),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=Pme(this.cl)),this.fl}Qo(e,r){r=tv(r,0,this.cl.length-1);const i=this.cl.indexOf(e);_i(i!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(r,0,e),this.cl.forEach((s,o)=>s.ls(o)),this.fl=null;for(const s of[this.Po,this.ko])s.Jl(),s.wa();this.ts.ar()}Bt(){return this.Dt().filter(Xq)}t_(){return this.xo}i_(){return this.Co}_a(e){this.yh.push(new r$e(e))}ua(e){this.yh=this.yh.filter(r=>r.oh()!==e),e.detached&&e.detached(),this.ts.ar()}s_(){return this.yh}sa(e,r){return this.yh.map(i=>i.jn(e,r)).filter(i=>i!==null)}Xo(e){const r=e.co();if(r&&r.length>0&&!this.uh.Ki()){const i=this.uh.Pe();i!==null&&e.do(i)}e.Ns()}No(e,r,i){let s=this.Do(r);if(s===null&&(s=this.yo(r,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,e),!bE(r)){const o=this.wo.get(r)||[];o.push(e),this.wo.set(r,o)}e.ls(i),s.Gl(e),e._s(s),this.Fo(s),this.fl=null}To(e,r,i){r.ie!==i.ie&&this.Xo(e)}yo(e,r){const i={visible:!0,autoScale:!0,...Hc(r)},s=new v$e(e,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return s.Al(this.$t()),s}}function y_(n){return{n_:n.n_,e_:{Kn:n.r_.externalId},h_:n.r_.cursorStyle}}function w$e(n,e,r,i){for(const s of n){const o=s.Tt(i);if(o!==null&&o.jn){const a=o.jn(e,r);if(a!==null)return{a_:s,e_:a}}}return null}function x$e(n){return n.Fs!==void 0}function Ime(n,e,r){const i=[n,...n.Dt()],s=function(o,a,l){var f;let c,u;for(const p of o){const m=((f=p.sa)==null?void 0:f.call(p,a,l))??[];for(const b of m)d=b.zOrder,h=c==null?void 0:c.zOrder,(!h||d==="top"&&h!=="top"||d==="normal"&&h==="bottom")&&(c=b,u=p)}var d,h;return c&&u?{r_:c,n_:u}:null}(i,e,r);if((s==null?void 0:s.r_.zOrder)==="top")return y_(s);for(const o of i){if(s&&s.n_===o&&s.r_.zOrder!=="bottom"&&!s.r_.isBackground)return y_(s);if(x$e(o)){const a=w$e(o.Fs(n),e,r,n);if(a!==null)return{n_:o,a_:a.a_,e_:a.e_}}if(s&&s.n_===o&&s.r_.zOrder!=="bottom"&&s.r_.isBackground)return y_(s)}return s!=null&&s.r_?y_(s):null}class _$e{constructor(e,r,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=e,this.o_=r,this.Vn=i}__(e){const r=e.time,i=this.o_.cacheKey(r),s=this.Dn.get(i);if(s!==void 0)return s.u_;if(this.yn===this.Vn){const a=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Us(a)),this.Tn++,this.yn--}const o=this.l_(e);return this.Dn.set(i,{u_:o,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,o}}class iv{constructor(e,r){_i(e<=r,"right should be >= left"),this.c_=e,this.d_=r}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(e){return this.c_<=e&&e<=this.d_}He(e){return this.c_===e.Uh()&&this.d_===e.bi()}}function Jq(n,e){return n===null||e===null?n===e:n.He(e)}class S$e{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(e){this.v_=e,this.Dn=null}w_(e,r){this.g_(r),this.Dn=null;for(let i=r;i<e.length;++i){const s=e[i];let o=this.p_.get(s.timeWeight);o===void 0&&(o=[],this.p_.set(s.timeWeight,o)),o.push({index:i,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}M_(e,r,i,s,o){const a=Math.ceil(r/e);return this.Dn!==null&&this.Dn.b_===a&&o===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:o,x_:i,Da:this.C_(a,i,s),b_:a}),this.Dn.Da}g_(e){if(e===0)return void this.p_.clear();const r=[];this.p_.forEach((i,s)=>{e<=i[0].index?r.push(s):i.splice(x0(i,e,o=>o.index<e),1/0)});for(const i of r)this.p_.delete(i)}C_(e,r,i){let s=[];const o=a=>!r||i.has(a.index);for(const a of Array.from(this.p_.keys()).sort((l,c)=>c-l)){if(!this.p_.get(a))continue;const l=s;s=[];const c=l.length;let u=0;const d=Us(this.p_.get(a)),h=d.length;let f=1/0,p=-1/0;for(let m=0;m<h;m++){const b=d[m],y=b.index;for(;u<c;){const v=l[u],w=v.index;if(!(w<y&&o(v))){f=w;break}u++,s.push(v),p=w,f=1/0}if(f-y>=e&&y-p>=e&&o(b))s.push(b),p=y;else if(this.v_)return l}for(;u<c;u++)o(l[u])&&s.push(l[u])}return s}}class lg{constructor(e){this.P_=e}y_(){return this.P_===null?null:new iv(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new lg(null)}}function k$e(n,e){return n.weight>e.weight?n:e}class C$e{constructor(e,r,i,s){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new S$e,this.B_=new Map,this.I_=lg.T_(),this.E_=!0,this.A_=new Br,this.z_=new Br,this.L_=new Br,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=r,this.bl=i,this.U_=r.rightOffset,this.q_=r.barSpacing,this.ts=e,this.Y_(r),this.o_=s,this.j_(),this.V_.m_(r.uniformDistribution),this.K_()}N(){return this.Ps}X_(e){vo(this.bl,e),this.Z_(),this.j_()}hr(e,r){vo(this.Ps,e),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),e.barSpacing!==void 0&&this.ts.dn(e.barSpacing),e.rightOffset!==void 0&&this.ts.fn(e.rightOffset),this.Y_(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ts.dn(e.barSpacing??this.q_),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(e){var r;return((r=this.D_[e])==null?void 0:r.time)??null}ss(e){return this.D_[e]??null}Q_(e,r){if(this.D_.length<1)return null;if(this.o_.key(e)>this.o_.key(this.D_[this.D_.length-1].time))return r?this.D_.length-1:null;const i=x0(this.D_,this.o_.key(e),(s,o)=>this.o_.key(s.time)<o);return this.o_.key(e)<this.o_.key(this.D_[i].time)?r?i:null:i}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const e=this.Pe();if(e===null)return null;const r={from:e.Uh(),to:e.bi()};return this.eu(r)}eu(e){const r=Math.round(e.from),i=Math.round(e.to),s=gt(this.ru()),o=gt(this.hu());return{from:gt(this.ss(Math.max(s,r))),to:gt(this.ss(Math.min(o,i)))}}au(e){return{from:gt(this.Q_(e.from,!0)),to:gt(this.Q_(e.to,!0))}}Qi(){return this.Mo}Eo(e){if(!isFinite(e)||e<=0||this.Mo===e)return;const r=this.su(),i=this.Mo;if(this.Mo=e,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&i!==0){const s=this.q_*e/i;this.q_=s}if(this.Ps.fixLeftEdge&&r!==null&&r.Uh()<=0){const s=i-e;this.U_-=Math.round(s/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(e){if(this.Ki()||!gw(e))return 0;const r=this._u()+this.U_-e;return this.Mo-(r+.5)*this.q_-1}uu(e,r){const i=this._u(),s=r===void 0?0:r.from,o=r===void 0?e.length:r.to;for(let a=s;a<o;a++){const l=e[a].wt,c=i+this.U_-l,u=this.Mo-(c+.5)*this.q_-1;e[a]._t=u}}cu(e,r){const i=Math.ceil(this.du(e));return r&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(e){this.E_=!0,this.U_=e,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(e){const r=this.q_;if(this.wu(e),this.Ps.rightOffsetPixels!==void 0&&r!==0){const i=this.U_*r/this.q_;this.U_=i}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const e=this.q_,r=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(r/e),s=gt(this.Pe()),o=Math.max(s.Uh(),s.Uh()-i),a=Math.max(s.bi(),s.bi()-i),l=this.V_.M_(e,r,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),c=this.ru()+i,u=this.hu()-i,d=this.Mu(),h=this.Ps.fixLeftEdge||d,f=this.Ps.fixRightEdge||d;let p=0;for(const m of l){if(!(o<=m.index&&m.index<=a))continue;let b;p<this.H_.length?(b=this.H_[p],b.coord=this.qt(m.index),b.label=this.bu(m),b.weight=m.weight):(b={needAlignCoordinate:!1,coord:this.qt(m.index),label:this.bu(m),weight:m.weight},this.H_.push(b)),this.q_>r/2&&!d?b.needAlignCoordinate=!1:b.needAlignCoordinate=h&&m.index<=c||f&&m.index>=u,p++}return this.H_.length=p,this.N_=this.H_,this.H_}Su(){let e;this.E_=!0,this.dn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(e)}xu(e){this.E_=!0,this.R_=e,this.ou(),this.G_()}Cu(e,r){const i=this.du(e),s=this.mu(),o=s+r*(s/10);this.dn(o),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(e)))}no(e){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=e,this.Pu()))}eo(e){if(this.O_===null)return;const r=tv(this.Mo-e,0,this.Mo),i=tv(this.Mo-gt(this.vl),0,this.Mo);r!==0&&i!==0&&this.dn(this.O_.mu*r/i)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(e){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=e,this.Pu()))}ao(e){if(this.ml===null)return;const r=(this.ml-e)/this.mu();this.U_=gt(this.O_).gu+r,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(e,r=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(r)||r<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,s=performance.now();this.ts._n({Ru:o=>(o-s)/r>=1,Du:o=>{const a=(o-s)/r;return a>=1?e:i+(e-i)*a}})}yt(e,r){this.E_=!0,this.D_=e,this.V_.w_(e,r),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(e,r){const i=e.f_(),s=r&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-s)/i),this.U_=e.bi()-this._u(),r&&(this.U_=s?s/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const e=this.ru(),r=this.hu();e!==null&&r!==null&&this.Eu(new iv(e,r),!0)}zu(e){const r=new iv(e.from,e.to);this.Eu(r)}ns(e){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(e.originalTime):this.o_.formatHorzItem(e.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const e=this.ts.js();for(const r of e)for(const i of r.va())this.F_.set(i,!0);this.W_++}Mu(){const e=this.ts.N().handleScroll,r=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||r.axisDoubleClickReset.time||r.axisPressedMouseMove.time||r.mouseWheel||r.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(e){return(this.Mo-1-e)/this.q_}du(e){const r=this.Lu(e),i=this._u()+this.U_-r;return Math.round(1e6*i)/1e6}wu(e){const r=this.q_;this.q_=e,this.lu(),r!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(lg.T_());const e=this._u(),r=this.Mo/this.q_,i=this.U_+e,s=new iv(i-r+1,i);this.Nu(new lg(s))}lu(){const e=tv(this.q_,this.Fu(),this.Wu());this.q_!==e&&(this.q_=e,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const e=this.Hu();e!==null&&this.U_<e&&(this.U_=e,this.E_=!0);const r=this.Uu();this.U_>r&&(this.U_=r,this.E_=!0)}Hu(){const e=this.ru(),r=this.R_;return e===null||r===null?null:e-r-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(e){let r=this.B_.get(e.weight);return r===void 0&&(r=new _$e(i=>this.$u(i),this.o_),this.B_.set(e.weight,r)),r.__(e)}$u(e){return this.o_.formatTickmark(e,this.bl)}Nu(e){const r=this.I_;this.I_=e,Jq(r.y_(),this.I_.y_())||this.A_.p(),Jq(r.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const e=this.ru();if(e===null)return;const r=this.Pe();if(r===null)return;const i=r.Uh()-e;if(i<0){const s=this.U_-i-1;this.fn(s)}this.lu()}J_(){this.ou(),this.lu()}fu(e){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(e)||!1}pu(e){const r=function*(s){const o=Math.round(s),a=o<s;let l=1;for(;;)a?(yield o+l,yield o-l):(yield o-l,yield o+l),l++}(e),i=this.hu();for(;i;){const s=r.next().value;if(this.F_.get(s))return s;if(s<0||s>i)break}return e}Y_(e){if(e.rightOffsetPixels!==void 0){const r=e.rightOffsetPixels/(e.barSpacing||this.q_);this.ts.fn(r)}}}var Zq,eH,tH,nH,rH;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(Zq||(Zq={}));class E$e{constructor(e,r,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new Br,this.Xu=new Br,this.Zu=null,this.Gu=e,this.Ps=r,this.o_=i,this.Sl=new EFe(this.Ps.layout.colorParsers),this.Ju=new CFe(this),this.uh=new C$e(this,r.timeScale,this.Ps.localization,i),this.Ct=new BFe(this,r.crosshair),this.Qu=new f$e(r.crosshair),r.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(ks.gn())}ar(){this.rc(ks.wn())}Zh(){this.rc(new ks(1))}Eh(e){const r=this.hc(e);this.rc(r)}ac(){return this.ju}lc(e){var i,s,o,a;if(((i=this.ju)==null?void 0:i.n_)===(e==null?void 0:e.n_)&&((o=(s=this.ju)==null?void 0:s.e_)==null?void 0:o.Kn)===((a=e==null?void 0:e.e_)==null?void 0:a.Kn))return;const r=this.ju;this.ju=e,r!==null&&this.Eh(r.n_),e!==null&&e.n_!==(r==null?void 0:r.n_)&&this.Eh(e.n_)}N(){return this.Ps}hr(e){vo(this.Ps,e),this.qu.forEach(r=>r.Ro(e)),e.timeScale!==void 0&&this.uh.hr(e.timeScale),e.localization!==void 0&&this.uh.X_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(e,r,i=0){const s=this.qu[i];if(s===void 0)return;if(e==="left")return vo(this.Ps,{leftPriceScale:r}),s.Ro({leftPriceScale:r}),this.Ku.p(),void this.Ih();if(e==="right")return vo(this.Ps,{rightPriceScale:r}),s.Ro({rightPriceScale:r}),this.Ku.p(),void this.Ih();const o=this._c(e,i);o!==null&&(o.Ft.hr(r),this.Ku.p())}_c(e,r){const i=this.qu[r];if(i===void 0)return null;const s=i.Do(e);return s!==null?{Us:i,Ft:s}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(e,r){e.Al(r),this.vu()}Eo(e){this.Mo=e,this.uh.Eo(this.Mo),this.qu.forEach(r=>r.Eo(e)),this.vu()}fc(e){this.qu.length!==1&&(_i(e>=0&&e<this.qu.length,"Invalid pane index"),this.qu.splice(e,1),this.Ih())}vc(e,r){if(this.qu.length<2)return;_i(e>=0&&e<this.qu.length,"Invalid pane index");const i=this.qu[e],s=this.qu.reduce((h,f)=>h+f.Bo(),0),o=this.qu.reduce((h,f)=>h+f.$t(),0),a=o-30*(this.qu.length-1);r=Math.min(a,Math.max(30,r));const l=s/o,c=i.$t();i.Io(r*l);let u=r-c,d=this.qu.length-1;for(const h of this.qu)if(h!==i){const f=Math.min(a,Math.max(30,h.$t()-u/d));u-=h.$t()-f,d-=1;const p=f*l;h.Io(p)}this.Ih()}mc(e,r){_i(e>=0&&e<this.qu.length&&r>=0&&r<this.qu.length,"Invalid pane index");const i=this.qu[e],s=this.qu[r];this.qu[e]=s,this.qu[r]=i,this.Ih()}wc(e,r){if(_i(e>=0&&e<this.qu.length&&r>=0&&r<this.qu.length,"Invalid pane index"),e===r)return;const[i]=this.qu.splice(e,1);this.qu.splice(r,0,i),this.Ih()}Uo(e,r,i){e.Uo(r,i)}$o(e,r,i){e.$o(r,i),this.Ah(),this.rc(this.gc(e,2))}qo(e,r){e.qo(r),this.rc(this.gc(e,2))}Yo(e,r,i){r.Tl()||e.Yo(r,i)}jo(e,r,i){r.Tl()||(e.jo(r,i),this.Ah(),this.rc(this.gc(e,2)))}Ko(e,r){r.Tl()||(e.Ko(r),this.rc(this.gc(e,2)))}Zo(e,r){e.Zo(r),this.rc(this.gc(e,2))}Mc(e){this.uh.no(e)}bc(e,r){const i=this.Et();if(i.Ki()||r===0)return;const s=i.Qi();e=Math.max(1,Math.min(e,s)),i.Cu(e,r),this.vu()}Sc(e){this.xc(0),this.Cc(e),this.Pc()}yc(e){this.uh.eo(e),this.vu()}kc(){this.uh.ro(),this.ar()}xc(e){this.uh.ho(e)}Cc(e){this.uh.ao(e),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(e,r,i,s,o){this.Ct.Vs(e,r);let a=NaN,l=this.uh.cu(e,!0);const c=this.uh.Pe();c!==null&&(l=Math.min(Math.max(c.Uh(),l),c.bi()));const u=s.ks(),d=u.zt();if(d!==null&&(a=u.Ts(r,d)),a=this.Qu.ga(a,l,s),this.Ct.As(l,a,s),this.Zh(),!o){const h=Ime(s,e,r);this.lc(h&&{n_:h.n_,e_:h.e_,h_:h.h_||null}),this.Xu.p(this.Ct.It(),{x:e,y:r},i)}}Rc(e,r,i){const s=i.ks(),o=s.zt(),a=s.Nt(e,gt(o)),l=this.uh.Q_(r,!0),c=this.uh.qt(gt(l));this.Tc(c,a,null,i,!0)}Dc(e){this.uc().Ls(),this.Zh(),e||this.Xu.p(null,null,null)}Ah(){const e=this.Ct.Us();if(e!==null){const r=this.Ct.Is(),i=this.Ct.Es();this.Tc(r,i,null,e)}this.Ct.Ns()}Vc(e,r,i){const s=this.uh.Rs(0);r!==void 0&&i!==void 0&&this.uh.yt(r,i);const o=this.uh.Rs(0),a=this.uh._u(),l=this.uh.Pe();if(l!==null&&s!==null&&o!==null){const c=l.Te(a),u=this.o_.key(s)>this.o_.key(o),d=e!==null&&e>a&&!u,h=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,f=c&&(i!==void 0||h)&&this.uh.N().shiftVisibleRangeOnNewBar;if(d&&!f){const p=e-a;this.uh.fn(this.uh.gu()-p)}}this.uh.xu(e)}Lh(e){e!==null&&e.Jo()}Hn(e){if(function(i){return i instanceof Qq}(e))return e;const r=this.qu.find(i=>i.Dt().includes(e));return r===void 0?null:r}vu(){this.qu.forEach(e=>e.Jo()),this.Ah()}m(){this.qu.forEach(e=>e.m()),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(e,r){const i=this.tc(r);this.Ec(e,i),this.Yu.push(e),this.Yu.length===1?this.Ih():this.ar()}Ac(e){const r=this.Hn(e),i=this.Yu.indexOf(e);_i(i!==-1,"Series not found");const s=gt(r);this.Yu.splice(i,1),s.Ql(e),e.m&&e.m(),this.uh.K_(),this.zc(s)}Bh(e,r){const i=gt(this.Hn(e));i.Ql(e,!0),i.Gl(e,r,!0)}Au(){const e=ks.wn();e.rn(),this.rc(e)}Lc(e){const r=ks.wn();r.ln(e),this.rc(r)}cn(){const e=ks.wn();e.cn(),this.rc(e)}dn(e){const r=ks.wn();r.dn(e),this.rc(r)}fn(e){const r=ks.wn();r.fn(e),this.rc(r)}_n(e){const r=ks.wn();r._n(e),this.rc(r)}hn(){const e=ks.wn();e.hn(),this.rc(e)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(e,r){if(_i(r>=0,"Index should be greater or equal to 0"),r===this.Fc(e))return;const i=gt(this.Hn(e));i.Ql(e);const s=this.tc(r);this.Ec(e,s),i.Ma().length===0&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(e){const r=this.ec,i=this.sc;if(r===i)return r;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Zu===null||this.Zu.mr!==i||this.Zu.wr!==r)this.Zu={mr:i,wr:r,Hc:new Map};else{const o=this.Zu.Hc.get(e);if(o!==void 0)return o}const s=this.Sl.tt(i,r,e/100);return this.Zu.Hc.set(e,s),s}Uc(e){return this.qu.indexOf(e)}Xi(){return this.Sl}$c(){return this.qc()}qc(e){const r=new Qq(this.uh,this);this.qu.push(r);const i=e??this.qu.length-1,s=ks.gn();return s.Qs(i,{tn:0,sn:!0}),this.rc(s),r}tc(e){return _i(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.qu.length,e))<this.qu.length?this.qu[e]:this.qc(e)}Fc(e){return this.qu.findIndex(r=>r.Oo().includes(e))}gc(e,r){const i=new ks(r);if(e!==null){const s=this.qu.indexOf(e);i.Qs(s,{tn:r})}return i}hc(e,r){return r===void 0&&(r=2),this.gc(this.Hn(e),r)}rc(e){this.Gu&&this.Gu(e),this.qu.forEach(r=>r.i_().lr().yt())}Ec(e,r){const i=e.N().priceScaleId,s=i!==void 0?i:this.Oc();r.Gl(e,s),bE(s)||e.hr(e.N())}nc(e){const r=this.Ps.layout;return r.background.type==="gradient"?e===0?r.background.topColor:r.background.bottomColor:r.background.color}zc(e){!e.Lo()&&e.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(e),1)}}function Mme(n){if(n>=1)return 0;let e=0;for(;e<8;e++){const r=Math.round(n);if(Math.abs(r-n)<1e-8)return e;n*=10}return e}function v4(n){return!w0(n)&&!Tx(n)}function Ome(n){return w0(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(eH||(eH={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(tH||(tH={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(nH||(nH={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(rH||(rH={}));const iH=n=>n.getUTCFullYear();function A$e(n,e,r){return e.replace(/yyyy/g,(i=>Vc(iH(i),4))(n)).replace(/yy/g,(i=>Vc(iH(i)%100,2))(n)).replace(/MMMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(n,r)).replace(/MMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(n,r)).replace(/MM/g,(i=>Vc((s=>s.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>Vc((s=>s.getUTCDate())(i),2))(n))}class Dme{constructor(e="yyyy-MM-dd",r="default"){this.Yc=e,this.jc=r}__(e){return A$e(e,this.Yc,this.jc)}}class T$e{constructor(e){this.Kc=e||"%h:%m:%s"}__(e){return this.Kc.replace("%h",Vc(e.getUTCHours(),2)).replace("%m",Vc(e.getUTCMinutes(),2)).replace("%s",Vc(e.getUTCSeconds(),2))}}const P$e={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class I$e{constructor(e={}){const r={...P$e,...e};this.Qc=new Dme(r.Xc,r.Jc),this.td=new T$e(r.Zc),this.sd=r.Gc}__(e){return`${this.Qc.__(e)}${this.sd}${this.td.__(e)}`}}function v_(n){return 60*n*60*1e3}function M3(n){return 60*n*1e3}const w_=[{nd:(sH=1,1e3*sH),ed:10},{nd:M3(1),ed:20},{nd:M3(5),ed:21},{nd:M3(30),ed:22},{nd:v_(1),ed:30},{nd:v_(3),ed:31},{nd:v_(6),ed:32},{nd:v_(12),ed:33}];var sH;function oH(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let r=w_.length-1;r>=0;--r)if(Math.floor(e.getTime()/w_[r].nd)!==Math.floor(n.getTime()/w_[r].nd))return w_[r].ed;return 0}function O3(n){let e=n;if(Tx(n)&&(e=J9(n)),!v4(e))throw new Error("time must be of type BusinessDay");const r=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{rd:Math.round(r.getTime()/1e3),hd:e}}function aH(n){if(!Ome(n))throw new Error("time must be of type isUTCTimestamp");return{rd:n}}function J9(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function lH(n){Tx(n.time)&&(n.time=J9(n.time))}let cH=class{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(r){r.forEach(lH)}(e):lH(e)}createConverterToInternalObj(e){return gt(function(r){return r.length===0?null:v4(r[0].time)||Tx(r[0].time)?O3:aH}(e))}key(e){return typeof e=="object"&&"rd"in e?e.rd:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const r=e;return r.hd===void 0?new Date(1e3*r.rd).getTime():new Date(Date.UTC(r.hd.year,r.hd.month-1,r.hd.day)).getTime()}convertHorzItemToInternal(e){return Ome(r=e)?aH(r):v4(r)?O3(r):O3(J9(r));var r}updateFormatter(e){if(!this.Ps)return;const r=e.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new I$e({Xc:r,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:e.locale}):this.ad=new Dme(r,e.locale)}formatHorzItem(e){const r=e;return this.ad.__(new Date(1e3*r.rd))}formatTickmark(e,r){const i=function(o,a,l){switch(o){case 0:case 10:return a?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return a?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),s=this.Ps.timeScale;if(s.tickMarkFormatter!==void 0){const o=s.tickMarkFormatter(e.originalTime,i,r.locale);if(o!==null)return o}return function(o,a,l){const c={};switch(a){case 0:c.year="numeric";break;case 1:c.month="short";break;case 2:c.day="numeric";break;case 3:c.hour12=!1,c.hour="2-digit",c.minute="2-digit";break;case 4:c.hour12=!1,c.hour="2-digit",c.minute="2-digit",c.second="2-digit"}const u=o.hd===void 0?new Date(1e3*o.rd):new Date(Date.UTC(o.hd.year,o.hd.month-1,o.hd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,c)}(e.time,i,r.locale)}maxTickMarkWeight(e){let r=e.reduce(k$e,e[0]).weight;return r>30&&r<50&&(r=30),r}fillWeightsForPoints(e,r){(function(i,s=0){if(i.length===0)return;let o=s===0?null:i[s-1].time.rd,a=o!==null?new Date(1e3*o):null,l=0;for(let c=s;c<i.length;++c){const u=i[c],d=new Date(1e3*u.time.rd);a!==null&&(u.timeWeight=oH(d,a)),l+=u.time.rd-(o||u.time.rd),o=u.time.rd,a=d}if(s===0&&i.length>1){const c=Math.ceil(l/(i.length-1)),u=new Date(1e3*(i[0].time.rd-c));i[0].timeWeight=oH(new Date(1e3*i[0].time.rd),u)}})(e,r)}static ld(e){return vo({localization:{dateFormat:"dd MMM 'yy"}},e??{})}};const _0=typeof window<"u";function uH(){return!!_0&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function D3(){return!!_0&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function w4(n){return n+n%2}function M$e(n){_0&&window.chrome!==void 0&&n.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class wE{constructor(e,r,i){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!D3(),this.Ld=s=>{this.Od(s)},this.Nd=s=>{if(this.Fd(s)){const o=this.Wd(s);if(++this.dd,this.fd&&this.dd>1){const{Hd:a}=this.Ud(dl(s),this.pd);a<30&&!this.Sd&&this.$d(o,this.Yd.qd),this.jd()}}else{const o=this.Wd(s);if(++this.od,this._d&&this.od>1){const{Hd:a}=this.Ud(dl(s),this.ud);a<5&&!this.bd&&this.Kd(o,this.Yd.Xd),this.Zd()}}},this.Gd=e,this.Yd=r,this.Ps=i,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(e){this.yd&&this.yd();const r=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",r)},this.Gd.addEventListener("mousemove",r),this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(e){if(this.Id||this.gd!==null||this.Fd(e))return;const r=this.Wd(e);this.Kd(r,this.Yd.nf),this.zd=!0}ef(e){const r=R3(e.changedTouches,gt(this.Ad));if(r===null||(this.Ed=x_(e),this.Rd!==null)||this.Bd)return;this.Vd=!0;const i=this.Ud(dl(r),gt(this.gd)),{rf:s,hf:o,Hd:a}=i;if(this.Md||!(a<5)){if(!this.Md){const l=.5*s,c=o>=l&&!this.Ps.af(),u=l>o&&!this.Ps.lf();c||u||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const l=this.Wd(e,r);this.$d(l,this.Yd._f),om(e)}}}uf(e){if(e.button!==0)return;const r=this.Ud(dl(e),gt(this.wd)),{Hd:i}=r;if(i>=5&&(this.bd=!0,this.Zd()),this.bd){const s=this.Wd(e);this.Kd(s,this.Yd.cf)}}Ud(e,r){const i=Math.abs(r._t-e._t),s=Math.abs(r.ut-e.ut);return{rf:i,hf:s,Hd:i+s}}df(e){let r=R3(e.changedTouches,gt(this.Ad));if(r===null&&e.touches.length===0&&(r=e.changedTouches[0]),r===null)return;this.Ad=null,this.Ed=x_(e),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const i=this.Wd(e,r);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:s}=this.Ud(dl(r),this.pd);s<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&om(e));this.dd===0&&om(e),e.touches.length===0&&this.md&&(this.md=!1,om(e))}Od(e){if(e.button!==0)return;const r=this.Wd(e);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),uH()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(e))if(this.Kd(r,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:i}=this.Ud(dl(e),this.ud);i<5&&!this.bd&&this.Kd(r,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(r,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(e){if(this.Ad!==null)return;const r=e.changedTouches[0];this.Ad=r.identifier,this.Ed=x_(e);const i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=dl(r),this.Td&&(this.Td(),this.Td=null);{const o=this.ef.bind(this),a=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",o),i.removeEventListener("touchend",a)},i.addEventListener("touchmove",o,{passive:!1}),i.addEventListener("touchend",a,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,e),240)}const s=this.Wd(e,r);this.$d(s,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=dl(r))}bf(e){if(e.button!==0)return;const r=this.Gd.ownerDocument.documentElement;uH()&&r.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=dl(e),this.kd&&(this.kd(),this.kd=null);{const s=this.uf.bind(this),o=this.Od.bind(this);this.kd=()=>{r.removeEventListener("mousemove",s),r.removeEventListener("mouseup",o)},r.addEventListener("mousemove",s),r.addEventListener("mouseup",o)}if(this.Id=!0,this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=dl(e))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const e=this.Gd.ownerDocument,r=i=>{this.Yd.xf&&(i.composed&&this.Gd.contains(i.composedPath()[0])||i.target&&this.Gd.contains(i.target)||this.Yd.xf())};this.Cd=()=>{e.removeEventListener("touchstart",r)},this.xd=()=>{e.removeEventListener("mousedown",r)},e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0})}D3()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),M$e(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",()=>{},{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",e=>this.Rf(e.touches),{passive:!0}),this.Gd.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const r=dH(e.touches[0],e.touches[1])/this.Dd;this.Yd.kf(this.Rd,r),om(e)}},{passive:!1}),this.Gd.addEventListener("touchend",e=>{this.Rf(e.touches)}))}Rf(e){e.length===1&&(this.Vd=!1),e.length!==2||this.Vd||this.md?this.Df():this.Vf(e)}Vf(e){const r=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(e[0].clientX-r.left+(e[1].clientX-r.left))/2,ut:(e[0].clientY-r.top+(e[1].clientY-r.top))/2},this.Dd=dH(e[0],e[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(e){if(this.yd&&this.yd(),this.Fd(e)||!this.zd)return;const r=this.Wd(e);this.Kd(r,this.Yd.Bf),this.zd=!D3()}gf(e){const r=R3(e.touches,gt(this.Ad));if(r===null)return;const i=this.Wd(e,r);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:x_(e)<this.Ed+500}$d(e,r){r&&r.call(this.Yd,e)}Kd(e,r){r&&r.call(this.Yd,e)}Wd(e,r){const i=r||e,s=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Ef:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Af:e.type,zf:i.target,a_:e.view,Lf:()=>{e.type!=="touchstart"&&om(e)}}}}function dH(n,e){const r=n.clientX-e.clientX,i=n.clientY-e.clientY;return Math.sqrt(r*r+i*i)}function om(n){n.cancelable&&n.preventDefault()}function dl(n){return{_t:n.pageX,ut:n.pageY}}function x_(n){return n.timeStamp||performance.now()}function R3(n,e){for(let r=0;r<n.length;++r)if(n[r].identifier===e)return n[r];return null}class O$e{constructor(e,r,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=e,this.Uf=e.$f()[r],this.qf=e.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return qn({width:this.Uf.Gf().width,height:1})}Jf(){return qn({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(e,r,i){const s=this.Jf();e.fillStyle=this.Hf.N().layout.panes.separatorColor,e.fillRect(r,i,s.width,s.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const e=document.createElement("div"),r=e.style;r.position="fixed",r.display="none",r.zIndex="49",r.top="0",r.left="0",r.width="100%",r.height="100%",r.cursor="row-resize",this.jf.appendChild(e);const i=document.createElement("div"),s=i.style;s.position="absolute",s.zIndex="50",s.top="-4px",s.height="9px",s.width="100%",s.backgroundColor="",s.cursor="row-resize",this.jf.appendChild(i);const o={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new wE(i,o,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:e}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(e){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(e){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(e){if(this.Of===null)return;const r=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=r/(this.Uf.Gf().height+this.qf.Gf().height),s=30*i;r<=2*s||(this.Wf={lp:e.pageY,op:this.Uf.ap().Bo(),_p:r-s,up:r,cp:i,dp:s},this.Of.tp.style.display="block")}rp(e){const r=this.Wf;if(r===null)return;const i=(e.pageY-r.lp)*r.cp,s=tv(r.op+i,r.dp,r._p);this.Uf.ap().Io(s),this.qf.ap().Io(r.up-s),this.Hf.Qt().Ih()}hp(e){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function N3(n,e){return n.fp-e.fp}function j3(n,e,r){const i=(n.fp-e.fp)/(n.wt-e.wt);return Math.sign(i)*Math.min(Math.abs(i),r)}class D$e{constructor(e,r,i,s){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=e,this.xp=r,this.Cp=i,this.Mn=s}Pp(e,r){if(this.pp!==null){if(this.pp.wt===r)return void(this.pp.fp=e);if(Math.abs(this.pp.fp-e)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:r,fp:e}}le(e,r){if(this.pp===null||this.vp===null||r-this.pp.wt>50)return;let i=0;const s=j3(this.pp,this.vp,this.xp),o=N3(this.pp,this.vp),a=[s],l=[o];if(i+=o,this.mp!==null){const u=j3(this.vp,this.mp,this.xp);if(Math.sign(u)===Math.sign(s)){const d=N3(this.vp,this.mp);if(a.push(u),l.push(d),i+=d,this.wp!==null){const h=j3(this.mp,this.wp,this.xp);if(Math.sign(h)===Math.sign(s)){const f=N3(this.mp,this.wp);a.push(h),l.push(f),i+=f}}}}let c=0;for(let u=0;u<a.length;++u)c+=l[u]/i*a[u];Math.abs(c)<this.Sp||(this.gp={fp:e,wt:r},this.bp=c,this.Mp=function(u,d){const h=Math.log(d);return Math.log(1*h/-u)/h}(Math.abs(c),this.Cp))}Du(e){const r=gt(this.gp),i=e-r.wt;return r.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(e){return this.gp===null||this.yp(e)===this.Mp}yp(e){const r=e-gt(this.gp).wt;return Math.min(r,this.Mp)}}class R$e{constructor(e,r){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=e,this.Vp=r,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function tp(n,e){const r=gt(n.ownerDocument).createElement("canvas");n.appendChild(r);const i=vFe(r,{options:{allowResizeObserver:!0},transform:(s,o)=>({width:Math.max(s.width,o.width),height:Math.max(s.height,o.height)})});return i.resizeCanvasElement(e),i}function np(n){var e;n.width=1,n.height=1,(e=n.getContext("2d"))==null||e.clearRect(0,0,1,1)}function x4(n,e,r,i){n.ih&&n.ih(e,r,i)}function IS(n,e,r,i){n.nt(e,r,i)}function _4(n,e,r,i){const s=n(r,i);for(const o of s){const a=o.Tt(i);a!==null&&e(a)}}function B3(n,e){return r=>{var i,s;return function(o){return o.Ft!==void 0}(r)?(((i=r.Ft())==null?void 0:i.ma())??"")!==e?[]:((s=r.ta)==null?void 0:s.call(r,n))??[]:[]}}function hH(n,e,r,i){if(!n.length)return;let s=0;const o=n[0].$t(i,!0);let a=e===1?r/2-(n[0].Fi()-o/2):n[0].Fi()-o/2-r/2;a=Math.max(0,a);for(let l=1;l<n.length;l++){const c=n[l],u=n[l-1],d=u.$t(i,!1),h=c.Fi(),f=u.Fi();if(e===1?h>f-d:h<f+d){const p=f-d*e;c.Wi(p);const m=p-e*d/2;if((e===1?m<0:m>r)&&a>0){const b=e===1?-1-m:m-r,y=Math.min(b,a);for(let v=s;v<n.length;v++)n[v].Wi(n[v].Fi()+e*y);a-=y}}else s=l,a=e===1?f-d-h:h-(f+d)}}class fH{constructor(e,r,i,s){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new i2(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=e,this.Ps=r,this.Ml=r.layout,this.Ju=i,this.jp=s==="left",this.Kp=B3("normal",s),this.Xp=B3("top",s),this.Zp=B3("bottom",s),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=tp(this.jf,qn({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const o=this.Gp.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Jp=tp(this.jf,qn({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const a=this.Jp.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const l={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new wE(this.Jp.canvasElement,l,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),np(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),np(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const e=this.Ju.N();return this.Wp!==e.k&&(this.Fp.Bn(),this.Wp=e.k),e}nv(){if(this.Yi===null)return 0;let e=0;const r=this.sv(),i=gt(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));i.save();const s=this.Yi.Da();i.font=this.ev(),s.length>0&&(e=Math.max(this.Fp.Vi(i,s[0].Za),this.Fp.Vi(i,s[s.length-1].Za)));const o=this.rv();for(let u=o.length;u--;){const d=this.Fp.Vi(i,o[u].ri());d>e&&(e=d)}const a=this.Yi.zt();if(a!==null&&this.Op!==null&&(l=this.Ps.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const u=this.Yi.Ts(1,a),d=this.Yi.Ts(this.Op.height-2,a);e=Math.max(e,this.Fp.Vi(i,this.Yi.Zi(Math.floor(Math.min(u,d))+.11111111111111,a)),this.Fp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(u,d))-.11111111111111,a)))}var l;i.restore();const c=e||34;return w4(Math.ceil(r.S+r.C+r.B+r.I+5+c))}hv(e){this.Op!==null&&Mf(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`)}av(){return gt(this.Op).width}_s(e){this.Yi!==e&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=e,e.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const e=this.Pt.ap();this.Pt.qp().Qt().Zo(e,gt(this.Ft()))}lv(e){if(this.Op===null)return;const r={colorSpace:this.Pt.qp().N().layout.colorSpace};if(e!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const s=ep(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o),this.uv(o)}),this.Pt.cv(s,this.Zp),this.dv(s),this.Pt.cv(s,this.Kp),this.fv(s))}this.Jp.applySuggestedBitmapSize();const i=ep(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e.drawImage(a,r,i)}}yt(){var e;(e=this.Yi)==null||e.Da()}ep(e){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,r.Uo(i,this.Yi,e.localY)}rp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap(),s=this.Yi;r.$o(i,s,e.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),r=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,e.qo(r,i))}hp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,r.qo(i,this.Yi)}tv(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(e){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(e){this.vv(0)}rv(){const e=[],r=this.Yi===null?void 0:this.Yi;return(i=>{for(let s=0;s<i.length;++s){const o=i[s].Ws(this.Pt.ap(),r);for(let a=0;a<o.length;a++)e.push(o[a])}})(this.Pt.ap().Dt()),e}_v({context:e,bitmapSize:r}){const{width:i,height:s}=r,o=this.Pt.ap().Qt(),a=o.$(),l=o.Wc();a===l?mE(e,0,0,i,s,a):vme(e,0,0,i,s,a,l)}uv({context:e,bitmapSize:r,horizontalPixelRatio:i}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const s=Math.max(1,Math.floor(this.sv().S*i));let o;o=this.jp?r.width-s:0,e.fillRect(o,0,s,r.height)}dv(e){if(this.Op===null||this.Yi===null)return;const r=this.Yi.Da(),i=this.Yi.N(),s=this.sv(),o=this.jp?this.Op.width-s.C:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:c})=>{a.fillStyle=i.borderColor;const u=Math.max(1,Math.floor(c)),d=Math.floor(.5*c),h=Math.round(s.C*l);a.beginPath();for(const f of r)a.rect(Math.floor(o*l),Math.round(f.Pa*c)-d,h,u);a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{a.font=this.ev(),a.fillStyle=i.textColor??this.Ml.textColor,a.textAlign=this.jp?"right":"left",a.textBaseline="middle";const l=this.jp?Math.round(o-s.B):Math.round(o+s.C+s.B),c=r.map(u=>this.Fp.Di(a,u.Za));for(let u=r.length;u--;){const d=r[u];a.fillText(d.Za,l,d.Pa+c[u])}})}ov(){if(this.Op===null||this.Yi===null)return;let e=this.Op.height/2;const r=[],i=this.Yi.Dt().slice(),s=this.Pt.ap(),o=this.sv();this.Yi===s.$n()&&this.Pt.ap().Dt().forEach(c=>{s.Un(c)&&i.push(c)});const a=this.Yi.Ma()[0],l=this.Yi;i.forEach(c=>{const u=c.Ws(s,l);u.forEach(d=>{d.Wi(null),d.Hi()&&r.push(d)}),a===c&&u.length>0&&(e=u[0].Ii())}),r.forEach(c=>c.Wi(c.Ii())),this.Yi.N().alignLabels&&this.mv(r,o,e)}mv(e,r,i){if(this.Op===null)return;const s=e.filter(a=>a.Ii()<=i),o=e.filter(a=>a.Ii()>i);s.sort((a,l)=>l.Ii()-a.Ii()),s.length&&o.length&&o.push(s[0]),o.sort((a,l)=>a.Ii()-l.Ii());for(const a of e){const l=Math.floor(a.$t(r)/2),c=a.Ii();c>-l&&c<l&&a.Wi(l),c>this.Op.height-l&&c<this.Op.height+l&&a.Wi(this.Op.height-l)}hH(s,1,this.Op.height,r),hH(o,-1,this.Op.height,r)}fv(e){if(this.Op===null)return;const r=this.rv(),i=this.sv(),s=this.jp?"right":"left";r.forEach(o=>{o.Ui()&&o.Tt(gt(this.Yi)).nt(e,i,this.Fp,s)})}pv(e){if(this.Op===null||this.Yi===null)return;const r=this.Pt.qp().Qt(),i=[],s=this.Pt.ap(),o=r.uc().Ws(s,this.Yi);o.length&&i.push(o);const a=this.sv(),l=this.jp?"right":"left";i.forEach(c=>{c.forEach(u=>{u.Tt(gt(this.Yi)).nt(e,a,this.Fp,l)})})}vv(e){this.jf.style.cursor=e===1?"ns-resize":"default"}_l(){const e=this.nv();this.Hp<e&&this.Pt.qp().Qt().Ih(),this.Hp=e}ev(){return r2(this.Ml.fontSize,this.Ml.fontFamily)}}function N$e(n,e){var r;return((r=n.Jh)==null?void 0:r.call(n,e))??[]}function pH(n,e){var r;return((r=n.Fs)==null?void 0:r.call(n,e))??[]}function mH(n,e){var r;return((r=n.us)==null?void 0:r.call(n,e))??[]}function j$e(n,e){var r;return((r=n.Xh)==null?void 0:r.call(n,e))??[]}class Z9{constructor(e,r){this.Op=qn({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new Br,this.Cv=new Br,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=e,this.Vv=r,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=tp(i,qn({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const s=this.Gp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jp=tp(i,qn({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const o=this.Jp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new wE(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),np(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),np(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return gt(this.Vv)}Lv(e){var r;this.Vv!==null&&this.Vv.t_().u(this),this.Vv=e,this.Vv!==null&&this.Vv.t_().i(Z9.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new R$e(this.Iv,this.Vp),this.Mv.yt()):((r=this.Mv)==null||r.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const e=this.Vv.Wo();this.wv._s(gt(e))}if(this.gv!==null){const e=this.Vv.Ho();this.gv._s(gt(e))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(e){this.Vv&&this.Vv.Io(e)}sf(e){if(!this.Vv)return;this.Fv();const r=e.localX,i=e.localY;this.Wv(r,i,e)}Sf(e){this.Fv(),this.Hv(),this.Wv(e.localX,e.localY,e)}nf(e){if(!this.Vv)return;this.Fv();const r=e.localX,i=e.localY;this.Wv(r,i,e)}mf(e){this.Vv!==null&&(this.Fv(),this.Uv(e))}Xd(e){this.Vv!==null&&this.$v(this.Cv,e)}qd(e){this.Xd(e)}cf(e){this.Fv(),this.qv(e),this.Wv(e.localX,e.localY,e)}vf(e){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(e))}pf(e){this.Vv!==null&&this.Uv(e)}If(e){if(this.yv=!0,this.kv===null){const r={x:e.localX,y:e.localY};this.jv(r,r,e)}}Bf(e){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(e,r){if(!this.Vp.N().handleScale.pinch)return;const i=5*(r-this.Pv);this.Pv=r,this.ts().bc(e._t,i)}Mf(e){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const r=this.ts().uc();this.kv!==null&&r.Vt()&&(this.Rv={x:r.si(),y:r.ni()},this.kv={x:e.localX,y:e.localY})}_f(e){if(this.Vv===null)return;const r=e.localX,i=e.localY;if(this.kv===null)this.qv(e);else{this.Tv=!1;const s=gt(this.Rv),o=s.x+(r-this.kv.x),a=s.y+(i-this.kv.y);this.Wv(o,a,e)}}ff(e){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(e)}jn(e,r){const i=this.Vv;return i===null?null:Ime(i,e,r)}Jv(e,r){gt(r==="left"?this.wv:this.gv).hv(qn({width:e,height:this.Op.height}))}Gf(){return this.Op}hv(e){Mf(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.Iv.style.width=e.width+"px",this.Iv.style.height=e.height+"px")}Qv(){const e=gt(this.Vv);e.Fo(e.Wo()),e.Fo(e.Ho());for(const r of e.Ma())if(e.Un(r)){const i=r.Ft();i!==null&&e.Fo(i),r.Ns()}for(const r of e.s_())r.Ns()}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e!==null&&e.drawImage(a,r,i)}}lv(e){if(e===0||this.Vv===null)return;e>1&&this.Qv(),this.wv!==null&&this.wv.lv(e),this.gv!==null&&this.gv.lv(e);const r={colorSpace:this.Vp.N().layout.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const s=ep(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o)}),this.Vv&&(this.tm(s,N$e),this.im(s),this.tm(s,pH),this.tm(s,mH)))}this.Jp.applySuggestedBitmapSize();const i=ep(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.sm(i),this.tm(i,j$e),this.tm(i,mH))}nm(){return this.wv}rm(){return this.gv}cv(e,r){this.tm(e,r)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(e){this.$v(this.xv,e)}$v(e,r){const i=r.localX,s=r.localY;e.v()&&e.p(this.ts().Et().cu(i),{x:i,y:s},r)}_v({context:e,bitmapSize:r}){const{width:i,height:s}=r,o=this.ts(),a=o.$(),l=o.Wc();a===l?mE(e,0,0,i,s,l):vme(e,0,0,i,s,a,l)}im(e){const r=gt(this.Vv),i=r.i_().lr().Tt(r);i!==null&&i.nt(e,!1)}sm(e){this.hm(e,pH,IS,this.ts().uc())}tm(e,r){const i=gt(this.Vv),s=i.Dt(),o=i.s_();for(const a of o)this.hm(e,r,x4,a);for(const a of s)this.hm(e,r,x4,a);for(const a of o)this.hm(e,r,IS,a);for(const a of s)this.hm(e,r,IS,a)}hm(e,r,i,s){const o=gt(this.Vv),a=o.Qt().ac(),l=a!==null&&a.n_===s,c=a!==null&&l&&a.e_!==void 0?a.e_.Xn:void 0;_4(r,u=>i(u,e,l,c),s,o)}Ov(){if(this.Vv===null)return;const e=this.Vp,r=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;r||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const s=e.Qt().Bc();r&&this.wv===null&&(this.wv=new fH(this,e.N(),s,"left"),this.Ev.appendChild(this.wv.Zf())),i&&this.gv===null&&(this.gv=new fH(this,e.N(),s,"right"),this.Av.appendChild(this.gv.Zf()))}am(e){return e.Ef&&this.yv||this.kv!==null}lm(e){return Math.max(0,Math.min(e,this.Op.width-1))}om(e){return Math.max(0,Math.min(e,this.Op.height-1))}Wv(e,r,i){this.ts().Tc(this.lm(e),this.om(r),i,gt(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(e,r,i){this.kv=e,this.Tv=!1,this.Wv(r.x,r.y,i);const s=this.ts().uc();this.Rv={x:s.si(),y:s.ni()}}ts(){return this.Vp.Qt()}Yv(e){if(!this.Sv)return;const r=this.ts(),i=this.ap();if(r.Ko(i,i.ks()),this.bv=null,this.Sv=!1,r.Pc(),this.Dv!==null){const s=performance.now(),o=r.Et();this.Dv.le(o.gu(),s),this.Dv.Ru(s)||r._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)gt(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(e){if(this.Vv===null)return;const r=this.ts(),i=r.Et();if(i.Ki())return;const s=this.Vp.N(),o=s.handleScroll,a=s.kineticScroll;if((!o.pressedMouseMove||e.Ef)&&(!o.horzTouchDrag&&!o.vertTouchDrag||!e.Ef))return;const l=this.Vv.ks(),c=performance.now();if(this.bv!==null||this.am(e)||(this.bv={x:e.clientX,y:e.clientY,rd:c,_m:e.localX,um:e.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==e.clientX||this.bv.y!==e.clientY)){if(e.Ef&&a.touch||!e.Ef&&a.mouse){const u=i.mu();this.Dv=new D$e(.2/u,7/u,.997,15/u),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;l.Ki()||r.Yo(this.Vv,l,e.localY),r.xc(e.localX),this.Sv=!0}this.Sv&&(l.Ki()||r.jo(this.Vv,l,e.localY),r.Cc(e.localX),this.Dv!==null&&this.Dv.Pp(i.gu(),c))}}class gH{constructor(e,r,i,s,o){this.xt=!0,this.Op=qn({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=e==="left",this.Ju=i.Bc,this.Ps=r,this.dm=s,this.fm=o,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=tp(this.jf,qn({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),np(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(e){Mf(this.Op,e)||(this.Op=e,this.Gp.resizeCanvasElement(e),this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.xt=!0)}lv(e){if(e<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const r=ep(this.Gp,{colorSpace:this.Ps.layout.colorSpace});r!==null&&r.useBitmapCoordinateSpace(i=>{this._v(i),this.uv(i)})}Jf(){return this.Gp.bitmapSize}Qf(e,r,i){const s=this.Jf();s.width>0&&s.height>0&&e.drawImage(this.Gp.canvasElement,r,i)}uv({context:e,bitmapSize:r,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.dm())return;e.fillStyle=this.Ps.timeScale.borderColor;const o=Math.floor(this.Ju.N().S*i),a=Math.floor(this.Ju.N().S*s),l=this.jp?r.width-o:0;e.fillRect(l,0,o,a)}_v({context:e,bitmapSize:r}){mE(e,0,0,r.width,r.height,this.fm())}}function eB(n){return e=>{var r;return((r=e.ia)==null?void 0:r.call(e,n))??[]}}const B$e=eB("normal"),L$e=eB("top"),F$e=eB("bottom");class $$e{constructor(e,r){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=qn({width:0,height:0}),this.gm=new Br,this.Fp=new i2(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=e,this.o_=r,this.Ps=e.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=tp(this.Sm,qn({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=tp(this.Sm,qn({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const s=this.Jp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new wE(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),np(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),np(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(e){if(this.wm)return;this.wm=!0;const r=this.Vp.Qt();!r.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&r.Mc(e.localX)}Mf(e){this.Sf(e)}xf(){const e=this.Vp.Qt();!e.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&e.kc())}cf(e){const r=this.Vp.Qt();!r.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&r.yc(e.localX)}_f(e){this.cf(e)}vf(){this.wm=!1;const e=this.Vp.Qt();e.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||e.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(e,r,i){Mf(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.gm.p(e)),this.pm!==null&&this.pm.hv(qn({width:r,height:e.height})),this.vm!==null&&this.vm.hv(qn({width:i,height:e.height}))}Tm(){const e=this.Rm();return Math.ceil(e.S+e.C+e.P+e.A+e.V+e.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(e,r,i,s){const o=this.Jf();if(o.width>0&&o.height>0&&(e.drawImage(this.Gp.canvasElement,r,i),s)){const a=this.Jp.canvasElement;e.drawImage(a,r,i)}}lv(e){if(e===0)return;const r={colorSpace:this.Ps.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const s=ep(this.Gp,r);s!==null&&(s.useBitmapCoordinateSpace(o=>{this._v(o),this.uv(o),this.Vm(s,F$e)}),this.dv(s),this.Vm(s,B$e)),this.pm!==null&&this.pm.lv(e),this.vm!==null&&this.vm.lv(e)}this.Jp.applySuggestedBitmapSize();const i=ep(this.Jp,r);i!==null&&(i.useBitmapCoordinateSpace(({context:s,bitmapSize:o})=>{s.clearRect(0,0,o.width,o.height)}),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,L$e))}Vm(e,r){const i=this.Vp.Qt().js();for(const s of i)_4(r,o=>x4(o,e,!1,void 0),s,void 0);for(const s of i)_4(r,o=>IS(o,e,!1,void 0),s,void 0)}_v({context:e,bitmapSize:r}){mE(e,0,0,r.width,r.height,this.Vp.Qt().Wc())}uv({context:e,bitmapSize:r,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){e.fillStyle=this.Im();const s=Math.max(1,Math.floor(this.Rm().S*i));e.fillRect(0,0,r.width,s)}}dv(e){const r=this.Vp.Qt().Et(),i=r.Da();if(!i||i.length===0)return;const s=this.o_.maxTickMarkWeight(i),o=this.Rm(),a=r.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:c,verticalPixelRatio:u})=>{l.strokeStyle=this.Im(),l.fillStyle=this.Im();const d=Math.max(1,Math.floor(c)),h=Math.floor(.5*c);l.beginPath();const f=Math.round(o.C*u);for(let p=i.length;p--;){const m=Math.round(i[p].coord*c);l.rect(m-h,0,d,f)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const c=o.S+o.C+o.A+o.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this.ev();for(const u of i)if(u.weight<s){const d=u.needAlignCoordinate?this.Em(l,u.coord,u.label):u.coord;l.fillText(u.label,d,c)}this.Vp.N().timeScale.allowBoldLabels&&(l.font=this.Am());for(const u of i)if(u.weight>=s){const d=u.needAlignCoordinate?this.Em(l,u.coord,u.label):u.coord;l.fillText(u.label,d,c)}})}Em(e,r,i){const s=this.Fp.Vi(e,i),o=s/2,a=Math.floor(r-o)+.5;return a<0?r+=Math.abs(0-a):a+s>this.Op.width&&(r-=Math.abs(this.Op.width-(a+s))),r}Bm(e,r){const i=this.Rm();for(const s of e)for(const o of s.cs())o.Tt().nt(r,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return r2(this.F(),this.Ps.fontFamily)}Am(){return r2(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new i2,Dm:0});const e=this.M,r=this.ev();if(e.k!==r){const i=this.F();e.P=i,e.k=r,e.A=3*i/12,e.V=3*i/12,e.Ji=9*i/12,e.L=0,e.Dm=4*i/12,e.Gi.Bn()}return this.M}vv(e){this.jf.style.cursor=e===1?"ew-resize":"default"}xm(){const e=this.Vp.Qt(),r=e.N();r.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),r.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const i={Bc:this.Vp.Qt().Bc()},s=()=>r.leftPriceScale.borderVisible&&e.Et().N().borderVisible,o=()=>e.Wc();r.leftPriceScale.visible&&this.pm===null&&(this.pm=new gH("left",r,i,s,o),this.Mm.appendChild(this.pm.Zf())),r.rightPriceScale.visible&&this.vm===null&&(this.vm=new gH("right",r,i,s,o),this.bm.appendChild(this.vm.Zf()))}}var Sse;const z$e=!!_0&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!_0&&((Sse=navigator==null?void 0:navigator.userAgentData)!=null&&Sse.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class U$e{constructor(e,r,i){var s;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new Br,this.Cv=new Br,this.Xu=new Br,this.Um=null,this.$m=null,this.Dp=e,this.Ps=r,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(s=this.kp).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),L3(this.Ps)&&this.Km(!0),this.ts=new E$e(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new $$e(this,this.o_),this.qm.appendChild(this.Zm.Zf());const o=r.autoSize&&this.Gm();let a=this.Ps.width,l=this.Ps.height;if(o||a===0||l===0){const c=e.getBoundingClientRect();a=a||c.width,l=l||c.height}this.Jm(a,l),this.Qm(),e.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const e of this.zm)this.qm.removeChild(e.Zf()),e.Xv().u(this),e.Zv().u(this),e.m();this.zm=[];for(const e of this.Lm)this.sw(e);this.Lm=[],gt(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(e,r,i=!1){if(this.il===r&&this.Mo===e)return;const s=function(l){const c=Math.floor(l.width),u=Math.floor(l.height);return qn({width:c-c%2,height:u-u%2})}(qn({width:e,height:r}));this.il=s.height,this.Mo=s.width;const o=this.il+"px",a=this.Mo+"px";gt(this.kp).style.height=o,gt(this.kp).style.width=a,this.qm.style.height=o,this.qm.style.width=a,i?this.ew(ks.gn(),performance.now()):this.ts.Ih()}lv(e){e===void 0&&(e=ks.gn());for(let r=0;r<this.zm.length;r++)this.zm[r].lv(e.en(r).tn);this.Ps.timeScale.visible&&this.Zm.lv(e.nn())}hr(e){var s;const r=L3(this.Ps);this.ts.hr(e);const i=L3(this.Ps);i!==r&&this.Km(i),(s=e.layout)!=null&&s.panes&&this.rw(),this.tw(),this.hw(e)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(e=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const r=this.lw(null),i=document.createElement("canvas");i.width=r.width,i.height=r.height;const s=gt(i.getContext("2d"));return this.lw(s,e),i}ow(e){return e==="left"&&!this._w()||e==="right"&&!this.uw()||this.zm.length===0?0:gt(e==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(e){this.$m=e,this.$m?this.ip().style.setProperty("cursor",e):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(e){return Us(this.zm[e]).Gf()}rw(){this.Lm.forEach(e=>{e.yt()})}hw(e){(e.autoSize!==void 0||!this.Um||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Um&&this.Gm(),e.autoSize===!1&&this.Um!==null&&this.nw(),e.autoSize||e.width===void 0&&e.height===void 0||this.Jm(e.width||this.Mo,e.height||this.il))}lw(e,r){let i=0,s=0;const o=this.zm[0],a=(c,u)=>{let d=0;for(let h=0;h<this.zm.length;h++){const f=this.zm[h],p=gt(c==="left"?f.nm():f.rm()),m=p.Jf();if(e!==null&&p.Qf(e,u,d,r),d+=m.height,h<this.zm.length-1){const b=this.Lm[h],y=b.Jf();e!==null&&b.Qf(e,u,d),d+=y.height}}};this._w()&&(a("left",0),i+=gt(o.nm()).Jf().width);for(let c=0;c<this.zm.length;c++){const u=this.zm[c],d=u.Jf();if(e!==null&&u.Qf(e,i,s,r),s+=d.height,c<this.zm.length-1){const h=this.Lm[c],f=h.Jf();e!==null&&h.Qf(e,i,s),s+=f.height}}i+=o.Jf().width,this.uw()&&(a("right",i),i+=gt(o.rm()).Jf().width);const l=(c,u,d)=>{gt(c==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(gt(e),u,d)};if(this.Ps.timeScale.visible){const c=this.Zm.Jf();if(e!==null){let u=0;this._w()&&(l("left",u,s),u=gt(o.nm()).Jf().width),this.Zm.Qf(e,u,s,r),u+=c.width,this.uw()&&l("right",u,s)}s+=c.height}return qn({width:i,height:s})}mw(){let e=0,r=0,i=0;for(const y of this.zm)this._w()&&(r=Math.max(r,gt(y.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(i=Math.max(i,gt(y.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),e+=y.Bo();r=w4(r),i=w4(i);const s=this.Mo,o=this.il,a=Math.max(s-r-i,0),l=1*this.Lm.length,c=this.Ps.timeScale.visible;let u=c?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var d;u=(d=u)+d%2;const h=l+u,f=o<h?0:o-h,p=f/e;let m=0;const b=window.devicePixelRatio||1;for(let y=0;y<this.zm.length;++y){const v=this.zm[y];v.Lv(this.ts.$s()[y]);let w=0,_=0;_=y===this.zm.length-1?Math.ceil((f-m)*b)/b:Math.round(v.Bo()*p*b)/b,w=Math.max(_,2),m+=w,v.hv(qn({width:a,height:w})),this._w()&&v.Jv(r,"left"),this.uw()&&v.Jv(i,"right"),v.ap()&&this.ts.dc(v.ap(),w)}this.Zm.km(qn({width:c?a:0,height:u}),c?r:0,c?i:0),this.ts.Eo(a),this.Nm!==r&&(this.Nm=r),this.Fm!==i&&(this.Fm=i)}Km(e){e?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return z$e?1/window.devicePixelRatio:1}jm(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const r=this.ww(e),i=r*e.deltaX/100,s=-r*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.Ps.handleScale.mouseWheel){const o=Math.sign(s)*Math.min(1,Math.abs(s)),a=e.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(a,o)}i!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(e,r){var s;const i=e.nn();i===3&&this.gw(),i!==3&&i!==2||(this.Mw(e),this.bw(e,r),this.Zm.yt(),this.zm.forEach(o=>{o.Nv()}),((s=this.Wm)==null?void 0:s.nn())===3&&(this.Wm.vn(e),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,r),e=this.Wm,this.Wm=null)),this.lv(e)}bw(e,r){for(const i of e.pn())this.mn(i,r)}Mw(e){const r=this.ts.$s();for(let i=0;i<r.length;i++)e.en(i).sn&&r[i].Go()}mn(e,r){const i=this.ts.Et();switch(e.an){case 0:i.Au();break;case 1:i.zu(e.Wt);break;case 2:i.dn(e.Wt);break;case 3:i.fn(e.Wt);break;case 4:i.Su();break;case 5:e.Wt.Ru(r)||i.fn(e.Wt.Du(r))}}Gu(e){this.Wm!==null?this.Wm.vn(e):this.Wm=e,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame(r=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const i=this.Wm;this.Wm=null,this.ew(i,r);for(const s of i.pn())if(s.an===5&&!s.Wt.Ru(r)){this.Qt()._n(s.Wt);break}}}))}gw(){this.Qm()}sw(e){this.qm.removeChild(e.Zf()),e.m()}Qm(){const e=this.ts.$s(),r=e.length,i=this.zm.length;for(let s=r;s<i;s++){const o=Us(this.zm.pop());this.qm.removeChild(o.Zf()),o.Xv().u(this),o.Zv().u(this),o.m();const a=this.Lm.pop();a!==void 0&&this.sw(a)}for(let s=i;s<r;s++){const o=new Z9(this,e[s]);if(o.Xv().i(this.Sw.bind(this,o),this),o.Zv().i(this.xw.bind(this,o),this),this.zm.push(o),s>0){const a=new O$e(this,s-1,s);this.Lm.push(a),this.qm.insertBefore(a.Zf(),this.Zm.Zf())}this.qm.insertBefore(o.Zf(),this.Zm.Zf())}for(let s=0;s<r;s++){const o=e[s],a=this.zm[s];a.ap()!==o?a.Lv(o):a.zv()}this.tw(),this.mw()}Cw(e,r,i,s){var h;const o=new Map;e!==null&&this.ts.js().forEach(f=>{const p=f.Xs().Fr(e);p!==null&&o.set(f,p)});let a;if(e!==null){const f=(h=this.ts.Et().ss(e))==null?void 0:h.originalTime;f!==void 0&&(a=f)}const l=this.Qt().ac(),c=l!==null&&l.n_ instanceof vE?l.n_:void 0,u=l!==null&&l.e_!==void 0?l.e_.Kn:void 0,d=this.Pw(s);return{yw:a,Re:e??void 0,kw:r??void 0,Tw:d!==-1?d:void 0,Rw:c,Dw:o,Vw:u,Bw:i??void 0}}Pw(e){let r=-1;if(e)r=this.zm.indexOf(e);else{const i=this.Qt().uc().Us();i!==null&&(r=this.Qt().$s().indexOf(i))}return r}Sw(e,r,i,s){this.xv.p(()=>this.Cw(r,i,s,e))}xw(e,r,i,s){this.Cv.p(()=>this.Cw(r,i,s,e))}Xm(e,r,i){var s;this.dw(((s=this.Qt().ac())==null?void 0:s.h_)??null),this.Xu.p(()=>this.Cw(e,r,i))}tw(){const e=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=e}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver(e=>{const r=e[e.length-1];r&&this.Jm(r.contentRect.width,r.contentRect.height)}),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function L3(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function W$e(n){return n.open===void 0&&n.value===void 0}function q$e(n){return function(e){return e.open!==void 0}(n)||function(e){return e.value!==void 0}(n)}function bH(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.color!==void 0&&(o.R=r.color),o}function H$e(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.lineColor!==void 0&&(o.vt=r.lineColor),r.topColor!==void 0&&(o.mr=r.topColor),r.bottomColor!==void 0&&(o.wr=r.bottomColor),o}function V$e(n,e,r,i){const s=r.value,o={Re:e,wt:n,Wt:[s,s,s,s],yw:i};return r.topLineColor!==void 0&&(o.gr=r.topLineColor),r.bottomLineColor!==void 0&&(o.Mr=r.bottomLineColor),r.topFillColor1!==void 0&&(o.br=r.topFillColor1),r.topFillColor2!==void 0&&(o.Sr=r.topFillColor2),r.bottomFillColor1!==void 0&&(o.Cr=r.bottomFillColor1),r.bottomFillColor2!==void 0&&(o.Pr=r.bottomFillColor2),o}function G$e(n,e,r,i){const s={Re:e,wt:n,Wt:[r.open,r.high,r.low,r.close],yw:i};return r.color!==void 0&&(s.R=r.color),s}function Y$e(n,e,r,i){const s={Re:e,wt:n,Wt:[r.open,r.high,r.low,r.close],yw:i};return r.color!==void 0&&(s.R=r.color),r.borderColor!==void 0&&(s.Ht=r.borderColor),r.wickColor!==void 0&&(s.vr=r.wickColor),s}function K$e(n,e,r,i,s){const o=Us(s)(r),a=Math.max(...o),l=Math.min(...o),c=o[o.length-1],u=[c,a,l,c],{time:d,color:h,...f}=r;return{Re:e,wt:n,Wt:u,yw:i,se:f,R:h}}function Kb(n){return n.Wt!==void 0}function yH(n,e){return e.customValues!==void 0&&(n.Iw=e.customValues),n}function Mh(n){return(e,r,i,s,o,a)=>function(l,c){return c?c(l):W$e(l)}(i,a)?yH({wt:e,Re:r,yw:s},i):yH(n(e,r,i,s,o),i)}function vH(n){return{Candlestick:Mh(Y$e),Bar:Mh(G$e),Area:Mh(H$e),Baseline:Mh(V$e),Histogram:Mh(bH),Line:Mh(bH),Custom:Mh(K$e)}[n]}function wH(n){return{Re:0,Ew:new Map,Hh:n}}function xH(n,e){if(n!==void 0&&n.length!==0)return{Aw:e.key(n[0].wt),zw:e.key(n[n.length-1].wt)}}function _H(n){let e;return n.forEach(r=>{e===void 0&&(e=r.yw)}),Us(e)}class X$e{constructor(e){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=e}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(e,r){let i=this.Lw.size!==0,s=!1;const o=this.Ow.get(e);if(o!==void 0)if(this.Ow.size===1)i=!1,s=!0,this.Lw.clear();else for(const c of this.Fw)c.pointData.Ew.delete(e)&&(s=!0);let a=[];if(r.length!==0){const c=r.map(p=>p.time),u=this.o_.createConverterToInternalObj(r),d=vH(e.Rr()),h=e.ca(),f=e.fa();a=r.map((p,m)=>{const b=u(p.time),y=this.o_.key(b);let v=this.Lw.get(y);v===void 0&&(v=wH(b),this.Lw.set(y,v),s=!0);const w=d(b,v.Re,p,c[m],h,f);return v.Ew.set(e,w),w})}i&&this.Hw(),this.Uw(e,a);let l=-1;if(s){const c=[];this.Lw.forEach(u=>{c.push({timeWeight:0,time:u.Hh,pointData:u,originalTime:_H(u.Ew)})}),c.sort((u,d)=>this.o_.key(u.time)-this.o_.key(d.time)),l=this.$w(c)}return this.qw(e,l,function(c,u,d){const h=xH(c,d),f=xH(u,d);if(h!==void 0&&f!==void 0)return{Yw:!1,zh:h.zw>=f.zw&&h.Aw>=f.Aw}}(this.Ow.get(e),o,this.o_))}Ac(e){return this.Ww(e,[])}jw(e,r,i){const s=r;(function(y){y.yw===void 0&&(y.yw=y.time)})(s),this.o_.preprocessData(r);const o=this.o_.createConverterToInternalObj([r])(r.time),a=this.Nw.get(e);if(!i&&a!==void 0&&this.o_.key(o)<this.o_.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${o}`);let l=this.Lw.get(this.o_.key(o));if(i&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const c=l===void 0;l===void 0&&(l=wH(o),this.Lw.set(this.o_.key(o),l));const u=vH(e.Rr()),d=e.ca(),h=e.fa(),f=u(o,l.Re,r,s.yw,d,h);l.Ew.set(e,f),i?this.Kw(e,f,l.Re):this.Xw(e,f);const p={zh:Kb(f),Yw:i};if(!c)return this.qw(e,-1,p);const m={timeWeight:0,time:l.Hh,pointData:l,originalTime:_H(l.Ew)},b=x0(this.Fw,this.o_.key(m.time),(y,v)=>this.o_.key(y.time)<v);this.Fw.splice(b,0,m);for(let y=b;y<this.Fw.length;++y)__(this.Fw[y].pointData,y);return this.o_.fillWeightsForPoints(this.Fw,b),this.qw(e,b,p)}Zw(e,r){const i=this.Ow.get(e);if(i===void 0||r<=0)return[[],this.Gw()];r=Math.min(r,i.length);const s=i.splice(-r).reverse();i.length===0?this.Nw.delete(e):this.Nw.set(e,i[i.length-1].wt);for(const o of s){const a=this.Lw.get(this.o_.key(o.wt));if(a&&(a.Ew.delete(e),a.Ew.size===0)){this.Lw.delete(this.o_.key(a.Hh)),this.Fw.splice(a.Re,1);for(let l=a.Re;l<this.Fw.length;++l)__(this.Fw[l].pointData,l)}}return[s,this.qw(e,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(e,r){let i=this.Ow.get(e);i===void 0&&(i=[],this.Ow.set(e,i));const s=i.length!==0?i[i.length-1]:null;s===null||this.o_.key(r.wt)>this.o_.key(s.wt)?Kb(r)&&i.push(r):Kb(r)?i[i.length-1]=r:i.splice(-1,1),this.Nw.set(e,r.wt)}Kw(e,r,i){const s=this.Ow.get(e);if(s===void 0)return;const o=x0(s,i,(a,l)=>a.Re<l);Kb(r)?s[o]=r:s.splice(o,1)}Uw(e,r){r.length!==0?(this.Ow.set(e,r.filter(Kb)),this.Nw.set(e,r[r.length-1].wt)):(this.Ow.delete(e),this.Nw.delete(e))}Hw(){for(const e of this.Fw)e.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(e.time))}$w(e){let r=-1;for(let i=0;i<this.Fw.length&&i<e.length;++i){const s=this.Fw[i],o=e[i];if(this.o_.key(s.time)!==this.o_.key(o.time)){r=i;break}o.timeWeight=s.timeWeight,__(o.pointData,i)}if(r===-1&&this.Fw.length!==e.length&&(r=Math.min(this.Fw.length,e.length)),r===-1)return-1;for(let i=r;i<e.length;++i)__(e[i].pointData,i);return this.o_.fillWeightsForPoints(e,r),this.Fw=e,r}Jw(){if(this.Ow.size===0)return null;let e=0;return this.Ow.forEach(r=>{r.length!==0&&(e=Math.max(e,r[r.length-1].Re))}),e}qw(e,r,i){const s=this.Gw();if(r!==-1)this.Ow.forEach((o,a)=>{s.Oo.set(a,{se:o,Qw:a===e?i:void 0})}),this.Ow.has(e)||s.Oo.set(e,{se:[],Qw:i}),s.Et.tg=this.Fw,s.Et.ig=r;else{const o=this.Ow.get(e);s.Oo.set(e,{se:o||[],Qw:i})}return s}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function __(n,e){n.Re=e,n.Ew.forEach(r=>{r.Re=e})}function Q$e(n,e){return n.wt<e}function J$e(n,e){return e<n.wt}function Z$e(n,e,r){const i=e.Uh(),s=e.bi(),o=x0(n,i,Q$e),a=Eme(n,s,J$e);if(!r)return{from:o,to:a};let l=o,c=a;return o>0&&o<n.length&&n[o].wt>=i&&(l=o-1),a>0&&a<n.length&&n[a-1].wt<=s&&(c=a+1),{from:l,to:c}}class eze{constructor(e,r,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=e,this.Qn=r,this.ag=i}yt(e){this.sg=!0,e==="data"&&(this.ng=!0),e==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map(e=>({...e,...this.Jn.Rh().Dr(e.wt)}))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const e=this.Jn.Ft(),r=this.Qn.Et();if(this.ug(),r.Ki()||e.Ki())return;const i=r.Pe();if(i===null||this.Jn.Xs().zr()===0)return;const s=this.Jn.zt();s!==null&&(this.hg=Z$e(this.rg,i,this.ag),this.fg(e,r,s.Wt),this.pg())}}class tze{constructor(e,r){this.vg=e,this.Yi=r}nt(e,r,i){this.vg.draw(e,this.Yi,r,i)}}class nze extends eze{constructor(e,r,i){super(e,r,!1),this.sh=i,this.og=new tze(this.sh.renderer(),s=>{const o=e.zt();return o===null?null:e.Ft().Nt(s,o.Wt)})}da(e){return this.sh.priceValueBuilder(e)}pa(e){return this.sh.isWhitespace(e)}cg(){const e=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(r=>({wt:r.Re,_t:NaN,...e.Dr(r.Re),mg:r.se}))}fg(e,r){r.uu(this.rg,kFe(this.hg))}pg(){this.sh.update({bars:this.rg.map(rze),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function rze(n){return{x:n._t,time:n.wt,originalData:n.mg,barColor:n.cr}}const ize={color:"#2196f3"},sze=(n,e,r)=>{const i=Pd(r);return new nze(n,e,i)};function tB(n){const e={value:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(e.customValues=n.Iw),e}function SH(n){const e=tB(n);return n.R!==void 0&&(e.color=n.R),e}function oze(n){const e=tB(n);return n.vt!==void 0&&(e.lineColor=n.vt),n.mr!==void 0&&(e.topColor=n.mr),n.wr!==void 0&&(e.bottomColor=n.wr),e}function aze(n){const e=tB(n);return n.gr!==void 0&&(e.topLineColor=n.gr),n.Mr!==void 0&&(e.bottomLineColor=n.Mr),n.br!==void 0&&(e.topFillColor1=n.br),n.Sr!==void 0&&(e.topFillColor2=n.Sr),n.Cr!==void 0&&(e.bottomFillColor1=n.Cr),n.Pr!==void 0&&(e.bottomFillColor2=n.Pr),e}function Rme(n){const e={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(e.customValues=n.Iw),e}function lze(n){const e=Rme(n);return n.R!==void 0&&(e.color=n.R),e}function cze(n){const e=Rme(n),{R:r,Ht:i,vr:s}=n;return r!==void 0&&(e.color=r),i!==void 0&&(e.borderColor=i),s!==void 0&&(e.wickColor=s),e}function MS(n){return{Area:oze,Line:SH,Baseline:aze,Histogram:SH,Bar:lze,Candlestick:cze,Custom:uze}[n]}function uze(n){const e=n.yw;return{...n.se,time:e}}const dze={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},hze={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},fze={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:yme,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},F3={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},pze={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function kH(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:fze,crosshair:dze,grid:hze,overlayPriceScales:{...F3},leftPriceScale:{...F3,visible:!1},rightPriceScale:{...F3,visible:!0},timeScale:pze,localization:{locale:_0?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Nme{constructor(e,r,i){this.Hf=e,this.wg=r,this.gg=i??0}applyOptions(e){this.Hf.Qt().oc(this.wg,e,this.gg)}options(){return this.Yi().N()}width(){return bE(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Fl(new ms(e.from,e.to))}getVisibleRange(){let e,r,i=this.Yi().Qe();if(i===null)return null;if(this.Yi().Ja()){const s=this.Yi().fo(),o=Mme(s);i=Um(i,this.Yi().tl()),e=Number((Math.round(i.$e()/s)*s).toFixed(o)),r=Number((Math.round(i.qe()/s)*s).toFixed(o))}else e=i.$e(),r=i.qe();return{from:e,to:r}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return gt(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class mze{constructor(e,r,i,s){this.Hf=e,this.Pt=i,this.Mg=r,this.bg=s}getHeight(){return this.Pt.$t()}setHeight(e){const r=this.Hf.Qt(),i=r.Uc(this.Pt);r.vc(i,e)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(e){this.Pt.Io(e),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(e){const r=this.paneIndex();r!==e&&(_i(e>=0&&e<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(r,e))}getSeries(){return this.Pt.Oo().map(e=>this.Mg(e))??[]}getHTMLElement(){const e=this.Hf.$f();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].Zf():null}attachPrimitive(e){this.Pt._a(e),e.attached&&e.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(e){this.Pt.ua(e)}priceScale(e){if(this.Pt.Do(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new Nme(this.Hf,e,this.paneIndex())}setPreserveEmptyPane(e){this.Pt.zo(e)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(e,r={},i=0){return this.bg.addCustomSeries(e,r,i)}addSeries(e,r={}){return this.bg.addSeries(e,r,this.paneIndex())}}const gze={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class CH{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}Sg(){return this.ir}}class bze{constructor(e,r,i,s,o,a){this.xg=new Br,this.Jn=e,this.Cg=r,this.Pg=i,this.o_=o,this.bg=s,this.yg=a}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(e){const r=this.Jn.zt();return r===null?null:this.Jn.Ft().Nt(e,r.Wt)}coordinateToPrice(e){const r=this.Jn.zt();return r===null?null:this.Jn.Ft().Ts(e,r.Wt)}barsInLogicalRange(e){if(e===null)return null;const r=new lg(new iv(e.from,e.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;const s=i.Fr(r.Uh(),1),o=i.Fr(r.bi(),-1),a=gt(i.Lr()),l=gt(i.Ks());if(s!==null&&o!==null&&s.Re>o.Re)return{barsBefore:e.from-a,barsAfter:l-e.to};const c={barsBefore:s===null||s.Re===a?e.from-a:s.Re-a,barsAfter:o===null||o.Re===l?l-e.to:l-o.Re};return s!==null&&o!==null&&(c.from=s.yw,c.to=o.yw),c}setData(e){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,e),this.Tg("full")}update(e,r=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,e,r),this.Tg("update")}pop(e=1){const r=this.Cg.Dg(this.Jn,e);r.length!==0&&this.Tg("update");const i=MS(this.seriesType());return r.map(s=>i(s))}dataByIndex(e,r){const i=this.Jn.Xs().Fr(e,r);return i===null?null:MS(this.seriesType())(i)}data(){const e=MS(this.seriesType());return this.Jn.Xs().Hr().map(r=>e(r))}subscribeDataChanged(e){this.xg.i(e)}unsubscribeDataChanged(e){this.xg._(e)}applyOptions(e){this.Jn.hr(e)}options(){return Hc(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(e){const r=vo(Hc(gze),e),i=this.Jn.Oh(r);return new CH(i)}removePriceLine(e){this.Jn.Nh(e.Sg())}priceLines(){return this.Jn.Fh().map(e=>new CH(e))}seriesType(){return this.Jn.Rr()}lastValueData(e){const r=this.Jn.ye(e);return r.ke?{noData:!0}:{noData:!1,price:r.gt,color:r.R}}attachPrimitive(e){this.Jn._a(e),e.attached&&e.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(e){this.Jn.ua(e),e.detached&&e.detached(),this.Jn.Qt().Ih()}getPane(){const e=this.Jn,r=gt(this.Jn.Qt().Hn(e));return this.yg(r)}moveToPane(e){this.Jn.Qt().Nc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return e===null?-1:e.Oo().indexOf(this.Jn)}setSeriesOrder(e){const r=this.Jn.Qt().Hn(this.Jn);r!==null&&r.Qo(this.Jn,e)}Tg(e){this.xg.v()&&this.xg.p(e)}}class yze{constructor(e,r,i){this.Vg=new Br,this.z_=new Br,this.gm=new Br,this.ts=e,this.uh=e.Et(),this.Zm=r,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(e,r){r?this.uh.Tu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const e=this.uh.nu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const r={from:this.o_.convertHorzItemToInternal(e.from),to:this.o_.convertHorzItemToInternal(e.to)},i=this.uh.au(r);this.ts.Lc(i)}getVisibleLogicalRange(){const e=this.uh.su();return e===null?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){_i(e.from<=e.to,"The from index cannot be after the to index."),this.ts.Lc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(e){const r=this.ts.Et();return r.Ki()?null:r.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.cu(e)}timeToIndex(e,r){const i=this.o_.convertHorzItemToInternal(e);return this.uh.Q_(i,r)}timeToCoordinate(e){const r=this.timeToIndex(e,!1);return r===null?null:this.uh.qt(r)}coordinateToTime(e){const r=this.ts.Et(),i=r.cu(e),s=r.ss(i);return s===null?null:s.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(e){this.Vg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.Vg._(e)}subscribeVisibleLogicalRangeChange(e){this.z_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.z_._(e)}subscribeSizeChange(e){this.gm.i(e)}unsubscribeSizeChange(e){this.gm._(e)}applyOptions(e){this.uh.hr(e)}options(){return{...Hc(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(e){this.gm.p(e.width,e.height)}}function EH(n){return function(e){if(m_(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:s}=e.handleScale;m_(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),m_(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const r=e.handleScroll;m_(r)&&(e.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})}(n),n}class vze{constructor(e,r,i){this.Ag=new Map,this.zg=new Map,this.Lg=new Br,this.Og=new Br,this.Ng=new Br,this.qu=new WeakMap,this.Fg=new X$e(r);const s=i===void 0?Hc(kH()):vo(Hc(kH()),EH(i));this.Wg=r,this.Hf=new U$e(e,s,r),this.Hf.Xv().i(a=>{this.Lg.v()&&this.Lg.p(this.Hg(a()))},this),this.Hf.Zv().i(a=>{this.Og.v()&&this.Og.p(this.Hg(a()))},this),this.Hf.cc().i(a=>{this.Ng.v()&&this.Ng.p(this.Hg(a()))},this);const o=this.Hf.Qt();this.Ug=new yze(o,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(e,r,i){this.autoSizeActive()||this.Hf.Jm(e,r,i)}addCustomSeries(e,r={},i=0){const s=(o=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...ize,...o.defaultOptions()},$g:sze,qg:o}))(Pd(e));return this.Yg(s,r,i)}addSeries(e,r={},i=0){return this.Yg(e,r,i)}removeSeries(e){const r=Us(this.Ag.get(e)),i=this.Fg.Ac(r);this.Hf.Qt().Ac(r),this.jg(i),this.Ag.delete(e),this.zg.delete(r)}kg(e,r){this.jg(this.Fg.Ww(e,r))}Rg(e,r,i){this.jg(this.Fg.jw(e,r,i))}Dg(e,r){const[i,s]=this.Fg.Zw(e,r);return i.length!==0&&this.jg(s),i}subscribeClick(e){this.Lg.i(e)}unsubscribeClick(e){this.Lg._(e)}subscribeCrosshairMove(e){this.Ng.i(e)}unsubscribeCrosshairMove(e){this.Ng._(e)}subscribeDblClick(e){this.Og.i(e)}unsubscribeDblClick(e){this.Og._(e)}priceScale(e,r=0){return new Nme(this.Hf,e,r)}timeScale(){return this.Ug}applyOptions(e){this.Hf.hr(EH(e))}options(){return this.Hf.N()}takeScreenshot(e=!1,r=!1){let i,s;try{r||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),s=this.Hf.aw(e)}finally{r||i===void 0||this.Hf.Qt().hr({crosshair:{mode:i}})}return s}addPane(e=!1){const r=this.Hf.Qt().$c();return r.zo(e),this.Kg(r)}removePane(e){this.Hf.Qt().fc(e)}swapPanes(e,r){this.Hf.Qt().mc(e,r)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map(e=>this.Kg(e))}paneSize(e=0){const r=this.Hf.pw(e);return{height:r.height,width:r.width}}setCrosshairPosition(e,r,i){const s=this.Ag.get(i);if(s===void 0)return;const o=this.Hf.Qt().Hn(s);o!==null&&this.Hf.Qt().Rc(e,r,o)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(e,r={},i=0){_i(e.$g!==void 0),function(c){if(c===void 0||c.type==="custom")return;const u=c;u.minMove!==void 0&&u.precision===void 0&&(u.precision=Mme(u.minMove))}(r.priceFormat),e.type==="Candlestick"&&function(c){c.borderColor!==void 0&&(c.borderUpColor=c.borderColor,c.borderDownColor=c.borderColor),c.wickColor!==void 0&&(c.wickUpColor=c.wickColor,c.wickDownColor=c.wickColor)}(r);const s=vo(Hc(gme),Hc(e.defaultOptions),r),o=e.$g,a=new vE(this.Hf.Qt(),e.type,s,o,e.qg);this.Hf.Qt().Ic(a,i);const l=new bze(a,this,this,this,this.Wg,c=>this.Kg(c));return this.Ag.set(l,a),this.zg.set(a,l),l}jg(e){const r=this.Hf.Qt();r.Vc(e.Et._u,e.Et.tg,e.Et.ig),e.Oo.forEach((i,s)=>s.ht(i.se,i.Qw)),r.Et().K_(),r.vu()}Xg(e){return Us(this.zg.get(e))}Hg(e){const r=new Map;e.Dw.forEach((s,o)=>{const a=o.Rr(),l=MS(a)(s);if(a!=="Custom")_i(q$e(l));else{const c=o.fa();_i(!c||c(l)===!1)}r.set(this.Xg(o),l)});const i=e.Rw!==void 0&&this.zg.has(e.Rw)?this.Xg(e.Rw):void 0;return{time:e.yw,logical:e.Re,point:e.kw,paneIndex:e.Tw,hoveredSeries:i,hoveredObjectId:e.Vw,seriesData:r,sourceEvent:e.Bw}}Kg(e){let r=this.qu.get(e);return r||(r=new mze(this.Hf,i=>this.Xg(i),e,this),this.qu.set(e,r)),r}}function wze(n){if(Tx(n)){const e=document.getElementById(n);return _i(e!==null,`Cannot find element in DOM with id=${n}`),e}return n}function xze(n,e,r){const i=wze(n),s=new vze(i,e,r);return e.setOptions(s.options()),s}function _ze(n,e){return xze(n,new cH,cH.ld(e))}({...gme});const Sze=T.forwardRef(({initialData:n=[],symbol:e="BTC/USDC",height:r=500,showVolume:i=!0},s)=>{const o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),c=T.useRef(null),[u,d]=T.useState(null),h=b=>{if(b==null)return console.warn("[KlineChart] Invalid price: undefined or null"),0;if(typeof b=="number")return isNaN(b)||!isFinite(b)||b<0?(console.warn("[KlineChart] Invalid price number:",b),0):b;if(typeof b=="string"){if(b.trim()==="")return console.warn("[KlineChart] Invalid price: empty string"),0;try{const y=Rt(b);return isNaN(y)||!isFinite(y)||y<0?(console.warn("[KlineChart] Invalid price after conversion:",b,"->",y),0):y}catch(y){return console.error("[KlineChart] Error parsing price:",b,y),0}}return console.warn("[KlineChart] Invalid price type:",typeof b,b),0},f=b=>{if(b.open===void 0||b.open===null||b.high===void 0||b.high===null||b.low===void 0||b.low===null||b.close===void 0||b.close===null)return console.warn("[KlineChart] Missing required OHLC fields:",b),null;const y=Math.floor((b.open_time||b.close_time||Date.now())/1e3),v=h(b.open),w=h(b.high),_=h(b.low),x=h(b.close);if(v<=0||w<=0||_<=0||x<=0)return console.warn("[KlineChart] Invalid kline data - non-positive prices detected:",{original:b,parsed:{open:v,high:w,low:_,close:x}}),null;const S=Math.max(v,w,_,x),C=Math.min(v,w,_,x);return(w!==S||_!==C)&&console.warn("[KlineChart] Kline data corrected - high/low were not extremes:",{original:{high:w,low:_},corrected:{high:S,low:C}}),{time:y,open:v,high:S,low:C,close:x}},p=b=>{if(!b.volume)return null;const y=Math.floor((b.open_time||b.close_time||Date.now())/1e3);let v;if(typeof b.volume=="number"){if(isNaN(b.volume)||!isFinite(b.volume)||b.volume<0)return console.warn("[KlineChart] Invalid volume number:",b.volume),null;v=b.volume}else if(typeof b.volume=="string"&&b.volume.trim()!=="")try{if(v=Rt(b.volume),isNaN(v)||!isFinite(v)||v<0)return console.warn("[KlineChart] Invalid volume after conversion:",b.volume,"->",v),null}catch(S){return console.error("[KlineChart] Error converting volume from satoshi:",b.volume,S),null}else return console.warn("[KlineChart] Invalid volume type:",typeof b.volume,b.volume),null;const w=h(b.close),_=h(b.open);if(w<=0||_<=0)return console.warn("[KlineChart] Invalid prices for volume color calculation:",{open:_,close:w}),null;const x=w>=_;return{time:y,value:v,color:x?"#26a69a80":"#ef535080"}},m=b=>{if(!l.current){console.warn("[KlineChart] updateChart called before chart is initialized");return}if(!b||typeof b!="object"){console.warn("[KlineChart] Invalid kline update data:",b);return}try{const y=f(b);if(!y){console.warn("[KlineChart] Failed to convert kline to bar, skipping update");return}const v=i?p(b):null;l.current.update(y),d(y.close),i&&c.current&&v&&c.current.update(v)}catch(y){console.error("[KlineChart] Error updating chart:",y)}};return T.useImperativeHandle(s,()=>({updateChart:m})),T.useEffect(()=>{if(!o.current)return;if(a.current){try{a.current.remove()}catch(_){console.warn("[KlineChart] Error removing existing chart:",_)}a.current=null,l.current=null,c.current=null}let b=null,y=null,v=null;const w=()=>{if(!o.current)return;const _=o.current,x=_.clientWidth||_.offsetWidth,S=r||500;if(!x||x<100){console.warn("[KlineChart] Container not ready, waiting for layout...",{clientWidth:_.clientWidth,offsetWidth:_.offsetWidth}),y=requestAnimationFrame(w);return}if(S<=0){console.warn("[KlineChart] Invalid height:",S);return}let C,E=null;try{b=_ze(_,{width:x,height:S,layout:{background:{color:"#1e1e1e"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2a2e39"},timeScale:{borderColor:"#2a2e39",timeVisible:!0,secondsVisible:!1}}),typeof b.addCandlestickSeries=="function"?C=b.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}):C=b.addSeries("Candlestick",{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),i&&(typeof b.addHistogramSeries=="function"?E=b.addHistogramSeries({color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}):E=b.addSeries("Histogram",{color:"#26a69a80",priceFormat:{type:"volume"},priceScaleId:""}))}catch(A){console.error("[KlineChart] Error creating chart or series:",A);return}if(n.length>0&&C)try{C.setData(n),d(n[n.length-1].close)}catch(A){console.error("[KlineChart] Error setting initial data:",A)}a.current=b,l.current=C,c.current=E,v=()=>{if(o.current&&a.current){const A=o.current.clientWidth||o.current.offsetWidth;A>0&&a.current.applyOptions({width:A})}},window.addEventListener("resize",v)};return w(),()=>{if(y!==null&&cancelAnimationFrame(y),v&&window.removeEventListener("resize",v),b)try{b.remove()}catch(_){console.error("[KlineChart] Error removing chart:",_)}a.current=null,l.current=null,c.current=null}},[r,i]),T.useEffect(()=>{if(l.current&&n.length>0)try{l.current.setData(n),d(n[n.length-1].close)}catch(b){console.error("[KlineChart] Error setting initial data:",b)}},[n]),g.jsxs("div",{style:{position:"relative",width:"100%"},children:[g.jsx("div",{style:{marginBottom:"0.5rem",fontSize:"1.2rem",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:g.jsxs("span",{children:[e," Live Kline Chart",u!==null&&` - Current: $${u.toFixed(2)}`]})}),g.jsx("div",{ref:o,style:{position:"relative",width:"100%"}})]})});Sze.displayName="KlineChart";function jme(){const n=document.getElementById("tradingview-widget-script");n&&n.parentNode&&n.parentNode.removeChild(n)}function kze(){return new Promise((n,e)=>{if(typeof window.TradingView<"u"){n();return}jme();const r=document.createElement("script");r.id="tradingview-widget-script",r.src=zNe,r.async=!0,r.onload=()=>{typeof window.TradingView<"u"?n():e(new Error("TradingView script loaded but TradingView object not found"))},r.onerror=()=>{e(new Error("Failed to load TradingView script"))},document.head.appendChild(r)})}function Cze(n){if(typeof window.TradingView>"u")throw new Error("TradingView is not loaded. Call loadTradingViewScript() first.");const e={autosize:n.autosize!==!1,symbol:n.symbol,interval:n.interval,timezone:n.timezone||"Etc/UTC",theme:"dark",style:"1",locale:n.locale||"en",toolbar_bg:"#1a1a1a",enable_publishing:n.enablePublishing||!1,hide_top_toolbar:n.hideTopToolbar||!1,hide_legend:n.hideLegend||!1,save_image:!1,container_id:n.containerId,hide_volume:n.hideVolume||!1,studies:n.studies||["RSI@tv-basicstudies","MASimple@tv-basicstudies"]};return new window.TradingView.widget(e)}function Eze(){return`tradingview-widget-container-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Aze({symbol:n=FNe,interval:e=$Ne,isCollapsed:r=!1,className:i=""}){const s=T.useRef(null),o=T.useRef(null),a=T.useRef(Eze());return T.useEffect(()=>{if(r||!s.current)return;s.current&&(s.current.id=a.current);let l=!0;return kze().then(()=>{if(!l||!s.current)return;const c={symbol:n,interval:e,containerId:a.current};o.current=Cze(c)}).catch(c=>{console.error("Failed to load TradingView widget:",c)}),()=>{l=!1,o.current&&(o.current=null)}},[n,e,r]),T.useEffect(()=>()=>{jme()},[]),r?g.jsx("div",{className:`tradingview-widget-container ${i}`}):g.jsx("div",{className:`tradingview-widget-wrapper ${i}`,children:g.jsx("div",{ref:s,id:a.current,className:"tradingview-widget-container"})})}function Tze({data:n,columns:e,maxItems:r,onItemClick:i,onItemDoubleClick:s,selectedIndex:o,onSelectionChange:a,emptyMessage:l="No items",className:c="",rowHeight:u=20,showHeader:d=!0,resizableColumns:h=!1}){const[f,p]=T.useState(null),[m,b]=T.useState(new Map),[y,v]=T.useState(null),[w,_]=T.useState("asc"),x=T.useRef(null),S=T.useRef(0),C=T.useRef(0),E=T.useMemo(()=>r&&r>0?n.slice(0,r):n,[n,r]),A=T.useMemo(()=>e.map(R=>{const j=m.get(R.key);return j?`${j}px`:R.width?typeof R.width=="number"?`${R.width}px`:R.width:"1fr"}).join(" "),[e,m]),M=T.useMemo(()=>{if(!y)return E;const R=e.find(j=>j.key===y);return!R||!R.sortable?E:[...E].sort((j,N)=>{const D=j[y],H=N[y];if(D===H)return 0;const U=D<H?-1:D>H?1:0;return w==="asc"?U:-U})},[E,y,w,e]),I=R=>{R.sortable&&(y===R.key?_(w==="asc"?"desc":"asc"):(v(R.key),_("asc")))},O=(R,j,N)=>{R.preventDefault(),R.stopPropagation(),p(j),S.current=R.clientX,C.current=N};T.useEffect(()=>{if(!f)return;const R=N=>{const D=N.clientX-S.current,H=Math.max(50,C.current+D),U=e.find(X=>X.key===f);U&&(U.maxWidth&&(H=Math.min(H,U.maxWidth)),U.minWidth&&(H=Math.max(H,U.minWidth))),b(X=>{const Y=new Map(X);return Y.set(f,H),Y})},j=()=>{p(null)};return document.addEventListener("mousemove",R),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",j)}},[f,e]);const F=R=>{const j=m.get(R.key);return j||(typeof R.width=="number"?R.width:150)},$=(R,j)=>{a==null||a(j),i==null||i(R,j)},z=(R,j)=>{s==null||s(R,j)};return g.jsxs("div",{className:`list-view-mac ${c}`,children:[d&&g.jsx("div",{ref:x,className:"list-view-mac-header",style:{gridTemplateColumns:A},children:e.map((R,j)=>{const N=y===R.key,D=F(R);return g.jsxs("div",{className:`list-view-mac-header-cell ${R.sortable?"sortable":""} ${R.align||"left"}`,style:{width:h?`${D}px`:void 0},onClick:()=>I(R),children:[g.jsx("span",{className:"list-view-mac-header-label",children:R.label}),N&&g.jsx("span",{className:"list-view-mac-sort-indicator",children:w==="asc"?"":""}),h&&j<e.length-1&&g.jsx("div",{className:"list-view-mac-resize-handle",onMouseDown:H=>O(H,R.key,D)})]},R.key)})}),g.jsx("div",{className:"list-view-mac-body",children:M.length===0?g.jsx("div",{className:"list-view-mac-empty",children:l}):M.map((R,j)=>{const N=o===j;return g.jsx("div",{className:`list-view-mac-row ${N?"selected":""}`,style:{gridTemplateColumns:A,height:`${u}px`},onClick:()=>$(R,j),onDoubleClick:()=>z(R,j),children:e.map(D=>{const H=F(D);return g.jsx("div",{className:`list-view-mac-cell ${D.align||"left"}`,style:{width:h?`${H}px`:void 0},children:D.render?D.render(R,j):String(R[D.key]??"")},D.key)})},j)})}),r&&n.length>r&&g.jsxs("div",{className:"list-view-mac-footer",children:["Showing ",r," of ",n.length," items"]})]})}function Pze(n){var Re;const[e,r]=T.useState("vertical"),[i,s]=T.useState(!0),[o,a]=T.useState(!1),[l,c]=T.useState("--"),[u,d]=T.useState(void 0),[h,f]=T.useState(!1),[p,m]=T.useState(10),[b,y]=T.useState(!1),[v,w]=T.useState(0),[_,x]=T.useState(0),[S,C]=T.useState("default"),E=T.useRef(null),A=T.useRef(null),M=T.useRef(!1),[I,O]=T.useState(!1),F=T.useRef(!1),$=T.useRef(_p),z=T.useRef(lh),R=T.useRef([]),j=$.current,N=z.current,D=T.useMemo(()=>ev(S==="default"?Zy:S==="widthfit"?sFe:S==="rightTrade"?oFe:S==="testTrade"?aFe:lFe),[S]),[H,U]=T.useState(()=>ev(Zy));T.useEffect(()=>{U(D),R.current=D,O(!1),F.current=!1},[D]);const[X,Y]=T.useState(()=>localStorage.getItem("authToken")||""),{markets:ee,selectedMarketId:G,selectedMarketSymbol:Z,setSelectedMarketId:pe,loadingMarkets:re,getError:le}=Xl({baseURL:j,sessionToken:X,autoFetchMarkets:!0}),{client:ce,toggleEnabled:Pe}=th(),{mnemonic:Ee,walletAddress:V,authToken:Ae,setMnemonic:Qe}=Su();T.useEffect(()=>{Ee||Qe(ZC)},[Ee,Qe]),T.useEffect(()=>{R.current=H},[H]),T.useEffect(()=>{Ae&&(Y(Ae),localStorage.setItem("authToken",Ae))},[Ae]);const{setAuthToken:st,setWalletAddress:ze}=th();T.useEffect(()=>{st(X||void 0)},[X,st]),T.useEffect(()=>{ze(V||void 0)},[V,ze]);const wt=T.useRef(!1);T.useEffect(()=>{X&&X.trim()!==""&&!wt.current&&localStorage.getItem("authToken")!==X&&localStorage.setItem("authToken",X),wt.current=!1},[X]),T.useEffect(()=>{const de=Se=>{Se.key==="authToken"&&Se.newValue&&(wt.current=!0,Y(Se.newValue))};window.addEventListener("storage",de);const _e=setInterval(()=>{const Se=localStorage.getItem("authToken");Y(ae=>Se&&Se!==ae?(wt.current=!0,Se):ae)},5e3);return()=>{window.removeEventListener("storage",de),clearInterval(_e)}},[]);const qe=T.useCallback(()=>{O(!0)},[]);T.useEffect(()=>{I&&!re&&ee.length>0&&G&&!F.current&&(F.current=!0,setTimeout(()=>{Pe()},100))},[I,re,ee.length,G,Pe]);const Je=T.useMemo(()=>{var de,_e,Se,ae;return ee.length>0?((de=ee.find(ie=>ie.active))==null?void 0:de.market_id)??ee[0].market_id??((Se=(_e=ee.find(ie=>ie.active))==null?void 0:_e.id)==null?void 0:Se.toString())??((ae=ee[0].id)==null?void 0:ae.toString())??null:null},[ee]),yt=T.useCallback((de,_e)=>{if(i)return;const Se=R.current,ae=de;if(Se.length!==ae.length){M.current=!0,R.current=ae,U(ae);return}let ie=!1;for(let ue=0;ue<Se.length;ue++){const it=Se[ue],Fe=ae[ue];if(it.x!==Fe.x||it.y!==Fe.y||it.w!==Fe.w||it.h!==Fe.h||it.i!==Fe.i){ie=!0;break}}ie&&(M.current=!0,R.current=ae,U(ae))},[i]),ct=T.useCallback(()=>{r(de=>de==="horizontal"?"vertical":de==="vertical"?null:"horizontal")},[]),Ze=T.useCallback(()=>{a(de=>!de)},[]);T.useEffect(()=>(o?document.body.classList.add("full-width-screen"):document.body.classList.remove("full-width-screen"),()=>{document.body.classList.remove("full-width-screen")}),[o]);const Ve=T.useCallback(()=>{s(de=>!de),i&&(M.current=!1)},[i]),rt=T.useCallback(()=>{E.current&&(M.current=!1,E.current.generateNewLayout())},[]),q=T.useCallback(async()=>{try{const _e=`[
${H.slice().sort((Se,ae)=>{const ie=Se,ue=ae,it=parseInt(ie.i,10),Fe=parseInt(ue.i,10);return it-Fe}).map(Se=>{const ae=Se;return`  [${ae.x}, ${ae.y}, ${ae.w}, ${ae.h}]`}).join(`,
`)},
]`;await navigator.clipboard.writeText(_e),alert("Layout matrix copied to clipboard!")}catch(de){console.error("Failed to copy layout matrix:",de),alert("Failed to copy layout matrix to clipboard")}},[H]),te=T.useMemo(()=>H.map(function(de){const _e=de;return g.jsxs("div",{className:"layoutItem",children:[g.jsx("b",{children:_e.i}),": [",_e.x,", ",_e.y,", ",_e.w,", ",_e.h,"]"]},_e.i)}),[H]),ve=G||"",me=30,xe=10,fe=12,K=T.useMemo(()=>{if(H.length===0)return{};const de={};for(let _e=0;_e<=6;_e++){const Se=H.find(ae=>ae.i===_e.toString());if(Se){const ae=Se,ie=ae.h*me+(ae.h-1)*xe,ue=ae.w/fe*100;de[_e]={width:`${ue}%`,height:`${ie}px`}}}return de},[H]),he=T.useCallback(de=>{A.current&&A.current.setPrice(de)},[]),se=T.useMemo(()=>{var de,_e,Se,ae,ie,ue;return[g.jsx(Aze,{symbol:"BINANCE:BTCUSDT",interval:"5",isCollapsed:!1},"tv"),g.jsx(V9e,{baseURL:j,subscriptionClient:ce,marketId:ve,maxDepth:20,height:(de=K[1])==null?void 0:de.height,onPriceClick:he},`clobx-${ve}`),g.jsx(U9e,{baseURL:j,subscriptionClient:ce,marketId:ve},`price-${ve}`),g.jsx($9e,{ref:A,baseURL:j,mnemonic:Ee,marketId:ve,selectedBucketBalance:u,selectedBucketId:l,authToken:X,walletAddress:V,onLeverageClick:()=>{A.current&&m(A.current.leverage),f(!0)},onNumberCalculatorClick:()=>{if(A.current){const it=A.current.getSizeInput(),Fe=A.current.getAvailableTradeAmount();w(it),x(Fe),y(!0)}}},`trade-${ve}`),g.jsx(N9e,{baseURL:j,subscriptionClient:ce,authToken:X,walletAddress:V,mnemonic:Ee,height:(_e=K[4])==null?void 0:_e.height,refreshInterval:5e3},`order-${ve}`),g.jsx(B9e,{baseURL:j,subscriptionClient:ce,authToken:X,walletAddress:V,mnemonic:Ee,height:(Se=K[5])==null?void 0:Se.height,refreshInterval:5e3,selectedBucketId:l},`pos-${ve}`),g.jsx(M9e,{baseURL:j,subscriptionClient:ce,mnemonic:Ee,authToken:X,walletAddress:V,height:(ae=K[6])==null?void 0:ae.height,refreshInterval:5e3,onBucketSelect:(it,Fe)=>{c(it),d(Fe)}},`bucket-${ve}`),g.jsx(D9e,{title:"Dummy Component",message:"This is a dummy component",height:(ie=K[7])==null?void 0:ie.height},`clobclassic-${ve}`),g.jsx(F9e,{baseURL:j,selectedMarketId:ve,height:(ue=K[8])==null?void 0:ue.height},`ticker-${ve}`)]},[j,N,X,V,ve,Z,K,l,u,he]);if(re)return g.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:g.jsx("div",{children:"Loading markets..."})});const ke=le("markets");return ke?g.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:g.jsxs("div",{children:["Error loading markets: ",ke]})}):ee.length===0||!G?g.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:g.jsx("div",{children:"No markets available."})}):g.jsxs("div",{className:"App-content-row",children:[g.jsxs("div",{className:"App-section",children:[g.jsx("h3",{style:{marginTop:"0",marginBottom:"0.75rem"},children:"Configuration"}),g.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",flexWrap:"wrap"},children:[g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Market:"}),g.jsx("select",{value:G||"",onChange:de=>{const _e=de.target.value;_e&&pe(_e)},style:{width:"100%",padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:ee.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),ee.map(de=>{var ie;const _e=de.market_id??((ie=de.id)==null?void 0:ie.toString())??"",Se=de.moniker?de.moniker:de.symbol?de.symbol:de.baseAsset&&de.quoteAsset?`${de.baseAsset}-${de.quoteAsset}`:`Market ID: ${_e}`,ae=de.active?" [ACTIVE]":"";return g.jsxs("option",{value:_e,children:[Se," - ID: ",_e,ae]},_e)})]})}),ee.length>0&&g.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:G===Je?"#51cf66":"#ff9f43"},children:G===Je?` Auto-selected default market (ID: ${Je==null?void 0:Je.substring(0,16)}...)`:` Manual selection (ID: ${G==null?void 0:G.substring(0,16)}...)`})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Mnemonic (for wallet address):"}),g.jsx("input",{type:"text",value:Ee||"",onChange:de=>Qe(de.target.value),placeholder:"Enter mnemonic to generate wallet address",style:{width:"100%",padding:"0.5rem",fontSize:"1rem",border:"1px solid #ccc",backgroundColor:"white",color:"#333"}})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Wallet Address:"}),g.jsx("input",{type:"text",value:V||"",disabled:!!(Ee&&Ee.trim()!==""),placeholder:"automatic (from mnemonic via useOnboard)",style:{width:"100%",padding:"0.5rem",fontSize:"1rem",border:"1px solid #ccc",backgroundColor:V?"#e7f3ff":"#f5f5f5",color:"#333"}}),V&&g.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:"#28a745"},children:" Auto-generated from mnemonic via useOnboard hook"})]}),g.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Layout Type:"}),g.jsxs("select",{value:S,onChange:de=>{const _e=de.target.value;C(_e)},style:{width:"100%",padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:[g.jsx("option",{value:"default",children:"Default Predefined Layouts"}),g.jsx("option",{value:"widthfit",children:"Width Fit"}),g.jsx("option",{value:"rightTrade",children:"Right Trade"}),g.jsx("option",{value:"testTrade",children:"Test Trade"}),g.jsx("option",{value:"triPanel",children:"Tri Panel"})]})]})]}),g.jsx("h3",{children:"Layout Controls"}),g.jsx("button",{onClick:rt,style:{marginRight:"0.5rem"},children:"Generate New Layout"}),g.jsx("button",{onClick:Ve,style:{marginRight:"0.5rem"},children:i?"Enable Dragging":"Disable Dragging"}),g.jsx("button",{onClick:ct,style:{marginRight:"0.5rem"},children:"Change Compaction Type"}),g.jsx("button",{onClick:Ze,children:"Full Width Screen"}),g.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.9em",color:"#fff"},children:["Compaction type:"," ",e?e.charAt(0).toUpperCase()+e.slice(1):"No Compaction"]})]}),g.jsx(b4,{ref:E,onLayoutChange:yt,slotContent:se,compactType:e,allStatic:i,onCompactTypeChange:ct,onToggleStatic:Ve,onNewLayout:rt,initialLayout:D,onMount:qe},S),g.jsxs("div",{className:"overview-layout layoutJSON",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[g.jsxs("span",{children:["Displayed as ",g.jsx("code",{children:"[x, y, w, h]"}),":"]}),g.jsx("button",{onClick:q,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",borderRadius:"4px",border:"1px solid #313131",backgroundColor:"#ccc",color:"black",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:de=>{de.currentTarget.style.color="white",de.currentTarget.style.backgroundColor="#0056b3"},onMouseOut:de=>{de.currentTarget.style.color="black",de.currentTarget.style.backgroundColor="#ccc"},children:"Copy"})]}),g.jsx("div",{className:"columns",children:te})]}),g.jsx(T9e,{isOpen:h,currentLeverage:((Re=A.current)==null?void 0:Re.leverage)||10,tempLeverage:p,maxRatio:A.current?A.current.calculateMaxRatio(p):p.toFixed(2),onLeverageChange:m,onConfirm:async()=>{if(!l||l==="--"||l.trim()===""){vt.error("Bucket Required",{description:"Please select a bucket before changing leverage."});return}if(A.current){f(!1);try{await A.current.changeLeverage(p,{bucketId:l})}catch{A.current&&m(A.current.leverage)}}else f(!1)},onCancel:()=>{A.current&&m(A.current.leverage),f(!1)}}),g.jsx(kpe,{isOpen:b,value:v,min:0,max:_,onConfirm:de=>{A.current&&A.current.setSizeInput(de),y(!1)},onCancel:()=>{y(!1)}})]})}function Ize(){return g.jsx(R9,{defaultWsURL:lh,children:g.jsx(Pze,{})})}function Mze({isConnected:n,label:e,className:r=""}){return g.jsx("span",{className:`hooks-test-status-badge ${n?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"} ${r}`,children:e||(n?"WS Connected":"WS Disconnected")})}function Oze({isEnabled:n,isConnected:e,connectionState:r,retainedDataCount:i,onToggle:s}){return g.jsxs("div",{className:"App-section hooks-test-websocket-section",children:[g.jsxs("div",{className:"hooks-test-websocket-controls",children:[g.jsxs("button",{onClick:s,className:`hooks-test-websocket-button ${n?"hooks-test-websocket-button-enabled":"hooks-test-websocket-button-disabled"}`,children:[n?"Disable":"Enable"," Connect WebSocket"]}),g.jsxs("span",{className:`hooks-test-connection-status ${n?"hooks-test-connection-status-enabled":"hooks-test-connection-status-disabled"} ${e?"hooks-test-connection-status-connected":"hooks-test-connection-status-disconnected"}`,children:[e?" Connected":" Disconnected"," (",r,")"]})]}),n&&g.jsxs("div",{className:"hooks-test-websocket-info",children:["WebSocket is enabled. Hooks will receive real-time updates via multi-feed channel.",i>0&&g.jsxs("span",{className:"hooks-test-retained-data-info",children:["Retained data: ",i," sub-channels"]})]})]})}function pl({title:n,isConnected:e,statusBadges:r=[],actions:i=[],className:s=""}){return g.jsxs("div",{className:`hooks-test-section-header-flex ${s}`,children:[g.jsx("h2",{className:"hooks-test-section-header-title",children:n}),g.jsxs("div",{className:"hooks-test-status-group",children:[e!==void 0&&g.jsx(Mze,{isConnected:e}),r.map((o,a)=>g.jsx("span",{children:o},a)),i.map((o,a)=>g.jsx("span",{children:o},a))]})]})}function Dze({item:n,displayFields:e,originalIndex:r,rowWidth:i,color:s,onItemClick:o}){return g.jsxs("div",{className:"data-flow-row",onClick:()=>{o&&o(n)},style:{width:`${i}px`,background:s},children:[g.jsx("div",{className:"data-flow-row-header",children:n.timestamp?new Date(n.timestamp).toLocaleTimeString():`#${r+1}`}),g.jsx("div",{className:"data-flow-row-fields",children:e.map((a,l)=>g.jsxs("div",{className:"data-flow-field",children:[g.jsxs("span",{className:"data-flow-field-label",children:[a.label,":"]}),g.jsx("span",{className:"data-flow-field-value",children:a.value})]},l))}),g.jsx("div",{className:"data-flow-row-footer",children:"Click to view RAW data"})]})}function am({data:n,maxVisible:e=10,maxDataPoints:r=100,height:i=400,width:s=1080,rowWidth:o=280,onItemClick:a,getValue:l,color:c="#2196F3"}){const u=T.useRef(null),d=T.useRef(null),h=T.useRef(0),[f,p]=T.useState(!1),[m,b]=T.useState(0),y=20,v=800,w=T.useMemo(()=>!n||n.length===0?[]:n.length<=r?n:n.slice(-r),[n,r]),_=x=>{const S=[];if(x.timestamp!==void 0&&S.push({label:"Time",value:new Date(x.timestamp).toLocaleTimeString()}),x.market_id!==void 0&&S.push({label:"Market",value:String(x.market_id)}),x.symbol!==void 0&&S.push({label:"Symbol",value:String(x.symbol)}),x.open!==void 0){const C=Number(x.open);S.push({label:"Open",value:isNaN(C)?String(x.open):C.toFixed(4)})}if(x.close!==void 0){const C=Number(x.close);S.push({label:"Close",value:isNaN(C)?String(x.close):C.toFixed(4)})}if(x.high!==void 0){const C=Number(x.high);S.push({label:"High",value:isNaN(C)?String(x.high):C.toFixed(4)})}if(x.low!==void 0){const C=Number(x.low);S.push({label:"Low",value:isNaN(C)?String(x.low):C.toFixed(4)})}if(x.volume!==void 0){const C=Number(x.volume);S.push({label:"Volume",value:isNaN(C)?String(x.volume):C.toFixed(2)})}if(x.price!==void 0){const C=Number(x.price);S.push({label:"Price",value:isNaN(C)?String(x.price):C.toFixed(4)})}if(x.mark_price!==void 0){const C=Number(x.mark_price);S.push({label:"Mark Price",value:isNaN(C)?String(x.mark_price):C.toFixed(4)})}if(x.last_price!==void 0){const C=Number(x.last_price);S.push({label:"Last Price",value:isNaN(C)?String(x.last_price):C.toFixed(4)})}if(x.size!==void 0){const C=Number(x.size);S.push({label:"Size",value:isNaN(C)?String(x.size):C.toFixed(4)})}if(x.entryPrice!==void 0){const C=Number(x.entryPrice);S.push({label:"Entry",value:isNaN(C)?String(x.entryPrice):C.toFixed(4)})}if(x.unrealizedPnL!==void 0){const C=Number(x.unrealizedPnL);S.push({label:"PnL",value:isNaN(C)?String(x.unrealizedPnL):C.toFixed(4)})}if(x.orderId!==void 0&&S.push({label:"Order ID",value:String(x.orderId)}),x.status!==void 0&&S.push({label:"Status",value:String(x.status)}),x.bucketId!==void 0&&S.push({label:"Bucket ID",value:String(x.bucketId)}),x.maxLeverage!==void 0&&S.push({label:"Max Lev",value:String(x.maxLeverage)}),x.value!==void 0&&S.length===0){const C=Number(x.value);S.push({label:"Value",value:isNaN(C)?String(x.value):C.toFixed(4)})}return S.length===0&&S.push({label:"Data",value:"Click to view"}),S.slice(0,6)};return T.useEffect(()=>{if(!d.current||!u.current)return;const x=w.length;if(x===0){b(0),h.current=0;return}const E=u.current.offsetWidth-20*2,A=x*o+(x-1)*y;if(A>E){const I=A-E;b(-I)}else b(0);const M=w.length>h.current;h.current=w.length,M&&d.current&&requestAnimationFrame(()=>{d.current&&d.current.offsetWidth})},[w.length,o,y,s]),T.useEffect(()=>{d.current&&(d.current.style.transition=f?"none":`transform ${v}ms ease-out`,d.current.style.transform=`translateX(${m}px)`)},[m,f,v]),g.jsxs("div",{ref:u,className:"data-flow-container",style:{width:`${s}px`,height:`${i}px`},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[g.jsx("div",{ref:d,className:"data-flow-rows-wrapper",style:{gap:`${y}px`},children:w.map((x,S)=>{const C=_(x),E=S;return g.jsx(Dze,{item:x,displayFields:C,originalIndex:E,rowWidth:o,color:c,onItemClick:a},`${E}-${x.timestamp||Date.now()}-${x.id||JSON.stringify(x)}`)})}),f&&g.jsx("div",{className:"data-flow-paused-indicator",children:"Paused"})]})}function Rze({data:n,isOpen:e,onClose:r,title:i="Data Details"}){return T.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),T.useEffect(()=>{const s=o=>{o.key==="Escape"&&e&&r()};return e&&window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[e,r]),e?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"data-modal-overlay",onClick:r}),g.jsxs("div",{className:"data-modal",onClick:s=>s.stopPropagation(),children:[g.jsx("h3",{className:"data-modal-title",children:i}),g.jsx("pre",{className:"data-modal-content",children:JSON.stringify(n,null,2)}),g.jsx("button",{className:"data-modal-close-button",onClick:r,children:"Close"})]})]}):null}function OS(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Nze(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Bme(n){let e,r,i;n.length!==2?(e=OS,r=(l,c)=>OS(n(l),c),i=(l,c)=>n(l)-c):(e=n===OS||n===Nze?n:jze,r=n,i=n);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&i(l[h-1],c)>-i(l[h],c)?h-1:h}return{left:s,center:a,right:o}}function jze(){return 0}function Bze(n){return n===null?NaN:+n}const Lze=Bme(OS),Fze=Lze.right;Bme(Bze).center;class AH extends Map{constructor(e,r=Uze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,s]of e)this.set(i,s)}get(e){return super.get(TH(this,e))}has(e){return super.has(TH(this,e))}set(e,r){return super.set($ze(this,e),r)}delete(e){return super.delete(zze(this,e))}}function TH({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function $ze({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function zze({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function Uze(n){return n!==null&&typeof n=="object"?n.valueOf():n}const Wze=Math.sqrt(50),qze=Math.sqrt(10),Hze=Math.sqrt(2);function l2(n,e,r){const i=(e-n)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=Wze?10:o>=qze?5:o>=Hze?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/a,l=Math.round(n*u),c=Math.round(e*u),l/u<n&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*a,l=Math.round(n/u),c=Math.round(e/u),l*u<n&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?l2(n,e,r*2):[l,c,u]}function Vze(n,e,r){if(e=+e,n=+n,r=+r,!(r>0))return[];if(n===e)return[n];const i=e<n,[s,o,a]=i?l2(e,n,r):l2(n,e,r);if(!(o>=s))return[];const l=o-s+1,c=new Array(l);if(i)if(a<0)for(let u=0;u<l;++u)c[u]=(o-u)/-a;else for(let u=0;u<l;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(s+u)/-a;else for(let u=0;u<l;++u)c[u]=(s+u)*a;return c}function S4(n,e,r){return e=+e,n=+n,r=+r,l2(n,e,r)[2]}function Gze(n,e,r){e=+e,n=+n,r=+r;const i=e<n,s=i?S4(e,n,r):S4(n,e,r);return(i?-1:1)*(s<0?1/-s:s)}function PH(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function IH(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function Yze(n,e,r){n=+n,e=+e,r=(s=arguments.length)<2?(e=n,n=0,1):s<3?1:+r;for(var i=-1,s=Math.max(0,Math.ceil((e-n)/r))|0,o=new Array(s);++i<s;)o[i]=n+i*r;return o}function Kze(n,e){let r=0;for(let i of n)(i=+i)&&(r+=i);return r}function Xze(n){return n}var $3=1,z3=2,k4=3,Ay=4,MH=1e-6;function Qze(n){return"translate("+n+",0)"}function Jze(n){return"translate(0,"+n+")"}function Zze(n){return e=>+n(e)}function eUe(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),r=>+n(r)+e}function tUe(){return!this.__axis}function Lme(n,e){var r=[],i=null,s=null,o=6,a=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=n===$3||n===Ay?-1:1,d=n===Ay||n===z3?"x":"y",h=n===$3||n===k4?Qze:Jze;function f(p){var m=i??(e.ticks?e.ticks.apply(e,r):e.domain()),b=s??(e.tickFormat?e.tickFormat.apply(e,r):Xze),y=Math.max(o,0)+l,v=e.range(),w=+v[0]+c,_=+v[v.length-1]+c,x=(e.bandwidth?eUe:Zze)(e.copy(),c),S=p.selection?p.selection():p,C=S.selectAll(".domain").data([null]),E=S.selectAll(".tick").data(m,e).order(),A=E.exit(),M=E.enter().append("g").attr("class","tick"),I=E.select("line"),O=E.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(M),I=I.merge(M.append("line").attr("stroke","currentColor").attr(d+"2",u*o)),O=O.merge(M.append("text").attr("fill","currentColor").attr(d,u*y).attr("dy",n===$3?"0em":n===k4?"0.71em":"0.32em")),p!==S&&(C=C.transition(p),E=E.transition(p),I=I.transition(p),O=O.transition(p),A=A.transition(p).attr("opacity",MH).attr("transform",function(F){return isFinite(F=x(F))?h(F+c):this.getAttribute("transform")}),M.attr("opacity",MH).attr("transform",function(F){var $=this.parentNode.__axis;return h(($&&isFinite($=$(F))?$:x(F))+c)})),A.remove(),C.attr("d",n===Ay||n===z3?a?"M"+u*a+","+w+"H"+c+"V"+_+"H"+u*a:"M"+c+","+w+"V"+_:a?"M"+w+","+u*a+"V"+c+"H"+_+"V"+u*a:"M"+w+","+c+"H"+_),E.attr("opacity",1).attr("transform",function(F){return h(x(F)+c)}),I.attr(d+"2",u*o),O.attr(d,u*y).text(b),S.filter(tUe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===z3?"start":n===Ay?"end":"middle"),S.each(function(){this.__axis=x})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(i=p==null?null:Array.from(p),f):i&&i.slice()},f.tickFormat=function(p){return arguments.length?(s=p,f):s},f.tickSize=function(p){return arguments.length?(o=a=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(a=+p,f):a},f.tickPadding=function(p){return arguments.length?(l=+p,f):l},f.offset=function(p){return arguments.length?(c=+p,f):c},f}function OH(n){return Lme(k4,n)}function nUe(n){return Lme(Ay,n)}var rUe={value:()=>{}};function Ix(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new DS(r)}function DS(n){this._=n}function iUe(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}DS.prototype=Ix.prototype={constructor:DS,on:function(n,e){var r=this._,i=iUe(n+"",r),s,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((s=(n=i[o]).type)&&(s=sUe(r[s],n.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(s=(n=i[o]).type)r[s]=DH(r[s],n.name,e);else if(e==null)for(s in r)r[s]=DH(r[s],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new DS(n)},call:function(n,e){if((s=arguments.length-2)>0)for(var r=new Array(s),i=0,s,o;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],i=0,s=o.length;i<s;++i)o[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,o=i.length;s<o;++s)i[s].value.apply(e,r)}};function sUe(n,e){for(var r=0,i=n.length,s;r<i;++r)if((s=n[r]).name===e)return s.value}function DH(n,e,r){for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n[i]=rUe,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}var C4="http://www.w3.org/1999/xhtml";const RH={svg:"http://www.w3.org/2000/svg",xhtml:C4,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xE(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),RH.hasOwnProperty(e)?{space:RH[e],local:n}:n}function oUe(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===C4&&e.documentElement.namespaceURI===C4?e.createElement(n):e.createElementNS(r,n)}}function aUe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Fme(n){var e=xE(n);return(e.local?aUe:oUe)(e)}function lUe(){}function nB(n){return n==null?lUe:function(){return this.querySelector(n)}}function cUe(n){typeof n!="function"&&(n=nB(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=new Array(a),c,u,d=0;d<a;++d)(c=o[d])&&(u=n.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new gs(i,this._parents)}function $me(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function uUe(){return[]}function zme(n){return n==null?uUe:function(){return this.querySelectorAll(n)}}function dUe(n){return function(){return $me(n.apply(this,arguments))}}function hUe(n){typeof n=="function"?n=dUe(n):n=zme(n);for(var e=this._groups,r=e.length,i=[],s=[],o=0;o<r;++o)for(var a=e[o],l=a.length,c,u=0;u<l;++u)(c=a[u])&&(i.push(n.call(c,c.__data__,u,a)),s.push(c));return new gs(i,s)}function Ume(n){return function(){return this.matches(n)}}function Wme(n){return function(e){return e.matches(n)}}var fUe=Array.prototype.find;function pUe(n){return function(){return fUe.call(this.children,n)}}function mUe(){return this.firstElementChild}function gUe(n){return this.select(n==null?mUe:pUe(typeof n=="function"?n:Wme(n)))}var bUe=Array.prototype.filter;function yUe(){return Array.from(this.children)}function vUe(n){return function(){return bUe.call(this.children,n)}}function wUe(n){return this.selectAll(n==null?yUe:vUe(typeof n=="function"?n:Wme(n)))}function xUe(n){typeof n!="function"&&(n=Ume(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=[],c,u=0;u<a;++u)(c=o[u])&&n.call(c,c.__data__,u,o)&&l.push(c);return new gs(i,this._parents)}function qme(n){return new Array(n.length)}function _Ue(){return new gs(this._enter||this._groups.map(qme),this._parents)}function c2(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}c2.prototype={constructor:c2,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function SUe(n){return function(){return n}}function kUe(n,e,r,i,s,o){for(var a=0,l,c=e.length,u=o.length;a<u;++a)(l=e[a])?(l.__data__=o[a],i[a]=l):r[a]=new c2(n,o[a]);for(;a<c;++a)(l=e[a])&&(s[a]=l)}function CUe(n,e,r,i,s,o,a){var l,c,u=new Map,d=e.length,h=o.length,f=new Array(d),p;for(l=0;l<d;++l)(c=e[l])&&(f[l]=p=a.call(c,c.__data__,l,e)+"",u.has(p)?s[l]=c:u.set(p,c));for(l=0;l<h;++l)p=a.call(n,o[l],l,o)+"",(c=u.get(p))?(i[l]=c,c.__data__=o[l],u.delete(p)):r[l]=new c2(n,o[l]);for(l=0;l<d;++l)(c=e[l])&&u.get(f[l])===c&&(s[l]=c)}function EUe(n){return n.__data__}function AUe(n,e){if(!arguments.length)return Array.from(this,EUe);var r=e?CUe:kUe,i=this._parents,s=this._groups;typeof n!="function"&&(n=SUe(n));for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var d=i[u],h=s[u],f=h.length,p=TUe(n.call(d,d&&d.__data__,u,i)),m=p.length,b=l[u]=new Array(m),y=a[u]=new Array(m),v=c[u]=new Array(f);r(d,h,b,y,v,p,e);for(var w=0,_=0,x,S;w<m;++w)if(x=b[w]){for(w>=_&&(_=w+1);!(S=y[_])&&++_<m;);x._next=S||null}}return a=new gs(a,i),a._enter=l,a._exit=c,a}function TUe(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function PUe(){return new gs(this._exit||this._groups.map(qme),this._parents)}function IUe(n,e,r){var i=this.enter(),s=this,o=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?o.remove():r(o),i&&s?i.merge(s).order():s}function MUe(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,s=r.length,o=i.length,a=Math.min(s,o),l=new Array(s),c=0;c<a;++c)for(var u=r[c],d=i[c],h=u.length,f=l[c]=new Array(h),p,m=0;m<h;++m)(p=u[m]||d[m])&&(f[m]=p);for(;c<s;++c)l[c]=r[c];return new gs(l,this._parents)}function OUe(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],s=i.length-1,o=i[s],a;--s>=0;)(a=i[s])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function DUe(n){n||(n=RUe);function e(h,f){return h&&f?n(h.__data__,f.__data__):!h-!f}for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o){for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d=0;d<l;++d)(u=a[d])&&(c[d]=u);c.sort(e)}return new gs(s,this._parents).order()}function RUe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function NUe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function jUe(){return Array.from(this)}function BUe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length;s<o;++s){var a=i[s];if(a)return a}return null}function LUe(){let n=0;for(const e of this)++n;return n}function FUe(){return!this.node()}function $Ue(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],o=0,a=s.length,l;o<a;++o)(l=s[o])&&n.call(l,l.__data__,o,s);return this}function zUe(n){return function(){this.removeAttribute(n)}}function UUe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function WUe(n,e){return function(){this.setAttribute(n,e)}}function qUe(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function HUe(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function VUe(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function GUe(n,e){var r=xE(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?UUe:zUe:typeof e=="function"?r.local?VUe:HUe:r.local?qUe:WUe)(r,e))}function Hme(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function YUe(n){return function(){this.style.removeProperty(n)}}function KUe(n,e,r){return function(){this.style.setProperty(n,e,r)}}function XUe(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function QUe(n,e,r){return arguments.length>1?this.each((e==null?YUe:typeof e=="function"?XUe:KUe)(n,e,r??"")):S0(this.node(),n)}function S0(n,e){return n.style.getPropertyValue(e)||Hme(n).getComputedStyle(n,null).getPropertyValue(e)}function JUe(n){return function(){delete this[n]}}function ZUe(n,e){return function(){this[n]=e}}function eWe(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function tWe(n,e){return arguments.length>1?this.each((e==null?JUe:typeof e=="function"?eWe:ZUe)(n,e)):this.node()[n]}function Vme(n){return n.trim().split(/^|\s+/)}function rB(n){return n.classList||new Gme(n)}function Gme(n){this._node=n,this._names=Vme(n.getAttribute("class")||"")}Gme.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Yme(n,e){for(var r=rB(n),i=-1,s=e.length;++i<s;)r.add(e[i])}function Kme(n,e){for(var r=rB(n),i=-1,s=e.length;++i<s;)r.remove(e[i])}function nWe(n){return function(){Yme(this,n)}}function rWe(n){return function(){Kme(this,n)}}function iWe(n,e){return function(){(e.apply(this,arguments)?Yme:Kme)(this,n)}}function sWe(n,e){var r=Vme(n+"");if(arguments.length<2){for(var i=rB(this.node()),s=-1,o=r.length;++s<o;)if(!i.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?iWe:e?nWe:rWe)(r,e))}function oWe(){this.textContent=""}function aWe(n){return function(){this.textContent=n}}function lWe(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function cWe(n){return arguments.length?this.each(n==null?oWe:(typeof n=="function"?lWe:aWe)(n)):this.node().textContent}function uWe(){this.innerHTML=""}function dWe(n){return function(){this.innerHTML=n}}function hWe(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function fWe(n){return arguments.length?this.each(n==null?uWe:(typeof n=="function"?hWe:dWe)(n)):this.node().innerHTML}function pWe(){this.nextSibling&&this.parentNode.appendChild(this)}function mWe(){return this.each(pWe)}function gWe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bWe(){return this.each(gWe)}function yWe(n){var e=typeof n=="function"?n:Fme(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function vWe(){return null}function wWe(n,e){var r=typeof n=="function"?n:Fme(n),i=e==null?vWe:typeof e=="function"?e:nB(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function xWe(){var n=this.parentNode;n&&n.removeChild(this)}function _We(){return this.each(xWe)}function SWe(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function kWe(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function CWe(n){return this.select(n?kWe:SWe)}function EWe(n){return arguments.length?this.property("__data__",n):this.node().__data__}function AWe(n){return function(e){n.call(this,e,this.__data__)}}function TWe(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function PWe(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,s=e.length,o;r<s;++r)o=e[r],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function IWe(n,e,r){return function(){var i=this.__on,s,o=AWe(e);if(i){for(var a=0,l=i.length;a<l;++a)if((s=i[a]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=r),s.value=e;return}}this.addEventListener(n.type,o,r),s={type:n.type,name:n.name,value:e,listener:o,options:r},i?i.push(s):this.__on=[s]}}function MWe(n,e,r){var i=TWe(n+""),s,o=i.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(s=0,d=l[c];s<o;++s)if((a=i[s]).type===d.type&&a.name===d.name)return d.value}return}for(l=e?IWe:PWe,s=0;s<o;++s)this.each(l(i[s],e,r));return this}function Xme(n,e,r){var i=Hme(n),s=i.CustomEvent;typeof s=="function"?s=new s(e,r):(s=i.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),n.dispatchEvent(s)}function OWe(n,e){return function(){return Xme(this,n,e)}}function DWe(n,e){return function(){return Xme(this,n,e.apply(this,arguments))}}function RWe(n,e){return this.each((typeof e=="function"?DWe:OWe)(n,e))}function*NWe(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length,a;s<o;++s)(a=i[s])&&(yield a)}var iB=[null];function gs(n,e){this._groups=n,this._parents=e}function Mx(){return new gs([[document.documentElement]],iB)}function jWe(){return this}gs.prototype=Mx.prototype={constructor:gs,select:cUe,selectAll:hUe,selectChild:gUe,selectChildren:wUe,filter:xUe,data:AUe,enter:_Ue,exit:PUe,join:IUe,merge:MUe,selection:jWe,order:OUe,sort:DUe,call:NUe,nodes:jUe,node:BUe,size:LUe,empty:FUe,each:$Ue,attr:GUe,style:QUe,property:tWe,classed:sWe,text:cWe,html:fWe,raise:mWe,lower:bWe,append:yWe,insert:wWe,remove:_We,clone:CWe,datum:EWe,on:MWe,dispatch:RWe,[Symbol.iterator]:NWe};function qi(n){return typeof n=="string"?new gs([[document.querySelector(n)]],[document.documentElement]):new gs([[n]],iB)}function BWe(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Pa(n,e){if(n=BWe(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}}return[n.pageX,n.pageY]}function LWe(n){return typeof n=="string"?new gs([document.querySelectorAll(n)],[document.documentElement]):new gs([$me(n)],iB)}const FWe={passive:!1},bw={capture:!0,passive:!1};function U3(n){n.stopImmediatePropagation()}function cg(n){n.preventDefault(),n.stopImmediatePropagation()}function Qme(n){var e=n.document.documentElement,r=qi(n).on("dragstart.drag",cg,bw);"onselectstart"in e?r.on("selectstart.drag",cg,bw):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Jme(n,e){var r=n.document.documentElement,i=qi(n).on("dragstart.drag",null);e&&(i.on("click.drag",cg,bw),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const S_=n=>()=>n;function E4(n,{sourceEvent:e,subject:r,target:i,identifier:s,active:o,x:a,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}E4.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function $We(n){return!n.ctrlKey&&!n.button}function zWe(){return this.parentNode}function UWe(n,e){return e??{x:n.x,y:n.y}}function WWe(){return navigator.maxTouchPoints||"ontouchstart"in this}function qWe(){var n=$We,e=zWe,r=UWe,i=WWe,s={},o=Ix("start","drag","end"),a=0,l,c,u,d,h=0;function f(x){x.on("mousedown.drag",p).filter(i).on("touchstart.drag",y).on("touchmove.drag",v,FWe).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(x,S){if(!(d||!n.call(this,x,S))){var C=_(this,e.call(this,x,S),x,S,"mouse");C&&(qi(x.view).on("mousemove.drag",m,bw).on("mouseup.drag",b,bw),Qme(x.view),U3(x),u=!1,l=x.clientX,c=x.clientY,C("start",x))}}function m(x){if(cg(x),!u){var S=x.clientX-l,C=x.clientY-c;u=S*S+C*C>h}s.mouse("drag",x)}function b(x){qi(x.view).on("mousemove.drag mouseup.drag",null),Jme(x.view,u),cg(x),s.mouse("end",x)}function y(x,S){if(n.call(this,x,S)){var C=x.changedTouches,E=e.call(this,x,S),A=C.length,M,I;for(M=0;M<A;++M)(I=_(this,E,x,S,C[M].identifier,C[M]))&&(U3(x),I("start",x,C[M]))}}function v(x){var S=x.changedTouches,C=S.length,E,A;for(E=0;E<C;++E)(A=s[S[E].identifier])&&(cg(x),A("drag",x,S[E]))}function w(x){var S=x.changedTouches,C=S.length,E,A;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<C;++E)(A=s[S[E].identifier])&&(U3(x),A("end",x,S[E]))}function _(x,S,C,E,A,M){var I=o.copy(),O=Pa(M||C,S),F,$,z;if((z=r.call(x,new E4("beforestart",{sourceEvent:C,target:f,identifier:A,active:a,x:O[0],y:O[1],dx:0,dy:0,dispatch:I}),E))!=null)return F=z.x-O[0]||0,$=z.y-O[1]||0,function R(j,N,D){var H=O,U;switch(j){case"start":s[A]=R,U=a++;break;case"end":delete s[A],--a;case"drag":O=Pa(D||N,S),U=a;break}I.call(j,x,new E4(j,{sourceEvent:N,subject:z,target:f,identifier:A,active:U,x:O[0]+F,y:O[1]+$,dx:O[0]-H[0],dy:O[1]-H[1],dispatch:I}),E)}}return f.filter=function(x){return arguments.length?(n=typeof x=="function"?x:S_(!!x),f):n},f.container=function(x){return arguments.length?(e=typeof x=="function"?x:S_(x),f):e},f.subject=function(x){return arguments.length?(r=typeof x=="function"?x:S_(x),f):r},f.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:S_(!!x),f):i},f.on=function(){var x=o.on.apply(o,arguments);return x===o?f:x},f.clickDistance=function(x){return arguments.length?(h=(x=+x)*x,f):Math.sqrt(h)},f}function sB(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function Zme(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function Ox(){}var yw=.7,u2=1/yw,ug="\\s*([+-]?\\d+)\\s*",vw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HWe=/^#([0-9a-f]{3,8})$/,VWe=new RegExp(`^rgb\\(${ug},${ug},${ug}\\)$`),GWe=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),YWe=new RegExp(`^rgba\\(${ug},${ug},${ug},${vw}\\)$`),KWe=new RegExp(`^rgba\\(${$l},${$l},${$l},${vw}\\)$`),XWe=new RegExp(`^hsl\\(${vw},${$l},${$l}\\)$`),QWe=new RegExp(`^hsla\\(${vw},${$l},${$l},${vw}\\)$`),NH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sB(Ox,rp,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:jH,formatHex:jH,formatHex8:JWe,formatHsl:ZWe,formatRgb:BH,toString:BH});function jH(){return this.rgb().formatHex()}function JWe(){return this.rgb().formatHex8()}function ZWe(){return ege(this).formatHsl()}function BH(){return this.rgb().formatRgb()}function rp(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=HWe.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?LH(e):r===3?new js(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?k_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?k_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=VWe.exec(n))?new js(e[1],e[2],e[3],1):(e=GWe.exec(n))?new js(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=YWe.exec(n))?k_(e[1],e[2],e[3],e[4]):(e=KWe.exec(n))?k_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XWe.exec(n))?zH(e[1],e[2]/100,e[3]/100,1):(e=QWe.exec(n))?zH(e[1],e[2]/100,e[3]/100,e[4]):NH.hasOwnProperty(n)?LH(NH[n]):n==="transparent"?new js(NaN,NaN,NaN,0):null}function LH(n){return new js(n>>16&255,n>>8&255,n&255,1)}function k_(n,e,r,i){return i<=0&&(n=e=r=NaN),new js(n,e,r,i)}function eqe(n){return n instanceof Ox||(n=rp(n)),n?(n=n.rgb(),new js(n.r,n.g,n.b,n.opacity)):new js}function A4(n,e,r,i){return arguments.length===1?eqe(n):new js(n,e,r,i??1)}function js(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}sB(js,A4,Zme(Ox,{brighter(n){return n=n==null?u2:Math.pow(u2,n),new js(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?yw:Math.pow(yw,n),new js(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new js(Of(this.r),Of(this.g),Of(this.b),d2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FH,formatHex:FH,formatHex8:tqe,formatRgb:$H,toString:$H}));function FH(){return`#${of(this.r)}${of(this.g)}${of(this.b)}`}function tqe(){return`#${of(this.r)}${of(this.g)}${of(this.b)}${of((isNaN(this.opacity)?1:this.opacity)*255)}`}function $H(){const n=d2(this.opacity);return`${n===1?"rgb(":"rgba("}${Of(this.r)}, ${Of(this.g)}, ${Of(this.b)}${n===1?")":`, ${n})`}`}function d2(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Of(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function of(n){return n=Of(n),(n<16?"0":"")+n.toString(16)}function zH(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new Oa(n,e,r,i)}function ege(n){if(n instanceof Oa)return new Oa(n.h,n.s,n.l,n.opacity);if(n instanceof Ox||(n=rp(n)),!n)return new Oa;if(n instanceof Oa)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,s=Math.min(e,r,i),o=Math.max(e,r,i),a=NaN,l=o-s,c=(o+s)/2;return l?(e===o?a=(r-i)/l+(r<i)*6:r===o?a=(i-e)/l+2:a=(e-r)/l+4,l/=c<.5?o+s:2-o-s,a*=60):l=c>0&&c<1?0:a,new Oa(a,l,c,n.opacity)}function nqe(n,e,r,i){return arguments.length===1?ege(n):new Oa(n,e,r,i??1)}function Oa(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}sB(Oa,nqe,Zme(Ox,{brighter(n){return n=n==null?u2:Math.pow(u2,n),new Oa(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?yw:Math.pow(yw,n),new Oa(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,s=2*r-i;return new js(W3(n>=240?n-240:n+120,s,i),W3(n,s,i),W3(n<120?n+240:n-120,s,i),this.opacity)},clamp(){return new Oa(UH(this.h),C_(this.s),C_(this.l),d2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=d2(this.opacity);return`${n===1?"hsl(":"hsla("}${UH(this.h)}, ${C_(this.s)*100}%, ${C_(this.l)*100}%${n===1?")":`, ${n})`}`}}));function UH(n){return n=(n||0)%360,n<0?n+360:n}function C_(n){return Math.max(0,Math.min(1,n||0))}function W3(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const oB=n=>()=>n;function rqe(n,e){return function(r){return n+r*e}}function iqe(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function sqe(n){return(n=+n)==1?tge:function(e,r){return r-e?iqe(e,r,n):oB(isNaN(e)?r:e)}}function tge(n,e){var r=e-n;return r?rqe(n,r):oB(isNaN(n)?e:n)}const h2=function n(e){var r=sqe(e);function i(s,o){var a=r((s=A4(s)).r,(o=A4(o)).r),l=r(s.g,o.g),c=r(s.b,o.b),u=tge(s.opacity,o.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return i.gamma=n,i}(1);function oqe(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,i=e.slice(),s;return function(o){for(s=0;s<r;++s)i[s]=n[s]*(1-o)+e[s]*o;return i}}function aqe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function lqe(n,e){var r=e?e.length:0,i=n?Math.min(r,n.length):0,s=new Array(i),o=new Array(r),a;for(a=0;a<i;++a)s[a]=aB(n[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(l){for(a=0;a<i;++a)o[a]=s[a](l);return o}}function cqe(n,e){var r=new Date;return n=+n,e=+e,function(i){return r.setTime(n*(1-i)+e*i),r}}function Ma(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}function uqe(n,e){var r={},i={},s;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in n?r[s]=aB(n[s],e[s]):i[s]=e[s];return function(o){for(s in r)i[s]=r[s](o);return i}}var T4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q3=new RegExp(T4.source,"g");function dqe(n){return function(){return n}}function hqe(n){return function(e){return n(e)+""}}function nge(n,e){var r=T4.lastIndex=q3.lastIndex=0,i,s,o,a=-1,l=[],c=[];for(n=n+"",e=e+"";(i=T4.exec(n))&&(s=q3.exec(e));)(o=s.index)>r&&(o=e.slice(r,o),l[a]?l[a]+=o:l[++a]=o),(i=i[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:Ma(i,s)})),r=q3.lastIndex;return r<e.length&&(o=e.slice(r),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?hqe(c[0].x):dqe(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function aB(n,e){var r=typeof e,i;return e==null||r==="boolean"?oB(e):(r==="number"?Ma:r==="string"?(i=rp(e))?(e=i,h2):nge:e instanceof rp?h2:e instanceof Date?cqe:aqe(e)?oqe:Array.isArray(e)?lqe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?uqe:Ma)(n,e)}function fqe(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}var WH=180/Math.PI,P4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rge(n,e,r,i,s,o){var a,l,c;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(c=n*r+e*i)&&(r-=n*c,i-=e*c),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,c/=l),n*i<e*r&&(n=-n,e=-e,c=-c,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(e,n)*WH,skewX:Math.atan(c)*WH,scaleX:a,scaleY:l}}var E_;function pqe(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?P4:rge(e.a,e.b,e.c,e.d,e.e,e.f)}function mqe(n){return n==null||(E_||(E_=document.createElementNS("http://www.w3.org/2000/svg","g")),E_.setAttribute("transform",n),!(n=E_.transform.baseVal.consolidate()))?P4:(n=n.matrix,rge(n.a,n.b,n.c,n.d,n.e,n.f))}function ige(n,e,r,i){function s(u){return u.length?u.pop()+" ":""}function o(u,d,h,f,p,m){if(u!==h||d!==f){var b=p.push("translate(",null,e,null,r);m.push({i:b-4,x:Ma(u,h)},{i:b-2,x:Ma(d,f)})}else(h||f)&&p.push("translate("+h+e+f+r)}function a(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(s(h)+"rotate(",null,i)-2,x:Ma(u,d)})):d&&h.push(s(h)+"rotate("+d+i)}function l(u,d,h,f){u!==d?f.push({i:h.push(s(h)+"skewX(",null,i)-2,x:Ma(u,d)}):d&&h.push(s(h)+"skewX("+d+i)}function c(u,d,h,f,p,m){if(u!==h||d!==f){var b=p.push(s(p)+"scale(",null,",",null,")");m.push({i:b-4,x:Ma(u,h)},{i:b-2,x:Ma(d,f)})}else(h!==1||f!==1)&&p.push(s(p)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=n(u),d=n(d),o(u.translateX,u.translateY,d.translateX,d.translateY,h,f),a(u.rotate,d.rotate,h,f),l(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(p){for(var m=-1,b=f.length,y;++m<b;)h[(y=f[m]).i]=y.x(p);return h.join("")}}}var gqe=ige(pqe,"px, ","px)","deg)"),bqe=ige(mqe,", ",")",")"),yqe=1e-12;function qH(n){return((n=Math.exp(n))+1/n)/2}function vqe(n){return((n=Math.exp(n))-1/n)/2}function wqe(n){return((n=Math.exp(2*n))-1)/(n+1)}const xqe=function n(e,r,i){function s(o,a){var l=o[0],c=o[1],u=o[2],d=a[0],h=a[1],f=a[2],p=d-l,m=h-c,b=p*p+m*m,y,v;if(b<yqe)v=Math.log(f/u)/e,y=function(E){return[l+E*p,c+E*m,u*Math.exp(e*E*v)]};else{var w=Math.sqrt(b),_=(f*f-u*u+i*b)/(2*u*r*w),x=(f*f-u*u-i*b)/(2*f*r*w),S=Math.log(Math.sqrt(_*_+1)-_),C=Math.log(Math.sqrt(x*x+1)-x);v=(C-S)/e,y=function(E){var A=E*v,M=qH(S),I=u/(r*w)*(M*wqe(e*A+S)-vqe(S));return[l+I*p,c+I*m,u*M/qH(e*A+S)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return s.rho=function(o){var a=Math.max(.001,+o),l=a*a,c=l*l;return n(a,l,c)},s}(Math.SQRT2,2,4);var k0=0,Ty=0,Xb=0,sge=1e3,f2,Py,p2=0,ip=0,_E=0,ww=typeof performance=="object"&&performance.now?performance:Date,oge=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function lB(){return ip||(oge(_qe),ip=ww.now()+_E)}function _qe(){ip=0}function m2(){this._call=this._time=this._next=null}m2.prototype=cB.prototype={constructor:m2,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?lB():+r)+(e==null?0:+e),!this._next&&Py!==this&&(Py?Py._next=this:f2=this,Py=this),this._call=n,this._time=r,I4()},stop:function(){this._call&&(this._call=null,this._time=1/0,I4())}};function cB(n,e,r){var i=new m2;return i.restart(n,e,r),i}function Sqe(){lB(),++k0;for(var n=f2,e;n;)(e=ip-n._time)>=0&&n._call.call(void 0,e),n=n._next;--k0}function HH(){ip=(p2=ww.now())+_E,k0=Ty=0;try{Sqe()}finally{k0=0,Cqe(),ip=0}}function kqe(){var n=ww.now(),e=n-p2;e>sge&&(_E-=e,p2=n)}function Cqe(){for(var n,e=f2,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:f2=r);Py=n,I4(i)}function I4(n){if(!k0){Ty&&(Ty=clearTimeout(Ty));var e=n-ip;e>24?(n<1/0&&(Ty=setTimeout(HH,n-ww.now()-_E)),Xb&&(Xb=clearInterval(Xb))):(Xb||(p2=ww.now(),Xb=setInterval(kqe,sge)),k0=1,oge(HH))}}function VH(n,e,r){var i=new m2;return e=e==null?0:+e,i.restart(s=>{i.stop(),n(s+e)},e,r),i}var Eqe=Ix("start","end","cancel","interrupt"),Aqe=[],age=0,GH=1,M4=2,RS=3,YH=4,O4=5,NS=6;function SE(n,e,r,i,s,o){var a=n.__transition;if(!a)n.__transition={};else if(r in a)return;Tqe(n,r,{name:e,index:i,group:s,on:Eqe,tween:Aqe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:age})}function uB(n,e){var r=Ja(n,e);if(r.state>age)throw new Error("too late; already scheduled");return r}function Zl(n,e){var r=Ja(n,e);if(r.state>RS)throw new Error("too late; already running");return r}function Ja(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Tqe(n,e,r){var i=n.__transition,s;i[e]=r,r.timer=cB(o,0,r.time);function o(u){r.state=GH,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var d,h,f,p;if(r.state!==GH)return c();for(d in i)if(p=i[d],p.name===r.name){if(p.state===RS)return VH(a);p.state===YH?(p.state=NS,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[d]):+d<e&&(p.state=NS,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[d])}if(VH(function(){r.state===RS&&(r.state=YH,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=M4,r.on.call("start",n,n.__data__,r.index,r.group),r.state===M4){for(r.state=RS,s=new Array(f=r.tween.length),d=0,h=-1;d<f;++d)(p=r.tween[d].value.call(n,n.__data__,r.index,r.group))&&(s[++h]=p);s.length=h+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=O4,1),h=-1,f=s.length;++h<f;)s[h].call(n,d);r.state===O4&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=NS,r.timer.stop(),delete i[e];for(var u in i)return;delete n.__transition}}function jS(n,e){var r=n.__transition,i,s,o=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((i=r[a]).name!==e){o=!1;continue}s=i.state>M4&&i.state<O4,i.state=NS,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[a]}o&&delete n.__transition}}function Pqe(n){return this.each(function(){jS(this,n)})}function Iqe(n,e){var r,i;return function(){var s=Zl(this,n),o=s.tween;if(o!==r){i=r=o;for(var a=0,l=i.length;a<l;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}s.tween=i}}function Mqe(n,e,r){var i,s;if(typeof r!="function")throw new Error;return function(){var o=Zl(this,n),a=o.tween;if(a!==i){s=(i=a).slice();for(var l={name:e,value:r},c=0,u=s.length;c<u;++c)if(s[c].name===e){s[c]=l;break}c===u&&s.push(l)}o.tween=s}}function Oqe(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=Ja(this.node(),r).tween,s=0,o=i.length,a;s<o;++s)if((a=i[s]).name===n)return a.value;return null}return this.each((e==null?Iqe:Mqe)(r,n,e))}function dB(n,e,r){var i=n._id;return n.each(function(){var s=Zl(this,i);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return Ja(s,i).value[e]}}function lge(n,e){var r;return(typeof e=="number"?Ma:e instanceof rp?h2:(r=rp(e))?(e=r,h2):nge)(n,e)}function Dqe(n){return function(){this.removeAttribute(n)}}function Rqe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Nqe(n,e,r){var i,s=r+"",o;return function(){var a=this.getAttribute(n);return a===s?null:a===i?o:o=e(i=a,r)}}function jqe(n,e,r){var i,s=r+"",o;return function(){var a=this.getAttributeNS(n.space,n.local);return a===s?null:a===i?o:o=e(i=a,r)}}function Bqe(n,e,r){var i,s,o;return function(){var a,l=r(this),c;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),c=l+"",a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l)))}}function Lqe(n,e,r){var i,s,o;return function(){var a,l=r(this),c;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),c=l+"",a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l)))}}function Fqe(n,e){var r=xE(n),i=r==="transform"?bqe:lge;return this.attrTween(n,typeof e=="function"?(r.local?Lqe:Bqe)(r,i,dB(this,"attr."+n,e)):e==null?(r.local?Rqe:Dqe)(r):(r.local?jqe:Nqe)(r,i,e))}function $qe(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function zqe(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function Uqe(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&zqe(n,o)),r}return s._value=e,s}function Wqe(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&$qe(n,o)),r}return s._value=e,s}function qqe(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=xE(n);return this.tween(r,(i.local?Uqe:Wqe)(i,e))}function Hqe(n,e){return function(){uB(this,n).delay=+e.apply(this,arguments)}}function Vqe(n,e){return e=+e,function(){uB(this,n).delay=e}}function Gqe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Hqe:Vqe)(e,n)):Ja(this.node(),e).delay}function Yqe(n,e){return function(){Zl(this,n).duration=+e.apply(this,arguments)}}function Kqe(n,e){return e=+e,function(){Zl(this,n).duration=e}}function Xqe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Yqe:Kqe)(e,n)):Ja(this.node(),e).duration}function Qqe(n,e){if(typeof e!="function")throw new Error;return function(){Zl(this,n).ease=e}}function Jqe(n){var e=this._id;return arguments.length?this.each(Qqe(e,n)):Ja(this.node(),e).ease}function Zqe(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Zl(this,n).ease=r}}function eHe(n){if(typeof n!="function")throw new Error;return this.each(Zqe(this._id,n))}function tHe(n){typeof n!="function"&&(n=Ume(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=[],c,u=0;u<a;++u)(c=o[u])&&n.call(c,c.__data__,u,o)&&l.push(c);return new gu(i,this._parents,this._name,this._id)}function nHe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=e[l],u=r[l],d=c.length,h=a[l]=new Array(d),f,p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<i;++l)a[l]=e[l];return new gu(a,this._parents,this._name,this._id)}function rHe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function iHe(n,e,r){var i,s,o=rHe(e)?uB:Zl;return function(){var a=o(this,n),l=a.on;l!==i&&(s=(i=l).copy()).on(e,r),a.on=s}}function sHe(n,e){var r=this._id;return arguments.length<2?Ja(this.node(),r).on.on(n):this.each(iHe(r,n,e))}function oHe(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function aHe(){return this.on("end.remove",oHe(this._id))}function lHe(n){var e=this._name,r=this._id;typeof n!="function"&&(n=nB(n));for(var i=this._groups,s=i.length,o=new Array(s),a=0;a<s;++a)for(var l=i[a],c=l.length,u=o[a]=new Array(c),d,h,f=0;f<c;++f)(d=l[f])&&(h=n.call(d,d.__data__,f,l))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,SE(u[f],e,r,f,u,Ja(d,r)));return new gu(o,this._parents,e,r)}function cHe(n){var e=this._name,r=this._id;typeof n!="function"&&(n=zme(n));for(var i=this._groups,s=i.length,o=[],a=[],l=0;l<s;++l)for(var c=i[l],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=n.call(d,d.__data__,h,c),p,m=Ja(d,r),b=0,y=f.length;b<y;++b)(p=f[b])&&SE(p,e,r,b,f,m);o.push(f),a.push(d)}return new gu(o,a,e,r)}var uHe=Mx.prototype.constructor;function dHe(){return new uHe(this._groups,this._parents)}function hHe(n,e){var r,i,s;return function(){var o=S0(this,n),a=(this.style.removeProperty(n),S0(this,n));return o===a?null:o===r&&a===i?s:s=e(r=o,i=a)}}function cge(n){return function(){this.style.removeProperty(n)}}function fHe(n,e,r){var i,s=r+"",o;return function(){var a=S0(this,n);return a===s?null:a===i?o:o=e(i=a,r)}}function pHe(n,e,r){var i,s,o;return function(){var a=S0(this,n),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(n),S0(this,n))),a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l))}}function mHe(n,e){var r,i,s,o="style."+e,a="end."+o,l;return function(){var c=Zl(this,n),u=c.on,d=c.value[o]==null?l||(l=cge(e)):void 0;(u!==r||s!==d)&&(i=(r=u).copy()).on(a,s=d),c.on=i}}function gHe(n,e,r){var i=(n+="")=="transform"?gqe:lge;return e==null?this.styleTween(n,hHe(n,i)).on("end.style."+n,cge(n)):typeof e=="function"?this.styleTween(n,pHe(n,i,dB(this,"style."+n,e))).each(mHe(this._id,n)):this.styleTween(n,fHe(n,i,e),r).on("end.style."+n,null)}function bHe(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function yHe(n,e,r){var i,s;function o(){var a=e.apply(this,arguments);return a!==s&&(i=(s=a)&&bHe(n,a,r)),i}return o._value=e,o}function vHe(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,yHe(n,e,r??""))}function wHe(n){return function(){this.textContent=n}}function xHe(n){return function(){var e=n(this);this.textContent=e??""}}function _He(n){return this.tween("text",typeof n=="function"?xHe(dB(this,"text",n)):wHe(n==null?"":n+""))}function SHe(n){return function(e){this.textContent=n.call(this,e)}}function kHe(n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&SHe(s)),e}return i._value=n,i}function CHe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,kHe(n))}function EHe(){for(var n=this._name,e=this._id,r=uge(),i=this._groups,s=i.length,o=0;o<s;++o)for(var a=i[o],l=a.length,c,u=0;u<l;++u)if(c=a[u]){var d=Ja(c,e);SE(c,n,r,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new gu(i,this._parents,n,r)}function AHe(){var n,e,r=this,i=r._id,s=r.size();return new Promise(function(o,a){var l={value:a},c={value:function(){--s===0&&o()}};r.each(function(){var u=Zl(this,i),d=u.on;d!==n&&(e=(n=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),u.on=e}),s===0&&o()})}var THe=0;function gu(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function uge(){return++THe}var pc=Mx.prototype;gu.prototype={constructor:gu,select:lHe,selectAll:cHe,selectChild:pc.selectChild,selectChildren:pc.selectChildren,filter:tHe,merge:nHe,selection:dHe,transition:EHe,call:pc.call,nodes:pc.nodes,node:pc.node,size:pc.size,empty:pc.empty,each:pc.each,on:sHe,attr:Fqe,attrTween:qqe,style:gHe,styleTween:vHe,text:_He,textTween:CHe,remove:aHe,tween:Oqe,delay:Gqe,duration:Xqe,ease:Jqe,easeVarying:eHe,end:AHe,[Symbol.iterator]:pc[Symbol.iterator]};function PHe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var IHe={time:null,delay:0,duration:250,ease:PHe};function MHe(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function OHe(n){var e,r;n instanceof gu?(e=n._id,n=n._name):(e=uge(),(r=IHe).time=lB(),n=n==null?null:n+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var a=i[o],l=a.length,c,u=0;u<l;++u)(c=a[u])&&SE(c,n,e,u,a,r||MHe(c,e));return new gu(i,this._parents,n,e)}Mx.prototype.interrupt=Pqe;Mx.prototype.transition=OHe;function DHe(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return dge(this.cover(e,r),e,r,n)}function dge(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var s,o=n._root,a={data:i},l=n._x0,c=n._y0,u=n._x1,d=n._y1,h,f,p,m,b,y,v,w;if(!o)return n._root=a,n;for(;o.length;)if((b=e>=(h=(l+u)/2))?l=h:u=h,(y=r>=(f=(c+d)/2))?c=f:d=f,s=o,!(o=o[v=y<<1|b]))return s[v]=a,n;if(p=+n._x.call(null,o.data),m=+n._y.call(null,o.data),e===p&&r===m)return a.next=o,s?s[v]=a:n._root=a,n;do s=s?s[v]=new Array(4):n._root=new Array(4),(b=e>=(h=(l+u)/2))?l=h:u=h,(y=r>=(f=(c+d)/2))?c=f:d=f;while((v=y<<1|b)===(w=(m>=f)<<1|p>=h));return s[w]=o,s[v]=a,n}function RHe(n){var e,r,i=n.length,s,o,a=new Array(i),l=new Array(i),c=1/0,u=1/0,d=-1/0,h=-1/0;for(r=0;r<i;++r)isNaN(s=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e))||(a[r]=s,l[r]=o,s<c&&(c=s),s>d&&(d=s),o<u&&(u=o),o>h&&(h=o));if(c>d||u>h)return this;for(this.cover(c,u).cover(d,h),r=0;r<i;++r)dge(this,a[r],l[r],n[r]);return this}function NHe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,s=this._x1,o=this._y1;if(isNaN(r))s=(r=Math.floor(n))+1,o=(i=Math.floor(e))+1;else{for(var a=s-r||1,l=this._root,c,u;r>n||n>=s||i>e||e>=o;)switch(u=(e<i)<<1|n<r,c=new Array(4),c[u]=l,l=c,a*=2,u){case 0:s=r+a,o=i+a;break;case 1:r=s-a,o=i+a;break;case 2:s=r+a,i=o-a;break;case 3:r=s-a,i=o-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=s,this._y1=o,this}function jHe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function BHe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function as(n,e,r,i,s){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=s}function LHe(n,e,r){var i,s=this._x0,o=this._y0,a,l,c,u,d=this._x1,h=this._y1,f=[],p=this._root,m,b;for(p&&f.push(new as(p,s,o,d,h)),r==null?r=1/0:(s=n-r,o=e-r,d=n+r,h=e+r,r*=r);m=f.pop();)if(!(!(p=m.node)||(a=m.x0)>d||(l=m.y0)>h||(c=m.x1)<s||(u=m.y1)<o))if(p.length){var y=(a+c)/2,v=(l+u)/2;f.push(new as(p[3],y,v,c,u),new as(p[2],a,v,y,u),new as(p[1],y,l,c,v),new as(p[0],a,l,y,v)),(b=(e>=v)<<1|n>=y)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-b],f[f.length-1-b]=m)}else{var w=n-+this._x.call(null,p.data),_=e-+this._y.call(null,p.data),x=w*w+_*_;if(x<r){var S=Math.sqrt(r=x);s=n-S,o=e-S,d=n+S,h=e+S,i=p.data}}return i}function FHe(n){if(isNaN(d=+this._x.call(null,n))||isNaN(h=+this._y.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._y0,c=this._x1,u=this._y1,d,h,f,p,m,b,y,v;if(!r)return this;if(r.length)for(;;){if((m=d>=(f=(a+c)/2))?a=f:c=f,(b=h>=(p=(l+u)/2))?l=p:u=p,e=r,!(r=r[y=b<<1|m]))return this;if(!r.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(i=e,v=y)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[y]=o:delete e[y],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[v]=r:this._root=r),this):(this._root=o,this)}function $He(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function zHe(){return this._root}function UHe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function WHe(n){var e=[],r,i=this._root,s,o,a,l,c;for(i&&e.push(new as(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.y0,l=r.x1,c=r.y1)&&i.length){var u=(o+l)/2,d=(a+c)/2;(s=i[3])&&e.push(new as(s,u,d,l,c)),(s=i[2])&&e.push(new as(s,o,d,u,c)),(s=i[1])&&e.push(new as(s,u,a,l,d)),(s=i[0])&&e.push(new as(s,o,a,u,d))}return this}function qHe(n){var e=[],r=[],i;for(this._root&&e.push(new as(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.x1,u=i.y1,d=(a+c)/2,h=(l+u)/2;(o=s[0])&&e.push(new as(o,a,l,d,h)),(o=s[1])&&e.push(new as(o,d,l,c,h)),(o=s[2])&&e.push(new as(o,a,h,d,u)),(o=s[3])&&e.push(new as(o,d,h,c,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function HHe(n){return n[0]}function VHe(n){return arguments.length?(this._x=n,this):this._x}function GHe(n){return n[1]}function YHe(n){return arguments.length?(this._y=n,this):this._y}function hge(n,e,r){var i=new hB(e??HHe,r??GHe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function hB(n,e,r,i,s,o){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=s,this._y1=o,this._root=void 0}function KH(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var ws=hge.prototype=hB.prototype;ws.copy=function(){var n=new hB(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=KH(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var s=0;s<4;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(4)}):e.target[s]=KH(i));return n};ws.add=DHe;ws.addAll=RHe;ws.cover=NHe;ws.data=jHe;ws.extent=BHe;ws.find=LHe;ws.remove=FHe;ws.removeAll=$He;ws.root=zHe;ws.size=UHe;ws.visit=WHe;ws.visitAfter=qHe;ws.x=VHe;ws.y=YHe;function KHe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function g2(n,e){if((r=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function C0(n){return n=g2(Math.abs(n)),n?n[1]:NaN}function XHe(n,e){return function(r,i){for(var s=r.length,o=[],a=0,l=n[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),o.push(r.substring(s-=l,s+l)),!((c+=l+1)>i));)l=n[a=(a+1)%n.length];return o.reverse().join(e)}}function QHe(n){return function(e){return e.replace(/[0-9]/g,function(r){return n[+r]})}}var JHe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function b2(n){if(!(e=JHe.exec(n)))throw new Error("invalid format: "+n);var e;return new fB({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}b2.prototype=fB.prototype;function fB(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}fB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZHe(n){e:for(var e=n.length,r=1,i=-1,s;r<e;++r)switch(n[r]){case".":i=s=r;break;case"0":i===0&&(i=r),s=r;break;default:if(!+n[r])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(s+1):n}var fge;function eVe(n,e){var r=g2(n,e);if(!r)return n+"";var i=r[0],s=r[1],o=s-(fge=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+g2(n,Math.max(0,e+o-1))[0]}function XH(n,e){var r=g2(n,e);if(!r)return n+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const QH={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:KHe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>XH(n*100,e),r:XH,s:eVe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function JH(n){return n}var ZH=Array.prototype.map,eV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tVe(n){var e=n.grouping===void 0||n.thousands===void 0?JH:XHe(ZH.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",s=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?JH:QHe(ZH.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function u(h){h=b2(h);var f=h.fill,p=h.align,m=h.sign,b=h.symbol,y=h.zero,v=h.width,w=h.comma,_=h.precision,x=h.trim,S=h.type;S==="n"?(w=!0,S="g"):QH[S]||(_===void 0&&(_=12),x=!0,S="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var C=b==="$"?r:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=b==="$"?i:/[%p]/.test(S)?a:"",A=QH[S],M=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(O){var F=C,$=E,z,R,j;if(S==="c")$=A(O)+$,O="";else{O=+O;var N=O<0||1/O<0;if(O=isNaN(O)?c:A(Math.abs(O),_),x&&(O=ZHe(O)),N&&+O==0&&m!=="+"&&(N=!1),F=(N?m==="("?m:l:m==="-"||m==="("?"":m)+F,$=(S==="s"?eV[8+fge/3]:"")+$+(N&&m==="("?")":""),M){for(z=-1,R=O.length;++z<R;)if(j=O.charCodeAt(z),48>j||j>57){$=(j===46?s+O.slice(z+1):O.slice(z))+$,O=O.slice(0,z);break}}}w&&!y&&(O=e(O,1/0));var D=F.length+O.length+$.length,H=D<v?new Array(v-D+1).join(f):"";switch(w&&y&&(O=e(H+O,H.length?v-$.length:1/0),H=""),p){case"<":O=F+O+$+H;break;case"=":O=F+H+O+$;break;case"^":O=H.slice(0,D=H.length>>1)+F+O+$+H.slice(D);break;default:O=H+F+O+$;break}return o(O)}return I.toString=function(){return h+""},I}function d(h,f){var p=u((h=b2(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(C0(f)/3)))*3,b=Math.pow(10,-m),y=eV[8+m/3];return function(v){return p(b*v)+y}}return{format:u,formatPrefix:d}}var A_,pge,mge;nVe({thousands:",",grouping:[3],currency:["$",""]});function nVe(n){return A_=tVe(n),pge=A_.format,mge=A_.formatPrefix,A_}function rVe(n){return Math.max(0,-C0(Math.abs(n)))}function iVe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(C0(e)/3)))*3-C0(Math.abs(n)))}function sVe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,C0(e)-C0(n))+1}function pB(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const tV=Symbol("implicit");function mB(){var n=new AH,e=[],r=[],i=tV;function s(o){let a=n.get(o);if(a===void 0){if(i!==tV)return i;n.set(o,a=e.push(o)-1)}return r[a%r.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new AH;for(const a of o)n.has(a)||n.set(a,e.push(a)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return mB(e,r).unknown(i)},pB.apply(s,arguments),s}function gge(){var n=mB().unknown(void 0),e=n.domain,r=n.range,i=0,s=1,o,a,l=!1,c=0,u=0,d=.5;delete n.unknown;function h(){var f=e().length,p=s<i,m=p?s:i,b=p?i:s;o=(b-m)/Math.max(1,f-c+u*2),l&&(o=Math.floor(o)),m+=(b-m-o*(f-c))*d,a=o*(1-c),l&&(m=Math.round(m),a=Math.round(a));var y=Yze(f).map(function(v){return m+o*v});return r(p?y.reverse():y)}return n.domain=function(f){return arguments.length?(e(f),h()):e()},n.range=function(f){return arguments.length?([i,s]=f,i=+i,s=+s,h()):[i,s]},n.rangeRound=function(f){return[i,s]=f,i=+i,s=+s,l=!0,h()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(f){return arguments.length?(l=!!f,h()):l},n.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},n.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},n.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},n.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},n.copy=function(){return gge(e(),[i,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},pB.apply(h(),arguments)}function oVe(n){return function(){return n}}function aVe(n){return+n}var nV=[0,1];function Wm(n){return n}function D4(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:oVe(isNaN(e)?NaN:.5)}function lVe(n,e){var r;return n>e&&(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function cVe(n,e,r){var i=n[0],s=n[1],o=e[0],a=e[1];return s<i?(i=D4(s,i),o=r(a,o)):(i=D4(i,s),o=r(o,a)),function(l){return o(i(l))}}function uVe(n,e,r){var i=Math.min(n.length,e.length)-1,s=new Array(i),o=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)s[a]=D4(n[a],n[a+1]),o[a]=r(e[a],e[a+1]);return function(l){var c=Fze(n,l,1,i)-1;return o[c](s[c](l))}}function dVe(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function hVe(){var n=nV,e=nV,r=aB,i,s,o,a=Wm,l,c,u;function d(){var f=Math.min(n.length,e.length);return a!==Wm&&(a=lVe(n[0],n[f-1])),l=f>2?uVe:cVe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(c||(c=l(n.map(i),e,r)))(i(a(f)))}return h.invert=function(f){return a(s((u||(u=l(e,n.map(i),Ma)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,aVe),d()):n.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=fqe,d()},h.clamp=function(f){return arguments.length?(a=f?!0:Wm,d()):a!==Wm},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return i=f,s=p,d()}}function fVe(){return hVe()(Wm,Wm)}function pVe(n,e,r,i){var s=Gze(n,e,r),o;switch(i=b2(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(o=iVe(s,a))&&(i.precision=o),mge(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=sVe(s,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=rVe(s))&&(i.precision=o-(i.type==="%")*2);break}}return pge(i)}function mVe(n){var e=n.domain;return n.ticks=function(r){var i=e();return Vze(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var s=e();return pVe(s[0],s[s.length-1],r??10,i)},n.nice=function(r){r==null&&(r=10);var i=e(),s=0,o=i.length-1,a=i[s],l=i[o],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=s,s=o,o=u);d-- >0;){if(u=S4(a,l,r),u===c)return i[s]=a,i[o]=l,e(i);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return n},n}function bge(){var n=fVe();return n.copy=function(){return dVe(n,bge())},pB.apply(n,arguments),mVe(n)}function gVe(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const bVe=gVe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),T_=n=>()=>n;function yVe(n,{sourceEvent:e,target:r,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Gc(n,e,r){this.k=n,this.x=e,this.y=r}Gc.prototype={constructor:Gc,scale:function(n){return n===1?this:new Gc(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Gc(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gB=new Gc(1,0,0);bl.prototype=Gc.prototype;function bl(n){for(;!n.__zoom;)if(!(n=n.parentNode))return gB;return n.__zoom}function H3(n){n.stopImmediatePropagation()}function Qb(n){n.preventDefault(),n.stopImmediatePropagation()}function vVe(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function wVe(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function rV(){return this.__zoom||gB}function xVe(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function _Ve(){return navigator.maxTouchPoints||"ontouchstart"in this}function SVe(n,e,r){var i=n.invertX(e[0][0])-r[0][0],s=n.invertX(e[1][0])-r[1][0],o=n.invertY(e[0][1])-r[0][1],a=n.invertY(e[1][1])-r[1][1];return n.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function kVe(){var n=vVe,e=wVe,r=SVe,i=xVe,s=_Ve,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=xqe,u=Ix("start","zoom","end"),d,h,f,p=500,m=150,b=0,y=10;function v(z){z.property("__zoom",rV).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",I).filter(s).on("touchstart.zoom",O).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(z,R,j,N){var D=z.selection?z.selection():z;D.property("__zoom",rV),z!==D?S(z,R,j,N):D.interrupt().each(function(){C(this,arguments).event(N).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},v.scaleBy=function(z,R,j,N){v.scaleTo(z,function(){var D=this.__zoom.k,H=typeof R=="function"?R.apply(this,arguments):R;return D*H},j,N)},v.scaleTo=function(z,R,j,N){v.transform(z,function(){var D=e.apply(this,arguments),H=this.__zoom,U=j==null?x(D):typeof j=="function"?j.apply(this,arguments):j,X=H.invert(U),Y=typeof R=="function"?R.apply(this,arguments):R;return r(_(w(H,Y),U,X),D,a)},j,N)},v.translateBy=function(z,R,j,N){v.transform(z,function(){return r(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),a)},null,N)},v.translateTo=function(z,R,j,N,D){v.transform(z,function(){var H=e.apply(this,arguments),U=this.__zoom,X=N==null?x(H):typeof N=="function"?N.apply(this,arguments):N;return r(gB.translate(X[0],X[1]).scale(U.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof j=="function"?-j.apply(this,arguments):-j),H,a)},N,D)};function w(z,R){return R=Math.max(o[0],Math.min(o[1],R)),R===z.k?z:new Gc(R,z.x,z.y)}function _(z,R,j){var N=R[0]-j[0]*z.k,D=R[1]-j[1]*z.k;return N===z.x&&D===z.y?z:new Gc(z.k,N,D)}function x(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function S(z,R,j,N){z.on("start.zoom",function(){C(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(N).end()}).tween("zoom",function(){var D=this,H=arguments,U=C(D,H).event(N),X=e.apply(D,H),Y=j==null?x(X):typeof j=="function"?j.apply(D,H):j,ee=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),G=D.__zoom,Z=typeof R=="function"?R.apply(D,H):R,pe=c(G.invert(Y).concat(ee/G.k),Z.invert(Y).concat(ee/Z.k));return function(re){if(re===1)re=Z;else{var le=pe(re),ce=ee/le[2];re=new Gc(ce,Y[0]-le[0]*ce,Y[1]-le[1]*ce)}U.zoom(null,re)}})}function C(z,R,j){return!j&&z.__zooming||new E(z,R)}function E(z,R){this.that=z,this.args=R,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,R),this.taps=0}E.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,R){return this.mouse&&z!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var R=qi(this.that).datum();u.call(z,this.that,new yVe(z,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),R)}};function A(z,...R){if(!n.apply(this,arguments))return;var j=C(this,R).event(z),N=this.__zoom,D=Math.max(o[0],Math.min(o[1],N.k*Math.pow(2,i.apply(this,arguments)))),H=Pa(z);if(j.wheel)(j.mouse[0][0]!==H[0]||j.mouse[0][1]!==H[1])&&(j.mouse[1]=N.invert(j.mouse[0]=H)),clearTimeout(j.wheel);else{if(N.k===D)return;j.mouse=[H,N.invert(H)],jS(this),j.start()}Qb(z),j.wheel=setTimeout(U,m),j.zoom("mouse",r(_(w(N,D),j.mouse[0],j.mouse[1]),j.extent,a));function U(){j.wheel=null,j.end()}}function M(z,...R){if(f||!n.apply(this,arguments))return;var j=z.currentTarget,N=C(this,R,!0).event(z),D=qi(z.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",ee,!0),H=Pa(z,j),U=z.clientX,X=z.clientY;Qme(z.view),H3(z),N.mouse=[H,this.__zoom.invert(H)],jS(this),N.start();function Y(G){if(Qb(G),!N.moved){var Z=G.clientX-U,pe=G.clientY-X;N.moved=Z*Z+pe*pe>b}N.event(G).zoom("mouse",r(_(N.that.__zoom,N.mouse[0]=Pa(G,j),N.mouse[1]),N.extent,a))}function ee(G){D.on("mousemove.zoom mouseup.zoom",null),Jme(G.view,N.moved),Qb(G),N.event(G).end()}}function I(z,...R){if(n.apply(this,arguments)){var j=this.__zoom,N=Pa(z.changedTouches?z.changedTouches[0]:z,this),D=j.invert(N),H=j.k*(z.shiftKey?.5:2),U=r(_(w(j,H),N,D),e.apply(this,R),a);Qb(z),l>0?qi(this).transition().duration(l).call(S,U,N,z):qi(this).call(v.transform,U,N,z)}}function O(z,...R){if(n.apply(this,arguments)){var j=z.touches,N=j.length,D=C(this,R,z.changedTouches.length===N).event(z),H,U,X,Y;for(H3(z),U=0;U<N;++U)X=j[U],Y=Pa(X,this),Y=[Y,this.__zoom.invert(Y),X.identifier],D.touch0?!D.touch1&&D.touch0[2]!==Y[2]&&(D.touch1=Y,D.taps=0):(D.touch0=Y,H=!0,D.taps=1+!!d);d&&(d=clearTimeout(d)),H&&(D.taps<2&&(h=Y[0],d=setTimeout(function(){d=null},p)),jS(this),D.start())}}function F(z,...R){if(this.__zooming){var j=C(this,R).event(z),N=z.changedTouches,D=N.length,H,U,X,Y;for(Qb(z),H=0;H<D;++H)U=N[H],X=Pa(U,this),j.touch0&&j.touch0[2]===U.identifier?j.touch0[0]=X:j.touch1&&j.touch1[2]===U.identifier&&(j.touch1[0]=X);if(U=j.that.__zoom,j.touch1){var ee=j.touch0[0],G=j.touch0[1],Z=j.touch1[0],pe=j.touch1[1],re=(re=Z[0]-ee[0])*re+(re=Z[1]-ee[1])*re,le=(le=pe[0]-G[0])*le+(le=pe[1]-G[1])*le;U=w(U,Math.sqrt(re/le)),X=[(ee[0]+Z[0])/2,(ee[1]+Z[1])/2],Y=[(G[0]+pe[0])/2,(G[1]+pe[1])/2]}else if(j.touch0)X=j.touch0[0],Y=j.touch0[1];else return;j.zoom("touch",r(_(U,X,Y),j.extent,a))}}function $(z,...R){if(this.__zooming){var j=C(this,R).event(z),N=z.changedTouches,D=N.length,H,U;for(H3(z),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),H=0;H<D;++H)U=N[H],j.touch0&&j.touch0[2]===U.identifier?delete j.touch0:j.touch1&&j.touch1[2]===U.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(U=Pa(U,this),Math.hypot(h[0]-U[0],h[1]-U[1])<y)){var X=qi(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return v.wheelDelta=function(z){return arguments.length?(i=typeof z=="function"?z:T_(+z),v):i},v.filter=function(z){return arguments.length?(n=typeof z=="function"?z:T_(!!z),v):n},v.touchable=function(z){return arguments.length?(s=typeof z=="function"?z:T_(!!z),v):s},v.extent=function(z){return arguments.length?(e=typeof z=="function"?z:T_([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),v):e},v.scaleExtent=function(z){return arguments.length?(o[0]=+z[0],o[1]=+z[1],v):[o[0],o[1]]},v.translateExtent=function(z){return arguments.length?(a[0][0]=+z[0][0],a[1][0]=+z[1][0],a[0][1]=+z[0][1],a[1][1]=+z[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(z){return arguments.length?(r=z,v):r},v.duration=function(z){return arguments.length?(l=+z,v):l},v.interpolate=function(z){return arguments.length?(c=z,v):c},v.on=function(){var z=u.on.apply(u,arguments);return z===u?v:z},v.clickDistance=function(z){return arguments.length?(b=(z=+z)*z,v):Math.sqrt(b)},v.tapDistance=function(z){return arguments.length?(y=+z,v):y},v}function lm({data:n,height:e=150,width:r=900,maxBars:i=60,getTimestamp:s=o=>o.timestamp||Date.now()}){const o=T.useRef(null),a=T.useRef(null),[l,c]=T.useState([]),u=T.useCallback(d=>s(d),[s]);return T.useEffect(()=>{if(n.length===0){c([]);return}const d=Date.now(),h=new Map;n.forEach(p=>{const m=u(p);if(!m||isNaN(m)||!isFinite(m))return;const b=Math.floor((d-m)/1e3);if(b>=0&&b<i){const y=h.get(b)||0;h.set(b,y+1)}});const f=[];for(let p=i-1;p>=0;p--)f.push({time:p,count:h.get(p)||0});c(f)},[n,i,u]),T.useEffect(()=>{if(!o.current||l.length===0)return;const d=qi(o.current);d.selectAll("*").remove();const h={top:20,right:20,bottom:40,left:50},f=r-h.left-h.right,p=e-h.top-h.bottom,m=d.append("g").attr("transform",`translate(${h.left}, ${h.top})`),b=gge().domain(l.map((w,_)=>_.toString())).range([0,f]).padding(.1),v=bge().domain([0,5]).range([p,0]).nice();return m.append("g").attr("transform",`translate(0, ${p})`).call(OH(b).tickValues(b.domain().filter((w,_)=>_%Math.ceil(i/10)===0)).tickFormat(w=>{var C;const _=parseInt(w||"0"),x=((C=l[_])==null?void 0:C.time)||0;return x===0?"now":x<60?`-${x}s`:`-${Math.floor(x/60)}m`})).selectAll("text").attr("class","data-rate-axis-text"),m.append("g").call(nUe(v).ticks(5)).selectAll("text").attr("class","data-rate-axis-text"),m.append("text").attr("class","data-rate-y-axis-label").attr("transform","rotate(-90)").attr("y",-35).attr("x",-p/2).attr("text-anchor","middle").text("Data Points/sec"),m.selectAll("rect").data(l).enter().append("rect").attr("x",(w,_)=>b(_.toString())||0).attr("y",w=>v(w.count)).attr("width",b.bandwidth()).attr("height",w=>p-v(w.count)).attr("fill",w=>w.count>=3.5?"#4CAF50":w.count>=2?"#FF9800":w.count>0?"#F44336":"#E0E0E0").attr("rx",2).style("opacity",.8).on("mouseover",function(w,_){var M;qi(this).style("opacity",1),a.current&&a.current.remove();const S=qi("body").append("div").attr("class","data-rate-tooltip").style("opacity",0),C=(M=o.current)==null?void 0:M.getBoundingClientRect(),[E,A]=Pa(w,o.current);C?(S.style("left",`${C.left+E+10}px`).style("top",`${C.top+A-10}px`).text(`${_.count} data points ${_.time===0?"now":`${_.time}s ago`}`).transition().duration(200).style("opacity",1),a.current=S):S.remove()}).on("mouseout",function(){qi(this).style("opacity",.8),a.current&&(a.current.transition().duration(200).style("opacity",0).remove(),a.current=null)}),m.append("g").attr("class","grid").attr("transform",`translate(0, ${p})`).call(OH(b).tickSize(-p).tickValues(b.domain().filter((w,_)=>_%Math.ceil(i/10)===0)).tickFormat(()=>"")).selectAll("line").attr("class","data-rate-grid-line"),()=>{a.current&&(a.current.remove(),a.current=null),LWe(".data-rate-tooltip").remove()}},[l,r,e,i]),g.jsxs("div",{className:"data-rate-histogram-container",children:[g.jsx("h4",{className:"data-rate-histogram-title",children:"Data Rate (points/second)"}),g.jsx("svg",{ref:o,className:"data-rate-histogram-svg",width:r,height:e})]})}const CVe=n=>{switch(n){case"orderbook":return"hooks-test-subchannel-orderbook";case"trades":return"hooks-test-subchannel-trades";case"positions":return"hooks-test-subchannel-positions";case"orders":return"hooks-test-subchannel-orders";case"buckets":return"hooks-test-subchannel-buckets";case"balances":return"hooks-test-subchannel-balances";default:return"hooks-test-subchannel-default"}};function iV({messages:n,maxDisplay:e,onMessageClick:r}){return n.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No multi-feed messages received yet"}):g.jsx("div",{className:"hooks-test-multifeed-messages-container",children:g.jsx("div",{className:"hooks-test-multifeed-messages-list",children:n.map((i,s)=>g.jsxs("div",{className:`hooks-test-multifeed-message-item ${s%2===0?"hooks-test-multifeed-message-item-even":"hooks-test-multifeed-message-item-odd"}`,onClick:()=>r(i,`Multi-Feed: ${i.sub_channel}`),children:[g.jsxs("div",{className:"hooks-test-multifeed-message-header",children:[g.jsx("span",{className:`hooks-test-multifeed-message-subchannel ${CVe(i.sub_channel)}`,children:i.sub_channel}),i.sequence_id&&g.jsxs("span",{className:"hooks-test-multifeed-message-sequence",children:["Seq: ",i.sequence_id]})]}),g.jsxs("div",{className:"hooks-test-multifeed-message-info",children:["Market: ",i.market_id||"N/A",i.first_sequence_id&&` | First SQ-ID: ${i.first_sequence_id}`,i.last_sequence_id&&` | Last SQ-ID: ${i.last_sequence_id}`,i.checksum&&` | Checksum: ${i.checksum.substring(0,8)}...`]}),g.jsxs("div",{className:"hooks-test-multifeed-message-preview",children:[JSON.stringify(i.data).substring(0,100),"..."]})]},s))})})}function EVe({buckets:n,orderPlacementMnemonic:e,setOrderPlacementMnemonic:r,orderPlacementBucketId:i,setOrderPlacementBucketId:s,orderPlacementSide:o,setOrderPlacementSide:a,orderPlacementOrderType:l,setOrderPlacementOrderType:c,orderPlacementPrice:u,setOrderPlacementPrice:d,orderPlacementQuantity:h,setOrderPlacementQuantity:f,orderPlacementLeverage:p,setOrderPlacementLeverage:m,isReady:b,loading:y,result:v,handlePlaceOrder:w,handleRandomize:_}){return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Mnemonic:",g.jsx("input",{type:"text",className:"hooks-test-input",value:e,onChange:x=>r(x.target.value),placeholder:"Enter mnemonic"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Bucket ID:",g.jsxs("select",{className:"hooks-test-select",value:i,onChange:x=>s(x.target.value),children:[g.jsx("option",{value:"",children:"Select a bucket..."}),n.map(x=>g.jsxs("option",{value:x.bucketId,children:[x.bucketId," (",x.collateralAsset,")"]},x.bucketId))]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Side:",g.jsxs("select",{className:"hooks-test-select",value:o,onChange:x=>a(x.target.value),children:[g.jsx("option",{value:"buy",children:"Buy"}),g.jsx("option",{value:"sell",children:"Sell"})]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Order Type:",g.jsxs("select",{className:"hooks-test-select",value:l,onChange:x=>c(x.target.value),children:[g.jsx("option",{value:"market",children:"Market"}),g.jsx("option",{value:"limit",children:"Limit"})]})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Price:",g.jsx("input",{type:"number",className:"hooks-test-input",value:u||"",onChange:x=>d(parseFloat(x.target.value)||0),placeholder:"Enter price",step:"0.01",disabled:l==="market"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Quantity:",g.jsx("input",{type:"number",className:"hooks-test-input",value:h||"",onChange:x=>f(parseFloat(x.target.value)||0),placeholder:"Enter quantity",step:"0.001"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Leverage:",g.jsx("input",{type:"number",className:"hooks-test-input",value:p||"",onChange:x=>m(parseFloat(x.target.value)||1),placeholder:"Enter leverage",min:"1",step:"0.1"})]})})]}),g.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[g.jsx("button",{className:"hooks-test-button",onClick:w,disabled:!b||y||!i||h<=0,style:{flex:1,padding:"20px",fontSize:"18px",fontWeight:"bold"},children:y?"Placing Order...":o==="buy"?"Place Buy Order":"Place Sell Order"}),g.jsx("button",{className:"hooks-test-button",onClick:_,disabled:n.length===0,style:{padding:"20px",fontSize:"18px",fontWeight:"bold",minWidth:"120px"},children:"Random"})]}),v&&g.jsx("div",{className:"hooks-test-error-box",style:{marginTop:"15px",backgroundColor:v.success?"#d4edda":"#f8d7da",color:v.success?"#155724":"#721c24"},children:v.success?g.jsxs("div",{children:[g.jsx("strong",{children:"Success!"}),v.message&&g.jsx("div",{children:v.message}),v.orderId&&g.jsxs("div",{children:["Order ID: ",v.orderId]})]}):g.jsxs("div",{children:[g.jsx("strong",{children:"Error:"})," ",v.error]})})]})}function AVe({buckets:n,selectedMarketId:e}){const{client:r}=th(),{walletAddress:i,authToken:s}=Su(),{orders:o,loading:a,error:l,refresh:c}=D9({subscriptionClient:r,baseURL:_p,authToken:s,walletAddress:i,useWebSocket:!0,refreshInterval:0,marketId:e?String(e):void 0});T.useEffect(()=>{c()},[c,e]);const u=T.useMemo(()=>o.filter(h=>{const f=h.status.toUpperCase();return f==="OPEN"||f==="PENDING"||f==="PARTIAL"}),[o]),d=T.useMemo(()=>[{key:"orderId",label:"Order ID",width:200,render:h=>g.jsx("span",{style:{fontFamily:"monospace",fontSize:"12px"},children:h.orderId})},{key:"side",label:"Side",width:80,align:"center",render:h=>g.jsx("span",{style:{color:h.side==="BUY"||h.side==="LONG"?"#4CAF50":"#F44336",fontWeight:"bold"},children:h.side})},{key:"price",label:"Entry Price",width:120,align:"right",render:h=>g.jsx("span",{children:h.price.toFixed(2)})},{key:"filledQuantity",label:"Filled Size",width:120,align:"right",render:h=>g.jsx("span",{children:h.filledQuantity.toFixed(4)})}],[]);return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("div",{style:{marginTop:"20px"},children:a?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orders..."}):l?g.jsxs("div",{className:"hooks-test-loading-state",style:{color:"#F44336"},children:["Error: ",l]}):u.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No open orders found"}):g.jsx(Tze,{data:u,columns:d,maxItems:10,emptyMessage:"No open orders",rowHeight:24,showHeader:!0})}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{className:"hooks-test-button",disabled:!e||n.length===0||u.length===0,style:{width:"100%",padding:"20px",fontSize:"18px",fontWeight:"bold"},children:"Cancel Open Orders"})})]})}function TVe({buckets:n,selectedMarketId:e}){return g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID:",g.jsx("input",{type:"text",className:"hooks-test-input",value:e?String(e):"",readOnly:!0,placeholder:"Select market from dropdown above"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Bucket ID:",g.jsxs("select",{className:"hooks-test-select",defaultValue:"",children:[g.jsx("option",{value:"",children:"Select a bucket..."}),n.map(r=>g.jsxs("option",{value:r.bucketId,children:[r.bucketId," (",r.collateralAsset,")"]},r.bucketId))]})]})})]}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{className:"hooks-test-button",disabled:!e||n.length===0,style:{width:"100%",padding:"20px",fontSize:"18px",fontWeight:"bold"},children:"Close Position"})}),g.jsx("div",{className:"hooks-test-loading-state",style:{marginTop:"20px",textAlign:"left"},children:"Position Close functionality coming soon..."})]})}function PVe({isReady:n,loading:e,result:r,selectedMarketId:i,buckets:s,markPrice:o,lastPrice:a,orderPlacementMnemonic:l,setOrderPlacementMnemonic:c,orderPlacementBucketId:u,setOrderPlacementBucketId:d,orderPlacementSide:h,setOrderPlacementSide:f,orderPlacementOrderType:p,setOrderPlacementOrderType:m,orderPlacementPrice:b,setOrderPlacementPrice:y,orderPlacementQuantity:v,setOrderPlacementQuantity:w,orderPlacementLeverage:_,setOrderPlacementLeverage:x,handlePlaceOrder:S,handleRandomize:C,getOrderPrice:E,calculateSize:A}){const[M,I]=T.useState("order-placement"),O=i?String(i):"0",F=T.useMemo(()=>{E();const $=A(),z=Cn(_.toString());return{marketId:O,bucketId:u||"(required)",side:h,orderType:p,price:b,quantity:$>0?$:v||0,leverage:z}},[O,u,h,p,b,v,_,E,A]);return g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Order Operations",statusBadges:[g.jsx("span",{className:`hooks-test-status-badge ${n?"hooks-test-status-badge-success":"hooks-test-status-badge-warning"}`,children:n?"Ready":"Initializing..."},"ready-status")]}),g.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"start"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{className:"hooks-test-multifeed-tabs",children:[g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="order-placement"?"active":""}`,onClick:()=>I("order-placement"),children:"Order Placement"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="cancel-opens"?"active":""}`,onClick:()=>I("cancel-opens"),children:"Cancel Opens"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${M==="position-close"?"active":""}`,onClick:()=>I("position-close"),children:"Position Close"})]}),M==="order-placement"&&g.jsx(EVe,{buckets:s,orderPlacementMnemonic:l,setOrderPlacementMnemonic:c,orderPlacementBucketId:u,setOrderPlacementBucketId:d,orderPlacementSide:h,setOrderPlacementSide:f,orderPlacementOrderType:p,setOrderPlacementOrderType:m,orderPlacementPrice:b,setOrderPlacementPrice:y,orderPlacementQuantity:v,setOrderPlacementQuantity:w,orderPlacementLeverage:_,setOrderPlacementLeverage:x,isReady:n,loading:e,result:r,handlePlaceOrder:S,handleRandomize:C}),M==="cancel-opens"&&g.jsx(AVe,{buckets:s,selectedMarketId:i}),M==="position-close"&&g.jsx(TVe,{buckets:s,selectedMarketId:i})]}),g.jsxs("div",{style:{flex:1},children:[g.jsx("h3",{className:"hooks-test-section-header",style:{marginTop:0},children:"Config JSON"}),g.jsx("div",{className:"hooks-test-result-data",children:g.jsx("pre",{className:"data-modal-content",children:JSON.stringify(F,null,2)})})]})]})]})}const sV=5e3,oV=20,IVe="1m",MVe=["orderbook","trades","positions","orders","buckets","balances"];function OVe(){const[n,e]=T.useState(_p),[r,i]=T.useState(lh),[s,o]=T.useState(iE),[a,l]=T.useState(100),[c,u]=T.useState(10),{walletAddress:d,authToken:h,error:f}=Su(),{markets:p,selectedMarketId:m,setSelectedMarketId:b,fetchMarkets:y,loadingMarkets:v,getMarket:w}=Xl({baseURL:n,sessionToken:h,autoFetchMarkets:!0}),[_,x]=T.useState("0"),[S,C]=T.useState("1m"),[E,A]=T.useState("0"),[M,I]=T.useState("BTC/USDC"),[O,F]=T.useState("0"),[$,z]=T.useState("0"),[R,j]=T.useState(ZC),[N,D]=T.useState(""),[H,U]=T.useState("buy"),[X,Y]=T.useState("market"),[ee,G]=T.useState(0),[Z,pe]=T.useState(0),[re,le]=T.useState(1);T.useEffect(()=>{if(m){const Te=String(m);x(Te),A(Te),F(Te),z(Te),_e([]),ae([]),Fe(new Map);const en=w(m||"");en&&I(en.symbol||`${en.baseAsset}/${en.quoteAsset}`)}},[m,w]);const[ce,Pe]=T.useState(null),[Ee,V]=T.useState("Data Details"),[Ae,Qe]=T.useState(!1),{client:st,isEnabled:ze,isConnected:wt,connectionState:qe,toggleEnabled:Je,getRetainedData:yt,getAllRetainedData:ct,wsURL:Ze,setWsURL:Ve,authToken:rt,setAuthToken:q,walletAddress:te,setWalletAddress:ve,deviceID:me,setDeviceID:xe,subscribeMultiFeedWithRetention:fe,unsubscribeMultiFeed:K}=th(),{klineData:he,loading:se,error:ke,isConnected:Re}=g7e({subscriptionClient:st,marketId:_,interval:S,maxDataPoints:a});T.useEffect(()=>{const Te=[];r!==Ze&&Te.push(()=>Ve(r)),h!==rt&&Te.push(()=>q(h)),d!==te&&Te.push(()=>ve(d)),s!==me&&Te.push(()=>xe(s)),Te.forEach(Pt=>Pt())},[r,Ze,Ve,h,rt,q,d,te,ve,s,me,xe]);const[de,_e]=T.useState([]),[Se,ae]=T.useState([]),[ie,ue]=T.useState(!1),[it,Fe]=T.useState(new Map),[Ye,Ne]=T.useState("recent"),[Xe,ft]=T.useState(null),[Ge,ot]=T.useState(!0),[Ie,at]=T.useState(null),{markPrice:Q,error:De}=rE({subscriptionClient:st,baseURL:n,marketId:E,disablePolling:!0}),Ce=ie,[Me,Oe]=T.useState([]),[ut,Mt]=T.useState([]);T.useEffect(()=>{Xe&&Oe(Te=>{const Pt=[...Te,{...Xe,value:Xe.price,timestamp:Xe.timestamp,arrivalTime:Date.now()}];return Pt.length>a?Pt.slice(-a):Pt})},[Xe,a]),T.useEffect(()=>{Q&&Mt(Te=>{const Pt=[...Te,{...Q,value:Q.mark_price,timestamp:Q.timestamp,arrivalTime:Date.now()}];return Pt.length>a?Pt.slice(-a):Pt})},[Q,a]);const{buckets:Tt,loading:tt,error:rn,refresh:Qt}=M9({subscriptionClient:st,baseURL:n,authToken:h,walletAddress:d,refreshInterval:0,useWebSocket:!0,marketId:"0"}),{positions:on,loading:Xi,error:Ri,isConnected:Po,refresh:pa}=wpe({subscriptionClient:st,baseURL:n,authToken:h,walletAddress:d,useWebSocket:!0,refreshInterval:0}),{orders:Fr,loading:mi,error:Qs,isConnected:Np,refresh:jp}=D9({subscriptionClient:st,baseURL:n,authToken:h,walletAddress:d,deviceID:s,useWebSocket:!0,refreshInterval:0}),{asks:rl,bids:An,spread:nc,midPrice:Au,loading:rc,error:Tu,isConnected:Bp,refresh:Lp}=I9({subscriptionClient:st,baseURL:n,marketId:O,disablePolling:!0}),{latestFundingRate:rr,latestDeviation:ei,latestTWAP:$r,loading:Fp,error:Pu,isConnected:gh}=vpe({subscriptionClient:st,baseURL:n,marketId:$}),{setOrderType:bh,setSizeInput:yh,setPrice:vh,setLeverage:Iu,isReady:$p,loading:il,result:ic,placeBuyOrder:Mu,placeSellOrder:ma,getOrderPrice:_s,calculateSize:zp}=ype({baseURL:n,mnemonic:R,marketId:m?String(m):"0",selectedBucketId:N,tradePrice:(Q==null?void 0:Q.mark_price)||(Xe==null?void 0:Xe.price)||void 0}),Ut=T.useMemo(()=>{var Pt,en;return rr||ei||$r?{marketId:$,fundingRate:rr?{latest:rr,fundingRate:m3((typeof rr.funding_rate=="string",rr.funding_rate)),markPrice:$h((typeof rr.mark_price=="string",rr.mark_price)),indexPrice:$h((typeof rr.index_price=="string",rr.index_price)),premiumRate:m3((typeof rr.premium_rate=="string",rr.premium_rate)),symbol:rr.symbol||"N/A",formattedTimestamp:rr.timestamp?new Date(Il(rr.timestamp)).toLocaleString():null}:null,deviation:ei?{latest:ei,deviationBps:ei.deviation_bps,deviationPercent:m3(ei.deviation_percent),lastPrice:$h(ei.last_price),markPrice:$h(ei.mark_price),indexPrice:$h(ei.index_price),direction:ei.direction||"N/A",symbol:ei.symbol||"N/A",formattedTimestamp:ei.timestamp?new Date(Il(ei.timestamp)).toLocaleString():null}:null,twap:$r?{latest:$r,twapValue:$h((typeof $r.twap_value=="string",$r.twap_value)),windowSize:((Pt=$r.window_size)==null?void 0:Pt.toString())||"N/A",sampleCount:((en=$r.sample_count)==null?void 0:en.toString())||"N/A",calculationMethod:$r.calculation_method||"N/A",startTime:$r.start_time?new Date($r.start_time*1e3).toLocaleString():"N/A",endTime:$r.end_time?new Date($r.end_time*1e3).toLocaleString():"N/A",symbol:$r.symbol||"N/A"}:null}:null},[$,rr,ei,$r]),Io=T.useMemo(()=>m?String(m):O,[m,O]),Mo=T.useMemo(()=>M||"BTC/USDC",[M]),Ou=T.useCallback(Te=>{if(MVe.includes(Te.sub_channel)?ae(Pt=>[...Pt,Te].slice(-100)):_e(Pt=>[...Pt,Te].slice(-20)),Fe(Pt=>{const en=new Map(Pt),Js=en.get(Te.sub_channel)||0;return en.set(Te.sub_channel,Js+1),en}),t4(Te))try{const Pt=Te.data,en={market_id:Pt.market_id,price:Wt(Pt.price),quantity:Wt(Pt.quantity),timestamp:Il(Pt.timestamp),is_buyer_maker:Pt.is_buyer_maker,trade_id:Pt.trade_id};ft(en),ot(!1),at(null)}catch(Pt){console.error("[HooksTestPage] Error processing last_price from multi-feed:",Pt),at(Pt instanceof Error?Pt.message:"Failed to process last_price")}},[]);T.useEffect(()=>{ue(wt&&ze)},[wt,ze]);const Du=T.useMemo(()=>S||IVe,[S]);T.useEffect(()=>{if(!Io||!Mo||!st||!ze){ze||(_e([]),ae([]),Fe(new Map));return}if(!wt){console.debug("[HooksTestPage] Client not connected yet, waiting...");return}const Te=yt("last_price");if(Te&&t4(Te))try{const en={market_id:Te.data.market_id,price:Wt(Te.data.price),quantity:Wt(Te.data.quantity),timestamp:Il(Te.data.timestamp),is_buyer_maker:Te.data.is_buyer_maker,trade_id:Te.data.trade_id};ft(en),ot(!1),at(null)}catch(en){console.error("[HooksTestPage] Error processing retained last_price:",en),at(en instanceof Error?en.message:"Failed to process retained last_price")}console.debug("[HooksTestPage] Subscribing to multi-feed with:",{marketId:Io,symbol:Mo,interval:Du});let Pt=!1;try{if(fe(Io,Mo,Ou,Du),st){const en=setTimeout(()=>{Pt||(console.warn("[HooksTestPage] Multi-feed subscription acknowledgment timeout"),at("Multi-feed subscription acknowledgment timeout"),ot(!1))},sV);st.waitForSubscription("multi_feed",sV).then(()=>{Pt=!0,clearTimeout(en),console.debug("[HooksTestPage] Multi-feed subscription acknowledged by server"),ot(!1),at(null)}).catch(Js=>{Pt=!0,clearTimeout(en),console.warn("[HooksTestPage] Multi-feed subscription acknowledgment error:",Js),at("Multi-feed subscription acknowledgment failed"),ot(!1)})}}catch(en){console.error("[HooksTestPage] Failed to subscribe to multi-feed:",en),at(en instanceof Error?en.message:"Failed to subscribe"),ot(!1)}return()=>{if(st&&Io&&Mo)try{K(Io,Mo,Ou)}catch(en){console.error("[HooksTestPage] Error unsubscribing from multi-feed:",en)}}},[Io,Mo,st,ze,wt,Du,Ou,fe,K,yt]);const yr=(Te,Pt)=>{const en=Te.raw||Te.message||Te.data||Te;Pe(en),V(Pt),Qe(!0)},Up=T.useCallback(()=>{Qe(!1)},[]);T.useEffect(()=>{bh(X)},[X,bh]),T.useEffect(()=>{yh(Z)},[Z,yh]),T.useEffect(()=>{vh(ee)},[ee,vh]),T.useEffect(()=>{Iu(re)},[re,Iu]);const Ru=T.useCallback(async()=>{H==="buy"?await Mu():await ma()},[H,Mu,ma]),Wp=T.useCallback(()=>{if(Tt.length>0){const sl=Tt[Math.floor(Math.random()*Tt.length)];D(sl.bucketId)}const Te=Math.random()<.5?"buy":"sell";U(Te);const Pt=Math.random()<.5?"market":"limit";if(Y(Pt),Pt==="market")G(0);else{const sl=Math.floor(Math.random()*80001)+1e4;G(sl)}const en=Math.random()*(1.5-.01)+.01;pe(parseFloat(en.toFixed(3)));const Js=Math.floor(Math.random()*10)+1;le(Js)},[Tt]);return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"Hooks Test QA"}),g.jsx("p",{children:"realtime monitor of data flow and block"}),g.jsx(Oze,{isEnabled:ze,isConnected:wt,connectionState:qe,retainedDataCount:ct().size,onToggle:Je}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{className:"hooks-test-section-header",children:"Shared Configuration"}),g.jsxs("div",{className:"hooks-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["API Base URL:",g.jsx("input",{type:"text",className:"hooks-test-input",value:n,onChange:Te=>e(Te.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["WebSocket URL:",g.jsx("input",{type:"text",className:"hooks-test-input",value:r,onChange:Te=>i(Te.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Wallet Address (from useOnboard):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:d||"",readOnly:!0,placeholder:"Set via useOnboard hook"}),f&&g.jsx("div",{className:"hooks-test-error-message",children:f})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Auth Token (from useOnboard):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:h||"",readOnly:!0,placeholder:"Set via useOnboard hook"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market Selection:",g.jsxs("select",{className:"hooks-test-select",value:m||"",onChange:Te=>{const Pt=Te.target.value;Pt&&b(Pt)},children:[g.jsx("option",{value:"",children:"Select a market..."}),p.map(Te=>g.jsxs("option",{value:String(Te.market_id),children:[Te.symbol||`${Te.baseAsset}/${Te.quoteAsset}`," ","(ID: ",Te.market_id,")"]},Te.market_id))]}),v&&g.jsx("div",{className:"hooks-test-info-message",children:"Loading markets..."}),!v&&p.length===0&&g.jsx("button",{className:"hooks-test-button hooks-test-button-with-margin",onClick:()=>y(),children:"Fetch Markets"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Device ID:",g.jsx("input",{type:"text",className:"hooks-test-input",value:s,onChange:Te=>o(Te.target.value)})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Max Data Points (Memory):",g.jsx("input",{type:"number",className:"hooks-test-input",value:a,onChange:Te=>l(Math.max(10,parseInt(Te.target.value)||100)),min:"10"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Max Visible Rectangles:",g.jsx("input",{type:"number",className:"hooks-test-input",value:c,onChange:Te=>u(Math.max(1,parseInt(Te.target.value)||10)),min:"1"})]})})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Kline Hook",isConnected:Re,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[he.length," data points"]},"data-points")]}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:_,onChange:Te=>x(Te.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Interval:",g.jsxs("select",{className:"hooks-test-select",value:S,onChange:Te=>C(Te.target.value),children:[g.jsx("option",{value:"1m",children:"1m"}),g.jsx("option",{value:"5m",children:"5m"}),g.jsx("option",{value:"15m",children:"15m"}),g.jsx("option",{value:"1h",children:"1h"}),g.jsx("option",{value:"4h",children:"4h"}),g.jsx("option",{value:"1d",children:"1d"})]})]})})]}),ke&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",ke]}),se&&he.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading kline data..."}):he.length===0?g.jsx("div",{className:"hooks-test-empty-state",children:"No kline data available"}):g.jsxs(g.Fragment,{children:[g.jsx(am,{data:he,maxVisible:c,maxDataPoints:a,getValue:Te=>Te.close||Te.high||100,onItemClick:Te=>yr(Te,"Kline Data")}),g.jsx(lm,{data:he,getTimestamp:Te=>{let Pt=Te.timestamp||Te.open_time||Date.now();return Pt<9466848e5&&(Pt=Pt*1e3),Pt}})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Mark Price Hook",isConnected:Ce}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:E,onChange:Te=>A(Te.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Mark price subscription uses marketId (not symbol). Can be manually overridden if needed."})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Symbol (for display only, auto-updated from selected market):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:M,onChange:Te=>I(Te.target.value),placeholder:"BTC/USDC"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Symbol is only used for display in mark price data, not for subscription."})]})})]}),De&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",De]}),ut.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No mark price data available"}):g.jsxs(g.Fragment,{children:[g.jsx(am,{data:ut,maxVisible:c,maxDataPoints:a,getValue:Te=>Te.value||Te.mark_price||100,onItemClick:Te=>yr(Te,"Mark Price Data")}),g.jsx(lm,{data:ut,getTimestamp:Te=>Te.arrivalTime||Te.timestamp||Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Last Price Hook",isConnected:Ce}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:E,onChange:Te=>A(Te.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})})}),Ie&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Ie]}),Ge&&Me.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading last price data..."}):Me.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No last price data available"}):g.jsxs(g.Fragment,{children:[g.jsx(am,{data:Me,maxVisible:c,maxDataPoints:a,getValue:Te=>Te.value||Te.price||100,onItemClick:Te=>yr(Te,"Last Price Data")}),g.jsx(lm,{data:Me,getTimestamp:Te=>Te.arrivalTime||Te.timestamp||Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Bucket Hook (Addressed)",statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Tt.length," buckets"]},"buckets-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>Qt(),disabled:tt,children:tt?"Loading...":"Refresh"},"refresh")]}),rn&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",rn]}),tt&&Tt.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading buckets..."}):Tt.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No buckets found"}):g.jsxs(g.Fragment,{children:[g.jsx(am,{data:Tt,maxVisible:c,maxDataPoints:a,getValue:Te=>Te.totalMargin||Te.unrealizedPnL||100,onItemClick:Te=>yr(Te,"Bucket Data")}),g.jsx(lm,{data:Tt,getTimestamp:Te=>Te.createdAt?new Date(Te.createdAt).getTime():Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Position Hook (Addressed)",isConnected:Po,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[on.length," positions"]},"positions-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>pa(),disabled:Xi,children:Xi?"Loading...":"Refresh"},"refresh")]}),Ri&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Ri]}),Xi&&on.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading positions..."}):on.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No positions found"}):g.jsxs(g.Fragment,{children:[g.jsx(am,{data:on,maxVisible:c,maxDataPoints:a,getValue:Te=>Te.size||Te.margin||100,onItemClick:Te=>yr(Te,"Position Data")}),g.jsx(lm,{data:on,getTimestamp:Te=>Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Order Hook (Addressed)",isConnected:Np,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Fr.length," orders"]},"orders-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>jp(),disabled:mi,children:mi?"Loading...":"Refresh"},"refresh")]}),Qs&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Qs]}),mi&&Fr.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orders..."}):Fr.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"No orders found"}):g.jsxs(g.Fragment,{children:[g.jsx(am,{data:Fr,maxVisible:c,maxDataPoints:a,getValue:Te=>Te.quantity||Te.price||100,onItemClick:Te=>yr(Te,"Order Data")}),g.jsx(lm,{data:Fr,getTimestamp:Te=>Te.createdAt?typeof Te.createdAt=="number"?Te.createdAt:new Date(Te.createdAt).getTime():Te.updatedAt?typeof Te.updatedAt=="number"?Te.updatedAt:new Date(Te.updatedAt).getTime():Date.now()})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Orderbook Hook",isConnected:Bp,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[An.length+rl.length," levels"]},"levels-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>Lp(),disabled:rc,children:rc?"Loading...":"Refresh"},"refresh")]}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`,value:O,onChange:Te=>F(Te.target.value),placeholder:"Select market from dropdown above"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})})}),Tu&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Tu]}),rc&&An.length===0&&rl.length===0?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading orderbook..."}):An.length===0&&rl.length===0?g.jsx("div",{className:"hooks-test-empty-state",children:"No orderbook data available"}):g.jsxs("div",{className:"hooks-test-orderbook-container",children:[g.jsxs("div",{className:"hooks-test-orderbook-grid",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"hooks-test-orderbook-section-title hooks-test-orderbook-section-title-bids",children:["Bids (",An.length,")"]}),g.jsx("div",{className:"hooks-test-orderbook-levels-container",children:An.slice(0,oV).map((Te,Pt)=>g.jsxs("div",{className:`hooks-test-orderbook-level-row ${Pt%2===0?"hooks-test-orderbook-level-row-even":"hooks-test-orderbook-level-row-odd"}`,onClick:()=>yr({raw:Te},"Orderbook Bid Level"),children:[g.jsx("span",{children:Te.price.toFixed(8)}),g.jsx("span",{children:Te.size.toFixed(8)}),g.jsx("span",{children:Te.cumulative.toFixed(8)})]},Pt))})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"hooks-test-orderbook-section-title hooks-test-orderbook-section-title-asks",children:["Asks (",rl.length,")"]}),g.jsx("div",{className:"hooks-test-orderbook-levels-container",children:rl.slice(0,oV).map((Te,Pt)=>g.jsxs("div",{className:`hooks-test-orderbook-level-row ${Pt%2===0?"hooks-test-orderbook-level-row-even":"hooks-test-orderbook-level-row-odd"}`,onClick:()=>yr({raw:Te},"Orderbook Ask Level"),children:[g.jsx("span",{children:Te.price.toFixed(8)}),g.jsx("span",{children:Te.size.toFixed(8)}),g.jsx("span",{children:Te.cumulative.toFixed(8)})]},Pt))})]})]}),nc!==void 0&&g.jsxs("div",{className:"hooks-test-orderbook-spread-info",children:[g.jsx("strong",{children:"Spread:"})," ",nc.toFixed(8)," |"," ",g.jsx("strong",{children:"Mid Price:"})," ",(Au==null?void 0:Au.toFixed(8))||"N/A"]})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Rates Hook (Funding Rate, Deviation, TWAP)",isConnected:gh,statusBadges:[],actions:[]}),g.jsx("div",{className:"hooks-test-form-grid",children:g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",g.jsx("input",{type:"text",value:$,onChange:Te=>{const Pt=Te.target.value.trim();z(Pt||"0")},placeholder:"0",className:`hooks-test-input ${m?"hooks-test-input-controlled":"hooks-test-input-uncontrolled"}`}),g.jsx("div",{className:"hooks-test-helper-text",children:"Subscribe to a single market. Can be manually overridden if needed."})]})})}),Pu&&g.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",Pu]}),Fp&&!Ut?g.jsx("div",{className:"hooks-test-loading-state",children:"Loading rates..."}):Ut?g.jsxs("div",{className:"hooks-test-funding-rate-list",children:[Ut.fundingRate&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>yr({data:Ut.fundingRate.latest},`Funding Rate - Market ${Ut.marketId}`),role:"button",tabIndex:0,onKeyDown:Te=>{(Te.key==="Enter"||Te.key===" ")&&(Te.preventDefault(),yr({data:Ut.fundingRate.latest},`Funding Rate - Market ${Ut.marketId}`))},"aria-label":`View funding rate details for market ${Ut.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Ut.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," Funding Rate"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Ut.fundingRate.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Funding Rate:"})," ",Ut.fundingRate.fundingRate]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",Ut.fundingRate.markPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",Ut.fundingRate.indexPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Premium Rate:"})," ",Ut.fundingRate.premiumRate]}),Ut.fundingRate.formattedTimestamp&&g.jsxs("div",{children:[g.jsx("strong",{children:"Timestamp:"})," ",Ut.fundingRate.formattedTimestamp]})]})}),Ut.deviation&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>yr({data:Ut.deviation.latest},`Deviation - Market ${Ut.marketId}`),role:"button",tabIndex:0,onKeyDown:Te=>{(Te.key==="Enter"||Te.key===" ")&&(Te.preventDefault(),yr({data:Ut.deviation.latest},`Deviation - Market ${Ut.marketId}`))},"aria-label":`View deviation details for market ${Ut.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Ut.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," Deviation"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Ut.deviation.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Deviation (BPS):"})," ",Ut.deviation.deviationBps]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Deviation (%):"})," ",Ut.deviation.deviationPercent]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Last Price:"})," ",Ut.deviation.lastPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Mark Price:"})," ",Ut.deviation.markPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Index Price:"})," ",Ut.deviation.indexPrice]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Direction:"})," ",Ut.deviation.direction]}),Ut.deviation.formattedTimestamp&&g.jsxs("div",{children:[g.jsx("strong",{children:"Timestamp:"})," ",Ut.deviation.formattedTimestamp]})]})}),Ut.twap&&g.jsx("div",{className:"hooks-test-funding-rate-card",onClick:()=>yr({data:Ut.twap.latest},`TWAP - Market ${Ut.marketId}`),role:"button",tabIndex:0,onKeyDown:Te=>{(Te.key==="Enter"||Te.key===" ")&&(Te.preventDefault(),yr({data:Ut.twap.latest},`TWAP - Market ${Ut.marketId}`))},"aria-label":`View TWAP details for market ${Ut.marketId}`,children:g.jsxs("div",{className:"hooks-test-funding-rate-grid",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Market ID:"})," ",Ut.marketId]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Type:"})," TWAP"]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Symbol:"})," ",Ut.twap.symbol]}),g.jsxs("div",{children:[g.jsx("strong",{children:"TWAP Value:"})," ",Ut.twap.twapValue]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Window Size:"})," ",Ut.twap.windowSize]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Sample Count:"})," ",Ut.twap.sampleCount]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Calculation Method:"})," ",Ut.twap.calculationMethod]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Start Time:"})," ",Ut.twap.startTime]}),g.jsxs("div",{children:[g.jsx("strong",{children:"End Time:"})," ",Ut.twap.endTime]})]})})]}):g.jsx("div",{className:"hooks-test-empty-state",children:"No rates data available"})]}),g.jsx(PVe,{isReady:$p,loading:il,result:ic,selectedMarketId:m,buckets:Tt,markPrice:Q,lastPrice:Xe,orderPlacementMnemonic:R,setOrderPlacementMnemonic:j,orderPlacementBucketId:N,setOrderPlacementBucketId:D,orderPlacementSide:H,setOrderPlacementSide:U,orderPlacementOrderType:X,setOrderPlacementOrderType:Y,orderPlacementPrice:ee,setOrderPlacementPrice:G,orderPlacementQuantity:Z,setOrderPlacementQuantity:pe,orderPlacementLeverage:re,setOrderPlacementLeverage:le,handlePlaceOrder:Ru,handleRandomize:Wp,getOrderPrice:_s,calculateSize:zp}),g.jsxs("div",{className:"App-section",children:[g.jsx(pl,{title:"Multi-Feed Channel",isConnected:ie,statusBadges:[g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[de.length+Se.length," messages"]},"messages-count")],actions:[g.jsx("button",{className:"hooks-test-button",onClick:()=>{_e([]),ae([]),Fe(new Map)},children:"Clear"},"clear")]}),g.jsxs("div",{className:"hooks-test-form-grid",children:[g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Market ID (from Market Selection):",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:Io,readOnly:!0,placeholder:"Select market from dropdown above"})]})}),g.jsx("div",{children:g.jsxs("label",{className:"hooks-test-label",children:["Symbol:",g.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:Mo,readOnly:!0,placeholder:"BTC/USDC"}),g.jsx("div",{className:"hooks-test-helper-text",children:"Symbol is controlled by Trade Price Symbol above"})]})})]}),it.size>0&&g.jsx("div",{className:"hooks-test-multifeed-stats-container",children:g.jsx("div",{className:"hooks-test-multifeed-badges-container",children:Array.from(it.entries()).map(([Te,Pt])=>g.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info hooks-test-multifeed-badge-clickable",onClick:()=>{const Js=[...de,...Se].filter(sl=>sl.sub_channel===Te).reverse();Js.length>0&&yr({raw:Js},`Multi-Feed: ${Te}`)},children:[Te,": ",Pt]},Te))})}),g.jsxs("div",{className:"hooks-test-multifeed-tabs",children:[g.jsx("button",{className:`hooks-test-multifeed-tab ${Ye==="recent"?"active":""}`,onClick:()=>Ne("recent"),children:"Recent Messages (Last 20)"}),g.jsx("button",{className:`hooks-test-multifeed-tab ${Ye==="colored"?"active":""}`,onClick:()=>Ne("colored"),children:"Colored Messages (Last 100)"})]}),Ye==="recent"?g.jsx(iV,{messages:[...de].reverse(),maxDisplay:20,onMessageClick:yr}):g.jsx(iV,{messages:[...Se].reverse(),maxDisplay:100,onMessageClick:yr})]}),g.jsx(Rze,{data:ce,isOpen:Ae,onClose:Up,title:Ee})]})}function DVe(){return g.jsx(R9,{children:g.jsx(OVe,{})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Dx(n){return n+.5|0}const Id=(n,e,r)=>Math.max(Math.min(n,r),e);function Iy(n){return Id(Dx(n*2.55),0,255)}function qd(n){return Id(Dx(n*255),0,255)}function Ic(n){return Id(Dx(n/2.55)/100,0,1)}function aV(n){return Id(Dx(n*100),0,100)}const jo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},R4=[..."0123456789ABCDEF"],RVe=n=>R4[n&15],NVe=n=>R4[(n&240)>>4]+R4[n&15],P_=n=>(n&240)>>4===(n&15),jVe=n=>P_(n.r)&&P_(n.g)&&P_(n.b)&&P_(n.a);function BVe(n){var e=n.length,r;return n[0]==="#"&&(e===4||e===5?r={r:255&jo[n[1]]*17,g:255&jo[n[2]]*17,b:255&jo[n[3]]*17,a:e===5?jo[n[4]]*17:255}:(e===7||e===9)&&(r={r:jo[n[1]]<<4|jo[n[2]],g:jo[n[3]]<<4|jo[n[4]],b:jo[n[5]]<<4|jo[n[6]],a:e===9?jo[n[7]]<<4|jo[n[8]]:255})),r}const LVe=(n,e)=>n<255?e(n):"";function FVe(n){var e=jVe(n)?RVe:NVe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+LVe(n.a,e):void 0}const $Ve=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yge(n,e,r){const i=e*Math.min(r,1-r),s=(o,a=(o+n/30)%12)=>r-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function zVe(n,e,r){const i=(s,o=(s+n/60)%6)=>r-r*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function UVe(n,e,r){const i=yge(n,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)i[s]*=1-e-r,i[s]+=e;return i}function WVe(n,e,r,i,s){return n===s?(e-r)/i+(e<r?6:0):e===s?(r-n)/i+2:(n-e)/i+4}function bB(n){const r=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(r,i,s),a=Math.min(r,i,s),l=(o+a)/2;let c,u,d;return o!==a&&(d=o-a,u=l>.5?d/(2-o-a):d/(o+a),c=WVe(r,i,s,d,o),c=c*60+.5),[c|0,u||0,l]}function yB(n,e,r,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,r,i)).map(qd)}function vB(n,e,r){return yB(yge,n,e,r)}function qVe(n,e,r){return yB(UVe,n,e,r)}function HVe(n,e,r){return yB(zVe,n,e,r)}function vge(n){return(n%360+360)%360}function VVe(n){const e=$Ve.exec(n);let r=255,i;if(!e)return;e[5]!==i&&(r=e[6]?Iy(+e[5]):qd(+e[5]));const s=vge(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=qVe(s,o,a):e[1]==="hsv"?i=HVe(s,o,a):i=vB(s,o,a),{r:i[0],g:i[1],b:i[2],a:r}}function GVe(n,e){var r=bB(n);r[0]=vge(r[0]+e),r=vB(r),n.r=r[0],n.g=r[1],n.b=r[2]}function YVe(n){if(!n)return;const e=bB(n),r=e[0],i=aV(e[1]),s=aV(e[2]);return n.a<255?`hsla(${r}, ${i}%, ${s}%, ${Ic(n.a)})`:`hsl(${r}, ${i}%, ${s}%)`}const lV={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cV={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KVe(){const n={},e=Object.keys(cV),r=Object.keys(lV);let i,s,o,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],s=0;s<r.length;s++)o=r[s],l=l.replace(o,lV[o]);o=parseInt(cV[a],16),n[l]=[o>>16&255,o>>8&255,o&255]}return n}let I_;function XVe(n){I_||(I_=KVe(),I_.transparent=[0,0,0,0]);const e=I_[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const QVe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JVe(n){const e=QVe.exec(n);let r=255,i,s,o;if(e){if(e[7]!==i){const a=+e[7];r=e[8]?Iy(a):Id(a*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?Iy(i):Id(i,0,255)),s=255&(e[4]?Iy(s):Id(s,0,255)),o=255&(e[6]?Iy(o):Id(o,0,255)),{r:i,g:s,b:o,a:r}}}function ZVe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ic(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const V3=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,cm=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function eGe(n,e,r){const i=cm(Ic(n.r)),s=cm(Ic(n.g)),o=cm(Ic(n.b));return{r:qd(V3(i+r*(cm(Ic(e.r))-i))),g:qd(V3(s+r*(cm(Ic(e.g))-s))),b:qd(V3(o+r*(cm(Ic(e.b))-o))),a:n.a+r*(e.a-n.a)}}function M_(n,e,r){if(n){let i=bB(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*r,e===0?360:1)),i=vB(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function wge(n,e){return n&&Object.assign(e||{},n)}function uV(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=qd(n[3]))):(e=wge(n,{r:0,g:0,b:0,a:1}),e.a=qd(e.a)),e}function tGe(n){return n.charAt(0)==="r"?JVe(n):VVe(n)}class xw{constructor(e){if(e instanceof xw)return e;const r=typeof e;let i;r==="object"?i=uV(e):r==="string"&&(i=BVe(e)||XVe(e)||tGe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=wge(this._rgb);return e&&(e.a=Ic(e.a)),e}set rgb(e){this._rgb=uV(e)}rgbString(){return this._valid?ZVe(this._rgb):void 0}hexString(){return this._valid?FVe(this._rgb):void 0}hslString(){return this._valid?YVe(this._rgb):void 0}mix(e,r){if(e){const i=this.rgb,s=e.rgb;let o;const a=r===o?.5:r,l=2*a-1,c=i.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;o=1-u,i.r=255&u*i.r+o*s.r+.5,i.g=255&u*i.g+o*s.g+.5,i.b=255&u*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,r){return e&&(this._rgb=eGe(this._rgb,e._rgb,r)),this}clone(){return new xw(this.rgb)}alpha(e){return this._rgb.a=qd(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Dx(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return M_(this._rgb,2,e),this}darken(e){return M_(this._rgb,2,-e),this}saturate(e){return M_(this._rgb,1,e),this}desaturate(e){return M_(this._rgb,1,-e),this}rotate(e){return GVe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function mc(){}const nGe=(()=>{let n=0;return()=>n++})();function Xn(n){return n==null}function ur(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ln(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ws(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function hl(n,e){return Ws(n)?n:e}function nn(n,e){return typeof n>"u"?e:n}const rGe=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,xge=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Bn(n,e,r){if(n&&typeof n.call=="function")return n.apply(r,e)}function On(n,e,r,i){let s,o,a;if(ur(n))for(o=n.length,s=0;s<o;s++)e.call(r,n[s],s);else if(ln(n))for(a=Object.keys(n),o=a.length,s=0;s<o;s++)e.call(r,n[a[s]],a[s])}function y2(n,e){let r,i,s,o;if(!n||!e||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;++r)if(s=n[r],o=e[r],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function v2(n){if(ur(n))return n.map(v2);if(ln(n)){const e=Object.create(null),r=Object.keys(n),i=r.length;let s=0;for(;s<i;++s)e[r[s]]=v2(n[r[s]]);return e}return n}function _ge(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function iGe(n,e,r,i){if(!_ge(n))return;const s=e[n],o=r[n];ln(s)&&ln(o)?_w(s,o,i):e[n]=v2(o)}function _w(n,e,r){const i=ur(e)?e:[e],s=i.length;if(!ln(n))return n;r=r||{};const o=r.merger||iGe;let a;for(let l=0;l<s;++l){if(a=i[l],!ln(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)o(c[u],n,a,r)}return n}function sv(n,e){return _w(n,e,{merger:sGe})}function sGe(n,e,r){if(!_ge(n))return;const i=e[n],s=r[n];ln(i)&&ln(s)?sv(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=v2(s))}const dV={"":n=>n,x:n=>n.x,y:n=>n.y};function oGe(n){const e=n.split("."),r=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}function aGe(n){const e=oGe(n);return r=>{for(const i of e){if(i==="")break;r=r&&r[i]}return r}}function Sw(n,e){return(dV[e]||(dV[e]=aGe(e)))(n)}function wB(n){return n.charAt(0).toUpperCase()+n.slice(1)}const So=n=>typeof n<"u",zs=n=>typeof n=="function",hV=(n,e)=>{if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0};function lGe(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const En=Math.PI,Ei=2*En,cGe=Ei+En,w2=Number.POSITIVE_INFINITY,xB=En/180,Ai=En/2,Ko=En/4,x2=En*2/3,Sge=Math.log10,E0=Math.sign;function ov(n,e,r){return Math.abs(n-e)<r}function fV(n){const e=Math.round(n);n=ov(n,e,n/1e3)?e:n;const r=Math.pow(10,Math.floor(Sge(n))),i=n/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function uGe(n){const e=[],r=Math.sqrt(n);let i;for(i=1;i<r;i++)n%i===0&&(e.push(i),e.push(n/i));return r===(r|0)&&e.push(r),e.sort((s,o)=>s-o).pop(),e}function dGe(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function sp(n){return!dGe(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function hGe(n,e){const r=Math.round(n);return r-e<=n&&r+e>=n}function fGe(n,e,r){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][r],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ui(n){return n*(En/180)}function kge(n){return n*(180/En)}function pV(n){if(!Ws(n))return;let e=1,r=0;for(;Math.round(n*e)/e!==n;)e*=10,r++;return r}function N4(n,e){const r=e.x-n.x,i=e.y-n.y,s=Math.sqrt(r*r+i*i);let o=Math.atan2(i,r);return o<-.5*En&&(o+=Ei),{angle:o,distance:s}}function A0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function pGe(n,e){return(n-e+cGe)%Ei-En}function rd(n){return(n%Ei+Ei)%Ei}function _2(n,e,r,i){const s=rd(n),o=rd(e),a=rd(r),l=rd(o-s),c=rd(a-s),u=rd(s-o),d=rd(s-a);return s===o||s===a||i&&o===a||l>c&&u<d}function ta(n,e,r){return Math.max(e,Math.min(r,n))}function mGe(n){return ta(n,-32768,32767)}function My(n,e,r,i=1e-6){return n>=Math.min(e,r)-i&&n<=Math.max(e,r)+i}function _B(n,e,r){r=r||(a=>n[a]<e);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,r(o)?s=o:i=o;return{lo:s,hi:i}}const af=(n,e,r,i)=>_B(n,r,i?s=>{const o=n[s][e];return o<r||o===r&&n[s+1][e]===r}:s=>n[s][e]<r),gGe=(n,e,r)=>_B(n,r,i=>n[i][e]>=r);function bGe(n,e,r){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>r;)s--;return i>0||s<n.length?n.slice(i,s):n}const Cge=["push","pop","shift","splice","unshift"];function yGe(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Cge.forEach(r=>{const i="_onData"+wB(r),s=n[r];Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return n._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...o)}),a}})})}function mV(n,e){const r=n._chartjs;if(!r)return;const i=r.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Cge.forEach(o=>{delete n[o]}),delete n._chartjs)}function vGe(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Ege=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Age(n,e){let r=[],i=!1;return function(...s){r=s,i||(i=!0,Ege.call(window,()=>{i=!1,n.apply(e,r)}))}}function wGe(n,e){let r;return function(...i){return e?(clearTimeout(r),r=setTimeout(n,e,i)):n.apply(this,i),e}}const SB=n=>n==="start"?"left":n==="end"?"right":"center",$i=(n,e,r)=>n==="start"?e:n==="end"?r:(e+r)/2,xGe=(n,e,r,i)=>n===(i?"left":"right")?r:n==="center"?(e+r)/2:e;function _Ge(n,e,r){const i=e.length;let s=0,o=i;if(n._sorted){const{iScale:a,vScale:l,_parsed:c}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:p,maxDefined:m}=a.getUserBounds();if(p){if(s=Math.min(af(c,d,h).lo,r?i:af(e,d,a.getPixelForValue(h)).lo),u){const b=c.slice(0,s+1).reverse().findIndex(y=>!Xn(y[l.axis]));s-=Math.max(0,b)}s=ta(s,0,i-1)}if(m){let b=Math.max(af(c,a.axis,f,!0).hi+1,r?0:af(e,d,a.getPixelForValue(f),!0).hi+1);if(u){const y=c.slice(b-1).findIndex(v=>!Xn(v[l.axis]));b+=Math.max(0,y)}o=ta(b,s,i)-s}else o=i-s}return{start:s,count:o}}function SGe(n){const{xScale:e,yScale:r,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,s),o}const O_=n=>n===0||n===1,gV=(n,e,r)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ei/r)),bV=(n,e,r)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ei/r)+1,av={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ai)+1,easeOutSine:n=>Math.sin(n*Ai),easeInOutSine:n=>-.5*(Math.cos(En*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>O_(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>O_(n)?n:gV(n,.075,.3),easeOutElastic:n=>O_(n)?n:bV(n,.075,.3),easeInOutElastic(n){return O_(n)?n:n<.5?.5*gV(n*2,.1125,.45):.5+.5*bV(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-av.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?av.easeInBounce(n*2)*.5:av.easeOutBounce(n*2-1)*.5+.5};function kB(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function yV(n){return kB(n)?n:new xw(n)}function G3(n){return kB(n)?n:new xw(n).saturate(.5).darken(.1).hexString()}const kGe=["x","y","borderWidth","radius","tension"],CGe=["color","borderColor","backgroundColor"];function EGe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:CGe},numbers:{type:"number",properties:kGe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function AGe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vV=new Map;function TGe(n,e){e=e||{};const r=n+JSON.stringify(e);let i=vV.get(r);return i||(i=new Intl.NumberFormat(n,e),vV.set(r,i)),i}function CB(n,e,r){return TGe(e,r).format(n)}const PGe={values(n){return ur(n)?n:""+n},numeric(n,e,r){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),o=IGe(n,r)}const a=Sge(Math.abs(o)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),CB(n,i,c)}};function IGe(n,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&n!==Math.floor(n)&&(r=n-Math.floor(n)),r}var Tge={formatters:PGe};function MGe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tge.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const op=Object.create(null),j4=Object.create(null);function lv(n,e){if(!e)return n;const r=e.split(".");for(let i=0,s=r.length;i<s;++i){const o=r[i];n=n[o]||(n[o]=Object.create(null))}return n}function Y3(n,e,r){return typeof e=="string"?_w(lv(n,e),r):_w(lv(n,""),e)}class OGe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>G3(s.backgroundColor),this.hoverBorderColor=(i,s)=>G3(s.borderColor),this.hoverColor=(i,s)=>G3(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Y3(this,e,r)}get(e){return lv(this,e)}describe(e,r){return Y3(j4,e,r)}override(e,r){return Y3(op,e,r)}route(e,r,i,s){const o=lv(this,e),a=lv(this,i),l="_"+r;Object.defineProperties(o,{[l]:{value:o[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=a[s];return ln(c)?Object.assign({},u,c):nn(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var kr=new OGe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[EGe,AGe,MGe]);function DGe(n){return!n||Xn(n.size)||Xn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function wV(n,e,r,i,s){let o=e[s];return o||(o=e[s]=n.measureText(s).width,r.push(s)),o>i&&(i=o),i}function Oh(n,e,r){const i=n.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*i)/i+s}function xV(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function B4(n,e,r,i){Pge(n,e,r,i,null)}function Pge(n,e,r,i,s){let o,a,l,c,u,d,h,f;const p=e.pointStyle,m=e.rotation,b=e.radius;let y=(m||0)*xB;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(r,i),n.rotate(y),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),p){default:s?n.ellipse(r,i,s/2,b,0,0,Ei):n.arc(r,i,b,0,Ei),n.closePath();break;case"triangle":d=s?s/2:b,n.moveTo(r+Math.sin(y)*d,i-Math.cos(y)*b),y+=x2,n.lineTo(r+Math.sin(y)*d,i-Math.cos(y)*b),y+=x2,n.lineTo(r+Math.sin(y)*d,i-Math.cos(y)*b),n.closePath();break;case"rectRounded":u=b*.516,c=b-u,a=Math.cos(y+Ko)*c,h=Math.cos(y+Ko)*(s?s/2-u:c),l=Math.sin(y+Ko)*c,f=Math.sin(y+Ko)*(s?s/2-u:c),n.arc(r-h,i-l,u,y-En,y-Ai),n.arc(r+f,i-a,u,y-Ai,y),n.arc(r+h,i+l,u,y,y+Ai),n.arc(r-f,i+a,u,y+Ai,y+En),n.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*b,d=s?s/2:c,n.rect(r-d,i-c,2*d,2*c);break}y+=Ko;case"rectRot":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+f,i-a),n.lineTo(r+h,i+l),n.lineTo(r-f,i+a),n.closePath();break;case"crossRot":y+=Ko;case"cross":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a);break;case"star":h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a),y+=Ko,h=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(s?s/2:b),n.moveTo(r-h,i-l),n.lineTo(r+h,i+l),n.moveTo(r+f,i-a),n.lineTo(r-f,i+a);break;case"line":a=s?s/2:Math.cos(y)*b,l=Math.sin(y)*b,n.moveTo(r-a,i-l),n.lineTo(r+a,i+l);break;case"dash":n.moveTo(r,i),n.lineTo(r+Math.cos(y)*(s?s/2:b),i+Math.sin(y)*b);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function kw(n,e,r){return r=r||.5,!e||n&&n.x>e.left-r&&n.x<e.right+r&&n.y>e.top-r&&n.y<e.bottom+r}function kE(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function CE(n){n.restore()}function RGe(n,e,r,i,s){if(!e)return n.lineTo(r.x,r.y);if(s==="middle"){const o=(e.x+r.x)/2;n.lineTo(o,e.y),n.lineTo(o,r.y)}else s==="after"!=!!i?n.lineTo(e.x,r.y):n.lineTo(r.x,e.y);n.lineTo(r.x,r.y)}function NGe(n,e,r,i){if(!e)return n.lineTo(r.x,r.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function jGe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Xn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function BGe(n,e,r,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),a=e-o.actualBoundingBoxLeft,l=e+o.actualBoundingBoxRight,c=r-o.actualBoundingBoxAscent,u=r+o.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,d),n.lineTo(l,d),n.stroke()}}function LGe(n,e){const r=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=r}function Cw(n,e,r,i,s,o={}){const a=ur(e)?e:[e],l=o.strokeWidth>0&&o.strokeColor!=="";let c,u;for(n.save(),n.font=s.string,jGe(n,o),c=0;c<a.length;++c)u=a[c],o.backdrop&&LGe(n,o.backdrop),l&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Xn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(u,r,i,o.maxWidth)),n.fillText(u,r,i,o.maxWidth),BGe(n,r,i,u,o),i+=Number(s.lineHeight);n.restore()}function S2(n,e){const{x:r,y:i,w:s,h:o,radius:a}=e;n.arc(r+a.topLeft,i+a.topLeft,a.topLeft,1.5*En,En,!0),n.lineTo(r,i+o-a.bottomLeft),n.arc(r+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,En,Ai,!0),n.lineTo(r+s-a.bottomRight,i+o),n.arc(r+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,Ai,0,!0),n.lineTo(r+s,i+a.topRight),n.arc(r+s-a.topRight,i+a.topRight,a.topRight,0,-Ai,!0),n.lineTo(r+a.topLeft,i)}const FGe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$Ge=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zGe(n,e){const r=(""+n).match(FGe);if(!r||r[1]==="normal")return e*1.2;switch(n=+r[2],r[3]){case"px":return n;case"%":n/=100;break}return e*n}const UGe=n=>+n||0;function Ige(n,e){const r={},i=ln(e),s=i?Object.keys(e):e,o=ln(n)?i?a=>nn(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of s)r[a]=UGe(o(a));return r}function WGe(n){return Ige(n,{top:"y",right:"x",bottom:"y",left:"x"})}function dg(n){return Ige(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Yi(n){const e=WGe(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yr(n,e){n=n||{},e=e||kr.font;let r=nn(n.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let i=nn(n.style,e.style);i&&!(""+i).match($Ge)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:nn(n.family,e.family),lineHeight:zGe(nn(n.lineHeight,e.lineHeight),r),size:r,style:i,weight:nn(n.weight,e.weight),string:""};return s.string=DGe(s),s}function D_(n,e,r,i){let s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&a!==void 0)return a}function qGe(n,e,r){const{min:i,max:s}=n,o=xge(e,(s-i)/2),a=(l,c)=>r&&l===0?0:l+c;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function kp(n,e){return Object.assign(Object.create(n),e)}function EB(n,e=[""],r,i,s=()=>n[0]){const o=r||n;typeof i>"u"&&(i=Rge("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:l=>EB([l,...n],e,o,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return Oge(l,c,()=>JGe(c,e,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return SV(l).includes(c)},ownKeys(l){return SV(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function T0(n,e,r,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:r,_stack:new Set,_descriptors:Mge(n,i),setContext:o=>T0(n,o,r,i),override:o=>T0(n.override(o),e,r,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete n[a],!0},get(o,a,l){return Oge(o,a,()=>VGe(o,a,l))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(o,a,l){return n[a]=l,delete o[a],!0}})}function Mge(n,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:r,indexable:i,isScriptable:zs(r)?r:()=>r,isIndexable:zs(i)?i:()=>i}}const HGe=(n,e)=>n?n+wB(e):e,AB=(n,e)=>ln(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Oge(n,e,r){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=r();return n[e]=i,i}function VGe(n,e,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;let l=i[e];return zs(l)&&a.isScriptable(e)&&(l=GGe(e,l,n,r)),ur(l)&&l.length&&(l=YGe(e,l,n,a.isIndexable)),AB(e,l)&&(l=T0(l,s,o&&o[e],a)),l}function GGe(n,e,r,i){const{_proxy:s,_context:o,_subProxy:a,_stack:l}=r;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(o,a||i);return l.delete(n),AB(n,c)&&(c=TB(s._scopes,s,n,c)),c}function YGe(n,e,r,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=r;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(ln(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=TB(u,s,n,d);e.push(T0(h,o,a&&a[n],l))}}return e}function Dge(n,e,r){return zs(n)?n(e,r):n}const KGe=(n,e)=>n===!0?e:typeof n=="string"?Sw(e,n):void 0;function XGe(n,e,r,i,s){for(const o of e){const a=KGe(r,o);if(a){n.add(a);const l=Dge(a._fallback,r,s);if(typeof l<"u"&&l!==r&&l!==i)return l}else if(a===!1&&typeof i<"u"&&r!==i)return null}return!1}function TB(n,e,r,i){const s=e._rootScopes,o=Dge(e._fallback,r,i),a=[...n,...s],l=new Set;l.add(i);let c=_V(l,a,r,o||r,i);return c===null||typeof o<"u"&&o!==r&&(c=_V(l,a,o,c,i),c===null)?!1:EB(Array.from(l),[""],s,o,()=>QGe(e,r,i))}function _V(n,e,r,i,s){for(;r;)r=XGe(n,e,r,i,s);return r}function QGe(n,e,r){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return ur(s)&&ln(r)?r:s||{}}function JGe(n,e,r,i){let s;for(const o of e)if(s=Rge(HGe(o,n),r),typeof s<"u")return AB(n,s)?TB(r,i,n,s):s}function Rge(n,e){for(const r of e){if(!r)continue;const i=r[n];if(typeof i<"u")return i}}function SV(n){let e=n._keys;return e||(e=n._keys=ZGe(n._scopes)),e}function ZGe(n){const e=new Set;for(const r of n)for(const i of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const eYe=Number.EPSILON||1e-14,P0=(n,e)=>e<n.length&&!n[e].skip&&n[e],Nge=n=>n==="x"?"y":"x";function tYe(n,e,r,i){const s=n.skip?e:n,o=e,a=r.skip?e:r,l=A0(o,s),c=A0(a,o);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=i*u,f=i*d;return{previous:{x:o.x-h*(a.x-s.x),y:o.y-h*(a.y-s.y)},next:{x:o.x+f*(a.x-s.x),y:o.y+f*(a.y-s.y)}}}function nYe(n,e,r){const i=n.length;let s,o,a,l,c,u=P0(n,0);for(let d=0;d<i-1;++d)if(c=u,u=P0(n,d+1),!(!c||!u)){if(ov(e[d],0,eYe)){r[d]=r[d+1]=0;continue}s=r[d]/e[d],o=r[d+1]/e[d],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(a=3/Math.sqrt(l),r[d]=s*a*e[d],r[d+1]=o*a*e[d])}}function rYe(n,e,r="x"){const i=Nge(r),s=n.length;let o,a,l,c=P0(n,0);for(let u=0;u<s;++u){if(a=l,l=c,c=P0(n,u+1),!l)continue;const d=l[r],h=l[i];a&&(o=(d-a[r])/3,l[`cp1${r}`]=d-o,l[`cp1${i}`]=h-o*e[u]),c&&(o=(c[r]-d)/3,l[`cp2${r}`]=d+o,l[`cp2${i}`]=h+o*e[u])}}function iYe(n,e="x"){const r=Nge(e),i=n.length,s=Array(i).fill(0),o=Array(i);let a,l,c,u=P0(n,0);for(a=0;a<i;++a)if(l=c,c=u,u=P0(n,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[r]-c[r])/d:0}o[a]=l?u?E0(s[a-1])!==E0(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}nYe(n,s,o),rYe(n,o,e)}function R_(n,e,r){return Math.max(Math.min(n,r),e)}function sYe(n,e){let r,i,s,o,a,l=kw(n[0],e);for(r=0,i=n.length;r<i;++r)a=o,o=l,l=r<i-1&&kw(n[r+1],e),o&&(s=n[r],a&&(s.cp1x=R_(s.cp1x,e.left,e.right),s.cp1y=R_(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=R_(s.cp2x,e.left,e.right),s.cp2y=R_(s.cp2y,e.top,e.bottom)))}function oYe(n,e,r,i,s){let o,a,l,c;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")iYe(n,s);else{let u=i?n[n.length-1]:n[0];for(o=0,a=n.length;o<a;++o)l=n[o],c=tYe(u,l,n[Math.min(o+1,a-(i?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&sYe(n,r)}function PB(){return typeof window<"u"&&typeof document<"u"}function IB(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function k2(n,e,r){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[r])):i=n,i}const EE=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function aYe(n,e){return EE(n).getPropertyValue(e)}const lYe=["top","right","bottom","left"];function Df(n,e,r){const i={};r=r?"-"+r:"";for(let s=0;s<4;s++){const o=lYe[s];i[o]=parseFloat(n[e+"-"+o+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cYe=(n,e,r)=>(n>0||e>0)&&(!r||!r.shadowRoot);function uYe(n,e){const r=n.touches,i=r&&r.length?r[0]:n,{offsetX:s,offsetY:o}=i;let a=!1,l,c;if(cYe(s,o,n.target))l=s,c=o;else{const u=e.getBoundingClientRect();l=i.clientX-u.left,c=i.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Uh(n,e){if("native"in n)return n;const{canvas:r,currentDevicePixelRatio:i}=e,s=EE(r),o=s.boxSizing==="border-box",a=Df(s,"padding"),l=Df(s,"border","width"),{x:c,y:u,box:d}=uYe(n,r),h=a.left+(d&&l.left),f=a.top+(d&&l.top);let{width:p,height:m}=e;return o&&(p-=a.width+l.width,m-=a.height+l.height),{x:Math.round((c-h)/p*r.width/i),y:Math.round((u-f)/m*r.height/i)}}function dYe(n,e,r){let i,s;if(e===void 0||r===void 0){const o=n&&IB(n);if(!o)e=n.clientWidth,r=n.clientHeight;else{const a=o.getBoundingClientRect(),l=EE(o),c=Df(l,"border","width"),u=Df(l,"padding");e=a.width-u.width-c.width,r=a.height-u.height-c.height,i=k2(l.maxWidth,o,"clientWidth"),s=k2(l.maxHeight,o,"clientHeight")}}return{width:e,height:r,maxWidth:i||w2,maxHeight:s||w2}}const Md=n=>Math.round(n*10)/10;function hYe(n,e,r,i){const s=EE(n),o=Df(s,"margin"),a=k2(s.maxWidth,n,"clientWidth")||w2,l=k2(s.maxHeight,n,"clientHeight")||w2,c=dYe(n,e,r);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const f=Df(s,"border","width"),p=Df(s,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-o.width),d=Math.max(0,i?u/i:d-o.height),u=Md(Math.min(u,a,c.maxWidth)),d=Md(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Md(u/2)),(e!==void 0||r!==void 0)&&i&&c.height&&d>c.height&&(d=c.height,u=Md(Math.floor(d*i))),{width:u,height:d}}function kV(n,e,r){const i=e||1,s=Md(n.height*i),o=Md(n.width*i);n.height=Md(n.height),n.width=Md(n.width);const a=n.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(n.currentDevicePixelRatio=i,a.height=s,a.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const fYe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};PB()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function CV(n,e){const r=aYe(n,e),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Wh(n,e,r,i){return{x:n.x+r*(e.x-n.x),y:n.y+r*(e.y-n.y)}}function pYe(n,e,r,i){return{x:n.x+r*(e.x-n.x),y:i==="middle"?r<.5?n.y:e.y:i==="after"?r<1?n.y:e.y:r>0?e.y:n.y}}function mYe(n,e,r,i){const s={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},a=Wh(n,s,r),l=Wh(s,o,r),c=Wh(o,e,r),u=Wh(a,l,r),d=Wh(l,c,r);return Wh(u,d,r)}const gYe=function(n,e){return{x(r){return n+n+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,i){return r-i},leftForLtr(r,i){return r-i}}},bYe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function hg(n,e,r){return n?gYe(e,r):bYe()}function jge(n,e){let r,i;(e==="ltr"||e==="rtl")&&(r=n.canvas.style,i=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Bge(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Lge(n){return n==="angle"?{between:_2,compare:pGe,normalize:rd}:{between:My,compare:(e,r)=>e-r,normalize:e=>e}}function EV({start:n,end:e,count:r,loop:i,style:s}){return{start:n%r,end:e%r,loop:i&&(e-n+1)%r===0,style:s}}function yYe(n,e,r){const{property:i,start:s,end:o}=r,{between:a,normalize:l}=Lge(i),c=e.length;let{start:u,end:d,loop:h}=n,f,p;if(h){for(u+=c,d+=c,f=0,p=c;f<p&&a(l(e[u%c][i]),s,o);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:n.style}}function vYe(n,e,r){if(!r)return[n];const{property:i,start:s,end:o}=r,a=e.length,{compare:l,between:c,normalize:u}=Lge(i),{start:d,end:h,loop:f,style:p}=yYe(n,e,r),m=[];let b=!1,y=null,v,w,_;const x=()=>c(s,_,v)&&l(s,_)!==0,S=()=>l(o,v)===0||c(o,_,v),C=()=>b||x(),E=()=>!b||S();for(let A=d,M=d;A<=h;++A)w=e[A%a],!w.skip&&(v=u(w[i]),v!==_&&(b=c(v,s,o),y===null&&C()&&(y=l(v,s)===0?A:M),y!==null&&E()&&(m.push(EV({start:y,end:A,loop:f,count:a,style:p})),y=null),M=A,_=v));return y!==null&&m.push(EV({start:y,end:h,loop:f,count:a,style:p})),m}function wYe(n,e){const r=[],i=n.segments;for(let s=0;s<i.length;s++){const o=vYe(i[s],n.points,e);o.length&&r.push(...o)}return r}function xYe(n,e,r,i){let s=0,o=e-1;if(r&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,r&&(o+=s);o>s&&n[o%e].skip;)o--;return o%=e,{start:s,end:o}}function _Ye(n,e,r,i){const s=n.length,o=[];let a=e,l=n[e],c;for(c=e+1;c<=r;++c){const u=n[c%s];u.skip||u.stop?l.skip||(i=!1,o.push({start:e%s,end:(c-1)%s,loop:i}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&o.push({start:e%s,end:a%s,loop:i}),o}function SYe(n,e){const r=n.points,i=n.options.spanGaps,s=r.length;if(!s)return[];const o=!!n._loop,{start:a,end:l}=xYe(r,s,o,i);if(i===!0)return AV(n,[{start:a,end:l,loop:o}],r,e);const c=l<a?l+s:l,u=!!n._fullLoop&&a===0&&l===s-1;return AV(n,_Ye(r,a,c,u),r,e)}function AV(n,e,r,i){return!i||!i.setContext||!r?e:kYe(n,e,r,i)}function kYe(n,e,r,i){const s=n._chart.getContext(),o=TV(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,c=r.length,u=[];let d=o,h=e[0].start,f=h;function p(m,b,y,v){const w=l?-1:1;if(m!==b){for(m+=c;r[m%c].skip;)m-=w;for(;r[b%c].skip;)b+=w;m%c!==b%c&&(u.push({start:m%c,end:b%c,loop:y,style:v}),d=v,h=b%c)}}for(const m of e){h=l?h:m.start;let b=r[h%c],y;for(f=h+1;f<=m.end;f++){const v=r[f%c];y=TV(i.setContext(kp(s,{type:"segment",p0:b,p1:v,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),CYe(y,d)&&p(h,f-1,m.loop,d),b=v,d=y}h<f-1&&p(h,f-1,m.loop,d)}return u}function TV(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function CYe(n,e){if(!e)return!1;const r=[],i=function(s,o){return kB(o)?(r.includes(o)||r.push(o),r.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function N_(n,e,r){return n.options.clip?n[r]:e[r]}function EYe(n,e){const{xScale:r,yScale:i}=n;return r&&i?{left:N_(r,e,"left"),right:N_(r,e,"right"),top:N_(i,e,"top"),bottom:N_(i,e,"bottom")}:e}function AYe(n,e){const r=e._clip;if(r.disabled)return!1;const i=EYe(e,n.chartArea);return{left:r.left===!1?0:i.left-(r.left===!0?0:r.left),right:r.right===!1?n.width:i.right+(r.right===!0?0:r.right),top:r.top===!1?0:i.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?n.height:i.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class TYe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,i,s){const o=r.listeners[s],a=r.duration;o.forEach(l=>l({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(i-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Ege.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,l=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(o[a]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),r+=o.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let i=r.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,i)),i}listen(e,r,i){this._getAnims(e).listeners[r].push(i)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const i=r.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _c=new TYe;const PV="transparent",PYe={boolean(n,e,r){return r>.5?e:n},color(n,e,r){const i=yV(n||PV),s=i.valid&&yV(e||PV);return s&&s.valid?s.mix(i,r).hexString():e},number(n,e,r){return n+(e-n)*r}};class IYe{constructor(e,r,i,s){const o=r[i];s=D_([e.to,s,o,e.from]);const a=D_([e.from,o,s]);this._active=!0,this._fn=e.fn||PYe[e.type||typeof a],this._easing=av[e.easing]||av.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=D_([e.to,r,s,e.from]),this._from=D_([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,l=this._to;let c;if(this._active=o!==l&&(a||r<i),!this._active){this._target[s]=l,this._notify(!0);return}if(r<0){this._target[s]=o;return}c=r/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,i)=>{e.push({res:r,rej:i})})}_notify(e){const r=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][r]()}}class MB{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!ln(e))return;const r=Object.keys(kr.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!ln(o))return;const a={};for(const l of r)a[l]=o[l];(ur(o.properties)&&o.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,r){const i=r.options,s=OYe(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&MYe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,r){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),a=Object.keys(r),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,r));continue}const d=r[u];let h=o[u];const f=i.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}o[u]=h=new IYe(f,e,u,d),s.push(h)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const i=this._createAnimations(e,r);if(i.length)return _c.add(this._chart,i),!0}}function MYe(n,e){const r=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&r.push(o.wait())}return Promise.all(r)}function OYe(n,e){if(!e)return;let r=n.options;if(!r){n.options=e;return}return r.$shared&&(n.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function IV(n,e){const r=n&&n.options||{},i=r.reverse,s=r.min===void 0?e:0,o=r.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function DYe(n,e,r){if(r===!1)return!1;const i=IV(n,r),s=IV(e,r);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function RYe(n){let e,r,i,s;return ln(n)?(e=n.top,r=n.right,i=n.bottom,s=n.left):e=r=i=s=n,{top:e,right:r,bottom:i,left:s,disabled:n===!1}}function Fge(n,e){const r=[],i=n._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)r.push(i[s].index);return r}function MV(n,e,r,i={}){const s=n.keys,o=i.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===r){if(d=!0,i.all)continue;break}u=n.values[c],Ws(u)&&(o||e===0||E0(e)===E0(u))&&(e+=u)}return!d&&!i.all?0:e}function NYe(n,e){const{iScale:r,vScale:i}=e,s=r.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[o]:n[d]};return l}function K3(n,e){const r=n&&n.options.stacked;return r||r===void 0&&e.stack!==void 0}function jYe(n,e,r){return`${n.id}.${e.id}.${r.stack||r.type}`}function BYe(n){const{min:e,max:r,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function LYe(n,e,r){const i=n[e]||(n[e]={});return i[r]||(i[r]={})}function OV(n,e,r,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(r&&o>0||!r&&o<0)return s.index}return null}function DV(n,e){const{chart:r,_cachedMeta:i}=n,s=r._stacks||(r._stacks={}),{iScale:o,vScale:a,index:l}=i,c=o.axis,u=a.axis,d=jYe(o,a,i),h=e.length;let f;for(let p=0;p<h;++p){const m=e[p],{[c]:b,[u]:y}=m,v=m._stacks||(m._stacks={});f=v[u]=LYe(s,d,b),f[l]=y,f._top=OV(f,a,!0,i.type),f._bottom=OV(f,a,!1,i.type);const w=f._visualValues||(f._visualValues={});w[l]=y}}function X3(n,e){const r=n.scales;return Object.keys(r).filter(i=>r[i].axis===e).shift()}function FYe(n,e){return kp(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $Ye(n,e,r){return kp(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Jb(n,e){const r=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][r]===void 0)return;delete o[i][r],o[i]._visualValues!==void 0&&o[i]._visualValues[r]!==void 0&&delete o[i]._visualValues[r]}}}const Q3=n=>n==="reset"||n==="none",RV=(n,e)=>e?n:Object.assign({},n),zYe=(n,e,r)=>n&&!e.hidden&&e._stacked&&{keys:Fge(r,!0),values:null};class fg{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=K3(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jb(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,o=r.xAxisID=nn(i.xAxisID,X3(e,"x")),a=r.yAxisID=nn(i.yAxisID,X3(e,"y")),l=r.rAxisID=nn(i.rAxisID,X3(e,"r")),c=r.indexAxis,u=r.iAxisID=s(c,o,a,l),d=r.vAxisID=s(c,a,o,l);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&mV(this._data,this),e._stacked&&Jb(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(ln(r)){const s=this._cachedMeta;this._data=NYe(r,s)}else if(i!==r){if(i){mV(i,this);const s=this._cachedMeta;Jb(s),s._parsed=[]}r&&Object.isExtensible(r)&&yGe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=r._stacked;r._stacked=K3(r.vScale,r),r.stack!==i.stack&&(s=!0,Jb(r),r.stack=i.stack),this._resyncElements(e),(s||o!==r._stacked)&&(DV(this,r._parsed),r._stacked=K3(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,l=o.axis;let c=e===0&&r===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],d,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{ur(s[e])?f=this.parseArrayData(i,s,e,r):ln(s[e])?f=this.parseObjectData(i,s,e,r):f=this.parsePrimitiveData(i,s,e,r);const p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<r;++d)i._parsed[d+e]=h=f[d],c&&(p()&&(c=!1),u=h);i._sorted=c}a&&DV(this,f)}parsePrimitiveData(e,r,i,s){const{iScale:o,vScale:a}=e,l=o.axis,c=a.axis,u=o.getLabels(),d=o===a,h=new Array(s);let f,p,m;for(f=0,p=s;f<p;++f)m=f+i,h[f]={[l]:d||o.parse(u[m],m),[c]:a.parse(r[m],m)};return h}parseArrayData(e,r,i,s){const{xScale:o,yScale:a}=e,l=new Array(s);let c,u,d,h;for(c=0,u=s;c<u;++c)d=c+i,h=r[d],l[c]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(e,r,i,s){const{xScale:o,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,h,f,p;for(d=0,h=s;d<h;++d)f=d+i,p=r[f],u[d]={x:o.parse(Sw(p,l),f),y:a.parse(Sw(p,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){const s=this.chart,o=this._cachedMeta,a=r[e.axis],l={keys:Fge(s,!0),values:r._stacks[e.axis]._visualValues};return MV(l,a,o.index,{mode:i})}updateRangeFromParsed(e,r,i,s){const o=i[r.axis];let a=o===null?NaN:o;const l=s&&i._stacks[r.axis];s&&l&&(s.values=l,a=MV(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,a=s.length,l=this._getOtherScale(e),c=zYe(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=BYe(l);let f,p;function m(){p=s[f];const b=p[l.axis];return!Ws(p[e.axis])||d>b||h<b}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(u,e,p,c),o));++f);if(o){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][e.axis],Ws(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=RYe(nn(this.options.clip,DYe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],o=r.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,o,l,c),d=l;d<l+c;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(e,o))}for(d=0;d<a.length;++d)a[d].draw(e,o)}getStyle(e,r){const i=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=$Ye(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=FYe(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){const s=r==="active",o=this._cachedDataOpts,a=e+"-"+r,l=o[a],c=this.enableOptionSharing&&So(i);if(l)return RV(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(kr.elements[e]),m=()=>this.getContext(i,s,r),b=u.resolveNamedOptions(f,p,m,h);return b.$shared&&(b.$shared=c,o[a]=Object.freeze(RV(b,c))),b}_resolveAnimations(e,r,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,i,r))}const u=new MB(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Q3(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const i=this.resolveDataElementOptions(e,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(e,r,i,s){Q3(s)?Object.assign(e,i):this._resolveAnimations(r,s).update(e,i)}updateSharedOptions(e,r,i){e&&!Q3(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,s){e.active=s;const o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,i=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,r,i=!0){const s=this._cachedMeta,o=s.data,a=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(o),l=e;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,r),i&&this.updateElements(o,e,r,"reset")}updateElements(e,r,i,s){}_removeElements(e,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,r);i._stacked&&Jb(i,s)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,i,s]=e;this[r](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$e(fg,"defaults",{}),$e(fg,"datasetElementType",null),$e(fg,"dataElementType",null);function UYe(n,e,r){let i=1,s=1,o=0,a=0;if(e<Ei){const l=n,c=l+e,u=Math.cos(l),d=Math.sin(l),h=Math.cos(c),f=Math.sin(c),p=(_,x,S)=>_2(_,l,c,!0)?1:Math.max(x,x*r,S,S*r),m=(_,x,S)=>_2(_,l,c,!0)?-1:Math.min(x,x*r,S,S*r),b=p(0,u,h),y=p(Ai,d,f),v=m(En,u,h),w=m(En+Ai,d,f);i=(b-v)/2,s=(y-w)/2,o=-(b+v)/2,a=-(y+w)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}class Oy extends fg{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=c=>+i[c];if(ln(i[e])){const{key:c="value"}=this._parsing;o=u=>+Sw(i[u],c)}let a,l;for(a=e,l=e+r;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return ui(this.options.rotation-90)}_getCircumference(){return ui(this.options.circumference)}_getRotationExtents(){let e=Ei,r=-Ei;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),r=Math.max(r,o+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(rGe(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:b}=UYe(h,d,c),y=(i.width-a)/f,v=(i.height-a)/p,w=Math.max(Math.min(y,v)/2,0),_=xge(this.options.radius,w),x=Math.max(_*c,0),S=(_-x)/this._getVisibleDatasetWeightTotal();this.offsetX=m*_,this.offsetY=b*_,s.total=this.calculateTotal(),this.outerRadius=_-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(o,0,o.length,e)}_circumference(e,r){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/Ei)}updateElements(e,r,i,s){const o=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&u.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(r,s);let v=this._getRotation(),w;for(w=0;w<r;++w)v+=this._circumference(w,o);for(w=r;w<r+i;++w){const _=this._circumference(w,o),x=e[w],S={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+_,circumference:_,outerRadius:m,innerRadius:p};y&&(S.options=b||this.resolveDataElementOptions(w,x.active?"active":s)),v+=_,this.updateElement(x,w,S,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let i=0,s;for(s=0;s<r.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Ei*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=CB(r._parsed[e],i.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let r=0;const i=this.chart;let s,o,a,l,c;if(!e){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,s=e.length;i<s;++i){const o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(nn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$e(Oy,"id","doughnut"),$e(Oy,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$e(Oy,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),$e(Oy,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:i,borderRadius:a&&(l||h.borderRadius),index:u}}):[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}});class BS extends fg{getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:i[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled;let{start:o,count:a}=_Ge(r,i,s);if(this._drawStart=o,this._drawCount=a,SGe(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,s){const o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,s),h=this.getSharedOptions(d),f=this.includeOptions(s,h),p=a.axis,m=l.axis,{spanGaps:b,segment:y}=this.options,v=sp(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||s==="none";let _=r>0&&this.getParsed(r-1);for(let x=r;x<r+i;++x){const S=e[x],C=this.getParsed(x),E=w?S:{},A=Xn(C[m]),M=E[p]=a.getPixelForValue(C[p],x),I=E[m]=o||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,C,c):C[m],x);E.skip=isNaN(M)||isNaN(I)||A,E.stop=x>0&&Math.abs(C[p]-_[p])>v,y&&(E.parsed=C,E.raw=u.data[x]),f&&(E.options=h||this.resolveDataElementOptions(x,S.active?"active":s)),w||this.updateElement(S,x,E,s),_=C}this.updateSharedOptions(h,s,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}}$e(BS,"id","scatter"),$e(BS,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),$e(BS,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Dh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class OB{constructor(e){$e(this,"options");this.options=e||{}}static override(e){Object.assign(OB.prototype,e)}init(){}formats(){return Dh()}parse(){return Dh()}format(){return Dh()}add(){return Dh()}diff(){return Dh()}startOf(){return Dh()}endOf(){return Dh()}}var WYe={_date:OB};function qYe(n,e,r,i){const{controller:s,data:o,_sorted:a}=n,l=s._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&o.length){const u=l._reversePixels?gGe:af;if(i){if(s._sharedOptions){const d=o[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(o,e,r-h),p=u(o,e,r+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(o,e,r);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=n,p=f.slice(0,d.lo+1).reverse().findIndex(b=>!Xn(b[h.axis]));d.lo-=Math.max(0,p);const m=f.slice(d.hi).findIndex(b=>!Xn(b[h.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:o.length-1}}function AE(n,e,r,i,s){const o=n.getSortedVisibleDatasetMetas(),a=r[e];for(let l=0,c=o.length;l<c;++l){const{index:u,data:d}=o[l],{lo:h,hi:f}=qYe(o[l],e,a,s);for(let p=h;p<=f;++p){const m=d[p];m.skip||i(m,u,p)}}}function HYe(n){const e=n.indexOf("x")!==-1,r=n.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,a=r?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function J3(n,e,r,i,s){const o=[];return!s&&!n.isPointInArea(e)||AE(n,r,e,function(l,c,u){!s&&!kw(l,n.chartArea,0)||l.inRange(e.x,e.y,i)&&o.push({element:l,datasetIndex:c,index:u})},!0),o}function VYe(n,e,r,i){let s=[];function o(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],i),{angle:h}=N4(a,{x:e.x,y:e.y});_2(h,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return AE(n,r,e,o),s}function GYe(n,e,r,i,s,o){let a=[];const l=HYe(r);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(e.x,e.y,s);if(i&&!p)return;const m=d.getCenterPoint(s);if(!(!!o||n.isPointInArea(m))&&!p)return;const y=l(e,m);y<c?(a=[{element:d,datasetIndex:h,index:f}],c=y):y===c&&a.push({element:d,datasetIndex:h,index:f})}return AE(n,r,e,u),a}function Z3(n,e,r,i,s,o){return!o&&!n.isPointInArea(e)?[]:r==="r"&&!i?VYe(n,e,r,s):GYe(n,e,r,i,s,o)}function NV(n,e,r,i,s){const o=[],a=r==="x"?"inXRange":"inYRange";let l=!1;return AE(n,r,e,(c,u,d)=>{c[a]&&c[a](e[r],s)&&(o.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,s))}),i&&!l?[]:o}var YYe={modes:{index(n,e,r,i){const s=Uh(e,n),o=r.axis||"x",a=r.includeInvisible||!1,l=r.intersect?J3(n,s,o,i,a):Z3(n,s,o,!1,i,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(n,e,r,i){const s=Uh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;let l=r.intersect?J3(n,s,o,i,a):Z3(n,s,o,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,u=n.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(n,e,r,i){const s=Uh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;return J3(n,s,o,i,a)},nearest(n,e,r,i){const s=Uh(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;return Z3(n,s,o,r.intersect,i,a)},x(n,e,r,i){const s=Uh(e,n);return NV(n,s,"x",r.intersect,i)},y(n,e,r,i){const s=Uh(e,n);return NV(n,s,"y",r.intersect,i)}}};const $ge=["left","top","right","bottom"];function Zb(n,e){return n.filter(r=>r.pos===e)}function jV(n,e){return n.filter(r=>$ge.indexOf(r.pos)===-1&&r.box.axis===e)}function ey(n,e){return n.sort((r,i)=>{const s=e?i:r,o=e?r:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function KYe(n){const e=[];let r,i,s,o,a,l;for(r=0,i=(n||[]).length;r<i;++r)s=n[r],{position:o,options:{stack:a,stackWeight:l=1}}=s,e.push({index:r,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:l});return e}function XYe(n){const e={};for(const r of n){const{stack:i,pos:s,stackWeight:o}=r;if(!i||!$ge.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function QYe(n,e){const r=XYe(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,a,l;for(o=0,a=n.length;o<a;++o){l=n[o];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*i:c&&e.availableWidth,l.height=s):(l.width=i,l.height=d?d*s:c&&e.availableHeight)}return r}function JYe(n){const e=KYe(n),r=ey(e.filter(u=>u.box.fullSize),!0),i=ey(Zb(e,"left"),!0),s=ey(Zb(e,"right")),o=ey(Zb(e,"top"),!0),a=ey(Zb(e,"bottom")),l=jV(e,"x"),c=jV(e,"y");return{fullSize:r,leftAndTop:i.concat(o),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:Zb(e,"chartArea"),vertical:i.concat(s).concat(c),horizontal:o.concat(a).concat(l)}}function BV(n,e,r,i){return Math.max(n[r],e[r])+Math.max(n[i],e[i])}function zge(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function ZYe(n,e,r,i){const{pos:s,box:o}=r,a=n.maxPadding;if(!ln(s)){r.size&&(n[s]-=r.size);const h=i[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?o.height:o.width),r.size=h.size/h.count,n[s]+=r.size}o.getPadding&&zge(a,o.getPadding());const l=Math.max(0,e.outerWidth-BV(a,n,"left","right")),c=Math.max(0,e.outerHeight-BV(a,n,"top","bottom")),u=l!==n.w,d=c!==n.h;return n.w=l,n.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function eKe(n){const e=n.maxPadding;function r(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=r("top"),n.x+=r("left"),r("right"),r("bottom")}function tKe(n,e){const r=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(e[a],r[a])}),o}return i(n?["left","right"]:["top","bottom"])}function Dy(n,e,r,i){const s=[];let o,a,l,c,u,d;for(o=0,a=n.length,u=0;o<a;++o){l=n[o],c=l.box,c.update(l.width||e.w,l.height||e.h,tKe(l.horizontal,e));const{same:h,other:f}=ZYe(e,r,l,i);u|=h&&s.length,d=d||f,c.fullSize||s.push(l)}return u&&Dy(s,e,r,i)||d}function j_(n,e,r,i,s){n.top=r,n.left=e,n.right=e+i,n.bottom=r+s,n.width=i,n.height=s}function LV(n,e,r,i){const s=r.padding;let{x:o,y:a}=e;for(const l of n){const c=l.box,u=i[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=e.w*d,f=u.size||c.height;So(u.start)&&(a=u.start),c.fullSize?j_(c,s.left,a,r.outerWidth-s.right-s.left,f):j_(c,e.left+u.placed,a,h,f),u.start=a,u.placed+=h,a=c.bottom}else{const h=e.h*d,f=u.size||c.width;So(u.start)&&(o=u.start),c.fullSize?j_(c,o,s.top,f,r.outerHeight-s.bottom-s.top):j_(c,o,e.top+u.placed,f,h),u.start=o,u.placed+=h,o=c.right}}e.x=o,e.y=a}var na={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},n.boxes.push(e)},removeBox(n,e){const r=n.boxes?n.boxes.indexOf(e):-1;r!==-1&&n.boxes.splice(r,1)},configure(n,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(n,e,r,i){if(!n)return;const s=Yi(n.options.layout.padding),o=Math.max(e-s.width,0),a=Math.max(r-s.height,0),l=JYe(n.boxes),c=l.vertical,u=l.horizontal;On(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=c.reduce((b,y)=>y.box.options&&y.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},s);zge(f,Yi(i));const p=Object.assign({maxPadding:f,w:o,h:a,x:s.left,y:s.top},s),m=QYe(c.concat(u),h);Dy(l.fullSize,p,h,m),Dy(c,p,h,m),Dy(u,p,h,m)&&Dy(c,p,h,m),eKe(p),LV(l.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,LV(l.rightAndBottom,p,h,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},On(l.chartArea,b=>{const y=b.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Uge{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,i){}removeEventListener(e,r,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,i,s){return r=Math.max(0,r||e.width),i=i||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):i)}}isAttached(e){return!0}updateConfig(e){}}class nKe extends Uge{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const LS="$chartjs",rKe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},FV=n=>n===null||n==="";function iKe(n,e){const r=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[LS]={initial:{height:i,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",FV(s)){const o=CV(n,"width");o!==void 0&&(n.width=o)}if(FV(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=CV(n,"height");o!==void 0&&(n.height=o)}return n}const Wge=fYe?{passive:!0}:!1;function sKe(n,e,r){n&&n.addEventListener(e,r,Wge)}function oKe(n,e,r){n&&n.canvas&&n.canvas.removeEventListener(e,r,Wge)}function aKe(n,e){const r=rKe[n.type]||n.type,{x:i,y:s}=Uh(n,e);return{type:r,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function C2(n,e){for(const r of n)if(r===e||r.contains(e))return!0}function lKe(n,e,r){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||C2(l.addedNodes,i),a=a&&!C2(l.removedNodes,i);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function cKe(n,e,r){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||C2(l.removedNodes,i),a=a&&!C2(l.addedNodes,i);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ew=new Map;let $V=0;function qge(){const n=window.devicePixelRatio;n!==$V&&($V=n,Ew.forEach((e,r)=>{r.currentDevicePixelRatio!==n&&e()}))}function uKe(n,e){Ew.size||window.addEventListener("resize",qge),Ew.set(n,e)}function dKe(n){Ew.delete(n),Ew.size||window.removeEventListener("resize",qge)}function hKe(n,e,r){const i=n.canvas,s=i&&IB(i);if(!s)return;const o=Age((l,c)=>{const u=s.clientWidth;r(l,c),u<s.clientWidth&&r()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||o(u,d)});return a.observe(s),uKe(n,o),a}function eA(n,e,r){r&&r.disconnect(),e==="resize"&&dKe(n)}function fKe(n,e,r){const i=n.canvas,s=Age(o=>{n.ctx!==null&&r(aKe(o,n))},n);return sKe(i,e,s),s}class pKe extends Uge{acquireContext(e,r){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(iKe(e,r),i):null}releaseContext(e){const r=e.canvas;if(!r[LS])return!1;const i=r[LS].initial;["height","width"].forEach(o=>{const a=i[o];Xn(a)?r.removeAttribute(o):r.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{r.style[o]=s[o]}),r.width=r.width,delete r[LS],!0}addEventListener(e,r,i){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:lKe,detach:cKe,resize:hKe}[r]||fKe;s[r]=a(e,r,i)}removeEventListener(e,r){const i=e.$proxies||(e.$proxies={}),s=i[r];if(!s)return;({attach:eA,detach:eA,resize:eA}[r]||oKe)(e,r,s),i[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,i,s){return hYe(e,r,i,s)}isAttached(e){const r=e&&IB(e);return!!(r&&r.isConnected)}}function mKe(n){return!PB()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?nKe:pKe}var Z_;let Gs=(Z_=class{constructor(){$e(this,"x");$e(this,"y");$e(this,"active",!1);$e(this,"options");$e(this,"$animations")}tooltipPosition(e){const{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}hasValue(){return sp(this.x)&&sp(this.y)}getProps(e,r){const i=this.$animations;if(!r||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},$e(Z_,"defaults",{}),$e(Z_,"defaultRoutes"),Z_);function gKe(n,e){const r=n.options.ticks,i=bKe(n),s=Math.min(r.maxTicksLimit||i,i),o=r.major.enabled?vKe(e):[],a=o.length,l=o[0],c=o[a-1],u=[];if(a>s)return wKe(e,u,o,a/s),u;const d=yKe(o,e,s);if(a>0){let h,f;const p=a>1?Math.round((c-l)/(a-1)):null;for(B_(e,u,d,Xn(p)?0:l-p,l),h=0,f=a-1;h<f;h++)B_(e,u,d,o[h],o[h+1]);return B_(e,u,d,c,Xn(p)?e.length:c+p),u}return B_(e,u,d),u}function bKe(n){const e=n.options.offset,r=n._tickSize(),i=n._length/r+(e?0:1),s=n._maxLength/r;return Math.floor(Math.min(i,s))}function yKe(n,e,r){const i=xKe(n),s=e.length/r;if(!i)return Math.max(s,1);const o=uGe(i);for(let a=0,l=o.length-1;a<l;a++){const c=o[a];if(c>s)return c}return Math.max(s,1)}function vKe(n){const e=[];let r,i;for(r=0,i=n.length;r<i;r++)n[r].major&&e.push(r);return e}function wKe(n,e,r,i){let s=0,o=r[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===o&&(e.push(n[a]),s++,o=r[s*i])}function B_(n,e,r,i,s){const o=nn(i,0),a=Math.min(nn(s,n.length),n.length);let l=0,c,u,d;for(r=Math.ceil(r),s&&(c=s-i,r=c/Math.floor(c/r)),d=o;d<0;)l++,d=Math.round(o+l*r);for(u=Math.max(o,0);u<a;u++)u===d&&(e.push(n[u]),l++,d=Math.round(o+l*r))}function xKe(n){const e=n.length;let r,i;if(e<2)return!1;for(i=n[0],r=1;r<e;++r)if(n[r]-n[r-1]!==i)return!1;return i}const _Ke=n=>n==="left"?"right":n==="right"?"left":n,zV=(n,e,r)=>e==="top"||e==="left"?n[e]+r:n[e]-r,UV=(n,e)=>Math.min(e||n,n);function WV(n,e){const r=[],i=n.length/e,s=n.length;let o=0;for(;o<s;o+=i)r.push(n[Math.floor(o)]);return r}function SKe(n,e,r){const i=n.ticks.length,s=Math.min(e,i-1),o=n._startPixel,a=n._endPixel,l=1e-6;let c=n.getPixelForTick(s),u;if(!(r&&(i===1?u=Math.max(c-o,a-c):e===0?u=(n.getPixelForTick(1)-c)/2:u=(c-n.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<o-l||c>a+l)))return c}function kKe(n,e){On(n,r=>{const i=r.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete r.data[i[o]];i.splice(0,s)}})}function ty(n){return n.drawTicks?n.tickLength:0}function qV(n,e){if(!n.display)return 0;const r=Yr(n.font,e),i=Yi(n.padding);return(ur(n.text)?n.text.length:1)*r.lineHeight+i.height}function CKe(n,e){return kp(n,{scale:e,type:"scale"})}function EKe(n,e,r){return kp(n,{tick:r,index:e,type:"tick"})}function AKe(n,e,r){let i=SB(n);return(r&&e!=="right"||!r&&e==="right")&&(i=_Ke(i)),i}function TKe(n,e,r,i){const{top:s,left:o,bottom:a,right:l,chart:c}=n,{chartArea:u,scales:d}=c;let h=0,f,p,m;const b=a-s,y=l-o;if(n.isHorizontal()){if(p=$i(i,o,l),ln(r)){const v=Object.keys(r)[0],w=r[v];m=d[v].getPixelForValue(w)+b-e}else r==="center"?m=(u.bottom+u.top)/2+b-e:m=zV(n,r,e);f=l-o}else{if(ln(r)){const v=Object.keys(r)[0],w=r[v];p=d[v].getPixelForValue(w)-y+e}else r==="center"?p=(u.left+u.right)/2-y+e:p=zV(n,r,e);m=$i(i,a,s),h=r==="left"?-Ai:Ai}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class ab extends Gs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:i,_suggestedMax:s}=this;return e=hl(e,Number.POSITIVE_INFINITY),r=hl(r,Number.NEGATIVE_INFINITY),i=hl(i,Number.POSITIVE_INFINITY),s=hl(s,Number.NEGATIVE_INFINITY),{min:hl(e,i),max:hl(r,s),minDefined:Ws(e),maxDefined:Ws(r)}}getMinMax(e){let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:r,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),o||(i=Math.max(i,a.max));return r=o&&r>i?i:r,i=s&&r>i?r:i,{min:hl(r,hl(i,r)),max:hl(i,hl(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bn(this.options.beforeUpdate,[this])}update(e,r,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qGe(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?WV(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=gKe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,i;this.isHorizontal()?(r=this.left,i=this.right):(r=this.top,i=this.bottom,e=!e),this._startPixel=r,this._endPixel=i,this._reversePixels=e,this._length=i-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bn(this.options.afterUpdate,[this])}beforeSetDimensions(){Bn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Bn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=Bn(r.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Bn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,i=UV(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,o=r.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!r.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=ta(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/i:p/(i-1),h+6>l&&(l=p/(i-(e.offset?.5:1)),c=this.maxHeight-ty(e.grid)-r.padding-qV(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),a=kge(Math.min(Math.asin(ta((d.highest.height+6)/l,-1,1)),Math.asin(ta(c/u,-1,1))-Math.asin(ta(f/u,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Bn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=qV(s,r.options.font);if(l?(e.width=this.maxWidth,e.height=ty(o)+c):(e.height=this.maxHeight,e.width=ty(o)+c),i.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,m=ui(this.labelRotation),b=Math.cos(m),y=Math.sin(m);if(l){const v=i.mirror?0:y*h.width+b*f.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=i.mirror?0:b*h.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(u,d,y,b)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,i,s){const{ticks:{align:o,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?u?(f=s*e.width,p=i*r.height):(f=i*e.height,p=s*r.width):o==="start"?p=r.width:o==="end"?f=e.width:o!=="inner"&&(f=e.width/2,p=r.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+a)*this.width/(this.width-h),0)}else{let d=r.height/2,h=e.height/2;o==="start"?(d=0,h=e.height):o==="end"&&(d=r.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,i;for(r=0,i=e.length;r<i;r++)Xn(e[r].label)&&(e.splice(r,1),i--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let i=this.ticks;r<i.length&&(i=WV(i,r)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,i){const{ctx:s,_longestTextCache:o}=this,a=[],l=[],c=Math.floor(r/UV(r,i));let u=0,d=0,h,f,p,m,b,y,v,w,_,x,S;for(h=0;h<r;h+=c){if(m=e[h].label,b=this._resolveTickFontOptions(h),s.font=y=b.string,v=o[y]=o[y]||{data:{},gc:[]},w=b.lineHeight,_=x=0,!Xn(m)&&!ur(m))_=wV(s,v.data,v.gc,_,m),x=w;else if(ur(m))for(f=0,p=m.length;f<p;++f)S=m[f],!Xn(S)&&!ur(S)&&(_=wV(s,v.data,v.gc,_,S),x+=w);a.push(_),l.push(x),u=Math.max(_,u),d=Math.max(x,d)}kKe(o,r);const C=a.indexOf(u),E=l.indexOf(d),A=M=>({width:a[M]||0,height:l[M]||0});return{first:A(0),last:A(r-1),widest:A(C),highest:A(E),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return mGe(this._alignToPixels?Oh(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const i=r[e];return i.$context||(i.$context=EKe(this.getContext(),e,i))}return this.$context||(this.$context=CKe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ui(this.labelRotation),i=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,l=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*i>l*s?l/i:c/s:c*s<l*i?c/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:l}=s,c=o.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=ty(o),p=[],m=l.setContext(this.getContext()),b=m.display?m.width:0,y=b/2,v=function(j){return Oh(i,j,b)};let w,_,x,S,C,E,A,M,I,O,F,$;if(a==="top")w=v(this.bottom),E=this.bottom-f,M=w-y,O=v(e.top)+y,$=e.bottom;else if(a==="bottom")w=v(this.top),O=e.top,$=v(e.bottom)-y,E=w+y,M=this.top+f;else if(a==="left")w=v(this.right),C=this.right-f,A=w-y,I=v(e.left)+y,F=e.right;else if(a==="right")w=v(this.left),I=e.left,F=v(e.right)-y,C=w+y,A=this.left+f;else if(r==="x"){if(a==="center")w=v((e.top+e.bottom)/2+.5);else if(ln(a)){const j=Object.keys(a)[0],N=a[j];w=v(this.chart.scales[j].getPixelForValue(N))}O=e.top,$=e.bottom,E=w+y,M=E+f}else if(r==="y"){if(a==="center")w=v((e.left+e.right)/2);else if(ln(a)){const j=Object.keys(a)[0],N=a[j];w=v(this.chart.scales[j].getPixelForValue(N))}C=w-y,A=C-f,I=e.left,F=e.right}const z=nn(s.ticks.maxTicksLimit,h),R=Math.max(1,Math.ceil(h/z));for(_=0;_<h;_+=R){const j=this.getContext(_),N=o.setContext(j),D=l.setContext(j),H=N.lineWidth,U=N.color,X=D.dash||[],Y=D.dashOffset,ee=N.tickWidth,G=N.tickColor,Z=N.tickBorderDash||[],pe=N.tickBorderDashOffset;x=SKe(this,_,c),x!==void 0&&(S=Oh(i,x,H),u?C=A=I=F=S:E=M=O=$=S,p.push({tx1:C,ty1:E,tx2:A,ty2:M,x1:I,y1:O,x2:F,y2:$,width:H,color:U,borderDash:X,borderDashOffset:Y,tickWidth:ee,tickColor:G,tickBorderDash:Z,tickBorderDashOffset:pe}))}return this._ticksLength=h,this._borderValue=w,p}_computeLabelItems(e){const r=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=o,f=ty(i.grid),p=f+d,m=h?-d:p,b=-ui(this.labelRotation),y=[];let v,w,_,x,S,C,E,A,M,I,O,F,$="middle";if(s==="top")C=this.bottom-m,E=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+m,E=this._getXAxisLabelAlignment();else if(s==="left"){const R=this._getYAxisLabelAlignment(f);E=R.textAlign,S=R.x}else if(s==="right"){const R=this._getYAxisLabelAlignment(f);E=R.textAlign,S=R.x}else if(r==="x"){if(s==="center")C=(e.top+e.bottom)/2+p;else if(ln(s)){const R=Object.keys(s)[0],j=s[R];C=this.chart.scales[R].getPixelForValue(j)+p}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")S=(e.left+e.right)/2-p;else if(ln(s)){const R=Object.keys(s)[0],j=s[R];S=this.chart.scales[R].getPixelForValue(j)}E=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(c==="start"?$="top":c==="end"&&($="bottom"));const z=this._getLabelSizes();for(v=0,w=l.length;v<w;++v){_=l[v],x=_.label;const R=o.setContext(this.getContext(v));A=this.getPixelForTick(v)+o.labelOffset,M=this._resolveTickFontOptions(v),I=M.lineHeight,O=ur(x)?x.length:1;const j=O/2,N=R.color,D=R.textStrokeColor,H=R.textStrokeWidth;let U=E;a?(S=A,E==="inner"&&(v===w-1?U=this.options.reverse?"left":"right":v===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?u==="near"||b!==0?F=-O*I+I/2:u==="center"?F=-z.highest.height/2-j*I+I:F=-z.highest.height+I/2:u==="near"||b!==0?F=I/2:u==="center"?F=z.highest.height/2-j*I:F=z.highest.height-O*I,h&&(F*=-1),b!==0&&!R.showLabelBackdrop&&(S+=I/2*Math.sin(b))):(C=A,F=(1-O)*I/2);let X;if(R.showLabelBackdrop){const Y=Yi(R.backdropPadding),ee=z.heights[v],G=z.widths[v];let Z=F-Y.top,pe=0-Y.left;switch($){case"middle":Z-=ee/2;break;case"bottom":Z-=ee;break}switch(E){case"center":pe-=G/2;break;case"right":pe-=G;break;case"inner":v===w-1?pe-=G:v>0&&(pe-=G/2);break}X={left:pe,top:Z,width:G+Y.width,height:ee+Y.height,color:R.backdropColor}}y.push({label:x,font:M,textOffset:F,options:{rotation:b,color:N,strokeColor:D,strokeWidth:H,textAlign:U,textBaseline:$,translation:[S,C],backdrop:X}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ui(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),l=e+o,c=a.widest.width;let u,d;return r==="left"?s?(d=this.right+o,i==="near"?u="left":i==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,i==="near"?u="right":i==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?s?(d=this.left+o,i==="near"?u="right":i==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,i==="near"?u="left":i==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:i,top:s,width:o,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(i,s,o,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const l=(c,u,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(r.display)for(o=0,a=s.length;o<a;++o){const c=s[o];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Oh(e,this.left,a)-a/2,d=Oh(e,this.right,l)+l/2,h=f=c):(h=Oh(e,this.top,a)-a/2,f=Oh(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=o.width,r.strokeStyle=o.color,r.beginPath(),r.moveTo(u,h),r.lineTo(d,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&kE(i,s);const o=this.getLabelItems(e);for(const a of o){const l=a.options,c=a.font,u=a.label,d=a.textOffset;Cw(i,u,0,d,c,l)}s&&CE(i)}drawTitle(){const{ctx:e,options:{position:r,title:i,reverse:s}}=this;if(!i.display)return;const o=Yr(i.font),a=Yi(i.padding),l=i.align;let c=o.lineHeight/2;r==="bottom"||r==="center"||ln(r)?(c+=a.bottom,ur(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=TKe(this,c,r,l);Cw(e,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:f,textAlign:AKe(l,r,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,i=nn(e.grid&&e.grid.z,-1),s=nn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ab.prototype.draw?[{z:r,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Yr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class L_{constructor(e,r,i){this.type=e,this.scope=r,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let i;MKe(r)&&(i=this.register(r));const s=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,PKe(e,a,i),this.override&&kr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,i=e.id,s=this.scope;i in r&&delete r[i],s&&i in kr[s]&&(delete kr[s][i],this.override&&delete op[i])}}function PKe(n,e,r){const i=_w(Object.create(null),[r?kr.get(r):{},kr.get(e),n.defaults]);kr.set(e,i),n.defaultRoutes&&IKe(e,n.defaultRoutes),n.descriptors&&kr.describe(e,n.descriptors)}function IKe(n,e){Object.keys(e).forEach(r=>{const i=r.split("."),s=i.pop(),o=[n].concat(i).join("."),a=e[r].split("."),l=a.pop(),c=a.join(".");kr.route(o,s,c,l)})}function MKe(n){return"id"in n&&"defaults"in n}class OKe{constructor(){this.controllers=new L_(fg,"datasets",!0),this.elements=new L_(Gs,"elements"),this.plugins=new L_(Object,"plugins"),this.scales=new L_(ab,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,i){[...r].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):On(s,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,r,i){const s=wB(e);Bn(i["before"+s],[],i),r[e](i),Bn(i["after"+s],[],i)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const i=this._typedRegistries[r];if(i.isForType(e))return i}return this.plugins}_get(e,r,i){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var yl=new OKe;class DKe{constructor(){this._init=void 0}notify(e,r,i,s){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(o,e,r,i);return r==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,i,s){s=s||{};for(const o of e){const a=o.plugin,l=a[i],c=[r,s,o.options];if(Bn(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Xn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const i=e&&e.config,s=nn(i.options&&i.options.plugins,{}),o=RKe(i);return s===!1&&!r?[]:jKe(e,o,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(r,i),e,"stop"),this._notify(s(i,r),e,"start")}}function RKe(n){const e={},r=[],i=Object.keys(yl.plugins.items);for(let o=0;o<i.length;o++)r.push(yl.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function NKe(n,e){return!e&&n===!1?null:n===!0?{}:n}function jKe(n,{plugins:e,localIds:r},i,s){const o=[],a=n.getContext();for(const l of e){const c=l.id,u=NKe(i[c],s);u!==null&&o.push({plugin:l,options:BKe(n.config,{plugin:l,local:r[c]},u,a)})}return o}function BKe(n,{plugin:e,local:r},i,s){const o=n.pluginScopeKeys(e),a=n.getOptionScopes(i,o);return r&&e.defaults&&a.push(e.defaults),n.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function L4(n,e){const r=kr.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function LKe(n,e){let r=n;return n==="_index_"?r=e:n==="_value_"&&(r=e==="x"?"y":"x"),r}function FKe(n,e){return n===e?"_index_":"_value_"}function HV(n){if(n==="x"||n==="y"||n==="r")return n}function $Ke(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function F4(n,...e){if(HV(n))return n;for(const r of e){const i=r.axis||$Ke(r.position)||n.length>1&&HV(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function VV(n,e,r){if(r[e+"AxisID"]===n)return{axis:e}}function zKe(n,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(r.length)return VV(n,"x",r[0])||VV(n,"y",r[0])}return{}}function UKe(n,e){const r=op[n.type]||{scales:{}},i=e.scales||{},s=L4(n.type,e),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!ln(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=F4(a,l,zKe(a,n),kr.scales[l.type]),u=FKe(c,s),d=r.scales||{};o[a]=sv(Object.create(null),[{axis:c},l,d[c],d[u]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||L4(l,e),d=(op[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=LKe(h,c),p=a[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),sv(o[p],[{axis:f},i[p],d[h]])})}),Object.keys(o).forEach(a=>{const l=o[a];sv(l,[kr.scales[l.type],kr.scale])}),o}function Hge(n){const e=n.options||(n.options={});e.plugins=nn(e.plugins,{}),e.scales=UKe(n,e)}function Vge(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function WKe(n){return n=n||{},n.data=Vge(n.data),Hge(n),n}const GV=new Map,Gge=new Set;function F_(n,e){let r=GV.get(n);return r||(r=e(),GV.set(n,r),Gge.add(r)),r}const ny=(n,e,r)=>{const i=Sw(e,r);i!==void 0&&n.add(i)};class qKe{constructor(e){this._config=WKe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Vge(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Hge(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return F_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return F_(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return F_(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,i=this.type;return F_(`${i}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const i=this._scopeCache;let s=i.get(e);return(!s||r)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,r,i){const{options:s,type:o}=this,a=this._cachedScopes(e,i),l=a.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(h=>ny(c,e,h))),d.forEach(h=>ny(c,s,h)),d.forEach(h=>ny(c,op[o]||{},h)),d.forEach(h=>ny(c,kr,h)),d.forEach(h=>ny(c,j4,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Gge.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,op[r]||{},kr.datasets[r]||{},{type:r},kr,j4]}resolveNamedOptions(e,r,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:l}=YV(this._resolverCache,e,s);let c=a;if(VKe(a,r)){o.$shared=!1,i=zs(i)?i():i;const u=this.createResolver(e,i,l);c=T0(a,i,u)}for(const u of r)o[u]=c[u];return o}createResolver(e,r,i=[""],s){const{resolver:o}=YV(this._resolverCache,e,i);return ln(r)?T0(o,r,void 0,s):o}}function YV(n,e,r){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=r.join();let o=i.get(s);return o||(o={resolver:EB(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,o)),o}const HKe=n=>ln(n)&&Object.getOwnPropertyNames(n).some(e=>zs(n[e]));function VKe(n,e){const{isScriptable:r,isIndexable:i}=Mge(n);for(const s of e){const o=r(s),a=i(s),l=(a||o)&&n[s];if(o&&(zs(l)||HKe(l))||a&&ur(l))return!0}return!1}var GKe="4.5.1";const YKe=["top","bottom","left","right","chartArea"];function KV(n,e){return n==="top"||n==="bottom"||YKe.indexOf(n)===-1&&e==="x"}function XV(n,e){return function(r,i){return r[n]===i[n]?r[e]-i[e]:r[n]-i[n]}}function QV(n){const e=n.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Bn(r&&r.onComplete,[n],e)}function KKe(n){const e=n.chart,r=e.options.animation;Bn(r&&r.onProgress,[n],e)}function Yge(n){return PB()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const FS={},JV=n=>{const e=Yge(n);return Object.values(FS).filter(r=>r.canvas===e).pop()};function XKe(n,e,r){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=e){const a=n[s];delete n[s],(r>0||o>e)&&(n[o+r]=a)}}}function QKe(n,e,r,i){return!r||n.type==="mouseout"?null:i?e:n}var ed;let Rf=(ed=class{static register(...e){yl.add(...e),ZV()}static unregister(...e){yl.remove(...e),ZV()}constructor(e,r){const i=this.config=new qKe(r),s=Yge(e),o=JV(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||mKe(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=nGe(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DKe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wGe(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],FS[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}_c.listen(this,"complete",QV),_c.listen(this,"progress",KKe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return Xn(e)?r&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():kV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xV(this.canvas,this.ctx),this}stop(){return _c.stop(this),this}resize(e,r){_c.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,o),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,kV(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Bn(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};On(r,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let o=[];r&&(o=o.concat(Object.keys(r).map(a=>{const l=r[a],c=F4(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),On(o,a=>{const l=a.options,c=l.id,u=F4(c,l),d=nn(l.type,a.dtype);(l.position===void 0||KV(l.position,u)!==KV(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in i&&i[c].type===d)h=i[c];else{const f=yl.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,e)}),On(s,(a,l)=>{a||delete i[l]}),On(i,a=>{na.configure(this,a,a.options),na.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(XV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,s)=>{r.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){const o=r[i];let a=this.getDatasetMeta(i);const l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=o.indexAxis||L4(l,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=yl.getController(l),{datasetElementType:u,dataElementType:d}=kr.datasets[l];Object.assign(c,{dataElementType:yl.getElement(d),datasetElementType:u&&yl.getElement(u)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){On(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||On(o,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(XV("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){On(this.scales,e=>{na.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!hV(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of r){const a=i==="_removeElements"?-o:o;XKe(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=o=>new Set(e.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!hV(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;na.update(this,this.width,this.height,e);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],On(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,zs(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_c.has(this)?this.attached&&!_c.running(this)&&_c.start(this):(this.draw(),QV({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=AYe(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&kE(r,s),e.controller.draw(),s&&CE(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return kw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,s){const o=YYe.modes[r];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=kp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(e,r){const i=this.getDatasetMeta(e);i.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);So(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(o,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),_c.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xV(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete FS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),e[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};On(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){On(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},On(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){const s=i?"set":"remove";let o,a,l,c;for(r==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],i=e.map(({datasetIndex:o,index:a})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!y2(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,i){const s=this.options.hover,o=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(r,e),l=i?e:o(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,r){const i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,r,i){const{_active:s=[],options:o}=this,a=r,l=this._getActiveElements(e,s,i,a),c=lGe(e),u=QKe(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Bn(o.onHover,[e,l,this],this),c&&Bn(o.onClick,[e,l,this],this));const d=!y2(l,s);return(d||r)&&(this._active=l,this._updateHoverStyles(l,s,r)),this._lastEvent=u,d}_getActiveElements(e,r,i,s){if(e.type==="mouseout")return[];if(!i)return r;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}},$e(ed,"defaults",kr),$e(ed,"instances",FS),$e(ed,"overrides",op),$e(ed,"registry",yl),$e(ed,"version",GKe),$e(ed,"getChart",JV),ed);function ZV(){return On(Rf.instances,n=>n._plugins.invalidate())}function Kge(n,e,r=e){n.lineCap=nn(r.borderCapStyle,e.borderCapStyle),n.setLineDash(nn(r.borderDash,e.borderDash)),n.lineDashOffset=nn(r.borderDashOffset,e.borderDashOffset),n.lineJoin=nn(r.borderJoinStyle,e.borderJoinStyle),n.lineWidth=nn(r.borderWidth,e.borderWidth),n.strokeStyle=nn(r.borderColor,e.borderColor)}function JKe(n,e,r){n.lineTo(r.x,r.y)}function ZKe(n){return n.stepped?RGe:n.tension||n.cubicInterpolationMode==="monotone"?NGe:JKe}function Xge(n,e,r={}){const i=n.length,{start:s=0,end:o=i-1}=r,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(o,l),d=s<a&&o<a||s>l&&o>l;return{count:i,start:c,loop:e.loop,ilen:u<c&&!d?i+u-c:u-c}}function eXe(n,e,r,i){const{points:s,options:o}=e,{count:a,start:l,loop:c,ilen:u}=Xge(s,r,i),d=ZKe(o);let{move:h=!0,reverse:f}=i||{},p,m,b;for(p=0;p<=u;++p)m=s[(l+(f?u-p:p))%a],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):d(n,b,m,f,o.stepped),b=m);return c&&(m=s[(l+(f?u:0))%a],d(n,b,m,f,o.stepped)),!!c}function tXe(n,e,r,i){const s=e.points,{count:o,start:a,ilen:l}=Xge(s,r,i),{move:c=!0,reverse:u}=i||{};let d=0,h=0,f,p,m,b,y,v;const w=x=>(a+(u?l-x:x))%o,_=()=>{b!==y&&(n.lineTo(d,y),n.lineTo(d,b),n.lineTo(d,v))};for(c&&(p=s[w(0)],n.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=s[w(f)],p.skip)continue;const x=p.x,S=p.y,C=x|0;C===m?(S<b?b=S:S>y&&(y=S),d=(h*d+x)/++h):(_(),n.lineTo(x,S),m=C,h=0,b=y=S),v=S}_()}function $4(n){const e=n.options,r=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?tXe:eXe}function nXe(n){return n.stepped?pYe:n.tension||n.cubicInterpolationMode==="monotone"?mYe:Wh}function rXe(n,e,r,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,i)&&s.closePath()),Kge(n,e.options),n.stroke(s)}function iXe(n,e,r,i){const{segments:s,options:o}=e,a=$4(e);for(const l of s)Kge(n,o,l.style),n.beginPath(),a(n,e,l,{start:r,end:r+i-1})&&n.closePath(),n.stroke()}const sXe=typeof Path2D=="function";function oXe(n,e,r,i){sXe&&!e.options.segment?rXe(n,e,r,i):iXe(n,e,r,i)}class Ry extends Gs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;oYe(this._points,i,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=SYe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,i=e.length;return i&&r[e[i-1].end]}interpolate(e,r){const i=this.options,s=e[r],o=this.points,a=wYe(this,{property:r,start:s,end:s});if(!a.length)return;const l=[],c=nXe(i);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],p=o[h],m=o[f];if(p===m){l.push(p);continue}const b=Math.abs((s-p[r])/(m[r]-p[r])),y=c(p,m,b,i.stepped);y[r]=e[r],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,r,i){return $4(this)(e,this,r,i)}path(e,r,i){const s=this.segments,o=$4(this);let a=this._loop;r=r||0,i=i||this.points.length-r;for(const l of s)a&=o(e,this,l,{start:r,end:r+i-1});return!!a}draw(e,r,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),oXe(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$e(Ry,"id","line"),$e(Ry,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$e(Ry,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$e(Ry,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function eG(n,e,r,i){const s=n.options,{[r]:o}=n.getProps([r],i);return Math.abs(e-o)<s.radius+s.hitRadius}class $S extends Gs{constructor(r){super();$e(this,"parsed");$e(this,"skip");$e(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,s){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(r,i){return eG(this,r,"x",i)}inYRange(r,i){return eG(this,r,"y",i)}getCenterPoint(r){const{x:i,y:s}=this.getProps(["x","y"],r);return{x:i,y:s}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);const s=i&&r.borderWidth||0;return(i+s)*2}draw(r,i){const s=this.options;this.skip||s.radius<.1||!kw(this,i,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,B4(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}$e($S,"id","point"),$e($S,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$e($S,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const tG=(n,e)=>{let{boxHeight:r=e,boxWidth:i=e}=n;return n.usePointStyle&&(r=Math.min(r,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(e,r)}},aXe=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;let nG=class extends Gs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,i){this.maxWidth=e,this.maxHeight=r,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Bn(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(i=>e.filter(i,this.chart.data))),e.sort&&(r=r.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Yr(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=tG(i,o);let u,d;r.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,o,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let h=e;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,b)=>{const y=i+r/2+o.measureText(m.text).width;(b===0||u[u.length-1]+y+2*l>a)&&(h+=d,u[u.length-(b>0?0:1)]=0,p+=d,f++),c[b]={left:0,top:p,row:f,width:y,height:s},u[u.length-1]+=y+l}),h}_fitCols(e,r,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let h=l,f=0,p=0,m=0,b=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:w,itemHeight:_}=lXe(i,r,o,y,s);v>0&&p+_+2*l>d&&(h+=f+l,u.push({width:f,height:p}),m+=f+l,b++,f=p=0),c[v]={left:m,top:p,col:b,width:w,height:_},f=Math.max(f,w),p+=_+l}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:s},rtl:o}}=this,a=hg(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=$i(i,this.left+s,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=$i(i,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=$i(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=$i(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;kE(e,this),this._draw(),CE(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:i,ctx:s}=this,{align:o,labels:a}=e,l=kr.color,c=hg(e.rtl,this.left,this.width),u=Yr(a.font),{padding:d}=a,h=u.size,f=h/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:m,boxHeight:b,itemHeight:y}=tG(a,h),v=function(C,E,A){if(isNaN(m)||m<=0||isNaN(b)||b<0)return;s.save();const M=nn(A.lineWidth,1);if(s.fillStyle=nn(A.fillStyle,l),s.lineCap=nn(A.lineCap,"butt"),s.lineDashOffset=nn(A.lineDashOffset,0),s.lineJoin=nn(A.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=nn(A.strokeStyle,l),s.setLineDash(nn(A.lineDash,[])),a.usePointStyle){const I={radius:b*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:M},O=c.xPlus(C,m/2),F=E+f;Pge(s,I,O,F,a.pointStyleWidth&&m)}else{const I=E+Math.max((h-b)/2,0),O=c.leftForLtr(C,m),F=dg(A.borderRadius);s.beginPath(),Object.values(F).some($=>$!==0)?S2(s,{x:O,y:I,w:m,h:b,radius:F}):s.rect(O,I,m,b),s.fill(),M!==0&&s.stroke()}s.restore()},w=function(C,E,A){Cw(s,A.text,C,E+y/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},_=this.isHorizontal(),x=this._computeTitleHeight();_?p={x:$i(o,this.left+d,this.right-i[0]),y:this.top+d+x,line:0}:p={x:this.left+d,y:$i(o,this.top+x+d,this.bottom-r[0].height),line:0},jge(this.ctx,e.textDirection);const S=y+d;this.legendItems.forEach((C,E)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const A=s.measureText(C.text).width,M=c.textAlign(C.textAlign||(C.textAlign=a.textAlign)),I=m+f+A;let O=p.x,F=p.y;c.setWidth(this.width),_?E>0&&O+I+d>this.right&&(F=p.y+=S,p.line++,O=p.x=$i(o,this.left+d,this.right-i[p.line])):E>0&&F+S>this.bottom&&(O=p.x=O+r[p.line].width+d,p.line++,F=p.y=$i(o,this.top+x+d,this.bottom-r[p.line].height));const $=c.x(O);if(v($,F,C),O=xGe(M,O+m+f,_?O+I:this.right,e.rtl),w(c.x(O),F,C),_)p.x+=I+d;else if(typeof C.text!="string"){const z=u.lineHeight;p.y+=Qge(C,z)+d}else p.y+=S}),Bge(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,i=Yr(r.font),s=Yi(r.padding);if(!r.display)return;const o=hg(e.rtl,this.left,this.width),a=this.ctx,l=r.position,c=i.size/2,u=s.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=$i(e.align,h,this.right-f);else{const m=this.columnSizes.reduce((b,y)=>Math.max(b,y.height),0);d=u+$i(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=$i(l,h,h+f);a.textAlign=o.textAlign(SB(l)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=i.string,Cw(a,r.text,p,d,i)}_computeTitleHeight(){const e=this.options.title,r=Yr(e.font),i=Yi(e.padding);return e.display?r.lineHeight+i.height:0}_getLegendItemAt(e,r){let i,s,o;if(My(e,this.left,this.right)&&My(r,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],My(e,s.left,s.left+s.width)&&My(r,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const r=this.options;if(!dXe(e.type,r))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=aXe(s,i);s&&!o&&Bn(r.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&Bn(r.onHover,[e,i,this],this)}else i&&Bn(r.onClick,[e,i,this],this)}};function lXe(n,e,r,i,s){const o=cXe(i,n,e,r),a=uXe(s,i,e.lineHeight);return{itemWidth:o,itemHeight:a}}function cXe(n,e,r,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),e+r.size/2+i.measureText(s).width}function uXe(n,e,r){let i=n;return typeof e.text!="string"&&(i=Qge(e,r)),i}function Qge(n,e){const r=n.text?n.text.length:0;return e*r}function dXe(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var hXe={id:"legend",_element:nG,start(n,e,r){const i=n.legend=new nG({ctx:n.ctx,options:r,chart:n});na.configure(n,i,r),na.addBox(n,i)},stop(n){na.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,r){const i=n.legend;na.configure(n,i,r),i.options=r},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,r){const i=e.datasetIndex,s=r.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Yi(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Jge extends Gs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=ur(i.text)?i.text.length:1;this._padding=Yi(i.padding);const o=s*Yr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:i,bottom:s,right:o,options:a}=this,l=a.align;let c=0,u,d,h;return this.isHorizontal()?(d=$i(l,i,o),h=r+e,u=o-i):(a.position==="left"?(d=i+e,h=$i(l,s,r),c=En*-.5):(d=o-e,h=$i(l,r,s),c=En*.5),u=s-r),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const i=Yr(r.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(o);Cw(e,r.text,0,0,i,{color:r.color,maxWidth:c,rotation:u,textAlign:SB(r.align),textBaseline:"middle",translation:[a,l]})}}function fXe(n,e){const r=new Jge({ctx:n.ctx,options:e,chart:n});na.configure(n,r,e),na.addBox(n,r),n.titleBlock=r}var pXe={id:"title",_element:Jge,start(n,e,r){fXe(n,r)},stop(n){const e=n.titleBlock;na.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,r){const i=n.titleBlock;na.configure(n,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ny={average(n){if(!n.length)return!1;let e,r,i=new Set,s=0,o=0;for(e=0,r=n.length;e<r;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),s+=c.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:s/o}},nearest(n,e){if(!n.length)return!1;let r=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,a,l;for(o=0,a=n.length;o<a;++o){const c=n[o].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=A0(e,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,i=c.y}return{x:r,y:i}}};function ml(n,e){return e&&(ur(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Sc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function mXe(n,e){const{element:r,datasetIndex:i,index:s}=e,o=n.getDatasetMeta(i).controller,{label:a,value:l}=o.getLabelAndValue(s);return{chart:n,label:a,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:r}}function rG(n,e){const r=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:a,boxHeight:l}=e,c=Yr(e.bodyFont),u=Yr(e.titleFont),d=Yr(e.footerFont),h=o.length,f=s.length,p=i.length,m=Yi(e.padding);let b=m.height,y=0,v=i.reduce((x,S)=>x+S.before.length+S.lines.length+S.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,h&&(b+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const x=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=p*x+(v-p)*c.lineHeight+(v-1)*e.bodySpacing}f&&(b+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let w=0;const _=function(x){y=Math.max(y,r.measureText(x).width+w)};return r.save(),r.font=u.string,On(n.title,_),r.font=c.string,On(n.beforeBody.concat(n.afterBody),_),w=e.displayColors?a+2+e.boxPadding:0,On(i,x=>{On(x.before,_),On(x.lines,_),On(x.after,_)}),w=0,r.font=d.string,On(n.footer,_),r.restore(),y+=m.width,{width:y,height:b}}function gXe(n,e){const{y:r,height:i}=e;return r<i/2?"top":r>n.height-i/2?"bottom":"center"}function bXe(n,e,r,i){const{x:s,width:o}=i,a=r.caretSize+r.caretPadding;if(n==="left"&&s+o+a>e.width||n==="right"&&s-o-a<0)return!0}function yXe(n,e,r,i){const{x:s,width:o}=r,{width:a,chartArea:{left:l,right:c}}=n;let u="center";return i==="center"?u=s<=(l+c)/2?"left":"right":s<=o/2?u="left":s>=a-o/2&&(u="right"),bXe(u,n,e,r)&&(u="center"),u}function iG(n,e,r){const i=r.yAlign||e.yAlign||gXe(n,r);return{xAlign:r.xAlign||e.xAlign||yXe(n,e,r,i),yAlign:i}}function vXe(n,e){let{x:r,width:i}=n;return e==="right"?r-=i:e==="center"&&(r-=i/2),r}function wXe(n,e,r){let{y:i,height:s}=n;return e==="top"?i+=r:e==="bottom"?i-=s+r:i-=s/2,i}function sG(n,e,r,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=n,{xAlign:l,yAlign:c}=r,u=s+o,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=dg(a);let m=vXe(e,l);const b=wXe(e,c,u);return c==="center"?l==="left"?m+=u:l==="right"&&(m-=u):l==="left"?m-=Math.max(d,f)+s:l==="right"&&(m+=Math.max(h,p)+s),{x:ta(m,0,i.width-e.width),y:ta(b,0,i.height-e.height)}}function $_(n,e,r){const i=Yi(r.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function oG(n){return ml([],Sc(n))}function xXe(n,e,r){return kp(n,{tooltip:e,tooltipItems:r,type:"tooltip"})}function aG(n,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?n.override(r):n}const Zge={beforeTitle:mc,title(n){if(n.length>0){const e=n[0],r=e.chart.data.labels,i=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return r[e.dataIndex]}return""},afterTitle:mc,beforeBody:mc,beforeLabel:mc,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const r=n.formattedValue;return Xn(r)||(e+=r),e},labelColor(n){const r=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const r=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:mc,afterBody:mc,beforeFooter:mc,footer:mc,afterFooter:mc};function Ss(n,e,r,i){const s=n[e].call(r,i);return typeof s>"u"?Zge[e].call(r,i):s}class z4 extends Gs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new MB(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=xXe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:i}=r,s=Ss(i,"beforeTitle",this,e),o=Ss(i,"title",this,e),a=Ss(i,"afterTitle",this,e);let l=[];return l=ml(l,Sc(s)),l=ml(l,Sc(o)),l=ml(l,Sc(a)),l}getBeforeBody(e,r){return oG(Ss(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:i}=r,s=[];return On(e,o=>{const a={before:[],lines:[],after:[]},l=aG(i,o);ml(a.before,Sc(Ss(l,"beforeLabel",this,o))),ml(a.lines,Ss(l,"label",this,o)),ml(a.after,Sc(Ss(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,r){return oG(Ss(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:i}=r,s=Ss(i,"beforeFooter",this,e),o=Ss(i,"footer",this,e),a=Ss(i,"afterFooter",this,e);let l=[];return l=ml(l,Sc(s)),l=ml(l,Sc(o)),l=ml(l,Sc(a)),l}_createItems(e){const r=this._active,i=this.chart.data,s=[],o=[],a=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(mXe(this.chart,r[c]));return e.filter&&(l=l.filter((d,h,f)=>e.filter(d,h,f,i))),e.itemSort&&(l=l.sort((d,h)=>e.itemSort(d,h,i))),On(l,d=>{const h=aG(e.callbacks,d);s.push(Ss(h,"labelColor",this,d)),o.push(Ss(h,"labelPointStyle",this,d)),a.push(Ss(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,r){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const l=Ny[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=rG(this,i),u=Object.assign({},l,c),d=iG(this.chart,i,u),h=sG(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,s){const o=this.getCaretPosition(e,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(e,r,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=dg(l),{x:f,y:p}=e,{width:m,height:b}=r;let y,v,w,_,x,S;return o==="center"?(x=p+b/2,s==="left"?(y=f,v=y-a,_=x+a,S=x-a):(y=f+m,v=y+a,_=x-a,S=x+a),w=y):(s==="left"?v=f+Math.max(c,d)+a:s==="right"?v=f+m-Math.max(u,h)-a:v=this.caretX,o==="top"?(_=p,x=_-a,y=v-a,w=v+a):(_=p+b,x=_+a,y=v+a,w=v-a),S=_),{x1:y,x2:v,x3:w,y1:_,y2:x,y3:S}}drawTitle(e,r,i){const s=this.title,o=s.length;let a,l,c;if(o){const u=hg(i.rtl,this.x,this.width);for(e.x=$_(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Yr(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===o&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,r,i,s,o){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=o,d=Yr(o.bodyFont),h=$_(this,"left",o),f=s.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,m=r.y+p;if(o.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,v=m+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,B4(e,b,y,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,B4(e,b,y,v)}else{e.lineWidth=ln(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),v=dg(a.borderRadius);Object.values(v).some(w=>w!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,S2(e,{x:b,y:m,w:u,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),S2(e,{x:y,y:m+1,w:u-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(b,m,u,c),e.strokeRect(b,m,u,c),e.fillStyle=a.backgroundColor,e.fillRect(y,m+1,u-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=i,h=Yr(i.bodyFont);let f=h.lineHeight,p=0;const m=hg(i.rtl,this.x,this.width),b=function(A){r.fillText(A,m.x(e.x+p),e.y+f/2),e.y+=f+o},y=m.textAlign(a);let v,w,_,x,S,C,E;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,e.x=$_(this,y,i),r.fillStyle=i.bodyColor,On(this.beforeBody,b),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,x=0,C=s.length;x<C;++x){for(v=s[x],w=this.labelTextColors[x],r.fillStyle=w,On(v.before,b),_=v.lines,l&&_.length&&(this._drawColorBox(r,e,x,m,i),f=Math.max(h.lineHeight,c)),S=0,E=_.length;S<E;++S)b(_[S]),f=h.lineHeight;On(v.after,b)}p=0,f=h.lineHeight,On(this.afterBody,b),e.y-=o}drawFooter(e,r,i){const s=this.footer,o=s.length;let a,l;if(o){const c=hg(i.rtl,this.x,this.width);for(e.x=$_(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=Yr(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,r,i,s){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=dg(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(l+h,c),a==="top"&&this.drawCaret(e,r,i,s),r.lineTo(l+u-f,c),r.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&o==="right"&&this.drawCaret(e,r,i,s),r.lineTo(l+u,c+d-m),r.quadraticCurveTo(l+u,c+d,l+u-m,c+d),a==="bottom"&&this.drawCaret(e,r,i,s),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&o==="left"&&this.drawCaret(e,r,i,s),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=Ny[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=rG(this,e),c=Object.assign({},a,this._size),u=iG(r,e,c),d=sG(e,c,u,r);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Yi(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,r),jge(e,r.textDirection),o.y+=a.top,this.drawTitle(o,e,r),this.drawBody(o,e,r),this.drawFooter(o,e,r),Bge(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const i=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!y2(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(e,o,r,i),l=this._positionChanged(a,e),c=r||!y2(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:i,caretY:s,options:o}=this,a=Ny[o.position].call(this,e,r);return a!==!1&&(i!==a.x||s!==a.y)}}$e(z4,"positioners",Ny);var _Xe={id:"tooltip",_element:z4,positioners:Ny,afterInit(n,e,r){r&&(n.tooltip=new z4({chart:n,options:r}))},beforeUpdate(n,e,r){n.tooltip&&n.tooltip.initialize(r)},reset(n,e,r){n.tooltip&&n.tooltip.initialize(r)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",r)}},afterEvent(n,e){if(n.tooltip){const r=e.replay;n.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zge},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SXe=(n,e,r,i)=>(typeof e=="string"?(r=n.push(e)-1,i.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function kXe(n,e,r,i){const s=n.indexOf(e);if(s===-1)return SXe(n,e,r,i);const o=n.lastIndexOf(e);return s!==o?r:s}const CXe=(n,e)=>n===null?null:ta(Math.round(n),0,e);function lG(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class U4 extends ab{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Xn(e))return null;const i=this.getLabels();return r=isFinite(r)&&i[r]===e?r:kXe(i,e,nn(r,e),this._addedLabels),CXe(r,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,r=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&r===o.length-1?o:o.slice(e,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return lG.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$e(U4,"id","category"),$e(U4,"defaults",{ticks:{callback:lG}});function EXe(n,e){const r=[],{bounds:s,step:o,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=n,p=o||1,m=d-1,{min:b,max:y}=e,v=!Xn(a),w=!Xn(l),_=!Xn(u),x=(y-b)/(h+1);let S=fV((y-b)/m/p)*p,C,E,A,M;if(S<1e-14&&!v&&!w)return[{value:b},{value:y}];M=Math.ceil(y/S)-Math.floor(b/S),M>m&&(S=fV(M*S/m/p)*p),Xn(c)||(C=Math.pow(10,c),S=Math.ceil(S*C)/C),s==="ticks"?(E=Math.floor(b/S)*S,A=Math.ceil(y/S)*S):(E=b,A=y),v&&w&&o&&hGe((l-a)/o,S/1e3)?(M=Math.round(Math.min((l-a)/S,d)),S=(l-a)/M,E=a,A=l):_?(E=v?a:E,A=w?l:A,M=u-1,S=(A-E)/M):(M=(A-E)/S,ov(M,Math.round(M),S/1e3)?M=Math.round(M):M=Math.ceil(M));const I=Math.max(pV(S),pV(E));C=Math.pow(10,Xn(c)?I:c),E=Math.round(E*C)/C,A=Math.round(A*C)/C;let O=0;for(v&&(f&&E!==a?(r.push({value:a}),E<a&&O++,ov(Math.round((E+O*S)*C)/C,a,cG(a,x,n))&&O++):E<a&&O++);O<M;++O){const F=Math.round((E+O*S)*C)/C;if(w&&F>l)break;r.push({value:F})}return w&&f&&A!==l?r.length&&ov(r[r.length-1].value,l,cG(l,x,n))?r[r.length-1].value=l:r.push({value:l}):(!w||A===l)&&r.push({value:A}),r}function cG(n,e,{horizontal:r,minRotation:i}){const s=ui(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+n).length;return Math.min(e/o,a)}class AXe extends ab{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Xn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=c=>s=r?s:c,l=c=>o=i?o:c;if(e){const c=E0(s),u=E0(o);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===o){let c=o===0?1:Math.abs(o*.05);l(o+c),e||a(s-c)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},o=this._range||this,a=EXe(s,o);return e.bounds==="ticks"&&fGe(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-r)/Math.max(e.length-1,1)/2;r-=s,i+=s}this._startValue=r,this._endValue=i,this._valueRange=i-r}getLabelForValue(e){return CB(e,this.chart.options.locale,this.options.ticks.format)}}class W4 extends AXe{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ws(e)?e:0,this.max=Ws(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,i=ui(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$e(W4,"id","linear"),$e(W4,"defaults",{ticks:{callback:Tge.formatters.numeric}});const TE={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ds=Object.keys(TE);function uG(n,e){return n-e}function dG(n,e){if(Xn(e))return null;const r=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Ws(a)||(a=typeof i=="string"?r.parse(a,i):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(sp(o)||o===!0)?r.startOf(a,"isoWeek",o):r.startOf(a,s)),+a)}function hG(n,e,r,i){const s=Ds.length;for(let o=Ds.indexOf(n);o<s-1;++o){const a=TE[Ds[o]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(l*a.size))<=i)return Ds[o]}return Ds[s-1]}function TXe(n,e,r,i,s){for(let o=Ds.length-1;o>=Ds.indexOf(r);o--){const a=Ds[o];if(TE[a].common&&n._adapter.diff(s,i,a)>=e-1)return a}return Ds[r?Ds.indexOf(r):0]}function PXe(n){for(let e=Ds.indexOf(n)+1,r=Ds.length;e<r;++e)if(TE[Ds[e]].common)return Ds[e]}function fG(n,e,r){if(!r)n[e]=!0;else if(r.length){const{lo:i,hi:s}=_B(r,e),o=r[i]>=e?r[i]:r[s];n[o]=!0}}function IXe(n,e,r,i){const s=n._adapter,o=+s.startOf(e[0].value,i),a=e[e.length-1].value;let l,c;for(l=o;l<=a;l=+s.add(l,1,i))c=r[l],c>=0&&(e[c].major=!0);return e}function pG(n,e,r){const i=[],s={},o=e.length;let a,l;for(a=0;a<o;++a)l=e[a],s[l]=a,i.push({value:l,major:!1});return o===0||!r?i:IXe(n,i,s,r)}class E2 extends ab{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const i=e.time||(e.time={}),s=this._adapter=new WYe._date(e.adapters.date);s.init(r),sv(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:dG(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Ws(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=Ws(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){const e=this.options,r=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,l=bGe(s,o,a);return this._unit=r.unit||(i.autoSkip?hG(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):TXe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:PXe(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),pG(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=ta(r,0,a),i=ta(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||hG(o.minUnit,r,i,this._getLabelCapacity(r)),l=nn(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,u=sp(c)||c===!0,d={};let h=r,f,p;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":a),e.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+e.add(f,l,a),p++)fG(d,f,m);return(f===i||s.bounds==="ticks"||p===1)&&fG(d,f,m),Object.keys(d).sort(uG).map(b=>+b)}getLabelForValue(e){const r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,o=this._unit,a=r||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,r,i,s){const o=this.options,a=o.ticks.callback;if(a)return Bn(a,[e,r,i],this);const l=o.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=i[r],p=u&&h&&f&&f.major;return this._adapter.format(e,s||(p?h:d))}generateTickLabels(e){let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,i=this.ctx.measureText(e).width,s=ui(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*a,h:i*a+l*o}}_getLabelCapacity(e){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(e,0,pG(this,[e],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,i;if(e.length)return e;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)e.push(dG(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vGe(e.sort(uG))}}$e(E2,"id","time"),$e(E2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function z_(n,e,r){let i=0,s=n.length-1,o,a,l,c;r?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=af(n,"pos",e)),{pos:o,time:l}=n[i],{pos:a,time:c}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=af(n,"time",e)),{time:o,pos:l}=n[i],{time:a,pos:c}=n[s]);const u=a-o;return u?l+(c-l)*(e-o)/u:l}class mG extends E2{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=z_(r,this.min),this._tableRange=z_(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:i}=this,s=[],o=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=r&&u<=i&&s.push(u);if(s.length<2)return[{time:r,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&o.push({time:u,pos:a/(l-1)});return o}_generate(){const e=this.min,r=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(r)||i.length===1)&&i.push(r),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),i=this.getLabelTimestamps();return r.length&&i.length?e=this.normalize(r.concat(i)):e=r.length?r:i,e=this._cache.all=e,e}getDecimalForValue(e){return(z_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return z_(this._table,i*this._tableRange+this._minPos,!0)}}$e(mG,"id","timeseries"),$e(mG,"defaults",E2.defaults);const e0e="label";function gG(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function MXe(n,e){const r=n.options;r&&e&&Object.assign(r,e)}function t0e(n,e){n.labels=e}function n0e(n,e,r=e0e){const i=[];n.datasets=e.map(s=>{const o=n.datasets.find(a=>a[r]===s[r]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function OXe(n,e=e0e){const r={labels:[],datasets:[]};return t0e(r,n.labels),n0e(r,n.datasets,e),r}function DXe(n,e){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=n,p=T.useRef(null),m=T.useRef(null),b=()=>{p.current&&(m.current=new Rf(p.current,{type:a,data:OXe(l,o),options:c&&{...c},plugins:u}),gG(e,m.current))},y=()=>{gG(e,null),m.current&&(m.current.destroy(),m.current=null)};return T.useEffect(()=>{!s&&m.current&&c&&MXe(m.current,c)},[s,c]),T.useEffect(()=>{!s&&m.current&&t0e(m.current.config.data,l.labels)},[s,l.labels]),T.useEffect(()=>{!s&&m.current&&l.datasets&&n0e(m.current.config.data,l.datasets,o)},[s,l.datasets]),T.useEffect(()=>{m.current&&(s?(y(),setTimeout(b)):m.current.update(h))},[s,c,l.labels,l.datasets,h]),T.useEffect(()=>{m.current&&(y(),setTimeout(b))},[a]),T.useEffect(()=>(b(),()=>y()),[]),g.jsx("canvas",{ref:p,role:"img",height:r,width:i,...f,children:d})}const RXe=T.forwardRef(DXe);function NXe(n,e){return Rf.register(e),T.forwardRef((r,i)=>g.jsx(RXe,{...r,ref:i,type:n}))}const jXe=NXe("scatter",BS);/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const bG={modes:{point(n,e){return zS(n,e,{intersect:!0})},nearest(n,e,r){return FXe(n,e,r)},x(n,e,r){return zS(n,e,{intersect:r.intersect,axis:"x"})},y(n,e,r){return zS(n,e,{intersect:r.intersect,axis:"y"})}}};function DB(n,e,r){return(bG.modes[r.mode]||bG.modes.nearest)(n,e,r)}function BXe(n,e,r){return r!=="x"&&r!=="y"?n.inRange(e.x,e.y,"x",!0)||n.inRange(e.x,e.y,"y",!0):n.inRange(e.x,e.y,r,!0)}function LXe(n,e,r){return r==="x"?{x:n.x,y:e.y}:r==="y"?{x:e.x,y:n.y}:e}function zS(n,e,r){return n.filter(i=>r.intersect?i.inRange(e.x,e.y):BXe(i,e,r.axis))}function FXe(n,e,r){let i=Number.POSITIVE_INFINITY;return zS(n,e,r).reduce((s,o)=>{const a=o.getCenterPoint(),l=LXe(e,a,r.axis),c=A0(e,l);return c<i?(s=[o],i=c):c===i&&s.push(o),s},[]).sort((s,o)=>s._index-o._index).slice(0,1)}function Cp(n,e,r){const i=Math.cos(r),s=Math.sin(r),o=e.x,a=e.y;return{x:o+i*(n.x-o)-s*(n.y-a),y:a+s*(n.x-o)+i*(n.y-a)}}const $Xe=(n,e)=>e>n||n.length>e.length&&n.slice(0,e.length)===e,lf=.001,PE=(n,e,r)=>Math.min(r,Math.max(e,n)),r0e=(n,e)=>n.value>=n.start-e&&n.value<=n.end+e;function zXe(n,e,r){for(const i of Object.keys(n))n[i]=PE(n[i],e,r);return n}function UXe(n,e,r,i){return!n||!e||r<=0?!1:Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)<=Math.pow(r+i,2)}function i0e(n,{x:e,y:r,x2:i,y2:s},o,{borderWidth:a,hitTolerance:l}){const c=(a+l)/2,u=n.x>=e-c-lf&&n.x<=i+c+lf,d=n.y>=r-c-lf&&n.y<=s+c+lf;return o==="x"?u:(o==="y"||u)&&d}function s0e(n,{rect:e,center:r},i,{rotation:s,borderWidth:o,hitTolerance:a}){const l=Cp(n,r,ui(-s));return i0e(l,e,i,{borderWidth:o,hitTolerance:a})}function Ep(n,e){const{centerX:r,centerY:i}=n.getProps(["centerX","centerY"],e);return{x:r,y:i}}function WXe(n,e,r,i=!0){const s=r.split(".");let o=0;for(const a of e.split(".")){const l=s[o++];if(parseInt(a,10)<parseInt(l,10))break;if($Xe(l,a)){if(i)throw new Error(`${n} v${r} is not supported. v${e} or newer is required.`);return!1}}return!0}const o0e=n=>typeof n=="string"&&n.endsWith("%"),a0e=n=>parseFloat(n)/100,l0e=n=>PE(a0e(n),0,1),ry=(n,e)=>({x:n,y:e,x2:n,y2:e,width:0,height:0}),qXe={box:n=>ry(n.centerX,n.centerY),doughnutLabel:n=>ry(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>ry(n.centerX,n.centerY),line:n=>ry(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>ry(n.centerX,n.centerY)};function RB(n,e){return e==="start"?0:e==="end"?n:o0e(e)?l0e(e)*n:n/2}function rh(n,e,r=!0){return typeof e=="number"?e:o0e(e)?(r?l0e(e):a0e(e))*n:n}function HXe(n,e){const{x:r,width:i}=n,s=e.textAlign;return s==="center"?r+i/2:s==="end"||s==="right"?r+i:r}function c0e(n,e,{borderWidth:r,position:i,xAdjust:s,yAdjust:o},a){const l=ln(a),c=e.width+(l?a.width:0)+r,u=e.height+(l?a.height:0)+r,d=NB(i),h=yG(n.x,c,s,d.x),f=yG(n.y,u,o,d.y);return{x:h,y:f,x2:h+c,y2:f+u,width:c,height:u,centerX:h+c/2,centerY:f+u/2}}function NB(n,e="center"){return ln(n)?{x:nn(n.x,e),y:nn(n.y,e)}:(n=nn(n,e),{x:n,y:n})}const u0e=(n,e)=>n&&n.autoFit&&e<1;function d0e(n,e){const r=n.font,i=ur(r)?r:[r];return u0e(n,e)?i.map(function(s){const o=Yr(s);return o.size=Math.floor(s.size*e),o.lineHeight=s.lineHeight,Yr(o)}):i.map(s=>Yr(s))}function h0e(n){return n&&(So(n.xValue)||So(n.yValue))}function yG(n,e,r=0,i){return n-RB(e,i)+r}function lb(n,e,r){const i=r.init;if(i){if(i===!0)return p0e(e,r)}else return;return VXe(n,e,r)}function f0e(n,e,r){let i=!1;return e.forEach(s=>{zs(n[s])?(i=!0,r[s]=n[s]):So(r[s])&&delete r[s]}),i}function p0e(n,e){const r=e.type||"line";return qXe[r](n)}function VXe(n,e,r){const i=Bn(r.init,[{chart:n,properties:e,options:r}]);if(i===!0)return p0e(e,r);if(ln(i))return i}const tA=new Map,GXe=n=>isNaN(n)||n<=0,YXe=n=>n.reduce(function(e,r){return e+=r.string,e},"");function IE(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function ME(n,{x:e,y:r},i){i&&(n.translate(e,r),n.rotate(ui(i)),n.translate(-e,-r))}function bu(n,e){if(e&&e.borderWidth)return n.lineCap=e.borderCapStyle||"butt",n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.lineJoin=e.borderJoinStyle||"miter",n.lineWidth=e.borderWidth,n.strokeStyle=e.borderColor,!0}function cb(n,e){n.shadowColor=e.backgroundShadowColor,n.shadowBlur=e.shadowBlur,n.shadowOffsetX=e.shadowOffsetX,n.shadowOffsetY=e.shadowOffsetY}function OE(n,e){const r=e.content;if(IE(r))return{width:rh(r.width,e.width),height:rh(r.height,e.height)};const i=d0e(e),s=e.textStrokeWidth,o=ur(r)?r:[r],a=o.join()+YXe(i)+s+(n._measureText?"-spriting":"");return tA.has(a)||tA.set(a,JXe(n,o,i,s)),tA.get(a)}function m0e(n,e,r){const{x:i,y:s,width:o,height:a}=e;n.save(),cb(n,r);const l=bu(n,r);n.fillStyle=r.backgroundColor,n.beginPath(),S2(n,{x:i,y:s,w:o,h:a,radius:zXe(dg(r.borderRadius),0,Math.min(o,a)/2)}),n.closePath(),n.fill(),l&&(n.shadowColor=r.borderShadowColor,n.stroke()),n.restore()}function g0e(n,e,r,i){const s=r.content;if(IE(s)){n.save(),n.globalAlpha=tQe(r.opacity,s.style.opacity),n.drawImage(s,e.x,e.y,e.width,e.height),n.restore();return}const o=ur(s)?s:[s],a=d0e(r,i),l=r.color,c=ur(l)?l:[l],u=HXe(e,r),d=e.y+r.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=r.textAlign,KXe(n,r)&&ZXe(n,{x:u,y:d},o,a),eQe(n,{x:u,y:d},o,{fonts:a,colors:c}),n.restore()}function KXe(n,e){if(e.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=e.textStrokeWidth,n.strokeStyle=e.textStrokeColor,!0}function XXe(n,e,r,i){const{radius:s,options:o}=e,a=o.pointStyle,l=o.rotation;let c=(l||0)*xB;if(IE(a)){n.save(),n.translate(r,i),n.rotate(c),n.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),n.restore();return}GXe(s)||QXe(n,{x:r,y:i,radius:s,rotation:l,style:a,rad:c})}function QXe(n,{x:e,y:r,radius:i,rotation:s,style:o,rad:a}){let l,c,u,d;switch(n.beginPath(),o){default:n.arc(e,r,i,0,Ei),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(a)*i,r-Math.cos(a)*i),a+=x2,n.lineTo(e+Math.sin(a)*i,r-Math.cos(a)*i),a+=x2,n.lineTo(e+Math.sin(a)*i,r-Math.cos(a)*i),n.closePath();break;case"rectRounded":d=i*.516,u=i-d,l=Math.cos(a+Ko)*u,c=Math.sin(a+Ko)*u,n.arc(e-l,r-c,d,a-En,a-Ai),n.arc(e+c,r-l,d,a-Ai,a),n.arc(e+l,r+c,d,a,a+Ai),n.arc(e-c,r+l,d,a+Ai,a+En),n.closePath();break;case"rect":if(!s){u=Math.SQRT1_2*i,n.rect(e-u,r-u,2*u,2*u);break}a+=Ko;case"rectRot":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+c,r-l),n.lineTo(e+l,r+c),n.lineTo(e-c,r+l),n.closePath();break;case"crossRot":a+=Ko;case"cross":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l);break;case"star":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l),a+=Ko,l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l);break;case"line":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(a)*i,r+Math.sin(a)*i);break}n.fill()}function JXe(n,e,r,i){n.save();const s=e.length;let o=0,a=i;for(let l=0;l<s;l++){const c=r[Math.min(l,r.length-1)];n.font=c.string;const u=e[l];o=Math.max(o,n.measureText(u).width+i),a+=c.lineHeight}return n.restore(),{width:o,height:a}}function ZXe(n,{x:e,y:r},i,s){n.beginPath();let o=0;i.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=c.lineHeight;n.font=c.string,n.strokeText(a,e,r+u/2+o),o+=u}),n.stroke()}function eQe(n,{x:e,y:r},i,{fonts:s,colors:o}){let a=0;i.forEach(function(l,c){const u=o[Math.min(c,o.length-1)],d=s[Math.min(c,s.length-1)],h=d.lineHeight;n.beginPath(),n.font=d.string,n.fillStyle=u,n.fillText(l,e,r+h/2+a),a+=h,n.fill()})}function tQe(n,e){const r=sp(n)?n:e;return sp(r)?PE(r,0,1):1}const b0e=["left","bottom","top","right"];function nQe(n,e){const{pointX:r,pointY:i,options:s}=e,o=s.callout,a=o&&o.display&&aQe(e,o);if(!a||cQe(e,o,a))return;if(n.save(),n.beginPath(),!bu(n,o))return n.restore();const{separatorStart:c,separatorEnd:u}=rQe(e,a),{sideStart:d,sideEnd:h}=sQe(e,a,c);(o.margin>0||s.borderWidth===0)&&(n.moveTo(c.x,c.y),n.lineTo(u.x,u.y)),n.moveTo(d.x,d.y),n.lineTo(h.x,h.y);const f=Cp({x:r,y:i},e.getCenterPoint(),ui(-e.rotation));n.lineTo(f.x,f.y),n.stroke(),n.restore()}function rQe(n,e){const{x:r,y:i,x2:s,y2:o}=n,a=iQe(n,e);let l,c;return e==="left"||e==="right"?(l={x:r+a,y:i},c={x:l.x,y:o}):(l={x:r,y:i+a},c={x:s,y:l.y}),{separatorStart:l,separatorEnd:c}}function iQe(n,e){const{width:r,height:i,options:s}=n,o=s.callout.margin+s.borderWidth/2;return e==="right"?r+o:e==="bottom"?i+o:-o}function sQe(n,e,r){const{y:i,width:s,height:o,options:a}=n,l=a.callout.start,c=oQe(e,a.callout);let u,d;return e==="left"||e==="right"?(u={x:r.x,y:i+rh(o,l)},d={x:u.x+c,y:u.y}):(u={x:r.x+rh(s,l),y:r.y},d={x:u.x,y:u.y+c}),{sideStart:u,sideEnd:d}}function oQe(n,e){const r=e.side;return n==="left"||n==="top"?-r:r}function aQe(n,e){const r=e.position;return b0e.includes(r)?r:lQe(n,e)}function lQe(n,e){const{x:r,y:i,x2:s,y2:o,width:a,height:l,pointX:c,pointY:u,centerX:d,centerY:h,rotation:f}=n,p={x:d,y:h},m=e.start,b=rh(a,m),y=rh(l,m),v=[r,r+b,r+b,s],w=[i+y,o,i,o],_=[];for(let x=0;x<4;x++){const S=Cp({x:v[x],y:w[x]},p,ui(f));_.push({position:b0e[x],distance:A0(S,{x:c,y:u})})}return _.sort((x,S)=>x.distance-S.distance)[0].position}function cQe(n,e,r){const{pointX:i,pointY:s}=n,o=e.margin;let a=i,l=s;return r==="left"?a+=o:r==="right"?a-=o:r==="top"?l+=o:r==="bottom"&&(l-=o),n.inRange(a,l)}const vG={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function I0(n,e,r){return e=typeof e=="number"?e:n.parse(e),Ws(e)?n.getPixelForValue(e):r}function ap(n,e,r){const i=e[r];if(i||r==="scaleID")return i;const s=r.charAt(0),o=Object.values(n).filter(a=>a.axis&&a.axis===s);return o.length?o[0].id:s}function y0e(n,e){if(n){const r=n.options.reverse,i=I0(n,e.min,r?e.end:e.start),s=I0(n,e.max,r?e.start:e.end);return{start:i,end:s}}}function v0e(n,e){const{chartArea:r,scales:i}=n,s=i[ap(i,e,"xScaleID")],o=i[ap(i,e,"yScaleID")];let a=r.width/2,l=r.height/2;return s&&(a=I0(s,e.xValue,s.left+s.width/2)),o&&(l=I0(o,e.yValue,o.top+o.height/2)),{x:a,y:l}}function jB(n,e){const r=n.scales,i=r[ap(r,e,"xScaleID")],s=r[ap(r,e,"yScaleID")];if(!i&&!s)return{};let{left:o,right:a}=i||n.chartArea,{top:l,bottom:c}=s||n.chartArea;const u=wG(i,{min:e.xMin,max:e.xMax,start:o,end:a});o=u.start,a=u.end;const d=wG(s,{min:e.yMin,max:e.yMax,start:c,end:l});return l=d.start,c=d.end,{x:o,y:l,x2:a,y2:c,width:a-o,height:c-l,centerX:o+(a-o)/2,centerY:l+(c-l)/2}}function w0e(n,e){if(!h0e(e)){const r=jB(n,e);let i=e.radius;(!i||isNaN(i))&&(i=Math.min(r.width,r.height)/2,e.radius=i);const s=i*2,o=r.centerX+e.xAdjust,a=r.centerY+e.yAdjust;return{x:o-i,y:a-i,x2:o+i,y2:a+i,centerX:o,centerY:a,width:s,height:s,radius:i}}return dQe(n,e)}function uQe(n,e){const{scales:r,chartArea:i}=n,s=r[e.scaleID],o={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return s?hQe(s,o,e):fQe(r,o,e),o}function x0e(n,e){const r=jB(n,e);return r.initProperties=lb(n,r,e),r.elements=[{type:"label",optionScope:"label",properties:gQe(n,r,e),initProperties:r.initProperties}],r}function dQe(n,e){const r=v0e(n,e),i=e.radius*2;return{x:r.x-e.radius+e.xAdjust,y:r.y-e.radius+e.yAdjust,x2:r.x+e.radius+e.xAdjust,y2:r.y+e.radius+e.yAdjust,centerX:r.x+e.xAdjust,centerY:r.y+e.yAdjust,radius:e.radius,width:i,height:i}}function wG(n,e){const r=y0e(n,e)||e;return{start:Math.min(r.start,r.end),end:Math.max(r.start,r.end)}}function hQe(n,e,r){const i=I0(n,r.value,NaN),s=I0(n,r.endValue,i);n.isHorizontal()?(e.x=i,e.x2=s):(e.y=i,e.y2=s)}function fQe(n,e,r){for(const i of Object.keys(vG)){const s=n[ap(n,r,i)];if(s){const{min:o,max:a,start:l,end:c,startProp:u,endProp:d}=vG[i],h=y0e(s,{min:r[o],max:r[a],start:s[l],end:s[c]});e[u]=h.start,e[d]=h.end}}}function pQe({properties:n,options:e},r,i,s){const{x:o,x2:a,width:l}=n;return _0e({start:o,end:a,borderWidth:e.borderWidth},{position:i.x,padding:{start:s.left,end:s.right},adjust:e.label.xAdjust,size:r.width})}function mQe({properties:n,options:e},r,i,s){const{y:o,y2:a,height:l}=n;return _0e({start:o,end:a,borderWidth:e.borderWidth},{position:i.y,padding:{start:s.top,end:s.bottom},adjust:e.label.yAdjust,size:r.height})}function _0e(n,e){const{start:r,end:i,borderWidth:s}=n,{position:o,padding:{start:a,end:l},adjust:c}=e,u=i-s-r-a-l-e.size;return r+s/2+c+RB(u,o)}function gQe(n,e,r){const i=r.label;i.backgroundColor="transparent",i.callout.display=!1;const s=NB(i.position),o=Yi(i.padding),a=OE(n.ctx,i),l=pQe({properties:e,options:r},a,s,o),c=mQe({properties:e,options:r},a,s,o),u=a.width+o.width,d=a.height+o.height;return{x:l,y:c,x2:l+u,y2:c+d,width:u,height:d,centerX:l+u/2,centerY:c+d/2,rotation:i.rotation}}const q4=["enter","leave"],BB=q4.concat("click");function bQe(n,e,r){e.listened=f0e(r,BB,e.listeners),e.moveListened=!1,q4.forEach(i=>{zs(r[i])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(i=>{!e.listened&&zs(i.click)&&(e.listened=!0),e.moveListened||q4.forEach(s=>{zs(i[s])&&(e.listened=!0,e.moveListened=!0)})})}function yQe(n,e,r){if(n.listened)switch(e.type){case"mousemove":case"mouseout":return vQe(n,e,r);case"click":return wQe(n,e,r)}}function vQe(n,e,r){if(!n.moveListened)return;let i;e.type==="mousemove"?i=DB(n.visibleElements,e,r.interaction):i=[];const s=n.hovered;n.hovered=i;const o={state:n,event:e};let a=xG(o,"leave",s,i);return xG(o,"enter",i,s)||a}function xG({state:n,event:e},r,i,s){let o;for(const a of i)s.indexOf(a)<0&&(o=S0e(a.options[r]||n.listeners[r],a,e)||o);return o}function wQe(n,e,r){const i=n.listeners,s=DB(n.visibleElements,e,r.interaction);let o;for(const a of s)o=S0e(a.options.click||i.click,a,e)||o;return o}function S0e(n,e,r){return Bn(n,[e.$context,r])===!0}const A2=["afterDraw","beforeDraw"];function xQe(n,e,r){const i=e.visibleElements;e.hooked=f0e(r,A2,e.hooks),e.hooked||i.forEach(s=>{e.hooked||A2.forEach(o=>{zs(s.options[o])&&(e.hooked=!0)})})}function _G(n,e,r){if(n.hooked){const i=e.options[r]||n.hooks[r];return Bn(i,[e.$context])}}function _Qe(n,e,r){const i=AQe(n.scales,e,r);let s=SG(e,i,"min","suggestedMin");s=SG(e,i,"max","suggestedMax")||s,s&&zs(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function SQe(n,e){for(const r of n)CQe(r,e)}function SG(n,e,r,i){if(Ws(e[r])&&!kQe(n.options,r,i)){const s=n[r]!==e[r];return n[r]=e[r],s}}function kQe(n,e,r){return So(n[e])||So(n[r])}function CQe(n,e){for(const r of["scaleID","xScaleID","yScaleID"]){const i=ap(e,n,r);i&&!e[i]&&EQe(n,r)&&console.warn(`No scale found with id '${i}' for annotation '${n.id}'`)}}function EQe(n,e){if(e==="scaleID")return!0;const r=e.charAt(0);for(const i of["Min","Max","Value"])if(So(n[r+i]))return!0;return!1}function AQe(n,e,r){const i=e.axis,s=e.id,o=i+"ScaleID",a={min:nn(e.min,Number.NEGATIVE_INFINITY),max:nn(e.max,Number.POSITIVE_INFINITY)};for(const l of r)l.scaleID===s?kG(l,e,["value","endValue"],a):ap(n,l,o)===s&&kG(l,e,[i+"Min",i+"Max",i+"Value"],a);return a}function kG(n,e,r,i){for(const s of r){const o=n[s];if(So(o)){const a=e.parse(o);i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}}}class ub extends Gs{inRange(e,r,i,s){const{x:o,y:a}=Cp({x:e,y:r},this.getCenterPoint(s),ui(-this.options.rotation));return i0e({x:o,y:a},this.getProps(["x","y","x2","y2"],s),i,this.options)}getCenterPoint(e){return Ep(this,e)}draw(e){e.save(),ME(e,this.getCenterPoint(),this.options.rotation),m0e(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){return x0e(e,r)}}ub.id="boxAnnotation";ub.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ub.defaultRoutes={borderColor:"color",backgroundColor:"color"};ub.descriptors={label:{_fallback:!0}};class DE extends Gs{inRange(e,r,i,s){return s0e({x:e,y:r},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},i,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Ep(this,e)}draw(e){const r=this.options;!r.display||!r.content||(DQe(e,this),e.save(),ME(e,this.getCenterPoint(),this.rotation),g0e(e,this,r,this._fitRatio),e.restore())}resolveElementProperties(e,r){const i=TQe(e,r);if(!i)return{};const{controllerMeta:s,point:o,radius:a}=IQe(e,r,i);let l=OE(e.ctx,r);const c=MQe(l,a);u0e(r,c)&&(l={width:l.width*c,height:l.height*c});const{position:u,xAdjust:d,yAdjust:h}=r,f=c0e(o,l,{borderWidth:0,position:u,xAdjust:d,yAdjust:h});return{initProperties:lb(e,f,r),...f,...s,rotation:r.rotation,_fitRatio:c}}}DE.id="doughnutLabelAnnotation";DE.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};DE.defaultRoutes={};function TQe(n,e){return n.getSortedVisibleDatasetMetas().reduce(function(r,i){const s=i.controller;return s instanceof Oy&&PQe(n,e,i.data)&&(!r||s.innerRadius<r.controller.innerRadius)&&s.options.circumference>=90?i:r},void 0)}function PQe(n,e,r){if(!e.autoHide)return!0;for(let i=0;i<r.length;i++)if(!r[i].hidden&&n.getDataVisibility(i))return!0}function IQe({chartArea:n},e,r){const{left:i,top:s,right:o,bottom:a}=n,{innerRadius:l,offsetX:c,offsetY:u}=r.controller,d=(i+o)/2+c,h=(s+a)/2+u,f={left:Math.max(d-l,i),right:Math.min(d+l,o),top:Math.max(h-l,s),bottom:Math.min(h+l,a)},p={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},m=e.spacing+e.borderWidth/2,b=l-m,y=p.y>h,v=y?s+m:a-m,w=OQe(v,d,h,b);return{controllerMeta:{_centerX:d,_centerY:h,_radius:b,_counterclockwise:y,...w},point:p,radius:Math.min(l,Math.min(f.right-f.left,f.bottom-f.top)/2)}}function MQe({width:n,height:e},r){const i=Math.sqrt(Math.pow(n,2)+Math.pow(e,2));return r*2/i}function OQe(n,e,r,i){const s=Math.pow(r-n,2),o=Math.pow(i,2),a=e*-2,l=Math.pow(e,2)+s-o,c=Math.pow(a,2)-4*l;if(c<=0)return{_startAngle:0,_endAngle:Ei};const u=(-a-Math.sqrt(c))/2,d=(-a+Math.sqrt(c))/2;return{_startAngle:N4({x:e,y:r},{x:u,y:n}).angle,_endAngle:N4({x:e,y:r},{x:d,y:n}).angle}}function DQe(n,e){const{_centerX:r,_centerY:i,_radius:s,_startAngle:o,_endAngle:a,_counterclockwise:l,options:c}=e;n.save();const u=bu(n,c);n.fillStyle=c.backgroundColor,n.beginPath(),n.arc(r,i,s,o,a,l),n.closePath(),n.fill(),u&&n.stroke(),n.restore()}class Rx extends Gs{inRange(e,r,i,s){return s0e({x:e,y:r},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},i,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Ep(this,e)}draw(e){const r=this.options,i=!So(this._visible)||this._visible;!r.display||!r.content||!i||(e.save(),ME(e,this.getCenterPoint(),this.rotation),nQe(e,this),m0e(e,this,r),g0e(e,RQe(this),r),e.restore())}resolveElementProperties(e,r){let i;if(h0e(r))i=v0e(e,r);else{const{centerX:l,centerY:c}=jB(e,r);i={x:l,y:c}}const s=Yi(r.padding),o=OE(e.ctx,r),a=c0e(i,o,r,s);return{initProperties:lb(e,a,r),pointX:i.x,pointY:i.y,...a,rotation:r.rotation}}}Rx.id="labelAnnotation";Rx.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Rx.defaultRoutes={borderColor:"color"};function RQe({x:n,y:e,width:r,height:i,options:s}){const o=s.borderWidth/2,a=Yi(s.padding);return{x:n+a.left+o,y:e+a.top+o,width:r-a.left-a.right-s.borderWidth,height:i-a.top-a.bottom-s.borderWidth}}const LB=(n,e,r)=>({x:n.x+r*(e.x-n.x),y:n.y+r*(e.y-n.y)}),H4=(n,e,r)=>LB(e,r,Math.abs((n-e.y)/(r.y-e.y))).x,CG=(n,e,r)=>LB(e,r,Math.abs((n-e.x)/(r.x-e.x))).y,jy=n=>n*n,NQe=(n,e,{x:r,y:i,x2:s,y2:o},a)=>a==="y"?{start:Math.min(i,o),end:Math.max(i,o),value:e}:{start:Math.min(r,s),end:Math.max(r,s),value:n},EG=(n,e,r,i)=>(1-i)*(1-i)*n+2*(1-i)*i*e+i*i*r,V4=(n,e,r,i)=>({x:EG(n.x,e.x,r.x,i),y:EG(n.y,e.y,r.y,i)}),AG=(n,e,r,i)=>2*(1-i)*(e-n)+2*i*(r-e),TG=(n,e,r,i)=>-Math.atan2(AG(n.x,e.x,r.x,i),AG(n.y,e.y,r.y,i))+.5*En;class Nx extends Gs{inRange(e,r,i,s){const o=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y"){const a={mouseX:e,mouseY:r},{path:l,ctx:c}=this;if(l){bu(c,this.options),c.lineWidth+=this.options.hitTolerance;const{chart:d}=this.$context,h=e*d.currentDevicePixelRatio,f=r*d.currentDevicePixelRatio,p=c.isPointInStroke(l,h,f)||G4(this,a,s);return c.restore(),p}const u=jy(o);return FQe(this,a,u,s)||G4(this,a,s)}return jQe(this,{mouseX:e,mouseY:r},i,{hitSize:o,useFinalPosition:s})}getCenterPoint(e){return Ep(this,e)}draw(e){const{x:r,y:i,x2:s,y2:o,cp:a,options:l}=this;if(e.save(),!bu(e,l))return e.restore();cb(e,l);const c=Math.sqrt(Math.pow(s-r,2)+Math.pow(o-i,2));if(l.curve&&a)return GQe(e,this,a,c),e.restore();const{startOpts:u,endOpts:d,startAdjust:h,endAdjust:f}=k0e(this),p=Math.atan2(o-i,s-r);e.translate(r,i),e.rotate(p),e.beginPath(),e.moveTo(0+h,0),e.lineTo(c-f,0),e.shadowColor=l.borderShadowColor,e.stroke(),Y4(e,0,h,u),Y4(e,c,-f,d),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){const i=uQe(e,r),{x:s,y:o,x2:a,y2:l}=i,c=BQe(i,e.chartArea),u=c?LQe({x:s,y:o},{x:a,y:l},e.chartArea):{x:s,y:o,x2:a,y2:l,width:Math.abs(a-s),height:Math.abs(l-o)};if(u.centerX=(a+s)/2,u.centerY=(l+o)/2,u.initProperties=lb(e,u,r),r.curve){const h={x:u.x,y:u.y},f={x:u.x2,y:u.y2};u.cp=VQe(u,r,A0(h,f))}const d=$Qe(e,u,r.label);return d._visible=c,u.elements=[{type:"label",optionScope:"label",properties:d,initProperties:u.initProperties}],u}}Nx.id="lineAnnotation";const PG={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};Nx.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},PG),fill:!1,length:12,start:Object.assign({},PG),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},Rx.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Nx.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};Nx.defaultRoutes={borderColor:"color"};function jQe(n,{mouseX:e,mouseY:r},i,{hitSize:s,useFinalPosition:o}){const a=NQe(e,r,n.getProps(["x","y","x2","y2"],o),i);return r0e(a,s)||G4(n,{mouseX:e,mouseY:r},o,i)}function BQe({x:n,y:e,x2:r,y2:i},{top:s,right:o,bottom:a,left:l}){return!(n<l&&r<l||n>o&&r>o||e<s&&i<s||e>a&&i>a)}function IG({x:n,y:e},r,{top:i,right:s,bottom:o,left:a}){return n<a&&(e=CG(a,{x:n,y:e},r),n=a),n>s&&(e=CG(s,{x:n,y:e},r),n=s),e<i&&(n=H4(i,{x:n,y:e},r),e=i),e>o&&(n=H4(o,{x:n,y:e},r),e=o),{x:n,y:e}}function LQe(n,e,r){const{x:i,y:s}=IG(n,e,r),{x:o,y:a}=IG(e,n,r);return{x:i,y:s,x2:o,y2:a,width:Math.abs(o-i),height:Math.abs(a-s)}}function FQe(n,{mouseX:e,mouseY:r},i=lf,s){const{x:o,y:a,x2:l,y2:c}=n.getProps(["x","y","x2","y2"],s),u=l-o,d=c-a,h=jy(u)+jy(d),f=h===0?-1:((e-o)*u+(r-a)*d)/h;let p,m;return f<0?(p=o,m=a):f>1?(p=l,m=c):(p=o+f*u,m=a+f*d),jy(e-p)+jy(r-m)<=i}function G4(n,{mouseX:e,mouseY:r},i,s){const o=n.label;return o.options.display&&o.inRange(e,r,s,i)}function $Qe(n,e,r){const i=r.borderWidth,s=Yi(r.padding),o=OE(n.ctx,r),a=o.width+s.width+i,l=o.height+s.height+i;return UQe(e,r,{width:a,height:l,padding:s},n.chartArea)}function zQe(n){const{x:e,y:r,x2:i,y2:s}=n,o=Math.atan2(s-r,i-e);return o>En/2?o-En:o<En/-2?o+En:o}function UQe(n,e,r,i){const{width:s,height:o,padding:a}=r,{xAdjust:l,yAdjust:c}=e,u={x:n.x,y:n.y},d={x:n.x2,y:n.y2},h=e.rotation==="auto"?zQe(n):ui(e.rotation),f=WQe(s,o,h),p=qQe(n,e,{labelSize:f,padding:a},i),m=n.cp?V4(u,n.cp,d,p):LB(u,d,p),b={size:f.w,min:i.left,max:i.right,padding:a.left},y={size:f.h,min:i.top,max:i.bottom,padding:a.top},v=OG(m.x,b)+l,w=OG(m.y,y)+c;return{x:v-s/2,y:w-o/2,x2:v+s/2,y2:w+o/2,centerX:v,centerY:w,pointX:m.x,pointY:m.y,width:s,height:o,rotation:kge(h)}}function WQe(n,e,r){const i=Math.cos(r),s=Math.sin(r);return{w:Math.abs(n*i)+Math.abs(e*s),h:Math.abs(n*s)+Math.abs(e*i)}}function qQe(n,e,r,i){let s;const o=HQe(n,i);return e.position==="start"?s=MG({w:n.x2-n.x,h:n.y2-n.y},r,e,o):e.position==="end"?s=1-MG({w:n.x-n.x2,h:n.y-n.y2},r,e,o):s=RB(1,e.position),s}function MG(n,e,r,i){const{labelSize:s,padding:o}=e,a=n.w*i.dx,l=n.h*i.dy,c=a>0&&(s.w/2+o.left-i.x)/a,u=l>0&&(s.h/2+o.top-i.y)/l;return PE(Math.max(c,u),0,.25)}function HQe(n,e){const{x:r,x2:i,y:s,y2:o}=n,a=Math.min(s,o)-e.top,l=Math.min(r,i)-e.left,c=e.bottom-Math.max(s,o),u=e.right-Math.max(r,i);return{x:Math.min(l,u),y:Math.min(a,c),dx:l<=u?1:-1,dy:a<=c?1:-1}}function OG(n,e){const{size:r,min:i,max:s,padding:o}=e,a=r/2;return r>s-i?(s+i)/2:(i>=n-o-a&&(n=i+o+a),s<=n+o+a&&(n=s-o-a),n)}function k0e(n){const e=n.options,r=e.arrowHeads&&e.arrowHeads.start,i=e.arrowHeads&&e.arrowHeads.end;return{startOpts:r,endOpts:i,startAdjust:DG(n,r),endAdjust:DG(n,i)}}function DG(n,e){if(!e||!e.display)return 0;const{length:r,width:i}=e,s=n.options.borderWidth/2,o={x:r,y:i+s};return Math.abs(H4(0,o,{x:0,y:s}))}function Y4(n,e,r,i){if(!i||!i.display)return;const{length:s,width:o,fill:a,backgroundColor:l,borderColor:c}=i,u=Math.abs(e-s)+r;n.beginPath(),cb(n,i),bu(n,i),n.moveTo(u,-o),n.lineTo(e+r,0),n.lineTo(u,o),a===!0?(n.fillStyle=l||c,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=i.borderShadowColor,n.stroke()}function VQe(n,e,r){const{x:i,y:s,x2:o,y2:a,centerX:l,centerY:c}=n,u=Math.atan2(a-s,o-i),d=NB(e.controlPoint,0),h={x:l+rh(r,d.x,!1),y:c+rh(r,d.y,!1)};return Cp(h,{x:l,y:c},u)}function RG(n,{x:e,y:r},{angle:i,adjust:s},o){!o||!o.display||(n.save(),n.translate(e,r),n.rotate(i),Y4(n,0,-s,o),n.restore())}function GQe(n,e,r,i){const{x:s,y:o,x2:a,y2:l,options:c}=e,{startOpts:u,endOpts:d,startAdjust:h,endAdjust:f}=k0e(e),p={x:s,y:o},m={x:a,y:l},b=TG(p,r,m,0),y=TG(p,r,m,1)-En,v=V4(p,r,m,h/i),w=V4(p,r,m,1-f/i),_=new Path2D;n.beginPath(),_.moveTo(v.x,v.y),_.quadraticCurveTo(r.x,r.y,w.x,w.y),n.shadowColor=c.borderShadowColor,n.stroke(_),e.path=_,e.ctx=n,RG(n,v,{angle:b,adjust:h},u),RG(n,w,{angle:y,adjust:f},d)}class jx extends Gs{inRange(e,r,i,s){const o=this.options.rotation,a=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y")return YQe({x:e,y:r},this.getProps(["width","height","centerX","centerY"],s),o,a);const{x:l,y:c,x2:u,y2:d}=this.getProps(["x","y","x2","y2"],s),h=i==="y"?{start:c,end:d}:{start:l,end:u},f=Cp({x:e,y:r},this.getCenterPoint(s),ui(-o));return f[i]>=h.start-a-lf&&f[i]<=h.end+a+lf}getCenterPoint(e){return Ep(this,e)}draw(e){const{width:r,height:i,centerX:s,centerY:o,options:a}=this;e.save(),ME(e,this.getCenterPoint(),a.rotation),cb(e,this.options),e.beginPath(),e.fillStyle=a.backgroundColor;const l=bu(e,a);e.ellipse(s,o,i/2,r/2,En/2,0,2*En),e.fill(),l&&(e.shadowColor=a.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){return x0e(e,r)}}jx.id="ellipseAnnotation";jx.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},ub.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};jx.defaultRoutes={borderColor:"color",backgroundColor:"color"};jx.descriptors={label:{_fallback:!0}};function YQe(n,e,r,i){const{width:s,height:o,centerX:a,centerY:l}=e,c=s/2,u=o/2;if(c<=0||u<=0)return!1;const d=ui(r||0),h=Math.cos(d),f=Math.sin(d),p=Math.pow(h*(n.x-a)+f*(n.y-l),2),m=Math.pow(f*(n.x-a)-h*(n.y-l),2);return p/Math.pow(c+i,2)+m/Math.pow(u+i,2)<=1.0001}class RE extends Gs{inRange(e,r,i,s){const{x:o,y:a,x2:l,y2:c,width:u}=this.getProps(["x","y","x2","y2","width"],s),d=(this.options.borderWidth+this.options.hitTolerance)/2;return i!=="x"&&i!=="y"?UXe({x:e,y:r},this.getCenterPoint(s),u/2,d):r0e(i==="y"?{start:a,end:c,value:r}:{start:o,end:l,value:e},d)}getCenterPoint(e){return Ep(this,e)}draw(e){const r=this.options,i=r.borderWidth;if(r.radius<.1)return;e.save(),e.fillStyle=r.backgroundColor,cb(e,r);const s=bu(e,r);XXe(e,this,this.centerX,this.centerY),s&&!IE(r.pointStyle)&&(e.shadowColor=r.borderShadowColor,e.stroke()),e.restore(),r.borderWidth=i}resolveElementProperties(e,r){const i=w0e(e,r);return i.initProperties=lb(e,i,r),i}}RE.id="pointAnnotation";RE.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};RE.defaultRoutes={borderColor:"color",backgroundColor:"color"};class NE extends Gs{inRange(e,r,i,s){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&XQe(this.elements,e,r,s);const o=Cp({x:e,y:r},this.getCenterPoint(s),ui(-this.options.rotation)),a=this.elements.map(u=>i==="y"?u.bY:u.bX),l=Math.min(...a),c=Math.max(...a);return o[i]>=l&&o[i]<=c}getCenterPoint(e){return Ep(this,e)}draw(e){const{elements:r,options:i}=this;e.save(),e.beginPath(),e.fillStyle=i.backgroundColor,cb(e,i);const s=bu(e,i);let o=!0;for(const a of r)o?(e.moveTo(a.x,a.y),o=!1):e.lineTo(a.x,a.y);e.closePath(),e.fill(),s&&(e.shadowColor=i.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,r){const i=w0e(e,r),{sides:s,rotation:o}=r,a=[],l=2*En/s;let c=o*xB;for(let u=0;u<s;u++,c+=l){const d=KQe(i,r,c);d.initProperties=lb(e,i,r),a.push(d)}return i.elements=a,i}}NE.id="polygonAnnotation";NE.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};NE.defaultRoutes={borderColor:"color",backgroundColor:"color"};function KQe({centerX:n,centerY:e},{radius:r,borderWidth:i,hitTolerance:s},o){const a=(i+s)/2,l=Math.sin(o),c=Math.cos(o),u={x:n+l*r,y:e-c*r};return{type:"point",optionScope:"point",properties:{x:u.x,y:u.y,centerX:u.x,centerY:u.y,bX:n+l*(r+a),bY:e-c*(r+a)}}}function XQe(n,e,r,i){let s=!1,o=n[n.length-1].getProps(["bX","bY"],i);for(const a of n){const l=a.getProps(["bX","bY"],i);l.bY>r!=o.bY>r&&e<(o.bX-l.bX)*(r-l.bY)/(o.bY-l.bY)+l.bX&&(s=!s),o=l}return s}const Hd={box:ub,doughnutLabel:DE,ellipse:jx,label:Rx,line:Nx,point:RE,polygon:NE};Object.keys(Hd).forEach(n=>{kr.describe(`elements.${Hd[n].id}`,{_fallback:"plugins.annotation.common"})});const QQe={update:Object.assign},JQe=BB.concat(A2),NG=(n,e)=>ln(e)?X4(n,e):n,K4=n=>n==="color"||n==="font";function FB(n="line"){return Hd[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function ZQe(n,e,r,i){const s=tJe(n,r.animations,i),o=e.annotations,a=iJe(e.elements,o);for(let l=0;l<o.length;l++){const c=o[l],u=C0e(a,l,c.type),d=c.setContext(rJe(n,u,a,c)),h=u.resolveElementProperties(n,d);h.skip=eJe(h),"elements"in h&&(nJe(u,h.elements,d,s),delete h.elements),So(u.x)||Object.assign(u,h),Object.assign(u,h.initProperties),h.options=E0e(d),s.update(u,h)}}function eJe(n){return isNaN(n.x)||isNaN(n.y)}function tJe(n,e,r){return r==="reset"||r==="none"||r==="resize"?QQe:new MB(n,e)}function nJe(n,e,r,i){const s=n.elements||(n.elements=[]);s.length=e.length;for(let o=0;o<e.length;o++){const a=e[o],l=a.properties,c=C0e(s,o,a.type,a.initProperties),u=r[a.optionScope].override(a);l.options=E0e(u),i.update(c,l)}}function C0e(n,e,r,i){const s=Hd[FB(r)];let o=n[e];return(!o||!(o instanceof s))&&(o=n[e]=new s,Object.assign(o,i)),o}function E0e(n){const e=Hd[FB(n.type)],r={};r.id=n.id,r.type=n.type,r.drawTime=n.drawTime,Object.assign(r,X4(n,e.defaults),X4(n,e.defaultRoutes));for(const i of JQe)r[i]=n[i];return r}function X4(n,e){const r={};for(const i of Object.keys(e)){const s=e[i],o=n[i];K4(i)&&ur(o)?r[i]=o.map(a=>NG(a,s)):r[i]=NG(o,s)}return r}function rJe(n,e,r,i){return e.$context||(e.$context=Object.assign(Object.create(n.getContext()),{element:e,get elements(){return r.filter(s=>s&&s.options)},id:i.id,type:"annotation"}))}function iJe(n,e){const r=e.length,i=n.length;if(i<r){const s=r-i;n.splice(i,0,...new Array(s))}else i>r&&n.splice(r,i-r);return n}var sJe="3.1.0";const id=new Map,jG=n=>n.type!=="doughnutLabel",oJe=BB.concat(A2);var aJe={id:"annotation",version:sJe,beforeRegister(){WXe("chart.js","4.0",Rf.version)},afterRegister(){Rf.register(Hd)},afterUnregister(){Rf.unregister(Hd)},beforeInit(n){id.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,e,r){const i=id.get(n),s=i.annotations=[];let o=r.annotations;ln(o)?Object.keys(o).forEach(a=>{const l=o[a];ln(l)&&(l.id=a,s.push(l))}):ur(o)&&s.push(...o),SQe(s.filter(jG),n.scales)},afterDataLimits(n,e){const r=id.get(n);_Qe(n,e.scale,r.annotations.filter(jG).filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(n,e,r){const i=id.get(n);bQe(n,i,r),ZQe(n,i,r,e.mode),i.visibleElements=i.elements.filter(s=>!s.skip&&s.options.display),xQe(n,i,r)},beforeDatasetsDraw(n,e,r){iy(n,"beforeDatasetsDraw",r.clip)},afterDatasetsDraw(n,e,r){iy(n,"afterDatasetsDraw",r.clip)},beforeDatasetDraw(n,e,r){iy(n,e.index,r.clip)},beforeDraw(n,e,r){iy(n,"beforeDraw",r.clip)},afterDraw(n,e,r){iy(n,"afterDraw",r.clip)},beforeEvent(n,e,r){const i=id.get(n);yQe(i,e.event,r)&&(e.changed=!0)},afterDestroy(n){id.delete(n)},getAnnotations(n){const e=id.get(n);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(n,e,r){return DB(n,e,r)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!oJe.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,e)=>`elements.${Hd[FB(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:K4,_fallback:!0},_indexable:K4}},additionalOptionScopes:[""]};function iy(n,e,r){const{ctx:i,chartArea:s}=n,o=id.get(n);r&&kE(i,s);const a=lJe(o.visibleElements,e).sort((l,c)=>l.element.options.z-c.element.options.z);for(const l of a)cJe(i,s,o,l);r&&CE(i)}function lJe(n,e){const r=[];for(const i of n)if(i.options.drawTime===e&&r.push({element:i,main:!0}),i.elements&&i.elements.length)for(const s of i.elements)s.options.display&&s.options.drawTime===e&&r.push({element:s});return r}function cJe(n,e,r,i){const s=i.element;i.main?(_G(r,s,"beforeDraw"),s.draw(n,e),_G(r,s,"afterDraw")):s.draw(n,e)}Rf.register(U4,W4,$S,Ry,pXe,_Xe,hXe,aJe);const uJe=({minPrice:n,maxPrice:e,orders:r,pendingOrders:i=[],onAddOrder:s,onRemoveOrder:o,currentPrice:a,markPrice:l})=>{const c=T.useRef(null),[u,d]=T.useState(null),h=T.useMemo(()=>{const m=[...r,...i];return m.length>0?Math.max(...m.map(b=>b.amount),.1):.1},[r,i]),f=T.useMemo(()=>{const m=r.map(y=>({x:y.amount,y:y.price,id:y.id,side:y.side,isPending:!1})),b=i.map(y=>({x:y.amount,y:y.price,id:y.id,side:y.side,isPending:!0}));return{transition:{show:{animations:{colors:{from:"transparent"},y:{type:"number",from:0,easing:"easeOutQuart"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},y:{type:"number",to:0,easing:"easeInExpo"}}}},animation:{duration:500},datasets:[{label:"New Long Orders",data:m.filter(y=>{const v=r.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="long"||(v==null?void 0:v.side)==="buy"||!(v!=null&&v.side)}),backgroundColor:"#a1f2f7",borderColor:"green",borderWidth:2,pointRadius:13,pointHoverRadius:10},{label:"New Short Orders",data:m.filter(y=>{const v=r.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="short"||(v==null?void 0:v.side)==="sell"}),backgroundColor:"#a1f2f7",borderColor:"red",borderWidth:2,pointRadius:13,pointHoverRadius:10},{label:"Open Longs",data:b.filter(y=>{const v=i.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="long"||(v==null?void 0:v.side)==="buy"}),backgroundColor:"rgba(40, 167, 69, 0.8)",borderColor:"#fff",borderWidth:2,borderDash:[3,3],pointRadius:6,pointHoverRadius:10},{label:"Open Shorts",data:b.filter(y=>{const v=i.find(w=>w.id===y.id);return(v==null?void 0:v.side)==="short"||(v==null?void 0:v.side)==="sell"}),backgroundColor:"rgba(220, 53, 69, 0.8)",borderColor:"#fff",borderWidth:2,borderDash:[3,3],pointRadius:6,pointHoverRadius:10}]}},[r,i]),p=T.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,backgroundColor:"#1a1a1a",plugins:{legend:{display:!0,position:"top",labels:{color:"#fff",font:{size:12}}},tooltip:{enabled:!0,callbacks:{label:m=>{const b=m.raw,y=[...r,...i].find(v=>v.id===b.id);return y?[`Price: ${y.price.toFixed(2)} USDC`,`Amount: ${y.amount.toFixed(4)} BTC`,y.isPending?`Pending ${y.side==="long"||y.side==="buy"?"Long":"Short"}`:""].filter(Boolean):`Price: ${b.y.toFixed(2)}, Amount: ${b.x.toFixed(4)}`}}},annotation:{annotations:{...a!==null&&a>=n&&a<=e?{currentPriceLine:{type:"line",xMin:0,xMax:h,yMin:a,yMax:a,borderColor:"#00ff00",borderWidth:2,borderDash:[5,5],label:{display:!0,content:`Current: ${a.toLocaleString()}`,position:"end",backgroundColor:"rgba(0, 255, 0, 0.8)",color:"#000",font:{size:12,weight:"bold",family:"monospace"},padding:{left:5,right:5,top:2,bottom:2}},xScaleID:"x",yScaleID:"y"}}:{},...l!==null&&l>=n&&l<=e?{markPriceLine:{type:"line",xMin:0,xMax:h,yMin:l,yMax:l,borderColor:"#ff0000",borderWidth:2,label:{display:!0,content:`Mark Price: ${l.toLocaleString()}`,position:"start",backgroundColor:"rgba(255, 0, 0, 0.8)",color:"#fff",font:{size:12,weight:"bold",family:"monospace"},padding:{left:5,right:5,top:2,bottom:2}},xScaleID:"x",yScaleID:"y",arrowHeads:{start:{enabled:!1,fill:!1,length:0,width:0},end:{enabled:!0,fill:!0,length:15,width:10,backgroundColor:"#ff0000",borderColor:"#ff0000",borderWidth:2}}}}:{}}}},scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:"Amount (BTC)",color:"#fff",font:{size:14,weight:"bold"}},min:0,max:h,ticks:{color:"#888",font:{size:12,family:"monospace"},callback:function(m){return Number(m).toFixed(4)}},grid:{color:"#333"}},y:{type:"linear",title:{display:!0,text:"Price (USDC)",color:"#fff",font:{size:14,weight:"bold"}},min:n,max:e,ticks:{color:"#888",font:{size:12,family:"monospace"},callback:function(m){return Number(m).toLocaleString()}},grid:{color:"#333"}}},onClick:(m,b)=>{if(!c.current)return;const y=c.current,v=y.canvas;if(!v)return;const w=v.getBoundingClientRect(),_=m.native;if(!_)return;const x=_.clientX-w.left,S=_.clientY-w.top,C=y.scales.x,E=y.scales.y,A=C.getValueForPixel(x),M=E.getValueForPixel(S);if(A==null||M===null||M===void 0)return;const O=[...r,...i].find(F=>{const $=C.getPixelForValue(F.amount),z=E.getPixelForValue(F.price);return Math.sqrt(Math.pow(x-$,2)+Math.pow(S-z,2))<=12});if(O)o(O.id);else{const F=Math.max(n,Math.min(e,M)),$=Math.max(.001,Math.min(1,A));s(F,$)}},onHover:(m,b)=>{if(!c.current)return;const y=c.current,v=y.canvas;if(!v)return;const w=v.getBoundingClientRect(),_=m.native;if(!_)return;const x=_.clientX-w.left,S=_.clientY-w.top,C=[...r,...i],E=y.scales.x,A=y.scales.y,M=C.find(I=>{const O=E.getPixelForValue(I.amount),F=A.getPixelForValue(I.price);return Math.sqrt(Math.pow(x-O,2)+Math.pow(S-F,2))<=10});d((M==null?void 0:M.id)||null)}}),[n,e,h,r,i,s,o,a,l]);return g.jsx("div",{className:"price-amount-chart-container",children:g.jsx("div",{className:`price-amount-chart-wrapper ${u?"price-amount-chart-pointer":""}`,children:g.jsx(jXe,{ref:c,data:f,options:p})})})},dJe=({isOpen:n,onClose:e,minPrice:r,maxPrice:i,onMinPriceChange:s,onMaxPriceChange:o,markPrice:a,hasManualPriceChange:l,onResetToAuto:c,orderMode:u,onOrderModeChange:d,curveIntensity:h,onCurveIntensityChange:f,roundingStep:p,onRoundingStepChange:m})=>{const b=S=>Math.round(S/1.5/p)*p,y=S=>Math.round(S*1.5/p)*p;if(!n)return null;const v=(a==null?void 0:a.mark_price)??null,w=a!==null&&v!==null,_=w?b(v):null,x=w?y(v):null;return typeof document<"u"?Ka.createPortal(g.jsx("div",{className:"modal-overlay",onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:g.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),style:{background:"rgba(20, 20, 30, 0.95)",borderRadius:"12px",padding:0,minWidth:"400px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"},children:[g.jsx("div",{className:"modal-header",style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:g.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:600,color:"rgba(255, 255, 255, 0.9)"},children:"Price Range Configuration"})}),g.jsx("div",{className:"modal-body",style:{padding:"2rem 1.5rem"},children:g.jsxs("div",{className:"trading-test-price-range-controls",children:[g.jsxs("div",{children:[g.jsxs("label",{children:["Rounding Step ($):",g.jsx("input",{type:"number",value:p,onChange:S=>m(Math.max(1,parseFloat(S.target.value)||100)),min:1,step:10,className:"trading-test-input"})]}),g.jsxs("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:["Prices will be rounded to the nearest $",p]})]}),g.jsxs("div",{children:[g.jsxs("label",{children:["Min Price (USDC):",g.jsx("input",{type:"number",value:r,onChange:S=>{s(parseFloat(S.target.value)||1e4)},min:1e3,max:i-1e3,className:"trading-test-input",disabled:!w,title:w?`Auto-managed by mark price (mark price / 1.5, rounded to $${p})`:"Enter min price manually"})]}),w&&_!==null&&v!==null&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:l?g.jsxs(g.Fragment,{children:["Manual override (Auto:"," ",v.toLocaleString()," / 1.5 ="," ",_.toLocaleString(),")"]}):g.jsxs(g.Fragment,{children:["Auto: ",v.toLocaleString()," / 1.5 ="," ",r.toLocaleString()]})})]}),g.jsxs("div",{children:[g.jsxs("label",{children:["Max Price (USDC):",g.jsx("input",{type:"number",value:i,onChange:S=>{o(parseFloat(S.target.value)||1e5)},min:r+1e3,max:1e6,className:"trading-test-input",disabled:!w,title:w?`Auto-managed by mark price (mark price  1.5, rounded to $${p})`:"Enter max price manually"})]}),w&&v!==null&&x!==null&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:l?g.jsxs(g.Fragment,{children:["Manual override (Auto:"," ",v.toLocaleString(),"  1.5 ="," ",x.toLocaleString(),")"]}):g.jsxs(g.Fragment,{children:["Auto: ",v.toLocaleString(),"  1.5 ="," ",i.toLocaleString()]})}),!w&&g.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:"Mark price not available. Enter prices manually."})]}),g.jsx("div",{children:g.jsxs("label",{children:["Order Mode:",g.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"trading-test-select",children:[g.jsx("option",{value:"random",children:"Random"}),g.jsx("option",{value:"curve",children:"Curve (Buy more at lower prices)"})]})]})}),u==="curve"&&g.jsx("div",{children:g.jsxs("label",{children:["Curve Intensity: ",h,g.jsx("input",{type:"range",value:h,onChange:S=>f(parseFloat(S.target.value)),min:1,max:5,step:.5,className:"trading-test-range"}),g.jsx("small",{children:"Higher = more aggressive buying at lower prices"})]})})]})}),g.jsxs("div",{className:"modal-footer",style:{padding:"1rem 1.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",gap:"1rem"},children:[l&&w&&g.jsx("button",{onClick:c,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(77, 171, 247, 0.2)",color:"rgba(255, 255, 255, 0.9)",cursor:"pointer"},children:"Reset to Auto"}),g.jsx("div",{style:{display:"flex",gap:"1rem",marginLeft:"auto"},children:g.jsx("button",{onClick:e,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)",cursor:"pointer"},children:"Close"})})]})]})}),document.body):null},hJe=({isOpen:n,onClose:e,testResults:r,onClearResults:i})=>{if(!n)return null;const s=r.filter(a=>a.success).length,o=r.filter(a=>!a.success).length;return typeof document<"u"?Ka.createPortal(g.jsx("div",{className:"test-results-modal-overlay",onClick:e,children:g.jsxs("div",{className:"test-results-modal-content",onClick:a=>a.stopPropagation(),children:[g.jsx("div",{className:"test-results-modal-header",children:g.jsx("h3",{children:"Batch Transaction Results"})}),g.jsxs("div",{className:"test-results-modal-body",children:[g.jsxs("div",{className:"test-results-modal-summary",children:[g.jsxs("div",{className:"test-results-modal-summary-text",children:[g.jsx("strong",{children:"Total:"})," ",r.length," |"," ",g.jsx("strong",{className:"success",children:"Success:"})," ",s," |"," ",g.jsx("strong",{className:"error",children:"Failed:"})," ",o]}),g.jsx("button",{onClick:i,className:"test-results-modal-clear-button",children:"Clear Results"})]}),g.jsx("div",{className:"test-results-modal-list",children:r.length===0?g.jsx("div",{className:"test-results-modal-empty",children:"No results to display"}):r.slice(-20).map((a,l)=>g.jsx("div",{className:`test-results-modal-item ${a.success?"success":"error"}`,children:g.jsxs("div",{className:"test-results-modal-item-content",children:[g.jsx("div",{className:"test-results-modal-item-header",children:g.jsxs("strong",{className:`test-results-modal-item-title ${a.success?"success":"error"}`,children:[a.success?"":""," Order @"," ",a.order.price.toFixed(2)," USDC"]})}),g.jsxs("div",{className:"test-results-modal-item-details",children:[g.jsxs("span",{children:["Amount: ",a.order.amount.toFixed(4)," BTC"]}),a.order.orderId&&g.jsxs("span",{children:["Order ID: ",a.order.orderId.substring(0,16),"..."]})]}),a.error&&g.jsxs("span",{className:"test-results-modal-error-text",children:["Error: ",a.error]})]})},l))})]}),g.jsx("div",{className:"test-results-modal-footer",children:g.jsx("button",{onClick:e,className:"test-results-modal-close-button",children:"Close"})})]})}),document.body):null},fJe=({onClick:n,disabled:e,orderMode:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-primary",style:{backgroundColor:e?"#ccc":"#007bff",cursor:e?"not-allowed":"pointer"},children:["Submit Test Orders (",r==="random"?"Random":"Curve-Based",")"]}),pJe=({onClick:n,disabled:e,orderCount:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-success",style:{backgroundColor:e?"#ccc":"#28a745",cursor:e?"not-allowed":"pointer"},children:["Submit Chart Orders (",r," orders)"]}),mJe=({onClick:n,disabled:e})=>g.jsx("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-secondary",style:{cursor:e?"not-allowed":"pointer"},children:"Reset Chart"}),gJe=({onClick:n,disabled:e,pendingCount:r})=>g.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-info",style:{backgroundColor:e?"#ccc":"#17a2b8",cursor:e?"not-allowed":"pointer"},children:["Load Pending Orders ",r>0&&`(${r})`]}),nA=({onClick:n,disabled:e,filter:r})=>{const i=r==="long"?"Cancel All Long":r==="short"?"Cancel All Short":"Cancel All Orders";return g.jsx("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-danger",style:{backgroundColor:e?"#ccc":"#dc3545",cursor:e?"not-allowed":"pointer"},children:i})};function bJe(){var rt,q,te,ve;const[n,e]=T.useState(_p),[r,i]=T.useState(""),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState(1e4),[d,h]=T.useState(1e5),[f,p]=T.useState(null),[m,b]=T.useState("random"),[y,v]=T.useState(2),[w,_]=T.useState("long"),[x,S]=T.useState([]),[C,E]=T.useState([]),[A,M]=T.useState([]),[I,O]=T.useState(!1),[F,$]=T.useState(!1),[z,R]=T.useState(100),[j,N]=T.useState(!1),D=T.useRef(null),H=T.useRef(null),U=T.useRef(n),X=T.useRef(0),{markets:Y}=Xl({baseURL:n,sessionToken:"",autoFetchMarkets:!0}),{mnemonic:ee,walletAddress:G,authToken:Z,setMnemonic:pe}=Su(),{client:re}=th(),{markPrice:le}=rE({subscriptionClient:re,baseURL:n,marketId:r||"",disablePolling:!0}),{buckets:ce}=M9({subscriptionClient:re,baseURL:n,authToken:a||"",walletAddress:G||"",refreshInterval:0,useWebSocket:!1,marketId:"0"}),[Pe,Ee]=T.useState(!1);T.useEffect(()=>{if(le!=null&&le.mark_price&&!Pe){const me=le.mark_price;if(!isNaN(me)&&me>1e3){const xe=Math.round(me*1.5/z)*z,fe=Math.round(me/1.5/z)*z;fe>0&&xe>fe&&(u(fe),h(xe))}}},[le==null?void 0:le.mark_price,Pe,z]),T.useEffect(()=>{ee&&o(ee),Z&&l(Z)},[ee,Z]);const{setAuthToken:V,setWalletAddress:Ae}=th();T.useEffect(()=>{V(a||void 0)},[a,V]),T.useEffect(()=>{Ae(G||void 0)},[G,Ae]);const Qe=Y.length>0?(((rt=Y.find(me=>me.active))==null?void 0:rt.market_id)??Y[0].market_id)||(((te=(q=Y.find(me=>me.active))==null?void 0:q.id)==null?void 0:te.toString())??((ve=Y[0].id)==null?void 0:ve.toString())??""):null;T.useEffect(()=>{Qe&&!r&&i(Qe)},[Qe]),T.useEffect(()=>{U.current=n},[n]),T.useEffect(()=>{s&&s.trim()!==""&&(D.current=new ah({baseURL:U.current,mnemonic:s}),D.current.initialize().catch(me=>{console.error("Failed to initialize ExchangeClient:",me)}))},[s,n]),T.useEffect(()=>{H.current=new Ir({baseURL:U.current})},[n]),T.useEffect(()=>{if(!r||!H.current)return;const me=async()=>{try{const fe=await H.current.getTicker(r);if(fe!=null&&fe.last_price){const K=typeof fe.last_price=="string"?parseFloat(fe.last_price):fe.last_price;p(K)}}catch(fe){console.error("Failed to fetch current price:",fe)}};me();const xe=setInterval(me,5e3);return()=>clearInterval(xe)},[r]);const st=T.useCallback(me=>{const xe=[];for(let fe=0;fe<me;fe++){const K=c+Math.random()*(d-c),he=.001+Math.random()*.01;xe.push({price:K,amount:he})}return xe.sort((fe,K)=>fe.price-K.price)},[c,d]),ze=T.useCallback(me=>{const xe=[],fe=d-c;for(let K=0;K<me;K++){const he=Math.random(),se=Math.pow(he,y),ke=c+se*fe,de=.001+(d-ke)/fe*.02;xe.push({price:ke,amount:de})}return xe.sort((K,he)=>K.price-he.price)},[c,d,y]),wt=T.useCallback(async()=>{if(!D.current||!r||!G){vt.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}if(!ce||ce.length===0){vt.error("No buckets available",{description:"Please create a bucket first before placing orders."});return}const xe=ce[0].bucketId;if(!xe){vt.error("Bucket ID not found",{description:"Bucket ID is required for order placement."});return}O(!0);const fe=[];try{const he=m==="random"?st(10):ze(10),se=vt.info("Submitting test orders",{description:`Submitting ${he.length} ${m} orders...`});X.current=typeof se=="number"?se:0;for(const Re of he){try{const _e=Cn("1"),Se=await D.current.placeOrder({marketId:r,bucketId:xe,side:w==="long"?"buy":"sell",orderType:"LIMIT",price:Re.price,quantity:Re.amount,timeInForce:"GTC",leverage:_e});fe.push({success:!0,order:{price:Re.price,amount:Re.amount,orderId:Se==null?void 0:Se.order_id},timestamp:Date.now()})}catch(de){fe.push({success:!1,order:{price:Re.price,amount:Re.amount},error:de.message,timestamp:Date.now()})}await new Promise(de=>setTimeout(de,200))}M(Re=>[...Re,...fe]),X.current!==0&&(vt.dismiss(X.current),X.current=0);const ke=fe.filter(Re=>Re.success).length;vt.success("Test orders submitted",{description:`${ke}/${fe.length} orders placed successfully.`}),N(!0)}catch(K){X.current!==0&&(vt.dismiss(X.current),X.current=0),vt.error("Test submission failed",{description:K.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,m,w,st,ze,ce]),qe=T.useCallback(async()=>{if(!D.current||!r||!G){vt.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}if(x.length===0){vt.warning("No chart orders",{description:"Please add orders to the chart first."});return}if(!ce||ce.length===0){vt.error("No buckets available",{description:"Please create a bucket first before placing orders."});return}const xe=ce[0].bucketId;if(!xe){vt.error("Bucket ID not found",{description:"Bucket ID is required for order placement."});return}O(!0);const fe=[];try{const K=vt.info("Submitting chart orders",{description:`Submitting ${x.length} chart orders...`});X.current=typeof K=="number"?K:0;for(const se of x){try{const Re=Cn("1"),de=await D.current.placeOrder({marketId:r,bucketId:xe,side:se.side==="short"||se.side==="sell"?"sell":"buy",orderType:"LIMIT",price:se.price,quantity:se.amount,timeInForce:"GTC",leverage:Re});fe.push({success:!0,order:{price:se.price,amount:se.amount,orderId:de==null?void 0:de.order_id},timestamp:Date.now()})}catch(ke){fe.push({success:!1,order:{price:se.price,amount:se.amount},error:ke.message,timestamp:Date.now()})}await new Promise(ke=>setTimeout(ke,200))}M(se=>[...se,...fe]),X.current!==0&&(vt.dismiss(X.current),X.current=0);const he=fe.filter(se=>se.success).length;vt.success("Chart orders submitted",{description:`${he}/${fe.length} orders placed successfully.`}),S([]),Ze(),N(!0)}catch(K){X.current!==0&&(vt.dismiss(X.current),X.current=0),vt.error("Chart order submission failed",{description:K.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,x,ce]),Je=T.useCallback(()=>{S([]),vt.info("Chart reset",{description:"All chart orders have been cleared."})},[]),yt=T.useCallback((me,xe)=>{const fe={price:me,amount:xe,id:`chart-${Date.now()}-${Math.random()}`,side:w};S(K=>[...K,fe])},[w]),ct=T.useCallback(me=>{S(xe=>xe.filter(fe=>fe.id!==me)),E(xe=>xe.filter(fe=>fe.id!==me))},[]),Ze=T.useCallback(async()=>{if(!H.current||!G||!r){vt.error("Setup required",{description:"Please ensure wallet address and market ID are configured."});return}try{vt.info("Loading pending orders...");const me=await H.current.getOrders(G),xe=(me==null?void 0:me.orders)||[];console.log(me);const fe=xe.filter(K=>{const he=K.market_id,se=(K.status||"").toUpperCase();return he===r&&["ORDER_STATUS_PENDING","ORDER_STATUS_OPEN","PENDING","OPEN","NEW","PARTIALLY_FILLED"].includes(se)}).map(K=>{const ke=(K.side||"").toUpperCase().includes("BUY")?"long":"short";return{price:Rt(K.price),amount:Rt(K.quantity),id:`pending-${K.order_id}`,side:ke,orderId:K.order_id,isPending:!0}});E(fe),vt.success("Pending orders loaded",{description:`Loaded ${fe.length} pending orders.`})}catch(me){vt.error("Failed to load pending orders",{description:me.message||"Unknown error occurred"})}},[G,r]),Ve=T.useCallback(async me=>{if(!D.current||!H.current||!r||!G){vt.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}try{const xe=await H.current.getOrders(G),K=((xe==null?void 0:xe.orders)||[]).filter(ke=>{const Re=ke.market_id,de=(ke.status||"").toUpperCase();if(Re!==r||!["ORDER_STATUS_PENDING","ORDER_STATUS_OPEN","PENDING","OPEN","NEW","PARTIALLY_FILLED"].includes(de))return!1;if(me==="all")return!0;const Se=(ke.side||"").toUpperCase(),ae=Se.includes("BUY"),ie=Se.includes("SELL");return me==="long"?ae:me==="short"?ie:!1});if(K.length===0){vt.info("No orders to cancel",{description:`No ${me} pending orders found.`});return}O(!0),vt.info("Canceling orders",{description:`Canceling ${K.length} ${me} orders...`});let he=0,se=0;for(const ke of K){try{const Re=ke.order_id;await D.current.cancelOrder({orderId:Re,marketId:r}),he++}catch(Re){se++,console.error("Failed to cancel order:",Re)}await new Promise(Re=>setTimeout(Re,100))}await Ze(),vt.success("Orders canceled",{description:`${he} orders canceled successfully${se>0?`, ${se} failed`:""}.`})}catch(xe){vt.error("Failed to cancel orders",{description:xe.message||"Unknown error occurred"})}finally{O(!1)}},[r,G,Ze]);return g.jsxs("div",{className:"App-content-row",children:[g.jsx("h1",{children:"Trading QA"}),g.jsx("p",{children:"Advanced trading test with price range, interactive chart, and multiple submission modes"}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Configuration"}),g.jsxs("div",{className:"trading-test-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:me=>e(me.target.value),className:"trading-test-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Market:",g.jsx("select",{value:r||"",onChange:me=>i(me.target.value),className:"trading-test-select",children:Y.length===0?g.jsx("option",{value:"",children:"Loading markets..."}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),Y.map(me=>{var K;const xe=me.market_id??((K=me.id)==null?void 0:K.toString())??"",fe=me.moniker?me.moniker:me.symbol?me.symbol:`Market ID: ${xe}`;return g.jsx("option",{value:xe,children:fe},xe)})]})})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic:",g.jsx("input",{type:"text",value:s,onChange:me=>{o(me.target.value),pe(me.target.value)},placeholder:"Enter mnemonic",className:"trading-test-input"})]})}),f&&g.jsxs("div",{className:"trading-test-price-display",children:[g.jsx("strong",{children:"Current Price:"})," ",f.toLocaleString()," ","USDC"]})]})]}),g.jsxs("div",{className:"trading-test-tabs",children:[g.jsx("button",{className:`trading-test-tab ${w==="long"?"active":""}`,onClick:()=>_("long"),children:"Long (Buy)"}),g.jsx("button",{className:`trading-test-tab ${w==="short"?"active":""}`,onClick:()=>_("short"),children:"Short (Sell)"})]}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Interactive Price-Amount Chart"}),g.jsx("div",{className:"trading-test-chart-controls",children:g.jsxs("div",{className:"trading-test-chart-info",children:[g.jsxs("span",{children:["Orders on chart: ",x.length]}),g.jsxs("span",{onClick:()=>$(!0),style:{cursor:"pointer",textDecoration:"underline"},title:"Click to configure price range",children:["Price range: ",c.toLocaleString()," -"," ",d.toLocaleString()," USDC"]})]})}),g.jsx(uJe,{minPrice:c,maxPrice:d,orders:x,pendingOrders:C,onAddOrder:yt,onRemoveOrder:ct,currentPrice:f,markPrice:le!=null&&le.mark_price?le.mark_price:null}),g.jsxs("div",{className:"price-amount-chart-instructions",children:[g.jsx("p",{children:"Click on the chart to add orders. Click on existing orders to remove them."}),g.jsx("p",{children:"Y-axis: Price (USDC) | X-axis: Amount (BTC)"})]})]}),g.jsxs("div",{className:"App-section",children:[g.jsx("h2",{children:"Order Submission"}),g.jsxs("div",{className:"trading-test-submission-buttons",children:[g.jsx(mJe,{onClick:Je,disabled:x.length===0}),g.jsx(fJe,{onClick:wt,disabled:I||!r||!G,orderMode:m}),g.jsx(pJe,{onClick:qe,disabled:I||x.length===0||!r||!G,orderCount:x.length})]}),g.jsx("h2",{children:"Pending Orders Management"}),g.jsxs("div",{className:"trading-test-pending-orders-controls",children:[g.jsx(gJe,{onClick:Ze,disabled:!r||!G,pendingCount:C.length}),g.jsxs("div",{className:"trading-test-cancel-buttons",children:[g.jsx(nA,{onClick:()=>Ve("long"),disabled:I||!r||!G,filter:"long"}),g.jsx(nA,{onClick:()=>Ve("short"),disabled:I||!r||!G,filter:"short"}),g.jsx(nA,{onClick:()=>Ve("all"),disabled:I||!r||!G,filter:"all"})]})]})]}),A.length>0&&g.jsxs("div",{className:"trading-test-results",style:{display:"none"},children:[g.jsx("h2",{children:"Test Results"}),g.jsxs("div",{className:"trading-test-results-summary",children:[g.jsxs("div",{children:["Total: ",A.length," | Success:"," ",A.filter(me=>me.success).length," | Failed:"," ",A.filter(me=>!me.success).length]}),g.jsx("button",{onClick:()=>M([]),className:"trading-test-button-secondary",children:"Clear Results"})]}),g.jsx("div",{className:"trading-test-results-list",children:A.slice(-20).map((me,xe)=>g.jsx("div",{className:`trading-test-result-item ${me.success?"success":"error"}`,children:g.jsxs("div",{children:[g.jsxs("strong",{children:[me.success?"":""," Order @"," ",me.order.price.toFixed(2)," USDC"]}),g.jsxs("span",{children:["Amount: ",me.order.amount.toFixed(4)," BTC"]}),me.order.orderId&&g.jsxs("span",{children:["Order ID: ",me.order.orderId.substring(0,16),"..."]}),me.error&&g.jsx("span",{className:"error-text",children:me.error})]})},xe))})]}),g.jsx(dJe,{isOpen:F,onClose:()=>$(!1),minPrice:c,maxPrice:d,onMinPriceChange:me=>{u(me),Ee(!0)},onMaxPriceChange:me=>{h(me),Ee(!0)},markPrice:le||null,hasManualPriceChange:Pe,onResetToAuto:()=>{if(le!=null&&le.mark_price){const me=le.mark_price;if(!isNaN(me)&&me>1e3){Ee(!1);const xe=Math.round(me*1.5/z)*z,fe=Math.round(me/1.5/z)*z;fe>0&&xe>fe&&(u(fe),h(xe))}}},orderMode:m,onOrderModeChange:b,curveIntensity:y,onCurveIntensityChange:v,roundingStep:z,onRoundingStepChange:R}),g.jsx(hJe,{isOpen:j,onClose:()=>N(!1),testResults:A,onClearResults:()=>{M([]),N(!1)}})]})}function yJe(){return g.jsx(R9,{defaultWsURL:lh,children:g.jsx(bJe,{})})}const U_=[{symbol:"ETH",name:"Ethereum",address:"ETH",decimals:18},{symbol:"BTC",name:"Bitcoin",address:"BTC",decimals:8},{symbol:"USDC",name:"USD Coin",address:"USDC",decimals:6},{symbol:"USDT",name:"Tether",address:"USDT",decimals:6},{symbol:"DAI",name:"Dai Stablecoin",address:"DAI",decimals:18}];function vJe(){const[n,e]=T.useState(_p),[r,i]=T.useState(U_[0]),[s,o]=T.useState(U_[2]),[a,l]=T.useState(""),[c,u]=T.useState(""),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[m,b]=T.useState(!1),[y,v]=T.useState(.5),[w,_]=T.useState(null),[x,S]=T.useState(""),C=T.useRef(null),E=T.useRef(n),{mnemonic:A,walletAddress:M,setMnemonic:I}=Su();T.useEffect(()=>{E.current=n},[n]),T.useEffect(()=>{A&&A.trim()!==""&&(C.current=new ah({baseURL:E.current,mnemonic:A}),C.current.initialize().catch(R=>{console.error("Failed to initialize ExchangeClient:",R)}))},[A,n]),T.useEffect(()=>{if(a&&parseFloat(a)>0&&r&&s){const j=parseFloat(a)*1;u(j.toFixed(6)),S(`1 ${r.symbol} = ${1 .toFixed(4)} ${s.symbol}`),_(.1)}else u(""),S(""),_(null)},[a,r,s]);const O=T.useCallback(()=>{const R=r;i(s),o(R);const j=a;l(c),u(j)},[r,s,a,c]),F=T.useCallback(async()=>{if(!C.current||!r||!s||!a){vt.error("Setup required",{description:"Please ensure mnemonic and swap details are configured."});return}if(parseFloat(a)<=0){vt.error("Invalid amount",{description:"Please enter a valid amount to swap."});return}if(!M){vt.error("Wallet required",{description:"Please connect your wallet first."});return}b(!0);try{const R=parseFloat(a),N=parseFloat(c)*(1-y/100),D=vt.info("Swapping tokens",{description:`Swapping ${a} ${r.symbol} for ${s.symbol}...`});await C.current.swap({fromToken:r.address,toToken:s.address,amountIn:R,minAmountOut:N}),vt.dismiss(D),vt.success("Swap successful",{description:`Successfully swapped ${a} ${r.symbol} for ${s.symbol}`}),l(""),u("")}catch(R){vt.error("Swap failed",{description:R.message||"Unknown error occurred"})}finally{b(!1)}},[r,s,a,c,y,M]),$=T.useMemo(()=>!!r&&!!s&&!!a&&parseFloat(a)>0&&!!M&&!m&&r.symbol!==s.symbol,[r,s,a,M,m]),z=R=>({ETH:"",BTC:"",USDC:"$",USDT:"$",DAI:""})[R]||"";return g.jsxs("div",{className:"App-content-row",children:[g.jsxs("div",{className:"swap-test-header",children:[g.jsx("h1",{children:"Swap"}),g.jsx("p",{className:"swap-test-subtitle",children:"Swap anytime, anywhere"})]}),g.jsxs("div",{className:"App-section swap-config-section",children:[g.jsx("h3",{children:"Configuration"}),g.jsxs("div",{className:"swap-config-grid",children:[g.jsx("div",{children:g.jsxs("label",{children:["HTTP Base URL:",g.jsx("input",{type:"text",value:n,onChange:R=>e(R.target.value),className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Mnemonic:",g.jsx("input",{type:"text",value:A||"",onChange:R=>I(R.target.value),placeholder:"Enter mnemonic",className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Wallet Address:",g.jsx("input",{type:"text",value:M||"",disabled:!0,placeholder:"Auto-generated from mnemonic",className:"swap-input"})]})}),g.jsx("div",{children:g.jsxs("label",{children:["Slippage Tolerance (%):",g.jsx("input",{type:"number",value:y,onChange:R=>v(parseFloat(R.target.value)||.5),min:"0",max:"50",step:"0.1",className:"swap-input"})]})})]})]}),g.jsxs("div",{className:"swap-container",children:[g.jsxs("div",{className:"swap-card",children:[g.jsxs("div",{className:"swap-token-section",children:[g.jsx("div",{className:"swap-token-label",children:"Sell"}),g.jsxs("div",{className:"swap-token-input-group",children:[g.jsx("input",{type:"number",className:"swap-amount-input",placeholder:"0",value:a,onChange:R=>l(R.target.value),min:"0",step:"any"}),g.jsxs("div",{className:"swap-token-selector-wrapper",children:[g.jsx("button",{className:"swap-token-selector",onClick:()=>{h(!d),p(!1)},children:r?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"swap-token-icon",children:z(r.symbol)}),g.jsx("span",{className:"swap-token-symbol",children:r.symbol}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Select token"}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]})}),d&&g.jsx("div",{className:"swap-token-dropdown",children:U_.map(R=>g.jsxs("button",{className:"swap-token-option",onClick:()=>{R.address===(s==null?void 0:s.address)?O():(i(R),h(!1))},children:[g.jsx("span",{className:"swap-token-icon",children:z(R.symbol)}),g.jsxs("div",{className:"swap-token-option-info",children:[g.jsx("span",{className:"swap-token-option-symbol",children:R.symbol}),g.jsx("span",{className:"swap-token-option-name",children:R.name})]})]},R.address))})]})]}),a&&parseFloat(a)>0&&g.jsxs("div",{className:"swap-token-value",children:["$",(parseFloat(a)*1).toFixed(2)]})]}),g.jsx("div",{className:"swap-button-container",children:g.jsx("button",{className:"swap-button-middle",onClick:O,"aria-label":"Swap tokens",children:g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M4 6L8 2L12 6M12 10L8 14L4 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),g.jsxs("div",{className:"swap-token-section",children:[g.jsx("div",{className:"swap-token-label",children:"Buy"}),g.jsxs("div",{className:"swap-token-input-group",children:[g.jsx("input",{type:"number",className:"swap-amount-input",placeholder:"0",value:c,onChange:R=>u(R.target.value),min:"0",step:"any",readOnly:!0}),g.jsxs("div",{className:"swap-token-selector-wrapper",children:[g.jsx("button",{className:"swap-token-selector",onClick:()=>{p(!f),h(!1)},children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"swap-token-icon",children:z(s.symbol)}),g.jsx("span",{className:"swap-token-symbol",children:s.symbol}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Select token"}),g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]})}),f&&g.jsx("div",{className:"swap-token-dropdown",children:U_.map(R=>g.jsxs("button",{className:"swap-token-option",onClick:()=>{R.address===(r==null?void 0:r.address)?O():(o(R),p(!1))},children:[g.jsx("span",{className:"swap-token-icon",children:z(R.symbol)}),g.jsxs("div",{className:"swap-token-option-info",children:[g.jsx("span",{className:"swap-token-option-symbol",children:R.symbol}),g.jsx("span",{className:"swap-token-option-name",children:R.name})]})]},R.address))})]})]}),c&&parseFloat(c)>0&&g.jsxs("div",{className:"swap-token-value",children:["$",(parseFloat(c)*1).toFixed(2)]})]}),x&&g.jsxs("div",{className:"swap-info",children:[g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Exchange Rate"}),g.jsx("span",{children:x})]}),w!==null&&g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Price Impact"}),g.jsxs("span",{className:w>1?"swap-warning":"",children:[w.toFixed(2),"%"]})]}),g.jsxs("div",{className:"swap-info-row",children:[g.jsx("span",{children:"Slippage Tolerance"}),g.jsxs("span",{children:[y,"%"]})]})]}),g.jsx("button",{className:"swap-button-primary",onClick:F,disabled:!$,children:M?m?"Swapping...":(r==null?void 0:r.symbol)===(s==null?void 0:s.symbol)?"Select different tokens":!a||parseFloat(a)<=0?"Enter amount":"Swap":"Connect Wallet"})]}),g.jsx("div",{className:"swap-footer",children:g.jsx("p",{children:"Buy and sell crypto on 16+ networks including"})})]})]})}const Xu=({onClick:n,disabled:e=!1,variant:r="primary",children:i})=>g.jsx("button",{className:`explorer-button ${r}`,onClick:n,disabled:e,children:i}),wJe=({wsURL:n,setWsURL:e,authToken:r,setAuthToken:i,deviceID:s,setDeviceID:o,shardId:a,setShardId:l,eventType:c,setEventType:u,txAddress:d,setTxAddress:h,txHash:f,setTxHash:p,txTypes:m,setTxTypes:b,txEventTypes:y,setTxEventTypes:v})=>g.jsxs("div",{className:"config-section",children:[g.jsx("h3",{children:"Configuration"}),g.jsxs("div",{className:"config-grid",children:[g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"ws-url",children:"WebSocket URL"}),g.jsx("input",{id:"ws-url",type:"text",value:n,onChange:w=>e(w.target.value),placeholder:"ws://localhost:8080/ws"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"auth-token",children:"Auth Token (optional)"}),g.jsx("input",{id:"auth-token",type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"JWT token"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"device-id",children:"Device ID"}),g.jsx("input",{id:"device-id",type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"device-id"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"shard-id",children:"Shard ID (optional filter)"}),g.jsx("input",{id:"shard-id",type:"text",value:a,onChange:w=>l(w.target.value),placeholder:"e.g., 1, 2, 3"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"event-type",children:"Event Type (optional filter for consensus_flat)"}),g.jsx("input",{id:"event-type",type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"e.g., new_vertex, new_tx, validator_update"})]})]}),g.jsxs("div",{className:"config-section-divider",children:[g.jsx("h4",{children:"Transaction Channel Filters"}),g.jsxs("div",{className:"config-grid",children:[g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-address",children:"Address (optional filter)"}),g.jsx("input",{id:"tx-address",type:"text",value:d,onChange:w=>h(w.target.value),placeholder:"0x..."})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-hash",children:"Transaction Hash (optional filter)"}),g.jsx("input",{id:"tx-hash",type:"text",value:f,onChange:w=>p(w.target.value),placeholder:"0x..."})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-types",children:"Transaction Types (optional filter)"}),g.jsx("input",{id:"tx-types",type:"text",value:m,onChange:w=>b(w.target.value),placeholder:"e.g., order, transfer, deposit (comma-separated)"})]}),g.jsxs("div",{className:"config-item",children:[g.jsx("label",{htmlFor:"tx-event-types",children:"Event Types (optional filter)"}),g.jsx("input",{id:"tx-event-types",type:"text",value:y,onChange:w=>v(w.target.value),placeholder:"e.g., new_tx, tx_confirmed (comma-separated)"})]})]})]})]}),xJe=({message:n})=>{const{event:e,timestamp:r,type:i,eventSource:s}=n,o=u=>"data"in u&&u.data&&typeof u.data=="object"&&("hash"in u.data||"txhash"in u.data),a=u=>"data"in u&&u.data&&typeof u.data=="object"&&"type"in u.data,l=()=>{if(o(e))return g.jsx(EJe,{event:e});if(a(e)){const{data:u}=e;switch(u.type){case"vertex":return g.jsx(_Je,{data:u});case"tx":return g.jsx(SJe,{data:u});case"unconfirmed_tx":return g.jsx(kJe,{data:u});case"validator":return g.jsx(CJe,{data:u});default:return g.jsx(BG,{data:u})}}return g.jsx(BG,{data:e})},c=o(e)?e.source_shard||"unknown":e.source_shard;return g.jsxs("div",{className:`consensus-event-item ${i}`,children:[g.jsx("div",{className:"event-header",children:g.jsxs("div",{className:"event-meta",children:[g.jsx("span",{className:"event-type-badge",children:e.event_type}),s&&g.jsx("span",{className:"event-source-badge",children:s}),g.jsx("span",{className:"event-time",children:new Date(r).toLocaleString()}),g.jsxs("span",{className:"event-shard",children:["Shard: ",c]})]})}),g.jsxs("div",{className:"event-body",children:[a(e)&&g.jsxs("div",{className:"event-data-type",children:[g.jsx("strong",{children:"Data Type:"})," ",e.data.type]}),l(),g.jsxs("details",{className:"raw-data-details",children:[g.jsx("summary",{children:"View Raw JSON"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(e,null,2)})]})]})]})},_Je=({data:n})=>g.jsxs("div",{className:"event-details vertex-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"ID:"}),g.jsx("span",{className:"detail-value",children:n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]}),n.parent_ids&&n.parent_ids.length>0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parent IDs:"}),g.jsx("span",{className:"detail-value",children:n.parent_ids.join(", ")})]}),n.tx_count!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Count:"}),g.jsx("span",{className:"detail-value",children:n.tx_count})]}),n.state_root&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"State Root:"}),g.jsx("span",{className:"detail-value",children:n.state_root})]}),n.qc_achieved!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"QC Achieved:"}),g.jsx("span",{className:"detail-value",children:n.qc_achieved?"Yes":"No"})]}),n.qc_vote_count!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"QC Vote Count:"}),g.jsx("span",{className:"detail-value",children:n.qc_vote_count})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),SJe=({data:n})=>g.jsxs("div",{className:"event-details tx-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Hash:"}),g.jsx("span",{className:"detail-value",children:n.txhash||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]}),n.from_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"From:"}),g.jsx("span",{className:"detail-value",children:n.from_address})]}),n.to_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"To:"}),g.jsx("span",{className:"detail-value",children:n.to_address})]}),n.amount&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Amount:"}),g.jsx("span",{className:"detail-value",children:n.amount})]}),n.tx_type&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Type:"}),g.jsx("span",{className:"detail-value",children:n.tx_type})]}),n.nonce!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Nonce:"}),g.jsx("span",{className:"detail-value",children:n.nonce})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),kJe=({data:n})=>g.jsxs("div",{className:"event-details unconfirmed-tx-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"TX Hash:"}),g.jsx("span",{className:"detail-value",children:n.txhash||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value status-pending",children:n.status})]}),n.from_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"From:"}),g.jsx("span",{className:"detail-value",children:n.from_address})]}),n.to_address&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"To:"}),g.jsx("span",{className:"detail-value",children:n.to_address})]}),n.amount&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Amount:"}),g.jsx("span",{className:"detail-value",children:n.amount})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),CJe=({data:n})=>g.jsxs("div",{className:"event-details validator-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Validator ID:"}),g.jsx("span",{className:"detail-value",children:n.validator_id||n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:n.shard_id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.validator_status||n.status})]}),n.voting_power!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Voting Power:"}),g.jsx("span",{className:"detail-value",children:n.voting_power})]}),n.public_key&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Public Key:"}),g.jsx("span",{className:"detail-value public-key",children:n.public_key})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),EJe=({event:n})=>{const{data:e}=n;return g.jsxs("div",{className:"event-details transaction-event-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Hash:"}),g.jsx("span",{className:"detail-value",children:e.hash||e.txhash||"N/A"})]}),e.vertex_hash&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Vertex Hash:"}),g.jsx("span",{className:"detail-value",children:e.vertex_hash})]}),e.status&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:e.status})]}),e.shard_id!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:e.shard_id})]}),e.dag_depth!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"DAG Depth:"}),g.jsx("span",{className:"detail-value",children:e.dag_depth})]}),e.consensus_round!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Consensus Round:"}),g.jsx("span",{className:"detail-value",children:e.consensus_round})]}),e.code!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Code:"}),g.jsx("span",{className:"detail-value",children:e.code})]}),e.info&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Info:"}),g.jsx("span",{className:"detail-value",children:e.info})]}),e.raw_log&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Raw Log:"}),g.jsx("span",{className:"detail-value",children:e.raw_log})]}),e.transaction_index!==void 0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Transaction Index:"}),g.jsx("span",{className:"detail-value",children:e.transaction_index})]}),e.consensus_version&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Consensus Version:"}),g.jsx("span",{className:"detail-value",children:e.consensus_version})]}),e.parent_vertices&&e.parent_vertices.length>0&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parent Vertices:"}),g.jsx("span",{className:"detail-value",children:e.parent_vertices.join(", ")})]}),n.event_time&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Event Time:"}),g.jsx("span",{className:"detail-value",children:typeof n.event_time=="number"?new Date(n.event_time*1e3).toLocaleString():typeof n.event_time=="object"&&"seconds"in n.event_time?new Date(n.event_time.seconds*1e3).toLocaleString():"N/A"})]})]})},BG=({data:n})=>g.jsxs("div",{className:"event-details generic-details",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"ID:"}),g.jsx("span",{className:"detail-value",children:n.id})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Type:"}),g.jsx("span",{className:"detail-value",children:n.type})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Status:"}),g.jsx("span",{className:"detail-value",children:n.status})]})]}),AJe=({isOpen:n,onClose:e,event:r})=>(T.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),T.useEffect(()=>{const i=s=>{s.key==="Escape"&&n&&e()};return n&&window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[n,e]),!n||!r?null:typeof document<"u"?Ka.createPortal(g.jsx("div",{className:"event-modal-overlay",onClick:e,children:g.jsxs("div",{className:"event-modal",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"event-modal-header",children:[g.jsx("h3",{className:"event-modal-title",children:"Event Details"}),g.jsx("button",{className:"event-modal-close-button",onClick:e,children:""})]}),g.jsx("div",{className:"event-modal-body",children:g.jsx(xJe,{message:r})})]})}),document.body):null),TJe=n=>{if("data"in n&&n.data&&typeof n.data=="object"){const e=n.data;if("hash"in e&&e.hash)return e.hash;if("txhash"in e&&e.txhash)return e.txhash;if("id"in e&&e.id)return e.id}if("data"in n&&n.data&&typeof n.data=="object"){const e=n.data;if("id"in e&&e.id)return e.id;if("txhash"in e&&e.txhash)return e.txhash}return"N/A"},PJe=({events:n})=>{const[e,r]=T.useState(null),[i,s]=T.useState(!1),o=l=>{r(l),s(!0)},a=()=>{s(!1),r(null)};return n.length===0?g.jsx("div",{className:"consensus-event-list empty",children:g.jsx("p",{children:"No events received yet. Connect and subscribe to start receiving consensus events."})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"consensus-event-list",children:[g.jsx("div",{className:"event-list-header",children:g.jsxs("h3",{children:["Consensus Events (",n.length,")"]})}),g.jsxs("div",{className:"event-list-table",children:[g.jsxs("div",{className:"event-list-table-header",children:[g.jsx("div",{className:"event-list-table-cell hash-column",children:"Hash"}),g.jsx("div",{className:"event-list-table-cell time-column",children:"Time"}),g.jsx("div",{className:"event-list-table-cell type-column",children:"Type"})]}),g.jsx("div",{className:"event-list-table-body",children:n.map(l=>{const c=TJe(l.event),u=new Date(l.timestamp).toLocaleString(),d=l.event.event_type||"unknown";return g.jsxs("div",{className:"event-list-table-row",onClick:()=>o(l),children:[g.jsx("div",{className:"event-list-table-cell hash-column",title:c,children:c.length>20?`${c.substring(0,20)}...`:c}),g.jsx("div",{className:"event-list-table-cell time-column",children:u}),g.jsx("div",{className:"event-list-table-cell type-column",children:g.jsx("span",{className:`event-type-badge ${l.type}`,children:d})})]},l.id)})})]})]}),g.jsx(AJe,{isOpen:i,onClose:a,event:e})]})};function IJe(n){return n.type==="vertex"}function LG(n){return n.type==="tx"}function MJe(n){return n.type==="unconfirmed_tx"}function FG(){return{vertexMap:new Map,txMap:new Map,parentToChildren:new Map,orphanMap:new Map}}function $G(n){n.vertexMap.clear(),n.txMap.clear(),n.parentToChildren.clear(),n.orphanMap.clear()}const OJe=3e4,DJe=1e3;function RJe(n,e){var r;for(const[i,s]of e.orphanMap.entries())(r=s.parent_ids)!=null&&r.includes(n.id)&&(e.parentToChildren.has(n.id)||e.parentToChildren.set(n.id,new Set),e.parentToChildren.get(n.id).add(i),e.orphanMap.delete(i));if(n.parent_ids&&n.parent_ids.length>0&&!n.parent_ids.every(s=>e.vertexMap.has(s))){if(e.orphanMap.size>=DJe){const s=e.orphanMap.keys().next().value;s&&(e.orphanMap.delete(s),console.warn(`[dagUtils] Orphan buffer full, evicted: ${s}`))}e.orphanMap.set(n.id,n),console.warn(`[dagUtils] Orphaned vertex detected: ${n.id}`)}}function NJe(n,e=OJe){for(const[r]of n.orphanMap.entries())console.warn(`[dagUtils] Orphan timeout: ${r} - marking as missing parent`),n.orphanMap.delete(r)}const jJe=3e4;function BJe(n,e,r){const i=jJe;let s=null;for(const[o,a]of r.vertexMap.entries()){if(a.shardId!==n.shard_id)continue;const l=Math.abs(a.timestamp-e);l<i&&(!s||l<s.timeDiff)&&(s={vertexId:o,timeDiff:l})}return(s==null?void 0:s.vertexId)||null}function LJe(n,e){const{data:r,event_time:i}=n;if(IJe(r)){const s=r.parent_ids||[],o={id:r.id,type:"vertex",timestamp:i||r.timestamp,parents:s,children:[],data:r,shardId:r.shard_id};e.vertexMap.set(r.id,o),s.forEach(l=>{e.parentToChildren.has(l)||e.parentToChildren.set(l,new Set),e.parentToChildren.get(l).add(r.id)});const a=e.parentToChildren.get(r.id);return a&&(o.children=Array.from(a)),RJe(r,e),o}else if(LG(r)||MJe(r)){const s={id:r.id||r.txhash||`tx-${Date.now()}`,type:LG(r)?"tx":"unconfirmed_tx",timestamp:i||r.timestamp,parents:[],children:[],data:r,shardId:r.shard_id};e.txMap.set(s.id,s);const o=BJe(r,s.timestamp,e);if(o){const a=e.vertexMap.get(o);a&&(s.vertexId=o,s.parents=a.parents)}return s}return null}function FJe(n){for(const e of[...n.vertexMap.values(),...n.txMap.values()]){const r=n.parentToChildren.get(e.id);e.children=r?Array.from(r):[]}}function $Je(n,e){const r=LJe(n,e);return r?(FJe(e),{id:r.id,timestamp:r.timestamp,parents:r.parents,children:r.children,data:r.data,nodeType:r.type,shardId:r.shardId}):null}class zJe{constructor(e=500){$e(this,"timeoutId",null);$e(this,"accumulatedMessages",[]);$e(this,"waitMs");this.waitMs=e}add(e,r,i){this.accumulatedMessages.push(...e),this.timeoutId!==null&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{const s=this.accumulatedMessages.map(o=>$Je(o,r)).filter(o=>o!==null);this.accumulatedMessages=[],i(s),this.timeoutId=null},this.waitMs)}cancel(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.accumulatedMessages=[]}}const UJe=new zJe(500);function WJe(n,e,r){UJe.add(n,e,r)}function qJe(n){const e=new Map,r=i=>{if(e.has(i.id))return e.get(i.id);if(i.parents.length===0)return e.set(i.id,"root"),"root";const o=i.parents.map(a=>{const l=n.find(c=>c.id===a);return l?e.get(a)||r(l):null}).filter(a=>a!==null).join("-")||"root";return e.set(i.id,o),o};return n.map(i=>{const s=r(i),o=i.nodeType==="vertex"?"V":i.nodeType==="tx"?"TX":"UTX",a=i.id.length>8?i.id.slice(0,8)+"...":i.id;return{id:i.id,content:`${o} ${a}`,start:new Date(i.timestamp*1e3),group:s,title:`${i.nodeType} | Parents: ${i.parents.length} | Children: ${i.children.length} | Shard: ${i.shardId}`,className:`dag-node-${i.nodeType}`}})}function HJe(n,e,r=5){if(!e)return n.length>100?{nodes:[],links:[]}:{nodes:n.map(c=>({id:c.id,label:`${c.nodeType==="vertex"?"V":"TX"} ${c.id.slice(0,8)}`,type:c.nodeType,shardId:c.shardId})),links:n.flatMap(c=>c.children.map(u=>({source:c.id,target:u})))};const i=new Set,s=[{id:e,depth:0}],o=[],a=[],l=new Set;for(;s.length>0;){const{id:c,depth:u}=s.shift();if(i.has(c)||u>r)continue;i.add(c);const d=n.find(h=>h.id===c);if(d){if(!l.has(c)){const h=d.nodeType==="vertex"?"V":"TX",f=d.id.length>8?d.id.slice(0,8)+"...":d.id;o.push({id:d.id,label:`${h} ${f}`,type:d.nodeType,shardId:d.shardId}),l.add(c)}d.children.forEach(h=>{a.push({source:c,target:h}),i.has(h)||s.push({id:h,depth:u+1})}),d.parents.forEach(h=>{if(a.push({source:h,target:c}),!l.has(h)){const f=n.find(p=>p.id===h);if(f){const p=f.nodeType==="vertex"?"V":"TX",m=f.id.length>8?f.id.slice(0,8)+"...":f.id;o.push({id:f.id,label:`${p} ${m}`,type:f.nodeType,shardId:f.shardId}),l.add(h)}}i.has(h)||s.push({id:h,depth:u+1})})}}return{nodes:o,links:a}}/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.5.0
 * @date    2025-12-12T13:44:42.806Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function xs(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var VJe=`.vis .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Must be displayed above for example selected Timeline items */
  z-index: 10;
}

.vis-active {
  box-shadow: 0 0 10px #86d5f8;
}
`;xs(VJe);var GJe=`/* override some bootstrap styles screwing up the timelines css */

.vis [class*="span"] {
  min-height: 0;
  width: auto;
}
`;xs(GJe);var YJe=`div.vis-configuration {
  position: relative;
  display: block;
  float: left;
  font-size: 12px;
}

div.vis-configuration-wrapper {
  display: block;
  width: 700px;
}

div.vis-configuration-wrapper::after {
  clear: both;
  content: "";
  display: block;
}

div.vis-configuration.vis-config-option-container {
  display: block;
  width: 495px;
  background-color: #ffffff;
  border: 2px solid #f7f8fa;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
}

div.vis-configuration.vis-config-button {
  display: block;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
  background-color: #f7f8fa;
  border: 2px solid #ceced0;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
  cursor: pointer;
  margin-bottom: 30px;
}

div.vis-configuration.vis-config-button.hover {
  background-color: #4588e6;
  border: 2px solid #214373;
  color: #ffffff;
}

div.vis-configuration.vis-config-item {
  display: block;
  float: left;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
}

div.vis-configuration.vis-config-item.vis-config-s2 {
  left: 10px;
  background-color: #f7f8fa;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s3 {
  left: 20px;
  background-color: #e4e9f0;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s4 {
  left: 30px;
  background-color: #cfd8e6;
  padding-left: 5px;
  border-radius: 3px;
}

div.vis-configuration.vis-config-header {
  font-size: 18px;
  font-weight: bold;
}

div.vis-configuration.vis-config-label {
  width: 120px;
  height: 25px;
  line-height: 25px;
}

div.vis-configuration.vis-config-label.vis-config-s3 {
  width: 110px;
}
div.vis-configuration.vis-config-label.vis-config-s4 {
  width: 100px;
}

div.vis-configuration.vis-config-colorBlock {
  top: 1px;
  width: 30px;
  height: 19px;
  border: 1px solid #444444;
  border-radius: 2px;
  padding: 0px;
  margin: 0px;
  cursor: pointer;
}

input.vis-configuration.vis-config-checkbox {
  left: -5px;
}

input.vis-configuration.vis-config-rangeinput {
  position: relative;
  top: -5px;
  width: 60px;
  /*height:13px;*/
  padding: 1px;
  margin: 0;
  pointer-events: none;
}

input.vis-configuration.vis-config-range {
  /*removes default webkit styles*/
  -webkit-appearance: none;

  /*fix for FF unable to apply focus style bug */
  border: 0px solid white;
  background-color: rgba(0, 0, 0, 0);

  /*required for proper track sizing in FF*/
  width: 300px;
  height: 20px;
}
input.vis-configuration.vis-config-range::-webkit-slider-runnable-track {
  width: 300px;
  height: 5px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  border: 1px solid #14334b;
  height: 17px;
  width: 17px;
  border-radius: 50%;
  background: #3876c2; /* Old browsers */
  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #3876c2),
    color-stop(100%, #385380)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */
  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */
  box-shadow: #111927 0px 0px 1px 0px;
  margin-top: -7px;
}
input.vis-configuration.vis-config-range:focus {
  outline: none;
}
input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {
  background: #9d9d9d; /* Old browsers */
  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #9d9d9d),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */
}

input.vis-configuration.vis-config-range::-moz-range-track {
  width: 300px;
  height: 10px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-moz-range-thumb {
  border: none;
  height: 16px;
  width: 16px;

  border-radius: 50%;
  background: #385380;
}

/*hide the outline behind the border*/
input.vis-configuration.vis-config-range:-moz-focusring {
  outline: 1px solid white;
  outline-offset: -1px;
}

input.vis-configuration.vis-config-range::-ms-track {
  width: 300px;
  height: 5px;

  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */
  background: transparent;

  /*leave room for the larger thumb to overflow with a transparent border */
  border-color: transparent;
  border-width: 6px 0;

  /*remove default tick marks*/
  color: transparent;
}
input.vis-configuration.vis-config-range::-ms-fill-lower {
  background: #777;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-fill-upper {
  background: #ddd;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-thumb {
  border: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #385380;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-lower {
  background: #888;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-upper {
  background: #ccc;
}

.vis-configuration-popup {
  position: absolute;
  background: rgba(57, 76, 89, 0.85);
  border: 2px solid #f2faff;
  line-height: 30px;
  height: 30px;
  width: 150px;
  text-align: center;
  color: #ffffff;
  font-size: 14px;
  border-radius: 4px;
  -webkit-transition: opacity 0.3s ease-in-out;
  -moz-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}
.vis-configuration-popup:after,
.vis-configuration-popup:before {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.vis-configuration-popup:after {
  border-color: rgba(136, 183, 213, 0);
  border-left-color: rgba(57, 76, 89, 0.85);
  border-width: 8px;
  margin-top: -8px;
}
.vis-configuration-popup:before {
  border-color: rgba(194, 225, 245, 0);
  border-left-color: #f2faff;
  border-width: 12px;
  margin-top: -12px;
}
`;xs(YJe);var KJe=`div.vis-tooltip {
  position: absolute;
  visibility: hidden;
  padding: 5px;
  white-space: nowrap;

  font-family: verdana;
  font-size: 14px;
  color: #000000;
  background-color: #f5f4ed;

  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #808074;

  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
  pointer-events: none;

  z-index: 5;
}
`;xs(KJe);var XJe=`.vis-timeline {
  /*
  -webkit-transition: height .4s ease-in-out;
  transition:         height .4s ease-in-out;
  */
}

.vis-panel {
  /*
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
  */
}

.vis-axis {
  /*
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
  */
}

/* TODO: get animation working nicely

.vis-item {
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
}

.vis-item.line {
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
}
/**/
`;xs(XJe);var QJe=`.vis-current-time {
  background-color: #ff7f6e;
  width: 2px;
  z-index: 1;
  pointer-events: none;
}

.vis-rolling-mode-btn {
  height: 40px;
  width: 40px;
  position: absolute;
  top: 7px;
  right: 20px;
  border-radius: 50%;
  font-size: 28px;
  cursor: pointer;
  opacity: 0.8;
  color: white;
  font-weight: bold;
  text-align: center;
  background: #3876c2;
}
.vis-rolling-mode-btn:before {
  content: "\\26F6";
}

.vis-rolling-mode-btn:hover {
  opacity: 1;
}
`;xs(QJe);var JJe=`.vis-custom-time {
  background-color: #6e94ff;
  width: 2px;
  cursor: move;
  z-index: 1;
}

.vis-custom-time > .vis-custom-time-marker {
  background-color: inherit;
  color: white;
  font-size: 12px;
  white-space: nowrap;
  padding: 3px 5px;
  top: 0px;
  cursor: initial;
  z-index: inherit;
}
`;xs(JJe);var ZJe=`.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {
  position: absolute;
  width: 100%;
  height: 0;
  border-bottom: 1px solid;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {
  border-color: #bfbfbf;
}

.vis-data-axis .vis-y-axis.vis-major {
  width: 100%;
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-major.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-minor {
  position: absolute;
  width: 100%;
  color: #bebebe;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-minor.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title {
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
  bottom: 20px;
  text-align: center;
}

.vis-data-axis .vis-y-axis.vis-title.vis-measure {
  padding: 0;
  margin: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title.vis-left {
  bottom: 0;
  -webkit-transform-origin: left top;
  -moz-transform-origin: left top;
  -ms-transform-origin: left top;
  -o-transform-origin: left top;
  transform-origin: left bottom;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.vis-data-axis .vis-y-axis.vis-title.vis-right {
  bottom: 0;
  -webkit-transform-origin: right bottom;
  -moz-transform-origin: right bottom;
  -ms-transform-origin: right bottom;
  -o-transform-origin: right bottom;
  transform-origin: right bottom;
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  transform: rotate(90deg);
}

.vis-legend {
  background-color: rgba(247, 252, 255, 0.65);
  padding: 5px;
  border: 1px solid #b3b3b3;
  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);
}

.vis-legend-text {
  /*font-size: 10px;*/
  white-space: nowrap;
  display: inline-block;
}
`;xs(ZJe);var eZe=`.vis-item {
  position: absolute;
  color: #1a1a1a;
  border-color: #97b0f8;
  border-width: 1px;
  background-color: #d5ddf6;
  display: inline-block;
  z-index: 1;
  /*overflow: hidden;*/
}

.vis-item.vis-selected {
  border-color: #ffc200;
  background-color: #fff785;

  /* z-index must be higher than the z-index of custom time bar and current time bar */
  z-index: 2;
}

.vis-editable.vis-selected {
  cursor: move;
}

.vis-item.vis-point.vis-selected {
  background-color: #fff785;
}

.vis-item.vis-box {
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-point {
  background: none;
}

.vis-item.vis-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}

.vis-item.vis-range {
  border-style: solid;
  border-radius: 2px;
  box-sizing: border-box;
}

.vis-item.vis-background {
  border: none;
  background-color: rgba(213, 221, 246, 0.4);
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

.vis-item .vis-item-overflow {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

.vis-item-visible-frame {
  white-space: nowrap;
}

.vis-item.vis-range .vis-item-content {
  position: relative;
  display: inline-block;
}

.vis-item.vis-background .vis-item-content {
  position: absolute;
  display: inline-block;
}

.vis-item.vis-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item .vis-item-content {
  white-space: nowrap;
  box-sizing: border-box;
  padding: 5px;
}

.vis-item .vis-onUpdateTime-tooltip {
  position: absolute;
  background: #4f81bd;
  color: white;
  width: 200px;
  text-align: center;
  white-space: nowrap;
  padding: 5px;
  border-radius: 1px;
  transition: 0.4s;
  -o-transition: 0.4s;
  -moz-transition: 0.4s;
  -webkit-transition: 0.4s;
}

.vis-item .vis-delete,
.vis-item .vis-delete-rtl {
  position: absolute;
  top: 0px;
  width: 24px;
  height: 24px;
  box-sizing: border-box;
  padding: 0px 5px;
  cursor: pointer;

  -webkit-transition: background 0.2s linear;
  -moz-transition: background 0.2s linear;
  -ms-transition: background 0.2s linear;
  -o-transition: background 0.2s linear;
  transition: background 0.2s linear;
}

.vis-item .vis-delete {
  right: -24px;
}

.vis-item .vis-delete-rtl {
  left: -24px;
}

.vis-item .vis-delete:after,
.vis-item .vis-delete-rtl:after {
  content: "\\00D7"; /* MULTIPLICATION SIGN */
  color: red;
  font-family: arial, sans-serif;
  font-size: 22px;
  font-weight: bold;

  -webkit-transition: color 0.2s linear;
  -moz-transition: color 0.2s linear;
  -ms-transition: color 0.2s linear;
  -o-transition: color 0.2s linear;
  transition: color 0.2s linear;
}

.vis-item .vis-delete:hover,
.vis-item .vis-delete-rtl:hover {
  background: red;
}

.vis-item .vis-delete:hover:after,
.vis-item .vis-delete-rtl:hover:after {
  color: white;
}

.vis-item .vis-drag-center {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0px;
  cursor: move;
}

.vis-item.vis-range .vis-drag-left {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  left: -4px;

  cursor: w-resize;
}

.vis-item.vis-range .vis-drag-right {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  right: -4px;

  cursor: e-resize;
}

.vis-range.vis-item.vis-readonly .vis-drag-left,
.vis-range.vis-item.vis-readonly .vis-drag-right {
  cursor: auto;
}

.vis-item.vis-cluster {
  vertical-align: center;
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-cluster-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item.vis-cluster-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}
`;xs(eZe);var tZe=`.vis-itemset {
  position: relative;
  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-itemset .vis-background,
.vis-itemset .vis-foreground {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: visible;
}

.vis-axis {
  position: absolute;
  width: 100%;
  height: 0;
  left: 0;
  z-index: 1;
}

.vis-foreground .vis-group {
  position: relative;
  box-sizing: border-box;
  border-bottom: 1px solid #bfbfbf;
}

.vis-foreground .vis-group:last-child {
  border-bottom: none;
}

.vis-nesting-group {
  cursor: pointer;
}

.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {
  background: #f5f5f5;
}
.vis-label.vis-nested-group.vis-group-level-0 {
  background-color: #ffffff;
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-left: 0;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-right: 0;
}
.vis-label.vis-nested-group.vis-group-level-1 {
  background-color: rgba(0, 0, 0, 0.05);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-left: 15px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-right: 15px;
}
.vis-label.vis-nested-group.vis-group-level-2 {
  background-color: rgba(0, 0, 0, 0.1);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-left: 30px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-right: 30px;
}
.vis-label.vis-nested-group.vis-group-level-3 {
  background-color: rgba(0, 0, 0, 0.15);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-left: 45px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-right: 45px;
}
.vis-label.vis-nested-group.vis-group-level-4 {
  background-color: rgba(0, 0, 0, 0.2);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-left: 60px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-right: 60px;
}
.vis-label.vis-nested-group.vis-group-level-5 {
  background-color: rgba(0, 0, 0, 0.25);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-left: 75px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-right: 75px;
}
.vis-label.vis-nested-group.vis-group-level-6 {
  background-color: rgba(0, 0, 0, 0.3);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-left: 90px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-right: 90px;
}
.vis-label.vis-nested-group.vis-group-level-7 {
  background-color: rgba(0, 0, 0, 0.35);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-left: 105px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-right: 105px;
}
.vis-label.vis-nested-group.vis-group-level-8 {
  background-color: rgba(0, 0, 0, 0.4);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-left: 120px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-right: 120px;
}
.vis-label.vis-nested-group.vis-group-level-9 {
  background-color: rgba(0, 0, 0, 0.45);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-left: 135px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-right: 135px;
}
/* default takes over beginning with level-10 (thats why we add .vis-nested-group
  to the selectors above, to have higher specifity than these rules for the defaults) */
.vis-label.vis-nested-group {
  background-color: rgba(0, 0, 0, 0.5);
}
.vis-ltr .vis-label.vis-nested-group .vis-inner {
  padding-left: 150px;
}
.vis-rtl .vis-label.vis-nested-group .vis-inner {
  padding-right: 150px;
}

.vis-group-level-unknown-but-gte1 {
  border: 1px solid red;
}

/* expanded/collapsed indicators */
.vis-label.vis-nesting-group:before,
.vis-label.vis-nesting-group:before {
  display: inline-block;
  width: 15px;
}
.vis-label.vis-nesting-group.expanded:before {
  content: "\\25BC";
}
.vis-label.vis-nesting-group.collapsed:before {
  content: "\\25B6";
}
.vis-rtl .vis-label.vis-nesting-group.collapsed:before {
  content: "\\25C0";
}
/* compensate missing expanded/collapsed indicator, but only at levels > 0 */
.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-left: 15px;
}
.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-right: 15px;
}

.vis-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
`;xs(tZe);var nZe=`.vis-labelset {
  position: relative;

  overflow: hidden;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  position: relative;
  left: 0;
  top: 0;
  width: 100%;
  color: #4d4d4d;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  border-bottom: 1px solid #bfbfbf;
}

.vis-labelset .vis-label.draggable {
  cursor: pointer;
}

.vis-group-is-dragging {
  background: rgba(0, 0, 0, 0.1);
}

.vis-labelset .vis-label:last-child {
  border-bottom: none;
}

.vis-labelset .vis-label .vis-inner {
  display: inline-block;
  padding: 5px;
}

.vis-labelset .vis-label .vis-inner.vis-hidden {
  padding: 0;
}
`;xs(nZe);var rZe=`.vis-panel {
  position: absolute;

  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border: 1px #bfbfbf;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right {
  border-top-style: solid;
  border-bottom-style: solid;
  overflow: hidden;
}

.vis-left.vis-panel.vis-vertical-scroll,
.vis-right.vis-panel.vis-vertical-scroll {
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}

.vis-left.vis-panel.vis-vertical-scroll {
  direction: rtl;
}

.vis-left.vis-panel.vis-vertical-scroll .vis-content {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll .vis-content {
  direction: rtl;
}

.vis-panel.vis-center,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border-left-style: solid;
  border-right-style: solid;
}

.vis-background {
  overflow: hidden;
}

.vis-panel > .vis-content {
  position: relative;
}

.vis-panel .vis-shadow {
  position: absolute;
  width: 100%;
  height: 1px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items
  z-index: 1;
  */
}

.vis-panel .vis-shadow.vis-top {
  top: -1px;
  left: 0;
}

.vis-panel .vis-shadow.vis-bottom {
  bottom: -1px;
  left: 0;
}
`;xs(rZe);var iZe=`.vis-graph-group0 {
  fill: #4f81bd;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #4f81bd;
}

.vis-graph-group1 {
  fill: #f79646;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #f79646;
}

.vis-graph-group2 {
  fill: #8c51cf;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8c51cf;
}

.vis-graph-group3 {
  fill: #75c841;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #75c841;
}

.vis-graph-group4 {
  fill: #ff0100;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff0100;
}

.vis-graph-group5 {
  fill: #37d8e6;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #37d8e6;
}

.vis-graph-group6 {
  fill: #042662;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #042662;
}

.vis-graph-group7 {
  fill: #00ff26;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #00ff26;
}

.vis-graph-group8 {
  fill: #ff00ff;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff00ff;
}

.vis-graph-group9 {
  fill: #8f3938;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8f3938;
}

.vis-timeline .vis-fill {
  fill-opacity: 0.1;
  stroke: none;
}

.vis-timeline .vis-bar {
  fill-opacity: 0.5;
  stroke-width: 1px;
}

.vis-timeline .vis-point {
  stroke-width: 2px;
  fill-opacity: 1;
}

.vis-timeline .vis-legend-background {
  stroke-width: 1px;
  fill-opacity: 0.9;
  fill: #ffffff;
  stroke: #c2c2c2;
}

.vis-timeline .vis-outline {
  stroke-width: 1px;
  fill-opacity: 1;
  fill: #ffffff;
  stroke: #e5e5e5;
}

.vis-timeline .vis-icon-fill {
  fill-opacity: 0.3;
  stroke: none;
}
`;xs(iZe);var sZe=`.vis-time-axis {
  position: relative;
  overflow: hidden;
}

.vis-time-axis.vis-foreground {
  top: 0;
  left: 0;
  width: 100%;
}

.vis-time-axis.vis-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.vis-time-axis .vis-text {
  position: absolute;
  color: #4d4d4d;
  padding: 3px;
  overflow: hidden;
  box-sizing: border-box;

  white-space: nowrap;
}

.vis-time-axis .vis-text.vis-measure {
  position: absolute;
  padding-left: 0;
  padding-right: 0;
  margin-left: 0;
  margin-right: 0;
  visibility: hidden;
}

.vis-time-axis .vis-grid.vis-vertical {
  position: absolute;
  border-left: 1px solid;
}

.vis-time-axis .vis-grid.vis-vertical-rtl {
  position: absolute;
  border-right: 1px solid;
}

.vis-time-axis .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-time-axis .vis-grid.vis-major {
  border-color: #bfbfbf;
}
`;xs(sZe);var oZe=`.vis-timeline {
  position: relative;
  border: 1px solid #bfbfbf;
  overflow: hidden;
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.vis-loading-screen {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
`;xs(oZe);var zG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Za(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q4={exports:{}},US={exports:{}},aZe=US.exports,UG;function el(){return UG||(UG=1,function(n,e){(function(r,i){n.exports=i()})(aZe,function(){var r;function i(){return r.apply(null,arguments)}function s(k){r=k}function o(k){return k instanceof Array||Object.prototype.toString.call(k)==="[object Array]"}function a(k){return k!=null&&Object.prototype.toString.call(k)==="[object Object]"}function l(k,P){return Object.prototype.hasOwnProperty.call(k,P)}function c(k){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(k).length===0;var P;for(P in k)if(l(k,P))return!1;return!0}function u(k){return k===void 0}function d(k){return typeof k=="number"||Object.prototype.toString.call(k)==="[object Number]"}function h(k){return k instanceof Date||Object.prototype.toString.call(k)==="[object Date]"}function f(k,P){var L=[],W,J=k.length;for(W=0;W<J;++W)L.push(P(k[W],W));return L}function p(k,P){for(var L in P)l(P,L)&&(k[L]=P[L]);return l(P,"toString")&&(k.toString=P.toString),l(P,"valueOf")&&(k.valueOf=P.valueOf),k}function m(k,P,L,W){return VL(k,P,L,W,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(k){return k._pf==null&&(k._pf=b()),k._pf}var v;Array.prototype.some?v=Array.prototype.some:v=function(k){var P=Object(this),L=P.length>>>0,W;for(W=0;W<L;W++)if(W in P&&k.call(this,P[W],W,P))return!0;return!1};function w(k){var P=null,L=!1,W=k._d&&!isNaN(k._d.getTime());if(W&&(P=y(k),L=v.call(P.parsedDateParts,function(J){return J!=null}),W=P.overflow<0&&!P.empty&&!P.invalidEra&&!P.invalidMonth&&!P.invalidWeekday&&!P.weekdayMismatch&&!P.nullInput&&!P.invalidFormat&&!P.userInvalidated&&(!P.meridiem||P.meridiem&&L),k._strict&&(W=W&&P.charsLeftOver===0&&P.unusedTokens.length===0&&P.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(k))k._isValid=W;else return W;return k._isValid}function _(k){var P=m(NaN);return k!=null?p(y(P),k):y(P).userInvalidated=!0,P}var x=i.momentProperties=[],S=!1;function C(k,P){var L,W,J,be=x.length;if(u(P._isAMomentObject)||(k._isAMomentObject=P._isAMomentObject),u(P._i)||(k._i=P._i),u(P._f)||(k._f=P._f),u(P._l)||(k._l=P._l),u(P._strict)||(k._strict=P._strict),u(P._tzm)||(k._tzm=P._tzm),u(P._isUTC)||(k._isUTC=P._isUTC),u(P._offset)||(k._offset=P._offset),u(P._pf)||(k._pf=y(P)),u(P._locale)||(k._locale=P._locale),be>0)for(L=0;L<be;L++)W=x[L],J=P[W],u(J)||(k[W]=J);return k}function E(k){C(this,k),this._d=new Date(k._d!=null?k._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),S===!1&&(S=!0,i.updateOffset(this),S=!1)}function A(k){return k instanceof E||k!=null&&k._isAMomentObject!=null}function M(k){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+k)}function I(k,P){var L=!0;return p(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,k),L){var W=[],J,be,Be,kt=arguments.length;for(be=0;be<kt;be++){if(J="",typeof arguments[be]=="object"){J+=`
[`+be+"] ";for(Be in arguments[0])l(arguments[0],Be)&&(J+=Be+": "+arguments[0][Be]+", ");J=J.slice(0,-2)}else J=arguments[be];W.push(J)}M(k+`
Arguments: `+Array.prototype.slice.call(W).join("")+`
`+new Error().stack),L=!1}return P.apply(this,arguments)},P)}var O={};function F(k,P){i.deprecationHandler!=null&&i.deprecationHandler(k,P),O[k]||(M(P),O[k]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function $(k){return typeof Function<"u"&&k instanceof Function||Object.prototype.toString.call(k)==="[object Function]"}function z(k){var P,L;for(L in k)l(k,L)&&(P=k[L],$(P)?this[L]=P:this["_"+L]=P);this._config=k,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(k,P){var L=p({},k),W;for(W in P)l(P,W)&&(a(k[W])&&a(P[W])?(L[W]={},p(L[W],k[W]),p(L[W],P[W])):P[W]!=null?L[W]=P[W]:delete L[W]);for(W in k)l(k,W)&&!l(P,W)&&a(k[W])&&(L[W]=p({},L[W]));return L}function j(k){k!=null&&this.set(k)}var N;Object.keys?N=Object.keys:N=function(k){var P,L=[];for(P in k)l(k,P)&&L.push(P);return L};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function H(k,P,L){var W=this._calendar[k]||this._calendar.sameElse;return $(W)?W.call(P,L):W}function U(k,P,L){var W=""+Math.abs(k),J=P-W.length,be=k>=0;return(be?L?"+":"":"-")+Math.pow(10,Math.max(0,J)).toString().substr(1)+W}var X=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ee={},G={};function Z(k,P,L,W){var J=W;typeof W=="string"&&(J=function(){return this[W]()}),k&&(G[k]=J),P&&(G[P[0]]=function(){return U(J.apply(this,arguments),P[1],P[2])}),L&&(G[L]=function(){return this.localeData().ordinal(J.apply(this,arguments),k)})}function pe(k){return k.match(/\[[\s\S]/)?k.replace(/^\[|\]$/g,""):k.replace(/\\/g,"")}function re(k){var P=k.match(X),L,W;for(L=0,W=P.length;L<W;L++)G[P[L]]?P[L]=G[P[L]]:P[L]=pe(P[L]);return function(J){var be="",Be;for(Be=0;Be<W;Be++)be+=$(P[Be])?P[Be].call(J,k):P[Be];return be}}function le(k,P){return k.isValid()?(P=ce(P,k.localeData()),ee[P]=ee[P]||re(P),ee[P](k)):k.localeData().invalidDate()}function ce(k,P){var L=5;function W(J){return P.longDateFormat(J)||J}for(Y.lastIndex=0;L>=0&&Y.test(k);)k=k.replace(Y,W),Y.lastIndex=0,L-=1;return k}var Pe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ee(k){var P=this._longDateFormat[k],L=this._longDateFormat[k.toUpperCase()];return P||!L?P:(this._longDateFormat[k]=L.match(X).map(function(W){return W==="MMMM"||W==="MM"||W==="DD"||W==="dddd"?W.slice(1):W}).join(""),this._longDateFormat[k])}var V="Invalid date";function Ae(){return this._invalidDate}var Qe="%d",st=/\d{1,2}/;function ze(k){return this._ordinal.replace("%d",k)}var wt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function qe(k,P,L,W){var J=this._relativeTime[L];return $(J)?J(k,P,L,W):J.replace(/%d/i,k)}function Je(k,P){var L=this._relativeTime[k>0?"future":"past"];return $(L)?L(P):L.replace(/%s/i,P)}var yt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ct(k){return typeof k=="string"?yt[k]||yt[k.toLowerCase()]:void 0}function Ze(k){var P={},L,W;for(W in k)l(k,W)&&(L=ct(W),L&&(P[L]=k[W]));return P}var Ve={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function rt(k){var P=[],L;for(L in k)l(k,L)&&P.push({unit:L,priority:Ve[L]});return P.sort(function(W,J){return W.priority-J.priority}),P}var q=/\d/,te=/\d\d/,ve=/\d{3}/,me=/\d{4}/,xe=/[+-]?\d{6}/,fe=/\d\d?/,K=/\d\d\d\d?/,he=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ke=/\d{1,4}/,Re=/[+-]?\d{1,6}/,de=/\d+/,_e=/[+-]?\d+/,Se=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,ie=/[+-]?\d+(\.\d{1,3})?/,ue=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,it=/^[1-9]\d?/,Fe=/^([1-9]\d|\d)/,Ye;Ye={};function Ne(k,P,L){Ye[k]=$(P)?P:function(W,J){return W&&L?L:P}}function Xe(k,P){return l(Ye,k)?Ye[k](P._strict,P._locale):new RegExp(ft(k))}function ft(k){return Ge(k.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(P,L,W,J,be){return L||W||J||be}))}function Ge(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ot(k){return k<0?Math.ceil(k)||0:Math.floor(k)}function Ie(k){var P=+k,L=0;return P!==0&&isFinite(P)&&(L=ot(P)),L}var at={};function Q(k,P){var L,W=P,J;for(typeof k=="string"&&(k=[k]),d(P)&&(W=function(be,Be){Be[P]=Ie(be)}),J=k.length,L=0;L<J;L++)at[k[L]]=W}function De(k,P){Q(k,function(L,W,J,be){J._w=J._w||{},P(L,J._w,J,be)})}function Ce(k,P,L){P!=null&&l(at,k)&&at[k](P,L._a,L,k)}function Me(k){return k%4===0&&k%100!==0||k%400===0}var Oe=0,ut=1,Mt=2,Tt=3,tt=4,rn=5,Qt=6,on=7,Xi=8;Z("Y",0,0,function(){var k=this.year();return k<=9999?U(k,4):"+"+k}),Z(0,["YY",2],0,function(){return this.year()%100}),Z(0,["YYYY",4],0,"year"),Z(0,["YYYYY",5],0,"year"),Z(0,["YYYYYY",6,!0],0,"year"),Ne("Y",_e),Ne("YY",fe,te),Ne("YYYY",ke,me),Ne("YYYYY",Re,xe),Ne("YYYYYY",Re,xe),Q(["YYYYY","YYYYYY"],Oe),Q("YYYY",function(k,P){P[Oe]=k.length===2?i.parseTwoDigitYear(k):Ie(k)}),Q("YY",function(k,P){P[Oe]=i.parseTwoDigitYear(k)}),Q("Y",function(k,P){P[Oe]=parseInt(k,10)});function Ri(k){return Me(k)?366:365}i.parseTwoDigitYear=function(k){return Ie(k)+(Ie(k)>68?1900:2e3)};var Po=Fr("FullYear",!0);function pa(){return Me(this.year())}function Fr(k,P){return function(L){return L!=null?(Qs(this,k,L),i.updateOffset(this,P),this):mi(this,k)}}function mi(k,P){if(!k.isValid())return NaN;var L=k._d,W=k._isUTC;switch(P){case"Milliseconds":return W?L.getUTCMilliseconds():L.getMilliseconds();case"Seconds":return W?L.getUTCSeconds():L.getSeconds();case"Minutes":return W?L.getUTCMinutes():L.getMinutes();case"Hours":return W?L.getUTCHours():L.getHours();case"Date":return W?L.getUTCDate():L.getDate();case"Day":return W?L.getUTCDay():L.getDay();case"Month":return W?L.getUTCMonth():L.getMonth();case"FullYear":return W?L.getUTCFullYear():L.getFullYear();default:return NaN}}function Qs(k,P,L){var W,J,be,Be,kt;if(!(!k.isValid()||isNaN(L))){switch(W=k._d,J=k._isUTC,P){case"Milliseconds":return void(J?W.setUTCMilliseconds(L):W.setMilliseconds(L));case"Seconds":return void(J?W.setUTCSeconds(L):W.setSeconds(L));case"Minutes":return void(J?W.setUTCMinutes(L):W.setMinutes(L));case"Hours":return void(J?W.setUTCHours(L):W.setHours(L));case"Date":return void(J?W.setUTCDate(L):W.setDate(L));case"FullYear":break;default:return}be=L,Be=k.month(),kt=k.date(),kt=kt===29&&Be===1&&!Me(be)?28:kt,J?W.setUTCFullYear(be,Be,kt):W.setFullYear(be,Be,kt)}}function Np(k){return k=ct(k),$(this[k])?this[k]():this}function jp(k,P){if(typeof k=="object"){k=Ze(k);var L=rt(k),W,J=L.length;for(W=0;W<J;W++)this[L[W].unit](k[L[W].unit])}else if(k=ct(k),$(this[k]))return this[k](P);return this}function rl(k,P){return(k%P+P)%P}var An;Array.prototype.indexOf?An=Array.prototype.indexOf:An=function(k){var P;for(P=0;P<this.length;++P)if(this[P]===k)return P;return-1};function nc(k,P){if(isNaN(k)||isNaN(P))return NaN;var L=rl(P,12);return k+=(P-L)/12,L===1?Me(k)?29:28:31-L%7%2}Z("M",["MM",2],"Mo",function(){return this.month()+1}),Z("MMM",0,0,function(k){return this.localeData().monthsShort(this,k)}),Z("MMMM",0,0,function(k){return this.localeData().months(this,k)}),Ne("M",fe,it),Ne("MM",fe,te),Ne("MMM",function(k,P){return P.monthsShortRegex(k)}),Ne("MMMM",function(k,P){return P.monthsRegex(k)}),Q(["M","MM"],function(k,P){P[ut]=Ie(k)-1}),Q(["MMM","MMMM"],function(k,P,L,W){var J=L._locale.monthsParse(k,W,L._strict);J!=null?P[ut]=J:y(L).invalidMonth=k});var Au="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Tu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Bp=ue,Lp=ue;function rr(k,P){return k?o(this._months)?this._months[k.month()]:this._months[(this._months.isFormat||Tu).test(P)?"format":"standalone"][k.month()]:o(this._months)?this._months:this._months.standalone}function ei(k,P){return k?o(this._monthsShort)?this._monthsShort[k.month()]:this._monthsShort[Tu.test(P)?"format":"standalone"][k.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function $r(k,P,L){var W,J,be,Be=k.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],W=0;W<12;++W)be=m([2e3,W]),this._shortMonthsParse[W]=this.monthsShort(be,"").toLocaleLowerCase(),this._longMonthsParse[W]=this.months(be,"").toLocaleLowerCase();return L?P==="MMM"?(J=An.call(this._shortMonthsParse,Be),J!==-1?J:null):(J=An.call(this._longMonthsParse,Be),J!==-1?J:null):P==="MMM"?(J=An.call(this._shortMonthsParse,Be),J!==-1?J:(J=An.call(this._longMonthsParse,Be),J!==-1?J:null)):(J=An.call(this._longMonthsParse,Be),J!==-1?J:(J=An.call(this._shortMonthsParse,Be),J!==-1?J:null))}function Fp(k,P,L){var W,J,be;if(this._monthsParseExact)return $r.call(this,k,P,L);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),W=0;W<12;W++){if(J=m([2e3,W]),L&&!this._longMonthsParse[W]&&(this._longMonthsParse[W]=new RegExp("^"+this.months(J,"").replace(".","")+"$","i"),this._shortMonthsParse[W]=new RegExp("^"+this.monthsShort(J,"").replace(".","")+"$","i")),!L&&!this._monthsParse[W]&&(be="^"+this.months(J,"")+"|^"+this.monthsShort(J,""),this._monthsParse[W]=new RegExp(be.replace(".",""),"i")),L&&P==="MMMM"&&this._longMonthsParse[W].test(k))return W;if(L&&P==="MMM"&&this._shortMonthsParse[W].test(k))return W;if(!L&&this._monthsParse[W].test(k))return W}}function Pu(k,P){if(!k.isValid())return k;if(typeof P=="string"){if(/^\d+$/.test(P))P=Ie(P);else if(P=k.localeData().monthsParse(P),!d(P))return k}var L=P,W=k.date();return W=W<29?W:Math.min(W,nc(k.year(),L)),k._isUTC?k._d.setUTCMonth(L,W):k._d.setMonth(L,W),k}function gh(k){return k!=null?(Pu(this,k),i.updateOffset(this,!0),this):mi(this,"Month")}function bh(){return nc(this.year(),this.month())}function yh(k){return this._monthsParseExact?(l(this,"_monthsRegex")||Iu.call(this),k?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Bp),this._monthsShortStrictRegex&&k?this._monthsShortStrictRegex:this._monthsShortRegex)}function vh(k){return this._monthsParseExact?(l(this,"_monthsRegex")||Iu.call(this),k?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Lp),this._monthsStrictRegex&&k?this._monthsStrictRegex:this._monthsRegex)}function Iu(){function k(Vt,fn){return fn.length-Vt.length}var P=[],L=[],W=[],J,be,Be,kt;for(J=0;J<12;J++)be=m([2e3,J]),Be=Ge(this.monthsShort(be,"")),kt=Ge(this.months(be,"")),P.push(Be),L.push(kt),W.push(kt),W.push(Be);P.sort(k),L.sort(k),W.sort(k),this._monthsRegex=new RegExp("^("+W.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+L.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+P.join("|")+")","i")}function $p(k,P,L,W,J,be,Be){var kt;return k<100&&k>=0?(kt=new Date(k+400,P,L,W,J,be,Be),isFinite(kt.getFullYear())&&kt.setFullYear(k)):kt=new Date(k,P,L,W,J,be,Be),kt}function il(k){var P,L;return k<100&&k>=0?(L=Array.prototype.slice.call(arguments),L[0]=k+400,P=new Date(Date.UTC.apply(null,L)),isFinite(P.getUTCFullYear())&&P.setUTCFullYear(k)):P=new Date(Date.UTC.apply(null,arguments)),P}function ic(k,P,L){var W=7+P-L,J=(7+il(k,0,W).getUTCDay()-P)%7;return-J+W-1}function Mu(k,P,L,W,J){var be=(7+L-W)%7,Be=ic(k,W,J),kt=1+7*(P-1)+be+Be,Vt,fn;return kt<=0?(Vt=k-1,fn=Ri(Vt)+kt):kt>Ri(k)?(Vt=k+1,fn=kt-Ri(k)):(Vt=k,fn=kt),{year:Vt,dayOfYear:fn}}function ma(k,P,L){var W=ic(k.year(),P,L),J=Math.floor((k.dayOfYear()-W-1)/7)+1,be,Be;return J<1?(Be=k.year()-1,be=J+_s(Be,P,L)):J>_s(k.year(),P,L)?(be=J-_s(k.year(),P,L),Be=k.year()+1):(Be=k.year(),be=J),{week:be,year:Be}}function _s(k,P,L){var W=ic(k,P,L),J=ic(k+1,P,L);return(Ri(k)-W+J)/7}Z("w",["ww",2],"wo","week"),Z("W",["WW",2],"Wo","isoWeek"),Ne("w",fe,it),Ne("ww",fe,te),Ne("W",fe,it),Ne("WW",fe,te),De(["w","ww","W","WW"],function(k,P,L,W){P[W.substr(0,1)]=Ie(k)});function zp(k){return ma(k,this._week.dow,this._week.doy).week}var Ut={dow:0,doy:6};function Io(){return this._week.dow}function Mo(){return this._week.doy}function Ou(k){var P=this.localeData().week(this);return k==null?P:this.add((k-P)*7,"d")}function Du(k){var P=ma(this,1,4).week;return k==null?P:this.add((k-P)*7,"d")}Z("d",0,"do","day"),Z("dd",0,0,function(k){return this.localeData().weekdaysMin(this,k)}),Z("ddd",0,0,function(k){return this.localeData().weekdaysShort(this,k)}),Z("dddd",0,0,function(k){return this.localeData().weekdays(this,k)}),Z("e",0,0,"weekday"),Z("E",0,0,"isoWeekday"),Ne("d",fe),Ne("e",fe),Ne("E",fe),Ne("dd",function(k,P){return P.weekdaysMinRegex(k)}),Ne("ddd",function(k,P){return P.weekdaysShortRegex(k)}),Ne("dddd",function(k,P){return P.weekdaysRegex(k)}),De(["dd","ddd","dddd"],function(k,P,L,W){var J=L._locale.weekdaysParse(k,W,L._strict);J!=null?P.d=J:y(L).invalidWeekday=k}),De(["d","e","E"],function(k,P,L,W){P[W]=Ie(k)});function yr(k,P){return typeof k!="string"?k:isNaN(k)?(k=P.weekdaysParse(k),typeof k=="number"?k:null):parseInt(k,10)}function Up(k,P){return typeof k=="string"?P.weekdaysParse(k)%7||7:isNaN(k)?null:k}function Ru(k,P){return k.slice(P,7).concat(k.slice(0,P))}var Wp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Te="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),en=ue,Js=ue,sl=ue;function a1(k,P){var L=o(this._weekdays)?this._weekdays:this._weekdays[k&&k!==!0&&this._weekdays.isFormat.test(P)?"format":"standalone"];return k===!0?Ru(L,this._week.dow):k?L[k.day()]:L}function l1(k){return k===!0?Ru(this._weekdaysShort,this._week.dow):k?this._weekdaysShort[k.day()]:this._weekdaysShort}function c1(k){return k===!0?Ru(this._weekdaysMin,this._week.dow):k?this._weekdaysMin[k.day()]:this._weekdaysMin}function u1(k,P,L){var W,J,be,Be=k.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],W=0;W<7;++W)be=m([2e3,1]).day(W),this._minWeekdaysParse[W]=this.weekdaysMin(be,"").toLocaleLowerCase(),this._shortWeekdaysParse[W]=this.weekdaysShort(be,"").toLocaleLowerCase(),this._weekdaysParse[W]=this.weekdays(be,"").toLocaleLowerCase();return L?P==="dddd"?(J=An.call(this._weekdaysParse,Be),J!==-1?J:null):P==="ddd"?(J=An.call(this._shortWeekdaysParse,Be),J!==-1?J:null):(J=An.call(this._minWeekdaysParse,Be),J!==-1?J:null):P==="dddd"?(J=An.call(this._weekdaysParse,Be),J!==-1||(J=An.call(this._shortWeekdaysParse,Be),J!==-1)?J:(J=An.call(this._minWeekdaysParse,Be),J!==-1?J:null)):P==="ddd"?(J=An.call(this._shortWeekdaysParse,Be),J!==-1||(J=An.call(this._weekdaysParse,Be),J!==-1)?J:(J=An.call(this._minWeekdaysParse,Be),J!==-1?J:null)):(J=An.call(this._minWeekdaysParse,Be),J!==-1||(J=An.call(this._weekdaysParse,Be),J!==-1)?J:(J=An.call(this._shortWeekdaysParse,Be),J!==-1?J:null))}function ye(k,P,L){var W,J,be;if(this._weekdaysParseExact)return u1.call(this,k,P,L);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),W=0;W<7;W++){if(J=m([2e3,1]).day(W),L&&!this._fullWeekdaysParse[W]&&(this._fullWeekdaysParse[W]=new RegExp("^"+this.weekdays(J,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[W]=new RegExp("^"+this.weekdaysShort(J,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[W]=new RegExp("^"+this.weekdaysMin(J,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[W]||(be="^"+this.weekdays(J,"")+"|^"+this.weekdaysShort(J,"")+"|^"+this.weekdaysMin(J,""),this._weekdaysParse[W]=new RegExp(be.replace(".",""),"i")),L&&P==="dddd"&&this._fullWeekdaysParse[W].test(k))return W;if(L&&P==="ddd"&&this._shortWeekdaysParse[W].test(k))return W;if(L&&P==="dd"&&this._minWeekdaysParse[W].test(k))return W;if(!L&&this._weekdaysParse[W].test(k))return W}}function Ke(k){if(!this.isValid())return k!=null?this:NaN;var P=mi(this,"Day");return k!=null?(k=yr(k,this.localeData()),this.add(k-P,"d")):P}function He(k){if(!this.isValid())return k!=null?this:NaN;var P=(this.day()+7-this.localeData()._week.dow)%7;return k==null?P:this.add(k-P,"d")}function et(k){if(!this.isValid())return k!=null?this:NaN;if(k!=null){var P=Up(k,this.localeData());return this.day(this.day()%7?P:P-7)}else return this.day()||7}function We(k){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ht.call(this),k?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=en),this._weekdaysStrictRegex&&k?this._weekdaysStrictRegex:this._weekdaysRegex)}function _t(k){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ht.call(this),k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Js),this._weekdaysShortStrictRegex&&k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Lt(k){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ht.call(this),k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=sl),this._weekdaysMinStrictRegex&&k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ht(){function k(Ji,lc){return lc.length-Ji.length}var P=[],L=[],W=[],J=[],be,Be,kt,Vt,fn;for(be=0;be<7;be++)Be=m([2e3,1]).day(be),kt=Ge(this.weekdaysMin(Be,"")),Vt=Ge(this.weekdaysShort(Be,"")),fn=Ge(this.weekdays(Be,"")),P.push(kt),L.push(Vt),W.push(fn),J.push(kt),J.push(Vt),J.push(fn);P.sort(k),L.sort(k),W.sort(k),J.sort(k),this._weekdaysRegex=new RegExp("^("+J.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+W.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+L.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+P.join("|")+")","i")}function Rn(){return this.hours()%12||12}function Hn(){return this.hours()||24}Z("H",["HH",2],0,"hour"),Z("h",["hh",2],0,Rn),Z("k",["kk",2],0,Hn),Z("hmm",0,0,function(){return""+Rn.apply(this)+U(this.minutes(),2)}),Z("hmmss",0,0,function(){return""+Rn.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),Z("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),Z("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)});function sn(k,P){Z(k,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),P)})}sn("a",!0),sn("A",!1);function hr(k,P){return P._meridiemParse}Ne("a",hr),Ne("A",hr),Ne("H",fe,Fe),Ne("h",fe,it),Ne("k",fe,it),Ne("HH",fe,te),Ne("hh",fe,te),Ne("kk",fe,te),Ne("hmm",K),Ne("hmmss",he),Ne("Hmm",K),Ne("Hmmss",he),Q(["H","HH"],Tt),Q(["k","kk"],function(k,P,L){var W=Ie(k);P[Tt]=W===24?0:W}),Q(["a","A"],function(k,P,L){L._isPm=L._locale.isPM(k),L._meridiem=k}),Q(["h","hh"],function(k,P,L){P[Tt]=Ie(k),y(L).bigHour=!0}),Q("hmm",function(k,P,L){var W=k.length-2;P[Tt]=Ie(k.substr(0,W)),P[tt]=Ie(k.substr(W)),y(L).bigHour=!0}),Q("hmmss",function(k,P,L){var W=k.length-4,J=k.length-2;P[Tt]=Ie(k.substr(0,W)),P[tt]=Ie(k.substr(W,2)),P[rn]=Ie(k.substr(J)),y(L).bigHour=!0}),Q("Hmm",function(k,P,L){var W=k.length-2;P[Tt]=Ie(k.substr(0,W)),P[tt]=Ie(k.substr(W))}),Q("Hmmss",function(k,P,L){var W=k.length-4,J=k.length-2;P[Tt]=Ie(k.substr(0,W)),P[tt]=Ie(k.substr(W,2)),P[rn]=Ie(k.substr(J))});function fr(k){return(k+"").toLowerCase().charAt(0)==="p"}var gi=/[ap]\.?m?\.?/i,Yt=Fr("Hours",!0);function Tr(k,P,L){return k>11?L?"pm":"PM":L?"am":"AM"}var bi={calendar:D,longDateFormat:Pe,invalidDate:V,ordinal:Qe,dayOfMonthOrdinalParse:st,relativeTime:wt,months:Au,monthsShort:rc,week:Ut,weekdays:Wp,weekdaysMin:Pt,weekdaysShort:Te,meridiemParse:gi},Jt={},Vn={},Qi;function Nu(k,P){var L,W=Math.min(k.length,P.length);for(L=0;L<W;L+=1)if(k[L]!==P[L])return L;return W}function pt(k){return k&&k.toLowerCase().replace("_","-")}function un(k){for(var P=0,L,W,J,be;P<k.length;){for(be=pt(k[P]).split("-"),L=be.length,W=pt(k[P+1]),W=W?W.split("-"):null;L>0;){if(J=ti(be.slice(0,L).join("-")),J)return J;if(W&&W.length>=L&&Nu(be,W)>=L-1)break;L--}P++}return Qi}function Un(k){return!!(k&&k.match("^[^/\\\\]*$"))}function ti(k){var P=null,L;if(Jt[k]===void 0&&n&&n.exports&&Un(k))try{P=Qi._abbr,L=Za,L("./locale/"+k),vr(P)}catch{Jt[k]=null}return Jt[k]}function vr(k,P){var L;return k&&(u(P)?L=Zs(k):L=zr(k,P),L?Qi=L:typeof console<"u"&&console.warn&&console.warn("Locale "+k+" not found. Did you forget to load it?")),Qi._abbr}function zr(k,P){if(P!==null){var L,W=bi;if(P.abbr=k,Jt[k]!=null)F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),W=Jt[k]._config;else if(P.parentLocale!=null)if(Jt[P.parentLocale]!=null)W=Jt[P.parentLocale]._config;else if(L=ti(P.parentLocale),L!=null)W=L._config;else return Vn[P.parentLocale]||(Vn[P.parentLocale]=[]),Vn[P.parentLocale].push({name:k,config:P}),null;return Jt[k]=new j(R(W,P)),Vn[k]&&Vn[k].forEach(function(J){zr(J.name,J.config)}),vr(k),Jt[k]}else return delete Jt[k],null}function dn(k,P){if(P!=null){var L,W,J=bi;Jt[k]!=null&&Jt[k].parentLocale!=null?Jt[k].set(R(Jt[k]._config,P)):(W=ti(k),W!=null&&(J=W._config),P=R(J,P),W==null&&(P.abbr=k),L=new j(P),L.parentLocale=Jt[k],Jt[k]=L),vr(k)}else Jt[k]!=null&&(Jt[k].parentLocale!=null?(Jt[k]=Jt[k].parentLocale,k===vr()&&vr(k)):Jt[k]!=null&&delete Jt[k]);return Jt[k]}function Zs(k){var P;if(k&&k._locale&&k._locale._abbr&&(k=k._locale._abbr),!k)return Qi;if(!o(k)){if(P=ti(k),P)return P;k=[k]}return un(k)}function Qye(){return N(Jt)}function c6(k){var P,L=k._a;return L&&y(k).overflow===-2&&(P=L[ut]<0||L[ut]>11?ut:L[Mt]<1||L[Mt]>nc(L[Oe],L[ut])?Mt:L[Tt]<0||L[Tt]>24||L[Tt]===24&&(L[tt]!==0||L[rn]!==0||L[Qt]!==0)?Tt:L[tt]<0||L[tt]>59?tt:L[rn]<0||L[rn]>59?rn:L[Qt]<0||L[Qt]>999?Qt:-1,y(k)._overflowDayOfYear&&(P<Oe||P>Mt)&&(P=Mt),y(k)._overflowWeeks&&P===-1&&(P=on),y(k)._overflowWeekday&&P===-1&&(P=Xi),y(k).overflow=P),k}var Jye=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eve=/Z|[+-]\d\d(?::?\d\d)?/,d1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],u6=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],tve=/^\/?Date\((-?\d+)/i,nve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,rve={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function WL(k){var P,L,W=k._i,J=Jye.exec(W)||Zye.exec(W),be,Be,kt,Vt,fn=d1.length,Ji=u6.length;if(J){for(y(k).iso=!0,P=0,L=fn;P<L;P++)if(d1[P][1].exec(J[1])){Be=d1[P][0],be=d1[P][2]!==!1;break}if(Be==null){k._isValid=!1;return}if(J[3]){for(P=0,L=Ji;P<L;P++)if(u6[P][1].exec(J[3])){kt=(J[2]||" ")+u6[P][0];break}if(kt==null){k._isValid=!1;return}}if(!be&&kt!=null){k._isValid=!1;return}if(J[4])if(eve.exec(J[4]))Vt="Z";else{k._isValid=!1;return}k._f=Be+(kt||"")+(Vt||""),h6(k)}else k._isValid=!1}function ive(k,P,L,W,J,be){var Be=[sve(k),rc.indexOf(P),parseInt(L,10),parseInt(W,10),parseInt(J,10)];return be&&Be.push(parseInt(be,10)),Be}function sve(k){var P=parseInt(k,10);return P<=49?2e3+P:P<=999?1900+P:P}function ove(k){return k.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ave(k,P,L){if(k){var W=Te.indexOf(k),J=new Date(P[0],P[1],P[2]).getDay();if(W!==J)return y(L).weekdayMismatch=!0,L._isValid=!1,!1}return!0}function lve(k,P,L){if(k)return rve[k];if(P)return 0;var W=parseInt(L,10),J=W%100,be=(W-J)/100;return be*60+J}function qL(k){var P=nve.exec(ove(k._i)),L;if(P){if(L=ive(P[4],P[3],P[2],P[5],P[6],P[7]),!ave(P[1],L,k))return;k._a=L,k._tzm=lve(P[8],P[9],P[10]),k._d=il.apply(null,k._a),k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),y(k).rfc2822=!0}else k._isValid=!1}function cve(k){var P=tve.exec(k._i);if(P!==null){k._d=new Date(+P[1]);return}if(WL(k),k._isValid===!1)delete k._isValid;else return;if(qL(k),k._isValid===!1)delete k._isValid;else return;k._strict?k._isValid=!1:i.createFromInputFallback(k)}i.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(k){k._d=new Date(k._i+(k._useUTC?" UTC":""))});function qp(k,P,L){return k??P??L}function uve(k){var P=new Date(i.now());return k._useUTC?[P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate()]:[P.getFullYear(),P.getMonth(),P.getDate()]}function d6(k){var P,L,W=[],J,be,Be;if(!k._d){for(J=uve(k),k._w&&k._a[Mt]==null&&k._a[ut]==null&&dve(k),k._dayOfYear!=null&&(Be=qp(k._a[Oe],J[Oe]),(k._dayOfYear>Ri(Be)||k._dayOfYear===0)&&(y(k)._overflowDayOfYear=!0),L=il(Be,0,k._dayOfYear),k._a[ut]=L.getUTCMonth(),k._a[Mt]=L.getUTCDate()),P=0;P<3&&k._a[P]==null;++P)k._a[P]=W[P]=J[P];for(;P<7;P++)k._a[P]=W[P]=k._a[P]==null?P===2?1:0:k._a[P];k._a[Tt]===24&&k._a[tt]===0&&k._a[rn]===0&&k._a[Qt]===0&&(k._nextDay=!0,k._a[Tt]=0),k._d=(k._useUTC?il:$p).apply(null,W),be=k._useUTC?k._d.getUTCDay():k._d.getDay(),k._tzm!=null&&k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),k._nextDay&&(k._a[Tt]=24),k._w&&typeof k._w.d<"u"&&k._w.d!==be&&(y(k).weekdayMismatch=!0)}}function dve(k){var P,L,W,J,be,Be,kt,Vt,fn;P=k._w,P.GG!=null||P.W!=null||P.E!=null?(be=1,Be=4,L=qp(P.GG,k._a[Oe],ma(Jn(),1,4).year),W=qp(P.W,1),J=qp(P.E,1),(J<1||J>7)&&(Vt=!0)):(be=k._locale._week.dow,Be=k._locale._week.doy,fn=ma(Jn(),be,Be),L=qp(P.gg,k._a[Oe],fn.year),W=qp(P.w,fn.week),P.d!=null?(J=P.d,(J<0||J>6)&&(Vt=!0)):P.e!=null?(J=P.e+be,(P.e<0||P.e>6)&&(Vt=!0)):J=be),W<1||W>_s(L,be,Be)?y(k)._overflowWeeks=!0:Vt!=null?y(k)._overflowWeekday=!0:(kt=Mu(L,W,J,be,Be),k._a[Oe]=kt.year,k._dayOfYear=kt.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function h6(k){if(k._f===i.ISO_8601){WL(k);return}if(k._f===i.RFC_2822){qL(k);return}k._a=[],y(k).empty=!0;var P=""+k._i,L,W,J,be,Be,kt=P.length,Vt=0,fn,Ji;for(J=ce(k._f,k._locale).match(X)||[],Ji=J.length,L=0;L<Ji;L++)be=J[L],W=(P.match(Xe(be,k))||[])[0],W&&(Be=P.substr(0,P.indexOf(W)),Be.length>0&&y(k).unusedInput.push(Be),P=P.slice(P.indexOf(W)+W.length),Vt+=W.length),G[be]?(W?y(k).empty=!1:y(k).unusedTokens.push(be),Ce(be,W,k)):k._strict&&!W&&y(k).unusedTokens.push(be);y(k).charsLeftOver=kt-Vt,P.length>0&&y(k).unusedInput.push(P),k._a[Tt]<=12&&y(k).bigHour===!0&&k._a[Tt]>0&&(y(k).bigHour=void 0),y(k).parsedDateParts=k._a.slice(0),y(k).meridiem=k._meridiem,k._a[Tt]=hve(k._locale,k._a[Tt],k._meridiem),fn=y(k).era,fn!==null&&(k._a[Oe]=k._locale.erasConvertYear(fn,k._a[Oe])),d6(k),c6(k)}function hve(k,P,L){var W;return L==null?P:k.meridiemHour!=null?k.meridiemHour(P,L):(k.isPM!=null&&(W=k.isPM(L),W&&P<12&&(P+=12),!W&&P===12&&(P=0)),P)}function fve(k){var P,L,W,J,be,Be,kt=!1,Vt=k._f.length;if(Vt===0){y(k).invalidFormat=!0,k._d=new Date(NaN);return}for(J=0;J<Vt;J++)be=0,Be=!1,P=C({},k),k._useUTC!=null&&(P._useUTC=k._useUTC),P._f=k._f[J],h6(P),w(P)&&(Be=!0),be+=y(P).charsLeftOver,be+=y(P).unusedTokens.length*10,y(P).score=be,kt?be<W&&(W=be,L=P):(W==null||be<W||Be)&&(W=be,L=P,Be&&(kt=!0));p(k,L||P)}function pve(k){if(!k._d){var P=Ze(k._i),L=P.day===void 0?P.date:P.day;k._a=f([P.year,P.month,L,P.hour,P.minute,P.second,P.millisecond],function(W){return W&&parseInt(W,10)}),d6(k)}}function mve(k){var P=new E(c6(HL(k)));return P._nextDay&&(P.add(1,"d"),P._nextDay=void 0),P}function HL(k){var P=k._i,L=k._f;return k._locale=k._locale||Zs(k._l),P===null||L===void 0&&P===""?_({nullInput:!0}):(typeof P=="string"&&(k._i=P=k._locale.preparse(P)),A(P)?new E(c6(P)):(h(P)?k._d=P:o(L)?fve(k):L?h6(k):gve(k),w(k)||(k._d=null),k))}function gve(k){var P=k._i;u(P)?k._d=new Date(i.now()):h(P)?k._d=new Date(P.valueOf()):typeof P=="string"?cve(k):o(P)?(k._a=f(P.slice(0),function(L){return parseInt(L,10)}),d6(k)):a(P)?pve(k):d(P)?k._d=new Date(P):i.createFromInputFallback(k)}function VL(k,P,L,W,J){var be={};return(P===!0||P===!1)&&(W=P,P=void 0),(L===!0||L===!1)&&(W=L,L=void 0),(a(k)&&c(k)||o(k)&&k.length===0)&&(k=void 0),be._isAMomentObject=!0,be._useUTC=be._isUTC=J,be._l=L,be._i=k,be._f=P,be._strict=W,mve(be)}function Jn(k,P,L,W){return VL(k,P,L,W,!1)}var bve=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Jn.apply(null,arguments);return this.isValid()&&k.isValid()?k<this?this:k:_()}),yve=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Jn.apply(null,arguments);return this.isValid()&&k.isValid()?k>this?this:k:_()});function GL(k,P){var L,W;if(P.length===1&&o(P[0])&&(P=P[0]),!P.length)return Jn();for(L=P[0],W=1;W<P.length;++W)(!P[W].isValid()||P[W][k](L))&&(L=P[W]);return L}function vve(){var k=[].slice.call(arguments,0);return GL("isBefore",k)}function wve(){var k=[].slice.call(arguments,0);return GL("isAfter",k)}var xve=function(){return Date.now?Date.now():+new Date},kb=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _ve(k){var P,L=!1,W,J=kb.length;for(P in k)if(l(k,P)&&!(An.call(kb,P)!==-1&&(k[P]==null||!isNaN(k[P]))))return!1;for(W=0;W<J;++W)if(k[kb[W]]){if(L)return!1;parseFloat(k[kb[W]])!==Ie(k[kb[W]])&&(L=!0)}return!0}function Sve(){return this._isValid}function kve(){return ga(NaN)}function h1(k){var P=Ze(k),L=P.year||0,W=P.quarter||0,J=P.month||0,be=P.week||P.isoWeek||0,Be=P.day||0,kt=P.hour||0,Vt=P.minute||0,fn=P.second||0,Ji=P.millisecond||0;this._isValid=_ve(P),this._milliseconds=+Ji+fn*1e3+Vt*6e4+kt*1e3*60*60,this._days=+Be+be*7,this._months=+J+W*3+L*12,this._data={},this._locale=Zs(),this._bubble()}function f1(k){return k instanceof h1}function f6(k){return k<0?Math.round(-1*k)*-1:Math.round(k)}function Cve(k,P,L){var W=Math.min(k.length,P.length),J=Math.abs(k.length-P.length),be=0,Be;for(Be=0;Be<W;Be++)Ie(k[Be])!==Ie(P[Be])&&be++;return be+J}function YL(k,P){Z(k,0,0,function(){var L=this.utcOffset(),W="+";return L<0&&(L=-L,W="-"),W+U(~~(L/60),2)+P+U(~~L%60,2)})}YL("Z",":"),YL("ZZ",""),Ne("Z",ae),Ne("ZZ",ae),Q(["Z","ZZ"],function(k,P,L){L._useUTC=!0,L._tzm=p6(ae,k)});var Eve=/([\+\-]|\d\d)/gi;function p6(k,P){var L=(P||"").match(k),W,J,be;return L===null?null:(W=L[L.length-1]||[],J=(W+"").match(Eve)||["-",0,0],be=+(J[1]*60)+Ie(J[2]),be===0?0:J[0]==="+"?be:-be)}function m6(k,P){var L,W;return P._isUTC?(L=P.clone(),W=(A(k)||h(k)?k.valueOf():Jn(k).valueOf())-L.valueOf(),L._d.setTime(L._d.valueOf()+W),i.updateOffset(L,!1),L):Jn(k).local()}function g6(k){return-Math.round(k._d.getTimezoneOffset())}i.updateOffset=function(){};function Ave(k,P,L){var W=this._offset||0,J;if(!this.isValid())return k!=null?this:NaN;if(k!=null){if(typeof k=="string"){if(k=p6(ae,k),k===null)return this}else Math.abs(k)<16&&!L&&(k=k*60);return!this._isUTC&&P&&(J=g6(this)),this._offset=k,this._isUTC=!0,J!=null&&this.add(J,"m"),W!==k&&(!P||this._changeInProgress?JL(this,ga(k-W,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?W:g6(this)}function Tve(k,P){return k!=null?(typeof k!="string"&&(k=-k),this.utcOffset(k,P),this):-this.utcOffset()}function Pve(k){return this.utcOffset(0,k)}function Ive(k){return this._isUTC&&(this.utcOffset(0,k),this._isUTC=!1,k&&this.subtract(g6(this),"m")),this}function Mve(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var k=p6(Se,this._i);k!=null?this.utcOffset(k):this.utcOffset(0,!0)}return this}function Ove(k){return this.isValid()?(k=k?Jn(k).utcOffset():0,(this.utcOffset()-k)%60===0):!1}function Dve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Rve(){if(!u(this._isDSTShifted))return this._isDSTShifted;var k={},P;return C(k,this),k=HL(k),k._a?(P=k._isUTC?m(k._a):Jn(k._a),this._isDSTShifted=this.isValid()&&Cve(k._a,P.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Nve(){return this.isValid()?!this._isUTC:!1}function jve(){return this.isValid()?this._isUTC:!1}function KL(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Bve=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Lve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ga(k,P){var L=k,W=null,J,be,Be;return f1(k)?L={ms:k._milliseconds,d:k._days,M:k._months}:d(k)||!isNaN(+k)?(L={},P?L[P]=+k:L.milliseconds=+k):(W=Bve.exec(k))?(J=W[1]==="-"?-1:1,L={y:0,d:Ie(W[Mt])*J,h:Ie(W[Tt])*J,m:Ie(W[tt])*J,s:Ie(W[rn])*J,ms:Ie(f6(W[Qt]*1e3))*J}):(W=Lve.exec(k))?(J=W[1]==="-"?-1:1,L={y:wh(W[2],J),M:wh(W[3],J),w:wh(W[4],J),d:wh(W[5],J),h:wh(W[6],J),m:wh(W[7],J),s:wh(W[8],J)}):L==null?L={}:typeof L=="object"&&("from"in L||"to"in L)&&(Be=Fve(Jn(L.from),Jn(L.to)),L={},L.ms=Be.milliseconds,L.M=Be.months),be=new h1(L),f1(k)&&l(k,"_locale")&&(be._locale=k._locale),f1(k)&&l(k,"_isValid")&&(be._isValid=k._isValid),be}ga.fn=h1.prototype,ga.invalid=kve;function wh(k,P){var L=k&&parseFloat(k.replace(",","."));return(isNaN(L)?0:L)*P}function XL(k,P){var L={};return L.months=P.month()-k.month()+(P.year()-k.year())*12,k.clone().add(L.months,"M").isAfter(P)&&--L.months,L.milliseconds=+P-+k.clone().add(L.months,"M"),L}function Fve(k,P){var L;return k.isValid()&&P.isValid()?(P=m6(P,k),k.isBefore(P)?L=XL(k,P):(L=XL(P,k),L.milliseconds=-L.milliseconds,L.months=-L.months),L):{milliseconds:0,months:0}}function QL(k,P){return function(L,W){var J,be;return W!==null&&!isNaN(+W)&&(F(P,"moment()."+P+"(period, number) is deprecated. Please use moment()."+P+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),be=L,L=W,W=be),J=ga(L,W),JL(this,J,k),this}}function JL(k,P,L,W){var J=P._milliseconds,be=f6(P._days),Be=f6(P._months);k.isValid()&&(W=W??!0,Be&&Pu(k,mi(k,"Month")+Be*L),be&&Qs(k,"Date",mi(k,"Date")+be*L),J&&k._d.setTime(k._d.valueOf()+J*L),W&&i.updateOffset(k,be||Be))}var $ve=QL(1,"add"),zve=QL(-1,"subtract");function ZL(k){return typeof k=="string"||k instanceof String}function Uve(k){return A(k)||h(k)||ZL(k)||d(k)||qve(k)||Wve(k)||k===null||k===void 0}function Wve(k){var P=a(k)&&!c(k),L=!1,W=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],J,be,Be=W.length;for(J=0;J<Be;J+=1)be=W[J],L=L||l(k,be);return P&&L}function qve(k){var P=o(k),L=!1;return P&&(L=k.filter(function(W){return!d(W)&&ZL(k)}).length===0),P&&L}function Hve(k){var P=a(k)&&!c(k),L=!1,W=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],J,be;for(J=0;J<W.length;J+=1)be=W[J],L=L||l(k,be);return P&&L}function Vve(k,P){var L=k.diff(P,"days",!0);return L<-6?"sameElse":L<-1?"lastWeek":L<0?"lastDay":L<1?"sameDay":L<2?"nextDay":L<7?"nextWeek":"sameElse"}function Gve(k,P){arguments.length===1&&(arguments[0]?Uve(arguments[0])?(k=arguments[0],P=void 0):Hve(arguments[0])&&(P=arguments[0],k=void 0):(k=void 0,P=void 0));var L=k||Jn(),W=m6(L,this).startOf("day"),J=i.calendarFormat(this,W)||"sameElse",be=P&&($(P[J])?P[J].call(this,L):P[J]);return this.format(be||this.localeData().calendar(J,this,Jn(L)))}function Yve(){return new E(this)}function Kve(k,P){var L=A(k)?k:Jn(k);return this.isValid()&&L.isValid()?(P=ct(P)||"millisecond",P==="millisecond"?this.valueOf()>L.valueOf():L.valueOf()<this.clone().startOf(P).valueOf()):!1}function Xve(k,P){var L=A(k)?k:Jn(k);return this.isValid()&&L.isValid()?(P=ct(P)||"millisecond",P==="millisecond"?this.valueOf()<L.valueOf():this.clone().endOf(P).valueOf()<L.valueOf()):!1}function Qve(k,P,L,W){var J=A(k)?k:Jn(k),be=A(P)?P:Jn(P);return this.isValid()&&J.isValid()&&be.isValid()?(W=W||"()",(W[0]==="("?this.isAfter(J,L):!this.isBefore(J,L))&&(W[1]===")"?this.isBefore(be,L):!this.isAfter(be,L))):!1}function Jve(k,P){var L=A(k)?k:Jn(k),W;return this.isValid()&&L.isValid()?(P=ct(P)||"millisecond",P==="millisecond"?this.valueOf()===L.valueOf():(W=L.valueOf(),this.clone().startOf(P).valueOf()<=W&&W<=this.clone().endOf(P).valueOf())):!1}function Zve(k,P){return this.isSame(k,P)||this.isAfter(k,P)}function ewe(k,P){return this.isSame(k,P)||this.isBefore(k,P)}function twe(k,P,L){var W,J,be;if(!this.isValid())return NaN;if(W=m6(k,this),!W.isValid())return NaN;switch(J=(W.utcOffset()-this.utcOffset())*6e4,P=ct(P),P){case"year":be=p1(this,W)/12;break;case"month":be=p1(this,W);break;case"quarter":be=p1(this,W)/3;break;case"second":be=(this-W)/1e3;break;case"minute":be=(this-W)/6e4;break;case"hour":be=(this-W)/36e5;break;case"day":be=(this-W-J)/864e5;break;case"week":be=(this-W-J)/6048e5;break;default:be=this-W}return L?be:ot(be)}function p1(k,P){if(k.date()<P.date())return-p1(P,k);var L=(P.year()-k.year())*12+(P.month()-k.month()),W=k.clone().add(L,"months"),J,be;return P-W<0?(J=k.clone().add(L-1,"months"),be=(P-W)/(W-J)):(J=k.clone().add(L+1,"months"),be=(P-W)/(J-W)),-(L+be)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function nwe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rwe(k){if(!this.isValid())return null;var P=k!==!0,L=P?this.clone().utc():this;return L.year()<0||L.year()>9999?le(L,P?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?P?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",le(L,"Z")):le(L,P?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function iwe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var k="moment",P="",L,W,J,be;return this.isLocal()||(k=this.utcOffset()===0?"moment.utc":"moment.parseZone",P="Z"),L="["+k+'("]',W=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",J="-MM-DD[T]HH:mm:ss.SSS",be=P+'[")]',this.format(L+W+J+be)}function swe(k){k||(k=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var P=le(this,k);return this.localeData().postformat(P)}function owe(k,P){return this.isValid()&&(A(k)&&k.isValid()||Jn(k).isValid())?ga({to:this,from:k}).locale(this.locale()).humanize(!P):this.localeData().invalidDate()}function awe(k){return this.from(Jn(),k)}function lwe(k,P){return this.isValid()&&(A(k)&&k.isValid()||Jn(k).isValid())?ga({from:this,to:k}).locale(this.locale()).humanize(!P):this.localeData().invalidDate()}function cwe(k){return this.to(Jn(),k)}function eF(k){var P;return k===void 0?this._locale._abbr:(P=Zs(k),P!=null&&(this._locale=P),this)}var tF=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(k){return k===void 0?this.localeData():this.locale(k)});function nF(){return this._locale}var m1=1e3,Hp=60*m1,g1=60*Hp,rF=(365*400+97)*24*g1;function Vp(k,P){return(k%P+P)%P}function iF(k,P,L){return k<100&&k>=0?new Date(k+400,P,L)-rF:new Date(k,P,L).valueOf()}function sF(k,P,L){return k<100&&k>=0?Date.UTC(k+400,P,L)-rF:Date.UTC(k,P,L)}function uwe(k){var P,L;if(k=ct(k),k===void 0||k==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?sF:iF,k){case"year":P=L(this.year(),0,1);break;case"quarter":P=L(this.year(),this.month()-this.month()%3,1);break;case"month":P=L(this.year(),this.month(),1);break;case"week":P=L(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":P=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":P=L(this.year(),this.month(),this.date());break;case"hour":P=this._d.valueOf(),P-=Vp(P+(this._isUTC?0:this.utcOffset()*Hp),g1);break;case"minute":P=this._d.valueOf(),P-=Vp(P,Hp);break;case"second":P=this._d.valueOf(),P-=Vp(P,m1);break}return this._d.setTime(P),i.updateOffset(this,!0),this}function dwe(k){var P,L;if(k=ct(k),k===void 0||k==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?sF:iF,k){case"year":P=L(this.year()+1,0,1)-1;break;case"quarter":P=L(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":P=L(this.year(),this.month()+1,1)-1;break;case"week":P=L(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":P=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":P=L(this.year(),this.month(),this.date()+1)-1;break;case"hour":P=this._d.valueOf(),P+=g1-Vp(P+(this._isUTC?0:this.utcOffset()*Hp),g1)-1;break;case"minute":P=this._d.valueOf(),P+=Hp-Vp(P,Hp)-1;break;case"second":P=this._d.valueOf(),P+=m1-Vp(P,m1)-1;break}return this._d.setTime(P),i.updateOffset(this,!0),this}function hwe(){return this._d.valueOf()-(this._offset||0)*6e4}function fwe(){return Math.floor(this.valueOf()/1e3)}function pwe(){return new Date(this.valueOf())}function mwe(){var k=this;return[k.year(),k.month(),k.date(),k.hour(),k.minute(),k.second(),k.millisecond()]}function gwe(){var k=this;return{years:k.year(),months:k.month(),date:k.date(),hours:k.hours(),minutes:k.minutes(),seconds:k.seconds(),milliseconds:k.milliseconds()}}function bwe(){return this.isValid()?this.toISOString():null}function ywe(){return w(this)}function vwe(){return p({},y(this))}function wwe(){return y(this).overflow}function xwe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Z("N",0,0,"eraAbbr"),Z("NN",0,0,"eraAbbr"),Z("NNN",0,0,"eraAbbr"),Z("NNNN",0,0,"eraName"),Z("NNNNN",0,0,"eraNarrow"),Z("y",["y",1],"yo","eraYear"),Z("y",["yy",2],0,"eraYear"),Z("y",["yyy",3],0,"eraYear"),Z("y",["yyyy",4],0,"eraYear"),Ne("N",b6),Ne("NN",b6),Ne("NNN",b6),Ne("NNNN",Owe),Ne("NNNNN",Dwe),Q(["N","NN","NNN","NNNN","NNNNN"],function(k,P,L,W){var J=L._locale.erasParse(k,W,L._strict);J?y(L).era=J:y(L).invalidEra=k}),Ne("y",de),Ne("yy",de),Ne("yyy",de),Ne("yyyy",de),Ne("yo",Rwe),Q(["y","yy","yyy","yyyy"],Oe),Q(["yo"],function(k,P,L,W){var J;L._locale._eraYearOrdinalRegex&&(J=k.match(L._locale._eraYearOrdinalRegex)),L._locale.eraYearOrdinalParse?P[Oe]=L._locale.eraYearOrdinalParse(k,J):P[Oe]=parseInt(k,10)});function _we(k,P){var L,W,J,be=this._eras||Zs("en")._eras;for(L=0,W=be.length;L<W;++L){switch(typeof be[L].since){case"string":J=i(be[L].since).startOf("day"),be[L].since=J.valueOf();break}switch(typeof be[L].until){case"undefined":be[L].until=1/0;break;case"string":J=i(be[L].until).startOf("day").valueOf(),be[L].until=J.valueOf();break}}return be}function Swe(k,P,L){var W,J,be=this.eras(),Be,kt,Vt;for(k=k.toUpperCase(),W=0,J=be.length;W<J;++W)if(Be=be[W].name.toUpperCase(),kt=be[W].abbr.toUpperCase(),Vt=be[W].narrow.toUpperCase(),L)switch(P){case"N":case"NN":case"NNN":if(kt===k)return be[W];break;case"NNNN":if(Be===k)return be[W];break;case"NNNNN":if(Vt===k)return be[W];break}else if([Be,kt,Vt].indexOf(k)>=0)return be[W]}function kwe(k,P){var L=k.since<=k.until?1:-1;return P===void 0?i(k.since).year():i(k.since).year()+(P-k.offset)*L}function Cwe(){var k,P,L,W=this.localeData().eras();for(k=0,P=W.length;k<P;++k)if(L=this.clone().startOf("day").valueOf(),W[k].since<=L&&L<=W[k].until||W[k].until<=L&&L<=W[k].since)return W[k].name;return""}function Ewe(){var k,P,L,W=this.localeData().eras();for(k=0,P=W.length;k<P;++k)if(L=this.clone().startOf("day").valueOf(),W[k].since<=L&&L<=W[k].until||W[k].until<=L&&L<=W[k].since)return W[k].narrow;return""}function Awe(){var k,P,L,W=this.localeData().eras();for(k=0,P=W.length;k<P;++k)if(L=this.clone().startOf("day").valueOf(),W[k].since<=L&&L<=W[k].until||W[k].until<=L&&L<=W[k].since)return W[k].abbr;return""}function Twe(){var k,P,L,W,J=this.localeData().eras();for(k=0,P=J.length;k<P;++k)if(L=J[k].since<=J[k].until?1:-1,W=this.clone().startOf("day").valueOf(),J[k].since<=W&&W<=J[k].until||J[k].until<=W&&W<=J[k].since)return(this.year()-i(J[k].since).year())*L+J[k].offset;return this.year()}function Pwe(k){return l(this,"_erasNameRegex")||y6.call(this),k?this._erasNameRegex:this._erasRegex}function Iwe(k){return l(this,"_erasAbbrRegex")||y6.call(this),k?this._erasAbbrRegex:this._erasRegex}function Mwe(k){return l(this,"_erasNarrowRegex")||y6.call(this),k?this._erasNarrowRegex:this._erasRegex}function b6(k,P){return P.erasAbbrRegex(k)}function Owe(k,P){return P.erasNameRegex(k)}function Dwe(k,P){return P.erasNarrowRegex(k)}function Rwe(k,P){return P._eraYearOrdinalRegex||de}function y6(){var k=[],P=[],L=[],W=[],J,be,Be,kt,Vt,fn=this.eras();for(J=0,be=fn.length;J<be;++J)Be=Ge(fn[J].name),kt=Ge(fn[J].abbr),Vt=Ge(fn[J].narrow),P.push(Be),k.push(kt),L.push(Vt),W.push(Be),W.push(kt),W.push(Vt);this._erasRegex=new RegExp("^("+W.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+P.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+L.join("|")+")","i")}Z(0,["gg",2],0,function(){return this.weekYear()%100}),Z(0,["GG",2],0,function(){return this.isoWeekYear()%100});function b1(k,P){Z(0,[k,k.length],0,P)}b1("gggg","weekYear"),b1("ggggg","weekYear"),b1("GGGG","isoWeekYear"),b1("GGGGG","isoWeekYear"),Ne("G",_e),Ne("g",_e),Ne("GG",fe,te),Ne("gg",fe,te),Ne("GGGG",ke,me),Ne("gggg",ke,me),Ne("GGGGG",Re,xe),Ne("ggggg",Re,xe),De(["gggg","ggggg","GGGG","GGGGG"],function(k,P,L,W){P[W.substr(0,2)]=Ie(k)}),De(["gg","GG"],function(k,P,L,W){P[W]=i.parseTwoDigitYear(k)});function Nwe(k){return oF.call(this,k,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function jwe(k){return oF.call(this,k,this.isoWeek(),this.isoWeekday(),1,4)}function Bwe(){return _s(this.year(),1,4)}function Lwe(){return _s(this.isoWeekYear(),1,4)}function Fwe(){var k=this.localeData()._week;return _s(this.year(),k.dow,k.doy)}function $we(){var k=this.localeData()._week;return _s(this.weekYear(),k.dow,k.doy)}function oF(k,P,L,W,J){var be;return k==null?ma(this,W,J).year:(be=_s(k,W,J),P>be&&(P=be),zwe.call(this,k,P,L,W,J))}function zwe(k,P,L,W,J){var be=Mu(k,P,L,W,J),Be=il(be.year,0,be.dayOfYear);return this.year(Be.getUTCFullYear()),this.month(Be.getUTCMonth()),this.date(Be.getUTCDate()),this}Z("Q",0,"Qo","quarter"),Ne("Q",q),Q("Q",function(k,P){P[ut]=(Ie(k)-1)*3});function Uwe(k){return k==null?Math.ceil((this.month()+1)/3):this.month((k-1)*3+this.month()%3)}Z("D",["DD",2],"Do","date"),Ne("D",fe,it),Ne("DD",fe,te),Ne("Do",function(k,P){return k?P._dayOfMonthOrdinalParse||P._ordinalParse:P._dayOfMonthOrdinalParseLenient}),Q(["D","DD"],Mt),Q("Do",function(k,P){P[Mt]=Ie(k.match(fe)[0])});var aF=Fr("Date",!0);Z("DDD",["DDDD",3],"DDDo","dayOfYear"),Ne("DDD",se),Ne("DDDD",ve),Q(["DDD","DDDD"],function(k,P,L){L._dayOfYear=Ie(k)});function Wwe(k){var P=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return k==null?P:this.add(k-P,"d")}Z("m",["mm",2],0,"minute"),Ne("m",fe,Fe),Ne("mm",fe,te),Q(["m","mm"],tt);var qwe=Fr("Minutes",!1);Z("s",["ss",2],0,"second"),Ne("s",fe,Fe),Ne("ss",fe,te),Q(["s","ss"],rn);var Hwe=Fr("Seconds",!1);Z("S",0,0,function(){return~~(this.millisecond()/100)}),Z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Z(0,["SSS",3],0,"millisecond"),Z(0,["SSSS",4],0,function(){return this.millisecond()*10}),Z(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Z(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Z(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Z(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Z(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ne("S",se,q),Ne("SS",se,te),Ne("SSS",se,ve);var ju,lF;for(ju="SSSS";ju.length<=9;ju+="S")Ne(ju,de);function Vwe(k,P){P[Qt]=Ie(("0."+k)*1e3)}for(ju="S";ju.length<=9;ju+="S")Q(ju,Vwe);lF=Fr("Milliseconds",!1),Z("z",0,0,"zoneAbbr"),Z("zz",0,0,"zoneName");function Gwe(){return this._isUTC?"UTC":""}function Ywe(){return this._isUTC?"Coordinated Universal Time":""}var dt=E.prototype;dt.add=$ve,dt.calendar=Gve,dt.clone=Yve,dt.diff=twe,dt.endOf=dwe,dt.format=swe,dt.from=owe,dt.fromNow=awe,dt.to=lwe,dt.toNow=cwe,dt.get=Np,dt.invalidAt=wwe,dt.isAfter=Kve,dt.isBefore=Xve,dt.isBetween=Qve,dt.isSame=Jve,dt.isSameOrAfter=Zve,dt.isSameOrBefore=ewe,dt.isValid=ywe,dt.lang=tF,dt.locale=eF,dt.localeData=nF,dt.max=yve,dt.min=bve,dt.parsingFlags=vwe,dt.set=jp,dt.startOf=uwe,dt.subtract=zve,dt.toArray=mwe,dt.toObject=gwe,dt.toDate=pwe,dt.toISOString=rwe,dt.inspect=iwe,typeof Symbol<"u"&&Symbol.for!=null&&(dt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),dt.toJSON=bwe,dt.toString=nwe,dt.unix=fwe,dt.valueOf=hwe,dt.creationData=xwe,dt.eraName=Cwe,dt.eraNarrow=Ewe,dt.eraAbbr=Awe,dt.eraYear=Twe,dt.year=Po,dt.isLeapYear=pa,dt.weekYear=Nwe,dt.isoWeekYear=jwe,dt.quarter=dt.quarters=Uwe,dt.month=gh,dt.daysInMonth=bh,dt.week=dt.weeks=Ou,dt.isoWeek=dt.isoWeeks=Du,dt.weeksInYear=Fwe,dt.weeksInWeekYear=$we,dt.isoWeeksInYear=Bwe,dt.isoWeeksInISOWeekYear=Lwe,dt.date=aF,dt.day=dt.days=Ke,dt.weekday=He,dt.isoWeekday=et,dt.dayOfYear=Wwe,dt.hour=dt.hours=Yt,dt.minute=dt.minutes=qwe,dt.second=dt.seconds=Hwe,dt.millisecond=dt.milliseconds=lF,dt.utcOffset=Ave,dt.utc=Pve,dt.local=Ive,dt.parseZone=Mve,dt.hasAlignedHourOffset=Ove,dt.isDST=Dve,dt.isLocal=Nve,dt.isUtcOffset=jve,dt.isUtc=KL,dt.isUTC=KL,dt.zoneAbbr=Gwe,dt.zoneName=Ywe,dt.dates=I("dates accessor is deprecated. Use date instead.",aF),dt.months=I("months accessor is deprecated. Use month instead",gh),dt.years=I("years accessor is deprecated. Use year instead",Po),dt.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Tve),dt.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Rve);function Kwe(k){return Jn(k*1e3)}function Xwe(){return Jn.apply(null,arguments).parseZone()}function cF(k){return k}var Sn=j.prototype;Sn.calendar=H,Sn.longDateFormat=Ee,Sn.invalidDate=Ae,Sn.ordinal=ze,Sn.preparse=cF,Sn.postformat=cF,Sn.relativeTime=qe,Sn.pastFuture=Je,Sn.set=z,Sn.eras=_we,Sn.erasParse=Swe,Sn.erasConvertYear=kwe,Sn.erasAbbrRegex=Iwe,Sn.erasNameRegex=Pwe,Sn.erasNarrowRegex=Mwe,Sn.months=rr,Sn.monthsShort=ei,Sn.monthsParse=Fp,Sn.monthsRegex=vh,Sn.monthsShortRegex=yh,Sn.week=zp,Sn.firstDayOfYear=Mo,Sn.firstDayOfWeek=Io,Sn.weekdays=a1,Sn.weekdaysMin=c1,Sn.weekdaysShort=l1,Sn.weekdaysParse=ye,Sn.weekdaysRegex=We,Sn.weekdaysShortRegex=_t,Sn.weekdaysMinRegex=Lt,Sn.isPM=fr,Sn.meridiem=Tr;function y1(k,P,L,W){var J=Zs(),be=m().set(W,P);return J[L](be,k)}function uF(k,P,L){if(d(k)&&(P=k,k=void 0),k=k||"",P!=null)return y1(k,P,L,"month");var W,J=[];for(W=0;W<12;W++)J[W]=y1(k,W,L,"month");return J}function v6(k,P,L,W){typeof k=="boolean"?(d(P)&&(L=P,P=void 0),P=P||""):(P=k,L=P,k=!1,d(P)&&(L=P,P=void 0),P=P||"");var J=Zs(),be=k?J._week.dow:0,Be,kt=[];if(L!=null)return y1(P,(L+be)%7,W,"day");for(Be=0;Be<7;Be++)kt[Be]=y1(P,(Be+be)%7,W,"day");return kt}function Qwe(k,P){return uF(k,P,"months")}function Jwe(k,P){return uF(k,P,"monthsShort")}function Zwe(k,P,L){return v6(k,P,L,"weekdays")}function exe(k,P,L){return v6(k,P,L,"weekdaysShort")}function txe(k,P,L){return v6(k,P,L,"weekdaysMin")}vr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(k){var P=k%10,L=Ie(k%100/10)===1?"th":P===1?"st":P===2?"nd":P===3?"rd":"th";return k+L}}),i.lang=I("moment.lang is deprecated. Use moment.locale instead.",vr),i.langData=I("moment.langData is deprecated. Use moment.localeData instead.",Zs);var sc=Math.abs;function nxe(){var k=this._data;return this._milliseconds=sc(this._milliseconds),this._days=sc(this._days),this._months=sc(this._months),k.milliseconds=sc(k.milliseconds),k.seconds=sc(k.seconds),k.minutes=sc(k.minutes),k.hours=sc(k.hours),k.months=sc(k.months),k.years=sc(k.years),this}function dF(k,P,L,W){var J=ga(P,L);return k._milliseconds+=W*J._milliseconds,k._days+=W*J._days,k._months+=W*J._months,k._bubble()}function rxe(k,P){return dF(this,k,P,1)}function ixe(k,P){return dF(this,k,P,-1)}function hF(k){return k<0?Math.floor(k):Math.ceil(k)}function sxe(){var k=this._milliseconds,P=this._days,L=this._months,W=this._data,J,be,Be,kt,Vt;return k>=0&&P>=0&&L>=0||k<=0&&P<=0&&L<=0||(k+=hF(w6(L)+P)*864e5,P=0,L=0),W.milliseconds=k%1e3,J=ot(k/1e3),W.seconds=J%60,be=ot(J/60),W.minutes=be%60,Be=ot(be/60),W.hours=Be%24,P+=ot(Be/24),Vt=ot(fF(P)),L+=Vt,P-=hF(w6(Vt)),kt=ot(L/12),L%=12,W.days=P,W.months=L,W.years=kt,this}function fF(k){return k*4800/146097}function w6(k){return k*146097/4800}function oxe(k){if(!this.isValid())return NaN;var P,L,W=this._milliseconds;if(k=ct(k),k==="month"||k==="quarter"||k==="year")switch(P=this._days+W/864e5,L=this._months+fF(P),k){case"month":return L;case"quarter":return L/3;case"year":return L/12}else switch(P=this._days+Math.round(w6(this._months)),k){case"week":return P/7+W/6048e5;case"day":return P+W/864e5;case"hour":return P*24+W/36e5;case"minute":return P*1440+W/6e4;case"second":return P*86400+W/1e3;case"millisecond":return Math.floor(P*864e5)+W;default:throw new Error("Unknown unit "+k)}}function oc(k){return function(){return this.as(k)}}var pF=oc("ms"),axe=oc("s"),lxe=oc("m"),cxe=oc("h"),uxe=oc("d"),dxe=oc("w"),hxe=oc("M"),fxe=oc("Q"),pxe=oc("y"),mxe=pF;function gxe(){return ga(this)}function bxe(k){return k=ct(k),this.isValid()?this[k+"s"]():NaN}function xh(k){return function(){return this.isValid()?this._data[k]:NaN}}var yxe=xh("milliseconds"),vxe=xh("seconds"),wxe=xh("minutes"),xxe=xh("hours"),_xe=xh("days"),Sxe=xh("months"),kxe=xh("years");function Cxe(){return ot(this.days()/7)}var ac=Math.round,Gp={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Exe(k,P,L,W,J){return J.relativeTime(P||1,!!L,k,W)}function Axe(k,P,L,W){var J=ga(k).abs(),be=ac(J.as("s")),Be=ac(J.as("m")),kt=ac(J.as("h")),Vt=ac(J.as("d")),fn=ac(J.as("M")),Ji=ac(J.as("w")),lc=ac(J.as("y")),Bu=be<=L.ss&&["s",be]||be<L.s&&["ss",be]||Be<=1&&["m"]||Be<L.m&&["mm",Be]||kt<=1&&["h"]||kt<L.h&&["hh",kt]||Vt<=1&&["d"]||Vt<L.d&&["dd",Vt];return L.w!=null&&(Bu=Bu||Ji<=1&&["w"]||Ji<L.w&&["ww",Ji]),Bu=Bu||fn<=1&&["M"]||fn<L.M&&["MM",fn]||lc<=1&&["y"]||["yy",lc],Bu[2]=P,Bu[3]=+k>0,Bu[4]=W,Exe.apply(null,Bu)}function Txe(k){return k===void 0?ac:typeof k=="function"?(ac=k,!0):!1}function Pxe(k,P){return Gp[k]===void 0?!1:P===void 0?Gp[k]:(Gp[k]=P,k==="s"&&(Gp.ss=P-1),!0)}function Ixe(k,P){if(!this.isValid())return this.localeData().invalidDate();var L=!1,W=Gp,J,be;return typeof k=="object"&&(P=k,k=!1),typeof k=="boolean"&&(L=k),typeof P=="object"&&(W=Object.assign({},Gp,P),P.s!=null&&P.ss==null&&(W.ss=P.s-1)),J=this.localeData(),be=Axe(this,!L,W,J),L&&(be=J.pastFuture(+this,be)),J.postformat(be)}var x6=Math.abs;function Yp(k){return(k>0)-(k<0)||+k}function v1(){if(!this.isValid())return this.localeData().invalidDate();var k=x6(this._milliseconds)/1e3,P=x6(this._days),L=x6(this._months),W,J,be,Be,kt=this.asSeconds(),Vt,fn,Ji,lc;return kt?(W=ot(k/60),J=ot(W/60),k%=60,W%=60,be=ot(L/12),L%=12,Be=k?k.toFixed(3).replace(/\.?0+$/,""):"",Vt=kt<0?"-":"",fn=Yp(this._months)!==Yp(kt)?"-":"",Ji=Yp(this._days)!==Yp(kt)?"-":"",lc=Yp(this._milliseconds)!==Yp(kt)?"-":"",Vt+"P"+(be?fn+be+"Y":"")+(L?fn+L+"M":"")+(P?Ji+P+"D":"")+(J||W||k?"T":"")+(J?lc+J+"H":"")+(W?lc+W+"M":"")+(k?lc+Be+"S":"")):"P0D"}var bn=h1.prototype;bn.isValid=Sve,bn.abs=nxe,bn.add=rxe,bn.subtract=ixe,bn.as=oxe,bn.asMilliseconds=pF,bn.asSeconds=axe,bn.asMinutes=lxe,bn.asHours=cxe,bn.asDays=uxe,bn.asWeeks=dxe,bn.asMonths=hxe,bn.asQuarters=fxe,bn.asYears=pxe,bn.valueOf=mxe,bn._bubble=sxe,bn.clone=gxe,bn.get=bxe,bn.milliseconds=yxe,bn.seconds=vxe,bn.minutes=wxe,bn.hours=xxe,bn.days=_xe,bn.weeks=Cxe,bn.months=Sxe,bn.years=kxe,bn.humanize=Ixe,bn.toISOString=v1,bn.toString=v1,bn.toJSON=v1,bn.locale=eF,bn.localeData=nF,bn.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",v1),bn.lang=tF,Z("X",0,0,"unix"),Z("x",0,0,"valueOf"),Ne("x",_e),Ne("X",ie),Q("X",function(k,P,L){L._d=new Date(parseFloat(k)*1e3)}),Q("x",function(k,P,L){L._d=new Date(Ie(k))});//! moment.js
return i.version="2.30.1",s(Jn),i.fn=dt,i.min=vve,i.max=wve,i.now=xve,i.utc=m,i.unix=Kwe,i.months=Qwe,i.isDate=h,i.locale=vr,i.invalid=_,i.duration=ga,i.isMoment=A,i.weekdays=Zwe,i.parseZone=Xwe,i.localeData=Zs,i.isDuration=f1,i.monthsShort=Jwe,i.weekdaysMin=txe,i.defineLocale=zr,i.updateLocale=dn,i.locales=Qye,i.weekdaysShort=exe,i.normalizeUnits=ct,i.relativeTimeRounding=Txe,i.relativeTimeThreshold=Pxe,i.calendarFormat=Vve,i.prototype=dt,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})}(US)),US.exports}var lZe=Q4.exports,WG;function cZe(){return WG||(WG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(lZe,function(r){//! moment.js locale configuration
function i(o,a,l,c){var u={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[o+" Tage",o+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[o+" Monate",o+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[o+" Jahre",o+" Jahren"]};return a?u[l][0]:u[l][1]}var s=r.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:i,mm:"%d Minuten",h:i,hh:"%d Stunden",d:i,dd:i,w:i,ww:"%d Wochen",M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})}()),Q4.exports}cZe();var J4={exports:{}},uZe=J4.exports,qG;function dZe(){return qG||(qG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(uZe,function(r){//! moment.js locale configuration
var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),o=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,l=r.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return l})}()),J4.exports}dZe();var Z4={exports:{}},hZe=Z4.exports,HG;function fZe(){return HG||(HG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(hZe,function(r){//! moment.js locale configuration
var i=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,s=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,o=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,a=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],l=r.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:i,monthsShortStrictRegex:s,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(c,u){switch(u){case"D":return c+(c===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return c+(c===1?"er":"e");case"w":case"W":return c+(c===1?"re":"e")}},week:{dow:1,doy:4}});return l})}()),Z4.exports}fZe();var eN={exports:{}},pZe=eN.exports,VG;function mZe(){return VG||(VG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(pZe,function(r){//! moment.js locale configuration
var i=r.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return i})}()),eN.exports}mZe();var tN={exports:{}},gZe=tN.exports,GG;function bZe(){return GG||(GG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(gZe,function(r){//! moment.js locale configuration
var i=r.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(s,o){return o[1]===""?1:parseInt(o[1]||s,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(s){return s===""},meridiem:function(s,o,a){return s<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(s){return s.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(s){return this.week()!==s.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(s,o){switch(o){case"y":return s===1?"":s+"";case"d":case"D":case"DDD":return s+"";default:return s}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return i})}()),tN.exports}bZe();var nN={exports:{}},yZe=nN.exports,YG;function vZe(){return YG||(YG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(yZe,function(r){//! moment.js locale configuration
var i="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),s="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),o=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,l=r.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(c){return c+(c===1||c===8||c>=20?"ste":"de")},week:{dow:1,doy:4}});return l})}()),nN.exports}vZe();var rN={exports:{}},wZe=rN.exports,KG;function xZe(){return KG||(KG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(wZe,function(r){//! moment.js locale configuration
var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),s="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),o=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function a(u){return u%10<5&&u%10>1&&~~(u/10)%10!==1}function l(u,d,h){var f=u+" ";switch(h){case"ss":return f+(a(u)?"sekundy":"sekund");case"m":return d?"minuta":"minut";case"mm":return f+(a(u)?"minuty":"minut");case"h":return d?"godzina":"godzin";case"hh":return f+(a(u)?"godziny":"godzin");case"ww":return f+(a(u)?"tygodnie":"tygodni");case"MM":return f+(a(u)?"miesice":"miesicy");case"yy":return f+(a(u)?"lata":"lat")}}var c=r.defineLocale("pl",{months:function(u,d){return u?/D MMMM/.test(d)?s[u.month()]:i[u.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:l,m:l,mm:l,h:l,hh:l,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:l,M:"miesic",MM:l,y:"rok",yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return c})}()),rN.exports}xZe();var iN={exports:{}},_Ze=iN.exports,XG;function SZe(){return XG||(XG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(_Ze,function(r){//! moment.js locale configuration
function i(l,c){var u=l.split("_");return c%10===1&&c%100!==11?u[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?u[1]:u[2]}function s(l,c,u){var d={ss:c?"__":"__",mm:c?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return u==="m"?c?"":"":l+" "+i(d[u],+l)}var o=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],a=r.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:o,longMonthsParse:o,shortMonthsParse:o,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},lastWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:s,m:s,mm:s,h:"",hh:s,d:"",dd:s,w:"",ww:s,M:"",MM:s,y:"",yy:s},meridiemParse:/|||/i,isPM:function(l){return/^(|)$/.test(l)},meridiem:function(l,c,u){return l<4?"":l<12?"":l<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(l,c){switch(c){case"M":case"d":case"DDD":return l+"-";case"D":return l+"-";case"w":case"W":return l+"-";default:return l}},week:{dow:1,doy:4}});return a})}()),iN.exports}SZe();var sN={exports:{}},kZe=sN.exports,QG;function CZe(){return QG||(QG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(kZe,function(r){//! moment.js locale configuration
var i={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},s=r.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(o,a,l){return o<12?l?"":"":l?"s":"S"},meridiemParse:/||s|S/,isPM:function(o){return o==="s"||o==="S"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(o,a){switch(a){case"d":case"D":case"Do":case"DD":return o;default:if(o===0)return o+"'nc";var l=o%10,c=o%100-l,u=o>=100?100:null;return o+(i[l]||i[c]||i[u])}},week:{dow:1,doy:7}});return s})}()),sN.exports}CZe();var oN={exports:{}},EZe=oN.exports,JG;function AZe(){return JG||(JG=1,function(n,e){(function(r,i){i(typeof Za=="function"?el():r.moment)})(EZe,function(r){//! moment.js locale configuration
function i(c,u){var d=c.split("_");return u%10===1&&u%100!==11?d[0]:u%10>=2&&u%10<=4&&(u%100<10||u%100>=20)?d[1]:d[2]}function s(c,u,d){var h={ss:u?"__":"__",mm:u?"__":"__",hh:u?"__":"__",dd:"__",MM:"__",yy:"__"};return d==="m"?u?"":"":d==="h"?u?"":"":c+" "+i(h[d],+c)}function o(c,u){var d={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},h;return c===!0?d.nominative.slice(1,7).concat(d.nominative.slice(0,1)):c?(h=/(\[[]\]) ?dddd/.test(u)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(u)?"genitive":"nominative",d[h][c.day()]):d.nominative}function a(c){return function(){return c+""+(this.hours()===11?"":"")+"] LT"}}var l=r.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:o,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:a("[ "),nextDay:a("[ "),lastDay:a("[ "),nextWeek:a("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[] dddd [").call(this);case 1:case 2:case 4:return a("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:s,m:s,mm:s,h:"",hh:s,d:"",dd:s,M:"",MM:s,y:"",yy:s},meridiemParse:/|||/,isPM:function(c){return/^(|)$/.test(c)},meridiem:function(c,u,d){return c<4?"":c<12?"":c<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(c,u){switch(u){case"M":case"d":case"DDD":case"w":case"W":return c+"-";case"D":return c+"-";default:return c}},week:{dow:1,doy:7}});return l})}()),oN.exports}AZe();var ZG={},sy,eY;function Er(){if(eY)return sy;eY=1;var n=function(e){return e&&e.Math===Math&&e};return sy=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof zG=="object"&&zG)||n(typeof sy=="object"&&sy)||function(){return this}()||Function("return this")(),sy}var rA,tY;function yn(){return tY||(tY=1,rA=function(n){try{return!!n()}catch{return!0}}),rA}var iA,nY;function Bx(){if(nY)return iA;nY=1;var n=yn();return iA=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),iA}var sA,rY;function jE(){if(rY)return sA;rY=1;var n=Bx(),e=Function.prototype,r=e.apply,i=e.call;return sA=typeof Reflect=="object"&&Reflect.apply||(n?i.bind(r):function(){return i.apply(r,arguments)}),sA}var oA,iY;function _n(){if(iY)return oA;iY=1;var n=Bx(),e=Function.prototype,r=e.call,i=n&&e.bind.bind(r,r);return oA=n?i:function(s){return function(){return r.apply(s,arguments)}},oA}var aA,sY;function ec(){if(sY)return aA;sY=1;var n=_n(),e=n({}.toString),r=n("".slice);return aA=function(i){return r(e(i),8,-1)},aA}var lA,oY;function $B(){if(oY)return lA;oY=1;var n=ec(),e=_n();return lA=function(r){if(n(r)==="Function")return e(r)},lA}var cA,aY;function fi(){if(aY)return cA;aY=1;var n=typeof document=="object"&&document.all;return cA=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},cA}var uA={},dA,lY;function Lr(){if(lY)return dA;lY=1;var n=yn();return dA=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),dA}var hA,cY;function Ys(){if(cY)return hA;cY=1;var n=Bx(),e=Function.prototype.call;return hA=n?e.bind(e):function(){return e.apply(e,arguments)},hA}var fA={},uY;function BE(){if(uY)return fA;uY=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!n.call({1:2},1);return fA.f=r?function(s){var o=e(this,s);return!!o&&o.enumerable}:n,fA}var pA,dY;function Lx(){return dY||(dY=1,pA=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),pA}var mA,hY;function LE(){if(hY)return mA;hY=1;var n=_n(),e=yn(),r=ec(),i=Object,s=n("".split);return mA=e(function(){return!i("z").propertyIsEnumerable(0)})?function(o){return r(o)==="String"?s(o,""):i(o)}:i,mA}var gA,fY;function Fx(){return fY||(fY=1,gA=function(n){return n==null}),gA}var bA,pY;function ku(){if(pY)return bA;pY=1;var n=Fx(),e=TypeError;return bA=function(r){if(n(r))throw new e("Can't call method on "+r);return r},bA}var yA,mY;function tl(){if(mY)return yA;mY=1;var n=LE(),e=ku();return yA=function(r){return n(e(r))},yA}var vA,gY;function Ki(){if(gY)return vA;gY=1;var n=fi();return vA=function(e){return typeof e=="object"?e!==null:n(e)},vA}var wA,bY;function Qn(){return bY||(bY=1,wA={}),wA}var xA,yY;function To(){if(yY)return xA;yY=1;var n=Qn(),e=Er(),r=fi(),i=function(s){return r(s)?s:void 0};return xA=function(s,o){return arguments.length<2?i(n[s])||i(e[s]):n[s]&&n[s][o]||e[s]&&e[s][o]},xA}var _A,vY;function nr(){if(vY)return _A;vY=1;var n=_n();return _A=n({}.isPrototypeOf),_A}var SA,wY;function db(){if(wY)return SA;wY=1;var n=Er(),e=n.navigator,r=e&&e.userAgent;return SA=r?String(r):"",SA}var kA,xY;function $x(){if(xY)return kA;xY=1;var n=Er(),e=db(),r=n.process,i=n.Deno,s=r&&r.versions||i&&i.version,o=s&&s.v8,a,l;return o&&(a=o.split("."),l=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!l&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(l=+a[1]))),kA=l,kA}var CA,_Y;function hb(){if(_Y)return CA;_Y=1;var n=$x(),e=yn(),r=Er(),i=r.String;return CA=!!Object.getOwnPropertySymbols&&!e(function(){var s=Symbol("symbol detection");return!i(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&n&&n<41}),CA}var EA,SY;function A0e(){if(SY)return EA;SY=1;var n=hb();return EA=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",EA}var AA,kY;function zx(){if(kY)return AA;kY=1;var n=To(),e=fi(),r=nr(),i=A0e(),s=Object;return AA=i?function(o){return typeof o=="symbol"}:function(o){var a=n("Symbol");return e(a)&&r(a.prototype,s(o))},AA}var TA,CY;function fb(){if(CY)return TA;CY=1;var n=String;return TA=function(e){try{return n(e)}catch{return"Object"}},TA}var PA,EY;function tc(){if(EY)return PA;EY=1;var n=fi(),e=fb(),r=TypeError;return PA=function(i){if(n(i))return i;throw new r(e(i)+" is not a function")},PA}var IA,AY;function zB(){if(AY)return IA;AY=1;var n=tc(),e=Fx();return IA=function(r,i){var s=r[i];return e(s)?void 0:n(s)},IA}var MA,TY;function TZe(){if(TY)return MA;TY=1;var n=Ys(),e=fi(),r=Ki(),i=TypeError;return MA=function(s,o){var a,l;if(o==="string"&&e(a=s.toString)&&!r(l=n(a,s))||e(a=s.valueOf)&&!r(l=n(a,s))||o!=="string"&&e(a=s.toString)&&!r(l=n(a,s)))return l;throw new i("Can't convert object to primitive value")},MA}var OA={exports:{}},DA,PY;function pb(){return PY||(PY=1,DA=!0),DA}var RA,IY;function PZe(){if(IY)return RA;IY=1;var n=Er(),e=Object.defineProperty;return RA=function(r,i){try{e(n,r,{value:i,configurable:!0,writable:!0})}catch{n[r]=i}return i},RA}var MY;function UB(){if(MY)return OA.exports;MY=1;var n=pb(),e=Er(),r=PZe(),i="__core-js_shared__",s=OA.exports=e[i]||r(i,{});return(s.versions||(s.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),OA.exports}var NA,OY;function mb(){if(OY)return NA;OY=1;var n=UB();return NA=function(e,r){return n[e]||(n[e]=r||{})},NA}var jA,DY;function Ks(){if(DY)return jA;DY=1;var n=ku(),e=Object;return jA=function(r){return e(n(r))},jA}var BA,RY;function pi(){if(RY)return BA;RY=1;var n=_n(),e=Ks(),r=n({}.hasOwnProperty);return BA=Object.hasOwn||function(s,o){return r(e(s),o)},BA}var LA,NY;function FE(){if(NY)return LA;NY=1;var n=_n(),e=0,r=Math.random(),i=n(1.1.toString);return LA=function(s){return"Symbol("+(s===void 0?"":s)+")_"+i(++e+r,36)},LA}var FA,jY;function qr(){if(jY)return FA;jY=1;var n=Er(),e=mb(),r=pi(),i=FE(),s=hb(),o=A0e(),a=n.Symbol,l=e("wks"),c=o?a.for||a:a&&a.withoutSetter||i;return FA=function(u){return r(l,u)||(l[u]=s&&r(a,u)?a[u]:c("Symbol."+u)),l[u]},FA}var $A,BY;function T0e(){if(BY)return $A;BY=1;var n=Ys(),e=Ki(),r=zx(),i=zB(),s=TZe(),o=qr(),a=TypeError,l=o("toPrimitive");return $A=function(c,u){if(!e(c)||r(c))return c;var d=i(c,l),h;if(d){if(u===void 0&&(u="default"),h=n(d,c,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),s(c,u)},$A}var zA,LY;function WB(){if(LY)return zA;LY=1;var n=T0e(),e=zx();return zA=function(r){var i=n(r,"string");return e(i)?i:i+""},zA}var UA,FY;function P0e(){if(FY)return UA;FY=1;var n=Er(),e=Ki(),r=n.document,i=e(r)&&e(r.createElement);return UA=function(s){return i?r.createElement(s):{}},UA}var WA,$Y;function I0e(){if($Y)return WA;$Y=1;var n=Lr(),e=yn(),r=P0e();return WA=!n&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),WA}var zY;function $E(){if(zY)return uA;zY=1;var n=Lr(),e=Ys(),r=BE(),i=Lx(),s=tl(),o=WB(),a=pi(),l=I0e(),c=Object.getOwnPropertyDescriptor;return uA.f=n?c:function(d,h){if(d=s(d),h=o(h),l)try{return c(d,h)}catch{}if(a(d,h))return i(!e(r.f,d,h),d[h])},uA}var qA,UY;function IZe(){if(UY)return qA;UY=1;var n=yn(),e=fi(),r=/#|\.prototype\./,i=function(c,u){var d=o[s(c)];return d===l?!0:d===a?!1:e(u)?n(u):!!u},s=i.normalize=function(c){return String(c).replace(r,".").toLowerCase()},o=i.data={},a=i.NATIVE="N",l=i.POLYFILL="P";return qA=i,qA}var HA,WY;function Ux(){if(WY)return HA;WY=1;var n=$B(),e=tc(),r=Bx(),i=n(n.bind);return HA=function(s,o){return e(s),o===void 0?s:r?i(s,o):function(){return s.apply(o,arguments)}},HA}var VA={},GA,qY;function M0e(){if(qY)return GA;qY=1;var n=Lr(),e=yn();return GA=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),GA}var YA,HY;function Cu(){if(HY)return YA;HY=1;var n=Ki(),e=String,r=TypeError;return YA=function(i){if(n(i))return i;throw new r(e(i)+" is not an object")},YA}var VY;function da(){if(VY)return VA;VY=1;var n=Lr(),e=I0e(),r=M0e(),i=Cu(),s=WB(),o=TypeError,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c="enumerable",u="configurable",d="writable";return VA.f=n?r?function(f,p,m){if(i(f),p=s(p),i(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var b=l(f,p);b&&b[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:b[u],enumerable:c in m?m[c]:b[c],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(i(f),p=s(p),i(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new o("Accessors not supported");return"value"in m&&(f[p]=m.value),f},VA}var KA,GY;function gb(){if(GY)return KA;GY=1;var n=Lr(),e=da(),r=Lx();return KA=n?function(i,s,o){return e.f(i,s,r(1,o))}:function(i,s,o){return i[s]=o,i},KA}var XA,YY;function Bt(){if(YY)return XA;YY=1;var n=Er(),e=jE(),r=$B(),i=fi(),s=$E().f,o=IZe(),a=Qn(),l=Ux(),c=gb(),u=pi(),d=function(h){var f=function(p,m,b){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,b)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return XA=function(h,f){var p=h.target,m=h.global,b=h.stat,y=h.proto,v=m?n:b?n[p]:n[p]&&n[p].prototype,w=m?a:a[p]||c(a,p,{})[p],_=w.prototype,x,S,C,E,A,M,I,O,F;for(E in f)x=o(m?E:p+(b?".":"#")+E,h.forced),S=!x&&v&&u(v,E),M=w[E],S&&(h.dontCallGetSet?(F=s(v,E),I=F&&F.value):I=v[E]),A=S&&I?I:f[E],!(!x&&!y&&typeof M==typeof A)&&(h.bind&&S?O=l(A,n):h.wrap&&S?O=d(A):y&&i(A)?O=r(A):O=A,(h.sham||A&&A.sham||M&&M.sham)&&c(O,"sham",!0),c(w,E,O),y&&(C=p+"Prototype",u(a,C)||c(a,C,{}),c(a[C],E,A),h.real&&_&&(x||!_[E])&&c(_,E,A)))},XA}var QA,KY;function ch(){if(KY)return QA;KY=1;var n=ec();return QA=Array.isArray||function(r){return n(r)==="Array"},QA}var JA,XY;function MZe(){if(XY)return JA;XY=1;var n=Math.ceil,e=Math.floor;return JA=Math.trunc||function(i){var s=+i;return(s>0?e:n)(s)},JA}var ZA,QY;function bb(){if(QY)return ZA;QY=1;var n=MZe();return ZA=function(e){var r=+e;return r!==r||r===0?0:n(r)},ZA}var eT,JY;function O0e(){if(JY)return eT;JY=1;var n=bb(),e=Math.min;return eT=function(r){var i=n(r);return i>0?e(i,9007199254740991):0},eT}var tT,ZY;function nl(){if(ZY)return tT;ZY=1;var n=O0e();return tT=function(e){return n(e.length)},tT}var nT,eK;function qB(){if(eK)return nT;eK=1;var n=TypeError,e=9007199254740991;return nT=function(r){if(r>e)throw n("Maximum allowed index exceeded");return r},nT}var rT,tK;function zE(){if(tK)return rT;tK=1;var n=Lr(),e=da(),r=Lx();return rT=function(i,s,o){n?e.f(i,s,r(0,o)):i[s]=o},rT}var iT,nK;function HB(){if(nK)return iT;nK=1;var n=qr(),e=n("toStringTag"),r={};return r[e]="z",iT=String(r)==="[object z]",iT}var sT,rK;function uh(){if(rK)return sT;rK=1;var n=HB(),e=fi(),r=ec(),i=qr(),s=i("toStringTag"),o=Object,a=r(function(){return arguments}())==="Arguments",l=function(c,u){try{return c[u]}catch{}};return sT=n?r:function(c){var u,d,h;return c===void 0?"Undefined":c===null?"Null":typeof(d=l(u=o(c),s))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},sT}var oT,iK;function OZe(){if(iK)return oT;iK=1;var n=_n(),e=fi(),r=UB(),i=n(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(s){return i(s)}),oT=r.inspectSource,oT}var aT,sK;function D0e(){if(sK)return aT;sK=1;var n=_n(),e=yn(),r=fi(),i=uh(),s=To(),o=OZe(),a=function(){},l=s("Reflect","construct"),c=/^\s*(?:class|function)\b/,u=n(c.exec),d=!c.test(a),h=function(m){if(!r(m))return!1;try{return l(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(i(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(c,o(m))}catch{return!0}};return f.sham=!0,aT=!l||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,aT}var lT,oK;function DZe(){if(oK)return lT;oK=1;var n=ch(),e=D0e(),r=Ki(),i=qr(),s=i("species"),o=Array;return lT=function(a){var l;return n(a)&&(l=a.constructor,e(l)&&(l===o||n(l.prototype))?l=void 0:r(l)&&(l=l[s],l===null&&(l=void 0))),l===void 0?o:l},lT}var cT,aK;function UE(){if(aK)return cT;aK=1;var n=DZe();return cT=function(e,r){return new(n(e))(r===0?0:r)},cT}var uT,lK;function Wx(){if(lK)return uT;lK=1;var n=yn(),e=qr(),r=$x(),i=e("species");return uT=function(s){return r>=51||!n(function(){var o=[],a=o.constructor={};return a[i]=function(){return{foo:1}},o[s](Boolean).foo!==1})},uT}var cK;function R0e(){if(cK)return ZG;cK=1;var n=Bt(),e=yn(),r=ch(),i=Ki(),s=Ks(),o=nl(),a=qB(),l=zE(),c=UE(),u=Wx(),d=qr(),h=$x(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var y=[];return y[f]=!1,y.concat()[0]!==y}),m=function(y){if(!i(y))return!1;var v=y[f];return v!==void 0?!!v:r(y)},b=!p||!u("concat");return n({target:"Array",proto:!0,arity:1,forced:b},{concat:function(v){var w=s(this),_=c(w,0),x=0,S,C,E,A,M;for(S=-1,E=arguments.length;S<E;S++)if(M=S===-1?w:arguments[S],m(M))for(A=o(M),a(x+A),C=0;C<A;C++,x++)C in M&&l(_,x,M[C]);else a(x+1),l(_,x++,M);return _.length=x,_}}),ZG}var uK={},dK={},dT,hK;function ha(){if(hK)return dT;hK=1;var n=uh(),e=String;return dT=function(r){if(n(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},dT}var hT={},fT,fK;function WE(){if(fK)return fT;fK=1;var n=bb(),e=Math.max,r=Math.min;return fT=function(i,s){var o=n(i);return o<0?e(o+s,0):r(o,s)},fT}var pT,pK;function VB(){if(pK)return pT;pK=1;var n=tl(),e=WE(),r=nl(),i=function(s){return function(o,a,l){var c=n(o),u=r(c);if(u===0)return!s&&-1;var d=e(l,u),h;if(s&&a!==a){for(;u>d;)if(h=c[d++],h!==h)return!0}else for(;u>d;d++)if((s||d in c)&&c[d]===a)return s||d||0;return!s&&-1}};return pT={includes:i(!0),indexOf:i(!1)},pT}var mT,mK;function qx(){return mK||(mK=1,mT={}),mT}var gT,gK;function N0e(){if(gK)return gT;gK=1;var n=_n(),e=pi(),r=tl(),i=VB().indexOf,s=qx(),o=n([].push);return gT=function(a,l){var c=r(a),u=0,d=[],h;for(h in c)!e(s,h)&&e(c,h)&&o(d,h);for(;l.length>u;)e(c,h=l[u++])&&(~i(d,h)||o(d,h));return d},gT}var bT,bK;function GB(){return bK||(bK=1,bT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),bT}var yT,yK;function Hx(){if(yK)return yT;yK=1;var n=N0e(),e=GB();return yT=Object.keys||function(i){return n(i,e)},yT}var vK;function YB(){if(vK)return hT;vK=1;var n=Lr(),e=M0e(),r=da(),i=Cu(),s=tl(),o=Hx();return hT.f=n&&!e?Object.defineProperties:function(l,c){i(l);for(var u=s(c),d=o(c),h=d.length,f=0,p;h>f;)r.f(l,p=d[f++],u[p]);return l},hT}var vT,wK;function RZe(){if(wK)return vT;wK=1;var n=To();return vT=n("document","documentElement"),vT}var wT,xK;function qE(){if(xK)return wT;xK=1;var n=mb(),e=FE(),r=n("keys");return wT=function(i){return r[i]||(r[i]=e(i))},wT}var xT,_K;function Vx(){if(_K)return xT;_K=1;var n=Cu(),e=YB(),r=GB(),i=qx(),s=RZe(),o=P0e(),a=qE(),l=">",c="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(w){return c+d+l+w+c+"/"+d+l},m=function(w){w.write(p("")),w.close();var _=w.parentWindow.Object;return w=null,_},b=function(){var w=o("iframe"),_="java"+d+":",x;return w.style.display="none",s.appendChild(w),w.src=String(_),x=w.contentWindow.document,x.open(),x.write(p("document.F=Object")),x.close(),x.F},y,v=function(){try{y=new ActiveXObject("htmlfile")}catch{}v=typeof document<"u"?document.domain&&y?m(y):b():m(y);for(var w=r.length;w--;)delete v[u][r[w]];return v()};return i[h]=!0,xT=Object.create||function(_,x){var S;return _!==null?(f[u]=n(_),S=new f,f[u]=null,S[h]=_):S=v(),x===void 0?S:e.f(S,x)},xT}var _T={},SK;function HE(){if(SK)return _T;SK=1;var n=N0e(),e=GB(),r=e.concat("length","prototype");return _T.f=Object.getOwnPropertyNames||function(s){return n(s,r)},_T}var ST={},kT,kK;function yb(){if(kK)return kT;kK=1;var n=_n();return kT=n([].slice),kT}var CK;function j0e(){if(CK)return ST;CK=1;var n=ec(),e=tl(),r=HE().f,i=yb(),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(a){try{return r(a)}catch{return i(s)}};return ST.f=function(l){return s&&n(l)==="Window"?o(l):r(e(l))},ST}var CT={},EK;function VE(){return EK||(EK=1,CT.f=Object.getOwnPropertySymbols),CT}var ET,AK;function Gx(){if(AK)return ET;AK=1;var n=gb();return ET=function(e,r,i,s){return s&&s.enumerable?e[r]=i:n(e,r,i),e},ET}var AT,TK;function KB(){if(TK)return AT;TK=1;var n=da();return AT=function(e,r,i){return n.f(e,r,i)},AT}var TT={},PK;function GE(){if(PK)return TT;PK=1;var n=qr();return TT.f=n,TT}var PT,IK;function br(){if(IK)return PT;IK=1;var n=Qn(),e=pi(),r=GE(),i=da().f;return PT=function(s){var o=n.Symbol||(n.Symbol={});e(o,s)||i(o,s,{value:r.f(s)})},PT}var IT,MK;function B0e(){if(MK)return IT;MK=1;var n=Ys(),e=To(),r=qr(),i=Gx();return IT=function(){var s=e("Symbol"),o=s&&s.prototype,a=o&&o.valueOf,l=r("toPrimitive");o&&!o[l]&&i(o,l,function(c){return n(a,this)},{arity:1})},IT}var MT,OK;function NZe(){if(OK)return MT;OK=1;var n=HB(),e=uh();return MT=n?{}.toString:function(){return"[object "+e(this)+"]"},MT}var OT,DK;function Ap(){if(DK)return OT;DK=1;var n=HB(),e=da().f,r=gb(),i=pi(),s=NZe(),o=qr(),a=o("toStringTag");return OT=function(l,c,u,d){var h=u?l:l&&l.prototype;h&&(i(h,a)||e(h,a,{configurable:!0,value:c}),d&&!n&&r(h,"toString",s))},OT}var DT,RK;function jZe(){if(RK)return DT;RK=1;var n=Er(),e=fi(),r=n.WeakMap;return DT=e(r)&&/native code/.test(String(r)),DT}var RT,NK;function Yx(){if(NK)return RT;NK=1;var n=jZe(),e=Er(),r=Ki(),i=gb(),s=pi(),o=UB(),a=qE(),l=qx(),c="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(w){return p(w)?f(w):h(w,{})},b=function(w){return function(_){var x;if(!r(_)||(x=f(_)).type!==w)throw new u("Incompatible receiver, "+w+" required");return x}};if(n||o.state){var y=o.state||(o.state=new d);y.get=y.get,y.has=y.has,y.set=y.set,h=function(w,_){if(y.has(w))throw new u(c);return _.facade=w,y.set(w,_),_},f=function(w){return y.get(w)||{}},p=function(w){return y.has(w)}}else{var v=a("state");l[v]=!0,h=function(w,_){if(s(w,v))throw new u(c);return _.facade=w,i(w,v,_),_},f=function(w){return s(w,v)?w[v]:{}},p=function(w){return s(w,v)}}return RT={set:h,get:f,has:p,enforce:m,getterFor:b},RT}var NT,jK;function dh(){if(jK)return NT;jK=1;var n=Ux(),e=_n(),r=LE(),i=Ks(),s=nl(),o=UE(),a=e([].push),l=function(c){var u=c===1,d=c===2,h=c===3,f=c===4,p=c===6,m=c===7,b=c===5||p;return function(y,v,w,_){for(var x=i(y),S=r(x),C=s(S),E=n(v,w),A=0,M=_||o,I=u?M(y,C):d||m?M(y,0):void 0,O,F;C>A;A++)if((b||A in S)&&(O=S[A],F=E(O,A,x),c))if(u)I[A]=F;else if(F)switch(c){case 3:return!0;case 5:return O;case 6:return A;case 2:a(I,O)}else switch(c){case 4:return!1;case 7:a(I,O)}return p?-1:h||f?f:I}};return NT={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)},NT}var BK;function BZe(){if(BK)return dK;BK=1;var n=Bt(),e=Er(),r=Ys(),i=_n(),s=pb(),o=Lr(),a=hb(),l=yn(),c=pi(),u=nr(),d=Cu(),h=tl(),f=WB(),p=ha(),m=Lx(),b=Vx(),y=Hx(),v=HE(),w=j0e(),_=VE(),x=$E(),S=da(),C=YB(),E=BE(),A=Gx(),M=KB(),I=mb(),O=qE(),F=qx(),$=FE(),z=qr(),R=GE(),j=br(),N=B0e(),D=Ap(),H=Yx(),U=dh().forEach,X=O("hidden"),Y="Symbol",ee="prototype",G=H.set,Z=H.getterFor(Y),pe=Object[ee],re=e.Symbol,le=re&&re[ee],ce=e.RangeError,Pe=e.TypeError,Ee=e.QObject,V=x.f,Ae=S.f,Qe=w.f,st=E.f,ze=i([].push),wt=I("symbols"),qe=I("op-symbols"),Je=I("wks"),yt=!Ee||!Ee[ee]||!Ee[ee].findChild,ct=function(K,he,se){var ke=V(pe,he);ke&&delete pe[he],Ae(K,he,se),ke&&K!==pe&&Ae(pe,he,ke)},Ze=o&&l(function(){return b(Ae({},"a",{get:function(){return Ae(this,"a",{value:7}).a}})).a!==7})?ct:Ae,Ve=function(K,he){var se=wt[K]=b(le);return G(se,{type:Y,tag:K,description:he}),o||(se.description=he),se},rt=function(he,se,ke){he===pe&&rt(qe,se,ke),d(he);var Re=f(se);return d(ke),c(wt,Re)?(ke.enumerable?(c(he,X)&&he[X][Re]&&(he[X][Re]=!1),ke=b(ke,{enumerable:m(0,!1)})):(c(he,X)||Ae(he,X,m(1,b(null))),he[X][Re]=!0),Ze(he,Re,ke)):Ae(he,Re,ke)},q=function(he,se){d(he);var ke=h(se),Re=y(ke).concat(fe(ke));return U(Re,function(de){(!o||r(ve,ke,de))&&rt(he,de,ke[de])}),he},te=function(he,se){return se===void 0?b(he):q(b(he),se)},ve=function(he){var se=f(he),ke=r(st,this,se);return this===pe&&c(wt,se)&&!c(qe,se)?!1:ke||!c(this,se)||!c(wt,se)||c(this,X)&&this[X][se]?ke:!0},me=function(he,se){var ke=h(he),Re=f(se);if(!(ke===pe&&c(wt,Re)&&!c(qe,Re))){var de=V(ke,Re);return de&&c(wt,Re)&&!(c(ke,X)&&ke[X][Re])&&(de.enumerable=!0),de}},xe=function(he){var se=Qe(h(he)),ke=[];return U(se,function(Re){!c(wt,Re)&&!c(F,Re)&&ze(ke,Re)}),ke},fe=function(K){var he=K===pe,se=Qe(he?qe:h(K)),ke=[];return U(se,function(Re){c(wt,Re)&&(!he||c(pe,Re))&&ze(ke,wt[Re])}),ke};return a||(re=function(){if(u(le,this))throw new Pe("Symbol is not a constructor");var he=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),se=$(he),ke=function(Re){var de=this===void 0?e:this;de===pe&&r(ke,qe,Re),c(de,X)&&c(de[X],se)&&(de[X][se]=!1);var _e=m(1,Re);try{Ze(de,se,_e)}catch(Se){if(!(Se instanceof ce))throw Se;ct(de,se,_e)}};return o&&yt&&Ze(pe,se,{configurable:!0,set:ke}),Ve(se,he)},le=re[ee],A(le,"toString",function(){return Z(this).tag}),A(re,"withoutSetter",function(K){return Ve($(K),K)}),E.f=ve,S.f=rt,C.f=q,x.f=me,v.f=w.f=xe,_.f=fe,R.f=function(K){return Ve(z(K),K)},o&&(M(le,"description",{configurable:!0,get:function(){return Z(this).description}}),s||A(pe,"propertyIsEnumerable",ve,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:re}),U(y(Je),function(K){j(K)}),n({target:Y,stat:!0,forced:!a},{useSetter:function(){yt=!0},useSimple:function(){yt=!1}}),n({target:"Object",stat:!0,forced:!a,sham:!o},{create:te,defineProperty:rt,defineProperties:q,getOwnPropertyDescriptor:me}),n({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:xe}),N(),D(re,Y),F[X]=!0,dK}var LK={},jT,FK;function L0e(){if(FK)return jT;FK=1;var n=hb();return jT=n&&!!Symbol.for&&!!Symbol.keyFor,jT}var $K;function LZe(){if($K)return LK;$K=1;var n=Bt(),e=To(),r=pi(),i=ha(),s=mb(),o=L0e(),a=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!o},{for:function(c){var u=i(c);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,l[d]=u,d}}),LK}var zK={},UK;function FZe(){if(UK)return zK;UK=1;var n=Bt(),e=pi(),r=zx(),i=fb(),s=mb(),o=L0e(),a=s("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!o},{keyFor:function(c){if(!r(c))throw new TypeError(i(c)+" is not a symbol");if(e(a,c))return a[c]}}),zK}var WK={},BT,qK;function $Ze(){if(qK)return BT;qK=1;var n=_n(),e=ch(),r=fi(),i=ec(),s=ha(),o=n([].push);return BT=function(a){if(r(a))return a;if(e(a)){for(var l=a.length,c=[],u=0;u<l;u++){var d=a[u];typeof d=="string"?o(c,d):(typeof d=="number"||i(d)==="Number"||i(d)==="String")&&o(c,s(d))}var h=c.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var b=0;b<h;b++)if(c[b]===p)return m}}},BT}var HK;function F0e(){if(HK)return WK;HK=1;var n=Bt(),e=To(),r=jE(),i=Ys(),s=_n(),o=yn(),a=fi(),l=zx(),c=yb(),u=$Ze(),d=hb(),h=String,f=e("JSON","stringify"),p=s(/./.exec),m=s("".charAt),b=s("".charCodeAt),y=s("".replace),v=s(1.1.toString),w=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,S=!d||o(function(){var M=e("Symbol")("stringify detection");return f([M])!=="[null]"||f({a:M})!=="{}"||f(Object(M))!=="{}"}),C=o(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),E=function(M,I){var O=c(arguments),F=u(I);if(!(!a(F)&&(M===void 0||l(M))))return O[1]=function($,z){if(a(F)&&(z=i(F,this,h($),z)),!l(z))return z},r(f,null,O)},A=function(M,I,O){var F=m(O,I-1),$=m(O,I+1);return p(_,M)&&!p(x,$)||p(x,M)&&!p(_,F)?"\\u"+v(b(M,0),16):M};return f&&n({target:"JSON",stat:!0,arity:3,forced:S||C},{stringify:function(I,O,F){var $=c(arguments),z=r(S?E:f,null,$);return C&&typeof z=="string"?y(z,w,A):z}}),WK}var VK={},GK;function zZe(){if(GK)return VK;GK=1;var n=Bt(),e=hb(),r=yn(),i=VE(),s=Ks(),o=!e||r(function(){i.f(1)});return n({target:"Object",stat:!0,forced:o},{getOwnPropertySymbols:function(l){var c=i.f;return c?c(s(l)):[]}}),VK}var YK;function $0e(){return YK||(YK=1,BZe(),LZe(),FZe(),F0e(),zZe()),uK}var KK={},XK;function z0e(){if(XK)return KK;XK=1;var n=br();return n("asyncDispose"),KK}var QK={},JK;function UZe(){if(JK)return QK;JK=1;var n=br();return n("asyncIterator"),QK}var ZK={},eX;function U0e(){if(eX)return ZK;eX=1;var n=br();return n("dispose"),ZK}var tX={},nX;function WZe(){if(nX)return tX;nX=1;var n=br();return n("hasInstance"),tX}var rX={},iX;function qZe(){if(iX)return rX;iX=1;var n=br();return n("isConcatSpreadable"),rX}var sX={},oX;function W0e(){if(oX)return sX;oX=1;var n=br();return n("iterator"),sX}var aX={},lX;function HZe(){if(lX)return aX;lX=1;var n=br();return n("match"),aX}var cX={},uX;function VZe(){if(uX)return cX;uX=1;var n=br();return n("matchAll"),cX}var dX={},hX;function GZe(){if(hX)return dX;hX=1;var n=br();return n("replace"),dX}var fX={},pX;function YZe(){if(pX)return fX;pX=1;var n=br();return n("search"),fX}var mX={},gX;function KZe(){if(gX)return mX;gX=1;var n=br();return n("species"),mX}var bX={},yX;function XZe(){if(yX)return bX;yX=1;var n=br();return n("split"),bX}var vX={},wX;function q0e(){if(wX)return vX;wX=1;var n=br(),e=B0e();return n("toPrimitive"),e(),vX}var xX={},_X;function QZe(){if(_X)return xX;_X=1;var n=To(),e=br(),r=Ap();return e("toStringTag"),r(n("Symbol"),"Symbol"),xX}var SX={},kX;function JZe(){if(kX)return SX;kX=1;var n=br();return n("unscopables"),SX}var CX={},EX;function ZZe(){if(EX)return CX;EX=1;var n=Er(),e=Ap();return e(n.JSON,"JSON",!0),CX}var LT,AX;function eet(){if(AX)return LT;AX=1,R0e(),$0e(),z0e(),UZe(),U0e(),WZe(),qZe(),W0e(),HZe(),VZe(),GZe(),YZe(),KZe(),XZe(),q0e(),QZe(),JZe(),ZZe();var n=Qn();return LT=n.Symbol,LT}var TX={},FT,PX;function Kx(){return PX||(PX=1,FT=function(){}),FT}var $T,IX;function vb(){return IX||(IX=1,$T={}),$T}var zT,MX;function tet(){if(MX)return zT;MX=1;var n=Lr(),e=pi(),r=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=e(r,"name"),o=s&&(function(){}).name==="something",a=s&&(!n||n&&i(r,"name").configurable);return zT={EXISTS:s,PROPER:o,CONFIGURABLE:a},zT}var UT,OX;function H0e(){if(OX)return UT;OX=1;var n=yn();return UT=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),UT}var WT,DX;function YE(){if(DX)return WT;DX=1;var n=pi(),e=fi(),r=Ks(),i=qE(),s=H0e(),o=i("IE_PROTO"),a=Object,l=a.prototype;return WT=s?a.getPrototypeOf:function(c){var u=r(c);if(n(u,o))return u[o];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?l:null},WT}var qT,RX;function V0e(){if(RX)return qT;RX=1;var n=yn(),e=fi(),r=Ki(),i=Vx(),s=YE(),o=Gx(),a=qr(),l=pb(),c=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=s(s(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||n(function(){var m={};return d[c].call(m)!==m});return p?d={}:l&&(d=i(d)),e(d[c])||o(d,c,function(){return this}),qT={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},qT}var HT,NX;function net(){if(NX)return HT;NX=1;var n=V0e().IteratorPrototype,e=Vx(),r=Lx(),i=Ap(),s=vb(),o=function(){return this};return HT=function(a,l,c,u){var d=l+" Iterator";return a.prototype=e(n,{next:r(+!u,c)}),i(a,d,!1,!0),s[d]=o,a},HT}var VT,jX;function ret(){if(jX)return VT;jX=1;var n=_n(),e=tc();return VT=function(r,i,s){try{return n(e(Object.getOwnPropertyDescriptor(r,i)[s]))}catch{}},VT}var GT,BX;function iet(){if(BX)return GT;BX=1;var n=Ki();return GT=function(e){return n(e)||e===null},GT}var YT,LX;function set(){if(LX)return YT;LX=1;var n=iet(),e=String,r=TypeError;return YT=function(i){if(n(i))return i;throw new r("Can't set "+e(i)+" as a prototype")},YT}var KT,FX;function oet(){if(FX)return KT;FX=1;var n=ret(),e=Ki(),r=ku(),i=set();return KT=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,o={},a;try{a=n(Object.prototype,"__proto__","set"),a(o,[]),s=o instanceof Array}catch{}return function(c,u){return r(c),i(u),e(c)&&(s?a(c,u):c.__proto__=u),c}}():void 0),KT}var XT,$X;function XB(){if($X)return XT;$X=1;var n=Bt(),e=Ys(),r=pb(),i=tet(),s=fi(),o=net(),a=YE(),l=oet(),c=Ap(),u=gb(),d=Gx(),h=qr(),f=vb(),p=V0e(),m=i.PROPER,b=i.CONFIGURABLE,y=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,w=h("iterator"),_="keys",x="values",S="entries",C=function(){return this};return XT=function(E,A,M,I,O,F,$){o(M,A,I);var z=function(G){if(G===O&&H)return H;if(!v&&G&&G in N)return N[G];switch(G){case _:return function(){return new M(this,G)};case x:return function(){return new M(this,G)};case S:return function(){return new M(this,G)}}return function(){return new M(this)}},R=A+" Iterator",j=!1,N=E.prototype,D=N[w]||N["@@iterator"]||O&&N[O],H=!v&&D||z(O),U=A==="Array"&&N.entries||D,X,Y,ee;if(U&&(X=a(U.call(new E)),X!==Object.prototype&&X.next&&(!r&&a(X)!==y&&(l?l(X,y):s(X[w])||d(X,w,C)),c(X,R,!0,!0),r&&(f[R]=C))),m&&O===x&&D&&D.name!==x&&(!r&&b?u(N,"name",x):(j=!0,H=function(){return e(D,this)})),O)if(Y={values:z(x),keys:F?H:z(_),entries:z(S)},$)for(ee in Y)(v||j||!(ee in N))&&d(N,ee,Y[ee]);else n({target:A,proto:!0,forced:v||j},Y);return(!r||$)&&N[w]!==H&&d(N,w,H,{name:O}),f[A]=H,Y},XT}var QT,zX;function QB(){return zX||(zX=1,QT=function(n,e){return{value:n,done:e}}),QT}var JT,UX;function hh(){if(UX)return JT;UX=1;var n=tl(),e=Kx(),r=vb(),i=Yx(),s=da().f,o=XB(),a=QB(),l=pb(),c=Lr(),u="Array Iterator",d=i.set,h=i.getterFor(u);JT=o(Array,"Array",function(p,m){d(this,{type:u,target:n(p),index:0,kind:m})},function(){var p=h(this),m=p.target,b=p.index++;if(!m||b>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(b,!1);case"values":return a(m[b],!1)}return a([b,m[b]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!l&&c&&f.name!=="values")try{s(f,"name",{value:"values"})}catch{}return JT}var ZT,WX;function aet(){return WX||(WX=1,ZT={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),ZT}var qX;function fh(){if(qX)return TX;qX=1,hh();var n=aet(),e=Er(),r=Ap(),i=vb();for(var s in n)r(e[s],s),i[s]=i.Array;return TX}var eP,HX;function G0e(){if(HX)return eP;HX=1;var n=eet();return fh(),eP=n,eP}var tP,VX;function cet(){return VX||(VX=1,tP=G0e()),tP}var uet=cet(),det=zt(uet),GX={},YX;function het(){if(YX)return GX;YX=1;var n=Bt(),e=ch(),r=D0e(),i=Ki(),s=WE(),o=nl(),a=tl(),l=zE(),c=qr(),u=Wx(),d=yb(),h=u("slice"),f=c("species"),p=Array,m=Math.max;return n({target:"Array",proto:!0,forced:!h},{slice:function(y,v){var w=a(this),_=o(w),x=s(y,_),S=s(v===void 0?_:v,_),C,E,A;if(e(w)&&(C=w.constructor,r(C)&&(C===p||e(C.prototype))?C=void 0:i(C)&&(C=C[f],C===null&&(C=void 0)),C===p||C===void 0))return d(w,x,S);for(E=new(C===void 0?p:C)(m(S-x,0)),A=0;x<S;x++,A++)x in w&&l(E,A,w[x]);return E.length=A,E}}),GX}var nP,KX;function Ar(){if(KX)return nP;KX=1;var n=Er(),e=Qn();return nP=function(r,i){var s=e[r+"Prototype"],o=s&&s[i];if(o)return o;var a=n[r],l=a&&a.prototype;return l&&l[i]},nP}var rP,XX;function fet(){if(XX)return rP;XX=1,het();var n=Ar();return rP=n("Array","slice"),rP}var iP,QX;function pet(){if(QX)return iP;QX=1;var n=nr(),e=fet(),r=Array.prototype;return iP=function(i){var s=i.slice;return i===r||n(r,i)&&s===r.slice?e:s},iP}var sP,JX;function met(){if(JX)return sP;JX=1;var n=pet();return sP=n,sP}var oP,ZX;function get(){return ZX||(ZX=1,oP=met()),oP}var bet=get(),wb=zt(bet),eQ={},aP,tQ;function Y0e(){if(tQ)return aP;tQ=1;var n=To(),e=_n(),r=HE(),i=VE(),s=Cu(),o=e([].concat);return aP=n("Reflect","ownKeys")||function(l){var c=r.f(s(l)),u=i.f;return u?o(c,u(l)):c},aP}var nQ;function yet(){if(nQ)return eQ;nQ=1;var n=Bt(),e=Y0e();return n({target:"Reflect",stat:!0},{ownKeys:e}),eQ}var lP,rQ;function vet(){if(rQ)return lP;rQ=1,yet();var n=Qn();return lP=n.Reflect.ownKeys,lP}var cP,iQ;function wet(){if(iQ)return cP;iQ=1;var n=vet();return cP=n,cP}var uP,sQ;function xet(){return sQ||(sQ=1,uP=wet()),uP}var _et=xet(),K0e=zt(_et),oQ={},aQ;function ket(){if(aQ)return oQ;aQ=1;var n=Bt(),e=ch();return n({target:"Array",stat:!0},{isArray:e}),oQ}var dP,lQ;function Cet(){if(lQ)return dP;lQ=1,ket();var n=Qn();return dP=n.Array.isArray,dP}var hP,cQ;function Eet(){if(cQ)return hP;cQ=1;var n=Cet();return hP=n,hP}var fP,uQ;function Aet(){return uQ||(uQ=1,fP=Eet()),fP}var Tet=Aet(),an=zt(Tet),dQ={},hQ;function Pet(){if(hQ)return dQ;hQ=1;var n=Bt(),e=dh().map,r=Wx(),i=r("map");return n({target:"Array",proto:!0,forced:!i},{map:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),dQ}var pP,fQ;function Iet(){if(fQ)return pP;fQ=1,Pet();var n=Ar();return pP=n("Array","map"),pP}var mP,pQ;function Met(){if(pQ)return mP;pQ=1;var n=nr(),e=Iet(),r=Array.prototype;return mP=function(i){var s=i.map;return i===r||n(r,i)&&s===r.map?e:s},mP}var gP,mQ;function Oet(){if(mQ)return gP;mQ=1;var n=Met();return gP=n,gP}var bP,gQ;function Det(){return gQ||(gQ=1,bP=Oet()),bP}var Ret=Det(),In=zt(Ret),bQ={},yQ;function Net(){if(yQ)return bQ;yQ=1;var n=Bt(),e=Ks(),r=Hx(),i=yn(),s=i(function(){r(1)});return n({target:"Object",stat:!0,forced:s},{keys:function(a){return r(e(a))}}),bQ}var yP,vQ;function jet(){if(vQ)return yP;vQ=1,Net();var n=Qn();return yP=n.Object.keys,yP}var vP,wQ;function Bet(){if(wQ)return vP;wQ=1;var n=jet();return vP=n,vP}var wP,xQ;function Let(){return xQ||(xQ=1,wP=Bet()),wP}var Fet=Let(),Qr=zt(Fet),_Q={},SQ;function $et(){if(SQ)return _Q;SQ=1;var n=Bt(),e=_n(),r=Date,i=e(r.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return i(new r)}}),_Q}var xP,kQ;function zet(){if(kQ)return xP;kQ=1,$et();var n=Qn();return xP=n.Date.now,xP}var _P,CQ;function Uet(){if(CQ)return _P;CQ=1;var n=zet();return _P=n,_P}var SP,EQ;function Wet(){return EQ||(EQ=1,SP=Uet()),SP}var qet=Wet(),lo=zt(qet),AQ={},kP,TQ;function Het(){if(TQ)return kP;TQ=1;var n=_n(),e=tc(),r=Ki(),i=pi(),s=yb(),o=Bx(),a=Function,l=n([].concat),c=n([].join),u={},d=function(h,f,p){if(!i(u,f)){for(var m=[],b=0;b<f;b++)m[b]="a["+b+"]";u[f]=a("C,a","return new C("+c(m,",")+")")}return u[f](h,p)};return kP=o?a.bind:function(f){var p=e(this),m=p.prototype,b=s(arguments,1),y=function(){var w=l(b,s(arguments));return this instanceof y?d(p,w.length,w):p.apply(f,w)};return r(m)&&(y.prototype=m),y},kP}var PQ;function Vet(){if(PQ)return AQ;PQ=1;var n=Bt(),e=Het();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),AQ}var CP,IQ;function Get(){if(IQ)return CP;IQ=1,Vet();var n=Ar();return CP=n("Function","bind"),CP}var EP,MQ;function Yet(){if(MQ)return EP;MQ=1;var n=nr(),e=Get(),r=Function.prototype;return EP=function(i){var s=i.bind;return i===r||n(r,i)&&s===r.bind?e:s},EP}var AP,OQ;function Ket(){if(OQ)return AP;OQ=1;var n=Yet();return AP=n,AP}var TP,DQ;function Xet(){return DQ||(DQ=1,TP=Ket()),TP}var Qet=Xet(),Ue=zt(Qet),RQ={},PP,NQ;function xb(){if(NQ)return PP;NQ=1;var n=yn();return PP=function(e,r){var i=[][e];return!!i&&n(function(){i.call(null,r||function(){return 1},1)})},PP}var IP,jQ;function Jet(){if(jQ)return IP;jQ=1;var n=dh().forEach,e=xb(),r=e("forEach");return IP=r?[].forEach:function(s){return n(this,s,arguments.length>1?arguments[1]:void 0)},IP}var BQ;function Zet(){if(BQ)return RQ;BQ=1;var n=Bt(),e=Jet();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),RQ}var MP,LQ;function ett(){if(LQ)return MP;LQ=1,Zet();var n=Ar();return MP=n("Array","forEach"),MP}var OP,FQ;function ttt(){if(FQ)return OP;FQ=1;var n=ett();return OP=n,OP}var DP,$Q;function ntt(){if($Q)return DP;$Q=1;var n=uh(),e=pi(),r=nr(),i=ttt(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return DP=function(a){var l=a.forEach;return a===s||r(s,a)&&l===s.forEach||e(o,n(a))?i:l},DP}var RP,zQ;function rtt(){return zQ||(zQ=1,RP=ntt()),RP}var itt=rtt(),xt=zt(itt),UQ={},WQ;function stt(){if(WQ)return UQ;WQ=1;var n=Bt(),e=_n(),r=ch(),i=e([].reverse),s=[1,2];return n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),i(this)}}),UQ}var NP,qQ;function ott(){if(qQ)return NP;qQ=1,stt();var n=Ar();return NP=n("Array","reverse"),NP}var jP,HQ;function att(){if(HQ)return jP;HQ=1;var n=nr(),e=ott(),r=Array.prototype;return jP=function(i){var s=i.reverse;return i===r||n(r,i)&&s===r.reverse?e:s},jP}var BP,VQ;function ltt(){if(VQ)return BP;VQ=1;var n=att();return BP=n,BP}var LP,GQ;function ctt(){return GQ||(GQ=1,LP=ltt()),LP}var utt=ctt(),dtt=zt(utt),YQ={},FP,KQ;function htt(){if(KQ)return FP;KQ=1;var n=Lr(),e=ch(),r=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();return FP=s?function(o,a){if(e(o)&&!i(o,"length").writable)throw new r("Cannot set read only .length");return o.length=a}:function(o,a){return o.length=a},FP}var $P,XQ;function X0e(){if(XQ)return $P;XQ=1;var n=fb(),e=TypeError;return $P=function(r,i){if(!delete r[i])throw new e("Cannot delete property "+n(i)+" of "+n(r))},$P}var QQ;function ftt(){if(QQ)return YQ;QQ=1;var n=Bt(),e=Ks(),r=WE(),i=bb(),s=nl(),o=htt(),a=qB(),l=UE(),c=zE(),u=X0e(),d=Wx(),h=d("splice"),f=Math.max,p=Math.min;return n({target:"Array",proto:!0,forced:!h},{splice:function(b,y){var v=e(this),w=s(v),_=r(b,w),x=arguments.length,S,C,E,A,M,I;for(x===0?S=C=0:x===1?(S=0,C=w-_):(S=x-2,C=p(f(i(y),0),w-_)),a(w+S-C),E=l(v,C),A=0;A<C;A++)M=_+A,M in v&&c(E,A,v[M]);if(E.length=C,S<C){for(A=_;A<w-C;A++)M=A+C,I=A+S,M in v?v[I]=v[M]:u(v,I);for(A=w;A>w-C+S;A--)u(v,A-1)}else if(S>C)for(A=w-C;A>_;A--)M=A+C-1,I=A+S-1,M in v?v[I]=v[M]:u(v,I);for(A=0;A<S;A++)v[A+_]=arguments[A+2];return o(v,w-C+S),E}}),YQ}var zP,JQ;function ptt(){if(JQ)return zP;JQ=1,ftt();var n=Ar();return zP=n("Array","splice"),zP}var UP,ZQ;function mtt(){if(ZQ)return UP;ZQ=1;var n=nr(),e=ptt(),r=Array.prototype;return UP=function(i){var s=i.splice;return i===r||n(r,i)&&s===r.splice?e:s},UP}var WP,eJ;function gtt(){if(eJ)return WP;eJ=1;var n=mtt();return WP=n,WP}var qP,tJ;function btt(){return tJ||(tJ=1,qP=gtt()),qP}var ytt=btt(),cs=zt(ytt),nJ={},HP,rJ;function vtt(){if(rJ)return HP;rJ=1;var n=Lr(),e=_n(),r=Ys(),i=yn(),s=Hx(),o=VE(),a=BE(),l=Ks(),c=LE(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return HP=!u||i(function(){if(n&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),b="abcdefghijklmnopqrst";return f[m]=7,b.split("").forEach(function(y){p[y]=y}),u({},f)[m]!==7||s(u({},p)).join("")!==b})?function(p,m){for(var b=l(p),y=arguments.length,v=1,w=o.f,_=a.f;y>v;)for(var x=c(arguments[v++]),S=w?h(s(x),w(x)):s(x),C=S.length,E=0,A;C>E;)A=S[E++],(!n||r(_,x,A))&&(b[A]=x[A]);return b}:u,HP}var iJ;function wtt(){if(iJ)return nJ;iJ=1;var n=Bt(),e=vtt();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),nJ}var VP,sJ;function xtt(){if(sJ)return VP;sJ=1,wtt();var n=Qn();return VP=n.Object.assign,VP}var GP,oJ;function _tt(){if(oJ)return GP;oJ=1;var n=xtt();return GP=n,GP}var YP,aJ;function Stt(){return aJ||(aJ=1,YP=_tt()),YP}var ktt=Stt(),yu=zt(ktt),lJ={},cJ;function Ctt(){if(cJ)return lJ;cJ=1;var n=Bt(),e=VB().includes,r=yn(),i=Kx(),s=r(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:s},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),i("includes"),lJ}var KP,uJ;function Ett(){if(uJ)return KP;uJ=1,Ctt();var n=Ar();return KP=n("Array","includes"),KP}var dJ={},XP,hJ;function Att(){if(hJ)return XP;hJ=1;var n=Ki(),e=ec(),r=qr(),i=r("match");return XP=function(s){var o;return n(s)&&((o=s[i])!==void 0?!!o:e(s)==="RegExp")},XP}var QP,fJ;function Ttt(){if(fJ)return QP;fJ=1;var n=Att(),e=TypeError;return QP=function(r){if(n(r))throw new e("The method doesn't accept regular expressions");return r},QP}var JP,pJ;function Ptt(){if(pJ)return JP;pJ=1;var n=qr(),e=n("match");return JP=function(r){var i=/./;try{"/./"[r](i)}catch{try{return i[e]=!1,"/./"[r](i)}catch{}}return!1},JP}var mJ;function Itt(){if(mJ)return dJ;mJ=1;var n=Bt(),e=_n(),r=Ttt(),i=ku(),s=ha(),o=Ptt(),a=e("".indexOf);return n({target:"String",proto:!0,forced:!o("includes")},{includes:function(c){return!!~a(s(i(this)),s(r(c)),arguments.length>1?arguments[1]:void 0)}}),dJ}var ZP,gJ;function Mtt(){if(gJ)return ZP;gJ=1,Itt();var n=Ar();return ZP=n("String","includes"),ZP}var eI,bJ;function Ott(){if(bJ)return eI;bJ=1;var n=nr(),e=Ett(),r=Mtt(),i=Array.prototype,s=String.prototype;return eI=function(o){var a=o.includes;return o===i||n(i,o)&&a===i.includes?e:typeof o=="string"||o===s||n(s,o)&&a===s.includes?r:a},eI}var tI,yJ;function Dtt(){if(yJ)return tI;yJ=1;var n=Ott();return tI=n,tI}var nI,vJ;function Rtt(){return vJ||(vJ=1,nI=Dtt()),nI}var Ntt=Rtt(),M0=zt(Ntt),wJ={},xJ;function jtt(){if(xJ)return wJ;xJ=1;var n=Bt(),e=yn(),r=Ks(),i=YE(),s=H0e(),o=e(function(){i(1)});return n({target:"Object",stat:!0,forced:o,sham:!s},{getPrototypeOf:function(l){return i(r(l))}}),wJ}var rI,_J;function Btt(){if(_J)return rI;_J=1,jtt();var n=Qn();return rI=n.Object.getPrototypeOf,rI}var iI,SJ;function Ltt(){if(SJ)return iI;SJ=1;var n=Btt();return iI=n,iI}var sI,kJ;function Ftt(){return kJ||(kJ=1,sI=Ltt()),sI}var $tt=Ftt(),CJ=zt($tt),oI,EJ;function ztt(){if(EJ)return oI;EJ=1,R0e();var n=Ar();return oI=n("Array","concat"),oI}var aI,AJ;function Utt(){if(AJ)return aI;AJ=1;var n=nr(),e=ztt(),r=Array.prototype;return aI=function(i){var s=i.concat;return i===r||n(r,i)&&s===r.concat?e:s},aI}var lI,TJ;function Wtt(){if(TJ)return lI;TJ=1;var n=Utt();return lI=n,lI}var cI,PJ;function qtt(){return PJ||(PJ=1,cI=Wtt()),cI}var Htt=qtt(),Mr=zt(Htt),IJ={},MJ;function Vtt(){if(MJ)return IJ;MJ=1;var n=Bt(),e=dh().filter,r=Wx(),i=r("filter");return n({target:"Array",proto:!0,forced:!i},{filter:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),IJ}var uI,OJ;function Gtt(){if(OJ)return uI;OJ=1,Vtt();var n=Ar();return uI=n("Array","filter"),uI}var dI,DJ;function Ytt(){if(DJ)return dI;DJ=1;var n=nr(),e=Gtt(),r=Array.prototype;return dI=function(i){var s=i.filter;return i===r||n(r,i)&&s===r.filter?e:s},dI}var hI,RJ;function Ktt(){if(RJ)return hI;RJ=1;var n=Ytt();return hI=n,hI}var fI,NJ;function Xtt(){return NJ||(NJ=1,fI=Ktt()),fI}var Qtt=Xtt(),qt=zt(Qtt),jJ={},pI,BJ;function Q0e(){if(BJ)return pI;BJ=1;var n=Lr(),e=yn(),r=_n(),i=YE(),s=Hx(),o=tl(),a=BE().f,l=r(a),c=r([].push),u=n&&e(function(){var h=Object.create(null);return h[2]=2,!l(h,2)}),d=function(h){return function(f){for(var p=o(f),m=s(p),b=u&&i(p)===null,y=m.length,v=0,w=[],_;y>v;)_=m[v++],(!n||(b?_ in p:l(p,_)))&&c(w,h?[_,p[_]]:p[_]);return w}};return pI={entries:d(!0),values:d(!1)},pI}var LJ;function Jtt(){if(LJ)return jJ;LJ=1;var n=Bt(),e=Q0e().values;return n({target:"Object",stat:!0},{values:function(i){return e(i)}}),jJ}var mI,FJ;function Ztt(){if(FJ)return mI;FJ=1,Jtt();var n=Qn();return mI=n.Object.values,mI}var gI,$J;function ent(){if($J)return gI;$J=1;var n=Ztt();return gI=n,gI}var bI,zJ;function tnt(){return zJ||(zJ=1,bI=ent()),bI}var nnt=tnt(),JB=zt(nnt),UJ={},yI,WJ;function ZB(){return WJ||(WJ=1,yI=`	
\v\f\r \u2028\u2029\uFEFF`),yI}var vI,qJ;function J0e(){if(qJ)return vI;qJ=1;var n=_n(),e=ku(),r=ha(),i=ZB(),s=n("".replace),o=RegExp("^["+i+"]+"),a=RegExp("(^|[^"+i+"])["+i+"]+$"),l=function(c){return function(u){var d=r(e(u));return c&1&&(d=s(d,o,"")),c&2&&(d=s(d,a,"$1")),d}};return vI={start:l(1),end:l(2),trim:l(3)},vI}var wI,HJ;function rnt(){if(HJ)return wI;HJ=1;var n=Er(),e=yn(),r=_n(),i=ha(),s=J0e().trim,o=ZB(),a=n.parseInt,l=n.Symbol,c=l&&l.iterator,u=/^[+-]?0x/i,d=r(u.exec),h=a(o+"08")!==8||a(o+"0x16")!==22||c&&!e(function(){a(Object(c))});return wI=h?function(p,m){var b=s(i(p));return a(b,m>>>0||(d(u,b)?16:10))}:a,wI}var VJ;function int(){if(VJ)return UJ;VJ=1;var n=Bt(),e=rnt();return n({global:!0,forced:parseInt!==e},{parseInt:e}),UJ}var xI,GJ;function snt(){if(GJ)return xI;GJ=1,int();var n=Qn();return xI=n.parseInt,xI}var _I,YJ;function ont(){if(YJ)return _I;YJ=1;var n=snt();return _I=n,_I}var SI,KJ;function ant(){return KJ||(KJ=1,SI=ont()),SI}var lnt=ant(),co=zt(lnt),XJ={},QJ;function cnt(){if(QJ)return XJ;QJ=1;var n=Bt(),e=$B(),r=VB().indexOf,i=xb(),s=e([].indexOf),o=!!s&&1/s([1],1,-0)<0,a=o||!i("indexOf");return n({target:"Array",proto:!0,forced:a},{indexOf:function(c){var u=arguments.length>1?arguments[1]:void 0;return o?s(this,c,u)||0:r(this,c,u)}}),XJ}var kI,JJ;function unt(){if(JJ)return kI;JJ=1,cnt();var n=Ar();return kI=n("Array","indexOf"),kI}var CI,ZJ;function dnt(){if(ZJ)return CI;ZJ=1;var n=nr(),e=unt(),r=Array.prototype;return CI=function(i){var s=i.indexOf;return i===r||n(r,i)&&s===r.indexOf?e:s},CI}var EI,eZ;function hnt(){if(eZ)return EI;eZ=1;var n=dnt();return EI=n,EI}var AI,tZ;function fnt(){return tZ||(tZ=1,AI=hnt()),AI}var pnt=fnt(),Fn=zt(pnt),nZ={},rZ;function mnt(){if(rZ)return nZ;rZ=1;var n=Bt(),e=Q0e().entries;return n({target:"Object",stat:!0},{entries:function(i){return e(i)}}),nZ}var TI,iZ;function gnt(){if(iZ)return TI;iZ=1,mnt();var n=Qn();return TI=n.Object.entries,TI}var PI,sZ;function bnt(){if(sZ)return PI;sZ=1;var n=gnt();return PI=n,PI}var II,oZ;function ynt(){return oZ||(oZ=1,II=bnt()),II}var vnt=ynt(),wnt=zt(vnt),aZ={},lZ;function xnt(){if(lZ)return aZ;lZ=1;var n=Bt(),e=Lr(),r=Vx();return n({target:"Object",stat:!0,sham:!e},{create:r}),aZ}var MI,cZ;function _nt(){if(cZ)return MI;cZ=1,xnt();var n=Qn(),e=n.Object;return MI=function(i,s){return e.create(i,s)},MI}var OI,uZ;function Snt(){if(uZ)return OI;uZ=1;var n=_nt();return OI=n,OI}var DI,dZ;function knt(){return dZ||(dZ=1,DI=Snt()),DI}var Cnt=knt(),Xx=zt(Cnt),hZ={},RI,fZ;function Z0e(){if(fZ)return RI;fZ=1;var n=bb(),e=ha(),r=ku(),i=RangeError;return RI=function(o){var a=e(r(this)),l="",c=n(o);if(c<0||c===1/0)throw new i("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(a+=a))c&1&&(l+=a);return l},RI}var NI,pZ;function Ent(){if(pZ)return NI;pZ=1;var n=_n(),e=O0e(),r=ha(),i=Z0e(),s=ku(),o=n(i),a=n("".slice),l=Math.ceil,c=function(u){return function(d,h,f){var p=r(s(d)),m=e(h),b=p.length,y=f===void 0?" ":r(f),v,w;return m<=b||y===""?p:(v=m-b,w=o(y,l(v/y.length)),w.length>v&&(w=a(w,0,v)),u?p+w:w+p)}};return NI={start:c(!1),end:c(!0)},NI}var jI,mZ;function Ant(){if(mZ)return jI;mZ=1;var n=_n(),e=yn(),r=Ent().start,i=RangeError,s=isFinite,o=Math.abs,a=Date.prototype,l=a.toISOString,c=n(a.getTime),u=n(a.getUTCDate),d=n(a.getUTCFullYear),h=n(a.getUTCHours),f=n(a.getUTCMilliseconds),p=n(a.getUTCMinutes),m=n(a.getUTCMonth),b=n(a.getUTCSeconds);return jI=e(function(){return l.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){l.call(new Date(NaN))})?function(){if(!s(c(this)))throw new i("Invalid time value");var v=this,w=d(v),_=f(v),x=w<0?"-":w>9999?"+":"";return x+r(o(w),x?6:4,0)+"-"+r(m(v)+1,2,0)+"-"+r(u(v),2,0)+"T"+r(h(v),2,0)+":"+r(p(v),2,0)+":"+r(b(v),2,0)+"."+r(_,3,0)+"Z"}:l,jI}var gZ;function Tnt(){if(gZ)return hZ;gZ=1;var n=Bt(),e=Ys(),r=Ks(),i=T0e(),s=Ant(),o=ec(),a=yn(),l=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:l},{toJSON:function(u){var d=r(this),h=i(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&o(d)==="Date"?e(s,d):d.toISOString()}}),hZ}var BI,bZ;function Pnt(){if(bZ)return BI;bZ=1,Tnt(),F0e();var n=Qn(),e=jE();return n.JSON||(n.JSON={stringify:JSON.stringify}),BI=function(i,s,o){return e(n.JSON.stringify,null,arguments)},BI}var LI,yZ;function Int(){if(yZ)return LI;yZ=1;var n=Pnt();return LI=n,LI}var FI,vZ;function Mnt(){return vZ||(vZ=1,FI=Int()),FI}var Ont=Mnt(),Os=zt(Ont),wZ={},xZ={},$I,_Z;function ebe(){if(_Z)return $I;_Z=1;var n=Er(),e=db(),r=ec(),i=function(s){return e.slice(0,s.length)===s};return $I=function(){return i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":r(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),$I}var zI,SZ;function Dnt(){if(SZ)return zI;SZ=1;var n=TypeError;return zI=function(e,r){if(e<r)throw new n("Not enough arguments");return e},zI}var UI,kZ;function tbe(){if(kZ)return UI;kZ=1;var n=Er(),e=jE(),r=fi(),i=ebe(),s=db(),o=yb(),a=Dnt(),l=n.Function,c=/MSIE .\./.test(s)||i==="BUN"&&function(){var u=n.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return UI=function(u,d){var h=d?2:1;return c?function(f,p){var m=a(arguments.length,1)>h,b=r(f)?f:l(f),y=m?o(arguments,h):[],v=m?function(){e(b,this,y)}:b;return d?u(v,p):u(v)}:u},UI}var CZ;function Rnt(){if(CZ)return xZ;CZ=1;var n=Bt(),e=Er(),r=tbe(),i=r(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==i},{setInterval:i}),xZ}var EZ={},AZ;function Nnt(){if(AZ)return EZ;AZ=1;var n=Bt(),e=Er(),r=tbe(),i=r(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==i},{setTimeout:i}),EZ}var TZ;function nbe(){return TZ||(TZ=1,Rnt(),Nnt()),wZ}var WI,PZ;function jnt(){if(PZ)return WI;PZ=1,nbe();var n=Qn();return WI=n.setTimeout,WI}var qI,IZ;function Bnt(){return IZ||(IZ=1,qI=jnt()),qI}var Lnt=Bnt(),Hi=zt(Lnt),MZ={},HI,OZ;function Fnt(){if(OZ)return HI;OZ=1;var n=Ks(),e=WE(),r=nl();return HI=function(s){for(var o=n(this),a=r(o),l=arguments.length,c=e(l>1?arguments[1]:void 0,a),u=l>2?arguments[2]:void 0,d=u===void 0?a:e(u,a);d>c;)o[c++]=s;return o},HI}var DZ;function $nt(){if(DZ)return MZ;DZ=1;var n=Bt(),e=Fnt(),r=Kx();return n({target:"Array",proto:!0},{fill:e}),r("fill"),MZ}var VI,RZ;function znt(){if(RZ)return VI;RZ=1,$nt();var n=Ar();return VI=n("Array","fill"),VI}var GI,NZ;function Unt(){if(NZ)return GI;NZ=1;var n=nr(),e=znt(),r=Array.prototype;return GI=function(i){var s=i.fill;return i===r||n(r,i)&&s===r.fill?e:s},GI}var YI,jZ;function Wnt(){if(jZ)return YI;jZ=1;var n=Unt();return YI=n,YI}var KI,BZ;function qnt(){return BZ||(BZ=1,KI=Wnt()),KI}var Hnt=qnt(),rbe=zt(Hnt),XI={exports:{}},LZ;function Vnt(){return LZ||(LZ=1,function(n){n.exports=e;function e(i){if(i)return r(i)}function r(i){for(var s in e.prototype)i[s]=e.prototype[s];return i}e.prototype.on=e.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},e.prototype.once=function(i,s){function o(){this.off(i,o),s.apply(this,arguments)}return o.fn=s,this.on(i,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+i];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,l=0;l<o.length;l++)if(a=o[l],a===s||a.fn===s){o.splice(l,1);break}return o.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),o=this._callbacks["$"+i],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(o){o=o.slice(0);for(var a=0,l=o.length;a<l;++a)o[a].apply(this,s)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length}}(XI)),XI.exports}var Gnt=Vnt(),eL=zt(Gnt);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Ya(){return Ya=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Ya.apply(this,arguments)}function fa(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function W_(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var aN;typeof Object.assign!="function"?aN=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(s!=null)for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])}return r}:aN=Object.assign;var lp=aN,FZ=["","webkit","Moz","MS","ms","o"],Ynt=typeof document>"u"?{style:{}}:document.createElement("div"),Knt="function",qm=Math.round,cp=Math.abs,tL=Date.now;function KE(n,e){for(var r,i,s=e[0].toUpperCase()+e.slice(1),o=0;o<FZ.length;){if(r=FZ[o],i=r?r+s:e,i in n)return i;o++}}var ru;typeof window>"u"?ru={}:ru=window;var ibe=KE(Ynt.style,"touchAction"),sbe=ibe!==void 0;function Xnt(){if(!sbe)return!1;var n={},e=ru.CSS&&ru.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return n[r]=e?ru.CSS.supports("touch-action",r):!0}),n}var obe="compute",abe="auto",lN="manipulation",Nf="none",Aw="pan-x",Tw="pan-y",q_=Xnt(),Qnt=/mobile|tablet|ip(ad|hone|od)|android/i,lbe="ontouchstart"in ru,Jnt=KE(ru,"PointerEvent")!==void 0,Znt=lbe&&Qnt.test(navigator.userAgent),Qx="touch",ert="pen",nL="mouse",trt="kinect",nrt=25,bs=1,Tp=2,Wr=4,qs=8,T2=1,Jx=2,Zx=4,e1=8,O0=16,zl=Jx|Zx,jf=e1|O0,cbe=zl|jf,ube=["x","y"],P2=["clientX","clientY"];function iu(n,e,r){var i;if(n)if(n.forEach)n.forEach(e,r);else if(n.length!==void 0)for(i=0;i<n.length;)e.call(r,n[i],i,n),i++;else for(i in n)n.hasOwnProperty(i)&&e.call(r,n[i],i,n)}function XE(n,e){return typeof n===Knt?n.apply(e&&e[0]||void 0,e):n}function cf(n,e){return n.indexOf(e)>-1}function rrt(n){if(cf(n,Nf))return Nf;var e=cf(n,Aw),r=cf(n,Tw);return e&&r?Nf:e||r?e?Aw:Tw:cf(n,lN)?lN:abe}var dbe=function(){function n(r,i){this.manager=r,this.set(i)}var e=n.prototype;return e.set=function(i){i===obe&&(i=this.compute()),sbe&&this.manager.element.style&&q_[i]&&(this.manager.element.style[ibe]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return iu(this.manager.recognizers,function(s){XE(s.options.enable,[s])&&(i=i.concat(s.getTouchAction()))}),rrt(i.join(" "))},e.preventDefaults=function(i){var s=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){s.preventDefault();return}var a=this.actions,l=cf(a,Nf)&&!q_[Nf],c=cf(a,Tw)&&!q_[Tw],u=cf(a,Aw)&&!q_[Aw];if(l){var d=i.pointers.length===1,h=i.distance<2,f=i.deltaTime<250;if(d&&h&&f)return}if(!(u&&c)&&(l||c&&o&zl||u&&o&jf))return this.preventSrc(s)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},n}();function rL(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function hbe(n){var e=n.length;if(e===1)return{x:qm(n[0].clientX),y:qm(n[0].clientY)};for(var r=0,i=0,s=0;s<e;)r+=n[s].clientX,i+=n[s].clientY,s++;return{x:qm(r/e),y:qm(i/e)}}function $Z(n){for(var e=[],r=0;r<n.pointers.length;)e[r]={clientX:qm(n.pointers[r].clientX),clientY:qm(n.pointers[r].clientY)},r++;return{timeStamp:tL(),pointers:e,center:hbe(e),deltaX:n.deltaX,deltaY:n.deltaY}}function I2(n,e,r){r||(r=ube);var i=e[r[0]]-n[r[0]],s=e[r[1]]-n[r[1]];return Math.sqrt(i*i+s*s)}function cN(n,e,r){r||(r=ube);var i=e[r[0]]-n[r[0]],s=e[r[1]]-n[r[1]];return Math.atan2(s,i)*180/Math.PI}function fbe(n,e){return n===e?T2:cp(n)>=cp(e)?n<0?Jx:Zx:e<0?e1:O0}function irt(n,e){var r=e.center,i=n.offsetDelta||{},s=n.prevDelta||{},o=n.prevInput||{};(e.eventType===bs||o.eventType===Wr)&&(s=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=n.offsetDelta={x:r.x,y:r.y}),e.deltaX=s.x+(r.x-i.x),e.deltaY=s.y+(r.y-i.y)}function pbe(n,e,r){return{x:e/n||0,y:r/n||0}}function srt(n,e){return I2(e[0],e[1],P2)/I2(n[0],n[1],P2)}function ort(n,e){return cN(e[1],e[0],P2)+cN(n[1],n[0],P2)}function art(n,e){var r=n.lastInterval||e,i=e.timeStamp-r.timeStamp,s,o,a,l;if(e.eventType!==qs&&(i>nrt||r.velocity===void 0)){var c=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=pbe(i,c,u);o=d.x,a=d.y,s=cp(d.x)>cp(d.y)?d.x:d.y,l=fbe(c,u),n.lastInterval=e}else s=r.velocity,o=r.velocityX,a=r.velocityY,l=r.direction;e.velocity=s,e.velocityX=o,e.velocityY=a,e.direction=l}function lrt(n,e){var r=n.session,i=e.pointers,s=i.length;r.firstInput||(r.firstInput=$Z(e)),s>1&&!r.firstMultiple?r.firstMultiple=$Z(e):s===1&&(r.firstMultiple=!1);var o=r.firstInput,a=r.firstMultiple,l=a?a.center:o.center,c=e.center=hbe(i);e.timeStamp=tL(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=cN(l,c),e.distance=I2(l,c),irt(r,e),e.offsetDirection=fbe(e.deltaX,e.deltaY);var u=pbe(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=cp(u.x)>cp(u.y)?u.x:u.y,e.scale=a?srt(a.pointers,i):1,e.rotation=a?ort(a.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,art(r,e);var d=n.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,rL(f,d)&&(d=f),e.target=d}function crt(n,e,r){var i=r.pointers.length,s=r.changedPointers.length,o=e&bs&&i-s===0,a=e&(Wr|qs)&&i-s===0;r.isFirst=!!o,r.isFinal=!!a,o&&(n.session={}),r.eventType=e,lrt(n,r),n.emit("hammer.input",r),n.recognize(r),n.session.prevInput=r}function Pw(n){return n.trim().split(/\s+/g)}function cv(n,e,r){iu(Pw(e),function(i){n.addEventListener(i,r,!1)})}function uv(n,e,r){iu(Pw(e),function(i){n.removeEventListener(i,r,!1)})}function zZ(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var _b=function(){function n(r,i){var s=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){XE(r.options.enable,[r])&&s.handler(o)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&cv(this.element,this.evEl,this.domHandler),this.evTarget&&cv(this.target,this.evTarget,this.domHandler),this.evWin&&cv(zZ(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&uv(this.element,this.evEl,this.domHandler),this.evTarget&&uv(this.target,this.evTarget,this.domHandler),this.evWin&&uv(zZ(this.element),this.evWin,this.domHandler)},n}();function up(n,e,r){if(n.indexOf&&!r)return n.indexOf(e);for(var i=0;i<n.length;){if(r&&n[i][r]==e||!r&&n[i]===e)return i;i++}return-1}var urt={pointerdown:bs,pointermove:Tp,pointerup:Wr,pointercancel:qs,pointerout:qs},drt={2:Qx,3:ert,4:nL,5:trt},mbe="pointerdown",gbe="pointermove pointerup pointercancel";ru.MSPointerEvent&&!ru.PointerEvent&&(mbe="MSPointerDown",gbe="MSPointerMove MSPointerUp MSPointerCancel");var bbe=function(n){fa(e,n);function e(){var i,s=e.prototype;return s.evEl=mbe,s.evWin=gbe,i=n.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(s){var o=this.store,a=!1,l=s.type.toLowerCase().replace("ms",""),c=urt[l],u=drt[s.pointerType]||s.pointerType,d=u===Qx,h=up(o,s.pointerId,"pointerId");c&bs&&(s.button===0||d)?h<0&&(o.push(s),h=o.length-1):c&(Wr|qs)&&(a=!0),!(h<0)&&(o[h]=s,this.callback(this.manager,c,{pointers:o,changedPointers:[s],pointerType:u,srcEvent:s}),a&&o.splice(h,1))},e}(_b);function Iw(n){return Array.prototype.slice.call(n,0)}function iL(n,e,r){for(var i=[],s=[],o=0;o<n.length;){var a=e?n[o][e]:n[o];up(s,a)<0&&i.push(n[o]),s[o]=a,o++}return r&&(e?i=i.sort(function(l,c){return l[e]>c[e]}):i=i.sort()),i}var hrt={touchstart:bs,touchmove:Tp,touchend:Wr,touchcancel:qs},frt="touchstart touchmove touchend touchcancel",sL=function(n){fa(e,n);function e(){var i;return e.prototype.evTarget=frt,i=n.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(s){var o=hrt[s.type],a=prt.call(this,s,o);a&&this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:Qx,srcEvent:s})},e}(_b);function prt(n,e){var r=Iw(n.touches),i=this.targetIds;if(e&(bs|Tp)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var s,o,a=Iw(n.changedTouches),l=[],c=this.target;if(o=r.filter(function(u){return rL(u.target,c)}),e===bs)for(s=0;s<o.length;)i[o[s].identifier]=!0,s++;for(s=0;s<a.length;)i[a[s].identifier]&&l.push(a[s]),e&(Wr|qs)&&delete i[a[s].identifier],s++;if(l.length)return[iL(o.concat(l),"identifier",!0),l]}var mrt={mousedown:bs,mousemove:Tp,mouseup:Wr},grt="mousedown",brt="mousemove mouseup",oL=function(n){fa(e,n);function e(){var i,s=e.prototype;return s.evEl=grt,s.evWin=brt,i=n.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(s){var o=mrt[s.type];o&bs&&s.button===0&&(this.pressed=!0),o&Tp&&s.which!==1&&(o=Wr),this.pressed&&(o&Wr&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[s],changedPointers:[s],pointerType:nL,srcEvent:s}))},e}(_b),yrt=2500,UZ=25;function WZ(n){var e=n.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},s=this.lastTouches;this.lastTouches.push(i);var o=function(){var l=s.indexOf(i);l>-1&&s.splice(l,1)};setTimeout(o,yrt)}}function vrt(n,e){n&bs?(this.primaryTouch=e.changedPointers[0].identifier,WZ.call(this,e)):n&(Wr|qs)&&WZ.call(this,e)}function wrt(n){for(var e=n.srcEvent.clientX,r=n.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var s=this.lastTouches[i],o=Math.abs(e-s.x),a=Math.abs(r-s.y);if(o<=UZ&&a<=UZ)return!0}return!1}var ybe=function(){var n=function(e){fa(r,e);function r(s,o){var a;return a=e.call(this,s,o)||this,a.handler=function(l,c,u){var d=u.pointerType===Qx,h=u.pointerType===nL;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)vrt.call(W_(W_(a)),c,u);else if(h&&wrt.call(W_(W_(a)),u))return;a.callback(l,c,u)}},a.touch=new sL(a.manager,a.handler),a.mouse=new oL(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(_b);return n}();function xrt(n){var e,r=n.options.inputClass;return r?e=r:Jnt?e=bbe:Znt?e=sL:lbe?e=ybe:e=oL,new e(n,crt)}function Hm(n,e,r){return Array.isArray(n)?(iu(n,r[e],r),!0):!1}var WS=1,oa=2,D0=4,Vd=8,su=Vd,Mw=16,Ol=32,_rt=1;function Srt(){return _rt++}function H_(n,e){var r=e.manager;return r?r.get(n):n}function qZ(n){return n&Mw?"cancel":n&Vd?"end":n&D0?"move":n&oa?"start":""}var t1=function(){function n(r){r===void 0&&(r={}),this.options=Ya({enable:!0},r),this.id=Srt(),this.manager=null,this.state=WS,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(i){return lp(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(Hm(i,"recognizeWith",this))return this;var s=this.simultaneous;return i=H_(i,this),s[i.id]||(s[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return Hm(i,"dropRecognizeWith",this)?this:(i=H_(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(Hm(i,"requireFailure",this))return this;var s=this.requireFail;return i=H_(i,this),up(s,i)===-1&&(s.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(Hm(i,"dropRequireFailure",this))return this;i=H_(i,this);var s=up(this.requireFail,i);return s>-1&&this.requireFail.splice(s,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var s=this,o=this.state;function a(l){s.manager.emit(l,i)}o<Vd&&a(s.options.event+qZ(o)),a(s.options.event),i.additionalEvent&&a(i.additionalEvent),o>=Vd&&a(s.options.event+qZ(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=Ol},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(Ol|WS)))return!1;i++}return!0},e.recognize=function(i){var s=lp({},i);if(!XE(this.options.enable,[this,s])){this.reset(),this.state=Ol;return}this.state&(su|Mw|Ol)&&(this.state=WS),this.state=this.process(s),this.state&(oa|D0|Vd|Mw)&&this.tryEmit(s)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},n}(),uN=function(n){fa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,Ya({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,s.pTime=!1,s.pCenter=!1,s._timer=null,s._input=null,s.count=0,s}var r=e.prototype;return r.getTouchAction=function(){return[lN]},r.process=function(s){var o=this,a=this.options,l=s.pointers.length===a.pointers,c=s.distance<a.threshold,u=s.deltaTime<a.time;if(this.reset(),s.eventType&bs&&this.count===0)return this.failTimeout();if(c&&u&&l){if(s.eventType!==Wr)return this.failTimeout();var d=this.pTime?s.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||I2(this.pCenter,s.center)<a.posThreshold;this.pTime=s.timeStamp,this.pCenter=s.center,!h||!d?this.count=1:this.count+=1,this._input=s;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=su,o.tryEmit()},a.interval),oa):su}return Ol},r.failTimeout=function(){var s=this;return this._timer=setTimeout(function(){s.state=Ol},this.options.interval),Ol},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===su&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(t1),R0=function(n){fa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,Ya({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(s){var o=this.options.pointers;return o===0||s.pointers.length===o},r.process=function(s){var o=this.state,a=s.eventType,l=o&(oa|D0),c=this.attrTest(s);return l&&(a&qs||!c)?o|Mw:l||c?a&Wr?o|Vd:o&oa?o|D0:oa:Ol},e}(t1);function vbe(n){return n===O0?"down":n===e1?"up":n===Jx?"left":n===Zx?"right":""}var aL=function(n){fa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,Ya({event:"pan",threshold:10,pointers:1,direction:cbe},i))||this,s.pX=null,s.pY=null,s}var r=e.prototype;return r.getTouchAction=function(){var s=this.options.direction,o=[];return s&zl&&o.push(Tw),s&jf&&o.push(Aw),o},r.directionTest=function(s){var o=this.options,a=!0,l=s.distance,c=s.direction,u=s.deltaX,d=s.deltaY;return c&o.direction||(o.direction&zl?(c=u===0?T2:u<0?Jx:Zx,a=u!==this.pX,l=Math.abs(s.deltaX)):(c=d===0?T2:d<0?e1:O0,a=d!==this.pY,l=Math.abs(s.deltaY))),s.direction=c,a&&l>o.threshold&&c&o.direction},r.attrTest=function(s){return R0.prototype.attrTest.call(this,s)&&(this.state&oa||!(this.state&oa)&&this.directionTest(s))},r.emit=function(s){this.pX=s.deltaX,this.pY=s.deltaY;var o=vbe(s.direction);o&&(s.additionalEvent=this.options.event+o),n.prototype.emit.call(this,s)},e}(R0),wbe=function(n){fa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,Ya({event:"swipe",threshold:10,velocity:.3,direction:zl|jf,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return aL.prototype.getTouchAction.call(this)},r.attrTest=function(s){var o=this.options.direction,a;return o&(zl|jf)?a=s.overallVelocity:o&zl?a=s.overallVelocityX:o&jf&&(a=s.overallVelocityY),n.prototype.attrTest.call(this,s)&&o&s.offsetDirection&&s.distance>this.options.threshold&&s.maxPointers===this.options.pointers&&cp(a)>this.options.velocity&&s.eventType&Wr},r.emit=function(s){var o=vbe(s.offsetDirection);o&&this.manager.emit(this.options.event+o,s),this.manager.emit(this.options.event,s)},e}(R0),xbe=function(n){fa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,Ya({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Nf]},r.attrTest=function(s){return n.prototype.attrTest.call(this,s)&&(Math.abs(s.scale-1)>this.options.threshold||this.state&oa)},r.emit=function(s){if(s.scale!==1){var o=s.scale<1?"in":"out";s.additionalEvent=this.options.event+o}n.prototype.emit.call(this,s)},e}(R0),_be=function(n){fa(e,n);function e(i){return i===void 0&&(i={}),n.call(this,Ya({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Nf]},r.attrTest=function(s){return n.prototype.attrTest.call(this,s)&&(Math.abs(s.rotation)>this.options.threshold||this.state&oa)},e}(R0),Sbe=function(n){fa(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,Ya({event:"press",pointers:1,time:251,threshold:9},i))||this,s._timer=null,s._input=null,s}var r=e.prototype;return r.getTouchAction=function(){return[abe]},r.process=function(s){var o=this,a=this.options,l=s.pointers.length===a.pointers,c=s.distance<a.threshold,u=s.deltaTime>a.time;if(this._input=s,!c||!l||s.eventType&(Wr|qs)&&!u)this.reset();else if(s.eventType&bs)this.reset(),this._timer=setTimeout(function(){o.state=su,o.tryEmit()},a.time);else if(s.eventType&Wr)return su;return Ol},r.reset=function(){clearTimeout(this._timer)},r.emit=function(s){this.state===su&&(s&&s.eventType&Wr?this.manager.emit(this.options.event+"up",s):(this._input.timeStamp=tL(),this.manager.emit(this.options.event,this._input)))},e}(t1),kbe={domEvents:!1,touchAction:obe,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},HZ=[[_be,{enable:!1}],[xbe,{enable:!1},["rotate"]],[wbe,{direction:zl}],[aL,{direction:zl},["swipe"]],[uN],[uN,{event:"doubletap",taps:2},["tap"]],[Sbe]],krt=1,VZ=2;function GZ(n,e){var r=n.element;if(r.style){var i;iu(n.options.cssProps,function(s,o){i=KE(r.style,o),e?(n.oldCssProps[i]=r.style[i],r.style[i]=s):r.style[i]=n.oldCssProps[i]||""}),e||(n.oldCssProps={})}}function Crt(n,e){var r=document.createEvent("Event");r.initEvent(n,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var YZ=function(){function n(r,i){var s=this;this.options=lp({},kbe,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=xrt(this),this.touchAction=new dbe(this,this.options.touchAction),GZ(this,!0),iu(this.options.recognizers,function(o){var a=s.add(new o[0](o[1]));o[2]&&a.recognizeWith(o[2]),o[3]&&a.requireFailure(o[3])},this)}var e=n.prototype;return e.set=function(i){return lp(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?VZ:krt},e.recognize=function(i){var s=this.session;if(!s.stopped){this.touchAction.preventDefaults(i);var o,a=this.recognizers,l=s.curRecognizer;(!l||l&&l.state&su)&&(s.curRecognizer=null,l=null);for(var c=0;c<a.length;)o=a[c],s.stopped!==VZ&&(!l||o===l||o.canRecognizeWith(l))?o.recognize(i):o.reset(),!l&&o.state&(oa|D0|Vd)&&(s.curRecognizer=o,l=o),c++}},e.get=function(i){if(i instanceof t1)return i;for(var s=this.recognizers,o=0;o<s.length;o++)if(s[o].options.event===i)return s[o];return null},e.add=function(i){if(Hm(i,"add",this))return this;var s=this.get(i.options.event);return s&&this.remove(s),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(Hm(i,"remove",this))return this;var s=this.get(i);if(i){var o=this.recognizers,a=up(o,s);a!==-1&&(o.splice(a,1),this.touchAction.update())}return this},e.on=function(i,s){if(i===void 0||s===void 0)return this;var o=this.handlers;return iu(Pw(i),function(a){o[a]=o[a]||[],o[a].push(s)}),this},e.off=function(i,s){if(i===void 0)return this;var o=this.handlers;return iu(Pw(i),function(a){s?o[a]&&o[a].splice(up(o[a],s),1):delete o[a]}),this},e.emit=function(i,s){this.options.domEvents&&Crt(i,s);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){s.type=i,s.preventDefault=function(){s.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](s),a++}},e.destroy=function(){this.element&&GZ(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),Ert={touchstart:bs,touchmove:Tp,touchend:Wr,touchcancel:qs},Art="touchstart",Trt="touchstart touchmove touchend touchcancel",Prt=function(n){fa(e,n);function e(){var i,s=e.prototype;return s.evTarget=Art,s.evWin=Trt,i=n.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(s){var o=Ert[s.type];if(o===bs&&(this.started=!0),!!this.started){var a=Irt.call(this,s,o);o&(Wr|qs)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:Qx,srcEvent:s})}},e}(_b);function Irt(n,e){var r=Iw(n.touches),i=Iw(n.changedTouches);return e&(Wr|qs)&&(r=iL(r.concat(i),"identifier",!0)),[r,i]}function Cbe(n,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var s=new Error("get-stack-trace"),o=s&&s.stack?s.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,i,o),n.apply(this,arguments)}}var Ebe=Cbe(function(n,e,r){for(var i=Object.keys(e),s=0;s<i.length;)(!r||r&&n[i[s]]===void 0)&&(n[i[s]]=e[i[s]]),s++;return n},"extend","Use `assign`."),Mrt=Cbe(function(n,e){return Ebe(n,e,!0)},"merge","Use `assign`.");function Ort(n,e,r){var i=e.prototype,s;s=n.prototype=Object.create(i),s.constructor=n,s._super=i,r&&lp(s,r)}function KZ(n,e){return function(){return n.apply(e,arguments)}}var lL=function(){var n=function(r,i){return i===void 0&&(i={}),new YZ(r,Ya({recognizers:HZ.concat()},i))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=cbe,n.DIRECTION_DOWN=O0,n.DIRECTION_LEFT=Jx,n.DIRECTION_RIGHT=Zx,n.DIRECTION_UP=e1,n.DIRECTION_HORIZONTAL=zl,n.DIRECTION_VERTICAL=jf,n.DIRECTION_NONE=T2,n.DIRECTION_DOWN=O0,n.INPUT_START=bs,n.INPUT_MOVE=Tp,n.INPUT_END=Wr,n.INPUT_CANCEL=qs,n.STATE_POSSIBLE=WS,n.STATE_BEGAN=oa,n.STATE_CHANGED=D0,n.STATE_ENDED=Vd,n.STATE_RECOGNIZED=su,n.STATE_CANCELLED=Mw,n.STATE_FAILED=Ol,n.Manager=YZ,n.Input=_b,n.TouchAction=dbe,n.TouchInput=sL,n.MouseInput=oL,n.PointerEventInput=bbe,n.TouchMouseInput=ybe,n.SingleTouchInput=Prt,n.Recognizer=t1,n.AttrRecognizer=R0,n.Tap=uN,n.Pan=aL,n.Swipe=wbe,n.Pinch=xbe,n.Rotate=_be,n.Press=Sbe,n.on=cv,n.off=uv,n.each=iu,n.merge=Mrt,n.extend=Ebe,n.bindFn=KZ,n.assign=lp,n.inherit=Ort,n.bindFn=KZ,n.prefixed=KE,n.toArray=Iw,n.inArray=up,n.uniqueArray=iL,n.splitStr=Pw,n.boolOrFn=XE,n.hasParent=rL,n.addEventListeners=cv,n.removeEventListeners=uv,n.defaults=lp({},kbe,{preset:HZ}),n}();lL.defaults;const cL=det("DELETE");function Abe(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return uL({},n,...r)}function uL(){const n=M2(...arguments);return Pbe(n),n}function M2(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return M2(uL(e[0],e[1]),...wb(e).call(e,2));const i=e[0],s=e[1];if(i instanceof Date&&s instanceof Date)return i.setTime(s.getTime()),i;for(const o of K0e(s))Object.prototype.propertyIsEnumerable.call(s,o)&&(s[o]===cL?delete i[o]:i[o]!==null&&s[o]!==null&&typeof i[o]=="object"&&typeof s[o]=="object"&&!an(i[o])&&!an(s[o])?i[o]=M2(i[o],s[o]):i[o]=Tbe(s[o]));return i}function Tbe(n){return an(n)?In(n).call(n,e=>Tbe(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):M2({},n):n}function Pbe(n){for(const e of Qr(n))n[e]===cL?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&Pbe(n[e])}function Drt(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return Rrt(e.length?e:[lo()])}function Rrt(n){let[e,r,i]=Nrt(n),s=1;const o=()=>{const a=2091639*e+s*23283064365386963e-26;return e=r,r=i,i=a-(s=a|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=n,o.version="0.9",o}function Nrt(){const n=jrt();let e=n(" "),r=n(" "),i=n(" ");for(let s=0;s<arguments.length;s++)e-=n(s<0||arguments.length<=s?void 0:arguments[s]),e<0&&(e+=1),r-=n(s<0||arguments.length<=s?void 0:arguments[s]),r<0&&(r+=1),i-=n(s<0||arguments.length<=s?void 0:arguments[s]),i<0&&(i+=1);return[e,r,i]}function jrt(){let n=4022871197;return function(e){const r=e.toString();for(let i=0;i<r.length;i++){n+=r.charCodeAt(i);let s=.02519603282416938*n;n=s>>>0,s-=n,s*=n,n=s>>>0,s-=n,n+=s*4294967296}return(n>>>0)*23283064365386963e-26}}function Brt(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const dL=typeof window<"u"?window.Hammer||lL:function(){return Brt()};function Dl(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=dL(this._dom.overlay);r.on("tap",Ue(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];xt(i).call(i,s=>{r.on(s,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=s=>{Lrt(s.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=s=>{("key"in s?s.key==="Escape":s.keyCode===27)&&this.deactivate()}}eL(Dl.prototype);Dl.current=null;Dl.prototype.destroy=function(){this.deactivate();for(const r of dtt(n=cs(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;r()}};Dl.prototype.activate=function(){Dl.current&&Dl.current.deactivate(),Dl.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Dl.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Dl.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function Lrt(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const Frt=/^\/?Date\((-?\d+)/i,$rt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zrt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Urt=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Wrt=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function dv(n){return n instanceof Number||typeof n=="number"}function Ibe(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(Ibe(e),n.removeChild(e))}}function ho(n){return n instanceof String||typeof n=="string"}function dN(n){return typeof n=="object"&&n!==null}function qrt(n){if(n instanceof Date)return!0;if(ho(n)){if(Frt.exec(n))return!0;if(!isNaN(Date.parse(n)))return!0}return!1}function dp(n,e,r,i){let s=!1;i===!0&&(s=e[r]===null&&n[r]!==void 0),s?delete n[r]:n[r]=e[r]}function Mbe(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const i in n)if(e[i]!==void 0)if(e[i]===null||typeof e[i]!="object")dp(n,e,i,r);else{const s=n[i],o=e[i];dN(s)&&dN(o)&&Mbe(s,o,r)}}const Hrt=yu;function Vrt(n,e){if(!an(n))throw new Error("Array with property names expected as first argument");for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];for(const o of i)for(let a=0;a<n.length;a++){const l=n[a];o&&Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e}function Grt(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(an(r))throw new TypeError("Arrays are not supported by deepExtend");for(let s=0;s<n.length;s++){const o=n[s];if(Object.prototype.hasOwnProperty.call(r,o))if(r[o]&&r[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?Ow(e[o],r[o],!1,i):dp(e,r,o,i);else{if(an(r[o]))throw new TypeError("Arrays are not supported by deepExtend");dp(e,r,o,i)}}return e}function Yrt(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(an(r))throw new TypeError("Arrays are not supported by deepExtend");for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&!M0(n).call(n,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Ow(e[s],r[s]):dp(e,r,s,i);else if(an(r[s])){e[s]=[];for(let o=0;o<r[s].length;o++)e[s].push(r[s][o])}else dp(e,r,s,i);return e}function Ow(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||r===!0)if(typeof e[o]=="object"&&e[o]!==null&&CJ(e[o])===Object.prototype)n[o]===void 0?n[o]=Ow({},e[o],r):typeof n[o]=="object"&&n[o]!==null&&CJ(n[o])===Object.prototype?Ow(n[o],e[o],r):dp(n,e,o,i);else if(an(e[o])){var s;n[o]=wb(s=e[o]).call(s)}else dp(n,e,o,i);return n}function Krt(n,e){if(n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(n[r]!=e[r])return!1;return!0}function By(n){const e=typeof n;return e==="object"?n===null?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":an(n)?"Array":n instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function Dw(n,e){return[...n,e]}function Obe(n){return wb(n).call(n)}function Xrt(n){return n.getBoundingClientRect().left}function Qrt(n){return n.getBoundingClientRect().right}function Jrt(n){return n.getBoundingClientRect().top}function Zrt(n,e){let r=n.className.split(" ");const i=e.split(" ");r=Mr(r).call(r,qt(i).call(i,function(s){return!M0(r).call(r,s)})),n.className=r.join(" ")}function eit(n,e){let r=n.className.split(" ");const i=e.split(" ");r=qt(r).call(r,function(s){return!M0(i).call(i,s)}),n.className=r.join(" ")}function tit(n,e){if(an(n)){const r=n.length;for(let i=0;i<r;i++)e(n[i],i,n)}else for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(n[r],r,n)}const nit=JB;function rit(n,e,r){return n[e]!==r?(n[e]=r,!0):!1}function iit(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,n()}))}}function sit(n){n||(n=window.event),n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}function oit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return n&&(n.target?e=n.target:n.srcElement&&(e=n.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function ait(n,e){let r=n;for(;r;){if(r===e)return!0;if(r.parentNode)r=r.parentNode;else return!1}return!1}const lit={asBoolean(n,e){return typeof n=="function"&&(n=n()),n!=null?n!=!1:e||null},asNumber(n,e){return typeof n=="function"&&(n=n()),n!=null?Number(n)||e||null:e||null},asString(n,e){return typeof n=="function"&&(n=n()),n!=null?String(n):e||null},asSize(n,e){return typeof n=="function"&&(n=n()),ho(n)?n:dv(n)?n+"px":e||null},asElement(n,e){return typeof n=="function"&&(n=n()),n||e||null}};function QE(n){let e;switch(n.length){case 3:case 4:return e=zrt.exec(n),e?{r:co(e[1]+e[1],16),g:co(e[2]+e[2],16),b:co(e[3]+e[3],16)}:null;case 6:case 7:return e=$rt.exec(n),e?{r:co(e[1],16),g:co(e[2],16),b:co(e[3],16)}:null;default:return null}}function cit(n,e){if(M0(n).call(n,"rgba"))return n;if(M0(n).call(n,"rgb")){const r=n.substr(Fn(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=QE(n);return r==null?n:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function hL(n,e,r){var i;return"#"+wb(i=((1<<24)+(n<<16)+(e<<8)+r).toString(16)).call(i,1)}function uit(n,e){if(ho(n)){let i=n;if(pL(i)){var r;const s=In(r=i.substr(4).substr(0,i.length-5).split(",")).call(r,function(o){return co(o)});i=hL(s[0],s[1],s[2])}if(fL(i)===!0){const s=Rbe(i),o={h:s.h,s:s.s*.8,v:Math.min(1,s.v*1.02)},a={h:s.h,s:Math.min(1,s.s*1.25),v:s.v*.8},l=hN(a.h,a.s,a.v),c=hN(o.h,o.s,o.v);return{background:i,border:l,highlight:{background:c,border:l},hover:{background:c,border:l}}}else return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}else return e?{background:n.background||e.background,border:n.border||e.border,highlight:ho(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:ho(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:ho(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:ho(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function Vm(n,e,r){n=n/255,e=e/255,r=r/255;const i=Math.min(n,Math.min(e,r)),s=Math.max(n,Math.max(e,r));if(i===s)return{h:0,s:0,v:i};const o=n===i?e-r:r===i?n-e:r-n,l=60*((n===i?3:r===i?1:5)-o/(s-i))/360,c=(s-i)/s;return{h:l,s:c,v:s}}function Dbe(n){const e=document.createElement("div"),r={};e.style.cssText=n;for(let i=0;i<e.style.length;++i)r[e.style[i]]=e.style.getPropertyValue(e.style[i]);return r}function dit(n,e){const r=Dbe(e);for(const[i,s]of wnt(r))n.style.setProperty(i,s)}function hit(n,e){const r=Dbe(e);for(const i of Qr(r))n.style.removeProperty(i)}function hv(n,e,r){let i,s,o;const a=Math.floor(n*6),l=n*6-a,c=r*(1-e),u=r*(1-l*e),d=r*(1-(1-l)*e);switch(a%6){case 0:i=r,s=d,o=c;break;case 1:i=u,s=r,o=c;break;case 2:i=c,s=r,o=d;break;case 3:i=c,s=u,o=r;break;case 4:i=d,s=c,o=r;break;case 5:i=r,s=c,o=u;break}return{r:Math.floor(i*255),g:Math.floor(s*255),b:Math.floor(o*255)}}function hN(n,e,r){const i=hv(n,e,r);return hL(i.r,i.g,i.b)}function Rbe(n){const e=QE(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return Vm(e.r,e.g,e.b)}function fL(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function pL(n){return Urt.test(n)}function Nbe(n){return Wrt.test(n)}function fit(n,e){if(e!==null&&typeof e=="object"){const r=Xx(e);for(let i=0;i<n.length;i++)Object.prototype.hasOwnProperty.call(e,n[i])&&typeof e[n[i]]=="object"&&(r[n[i]]=mL(e[n[i]]));return r}else return null}function mL(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=Xx(n);for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&typeof n[r]=="object"&&(e[r]=mL(n[r]));return e}function pit(n,e){for(let r=0;r<n.length;r++){const i=n[r];let s;for(s=r;s>0&&e(i,n[s-1])<0;s--)n[s]=n[s-1];n[s]=i}return n}function mit(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=function(p){return p!=null},o=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!o(n))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!s(r))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");const l=function(p,m,b){o(p[b])||(p[b]={});const y=m[b],v=p[b];for(const w in y)Object.prototype.hasOwnProperty.call(y,w)&&(v[w]=y[w])},c=e[r],d=o(i)&&!a(i)?i[r]:void 0,h=d?d.enabled:void 0;if(c===void 0)return;if(typeof c=="boolean"){o(n[r])||(n[r]={}),n[r].enabled=c;return}if(c===null&&!o(n[r]))if(s(d))n[r]=Xx(d);else return;if(!o(c))return;let f=!0;c.enabled!==void 0?f=c.enabled:h!==void 0&&(f=d.enabled),l(n,e,r),n[r].enabled=f}function git(n,e,r,i){let o=0,a=0,l=n.length-1;for(;a<=l&&o<1e4;){const c=Math.floor((a+l)/2),u=n[c],d=i===void 0?u[r]:u[r][i],h=e(d);if(h==0)return c;h==-1?a=c+1:l=c-1,o++}return-1}function bit(n,e,r,i,s){let a=0,l=0,c=n.length-1,u,d,h,f;for(s=s??function(p,m){return p==m?0:p<m?-1:1};l<=c&&a<1e4;){if(f=Math.floor(.5*(c+l)),u=n[Math.max(0,f-1)][r],d=n[f][r],h=n[Math.min(n.length-1,f+1)][r],s(d,e)==0)return f;if(s(u,e)<0&&s(d,e)>0)return i=="before"?Math.max(0,f-1):f;if(s(d,e)<0&&s(h,e)>0)return i=="before"?f:Math.min(n.length-1,f+1);s(d,e)<0?l=f+1:c=f-1,a++}return-1}const yit={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function vit(){const n=document.createElement("p");n.style.width="100%",n.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(n),document.body.appendChild(e);const r=n.offsetWidth;e.style.overflow="scroll";let i=n.offsetWidth;return r==i&&(i=e.clientWidth),document.body.removeChild(e),r-i}function wit(n,e){let r;an(e)||(e=[e]);for(const i of n)if(i){r=i[e[0]];for(let s=1;s<e.length;s++)r&&(r=r[e[s]]);if(typeof r<"u")break}return r}const xit={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let jbe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return xit[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;const s=this._isColorString(e);if(s!==void 0&&(e=s),ho(e)===!0){if(pL(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(Nbe(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(fL(e)===!0){const o=QE(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Os(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=yu({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Hi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=yu({},e)),this.color=e;const i=Vm(e.r,e.g,e.b),s=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(s*i.h),l=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Vm(this.color.r,this.color.g,this.color.b);r.v=e/100;const i=hv(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Vm(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),rbe(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Ue(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Ue(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Ue(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Ue(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new dL(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let s,o,a,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;const c=2*Math.PI/360,u=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(c*a),o=this.centerCoordinates.y+l*Math.cos(c*a),h=hv(a*u,l*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(s-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,s=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=s-o,u=Math.atan2(l,c),d=.98*Math.min(Math.sqrt(l*l+c*c),a),h=Math.cos(u)*d+o,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,b=Vm(this.color.r,this.color.g,this.color.b);b.h=p,b.s=m;const y=hv(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function fN(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const i=document.createElement(e[0]);return i.appendChild(fN(...wb(e).call(e,1))),i}}let _it=class{constructor(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},yu(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new jbe(s),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(an(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),qt(e)!==void 0&&(this.options.filter=qt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);qt(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=qt(this.options);let r=0,i=!1;for(const s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(s,[]),i=i||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||Fn(e).call(e,s)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return xt(i).call(i,a=>{o.appendChild(a)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=document.createElement("div");if(s.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(fN("i","b",e))}else s.innerText=e+":";return s}_makeDropdown(e,r,i){const s=document.createElement("select");s.className="vis-configuration vis-config-select";let o=0;r!==void 0&&Fn(e).call(e,r)!==-1&&(o=Fn(e).call(e,r));for(let c=0;c<e.length;c++){const u=document.createElement("option");u.value=e[c],c===o&&(u.selected="selected"),u.innerText=e[c],s.appendChild(u)}const a=this;s.onchange=function(){a._update(this.value,i)};const l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_makeRange(e,r,i){const s=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch{}c.step=l;let u="",d=0;r!==void 0?(r<0&&r*1.2<o?(c.min=Math.ceil(r*1.2),d=c.min,u="range increased"):r/1.2<o&&(c.min=Math.ceil(r/1.2),d=c.min,u="range increased"),r*1.2>a&&a!==1&&(c.max=Math.ceil(r*1.2),d=c.max,u="range increased"),c.value=r):c.value=s;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=c.value;const f=this;c.onchange=function(){h.value=this.value,f._update(Number(this.value),i)},c.oninput=function(){h.value=this.value};const p=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,p,c,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Hi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Hi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){const s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));const o=this;s.onchange=function(){o._update(this.checked,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeTextInput(e,r,i){const s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:i,value:r});const o=this;s.onchange=function(){o._update(this.value,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeColorField(e,r,i){const s=e[1],o=document.createElement("div");r=r===void 0?s:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?s:r,o.onclick=()=>{this._showColorPicker(r,o,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(s=>{const o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1;const o=qt(this.options);let a=!1;for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)){s=!0;const c=e[l],u=Dw(r,l);if(typeof o=="function"&&(s=o(l,r),s===!1&&!an(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,s=this._handleObject(c,u,!0),this.allowCreation=i===!1)),s!==!1){a=!0;const d=this._getValue(u);if(an(c))this._handleArray(c,d,u);else if(typeof c=="string")this._makeTextInput(c,d,u);else if(typeof c=="boolean")this._makeCheckbox(c,d,u);else if(c instanceof Object){if(!this.hideOption(r,l,this.moduleOptions))if(c.enabled!==void 0){const h=Dw(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(l,u,!0);this._makeItem(u,p),a=this._handleObject(c,u)||a}else this._makeCheckbox(c,f,u)}else{const h=this._makeLabel(l,u,!0);this._makeItem(u,h),a=this._handleObject(c,u)||a}}else console.error("dont know how to handle",c,l,u)}}return a}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){const i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(s[r[o]]===void 0&&(s[r[o]]={}),o!==r.length-1?s=s[r[o]]:s[r[o]]=e);return i}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(fN("pre","const options = "+Os(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Sit=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=co(e),this.y=co(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let a=0,l=0;if(this.overflowMethod=="flip"){let c=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+i>o-this.padding&&(c=!0),c?a=this.x-i:a=this.x,u?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},oy=!1,XZ;const pN="background: #FFeeee; color: #dd0000";let kit=class wr{static validate(e,r,i){oy=!1,XZ=r;let s=r;return i!==void 0&&(s=r[i]),wr.parse(e,s,[]),oy}static parse(e,r,i){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&wr.check(s,e,r,i)}static check(e,r,i,s){if(i[e]===void 0&&i.__any__===void 0){wr.getSuggestion(e,i,s);return}let o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=wr.getType(r[e])==="object");let l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),wr.checkFields(e,r,i,o,l,s)}static checkFields(e,r,i,s,o,a){const l=function(d){console.error("%c"+d+wr.printLocation(a,e),pN)},c=wr.getType(r[e]),u=o[c];u!==void 0?wr.getType(u)==="array"&&Fn(u).call(u,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+wr.print(u)+' not "'+r[e]+'". '),oy=!0):c==="object"&&s!=="__any__"&&(a=Dw(a,e),wr.parse(r[e],i[s],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+wr.print(Qr(o))+". Received ["+c+'] "'+r[e]+'"'),oy=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":an(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){const s=wr.findInOptions(e,r,i,!1),o=wr.findInOptions(e,XZ,[],!0),a=8,l=4;let c;s.indexMatch!==void 0?c=" in "+wr.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:o.distance<=l&&s.distance>o.distance?c=" in "+wr.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+wr.printLocation(o.path,o.closestMatch,""):s.distance<=a?c='. Did you mean "'+s.closestMatch+'"?'+wr.printLocation(s.path,e):c=". Did you mean one of these: "+wr.print(Qr(r))+wr.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+c,pN),oy=!0}static findInOptions(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,a="",l=[];const c=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&s===!0){const p=wr.findInOptions(e,r[h],Dw(i,h));o>p.distance&&(a=p.closestMatch,l=p.path,o=p.distance,u=p.indexMatch)}else{var d;Fn(d=h.toLowerCase()).call(d,c)!==-1&&(u=h),f=wr.levenshteinDistance(e,h),o>f&&(a=h,l=Obe(i),o=f)}}return{closestMatch:a,path:l,distance:o,indexMatch:u}}static printLocation(e,r){let s=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)s+="  ";s+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)s+="  ";s+=r+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)s+="  ";s+=`}
`}return s+`

`}static print(e){return Os(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const i=[];let s;for(s=0;s<=r.length;s++)i[s]=[s];let o;for(o=0;o<=e.length;o++)i[0][o]=o;for(s=1;s<=r.length;s++)for(o=1;o<=e.length;o++)r.charAt(s-1)==e.charAt(o-1)?i[s][o]=i[s-1][o-1]:i[s][o]=Math.min(i[s-1][o-1]+1,Math.min(i[s][o-1]+1,i[s-1][o]+1));return i[r.length][e.length]}};const Cit=Dl,Eit=jbe,Ait=_it,Tit=dL,Pit=Sit,Iit=pN,Mit=kit;var Oit=Object.freeze({__proto__:null,Activator:Cit,Alea:Drt,ColorPicker:Eit,Configurator:Ait,DELETE:cL,HSVToHex:hN,HSVToRGB:hv,Hammer:Tit,Popup:Pit,RGBToHSV:Vm,RGBToHex:hL,VALIDATOR_PRINT_STYLE:Iit,Validator:Mit,addClassName:Zrt,addCssText:dit,binarySearchCustom:git,binarySearchValue:bit,bridgeObject:mL,copyAndExtendArray:Dw,copyArray:Obe,deepExtend:Ow,deepObjectAssign:uL,easingFunctions:yit,equalArray:Krt,extend:Hrt,fillIfDefined:Mbe,forEach:tit,getAbsoluteLeft:Xrt,getAbsoluteRight:Qrt,getAbsoluteTop:Jrt,getScrollBarWidth:vit,getTarget:oit,getType:By,hasParent:ait,hexToHSV:Rbe,hexToRGB:QE,insertSort:pit,isDate:qrt,isNumber:dv,isObject:dN,isString:ho,isValidHex:fL,isValidRGB:pL,isValidRGBA:Nbe,mergeOptions:mit,option:lit,overrideOpacity:cit,parseColor:uit,preventDefault:sit,pureDeepObjectAssign:Abe,recursiveDOMDelete:Ibe,removeClassName:eit,removeCssText:hit,selectiveBridgeObject:fit,selectiveDeepExtend:Grt,selectiveExtend:Vrt,selectiveNotDeepExtend:Yrt,throttle:iit,toArray:nit,topMost:wit,updateProperty:rit});function hd(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].redundant=n[e].used,n[e].used=[])}function Ho(n){for(var e in n){if(!Object.prototype.hasOwnProperty.call(n,e))continue;const i=n[e];for(var r=0;r<i.redundant.length;r++)i.redundant[r].parentNode.removeChild(i.redundant[r]);i.redundant=[]}}function Dit(n){hd(n),Ho(n),hd(n)}function $a(n,e,r){var i;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(i=e[n].redundant[0],e[n].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",n),r.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",n),e[n]={used:[],redundant:[]},r.appendChild(i)),e[n].used.push(i),i}function QI(n,e,r,i){var s;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(s=e[n].redundant[0],e[n].redundant.shift()):(s=document.createElement(n),i!==void 0?r.insertBefore(s,i):r.appendChild(s)):(s=document.createElement(n),e[n]={used:[],redundant:[]},i!==void 0?r.insertBefore(s,i):r.appendChild(s)),e[n].used.push(s),s}function N0(n,e,r,i,s,o){var a;if(r.style=="circle"?(a=$a("circle",i,s),a.setAttributeNS(null,"cx",n),a.setAttributeNS(null,"cy",e),a.setAttributeNS(null,"r",.5*r.size)):(a=$a("rect",i,s),a.setAttributeNS(null,"x",n-.5*r.size),a.setAttributeNS(null,"y",e-.5*r.size),a.setAttributeNS(null,"width",r.size),a.setAttributeNS(null,"height",r.size)),r.styles!==void 0&&a.setAttributeNS(null,"style",r.styles),a.setAttributeNS(null,"class",r.className+" vis-point"),o){var l=$a("text",i,s);o.xOffset&&(n=n+o.xOffset),o.yOffset&&(e=e+o.yOffset),o.content&&(l.textContent=o.content),o.className&&l.setAttributeNS(null,"class",o.className+" vis-label"),l.setAttributeNS(null,"x",n),l.setAttributeNS(null,"y",e)}return a}function mN(n,e,r,i,s,o,a,l){if(i!=0){i<0&&(i*=-1,e-=i);var c=$a("rect",o,a);c.setAttributeNS(null,"x",n-.5*r),c.setAttributeNS(null,"y",e),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",i),c.setAttributeNS(null,"class",s),l&&c.setAttributeNS(null,"style",l)}}function Rit(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}var JI,QZ;function Nit(){if(QZ)return JI;QZ=1,$0e();var n=Qn();return JI=n.Object.getOwnPropertySymbols,JI}var ZI,JZ;function jit(){if(JZ)return ZI;JZ=1;var n=Nit();return ZI=n,ZI}var eM,ZZ;function Bit(){return ZZ||(ZZ=1,eM=jit()),eM}var Lit=Bit(),O2=zt(Lit),tM={exports:{}},eee={},tee;function Fit(){if(tee)return eee;tee=1;var n=Bt(),e=yn(),r=tl(),i=$E().f,s=Lr(),o=!s||e(function(){i(1)});return n({target:"Object",stat:!0,forced:o,sham:!s},{getOwnPropertyDescriptor:function(l,c){return i(r(l),c)}}),eee}var nee;function $it(){if(nee)return tM.exports;nee=1,Fit();var n=Qn(),e=n.Object,r=tM.exports=function(s,o){return e.getOwnPropertyDescriptor(s,o)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),tM.exports}var nM,ree;function zit(){if(ree)return nM;ree=1;var n=$it();return nM=n,nM}var rM,iee;function Uit(){return iee||(iee=1,rM=zit()),rM}var Wit=Uit(),JE=zt(Wit),see={},oee;function qit(){if(oee)return see;oee=1;var n=Bt(),e=Lr(),r=Y0e(),i=tl(),s=$E(),o=zE();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(l){for(var c=i(l),u=s.f,d=r(c),h={},f=0,p,m;d.length>f;)m=u(c,p=d[f++]),m!==void 0&&o(h,p,m);return h}}),see}var iM,aee;function Hit(){if(aee)return iM;aee=1,qit();var n=Qn();return iM=n.Object.getOwnPropertyDescriptors,iM}var sM,lee;function Vit(){if(lee)return sM;lee=1;var n=Hit();return sM=n,sM}var oM,cee;function Git(){return cee||(cee=1,oM=Vit()),oM}var Yit=Git(),D2=zt(Yit),aM={exports:{}},uee={},dee;function Kit(){if(dee)return uee;dee=1;var n=Bt(),e=Lr(),r=YB().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),uee}var hee;function Xit(){if(hee)return aM.exports;hee=1,Kit();var n=Qn(),e=n.Object,r=aM.exports=function(s,o){return e.defineProperties(s,o)};return e.defineProperties.sham&&(r.sham=!0),aM.exports}var lM,fee;function Qit(){if(fee)return lM;fee=1;var n=Xit();return lM=n,lM}var cM,pee;function Jit(){return pee||(pee=1,cM=Qit()),cM}var Zit=Jit(),Bbe=zt(Zit),uM={exports:{}},mee={},gee;function est(){if(gee)return mee;gee=1;var n=Bt(),e=Lr(),r=da().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),mee}var bee;function tst(){if(bee)return uM.exports;bee=1,est();var n=Qn(),e=n.Object,r=uM.exports=function(s,o,a){return e.defineProperty(s,o,a)};return e.defineProperty.sham&&(r.sham=!0),uM.exports}var dM,yee;function Lbe(){if(yee)return dM;yee=1;var n=tst();return dM=n,dM}var hM,vee;function nst(){if(vee)return hM;vee=1;var n=Lbe();return hM=n,hM}var fM,wee;function rst(){if(wee)return fM;wee=1;var n=nst();return fM=n,fM}var pM,xee;function ist(){return xee||(xee=1,pM=rst()),pM}var sst=ist(),ost=zt(sst),_ee={},See;function ast(){if(See)return _ee;See=1;var n=qr(),e=da().f,r=n("metadata"),i=Function.prototype;return i[r]===void 0&&e(i,r,{value:null}),_ee}var kee={},Cee;function lst(){return Cee||(Cee=1,z0e()),kee}var Eee={},Aee;function cst(){return Aee||(Aee=1,U0e()),Eee}var Tee={},Pee;function ust(){if(Pee)return Tee;Pee=1;var n=br();return n("metadata"),Tee}var mM,Iee;function dst(){if(Iee)return mM;Iee=1;var n=G0e();return ast(),lst(),cst(),ust(),mM=n,mM}var Mee={},gM,Oee;function Fbe(){if(Oee)return gM;Oee=1;var n=To(),e=_n(),r=n("Symbol"),i=r.keyFor,s=e(r.prototype.valueOf);return gM=r.isRegisteredSymbol||function(a){try{return i(s(a))!==void 0}catch{return!1}},gM}var Dee;function hst(){if(Dee)return Mee;Dee=1;var n=Bt(),e=Fbe();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Mee}var Ree={},bM,Nee;function $be(){if(Nee)return bM;Nee=1;for(var n=mb(),e=To(),r=_n(),i=zx(),s=qr(),o=e("Symbol"),a=o.isWellKnownSymbol,l=e("Object","getOwnPropertyNames"),c=r(o.prototype.valueOf),u=n("wks"),d=0,h=l(o),f=h.length;d<f;d++)try{var p=h[d];i(o[p])&&s(p)}catch{}return bM=function(b){if(a&&a(b))return!0;try{for(var y=c(b),v=0,w=l(u),_=w.length;v<_;v++)if(u[w[v]]==y)return!0}catch{}return!1},bM}var jee;function fst(){if(jee)return Ree;jee=1;var n=Bt(),e=$be();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Ree}var Bee={},Lee;function pst(){if(Lee)return Bee;Lee=1;var n=br();return n("customMatcher"),Bee}var Fee={},$ee;function mst(){if($ee)return Fee;$ee=1;var n=br();return n("observable"),Fee}var zee={},Uee;function gst(){if(Uee)return zee;Uee=1;var n=Bt(),e=Fbe();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),zee}var Wee={},qee;function bst(){if(qee)return Wee;qee=1;var n=Bt(),e=$be();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Wee}var Hee={},Vee;function yst(){if(Vee)return Hee;Vee=1;var n=br();return n("matcher"),Hee}var Gee={},Yee;function vst(){if(Yee)return Gee;Yee=1;var n=br();return n("metadataKey"),Gee}var Kee={},Xee;function wst(){if(Xee)return Kee;Xee=1;var n=br();return n("patternMatch"),Kee}var Qee={},Jee;function xst(){if(Jee)return Qee;Jee=1;var n=br();return n("replaceAll"),Qee}var yM,Zee;function _st(){if(Zee)return yM;Zee=1;var n=dst();return hst(),fst(),pst(),mst(),gst(),bst(),yst(),vst(),wst(),xst(),yM=n,yM}var vM,ete;function Sst(){return ete||(ete=1,vM=_st()),vM}var kst=Sst(),V_=zt(kst),tte={},wM,nte;function Cst(){if(nte)return wM;nte=1;var n=_n(),e=bb(),r=ha(),i=ku(),s=n("".charAt),o=n("".charCodeAt),a=n("".slice),l=function(c){return function(u,d){var h=r(i(u)),f=e(d),p=h.length,m,b;return f<0||f>=p?c?"":void 0:(m=o(h,f),m<55296||m>56319||f+1===p||(b=o(h,f+1))<56320||b>57343?c?s(h,f):m:c?a(h,f,f+2):(m-55296<<10)+(b-56320)+65536)}};return wM={codeAt:l(!1),charAt:l(!0)},wM}var rte;function ZE(){if(rte)return tte;rte=1;var n=Cst().charAt,e=ha(),r=Yx(),i=XB(),s=QB(),o="String Iterator",a=r.set,l=r.getterFor(o);return i(String,"String",function(c){a(this,{type:o,string:e(c),index:0})},function(){var u=l(this),d=u.string,h=u.index,f;return h>=d.length?s(void 0,!0):(f=n(d,h),u.index+=f.length,s(f,!1))}),tte}var xM,ite;function Est(){if(ite)return xM;ite=1,hh(),ZE(),W0e();var n=GE();return xM=n.f("iterator"),xM}var _M,ste;function zbe(){if(ste)return _M;ste=1;var n=Est();return fh(),_M=n,_M}var SM,ote;function Ast(){if(ote)return SM;ote=1;var n=zbe();return SM=n,SM}var kM,ate;function Tst(){if(ate)return kM;ate=1;var n=Ast();return kM=n,kM}var CM,lte;function Pst(){return lte||(lte=1,CM=Tst()),CM}var Ist=Pst(),Mst=zt(Ist);function Rw(n){"@babel/helpers - typeof";return Rw=typeof V_=="function"&&typeof Mst=="symbol"?function(e){return typeof e}:function(e){return e&&typeof V_=="function"&&e.constructor===V_&&e!==V_.prototype?"symbol":typeof e},Rw(n)}var EM,cte;function Ost(){if(cte)return EM;cte=1,q0e();var n=GE();return EM=n.f("toPrimitive"),EM}var AM,ute;function Dst(){if(ute)return AM;ute=1;var n=Ost();return AM=n,AM}var TM,dte;function Rst(){if(dte)return TM;dte=1;var n=Dst();return TM=n,TM}var PM,hte;function Nst(){if(hte)return PM;hte=1;var n=Rst();return PM=n,PM}var IM,fte;function jst(){return fte||(fte=1,IM=Nst()),IM}var Bst=jst(),Lst=zt(Bst);function Fst(n,e){if(Rw(n)!="object"||!n)return n;var r=n[Lst];if(r!==void 0){var i=r.call(n,e);if(Rw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $st(n){var e=Fst(n,"string");return Rw(e)=="symbol"?e:e+""}function $n(n,e,r){return(e=$st(e))in n?ost(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var pte={},MM,mte;function zst(){if(mte)return MM;mte=1;var n=tc(),e=Ks(),r=LE(),i=nl(),s=TypeError,o="Reduce of empty array with no initial value",a=function(l){return function(c,u,d,h){var f=e(c),p=r(f),m=i(f);if(n(u),m===0&&d<2)throw new s(o);var b=l?m-1:0,y=l?-1:1;if(d<2)for(;;){if(b in p){h=p[b],b+=y;break}if(b+=y,l?b<0:m<=b)throw new s(o)}for(;l?b>=0:m>b;b+=y)b in p&&(h=u(h,p[b],b,f));return h}};return MM={left:a(!1),right:a(!0)},MM}var OM,gte;function Ust(){if(gte)return OM;gte=1;var n=ebe();return OM=n==="NODE",OM}var bte;function Wst(){if(bte)return pte;bte=1;var n=Bt(),e=zst().left,r=xb(),i=$x(),s=Ust(),o=!s&&i>79&&i<83,a=o||!r("reduce");return n({target:"Array",proto:!0,forced:a},{reduce:function(c){var u=arguments.length;return e(this,c,u,u>1?arguments[1]:void 0)}}),pte}var DM,yte;function qst(){if(yte)return DM;yte=1,Wst();var n=Ar();return DM=n("Array","reduce"),DM}var RM,vte;function Hst(){if(vte)return RM;vte=1;var n=nr(),e=qst(),r=Array.prototype;return RM=function(i){var s=i.reduce;return i===r||n(r,i)&&s===r.reduce?e:s},RM}var NM,wte;function Vst(){if(wte)return NM;wte=1;var n=Hst();return NM=n,NM}var jM,xte;function Gst(){return xte||(xte=1,jM=Vst()),jM}var Yst=Gst(),e6=zt(Yst),_te={},BM,Ste;function Kst(){if(Ste)return BM;Ste=1;var n=ch(),e=nl(),r=qB(),i=Ux(),s=function(o,a,l,c,u,d,h,f){for(var p=u,m=0,b=h?i(h,f):!1,y,v;m<c;)m in l&&(y=b?b(l[m],m,a):l[m],d>0&&n(y)?(v=e(y),p=s(o,a,y,v,p,d-1)-1):(r(p+1),o[p]=y),p++),m++;return p};return BM=s,BM}var kte;function Xst(){if(kte)return _te;kte=1;var n=Bt(),e=Kst(),r=tc(),i=Ks(),s=nl(),o=UE();return n({target:"Array",proto:!0},{flatMap:function(l){var c=i(this),u=s(c),d;return r(l),d=o(c,0),d.length=e(d,c,c,u,0,1,l,arguments.length>1?arguments[1]:void 0),d}}),_te}var Cte={},Ete;function Qst(){if(Ete)return Cte;Ete=1;var n=Kx();return n("flatMap"),Cte}var LM,Ate;function Jst(){if(Ate)return LM;Ate=1,Xst(),Qst();var n=Ar();return LM=n("Array","flatMap"),LM}var FM,Tte;function Zst(){if(Tte)return FM;Tte=1;var n=nr(),e=Jst(),r=Array.prototype;return FM=function(i){var s=i.flatMap;return i===r||n(r,i)&&s===r.flatMap?e:s},FM}var $M,Pte;function eot(){if(Pte)return $M;Pte=1;var n=Zst();return $M=n,$M}var zM,Ite;function tot(){return Ite||(Ite=1,zM=eot()),zM}var not=tot(),rot=zt(not),UM,Mte;function iot(){return Mte||(Mte=1,UM=zbe()),UM}var sot=iot(),uf=zt(sot),Ote={},Dte={},WM={exports:{}},qM,Rte;function oot(){if(Rte)return qM;Rte=1;var n=yn();return qM=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),qM}var HM,Nte;function aot(){if(Nte)return HM;Nte=1;var n=yn(),e=Ki(),r=ec(),i=oot(),s=Object.isExtensible,o=n(function(){});return HM=o||i?function(l){return!e(l)||i&&r(l)==="ArrayBuffer"?!1:s?s(l):!0}:s,HM}var VM,jte;function lot(){if(jte)return VM;jte=1;var n=yn();return VM=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),VM}var Bte;function Ube(){if(Bte)return WM.exports;Bte=1;var n=Bt(),e=_n(),r=qx(),i=Ki(),s=pi(),o=da().f,a=HE(),l=j0e(),c=aot(),u=FE(),d=lot(),h=!1,f=u("meta"),p=0,m=function(x){o(x,f,{value:{objectID:"O"+p++,weakData:{}}})},b=function(x,S){if(!i(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!s(x,f)){if(!c(x))return"F";if(!S)return"E";m(x)}return x[f].objectID},y=function(x,S){if(!s(x,f)){if(!c(x))return!0;if(!S)return!1;m(x)}return x[f].weakData},v=function(x){return d&&h&&c(x)&&!s(x,f)&&m(x),x},w=function(){_.enable=function(){},h=!0;var x=a.f,S=e([].splice),C={};C[f]=1,x(C).length&&(a.f=function(E){for(var A=x(E),M=0,I=A.length;M<I;M++)if(A[M]===f){S(A,M,1);break}return A},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},_=WM.exports={enable:w,fastKey:b,getWeakData:y,onFreeze:v};return r[f]=!0,WM.exports}var GM,Lte;function cot(){if(Lte)return GM;Lte=1;var n=qr(),e=vb(),r=n("iterator"),i=Array.prototype;return GM=function(s){return s!==void 0&&(e.Array===s||i[r]===s)},GM}var YM,Fte;function Wbe(){if(Fte)return YM;Fte=1;var n=uh(),e=zB(),r=Fx(),i=vb(),s=qr(),o=s("iterator");return YM=function(a){if(!r(a))return e(a,o)||e(a,"@@iterator")||i[n(a)]},YM}var KM,$te;function qbe(){if($te)return KM;$te=1;var n=Ys(),e=tc(),r=Cu(),i=fb(),s=Wbe(),o=TypeError;return KM=function(a,l){var c=arguments.length<2?s(a):l;if(e(c))return r(n(c,a));throw new o(i(a)+" is not iterable")},KM}var XM,zte;function gL(){if(zte)return XM;zte=1;var n=Ys(),e=Cu(),r=zB();return XM=function(i,s,o){var a,l;e(i);try{if(a=r(i,"return"),!a){if(s==="throw")throw o;return o}a=n(a,i)}catch(c){l=!0,a=c}if(s==="throw")throw o;if(l)throw a;return e(a),o},XM}var QM,Ute;function bL(){if(Ute)return QM;Ute=1;var n=Ux(),e=Ys(),r=Cu(),i=fb(),s=cot(),o=nl(),a=nr(),l=qbe(),c=Wbe(),u=gL(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return QM=function(p,m,b){var y=b&&b.that,v=!!(b&&b.AS_ENTRIES),w=!!(b&&b.IS_RECORD),_=!!(b&&b.IS_ITERATOR),x=!!(b&&b.INTERRUPTED),S=n(m,y),C,E,A,M,I,O,F,$=function(R){return C&&u(C,"normal"),new h(!0,R)},z=function(R){return v?(r(R),x?S(R[0],R[1],$):S(R[0],R[1])):x?S(R,$):S(R)};if(w)C=p.iterator;else if(_)C=p;else{if(E=c(p),!E)throw new d(i(p)+" is not iterable");if(s(E)){for(A=0,M=o(p);M>A;A++)if(I=z(p[A]),I&&a(f,I))return I;return new h(!1)}C=l(p,E)}for(O=w?p.next:C.next;!(F=e(O,C)).done;){try{I=z(F.value)}catch(R){u(C,"throw",R)}if(typeof I=="object"&&I&&a(f,I))return I}return new h(!1)},QM}var JM,Wte;function Hbe(){if(Wte)return JM;Wte=1;var n=nr(),e=TypeError;return JM=function(r,i){if(n(i,r))return r;throw new e("Incorrect invocation")},JM}var ZM,qte;function Vbe(){if(qte)return ZM;qte=1;var n=Bt(),e=Er(),r=Ube(),i=yn(),s=gb(),o=bL(),a=Hbe(),l=fi(),c=Ki(),u=Fx(),d=Ap(),h=da().f,f=dh().forEach,p=Lr(),m=Yx(),b=m.set,y=m.getterFor;return ZM=function(v,w,_){var x=v.indexOf("Map")!==-1,S=v.indexOf("Weak")!==-1,C=x?"set":"add",E=e[v],A=E&&E.prototype,M={},I;if(!p||!l(E)||!(S||A.forEach&&!i(function(){new E().entries().next()})))I=_.getConstructor(w,v,x,C),r.enable();else{I=w(function($,z){b(a($,O),{type:v,collection:new E}),u(z)||o(z,$[C],{that:$,AS_ENTRIES:x})});var O=I.prototype,F=y(v);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function($){var z=$==="add"||$==="set";$ in A&&!(S&&$==="clear")&&s(O,$,function(R,j){var N=F(this).collection;if(!z&&S&&!c(R))return $==="get"?void 0:!1;var D=N[$](R===0?0:R,j);return z?this:D})}),S||h(O,"size",{configurable:!0,get:function(){return F(this).collection.size}})}return d(I,v,!1,!0),M[v]=I,n({global:!0,forced:!0},M),S||_.setStrong(I,v,x),I},ZM}var eO,Hte;function uot(){if(Hte)return eO;Hte=1;var n=Gx();return eO=function(e,r,i){for(var s in r)i&&i.unsafe&&e[s]?e[s]=r[s]:n(e,s,r[s],i);return e},eO}var tO,Vte;function dot(){if(Vte)return tO;Vte=1;var n=To(),e=KB(),r=qr(),i=Lr(),s=r("species");return tO=function(o){var a=n(o);i&&a&&!a[s]&&e(a,s,{configurable:!0,get:function(){return this}})},tO}var nO,Gte;function Gbe(){if(Gte)return nO;Gte=1;var n=Vx(),e=KB(),r=uot(),i=Ux(),s=Hbe(),o=Fx(),a=bL(),l=XB(),c=QB(),u=dot(),d=Lr(),h=Ube().fastKey,f=Yx(),p=f.set,m=f.getterFor;return nO={getConstructor:function(b,y,v,w){var _=b(function(A,M){s(A,x),p(A,{type:y,index:n(null),first:null,last:null,size:0}),d||(A.size=0),o(M)||a(M,A[w],{that:A,AS_ENTRIES:v})}),x=_.prototype,S=m(y),C=function(A,M,I){var O=S(A),F=E(A,M),$,z;return F?F.value=I:(O.last=F={index:z=h(M,!0),key:M,value:I,previous:$=O.last,next:null,removed:!1},O.first||(O.first=F),$&&($.next=F),d?O.size++:A.size++,z!=="F"&&(O.index[z]=F)),A},E=function(A,M){var I=S(A),O=h(M),F;if(O!=="F")return I.index[O];for(F=I.first;F;F=F.next)if(F.key===M)return F};return r(x,{clear:function(){for(var M=this,I=S(M),O=I.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=null),O=O.next;I.first=I.last=null,I.index=n(null),d?I.size=0:M.size=0},delete:function(A){var M=this,I=S(M),O=E(M,A);if(O){var F=O.next,$=O.previous;delete I.index[O.index],O.removed=!0,$&&($.next=F),F&&(F.previous=$),I.first===O&&(I.first=F),I.last===O&&(I.last=$),d?I.size--:M.size--}return!!O},forEach:function(M){for(var I=S(this),O=i(M,arguments.length>1?arguments[1]:void 0),F;F=F?F.next:I.first;)for(O(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(M){return!!E(this,M)}}),r(x,v?{get:function(M){var I=E(this,M);return I&&I.value},set:function(M,I){return C(this,M===0?0:M,I)}}:{add:function(M){return C(this,M=M===0?0:M,M)}}),d&&e(x,"size",{configurable:!0,get:function(){return S(this).size}}),_},setStrong:function(b,y,v){var w=y+" Iterator",_=m(y),x=m(w);l(b,y,function(S,C){p(this,{type:w,target:S,state:_(S),kind:C,last:null})},function(){for(var S=x(this),C=S.kind,E=S.last;E&&E.removed;)E=E.previous;return!S.target||!(S.last=E=E?E.next:S.state.first)?(S.target=null,c(void 0,!0)):c(C==="keys"?E.key:C==="values"?E.value:[E.key,E.value],!1)},v?"entries":"values",!v,!0),u(y)}},nO}var Yte;function hot(){if(Yte)return Dte;Yte=1;var n=Vbe(),e=Gbe();return n("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Dte}var Kte;function fot(){return Kte||(Kte=1,hot()),Ote}var Xte={},rO,Qte;function Ybe(){return Qte||(Qte=1,rO=function(n,e){return e===1?function(r,i){return r[n](i)}:function(r,i,s){return r[n](i,s)}}),rO}var iO,Jte;function pot(){if(Jte)return iO;Jte=1;var n=To(),e=Ybe(),r=n("Map");return iO={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},iO}var Zte;function mot(){if(Zte)return Xte;Zte=1;var n=Bt(),e=_n(),r=tc(),i=ku(),s=bL(),o=pot(),a=pb(),l=yn(),c=o.Map,u=o.has,d=o.get,h=o.set,f=e([].push),p=a||l(function(){return c.groupBy("ab",function(m){return m}).get("a").length!==1});return n({target:"Map",stat:!0,forced:a||p},{groupBy:function(b,y){i(b),r(y);var v=new c,w=0;return s(b,function(_){var x=y(_,w++);u(v,x)?f(d(v,x),_):h(v,x,[_])}),v}}),Xte}var sO,ene;function got(){if(ene)return sO;ene=1,hh(),fot(),mot(),ZE();var n=Qn();return sO=n.Map,sO}var oO,tne;function bot(){if(tne)return oO;tne=1;var n=got();return fh(),oO=n,oO}var aO,nne;function yot(){return nne||(nne=1,aO=bot()),aO}var vot=yot(),Kbe=zt(vot),rne={},ine={},sne;function wot(){if(sne)return ine;sne=1;var n=Vbe(),e=Gbe();return n("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),ine}var one;function xot(){return one||(one=1,wot()),rne}var ane={},lO,lne;function Pp(){if(lne)return lO;lne=1;var n=fb(),e=TypeError;return lO=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(n(r)+" is not a set")},lO}var cO,cne;function Ip(){if(cne)return cO;cne=1;var n=To(),e=Ybe(),r=n("Set"),i=r.prototype;return cO={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:i},cO}var uO,une;function Mp(){if(une)return uO;une=1;var n=Ys();return uO=function(e,r,i){for(var s=i?e:e.iterator,o=e.next,a,l;!(a=n(o,s)).done;)if(l=r(a.value),l!==void 0)return l},uO}var dO,dne;function n1(){if(dne)return dO;dne=1;var n=Mp();return dO=function(e,r,i){return i?n(e.keys(),r,!0):e.forEach(r)},dO}var hO,hne;function yL(){if(hne)return hO;hne=1;var n=Ip(),e=n1(),r=n.Set,i=n.add;return hO=function(s){var o=new r;return e(s,function(a){i(o,a)}),o},hO}var fO,fne;function r1(){return fne||(fne=1,fO=function(n){return n.size}),fO}var pO,pne;function _ot(){return pne||(pne=1,pO=function(n){return{iterator:n,next:n.next,done:!1}}),pO}var mO,mne;function Op(){if(mne)return mO;mne=1;var n=tc(),e=Cu(),r=Ys(),i=bb(),s=_ot(),o="Invalid size",a=RangeError,l=TypeError,c=Math.max,u=function(d,h){this.set=d,this.size=c(h,0),this.has=n(d.has),this.keys=n(d.keys)};return u.prototype={getIterator:function(){return s(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},mO=function(d){e(d);var h=+d.size;if(h!==h)throw new l(o);var f=i(h);if(f<0)throw new a(o);return new u(d,f)},mO}var gO,gne;function Sot(){if(gne)return gO;gne=1;var n=Pp(),e=Ip(),r=yL(),i=r1(),s=Op(),o=n1(),a=Mp(),l=e.has,c=e.remove;return gO=function(d){var h=n(this),f=s(d),p=r(h);return i(h)<=f.size?o(h,function(m){f.includes(m)&&c(p,m)}):a(f.getIterator(),function(m){l(p,m)&&c(p,m)}),p},gO}var bO,bne;function Dp(){return bne||(bne=1,bO=function(){return!1}),bO}var yne;function kot(){if(yne)return ane;yne=1;var n=Bt(),e=Sot(),r=yn(),i=Dp(),s=!i("difference",function(a){return a.size===0}),o=s||r(function(){var a={size:1,has:function(){return!0},keys:function(){var c=0;return{next:function(){var u=c++>1;return l.has(1)&&l.clear(),{done:u,value:2}}}}},l=new Set([1,2,3,4]);return l.difference(a).size!==3});return n({target:"Set",proto:!0,real:!0,forced:o},{difference:e}),ane}var vne={},yO,wne;function Cot(){if(wne)return yO;wne=1;var n=Pp(),e=Ip(),r=r1(),i=Op(),s=n1(),o=Mp(),a=e.Set,l=e.add,c=e.has;return yO=function(d){var h=n(this),f=i(d),p=new a;return r(h)>f.size?o(f.getIterator(),function(m){c(h,m)&&l(p,m)}):s(h,function(m){f.includes(m)&&l(p,m)}),p},yO}var xne;function Eot(){if(xne)return vne;xne=1;var n=Bt(),e=yn(),r=Cot(),i=Dp(),s=!i("intersection",function(o){return o.size===2&&o.has(1)&&o.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:s},{intersection:r}),vne}var _ne={},vO,Sne;function Aot(){if(Sne)return vO;Sne=1;var n=Pp(),e=Ip().has,r=r1(),i=Op(),s=n1(),o=Mp(),a=gL();return vO=function(c){var u=n(this),d=i(c);if(r(u)<=d.size)return s(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return o(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},vO}var kne;function Tot(){if(kne)return _ne;kne=1;var n=Bt(),e=Aot(),r=Dp(),i=!r("isDisjointFrom",function(s){return!s});return n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:e}),_ne}var Cne={},wO,Ene;function Pot(){if(Ene)return wO;Ene=1;var n=Pp(),e=r1(),r=n1(),i=Op();return wO=function(o){var a=n(this),l=i(o);return e(a)>l.size?!1:r(a,function(c){if(!l.includes(c))return!1},!0)!==!1},wO}var Ane;function Iot(){if(Ane)return Cne;Ane=1;var n=Bt(),e=Pot(),r=Dp(),i=!r("isSubsetOf",function(s){return s});return n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:e}),Cne}var Tne={},xO,Pne;function Mot(){if(Pne)return xO;Pne=1;var n=Pp(),e=Ip().has,r=r1(),i=Op(),s=Mp(),o=gL();return xO=function(l){var c=n(this),u=i(l);if(r(c)<u.size)return!1;var d=u.getIterator();return s(d,function(h){if(!e(c,h))return o(d,"normal",!1)})!==!1},xO}var Ine;function Oot(){if(Ine)return Tne;Ine=1;var n=Bt(),e=Mot(),r=Dp(),i=!r("isSupersetOf",function(s){return!s});return n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:e}),Tne}var Mne={},_O,One;function Dot(){if(One)return _O;One=1;var n=Pp(),e=Ip(),r=yL(),i=Op(),s=Mp(),o=e.add,a=e.has,l=e.remove;return _O=function(u){var d=n(this),h=i(u).getIterator(),f=r(d);return s(h,function(p){a(d,p)?l(f,p):o(f,p)}),f},_O}var SO,Dne;function Xbe(){return Dne||(Dne=1,SO=function(n){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},i=e[n](r);return i.size===1&&i.values().next().value===4}catch{return!1}}),SO}var Rne;function Rot(){if(Rne)return Mne;Rne=1;var n=Bt(),e=Dot(),r=Xbe(),i=Dp(),s=!i("symmetricDifference")||!r("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:s},{symmetricDifference:e}),Mne}var Nne={},kO,jne;function Not(){if(jne)return kO;jne=1;var n=Pp(),e=Ip().add,r=yL(),i=Op(),s=Mp();return kO=function(a){var l=n(this),c=i(a).getIterator(),u=r(l);return s(c,function(d){e(u,d)}),u},kO}var Bne;function jot(){if(Bne)return Nne;Bne=1;var n=Bt(),e=Not(),r=Xbe(),i=Dp(),s=!i("union")||!r("union");return n({target:"Set",proto:!0,real:!0,forced:s},{union:e}),Nne}var CO,Lne;function Bot(){if(Lne)return CO;Lne=1,hh(),xot(),kot(),Eot(),Tot(),Iot(),Oot(),Rot(),jot(),ZE();var n=Qn();return CO=n.Set,CO}var EO,Fne;function Lot(){if(Fne)return EO;Fne=1;var n=Bot();return fh(),EO=n,EO}var AO,$ne;function Fot(){return $ne||($ne=1,AO=Lot()),AO}var $ot=Fot(),Gd=zt($ot),TO,zne;function zot(){if(zne)return TO;zne=1,hh(),ZE();var n=qbe();return TO=n,TO}var PO,Une;function Uot(){if(Une)return PO;Une=1;var n=zot();return fh(),PO=n,PO}var IO,Wne;function Wot(){if(Wne)return IO;Wne=1;var n=Uot();return IO=n,IO}var MO,qne;function qot(){if(qne)return MO;qne=1;var n=Wot();return MO=n,MO}var OO,Hne;function Hot(){return Hne||(Hne=1,OO=qot()),OO}var DO,Vne;function Vot(){return Vne||(Vne=1,DO=Hot()),DO}var Got=Vot(),RO=zt(Got),Gne={},NO,Yne;function Yot(){if(Yne)return NO;Yne=1;var n=yb(),e=Math.floor,r=function(i,s){var o=i.length;if(o<8)for(var a=1,l,c;a<o;){for(c=a,l=i[a];c&&s(i[c-1],l)>0;)i[c]=i[--c];c!==a++&&(i[c]=l)}else for(var u=e(o/2),d=r(n(i,0,u),s),h=r(n(i,u),s),f=d.length,p=h.length,m=0,b=0;m<f||b<p;)i[m+b]=m<f&&b<p?s(d[m],h[b])<=0?d[m++]:h[b++]:m<f?d[m++]:h[b++];return i};return NO=r,NO}var jO,Kne;function Kot(){if(Kne)return jO;Kne=1;var n=db(),e=n.match(/firefox\/(\d+)/i);return jO=!!e&&+e[1],jO}var BO,Xne;function Xot(){if(Xne)return BO;Xne=1;var n=db();return BO=/MSIE|Trident/.test(n),BO}var LO,Qne;function Qot(){if(Qne)return LO;Qne=1;var n=db(),e=n.match(/AppleWebKit\/(\d+)\./);return LO=!!e&&+e[1],LO}var Jne;function Jot(){if(Jne)return Gne;Jne=1;var n=Bt(),e=_n(),r=tc(),i=Ks(),s=nl(),o=X0e(),a=ha(),l=yn(),c=Yot(),u=xb(),d=Kot(),h=Xot(),f=$x(),p=Qot(),m=[],b=e(m.sort),y=e(m.push),v=l(function(){m.sort(void 0)}),w=l(function(){m.sort(null)}),_=u("sort"),x=!l(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var E="",A,M,I,O;for(A=65;A<76;A++){switch(M=String.fromCharCode(A),A){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(O=0;O<47;O++)m.push({k:M+O,v:I})}for(m.sort(function(F,$){return $.v-F.v}),O=0;O<m.length;O++)M=m[O].k.charAt(0),E.charAt(E.length-1)!==M&&(E+=M);return E!=="DGBEFHACIJK"}}),S=v||!w||!_||!x,C=function(E){return function(A,M){return M===void 0?-1:A===void 0?1:E!==void 0?+E(A,M)||0:a(A)>a(M)?1:-1}};return n({target:"Array",proto:!0,forced:S},{sort:function(A){A!==void 0&&r(A);var M=i(this);if(x)return A===void 0?b(M):b(M,A);var I=[],O=s(M),F,$;for($=0;$<O;$++)$ in M&&y(I,M[$]);for(c(I,C(A)),F=s(I),$=0;$<F;)M[$]=I[$++];for(;$<O;)o(M,$++);return M}}),Gne}var FO,Zne;function Zot(){if(Zne)return FO;Zne=1,Jot();var n=Ar();return FO=n("Array","sort"),FO}var $O,ere;function eat(){if(ere)return $O;ere=1;var n=nr(),e=Zot(),r=Array.prototype;return $O=function(i){var s=i.sort;return i===r||n(r,i)&&s===r.sort?e:s},$O}var zO,tre;function tat(){if(tre)return zO;tre=1;var n=eat();return zO=n,zO}var UO,nre;function nat(){return nre||(nre=1,UO=tat()),UO}var rat=nat(),Nr=zt(rat),rre={},ire;function iat(){if(ire)return rre;ire=1;var n=Bt(),e=dh().some,r=xb(),i=r("some");return n({target:"Array",proto:!0,forced:!i},{some:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),rre}var WO,sre;function sat(){if(sre)return WO;sre=1,iat();var n=Ar();return WO=n("Array","some"),WO}var qO,ore;function oat(){if(ore)return qO;ore=1;var n=nr(),e=sat(),r=Array.prototype;return qO=function(i){var s=i.some;return i===r||n(r,i)&&s===r.some?e:s},qO}var HO,are;function aat(){if(are)return HO;are=1;var n=oat();return HO=n,HO}var VO,lre;function lat(){return lre||(lre=1,VO=aat()),VO}var cat=lat(),vL=zt(cat),GO,cre;function uat(){if(cre)return GO;cre=1,hh();var n=Ar();return GO=n("Array","keys"),GO}var YO,ure;function dat(){if(ure)return YO;ure=1;var n=uat();return YO=n,YO}var KO,dre;function hat(){if(dre)return KO;dre=1,fh();var n=uh(),e=pi(),r=nr(),i=dat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return KO=function(a){var l=a.keys;return a===s||r(s,a)&&l===s.keys||e(o,n(a))?i:l},KO}var XO,hre;function fat(){return hre||(hre=1,XO=hat()),XO}var pat=fat(),qh=zt(pat),QO,fre;function mat(){if(fre)return QO;fre=1,hh();var n=Ar();return QO=n("Array","values"),QO}var JO,pre;function gat(){if(pre)return JO;pre=1;var n=mat();return JO=n,JO}var ZO,mre;function bat(){if(mre)return ZO;mre=1,fh();var n=uh(),e=pi(),r=nr(),i=gat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return ZO=function(a){var l=a.values;return a===s||r(s,a)&&l===s.values||e(o,n(a))?i:l},ZO}var eD,gre;function yat(){return gre||(gre=1,eD=bat()),eD}var vat=yat(),bre=zt(vat),tD,yre;function wat(){if(yre)return tD;yre=1,hh();var n=Ar();return tD=n("Array","entries"),tD}var nD,vre;function xat(){if(vre)return nD;vre=1;var n=wat();return nD=n,nD}var rD,wre;function _at(){if(wre)return rD;wre=1,fh();var n=uh(),e=pi(),r=nr(),i=xat(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return rD=function(a){var l=a.entries;return a===s||r(s,a)&&l===s.entries||e(o,n(a))?i:l},rD}var iD,xre;function Sat(){return xre||(xre=1,iD=_at()),iD}var kat=Sat(),Cat=zt(kat),sD,_re;function Eat(){return _re||(_re=1,sD=Lbe()),sD}var Aat=Eat(),t6=zt(Aat);const vi=[];for(let n=0;n<256;++n)vi.push((n+256).toString(16).slice(1));function Tat(n,e=0){return(vi[n[e+0]]+vi[n[e+1]]+vi[n[e+2]]+vi[n[e+3]]+"-"+vi[n[e+4]]+vi[n[e+5]]+"-"+vi[n[e+6]]+vi[n[e+7]]+"-"+vi[n[e+8]]+vi[n[e+9]]+"-"+vi[n[e+10]]+vi[n[e+11]]+vi[n[e+12]]+vi[n[e+13]]+vi[n[e+14]]+vi[n[e+15]]).toLowerCase()}let oD;const Pat=new Uint8Array(16);function Iat(){if(!oD){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");oD=crypto.getRandomValues.bind(crypto)}return oD(Pat)}const Mat=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Sre={randomUUID:Mat};function Oat(n,e,r){var s;n=n||{};const i=n.random??((s=n.rng)==null?void 0:s.call(n))??Iat();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Tat(i)}function Bf(n,e,r){return Sre.randomUUID&&!n?Sre.randomUUID():Oat(n)}function kre(n,e){var r=Qr(n);if(O2){var i=O2(n);e&&(i=qt(i).call(i,function(s){return JE(n,s).enumerable})),r.push.apply(r,i)}return r}function Cre(n){for(var e=1;e<arguments.length;e++){var r,i,s=arguments[e]!=null?arguments[e]:{};e%2?xt(r=kre(Object(s),!0)).call(r,function(o){$n(n,o,s[o])}):D2?Bbe(n,D2(s)):xt(i=kre(Object(s))).call(i,function(o){t6(n,o,JE(s,o))})}return n}function Dat(n){return new Nat(n)}class Rat{constructor(e,r,i){var s,o,a;$n(this,"_source",void 0),$n(this,"_transformers",void 0),$n(this,"_target",void 0),$n(this,"_listeners",{add:Ue(s=this._add).call(s,this),remove:Ue(o=this._remove).call(o,this),update:Ue(a=this._update).call(a,this)}),this._source=e,this._transformers=r,this._target=i}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){var r;return e6(r=this._transformers).call(r,(i,s)=>s(i),e)}_add(e,r){r!=null&&this._target.add(this._transformItems(this._source.get(r.items)))}_update(e,r){r!=null&&this._target.update(this._transformItems(this._source.get(r.items)))}_remove(e,r){r!=null&&this._target.remove(this._transformItems(r.oldData))}}class Nat{constructor(e){$n(this,"_source",void 0),$n(this,"_transformers",[]),this._source=e}filter(e){return this._transformers.push(r=>qt(r).call(r,e)),this}map(e){return this._transformers.push(r=>In(r).call(r,e)),this}flatMap(e){return this._transformers.push(r=>rot(r).call(r,e)),this}to(e){return new Rat(this._source,this._transformers,e)}}function gN(n){return typeof n=="string"||typeof n=="number"}class wL{constructor(e){$n(this,"delay",void 0),$n(this,"max",void 0),$n(this,"_queue",[]),$n(this,"_timeout",null),$n(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const i=new wL(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{i.flush()};const s=[{name:"flush",original:void 0}];if(r&&r.replace)for(let o=0;o<r.replace.length;o++){const a=r.replace[o];s.push({name:a,original:e[a]}),i.replace(e,a)}return i._extended={object:e,methods:s},i}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let i=0;i<r.length;i++){const s=r[i];s.original?e[s.name]=s.original:delete e[s.name]}this._extended=null}}replace(e,r){const i=this,s=e[r];if(!s)throw new Error("Method "+r+" undefined");e[r]=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.queue({args:a,fn:s,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Hi(()=>{this.flush()},this.delay))}flush(){var e,r;xt(e=cs(r=this._queue).call(r,0)).call(e,i=>{i.fn.apply(i.context||i.fn,i.args||[])})}}class Nw{constructor(){$n(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),$n(this,"subscribe",Nw.prototype.on),$n(this,"unsubscribe",Nw.prototype.off)}_trigger(e,r,i){var s;if(e==="*")throw new Error("Cannot trigger event *");xt(s=[...this._subscribers[e],...this._subscribers["*"]]).call(s,o=>{o(e,r,i??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var i;this._subscribers[e]=qt(i=this._subscribers[e]).call(i,s=>s!==r)}}class df{constructor(e){$n(this,"_pairs",void 0),this._pairs=e}*[uf](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return In(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return In(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Xx(null);for(const[r,i]of this._pairs)e[r]=i;return e}toMap(){return new Kbe(this._pairs)}toIdSet(){return new Gd(this.toIdArray())}toItemSet(){return new Gd(this.toItemArray())}cache(){return new df([...this._pairs])}distinct(e){const r=new Gd;for(const[i,s]of this._pairs)r.add(e(s,i));return r}filter(e){const r=this._pairs;return new df({*[uf](){for(const[i,s]of r)e(s,i)&&(yield[i,s])}})}forEach(e){for(const[r,i]of this._pairs)e(i,r)}map(e){const r=this._pairs;return new df({*[uf](){for(const[i,s]of r)yield[i,e(s,i)]}})}max(e){const r=RO(this._pairs);let i=r.next();if(i.done)return null;let s=i.value[1],o=e(i.value[1],i.value[0]);for(;!(i=r.next()).done;){const[a,l]=i.value,c=e(l,a);c>o&&(o=c,s=l)}return s}min(e){const r=RO(this._pairs);let i=r.next();if(i.done)return null;let s=i.value[1],o=e(i.value[1],i.value[0]);for(;!(i=r.next()).done;){const[a,l]=i.value,c=e(l,a);c<o&&(o=c,s=l)}return s}reduce(e,r){for(const[i,s]of this._pairs)r=e(r,s,i);return r}sort(e){return new df({[uf]:()=>{var r;return RO(Nr(r=[...this._pairs]).call(r,(i,s)=>{let[o,a]=i,[l,c]=s;return e(a,c,o,l)}))}})}}function jat(n,e){return n[e]==null&&(n[e]=Bf()),n}class j0 extends Nw{get idProp(){return this._idProp}constructor(e,r){super(),$n(this,"flush",void 0),$n(this,"length",void 0),$n(this,"_options",void 0),$n(this,"_data",void 0),$n(this,"_idProp",void 0),$n(this,"_queue",null),e&&!an(e)&&(r=e,e=[]),this._options=r||{},this._data=new Kbe,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=wL.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const i=[];let s;if(an(e)){const o=In(e).call(e,a=>a[this._idProp]);if(vL(o).call(o,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,l=e.length;a<l;a++)s=this._addItem(e[a]),i.push(s)}else if(e&&typeof e=="object")s=this._addItem(e),i.push(s);else throw new Error("Unknown dataType");return i.length&&this._trigger("add",{items:i},r),i}update(e,r){const i=[],s=[],o=[],a=[],l=this._idProp,c=u=>{const d=u[l];if(d!=null&&this._data.has(d)){const h=u,f=yu({},this._data.get(d)),p=this._updateItem(h);s.push(p),a.push(h),o.push(f)}else{const h=this._addItem(u);i.push(h)}};if(an(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?c(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")c(e);else throw new Error("Unknown dataType");if(i.length&&this._trigger("add",{items:i},r),s.length){const u={items:s,oldData:o,data:a};this._trigger("update",u,r)}return Mr(i).call(i,s)}updateOnly(e,r){var i;an(e)||(e=[e]);const s=In(i=In(e).call(e,o=>{const a=this._data.get(o[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:o}})).call(i,o=>{let{oldData:a,update:l}=o;const c=a[this._idProp],u=Abe(a,l);return this._data.set(c,u),{id:c,oldData:a,updatedData:u}});if(s.length){const o={items:In(s).call(s,a=>a.id),oldData:In(s).call(s,a=>a.oldData),data:In(s).call(s,a=>a.updatedData)};return this._trigger("update",o,r),o.items}else return[]}get(e,r){let i,s,o;gN(e)?(i=e,o=r):an(e)?(s=e,o=r):o=e;const a=o&&o.returnType==="Object"?"Object":"Array",l=o&&qt(o),c=[];let u,d,h;if(i!=null)u=this._data.get(i),u&&l&&!l(u)&&(u=void 0);else if(s!=null)for(let p=0,m=s.length;p<m;p++)u=this._data.get(s[p]),u!=null&&(!l||l(u))&&c.push(u);else{var f;d=[...qh(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],u=this._data.get(h),u!=null&&(!l||l(u))&&c.push(u)}if(o&&o.order&&i==null&&this._sort(c,o.order),o&&o.fields){const p=o.fields;if(i!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,b=c.length;m<b;m++)c[m]=this._filterFields(c[m],p)}if(a=="Object"){const p={};for(let m=0,b=c.length;m<b;m++){const y=c[m],v=y[this._idProp];p[v]=y}return p}else return i!=null?u??null:c}getIds(e){const r=this._data,i=e&&qt(e),s=e&&e.order,o=[...qh(r).call(r)],a=[];if(i)if(s){const l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c],h=this._data.get(d);h!=null&&i(h)&&l.push(h)}this._sort(l,s);for(let c=0,u=l.length;c<u;c++)a.push(l[c][this._idProp])}else for(let l=0,c=o.length;l<c;l++){const u=o[l],d=this._data.get(u);d!=null&&i(d)&&a.push(d[this._idProp])}else if(s){const l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];l.push(r.get(d))}this._sort(l,s);for(let c=0,u=l.length;c<u;c++)a.push(l[c][this._idProp])}else for(let l=0,c=o.length;l<c;l++){const u=o[l],d=r.get(u);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const i=r&&qt(r),s=this._data,o=[...qh(s).call(s)];if(r&&r.order){const a=this.get(r);for(let l=0,c=a.length;l<c;l++){const u=a[l],d=u[this._idProp];e(u,d)}}else for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!i||i(u))&&e(u,c)}}map(e,r){const i=r&&qt(r),s=[],o=this._data,a=[...qh(o).call(o)];for(let l=0,c=a.length;l<c;l++){const u=a[l],d=this._data.get(u);d!=null&&(!i||i(d))&&s.push(e(d,u))}return r&&r.order&&this._sort(s,r.order),s}_filterFields(e,r){var i;return e&&e6(i=an(r)?r:Qr(r)).call(i,(s,o)=>(s[o]=e[o],s),{})}_sort(e,r){if(typeof r=="string"){const i=r;Nr(e).call(e,(s,o)=>{const a=s[i],l=o[i];return a>l?1:a<l?-1:0})}else if(typeof r=="function")Nr(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const i=[],s=[],o=an(e)?e:[e];for(let a=0,l=o.length;a<l;a++){const c=this._remove(o[a]);if(c){const u=c[this._idProp];u!=null&&(i.push(u),s.push(c))}}return i.length&&this._trigger("remove",{items:i,oldData:s},r),i}_remove(e){let r;if(gN(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const i=this._data.get(r)||null;return this._data.delete(r),--this.length,i}return null}clear(e){var r;const i=[...qh(r=this._data).call(r)],s=[];for(let o=0,a=i.length;o<a;o++)s.push(this._data.get(i[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:s},e),i}max(e){let r=null,i=null;for(const o of bre(s=this._data).call(s)){var s;const a=o[e];typeof a=="number"&&(i==null||a>i)&&(r=o,i=a)}return r||null}min(e){let r=null,i=null;for(const o of bre(s=this._data).call(s)){var s;const a=o[e];typeof a=="number"&&(i==null||a<i)&&(r=o,i=a)}return r||null}distinct(e){const r=this._data,i=[...qh(r).call(r)],s=[];let o=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],d=r.get(c)[e];let h=!1;for(let f=0;f<o;f++)if(s[f]==d){h=!0;break}!h&&d!==void 0&&(s[o]=d,o++)}return s}_addItem(e){const r=jat(e,this._idProp),i=r[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,r),++this.length,i}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Os(e)+")");const i=this._data.get(r);if(!i)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,Cre(Cre({},i),e)),r}stream(e){if(e){const i=this._data;return new df({*[uf](){for(const s of e){const o=i.get(s);o!=null&&(yield[s,o])}}})}else{var r;return new df({[uf]:Ue(r=Cat(this._data)).call(r,this._data)})}}}let Bat=class Qbe extends Nw{get idProp(){return this.getDataSet().idProp}constructor(e,r){var i;super(),$n(this,"length",0),$n(this,"_listener",void 0),$n(this,"_data",void 0),$n(this,"_ids",new Gd),$n(this,"_options",void 0),this._options=r||{},this._listener=Ue(i=this._onEvent).call(i,this),this.setData(e)}setData(e){if(this._data){this._data.off&&this._data.off("*",this._listener);const r=this._data.getIds({filter:qt(this._options)}),i=this._data.get(r);this._ids.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i})}if(e!=null){this._data=e;const r=this._data.getIds({filter:qt(this._options)});for(let i=0,s=r.length;i<s;i++){const o=r[i];this._ids.add(o)}this.length=r.length,this._trigger("add",{items:r})}else this._data=new j0;this._data.on&&this._data.on("*",this._listener)}refresh(){const e=this._data.getIds({filter:qt(this._options)}),r=[...this._ids],i={},s=[],o=[],a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];i[u]=!0,this._ids.has(u)||(s.push(u),this._ids.add(u))}for(let l=0,c=r.length;l<c;l++){const u=r[l],d=this._data.get(u);d==null?console.error("If you see this, report it please."):i[u]||(o.push(u),a.push(d),this._ids.delete(u))}this.length+=s.length-o.length,s.length&&this._trigger("add",{items:s}),o.length&&this._trigger("remove",{items:o,oldData:a})}get(e,r){if(this._data==null)return null;let i=null,s;gN(e)||an(e)?(i=e,s=r):s=e;const o=yu({},this._options,s),a=qt(this._options),l=s&&qt(s);return a&&l&&(o.filter=c=>a(c)&&l(c)),i==null?this._data.get(o):this._data.get(i,o)}getIds(e){if(this._data.length){const r=qt(this._options),i=e!=null?qt(e):null;let s;return i?r?s=o=>r(o)&&i(o):s=i:s=r,this._data.getIds({filter:s,order:e&&e.order})}else return[]}forEach(e,r){if(this._data){var i;const s=qt(this._options),o=r&&qt(r);let a;o?s?a=function(l){return s(l)&&o(l)}:a=o:a=s,xt(i=this._data).call(i,e,{filter:a,order:r&&r.order})}}map(e,r){if(this._data){var i;const s=qt(this._options),o=r&&qt(r);let a;return o?s?a=l=>s(l)&&o(l):a=o:a=s,In(i=this._data).call(i,e,{filter:a,order:r&&r.order})}else return[]}getDataSet(){return this._data.getDataSet()}stream(e){var r;return this._data.stream(e||{[uf]:Ue(r=qh(this._ids)).call(r,this._ids)})}dispose(){var e;(e=this._data)!==null&&e!==void 0&&e.off&&this._data.off("*",this._listener);const r="This data view has already been disposed of.",i={get:()=>{throw new Error(r)},set:()=>{throw new Error(r)},configurable:!1};for(const s of K0e(Qbe.prototype))t6(this,s,i)}_onEvent(e,r,i){if(!r||!r.items||!this._data)return;const s=r.items,o=[],a=[],l=[],c=[],u=[],d=[];switch(e){case"add":for(let h=0,f=s.length;h<f;h++){const p=s[h];this.get(p)&&(this._ids.add(p),o.push(p))}break;case"update":for(let h=0,f=s.length;h<f;h++){const p=s[h];this.get(p)?this._ids.has(p)?(a.push(p),u.push(r.data[h]),c.push(r.oldData[h])):(this._ids.add(p),o.push(p)):this._ids.has(p)&&(this._ids.delete(p),l.push(p),d.push(r.oldData[h]))}break;case"remove":for(let h=0,f=s.length;h<f;h++){const p=s[h];this._ids.has(p)&&(this._ids.delete(p),l.push(p),d.push(r.oldData[h]))}break}this.length+=o.length-l.length,o.length&&this._trigger("add",{items:o},i),a.length&&this._trigger("update",{items:a,oldData:c,data:u},i),l.length&&this._trigger("remove",{items:l,oldData:d},i)}};function Lat(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof xt(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof In(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function Fat(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof xt(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof In(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Lat(n,e.getDataSet())}var $at=el(),$o=zt($at);const us=typeof window<"u"&&window.moment||$o;var G_={exports:{}},ir={},Y_={exports:{}},Rh={},Ere;function Jbe(){if(Ere)return Rh;Ere=1;function n(){var o={};return o["align-content"]=!1,o["align-items"]=!1,o["align-self"]=!1,o["alignment-adjust"]=!1,o["alignment-baseline"]=!1,o.all=!1,o["anchor-point"]=!1,o.animation=!1,o["animation-delay"]=!1,o["animation-direction"]=!1,o["animation-duration"]=!1,o["animation-fill-mode"]=!1,o["animation-iteration-count"]=!1,o["animation-name"]=!1,o["animation-play-state"]=!1,o["animation-timing-function"]=!1,o.azimuth=!1,o["backface-visibility"]=!1,o.background=!0,o["background-attachment"]=!0,o["background-clip"]=!0,o["background-color"]=!0,o["background-image"]=!0,o["background-origin"]=!0,o["background-position"]=!0,o["background-repeat"]=!0,o["background-size"]=!0,o["baseline-shift"]=!1,o.binding=!1,o.bleed=!1,o["bookmark-label"]=!1,o["bookmark-level"]=!1,o["bookmark-state"]=!1,o.border=!0,o["border-bottom"]=!0,o["border-bottom-color"]=!0,o["border-bottom-left-radius"]=!0,o["border-bottom-right-radius"]=!0,o["border-bottom-style"]=!0,o["border-bottom-width"]=!0,o["border-collapse"]=!0,o["border-color"]=!0,o["border-image"]=!0,o["border-image-outset"]=!0,o["border-image-repeat"]=!0,o["border-image-slice"]=!0,o["border-image-source"]=!0,o["border-image-width"]=!0,o["border-left"]=!0,o["border-left-color"]=!0,o["border-left-style"]=!0,o["border-left-width"]=!0,o["border-radius"]=!0,o["border-right"]=!0,o["border-right-color"]=!0,o["border-right-style"]=!0,o["border-right-width"]=!0,o["border-spacing"]=!0,o["border-style"]=!0,o["border-top"]=!0,o["border-top-color"]=!0,o["border-top-left-radius"]=!0,o["border-top-right-radius"]=!0,o["border-top-style"]=!0,o["border-top-width"]=!0,o["border-width"]=!0,o.bottom=!1,o["box-decoration-break"]=!0,o["box-shadow"]=!0,o["box-sizing"]=!0,o["box-snap"]=!0,o["box-suppress"]=!0,o["break-after"]=!0,o["break-before"]=!0,o["break-inside"]=!0,o["caption-side"]=!1,o.chains=!1,o.clear=!0,o.clip=!1,o["clip-path"]=!1,o["clip-rule"]=!1,o.color=!0,o["color-interpolation-filters"]=!0,o["column-count"]=!1,o["column-fill"]=!1,o["column-gap"]=!1,o["column-rule"]=!1,o["column-rule-color"]=!1,o["column-rule-style"]=!1,o["column-rule-width"]=!1,o["column-span"]=!1,o["column-width"]=!1,o.columns=!1,o.contain=!1,o.content=!1,o["counter-increment"]=!1,o["counter-reset"]=!1,o["counter-set"]=!1,o.crop=!1,o.cue=!1,o["cue-after"]=!1,o["cue-before"]=!1,o.cursor=!1,o.direction=!1,o.display=!0,o["display-inside"]=!0,o["display-list"]=!0,o["display-outside"]=!0,o["dominant-baseline"]=!1,o.elevation=!1,o["empty-cells"]=!1,o.filter=!1,o.flex=!1,o["flex-basis"]=!1,o["flex-direction"]=!1,o["flex-flow"]=!1,o["flex-grow"]=!1,o["flex-shrink"]=!1,o["flex-wrap"]=!1,o.float=!1,o["float-offset"]=!1,o["flood-color"]=!1,o["flood-opacity"]=!1,o["flow-from"]=!1,o["flow-into"]=!1,o.font=!0,o["font-family"]=!0,o["font-feature-settings"]=!0,o["font-kerning"]=!0,o["font-language-override"]=!0,o["font-size"]=!0,o["font-size-adjust"]=!0,o["font-stretch"]=!0,o["font-style"]=!0,o["font-synthesis"]=!0,o["font-variant"]=!0,o["font-variant-alternates"]=!0,o["font-variant-caps"]=!0,o["font-variant-east-asian"]=!0,o["font-variant-ligatures"]=!0,o["font-variant-numeric"]=!0,o["font-variant-position"]=!0,o["font-weight"]=!0,o.grid=!1,o["grid-area"]=!1,o["grid-auto-columns"]=!1,o["grid-auto-flow"]=!1,o["grid-auto-rows"]=!1,o["grid-column"]=!1,o["grid-column-end"]=!1,o["grid-column-start"]=!1,o["grid-row"]=!1,o["grid-row-end"]=!1,o["grid-row-start"]=!1,o["grid-template"]=!1,o["grid-template-areas"]=!1,o["grid-template-columns"]=!1,o["grid-template-rows"]=!1,o["hanging-punctuation"]=!1,o.height=!0,o.hyphens=!1,o.icon=!1,o["image-orientation"]=!1,o["image-resolution"]=!1,o["ime-mode"]=!1,o["initial-letters"]=!1,o["inline-box-align"]=!1,o["justify-content"]=!1,o["justify-items"]=!1,o["justify-self"]=!1,o.left=!1,o["letter-spacing"]=!0,o["lighting-color"]=!0,o["line-box-contain"]=!1,o["line-break"]=!1,o["line-grid"]=!1,o["line-height"]=!1,o["line-snap"]=!1,o["line-stacking"]=!1,o["line-stacking-ruby"]=!1,o["line-stacking-shift"]=!1,o["line-stacking-strategy"]=!1,o["list-style"]=!0,o["list-style-image"]=!0,o["list-style-position"]=!0,o["list-style-type"]=!0,o.margin=!0,o["margin-bottom"]=!0,o["margin-left"]=!0,o["margin-right"]=!0,o["margin-top"]=!0,o["marker-offset"]=!1,o["marker-side"]=!1,o.marks=!1,o.mask=!1,o["mask-box"]=!1,o["mask-box-outset"]=!1,o["mask-box-repeat"]=!1,o["mask-box-slice"]=!1,o["mask-box-source"]=!1,o["mask-box-width"]=!1,o["mask-clip"]=!1,o["mask-image"]=!1,o["mask-origin"]=!1,o["mask-position"]=!1,o["mask-repeat"]=!1,o["mask-size"]=!1,o["mask-source-type"]=!1,o["mask-type"]=!1,o["max-height"]=!0,o["max-lines"]=!1,o["max-width"]=!0,o["min-height"]=!0,o["min-width"]=!0,o["move-to"]=!1,o["nav-down"]=!1,o["nav-index"]=!1,o["nav-left"]=!1,o["nav-right"]=!1,o["nav-up"]=!1,o["object-fit"]=!1,o["object-position"]=!1,o.opacity=!1,o.order=!1,o.orphans=!1,o.outline=!1,o["outline-color"]=!1,o["outline-offset"]=!1,o["outline-style"]=!1,o["outline-width"]=!1,o.overflow=!1,o["overflow-wrap"]=!1,o["overflow-x"]=!1,o["overflow-y"]=!1,o.padding=!0,o["padding-bottom"]=!0,o["padding-left"]=!0,o["padding-right"]=!0,o["padding-top"]=!0,o.page=!1,o["page-break-after"]=!1,o["page-break-before"]=!1,o["page-break-inside"]=!1,o["page-policy"]=!1,o.pause=!1,o["pause-after"]=!1,o["pause-before"]=!1,o.perspective=!1,o["perspective-origin"]=!1,o.pitch=!1,o["pitch-range"]=!1,o["play-during"]=!1,o.position=!1,o["presentation-level"]=!1,o.quotes=!1,o["region-fragment"]=!1,o.resize=!1,o.rest=!1,o["rest-after"]=!1,o["rest-before"]=!1,o.richness=!1,o.right=!1,o.rotation=!1,o["rotation-point"]=!1,o["ruby-align"]=!1,o["ruby-merge"]=!1,o["ruby-position"]=!1,o["shape-image-threshold"]=!1,o["shape-outside"]=!1,o["shape-margin"]=!1,o.size=!1,o.speak=!1,o["speak-as"]=!1,o["speak-header"]=!1,o["speak-numeral"]=!1,o["speak-punctuation"]=!1,o["speech-rate"]=!1,o.stress=!1,o["string-set"]=!1,o["tab-size"]=!1,o["table-layout"]=!1,o["text-align"]=!0,o["text-align-last"]=!0,o["text-combine-upright"]=!0,o["text-decoration"]=!0,o["text-decoration-color"]=!0,o["text-decoration-line"]=!0,o["text-decoration-skip"]=!0,o["text-decoration-style"]=!0,o["text-emphasis"]=!0,o["text-emphasis-color"]=!0,o["text-emphasis-position"]=!0,o["text-emphasis-style"]=!0,o["text-height"]=!0,o["text-indent"]=!0,o["text-justify"]=!0,o["text-orientation"]=!0,o["text-overflow"]=!0,o["text-shadow"]=!0,o["text-space-collapse"]=!0,o["text-transform"]=!0,o["text-underline-position"]=!0,o["text-wrap"]=!0,o.top=!1,o.transform=!1,o["transform-origin"]=!1,o["transform-style"]=!1,o.transition=!1,o["transition-delay"]=!1,o["transition-duration"]=!1,o["transition-property"]=!1,o["transition-timing-function"]=!1,o["unicode-bidi"]=!1,o["vertical-align"]=!1,o.visibility=!1,o["voice-balance"]=!1,o["voice-duration"]=!1,o["voice-family"]=!1,o["voice-pitch"]=!1,o["voice-range"]=!1,o["voice-rate"]=!1,o["voice-stress"]=!1,o["voice-volume"]=!1,o.volume=!1,o["white-space"]=!1,o.widows=!1,o.width=!0,o["will-change"]=!1,o["word-break"]=!0,o["word-spacing"]=!0,o["word-wrap"]=!0,o["wrap-flow"]=!1,o["wrap-through"]=!1,o["writing-mode"]=!1,o["z-index"]=!1,o}function e(o,a,l){}function r(o,a,l){}var i=/javascript\s*\:/img;function s(o,a){return i.test(a)?"":a}return Rh.whiteList=n(),Rh.getDefaultWhiteList=n,Rh.onAttr=e,Rh.onIgnoreAttr=r,Rh.safeAttrValue=s,Rh}var aD,Are;function Zbe(){return Are||(Are=1,aD={indexOf:function(n,e){var r,i;if(Array.prototype.indexOf)return n.indexOf(e);for(r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1},forEach:function(n,e,r){var i,s;if(Array.prototype.forEach)return n.forEach(e,r);for(i=0,s=n.length;i<s;i++)e.call(r,n[i],i,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}),aD}var lD,Tre;function zat(){if(Tre)return lD;Tre=1;var n=Zbe();function e(r,i){r=n.trimRight(r),r[r.length-1]!==";"&&(r+=";");var s=r.length,o=!1,a=0,l=0,c="";function u(){if(!o){var f=n.trim(r.slice(a,l)),p=f.indexOf(":");if(p!==-1){var m=n.trim(f.slice(0,p)),b=n.trim(f.slice(p+1));if(m){var y=i(a,c.length,m,b,f);y&&(c+=y+"; ")}}}a=l+1}for(;l<s;l++){var d=r[l];if(d==="/"&&r[l+1]==="*"){var h=r.indexOf("*/",l+2);if(h===-1)break;l=h+1,a=l+1,o=!1}else d==="("?o=!0:d===")"?o=!1:d===";"?o||u():d===`
`&&u()}return n.trim(c)}return lD=e,lD}var cD,Pre;function Uat(){if(Pre)return cD;Pre=1;var n=Jbe(),e=zat();Zbe();function r(o){return o==null}function i(o){var a={};for(var l in o)a[l]=o[l];return a}function s(o){o=i(o||{}),o.whiteList=o.whiteList||n.whiteList,o.onAttr=o.onAttr||n.onAttr,o.onIgnoreAttr=o.onIgnoreAttr||n.onIgnoreAttr,o.safeAttrValue=o.safeAttrValue||n.safeAttrValue,this.options=o}return s.prototype.process=function(o){if(o=o||"",o=o.toString(),!o)return"";var a=this,l=a.options,c=l.whiteList,u=l.onAttr,d=l.onIgnoreAttr,h=l.safeAttrValue,f=e(o,function(p,m,b,y,v){var w=c[b],_=!1;if(w===!0?_=w:typeof w=="function"?_=w(y):w instanceof RegExp&&(_=w.test(y)),_!==!0&&(_=!1),y=h(b,y),!!y){var x={position:m,sourcePosition:p,source:v,isWhite:_};if(_){var S=u(b,y,x);return r(S)?b+":"+y:S}else{var S=d(b,y,x);if(!r(S))return S}}});return f},cD=s,cD}var Ire;function bN(){return Ire||(Ire=1,function(n,e){var r=Jbe(),i=Uat();function s(a,l){var c=new i(l);return c.process(a)}e=n.exports=s,e.FilterCSS=i;for(var o in r)e[o]=r[o];typeof window<"u"&&(window.filterCSS=n.exports)}(Y_,Y_.exports)),Y_.exports}var uD,Mre;function xL(){return Mre||(Mre=1,uD={indexOf:function(n,e){var r,i;if(Array.prototype.indexOf)return n.indexOf(e);for(r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1},forEach:function(n,e,r){var i,s;if(Array.prototype.forEach)return n.forEach(e,r);for(i=0,s=n.length;i<s;i++)e.call(r,n[i],i,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var e=/\s|\n|\t/,r=e.exec(n);return r?r.index:-1}}),uD}var Ore;function eye(){if(Ore)return ir;Ore=1;var n=bN().FilterCSS,e=bN().getDefaultWhiteList,r=xL();function i(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new n;function o(j,N,D){}function a(j,N,D){}function l(j,N,D){}function c(j,N,D){}function u(j){return j.replace(h,"&lt;").replace(f,"&gt;")}function d(j,N,D,H){if(D=I(D),N==="href"||N==="src"){if(D=r.trim(D),D==="#")return"#";if(!(D.substr(0,7)==="http://"||D.substr(0,8)==="https://"||D.substr(0,7)==="mailto:"||D.substr(0,4)==="tel:"||D.substr(0,11)==="data:image/"||D.substr(0,6)==="ftp://"||D.substr(0,2)==="./"||D.substr(0,3)==="../"||D[0]==="#"||D[0]==="/"))return""}else if(N==="background"){if(w.lastIndex=0,w.test(D))return""}else if(N==="style"){if(_.lastIndex=0,_.test(D)||(x.lastIndex=0,x.test(D)&&(w.lastIndex=0,w.test(D))))return"";H!==!1&&(H=H||s,D=H.process(D))}return D=O(D),D}var h=/</g,f=/>/g,p=/"/g,m=/&quot;/g,b=/&#([a-zA-Z0-9]*);?/gim,y=/&colon;?/gim,v=/&newline;?/gim,w=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,x=/u\s*r\s*l\s*\(.*/gi;function S(j){return j.replace(p,"&quot;")}function C(j){return j.replace(m,'"')}function E(j){return j.replace(b,function(D,H){return H[0]==="x"||H[0]==="X"?String.fromCharCode(parseInt(H.substr(1),16)):String.fromCharCode(parseInt(H,10))})}function A(j){return j.replace(y,":").replace(v," ")}function M(j){for(var N="",D=0,H=j.length;D<H;D++)N+=j.charCodeAt(D)<32?" ":j.charAt(D);return r.trim(N)}function I(j){return j=C(j),j=E(j),j=A(j),j=M(j),j}function O(j){return j=S(j),j=u(j),j}function F(){return""}function $(j,N){typeof N!="function"&&(N=function(){});var D=!Array.isArray(j);function H(Y){return D?!0:r.indexOf(j,Y)!==-1}var U=[],X=!1;return{onIgnoreTag:function(Y,ee,G){if(H(Y))if(G.isClosing){var Z="[/removed]",pe=G.position+Z.length;return U.push([X!==!1?X:G.position,pe]),X=!1,Z}else return X||(X=G.position),"[removed]";else return N(Y,ee,G)},remove:function(Y){var ee="",G=0;return r.forEach(U,function(Z){ee+=Y.slice(G,Z[0]),G=Z[1]}),ee+=Y.slice(G),ee}}}function z(j){for(var N="",D=0;D<j.length;){var H=j.indexOf("<!--",D);if(H===-1){N+=j.slice(D);break}N+=j.slice(D,H);var U=j.indexOf("-->",H);if(U===-1)break;D=U+3}return N}function R(j){var N=j.split("");return N=N.filter(function(D){var H=D.charCodeAt(0);return H===127?!1:H<=31?H===10||H===13:!0}),N.join("")}return ir.whiteList=i(),ir.getDefaultWhiteList=i,ir.onTag=o,ir.onIgnoreTag=a,ir.onTagAttr=l,ir.onIgnoreTagAttr=c,ir.safeAttrValue=d,ir.escapeHtml=u,ir.escapeQuote=S,ir.unescapeQuote=C,ir.escapeHtmlEntities=E,ir.escapeDangerHtml5Entities=A,ir.clearNonPrintableCharacter=M,ir.friendlyAttrValue=I,ir.escapeAttrValue=O,ir.onIgnoreTagStripAll=F,ir.StripTagBody=$,ir.stripCommentTag=z,ir.stripBlankChar=R,ir.attributeWrapSign='"',ir.cssFilter=s,ir.getDefaultCSSWhiteList=e,ir}var K_={},Dre;function tye(){if(Dre)return K_;Dre=1;var n=xL();function e(h){var f=n.spaceIndex(h),p;return f===-1?p=h.slice(1,-1):p=h.slice(1,f+1),p=n.trim(p).toLowerCase(),p.slice(0,1)==="/"&&(p=p.slice(1)),p.slice(-1)==="/"&&(p=p.slice(0,-1)),p}function r(h){return h.slice(0,2)==="</"}function i(h,f,p){var m="",b=0,y=!1,v=!1,w=0,_=h.length,x="",S="";e:for(w=0;w<_;w++){var C=h.charAt(w);if(y===!1){if(C==="<"){y=w;continue}}else if(v===!1){if(C==="<"){m+=p(h.slice(b,w)),y=w,b=w;continue}if(C===">"||w===_-1){m+=p(h.slice(b,y)),S=h.slice(y,w+1),x=e(S),m+=f(y,m.length,x,S,r(S)),b=w+1,y=!1;continue}if(C==='"'||C==="'")for(var E=1,A=h.charAt(w-E);A.trim()===""||A==="=";){if(A==="="){v=C;continue e}A=h.charAt(w-++E)}}else if(C===v){v=!1;continue}}return b<_&&(m+=p(h.substr(b))),m}var s=/[^a-zA-Z0-9\\_:.-]/gim;function o(h,f){var p=0,m=0,b=[],y=!1,v=h.length;function w(E,A){if(E=n.trim(E),E=E.replace(s,"").toLowerCase(),!(E.length<1)){var M=f(E,A||"");M&&b.push(M)}}for(var _=0;_<v;_++){var x=h.charAt(_),S,C;if(y===!1&&x==="="){y=h.slice(p,_),p=_+1,m=h.charAt(p)==='"'||h.charAt(p)==="'"?p:l(h,_+1);continue}if(y!==!1&&_===m){if(C=h.indexOf(x,_+1),C===-1)break;S=n.trim(h.slice(m+1,C)),w(y,S),y=!1,_=C,p=_+1;continue}if(/\s|\n|\t/.test(x))if(h=h.replace(/\s|\n|\t/g," "),y===!1)if(C=a(h,_),C===-1){S=n.trim(h.slice(p,_)),w(S),y=!1,p=_+1;continue}else{_=C-1;continue}else if(C=c(h,_-1),C===-1){S=n.trim(h.slice(p,_)),S=d(S),w(y,S),y=!1,p=_+1;continue}else continue}return p<h.length&&(y===!1?w(h.slice(p)):w(y,d(n.trim(h.slice(p))))),n.trim(b.join(" "))}function a(h,f){for(;f<h.length;f++){var p=h[f];if(p!==" ")return p==="="?f:-1}}function l(h,f){for(;f<h.length;f++){var p=h[f];if(p!==" ")return p==="'"||p==='"'?f:-1}}function c(h,f){for(;f>0;f--){var p=h[f];if(p!==" ")return p==="="?f:-1}}function u(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function d(h){return u(h)?h.substr(1,h.length-2):h}return K_.parseTag=i,K_.parseAttr=o,K_}var dD,Rre;function Wat(){if(Rre)return dD;Rre=1;var n=bN().FilterCSS,e=eye(),r=tye(),i=r.parseTag,s=r.parseAttr,o=xL();function a(h){return h==null}function l(h){var f=o.spaceIndex(h);if(f===-1)return{html:"",closing:h[h.length-2]==="/"};h=o.trim(h.slice(f+1,-1));var p=h[h.length-1]==="/";return p&&(h=o.trim(h.slice(0,-1))),{html:h,closing:p}}function c(h){var f={};for(var p in h)f[p]=h[p];return f}function u(h){var f={};for(var p in h)Array.isArray(h[p])?f[p.toLowerCase()]=h[p].map(function(m){return m.toLowerCase()}):f[p.toLowerCase()]=h[p];return f}function d(h){h=c(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=u(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new n(h.css))}return d.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var f=this,p=f.options,m=p.whiteList,b=p.onTag,y=p.onIgnoreTag,v=p.onTagAttr,w=p.onIgnoreTagAttr,_=p.safeAttrValue,x=p.escapeHtml,S=f.attributeWrapSign,C=f.cssFilter;p.stripBlankChar&&(h=e.stripBlankChar(h)),p.allowCommentTag||(h=e.stripCommentTag(h));var E=!1;p.stripIgnoreTagBody&&(E=e.StripTagBody(p.stripIgnoreTagBody,y),y=E.onIgnoreTag);var A=i(h,function(M,I,O,F,$){var z={sourcePosition:M,position:I,isClosing:$,isWhite:Object.prototype.hasOwnProperty.call(m,O)},R=b(O,F,z);if(!a(R))return R;if(z.isWhite){if(z.isClosing)return"</"+O+">";var j=l(F),N=m[O],D=s(j.html,function(H,U){var X=o.indexOf(N,H)!==-1,Y=v(O,H,U,X);return a(Y)?X?(U=_(O,H,U,C),U?H+"="+S+U+S:H):(Y=w(O,H,U,X),a(Y)?void 0:Y):Y});return F="<"+O,D&&(F+=" "+D),j.closing&&(F+=" /"),F+=">",F}else return R=y(O,F,z),a(R)?x(F):R},x);return E&&(A=E.remove(A)),A},dD=d,dD}var Nre;function qat(){return Nre||(Nre=1,function(n,e){var r=eye(),i=tye(),s=Wat();function o(l,c){var u=new s(c);return u.process(l)}e=n.exports=o,e.filterXSS=o,e.FilterXSS=s,function(){for(var l in r)e[l]=r[l];for(var c in i)e[c]=i[c]}(),typeof window<"u"&&(window.filterXSS=n.exports);function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=n.exports)}(G_,G_.exports)),G_.exports}var Hat=qat(),Vat=zt(Hat);function jre(n,e){var r=Qr(n);if(O2){var i=O2(n);e&&(i=qt(i).call(i,function(s){return JE(n,s).enumerable})),r.push.apply(r,i)}return r}function Bre(n){for(var e=1;e<arguments.length;e++){var r,i,s=arguments[e]!=null?arguments[e]:{};e%2?xt(r=jre(Object(s),!0)).call(r,function(o){$n(n,o,s[o])}):D2?Bbe(n,D2(s)):xt(i=jre(Object(s))).call(i,function(o){t6(n,o,JE(s,o))})}return n}function vu(n){var e;if(!n)return!1;let r=(e=n.idProp)!==null&&e!==void 0?e:n._idProp;return r?Fat(r,n):!1}const hD=/^\/?Date\((-?\d+)/i,Gat=/^\d+$/;function _L(n,e){let r;if(n!==void 0){if(n===null)return null;if(!e)return n;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!n;case"number":case"Number":return ho(n)&&!isNaN(Date.parse(n))?$o(n).valueOf():Number(n.valueOf());case"string":case"String":return String(n);case"Date":try{return _L(n,"Moment").toDate()}catch(i){throw i instanceof TypeError?new TypeError("Cannot convert object of type "+By(n)+" to type "+e):i}case"Moment":if(dv(n))return $o(n);if(n instanceof Date)return $o(n.valueOf());if($o.isMoment(n))return $o(n);if(ho(n))return r=hD.exec(n),r?$o(Number(r[1])):(r=Gat.exec(n),$o(r?Number(n):n));throw new TypeError("Cannot convert object of type "+By(n)+" to type "+e);case"ISODate":if(dv(n))return new Date(n);if(n instanceof Date)return n.toISOString();if($o.isMoment(n))return n.toDate().toISOString();if(ho(n))return r=hD.exec(n),r?new Date(Number(r[1])).toISOString():$o(n).format();throw new Error("Cannot convert object of type "+By(n)+" to type ISODate");case"ASPDate":if(dv(n))return"/Date("+n+")/";if(n instanceof Date||$o.isMoment(n))return"/Date("+n.valueOf()+")/";if(ho(n)){r=hD.exec(n);let i;return r?i=new Date(Number(r[1])).valueOf():i=new Date(n).valueOf(),"/Date("+i+")/"}else throw new Error("Cannot convert object of type "+By(n)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function B0(n){var e,r,i,s,o,a;let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{start:"Date",end:"Date"};const c=n._idProp,u=new j0({fieldId:c}),d=In(e=Dat(n)).call(e,h=>{var f;return e6(f=Qr(h)).call(f,(p,m)=>(p[m]=_L(h[m],l[m]),p),{})}).to(u);return d.all().start(),{add:function(){return n.getDataSet().add(...arguments)},remove:function(){return n.getDataSet().remove(...arguments)},update:function(){return n.getDataSet().update(...arguments)},updateOnly:function(){return n.getDataSet().updateOnly(...arguments)},clear:function(){return n.getDataSet().clear(...arguments)},forEach:Ue(r=xt(u)).call(r,u),get:Ue(i=u.get).call(i,u),getIds:Ue(s=u.getIds).call(s,u),off:Ue(o=u.off).call(o,u),on:Ue(a=u.on).call(a,u),get length(){return u.length},idProp:c,type:l,rawDS:n,coercedDS:u,dispose:()=>d.stop()}}const nye=n=>{const e=new Vat.FilterXSS(n);return r=>typeof r=="string"?e.process(r):r},Yat=n=>n;let yN=nye();const Kat=n=>{n&&(n.disabled===!0?(yN=Yat,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):n.filterOptions&&(yN=nye(n.filterOptions)))},oe=Bre(Bre({},Oit),{},{convert:_L,setupXSSProtection:Kat});t6(oe,"xss",{get:function(){return yN}});var Lre={},fD,Fre;function Xat(){if(Fre)return fD;Fre=1;var n=Er(),e=yn(),r=_n(),i=ha(),s=J0e().trim,o=ZB(),a=r("".charAt),l=n.parseFloat,c=n.Symbol,u=c&&c.iterator,d=1/l(o+"-0")!==-1/0||u&&!e(function(){l(Object(u))});return fD=d?function(f){var p=s(i(f)),m=l(p);return m===0&&a(p,0)==="-"?-0:m}:l,fD}var $re;function Qat(){if($re)return Lre;$re=1;var n=Bt(),e=Xat();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),Lre}var pD,zre;function Jat(){if(zre)return pD;zre=1,Qat();var n=Qn();return pD=n.parseFloat,pD}var mD,Ure;function Zat(){if(Ure)return mD;Ure=1;var n=Jat();return mD=n,mD}var gD,Wre;function elt(){return Wre||(Wre=1,gD=Zat()),gD}var tlt=elt(),R2=zt(tlt);class ph{constructor(){this.options=null,this.props=null}setOptions(e){e&&oe.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}var qre={},Hre;function nlt(){if(Hre)return qre;Hre=1;var n=Bt(),e=Z0e();return n({target:"String",proto:!0},{repeat:e}),qre}var bD,Vre;function rlt(){if(Vre)return bD;Vre=1,nlt();var n=Ar();return bD=n("String","repeat"),bD}var yD,Gre;function ilt(){if(Gre)return yD;Gre=1;var n=nr(),e=rlt(),r=String.prototype;return yD=function(i){var s=i.repeat;return typeof i=="string"||i===r||n(r,i)&&s===r.repeat?e:s},yD}var vD,Yre;function slt(){if(Yre)return vD;Yre=1;var n=ilt();return vD=n,vD}var wD,Kre;function olt(){return Kre||(Kre=1,wD=slt()),wD}var alt=olt(),xm=zt(alt);function SL(n,e,r){if(r&&!an(r))return SL(n,e,[r]);if(e.hiddenDates=[],r&&an(r)==!0){var i;for(let s=0;s<r.length;s++)if(xm(r[s])===void 0){const o={};o.start=n(r[s].start).toDate().valueOf(),o.end=n(r[s].end).toDate().valueOf(),e.hiddenDates.push(o)}Nr(i=e.hiddenDates).call(i,(s,o)=>s.start-o.start)}}function N2(n,e,r){if(r&&!an(r))return N2(n,e,[r]);if(r&&e.domProps.centerContainer.width!==void 0){SL(n,e,r);const i=n(e.range.start),s=n(e.range.end),a=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<r.length;h++)if(xm(r[h])!==void 0){let f=n(r[h].start),p=n(r[h].end);if(f._d=="Invalid Date")throw new Error("Supplied start date is not valid: ".concat(r[h].start));if(p._d=="Invalid Date")throw new Error("Supplied end date is not valid: ".concat(r[h].end));if(p-f>=4*a){let b=0,y=s.clone();switch(xm(r[h])){case"daily":f.day()!=p.day()&&(b=1),f=f.dayOfYear(i.dayOfYear()).year(i.year()).subtract(7,"days"),p=p.dayOfYear(i.dayOfYear()).year(i.year()).subtract(7-b,"days"),y.add(1,"weeks");break;case"weekly":{const v=p.diff(f,"days"),w=f.day();f=f.date(i.date()).month(i.month()).year(i.year()),p=f.clone(),f=f.day(w).subtract(1,"weeks"),p=p.day(w).add(v,"days").subtract(1,"weeks"),y.add(1,"weeks");break}case"monthly":f.month()!=p.month()&&(b=1),f=f.month(i.month()).year(i.year()).subtract(1,"months"),p=p.month(i.month()).year(i.year()).subtract(1,"months").add(b,"months"),y.add(1,"months");break;case"yearly":f.year()!=p.year()&&(b=1),f=f.year(i.year()).subtract(1,"years"),p=p.year(i.year()).subtract(1,"years").add(b,"years"),y.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",xm(r[h]));return}for(;f<y;)switch(e.hiddenDates.push({start:f.valueOf(),end:p.valueOf()}),xm(r[h])){case"daily":f=f.add(1,"days"),p=p.add(1,"days");break;case"weekly":f=f.add(1,"weeks"),p=p.add(1,"weeks");break;case"monthly":f=f.add(1,"months"),p=p.add(1,"months");break;case"yearly":f=f.add(1,"y"),p=p.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",xm(r[h]));return}e.hiddenDates.push({start:f.valueOf(),end:p.valueOf()})}}llt(e);const l=B2(e.range.start,e.hiddenDates),c=B2(e.range.end,e.hiddenDates);let u=e.range.start,d=e.range.end;l.hidden==!0&&(u=e.range.startToFront==!0?l.startDate-1:l.endDate+1),c.hidden==!0&&(d=e.range.endToFront==!0?c.startDate-1:c.endDate+1),(l.hidden==!0||c.hidden==!0)&&e.range._applyRange(u,d)}}function llt(n){var e;const r=n.hiddenDates,i=[];for(var s=0;s<r.length;s++)for(let o=0;o<r.length;o++)s!=o&&r[o].remove!=!0&&r[s].remove!=!0&&(r[o].start>=r[s].start&&r[o].end<=r[s].end?r[o].remove=!0:r[o].start>=r[s].start&&r[o].start<=r[s].end?(r[s].end=r[o].end,r[o].remove=!0):r[o].end>=r[s].start&&r[o].end<=r[s].end&&(r[s].start=r[o].start,r[o].remove=!0));for(s=0;s<r.length;s++)r[s].remove!==!0&&i.push(r[s]);n.hiddenDates=i,Nr(e=n.hiddenDates).call(e,(o,a)=>o.start-a.start)}function clt(n,e,r){let i=!1;const s=e.current.valueOf();for(let a=0;a<e.hiddenDates.length;a++){const l=e.hiddenDates[a].start;var o=e.hiddenDates[a].end;if(s>=l&&s<o){i=!0;break}}if(i==!0&&s<e._end.valueOf()&&s!=r){const a=n(r),l=n(o);a.year()!=l.year()?e.switchedYear=!0:a.month()!=l.month()?e.switchedMonth=!0:a.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}}function Xre(n,e,r){let i;if(n.body.hiddenDates.length==0)return i=n.range.conversion(r),(e.valueOf()-i.offset)*i.scale;{const s=B2(e,n.body.hiddenDates);s.hidden==!0&&(e=s.startDate);const o=fv(n.body.hiddenDates,n.range.start,n.range.end);if(e<n.range.start){i=n.range.conversion(r,o);const a=ult(n.body.hiddenDates,e,i.offset);return e=n.options.moment(e).toDate().valueOf(),e=e+a,-(i.offset-e.valueOf())*i.scale}else if(e>n.range.end){const a={start:n.range.start,end:e};return e=Jre(n.options.moment,n.body.hiddenDates,a,e),i=n.range.conversion(r,o),(e.valueOf()-i.offset)*i.scale}else return e=Jre(n.options.moment,n.body.hiddenDates,n.range,e),i=n.range.conversion(r,o),(e.valueOf()-i.offset)*i.scale}}function Qre(n,e,r){if(n.body.hiddenDates.length==0){const i=n.range.conversion(r);return new Date(e/i.scale+i.offset)}else{const i=fv(n.body.hiddenDates,n.range.start,n.range.end),o=(n.range.end-n.range.start-i)*e/r,a=dlt(n.body.hiddenDates,n.range,o);return new Date(a+o+n.range.start)}}function fv(n,e,r){let i=0;for(let s=0;s<n.length;s++){const o=n[s].start,a=n[s].end;o>=e&&a<r&&(i+=a-o)}return i}function ult(n,e,r){let i=0;for(let s=0;s<n.length;s++){const o=n[s].start,a=n[s].end;o>=e&&a<=r&&(i+=a-o)}return i}function Jre(n,e,r,i){return i=n(i).toDate().valueOf(),i-=j2(n,e,r,i),i}function j2(n,e,r,i){let s=0;i=n(i).toDate().valueOf();for(let o=0;o<e.length;o++){const a=e[o].start,l=e[o].end;a>=r.start&&l<r.end&&i>=l&&(s+=l-a)}return s}function dlt(n,e,r){let i=0,s=0,o=e.start;for(let a=0;a<n.length;a++){const l=n[a].start,c=n[a].end;if(l>=e.start&&c<e.end){if(s+=l-o,o=c,s>=r)break;i+=c-l}}return i}function Hh(n,e,r,i){const s=B2(e,n);return s.hidden==!0?r<0?i==!0?s.startDate-(s.endDate-e)-1:s.startDate-1:i==!0?s.endDate+(e-s.startDate)+1:s.endDate+1:e}function B2(n,e){for(let s=0;s<e.length;s++){var r=e[s].start,i=e[s].end;if(n>=r&&n<i)return{hidden:!0,startDate:r,endDate:i}}return{hidden:!1,startDate:r,endDate:i}}class n6 extends ph{constructor(e,r){var i,s,o,a,l,c,u;super();const d=us().hours(0).minutes(0).seconds(0).milliseconds(0),h=d.clone().add(-3,"days").valueOf(),f=d.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,r===void 0?(this.start=h,this.end=f):(this.start=r.start||h,this.end=r.end||f),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:us,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=oe.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",Ue(i=this._onDragStart).call(i,this)),this.body.emitter.on("panmove",Ue(s=this._onDrag).call(s,this)),this.body.emitter.on("panend",Ue(o=this._onDragEnd).call(o,this)),this.body.emitter.on("mousewheel",Ue(a=this._onMouseWheel).call(a,this)),this.body.emitter.on("touch",Ue(l=this._onTouch).call(l,this)),this.body.emitter.on("pinch",Ue(c=this._onPinch).call(c,this)),this.body.dom.rollingModeBtn.addEventListener("click",Ue(u=this.startRolling).call(u,this)),this.setOptions(r)}setOptions(e){if(e){const r=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];oe.selectiveExtend(r,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function r(){e.stopRolling(),e.rolling=!0;let i=e.end-e.start;const s=oe.convert(new Date,"Date").valueOf(),o=e.options.rollingMode&&e.options.rollingMode.offset||.5,a=s-i*o,l=s+i*(1-o),c={animation:!1};e.setRange(a,l,c),i=1/e.conversion(e.body.domProps.center.width).scale/10,i<30&&(i=30),i>1e3&&(i=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=Hi(r,i)}r()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,r,i,s,o){i||(i={}),i.byUser!==!0&&(i.byUser=!1);const a=this,l=e!=null?oe.convert(e,"Date").valueOf():null,c=r!=null?oe.convert(r,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){const h=this.start,f=this.end,p=typeof i.animation=="object"&&"duration"in i.animation?i.animation.duration:500,m=typeof i.animation=="object"&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",b=oe.easingFunctions[m];if(!b){var u;throw new Error(Mr(u="Unknown easing function ".concat(Os(m),". Choose from: ")).call(u,Qr(oe.easingFunctions).join(", ")))}const y=lo();let v=!1;const w=()=>{if(!a.props.touch.dragging){const x=lo()-y,S=b(x/p),C=x>p,E=C||l===null?l:h+(l-h)*S,A=C||c===null?c:f+(c-f)*S;d=a._applyRange(E,A),N2(a.options.moment,a.body,a.options.hiddenDates),v=v||d;const M={start:new Date(a.start),end:new Date(a.end),byUser:i.byUser,event:i.event};if(o&&o(S,d,C),d&&a.body.emitter.emit("rangechange",M),C){if(v&&(a.body.emitter.emit("rangechanged",M),s))return s()}else a.animationTimer=Hi(w,20)}};return w()}else{var d=this._applyRange(l,c);if(N2(this.options.moment,this.body,this.options.hiddenDates),d){const h={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",h),clearTimeout(a.timeoutID),a.timeoutID=Hi(()=>{a.body.emitter.emit("rangechanged",h)},200),s)return s()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,r){let i=e!=null?oe.convert(e,"Date").valueOf():this.start,s=r!=null?oe.convert(r,"Date").valueOf():this.end;const o=this.options.max!=null?oe.convert(this.options.max,"Date").valueOf():null,a=this.options.min!=null?oe.convert(this.options.min,"Date").valueOf():null;let l;if(isNaN(i)||i===null)throw new Error('Invalid start "'.concat(e,'"'));if(isNaN(s)||s===null)throw new Error('Invalid end "'.concat(r,'"'));if(s<i&&(s=i),a!==null&&i<a&&(l=a-i,i+=l,s+=l,o!=null&&s>o&&(s=o)),o!==null&&s>o&&(l=s-o,i-=l,s-=l,a!=null&&i<a&&(i=a)),this.options.zoomMin!==null){let u=R2(this.options.zoomMin);u<0&&(u=0),s-i<u&&(this.end-this.start===u&&i>=this.start-.5&&s<=this.end?(i=this.start,s=this.end):(l=u-(s-i),i-=l/2,s+=l/2))}if(this.options.zoomMax!==null){let u=R2(this.options.zoomMax);u<0&&(u=0),s-i>u&&(this.end-this.start===u&&i<this.start&&s>this.end?(i=this.start,s=this.end):(l=s-i-u,i+=l/2,s-=l/2))}const c=this.start!=i||this.end!=s;return!(i>=this.start&&i<=this.end||s>=this.start&&s<=this.end)&&!(this.start>=i&&this.start<=s||this.end>=i&&this.end<=s)&&this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=s,c}getRange(){return{start:this.start,end:this.end}}conversion(e,r){return n6.conversion(this.start,this.end,e,r)}static conversion(e,r,i,s){return s===void 0&&(s=0),i!=0&&r-e!=0?{offset:e,scale:i/(r-e-s)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const r=this.options.direction;Zre(r);let i=r=="horizontal"?e.deltaX:e.deltaY;i-=this.deltaDifference;let s=this.props.touch.end-this.props.touch.start;const o=fv(this.body.hiddenDates,this.start,this.end);s-=o;const a=r=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let l;this.options.rtl?l=i/a*s:l=-i/a*s;const c=this.props.touch.start+l,u=this.props.touch.end+l,d=Hh(this.body.hiddenDates,c,this.previousDelta-i,!0),h=Hh(this.body.hiddenDates,u,this.previousDelta-i,!0);if(d!=c||h!=u){this.deltaDifference+=i,this.props.touch.start=d,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=i,this._applyRange(c,u);const f=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:f,end:p,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let r=0;if(e.wheelDelta?r=e.wheelDelta/120:e.detail?r=-e.detail/3:e.deltaY&&(r=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&r){const i=this.options.zoomFriction||5;let s;r<0?s=1-r/i:s=1/(1+r/i);let o;if(this.rolling){const a=this.options.rollingMode&&this.options.rollingMode.offset||.5;o=this.start+(this.end-this.start)*a}else{const a=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);o=this._pointerToDate(a)}this.zoom(s,o,r,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,oe.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;oe.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const r=1/(e.scale+this.scaleOffset),i=this.props.touch.centerDate,s=fv(this.body.hiddenDates,this.start,this.end),o=j2(this.options.moment,this.body.hiddenDates,this,i),a=s-o;let l=i-o+(this.props.touch.start-(i-o))*r,c=i+a+(this.props.touch.end-(i+a))*r;this.startToFront=1-r<=0,this.endToFront=r-1<=0;const u=Hh(this.body.hiddenDates,l,1-r,!0),d=Hh(this.body.hiddenDates,c,r-1,!0);(u!=l||d!=c)&&(this.props.touch.start=u,this.props.touch.end=d,this.scaleOffset=1-e.scale,l=u,c=d);const h={animation:!1,byUser:!0,event:e};this.setRange(l,c,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const r=e.center?e.center.x:e.clientX,i=this.body.dom.centerContainer.getBoundingClientRect(),s=this.options.rtl?r-i.left:i.right-r,o=this.body.util.toTime(s);return o>=this.start&&o<=this.end}_pointerToDate(e){let r;const i=this.options.direction;if(Zre(i),i=="horizontal")return this.body.util.toTime(e.x).valueOf();{const s=this.body.domProps.center.height;return r=this.conversion(s),e.y/r.scale+r.offset}}getPointer(e,r){const i=r.getBoundingClientRect();return this.options.rtl?{x:i.right-e.x,y:e.y-i.top}:{x:e.x-i.left,y:e.y-i.top}}zoom(e,r,i,s){r==null&&(r=(this.start+this.end)/2);const o=fv(this.body.hiddenDates,this.start,this.end),a=j2(this.options.moment,this.body.hiddenDates,this,r),l=o-a;let c=r-a+(this.start-(r-a))*e,u=r+l+(this.end-(r+l))*e;this.startToFront=!(i>0),this.endToFront=!(-i>0);const d=Hh(this.body.hiddenDates,c,i,!0),h=Hh(this.body.hiddenDates,u,-i,!0);(d!=c||h!=u)&&(c=d,u=h);const f={animation:!1,byUser:!0,event:s};this.setRange(c,u,f),this.startToFront=!1,this.endToFront=!0}move(e){const r=this.end-this.start,i=this.start+r*e,s=this.end+r*e;this.start=i,this.end=s}moveTo(e){const i=(this.start+this.end)/2-e,s=this.start-i,o=this.end-i,a={animation:!1,byUser:!0,event:null};this.setRange(s,o,a)}destroy(){this.stopRolling()}}function Zre(n){if(n!="horizontal"&&n!="vertical")throw new TypeError('Unknown direction "'.concat(n,'". Choose "horizontal" or "vertical".'))}var xD,eie;function hlt(){if(eie)return xD;eie=1,nbe();var n=Qn();return xD=n.setInterval,xD}var _D,tie;function flt(){return tie||(tie=1,_D=hlt()),_D}var plt=flt(),mlt=zt(plt),ay=null;function vN(n,e){var r=e||{preventDefault:!1};if(n.Manager){var i=n,s=function(u,d){var h=Object.create(r);return d&&i.assign(h,d),vN(new i(u,h),h)};return i.assign(s,i),s.Manager=function(u,d){var h=Object.create(r);return d&&i.assign(h,d),vN(new i.Manager(u,h),h)},s}var o=Object.create(n),a=n.element;a.hammer||(a.hammer=[]),a.hammer.push(o),n.on("hammer.input",function(u){(r.preventDefault===!0||r.preventDefault===u.pointerType)&&u.preventDefault(),u.isFirst&&(ay=u.target)}),o._handlers={},o.on=function(u,d){return l(u).forEach(function(h){var f=o._handlers[h];f||(o._handlers[h]=f=[],n.on(h,c)),f.push(d)}),o},o.off=function(u,d){return l(u).forEach(function(h){var f=o._handlers[h];f&&(f=d?f.filter(function(p){return p!==d}):[],f.length>0?o._handlers[h]=f:(n.off(h,c),delete o._handlers[h]))}),o},o.emit=function(u,d){ay=d.target,n.emit(u,d)},o.destroy=function(){var u=n.element.hammer,d=u.indexOf(o);d!==-1&&u.splice(d,1),u.length||delete n.element.hammer,o._handlers={},n.destroy()};function l(u){return u.match(/[^ ]+/g)}function c(u){if(u.type!=="hammer.input"){if(u.srcEvent._handled||(u.srcEvent._handled={}),u.srcEvent._handled[u.type])return;u.srcEvent._handled[u.type]=!0}var d=!1;u.stopPropagation=function(){d=!0};var h=u.srcEvent.stopPropagation.bind(u.srcEvent);typeof h=="function"&&(u.srcEvent.stopPropagation=function(){h(),u.stopPropagation()}),u.firstTarget=ay;for(var f=ay.isConnected?ay:u.target;f&&!d;){var p=f.hammer;if(p){for(var m,b=0;b<p.length;b++)if(m=p[b]._handlers[u.type],m)for(var y=0;y<m.length&&!d;y++)m[y](u)}f=f.parentNode}}return o}function glt(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}let wN;if(typeof window<"u"){const n=window.Hammer||lL;wN=vN(n,{preventDefault:"mouse"})}else wN=function(){return glt()};var ls=wN;function rye(n,e){e.inputHandler=function(r){r.isFirst&&e(r)},n.on("hammer.input",e.inputHandler)}function blt(n,e){return e.inputHandler=function(r){r.isFinal&&e(r)},n.on("hammer.input",e.inputHandler)}function ylt(n){const e="pan-y";return n.getTouchAction=function(){return[e]},n}class hp{constructor(e,r,i,s,o){this.moment=o&&o.moment||us,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,r,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,an(s)?this.hiddenDates=s:s!=null?this.hiddenDates=[s]:this.hiddenDates=[],this.format=hp.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const r=oe.deepExtend({},hp.FORMAT);this.format=oe.deepExtend(r,e)}setRange(e,r,i){if(!(e instanceof Date)||!(r instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):lo(),this._end=r!=null?this.moment(r.valueOf()):lo(),this.autoScale&&this.setMinimumStep(i)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(Hh(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const r=this.current.clone();r.add(1,"week"),r.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,clt(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const r=1e3*60*60*24*30*12,i=1e3*60*60*24*30,s=1e3*60*60*24,o=1e3*60*60,a=1e3*60,l=1e3,c=1;r*1e3>e&&(this.scale="year",this.step=1e3),r*500>e&&(this.scale="year",this.step=500),r*100>e&&(this.scale="year",this.step=100),r*50>e&&(this.scale="year",this.step=50),r*10>e&&(this.scale="year",this.step=10),r*5>e&&(this.scale="year",this.step=5),r>e&&(this.scale="year",this.step=1),i*3>e&&(this.scale="month",this.step=3),i>e&&(this.scale="month",this.step=1),s*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),s*2>e&&(this.scale="day",this.step=2),s>e&&(this.scale="day",this.step=1),s/2>e&&(this.scale="weekday",this.step=1),o*4>e&&(this.scale="hour",this.step=4),o>e&&(this.scale="hour",this.step=1),a*15>e&&(this.scale="minute",this.step=15),a*10>e&&(this.scale="minute",this.step=10),a*5>e&&(this.scale="minute",this.step=5),a>e&&(this.scale="minute",this.step=1),l*15>e&&(this.scale="second",this.step=15),l*10>e&&(this.scale="second",this.step=10),l*5>e&&(this.scale="second",this.step=5),l>e&&(this.scale="second",this.step=1),c*200>e&&(this.scale="millisecond",this.step=200),c*100>e&&(this.scale="millisecond",this.step=100),c*50>e&&(this.scale="millisecond",this.step=50),c*10>e&&(this.scale="millisecond",this.step=10),c*5>e&&(this.scale="millisecond",this.step=5),c>e&&(this.scale="millisecond",this.step=1)}static snap(e,r,i){let s=us(e);if(r=="year"){const o=s.year()+Math.round(s.month()/12);s=s.year(Math.round(o/i)*i).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(r=="month")s.date()>15?s=s.date(1).add(1,"month"):s=s.date(1),s=s.hours(0).minutes(0).seconds(0).milliseconds(0);else if(r=="week")s.weekday()>2?s=s.weekday(0).add(1,"week"):s=s.weekday(0),s=s.hours(0).minutes(0).seconds(0).milliseconds(0);else if(r=="day"){switch(i){case 5:case 2:s=s.hours(Math.round(s.hours()/24)*24);break;default:s=s.hours(Math.round(s.hours()/12)*12);break}s=s.minutes(0).seconds(0).milliseconds(0)}else if(r=="weekday"){switch(i){case 5:case 2:s=s.hours(Math.round(s.hours()/12)*12);break;default:s=s.hours(Math.round(s.hours()/6)*6);break}s=s.minutes(0).seconds(0).milliseconds(0)}else if(r=="hour"){switch(i){case 4:s=s.minutes(Math.round(s.minutes()/60)*60);break;default:s=s.minutes(Math.round(s.minutes()/30)*30);break}s=s.seconds(0).milliseconds(0)}else if(r=="minute"){switch(i){case 15:case 10:s=s.minutes(Math.round(s.minutes()/5)*5).seconds(0);break;case 5:s=s.seconds(Math.round(s.seconds()/60)*60);break;default:s=s.seconds(Math.round(s.seconds()/30)*30);break}s=s.milliseconds(0)}else if(r=="second")switch(i){case 15:case 10:s=s.seconds(Math.round(s.seconds()/5)*5).milliseconds(0);break;case 5:s=s.milliseconds(Math.round(s.milliseconds()/1e3)*1e3);break;default:s=s.milliseconds(Math.round(s.milliseconds()/500)*500);break}else if(r=="millisecond"){const o=i>5?i/2:1;s=s.milliseconds(Math.round(s.milliseconds()/o)*o)}return s}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const r=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return r&&r.length>0?this.moment(e).format(r):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const r=this.format.majorLabels[this.scale];return r&&r.length>0?this.moment(e).format(r):""}getClassName(){var e;const r=this.moment,i=this.moment(this.current),s=i.locale?i.locale("en"):i.lang("en"),o=this.step,a=[];function l(f){return f/o%2==0?" vis-even":" vis-odd"}function c(f){return f.isSame(lo(),"day")?" vis-today":f.isSame(r().add(1,"day"),"day")?" vis-tomorrow":f.isSame(r().add(-1,"day"),"day")?" vis-yesterday":""}function u(f){return f.isSame(lo(),"week")?" vis-current-week":""}function d(f){return f.isSame(lo(),"month")?" vis-current-month":""}function h(f){return f.isSame(lo(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":a.push(c(s)),a.push(l(s.milliseconds()));break;case"second":a.push(c(s)),a.push(l(s.seconds()));break;case"minute":a.push(c(s)),a.push(l(s.minutes()));break;case"hour":a.push(Mr(e="vis-h".concat(s.hours())).call(e,this.step==4?"-h"+(s.hours()+4):"")),a.push(c(s)),a.push(l(s.hours()));break;case"weekday":a.push("vis-".concat(s.format("dddd").toLowerCase())),a.push(c(s)),a.push(u(s)),a.push(l(s.date()));break;case"day":a.push("vis-day".concat(s.date())),a.push("vis-".concat(s.format("MMMM").toLowerCase())),a.push(c(s)),a.push(d(s)),a.push(this.step<=2?c(s):""),a.push(this.step<=2?"vis-".concat(s.format("dddd").toLowerCase()):""),a.push(l(s.date()-1));break;case"week":a.push("vis-week".concat(s.format("w"))),a.push(u(s)),a.push(l(s.week()));break;case"month":a.push("vis-".concat(s.format("MMMM").toLowerCase())),a.push(d(s)),a.push(l(s.month()));break;case"year":a.push("vis-year".concat(s.year())),a.push(h(s)),a.push(l(s.year()));break}return qt(a).call(a,String).join(" ")}}hp.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class L2 extends ph{constructor(e,r){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:oe.extend({},hp.FORMAT),moment:us,timeAxis:null},this.options=oe.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(r)}setOptions(e){e&&(oe.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),oe.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof us.locale=="function"?us.locale(e.locale):us.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,r=this.dom.foreground,i=this.dom.background,s=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,o=r.parentNode!==s;this._calculateCharSize();const a=this.options.showMinorLabels&&this.options.orientation.axis!=="none",l=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=a?e.minorCharHeight:0,e.majorLabelHeight=l?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=r.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const c=r.nextSibling,u=i.nextSibling;return r.parentNode&&r.parentNode.removeChild(r),i.parentNode&&i.parentNode.removeChild(i),r.style.height="".concat(this.props.height,"px"),this._repaintLabels(),c?s.insertBefore(r,c):s.appendChild(r),u?this.body.dom.backgroundVertical.insertBefore(i,u):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o}_repaintLabels(){const e=this.options.orientation.axis,r=oe.convert(this.body.range.start,"Number"),i=oe.convert(this.body.range.end,"Number"),s=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let o=s-j2(this.options.moment,this.body.hiddenDates,this.body.range,s);o-=this.body.util.toTime(0).valueOf();const a=new hp(new Date(r),new Date(i),o,this.body.hiddenDates,this.options);a.setMoment(this.options.moment),this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a;const l=this.dom;l.redundant.lines=l.lines,l.redundant.majorTexts=l.majorTexts,l.redundant.minorTexts=l.minorTexts,l.lines=[],l.majorTexts=[],l.minorTexts=[];let c,u,d,h,f,p,m=0,b,y,v,w=0;const _=1e3;let x;for(a.start(),u=a.getCurrent(),h=this.body.util.toScreen(u);a.hasNext()&&w<_;){switch(w++,f=a.isMajor(),x=a.getClassName(),c=u,d=h,a.next(),u=a.getCurrent(),h=this.body.util.toScreen(u),b=m,m=h-d,a.scale){case"week":p=!0;break;default:p=m>=b*.4;break}if(this.options.showMinorLabels&&p){var S=this._repaintMinorText(d,a.getLabelMinor(c),e,x);S.style.width="".concat(m,"px")}f&&this.options.showMajorLabels?(d>0&&(v==null&&(v=d),S=this._repaintMajorText(d,a.getLabelMajor(c),e,x)),y=this._repaintMajorLine(d,m,e,x)):p?y=this._repaintMinorLine(d,m,e,x):y&&(y.style.width="".concat(co(y.style.width)+m,"px"))}if(w===_&&!nie&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(_," lines.")),nie=!0),this.options.showMajorLabels){const C=this.body.util.toTime(0),E=a.getLabelMajor(C),A=E.length*(this.props.majorCharWidth||10)+10;(v==null||A<v)&&this._repaintMajorText(0,E,e,x)}xt(oe).call(oe,this.dom.redundant,C=>{for(;C.length;){const E=C.pop();E&&E.parentNode&&E.parentNode.removeChild(E)}})}_repaintMinorText(e,r,i,s){let o=this.dom.redundant.minorTexts.shift();if(!o){const l=document.createTextNode("");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.innerHTML=oe.xss(r);let a=i=="top"?this.props.majorLabelHeight:0;return this._setXY(o,e,a),o.className="vis-text vis-minor ".concat(s),o}_repaintMajorText(e,r,i,s){let o=this.dom.redundant.majorTexts.shift();if(!o){const l=document.createElement("div");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}o.childNodes[0].innerHTML=oe.xss(r),o.className="vis-text vis-major ".concat(s);let a=i=="top"?0:this.props.minorLabelHeight;return this._setXY(o,e,a),this.dom.majorTexts.push(o),o}_setXY(e,r,i){var s;const o=this.options.rtl?r*-1:r;e.style.transform=Mr(s="translate(".concat(o,"px, ")).call(s,i,"px)")}_repaintMinorLine(e,r,i,s){var o;let a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);const l=this.props;a.style.width="".concat(r,"px"),a.style.height="".concat(l.minorLineHeight,"px");let c=i=="top"?l.majorLabelHeight:this.body.domProps.top.height,u=e-l.minorLineWidth/2;return this._setXY(a,u,c),a.className=Mr(o="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(o,s),a}_repaintMajorLine(e,r,i,s){var o;let a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);const l=this.props;a.style.width="".concat(r,"px"),a.style.height="".concat(l.majorLineHeight,"px");let c=i=="top"?0:this.body.domProps.top.height,u=e-l.majorLineWidth/2;return this._setXY(a,u,c),a.className=Mr(o="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(o,s),a}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var nie=!1;function vlt(n){var e=window,r={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(u){c(u,"keydown")},l=function(u){c(u,"keyup")},c=function(u,d){if(i[d][u.keyCode]!==void 0)for(var h=i[d][u.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&u.shiftKey==!0||h[f].shift==!1&&u.shiftKey==!1)&&h[f].fn(u)};return r.bind=function(u,d,h){if(h===void 0&&(h="keydown"),s[u]===void 0)throw new Error("unsupported key: "+u);i[h][s[u].code]===void 0&&(i[h][s[u].code]=[]),i[h][s[u].code].push({fn:d,shift:s[u].shift})},r.bindAll=function(u,d){d===void 0&&(d="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,u,d)},r.getKey=function(u){for(var d in s)if(s.hasOwnProperty(d)){if(u.shiftKey==!0&&s[d].shift==!0&&u.keyCode==s[d].code)return d;if(u.shiftKey==!1&&s[d].shift==!1&&u.keyCode==s[d].code)return d;if(u.keyCode==s[d].code&&d=="shift")return d}return"unknown key, currently not supported"},r.unbind=function(u,d,h){if(h===void 0&&(h="keydown"),s[u]===void 0)throw new Error("unsupported key: "+u);if(d!==void 0){var f=[],p=i[h][s[u].code];if(p!==void 0)for(var m=0;m<p.length;m++)p[m].fn==d&&p[m].shift==s[u].shift||f.push(i[h][s[u].code][m]);i[h][s[u].code]=f}else i[h][s[u].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},e.removeEventListener("keydown",a,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",a,!0),e.addEventListener("keyup",l,!0),r}function ra(n){var e,r;this.active=!1,this.dom={container:n},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=ls(this.dom.overlay),this.hammer.on("tap",Ue(e=this._onTapOverlay).call(e,this));var i=this,s=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];xt(s).call(s,function(o){i.hammer.on(o,function(a){a.stopPropagation()})}),document&&document.body&&(this.onClick=function(o){wlt(o.target,n)||i.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=vlt(),this.escListener=Ue(r=this.deactivate).call(r,this)}eL(ra.prototype);ra.current=null;ra.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};ra.prototype.activate=function(){var n;ra.current&&ra.current.deactivate(),ra.current=this,this.active=!0,this.dom.overlay.style.display="none",oe.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),Ue(n=this.keycharm).call(n,"esc",this.escListener)};ra.prototype.deactivate=function(){ra.current===this&&(ra.current=null),this.active=!1,this.dom.overlay.style.display="",oe.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};ra.prototype._onTapOverlay=function(n){this.activate(),n.stopPropagation()};function wlt(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const kL={current:"current",time:"time",deleteSelected:"Delete selected"},xlt=kL,_lt=kL,CL={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},Slt=CL,klt=CL,EL={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},Clt=EL,Elt=EL,AL={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},Alt=AL,Tlt=AL,i1={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},Plt=i1,Ilt=i1,Mlt=i1,Olt=i1,iye={current:"actual",time:"hora",deleteSelected:"Eliminar seleccin"},Dlt=iye,sye={current:"",time:"",deleteSelected:" "},Rlt=sye,oye={current:"",time:"",deleteSelected:" "},Nlt=oye,aye={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},jlt=aye,TL={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},Blt=TL,Llt=TL,lye={current:"gncel",time:"zaman",deleteSelected:"Seileni sil"},Flt=lye,cye={current:"",time:"",deleteSelected:""},$lt=cye,uye={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},zlt=uye,r6={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},Ult=r6,Wlt=r6,qlt=r6,dye={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},Hlt=dye,L0={en:kL,en_EN:xlt,en_US:_lt,it:CL,it_IT:Slt,it_CH:klt,nl:EL,nl_NL:Clt,nl_BE:Elt,de:AL,de_DE:Alt,de_CH:Tlt,fr:i1,fr_FR:Plt,fr_CA:Ilt,fr_BE:Mlt,fr_CH:Olt,es:iye,es_ES:Dlt,uk:sye,uk_UA:Rlt,ru:oye,ru_RU:Nlt,pl:aye,pl_PL:jlt,pt:TL,pt_BR:Blt,pt_PT:Llt,tr:lye,tr_TR:Flt,ja:cye,ja_JP:$lt,lt:dye,lt_LT:Hlt,sv:uye,sv_SE:zlt,nb:r6,nn:Wlt,nb_NO:Ult,nn_NO:qlt};class PL extends ph{constructor(e,r){var i;super(),this.body=e,this.defaultOptions={moment:us,locales:L0,locale:"en",id:void 0,title:void 0},this.options=oe.extend({},this.defaultOptions),this.setOptions(r),this.options.locales=oe.extend({},L0,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];xt(i=Qr(this.options.locales)).call(i,o=>{this.options.locales[o]=oe.extend({},s,this.options.locales[o])}),r&&r.time!=null?this.customTime=r.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&oe.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){var e,r,i;const s=document.createElement("div");s["custom-time"]=this,s.className="vis-custom-time ".concat(this.options.id||""),s.style.position="absolute",s.style.top="0px",s.style.height="100%",this.bar=s;const o=document.createElement("div");o.style.position="relative",o.style.top="0px",this.options.rtl?o.style.right="-10px":o.style.left="-10px",o.style.height="100%",o.style.width="20px";function a(l){this.body.range._onMouseWheel(l)}o.addEventListener?(o.addEventListener("mousewheel",Ue(a).call(a,this),!1),o.addEventListener("DOMMouseScroll",Ue(a).call(a,this),!1)):o.attachEvent("onmousewheel",Ue(a).call(a,this)),s.appendChild(o),this.hammer=new ls(o),this.hammer.on("panstart",Ue(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",Ue(r=this._onDrag).call(r,this)),this.hammer.on("panend",Ue(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:ls.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const r=this.body.util.toScreen(this.customTime);let i=this.options.locales[this.options.locale];i||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),i=this.options.locales.en);let s=this.options.title;if(s===void 0){var o;s=Mr(o="".concat(i.time,": ")).call(o,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")),s=s.charAt(0).toUpperCase()+s.substring(1)}else typeof s=="function"&&(s=s.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(r,"px"):this.bar.style.left="".concat(r,"px"),this.bar.title=s,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=oe.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,r){if(this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=oe.xss(e),this.marker.style.position="absolute",r){var i;this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",Ue(i=this._onMarkerChange).call(i,this)),this.marker.title=e,this.marker.addEventListener("blur",s=>{this.title!=s.target.innerHTML&&(this._onMarkerChanged(s),this.title=s.target.innerHTML)})}this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let r=this.options.rtl?-1*e.deltaX:e.deltaX;const i=this.body.util.toScreen(this.eventParams.customTime)+r,s=this.body.util.toTime(i),o=this.body.util.getScale(),a=this.body.util.getStep(),l=this.options.snap,c=l?l(s,o,a):s;this.setCustomTime(c),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let r=e.target;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"custom-time"))return r["custom-time"];r=r.parentNode}return null}}class pg{_create(e){var r,i,s;this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",Ue(r=this._onTouch).call(r,this)),this.on("panmove",Ue(i=this._onDrag).call(i,this));const o=this;this._origRedraw=Ue(s=this._redraw).call(s,this),this._redraw=oe.throttle(this._origRedraw),this.on("_change",m=>{o.itemSet&&o.itemSet.initialItemSetDrawn&&m&&m.queue==!0?o._redraw():o._origRedraw()}),this.hammer=new ls(this.dom.root);const a=this.hammer.get("pinch").set({enable:!0});a&&ylt(a),this.hammer.get("pan").set({threshold:5,direction:ls.DIRECTION_ALL}),this.timelineListeners={};const l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];xt(l).call(l,m=>{const b=y=>{o.isActive()&&o.emit(m,y)};o.hammer.on(m,b),o.timelineListeners[m]=b}),rye(this.hammer,m=>{o.emit("touch",m)}),blt(this.hammer,m=>{o.emit("release",m)});function c(m){if(!this.isActive())return;if(this.emit("mousewheel",m),this.options.preferZoom){if(!this.options.zoomKey||m[this.options.zoomKey])return}else if(this.options.zoomKey&&m[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let b=0,y=0;"detail"in m&&(y=m.detail*-1),"wheelDelta"in m&&(y=m.wheelDelta),"wheelDeltaY"in m&&(y=m.wheelDeltaY),"wheelDeltaX"in m&&(b=m.wheelDeltaX*-1),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(b=y*-1,y=0),"deltaY"in m&&(y=m.deltaY*-1),"deltaX"in m&&(b=m.deltaX);var v=40,w=800;m.deltaMode&&(m.deltaMode===1?(b*=v,y*=v):(b*=v,y*=w));const _=this.options.verticalScroll,x=Math.abs(y)>=Math.abs(b),S=this.options.horizontalScroll&&this.options.horizontalScrollKey&&m[this.options.horizontalScrollKey];if(_&&x&&!S){const C=this.props.scrollTop,E=C+y;this._setScrollTop(E)!==C&&(this._redraw(),this.emit("scroll",m),m.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let E=(x?y:b)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&x&&(E=-E);const A=this.range.start+E,M=this.range.end+E,I={animation:!1,byUser:!0,event:m};this.range.setRange(A,M,I),m.preventDefault();return}}const u="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(u,Ue(c).call(c,this),!1),this.dom.top.addEventListener(u,Ue(c).call(c,this),!1),this.dom.bottom.addEventListener(u,Ue(c).call(c,this),!1);function d(m){if(o.options.verticalScroll&&(m.preventDefault(),o.isActive())){const b=-m.target.scrollTop;o._setScrollTop(b),o._redraw(),o.emit("scrollSide",m)}}this.dom.left.parentNode.addEventListener("scroll",Ue(d).call(d,this)),this.dom.right.parentNode.addEventListener("scroll",Ue(d).call(d,this));let h=!1;function f(m){var b;if(m.preventDefault&&(o.emit("dragover",o.getEventProperties(m)),m.preventDefault()),Fn(b=m.target.className).call(b,"timeline")>-1&&!h)return m.dataTransfer.dropEffect="move",h=!0,!1}function p(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation();try{var b=JSON.parse(m.dataTransfer.getData("text"));if(!b||!b.content)return}catch{return!1}return h=!1,m.center={x:m.clientX,y:m.clientY},b.target!=="item"?o.itemSet._onAddItem(m):o.itemSet._onDropObjectOnItem(m),o.emit("drop",o.getEventProperties(m)),!1}if(this.dom.center.addEventListener("dragover",Ue(f).call(f,this),!1),this.dom.center.addEventListener("drop",Ue(p).call(p,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){var r;if(e){const a=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(oe.selectiveExtend(a,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const l=this.timeAxis2=new L2(this.body,this.options);l.setOptions=c=>{const u=c?oe.extend({},c):{};u.orientation="top",L2.prototype.setOptions.call(l,u)},this.components.push(l)}}else if(this.timeAxis2){var i;const l=Fn(i=this.components).call(i,this.timeAxis2);if(l!==-1){var s;cs(s=this.components).call(s,l,1)}this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&SL(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new ra(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(xt(r=this.components).call(r,a=>a.setOptions(e)),"configure"in e){var o;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const a=oe.deepExtend({},this.options);xt(o=this.components).call(o,l=>{oe.deepExtend(a,l.options)}),this.configurator.setModuleOptions({global:a})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){var e;this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const r in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,r)&&delete this.timelineListeners[r];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,xt(e=this.components).call(e,r=>r.destroy()),this.body=null}setCustomTime(e,r){var i;const s=qt(i=this.customTimes).call(i,o=>r===o.options.id);if(s.length===0)throw new Error("No custom time bar found with id ".concat(Os(r)));s.length>0&&s[0].setCustomTime(e)}getCustomTime(e){var r;const i=qt(r=this.customTimes).call(r,s=>s.options.id===e);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Os(e)));return i[0].getCustomTime()}setCustomTimeMarker(e,r,i){var s;const o=qt(s=this.customTimes).call(s,a=>a.options.id===r);if(o.length===0)throw new Error("No custom time bar found with id ".concat(Os(r)));o.length>0&&o[0].setCustomMarker(e,i)}setCustomTimeTitle(e,r){var i;const s=qt(i=this.customTimes).call(i,o=>o.options.id===r);if(s.length===0)throw new Error("No custom time bar found with id ".concat(Os(r)));if(s.length>0)return s[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,r){var i;const s=e!==void 0?oe.convert(e,"Date"):new Date;if(vL(i=this.customTimes).call(i,l=>l.options.id===r))throw new Error("A custom time with id ".concat(Os(r)," already exists"));const a=new PL(this.body,oe.extend({},this.options,{time:s,id:r,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(a),this.components.push(a),this._redraw(),r}removeCustomTime(e){var r;const i=qt(r=this.customTimes).call(r,s=>s.options.id===e);if(i.length===0)throw new Error("No custom time bar found with id ".concat(Os(e)));xt(i).call(i,s=>{var o,a,l,c;cs(o=this.customTimes).call(o,Fn(a=this.customTimes).call(a,s),1),cs(l=this.components).call(l,Fn(c=this.components).call(c,s),1),s.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,r){const i=this.getDataRange();if(i.min===null&&i.max===null)return;const s=i.max-i.min,o=new Date(i.min.valueOf()-s*.01),a=new Date(i.max.valueOf()+s*.01),l=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(o,a,{animation:l},r)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,r,i,s){typeof arguments[2]=="function"&&(s=arguments[2],i={});let o,a;arguments.length==1?(a=arguments[0],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o})):arguments.length==2&&typeof arguments[1]=="function"?(a=arguments[0],s=arguments[1],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o},s)):(o=i&&i.animation!==void 0?i.animation:!0,this.range.setRange(e,r,{animation:o},s))}moveTo(e,r,i){typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.range.end-this.range.start,o=oe.convert(e,"Date").valueOf(),a=o-s/2,l=o+s/2,c=r&&r.animation!==void 0?r.animation:!0;this.range.setRange(a,l,{animation:c},i)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,r,i){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.getWindow(),o=s.start.valueOf(),a=s.end.valueOf(),l=a-o,c=l/(1+e),u=(l-c)/2,d=o+u,h=a-u;this.setWindow(d,h,r,i)}zoomOut(e,r,i){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.getWindow(),o=s.start.valueOf(),a=s.end.valueOf(),l=a-o,c=o-l*e/2,u=a+l*e/2;this.setWindow(c,u,r,i)}redraw(){this._redraw()}_redraw(){var e;this.redrawCount++;const r=this.dom;if(!r||!r.container||r.root.offsetWidth==0)return;let i=!1;const s=this.options,o=this.props;N2(this.options.moment,this.body,this.options.hiddenDates),s.orientation=="top"?(oe.addClassName(r.root,"vis-top"),oe.removeClassName(r.root,"vis-bottom")):(oe.removeClassName(r.root,"vis-top"),oe.addClassName(r.root,"vis-bottom")),s.rtl?(oe.addClassName(r.root,"vis-rtl"),oe.removeClassName(r.root,"vis-ltr")):(oe.addClassName(r.root,"vis-ltr"),oe.removeClassName(r.root,"vis-rtl")),r.root.style.maxHeight=oe.option.asSize(s.maxHeight,""),r.root.style.minHeight=oe.option.asSize(s.minHeight,""),r.root.style.width=oe.option.asSize(s.width,"");const a=r.root.offsetWidth;o.border.left=1,o.border.right=1,o.border.top=1,o.border.bottom=1,o.center.height=r.center.offsetHeight,o.left.height=r.left.offsetHeight,o.right.height=r.right.offsetHeight,o.top.height=r.top.clientHeight||-o.border.top,o.bottom.height=Math.round(r.bottom.getBoundingClientRect().height)||r.bottom.clientHeight||-o.border.bottom;const l=Math.max(o.left.height,o.center.height,o.right.height),c=o.top.height+l+o.bottom.height+o.border.top+o.border.bottom;r.root.style.height=oe.option.asSize(s.height,"".concat(c,"px")),o.root.height=r.root.offsetHeight,o.background.height=o.root.height;const u=o.root.height-o.top.height-o.bottom.height;o.centerContainer.height=u,o.leftContainer.height=u,o.rightContainer.height=o.leftContainer.height,o.root.width=a,o.background.width=o.root.width,this.initialDrawDone||(o.scrollbarWidth=oe.getScrollBarWidth());const d=r.leftContainer.clientWidth,h=r.rightContainer.clientWidth;s.verticalScroll?s.rtl?(o.left.width=d||-o.border.left,o.right.width=h+o.scrollbarWidth||-o.border.right):(o.left.width=d+o.scrollbarWidth||-o.border.left,o.right.width=h||-o.border.right):(o.left.width=d||-o.border.left,o.right.width=h||-o.border.right),this._setDOM();let f=this._updateScrollTop();s.orientation.item!="top"&&(f+=Math.max(o.centerContainer.height-o.center.height-o.border.top-o.border.bottom,0)),r.center.style.transform="translateY(".concat(f,"px)");const p=o.scrollTop==0?"hidden":"",m=o.scrollTop==o.scrollTopMin?"hidden":"";r.shadowTop.style.visibility=p,r.shadowBottom.style.visibility=m,r.shadowTopLeft.style.visibility=p,r.shadowBottomLeft.style.visibility=m,r.shadowTopRight.style.visibility=p,r.shadowBottomRight.style.visibility=m,s.verticalScroll&&(r.rightContainer.className="vis-panel vis-right vis-vertical-scroll",r.leftContainer.className="vis-panel vis-left vis-vertical-scroll",r.shadowTopRight.style.visibility="hidden",r.shadowBottomRight.style.visibility="hidden",r.shadowTopLeft.style.visibility="hidden",r.shadowBottomLeft.style.visibility="hidden",r.left.style.top="0px",r.right.style.top="0px"),(!s.verticalScroll||o.center.height<o.centerContainer.height)&&(r.left.style.top="".concat(f,"px"),r.right.style.top="".concat(f,"px"),r.rightContainer.className=r.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),r.leftContainer.className=r.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),o.left.width=d||-o.border.left,o.right.width=h||-o.border.right,this._setDOM());const b=o.center.height>o.centerContainer.height;this.hammer.get("pan").set({direction:b?ls.DIRECTION_ALL:ls.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),xt(e=this.components).call(e,v=>{i=v.redraw()||i});const y=5;if(i)if(this.redrawCount<y){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,r=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const i=e.root.width-e.left.width-e.right.width;e.center.width=i,e.centerContainer.width=i,e.top.width=i,e.bottom.width=i,r.background.style.height="".concat(e.background.height,"px"),r.backgroundVertical.style.height="".concat(e.background.height,"px"),r.backgroundHorizontal.style.height="".concat(e.centerContainer.height,"px"),r.centerContainer.style.height="".concat(e.centerContainer.height,"px"),r.leftContainer.style.height="".concat(e.leftContainer.height,"px"),r.rightContainer.style.height="".concat(e.rightContainer.height,"px"),r.background.style.width="".concat(e.background.width,"px"),r.backgroundVertical.style.width="".concat(e.centerContainer.width,"px"),r.backgroundHorizontal.style.width="".concat(e.background.width,"px"),r.centerContainer.style.width="".concat(e.center.width,"px"),r.top.style.width="".concat(e.top.width,"px"),r.bottom.style.width="".concat(e.bottom.width,"px"),r.background.style.left="0",r.background.style.top="0",r.backgroundVertical.style.left="".concat(e.left.width+e.border.left,"px"),r.backgroundVertical.style.top="0",r.backgroundHorizontal.style.left="0",r.backgroundHorizontal.style.top="".concat(e.top.height,"px"),r.centerContainer.style.left="".concat(e.left.width,"px"),r.centerContainer.style.top="".concat(e.top.height,"px"),r.leftContainer.style.left="0",r.leftContainer.style.top="".concat(e.top.height,"px"),r.rightContainer.style.left="".concat(e.left.width+e.center.width,"px"),r.rightContainer.style.top="".concat(e.top.height,"px"),r.top.style.left="".concat(e.left.width,"px"),r.top.style.top="0",r.bottom.style.left="".concat(e.left.width,"px"),r.bottom.style.top="".concat(e.top.height+e.centerContainer.height,"px"),r.center.style.left="0",r.left.style.left="0",r.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return Qre(this,e,this.props.center.width)}_toGlobalTime(e){return Qre(this,e,this.props.root.width)}_toScreen(e){return Xre(this,e,this.props.center.width)}_toGlobalScreen(e){return Xre(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const r=e.dom.root.offsetHeight,i=e.dom.root.offsetWidth;(i!=e.props.lastWidth||r!=e.props.lastHeight)&&(e.props.lastWidth=i,e.props.lastHeight=r,e.props.scrollbarWidth=oe.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=mlt(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const r=e.deltaY,i=this._getScrollTop(),s=this._setScrollTop(this.touch.initialScrollTop+r);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),s!=i&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}eL(pg.prototype);class hye extends ph{constructor(e,r){var i;super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:us,locales:L0,locale:"en"},this.options=oe.extend({},this.defaultOptions),this.setOptions(r),this.options.locales=oe.extend({},L0,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];xt(i=Qr(this.options.locales)).call(i,o=>{this.options.locales[o]=oe.extend({},s,this.options.locales[o])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&oe.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){var e,r;const i=this.body.dom.backgroundVertical;this.bar.parentNode!=i&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),i.appendChild(this.bar),this.start());let s=this.options.moment(lo()+this.offset);this.options.alignCurrentTime&&(s=s.startOf(this.options.alignCurrentTime));const o=this.body.util.toScreen(s);let a=this.options.locales[this.options.locale];a||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),a=this.options.locales.en);let l=Mr(e=Mr(r="".concat(a.current," ")).call(r,a.time,": ")).call(e,s.format("dddd, MMMM Do YYYY, H:mm:ss"));l=l.charAt(0).toUpperCase()+l.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(o*-1,"px)"):this.bar.style.transform="translateX(".concat(o,"px)"),this.bar.title=l}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function r(){e.stop();let s=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;s<30&&(s=30),s>1e3&&(s=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=Hi(r,s)}r()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const r=oe.convert(e,"Date").valueOf(),i=lo();this.offset=r-i,this.redraw()}getCurrentTime(){return new Date(lo()+this.offset)}}var rie={},iie;function Vlt(){if(iie)return rie;iie=1;var n=Bt(),e=dh().find,r=Kx(),i="find",s=!0;return i in[]&&Array(1)[i](function(){s=!1}),n({target:"Array",proto:!0,forced:s},{find:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),r(i),rie}var SD,sie;function Glt(){if(sie)return SD;sie=1,Vlt();var n=Ar();return SD=n("Array","find"),SD}var kD,oie;function Ylt(){if(oie)return kD;oie=1;var n=nr(),e=Glt(),r=Array.prototype;return kD=function(i){var s=i.find;return i===r||n(r,i)&&s===r.find?e:s},kD}var CD,aie;function Klt(){if(aie)return CD;aie=1;var n=Ylt();return CD=n,CD}var ED,lie;function Xlt(){return lie||(lie=1,ED=Klt()),ED}var Qlt=Xlt(),Jlt=zt(Qlt);const no=.001;function Zlt(n){Nr(n).call(n,(e,r)=>e.data.start-r.data.start)}function ect(n){Nr(n).call(n,(e,r)=>{const i="end"in e.data?e.data.end:e.data.start,s="end"in r.data?r.data.end:r.data.start;return i-s})}function cie(n,e,r,i){return IL(n,e.item,!1,o=>o.stack&&(r||o.top===null),o=>o.stack,()=>e.axis,i)===null}function tct(n,e,r){const i=IL(n,e.item,!1,s=>s.stack,()=>!0,s=>s.baseTop);r.height=i-r.top+.5*e.item.vertical}function nct(n,e,r,i){for(let s=0;s<n.length;s++){if(n[s].data.subgroup==null){n[s].top=e.item.vertical;continue}if(n[s].data.subgroup===void 0||!i)continue;let o=0;for(const a in r)!Object.prototype.hasOwnProperty.call(r,a)||r[a].visible!==!0||r[a].index>=r[n[s].data.subgroup].index||(o+=r[a].height,r[n[s].data.subgroup].top=o);n[s].top=o+.5*e.item.vertical}i||rct(n,e,r)}function rct(n,e,r){var i;IL(Nr(i=JB(r)).call(i,(s,o)=>s.index>o.index?1:s.index<o.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let s=0;s<n.length;s++)n[s].data.subgroup!==void 0&&(n[s].top=r[n[s].data.subgroup].top+.5*e.item.vertical)}function uie(n,e,r){let i=!1;const s=[];for(let o in r)Object.prototype.hasOwnProperty.call(r[o],"index")?s[r[o].index]=o:s.push(o);for(let o=0;o<s.length;o++){let a=s[o];if(!Object.prototype.hasOwnProperty.call(r,a))continue;i=i||r[a].stack,r[a].top=0;for(const c in r)r[c].visible&&r[a].index>r[c].index&&(r[a].top+=r[c].height);const l=n[a];for(let c=0;c<l.length;c++)l[c].data.subgroup!==void 0&&(l[c].top=r[l[c].data.subgroup].top+.5*e.item.vertical,r[a].stack&&(l[c].baseTop=l[c].top));i&&r[a].stack&&tct(n[a],e,r[a])}}function IL(n,e,r,i,s,o,a){let l=w=>w.start,c=w=>w.end;r||(!!(n[0]&&n[0].options.rtl)?l=_=>_.right:l=_=>_.left,c=_=>l(_)+_.width+e.horizontal);const u=[],d=[];let h=null,f=0;for(const w of n)if(i(w))u.push(w);else if(s(w)){const _=l(w);h!==null&&_<h-no&&(f=0),h=_,f=X_(d,x=>l(x)-no>_,f),cs(d).call(d,f,0,w),f++}h=null;let p=null;f=0;let m=0,b=0,y=0;for(;u.length>0;){var v;const w=u.shift();w.top=o(w);const _=l(w),x=c(w);h!==null&&_<h-no&&(m=0,b=0,f=0,p=null),(h===null||_>h+no)&&(m=X_(d,E=>_<c(E)-no,m)),h=_,(p===null||p<x-no)&&(b=X_(d,E=>x<l(E)-no,Math.max(m,b))),p!==null&&p-no>x&&(b=sct(d,E=>x+no>=l(E),m,b)+1),p=x;const S=Nr(v=oct(d,E=>_<c(E)-no,m,b)).call(v,(E,A)=>E.top-A.top);for(let E=0;E<S.length;E++){const A=S[E];ict(w,A,e)&&(w.top=A.top+A.height+e.vertical)}s(w)&&(f=X_(d,E=>l(E)-no>_,f),cs(d).call(d,f,0,w),f<m&&m++,f<=b&&b++,f++);const C=w.top+w.height;if(C>y&&(y=C),a&&a())return null}return y}function ict(n,e,r){return n.top-r.vertical+no<e.top+e.height&&n.top+n.height+r.vertical-no>e.top}function X_(n,e,r){r||(r=0);for(let i=r;i<n.length;i++)if(e(n[i]))return i;return n.length}function sct(n,e,r,i){r||(r=0),i||(i=n.length);for(let s=i-1;s>=r;s--)if(e(n[s]))return s;return r-1}function oct(n,e,r,i){r||(r=0),i?i=Math.min(i,n.length):i=n.length;const s=[];for(let o=r;o<i;o++)e(n[o])&&s.push(n[o]);return s}const act="__background__",die={BACKGROUND:act};let xN=class{constructor(e,r,i){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=r&&r.subgroupOrder,this.itemSet=i,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],r&&r.nestedGroups&&(this.nestedGroups=r.nestedGroups,r.showNested==!1?this.showNested=!1:this.showNested=!0),r&&r.subgroupStack)if(typeof r.subgroupStack=="boolean")this.doInnerStack=r.subgroupStack,this.subgroupStackAll=r.subgroupStack;else for(const o in r.subgroupStack)Object.prototype.hasOwnProperty.call(r.subgroupStack,o)&&(this.subgroupStack[o]=r.subgroupStack[o],this.doInnerStack=this.doInnerStack||r.subgroupStack[o]);r&&r.heightMode?this.heightMode=r.heightMode:this.heightMode=i.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const s=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",s),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",s)}),this._create(),this.setData(r)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const r=document.createElement("div");r.className="vis-inner",e.appendChild(r),this.dom.inner=r;const i=document.createElement("div");i.className="vis-group",i["vis-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let r,i;if(e&&e.subgroupVisibility)for(const a in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,a)&&(this.subgroupVisibility[a]=e.subgroupVisibility[a]);if(this.itemSet.options&&this.itemSet.options.groupTemplate){var s;i=Ue(s=this.itemSet.options.groupTemplate).call(s,this),r=i(e,this.dom.inner)}else r=e&&e.content;if(r instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(r)}else r instanceof Object&&r.isReactComponent||(r instanceof Object?i(e,this.dom.inner):r!=null?this.dom.inner.innerHTML=oe.xss(r):this.dom.inner.innerHTML=oe.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?oe.removeClassName(this.dom.inner,"vis-hidden"):oe.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),oe.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(oe.removeClassName(this.dom.label,"collapsed"),oe.addClassName(this.dom.label,"expanded")):(oe.removeClassName(this.dom.label,"expanded"),oe.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,oe.removeClassName(this.dom.label,"collapsed"),oe.removeClassName(this.dom.label,"expanded"),oe.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(oe.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?oe.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):oe.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):oe.addClassName(this.dom.label,"vis-group-level-0");const o=e&&e.className||null;o!=this.className&&(this.className&&(oe.removeClassName(this.dom.label,this.className),oe.removeClassName(this.dom.foreground,this.className),oe.removeClassName(this.dom.background,this.className),oe.removeClassName(this.dom.axis,this.className)),oe.addClassName(this.dom.label,o),oe.addClassName(this.dom.foreground,o),oe.addClassName(this.dom.background,o),oe.addClassName(this.dom.axis,o),this.className=o),this.style&&(oe.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(oe.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const r={};let i=0;if(xt(oe).call(oe,this.items,(o,a)=>{o.dirty=!0,o.displayed&&(r[a]=o.redraw(!0),i=r[a].length)}),i>0)for(let o=0;o<i;o++)xt(oe).call(oe,r,a=>{a[o]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:r,offsetWidth:i}=this.dom.foreground;this.top=e,this.right=r,this.width=i}_shouldBailItemsRedraw(){const e=this,r=this.itemSet.options.onTimeout,i={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:r&&r.timeoutMs,userBailFunction:r&&r.callback,shouldBailStackItems:this.shouldBailStackItems};let s=null;if(!this.itemSet.initialDrawDone){if(i.shouldBailStackItems)return!0;Math.abs(lo()-new Date(i.relativeBailingTime))>i.bailTimeMs&&(i.userBailFunction&&this.itemSet.userContinueNotBail==null?i.userBailFunction(o=>{e.itemSet.userContinueNotBail=o,s=!o}):e.itemSet.userContinueNotBail==!1?s=!0:s=!1)}return s}_redrawItems(e,r,i,s){if(e||this.stackDirty||this.isVisible&&!r){var a,l,c,u,d,h;const v={byEnd:qt(a=this.orderedItems.byEnd).call(a,S=>!S.isCluster),byStart:qt(l=this.orderedItems.byStart).call(l,S=>!S.isCluster)},w={byEnd:[...new Gd(qt(c=In(u=this.orderedItems.byEnd).call(u,S=>S.cluster)).call(c,S=>!!S))],byStart:[...new Gd(qt(d=In(h=this.orderedItems.byStart).call(h,S=>S.cluster)).call(d,S=>!!S))]},_=()=>{var S,C;const E=this._updateItemsInRange(v,qt(S=this.visibleItems).call(S,M=>!M.isCluster),s),A=this._updateClustersInRange(w,qt(C=this.visibleItems).call(C,M=>M.isCluster),s);return[...E,...A]},x=S=>{let C={};for(const A in this.subgroups){var E;if(!Object.prototype.hasOwnProperty.call(this.subgroups,A))continue;const M=qt(E=this.visibleItems).call(E,I=>I.data.subgroup===A);C[A]=S?Nr(M).call(M,(I,O)=>S(I.data,O.data)):M}return C};if(typeof this.itemSet.options.order=="function"){const S=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const C=x(this.itemSet.options.order);uie(C,i,this.subgroups),this.visibleItems=_(),this._updateSubGroupHeights(i)}else{var f,p,m,b;this.visibleItems=_(),this._updateSubGroupHeights(i);const C=Nr(f=qt(p=wb(m=this.visibleItems).call(m)).call(p,E=>E.isCluster||!E.isCluster&&!E.cluster)).call(f,(E,A)=>S.itemSet.options.order(E.data,A.data));this.shouldBailStackItems=cie(C,i,!0,Ue(b=this._shouldBailItemsRedraw).call(b,this))}}else if(this.visibleItems=_(),this._updateSubGroupHeights(i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const S=x();uie(S,i,this.subgroups)}else{var y;this.shouldBailStackItems=cie(this.visibleItems,i,!0,Ue(y=this._shouldBailItemsRedraw).call(y,this))}else nct(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);for(let S=0;S<this.visibleItems.length;S++)this.visibleItems[S].repositionX(),this.subgroupVisibility[this.visibleItems[S].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[S].data.subgroup]||this.visibleItems[S].hide());this.itemSet.options.cluster&&xt(oe).call(oe,this.items,S=>{S.cluster&&S.displayed&&S.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,r){e=oe.updateProperty(this,"height",r)||e;const i=this.dom.inner.clientWidth,s=this.dom.inner.clientHeight;return e=oe.updateProperty(this.props.label,"width",i)||e,e=oe.updateProperty(this.props.label,"height",s)||e,e}_applyGroupHeight(e){this.dom.background.style.height="".concat(e,"px"),this.dom.foreground.style.height="".concat(e,"px"),this.dom.label.style.height="".concat(e,"px")}_updateItemsVerticalPosition(e){for(let r=0,i=this.visibleItems.length;r<i;r++){const s=this.visibleItems[r];s.repositionY(e),!this.isVisible&&this.groupId!=die.BACKGROUND&&s.displayed&&s.hide()}}redraw(e,r,i,s){var o,a,l,c,u;let d=!1;const h=this.isVisible;let f;const p=[()=>{i=this._didMarkerHeightChange.call(this)||i},Ue(o=this._updateSubGroupHeights).call(o,this,r),Ue(a=this._calculateGroupSizeAndPosition).call(a,this),()=>{var m;this.isVisible=Ue(m=this._isGroupVisible).call(m,this)(e,r)},()=>{var m;Ue(m=this._redrawItems).call(m,this)(i,h,r,e)},Ue(l=this._updateSubgroupsSizes).call(l,this),()=>{var m;f=this.height=Ue(m=this._calculateHeight).call(m,this)(r)},Ue(c=this._calculateGroupSizeAndPosition).call(c,this),()=>{var m;d=Ue(m=this._didResize).call(m,this)(d,f)},()=>{var m;Ue(m=this._applyGroupHeight).call(m,this)(f)},()=>{var m;Ue(m=this._updateItemsVerticalPosition).call(m,this)(r)},Ue(u=()=>(!this.isVisible&&this.height&&(d=!1),d)).call(u,this)];if(s)return p;{let m;return xt(p).call(p,b=>{m=b()}),m}}_updateSubGroupHeights(e){if(Qr(this.subgroups).length>0){const r=this;this._resetSubgroups(),xt(oe).call(oe,this.visibleItems,i=>{i.data.subgroup!==void 0&&(r.subgroups[i.data.subgroup].height=Math.max(r.subgroups[i.data.subgroup].height,i.height+e.item.vertical),r.subgroups[i.data.subgroup].visible=typeof this.subgroupVisibility[i.data.subgroup]>"u"?!0:!!this.subgroupVisibility[i.data.subgroup])})}}_isGroupVisible(e,r){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+r.axis&&this.top+this.height+r.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let r,i;if(this.heightMode==="fixed"?i=oe.toArray(this.items):i=this.visibleItems,!this.isVisible&&this.height)r=Math.max(this.height,this.props.label.height);else if(i.length>0){let s=i[0].top,o=i[0].top+i[0].height;if(xt(oe).call(oe,i,a=>{s=Math.min(s,a.top),o=Math.max(o,a.top+a.height)}),s>e.axis){const a=s-e.axis;o-=a,xt(oe).call(oe,i,l=>{l.top-=a})}r=Math.ceil(o+e.item.vertical/2),this.heightMode!=="fitItems"&&(r=Math.max(r,this.props.label.height))}else r=this.props.label.height;return r}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const r=this.dom.foreground;r.parentNode&&r.parentNode.removeChild(r);const i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);const s=this.dom.axis;s.parentNode&&s.parentNode.removeChild(s)}add(e){var r;if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!M0(r=this.visibleItems).call(r,e)){const i=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,i)}}_addToSubgroup(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;r!=null&&this.subgroups[r]===void 0&&(this.subgroups[r]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[r]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[r].start)&&(this.subgroups[r].start=e.data.start);const i=e.data.end||e.data.start;new Date(i)>new Date(this.subgroups[r].end)&&(this.subgroups[r].end=i),this.subgroups[r].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const i in e.subgroups){var r;if(!Object.prototype.hasOwnProperty.call(e.subgroups,i))continue;const s=e.subgroups[i].items[0].data.end||e.subgroups[i].items[0].data.start;let o=e.subgroups[i].items[0].data.start,a=s-1;xt(r=e.subgroups[i].items).call(r,l=>{new Date(l.data.start)<new Date(o)&&(o=l.data.start);const c=l.data.end||l.data.start;new Date(c)>new Date(a)&&(a=c)}),e.subgroups[i].start=o,e.subgroups[i].end=new Date(a-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const r in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,r)&&e.push({subgroup:r,sortField:this.subgroups[r].items[0].data[this.subgroupOrderer]});Nr(e).call(e,(r,i)=>r.sortField-i.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const r in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,r)&&e.push(this.subgroups[r].items[0].data);Nr(e).call(e,this.subgroupOrderer)}if(e.length>0)for(let r=0;r<e.length;r++)this.subgroups[e[r].subgroup].index=r}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){var r,i;delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const s=Fn(r=this.visibleItems).call(r,e);s!=-1&&cs(i=this.visibleItems).call(i,s,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;if(r!=null){const o=this.subgroups[r];if(o){var i;const a=Fn(i=o.items).call(i,e);if(a>=0){var s;cs(s=o.items).call(s,a,1),o.items.length?this._updateSubgroupsSizes():delete this.subgroups[r]}}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=oe.toArray(this.items),r=[],i=[];for(let s=0;s<e.length;s++)e[s].data.end!==void 0&&i.push(e[s]),r.push(e[s]);this.orderedItems={byStart:r,byEnd:i},Zlt(this.orderedItems.byStart),ect(this.orderedItems.byEnd)}_updateItemsInRange(e,r,i){const s=[],o={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=die.BACKGROUND){for(let y=0;y<r.length;y++){var a=r[y];a.displayed&&a.hide()}return s}const l=(i.end-i.start)/4,c=i.start-l,u=i.end+l,d=y=>y<c?-1:y<=u?0:1,h=y=>{const{start:v,end:w}=y;return w<c?-1:v<=u?0:1};if(r.length>0)for(let y=0;y<r.length;y++)this._checkIfVisibleWithReference(r[y],s,o,i);const f=oe.binarySearchCustom(e.byStart,d,"data","start");if(this._traceVisible(f,e.byStart,s,o,y=>y.data.start<c||y.data.start>u),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let y=0;y<e.byEnd.length;y++)this._checkIfVisibleWithReference(e.byEnd[y],s,o,i)}else{const y=oe.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(y,e.byEnd,s,o,v=>v.data.end<c||v.data.start>u)}this._sortVisibleItems(e.byStart,s,o);const p={};let m=0;for(let y=0;y<s.length;y++){const v=s[y];v.displayed||(p[y]=v.redraw(!0),m=p[y].length)}if(m>0)for(let y=0;y<m;y++)xt(oe).call(oe,p,v=>{v[y]()});for(let y=0;y<s.length;y++)s[y].repositionX();return s}_traceVisible(e,r,i,s,o){if(e!=-1){for(let a=e;a>=0;a--){let l=r[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&s[l.id]===void 0&&(s[l.id]=!0,i.unshift(l))}for(let a=e+1;a<r.length;a++){let l=r[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&s[l.id]===void 0&&(s[l.id]=!0,i.push(l))}}}_sortVisibleItems(e,r,i){r.length=0;for(let s=0;s<e.length;s++){let o=e[s];i[o.id]&&r.push(o)}}_checkIfVisible(e,r,i){e.isVisible(i)?(e.displayed||e.show(),e.repositionX(),r.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,r,i,s){e.isVisible(s)?i[e.id]===void 0&&(i[e.id]=!0,r.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,r,i){const s=[],o={};if(r.length>0)for(let d=0;d<r.length;d++)this._checkIfVisibleWithReference(r[d],s,o,i);for(let d=0;d<e.byStart.length;d++)this._checkIfVisibleWithReference(e.byStart[d],s,o,i);for(let d=0;d<e.byEnd.length;d++)this._checkIfVisibleWithReference(e.byEnd[d],s,o,i);const a={};let l=0;for(let d=0;d<s.length;d++){const h=s[d];h.displayed||(a[d]=h.redraw(!0),l=a[d].length)}if(l>0)for(var u=0;u<l;u++)xt(oe).call(oe,a,function(d){d[u]()});for(let d=0;d<s.length;d++)s[d].repositionX();return s}changeSubgroup(e,r,i){this._removeFromSubgroup(e,r),this._addToSubgroup(e,i),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}};class fye extends xN{constructor(e,r,i){super(e,r,i),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,r){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let s=0,o=this.visibleItems.length;s<o;s++)this.visibleItems[s].repositionY(r);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class Sb{constructor(e,r,i){var s;this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=r||{},this.defaultOptions={locales:L0,locale:"en"},this.options=oe.extend({},this.defaultOptions,i),this.options.locales=oe.extend({},L0,this.options.locales);const o=this.defaultOptions.locales[this.defaultOptions.locale];xt(s=Qr(this.options.locales)).call(s,a=>{this.options.locales[a]=oe.extend({},o,this.options.locales[a])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=i&&i.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var e,r;const i=this,s=document.createElement("div");s.className="vis-drag-center",s.dragCenterItem=this,this.hammerDragCenter=new ls(s),this.hammerDragCenter.on("tap",o=>{i.parent.itemSet.body.emitter.emit("click",{event:o,item:i.id})}),this.hammerDragCenter.on("doubletap",o=>{o.stopPropagation(),i.parent.itemSet._onUpdateItem(i),i.parent.itemSet.body.emitter.emit("doubleClick",{event:o,item:i.id})}),this.hammerDragCenter.on("panstart",o=>{o.stopPropagation(),i.parent.itemSet._onDragStart(o)}),this.hammerDragCenter.on("panmove",Ue(e=i.parent.itemSet._onDrag).call(e,i.parent.itemSet)),this.hammerDragCenter.on("panend",Ue(r=i.parent.itemSet._onDragEnd).call(r,i.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(s,this.dom.dragLeft):this.dom.box.appendChild(s):this.dom.point&&this.dom.point.appendChild(s),this.dom.dragCenter=s}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const r=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&r&&!this.dom.deleteButton){const i=this,s=document.createElement("div");this.options.rtl?s.className="vis-delete-rtl":s.className="vis-delete";let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),o=this.options.locales.en),s.title=o.deleteSelected,this.hammerDeleteButton=new ls(s).on("tap",a=>{a.stopPropagation(),i.parent.removeFromDataSet(i)}),e.appendChild(s),this.dom.deleteButton=s}else(!this.selected||!r)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const r=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&r&&!this.dom.onItemUpdateTimeTooltip){const s=document.createElement("div");s.className="vis-onUpdateTime-tooltip",e.appendChild(s),this.dom.onItemUpdateTimeTooltip=s}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const s=50,o=this.parent.itemSet.body.domProps.scrollTop;let a;this.options.orientation.item=="top"?a=this.top:a=this.parent.height-this.top-this.height,a+this.parent.top-s<-o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px"));let c,u;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){var i;u=Ue(i=this.options.tooltipOnItemUpdateTime.template).call(i,this),c=u(this.data)}else c="start: ".concat(us(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(c+="<br> end: ".concat(us(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=oe.xss(c)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let r,i,s,o,a;const l=this._getItemData(),u=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){var d;a=Ue(d=this.options.visibleFrameTemplate).call(d,this),o=oe.xss(a(l,u))}else o="";if(u){if(o instanceof Object&&!(o instanceof Element))a(l,u);else if(i=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o),i){if(o instanceof Element)u.innerHTML="",u.appendChild(o);else if(o!=null)u.innerHTML=oe.xss(o);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=o}}if(this.options.template){var h;s=Ue(h=this.options.template).call(h,this),r=s(l,e,this.data)}else r=this.data.content;if(r instanceof Object&&!(r instanceof Element))s(l,e);else if(i=this._contentToString(this.content)!==this._contentToString(r),i){if(r instanceof Element)e.innerHTML="",e.appendChild(r);else if(r!=null)e.innerHTML=oe.xss(r);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.content=r}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let r=[];if(an(this.options.dataAttributes))r=this.options.dataAttributes;else if(this.options.dataAttributes=="all")r=Qr(this.data);else return;for(const i of r){const s=this.data[i];s!=null?e.setAttribute("data-".concat(i),s):e.removeAttribute("data-".concat(i))}}}_updateStyle(e){this.style&&(oe.removeCssText(e,this.style),this.style=null),this.data.style&&(oe.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},oe.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},oe.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){var e;return Ue(e=this.options.tooltip.template).call(e,this)(this._getItemData(),this.data)}return this.data.title}}Sb.prototype.stack=!0;class lct extends Sb{constructor(e,r,i){if(super(e,r,i),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;let r;const i=this.data.align||this.options.align,s=this.width*e.getMillisecondsPerPixel();return i=="right"?r=this.data.start.getTime()>e.start&&this.data.start.getTime()-s<e.end:i=="left"?r=this.data.start.getTime()+s>e.start&&this.data.start.getTime()<e.end:r=this.data.start.getTime()+s/2>e.start&&this.data.start.getTime()-s/2<e.end,r}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const r=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(r),this.dom.line.className="vis-item vis-line".concat(r),this.dom.dot.className="vis-item vis-dot".concat(r)}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){var r,i,s,o;let a;const l=[Ue(r=this._createDomElement).call(r,this),Ue(i=this._appendDomElement).call(i,this),Ue(s=this._updateDirtyDomComponents).call(s,this),()=>{this.dirty&&(a=this._getDomComponentsSizes())},()=>{if(this.dirty){var c;Ue(c=this._updateDomComponentsSizes).call(c,this)(a)}},Ue(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return xt(l).call(l,u=>{c=u()}),c}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,r=function(i,s,o){var a;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(s===void 0&&o===void 0)return;const c=l?s*-1:s;if(o===void 0){i.style.transform="translateX(".concat(c,"px)");return}if(s===void 0){i.style.transform="translateY(".concat(o,"px)");return}i.style.transform=Mr(a="translate(".concat(c,"px, ")).call(a,o,"px)")};r(this.dom.box,this.boxX,this.boxY,e),r(this.dom.dot,this.dotX,this.dotY,e),r(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),r=this.data.align===void 0?this.options.align:this.data.align,i=this.props.line.width,s=this.props.dot.width;r=="right"?(this.boxX=e-this.width,this.lineX=e-i,this.dotX=e-i/2-s/2):r=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+i/2-s/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-i:e-i/2,this.dotX=e-s/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,r=this.dom.line.style;if(e=="top"){const i=this.parent.top+this.top+1;this.boxY=this.top||0,r.height="".concat(i,"px"),r.bottom="",r.top="0"}else{const s=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),r.height="".concat(s,"px"),r.top="",r.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class cct extends Sb{constructor(e,r,i){if(super(e,r,i),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;const r=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+r>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(r),this.dom.dot.className="vis-item vis-dot".concat(r)}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");const r=this.props.dot.width,i=this.options.rtl?r/2:r/2*-1;this.dom.dot.style.transform="translateX(".concat(i,"px"),this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){var r,i,s,o;let a;const l=[Ue(r=this._createDomElement).call(r,this),Ue(i=this._appendDomElement).call(i,this),Ue(s=this._updateDirtyDomComponents).call(s,this),()=>{this.dirty&&(a=this._getDomComponentsSizes())},()=>{if(this.dirty){var c;Ue(c=this._updateDomComponentsSizes).call(c,this)(a)}},Ue(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return xt(l).call(l,u=>{c=u()}),c}}repositionXY(){const e=this.options.rtl;(function(i,s,o){var a;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(s===void 0&&o===void 0)return;const c=l?s*-1:s;if(o===void 0){i.style.transform="translateX(".concat(c,"px)");return}if(s===void 0){i.style.transform="translateY(".concat(o,"px)");return}i.style.transform=Mr(a="translate(".concat(c,"px, ")).call(a,o,"px)")})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class fp extends Sb{constructor(e,r,i){if(super(e,r,i),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+r,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){var r,i,s,o;let a;const l=[Ue(r=this._createDomElement).call(r,this),Ue(i=this._appendDomElement).call(i,this),Ue(s=this._updateDirtyDomComponents).call(s,this),()=>{if(this.dirty){var c;a=Ue(c=this._getDomComponentsSizes).call(c,this)()}},()=>{if(this.dirty){var c;Ue(c=this._updateDomComponentsSizes).call(c,this)(a)}},Ue(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return xt(l).call(l,u=>{c=u()}),c}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const r=this.parent.width;let i=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end);const o=this.data.align===void 0?this.options.align:this.data.align;let a,l;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(i<-r&&(i=-r),s>2*r&&(s=2*r));const c=Math.max(Math.round((s-i)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=i:this.left=i,this.width=c+this.props.content.width,l=this.props.content.width):(this.options.rtl?this.right=i:this.left=i,this.width=c,l=Math.min(s-i,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(this.right*-1,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(c,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const u=Math.max(c-l,0)*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(c-l,0),"px)");break;case"center":if(this.options.rtl){const u=Math.max((c-l)/2,0)*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((c-l)/2,0),"px)");break;default:if(this.overflow?s>0?a=Math.max(-i,0):a=-l:i<0?a=-i:a=0,this.options.rtl){const u=a*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(a,"px)")}}repositionY(){const e=this.options.orientation.item,r=this.dom.box;e=="top"?r.style.top="".concat(this.top,"px"):r.style.top="".concat(this.parent.height-this.top-this.height,"px")}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}fp.prototype.baseClassName="vis-item vis-range";class Rp extends Sb{constructor(e,r,i){if(super(e,r,i),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){var r,i,s,o;let a;const l=[Ue(r=this._createDomElement).call(r,this),Ue(i=this._appendDomElement).call(i,this),Ue(s=this._updateDirtyDomComponents).call(s,this),()=>{if(this.dirty){var c;a=Ue(c=this._getDomComponentsSizes).call(c,this)()}},()=>{if(this.dirty){var c;Ue(c=this._updateDomComponentsSizes).call(c,this)(a)}},Ue(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return xt(l).call(l,u=>{c=u()}),c}}repositionY(){let e;const r=this.options.orientation.item;if(this.data.subgroup!==void 0){const i=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[i].height,"px"),r=="top"?this.dom.box.style.top="".concat(this.parent.top+this.parent.subgroups[i].top,"px"):this.dom.box.style.top="".concat(this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof fye?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=r=="bottom"?"0":"",this.dom.box.style.top=r=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(e,"px")}}Rp.prototype.baseClassName="vis-item vis-background";Rp.prototype.stack=!1;Rp.prototype.show=fp.prototype.show;Rp.prototype.hide=fp.prototype.hide;Rp.prototype.repositionX=fp.prototype.repositionX;class uct{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=co(e),this.y=co(r)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=oe.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var r=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,a=0,l=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let c=!1,u=!0;this.overflowMethod=="flip"&&(this.y-r<this.padding&&(u=!1),this.x+i>o-this.padding&&(c=!0)),c?a=this.x-i:a=this.x,u?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}var hie={},fie;function dct(){if(fie)return hie;fie=1;var n=Bt(),e=dh().every,r=xb(),i=r("every");return n({target:"Array",proto:!0,forced:!i},{every:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),hie}var AD,pie;function hct(){if(pie)return AD;pie=1,dct();var n=Ar();return AD=n("Array","every"),AD}var TD,mie;function fct(){if(mie)return TD;mie=1;var n=nr(),e=hct(),r=Array.prototype;return TD=function(i){var s=i.every;return i===r||n(r,i)&&s===r.every?e:s},TD}var PD,gie;function pct(){if(gie)return PD;gie=1;var n=fct();return PD=n,PD}var ID,bie;function mct(){return bie||(bie=1,ID=pct()),ID}var gct=mct(),bct=zt(gct);class i6 extends Sb{constructor(e,r,i){const s=yu({},{fitOnDoubleClick:!0},i,{editable:!1});if(super(e,r,s),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=Bf(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const r=this.data.end?this.data.end-this.data.start:0,i=this.width*e.getMillisecondsPerPixel(),s=Math.max(this.data.start.getTime()+r,this.data.start.getTime()+i);return this.data.start<e.end&&s>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var r,i,s,o,a,l,c,u=[Ue(r=this._createDomElement).call(r,this),Ue(i=this._appendDomElement).call(i,this),Ue(s=this._updateDirtyDomComponents).call(s,this),Ue(o=function(){this.dirty&&(c=this._getDomComponentsSizes())}).call(o,this),Ue(a=function(){if(this.dirty){var h;Ue(h=this._updateDomComponentsSizes).call(h,this)(c)}}).call(a,this),Ue(l=this._repaintDomAdditionals).call(l,this)];if(e)return u;var d;return xt(u).call(u,function(h){d=h()}),d}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),r=this.data.end?this.conversion.toScreen(this.data.end):0;if(r)this.repositionXWithRanges(e,r);else{let i=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,i)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,r))}repositionStype(e,r){this.dom.line.style.display="block",this.dom.dot.style.display="block";const i=this.dom.line.offsetWidth,s=this.dom.dot.offsetWidth;if(r){const o=i+e+(r-e)/2,a=o-s/2,l=this.options.rtl?o*-1:o,c=this.options.rtl?a*-1:a;this.dom.line.style.transform="translateX(".concat(l,"px)"),this.dom.dot.style.transform="translateX(".concat(c,"px)")}else{const o=this.options.rtl?e*-1:e,a=this.options.rtl?(e-s/2)*-1:e-s/2;this.dom.line.style.transform="translateX(".concat(o,"px)"),this.dom.dot.style.transform="translateX(".concat(a,"px)")}}repositionXWithoutRanges(e,r){r=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):r=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,r){let i=Math.round(Math.max(r-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(i,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=i+"px"}repositionY(){var e=this.options.orientation.item,r=this.dom.box;if(e=="top"?r.style.top=(this.top||0)+"px":r.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var i=this.parent.itemSet.props.height,s=i-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=i-s+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){var e;for(let r of this.data.uiItems)r.cluster=this;this.data.items=In(e=this.data.uiItems).call(e,r=>r.data),this.attached=!0,this.dirty=!0}detach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.hasItems()){for(let r of this.data.uiItems)delete r.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){var e,r,i;const s=In(e=this.data.uiItems).call(e,l=>({start:l.data.start.valueOf(),end:l.data.end?l.data.end.valueOf():l.data.start.valueOf()}));this.data.min=Math.min(...In(s).call(s,l=>Math.min(l.start,l.end||l.start))),this.data.max=Math.max(...In(s).call(s,l=>Math.max(l.start,l.end||l.start)));const o=In(r=this.data.uiItems).call(r,l=>l.center),a=e6(o).call(o,(l,c)=>l+c,0)/this.data.uiItems.length;vL(i=this.data.uiItems).call(i,l=>l.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(a),this.data.end=null)}_getUiItems(){if(this.data.uiItems&&this.data.uiItems.length){var e;return qt(e=this.data.uiItems).call(e,r=>r.cluster===this)}return[]}_createDomElement(){if(!this.dom){if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick){var e;this.dom.box.ondblclick=Ue(e=i6.prototype._onDoubleClick).call(e,this)}this.dom.box["vis-item"]=this,this.dirty=!0}}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const i=this.parent.dom.foreground;if(!i)throw new Error("Cannot redraw item: parent has no foreground container element");i.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var r=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:r}=this._getFitRange(),i={start:new Date(e),end:new Date(r),animation:!0};this.emitter.emit("fit",i)}}_getItemData(){return this.data}}i6.prototype.baseClassName="vis-item vis-range vis-cluster";const yct="__ungrouped__",vct={UNGROUPED:yct};class wct{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,r,i){return new i6(e,r,i)}setItems(e,r){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,r&&r.applyOnChangedLevel&&(this.applyOnChangedLevel=r.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,r,i){let{maxItems:s,clusterCriteria:o}=typeof i=="boolean"?{}:i;o||(o=()=>!0),s=s||1;let a=-1,l=2,c=0;if(r>0){if(r>=1)return[];a=Math.abs(Math.round(Math.log(100/r)/Math.log(l))),c=Math.abs(Math.pow(l,a))}if(this.dataChanged){const d=a!=this.cacheLevel;(this.applyOnChangedLevel?d:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=a;let u=this.cache[a];if(!u){u=[];for(let d in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,d))continue;const h=this.groups[d],f=h.length;let p=0;for(;p<f;){let m=h[p],b=1,y=p-1;for(;y>=0&&m.center-h[y].center<c/2;)!h[y].cluster&&o(m.data,h[y].data)&&b++,y--;let v=p+1;for(;v<h.length&&h[v].center-m.center<c/2;)o(m.data,h[v].data)&&b++,v++;let w=u.length-1;for(;w>=0&&m.center-u[w].center<c;)m.group==u[w].group&&o(m.data,u[w].data)&&b++,w--;if(b>s){const _=b-s+1,x=[];let S=p;for(;x.length<_&&S<h.length;)o(h[p].data,h[S].data)&&x.push(h[S]),S++;const C=this.itemSet.getGroupId(m.data),E=this.itemSet.groups[C]||this.itemSet.groups[vct.UNGROUPED];let A=this._getClusterForItems(x,E,e,i);u.push(A),p+=_}else delete m.cluster,p+=1}}this.cache[a]=u}return u}_filterData(){const e={};this.groups=e;for(const i of JB(this.items)){const s=i.parent?i.parent.groupId:"";let o=e[s];o||(o=[],e[s]=o),o.push(i),i.data.start&&(i.data.end?i.center=(i.data.start.valueOf()+i.data.end.valueOf())/2:i.center=i.data.start.valueOf())}for(let i in e){var r;Object.prototype.hasOwnProperty.call(e,i)&&Nr(r=e[i]).call(r,(s,o)=>s.center-o.center)}this.dataChanged=!1}_getClusterForItems(e,r,i,s){var o;const a=In(o=i||[]).call(o,m=>{var b;return{cluster:m,itemsIds:new Gd(In(b=m.data.uiItems).call(b,y=>y.id))}});let l;if(a.length){for(let m of a)if(m.itemsIds.size===e.length&&bct(e).call(e,b=>m.itemsIds.has(b.id))){l=m.cluster;break}}if(l)return l.setUiItems(e),l.group!==r&&(l.group&&l.group.remove(l),r&&(r.add(l),l.group=r)),l;let c=s.titleTemplate||"";const u={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},d=c.replace(/{count}/,e.length),h='<div title="'+d+'">'+e.length+"</div>",f=yu({},s,this.itemSet.options),p={content:h,title:d,group:r,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return l=this.createClusterItem(p,u,f),r&&(r.add(l),l.group=r),l.attach(),l}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const um="__ungrouped__",Qu="__background__";class pp extends ph{constructor(e,r){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(s,o){const a=o.order;o.order=s.order,s.order=a},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:hp.snap,onDropObjectOnItem(s,o,a){a(o)},onAdd(s,o){o(s)},onUpdate(s,o){o(s)},onMove(s,o){o(s)},onRemove(s,o){o(s)},onMoving(s,o){o(s)},onAddGroup(s,o){o(s)},onMoveGroup(s,o){o(s)},onRemoveGroup(s,o){o(s)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=oe.extend({},this.defaultOptions),this.options.rtl=r.rtl,this.options.onTimeout=r.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const i=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(s,o){i._onAdd(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},update(s,o){i._onUpdate(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},remove(s,o){i._onRemove(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()}},this.groupListeners={add(s,o,a){if(i._onAddGroups(o.items),i.groupsData&&i.groupsData.length>0){var l;const c=i.groupsData.getDataSet();xt(l=c.get()).call(l,u=>{if(u.nestedGroups){var d;u.showNested!=!1&&(u.showNested=!0);let h=[];xt(d=u.nestedGroups).call(d,f=>{const p=c.get(f);p&&(p.nestedInGroup=u.id,u.showNested==!1&&(p.visible=!1),h=Mr(h).call(h,p))}),c.update(h,a)}})}},update(s,o){i._onUpdateGroups(o.items)},remove(s,o){i._onRemoveGroups(o.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(r),this.clusters=[]}_create(){var e,r,i,s,o,a,l,c,u,d,h,f,p,m,b;const y=document.createElement("div");y.className="vis-itemset",y["vis-itemset"]=this,this.dom.frame=y;const v=document.createElement("div");v.className="vis-background",y.appendChild(v),this.dom.background=v;const w=document.createElement("div");w.className="vis-foreground",y.appendChild(w),this.dom.foreground=w;const _=document.createElement("div");_.className="vis-axis",this.dom.axis=_;const x=document.createElement("div");x.className="vis-labelset",this.dom.labelSet=x,this._updateUngrouped();const S=new fye(Qu,null,this);S.show(),this.groups[Qu]=S,this.hammer=new ls(this.body.dom.centerContainer),this.hammer.on("hammer.input",C=>{C.isFirst&&this._onTouch(C)}),this.hammer.on("panstart",Ue(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",Ue(r=this._onDrag).call(r,this)),this.hammer.on("panend",Ue(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:ls.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",Ue(s=this._onSelectItem).call(s,this)),this.hammer.on("press",Ue(o=this._onMultiSelectItem).call(o,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",Ue(a=this._onAddItem).call(a,this)),this.options.rtl?this.groupHammer=new ls(this.body.dom.rightContainer):this.groupHammer=new ls(this.body.dom.leftContainer),this.groupHammer.on("tap",Ue(l=this._onGroupClick).call(l,this)),this.groupHammer.on("panstart",Ue(c=this._onGroupDragStart).call(c,this)),this.groupHammer.on("panmove",Ue(u=this._onGroupDrag).call(u,this)),this.groupHammer.on("panend",Ue(d=this._onGroupDragEnd).call(d,this)),this.groupHammer.get("pan").set({threshold:5,direction:ls.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",Ue(h=this._onMouseOver).call(h,this)),this.body.dom.centerContainer.addEventListener("mouseout",Ue(f=this._onMouseOut).call(f,this)),this.body.dom.centerContainer.addEventListener("mousemove",Ue(p=this._onMouseMove).call(p,this)),this.body.dom.centerContainer.addEventListener("contextmenu",Ue(m=this._onDragEnd).call(m,this)),this.body.dom.centerContainer.addEventListener("mousewheel",Ue(b=this._onMouseWheel).call(b,this)),this.show()}setOptions(e){if(e){var r,i;const s=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];oe.selectiveExtend(s,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(oe.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(oe.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&oe.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),xt(r=["locale","locales"]).call(r,a=>{a in e&&(this.options[a]=e[a])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&oe.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&oe.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const o=a=>{const l=e[a];if(l){if(typeof l!="function"){var c;throw new Error(Mr(c="option ".concat(a," must be a function ")).call(c,a,"(item, callback)"))}this.options[a]=l}};xt(i=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(i,o),e.cluster?(yu(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new wct(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&xt(oe).call(oe,this.items,r=>{r.dirty=!0,r.displayed&&r.redraw()}),e.restackGroups&&xt(oe).call(oe,this.groups,(r,i)=>{i!==Qu&&(r.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const r=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=Hi(function(){e.show()},r)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){var r;e==null&&(e=[]),an(e)||(e=[e]);const i=qt(r=this.selection).call(r,s=>Fn(e).call(e,s)===-1);for(let s of i){const o=this.getItemById(s);o&&o.unselect()}this.selection=[...e];for(let s of e){const o=this.getItemById(s);o&&o.select()}}getSelection(){var e;return Mr(e=this.selection).call(e,[])}getVisibleItems(){const e=this.body.range.getRange();let r,i;this.options.rtl?(r=this.body.util.toScreen(e.start),i=this.body.util.toScreen(e.end)):(i=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end));const s=[];for(const o in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,o))continue;const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const c of l)this.options.rtl?c.right<i&&c.right+c.width>r&&s.push(c.id):c.left<r&&c.left+c.width>i&&s.push(c.id)}return s}getItemsAtCurrentTime(e){let r,i;this.options.rtl?(r=this.body.util.toScreen(e),i=this.body.util.toScreen(e)):(i=this.body.util.toScreen(e),r=this.body.util.toScreen(e));const s=[];for(const o in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,o))continue;const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const c of l)this.options.rtl?c.right<i&&c.right+c.width>r&&s.push(c.id):c.left<r&&c.left+c.width>i&&s.push(c.id)}return s}getVisibleGroups(){const e=[];for(const r in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,r))continue;this.groups[r].isVisible&&e.push(r)}return e}getItemById(e){var r;return this.items[e]||Jlt(r=this.clusters).call(r,i=>i.id===e)}_deselect(e){const r=this.selection;for(let i=0,s=r.length;i<s;i++)if(r[i]==e){cs(r).call(r,i,1);break}}redraw(){const e=this.options.margin,r=this.body.range,i=oe.option.asSize,s=this.options,o=s.orientation.item;let a=!1;const l=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,l.className="vis-itemset",this.options.cluster&&this._clusterItems(),a=this._orderGroups()||a;const c=r.end-r.start,u=c!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,d=r.start!=this.lastRangeStart,h=s.stack!=this.lastStack,f=s.stackSubgroups!=this.lastStackSubgroups,p=u||d||h||f;this.lastVisibleInterval=c,this.lastRangeStart=r.start,this.lastStack=s.stack,this.lastStackSubgroups=s.stackSubgroups,this.props.lastWidth=this.props.width;const m=this._firstGroup(),b={item:e.item,axis:e.axis},y={item:e.item,axis:e.item.vertical/2};let v=0;const w=e.axis+e.item.vertical;this.groups[Qu].redraw(r,y,p);const _={};let x=0;if(xt(oe).call(oe,this.groups,(C,E)=>{if(E===Qu)return;const A=C==m?b:y,M=!0;_[E]=C.redraw(r,A,p,M),x=_[E].length}),x>0){const C={};for(let E=0;E<x;E++)xt(oe).call(oe,_,(A,M)=>{C[M]=A[E]()});xt(oe).call(oe,this.groups,(E,A)=>{if(A===Qu)return;a=C[A]||a,v+=E.height}),v=Math.max(v,w)}return v=Math.max(v,w),l.style.height=i(v),this.props.width=l.offsetWidth,this.props.height=v,this.dom.axis.style.top=i(o=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,a=this._isResized()||a,a}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,r=this.groupIds[e];return this.groups[r]||this.groups[um]||null}_updateUngrouped(){let e=this.groups[um],r,i;if(this.groupsData){if(e){e.dispose(),delete this.groups[um];for(i in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,i))continue;r=this.items[i],r.parent&&r.parent.remove(r);const s=this.getGroupId(r.data),o=this.groups[s];o&&o.add(r)||r.hide()}}}else if(!e){e=new xN(null,null,this),this.groups[um]=e;for(i in this.items)Object.prototype.hasOwnProperty.call(this.items,i)&&(r=this.items[i],e.add(r));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const r=this;let i;const s=this.itemsData;if(!e)this.itemsData=null;else if(vu(e))this.itemsData=B0(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(s&&(xt(oe).call(oe,this.itemListeners,(o,a)=>{s.off(a,o)}),s.dispose(),i=s.getIds(),this._onRemove(i)),this.itemsData){const o=this.id;xt(oe).call(oe,this.itemListeners,(a,l)=>{r.itemsData.on(l,a,o)}),i=this.itemsData.getIds(),this._onAdd(i),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const r=this;let i;if(this.groupsData&&(xt(oe).call(oe,this.groupListeners,(o,a)=>{r.groupsData.off(a,o)}),i=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(i)),!e)this.groupsData=null;else if(vu(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var s;const o=this.groupsData.getDataSet();xt(s=o.get()).call(s,l=>{if(l.nestedGroups){var c;xt(c=l.nestedGroups).call(c,u=>{const d=o.get(u);d.nestedInGroup=l.id,l.showNested==!1&&(d.visible=!1),o.update(d)})}});const a=this.id;xt(oe).call(oe,this.groupListeners,(l,c)=>{r.groupsData.on(c,l,a)}),i=this.groupsData.getIds(),this._onAddGroups(i)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const r=this.itemsData.get(e);r&&this.options.onRemove(r,i=>{i&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?Qu:this.groupsData?e.group:um}_onUpdate(e){const r=this;xt(e).call(e,i=>{const s=r.itemsData.get(i);let o=r.items[i];const a=s?r._getType(s):null,l=pp.types[a];let c;if(o&&(!l||!(o instanceof l)?(c=o.selected,r._removeItem(o),o=null):r._updateItem(o,s)),!o&&s)if(l)o=new l(s,r.conversion,r.options),o.id=i,r._addItem(o),c&&(this.selection.push(i),o.select());else throw new TypeError('Unknown item type "'.concat(a,'"'))}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let r=0;const i=this;xt(e).call(e,s=>{const o=i.items[s];o&&(r++,i._removeItem(o))}),r&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){xt(oe).call(oe,this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const r=this;xt(e).call(e,i=>{const s=r.groupsData.get(i);let o=r.groups[i];if(o)o.setData(s);else{if(i==um||i==Qu)throw new Error("Illegal group id. ".concat(i," is a reserved id."));const a=Xx(r.options);oe.extend(a,{height:null}),o=new xN(i,s,r),r.groups[i]=o;for(const l in r.items){if(!Object.prototype.hasOwnProperty.call(r.items,l))continue;const c=r.items[l];c.data.group==i&&o.add(c)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){xt(e).call(e,r=>{const i=this.groups[r];i&&(i.dispose(),delete this.groups[r])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const r=!oe.equalArray(e,this.groupIds);if(r){const i=this.groups;xt(e).call(e,s=>{i[s].hide()}),xt(e).call(e,s=>{i[s].show()}),this.groupIds=e}return r}else return!1}_orderNestedGroups(e){function r(s,o){let a=[];return xt(o).call(o,l=>{if(a.push(l),s.groupsData.get(l).nestedGroups){var u;const d=In(u=s.groupsData.get({filter(h){return h.nestedInGroup==l},order:s.options.groupOrder})).call(u,h=>h.id);a=Mr(a).call(a,r(s,d))}}),a}const i=qt(e).call(e,s=>!this.groupsData.get(s).nestedInGroup);return r(this,i)}_addItem(e){this.items[e.id]=e;const r=this.getGroupId(e.data),i=this.groups[r];i?i&&i.data&&i.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,i&&i.add(e)}_updateItem(e,r){e.setData(r);const i=this.getGroupId(e.data),s=this.groups[i];s?s&&s.data&&s.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){var r,i;e.hide(),delete this.items[e.id];const s=Fn(r=this.selection).call(r,e.id);s!=-1&&cs(i=this.selection).call(i,s,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const r=[];for(let i=0;i<e.length;i++)e[i]instanceof fp&&r.push(e[i]);return r}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let r=0;r<this.groupIds.length;r++)if(e==this.groupIds[r])return r}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const r=this.touchParams.item||null,i=this;let s;if(r&&(r.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||r.editable!=null&&!r.editable.updateTime&&!r.editable.updateGroup&&!this.options.editable.overrideItems)return;const o=this.touchParams.dragLeftItem,a=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=r,o)s={item:o,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(r.data)},this.touchParams.itemProps=[s];else if(a)s={item:a,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(r.data)},this.touchParams.itemProps=[s];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const l=this._getGroupIndex(r.data.group),c=this.options.itemsAlwaysDraggable.item&&!r.selected?[r.id]:this.getSelection();this.touchParams.itemProps=In(c).call(c,u=>{const d=i.items[u],h=i._getGroupIndex(d.data.group);return{item:d,initialX:e.center.x,groupOffset:l-h,data:this._cloneItemData(d.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const r=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?i.right-e.center.x+10:e.center.x-i.left-10,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep(),c=r?r(o,a,l):o,d={type:"range",start:c,end:c,content:"new item"},h=Bf();d[this.itemsData.idProp]=h;const f=this.groupFromTarget(e);f&&(d.group=f.groupId);const p=new fp(d,this.conversion,this.options);p.id=h,p.data=this._cloneItemData(d),this._addItem(p),this.touchParams.selectedItem=p;const m={item:p,initialX:e.center.x,data:p.data};this.options.rtl?m.dragLeft=!0:m.dragRight=!0,this.touchParams.itemProps=[m],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const i=this.body.dom.centerContainer,s=i.getBoundingClientRect();this.popup.setPosition(e.center.x-s.left+i.offsetLeft,e.center.y-s.top+i.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var r;e.stopPropagation();const i=this,s=this.options.snap||null,o=this.body.dom.root.offsetLeft,a=this.options.rtl?o+this.body.domProps.right.width:o+this.body.domProps.left.width,l=this.body.util.getScale(),c=this.body.util.getStep(),u=this.touchParams.selectedItem,d=(this.options.editable.overrideItems||u.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&u.editable!=null&&u.editable.updateGroup;let h=null;if(d&&u&&u.data.group!=null){const f=i.groupFromTarget(e);f&&(h=this._getGroupIndex(f.groupId))}xt(r=this.touchParams.itemProps).call(r,f=>{const p=i.body.util.toTime(e.center.x-a),m=i.body.util.toTime(f.initialX-a);let b,y,v,w,_;this.options.rtl?b=-(p-m):b=p-m;let x=this._cloneItemData(f.item.data);if(f.item.editable!=null&&!f.item.editable.updateTime&&!f.item.editable.updateGroup&&!i.options.editable.overrideItems)return;if((this.options.editable.overrideItems||u.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&u.editable!=null&&u.editable.updateTime){if(f.dragLeft)this.options.rtl?x.end!=null&&(v=oe.convert(f.data.end,"Date"),_=new Date(v.valueOf()+b),x.end=s?s(_,l,c):_):x.start!=null&&(y=oe.convert(f.data.start,"Date"),w=new Date(y.valueOf()+b),x.start=s?s(w,l,c):w);else if(f.dragRight)this.options.rtl?x.start!=null&&(y=oe.convert(f.data.start,"Date"),w=new Date(y.valueOf()+b),x.start=s?s(w,l,c):w):x.end!=null&&(v=oe.convert(f.data.end,"Date"),_=new Date(v.valueOf()+b),x.end=s?s(_,l,c):_);else if(x.start!=null)if(y=oe.convert(f.data.start,"Date").valueOf(),w=new Date(y+b),x.end!=null){v=oe.convert(f.data.end,"Date");const C=v.valueOf()-y.valueOf();x.start=s?s(w,l,c):w,x.end=new Date(x.start.valueOf()+C)}else x.start=s?s(w,l,c):w}if(d&&!f.dragLeft&&!f.dragRight&&h!=null&&x.group!=null){let C=h-f.groupOffset;C=Math.max(0,C),C=Math.min(i.groupIds.length-1,C),x.group=i.groupIds[C]}x=this._cloneItemData(x),i.options.onMoving(x,C=>{C&&f.item.setData(this._cloneItemData(C,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,r){const i=this.groups[r];if(i&&i.groupId!=e.data.group){const s=e.parent;s.remove(e),s.order(),e.data.group=i.groupId,i.add(e),i.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const r=this,i=this.touchParams.itemProps;this.touchParams.itemProps=null,xt(i).call(i,s=>{const o=s.item.id;if(!(r.itemsData.get(o)!=null))r.options.onAdd(s.item.data,l=>{r._removeItem(s.item),l&&r.itemsData.add(l),r.body.emitter.emit("_change")});else{const l=this._cloneItemData(s.item.data);r.options.onMove(l,c=>{c?(c[this.itemsData.idProp]=o,this.itemsData.update(c)):(s.item.setData(s.data),r.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const r=this.groupFromTarget(e);Hi(()=>{this.toggleGroupShowNested(r)},1)}toggleGroupShowNested(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(!e||!e.nestedGroups)return;const i=this.groupsData.getDataSet();r!=null?e.showNested=!!r:e.showNested=!e.showNested;let s=i.get(e.groupId);s.showNested=e.showNested;let o=e.nestedGroups,a=o;for(;a.length>0;){let d=a;a=[];for(let h=0;h<d.length;h++){let f=i.get(d[h]);f.nestedGroups&&(a=Mr(a).call(a,f.nestedGroups))}a.length>0&&(o=Mr(o).call(o,a))}var l;if(s.showNested){var c=i.get(s.nestedGroups);for(let d=0;d<c.length;d++){let h=c[d];h.nestedGroups&&h.nestedGroups.length>0&&(h.showNested==null||h.showNested==!0)&&c.push(...i.get(h.nestedGroups))}l=In(c).call(c,function(d){return d.visible==null&&(d.visible=!0),d.visible=!!s.showNested,d})}else{var u;l=In(u=i.get(o)).call(u,function(d){return d.visible==null&&(d.visible=!0),d.visible=!!s.showNested,d})}i.update(Mr(l).call(l,s)),s.showNested?(oe.removeClassName(e.dom.label,"collapsed"),oe.addClassName(e.dom.label,"expanded")):(oe.removeClassName(e.dom.label,"expanded"),oe.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const r=this.groupsData.getDataSet(),i=this.groupFromTarget(e);if(i&&i.height!=this.groupTouchParams.group.height){const s=i.top<this.groupTouchParams.group.top,o=e.center?e.center.y:e.clientY,a=i.dom.foreground.getBoundingClientRect(),l=this.groupTouchParams.group.height;if(s){if(a.top+l<o)return}else{const c=i.height;if(a.top+c-l>o)return}}if(i&&i!=this.groupTouchParams.group){const s=r.get(i.groupId),o=r.get(this.groupTouchParams.group.groupId);o&&s&&(this.options.groupOrderSwap(o,s,r),r.update(o),r.update(s));const a=r.getIds({order:this.options.groupOrder});if(!oe.equalArray(a,this.groupTouchParams.originalOrder)){const l=this.groupTouchParams.originalOrder,c=this.groupTouchParams.group.groupId,u=Math.min(l.length,a.length);let d=0,h=0,f=0;for(;d<u;){for(;d+h<u&&d+f<u&&a[d+h]==l[d+f];)d++;if(d+h>=u)break;if(a[d+h]==c)h=1;else if(l[d+f]==c)f=1;else{const p=Fn(a).call(a,l[d+f]),m=r.get(a[d+h]),b=r.get(l[d+f]);this.options.groupOrderSwap(m,b,r),r.update(m),r.update(b);const y=a[d+h];a[d+h]=l[d+f],a[p]=y,d++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const r=this,i=r.groupTouchParams.group.groupId,s=r.groupsData.getDataSet(),o=oe.extend({},s.get(i));r.options.onMoveGroup(o,a=>{if(a)a[s._idProp]=i,s.update(a);else{const l=s.getIds({order:r.options.groupOrder});if(!oe.equalArray(l,r.groupTouchParams.originalOrder)){const c=r.groupTouchParams.originalOrder,u=Math.min(c.length,l.length);let d=0;for(;d<u;){for(;d<u&&l[d]==c[d];)d++;if(d>=u)break;const h=Fn(l).call(l,c[d]),f=s.get(l[d]),p=s.get(c[d]);r.options.groupOrderSwap(f,p,s),s.update(f),s.update(p);const m=l[d];l[d]=c[d],l[h]=m,d++}}}}),r.body.emitter.emit("groupDragged",{groupId:i}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const r=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),i=e.srcEvent&&e.srcEvent.shiftKey;if(r||i){this._onMultiSelectItem(e);return}const s=this.getSelection(),o=this.itemFromTarget(e),a=o&&o.selectable?[o.id]:[];this.setSelection(a);const l=this.getSelection();(l.length>0||s.length>0)&&this.body.emitter.emit("select",{items:l,event:e})}_onMouseOver(e){const r=this.itemFromTarget(e);if(!r)return;const i=this.itemFromRelatedTarget(e);if(r===i)return;const s=r.getTitle();if(this.options.showTooltips&&s){this.popup==null&&(this.popup=new uct(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(s);const o=this.body.dom.centerContainer,a=o.getBoundingClientRect();this.popup.setPosition(e.clientX-a.left+o.offsetLeft,e.clientY-a.top+o.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:r.id,event:e})}_onMouseOut(e){const r=this.itemFromTarget(e);if(!r)return;const i=this.itemFromRelatedTarget(e);r!==i&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:r.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const i=this.body.dom.centerContainer,s=i.getBoundingClientRect();this.popup.setPosition(e.clientX-s.left+i.offsetLeft,e.clientY-s.top+i.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const r=this;if(e){const i=r.itemsData.get(e.id);this.options.onUpdate(i,s=>{s&&r.itemsData.update(s)})}}_onDropObjectOnItem(e){const r=this.itemFromTarget(e),i=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,r)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const r=this,i=this.options.snap||null,s=this.dom.frame.getBoundingClientRect(),o=this.options.rtl?s.right-e.center.x:e.center.x-s.left,a=this.body.util.toTime(o),l=this.body.util.getScale(),c=this.body.util.getStep();let u,d;e.type=="drop"?(d=JSON.parse(e.dataTransfer.getData("text")),d.content=d.content?d.content:"new item",d.start=d.start?d.start:i?i(a,l,c):a,d.type=d.type||"box",d[this.itemsData.idProp]=d.id||Bf(),d.type=="range"&&!d.end&&(u=this.body.util.toTime(o+this.props.width/5),d.end=i?i(u,l,c):u)):(d={start:i?i(a,l,c):a,content:"new item"},d[this.itemsData.idProp]=Bf(),this.options.type==="range"&&(u=this.body.util.toTime(o+this.props.width/5),d.end=i?i(u,l,c):u));const h=this.groupFromTarget(e);h&&(d.group=h.groupId),d=this._cloneItemData(d),this.options.onAdd(d,f=>{f&&(r.itemsData.add(f),e.type=="drop"&&r.setSelection([f.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const r=this.itemFromTarget(e);if(r){let i=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const a=this.itemsData.get(r.id).group;let l;this.options.multiselectPerGroup&&i.length>0&&(l=this.itemsData.get(i[0]).group),(!this.options.multiselectPerGroup||l==null||l==a)&&i.push(r.id);const c=pp._getItemRange(this.itemsData.get(i));if(!this.options.multiselectPerGroup||l==a){i=[];for(const u in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,u))continue;const d=this.items[u],h=d.data.start,f=d.data.end!==void 0?d.data.end:h;h>=c.min&&f<=c.max&&(!this.options.multiselectPerGroup||l==this.itemsData.get(d.id).group)&&!(d instanceof Rp)&&i.push(d.id)}}}else{const a=Fn(i).call(i,r.id);a==-1?i.push(r.id):cs(i).call(i,a,1)}const o=qt(i).call(i,a=>this.getItemById(a).selectable);this.setSelection(o),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let r=null,i=null;return xt(e).call(e,s=>{(i==null||s.start<i)&&(i=s.start),s.end!=null?(r==null||s.end>r)&&(r=s.end):(r==null||s.start>r)&&(r=s.start)}),{min:i,max:r}}itemFromElement(e){let r=e;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"vis-item"))return r["vis-item"];r=r.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const r=e.center?e.center.y:e.clientY;let i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(let s=0;s<i.length;s++){const o=i[s],a=this.groups[o],l=a.dom.foreground,c=l.getBoundingClientRect();if(r>=c.top&&r<c.top+l.offsetHeight)return a;if(this.options.orientation.item==="top"){if(s===this.groupIds.length-1&&r>c.top)return a}else if(s===0&&r<c.top+l.offset)return a}return null}static itemSetFromTarget(e){let r=e.target;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"vis-itemset"))return r["vis-itemset"];r=r.parentNode}return null}_cloneItemData(e,r){const i=oe.extend({},e);return r||(r=this.itemsData.type),i.start!=null&&(i.start=oe.convert(i.start,r&&r.start||"Date")),i.end!=null&&(i.end=oe.convert(i.end,r&&r.end||"Date")),i}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),r=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=r){if(this._detachAllClusters(),r){for(let i of r)i.attach();this.clusters=r}this._updateClusters(r)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){var r;const o=new Gd(In(e).call(e,c=>c.id)),a=qt(r=this.clusters).call(r,c=>!o.has(c.id));let l=!1;for(let c of a){var i;const u=Fn(i=this.selection).call(i,c.id);if(u!==-1){var s;c.unselect(),cs(s=this.selection).call(s,u,1),l=!0}}if(l){const c=this.getSelection();this.body.emitter.emit("select",{items:c,event})}}this.clusters=e||[]}}pp.types={background:Rp,box:lct,range:fp,point:cct};pp.prototype._onAdd=pp.prototype._onUpdate;let ly=!1,yie,F2="background: #FFeeee; color: #dd0000";class or{constructor(){}static validate(e,r,i){ly=!1,yie=r;let s=r;return i!==void 0&&(s=r[i]),or.parse(e,s,[]),ly}static parse(e,r,i){for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&or.check(s,e,r,i)}static check(e,r,i,s){if(i[e]===void 0&&i.__any__===void 0){or.getSuggestion(e,i,s);return}let o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=or.getType(r[e])==="object");let l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),or.checkFields(e,r,i,o,l,s)}static checkFields(e,r,i,s,o,a){let l=function(d){console.log("%c"+d+or.printLocation(a,e),F2)},c=or.getType(r[e]),u=o[c];u!==void 0?or.getType(u)==="array"&&Fn(u).call(u,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+or.print(u)+' not "'+r[e]+'". '),ly=!0):c==="object"&&s!=="__any__"&&(a=oe.copyAndExtendArray(a,e),or.parse(r[e],i[s],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+or.print(Qr(o))+". Received ["+c+'] "'+r[e]+'"'),ly=!0)}static getType(e){var r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":an(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){let s=or.findInOptions(e,r,i,!1),o=or.findInOptions(e,yie,[],!0),a=8,l=4,c;s.indexMatch!==void 0?c=" in "+or.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:o.distance<=l&&s.distance>o.distance?c=" in "+or.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+or.printLocation(o.path,o.closestMatch,""):s.distance<=a?c='. Did you mean "'+s.closestMatch+'"?'+or.printLocation(s.path,e):c=". Did you mean one of these: "+or.print(Qr(r))+or.printLocation(i,e),console.log('%cUnknown option detected: "'+e+'"'+c,F2),ly=!0}static findInOptions(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,a="",l=[],c=e.toLowerCase(),u;for(let h in r){if(!Object.prototype.hasOwnProperty.call(r,h))continue;let f;if(r[h].__type__!==void 0&&s===!0){let p=or.findInOptions(e,r[h],oe.copyAndExtendArray(i,h));o>p.distance&&(a=p.closestMatch,l=p.path,o=p.distance,u=p.indexMatch)}else{var d;Fn(d=h.toLowerCase()).call(d,c)!==-1&&(u=h),f=or.levenshteinDistance(e,h),o>f&&(a=h,l=oe.copyArray(i),o=f)}}return{closestMatch:a,path:l,distance:o,indexMatch:u}}static printLocation(e,r){let s=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)s+="  ";s+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)s+="  ";s+=r+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)s+="  ";s+=`}
`}return s+`

`}static print(e){return Os(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;var i=[],s;for(s=0;s<=r.length;s++)i[s]=[s];var o;for(o=0;o<=e.length;o++)i[0][o]=o;for(s=1;s<=r.length;s++)for(o=1;o<=e.length;o++)r.charAt(s-1)==e.charAt(o-1)?i[s][o]=i[s-1][o-1]:i[s][o]=Math.min(i[s-1][o-1]+1,Math.min(i[s][o-1]+1,i[s-1][o]+1));return i[r.length][e.length]}}let Kt="string",Gt="boolean",Gn="number",vie="array",dm="date",Pr="object",xct="dom",hm="moment",wie="any",_ct={configure:{enabled:{boolean:Gt},filter:{boolean:Gt,function:"function"},container:{dom:xct},__type__:{object:Pr,boolean:Gt,function:"function"}},align:{string:Kt},alignCurrentTime:{string:Kt,undefined:"undefined"},rtl:{boolean:Gt,undefined:"undefined"},rollingMode:{follow:{boolean:Gt},offset:{number:Gn,undefined:"undefined"},__type__:{object:Pr}},onTimeout:{timeoutMs:{number:Gn},callback:{function:"function"},__type__:{object:Pr}},verticalScroll:{boolean:Gt,undefined:"undefined"},horizontalScroll:{boolean:Gt,undefined:"undefined"},horizontalScrollKey:{string:Kt,undefined:"undefined"},horizontalScrollInvert:{boolean:Gt,undefined:"undefined"},autoResize:{boolean:Gt},throttleRedraw:{number:Gn},clickToUse:{boolean:Gt},dataAttributes:{string:Kt,array:vie},editable:{add:{boolean:Gt,undefined:"undefined"},remove:{boolean:Gt,undefined:"undefined"},updateGroup:{boolean:Gt,undefined:"undefined"},updateTime:{boolean:Gt,undefined:"undefined"},overrideItems:{boolean:Gt,undefined:"undefined"},__type__:{boolean:Gt,object:Pr}},end:{number:Gn,date:dm,string:Kt,moment:hm},format:{minorLabels:{millisecond:{string:Kt,undefined:"undefined"},second:{string:Kt,undefined:"undefined"},minute:{string:Kt,undefined:"undefined"},hour:{string:Kt,undefined:"undefined"},weekday:{string:Kt,undefined:"undefined"},day:{string:Kt,undefined:"undefined"},week:{string:Kt,undefined:"undefined"},month:{string:Kt,undefined:"undefined"},year:{string:Kt,undefined:"undefined"},__type__:{object:Pr,function:"function"}},majorLabels:{millisecond:{string:Kt,undefined:"undefined"},second:{string:Kt,undefined:"undefined"},minute:{string:Kt,undefined:"undefined"},hour:{string:Kt,undefined:"undefined"},weekday:{string:Kt,undefined:"undefined"},day:{string:Kt,undefined:"undefined"},week:{string:Kt,undefined:"undefined"},month:{string:Kt,undefined:"undefined"},year:{string:Kt,undefined:"undefined"},__type__:{object:Pr,function:"function"}},__type__:{object:Pr}},moment:{function:"function"},groupHeightMode:{string:Kt},groupOrder:{string:Kt,function:"function"},groupEditable:{add:{boolean:Gt,undefined:"undefined"},remove:{boolean:Gt,undefined:"undefined"},order:{boolean:Gt,undefined:"undefined"},__type__:{boolean:Gt,object:Pr}},groupOrderSwap:{function:"function"},height:{string:Kt,number:Gn},hiddenDates:{start:{date:dm,number:Gn,string:Kt,moment:hm},end:{date:dm,number:Gn,string:Kt,moment:hm},repeat:{string:Kt},__type__:{object:Pr,array:vie}},itemsAlwaysDraggable:{item:{boolean:Gt,undefined:"undefined"},range:{boolean:Gt,undefined:"undefined"},__type__:{boolean:Gt,object:Pr}},limitSize:{boolean:Gt},locale:{string:Kt},locales:{__any__:{any:wie},__type__:{object:Pr}},longSelectPressTime:{number:Gn},margin:{axis:{number:Gn},item:{horizontal:{number:Gn,undefined:"undefined"},vertical:{number:Gn,undefined:"undefined"},__type__:{object:Pr,number:Gn}},__type__:{object:Pr,number:Gn}},max:{date:dm,number:Gn,string:Kt,moment:hm},maxHeight:{number:Gn,string:Kt},maxMinorChars:{number:Gn},min:{date:dm,number:Gn,string:Kt,moment:hm},minHeight:{number:Gn,string:Kt},moveable:{boolean:Gt},multiselect:{boolean:Gt},multiselectPerGroup:{boolean:Gt},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:Kt,undefined:"undefined"},item:{string:Kt,undefined:"undefined"},__type__:{string:Kt,object:Pr}},selectable:{boolean:Gt},sequentialSelection:{boolean:Gt},showCurrentTime:{boolean:Gt},showMajorLabels:{boolean:Gt},showMinorLabels:{boolean:Gt},showWeekScale:{boolean:Gt},stack:{boolean:Gt},stackSubgroups:{boolean:Gt},cluster:{maxItems:{number:Gn,undefined:"undefined"},titleTemplate:{string:Kt,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:Gt,undefined:"undefined"},fitOnDoubleClick:{boolean:Gt,undefined:"undefined"},__type__:{boolean:Gt,object:Pr}},snap:{function:"function",null:"null"},start:{date:dm,number:Gn,string:Kt,moment:hm},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:Kt,function:"function"},showTooltips:{boolean:Gt},tooltip:{followMouse:{boolean:Gt},overflowMethod:{string:["cap","flip","none"]},delay:{number:Gn},template:{function:"function"},__type__:{object:Pr}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:Gt,object:Pr}},timeAxis:{scale:{string:Kt,undefined:"undefined"},step:{number:Gn,undefined:"undefined"},__type__:{object:Pr}},type:{string:Kt},width:{string:Kt,number:Gn},preferZoom:{boolean:Gt},zoomable:{boolean:Gt},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:Gn},zoomMax:{number:Gn},zoomMin:{number:Gn},xss:{disabled:{boolean:Gt},filterOptions:{__any__:{any:wie},__type__:{object:Pr}},__type__:{object:Pr}},__type__:{object:Pr}},Sct={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var kct={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class Cct{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return kct[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;var s=this._isColorString(e);if(s!==void 0&&(e=s),oe.isString(e)===!0){if(oe.isValidRGB(e)===!0){let o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(oe.isValidRGBA(e)===!0){let o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(oe.isValidHex(e)===!0){let o=oe.hexToRGB(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Os(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=oe.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Hi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=oe.extend({},e)),this.color=e;let i=oe.RGBToHSV(e.r,e.g,e.b),s=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(s*i.h),l=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let r=oe.RGBToHSV(this.color.r,this.color.g,this.color.b);r.v=e/100;let i=oe.HSVToRGB(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,r=oe.RGBToHSV(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),rbe(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=Ue(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=Ue(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=Ue(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=Ue(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new ls(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),rye(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let s,o,a,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;let c=2*Math.PI/360,u=1/360,d=1/this.r,h;for(a=0;a<360;a++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(c*a),o=this.centerCoordinates.y+l*Math.cos(c*a),h=oe.HSVToRGB(a*u,l*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(s-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){let r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,s=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=s-o,u=Math.atan2(l,c),d=.98*Math.min(Math.sqrt(l*l+c*c),a),h=Math.cos(u)*d+o,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;let m=d/this.r,b=oe.RGBToHSV(this.color.r,this.color.g,this.color.b);b.h=p,b.s=m;let y=oe.HSVToRGB(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class pye{constructor(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},oe.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Cct(s),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(an(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),qt(e)!==void 0&&(this.options.filter=qt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);qt(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=qt(this.options),r=0,i=!1;for(let s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(s,[]),i=i||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||Fn(e).call(e,s)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){let o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return xt(i).call(i,a=>{o.appendChild(a)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){let r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerHTML=oe.xss(e),this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=document.createElement("div");return s.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0?s.innerHTML=oe.xss("<i><b>"+e+":</b></i>"):s.innerHTML=oe.xss(e+":"),s}_makeDropdown(e,r,i){let s=document.createElement("select");s.className="vis-configuration vis-config-select";let o=0;r!==void 0&&Fn(e).call(e,r)!==-1&&(o=Fn(e).call(e,r));for(let c=0;c<e.length;c++){let u=document.createElement("option");u.value=e[c],c===o&&(u.selected="selected"),u.innerHTML=e[c],s.appendChild(u)}let a=this;s.onchange=function(){a._update(this.value,i)};let l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_makeRange(e,r,i){let s=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch{}c.step=l;let u="",d=0;if(r!==void 0){let b=1.2;r<0&&r*b<o?(c.min=Math.ceil(r*b),d=c.min,u="range increased"):r/b<o&&(c.min=Math.ceil(r/b),d=c.min,u="range increased"),r*b>a&&a!==1&&(c.max=Math.ceil(r*b),d=c.max,u="range increased"),c.value=r}else c.value=s;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(c.value);var f=this;c.onchange=function(){h.value=this.value,f._update(Number(this.value),i)},c.oninput=function(){h.value=this.value};let p=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,p,c,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=oe.xss(e),i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Hi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Hi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){var s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));let o=this;s.onchange=function(){o._update(this.checked,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeTextInput(e,r,i){var s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:i,value:r});let o=this;s.onchange=function(){o._update(this.value,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeColorField(e,r,i){let s=e[1],o=document.createElement("div");r=r===void 0?s:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?s:r,o.onclick=()=>{this._showColorPicker(r,o,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(s=>{let o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1,o=qt(this.options),a=!1;for(let l in e){if(!Object.prototype.hasOwnProperty.call(e,l))continue;s=!0;let c=e[l],u=oe.copyAndExtendArray(r,l);if(typeof o=="function"&&(s=o(l,r),s===!1&&!an(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,s=this._handleObject(c,u,!0),this.allowCreation=i===!1)),s!==!1){a=!0;let d=this._getValue(u);if(an(c))this._handleArray(c,d,u);else if(typeof c=="string")this._makeTextInput(c,d,u);else if(typeof c=="boolean")this._makeCheckbox(c,d,u);else if(c instanceof Object){let h=!0;if(Fn(r).call(r,"physics")!==-1&&this.moduleOptions.physics.solver!==l&&(h=!1),h===!0)if(c.enabled!==void 0){let f=oe.copyAndExtendArray(u,"enabled"),p=this._getValue(f);if(p===!0){let m=this._makeLabel(l,u,!0);this._makeItem(u,m),a=this._handleObject(c,u)||a}else this._makeCheckbox(c,p,u)}else{let f=this._makeLabel(l,u,!0);this._makeItem(u,f),a=this._handleObject(c,u)||a}}else console.error("dont know how to handle",c,l,u)}}return a}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){let i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(s[r[o]]===void 0&&(s[r[o]]={}),o!==r.length-1?s=s[r[o]]:s[r[o]]=e);return i}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+Os(e,null,2)+"</pre>"}getOptions(){let e={};for(var r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}}class ML extends pg{constructor(e,r,i,s){var o,a,l,c,u,d,h;if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof ML))throw new SyntaxError("Constructor must be called with the new operator");if(!(an(i)||vu(i))&&i instanceof Object){const y=s;s=i,i=y}s&&s.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const f=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:us},this.options=oe.deepExtend({},this.defaultOptions),s&&oe.setupXSSProtection(s.xss),this._create(e),!s||s&&typeof s.rtl>"u"){this.dom.root.style.visibility="hidden";let y,v=this.dom.root;for(;!y&&v;)y=window.getComputedStyle(v,null).direction,v=v.parentElement;this.options.rtl=y&&y.toLowerCase()=="rtl"}else this.options.rtl=s.rtl;s&&(s.rollingMode&&(this.options.rollingMode=s.rollingMode),s.onInitialDrawComplete&&(this.options.onInitialDrawComplete=s.onInitialDrawComplete),s.onTimeout&&(this.options.onTimeout=s.onTimeout),s.loadingScreenTemplate&&(this.options.loadingScreenTemplate=s.loadingScreenTemplate));const p=document.createElement("div");if(this.options.loadingScreenTemplate){var m;const y=Ue(m=this.options.loadingScreenTemplate).call(m,this),v=y(this.dom.loadingScreen);v instanceof Object&&!(v instanceof Element)?y(p):v instanceof Element?(p.innerHTML="",p.appendChild(v)):v!=null&&(p.innerHTML=oe.xss(v))}this.dom.loadingScreen.appendChild(p),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:Ue(o=this.on).call(o,this),off:Ue(a=this.off).call(a,this),emit:Ue(l=this.emit).call(l,this)},hiddenDates:[],util:{getScale(){return f.timeAxis.step.scale},getStep(){return f.timeAxis.step.step},toScreen:Ue(c=f._toScreen).call(c,f),toGlobalScreen:Ue(u=f._toGlobalScreen).call(u,f),toTime:Ue(d=f._toTime).call(d,f),toGlobalTime:Ue(h=f._toGlobalTime).call(h,f)}},this.range=new n6(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new L2(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new hye(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new pp(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null;function b(y,v){f.hasListeners(y)&&f.emit(y,f.getEventProperties(v))}this.dom.root.onclick=y=>b("click",y),this.dom.root.ondblclick=y=>b("doubleClick",y),this.dom.root.oncontextmenu=y=>b("contextmenu",y),this.dom.root.onmouseover=y=>b("mouseOver",y),window.PointerEvent?(this.dom.root.onpointerdown=y=>b("mouseDown",y),this.dom.root.onpointermove=y=>b("mouseMove",y),this.dom.root.onpointerup=y=>b("mouseUp",y)):(this.dom.root.onmousemove=y=>b("mouseMove",y),this.dom.root.onmousedown=y=>b("mouseDown",y),this.dom.root.onmouseup=y=>b("mouseUp",y)),this.initialFitDone=!1,this.on("changed",()=>{if(f.itemsData!=null){if(!f.initialFitDone&&!f.options.rollingMode)if(f.initialFitDone=!0,f.options.start!=null||f.options.end!=null){if(f.options.start==null||f.options.end==null)var y=f.getItemRange();const v=f.options.start!=null?f.options.start:y.min,w=f.options.end!=null?f.options.end:y.max;f.setWindow(v,w,{animation:!1})}else f.fit({animation:!1});!f.initialDrawDone&&(f.initialRangeChangeDone||!f.options.start&&!f.options.end||f.options.rollingMode)&&(f.initialDrawDone=!0,f.itemSet.initialDrawDone=!0,f.dom.root.style.visibility="visible",f.dom.loadingScreen.parentNode.removeChild(f.dom.loadingScreen),f.options.onInitialDrawComplete&&Hi(()=>f.options.onInitialDrawComplete(),0))}}),this.on("destroyTimeline",()=>{f.destroy()}),s&&this.setOptions(s),this.body.emitter.on("fit",y=>{this._onFit(y),this.redraw()}),i&&this.setGroups(i),r&&this.setItems(r),this._redraw()}_createConfigurator(){return new pye(this,this.dom.container,Sct)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(e){if(or.validate(e,_ct)===!0&&console.log("%cErrors have been found in the supplied options object.",F2),pg.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;const i=this.itemsData;if(i){const s=this.getSelection();this.setItems(null),this.setItems(i.rawDS),this.setSelection(s)}}}setItems(e){this.itemsDone=!1;let r;e?vu(e)?r=B0(e):r=B0(new j0(e)):r=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=r,this.itemSet&&this.itemSet.setItems(r!=null?r.rawDS:null)}setGroups(e){let r;const i=s=>s.visible!==!1;e?(an(e)&&(e=new j0(e)),r=new Bat(e,{filter:i})):r=null,this.groupsData!=null&&typeof this.groupsData.setData=="function"&&this.groupsData.setData(null),this.groupsData=r,this.itemSet.setGroups(r)}setData(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)}setSelection(e,r){this.itemSet&&this.itemSet.setSelection(e),r&&r.focus&&this.focus(e,r)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(e,r){if(!this.itemsData||e==null)return;const i=an(e)?e:[e],s=this.itemsData.get(i);let o=null,a=null;if(xt(s).call(s,l=>{const c=l.start.valueOf(),u="end"in l?l.end.valueOf():l.start.valueOf();(o===null||c<o)&&(o=c),(a===null||u>a)&&(a=u)}),o!==null&&a!==null){const l=this,c=this.itemSet.items[i[0]];let u=this._getScrollTop()*-1,d=null;const h=(w,_,x)=>{const S=xie(l,c);if(S===!1||(d||(d=S),d.itemTop==S.itemTop&&!d.shouldScroll))return;d.itemTop!=S.itemTop&&S.shouldScroll&&(d=S,u=l._getScrollTop()*-1);const C=u,E=d.scrollOffset,A=x?E:C+(E-C)*w;l._setScrollTop(-A),_||l._redraw()},f=()=>{const w=xie(l,c);w.shouldScroll&&w.itemTop!=d.itemTop&&(l._setScrollTop(-w.scrollOffset),l._redraw())},p=()=>{f(),Hi(f,100)},m=r&&r.zoom!==void 0?r.zoom:!0,b=(o+a)/2,y=m?(a-o)*1.1:Math.max(this.range.end-this.range.start,(a-o)*1.1),v=r&&r.animation!==void 0?r.animation:!0;v||(d={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.stopRolling(),this.range.setRange(b-y/2,b+y/2,{animation:v},p,h)}}fit(e,r){const i=e&&e.animation!==void 0?e.animation:!0;let s;this.itemsData.length===1&&this.itemsData.get()[0].end===void 0?(s=this.getDataRange(),this.moveTo(s.min.valueOf(),{animation:i},r)):(s=this.getItemRange(),this.range.setRange(s.min,s.max,{animation:i},r))}getItemRange(){const e=this.getDataRange();let r=e.min!==null?e.min.valueOf():null,i=e.max!==null?e.max.valueOf():null,s=null,o=null;if(r!=null&&i!=null){let a=i-r;a<=0&&(a=10);const l=a/this.props.center.width,c={};let u=0;if(xt(oe).call(oe,this.itemSet.items,(h,f)=>{h.groupShowing&&(c[f]=h.redraw(!0),u=c[f].length)}),u>0)for(let h=0;h<u;h++)xt(oe).call(oe,c,f=>{f[h]()});if(xt(oe).call(oe,this.itemSet.items,h=>{const f=MD(h),p=OD(h);let m,b;this.options.rtl?(m=f-(h.getWidthRight()+10)*l,b=p+(h.getWidthLeft()+10)*l):(m=f-(h.getWidthLeft()+10)*l,b=p+(h.getWidthRight()+10)*l),m<r&&(r=m,s=h),b>i&&(i=b,o=h)}),s&&o){const h=s.getWidthLeft()+10,f=o.getWidthRight()+10,p=this.props.center.width-h-f;p>0&&(this.options.rtl?(r=MD(s)-f*a/p,i=OD(o)+h*a/p):(r=MD(s)-h*a/p,i=OD(o)+f*a/p))}}return{min:r!=null?new Date(r):null,max:i!=null?new Date(i):null}}getDataRange(){let e=null,r=null;if(this.itemsData){var i;xt(i=this.itemsData).call(i,s=>{const o=oe.convert(s.start,"Date").valueOf(),a=oe.convert(s.end!=null?s.end:s.start,"Date").valueOf();(e===null||o<e)&&(e=o),(r===null||a>r)&&(r=a)})}return{min:e!=null?new Date(e):null,max:r!=null?new Date(r):null}}getEventProperties(e){const r=e.center?e.center.x:e.clientX,i=e.center?e.center.y:e.clientY,s=this.dom.centerContainer.getBoundingClientRect(),o=this.options.rtl?s.right-r:r-s.left,a=i-s.top,l=this.itemSet.itemFromTarget(e),c=this.itemSet.groupFromTarget(e),u=PL.customTimeFromTarget(e),d=this.itemSet.options.snap||null,h=this.body.util.getScale(),f=this.body.util.getStep(),p=this._toTime(o),m=d?d(p,h,f):p,b=oe.getTarget(e);let y=null;return l!=null?y="item":u!=null?y="custom-time":oe.hasParent(b,this.timeAxis.dom.foreground)||this.timeAxis2&&oe.hasParent(b,this.timeAxis2.dom.foreground)?y="axis":oe.hasParent(b,this.itemSet.dom.labelSet)?y="group-label":oe.hasParent(b,this.currentTime.bar)?y="current-time":oe.hasParent(b,this.dom.center)&&(y="background"),{event:e,item:l?l.id:null,isCluster:l?!!l.isCluster:!1,items:l?l.items||[]:null,group:c?c.groupId:null,customTime:u?u.options.id:null,what:y,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:o,y:a,time:p,snappedTime:m}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())}_redraw(){pg.prototype._redraw.call(this)}_onFit(e){const{start:r,end:i,animation:s}=e;i?this.range.setRange(r,i,{animation:s}):this.moveTo(r.valueOf(),{animation:s})}}function MD(n){return oe.convert(n.data.start,"Date").valueOf()}function OD(n){const e=n.data.end!=null?n.data.end:n.data.start;return oe.convert(e,"Date").valueOf()}function xie(n,e){if(!e.parent)return!1;const r=n.options.rtl?n.props.rightContainer.height:n.props.leftContainer.height,i=n.props.center.height,s=e.parent;let o=s.top,a=!0;const l=n.timeAxis.options.orientation.axis,c=()=>l=="bottom"?s.height-e.top-e.height:e.top,u=n._getScrollTop()*-1,d=o+c(),h=e.height;return d<u?o+r<=o+c()+h&&(o+=c()-n.itemSet.options.margin.item.vertical):d+h>u+r?o+=c()+h-r+n.itemSet.options.margin.item.vertical:a=!1,o=Math.min(o,i-r),{shouldScroll:a,scrollOffset:o,itemTop:d}}class Ect{constructor(e,r,i,s,o,a){let l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=a,this._start=e,this._end=r,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=l,this.autoScaleStart=i,this.autoScaleEnd=s,this.formattingFunction=c,i||s){const u=this,d=h=>{const f=h-h%(u.magnitudefactor*u.minorSteps[u.minorStepIdx]);return h%(u.magnitudefactor*u.minorSteps[u.minorStepIdx])>.5*(u.magnitudefactor*u.minorSteps[u.minorStepIdx])?f+u.magnitudefactor*u.minorSteps[u.minorStepIdx]:f};i&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=d(this._start)),s&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=d(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const r=this.majorCharHeight/this.scale,i=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);let s=0;i<0&&(s=i);let o=!1;for(let a=s;Math.abs(a)<=Math.abs(i);a++){this.magnitudefactor=Math.pow(10,a);for(let l=0;l<this.minorSteps.length;l++)if(this.magnitudefactor*this.minorSteps[l]>=r){o=!0,this.minorStepIdx=l;break}if(o===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let r=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(r=this.formattingFunction(e)),typeof r=="number"?"".concat(r):typeof r=="string"?r:e.toPrecision(5)}getLines(){const e=[],r=this.getStep(),i=(r-this._start%r)%r;for(let s=this._start+i;this._end-s>1e-5;s+=r)s!=this._start&&e.push({major:this.is_major(s),y:this.convertValue(s),val:this.formatValue(s)});return e}followScale(e){const r=this.minorStepIdx,i=this._start,s=this._end,o=this,a=()=>{o.magnitudefactor*=2},l=()=>{o.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,r==2||a(),a()):(this.minorStepIdx=2,r==1||l(),l()));const c=e.convertValue(0),u=e.getStep()*e.scale;let d=!1,h=0;for(;!d&&h++<5;){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const f=this.containerHeight/this.scale;this._start=i,this._end=this._start+f;const p=this._end*this.scale,m=this.magnitudefactor*this.majorSteps[this.minorStepIdx],b=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const y=c-p;this._end+=y/this.scale,this._start=this._end-f}else this.autoScaleStart?(this._start-=b/this.scale,this._end=this._start+f):(this._start+=m-b/this.scale,this._end=this._start+f);if(!this.autoScaleEnd&&this._end>s+1e-5){l(),d=!1;continue}if(!this.autoScaleStart&&this._start<i-1e-5)if(this.zeroAlign&&i>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{l(),d=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&f<s-i){a(),d=!1;continue}d=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class _ie extends ph{constructor(e,r,i,s){super(),this.id=Bf(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(a){return"".concat(R2(a.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(a){return"".concat(R2(a.toPrecision(3)))},title:{text:void 0,style:void 0}}},this.linegraphOptions=s,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=oe.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(r),this.width=Number("".concat(this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const o=this;this.body.emitter.on("verticalDrag",()=>{o.dom.lineContainer.style.top="".concat(o.body.domProps.scrollTop,"px")})}addGroup(e,r){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=r),this.amountOfGroups+=1}updateGroup(e,r){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=r}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let r=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(r=!0);const i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];oe.selectiveDeepExtend(i,this.options,e),this.minWidth=Number("".concat(this.options.width).replace("px","")),r===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){hd(this.svgElements);let e;const r=this.options.iconWidth,i=15,s=4;let o=s+.5*i;this.options.orientation==="left"?e=s:e=this.width-r-s;const a=Qr(this.groups);Nr(a).call(a,(l,c)=>l<c?-1:1);for(const l of a)this.groups[l].visible===!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]===!0)&&(this.groups[l].getLegend(r,i,this.framework,e,o),o+=i+s);Ho(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(hd(this.svgElements),Ho(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,r){this.range.start=e,this.range.end=r}redraw(){let e=!1,r=0;this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px");for(const i in this.groups)Object.prototype.hasOwnProperty.call(this.groups,i)&&this.groups[i].visible===!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]===!0)&&r++;if(this.amountOfGroups===0||r===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=this.options.visible===!0?Number("".concat(this.options.width).replace("px","")):0;const i=this.props,s=this.dom.frame;s.className="vis-data-axis",this._calculateCharSize();const o=this.options.orientation,a=this.options.showMinorLabels,l=this.options.showMajorLabels,c=this.body.dom.backgroundHorizontal.offsetWidth;i.minorLabelHeight=a?i.minorCharHeight:0,i.majorLabelHeight=l?i.majorCharHeight:0,i.minorLineWidth=c-this.lineOffset-this.width+2*this.options.minorLinesOffset,i.minorLineHeight=1,i.majorLineWidth=c-this.lineOffset-this.width+2*this.options.majorLinesOffset,i.majorLineHeight=1,o==="left"?(s.style.top="0",s.style.left="0",s.style.bottom="",s.style.width="".concat(this.width,"px"),s.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(s.style.top="",s.style.bottom="0",s.style.left="0",s.style.width="".concat(this.width,"px"),s.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return e}_redrawLabels(){let e=!1;hd(this.DOMelements.lines),hd(this.DOMelements.labels);const r=this.options.orientation,i=this.options[r].range!=null?this.options[r].range:{};let s=!0;i.max!=null&&(this.range.end=i.max,s=!1);let o=!0;i.min!=null&&(this.range.start=i.min,o=!1),this.scale=new Ect(this.range.start,this.range.end,o,s,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[r].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;const a=this.scale.getLines();xt(a).call(a,u=>{const d=u.y,h=u.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(d-2,u.val,r,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&d>=0&&this._redrawLabel(d-2,u.val,r,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(d,r,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(d,r,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let l=0;this.options[r].title!==void 0&&this.options[r].title.text!==void 0&&(l=this.props.titleCharHeight);const c=this.options.icons===!0?Math.max(this.options.iconWidth,l)+this.options.labelOffsetX+15:l+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-c&&this.options.visible===!0?(this.width=this.maxLabelSize+c,this.options.width="".concat(this.width,"px"),Ho(this.DOMelements.lines),Ho(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-c&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+c),this.options.width="".concat(this.width,"px"),Ho(this.DOMelements.lines),Ho(this.DOMelements.labels),this.redraw(),e=!0):(Ho(this.DOMelements.lines),Ho(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,r,i,s,o){const a=QI("div",this.DOMelements.labels,this.dom.frame);a.className=s,a.innerHTML=oe.xss(r),i==="left"?(a.style.left="-".concat(this.options.labelOffsetX,"px"),a.style.textAlign="right"):(a.style.right="-".concat(this.options.labelOffsetX,"px"),a.style.textAlign="left"),a.style.top="".concat(e-.5*o+this.options.labelOffsetY,"px"),r+="";const l=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<r.length*l&&(this.maxLabelSize=r.length*l)}_redrawLine(e,r,i,s,o){if(this.master===!0){const a=QI("div",this.DOMelements.lines,this.dom.lineContainer);a.className=i,a.innerHTML="",r==="left"?a.style.left="".concat(this.width-s,"px"):a.style.right="".concat(this.width-s,"px"),a.style.width="".concat(o,"px"),a.style.top="".concat(e,"px")}}_redrawTitle(e){if(hd(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const r=QI("div",this.DOMelements.title,this.dom.frame);r.className="vis-y-axis vis-title vis-".concat(e),r.innerHTML=oe.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&oe.addCssText(r,this.options[e].title.style),e==="left"?r.style.left="".concat(this.props.titleCharHeight,"px"):r.style.right="".concat(this.props.titleCharHeight,"px"),r.style.width="".concat(this.height,"px")}Ho(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-minor vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.minorCharHeight=r.clientHeight,this.props.minorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-major vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.majorCharHeight=r.clientHeight,this.props.majorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}}}function s1(){}s1.draw=function(n,e,r,i){i=i||0;for(var s=Act(r,e),o=0;o<n.length;o++)if(!s)N0(n[o].screen_x+i,n[o].screen_y,_N(e),r.svgElements,r.svg,n[o].label);else{var a=s(n[o],e);(a===!0||typeof a=="object")&&N0(n[o].screen_x+i,n[o].screen_y,_N(e,a),r.svgElements,r.svg,n[o].label)}};s1.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l=$a("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",r-a),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline"),N0(e+.5*i,r,_N(n),o.svgElements,o.svg)};function _N(n,e){return e=typeof e>"u"?{}:e,{style:e.style||n.options.drawPoints.style,styles:e.styles||n.options.drawPoints.styles,size:e.size||n.options.drawPoints.size,className:e.className||n.className}}function Act(n,e){var r=void 0;return n.options&&n.options.drawPoints&&n.options.drawPoints.onRender&&typeof n.options.drawPoints.onRender=="function"&&(r=n.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(r=e.group.options.drawPoints.onRender),r}function ds(){}ds.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l=$a("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",r-a),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var c=Math.round(.3*i),u=n.options.barChart.width,d=u/c,h=Math.round(.4*s),f=Math.round(.75*s),p=Math.round((i-2*c)/3);if(mN(e+.5*c+p,r+a-h-1,c,h,n.className+" vis-bar",o.svgElements,o.svg,n.style),mN(e+1.5*c+p+2,r+a-f-1,c,f,n.className+" vis-bar",o.svgElements,o.svg,n.style),n.options.drawPoints.enabled==!0){var m={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size/d,className:n.className};N0(e+.5*c+p,r+a-h-1,m,o.svgElements,o.svg),N0(e+1.5*c+p+2,r+a-f-1,m,o.svgElements,o.svg)}};ds.draw=function(n,e,r){var i=[],s={},o,a,l,c,u,d,h=0;for(u=0;u<n.length;u++)if(c=r.groups[n[u]],c.options.style==="bar"&&c.visible===!0&&(r.options.groups.visibility[n[u]]===void 0||r.options.groups.visibility[n[u]]===!0))for(d=0;d<e[n[u]].length;d++)i.push({screen_x:e[n[u]][d].screen_x,screen_end:e[n[u]][d].screen_end,screen_y:e[n[u]][d].screen_y,x:e[n[u]][d].x,end:e[n[u]][d].end,y:e[n[u]][d].y,groupId:n[u],label:e[n[u]][d].label}),h+=1;if(h!==0)for(Nr(i).call(i,function(b,y){return b.screen_x===y.screen_x?b.groupId<y.groupId?-1:1:b.screen_x-y.screen_x}),ds._getDataIntersections(s,i),u=0;u<i.length;u++){c=r.groups[i[u].groupId];var f=c.options.barChart.minWidth!=null?c.options.barChart.minWidth:.1*c.options.barChart.width;a=i[u].screen_x;var p=0;if(s[a]===void 0)u+1<i.length&&(o=Math.abs(i[u+1].screen_x-a)),l=ds._getSafeDrawData(o,c,f);else{var m=u+(s[a].amount-s[a].resolved);m<i.length&&(o=Math.abs(i[m].screen_x-a)),l=ds._getSafeDrawData(o,c,f),s[a].resolved+=1,c.options.stack===!0&&c.options.excludeFromStacking!==!0?i[u].screen_y<c.zeroPosition?(p=s[a].accumulatedNegative,s[a].accumulatedNegative+=c.zeroPosition-i[u].screen_y):(p=s[a].accumulatedPositive,s[a].accumulatedPositive+=c.zeroPosition-i[u].screen_y):c.options.barChart.sideBySide===!0&&(l.width=l.width/s[a].amount,l.offset+=s[a].resolved*l.width-.5*l.width*(s[a].amount+1))}let b=l.width,y=i[u].screen_x;if(i[u].screen_end!=null?(b=i[u].screen_end-i[u].screen_x,y+=b*.5):y+=l.offset,mN(y,i[u].screen_y-p,b,c.zeroPosition-i[u].screen_y,c.className+" vis-bar",r.svgElements,r.svg,c.style),c.options.drawPoints.enabled===!0){let v={screen_x:i[u].screen_x,screen_y:i[u].screen_y-p,x:i[u].x,y:i[u].y,groupId:i[u].groupId,label:i[u].label};s1.draw([v],c,r,l.offset)}}};ds._getDataIntersections=function(n,e){for(var r,i=0;i<e.length;i++)i+1<e.length&&(r=Math.abs(e[i+1].screen_x-e[i].screen_x)),i>0&&(r=Math.min(r,Math.abs(e[i-1].screen_x-e[i].screen_x))),r===0&&(n[e[i].screen_x]===void 0&&(n[e[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),n[e[i].screen_x].amount+=1)};ds._getSafeDrawData=function(n,e,r){var i,s;return n<e.options.barChart.width&&n>0?(i=n<r?r:n,s=0,e.options.barChart.align==="left"?s-=.5*n:e.options.barChart.align==="right"&&(s+=.5*n)):(i=e.options.barChart.width,s=0,e.options.barChart.align==="left"?s-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(s+=.5*e.options.barChart.width)),{width:i,offset:s}};ds.getStackedYRange=function(n,e,r,i,s){if(n.length>0){Nr(n).call(n,function(a,l){return a.screen_x===l.screen_x?a.groupId<l.groupId?-1:1:a.screen_x-l.screen_x});var o={};ds._getDataIntersections(o,n),e[i]=ds._getStackedYRange(o,n),e[i].yAxisOrientation=s,r.push(i)}};ds._getStackedYRange=function(n,e){for(var r,i=e[0].screen_y,s=e[0].screen_y,o=0;o<e.length;o++)r=e[o].screen_x,n[r]===void 0?(i=i>e[o].screen_y?e[o].screen_y:i,s=s<e[o].screen_y?e[o].screen_y:s):e[o].screen_y<0?n[r].accumulatedNegative+=e[o].screen_y:n[r].accumulatedPositive+=e[o].screen_y;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i=i>n[a].accumulatedNegative?n[a].accumulatedNegative:i,i=i>n[a].accumulatedPositive?n[a].accumulatedPositive:i,s=s<n[a].accumulatedNegative?n[a].accumulatedNegative:s,s=s<n[a].accumulatedPositive?n[a].accumulatedPositive:s);return{min:i,max:s}};function Si(){}Si.calcPath=function(n,e){if(n!=null&&n.length>0){var r=[];return e.options.interpolation.enabled==!0?r=Si._catmullRom(n,e):r=Si._linear(n),r}};Si.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l,c,u=$a("rect",o.svgElements,o.svg);if(u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",r-a),u.setAttributeNS(null,"width",i),u.setAttributeNS(null,"height",2*a),u.setAttributeNS(null,"class","vis-outline"),l=$a("path",o.svgElements,o.svg),l.setAttributeNS(null,"class",n.className),n.style!==void 0&&l.setAttributeNS(null,"style",n.style),l.setAttributeNS(null,"d","M"+e+","+r+" L"+(e+i)+","+r),n.options.shaded.enabled==!0&&(c=$a("path",o.svgElements,o.svg),n.options.shaded.orientation=="top"?c.setAttributeNS(null,"d","M"+e+", "+(r-a)+"L"+e+","+r+" L"+(e+i)+","+r+" L"+(e+i)+","+(r-a)):c.setAttributeNS(null,"d","M"+e+","+r+" L"+e+","+(r+a)+" L"+(e+i)+","+(r+a)+"L"+(e+i)+","+r),c.setAttributeNS(null,"class",n.className+" vis-icon-fill"),n.options.shaded.style!==void 0&&n.options.shaded.style!==""&&c.setAttributeNS(null,"style",n.options.shaded.style)),n.options.drawPoints.enabled==!0){var d={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size,className:n.className};N0(e+.5*i,r,d,o.svgElements,o.svg)}};Si.drawShading=function(n,e,r,i){if(e.options.shaded.enabled==!0){var s=Number(i.svg.style.height.replace("px","")),o=$a("path",i.svgElements,i.svg),a="L";e.options.interpolation.enabled==!0&&(a="C");var l,c=0;e.options.shaded.orientation=="top"?c=0:e.options.shaded.orientation=="bottom"?c=s:c=Math.min(Math.max(0,e.zeroPosition),s),e.options.shaded.orientation=="group"&&r!=null&&r!=null?l="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,a,!1)+" L"+r[r.length-1][0]+","+r[r.length-1][1]+" "+this.serializePath(r,a,!0)+r[0][0]+","+r[0][1]+" Z":l="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,a,!1)+" V"+c+" H"+n[0][0]+" Z",o.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&o.setAttributeNS(null,"style",e.options.shaded.style),o.setAttributeNS(null,"d",l)}};Si.draw=function(n,e,r){if(n!=null&&n!=null){var i=$a("path",r.svgElements,r.svg);i.setAttributeNS(null,"class",e.className),e.style!==void 0&&i.setAttributeNS(null,"style",e.style);var s="L";e.options.interpolation.enabled==!0&&(s="C"),i.setAttributeNS(null,"d","M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,s,!1))}};Si.serializePath=function(n,e,r){if(n.length<2)return"";var i=e,s;if(r)for(s=n.length-2;s>0;s--)i+=n[s][0]+","+n[s][1]+" ";else for(s=1;s<n.length;s++)i+=n[s][0]+","+n[s][1]+" ";return i};Si._catmullRomUniform=function(n){var e,r,i,s,o,a,l=[];l.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var c=1/6,u=n.length,d=0;d<u-1;d++)e=d==0?n[0]:n[d-1],r=n[d],i=n[d+1],s=d+2<u?n[d+2]:i,o={screen_x:(-e.screen_x+6*r.screen_x+i.screen_x)*c,screen_y:(-e.screen_y+6*r.screen_y+i.screen_y)*c},a={screen_x:(r.screen_x+6*i.screen_x-s.screen_x)*c,screen_y:(r.screen_y+6*i.screen_y-s.screen_y)*c},l.push([o.screen_x,o.screen_y]),l.push([a.screen_x,a.screen_y]),l.push([i.screen_x,i.screen_y]);return l};Si._catmullRom=function(n,e){var r=e.options.interpolation.alpha;if(r==0||r===void 0)return this._catmullRomUniform(n);var i,s,o,a,l,c,u,d,h,f,p,m,b,y,v,w,_,x,S,C=[];C.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var E=n.length,A=0;A<E-1;A++)i=A==0?n[0]:n[A-1],s=n[A],o=n[A+1],a=A+2<E?n[A+2]:o,u=Math.sqrt(Math.pow(i.screen_x-s.screen_x,2)+Math.pow(i.screen_y-s.screen_y,2)),d=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),h=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),y=Math.pow(h,r),w=Math.pow(h,2*r),v=Math.pow(d,r),_=Math.pow(d,2*r),S=Math.pow(u,r),x=Math.pow(u,2*r),f=2*x+3*S*v+_,p=2*w+3*y*v+_,m=3*S*(S+v),m>0&&(m=1/m),b=3*y*(y+v),b>0&&(b=1/b),l={screen_x:(-_*i.screen_x+f*s.screen_x+x*o.screen_x)*m,screen_y:(-_*i.screen_y+f*s.screen_y+x*o.screen_y)*m},c={screen_x:(w*s.screen_x+p*o.screen_x-_*a.screen_x)*b,screen_y:(w*s.screen_y+p*o.screen_y-_*a.screen_y)*b},l.screen_x==0&&l.screen_y==0&&(l=s),c.screen_x==0&&c.screen_y==0&&(c=o),C.push([l.screen_x,l.screen_y]),C.push([c.screen_x,c.screen_y]),C.push([o.screen_x,o.screen_y]);return C};Si._linear=function(n){for(var e=[],r=0;r<n.length;r++)e.push([n[r].screen_x,n[r].screen_y]);return e};function mh(n,e,r,i){this.id=e;var s=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=oe.selectiveBridgeObject(s,r),this.usingDefaultStyle=n.className===void 0,this.groupsUsingDefaultStyles=i,this.zeroPosition=0,this.update(n),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=n.visible===void 0?!0:n.visible}mh.prototype.setItems=function(n){n!=null?(this.itemsData=n,Nr(this.options)==!0&&oe.insertSort(this.itemsData,function(e,r){return e.x>r.x?1:-1})):this.itemsData=[]};mh.prototype.getItems=function(){return this.itemsData};mh.prototype.setZeroPosition=function(n){this.zeroPosition=n};mh.prototype.setOptions=function(n){if(n!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];oe.selectiveDeepExtend(e,this.options,n),typeof n.drawPoints=="function"&&(n.drawPoints={onRender:n.drawPoints}),oe.mergeOptions(this.options,n,"interpolation"),oe.mergeOptions(this.options,n,"drawPoints"),oe.mergeOptions(this.options,n,"shaded"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};mh.prototype.update=function(n){this.group=n,this.content=n.content||"graph",this.className=n.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=n.visible===void 0?!0:n.visible,this.style=n.style,this.setOptions(n.options)};mh.prototype.getLegend=function(n,e,r,i,s){if(r==null||r==null){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");r={svg:o,svgElements:{},options:this.options,groups:[this]}}switch((i==null||i==null)&&(i=0),(s==null||s==null)&&(s=.5*e),this.options.style){case"line":Si.drawIcon(this,i,s,n,e,r);break;case"points":case"point":s1.drawIcon(this,i,s,n,e,r);break;case"bar":ds.drawIcon(this,i,s,n,e,r);break}return{icon:r.svg,label:this.content,orientation:this.options.yAxisOrientation}};mh.prototype.getYRange=function(n){for(var e=n[0].y,r=n[0].y,i=0;i<n.length;i++)e=e>n[i].y?n[i].y:e,r=r<n[i].y?n[i].y:r;return{min:e,max:r,yAxisOrientation:this.options.yAxisOrientation}};function ko(n,e,r,i){this.body=n,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=r,this.options=oe.extend({},this.defaultOptions),this.linegraphOptions=i,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}ko.prototype=new ph;ko.prototype.clear=function(){this.groups={},this.amountOfGroups=0};ko.prototype.addGroup=function(n,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,n)||(this.groups[n]=e),this.amountOfGroups+=1)};ko.prototype.updateGroup=function(n,e){this.groups[n]=e};ko.prototype.removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(delete this.groups[n],this.amountOfGroups-=1)};ko.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};ko.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};ko.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};ko.prototype.setOptions=function(n){var e=["enabled","orientation","icons","left","right"];oe.selectiveDeepExtend(e,this.options,n)};ko.prototype.redraw=function(){var n=0,e=Qr(this.groups);Nr(e).call(e,function(a,l){return a<l?-1:1});for(var r=0;r<e.length;r++){var i=e[r];this.groups[i].visible==!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]==!0)&&n++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||n==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var s=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+s+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var o="";for(r=0;r<e.length;r++)i=e[r],this.groups[i].visible==!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]==!0)&&(o+=this.groups[i].content+"<br />");this.dom.textArea.innerHTML=oe.xss(o),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};ko.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var n=Qr(this.groups);Nr(n).call(n,function(u,d){return u<d?-1:1}),Dit(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,r=Number(e.replace("px","")),i=r,s=this.options.iconSize,o=.75*this.options.iconSize,a=r+.5*o+3;this.svg.style.width=s+5+r+"px";for(var l=0;l<n.length;l++){var c=n[l];this.groups[c].visible==!0&&(this.linegraphOptions.visibility[c]===void 0||this.linegraphOptions.visibility[c]==!0)&&(this.groups[c].getLegend(s,o,this.framework,i,a),a+=o+this.options.iconSpacing)}}};var $2="__ungrouped__";function zn(n,e){this.id=Bf(),this.body=n,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=oe.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var r=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(i,s){r._onAdd(s.items)},update:function(i,s){r._onUpdate(s.items)},remove:function(i,s){r._onRemove(s.items)}},this.groupListeners={add:function(i,s){r._onAddGroups(s.items)},update:function(i,s){r._onUpdateGroups(s.items)},remove:function(i,s){r._onRemoveGroups(s.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){r.svg.style.left=oe.option.asSize(-r.props.width),r.forceGraphUpdate=!0,r.redraw.call(r)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}zn.prototype=new ph;zn.prototype._create=function(){var n=document.createElement("div");n.className="vis-line-graph",this.dom.frame=n,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",n.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new _ie(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new _ie(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new ko(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new ko(this.body,this.options.legend,"right",this.options.groups),this.show()};zn.prototype.setOptions=function(n){if(n){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];n.graphHeight===void 0&&n.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&n.graphHeight!==void 0&&co((n.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),oe.selectiveDeepExtend(e,this.options,n),oe.mergeOptions(this.options,n,"interpolation"),oe.mergeOptions(this.options,n,"drawPoints"),oe.mergeOptions(this.options,n,"shaded"),oe.mergeOptions(this.options,n,"legend"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&n.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&n.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,$2)&&this.groups[$2].setOptions(n)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};zn.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};zn.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};zn.prototype.setItems=function(n){var e=this,r,i=this.itemsData;if(!n)this.itemsData=null;else if(vu(n))this.itemsData=B0(n);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(i&&(xt(oe).call(oe,this.itemListeners,function(o,a){i.off(a,o)}),i.dispose(),r=i.getIds(),this._onRemove(r)),this.itemsData){var s=this.id;xt(oe).call(oe,this.itemListeners,function(o,a){e.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r)}};zn.prototype.setGroups=function(n){var e=this,r;if(this.groupsData){xt(oe).call(oe,this.groupListeners,function(o,a){e.groupsData.off(a,o)}),r=this.groupsData.getIds(),this.groupsData=null;for(var i=0;i<r.length;i++)this._removeGroup(r[i])}if(!n)this.groupsData=null;else if(vu(n))this.groupsData=n;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var s=this.id;xt(oe).call(oe,this.groupListeners,function(o,a){e.groupsData.on(a,o,s)}),r=this.groupsData.getIds(),this._onAddGroups(r)}};zn.prototype._onUpdate=function(n){this._updateAllGroupData(n)};zn.prototype._onAdd=function(n){this._onUpdate(n)};zn.prototype._onRemove=function(n){this._onUpdate(n)};zn.prototype._onUpdateGroups=function(n){this._updateAllGroupData(null,n)};zn.prototype._onAddGroups=function(n){this._onUpdateGroups(n)};zn.prototype._onRemoveGroups=function(n){for(var e=0;e<n.length;e++)this._removeGroup(n[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};zn.prototype._removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(this.groups[n].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(n),this.legendRight.removeGroup(n),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(n),this.legendLeft.removeGroup(n),this.legendLeft.redraw()),delete this.groups[n])};zn.prototype._updateGroup=function(n,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(n),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new mh(n,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};zn.prototype._updateAllGroupData=function(n,e){if(this.itemsData!=null){var r={},i=this.itemsData.get(),s=this.itemsData.idProp,o={};n&&In(n).call(n,function(y){o[y]=y});for(var a={},l=0;l<i.length;l++){var c=i[l],u=c.group;u==null&&(u=$2),Object.prototype.hasOwnProperty.call(a,u)?a[u]++:a[u]=1}var d={};if(!e&&n){for(u in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,u)){b=this.groups[u];var h=b.getItems();r[u]=qt(h).call(h,function(y){return d[y[s]]=y[s],y[s]!==o[y[s]]});var f=a[u];a[u]-=r[u].length,r[u].length<f&&(r[u][f-1]={})}}for(l=0;l<i.length;l++)if(c=i[l],u=c.group,u==null&&(u=$2),!(!e&&n&&c[s]!==o[c[s]]&&Object.prototype.hasOwnProperty.call(d,c[s]))){Object.prototype.hasOwnProperty.call(r,u)||(r[u]=new Array(a[u]));var p=oe.bridgeObject(c);p.x=oe.convert(c.x,"Date"),p.end=oe.convert(c.end,"Date"),p.orginalY=c.y,p.y=Number(c.y),p[s]=c[s];var m=r[u].length-a[u]--;r[u][m]=p}for(u in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,u)||Object.prototype.hasOwnProperty.call(r,u)||(r[u]=new Array(0));for(u in r)if(Object.prototype.hasOwnProperty.call(r,u))if(r[u].length==0)Object.prototype.hasOwnProperty.call(this.groups,u)&&this._removeGroup(u);else{var b=void 0;this.groupsData!=null&&(b=this.groupsData.get(u)),b==null&&(b={id:u,content:this.options.defaultGroup+u}),this._updateGroup(b,u),this.groups[u].setItems(r[u])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};zn.prototype.redraw=function(){var n=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,n=this._isResized()||n;var e=this.body.range.end-this.body.range.start,r=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,n==!0){var i;this.svg.style.width=oe.option.asSize(3*this.props.width),this.svg.style.left=oe.option.asSize(-this.props.width),(Fn(i=this.options.height+"").call(i,"%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)}if(this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",n==!0||r==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)n=this._updateGraph()||n,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var s=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(this.props.width!=0){var a=this.props.width/o,l=s*a;this.svg.style.left=-this.props.width-l+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),n};zn.prototype._getSortedGroupIds=function(){var n=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var r=this.groups[e];r.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&n.push({id:e,zIndex:r.options.zIndex})}oe.insertSort(n,function(o,a){var l=o.zIndex,c=a.zIndex;return l===void 0&&(l=0),c===void 0&&(c=0),l==c?0:l<c?-1:1});for(var i=new Array(n.length),s=0;s<n.length;s++)i[s]=n[s].id;return i};zn.prototype._updateGraph=function(){if(hd(this.svgElements),this.props.width!=0&&this.itemsData!=null){var n,e,r={},i=!1,s=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var l={};for(this._getRelevantData(a,l,s,o),this._applySampling(a,l),e=0;e<a.length;e++)this._convertXcoordinates(l[a[e]]);if(this._getYRanges(a,l,r),i=this._updateYAxis(a,r),i==!0)return Ho(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var c=void 0;for(e=0;e<a.length;e++)n=this.groups[a[e]],this.options.stack===!0&&this.options.style==="line"&&(n.options.excludeFromStacking==null||!n.options.excludeFromStacking)&&(c!=null&&(this._stack(l[n.id],l[c.id]),n.options.shaded.enabled==!0&&n.options.shaded.orientation!=="group"&&(n.options.shaded.orientation=="top"&&c.options.shaded.orientation!=="group"?(c.options.shaded.orientation="group",c.options.shaded.groupId=n.id):(n.options.shaded.orientation="group",n.options.shaded.groupId=c.id))),c=n),this._convertYcoordinates(l[a[e]],n);var u={};for(e=0;e<a.length;e++)if(n=this.groups[a[e]],n.options.style==="line"&&n.options.shaded.enabled==!0){var d=l[a[e]];if(d==null||d.length==0)continue;if(Object.prototype.hasOwnProperty.call(u,a[e])||(u[a[e]]=Si.calcPath(d,n)),n.options.shaded.orientation==="group"){var h=n.options.shaded.groupId;if(Fn(a).call(a,h)===-1){console.log(n.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(u,h)||(u[h]=Si.calcPath(l[h],this.groups[h])),Si.drawShading(u[a[e]],n,u[h],this.framework)}else Si.drawShading(u[a[e]],n,void 0,this.framework)}for(ds.draw(a,l,this.framework),e=0;e<a.length;e++)if(n=this.groups[a[e]],l[a[e]].length>0)switch(n.options.style){case"line":Object.prototype.hasOwnProperty.call(u,a[e])||(u[a[e]]=Si.calcPath(l[a[e]],n)),Si.draw(u[a[e]],n,this.framework);case"point":case"points":(n.options.style=="point"||n.options.style=="points"||n.options.drawPoints.enabled==!0)&&s1.draw(l[a[e]],n,this.framework);break}}}return Ho(this.svgElements),!1};zn.prototype._stack=function(n,e){var r,i,s,o,a;r=0;for(var l=0;l<n.length;l++){o=void 0,a=void 0;for(var c=r;c<e.length;c++)if(e[c].x===n[l].x){o=e[c],a=e[c],r=c;break}else if(e[c].x>n[l].x){a=e[c],c==0?o=a:o=e[c-1],r=c;break}a===void 0&&(o=e[e.length-1],a=e[e.length-1]),i=a.x-o.x,s=a.y-o.y,i==0?n[l].y=n[l].orginalY+a.y:n[l].y=n[l].orginalY+s/i*(n[l].x-o.x)+o.y}};zn.prototype._getRelevantData=function(n,e,r,i){var s,o,a,l;if(n.length>0)for(o=0;o<n.length;o++){s=this.groups[n[o]];var c=s.getItems();if(Nr(s.options)==!0){var u=function(p,m){return p.getTime()==m.getTime()?0:p<m?-1:1},d=Math.max(0,oe.binarySearchValue(c,r,"x","before",u)),h=Math.min(c.length,oe.binarySearchValue(c,i,"x","after",u)+1);h<=0&&(h=c.length);var f=new Array(h-d);for(a=d;a<h;a++)l=s.itemsData[a],f[a-d]=l;e[n[o]]=f}else e[n[o]]=s.itemsData}};zn.prototype._applySampling=function(n,e){var r;if(n.length>0){for(var i=0;i<n.length;i++)if(r=this.groups[n[i]],r.options.sampling==!0){var s=e[n[i]];if(s.length>0){var o=1,a=s.length,l=this.body.util.toGlobalScreen(s[s.length-1].x)-this.body.util.toGlobalScreen(s[0].x),c=a/l;o=Math.min(Math.ceil(.2*a),Math.max(1,Math.round(c)));for(var u=new Array(a),d=0;d<a;d+=o){var h=Math.round(d/o);u[h]=s[d]}e[n[i]]=cs(u).call(u,0,Math.round(a/o))}}}};zn.prototype._getYRanges=function(n,e,r){var i,s,o,a=[],l=[],c;if(n.length>0){for(o=0;o<n.length;o++)i=e[n[o]],c=this.groups[n[o]].options,i.length>0&&(s=this.groups[n[o]],c.stack===!0&&c.style==="bar"?c.yAxisOrientation==="left"?a=Mr(a).call(a,i):l=Mr(l).call(l,i):r[n[o]]=s.getYRange(i,n[o]));ds.getStackedYRange(a,r,n,"__barStackLeft","left"),ds.getStackedYRange(l,r,n,"__barStackRight","right")}};zn.prototype._updateYAxis=function(n,e){var r=!1,i=!1,s=!1,o=1e9,a=1e9,l=-1e9,c=-1e9,u,d;if(n.length>0){for(var h=0;h<n.length;h++){var f=this.groups[n[h]];f&&f.options.yAxisOrientation!="right"?(i=!0,o=1e9,l=-1e9):f&&f.options.yAxisOrientation&&(s=!0,a=1e9,c=-1e9)}for(h=0;h<n.length;h++)!Object.prototype.hasOwnProperty.call(e,n[h])||e[n[h]].ignore===!0||(u=e[n[h]].min,d=e[n[h]].max,e[n[h]].yAxisOrientation!="right"?(i=!0,o=o>u?u:o,l=l<d?d:l):(s=!0,a=a>u?u:a,c=c<d?d:c));i==!0&&this.yAxisLeft.setRange(o,l),s==!0&&this.yAxisRight.setRange(a,c)}r=this._toggleAxisVisiblity(i,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(s,this.yAxisRight)||r,s==!0&&i==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!i,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(s==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<p.length;h++)Fn(n).call(n,p[h])!=-1&&cs(n).call(n,Fn(n).call(n,p[h]),1);return r};zn.prototype._toggleAxisVisiblity=function(n,e){var r=!1;return n==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),r=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),r=!0),r};zn.prototype._convertXcoordinates=function(n){for(var e=this.body.util.toScreen,r=0;r<n.length;r++)n[r].screen_x=e(n[r].x)+this.props.width,n[r].screen_y=n[r].y,n[r].end!=null?n[r].screen_end=e(n[r].end)+this.props.width:n[r].screen_end=void 0};zn.prototype._convertYcoordinates=function(n,e){var r=this.yAxisLeft,i=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(r=this.yAxisRight);for(var s=0;s<n.length;s++)n[s].screen_y=Math.round(r.convertValue(n[s].y));e.setZeroPosition(Math.min(i,r.convertValue(0)))};let Xt="string",vn="boolean",Nn="number",Tct="array",fm="date",sr="object",Pct="dom",pm="moment",Sie="any",Ict={configure:{enabled:{boolean:vn},filter:{boolean:vn,function:"function"},container:{dom:Pct},__type__:{object:sr,boolean:vn,function:"function"}},alignCurrentTime:{string:Xt,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:Xt},sort:{boolean:vn},sampling:{boolean:vn},stack:{boolean:vn},graphHeight:{string:Xt,number:Nn},shaded:{enabled:{boolean:vn},orientation:{string:["bottom","top","zero","group"]},groupId:{object:sr},__type__:{boolean:vn,object:sr}},style:{string:["line","bar","points"]},barChart:{width:{number:Nn},minWidth:{number:Nn},sideBySide:{boolean:vn},align:{string:["left","center","right"]},__type__:{object:sr}},interpolation:{enabled:{boolean:vn},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:Nn},__type__:{object:sr,boolean:vn}},drawPoints:{enabled:{boolean:vn},onRender:{function:"function"},size:{number:Nn},style:{string:["square","circle"]},__type__:{object:sr,boolean:vn,function:"function"}},dataAxis:{showMinorLabels:{boolean:vn},showMajorLabels:{boolean:vn},showWeekScale:{boolean:vn},icons:{boolean:vn},width:{string:Xt,number:Nn},visible:{boolean:vn},alignZeros:{boolean:vn},left:{range:{min:{number:Nn,undefined:"undefined"},max:{number:Nn,undefined:"undefined"},__type__:{object:sr}},format:{function:"function"},title:{text:{string:Xt,number:Nn,undefined:"undefined"},style:{string:Xt,undefined:"undefined"},__type__:{object:sr}},__type__:{object:sr}},right:{range:{min:{number:Nn,undefined:"undefined"},max:{number:Nn,undefined:"undefined"},__type__:{object:sr}},format:{function:"function"},title:{text:{string:Xt,number:Nn,undefined:"undefined"},style:{string:Xt,undefined:"undefined"},__type__:{object:sr}},__type__:{object:sr}},__type__:{object:sr}},legend:{enabled:{boolean:vn},icons:{boolean:vn},left:{visible:{boolean:vn},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:sr}},right:{visible:{boolean:vn},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:sr}},__type__:{object:sr,boolean:vn}},groups:{visibility:{any:Sie},__type__:{object:sr}},autoResize:{boolean:vn},throttleRedraw:{number:Nn},clickToUse:{boolean:vn},end:{number:Nn,date:fm,string:Xt,moment:pm},format:{minorLabels:{millisecond:{string:Xt,undefined:"undefined"},second:{string:Xt,undefined:"undefined"},minute:{string:Xt,undefined:"undefined"},hour:{string:Xt,undefined:"undefined"},weekday:{string:Xt,undefined:"undefined"},day:{string:Xt,undefined:"undefined"},week:{string:Xt,undefined:"undefined"},month:{string:Xt,undefined:"undefined"},quarter:{string:Xt,undefined:"undefined"},year:{string:Xt,undefined:"undefined"},__type__:{object:sr}},majorLabels:{millisecond:{string:Xt,undefined:"undefined"},second:{string:Xt,undefined:"undefined"},minute:{string:Xt,undefined:"undefined"},hour:{string:Xt,undefined:"undefined"},weekday:{string:Xt,undefined:"undefined"},day:{string:Xt,undefined:"undefined"},week:{string:Xt,undefined:"undefined"},month:{string:Xt,undefined:"undefined"},quarter:{string:Xt,undefined:"undefined"},year:{string:Xt,undefined:"undefined"},__type__:{object:sr}},__type__:{object:sr}},moment:{function:"function"},height:{string:Xt,number:Nn},hiddenDates:{start:{date:fm,number:Nn,string:Xt,moment:pm},end:{date:fm,number:Nn,string:Xt,moment:pm},repeat:{string:Xt},__type__:{object:sr,array:Tct}},locale:{string:Xt},locales:{__any__:{any:Sie},__type__:{object:sr}},max:{date:fm,number:Nn,string:Xt,moment:pm},maxHeight:{number:Nn,string:Xt},maxMinorChars:{number:Nn},min:{date:fm,number:Nn,string:Xt,moment:pm},minHeight:{number:Nn,string:Xt},moveable:{boolean:vn},multiselect:{boolean:vn},orientation:{string:Xt},showCurrentTime:{boolean:vn},showMajorLabels:{boolean:vn},showMinorLabels:{boolean:vn},showWeekScale:{boolean:vn},snap:{function:"function",null:"null"},start:{date:fm,number:Nn,string:Xt,moment:pm},timeAxis:{scale:{string:Xt,undefined:"undefined"},step:{number:Nn,undefined:"undefined"},__type__:{object:sr}},width:{string:Xt,number:Nn},zoomable:{boolean:vn},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:Nn},zoomMin:{number:Nn},zIndex:{number:Nn},__type__:{object:sr}},Mct={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function Eu(n,e,r,i){var s,o,a,l,c,u,d;if(!(an(r)||vu(r))&&r instanceof Object){var h=i;i=r,r=h}i&&i.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:us,width:null,height:null,maxHeight:null,minHeight:null},this.options=oe.deepExtend({},this.defaultOptions),this._create(n),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:Ue(s=this.on).call(s,this),off:Ue(o=this.off).call(o,this),emit:Ue(a=this.emit).call(a,this)},hiddenDates:[],util:{getScale(){return f.timeAxis.step.scale},getStep(){return f.timeAxis.step.step},toScreen:Ue(l=f._toScreen).call(l,f),toGlobalScreen:Ue(c=f._toGlobalScreen).call(c,f),toTime:Ue(u=f._toTime).call(u,f),toGlobalTime:Ue(d=f._toGlobalTime).call(d,f)}},this.range=new n6(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new L2(this.body),this.components.push(this.timeAxis),this.currentTime=new hye(this.body),this.components.push(this.currentTime),this.linegraph=new zn(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(p){f.emit("click",f.getEventProperties(p))}),this.on("doubletap",function(p){f.emit("doubleClick",f.getEventProperties(p))}),this.dom.root.oncontextmenu=function(p){f.emit("contextmenu",f.getEventProperties(p))},this.initialFitDone=!1,this.on("changed",function(){if(f.itemsData!=null){if(!f.initialFitDone&&!f.options.rollingMode)if(f.initialFitDone=!0,f.options.start!=null||f.options.end!=null){if(f.options.start==null||f.options.end==null)var p=f.getItemRange();var m=f.options.start!=null?f.options.start:p.min,b=f.options.end!=null?f.options.end:p.max;f.setWindow(m,b,{animation:!1})}else f.fit({animation:!1});!f.initialDrawDone&&(f.initialRangeChangeDone||!f.options.start&&!f.options.end||f.options.rollingMode)&&(f.initialDrawDone=!0,f.dom.root.style.visibility="visible",f.dom.loadingScreen.parentNode.removeChild(f.dom.loadingScreen),f.options.onInitialDrawComplete&&Hi(()=>f.options.onInitialDrawComplete(),0))}}),i&&this.setOptions(i),r&&this.setGroups(r),e&&this.setItems(e),this._redraw()}Eu.prototype=new pg;Eu.prototype.setOptions=function(n){or.validate(n,Ict)===!0&&console.log("%cErrors have been found in the supplied options object.",F2),pg.prototype.setOptions.call(this,n)};Eu.prototype.setItems=function(n){var e=this.itemsData==null,r;if(n?vu(n)?r=B0(n):r=B0(new j0(n)):r=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=r,this.linegraph&&this.linegraph.setItems(r!=null?r.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var i=this.options.start!=null?this.options.start:null,s=this.options.end!=null?this.options.end:null;this.setWindow(i,s,{animation:!1})}else this.fit({animation:!1})};Eu.prototype.setGroups=function(n){var e;n?vu(n)?e=n:e=new j0(n):e=null,this.groupsData=e,this.linegraph.setGroups(e)};Eu.prototype.getLegend=function(n,e,r){return e===void 0&&(e=15),r===void 0&&(r=15),this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].getLegend(e,r):"cannot find group:'"+n+"'"};Eu.prototype.isGroupVisible=function(n){return this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].visible&&(this.linegraph.options.groups.visibility[n]===void 0||this.linegraph.options.groups.visibility[n]==!0):!1};Eu.prototype.getDataRange=function(){var n=null,e=null;for(var r in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,r)||this.linegraph.groups[r].visible!==!0))for(var i=0;i<this.linegraph.groups[r].itemsData.length;i++){var s=this.linegraph.groups[r].itemsData[i],o=oe.convert(s.x,"Date").valueOf();n=n==null||n>o?o:n,e=e==null||e<o?o:e}return{min:n!=null?new Date(n):null,max:e!=null?new Date(e):null}};Eu.prototype.getEventProperties=function(n){var e=n.center?n.center.x:n.clientX,r=n.center?n.center.y:n.clientY,i=e-oe.getAbsoluteLeft(this.dom.centerContainer),s=r-oe.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(i),a=PL.customTimeFromTarget(n),l=oe.getTarget(n),c=null;oe.hasParent(l,this.timeAxis.dom.foreground)||this.timeAxis2&&oe.hasParent(l,this.timeAxis2.dom.foreground)?c="axis":oe.hasParent(l,this.linegraph.yAxisLeft.dom.frame)||oe.hasParent(l,this.linegraph.yAxisRight.dom.frame)?c="data-axis":oe.hasParent(l,this.linegraph.legendLeft.dom.frame)||oe.hasParent(l,this.linegraph.legendRight.dom.frame)?c="legend":a!=null?c="custom-time":oe.hasParent(l,this.currentTime.bar)?c="current-time":oe.hasParent(l,this.dom.center)&&(c="background");var u=[],d=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!d.hidden&&this.itemsData.length>0&&u.push(d.screenToValue(s)),!h.hidden&&this.itemsData.length>0&&u.push(h.screenToValue(s)),{event:n,customTime:a?a.options.id:null,what:c,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:i,y:s,time:o,value:u}};Eu.prototype._createConfigurator=function(){return new pye(this,this.dom.container,Mct)};const Oct=Rit();us.locale(Oct);function Dct(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Rct(n,e,r){return e=Uct(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function kie(n,e){return Bct(n)||Dct(n,e)||mye(n,e)||$ct()}function Nct(n){return jct(n)||Lct(n)||mye(n)||Fct()}function jct(n){if(Array.isArray(n))return SN(n)}function Bct(n){if(Array.isArray(n))return n}function Lct(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function mye(n,e){if(n){if(typeof n=="string")return SN(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SN(n,e)}}function SN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function Fct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zct(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Uct(n){var e=zct(n,"string");return typeof e=="symbol"?e:String(e)}var Wct=function(e,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(Nct(Object.entries(e).filter(function(s){var o=kie(s,1),a=o[0];return!i.has(a)}).map(function(s){var o=kie(s,2),a=o[0],l=o[1];return Rct({},a,l)}))))};function kN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function qct(n){if(Array.isArray(n))return n}function Hct(n){if(Array.isArray(n))return kN(n)}function Vct(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Gct(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Yct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xct(n,e){return qct(n)||Gct(n,e)||gye(n,e)||Yct()}function Cie(n){return Hct(n)||Vct(n)||gye(n)||Kct()}function gye(n,e){if(n){if(typeof n=="string")return kN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kN(n,e):void 0}}function Qct(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.wrapperElementType,i=r===void 0?"div":r,s=e.nodeMapper,o=s===void 0?function(d){return d}:s,a=e.methodNames,l=a===void 0?[]:a,c=e.initPropNames,u=c===void 0?[]:c;return T.forwardRef(function(d,h){var f=T.useRef(),p=T.useMemo(function(){var y=Object.fromEntries(u.filter(function(v){return d.hasOwnProperty(v)}).map(function(v){return[v,d[v]]}));return n(y)},[]);Eie(function(){p(o(f.current))},T.useLayoutEffect),Eie(function(){return p._destructor instanceof Function?p._destructor:void 0});var m=T.useCallback(function(y){for(var v=arguments.length,w=new Array(v>1?v-1:0),_=1;_<v;_++)w[_-1]=arguments[_];return p[y]instanceof Function?p[y].apply(p,w):void 0},[p]),b=T.useRef({});return Object.keys(Wct(d,[].concat(Cie(l),Cie(u)))).filter(function(y){return b.current[y]!==d[y]}).forEach(function(y){return m(y,d[y])}),b.current=d,T.useImperativeHandle(h,function(){return Object.fromEntries(l.map(function(y){return[y,function(){for(var v=arguments.length,w=new Array(v),_=0;_<v;_++)w[_]=arguments[_];return m.apply(void 0,[y].concat(w))}]}))},[m]),B.createElement(i,{ref:f})})}function Eie(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T.useEffect,r=T.useRef(),i=T.useRef(!1),s=T.useRef(!1),o=T.useState(0),a=Xct(o,2);a[0];var l=a[1];i.current&&(s.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),l(function(c){return c+1}),function(){s.current&&r.current&&r.current()}},[])}var Jct=typeof global=="object"&&global&&global.Object===Object&&global,Zct=typeof self=="object"&&self&&self.Object===Object&&self,bye=Jct||Zct||Function("return this")(),z2=bye.Symbol,yye=Object.prototype,eut=yye.hasOwnProperty,tut=yye.toString,cy=z2?z2.toStringTag:void 0;function nut(n){var e=eut.call(n,cy),r=n[cy];try{n[cy]=void 0;var i=!0}catch{}var s=tut.call(n);return i&&(e?n[cy]=r:delete n[cy]),s}var rut=Object.prototype,iut=rut.toString;function sut(n){return iut.call(n)}var out="[object Null]",aut="[object Undefined]",Aie=z2?z2.toStringTag:void 0;function lut(n){return n==null?n===void 0?aut:out:Aie&&Aie in Object(n)?nut(n):sut(n)}function cut(n){return n!=null&&typeof n=="object"}var uut="[object Symbol]";function dut(n){return typeof n=="symbol"||cut(n)&&lut(n)==uut}var hut=/\s/;function fut(n){for(var e=n.length;e--&&hut.test(n.charAt(e)););return e}var put=/^\s+/;function mut(n){return n&&n.slice(0,fut(n)+1).replace(put,"")}function U2(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Tie=NaN,gut=/^[-+]0x[0-9a-f]+$/i,but=/^0b[01]+$/i,yut=/^0o[0-7]+$/i,vut=parseInt;function Pie(n){if(typeof n=="number")return n;if(dut(n))return Tie;if(U2(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=U2(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=mut(n);var r=but.test(n);return r||yut.test(n)?vut(n.slice(2),r?2:8):gut.test(n)?Tie:+n}var DD=function(){return bye.Date.now()},wut="Expected a function",xut=Math.max,_ut=Math.min;function vye(n,e,r){var i,s,o,a,l,c,u=0,d=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(wut);e=Pie(e)||0,U2(r)&&(d=!!r.leading,h="maxWait"in r,o=h?xut(Pie(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f);function p(C){var E=i,A=s;return i=s=void 0,u=C,a=n.apply(A,E),a}function m(C){return u=C,l=setTimeout(v,e),d?p(C):a}function b(C){var E=C-c,A=C-u,M=e-E;return h?_ut(M,o-A):M}function y(C){var E=C-c,A=C-u;return c===void 0||E>=e||E<0||h&&A>=o}function v(){var C=DD();if(y(C))return w(C);l=setTimeout(v,b(C))}function w(C){return l=void 0,f&&i?p(C):(i=s=void 0,a)}function _(){l!==void 0&&clearTimeout(l),u=0,i=c=s=l=void 0}function x(){return l===void 0?a:w(DD())}function S(){var C=DD(),E=y(C);if(i=arguments,s=this,c=C,E){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(v,e),p(c)}return l===void 0&&(l=setTimeout(v,e)),a}return S.cancel=_,S.flush=x,S}var Sut="Expected a function";function kut(n,e,r){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(Sut);return U2(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),vye(n,e,{leading:i,maxWait:e,trailing:s})}var Lf=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Lf.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Lf.Bounce.In(n*2)*.5:Lf.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),Ly=function(){return performance.now()},wye=function(){function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var s=0,o=r;s<o.length;s++){var a=o[s];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},n.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=0,s=e;i<s.length;i++){var o=s[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,r){e===void 0&&(e=Ly()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var o=this._tweens[i[s]],a=!r;o&&o.update(e,a)===!1&&!r&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},n}(),CN={Linear:function(n,e){var r=n.length-1,i=r*e,s=Math.floor(i),o=CN.Utils.Linear;return e<0?o(n[0],n[1],i):e>1?o(n[r],n[r-1],r-i):o(n[s],n[s+1>r?r:s+1],i-s)},Utils:{Linear:function(n,e,r){return(e-n)*r+n}}},xye=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),EN=new wye,Iie=function(){function n(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Lf.Linear.None,this._interpolationFunction=CN.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=xye.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=EN,EN.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=Ly()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var o in this._valuesEnd)s[o]=this._valuesEnd[o];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,s,o){for(var a in i){var l=e[a],c=Array.isArray(l),u=c?"array":typeof l,d=!c&&Array.isArray(i[a]);if(!(u==="undefined"||u==="function")){if(d){var h=i[a];if(h.length===0)continue;for(var f=[l],p=0,m=h.length;p<m;p+=1){var b=this._handleRelativeValue(l,h[p]);if(isNaN(b)){d=!1,console.warn("Found invalid interpolation list. Skipping.");break}f.push(b)}d&&(i[a]=f)}if((u==="object"||c)&&l&&!d){r[a]=c?[]:{};var y=l;for(var v in y)r[a][v]=y[v];s[a]=c?[]:{};var h=i[a];if(!this._isDynamic){var w={};for(var v in h)w[v]=h[v];i[a]=h=w}this._setupProperties(y,r[a],h,s[a],o)}else(typeof r[a]>"u"||o)&&(r[a]=l),c||(r[a]*=1),d?s[a]=i[a].slice().reverse():s[a]=r[a]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=Ly()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=Ly()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Lf.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=CN.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){var i=this,s;if(e===void 0&&(e=Ly()),r===void 0&&(r=n.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,l=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),c=this._duration+this._repeat*l,u=function(){if(i._duration===0||a>c)return 1;var b=Math.trunc(a/l),y=a-b*l,v=Math.min(y/i._duration,1);return v===0&&a===i._duration?1:v},d=u(),h=this._easingFunction(d);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,h),this._onUpdateCallback&&this._onUpdateCallback(this._object,d),this._duration===0||a>=this._duration)if(this._repeat>0){var f=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=f);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*f,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,m=this._chainedTweens.length;p<m;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,s){for(var o in i)if(r[o]!==void 0){var a=r[o]||0,l=i[o],c=Array.isArray(e[o]),u=Array.isArray(l),d=!c&&u;d?e[o]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(e[o],a,l,s):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[o]=a+(l-a)*s))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n.autoStartOnUpdate=!1,n}();xye.nextId;var Kl=EN;Kl.getAll.bind(Kl);Kl.removeAll.bind(Kl);Kl.add.bind(Kl);Kl.remove.bind(Kl);Kl.update.bind(Kl);function Mie(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Cut(n){if(Array.isArray(n))return n}function Eut(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Aut(n,e,r){return Object.defineProperty(n,"prototype",{writable:!1}),n}function Tut(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Put(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iut(n,e){return Cut(n)||Tut(n,e)||Mut(n,e)||Put()}function Mut(n,e){if(n){if(typeof n=="string")return Mie(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mie(n,e):void 0}}var Out=Aut(function n(e,r){var i=r.default,s=i===void 0?null:i,o=r.triggerUpdate,a=o===void 0?!0:o,l=r.onChange,c=l===void 0?function(u,d){}:l;Eut(this,n),this.name=e,this.defaultVal=s,this.triggerUpdate=a,this.onChange=c});function OL(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,s=i===void 0?{}:i,o=n.methods,a=o===void 0?{}:o,l=n.aliases,c=l===void 0?{}:l,u=n.init,d=u===void 0?function(){}:u,h=n.update,f=h===void 0?function(){}:h,p=Object.keys(s).map(function(m){return new Out(m,s[m])});return function m(){for(var b=arguments.length,y=new Array(b),v=0;v<b;v++)y[v]=arguments[v];var w=!!(this instanceof m&&this.constructor),_=w?y.shift():void 0,x=y[0],S=x===void 0?{}:x,C=Object.assign({},r instanceof Function?r(S):r,{initialised:!1}),E={};function A(O){return M(O,S),I(),A}var M=function(F,$){d.call(A,F,C,$),C.initialised=!0},I=vye(function(){C.initialised&&(f.call(A,C,E),E={})},1);return p.forEach(function(O){A[O.name]=F(O);function F($){var z=$.name,R=$.triggerUpdate,j=R===void 0?!1:R,N=$.onChange,D=N===void 0?function(X,Y){}:N,H=$.defaultVal,U=H===void 0?null:H;return function(X){var Y=C[z];if(!arguments.length)return Y;var ee=X===void 0?U:X;return C[z]=ee,D.call(A,ee,C,Y),!E.hasOwnProperty(z)&&(E[z]=Y),j&&I(),A}}}),Object.keys(a).forEach(function(O){A[O]=function(){for(var F,$=arguments.length,z=new Array($),R=0;R<$;R++)z[R]=arguments[R];return(F=a[O]).call.apply(F,[A,C].concat(z))}}),Object.entries(c).forEach(function(O){var F=Iut(O,2),$=F[0],z=F[1];return A[$]=A[z]}),A.resetProps=function(){return p.forEach(function(O){A[O.name](O.defaultVal)}),A},A.resetProps(),C._rerender=I,w&&_&&A(_),A}}var Tn=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function W2(n){"@babel/helpers - typeof";return W2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W2(n)}var Dut=/^\s+/,Rut=/\s+$/;function jt(n,e){if(n=n||"",e=e||{},n instanceof jt)return n;if(!(this instanceof jt))return new jt(n,e);var r=Nut(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}jt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,s,o,a,l;return r=e.r/255,i=e.g/255,s=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),.2126*o+.7152*a+.0722*l},setAlpha:function(e){return this._a=_ye(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Die(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Die(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+s+"%)":"hsva("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=Oie(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Oie(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+s+"%)":"hsla("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return Rie(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Fut(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(lr(this._r,255)*100)+"%",g:Math.round(lr(this._g,255)*100)+"%",b:Math.round(lr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(lr(this._r,255)*100)+"%, "+Math.round(lr(this._g,255)*100)+"%, "+Math.round(lr(this._b,255)*100)+"%)":"rgba("+Math.round(lr(this._r,255)*100)+"%, "+Math.round(lr(this._g,255)*100)+"%, "+Math.round(lr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Qut[Rie(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+Nie(this._r,this._g,this._b,this._a),i=r,s=this._gradientType?"GradientType = 1, ":"";if(e){var o=jt(e);i="#"+Nie(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,s=this._a<1&&this._a>=0,o=!r&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return jt(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Wut,arguments)},brighten:function(){return this._applyModification(qut,arguments)},darken:function(){return this._applyModification(Hut,arguments)},desaturate:function(){return this._applyModification($ut,arguments)},saturate:function(){return this._applyModification(zut,arguments)},greyscale:function(){return this._applyModification(Uut,arguments)},spin:function(){return this._applyModification(Vut,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Kut,arguments)},complement:function(){return this._applyCombination(Gut,arguments)},monochromatic:function(){return this._applyCombination(Xut,arguments)},splitcomplement:function(){return this._applyCombination(Yut,arguments)},triad:function(){return this._applyCombination(jie,[3])},tetrad:function(){return this._applyCombination(jie,[4])}};jt.fromRatio=function(n,e){if(W2(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=Fy(n[i]));n=r}return jt(n,e)};function Nut(n){var e={r:0,g:0,b:0},r=1,i=null,s=null,o=null,a=!1,l=!1;return typeof n=="string"&&(n=tdt(n)),W2(n)=="object"&&(gc(n.r)&&gc(n.g)&&gc(n.b)?(e=jut(n.r,n.g,n.b),a=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):gc(n.h)&&gc(n.s)&&gc(n.v)?(i=Fy(n.s),s=Fy(n.v),e=Lut(n.h,i,s),a=!0,l="hsv"):gc(n.h)&&gc(n.s)&&gc(n.l)&&(i=Fy(n.s),o=Fy(n.l),e=But(n.h,i,o),a=!0,l="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=_ye(r),{ok:a,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function jut(n,e,r){return{r:lr(n,255)*255,g:lr(e,255)*255,b:lr(r,255)*255}}function Oie(n,e,r){n=lr(n,255),e=lr(e,255),r=lr(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,a,l=(i+s)/2;if(i==s)o=a=0;else{var c=i-s;switch(a=l>.5?c/(2-i-s):c/(i+s),i){case n:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-n)/c+2;break;case r:o=(n-e)/c+4;break}o/=6}return{h:o,s:a,l}}function But(n,e,r){var i,s,o;n=lr(n,360),e=lr(e,100),r=lr(r,100);function a(u,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(d-u)*6*h:h<1/2?d:h<2/3?u+(d-u)*(2/3-h)*6:u}if(e===0)i=s=o=r;else{var l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=a(c,l,n+1/3),s=a(c,l,n),o=a(c,l,n-1/3)}return{r:i*255,g:s*255,b:o*255}}function Die(n,e,r){n=lr(n,255),e=lr(e,255),r=lr(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,a,l=i,c=i-s;if(a=i===0?0:c/i,i==s)o=0;else{switch(i){case n:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-n)/c+2;break;case r:o=(n-e)/c+4;break}o/=6}return{h:o,s:a,v:l}}function Lut(n,e,r){n=lr(n,360)*6,e=lr(e,100),r=lr(r,100);var i=Math.floor(n),s=n-i,o=r*(1-e),a=r*(1-s*e),l=r*(1-(1-s)*e),c=i%6,u=[r,a,o,o,l,r][c],d=[l,r,r,a,o,o][c],h=[o,o,l,r,r,a][c];return{r:u*255,g:d*255,b:h*255}}function Rie(n,e,r,i){var s=[Na(Math.round(n).toString(16)),Na(Math.round(e).toString(16)),Na(Math.round(r).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Fut(n,e,r,i,s){var o=[Na(Math.round(n).toString(16)),Na(Math.round(e).toString(16)),Na(Math.round(r).toString(16)),Na(Sye(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Nie(n,e,r,i){var s=[Na(Sye(i)),Na(Math.round(n).toString(16)),Na(Math.round(e).toString(16)),Na(Math.round(r).toString(16))];return s.join("")}jt.equals=function(n,e){return!n||!e?!1:jt(n).toRgbString()==jt(e).toRgbString()};jt.random=function(){return jt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function $ut(n,e){e=e===0?0:e||10;var r=jt(n).toHsl();return r.s-=e/100,r.s=s6(r.s),jt(r)}function zut(n,e){e=e===0?0:e||10;var r=jt(n).toHsl();return r.s+=e/100,r.s=s6(r.s),jt(r)}function Uut(n){return jt(n).desaturate(100)}function Wut(n,e){e=e===0?0:e||10;var r=jt(n).toHsl();return r.l+=e/100,r.l=s6(r.l),jt(r)}function qut(n,e){e=e===0?0:e||10;var r=jt(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),jt(r)}function Hut(n,e){e=e===0?0:e||10;var r=jt(n).toHsl();return r.l-=e/100,r.l=s6(r.l),jt(r)}function Vut(n,e){var r=jt(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,jt(r)}function Gut(n){var e=jt(n).toHsl();return e.h=(e.h+180)%360,jt(e)}function jie(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=jt(n).toHsl(),i=[jt(n)],s=360/e,o=1;o<e;o++)i.push(jt({h:(r.h+o*s)%360,s:r.s,l:r.l}));return i}function Yut(n){var e=jt(n).toHsl(),r=e.h;return[jt(n),jt({h:(r+72)%360,s:e.s,l:e.l}),jt({h:(r+216)%360,s:e.s,l:e.l})]}function Kut(n,e,r){e=e||6,r=r||30;var i=jt(n).toHsl(),s=360/r,o=[jt(n)];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,o.push(jt(i));return o}function Xut(n,e){e=e||6;for(var r=jt(n).toHsv(),i=r.h,s=r.s,o=r.v,a=[],l=1/e;e--;)a.push(jt({h:i,s,v:o})),o=(o+l)%1;return a}jt.mix=function(n,e,r){r=r===0?0:r||50;var i=jt(n).toRgb(),s=jt(e).toRgb(),o=r/100,a={r:(s.r-i.r)*o+i.r,g:(s.g-i.g)*o+i.g,b:(s.b-i.b)*o+i.b,a:(s.a-i.a)*o+i.a};return jt(a)};jt.readability=function(n,e){var r=jt(n),i=jt(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};jt.isReadable=function(n,e,r){var i=jt.readability(n,e),s,o;switch(o=!1,s=ndt(r),s.level+s.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};jt.mostReadable=function(n,e,r){var i=null,s=0,o,a,l,c;r=r||{},a=r.includeFallbackColors,l=r.level,c=r.size;for(var u=0;u<e.length;u++)o=jt.readability(n,e[u]),o>s&&(s=o,i=jt(e[u]));return jt.isReadable(n,i,{level:l,size:c})||!a?i:(r.includeFallbackColors=!1,jt.mostReadable(n,["#fff","#000"],r))};var AN=jt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Qut=jt.hexNames=Jut(AN);function Jut(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function _ye(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function lr(n,e){Zut(n)&&(n="100%");var r=edt(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function s6(n){return Math.min(1,Math.max(0,n))}function to(n){return parseInt(n,16)}function Zut(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function edt(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Na(n){return n.length==1?"0"+n:""+n}function Fy(n){return n<=1&&(n=n*100+"%"),n}function Sye(n){return Math.round(parseFloat(n)*255).toString(16)}function Bie(n){return to(n)/255}var wa=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function gc(n){return!!wa.CSS_UNIT.exec(n)}function tdt(n){n=n.replace(Dut,"").replace(Rut,"").toLowerCase();var e=!1;if(AN[n])n=AN[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=wa.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=wa.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=wa.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=wa.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=wa.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=wa.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=wa.hex8.exec(n))?{r:to(r[1]),g:to(r[2]),b:to(r[3]),a:Bie(r[4]),format:e?"name":"hex8"}:(r=wa.hex6.exec(n))?{r:to(r[1]),g:to(r[2]),b:to(r[3]),format:e?"name":"hex"}:(r=wa.hex4.exec(n))?{r:to(r[1]+""+r[1]),g:to(r[2]+""+r[2]),b:to(r[3]+""+r[3]),a:Bie(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=wa.hex3.exec(n))?{r:to(r[1]+""+r[1]),g:to(r[2]+""+r[2]),b:to(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function ndt(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function TN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function rdt(n){if(Array.isArray(n))return TN(n)}function kye(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function idt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sdt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bo(n,e){return n.get(kye(n,e))}function Lie(n,e,r){idt(n,e),e.set(n,r)}function Fie(n,e,r){return n.set(kye(n,e),r),r}function odt(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,hdt(i.key),i)}}function adt(n,e,r){return e&&odt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ldt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function udt(n){return rdt(n)||ldt(n)||fdt(n)||cdt()}function ddt(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function hdt(n){var e=ddt(n,"string");return typeof e=="symbol"?e:e+""}function fdt(n,e){if(n){if(typeof n=="string")return TN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TN(n,e):void 0}}var pdt=123,mdt=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},Cye=function(e,r,i){return(e<<16)+(r<<8)+i},gdt=function(e){var r=jt(e).toRgb(),i=r.r,s=r.g,o=r.b;return Cye(i,s,o)},$ie=function(e,r){return e*pdt%Math.pow(2,r)},Nh=new WeakMap,bc=new WeakMap,bdt=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;sdt(this,n),Lie(this,Nh,void 0),Lie(this,bc,void 0),Fie(bc,this,e),this.reset()}return adt(n,[{key:"reset",value:function(){Fie(Nh,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Bo(Nh,this).length>=Math.pow(2,24-Bo(bc,this)))return null;var i=Bo(Nh,this).length,s=$ie(i,Bo(bc,this)),o=mdt(i+(s<<24-Bo(bc,this)));return Bo(Nh,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?gdt(r):Cye.apply(void 0,udt(r));if(!i)return null;var s=i&Math.pow(2,24-Bo(bc,this))-1,o=i>>24-Bo(bc,this)&Math.pow(2,Bo(bc,this))-1;return $ie(s,Bo(bc,this))!==o||s>=Bo(Nh,this).length?null:Bo(Nh,this)[s]}}])}(),o1,dr,Eye,Aye,Yh,zie,Tye,Pye,Iye,DL,PN,IN,jw={},Mye=[],ydt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,o6=Array.isArray;function Rl(n,e){for(var r in e)n[r]=e[r];return n}function RL(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function vdt(n,e,r){var i,s,o,a={};for(o in e)o=="key"?i=e[o]:o=="ref"?s=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?o1.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)a[o]===void 0&&(a[o]=n.defaultProps[o]);return pv(n,a,i,s,null)}function pv(n,e,r,i,s){var o={type:n,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++Eye,__i:-1,__u:0};return s==null&&dr.vnode!=null&&dr.vnode(o),o}function a6(n){return n.children}function qS(n,e){this.props=n,this.context=e}function F0(n,e){if(e==null)return n.__?F0(n.__,n.__i+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?F0(n):null}function Oye(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return Oye(n)}}function Uie(n){(!n.__d&&(n.__d=!0)&&Yh.push(n)&&!q2.__r++||zie!=dr.debounceRendering)&&((zie=dr.debounceRendering)||Tye)(q2)}function q2(){for(var n,e,r,i,s,o,a,l=1;Yh.length;)Yh.length>l&&Yh.sort(Pye),n=Yh.shift(),l=Yh.length,n.__d&&(r=void 0,i=void 0,s=(i=(e=n).__v).__e,o=[],a=[],e.__P&&((r=Rl({},i)).__v=i.__v+1,dr.vnode&&dr.vnode(r),NL(e.__P,r,i,e.__n,e.__P.namespaceURI,32&i.__u?[s]:null,o,s??F0(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,Nye(o,r,a),i.__e=i.__=null,r.__e!=s&&Oye(r)));q2.__r=0}function Dye(n,e,r,i,s,o,a,l,c,u,d){var h,f,p,m,b,y,v,w=i&&i.__k||Mye,_=e.length;for(c=wdt(r,e,w,c,_),h=0;h<_;h++)(p=r.__k[h])!=null&&(f=p.__i==-1?jw:w[p.__i]||jw,p.__i=h,y=NL(n,p,f,s,o,a,l,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&jL(f.ref,null,p),d.push(p.ref,p.__c||m,p)),b==null&&m!=null&&(b=m),(v=!!(4&p.__u))||f.__k===p.__k?c=Rye(p,c,n,v):typeof p.type=="function"&&y!==void 0?c=y:m&&(c=m.nextSibling),p.__u&=-7);return r.__e=b,c}function wdt(n,e,r,i,s){var o,a,l,c,u,d=r.length,h=d,f=0;for(n.__k=new Array(s),o=0;o<s;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=n.__k[o]=pv(null,a,null,null,null):o6(a)?a=n.__k[o]=pv(a6,{children:a},null,null,null):a.constructor==null&&a.__b>0?a=n.__k[o]=pv(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):n.__k[o]=a,c=o+f,a.__=n,a.__b=n.__b+1,l=null,(u=a.__i=xdt(a,r,c,h))!=-1&&(h--,(l=r[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(s>d?f--:s<d&&f++),typeof a.type!="function"&&(a.__u|=4)):u!=c&&(u==c-1?f--:u==c+1?f++:(u>c?f--:f++,a.__u|=4))):n.__k[o]=null;if(h)for(o=0;o<d;o++)(l=r[o])!=null&&!(2&l.__u)&&(l.__e==i&&(i=F0(l)),Bye(l,l));return i}function Rye(n,e,r,i){var s,o;if(typeof n.type=="function"){for(s=n.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=n,e=Rye(s[o],e,r,i));return e}n.__e!=e&&(i&&(e&&n.type&&!e.parentNode&&(e=F0(n)),r.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function xdt(n,e,r,i){var s,o,a,l=n.key,c=n.type,u=e[r],d=u!=null&&(2&u.__u)==0;if(u===null&&l==null||d&&l==u.key&&c==u.type)return r;if(i>(d?1:0)){for(s=r-1,o=r+1;s>=0||o<e.length;)if((u=e[a=s>=0?s--:o++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return a}return-1}function Wie(n,e,r){e[0]=="-"?n.setProperty(e,r??""):n[e]=r==null?"":typeof r!="number"||ydt.test(e)?r:r+"px"}function Q_(n,e,r,i,s){var o,a;e:if(e=="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)r&&e in r||Wie(n.style,e,"");if(r)for(e in r)i&&r[e]==i[e]||Wie(n.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Iye,"$1")),a=e.toLowerCase(),e=a in n||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=r,r?i?r.u=i.u:(r.u=DL,n.addEventListener(e,o?IN:PN,o)):n.removeEventListener(e,o?IN:PN,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&r==1?"":r))}}function qie(n){return function(e){if(this.l){var r=this.l[e.type+n];if(e.t==null)e.t=DL++;else if(e.t<r.u)return;return r(dr.event?dr.event(e):e)}}}function NL(n,e,r,i,s,o,a,l,c,u){var d,h,f,p,m,b,y,v,w,_,x,S,C,E,A,M,I,O=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),o=[l=e.__e=r.__e]),(d=dr.__b)&&d(e);e:if(typeof O=="function")try{if(v=e.props,w="prototype"in O&&O.prototype.render,_=(d=O.contextType)&&i[d.__c],x=d?_?_.props.value:d.__:i,r.__c?y=(h=e.__c=r.__c).__=h.__E:(w?e.__c=h=new O(v,x):(e.__c=h=new qS(v,x),h.constructor=O,h.render=Sdt),_&&_.sub(h),h.state||(h.state={}),h.__n=i,f=h.__d=!0,h.__h=[],h._sb=[]),w&&h.__s==null&&(h.__s=h.state),w&&O.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Rl({},h.__s)),Rl(h.__s,O.getDerivedStateFromProps(v,h.__s))),p=h.props,m=h.state,h.__v=e,f)w&&O.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),w&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(w&&O.getDerivedStateFromProps==null&&v!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,x),e.__v==r.__v||!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,x)===!1){for(e.__v!=r.__v&&(h.props=v,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(F){F&&(F.__=e)}),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,x),w&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,m,b)})}if(h.context=x,h.props=v,h.__P=n,h.__e=!1,C=dr.__r,E=0,w){for(h.state=h.__s,h.__d=!1,C&&C(e),d=h.render(h.props,h.state,h.context),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[]}else do h.__d=!1,C&&C(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++E<25);h.state=h.__s,h.getChildContext!=null&&(i=Rl(Rl({},i),h.getChildContext())),w&&!f&&h.getSnapshotBeforeUpdate!=null&&(b=h.getSnapshotBeforeUpdate(p,m)),M=d,d!=null&&d.type===a6&&d.key==null&&(M=jye(d.props.children)),l=Dye(n,o6(M)?M:[M],e,r,i,s,o,a,l,c,u),h.base=e.__e,e.__u&=-161,h.__h.length&&a.push(h),y&&(h.__E=h.__=null)}catch(F){if(e.__v=null,c||o!=null)if(F.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,e.__e=l}else{for(I=o.length;I--;)RL(o[I]);MN(e)}else e.__e=r.__e,e.__k=r.__k,F.then||MN(e);dr.__e(F,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):l=e.__e=_dt(r.__e,e,r,i,s,o,a,c,u);return(d=dr.diffed)&&d(e),128&e.__u?void 0:l}function MN(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(MN)}function Nye(n,e,r){for(var i=0;i<r.length;i++)jL(r[i],r[++i],r[++i]);dr.__c&&dr.__c(e,n),n.some(function(s){try{n=s.__h,s.__h=[],n.some(function(o){o.call(s)})}catch(o){dr.__e(o,s.__v)}})}function jye(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:o6(n)?n.map(jye):Rl({},n)}function _dt(n,e,r,i,s,o,a,l,c){var u,d,h,f,p,m,b,y=r.props||jw,v=e.props,w=e.type;if(w=="svg"?s="http://www.w3.org/2000/svg":w=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!w&&(w?p.localName==w:p.nodeType==3)){n=p,o[u]=null;break}}if(n==null){if(w==null)return document.createTextNode(v);n=document.createElementNS(s,w,v.is&&v),l&&(dr.__m&&dr.__m(e,o),l=!1),o=null}if(w==null)y===v||l&&n.data==v||(n.data=v);else{if(o=o&&o1.call(n.childNodes),!l&&o!=null)for(y={},u=0;u<n.attributes.length;u++)y[(p=n.attributes[u]).name]=p.value;for(u in y)if(p=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=p;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;Q_(n,u,null,p,s)}}for(u in v)p=v[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?b=p:l&&typeof p!="function"||y[u]===p||Q_(n,u,p,y[u],s);if(d)l||h&&(d.__html==h.__html||d.__html==n.innerHTML)||(n.innerHTML=d.__html),e.__k=[];else if(h&&(n.innerHTML=""),Dye(e.type=="template"?n.content:n,o6(f)?f:[f],e,r,i,w=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,a,o?o[0]:r.__k&&F0(r,0),l,c),o!=null)for(u=o.length;u--;)RL(o[u]);l||(u="value",w=="progress"&&m==null?n.removeAttribute("value"):m!=null&&(m!==n[u]||w=="progress"&&!m||w=="option"&&m!=y[u])&&Q_(n,u,m,y[u],s),u="checked",b!=null&&b!=n[u]&&Q_(n,u,b,y[u],s))}return n}function jL(n,e,r){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(s){dr.__e(s,r)}}function Bye(n,e,r){var i,s;if(dr.unmount&&dr.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||jL(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){dr.__e(o,e)}i.base=i.__P=null}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&Bye(i[s],e,r||typeof n.type!="function");r||RL(n.__e),n.__c=n.__=n.__e=void 0}function Sdt(n,e,r){return this.constructor(n,r)}function kdt(n,e,r){var i,s,o,a;e==document&&(e=document.documentElement),dr.__&&dr.__(n,e),s=(i=!1)?null:e.__k,o=[],a=[],NL(e,n=e.__k=vdt(a6,null,[n]),s||jw,jw,e.namespaceURI,s?null:e.firstChild?o1.call(e.childNodes):null,o,s?s.__e:e.firstChild,i,a),Nye(o,n,a)}function Lye(n,e,r){var i,s,o,a,l=Rl({},n.props);for(o in n.type&&n.type.defaultProps&&(a=n.type.defaultProps),e)o=="key"?i=e[o]:o=="ref"?s=e[o]:l[o]=e[o]===void 0&&a!=null?a[o]:e[o];return arguments.length>2&&(l.children=arguments.length>3?o1.call(arguments,2):r),pv(n.type,l,i||n.key,s||n.ref,null)}o1=Mye.slice,dr={__e:function(n,e,r,i){for(var s,o,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(n)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,i||{}),a=s.__d),a)return s.__E=s}catch(l){n=l}throw n}},Eye=0,Aye=function(n){return n!=null&&n.constructor==null},qS.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Rl({},this.state),typeof n=="function"&&(n=n(Rl({},r),this.props)),n&&Rl(r,n),n!=null&&this.__v&&(e&&this._sb.push(e),Uie(this))},qS.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Uie(this))},qS.prototype.render=a6,Yh=[],Tye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pye=function(n,e){return n.__v.__b-e.__v.__b},q2.__r=0,Iye=/(PointerCapture)$|Capture$/i,DL=0,PN=qie(!1),IN=qie(!0);function Hie(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Cdt(n){if(Array.isArray(n))return n}function Edt(n,e,r){return(e=Odt(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Adt(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Tdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vie(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function Pdt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vie(Object(r),!0).forEach(function(i){Edt(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Vie(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Idt(n,e){return Cdt(n)||Adt(n,e)||Ddt(n,e)||Tdt()}function Mdt(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Odt(n){var e=Mdt(n,"string");return typeof e=="symbol"?e:e+""}function H2(n){"@babel/helpers - typeof";return H2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H2(n)}function Ddt(n,e){if(n){if(typeof n=="string")return Hie(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hie(n,e):void 0}}var ON=function(e){if(H2(e)!=="object")return e;var r=Lye(e);if(r.props){var i;r.props=Pdt({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(ON):ON(r.props.children))}return r},Rdt=function(e){return Aye(Lye(e))},Ndt=function(e,r){delete r.__k,kdt(ON(e),r)};function jdt(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var Bdt=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;jdt(Bdt);var Ldt=OL({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.style,o=s===void 0?{}:s,a=!!e&&H2(e)==="object"&&!!e.node&&typeof e.node=="function",l=qi(a?e.node():e);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(u){var d=Idt(u,2),h=d[0],f=d[1];return r.tooltipEl.style(h,f)}),r.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(c),function(u){r.mouseInside=!0;var d=Pa(u),h=l.node(),f=h.offsetWidth,p=h.offsetHeight,m=[r.offsetX===null||r.offsetX===void 0?"-".concat(d[0]/f*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-d[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",d[0]+"px").style("top",d[1]+"px").style("transform","translate(".concat(m.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(c),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(c),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):Rdt(e.content)?(e.tooltipEl.text(""),Ndt(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function Fdt(n,e,r){var i,s=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function o(){var a,l=i.length,c,u=0,d=0,h=0;for(a=0;a<l;++a)c=i[a],u+=c.x||0,d+=c.y||0,h+=c.z||0;for(u=(u/l-n)*s,d=(d/l-e)*s,h=(h/l-r)*s,a=0;a<l;++a)c=i[a],u&&(c.x-=u),d&&(c.y-=d),h&&(c.z-=h)}return o.initialize=function(a){i=a},o.x=function(a){return arguments.length?(n=+a,o):n},o.y=function(a){return arguments.length?(e=+a,o):e},o.z=function(a){return arguments.length?(r=+a,o):r},o.strength=function(a){return arguments.length?(s=+a,o):s},o}function $dt(n){const e=+this._x.call(null,n);return Fye(this.cover(e),e,n)}function Fye(n,e,r){if(isNaN(e))return n;var i,s=n._root,o={data:r},a=n._x0,l=n._x1,c,u,d,h,f;if(!s)return n._root=o,n;for(;s.length;)if((d=e>=(c=(a+l)/2))?a=c:l=c,i=s,!(s=s[h=+d]))return i[h]=o,n;if(u=+n._x.call(null,s.data),e===u)return o.next=s,i?i[h]=o:n._root=o,n;do i=i?i[h]=new Array(2):n._root=new Array(2),(d=e>=(c=(a+l)/2))?a=c:l=c;while((h=+d)==(f=+(u>=c)));return i[f]=s,i[h]=o,n}function zdt(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,s=-1/0;for(let o=0,a;o<e;++o)isNaN(a=+this._x.call(null,n[o]))||(r[o]=a,a<i&&(i=a),a>s&&(s=a));if(i>s)return this;this.cover(i).cover(s);for(let o=0;o<e;++o)Fye(this,r[o],n[o]);return this}function Udt(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,s=this._root,o,a;e>n||n>=r;)switch(a=+(n<e),o=new Array(2),o[a]=s,s=o,i*=2,a){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=r,this}function Wdt(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function qdt(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function ou(n,e,r){this.node=n,this.x0=e,this.x1=r}function Hdt(n,e){var r,i=this._x0,s,o,a=this._x1,l=[],c=this._root,u,d;for(c&&l.push(new ou(c,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=l.pop();)if(!(!(c=u.node)||(s=u.x0)>a||(o=u.x1)<i))if(c.length){var h=(s+o)/2;l.push(new ou(c[1],h,o),new ou(c[0],s,h)),(d=+(n>=h))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-d],l[l.length-1-d]=u)}else{var f=Math.abs(n-+this._x.call(null,c.data));f<e&&(e=f,i=n-f,a=n+f,r=c.data)}return r}function Vdt(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._x1,c,u,d,h,f;if(!r)return this;if(r.length)for(;;){if((d=c>=(u=(a+l)/2))?a=u:l=u,e=r,!(r=r[h=+d]))return this;if(!r.length)break;e[h+1&1]&&(i=e,f=h)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[h]=o:delete e[h],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[f]=r:this._root=r),this):(this._root=o,this)}function Gdt(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Ydt(){return this._root}function Kdt(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Xdt(n){var e=[],r,i=this._root,s,o,a;for(i&&e.push(new ou(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.x1)&&i.length){var l=(o+a)/2;(s=i[1])&&e.push(new ou(s,l,a)),(s=i[0])&&e.push(new ou(s,o,l))}return this}function Qdt(n){var e=[],r=[],i;for(this._root&&e.push(new ou(this._root,this._x0,this._x1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.x1,c=(a+l)/2;(o=s[0])&&e.push(new ou(o,a,c)),(o=s[1])&&e.push(new ou(o,c,l))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function Jdt(n){return n[0]}function Zdt(n){return arguments.length?(this._x=n,this):this._x}function $ye(n,e){var r=new BL(e??Jdt,NaN,NaN);return n==null?r:r.addAll(n)}function BL(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function Gie(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Xs=$ye.prototype=BL.prototype;Xs.copy=function(){var n=new BL(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Gie(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var s=0;s<2;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(2)}):e.target[s]=Gie(i));return n};Xs.add=$dt;Xs.addAll=zdt;Xs.cover=Udt;Xs.data=Wdt;Xs.extent=qdt;Xs.find=Hdt;Xs.remove=Vdt;Xs.removeAll=Gdt;Xs.root=Ydt;Xs.size=Kdt;Xs.visit=Xdt;Xs.visitAfter=Qdt;Xs.x=Zdt;function eht(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return zye(this.cover(e,r,i),e,r,i,n)}function zye(n,e,r,i,s){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var o,a=n._root,l={data:s},c=n._x0,u=n._y0,d=n._z0,h=n._x1,f=n._y1,p=n._z1,m,b,y,v,w,_,x,S,C,E,A;if(!a)return n._root=l,n;for(;a.length;)if((x=e>=(m=(c+h)/2))?c=m:h=m,(S=r>=(b=(u+f)/2))?u=b:f=b,(C=i>=(y=(d+p)/2))?d=y:p=y,o=a,!(a=a[E=C<<2|S<<1|x]))return o[E]=l,n;if(v=+n._x.call(null,a.data),w=+n._y.call(null,a.data),_=+n._z.call(null,a.data),e===v&&r===w&&i===_)return l.next=a,o?o[E]=l:n._root=l,n;do o=o?o[E]=new Array(8):n._root=new Array(8),(x=e>=(m=(c+h)/2))?c=m:h=m,(S=r>=(b=(u+f)/2))?u=b:f=b,(C=i>=(y=(d+p)/2))?d=y:p=y;while((E=C<<2|S<<1|x)===(A=(_>=y)<<2|(w>=b)<<1|v>=m));return o[A]=a,o[E]=l,n}function tht(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),s=new Float64Array(e);let o=1/0,a=1/0,l=1/0,c=-1/0,u=-1/0,d=-1/0;for(let h=0,f,p,m,b;h<e;++h)isNaN(p=+this._x.call(null,f=n[h]))||isNaN(m=+this._y.call(null,f))||isNaN(b=+this._z.call(null,f))||(r[h]=p,i[h]=m,s[h]=b,p<o&&(o=p),p>c&&(c=p),m<a&&(a=m),m>u&&(u=m),b<l&&(l=b),b>d&&(d=b));if(o>c||a>u||l>d)return this;this.cover(o,a,l).cover(c,u,d);for(let h=0;h<e;++h)zye(this,r[h],i[h],s[h],n[h]);return this}function nht(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,s=this._y0,o=this._z0,a=this._x1,l=this._y1,c=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,l=(s=Math.floor(e))+1,c=(o=Math.floor(r))+1;else{for(var u=a-i||1,d=this._root,h,f;i>n||n>=a||s>e||e>=l||o>r||r>=c;)switch(f=(r<o)<<2|(e<s)<<1|n<i,h=new Array(8),h[f]=d,d=h,u*=2,f){case 0:a=i+u,l=s+u,c=o+u;break;case 1:i=a-u,l=s+u,c=o+u;break;case 2:a=i+u,s=l-u,c=o+u;break;case 3:i=a-u,s=l-u,c=o+u;break;case 4:a=i+u,l=s+u,o=c-u;break;case 5:i=a-u,l=s+u,o=c-u;break;case 6:a=i+u,s=l-u,o=c-u;break;case 7:i=a-u,s=l-u,o=c-u;break}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=s,this._z0=o,this._x1=a,this._y1=l,this._z1=c,this}function rht(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function iht(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Wn(n,e,r,i,s,o,a){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=s,this.y1=o,this.z1=a}function sht(n,e,r,i){var s,o=this._x0,a=this._y0,l=this._z0,c,u,d,h,f,p,m=this._x1,b=this._y1,y=this._z1,v=[],w=this._root,_,x;for(w&&v.push(new Wn(w,o,a,l,m,b,y)),i==null?i=1/0:(o=n-i,a=e-i,l=r-i,m=n+i,b=e+i,y=r+i,i*=i);_=v.pop();)if(!(!(w=_.node)||(c=_.x0)>m||(u=_.y0)>b||(d=_.z0)>y||(h=_.x1)<o||(f=_.y1)<a||(p=_.z1)<l))if(w.length){var S=(c+h)/2,C=(u+f)/2,E=(d+p)/2;v.push(new Wn(w[7],S,C,E,h,f,p),new Wn(w[6],c,C,E,S,f,p),new Wn(w[5],S,u,E,h,C,p),new Wn(w[4],c,u,E,S,C,p),new Wn(w[3],S,C,d,h,f,E),new Wn(w[2],c,C,d,S,f,E),new Wn(w[1],S,u,d,h,C,E),new Wn(w[0],c,u,d,S,C,E)),(x=(r>=E)<<2|(e>=C)<<1|n>=S)&&(_=v[v.length-1],v[v.length-1]=v[v.length-1-x],v[v.length-1-x]=_)}else{var A=n-+this._x.call(null,w.data),M=e-+this._y.call(null,w.data),I=r-+this._z.call(null,w.data),O=A*A+M*M+I*I;if(O<i){var F=Math.sqrt(i=O);o=n-F,a=e-F,l=r-F,m=n+F,b=e+F,y=r+F,s=w.data}}return s}const oht=(n,e,r,i,s,o)=>Math.sqrt((n-i)**2+(e-s)**2+(r-o)**2);function aht(n,e,r,i){const s=[],o=n-i,a=e-i,l=r-i,c=n+i,u=e+i,d=r+i;return this.visit((h,f,p,m,b,y,v)=>{if(!h.length)do{const w=h.data;oht(n,e,r,this._x(w),this._y(w),this._z(w))<=i&&s.push(w)}while(h=h.next);return f>c||p>u||m>d||b<o||y<a||v<l}),s}function lht(n){if(isNaN(f=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n))||isNaN(m=+this._z.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._y0,c=this._z0,u=this._x1,d=this._y1,h=this._z1,f,p,m,b,y,v,w,_,x,S,C;if(!r)return this;if(r.length)for(;;){if((w=f>=(b=(a+u)/2))?a=b:u=b,(_=p>=(y=(l+d)/2))?l=y:d=y,(x=m>=(v=(c+h)/2))?c=v:h=v,e=r,!(r=r[S=x<<2|_<<1|w]))return this;if(!r.length)break;(e[S+1&7]||e[S+2&7]||e[S+3&7]||e[S+4&7]||e[S+5&7]||e[S+6&7]||e[S+7&7])&&(i=e,C=S)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[S]=o:delete e[S],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[C]=r:this._root=r),this):(this._root=o,this)}function cht(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function uht(){return this._root}function dht(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function hht(n){var e=[],r,i=this._root,s,o,a,l,c,u,d;for(i&&e.push(new Wn(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.y0,l=r.z0,c=r.x1,u=r.y1,d=r.z1)&&i.length){var h=(o+c)/2,f=(a+u)/2,p=(l+d)/2;(s=i[7])&&e.push(new Wn(s,h,f,p,c,u,d)),(s=i[6])&&e.push(new Wn(s,o,f,p,h,u,d)),(s=i[5])&&e.push(new Wn(s,h,a,p,c,f,d)),(s=i[4])&&e.push(new Wn(s,o,a,p,h,f,d)),(s=i[3])&&e.push(new Wn(s,h,f,l,c,u,p)),(s=i[2])&&e.push(new Wn(s,o,f,l,h,u,p)),(s=i[1])&&e.push(new Wn(s,h,a,l,c,f,p)),(s=i[0])&&e.push(new Wn(s,o,a,l,h,f,p))}return this}function fht(n){var e=[],r=[],i;for(this._root&&e.push(new Wn(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.z0,u=i.x1,d=i.y1,h=i.z1,f=(a+u)/2,p=(l+d)/2,m=(c+h)/2;(o=s[0])&&e.push(new Wn(o,a,l,c,f,p,m)),(o=s[1])&&e.push(new Wn(o,f,l,c,u,p,m)),(o=s[2])&&e.push(new Wn(o,a,p,c,f,d,m)),(o=s[3])&&e.push(new Wn(o,f,p,c,u,d,m)),(o=s[4])&&e.push(new Wn(o,a,l,m,f,p,h)),(o=s[5])&&e.push(new Wn(o,f,l,m,u,p,h)),(o=s[6])&&e.push(new Wn(o,a,p,m,f,d,h)),(o=s[7])&&e.push(new Wn(o,f,p,m,u,d,h))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function pht(n){return n[0]}function mht(n){return arguments.length?(this._x=n,this):this._x}function ght(n){return n[1]}function bht(n){return arguments.length?(this._y=n,this):this._y}function yht(n){return n[2]}function vht(n){return arguments.length?(this._z=n,this):this._z}function Uye(n,e,r,i){var s=new LL(e??pht,r??ght,i??yht,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?s:s.addAll(n)}function LL(n,e,r,i,s,o,a,l,c){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=s,this._z0=o,this._x1=a,this._y1=l,this._z1=c,this._root=void 0}function Yie(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Di=Uye.prototype=LL.prototype;Di.copy=function(){var n=new LL(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Yie(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var s=0;s<8;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(8)}):e.target[s]=Yie(i));return n};Di.add=eht;Di.addAll=tht;Di.cover=nht;Di.data=rht;Di.extent=iht;Di.find=sht;Di.findAllWithinRadius=aht;Di.remove=lht;Di.removeAll=cht;Di.root=uht;Di.size=dht;Di.visit=hht;Di.visitAfter=fht;Di.x=mht;Di.y=bht;Di.z=vht;function Yc(n){return function(){return n}}function Mc(n){return(n()-.5)*1e-6}function wht(n){return n.index}function Kie(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function xht(n){var e=wht,r=f,i,s=Yc(30),o,a,l,c,u,d,h=1;n==null&&(n=[]);function f(v){return 1/Math.min(c[v.source.index],c[v.target.index])}function p(v){for(var w=0,_=n.length;w<h;++w)for(var x=0,S,C,E,A=0,M=0,I=0,O,F;x<_;++x)S=n[x],C=S.source,E=S.target,A=E.x+E.vx-C.x-C.vx||Mc(d),l>1&&(M=E.y+E.vy-C.y-C.vy||Mc(d)),l>2&&(I=E.z+E.vz-C.z-C.vz||Mc(d)),O=Math.sqrt(A*A+M*M+I*I),O=(O-o[x])/O*v*i[x],A*=O,M*=O,I*=O,E.vx-=A*(F=u[x]),l>1&&(E.vy-=M*F),l>2&&(E.vz-=I*F),C.vx+=A*(F=1-F),l>1&&(C.vy+=M*F),l>2&&(C.vz+=I*F)}function m(){if(a){var v,w=a.length,_=n.length,x=new Map(a.map((C,E)=>[e(C,E,a),C])),S;for(v=0,c=new Array(w);v<_;++v)S=n[v],S.index=v,typeof S.source!="object"&&(S.source=Kie(x,S.source)),typeof S.target!="object"&&(S.target=Kie(x,S.target)),c[S.source.index]=(c[S.source.index]||0)+1,c[S.target.index]=(c[S.target.index]||0)+1;for(v=0,u=new Array(_);v<_;++v)S=n[v],u[v]=c[S.source.index]/(c[S.source.index]+c[S.target.index]);i=new Array(_),b(),o=new Array(_),y()}}function b(){if(a)for(var v=0,w=n.length;v<w;++v)i[v]=+r(n[v],v,n)}function y(){if(a)for(var v=0,w=n.length;v<w;++v)o[v]=+s(n[v],v,n)}return p.initialize=function(v,...w){a=v,d=w.find(_=>typeof _=="function")||Math.random,l=w.find(_=>[1,2,3].includes(_))||2,m()},p.links=function(v){return arguments.length?(n=v,m(),p):n},p.id=function(v){return arguments.length?(e=v,p):e},p.iterations=function(v){return arguments.length?(h=+v,p):h},p.strength=function(v){return arguments.length?(r=typeof v=="function"?v:Yc(+v),b(),p):r},p.distance=function(v){return arguments.length?(s=typeof v=="function"?v:Yc(+v),y(),p):s},p}const _ht=1664525,Sht=1013904223,Xie=4294967296;function kht(){let n=1;return()=>(n=(_ht*n+Sht)%Xie)/Xie}var Qie=3;function RD(n){return n.x}function Jie(n){return n.y}function Cht(n){return n.z}var Eht=10,Aht=Math.PI*(3-Math.sqrt(5)),Tht=Math.PI*20/(9+Math.sqrt(221));function Pht(n,e){e=e||2;var r=Math.min(Qie,Math.max(1,Math.round(e))),i,s=1,o=.001,a=1-Math.pow(o,1/300),l=0,c=.6,u=new Map,d=cB(p),h=Ix("tick","end"),f=kht();n==null&&(n=[]);function p(){m(),h.call("tick",i),s<o&&(d.stop(),h.call("end",i))}function m(v){var w,_=n.length,x;v===void 0&&(v=1);for(var S=0;S<v;++S)for(s+=(l-s)*a,u.forEach(function(C){C(s)}),w=0;w<_;++w)x=n[w],x.fx==null?x.x+=x.vx*=c:(x.x=x.fx,x.vx=0),r>1&&(x.fy==null?x.y+=x.vy*=c:(x.y=x.fy,x.vy=0)),r>2&&(x.fz==null?x.z+=x.vz*=c:(x.z=x.fz,x.vz=0));return i}function b(){for(var v=0,w=n.length,_;v<w;++v){if(_=n[v],_.index=v,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),_.fz!=null&&(_.z=_.fz),isNaN(_.x)||r>1&&isNaN(_.y)||r>2&&isNaN(_.z)){var x=Eht*(r>2?Math.cbrt(.5+v):r>1?Math.sqrt(.5+v):v),S=v*Aht,C=v*Tht;r===1?_.x=x:r===2?(_.x=x*Math.cos(S),_.y=x*Math.sin(S)):(_.x=x*Math.sin(S)*Math.cos(C),_.y=x*Math.cos(S),_.z=x*Math.sin(S)*Math.sin(C))}(isNaN(_.vx)||r>1&&isNaN(_.vy)||r>2&&isNaN(_.vz))&&(_.vx=0,r>1&&(_.vy=0),r>2&&(_.vz=0))}}function y(v){return v.initialize&&v.initialize(n,f,r),v}return b(),i={tick:m,restart:function(){return d.restart(p),i},stop:function(){return d.stop(),i},numDimensions:function(v){return arguments.length?(r=Math.min(Qie,Math.max(1,Math.round(v))),u.forEach(y),i):r},nodes:function(v){return arguments.length?(n=v,b(),u.forEach(y),i):n},alpha:function(v){return arguments.length?(s=+v,i):s},alphaMin:function(v){return arguments.length?(o=+v,i):o},alphaDecay:function(v){return arguments.length?(a=+v,i):+a},alphaTarget:function(v){return arguments.length?(l=+v,i):l},velocityDecay:function(v){return arguments.length?(c=1-v,i):1-c},randomSource:function(v){return arguments.length?(f=v,u.forEach(y),i):f},force:function(v,w){return arguments.length>1?(w==null?u.delete(v):u.set(v,y(w)),i):u.get(v)},find:function(){var v=Array.prototype.slice.call(arguments),w=v.shift()||0,_=(r>1?v.shift():null)||0,x=(r>2?v.shift():null)||0,S=v.shift()||1/0,C=0,E=n.length,A,M,I,O,F,$;for(S*=S,C=0;C<E;++C)F=n[C],A=w-F.x,M=_-(F.y||0),I=x-(F.z||0),O=A*A+M*M+I*I,O<S&&($=F,S=O);return $},on:function(v,w){return arguments.length>1?(h.on(v,w),i):h.on(v)}}}function Iht(){var n,e,r,i,s,o=Yc(-30),a,l=1,c=1/0,u=.81;function d(m){var b,y=n.length,v=(e===1?$ye(n,RD):e===2?hge(n,RD,Jie):e===3?Uye(n,RD,Jie,Cht):null).visitAfter(f);for(s=m,b=0;b<y;++b)r=n[b],v.visit(p)}function h(){if(n){var m,b=n.length,y;for(a=new Array(b),m=0;m<b;++m)y=n[m],a[y.index]=+o(y,m,n)}}function f(m){var b=0,y,v,w=0,_,x,S,C,E=m.length;if(E){for(_=x=S=C=0;C<E;++C)(y=m[C])&&(v=Math.abs(y.value))&&(b+=y.value,w+=v,_+=v*(y.x||0),x+=v*(y.y||0),S+=v*(y.z||0));b*=Math.sqrt(4/E),m.x=_/w,e>1&&(m.y=x/w),e>2&&(m.z=S/w)}else{y=m,y.x=y.data.x,e>1&&(y.y=y.data.y),e>2&&(y.z=y.data.z);do b+=a[y.data.index];while(y=y.next)}m.value=b}function p(m,b,y,v,w){if(!m.value)return!0;var _=[y,v,w][e-1],x=m.x-r.x,S=e>1?m.y-r.y:0,C=e>2?m.z-r.z:0,E=_-b,A=x*x+S*S+C*C;if(E*E/u<A)return A<c&&(x===0&&(x=Mc(i),A+=x*x),e>1&&S===0&&(S=Mc(i),A+=S*S),e>2&&C===0&&(C=Mc(i),A+=C*C),A<l&&(A=Math.sqrt(l*A)),r.vx+=x*m.value*s/A,e>1&&(r.vy+=S*m.value*s/A),e>2&&(r.vz+=C*m.value*s/A)),!0;if(m.length||A>=c)return;(m.data!==r||m.next)&&(x===0&&(x=Mc(i),A+=x*x),e>1&&S===0&&(S=Mc(i),A+=S*S),e>2&&C===0&&(C=Mc(i),A+=C*C),A<l&&(A=Math.sqrt(l*A)));do m.data!==r&&(E=a[m.data.index]*s/A,r.vx+=x*E,e>1&&(r.vy+=S*E),e>2&&(r.vz+=C*E));while(m=m.next)}return d.initialize=function(m,...b){n=m,i=b.find(y=>typeof y=="function")||Math.random,e=b.find(y=>[1,2,3].includes(y))||2,h()},d.strength=function(m){return arguments.length?(o=typeof m=="function"?m:Yc(+m),h(),d):o},d.distanceMin=function(m){return arguments.length?(l=m*m,d):Math.sqrt(l)},d.distanceMax=function(m){return arguments.length?(c=m*m,d):Math.sqrt(c)},d.theta=function(m){return arguments.length?(u=m*m,d):Math.sqrt(u)},d}function Mht(n,e,r,i){var s,o,a=Yc(.1),l,c;typeof n!="function"&&(n=Yc(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function u(h){for(var f=0,p=s.length;f<p;++f){var m=s[f],b=m.x-e||1e-6,y=(m.y||0)-r||1e-6,v=(m.z||0)-i||1e-6,w=Math.sqrt(b*b+y*y+v*v),_=(c[f]-w)*l[f]*h/w;m.vx+=b*_,o>1&&(m.vy+=y*_),o>2&&(m.vz+=v*_)}}function d(){if(s){var h,f=s.length;for(l=new Array(f),c=new Array(f),h=0;h<f;++h)c[h]=+n(s[h],h,s),l[h]=isNaN(c[h])?0:+a(s[h],h,s)}}return u.initialize=function(h,...f){s=h,o=f.find(p=>[1,2,3].includes(p))||2,d()},u.strength=function(h){return arguments.length?(a=typeof h=="function"?h:Yc(+h),d(),u):a},u.radius=function(h){return arguments.length?(n=typeof h=="function"?h:Yc(+h),d(),u):n},u.x=function(h){return arguments.length?(e=+h,u):e},u.y=function(h){return arguments.length?(r=+h,u):r},u.z=function(h){return arguments.length?(i=+h,u):i},u}const{abs:uy,cos:yc,sin:mm,acos:Oht,atan2:dy,sqrt:Ju,pow:zo}=Math;function hy(n){return n<0?-zo(-n,1/3):zo(n,1/3)}const Wye=Math.PI,J_=2*Wye,Zu=Wye/2,Dht=1e-6,ND=Number.MAX_SAFE_INTEGER||9007199254740991,jD=Number.MIN_SAFE_INTEGER||-9007199254740991,Rht={x:0,y:0,z:0},mt={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),Ju(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const s=1-n;let o=e;if(i===0)return e[0].t=n,e[0];if(i===1){const l={x:s*o[0].x+n*o[1].x,y:s*o[0].y+n*o[1].y,t:n};return r&&(l.z=s*o[0].z+n*o[1].z),l}if(i<4){let l=s*s,c=n*n,u,d,h,f=0;i===2?(o=[o[0],o[1],o[2],Rht],u=l,d=s*n*2,h=c):i===3&&(u=l*s,d=l*n*3,h=s*c*3,f=n*c);const p={x:u*o[0].x+d*o[1].x+h*o[2].x+f*o[3].x,y:u*o[0].y+d*o[1].y+h*o[2].y+f*o[3].y,t:n};return r&&(p.z=u*o[0].z+d*o[1].z+h*o[2].z+f*o[3].z),p}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*n,y:a[l].y+(a[l+1].y-a[l].y)*n},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*n);a.splice(a.length-1,1)}return a[0].t=n,a[0]},computeWithRatios:function(n,e,r,i){const s=1-n,o=r,a=e;let l=o[0],c=o[1],u=o[2],d=o[3],h;if(l*=s,c*=n,a.length===2)return h=l+c,{x:(l*a[0].x+c*a[1].x)/h,y:(l*a[0].y+c*a[1].y)/h,z:i?(l*a[0].z+c*a[1].z)/h:!1,t:n};if(l*=s,c*=2*s,u*=n*n,a.length===3)return h=l+c+u,{x:(l*a[0].x+c*a[1].x+u*a[2].x)/h,y:(l*a[0].y+c*a[1].y+u*a[2].y)/h,z:i?(l*a[0].z+c*a[1].z+u*a[2].z)/h:!1,t:n};if(l*=s,c*=1.5*s,u*=3*s,d*=n*n*n,a.length===4)return h=l+c+u+d,{x:(l*a[0].x+c*a[1].x+u*a[2].x+d*a[3].x)/h,y:(l*a[0].y+c*a[1].y+u*a[2].y+d*a[3].y)/h,z:i?(l*a[0].z+c*a[1].z+u*a[2].z+d*a[3].z)/h:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,s=i.length,o=s-1;s>1;s--,o--){const a=[];for(let l=0,c;l<o;l++)c={x:o*(i[l+1].x-i[l].x),y:o*(i[l+1].y-i[l].y)},e&&(c.z=o*(i[l+1].z-i[l].z)),a.push(c);r.push(a),i=a}return r},between:function(n,e,r){return e<=n&&n<=r||mt.approximately(n,e)||mt.approximately(n,r)},approximately:function(n,e,r){return uy(n-e)<=(r||Dht)},length:function(n){const r=mt.Tvalues.length;let i=0;for(let s=0,o;s<r;s++)o=.5*mt.Tvalues[s]+.5,i+=mt.Cvalues[s]*mt.arcfn(o,n);return .5*i},map:function(n,e,r,i,s){const o=r-e,a=s-i,l=n-e,c=l/o;return i+a*c},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(mt.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-n.x,a=r.y-n.y,l=i*a-s*o,c=i*o+s*a;return dy(l,c)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return Ju(r*r+i*i)},closest:function(n,e){let r=zo(2,63),i,s;return n.forEach(function(o,a){s=mt.dist(e,o),s<r&&(r=s,i=a)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=zo(n,e)+zo(1-n,e),i=r-1;return uy(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=zo(1-n,e),i=zo(n,e)+r;return r/i},lli8:function(n,e,r,i,s,o,a,l){const c=(n*i-e*r)*(s-a)-(n-r)*(s*l-o*a),u=(n*i-e*r)*(o-l)-(e-i)*(s*l-o*a),d=(n-r)*(o-l)-(e-i)*(s-a);return d==0?!1:{x:c/d,y:u/d}},lli4:function(n,e,r,i){const s=n.x,o=n.y,a=e.x,l=e.y,c=r.x,u=r.y,d=i.x,h=i.y;return mt.lli8(s,o,a,l,c,u,d,h)},lli:function(n,e){return mt.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new er(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=ND,r=ND,i=jD,s=jD;return n.forEach(function(o){const a=o.bbox();e>a.x.min&&(e=a.x.min),r>a.y.min&&(r=a.y.min),i<a.x.max&&(i=a.x.max),s<a.y.max&&(s=a.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(n,e,r,i,s){if(!mt.bboxoverlap(e,i))return[];const o=[],a=[n.startcap,n.forward,n.back,n.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const d=c.intersects(u,s);d.length>0&&(d.c1=c,d.c2=u,d.s1=n,d.s2=r,o.push(d))})}),o},makeshape:function(n,e,r){const i=e.points.length,s=n.points.length,o=mt.makeline(e.points[i-1],n.points[0]),a=mt.makeline(n.points[s-1],e.points[0]),l={startcap:o,forward:n,back:e,endcap:a,bbox:mt.findbbox([o,n,e,a])};return l.intersections=function(c){return mt.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=ND,s=jD,o,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)o=r[l],a=n.get(o),a[e]<i&&(i=a[e]),a[e]>s&&(s=a[e]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,s=-dy(e.p2.y-i,e.p2.x-r),o=function(a){return{x:(a.x-r)*yc(s)-(a.y-i)*mm(s),y:(a.x-r)*mm(s)+(a.y-i)*yc(s)}};return n.map(o)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=mt.align(n,e),s=function(E){return 0<=E&&E<=1};if(r===2){const E=i[0].y,A=i[1].y,M=i[2].y,I=E-2*A+M;if(I!==0){const O=-Ju(A*A-E*M),F=-E+A,$=-(O+F)/I,z=-(-O+F)/I;return[$,z].filter(s)}else if(A!==M&&I===0)return[(2*A-M)/(2*A-2*M)].filter(s);return[]}const o=i[0].y,a=i[1].y,l=i[2].y,c=i[3].y;let u=-o+3*a-3*l+c,d=3*o-6*a+3*l,h=-3*o+3*a,f=o;if(mt.approximately(u,0)){if(mt.approximately(d,0))return mt.approximately(h,0)?[]:[-f/h].filter(s);const E=Ju(h*h-4*d*f),A=2*d;return[(E-h)/A,(-h-E)/A].filter(s)}d/=u,h/=u,f/=u;const p=(3*h-d*d)/3,m=p/3,b=(2*d*d*d-9*d*h+27*f)/27,y=b/2,v=y*y+m*m*m;let w,_,x,S,C;if(v<0){const E=-p/3,A=E*E*E,M=Ju(A),I=-b/(2*M),O=I<-1?-1:I>1?1:I,F=Oht(O),$=hy(M),z=2*$;return x=z*yc(F/3)-d/3,S=z*yc((F+J_)/3)-d/3,C=z*yc((F+2*J_)/3)-d/3,[x,S,C].filter(s)}else{if(v===0)return w=y<0?hy(-y):-hy(y),x=2*w-d/3,S=-w-d/3,[x,S].filter(s);{const E=Ju(v);return w=hy(-y+E),_=hy(y+E),[w-_-d/3].filter(s)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],s=e-2*r+i;if(s!==0){const o=-Ju(r*r-e*i),a=-e+r,l=-(o+a)/s,c=-(-o+a)/s;return[l,c]}else if(r!==i&&s===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,s){let o,a,l,c,u=0,d=0;const h=mt.compute(n,e),f=mt.compute(n,r),p=h.x*h.x+h.y*h.y;if(i?(o=Ju(zo(h.y*f.z-f.y*h.z,2)+zo(h.z*f.x-f.z*h.x,2)+zo(h.x*f.y-f.x*h.y,2)),a=zo(p+h.z*h.z,3/2)):(o=h.x*f.y-h.y*f.x,a=zo(p,3/2)),o===0||a===0)return{k:0,r:0};if(u=o/a,d=a/o,!s){const m=mt.curvature(n-.001,e,r,i,!0).k,b=mt.curvature(n+.001,e,r,i,!0).k;c=(b-u+(u-m))/2,l=(uy(b-u)+uy(u-m))/2}return{k:u,r:d,dk:c,adk:l}},inflections:function(n){if(n.length<4)return[];const e=mt.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,s=e[1].x*e[2].y,o=e[3].x*e[2].y,a=18*(-3*r+2*i+3*s-o),l=18*(3*r-i-3*s),c=18*(s-r);if(mt.approximately(a,0)){if(!mt.approximately(l,0)){let f=-c/l;if(0<=f&&f<=1)return[f]}return[]}const u=2*a;if(mt.approximately(u,0))return[];const d=l*l-4*a*c;if(d<0)return[];const h=Math.sqrt(d);return[(h-l)/u,-(l+h)/u].filter(function(f){return 0<=f&&f<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let s=0,o,a,l,c;s<i;s++)if(o=r[s],a=n[o].mid,l=e[o].mid,c=(n[o].size+e[o].size)/2,uy(a-l)>=c)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),s=e.bbox(),o=1e5,a=r||.5;if(i.x.size+i.y.size<a&&s.x.size+s.y.size<a)return[(o*(n._t1+n._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let l=n.split(.5),c=e.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(h){return mt.bboxoverlap(h.left.bbox(),h.right.bbox())});let d=[];return u.length===0||(u.forEach(function(h){d=d.concat(mt.pairiteration(h.left,h.right,a))}),d=d.filter(function(h,f){return d.indexOf(h)===f})),d},getccenter:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-e.x,a=r.y-e.y,l=i*yc(Zu)-s*mm(Zu),c=i*mm(Zu)+s*yc(Zu),u=o*yc(Zu)-a*mm(Zu),d=o*mm(Zu)+a*yc(Zu),h=(n.x+e.x)/2,f=(n.y+e.y)/2,p=(e.x+r.x)/2,m=(e.y+r.y)/2,b=h+l,y=f+c,v=p+u,w=m+d,_=mt.lli8(h,f,b,y,p,m,v,w),x=mt.dist(_,n);let S=dy(n.y-_.y,n.x-_.x),C=dy(e.y-_.y,e.x-_.x),E=dy(r.y-_.y,r.x-_.x),A;return S<E?((S>C||C>E)&&(S+=J_),S>E&&(A=E,E=S,S=A)):E<C&&C<S?(A=E,E=S,S=A):E+=J_,_.s=S,_.e=E,_.r=x,_},numberSort:function(n,e){return n-e}};class mv{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return mt.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)mt.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new mv(r)}}const{abs:fy,min:Zie,max:ese,cos:Nht,sin:jht,acos:Bht,sqrt:py}=Math,Lht=Math.PI;class er{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const p=[];r.forEach(function(m){["x","y","z"].forEach(function(b){typeof m[b]<"u"&&p.push(m[b])})}),r=p}let s=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!s&&(o===9||o===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let p=0,m=a?3:2;p<o;p+=m){var c={x:r[p],y:r[p+1]};a&&(c.z=r[p+2]),l.push(c)}const u=this.order=l.length-1,d=this.dims=["x","y"];a&&d.push("z"),this.dimlen=d.length;const h=mt.align(l,{p1:l[0],p2:l[u]}),f=mt.dist(l[0],l[u]);this._linear=h.reduce((p,m)=>p+fy(m.y),0)<f/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,s){if(typeof s>"u"&&(s=.5),s===0)return new er(r,r,i);if(s===1)return new er(e,r,r);const o=er.getABC(2,e,r,i,s);return new er(e,o.A,i)}static cubicFromPoints(e,r,i,s,o){typeof s>"u"&&(s=.5);const a=er.getABC(3,e,r,i,s);typeof o>"u"&&(o=mt.dist(r,a.C));const l=o*(1-s)/s,c=mt.dist(e,i),u=(i.x-e.x)/c,d=(i.y-e.y)/c,h=o*u,f=o*d,p=l*u,m=l*d,b={x:r.x-h,y:r.y-f},y={x:r.x+p,y:r.y+m},v=a.A,w={x:v.x+(b.x-v.x)/(1-s),y:v.y+(b.y-v.y)/(1-s)},_={x:v.x+(y.x-v.x)/s,y:v.y+(y.y-v.y)/s},x={x:e.x+(w.x-e.x)/s,y:e.y+(w.y-e.y)/s},S={x:i.x+(_.x-i.x)/(1-s),y:i.y+(_.y-i.y)/(1-s)};return new er(e,x,S,i)}static getUtils(){return mt}getUtils(){return er.getUtils()}static get PolyBezier(){return mv}valueOf(){return this.toString()}toString(){return mt.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,s=["M",r,i,this.order===2?"Q":"C"];for(let o=1,a=e.length;o<a;o++)s.push(e[o].x),s.push(e[o].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=mt.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=mt.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return mt.length(this.derivative.bind(this))}static getABC(e=2,r,i,s,o=.5){const a=mt.projectionratio(o,e),l=1-a,c={x:a*r.x+l*s.x,y:a*r.y+l*s.y},u=mt.abcratio(o,e);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c,S:r,E:s}}getABC(e,r){r=r||this.get(e);let i=this.points[0],s=this.points[this.order];return er.getABC(this.order,i,r,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,s;r<e;r++)s=r/(e-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),s=[];for(let o=0,a,l=0;o<i.length;o++)a=i[o],mt.dist(a,e)<r&&(s.push(a),l+=o/i.length);return s.length?t/=s.length:!1}project(e){const r=this.getLUT(),i=r.length-1,s=mt.closest(r,e),o=s.mpos,a=(o-1)/i,l=(o+1)/i,c=.1/i;let u=s.mdist,d=a,h=d,f;u+=1;for(let p;d<l+c;d+=c)f=this.compute(d),p=mt.dist(e,f),p<u&&(u=p,h=d);return h=h<0?0:h>1?1:h,f=this.compute(h),f.t=h,f.d=u,f}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?mt.computeWithRatios(e,this.points,this.ratios,this._3d):mt.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let s=1,o,a;s<i;s++)o=e[s],a=e[s-1],r[s]={x:(i-s)/i*o.x+s/i*a.x,y:(i-s)/i*o.y+s/i*a.y};return r[i]=e[i-1],new er(r)}derivative(e){return mt.compute(e,this.dpoints[0],this._3d)}dderivative(e){return mt.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new er(mt.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return mt.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return mt.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=py(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),s=py(r.x*r.x+r.y*r.y+r.z*r.z),o=py(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=s,r.y/=s,r.z/=s,i.x/=o,i.y/=o,i.z/=o;const a={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},l=py(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const c=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(e){let r=this.points,i=[],s=[],o=0;for(s[o++]=r[0],s[o++]=r[1],s[o++]=r[2],this.order===3&&(s[o++]=r[3]);r.length>1;){i=[];for(let a=0,l,c=r.length-1;a<c;a++)l=mt.lerp(e,r[a],r[a+1]),s[o++]=l,i.push(l);r=i}return s}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),s={left:this.order===2?new er([i[0],i[3],i[5]]):new er([i[0],i[4],i[7],i[9]]),right:this.order===2?new er([i[5],i[4],i[2]]):new er([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=mt.map(0,0,1,this._t1,this._t2),s.left._t2=mt.map(e,0,1,this._t1,this._t2),s.right._t1=mt.map(e,0,1,this._t1,this._t2),s.right._t2=mt.map(1,0,1,this._t1,this._t2),r?(r=mt.map(r,e,1,0,1),s.right.split(r).left):s}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let s=function(a){return a[i]},o=this.dpoints[0].map(s);e[i]=mt.droots(o),this.order===3&&(o=this.dpoints[1].map(s),e[i]=e[i].concat(mt.droots(o))),e[i]=e[i].filter(function(a){return a>=0&&a<=1}),r=r.concat(e[i].sort(mt.numberSort))}).bind(this)),e.values=r.sort(mt.numberSort).filter(function(i,s){return r.indexOf(i)===s}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=mt.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return mt.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),s=this.normal(e),o={c:i,n:s,x:i.x+s.x*r,y:i.y+s.y*r};return this._3d&&(o.z=i.z+s.z*r),o}if(this._linear){const i=this.normal(0),s=this.points.map(function(o){const a={x:o.x+e*i.x,y:o.y+e*i.y};return o.z&&i.z&&(a.z=o.z+e*i.z),a});return[new er(s)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const s=mt.angle(this.points[0],this.points[3],this.points[1]),o=mt.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&o<0||s<0&&o>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),fy(Bht(i))<Lht/3}reduce(){let e,r=0,i=0,s=.01,o,a=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],e=1;e<c.length;e++)i=c[e],o=this.split(r,i),o._t1=r,o._t2=i,a.push(o),r=i;return a.forEach(function(u){for(r=0,i=0;i<=1;)for(i=r+s;i<=1+s;i+=s)if(o=u.split(r,i),!o.simple()){if(i-=s,fy(r-i)<s)return[];o=u.split(r,i),o._t1=mt.map(r,0,1,u._t1,u._t2),o._t2=mt.map(i,0,1,u._t1,u._t2),l.push(o),r=i;break}r<1&&(o=u.split(r,1),o._t1=mt.map(r,0,1,u._t1,u._t2),o._t2=u._t2,l.push(o))}),l}translate(e,r,i){i=typeof i=="number"?i:r;const s=this.order;let o=this.points.map((a,l)=>(1-l/s)*r+l/s*i);return new er(this.points.map((a,l)=>({x:a.x+e.x*o[l],y:a.y+e.y*o[l]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const s=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const a=i?i(0):e,l=i?i(1):e,c=[this.offset(0,10),this.offset(1,10)],u=[],d=mt.lli4(c[0],c[0].c,c[1],c[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const f=u[h*r]=mt.copy(o[h*r]);f.x+=(h?l:a)*c[h].n.x,f.y+=(h?l:a)*c[h].n.y}),i?([0,1].forEach(function(h){if(!(r===2&&h)){var f=o[h+1],p={x:f.x-d.x,y:f.y-d.y},m=i?i((h+1)/r):e;i&&!s&&(m=-m);var b=py(p.x*p.x+p.y*p.y);p.x/=b,p.y/=b,u[h+1]={x:f.x+m*p.x,y:f.y+m*p.y}}}),new er(u)):([0,1].forEach(h=>{if(r===2&&h)return;const f=u[h*r],p=this.derivative(h),m={x:f.x+p.x,y:f.y+p.y};u[h+1]=mt.lli4(f,m,d,o[h+1])}),new er(u))}outline(e,r,i,s){if(r=r===void 0?e:r,this._linear){const S=this.normal(0),C=this.points[0],E=this.points[this.points.length-1];let A,M,I;i===void 0&&(i=e,s=r),A={x:C.x+S.x*e,y:C.y+S.y*e},I={x:E.x+S.x*i,y:E.y+S.y*i},M={x:(A.x+I.x)/2,y:(A.y+I.y)/2};const O=[A,M,I];A={x:C.x-S.x*r,y:C.y-S.y*r},I={x:E.x-S.x*s,y:E.y-S.y*s},M={x:(A.x+I.x)/2,y:(A.y+I.y)/2};const F=[I,M,A],$=mt.makeline(F[2],O[0]),z=mt.makeline(O[2],F[0]),R=[$,new er(O),z,new er(F)];return new mv(R)}const o=this.reduce(),a=o.length,l=[];let c=[],u,d=0,h=this.length();const f=typeof i<"u"&&typeof s<"u";function p(S,C,E,A,M){return function(I){const O=A/E,F=(A+M)/E,$=C-S;return mt.map(I,0,1,S+O*$,S+F*$)}}o.forEach(function(S){const C=S.length();f?(l.push(S.scale(p(e,i,h,d,C))),c.push(S.scale(p(-r,-s,h,d,C)))):(l.push(S.scale(e)),c.push(S.scale(-r))),d+=C}),c=c.map(function(S){return u=S.points,u[3]?S.points=[u[3],u[2],u[1],u[0]]:S.points=[u[2],u[1],u[0]],S}).reverse();const m=l[0].points[0],b=l[a-1].points[l[a-1].points.length-1],y=c[a-1].points[c[a-1].points.length-1],v=c[0].points[0],w=mt.makeline(y,m),_=mt.makeline(b,v),x=[w].concat(l).concat([_]).concat(c);return new mv(x)}outlineshapes(e,r,i){r=r||e;const s=this.outline(e,r).curves,o=[];for(let a=1,l=s.length;a<l/2;a++){const c=mt.makeshape(s[a],s[l-a],i);c.startcap.virtual=a>1,c.endcap.virtual=a<l/2-1,o.push(c)}return o}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof er&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=Zie(e.p1.x,e.p2.x),i=Zie(e.p1.y,e.p2.y),s=ese(e.p1.x,e.p2.x),o=ese(e.p1.y,e.p2.y);return mt.roots(this.points,e).filter(a=>{var l=this.get(a);return mt.between(l.x,r,s)&&mt.between(l.y,i,o)})}selfintersects(e){const r=this.reduce(),i=r.length-2,s=[];for(let o=0,a,l,c;o<i;o++)l=r.slice(o,o+1),c=r.slice(o+2),a=this.curveintersects(l,c,e),s.push(...a);return s}curveintersects(e,r,i){const s=[];e.forEach(function(a){r.forEach(function(l){a.overlaps(l)&&s.push({left:a,right:l})})});let o=[];return s.forEach(function(a){const l=mt.pairiteration(a.left,a.right,i);l.length>0&&(o=o.concat(l))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,s){const o=(s-i)/4,a=this.get(i+o),l=this.get(s-o),c=mt.dist(e,r),u=mt.dist(e,a),d=mt.dist(e,l);return fy(u-c)+fy(d-c)}_iterate(e,r){let i=0,s=1,o;do{o=0,s=1;let a=this.get(i),l,c,u,d,h=!1,f=!1,p,m=s,b=1;do if(f=h,d=u,m=(i+s)/2,l=this.get(m),c=this.get(s),u=mt.getccenter(a,l,c),u.interval={start:i,end:s},h=this._error(u,a,i,s)<=e,p=f&&!h,p||(b=s),h){if(s>=1){if(u.interval.end=b=1,d=u,s>1){let v={x:u.x+u.r*Nht(u.e),y:u.y+u.r*jht(u.e)};u.e+=mt.angle({x:u.x,y:u.y},v,this.get(1))}break}s=s+(s-i)/2}else s=m;while(!p&&o++<100);if(o>=100)break;d=d||u,r.push(d),i=b}while(s<1);return r}}function DN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Fht(n){if(Array.isArray(n))return n}function $ht(n){if(Array.isArray(n))return DN(n)}function zht(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Uht(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Wht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hht(n,e){if(n==null)return{};var r,i,s=Vht(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Vht(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}function Ght(n,e){return Fht(n)||Uht(n,e)||qye(n,e)||Wht()}function Yht(n){return $ht(n)||zht(n)||qye(n)||qht()}function Kht(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Xht(n){var e=Kht(n,"string");return typeof e=="symbol"?e:e+""}function qye(n,e){if(n){if(typeof n=="string")return DN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DN(n,e):void 0}}var Qht=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),o=n.reduce(function(l,c){var u=l,d=c;return s.forEach(function(h,f){var p=h.keyAccessor,m=h.isProp,b;if(m){var y=d,v=y[p],w=Hht(y,[p].map(Xht));b=v,d=w}else b=p(d,f);f+1<s.length?(u.hasOwnProperty(b)||(u[b]={}),u=u[b]):r?(u.hasOwnProperty(b)||(u[b]=[]),u[b].push(d)):u[b]=d}),l},{});r instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===s.length?Object.keys(c).forEach(function(d){return c[d]=r(c[d])}):Object.values(c).forEach(function(d){return l(d,u+1)})}(o);var a=o;return i&&(a=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===s.length?a.push({keys:u,vals:c}):Object.entries(c).forEach(function(d){var h=Ght(d,2),f=h[0],p=h[1];return l(p,[].concat(Yht(u),[f]))})}(o),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a};function Jht(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var Zht=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;Jht(Zht);function RN(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function eft(n){if(Array.isArray(n))return n}function tft(n){if(Array.isArray(n))return RN(n)}function tse(n,e,r){if(Hye())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var s=new(n.bind.apply(n,i));return s}function Bw(n,e,r){return(e=aft(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Hye(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hye=function(){return!!n})()}function nft(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function rft(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function ift(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nse(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function gm(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nse(Object(r),!0).forEach(function(i){Bw(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):nse(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function gv(n,e){return eft(n)||rft(n,e)||Vye(n,e)||ift()}function Zo(n){return tft(n)||nft(n)||Vye(n)||sft()}function oft(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aft(n){var e=oft(n,"string");return typeof e=="symbol"?e:e+""}function NN(n){"@babel/helpers - typeof";return NN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NN(n)}function Vye(n,e){if(n){if(typeof n=="string")return RN(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RN(n,e):void 0}}var lft=mB(bVe);function rse(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=lft(e(i))})}function cft(n,e){var r=n.nodes,i=n.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.nodeFilter,a=o===void 0?function(){return!0}:o,l=s.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};r.forEach(function(p){return u[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),i.forEach(function(p){var m=p.source,b=p.target,y=x(m),v=x(b);if(!u.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!u.hasOwnProperty(v))throw"Missing target node with id: ".concat(v);var w=u[y],_=u[v];w.out.push(_);function x(S){return NN(S)==="object"?e(S):S}});var d=[];f(Object.values(u));var h=Object.assign.apply(Object,[{}].concat(Zo(Object.entries(u).filter(function(p){var m=gv(p,2),b=m[1];return!b.skip}).map(function(p){var m=gv(p,2),b=m[0],y=m[1];return Bw({},b,y.depth)}))));return h;function f(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var x=p[v];if(m.indexOf(x)!==-1){var S=[].concat(Zo(m.slice(m.indexOf(x))),[x]).map(function(C){return e(C.data)});return d.some(function(C){return C.length===S.length&&C.every(function(E,A){return E===S[A]})})||(d.push(S),c(S)),1}b>x.depth&&(x.depth=b,f(x.out,[].concat(Zo(m),[x]),b+(x.skip?0:1)))},v=0,w=p.length;v<w;v++)y()}}var uft=2,Fi=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},ise=function(e,r){if(!r.isShadow){var i=Tn(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var o=Math.round(Math.abs(i(s)));o?s.__photons=Zo(Array(o)).map(function(){return{}}):delete s.__photons})}},V2=OL({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,ise(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Fi},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Fi},nodeColor:{default:"color",triggerUpdate:!1,onChange:Fi},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Fi},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Fi},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Fi},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Fi},linkColor:{default:"color",triggerUpdate:!1,onChange:Fi},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Fi},linkWidth:{default:1,triggerUpdate:!1,onChange:Fi},linkCurvature:{default:0,triggerUpdate:!1,onChange:Fi},linkCanvasObject:{triggerUpdate:!1,onChange:Fi},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Fi},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Fi},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Fi},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Fi},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:ise},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),s(),!e.isShadow&&o(),!e.isShadow&&a(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var l=Tn(e.nodeVisibility),c=Tn(e.nodeVal),u=Tn(e.nodeColor),d=Tn(e.nodeCanvasObjectMode),h=e.ctx,f=e.isShadow/e.globalScale,p=e.graphData.nodes.filter(l);h.save(),p.forEach(function(m){var b=d(m);if(e.nodeCanvasObject&&(b==="before"||b==="replace")&&(e.nodeCanvasObject(m,h,e.globalScale),b==="replace")){h.restore();return}var y=Math.sqrt(Math.max(0,c(m)||1))*e.nodeRelSize+f;h.beginPath(),h.arc(m.x,m.y,y,0,2*Math.PI,!1),h.fillStyle=u(m)||"rgba(31, 120, 180, 0.92)",h.fill(),e.nodeCanvasObject&&b==="after"&&e.nodeCanvasObject(m,e.ctx,e.globalScale)}),h.restore()}function s(){var l=Tn(e.linkVisibility),c=Tn(e.linkColor),u=Tn(e.linkWidth),d=Tn(e.linkLineDash),h=Tn(e.linkCurvature),f=Tn(e.linkCanvasObjectMode),p=e.ctx,m=e.isShadow*2,b=e.graphData.links.filter(l);b.forEach(C);var y=[],v=[],w=b;if(e.linkCanvasObject){var _=[],x=[];b.forEach(function(E){return({before:y,after:v,replace:_}[f(E)]||x).push(E)}),w=[].concat(Zo(y),v,x),y=y.concat(_)}p.save(),y.forEach(function(E){return e.linkCanvasObject(E,p,e.globalScale)}),p.restore();var S=Qht(w,[c,u,d]);p.save(),Object.entries(S).forEach(function(E){var A=gv(E,2),M=A[0],I=A[1],O=!M||M==="undefined"?"rgba(0,0,0,0.15)":M;Object.entries(I).forEach(function(F){var $=gv(F,2),z=$[0],R=$[1],j=(z||1)/e.globalScale+m;Object.entries(R).forEach(function(N){var D=gv(N,2);D[0];var H=D[1],U=d(H[0]);p.beginPath(),H.forEach(function(X){var Y=X.source,ee=X.target;if(!(!Y||!ee||!Y.hasOwnProperty("x")||!ee.hasOwnProperty("x"))){p.moveTo(Y.x,Y.y);var G=X.__controlPoints;G?p[G.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,Zo(G).concat([ee.x,ee.y])):p.lineTo(ee.x,ee.y)}}),p.strokeStyle=O,p.lineWidth=j,p.setLineDash(U||[]),p.stroke()})})}),p.restore(),p.save(),v.forEach(function(E){return e.linkCanvasObject(E,p,e.globalScale)}),p.restore();function C(E){var A=h(E);if(!A){E.__controlPoints=null;return}var M=E.source,I=E.target;if(!(!M||!I||!M.hasOwnProperty("x")||!I.hasOwnProperty("x"))){var O=Math.sqrt(Math.pow(I.x-M.x,2)+Math.pow(I.y-M.y,2));if(O>0){var F=Math.atan2(I.y-M.y,I.x-M.x),$=O*A,z={x:(M.x+I.x)/2+$*Math.cos(F-Math.PI/2),y:(M.y+I.y)/2+$*Math.sin(F-Math.PI/2)};E.__controlPoints=[z.x,z.y]}else{var R=A*70;E.__controlPoints=[I.x,I.y-R,I.x+R,I.y]}}}}function o(){var l=1.6,c=.2,u=Tn(e.linkDirectionalArrowLength),d=Tn(e.linkDirectionalArrowRelPos),h=Tn(e.linkVisibility),f=Tn(e.linkDirectionalArrowColor||e.linkColor),p=Tn(e.nodeVal),m=e.ctx;m.save(),e.graphData.links.filter(h).forEach(function(b){var y=u(b);if(!(!y||y<0)){var v=b.source,w=b.target;if(!(!v||!w||!v.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var _=Math.sqrt(Math.max(0,p(v)||1))*e.nodeRelSize,x=Math.sqrt(Math.max(0,p(w)||1))*e.nodeRelSize,S=Math.min(1,Math.max(0,d(b))),C=f(b)||"rgba(0,0,0,0.28)",E=y/l/2,A=b.__controlPoints&&tse(er,[v.x,v.y].concat(Zo(b.__controlPoints),[w.x,w.y])),M=A?function(j){return A.get(j)}:function(j){return{x:v.x+(w.x-v.x)*j||0,y:v.y+(w.y-v.y)*j||0}},I=A?A.length():Math.sqrt(Math.pow(w.x-v.x,2)+Math.pow(w.y-v.y,2)),O=_+y+(I-_-x-y)*S,F=M(O/I),$=M((O-y)/I),z=M((O-y*(1-c))/I),R=Math.atan2(F.y-$.y,F.x-$.x)-Math.PI/2;m.beginPath(),m.moveTo(F.x,F.y),m.lineTo($.x+E*Math.cos(R),$.y+E*Math.sin(R)),m.lineTo(z.x,z.y),m.lineTo($.x-E*Math.cos(R),$.y-E*Math.sin(R)),m.fillStyle=C,m.fill()}}}),m.restore()}function a(){var l=Tn(e.linkDirectionalParticles),c=Tn(e.linkDirectionalParticleSpeed),u=Tn(e.linkDirectionalParticleOffset),d=Tn(e.linkDirectionalParticleWidth),h=Tn(e.linkVisibility),f=Tn(e.linkDirectionalParticleColor||e.linkColor),p=e.ctx;p.save(),e.graphData.links.filter(h).forEach(function(m){var b=l(m);if(!(!m.hasOwnProperty("__photons")||!m.__photons.length)){var y=m.source,v=m.target;if(!(!y||!v||!y.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var w=c(m),_=Math.abs(u(m)),x=m.__photons||[],S=Math.max(0,d(m)/2)/Math.sqrt(e.globalScale),C=f(m)||"rgba(0,0,0,0.28)";p.fillStyle=C;var E=m.__controlPoints?tse(er,[y.x,y.y].concat(Zo(m.__controlPoints),[v.x,v.y])):null,A=0,M=!1;x.forEach(function(I){var O=!!I.__singleHop;if(I.hasOwnProperty("__progressRatio")||(I.__progressRatio=O?0:(A+_)/b),!O&&A++,I.__progressRatio+=w,I.__progressRatio>=1)if(!O)I.__progressRatio=I.__progressRatio%1;else{M=!0;return}var F=I.__progressRatio,$=E?E.get(F):{x:y.x+(v.x-y.x)*F||0,y:y.y+(v.y-y.y)*F||0};e.linkDirectionalParticleCanvasObject?e.linkDirectionalParticleCanvasObject($.x,$.y,m,p,e.globalScale):(p.beginPath(),p.arc($.x,$.y,S,0,2*Math.PI,!1),p.fill())}),M&&(m.__photons=m.__photons.filter(function(I){return!I.__singleHop||I.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Pht().force("link",xht()).force("charge",Iht()).force("center",Fdt()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e,r){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&rse(e.graphData.nodes,Tn(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&rse(e.graphData.links,Tn(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(f){f.source=f[e.linkSource],f.target=f[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(f){return f[e.nodeId]}).links(e.graphData.links);var s=e.dagMode&&cft(e.graphData,function(f){return f[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,Zo(Object.values(s||[]))),a=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*uft*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(f){return delete f[l]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var c=["rl","bu"].includes(e.dagMode),u=function(p){return(s[p[e.nodeId]]-o/2)*a*(c?-1:1)},d=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(f){return f[d]=u(f)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?Mht(function(f){var p=s[f[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-p:p)*a}).strength(function(f){return e.dagNodeFilter(f)?1:0}):null);for(var h=0;h<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);h++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function Gye(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(l,c){r.forEach(function(u){return c[u][o](l)})},triggerUpdate:!1}},linkMethod:function(o){return function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var d=[];return r.forEach(function(h){var f=a[h],p=f[o].apply(f,c);p!==f&&d.push(p)}),d.length?d[0]:this}}}}var dft=800,hft=4,fft=5,Yye=Gye("forceGraph",V2),pft=Gye(["forceGraph","shadowGraph"],V2),mft=Object.assign.apply(Object,Zo(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return Bw({},n,Yye.linkProp(n))})).concat(Zo(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return Bw({},n,pft.linkProp(n))})))),gft=Object.assign.apply(Object,Zo(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return Bw({},n,Yye.linkMethod(n))})));function BD(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(o){o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),o.width=n.width*i,o.height=n.height*i,!e&&!r&&o.getContext("2d").scale(i,i)});var s=bl(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/s,(n.height-r)/2/s),n.needsRedraw=!0}}function Kye(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function sse(n,e,r){n.save(),Kye(n),n.clearRect(0,0,e,r),n.restore()}var bft=OL({props:gm({width:{default:window.innerWidth,onChange:function(e,r){return BD(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return BD(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[e.nodes,e.links].every(function(s){return(s||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(s){var o=s.type,a=s.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:o,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},mft),aliases:{stopAnimation:"pauseAnimation"},methods:gm({graph2ScreenCoords:function(e,r,i){var s=bl(e.canvas);return{x:r*s.k+s.x,y:i*s.k+s.y}},screen2GraphCoords:function(e,r,i){var s=bl(e.canvas);return{x:(r-s.x)/s.k,y:(i-s.y)/s.k}},centerAt:function(e,r,i,s){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return s?e.tweenGroup.add(new Iie(a()).to(o,s).easing(Lf.Quadratic.Out).onUpdate(l).start()):l(o),this}return a();function a(){var c=bl(e.canvas);return{x:(e.width/2-c.x)/c.k,y:(e.height/2-c.y)/c.k}}function l(c){var u=c.x,d=c.y;e.zoom.translateTo(e.zoom.__baseElem,u===void 0?a().x:u,d===void 0?a().y:d),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?e.tweenGroup.add(new Iie({k:s()}).to({k:r},i).easing(Lf.Quadratic.Out).onUpdate(function(a){var l=a.k;return o(l)}).start()):o(r),this;return s();function s(){return bl(e.canvas).k}function o(a){e.zoom.scaleTo(e.zoom.__baseElem,a),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,o);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(l.x[1]-l.x[0]),(e.height-i*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(u,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=Tn(e.nodeVal),s=function(l){return Math.sqrt(Math.max(0,i(l)||1))*e.nodeRelSize},o=e.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:s(a)}});return o.length?{x:[IH(o,function(a){return a.x-a.r}),PH(o,function(a){return a.x+a.r})],y:[IH(o,function(a){return a.y-a.r}),PH(o,function(a){return a.y+a.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},gft),stateInit:function(){return{lastSetZoom:1,zoom:kVe(),forceGraph:new V2,shadowGraph:new V2().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new bdt,tweenGroup:new wye}},init:function(e,r){var i=this;e.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",e.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},c=function(){var h=null,f=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*f,l.y*f,1,1):null;return p&&(h=r.colorTracker.lookup(p.data)),h};qi(r.canvas).call(qWe().subject(function(){if(!r.enableNodeDrag)return null;var d=c();return d&&d.type==="Node"?d.d:null}).on("start",function(d){var h=d.subject;h.__initialDragPos={x:h.x,y:h.y,fx:h.fx,fy:h.fy},d.active||(h.fx=h.x,h.fy=h.y),r.canvas.classList.add("grabbable")}).on("drag",function(d){var h=d.subject,f=h.__initialDragPos,p=d,m=bl(r.canvas).k,b={x:f.x+(p.x-f.x)/m-h.x,y:f.y+(p.y-f.y)/m-h.y};["x","y"].forEach(function(y){return h["f".concat(y)]=h[y]=f[y]+(p[y]-f[y])/m}),!(!h.__dragged&&fft>=Math.sqrt(Kze(["x","y"].map(function(y){return Math.pow(d[y]-f[y],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,h.__dragged=!0,r.onNodeDrag(h,b))}).on("end",function(d){var h=d.subject,f=h.__initialDragPos,p={x:h.x-f.x,y:h.y-f.y};f.fx===void 0&&(h.fx=void 0),f.fy===void 0&&(h.fy=void 0),delete h.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,h.__dragged&&(delete h.__dragged,r.onNodeDragEnd(h,p))})),r.zoom(r.zoom.__baseElem=qi(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(d){return!d.button&&r.enableZoomPanInteraction&&(d.type!=="wheel"||Tn(r.enableZoomInteraction)(d))&&(d.type==="wheel"||Tn(r.enablePanInteraction)(d))}).on("zoom",function(d){var h=d.transform;[o,a].forEach(function(f){Kye(f),f.translate(h.x,h.y),f.scale(h.k,h.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(gm(gm({},h),i.centerAt())),r.needsRedraw=!0}).on("end",function(d){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(gm(gm({},d.transform),i.centerAt()))}),BD(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){bl(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=hft/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Ldt(s),["pointermove","pointerdown"].forEach(function(d){return s.addEventListener(d,function(h){d==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=h),!r.isPointerDragging&&h.type==="pointermove"&&r.onBackgroundClick&&(h.pressure>0||r.isPointerPressed)&&(h.pointerType==="mouse"||h.movementX===void 0||[h.movementX,h.movementY].some(function(m){return Math.abs(m)>1}))&&(r.isPointerDragging=!0);var f=p(s);l.x=h.pageX-f.left,l.y=h.pageY-f.top;function p(m){var b=m.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,v=window.pageYOffset||document.documentElement.scrollTop;return{top:b.top+v,left:b.left+y}}},{passive:!0})}),s.addEventListener("pointerup",function(d){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var h=[d,r.pointerDownEvent];requestAnimationFrame(function(){if(d.button===0)if(r.hoverObj){var f=r["on".concat(r.hoverObj.type,"Click")];f&&f.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,h);if(d.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,h)})}},{passive:!0}),s.addEventListener("contextmenu",function(d){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(d.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(a);var u=kut(function(){sse(a,r.width,r.height),r.shadowGraph.linkWidth(function(h){return Tn(r.linkWidth)(h)+r.linkHoverPrecision});var d=bl(r.canvas);r.shadowGraph.globalScale(d.k).tickFrame()},dft);r.flushShadowCanvas=u.flush,(this._animationCycle=function d(){var h=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(_){return _.__photons&&_.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var f=r.isPointerDragging?null:c();if(f!==r.hoverObj){var p=r.hoverObj,m=p?p.type:null,b=f?f.type:null;if(m&&m!==b){var y=r["on".concat(m,"Hover")];y&&y(null,p.d)}if(b){var v=r["on".concat(b,"Hover")];v&&v(f.d,m===b?p.d:null)}r.tooltip.content(f&&Tn(r["".concat(f.type.toLowerCase(),"Label")])(f.d)||null),r.canvas.classList[(f&&r["on".concat(b,"Click")]||!f&&r.onBackgroundClick)&&Tn(r.showPointerCursor)(f==null?void 0:f.d)?"add":"remove"]("clickable"),r.hoverObj=f}h&&u()}if(h){sse(o,r.width,r.height);var w=bl(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,w),r.forceGraph.globalScale(w).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,w)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(d)})()},update:function(e){}});const l6={width:we.number,height:we.number,graphData:we.shape({nodes:we.arrayOf(we.object).isRequired,links:we.arrayOf(we.object).isRequired}),backgroundColor:we.string,nodeRelSize:we.number,nodeId:we.string,nodeLabel:we.oneOfType([we.string,we.func]),nodeVal:we.oneOfType([we.number,we.string,we.func]),nodeVisibility:we.oneOfType([we.bool,we.string,we.func]),nodeColor:we.oneOfType([we.string,we.func]),nodeAutoColorBy:we.oneOfType([we.string,we.func]),onNodeHover:we.func,onNodeClick:we.func,linkSource:we.string,linkTarget:we.string,linkLabel:we.oneOfType([we.string,we.func]),linkVisibility:we.oneOfType([we.bool,we.string,we.func]),linkColor:we.oneOfType([we.string,we.func]),linkAutoColorBy:we.oneOfType([we.string,we.func]),linkWidth:we.oneOfType([we.number,we.string,we.func]),linkCurvature:we.oneOfType([we.number,we.string,we.func]),linkDirectionalArrowLength:we.oneOfType([we.number,we.string,we.func]),linkDirectionalArrowColor:we.oneOfType([we.string,we.func]),linkDirectionalArrowRelPos:we.oneOfType([we.number,we.string,we.func]),linkDirectionalParticles:we.oneOfType([we.number,we.string,we.func]),linkDirectionalParticleSpeed:we.oneOfType([we.number,we.string,we.func]),linkDirectionalParticleOffset:we.oneOfType([we.number,we.string,we.func]),linkDirectionalParticleWidth:we.oneOfType([we.number,we.string,we.func]),linkDirectionalParticleColor:we.oneOfType([we.string,we.func]),onLinkHover:we.func,onLinkClick:we.func,dagMode:we.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:we.number,dagNodeFilter:we.func,onDagError:we.func,d3AlphaMin:we.number,d3AlphaDecay:we.number,d3VelocityDecay:we.number,warmupTicks:we.number,cooldownTicks:we.number,cooldownTime:we.number,onEngineTick:we.func,onEngineStop:we.func,getGraphBbox:we.func},Xye={zoomToFit:we.func,onNodeRightClick:we.func,onNodeDrag:we.func,onNodeDragEnd:we.func,onLinkRightClick:we.func,linkHoverPrecision:we.number,onBackgroundClick:we.func,onBackgroundRightClick:we.func,showPointerCursor:we.oneOfType([we.bool,we.func]),enablePointerInteraction:we.bool,enableNodeDrag:we.bool},FL={showNavInfo:we.bool,nodeOpacity:we.number,nodeResolution:we.number,nodeThreeObject:we.oneOfType([we.object,we.string,we.func]),nodeThreeObjectExtend:we.oneOfType([we.bool,we.string,we.func]),nodePositionUpdate:we.func,linkOpacity:we.number,linkResolution:we.number,linkCurveRotation:we.oneOfType([we.number,we.string,we.func]),linkMaterial:we.oneOfType([we.object,we.string,we.func]),linkThreeObject:we.oneOfType([we.object,we.string,we.func]),linkThreeObjectExtend:we.oneOfType([we.bool,we.string,we.func]),linkPositionUpdate:we.func,linkDirectionalArrowResolution:we.number,linkDirectionalParticleResolution:we.number,linkDirectionalParticleThreeObject:we.oneOfType([we.object,we.string,we.func]),forceEngine:we.oneOf(["d3","ngraph"]),ngraphPhysics:we.object,numDimensions:we.oneOf([1,2,3])},yft=Object.assign({},l6,Xye,{linkLineDash:we.oneOfType([we.arrayOf(we.number),we.string,we.func]),nodeCanvasObjectMode:we.oneOfType([we.string,we.func]),nodeCanvasObject:we.func,nodePointerAreaPaint:we.func,linkCanvasObjectMode:we.oneOfType([we.string,we.func]),linkCanvasObject:we.func,linkPointerAreaPaint:we.func,linkDirectionalParticleCanvasObject:we.func,autoPauseRedraw:we.bool,minZoom:we.number,maxZoom:we.number,enableZoomInteraction:we.oneOfType([we.bool,we.func]),enablePanInteraction:we.oneOfType([we.bool,we.func]),onZoom:we.func,onZoomEnd:we.func,onRenderFramePre:we.func,onRenderFramePost:we.func});Object.assign({},l6,Xye,FL,{enableNavigationControls:we.bool,controlType:we.oneOf(["trackball","orbit","fly"]),rendererConfig:we.object,extraRenderers:we.arrayOf(we.shape({render:we.func.isRequired}))});Object.assign({},l6,FL,{nodeDesc:we.oneOfType([we.string,we.func]),linkDesc:we.oneOfType([we.string,we.func])});Object.assign({},l6,FL,{markerAttrs:we.object,yOffset:we.number,glScale:we.number});const $L=Qct(bft,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});$L.displayName="ForceGraph2D";$L.propTypes=yft;function vft(){const[n,e]=T.useState(lh),[r,i]=T.useState(()=>localStorage.getItem("authToken")||""),[s,o]=T.useState(iE),[a,l]=T.useState(""),[c,u]=T.useState(""),[d,h]=T.useState(!1),[f,p]=T.useState([]),[m,b]=T.useState(!1),[y,v]=T.useState(!1),[w,_]=T.useState(!1),[x,S]=T.useState(""),[C,E]=T.useState(""),[A,M]=T.useState(""),[I,O]=T.useState(""),[F,$]=T.useState("list"),[z,R]=T.useState(()=>FG()),[j,N]=T.useState([]),[D,H]=T.useState(null),U=T.useRef(null),X=T.useRef(null),Y=T.useRef(0),ee=T.useRef(null),G=T.useRef(null),Z=T.useRef(null),pe=T.useRef(!1),re=(Ve,rt="success",q="consensus_flat")=>{const te={id:Y.current++,timestamp:Date.now(),event:Ve,type:rt,eventSource:q};p(ve=>[te,...ve].slice(0,200))},le=T.useRef(new Set);T.useEffect(()=>{if(f.length===0)return;const Ve=f.filter(te=>!le.current.has(te.id));if(Ve.length===0)return;Ve.forEach(te=>le.current.add(te.id));const rt=Ve.map(te=>te.event).filter(te=>"data"in te&&te.data&&typeof te.data=="object"&&"type"in te.data),q=z;rt.length>0&&WJe(rt,q,te=>{N(ve=>{const xe=[...ve,...te].filter((he,se,ke)=>ke.findIndex(Re=>Re.id===he.id)===se),fe=Date.now()/1e3-7200,K=xe.filter(he=>he.timestamp>=fe);return K.length>5e3?K.slice(-5e3):K})})},[f]),T.useEffect(()=>()=>{$G(z),G.current&&(G.current.destroy(),G.current=null),Z.current&&(clearInterval(Z.current),Z.current=null),le.current.clear()},[]),T.useEffect(()=>(Z.current=window.setInterval(()=>{NJe(z,3e4)},3e4),()=>{Z.current&&(clearInterval(Z.current),Z.current=null)}),[]);const ce=async()=>{if(!w){_(!0),re({event_type:"info",data:{id:"connection",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connecting",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info");try{const Ve=new URL(n);if(Ve.protocol!=="ws:"&&Ve.protocol!=="wss:")throw new Error("URL must use ws:// or wss:// protocol")}catch{re({event_type:"error",data:{id:"connection-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error"),_(!1);return}if(X.current)try{X.current.disconnect()}catch{}if(U.current)try{U.current.disconnect()}catch{}try{U.current||(U.current=new y0({url:n,authToken:r||void 0,walletAddress:void 0,deviceID:s||void 0})),X.current=new cpe(U.current.getWebSocketClient()),X.current.onStateChange(Ve=>{Ve===Dt.Connected?(h(!0),pe.current&&(console.warn("[ExplorerTestPage] Reconnected - history may be incomplete"),pe.current=!1),re({event_type:"info",data:{id:"connection-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success")):(Ve===Dt.Disconnected||Ve===Dt.Reconnecting)&&(h(!1),b(!1),v(!1),pe.current=!0)}),U.current.isConnected()?X.current.getState()===Dt.Connected&&(h(!0),re({event_type:"info",data:{id:"connection-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success")):await U.current.connect()}catch{re({event_type:"error",data:{id:"connection-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error"),h(!1)}finally{_(!1)}}},Pe=()=>{if(X.current)try{X.current.disconnect()}catch{}h(!1),b(!1),v(!1),re({event_type:"info",data:{id:"disconnected",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"disconnected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info")},Ee=()=>{var rt;if(!((rt=X.current)!=null&&rt.isConnected())){re({event_type:"error",data:{id:"subscription-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error");return}const Ve=q=>{re(q,"success","consensus_flat")};try{const q={};a&&(q.shard_id=a),c&&(q.event_type=c),X.current.subscribeConsensusFlat(Ve,Object.keys(q).length>0?q:void 0),b(!0),re({event_type:"info",data:{id:"subscription-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"subscribed",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success","consensus_flat")}catch{re({event_type:"error",data:{id:"subscription-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","consensus_flat")}},V=()=>{var Ve;if((Ve=X.current)!=null&&Ve.isConnected())try{X.current.unsubscribeConsensusFlat(),b(!1),re({event_type:"info",data:{id:"unsubscribed",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"unsubscribed",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info","consensus_flat")}catch{re({event_type:"error",data:{id:"unsubscribe-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","consensus_flat")}},Ae=()=>{var rt;if(!((rt=X.current)!=null&&rt.isConnected())){re({event_type:"error",data:{hash:"",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions");return}const Ve=q=>{re(q,"success","transactions")};try{const q={};x&&(q.address=x),C&&(q.txhash=C),A&&(q.tx_types=A.split(",").map(te=>te.trim()).filter(Boolean)),I&&(q.event_types=I.split(",").map(te=>te.trim()).filter(Boolean)),a&&(q.shard_id=a),X.current.subscribeTransactions(Ve,Object.keys(q).length>0?q:void 0),v(!0),re({event_type:"info",data:{hash:"subscription-success",status:"subscribed"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success","transactions")}catch{re({event_type:"error",data:{hash:"subscription-error",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions")}},Qe=()=>{var Ve;if((Ve=X.current)!=null&&Ve.isConnected())try{X.current.unsubscribeTransactions(),v(!1),re({event_type:"info",data:{hash:"unsubscribed",status:"unsubscribed"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info","transactions")}catch{re({event_type:"error",data:{hash:"unsubscribe-error",status:"error"},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error","transactions")}},st=()=>{p([]),N([]),$G(z),R(FG()),H(null),le.current.clear()},ze=()=>{d?Pe():ce()},wt=()=>{m?V():Ee()},qe=()=>{y?Qe():Ae()};T.useEffect(()=>{if(F!=="timeline"){G.current&&(G.current.destroy(),G.current=null);return}if(!ee.current||j.length===0)return;G.current&&(G.current.destroy(),G.current=null);const Ve=setTimeout(()=>{if(!ee.current)return;const rt=qJe(j),q=Array.from(new Set(rt.map(ve=>ve.group||"root"))).map(ve=>({id:ve,content:ve})),te={height:"500px",zoomable:!0,moveable:!0,selectable:!0,onSelect:ve=>{ve.items&&ve.items.length>0&&H(ve.items[0])}};G.current=new ML(ee.current,rt,q,te)},0);return()=>{clearTimeout(Ve),G.current&&(G.current.destroy(),G.current=null)}},[F,j]);const[Je,yt]=T.useState(()=>typeof window<"u"?window.innerWidth-100:800);T.useEffect(()=>{if(F!=="graph")return;const Ve=()=>{yt(window.innerWidth-100)};return window.addEventListener("resize",Ve),()=>window.removeEventListener("resize",Ve)},[F]);const ct=T.useMemo(()=>F!=="graph"?{nodes:[],links:[]}:HJe(j,D||void 0,5),[F,j,D]),Ze=T.useMemo(()=>D?j.find(Ve=>Ve.id===D):null,[D,j]);return g.jsxs("div",{className:"explorer-test-page",children:[g.jsxs("div",{className:"explorer-test-header",children:[g.jsx("h2",{children:"Consensus Explorer Test"}),g.jsx("p",{children:"Test the consensus_flat WebSocket channel to view flattened consensus events from Morpheum's DAG-based consensus system."})]}),g.jsx(wJe,{wsURL:n,setWsURL:e,authToken:r,setAuthToken:i,deviceID:s,setDeviceID:o,shardId:a,setShardId:l,eventType:c,setEventType:u,txAddress:x,setTxAddress:S,txHash:C,setTxHash:E,txTypes:A,setTxTypes:M,txEventTypes:I,setTxEventTypes:O}),g.jsxs("div",{className:"explorer-test-controls",children:[g.jsxs("div",{className:"control-buttons",children:[g.jsx(Xu,{onClick:ze,disabled:w,variant:d?"secondary":"primary",children:w?"Connecting...":d?"Disconnect":"Connect"}),g.jsx(Xu,{onClick:wt,disabled:!d,variant:m?"secondary":"primary",children:m?"Unsubscribe Consensus":"Subscribe Consensus"}),g.jsx(Xu,{onClick:qe,disabled:!d,variant:y?"secondary":"primary",children:y?"Unsubscribe Transactions":"Subscribe Transactions"}),g.jsx(Xu,{onClick:st,variant:"secondary",children:"Clear Events"})]}),g.jsxs("div",{className:"connection-status",children:[g.jsx("span",{className:`status-indicator ${d?"connected":"disconnected"}`,children:d?" Connected":" Disconnected"}),m&&g.jsx("span",{className:"status-indicator subscribed",children:" Subscribed to consensus_flat"}),y&&g.jsx("span",{className:"status-indicator subscribed",children:" Subscribed to transactions"}),g.jsxs("span",{className:"event-count",children:["Events: ",f.length]}),g.jsxs("span",{className:"event-count",children:["DAG Nodes: ",j.length]})]})]}),g.jsxs("div",{className:"view-controls",children:[g.jsx(Xu,{onClick:()=>$("list"),variant:F==="list"?"primary":"secondary",children:"List View"}),g.jsx(Xu,{onClick:()=>$("timeline"),variant:F==="timeline"?"primary":"secondary",children:"Timeline View"}),g.jsxs(Xu,{onClick:()=>$("graph"),variant:F==="graph"?"primary":"secondary",disabled:j.length>100&&!D,children:["Graph View ",j.length>100&&!D?"(Select node first)":""]})]}),F==="timeline"&&g.jsxs("div",{className:"dag-timeline-container",children:[g.jsx("div",{ref:ee,style:{height:"500px",border:"1px solid var(--border)"}}),j.length===0&&g.jsx("div",{className:"empty-state",children:g.jsx("p",{children:"No DAG nodes to display. Connect and subscribe to start receiving events."})})]}),F==="graph"&&g.jsx("div",{className:"dag-graph-container",children:g.jsx(T.Suspense,{fallback:g.jsx("div",{className:"loading-state",children:"Loading graph..."}),children:ct.nodes.length>0?g.jsx($L,{graphData:ct,nodeLabel:Ve=>`${Ve.label}
Type: ${Ve.type}
Shard: ${Ve.shardId}`,nodeColor:Ve=>Ve.type==="vertex"?"#3b82f6":Ve.type==="tx"?"#10b981":"#f59e0b",linkDirectionalArrowLength:6,linkDirectionalArrowRelPos:1,linkColor:()=>"rgba(255, 255, 255, 0.3)",onNodeClick:Ve=>H(Ve.id),nodeCanvasObjectMode:()=>"after",nodeCanvasObject:(Ve,rt)=>{Ve.id===D&&(rt.beginPath(),rt.arc(Ve.x||0,Ve.y||0,8,0,2*Math.PI),rt.fillStyle="#f0f63b",rt.fill(),rt.strokeStyle="#f0f63b",rt.lineWidth=2,rt.stroke())},height:500,width:Je}):g.jsx("div",{className:"empty-state",children:g.jsx("p",{children:j.length===0?"No DAG nodes to display. Connect and subscribe to start receiving events.":j.length>100?"Graph view requires node selection for large datasets. Click a node in timeline view first.":"No graph data available."})})})}),F==="list"&&g.jsx(PJe,{events:f}),D&&Ze&&g.jsxs("div",{className:"dag-details-pane",children:[g.jsxs("h3",{children:["Node Details: ",D]}),g.jsxs("div",{className:"detail-section",children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Type:"}),g.jsx("span",{className:"detail-value",children:Ze.nodeType})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Timestamp:"}),g.jsx("span",{className:"detail-value",children:new Date(Ze.timestamp*1e3).toLocaleString()})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Shard ID:"}),g.jsx("span",{className:"detail-value",children:Ze.shardId})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Parents:"}),g.jsx("span",{className:"detail-value",children:Ze.parents.length})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Children:"}),g.jsx("span",{className:"detail-value",children:Ze.children.length})]}),g.jsxs("details",{className:"raw-data-details",children:[g.jsx("summary",{children:"View Raw Data"}),g.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(Ze.data,null,2)})]})]}),g.jsx("div",{style:{marginTop:"10px"},children:g.jsx(Xu,{onClick:()=>H(null),variant:"secondary",children:"Close Details"})})]})]})}const wft=T.createContext(void 0),my="onboard_mnemonic",gy="onboard_wallet_address",xft=({children:n})=>{const[e,r]=T.useState(null),[i,s]=T.useState(null);T.useEffect(()=>{const c=localStorage.getItem(gy),u=localStorage.getItem(my),d=localStorage.getItem("generatedAddress"),h=localStorage.getItem("mnemonic");c&&u?(r(c),s(u)):d&&h&&(r(d),s(h),localStorage.setItem(gy,d),localStorage.setItem(my,h),localStorage.removeItem("generatedAddress"),localStorage.removeItem("mnemonic"))},[]),T.useEffect(()=>{const c=u=>{u.key===gy?r(u.newValue):u.key===my&&s(u.newValue)};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[]);const o=T.useCallback((c,u)=>{r(c),s(u),localStorage.setItem(gy,c),localStorage.setItem(my,u)},[]),a=T.useCallback(()=>{r(null),s(null),localStorage.removeItem(gy),localStorage.removeItem(my)},[]),l=T.useMemo(()=>({generatedAddress:e,mnemonic:i,setGeneratedData:o,clearGeneratedData:a}),[e,i,o,a]);return g.jsx(wft.Provider,{value:l,children:n})},_ft={"/":"main","/main":"main","/sdk-test":"sdk-test","/websocket-test":"websocket-test","/layout-test":"layout-test","/hooks-test":"hooks-test","/trading-test":"trading-test","/swap-test":"swap-test","/explorer-test":"explorer-test"},ose={main:"/","sdk-test":"/sdk-test","websocket-test":"/websocket-test","layout-test":"/layout-test","hooks-test":"/hooks-test","trading-test":"/trading-test","swap-test":"/swap-test","explorer-test":"/explorer-test"};function ase(){const n=window.location.pathname;return _ft[n]||"main"}const Sft=[{id:"Id8oZS95KxQ",name:"Summer Wave"},{id:"y9PTNTSpGJs",name:"Wave Ocean"},{id:"KkX9LfqeOF4",name:"Morph Lava"},{id:"bx-0YlFprqc",name:"DAG Rev."},{id:"eCHaiEjCDFM",name:"Black Swarm 1"},{id:"Tbw3w0RA0WU",name:"Lofi Leon Skyline"},{id:"tjetD2pFK4A",name:"Lofi Sinth Skyline"},{id:"aG01KIXWrbU",name:"Lofi Doom Skyline"},{id:"ZWyv_w_cFiw",name:"Deep Cybercity Japan"},{id:"wVqeChtoY_k",name:"Synthwave"},{id:"0KgxkD1u-TI",name:"City Travel"},{id:"wyxxPTFfdi8",name:"Pearl Liquid"},{id:"ytXX67Ghies",name:"Smoke Liquid"},{id:"aYEg66Egjo0",name:"Home Hollywood"},{id:"AfSWldaT-AE",name:"Mega Hollywood"},{id:"0JQkT1FxhEc",name:"GT7 Audi RS 5 Turbo DTM"},{id:"VZyzqGgEhZc",name:"Forza Fujimi Kaido"},{id:"UYJIqBZENjU",name:"RC "},{id:"BQL-CP8d1-o",name:"RC Iron Menace"},{id:"oAJLKDMihnU",name:"RC Knoebels Amusement Park"},{id:"JggE0FYV_Ys",name:"RC  "},{id:"2GVmvtVA5p8",name:"RC Unlimited"},{id:"q-70DtTlkKU",name:"RC King Kong River"},{id:"4Uq9Hk3E7hs",name:"Ballance Twilight Zone"},{id:"WCOKSsygnxM",name:"Ballance 2004 Zone"},{id:"ZP4d40DV7K0",name:"Ballance 210522 Zone"},{id:"NfxnqErfkL8",name:"Dying Light Zone"}],by=["main","sdk-test","websocket-test","hooks-test","layout-test","trading-test","swap-test","explorer-test"];function lse(){const{wasmStatus:n,isReady:e}=$je(),[r,i]=T.useState(ase()),[s,o]=T.useState(!1),[a,l]=T.useState("Id8oZS95KxQ"),c=T.useRef(null),u="/s0203.mp3",d=T.useRef(null),h=T.useRef(null),f=T.useRef(null);T.useEffect(()=>{const C=window.location.pathname,E=ose[r];C!==E&&window.history.replaceState({page:r},"",E)},[]),T.useEffect(()=>{const C=()=>{i(ase())};return window.addEventListener("popstate",C),()=>{window.removeEventListener("popstate",C)}},[]);const p=C=>{i(C);const E=ose[C];window.history.pushState({page:C},"",E)};T.useEffect(()=>{const C=()=>{p("websocket-test")};return window.addEventListener("navigateToWebSocketTest",C),()=>{window.removeEventListener("navigateToWebSocketTest",C)}},[]);const m=C=>{const E=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,A=C.match(E);return A&&A[2].length===11?A[2]:C},b=()=>{o(!s)};T.useEffect(()=>{c.current&&(s?c.current.play().catch(C=>{console.error("Error playing background music:",C)}):c.current.pause())},[s]);const y=C=>{const E=by.indexOf(C);return E===-1||E===by.length-1?null:by[E+1]},v=C=>{const E=by.indexOf(C);return E===-1||E===0?null:by[E-1]},w=()=>window.innerWidth<=768,_=C=>{if(!w())return;const E=C.touches[0];d.current=E.clientX,h.current=E.clientY},x=C=>{if(!w()||d.current===null)return;const E=C.touches[0],A=Math.abs(E.clientX-(d.current||0)),M=Math.abs(E.clientY-(h.current||0));A>M&&A>10&&C.preventDefault()},S=C=>{if(!w()||d.current===null||h.current===null){d.current=null,h.current=null;return}const E=C.changedTouches[0],A=E.clientX-d.current,M=E.clientY-h.current,I=Math.abs(A),O=Math.abs(M);if(I>50&&I>O)if(A>0){const $=v(r);$&&p($)}else{const $=y(r);$&&p($)}d.current=null,h.current=null};return g.jsxs(xft,{children:[g.jsxs("div",{className:`App ${s?"video-background-enabled":""}`,children:[g.jsx("audio",{ref:c,src:u,loop:!0,preload:"auto",crossOrigin:"anonymous"}),s&&g.jsxs("div",{className:"video-background-container",children:[g.jsx("iframe",{className:"video-background",src:`https://www.youtube.com/embed/${m(a)}?autoplay=1&mute=1&loop=1&playlist=${m(a)}&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1`,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"Background Video"},a),g.jsx("div",{className:"video-background-overlay"})]}),g.jsxs("div",{className:"video-background-controls",children:[g.jsx("select",{className:"video-background-select",value:a,onChange:C=>l(C.target.value),disabled:!s,title:"Select Video Background",children:Sft.map(C=>g.jsx("option",{value:C.id,children:C.name},C.id))}),g.jsx("button",{className:"video-background-toggle",onClick:b,title:s?"Disable Video Background":"Enable Video Background",children:s?"":""})]}),g.jsxs("header",{className:"App-header",children:[g.jsx("h3",{children:"SDK, Testing, QA"}),g.jsxs("nav",{children:[g.jsx("button",{onClick:()=>p("main"),className:`nav-button ${r==="main"?"active":""}`,children:"Morm Signer"}),g.jsx("button",{onClick:()=>p("sdk-test"),className:`nav-button ${r==="sdk-test"?"active":""}`,children:"SDK Trade API"}),g.jsx("button",{onClick:()=>p("websocket-test"),className:`nav-button ${r==="websocket-test"?"active":""}`,children:"WebSocket Test"}),g.jsx("button",{onClick:()=>p("hooks-test"),className:`nav-button ${r==="hooks-test"?"active":""}`,children:"Hooks Test"}),g.jsx("button",{onClick:()=>p("layout-test"),className:`nav-button ${r==="layout-test"?"active":""}`,children:"Layout Test"}),g.jsx("button",{onClick:()=>p("trading-test"),className:`nav-button ${r==="trading-test"?"active":""}`,children:"Trading Test"}),g.jsx("button",{onClick:()=>p("swap-test"),className:`nav-button ${r==="swap-test"?"active":""}`,children:"Swap Test"}),g.jsx("button",{onClick:()=>p("explorer-test"),className:`nav-button ${r==="explorer-test"?"active":""}`,children:"Explorer Test"})]})]}),g.jsx("main",{ref:f,className:"App-main",onTouchStart:_,onTouchMove:x,onTouchEnd:S,children:r==="sdk-test"?g.jsx(h9e,{}):r==="websocket-test"?g.jsx(x9e,{}):r==="layout-test"?g.jsx(Ize,{}):r==="hooks-test"?g.jsx(DVe,{}):r==="trading-test"?g.jsx(yJe,{}):r==="swap-test"?g.jsx(vJe,{}):r==="explorer-test"?g.jsx(vft,{}):g.jsxs(g.Fragment,{children:[g.jsx("h1",{children:"Morm SDK"}),g.jsx("p",{children:"Test WebAssembly integration for morm_signer with Agent Delegation"}),g.jsx(X7e,{status:n}),e&&g.jsxs("div",{className:"App-content gridarrangement",children:[g.jsx("div",{className:"App-section",children:g.jsx(V7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(G7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(Y7e,{})}),g.jsx("div",{className:"App-section",children:g.jsx(K7e,{})})]}),n.error&&g.jsxs("div",{className:"App-error",children:[g.jsx("h3",{children:"Error Loading WASM"}),g.jsx("p",{children:n.error}),g.jsx("p",{children:"Make sure the morm_signer.wasm file is available in the public directory."})]})]})})]}),g.jsx(_9e,{position:"bottom-right",toastOptions:{duration:4e3,style:{color:"var(--foreground)",border:"1px solid var(--border)"}}})]})}const kft=()=>{var n;return typeof window>"u"?!1:((n=window.ethereum)==null?void 0:n.isRainbow)===!0},cse=kft()?g8e({appName:"Morpheum DEX",projectId:"892c8c1d9d78f8ec09adb7799d846b78",chains:[rg,S5],ssr:!1}):zue({chains:[rg,S5],connectors:[hx({})],transports:{[rg.id]:ER(),[S5.id]:ER()}}),use=new TSe,Cft=()=>{var n;return typeof window>"u"?!1:((n=window.ethereum)==null?void 0:n.isRainbow)===!0},Eft=LD.createRoot(document.getElementById("root")),Aft=()=>Cft()?g.jsx(Vz,{config:cse,children:g.jsx(N$,{client:use,children:g.jsx(jOe,{children:g.jsx(lse,{})})})}):g.jsx(Vz,{config:cse,children:g.jsx(N$,{client:use,children:g.jsx(lse,{})})});Eft.render(g.jsx(B.StrictMode,{children:g.jsx(Aft,{})}));const Tft=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Pft=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),dse=Object.freeze(Object.defineProperty({__proto__:null,default:MR},Symbol.toStringTag,{value:"Module"}));export{nt as B,Ky as H,gCe as a,Vl as b,SC as c,tCe as d,bp as e,Ul as f,Wj as g,CC as i,vC as l,hi as s};
//# sourceMappingURL=index-7KFYq1SA.js.map
